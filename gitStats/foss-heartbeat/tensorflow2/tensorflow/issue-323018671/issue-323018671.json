{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19280", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19280/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19280/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19280/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19280", "id": 323018671, "node_id": "MDU6SXNzdWUzMjMwMTg2NzE=", "number": 19280, "title": "cuda libraries cannot be found during linking", "user": {"login": "igory1999", "id": 599149, "node_id": "MDQ6VXNlcjU5OTE0OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/599149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igory1999", "html_url": "https://github.com/igory1999", "followers_url": "https://api.github.com/users/igory1999/followers", "following_url": "https://api.github.com/users/igory1999/following{/other_user}", "gists_url": "https://api.github.com/users/igory1999/gists{/gist_id}", "starred_url": "https://api.github.com/users/igory1999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igory1999/subscriptions", "organizations_url": "https://api.github.com/users/igory1999/orgs", "repos_url": "https://api.github.com/users/igory1999/repos", "events_url": "https://api.github.com/users/igory1999/events{/privacy}", "received_events_url": "https://api.github.com/users/igory1999/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-05-14T23:43:17Z", "updated_at": "2018-06-22T16:11:51Z", "closed_at": "2018-06-22T16:11:51Z", "author_association": "NONE", "body_html": "<p>Hi All,</p>\n<p>I am trying to build tensorflow 1.8 with bazel 0.13, gcc 4.8.5, cuda 9.0, Anaconda3 5.1.0 on Scientific LInux 7.</p>\n<p>This is HPC environment and applications packages are installed in non-standard locations.<br>\nI set up environment so that I can use all the above software from command line.<br>\nIn addition I specify path to cuda and cudnn during configuration and use --action_env.<br>\nNevertheless, the build process fails at linking stage because it cannot find cuda libraries:</p>\n<p>bazel build --config=opt --config=cuda --action_env=LD_LIBRARY_PATH=$LD_LIBRARY_PATH //tensorflow/tools/pip_package:build_pip_package<br>\n...<br>\nERROR: /home/ivy2/tmp11/tensorflow/tensorflow/python/BUILD:1473:1: Linking of<br>\nrule '//tensorflow/python:gen_io_ops_py_wrappers_cc' faile<br>\nd (Exit 1)<br>\n/usr/bin/ld: warning: libcublas.so.9.0, needed by<br>\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Spython_Cgen_Uio_Uops_Upy_Uwrappers_U<br>\ncc___Utensorflow/libtensorflow_framework.so, not found (try using -rpath or<br>\n-rpath-link)</p>\n<p>The reason I am building tensorflow from sources is because I got a request for C++ interface to tensorflow. My understand is that I need to build from source to get it. Is that right or is there a simpler way?</p>\n<p>Thank you,<br>\nIgor</p>\n<p>==========<br>\nHave I written custom code</p>\n<p>N/A</p>\n<p>OS Platform and Distribution</p>\n<p>Scientific Linux 7</p>\n<p>TensorFlow installed from</p>\n<p>N/A</p>\n<p>TensorFlow version</p>\n<p>1.8</p>\n<p>Bazel version</p>\n<p>0.13</p>\n<p>CUDA/cuDNN version</p>\n<p>9/7</p>\n<p>GPU model and memory</p>\n<p>Tesla K80, 64G RAM</p>\n<p>Exact command to reproduce</p>\n<p>bazel build --config=opt --config=cuda --action_env=LD_LIBRARY_PATH=$LD_LIBRARY_PATH //tensorflow/tools/pip_package:build_pip_package</p>", "body_text": "Hi All,\nI am trying to build tensorflow 1.8 with bazel 0.13, gcc 4.8.5, cuda 9.0, Anaconda3 5.1.0 on Scientific LInux 7.\nThis is HPC environment and applications packages are installed in non-standard locations.\nI set up environment so that I can use all the above software from command line.\nIn addition I specify path to cuda and cudnn during configuration and use --action_env.\nNevertheless, the build process fails at linking stage because it cannot find cuda libraries:\nbazel build --config=opt --config=cuda --action_env=LD_LIBRARY_PATH=$LD_LIBRARY_PATH //tensorflow/tools/pip_package:build_pip_package\n...\nERROR: /home/ivy2/tmp11/tensorflow/tensorflow/python/BUILD:1473:1: Linking of\nrule '//tensorflow/python:gen_io_ops_py_wrappers_cc' faile\nd (Exit 1)\n/usr/bin/ld: warning: libcublas.so.9.0, needed by\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Spython_Cgen_Uio_Uops_Upy_Uwrappers_U\ncc___Utensorflow/libtensorflow_framework.so, not found (try using -rpath or\n-rpath-link)\nThe reason I am building tensorflow from sources is because I got a request for C++ interface to tensorflow. My understand is that I need to build from source to get it. Is that right or is there a simpler way?\nThank you,\nIgor\n==========\nHave I written custom code\nN/A\nOS Platform and Distribution\nScientific Linux 7\nTensorFlow installed from\nN/A\nTensorFlow version\n1.8\nBazel version\n0.13\nCUDA/cuDNN version\n9/7\nGPU model and memory\nTesla K80, 64G RAM\nExact command to reproduce\nbazel build --config=opt --config=cuda --action_env=LD_LIBRARY_PATH=$LD_LIBRARY_PATH //tensorflow/tools/pip_package:build_pip_package", "body": "Hi All,\r\n\r\nI am trying to build tensorflow 1.8 with bazel 0.13, gcc 4.8.5, cuda 9.0, Anaconda3 5.1.0 on Scientific LInux 7.\r\n\r\nThis is HPC environment and applications packages are installed in non-standard locations.\r\nI set up environment so that I can use all the above software from command line.\r\nIn addition I specify path to cuda and cudnn during configuration and use --action_env.\r\nNevertheless, the build process fails at linking stage because it cannot find cuda libraries:\r\n\r\nbazel build --config=opt --config=cuda --action_env=LD_LIBRARY_PATH=$LD_LIBRARY_PATH //tensorflow/tools/pip_package:build_pip_package\r\n...\r\nERROR: /home/ivy2/tmp11/tensorflow/tensorflow/python/BUILD:1473:1: Linking of\r\nrule '//tensorflow/python:gen_io_ops_py_wrappers_cc' faile\r\nd (Exit 1)\r\n/usr/bin/ld: warning: libcublas.so.9.0, needed by\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Spython_Cgen_Uio_Uops_Upy_Uwrappers_U\r\ncc___Utensorflow/libtensorflow_framework.so, not found (try using -rpath or\r\n-rpath-link)\r\n\r\n\r\nThe reason I am building tensorflow from sources is because I got a request for C++ interface to tensorflow. My understand is that I need to build from source to get it. Is that right or is there a simpler way?\r\n\r\nThank you,\r\nIgor\r\n\r\n\r\n==========\r\nHave I written custom code\r\n\r\nN/A\r\n\r\nOS Platform and Distribution\r\n\r\nScientific Linux 7\r\n\r\nTensorFlow installed from\r\n\r\nN/A\r\n\r\nTensorFlow version\r\n\r\n1.8\r\n\r\nBazel version\r\n\r\n0.13\r\n\r\nCUDA/cuDNN version\r\n\r\n9/7\r\n\r\nGPU model and memory\r\n\r\nTesla K80, 64G RAM\r\n\r\nExact command to reproduce\r\n\r\nbazel build --config=opt --config=cuda --action_env=LD_LIBRARY_PATH=$LD_LIBRARY_PATH //tensorflow/tools/pip_package:build_pip_package\r\n"}