{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4790", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4790/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4790/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4790/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4790", "id": 181295277, "node_id": "MDU6SXNzdWUxODEyOTUyNzc=", "number": 4790, "title": "iOS cannot run the new trained Inception v1 model <no registered kernels>", "user": {"login": "civilman628", "id": 8059551, "node_id": "MDQ6VXNlcjgwNTk1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8059551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/civilman628", "html_url": "https://github.com/civilman628", "followers_url": "https://api.github.com/users/civilman628/followers", "following_url": "https://api.github.com/users/civilman628/following{/other_user}", "gists_url": "https://api.github.com/users/civilman628/gists{/gist_id}", "starred_url": "https://api.github.com/users/civilman628/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/civilman628/subscriptions", "organizations_url": "https://api.github.com/users/civilman628/orgs", "repos_url": "https://api.github.com/users/civilman628/repos", "events_url": "https://api.github.com/users/civilman628/events{/privacy}", "received_events_url": "https://api.github.com/users/civilman628/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 38, "created_at": "2016-10-06T00:02:21Z", "updated_at": "2018-04-25T16:21:16Z", "closed_at": "2018-04-25T16:21:15Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>iOS</p>\n<h3>steps:</h3>\n<p>1, i train inception v1 (slim) on a subset of ImageNet dataset (269 of 1000)<br>\n2, convert .ckpt into .pb by freeze_graph<br>\n3, convert .pb file into 8bit precision<br>\n4, load into iOS and run</p>\n<h3>Logs</h3>\n<p>simple/RunModelViewController.mm:222] Running model failed: Invalid argument: <strong>No OpKernel was registered to support Op 'RandomUniform' with these attrs.  Registered kernels:</strong></p>\n<p>&lt;<strong>no registered kernels</strong>&gt;</p>\n<p>[[Node: InceptionV1/Logits/Dropout_0b/dropout/random_uniform/RandomUniform = RandomUniform<a href=\"InceptionV1/Logits/Dropout_0b/dropout/Shape\">T=DT_INT32, _output_shapes=[[128,1,1,1024]], dtype=DT_FLOAT, seed=0, seed2=0</a>]]</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMin\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } } host_memory_arg: \"dimension\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMin\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"dimension\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMax\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } } host_memory_arg: \"dimension\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMax\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"dimension\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"AvgPoolGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"orig_input_shape\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BatchNormWithGlobalNormalizationGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BroadcastGradientArgs\" device_type: \"GPU\" host_memory_arg: \"s0\" host_memory_arg: \"s1\" host_memory_arg: \"r0\" host_memory_arg: \"r1\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BroadcastGradientArgs\" device_type: \"CPU\" host_memory_arg: \"s0\" host_memory_arg: \"s1\" host_memory_arg: \"r0\" host_memory_arg: \"r1\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } }')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddV1\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } }')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddV1\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"CheckNumerics\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ConcatOffset\" device_type: \"GPU\" host_memory_arg: \"concat_dim\" host_memory_arg: \"shape\" host_memory_arg: \"offset\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ConcatOffset\" device_type: \"CPU\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } } host_memory_arg: \"concat_dim\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"concat_dim\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QUINT8 } } } host_memory_arg: \"concat_dim\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QINT8 } } } host_memory_arg: \"concat_dim\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QUINT16 } } } host_memory_arg: \"concat_dim\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QINT16 } } } host_memory_arg: \"concat_dim\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QINT32 } } } host_memory_arg: \"concat_dim\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_BFLOAT16 } } } host_memory_arg: \"concat_dim\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Placeholder\" device_type: \"GPU\"')</p>\n<p>I tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Placeholder\" device_type: \"CPU\"')</p>", "body_text": "Environment info\niOS\nsteps:\n1, i train inception v1 (slim) on a subset of ImageNet dataset (269 of 1000)\n2, convert .ckpt into .pb by freeze_graph\n3, convert .pb file into 8bit precision\n4, load into iOS and run\nLogs\nsimple/RunModelViewController.mm:222] Running model failed: Invalid argument: No OpKernel was registered to support Op 'RandomUniform' with these attrs.  Registered kernels:\n<no registered kernels>\n[[Node: InceptionV1/Logits/Dropout_0b/dropout/random_uniform/RandomUniform = RandomUniformT=DT_INT32, _output_shapes=[[128,1,1,1024]], dtype=DT_FLOAT, seed=0, seed2=0]]\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMin\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } } host_memory_arg: \"dimension\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMin\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"dimension\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMax\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } } host_memory_arg: \"dimension\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMax\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"dimension\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"AvgPoolGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"orig_input_shape\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BatchNormWithGlobalNormalizationGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BroadcastGradientArgs\" device_type: \"GPU\" host_memory_arg: \"s0\" host_memory_arg: \"s1\" host_memory_arg: \"r0\" host_memory_arg: \"r1\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BroadcastGradientArgs\" device_type: \"CPU\" host_memory_arg: \"s0\" host_memory_arg: \"s1\" host_memory_arg: \"r0\" host_memory_arg: \"r1\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } }')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddV1\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } }')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddV1\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"CheckNumerics\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ConcatOffset\" device_type: \"GPU\" host_memory_arg: \"concat_dim\" host_memory_arg: \"shape\" host_memory_arg: \"offset\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ConcatOffset\" device_type: \"CPU\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } } host_memory_arg: \"concat_dim\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"concat_dim\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QUINT8 } } } host_memory_arg: \"concat_dim\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QINT8 } } } host_memory_arg: \"concat_dim\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QUINT16 } } } host_memory_arg: \"concat_dim\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QINT16 } } } host_memory_arg: \"concat_dim\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QINT32 } } } host_memory_arg: \"concat_dim\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_BFLOAT16 } } } host_memory_arg: \"concat_dim\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Placeholder\" device_type: \"GPU\"')\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Placeholder\" device_type: \"CPU\"')", "body": "### Environment info\n\niOS\n### steps:\n\n1, i train inception v1 (slim) on a subset of ImageNet dataset (269 of 1000)\n2, convert .ckpt into .pb by freeze_graph\n3, convert .pb file into 8bit precision\n4, load into iOS and run\n### Logs\n\nsimple/RunModelViewController.mm:222] Running model failed: Invalid argument: **No OpKernel was registered to support Op 'RandomUniform' with these attrs.  Registered kernels:**\n\n <**no registered kernels**>\n\n[[Node: InceptionV1/Logits/Dropout_0b/dropout/random_uniform/RandomUniform = RandomUniform[T=DT_INT32, _output_shapes=[[128,1,1,1024]], dtype=DT_FLOAT, seed=0, seed2=0](InceptionV1/Logits/Dropout_0b/dropout/Shape)]]\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMin\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } } host_memory_arg: \"dimension\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMin\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"dimension\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMax\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } } host_memory_arg: \"dimension\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ArgMax\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"dimension\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"AvgPoolGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"orig_input_shape\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BatchNormWithGlobalNormalizationGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BroadcastGradientArgs\" device_type: \"GPU\" host_memory_arg: \"s0\" host_memory_arg: \"s1\" host_memory_arg: \"r0\" host_memory_arg: \"r1\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BroadcastGradientArgs\" device_type: \"CPU\" host_memory_arg: \"s0\" host_memory_arg: \"s1\" host_memory_arg: \"r0\" host_memory_arg: \"r1\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } }')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddGrad\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddV1\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } }')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"BiasAddV1\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"CheckNumerics\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } }')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ConcatOffset\" device_type: \"GPU\" host_memory_arg: \"concat_dim\" host_memory_arg: \"shape\" host_memory_arg: \"offset\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"ConcatOffset\" device_type: \"CPU\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_INT32 } } } host_memory_arg: \"concat_dim\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_FLOAT } } } host_memory_arg: \"concat_dim\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QUINT8 } } } host_memory_arg: \"concat_dim\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QINT8 } } } host_memory_arg: \"concat_dim\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QUINT16 } } } host_memory_arg: \"concat_dim\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QINT16 } } } host_memory_arg: \"concat_dim\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_QINT32 } } } host_memory_arg: \"concat_dim\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Concat\" device_type: \"CPU\" constraint { name: \"T\" allowed_values { list { type: DT_BFLOAT16 } } } host_memory_arg: \"concat_dim\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Placeholder\" device_type: \"GPU\"')\n\nI tensorflow/core/framework/op_kernel.cc:802] OpKernel ('op: \"Placeholder\" device_type: \"CPU\"')\n"}