{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15108", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15108/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15108/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15108/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15108", "id": 279188308, "node_id": "MDU6SXNzdWUyNzkxODgzMDg=", "number": 15108, "title": "error: namespace \"Eigen::half_impl\" has no member \"__half_raw\" when building latest TensorFlow/CUDA 9.0", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2017-12-04T23:24:06Z", "updated_at": "2017-12-23T21:20:44Z", "closed_at": "2017-12-23T21:20:44Z", "author_association": "CONTRIBUTOR", "body_html": "<p>When trying to build latest TensorFlow for CUDA 9.0/CuDNN 7.0, from today's head</p>\n<p>Complete instructions to reproduce are <a href=\"https://github.com/yaroslavvb/tf_build\">here</a>, but basically I followed steps in in <a href=\"https://github.com/tensorflow/tensorflow/blob/c5c642e051f1a7876d099bfcd9f8a2ecaf7227b8/tensorflow/tools/docker/Dockerfile.devel-gpu\">Dockerfile.devel-gpu</a> to install dependencies, and then did <code>bazel build -c opt --config=cuda</code></p>\n<p>Here are the errors</p>\n<pre><code>INFO: From Compiling tensorflow/stream_executor/cuda/cuda_blas.cc:\ntensorflow/stream_executor/cuda/cuda_blas.cc: In function 'cudaDataType_t perftools::gputools::cuda::{anonymous}::CUDAComputationType(perftools::gputools::blas::ComputationType)':\ntensorflow/stream_executor/cuda/cuda_blas.cc:527:1: warning: control reaches end of non-void function [-Wreturn-type]\n }\n ^\nINFO: From Compiling tensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc:\ntensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc: In member function 'virtual void tensorflow::{anonymous}::DenseToSparseBatchDatasetOp::MakeDataset(tensorflow::OpKernelContext*, tensorflow::DatasetBase*, tensorflow::DatasetBase**)':\ntensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc:83:71: warning: 'batch_size' may be used uninitialized in this function [-Wmaybe-uninitialized]\n         : batch_size_(batch_size), row_shape_(row_shape), input_(input) {\n                                                                       ^\ntensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc:41:11: note: 'batch_size' was declared here\n     int64 batch_size;\n           ^\nINFO: From Compiling tensorflow/core/kernels/histogram_op_gpu.cu.cc:\n./tensorflow/core/util/cuda_kernel_helper.h(109): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(109): error: expected a \")\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(110): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(113): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(113): error: expected a \";\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(119): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(119): error: expected a \")\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(120): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(123): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(123): error: expected a \";\"\n\n10 errors detected in the compilation of \"/tmp/tmpxft_000137d9_00000000-6_histog\n\n</code></pre>", "body_text": "When trying to build latest TensorFlow for CUDA 9.0/CuDNN 7.0, from today's head\nComplete instructions to reproduce are here, but basically I followed steps in in Dockerfile.devel-gpu to install dependencies, and then did bazel build -c opt --config=cuda\nHere are the errors\nINFO: From Compiling tensorflow/stream_executor/cuda/cuda_blas.cc:\ntensorflow/stream_executor/cuda/cuda_blas.cc: In function 'cudaDataType_t perftools::gputools::cuda::{anonymous}::CUDAComputationType(perftools::gputools::blas::ComputationType)':\ntensorflow/stream_executor/cuda/cuda_blas.cc:527:1: warning: control reaches end of non-void function [-Wreturn-type]\n }\n ^\nINFO: From Compiling tensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc:\ntensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc: In member function 'virtual void tensorflow::{anonymous}::DenseToSparseBatchDatasetOp::MakeDataset(tensorflow::OpKernelContext*, tensorflow::DatasetBase*, tensorflow::DatasetBase**)':\ntensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc:83:71: warning: 'batch_size' may be used uninitialized in this function [-Wmaybe-uninitialized]\n         : batch_size_(batch_size), row_shape_(row_shape), input_(input) {\n                                                                       ^\ntensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc:41:11: note: 'batch_size' was declared here\n     int64 batch_size;\n           ^\nINFO: From Compiling tensorflow/core/kernels/histogram_op_gpu.cu.cc:\n./tensorflow/core/util/cuda_kernel_helper.h(109): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(109): error: expected a \")\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(110): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(113): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(113): error: expected a \";\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(119): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(119): error: expected a \")\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(120): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(123): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\n\n./tensorflow/core/util/cuda_kernel_helper.h(123): error: expected a \";\"\n\n10 errors detected in the compilation of \"/tmp/tmpxft_000137d9_00000000-6_histog", "body": "When trying to build latest TensorFlow for CUDA 9.0/CuDNN 7.0, from today's head\r\n\r\nComplete instructions to reproduce are [here](https://github.com/yaroslavvb/tf_build), but basically I followed steps in in [Dockerfile.devel-gpu](https://github.com/tensorflow/tensorflow/blob/c5c642e051f1a7876d099bfcd9f8a2ecaf7227b8/tensorflow/tools/docker/Dockerfile.devel-gpu) to install dependencies, and then did `bazel build -c opt --config=cuda`\r\n\r\nHere are the errors\r\n\r\n```\r\nINFO: From Compiling tensorflow/stream_executor/cuda/cuda_blas.cc:\r\ntensorflow/stream_executor/cuda/cuda_blas.cc: In function 'cudaDataType_t perftools::gputools::cuda::{anonymous}::CUDAComputationType(perftools::gputools::blas::ComputationType)':\r\ntensorflow/stream_executor/cuda/cuda_blas.cc:527:1: warning: control reaches end of non-void function [-Wreturn-type]\r\n }\r\n ^\r\nINFO: From Compiling tensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc:\r\ntensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc: In member function 'virtual void tensorflow::{anonymous}::DenseToSparseBatchDatasetOp::MakeDataset(tensorflow::OpKernelContext*, tensorflow::DatasetBase*, tensorflow::DatasetBase**)':\r\ntensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc:83:71: warning: 'batch_size' may be used uninitialized in this function [-Wmaybe-uninitialized]\r\n         : batch_size_(batch_size), row_shape_(row_shape), input_(input) {\r\n                                                                       ^\r\ntensorflow/core/kernels/dense_to_sparse_batch_dataset_op.cc:41:11: note: 'batch_size' was declared here\r\n     int64 batch_size;\r\n           ^\r\nINFO: From Compiling tensorflow/core/kernels/histogram_op_gpu.cu.cc:\r\n./tensorflow/core/util/cuda_kernel_helper.h(109): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\r\n\r\n./tensorflow/core/util/cuda_kernel_helper.h(109): error: expected a \")\"\r\n\r\n./tensorflow/core/util/cuda_kernel_helper.h(110): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\r\n\r\n./tensorflow/core/util/cuda_kernel_helper.h(113): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\r\n\r\n./tensorflow/core/util/cuda_kernel_helper.h(113): error: expected a \";\"\r\n\r\n./tensorflow/core/util/cuda_kernel_helper.h(119): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\r\n\r\n./tensorflow/core/util/cuda_kernel_helper.h(119): error: expected a \")\"\r\n\r\n./tensorflow/core/util/cuda_kernel_helper.h(120): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\r\n\r\n./tensorflow/core/util/cuda_kernel_helper.h(123): error: namespace \"Eigen::half_impl\" has no member \"__half_raw\"\r\n\r\n./tensorflow/core/util/cuda_kernel_helper.h(123): error: expected a \";\"\r\n\r\n10 errors detected in the compilation of \"/tmp/tmpxft_000137d9_00000000-6_histog\r\n\r\n```"}