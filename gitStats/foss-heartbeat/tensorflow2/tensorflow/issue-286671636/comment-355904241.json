{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/355904241", "html_url": "https://github.com/tensorflow/tensorflow/issues/15937#issuecomment-355904241", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15937", "id": 355904241, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTkwNDI0MQ==", "user": {"login": "zyxcambridge", "id": 1818981, "node_id": "MDQ6VXNlcjE4MTg5ODE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1818981?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zyxcambridge", "html_url": "https://github.com/zyxcambridge", "followers_url": "https://api.github.com/users/zyxcambridge/followers", "following_url": "https://api.github.com/users/zyxcambridge/following{/other_user}", "gists_url": "https://api.github.com/users/zyxcambridge/gists{/gist_id}", "starred_url": "https://api.github.com/users/zyxcambridge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zyxcambridge/subscriptions", "organizations_url": "https://api.github.com/users/zyxcambridge/orgs", "repos_url": "https://api.github.com/users/zyxcambridge/repos", "events_url": "https://api.github.com/users/zyxcambridge/events{/privacy}", "received_events_url": "https://api.github.com/users/zyxcambridge/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-08T08:14:40Z", "updated_at": "2018-01-08T08:14:40Z", "author_association": "NONE", "body_html": "<p>export FILE_ZYX1=/home/zyx/Desktop/code/tensorflow-for-poets-2-master<br>\nexport FILE_ZYX2=/home/zyx/Desktop/code/tensorflow-master</p>\n<p>cd $FILE_ZYX1<br>\nIMAGE_SIZE=224<br>\nARCHITECTURE=\"mobilenet_0.50_${IMAGE_SIZE}\"<br>\nsudo python -m scripts.retrain -h<br>\npython -m scripts.retrain <br>\n--bottleneck_dir=tf_files/bottlenecks <br>\n--how_many_training_steps=5000 <br>\n--model_dir=tf_files/models/ <br>\n--summaries_dir=tf_files/training_summaries/${ARCHITECTURE} <br>\n--output_graph=tf_files/retrained_graph_phone.pb <br>\n--output_labels=tf_files/retrained_graph_phone.txt <br>\n--architecture=${ARCHITECTURE} <br>\n--image_dir=tf_files/games</p>\n<p>python -m scripts.label_image <br>\n--labels=$FILE_ZYX1/tf_files/retrained_graph_phone.txt  <br>\n--graph=$FILE_ZYX1/tf_files/retrained_graph_phone.pb  <br>\n--image=$FILE_ZYX1/tf_files/games/CloseEyes/FvVuasra3qty1wSw2dXSzMnMit00.mp4-312.jpg</p>\n<p>cd $FILE_ZYX2</p>\n<h1>bazel build -c opt --copt=-mavx tensorflow/examples/image_retraining:retrain</h1>\n<p>bazel build tensorflow/python/tools:optimize_for_inference  -c opt --copt=-msse4<br>\nbazel-bin/tensorflow/python/tools/optimize_for_inference <br>\n--input=$FILE_ZYX1/tf_files/retrained_graph_phone.pb <br>\n--output=$FILE_ZYX1/tf_files/retrained_optimize_phone.pb <br>\n--input_names=\"input\" <br>\n--output_names=\"final_result\"</p>\n<p>cd $FILE_ZYX2<br>\nbazel run -c opt --copt=-mavx --config=opt <br>\n//tensorflow/contrib/lite/toco:toco -- <br>\n--input_file=$FILE_ZYX1/tf_files/retrained_optimize_phone.pb <br>\n--output_file=$FILE_ZYX1/tf_files/retrained_optimize_phone.pb.lite <br>\n--input_format=TENSORFLOW_GRAPHDEF <br>\n--output_format=TFLITE <br>\n--inference_type=FLOAT <br>\n--input_shapes=1,224,224,3 <br>\n--input_arrays=input <br>\n--output_array=final_result</p>", "body_text": "export FILE_ZYX1=/home/zyx/Desktop/code/tensorflow-for-poets-2-master\nexport FILE_ZYX2=/home/zyx/Desktop/code/tensorflow-master\ncd $FILE_ZYX1\nIMAGE_SIZE=224\nARCHITECTURE=\"mobilenet_0.50_${IMAGE_SIZE}\"\nsudo python -m scripts.retrain -h\npython -m scripts.retrain \n--bottleneck_dir=tf_files/bottlenecks \n--how_many_training_steps=5000 \n--model_dir=tf_files/models/ \n--summaries_dir=tf_files/training_summaries/${ARCHITECTURE} \n--output_graph=tf_files/retrained_graph_phone.pb \n--output_labels=tf_files/retrained_graph_phone.txt \n--architecture=${ARCHITECTURE} \n--image_dir=tf_files/games\npython -m scripts.label_image \n--labels=$FILE_ZYX1/tf_files/retrained_graph_phone.txt  \n--graph=$FILE_ZYX1/tf_files/retrained_graph_phone.pb  \n--image=$FILE_ZYX1/tf_files/games/CloseEyes/FvVuasra3qty1wSw2dXSzMnMit00.mp4-312.jpg\ncd $FILE_ZYX2\nbazel build -c opt --copt=-mavx tensorflow/examples/image_retraining:retrain\nbazel build tensorflow/python/tools:optimize_for_inference  -c opt --copt=-msse4\nbazel-bin/tensorflow/python/tools/optimize_for_inference \n--input=$FILE_ZYX1/tf_files/retrained_graph_phone.pb \n--output=$FILE_ZYX1/tf_files/retrained_optimize_phone.pb \n--input_names=\"input\" \n--output_names=\"final_result\"\ncd $FILE_ZYX2\nbazel run -c opt --copt=-mavx --config=opt \n//tensorflow/contrib/lite/toco:toco -- \n--input_file=$FILE_ZYX1/tf_files/retrained_optimize_phone.pb \n--output_file=$FILE_ZYX1/tf_files/retrained_optimize_phone.pb.lite \n--input_format=TENSORFLOW_GRAPHDEF \n--output_format=TFLITE \n--inference_type=FLOAT \n--input_shapes=1,224,224,3 \n--input_arrays=input \n--output_array=final_result", "body": "export FILE_ZYX1=/home/zyx/Desktop/code/tensorflow-for-poets-2-master\r\nexport FILE_ZYX2=/home/zyx/Desktop/code/tensorflow-master\r\n\r\ncd $FILE_ZYX1\r\nIMAGE_SIZE=224\r\nARCHITECTURE=\"mobilenet_0.50_${IMAGE_SIZE}\"\r\nsudo python -m scripts.retrain -h\r\npython -m scripts.retrain \\\r\n  --bottleneck_dir=tf_files/bottlenecks \\\r\n  --how_many_training_steps=5000 \\\r\n  --model_dir=tf_files/models/ \\\r\n  --summaries_dir=tf_files/training_summaries/${ARCHITECTURE} \\\r\n  --output_graph=tf_files/retrained_graph_phone.pb \\\r\n  --output_labels=tf_files/retrained_graph_phone.txt \\\r\n  --architecture=${ARCHITECTURE} \\\r\n  --image_dir=tf_files/games\r\n\r\n\r\n\r\npython -m scripts.label_image \\\r\n    --labels=$FILE_ZYX1/tf_files/retrained_graph_phone.txt  \\\r\n    --graph=$FILE_ZYX1/tf_files/retrained_graph_phone.pb  \\\r\n    --image=$FILE_ZYX1/tf_files/games/CloseEyes/FvVuasra3qty1wSw2dXSzMnMit00.mp4-312.jpg\r\n\r\ncd $FILE_ZYX2\r\n# bazel build -c opt --copt=-mavx tensorflow/examples/image_retraining:retrain \r\nbazel build tensorflow/python/tools:optimize_for_inference  -c opt --copt=-msse4\r\nbazel-bin/tensorflow/python/tools/optimize_for_inference \\\r\n  --input=$FILE_ZYX1/tf_files/retrained_graph_phone.pb \\\r\n  --output=$FILE_ZYX1/tf_files/retrained_optimize_phone.pb \\\r\n  --input_names=\"input\" \\\r\n  --output_names=\"final_result\"\r\n\r\n\r\ncd $FILE_ZYX2\r\nbazel run -c opt --copt=-mavx --config=opt \\\r\n  //tensorflow/contrib/lite/toco:toco -- \\\r\n  --input_file=$FILE_ZYX1/tf_files/retrained_optimize_phone.pb \\\r\n  --output_file=$FILE_ZYX1/tf_files/retrained_optimize_phone.pb.lite \\\r\n  --input_format=TENSORFLOW_GRAPHDEF \\\r\n  --output_format=TFLITE \\\r\n  --inference_type=FLOAT \\\r\n  --input_shapes=1,224,224,3 \\\r\n  --input_arrays=input \\\r\n  --output_array=final_result\r\n"}