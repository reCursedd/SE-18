{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/436600925", "html_url": "https://github.com/tensorflow/tensorflow/issues/13146#issuecomment-436600925", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13146", "id": 436600925, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjYwMDkyNQ==", "user": {"login": "langziwuqing", "id": 18045639, "node_id": "MDQ6VXNlcjE4MDQ1NjM5", "avatar_url": "https://avatars3.githubusercontent.com/u/18045639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/langziwuqing", "html_url": "https://github.com/langziwuqing", "followers_url": "https://api.github.com/users/langziwuqing/followers", "following_url": "https://api.github.com/users/langziwuqing/following{/other_user}", "gists_url": "https://api.github.com/users/langziwuqing/gists{/gist_id}", "starred_url": "https://api.github.com/users/langziwuqing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/langziwuqing/subscriptions", "organizations_url": "https://api.github.com/users/langziwuqing/orgs", "repos_url": "https://api.github.com/users/langziwuqing/repos", "events_url": "https://api.github.com/users/langziwuqing/events{/privacy}", "received_events_url": "https://api.github.com/users/langziwuqing/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-07T12:00:33Z", "updated_at": "2018-11-07T12:01:13Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3826735\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tumusudheer\">@tumusudheer</a> I came across the same problem as you discribed, you said \"So I had to pass data_format explicitly as param as part of batch_norm_params or need to add slim.batch_norm to the arg_scope\", I modify the code as below:<br>\nbatch_norm_params = {<br>\n# Decay for the moving averages.<br>\n'decay': 0.9997,<br>\n# epsilon to prevent 0s in variance.<br>\n'epsilon': 0.001,<br>\n'is_training': is_training,<br>\n'scale':False,<br>\n'fused':True,<br>\n'data_format':'NHWC'<br>\n}<br>\nor<br>\nwith slim.arg_scope([slim.conv2d, slim.max_pool2d, slim.batch_norm],<br>\nall of them doesn't work\uff0ccould you tell me the right way to modify it?</p>", "body_text": "@tumusudheer I came across the same problem as you discribed, you said \"So I had to pass data_format explicitly as param as part of batch_norm_params or need to add slim.batch_norm to the arg_scope\", I modify the code as below:\nbatch_norm_params = {\n# Decay for the moving averages.\n'decay': 0.9997,\n# epsilon to prevent 0s in variance.\n'epsilon': 0.001,\n'is_training': is_training,\n'scale':False,\n'fused':True,\n'data_format':'NHWC'\n}\nor\nwith slim.arg_scope([slim.conv2d, slim.max_pool2d, slim.batch_norm],\nall of them doesn't work\uff0ccould you tell me the right way to modify it?", "body": "@tumusudheer I came across the same problem as you discribed, you said \"So I had to pass data_format explicitly as param as part of batch_norm_params or need to add slim.batch_norm to the arg_scope\", I modify the code as below:\r\n\tbatch_norm_params = {\r\n\t  # Decay for the moving averages.\r\n\t  'decay': 0.9997,\r\n\t  # epsilon to prevent 0s in variance.\r\n\t  'epsilon': 0.001,\r\n\t  'is_training': is_training,\r\n\t  'scale':False,\r\n\t  'fused':True,\r\n\t  'data_format':'NHWC'\r\n\t}\r\nor\r\nwith slim.arg_scope([slim.conv2d, slim.max_pool2d, slim.batch_norm],\r\nall of them doesn't work\uff0ccould you tell me the right way to modify it?\r\n"}