{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/353659490", "html_url": "https://github.com/tensorflow/tensorflow/issues/13146#issuecomment-353659490", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13146", "id": 353659490, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY1OTQ5MA==", "user": {"login": "zhangyaobit", "id": 1034716, "node_id": "MDQ6VXNlcjEwMzQ3MTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1034716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangyaobit", "html_url": "https://github.com/zhangyaobit", "followers_url": "https://api.github.com/users/zhangyaobit/followers", "following_url": "https://api.github.com/users/zhangyaobit/following{/other_user}", "gists_url": "https://api.github.com/users/zhangyaobit/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangyaobit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangyaobit/subscriptions", "organizations_url": "https://api.github.com/users/zhangyaobit/orgs", "repos_url": "https://api.github.com/users/zhangyaobit/repos", "events_url": "https://api.github.com/users/zhangyaobit/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangyaobit/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-22T19:17:05Z", "updated_at": "2017-12-22T19:17:05Z", "author_association": "CONTRIBUTOR", "body_html": "<p>There is definitely a problem somewhere.</p>\n<p>(1) Do you have the source code available, so that we can take a look?</p>\n<p>(2) Could you try <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/core/profiler\">https://github.com/tensorflow/tensorflow/tree/master/tensorflow/core/profiler</a> respectively for (1) slim with NHWC, (2) slim with NCHW, and (3) tf cnn benchmark with NCHW to identify the discrepancies in terms of runtime breakdown?</p>\n<p>(3) Could you double check fused batch norm is on? It should be on by default now. But maybe you are using a older version of TensorFlow which is off by default. See the fused batch norm section here: <a href=\"https://www.tensorflow.org/performance/performance_guide\" rel=\"nofollow\">https://www.tensorflow.org/performance/performance_guide</a></p>", "body_text": "There is definitely a problem somewhere.\n(1) Do you have the source code available, so that we can take a look?\n(2) Could you try https://github.com/tensorflow/tensorflow/tree/master/tensorflow/core/profiler respectively for (1) slim with NHWC, (2) slim with NCHW, and (3) tf cnn benchmark with NCHW to identify the discrepancies in terms of runtime breakdown?\n(3) Could you double check fused batch norm is on? It should be on by default now. But maybe you are using a older version of TensorFlow which is off by default. See the fused batch norm section here: https://www.tensorflow.org/performance/performance_guide", "body": "There is definitely a problem somewhere.\r\n\r\n(1) Do you have the source code available, so that we can take a look? \r\n\r\n(2) Could you try https://github.com/tensorflow/tensorflow/tree/master/tensorflow/core/profiler respectively for (1) slim with NHWC, (2) slim with NCHW, and (3) tf cnn benchmark with NCHW to identify the discrepancies in terms of runtime breakdown?\r\n\r\n(3) Could you double check fused batch norm is on? It should be on by default now. But maybe you are using a older version of TensorFlow which is off by default. See the fused batch norm section here: https://www.tensorflow.org/performance/performance_guide"}