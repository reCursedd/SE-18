{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/332395853", "html_url": "https://github.com/tensorflow/tensorflow/issues/13146#issuecomment-332395853", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13146", "id": 332395853, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjM5NTg1Mw==", "user": {"login": "zhangyaobit", "id": 1034716, "node_id": "MDQ6VXNlcjEwMzQ3MTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1034716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangyaobit", "html_url": "https://github.com/zhangyaobit", "followers_url": "https://api.github.com/users/zhangyaobit/followers", "following_url": "https://api.github.com/users/zhangyaobit/following{/other_user}", "gists_url": "https://api.github.com/users/zhangyaobit/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangyaobit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangyaobit/subscriptions", "organizations_url": "https://api.github.com/users/zhangyaobit/orgs", "repos_url": "https://api.github.com/users/zhangyaobit/repos", "events_url": "https://api.github.com/users/zhangyaobit/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangyaobit/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-27T03:06:40Z", "updated_at": "2017-09-27T03:06:40Z", "author_association": "CONTRIBUTOR", "body_html": "<p>What should be the correct shape of text_box_300/conv10_box/conv_cls/BatchNorm/moving_mean? I think it should be a 1d vector of the size number of channels. Could you check if the number of channels should be 28 or 3?</p>\n<p>You can use this tool to inspect the checkpoint file and find out what shape moving_mean is of: <a href=\"https://github.com/petewarden/tensorflow_makefile/blob/master/tensorflow/python/tools/inspect_checkpoint.py\">https://github.com/petewarden/tensorflow_makefile/blob/master/tensorflow/python/tools/inspect_checkpoint.py</a></p>\n<p>Looks like in the model, the shape of moving_mean is inconsistent with that in the checkpoint, and you need to make some changes accordingly. You will need to debug a bit: you can add \"pdb.set_trace()\" inside batch_norm and check the shape of moving_mean to see how that shape is derived and what change you can make to make the shape consistent with the one in the checkpoint.</p>", "body_text": "What should be the correct shape of text_box_300/conv10_box/conv_cls/BatchNorm/moving_mean? I think it should be a 1d vector of the size number of channels. Could you check if the number of channels should be 28 or 3?\nYou can use this tool to inspect the checkpoint file and find out what shape moving_mean is of: https://github.com/petewarden/tensorflow_makefile/blob/master/tensorflow/python/tools/inspect_checkpoint.py\nLooks like in the model, the shape of moving_mean is inconsistent with that in the checkpoint, and you need to make some changes accordingly. You will need to debug a bit: you can add \"pdb.set_trace()\" inside batch_norm and check the shape of moving_mean to see how that shape is derived and what change you can make to make the shape consistent with the one in the checkpoint.", "body": "What should be the correct shape of text_box_300/conv10_box/conv_cls/BatchNorm/moving_mean? I think it should be a 1d vector of the size number of channels. Could you check if the number of channels should be 28 or 3? \r\n\r\nYou can use this tool to inspect the checkpoint file and find out what shape moving_mean is of: https://github.com/petewarden/tensorflow_makefile/blob/master/tensorflow/python/tools/inspect_checkpoint.py\r\n\r\nLooks like in the model, the shape of moving_mean is inconsistent with that in the checkpoint, and you need to make some changes accordingly. You will need to debug a bit: you can add \"pdb.set_trace()\" inside batch_norm and check the shape of moving_mean to see how that shape is derived and what change you can make to make the shape consistent with the one in the checkpoint."}