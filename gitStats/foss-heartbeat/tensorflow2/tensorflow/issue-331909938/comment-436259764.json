{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/436259764", "html_url": "https://github.com/tensorflow/tensorflow/issues/19982#issuecomment-436259764", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19982", "id": 436259764, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjI1OTc2NA==", "user": {"login": "CartierPierre", "id": 10561315, "node_id": "MDQ6VXNlcjEwNTYxMzE1", "avatar_url": "https://avatars3.githubusercontent.com/u/10561315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CartierPierre", "html_url": "https://github.com/CartierPierre", "followers_url": "https://api.github.com/users/CartierPierre/followers", "following_url": "https://api.github.com/users/CartierPierre/following{/other_user}", "gists_url": "https://api.github.com/users/CartierPierre/gists{/gist_id}", "starred_url": "https://api.github.com/users/CartierPierre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CartierPierre/subscriptions", "organizations_url": "https://api.github.com/users/CartierPierre/orgs", "repos_url": "https://api.github.com/users/CartierPierre/repos", "events_url": "https://api.github.com/users/CartierPierre/events{/privacy}", "received_events_url": "https://api.github.com/users/CartierPierre/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-06T13:53:46Z", "updated_at": "2018-11-06T16:12:56Z", "author_association": "NONE", "body_html": "<p>Having the same issue when trying to run on Android.<br>\n<code>Internal error: Unexpected failure when preparing tensor allocations: tensorflow/contrib/lite/kernels/conv.cc:225 input-&gt;dims-&gt;size != 4 (0 != 4)Node number 0 (CONV_2D) failed to prepare.</code><br>\nI used the last retrain.py from <a href=\"https://www.tensorflow.org/hub/tutorials/image_retraining\" rel=\"nofollow\">https://www.tensorflow.org/hub/tutorials/image_retraining</a> with my own dataset.<br>\nThen converting using TOCO <code>./toco --input_file=\"$HOME/tensorflow-master/output_graph.pb\" --output_file=\"$HOME/output_graph.tflite\" --input_arrays=Placeholder --output_arrays=final_result</code><br>\nThen putted in the android lite demo next to mobilenet_quant.tflite.<br>\nAnd i don't understand what <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20155898\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/bayan100\">@bayan100</a> said with the input_layer</p>\n<p>Edit : Tried to use mobilenet_v2_140_224 model, still the same error on my phone</p>", "body_text": "Having the same issue when trying to run on Android.\nInternal error: Unexpected failure when preparing tensor allocations: tensorflow/contrib/lite/kernels/conv.cc:225 input->dims->size != 4 (0 != 4)Node number 0 (CONV_2D) failed to prepare.\nI used the last retrain.py from https://www.tensorflow.org/hub/tutorials/image_retraining with my own dataset.\nThen converting using TOCO ./toco --input_file=\"$HOME/tensorflow-master/output_graph.pb\" --output_file=\"$HOME/output_graph.tflite\" --input_arrays=Placeholder --output_arrays=final_result\nThen putted in the android lite demo next to mobilenet_quant.tflite.\nAnd i don't understand what @bayan100 said with the input_layer\nEdit : Tried to use mobilenet_v2_140_224 model, still the same error on my phone", "body": "Having the same issue when trying to run on Android.\r\n`Internal error: Unexpected failure when preparing tensor allocations: tensorflow/contrib/lite/kernels/conv.cc:225 input->dims->size != 4 (0 != 4)Node number 0 (CONV_2D) failed to prepare.`\r\nI used the last retrain.py from https://www.tensorflow.org/hub/tutorials/image_retraining with my own dataset.\r\nThen converting using TOCO `./toco --input_file=\"$HOME/tensorflow-master/output_graph.pb\" --output_file=\"$HOME/output_graph.tflite\" --input_arrays=Placeholder --output_arrays=final_result`\r\nThen putted in the android lite demo next to mobilenet_quant.tflite.\r\nAnd i don't understand what @bayan100 said with the input_layer\r\n\r\nEdit : Tried to use mobilenet_v2_140_224 model, still the same error on my phone"}