{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/387871435", "html_url": "https://github.com/tensorflow/tensorflow/issues/19143#issuecomment-387871435", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19143", "id": 387871435, "node_id": "MDEyOklzc3VlQ29tbWVudDM4Nzg3MTQzNQ==", "user": {"login": "skye", "id": 88808, "node_id": "MDQ6VXNlcjg4ODA4", "avatar_url": "https://avatars1.githubusercontent.com/u/88808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skye", "html_url": "https://github.com/skye", "followers_url": "https://api.github.com/users/skye/followers", "following_url": "https://api.github.com/users/skye/following{/other_user}", "gists_url": "https://api.github.com/users/skye/gists{/gist_id}", "starred_url": "https://api.github.com/users/skye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skye/subscriptions", "organizations_url": "https://api.github.com/users/skye/orgs", "repos_url": "https://api.github.com/users/skye/repos", "events_url": "https://api.github.com/users/skye/events{/privacy}", "received_events_url": "https://api.github.com/users/skye/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-09T20:50:27Z", "updated_at": "2018-05-09T20:50:27Z", "author_association": "MEMBER", "body_html": "<p>Derek's correct, tensors defined outside a while loop cannot be (re)evaluated inside the loop, so any computation that happens inside the loop must be defined inside the loop as well. If you're feeling adventurous, you could try defining a TensorFlow function (<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/function.py#L43\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/function.py#L43</a>) that performs the loss calculation in your example, and then call the function inside the while loop (and pass it the result of iterator.get_next()). Note that the Defun decorator is not part of the official API at this time though.</p>", "body_text": "Derek's correct, tensors defined outside a while loop cannot be (re)evaluated inside the loop, so any computation that happens inside the loop must be defined inside the loop as well. If you're feeling adventurous, you could try defining a TensorFlow function (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/function.py#L43) that performs the loss calculation in your example, and then call the function inside the while loop (and pass it the result of iterator.get_next()). Note that the Defun decorator is not part of the official API at this time though.", "body": "Derek's correct, tensors defined outside a while loop cannot be (re)evaluated inside the loop, so any computation that happens inside the loop must be defined inside the loop as well. If you're feeling adventurous, you could try defining a TensorFlow function (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/function.py#L43) that performs the loss calculation in your example, and then call the function inside the while loop (and pass it the result of iterator.get_next()). Note that the Defun decorator is not part of the official API at this time though."}