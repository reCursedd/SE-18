{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23163", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23163/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23163/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23163/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23163", "id": 372570036, "node_id": "MDU6SXNzdWUzNzI1NzAwMzY=", "number": 23163, "title": "ModuleNotFoundError: No module named 'tensorflow_estimator', and other import errors on TFE side", "user": {"login": "sadatnfs", "id": 19790145, "node_id": "MDQ6VXNlcjE5NzkwMTQ1", "avatar_url": "https://avatars2.githubusercontent.com/u/19790145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sadatnfs", "html_url": "https://github.com/sadatnfs", "followers_url": "https://api.github.com/users/sadatnfs/followers", "following_url": "https://api.github.com/users/sadatnfs/following{/other_user}", "gists_url": "https://api.github.com/users/sadatnfs/gists{/gist_id}", "starred_url": "https://api.github.com/users/sadatnfs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sadatnfs/subscriptions", "organizations_url": "https://api.github.com/users/sadatnfs/orgs", "repos_url": "https://api.github.com/users/sadatnfs/repos", "events_url": "https://api.github.com/users/sadatnfs/events{/privacy}", "received_events_url": "https://api.github.com/users/sadatnfs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-10-22T15:29:59Z", "updated_at": "2018-11-03T17:57:47Z", "closed_at": "2018-11-03T17:57:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hello,</p>\n<p>I think there's a bug in the master branch of TF, where it's trying to import a module <code>tensorflow_estimator</code> which doesn't seem to exist? I can load TF as-is all good, but when I try to load TFP, I get this error (posted below my System specs):</p>\n<p><strong>System information</strong></p>\n<ul>\n<li>OS Platform and Distribution: Debian Stretch</li>\n<li>TensorFlow installed from (source or binary): source</li>\n<li>TensorFlow version (use command below): Master branch</li>\n<li>Python version: 3.6.5</li>\n<li>Bazel version (if compiling from source):0.18.0</li>\n<li>GCC/Compiler version (if compiling from source): 8.2.0</li>\n<li>CUDA/cuDNN version: NA</li>\n<li>GPU model and memory: NA</li>\n<li>Mobile device: No</li>\n<li>Exact command to reproduce:</li>\n</ul>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">|</span> sudo tee /etc/apt/sources.list.d/bazel.list <span class=\"pl-k\">&amp;&amp;</span> \\\n    curl https://bazel.build/bazel-release.pub.gpg <span class=\"pl-k\">|</span> sudo apt-key add - <span class=\"pl-k\">&amp;&amp;</span> \\\n    apt-get update <span class=\"pl-k\">&amp;&amp;</span> apt-get install -y bazel  <span class=\"pl-k\">&amp;&amp;</span> rm -rf /var/lib/apt/lists/<span class=\"pl-k\">*</span> <span class=\"pl-k\">&amp;&amp;</span> \\\n    ldconfig <span class=\"pl-k\">&amp;&amp;</span> \\\n    pip uninstall -y tensorflow-tensorboard tb-nightly tf-nightly tensorflow <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">cd</span> /opt <span class=\"pl-k\">&amp;&amp;</span> \\\n    git clone https://github.com/tensorflow/tensorflow.git <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">cd</span> /opt/tensorflow <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span> sed -i 's/2018\\.0\\.3\\.20180406/2019\\.0\\.20180710/g' tensorflow/contrib/cmake/external/mkl.cmake &amp;&amp; \\</span>\n    /bin/bash ./configure \\\n    <span class=\"pl-k\">&amp;&amp;</span> \\\n    bazel build \\\n    --config=mkl --config=opt --config=verbs \\\n    --cxxopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-D_GLIBCXX_USE_CXX11_ABI=0<span class=\"pl-pds\">\"</span></span> \\\n    --copt=-msse4.2 --copt=-msse4.1 --copt=-mavx --copt=-msse2 --copt=-msse3  \\\n    --copt=-O3 --copt=-mfpmath=both \\\n    --copt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-DMKL_LP64<span class=\"pl-pds\">\"</span></span> \\\n    --copt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-fPIC<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_gf_lp64<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_gnu_thread<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-dl<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lpthread<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_core<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lm<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_rt<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkldnn<span class=\"pl-pds\">\"</span></span> \\\n    tensorflow/tools/pip_package:build_pip_package <span class=\"pl-k\">&amp;&amp;</span> \\\n    bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/pip <span class=\"pl-k\">&amp;&amp;</span> \\\n    pip install --no-deps /tmp/pip/tensorflow-<span class=\"pl-k\">*</span>.whl <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">cd</span> /opt <span class=\"pl-k\">&amp;&amp;</span> rm -rf /opt/tensorflow /tmp/<span class=\"pl-k\">*</span> \n\n<span class=\"pl-c1\">cd</span> /opt <span class=\"pl-k\">&amp;&amp;</span> \\\n    pip uninstall -y tfp-nightly <span class=\"pl-k\">&amp;&amp;</span> \\\n    git clone https://github.com/tensorflow/probability.git <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">cd</span> /opt/probability <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">&gt;&gt;</span> /opt/probability/tensorflow_probability/python/sts/internal/__init__.py <span class=\"pl-k\">&amp;&amp;</span> \\\n    bazel build \\\n    --cxxopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-D_GLIBCXX_USE_CXX11_ABI=0<span class=\"pl-pds\">\"</span></span> \\\n    --copt=-mavx --copt=-msse2 --copt=-msse3 --copt=-msse4.1 --copt=-msse4.2 \\\n    --copt=-O3 --copt=-mfpmath=both \\\n    --copt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-DMKL_LP64<span class=\"pl-pds\">\"</span></span> \\\n    --copt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-fPIC<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_gf_lp64<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_gnu_thread<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-dl<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lpthread<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_core<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lm<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_rt<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkldnn<span class=\"pl-pds\">\"</span></span> \\\n    :pip_pkg <span class=\"pl-k\">&amp;&amp;</span> \\\n    PKGDIR=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>mktemp -d<span class=\"pl-pds\">)</span></span> <span class=\"pl-k\">&amp;&amp;</span> \\\n    ./bazel-bin/pip_pkg <span class=\"pl-smi\">$PKGDIR</span> <span class=\"pl-k\">&amp;&amp;</span> \\\n    pip install --no-deps <span class=\"pl-smi\">$PKGDIR</span>/<span class=\"pl-k\">*</span>.whl <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">cd</span> /opt <span class=\"pl-k\">&amp;&amp;</span> rm -rf /opt/probability /tmp/<span class=\"pl-k\">*</span> <span class=\"pl-k\">&amp;&amp;</span> \\\n    python -c <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>import tensorflow_probability<span class=\"pl-pds\">\"</span></span></pre></div>\n<h2>Error trace:</h2>\n<div class=\"highlight highlight-source-python\"><pre>In [<span class=\"pl-c1\">1</span>]: <span class=\"pl-k\">import</span> tensorflow_probability <span class=\"pl-k\">as</span> tfp\n<span class=\"pl-ii\">--------------------------------------------------------------------------</span><span class=\"pl-k\">-</span>\n<span class=\"pl-c1\">ModuleNotFoundError</span>                       Traceback (most recent call last)\n<span class=\"pl-k\">&lt;</span>ipython<span class=\"pl-k\">-</span><span class=\"pl-c1\">input</span><span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span><span class=\"pl-k\">-</span><span class=\"pl-ii\">41494c8c96ff</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n<span class=\"pl-ii\">----</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c1\">1</span> <span class=\"pl-k\">import</span> tensorflow_probability <span class=\"pl-k\">as</span> tfp\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>probability<span class=\"pl-k\">/</span>tensorflow_probability<span class=\"pl-k\">/</span><span class=\"pl-c1\">__init__</span>.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">19</span>\n     <span class=\"pl-c1\">20</span> <span class=\"pl-c\"><span class=\"pl-c\">#</span> from tensorflow_probability.google import staging  # DisableOnExport</span>\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">21</span> <span class=\"pl-k\">from</span> tensorflow_probability.python <span class=\"pl-k\">import</span> <span class=\"pl-k\">*</span>  <span class=\"pl-c\"><span class=\"pl-c\">#</span> pylint: disable=wildcard-import</span>\n     <span class=\"pl-c1\">22</span> <span class=\"pl-k\">from</span> tensorflow_probability.python.version <span class=\"pl-k\">import</span> <span class=\"pl-c1\">__version__</span>\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>probability<span class=\"pl-k\">/</span>tensorflow_probability<span class=\"pl-k\">/</span>python<span class=\"pl-k\">/</span><span class=\"pl-c1\">__init__</span>.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">19</span> <span class=\"pl-k\">from</span> <span class=\"pl-c1\">__future__</span> <span class=\"pl-k\">import</span> print_function\n     <span class=\"pl-c1\">20</span>\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">21</span> <span class=\"pl-k\">from</span> tensorflow_probability.python <span class=\"pl-k\">import</span> bijectors\n     <span class=\"pl-c1\">22</span> <span class=\"pl-k\">from</span> tensorflow_probability.python <span class=\"pl-k\">import</span> distributions\n     <span class=\"pl-c1\">23</span> <span class=\"pl-k\">from</span> tensorflow_probability.python <span class=\"pl-k\">import</span> edward2\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>probability<span class=\"pl-k\">/</span>tensorflow_probability<span class=\"pl-k\">/</span>python<span class=\"pl-k\">/</span>bijectors<span class=\"pl-k\">/</span><span class=\"pl-c1\">__init__</span>.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">21</span> <span class=\"pl-c\"><span class=\"pl-c\">#</span> pylint: disable=unused-import,wildcard-import,line-too-long,g-importing-member</span>\n     <span class=\"pl-c1\">22</span>\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">23</span> <span class=\"pl-k\">from</span> tensorflow_probability.python.bijectors.absolute_value <span class=\"pl-k\">import</span> AbsoluteValue\n     <span class=\"pl-c1\">24</span> <span class=\"pl-k\">from</span> tensorflow_probability.python.bijectors.affine <span class=\"pl-k\">import</span> Affine\n     <span class=\"pl-c1\">25</span> <span class=\"pl-k\">from</span> tensorflow_probability.python.bijectors.affine_linear_operator <span class=\"pl-k\">import</span> AffineLinearOperator\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>probability<span class=\"pl-k\">/</span>tensorflow_probability<span class=\"pl-k\">/</span>python<span class=\"pl-k\">/</span>bijectors<span class=\"pl-k\">/</span>absolute_value.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">20</span>\n     <span class=\"pl-c1\">21</span> <span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">22</span> <span class=\"pl-k\">from</span> tensorflow_probability.python.bijectors <span class=\"pl-k\">import</span> bijector\n     <span class=\"pl-c1\">23</span> <span class=\"pl-k\">from</span> tensorflow.python.ops <span class=\"pl-k\">import</span> control_flow_ops\n     <span class=\"pl-c1\">24</span>\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>probability<span class=\"pl-k\">/</span>tensorflow_probability<span class=\"pl-k\">/</span>python<span class=\"pl-k\">/</span>bijectors<span class=\"pl-k\">/</span>bijector.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">29</span> <span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n     <span class=\"pl-c1\">30</span>\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">31</span> <span class=\"pl-k\">from</span> tensorflow_probability.python.internal <span class=\"pl-k\">import</span> distribution_util\n     <span class=\"pl-c1\">32</span> <span class=\"pl-k\">from</span> tensorflow.python.framework <span class=\"pl-k\">import</span> tensor_util\n     <span class=\"pl-c1\">33</span>\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>probability<span class=\"pl-k\">/</span>tensorflow_probability<span class=\"pl-k\">/</span>python<span class=\"pl-k\">/</span>internal<span class=\"pl-k\">/</span>distribution_util.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">24</span> <span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n     <span class=\"pl-c1\">25</span>\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">26</span> <span class=\"pl-k\">from</span> tensorflow_probability.python.internal <span class=\"pl-k\">import</span> dtype_util\n     <span class=\"pl-c1\">27</span> <span class=\"pl-k\">from</span> tensorflow_probability.python.internal <span class=\"pl-k\">import</span> reparameterization\n     <span class=\"pl-c1\">28</span> <span class=\"pl-k\">from</span> tensorflow.python.framework <span class=\"pl-k\">import</span> smart_cond\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>probability<span class=\"pl-k\">/</span>tensorflow_probability<span class=\"pl-k\">/</span>python<span class=\"pl-k\">/</span>internal<span class=\"pl-k\">/</span>dtype_util.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">22</span> <span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n     <span class=\"pl-c1\">23</span>\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">24</span> <span class=\"pl-k\">from</span> tensorflow.contrib <span class=\"pl-k\">import</span> framework <span class=\"pl-k\">as</span> contrib_framework\n     <span class=\"pl-c1\">25</span>\n     <span class=\"pl-c1\">26</span>\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>conda<span class=\"pl-k\">/</span>lib<span class=\"pl-k\">/</span>python3.6<span class=\"pl-k\">/</span>site<span class=\"pl-k\">-</span>packages<span class=\"pl-k\">/</span>tensorflow<span class=\"pl-k\">/</span>contrib<span class=\"pl-k\">/</span><span class=\"pl-c1\">__init__</span>.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">38</span> <span class=\"pl-k\">from</span> tensorflow.contrib <span class=\"pl-k\">import</span> data\n     <span class=\"pl-c1\">39</span> <span class=\"pl-k\">from</span> tensorflow.contrib <span class=\"pl-k\">import</span> deprecated\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">40</span> <span class=\"pl-k\">from</span> tensorflow.contrib <span class=\"pl-k\">import</span> distribute\n     <span class=\"pl-c1\">41</span> <span class=\"pl-k\">from</span> tensorflow.contrib <span class=\"pl-k\">import</span> distributions\n     <span class=\"pl-c1\">42</span> <span class=\"pl-k\">from</span> tensorflow.contrib <span class=\"pl-k\">import</span> estimator\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>conda<span class=\"pl-k\">/</span>lib<span class=\"pl-k\">/</span>python3.6<span class=\"pl-k\">/</span>site<span class=\"pl-k\">-</span>packages<span class=\"pl-k\">/</span>tensorflow<span class=\"pl-k\">/</span>contrib<span class=\"pl-k\">/</span>distribute<span class=\"pl-k\">/</span><span class=\"pl-c1\">__init__</span>.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">32</span> <span class=\"pl-k\">from</span> tensorflow.contrib.distribute.python.parameter_server_strategy <span class=\"pl-k\">import</span> ParameterServerStrategy\n     <span class=\"pl-c1\">33</span> <span class=\"pl-k\">from</span> tensorflow.contrib.distribute.python.step_fn <span class=\"pl-k\">import</span> <span class=\"pl-k\">*</span>\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">34</span> <span class=\"pl-k\">from</span> tensorflow.contrib.distribute.python.tpu_strategy <span class=\"pl-k\">import</span> TPUStrategy\n     <span class=\"pl-c1\">35</span> <span class=\"pl-k\">from</span> tensorflow.python.distribute.distribute_config <span class=\"pl-k\">import</span> DistributeConfig\n     <span class=\"pl-c1\">36</span> <span class=\"pl-k\">from</span> tensorflow.python.distribute.distribute_coordinator <span class=\"pl-k\">import</span> run_standard_tensorflow_server\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>conda<span class=\"pl-k\">/</span>lib<span class=\"pl-k\">/</span>python3.6<span class=\"pl-k\">/</span>site<span class=\"pl-k\">-</span>packages<span class=\"pl-k\">/</span>tensorflow<span class=\"pl-k\">/</span>contrib<span class=\"pl-k\">/</span>distribute<span class=\"pl-k\">/</span>python<span class=\"pl-k\">/</span>tpu_strategy.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">25</span> <span class=\"pl-k\">from</span> tensorflow.contrib.distribute.python <span class=\"pl-k\">import</span> one_device_strategy\n     <span class=\"pl-c1\">26</span> <span class=\"pl-k\">from</span> tensorflow.contrib.distribute.python <span class=\"pl-k\">import</span> values\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">27</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.ops <span class=\"pl-k\">import</span> tpu_ops\n     <span class=\"pl-c1\">28</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu <span class=\"pl-k\">import</span> tpu\n     <span class=\"pl-c1\">29</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu <span class=\"pl-k\">import</span> tpu_system_metadata <span class=\"pl-k\">as</span> tpu_system_metadata_lib\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>conda<span class=\"pl-k\">/</span>lib<span class=\"pl-k\">/</span>python3.6<span class=\"pl-k\">/</span>site<span class=\"pl-k\">-</span>packages<span class=\"pl-k\">/</span>tensorflow<span class=\"pl-k\">/</span>contrib<span class=\"pl-k\">/</span>tpu<span class=\"pl-k\">/</span><span class=\"pl-c1\">__init__</span>.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">71</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu.bfloat16 <span class=\"pl-k\">import</span> <span class=\"pl-k\">*</span>\n     <span class=\"pl-c1\">72</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu.device_assignment <span class=\"pl-k\">import</span> <span class=\"pl-k\">*</span>\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">73</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu.keras_support <span class=\"pl-k\">import</span> tpu_model <span class=\"pl-k\">as</span> keras_to_tpu_model\n     <span class=\"pl-c1\">74</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu.keras_support <span class=\"pl-k\">import</span> TPUDistributionStrategy\n     <span class=\"pl-c1\">75</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu.topology <span class=\"pl-k\">import</span> <span class=\"pl-k\">*</span>\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>conda<span class=\"pl-k\">/</span>lib<span class=\"pl-k\">/</span>python3.6<span class=\"pl-k\">/</span>site<span class=\"pl-k\">-</span>packages<span class=\"pl-k\">/</span>tensorflow<span class=\"pl-k\">/</span>contrib<span class=\"pl-k\">/</span>tpu<span class=\"pl-k\">/</span>python<span class=\"pl-k\">/</span>tpu<span class=\"pl-k\">/</span>keras_support.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">60</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.ops <span class=\"pl-k\">import</span> tpu_ops\n     <span class=\"pl-c1\">61</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu <span class=\"pl-k\">import</span> keras_tpu_variables\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">62</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu <span class=\"pl-k\">import</span> tpu\n     <span class=\"pl-c1\">63</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu <span class=\"pl-k\">import</span> tpu_function\n     <span class=\"pl-c1\">64</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.tpu <span class=\"pl-k\">import</span> tpu_optimizer\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>conda<span class=\"pl-k\">/</span>lib<span class=\"pl-k\">/</span>python3.6<span class=\"pl-k\">/</span>site<span class=\"pl-k\">-</span>packages<span class=\"pl-k\">/</span>tensorflow<span class=\"pl-k\">/</span>contrib<span class=\"pl-k\">/</span>tpu<span class=\"pl-k\">/</span>python<span class=\"pl-k\">/</span>tpu<span class=\"pl-k\">/</span>tpu.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">22</span> <span class=\"pl-k\">from</span> six.moves <span class=\"pl-k\">import</span> <span class=\"pl-v\">xrange</span>  <span class=\"pl-c\"><span class=\"pl-c\">#</span> pylint: disable=redefined-builtin</span>\n     <span class=\"pl-c1\">23</span>\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">24</span> <span class=\"pl-k\">from</span> tensorflow.contrib.compiler <span class=\"pl-k\">import</span> xla\n     <span class=\"pl-c1\">25</span> <span class=\"pl-k\">from</span> tensorflow.contrib.framework.python.framework <span class=\"pl-k\">import</span> experimental\n     <span class=\"pl-c1\">26</span> <span class=\"pl-k\">from</span> tensorflow.contrib.tpu.python.ops <span class=\"pl-k\">import</span> tpu_ops\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>conda<span class=\"pl-k\">/</span>lib<span class=\"pl-k\">/</span>python3.6<span class=\"pl-k\">/</span>site<span class=\"pl-k\">-</span>packages<span class=\"pl-k\">/</span>tensorflow<span class=\"pl-k\">/</span>contrib<span class=\"pl-k\">/</span>compiler<span class=\"pl-k\">/</span>xla.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">25</span> <span class=\"pl-k\">from</span> tensorflow.compiler.jit.ops <span class=\"pl-k\">import</span> xla_ops\n     <span class=\"pl-c1\">26</span> <span class=\"pl-k\">from</span> tensorflow.core.framework <span class=\"pl-k\">import</span> attr_value_pb2\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">27</span> <span class=\"pl-k\">from</span> tensorflow.python.estimator <span class=\"pl-k\">import</span> model_fn <span class=\"pl-k\">as</span> model_fn_lib\n     <span class=\"pl-c1\">28</span> <span class=\"pl-k\">from</span> tensorflow.python.framework <span class=\"pl-k\">import</span> ops\n     <span class=\"pl-c1\">29</span> <span class=\"pl-k\">from</span> tensorflow.python.ops <span class=\"pl-k\">import</span> array_ops\n\n<span class=\"pl-k\">/</span>opt<span class=\"pl-k\">/</span>conda<span class=\"pl-k\">/</span>lib<span class=\"pl-k\">/</span>python3.6<span class=\"pl-k\">/</span>site<span class=\"pl-k\">-</span>packages<span class=\"pl-k\">/</span>tensorflow<span class=\"pl-k\">/</span>python<span class=\"pl-k\">/</span>estimator<span class=\"pl-k\">/</span><span class=\"pl-c1\">__init__</span>.py <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n     <span class=\"pl-c1\">24</span> <span class=\"pl-k\">from</span> <span class=\"pl-c1\">__future__</span> <span class=\"pl-k\">import</span> print_function\n     <span class=\"pl-c1\">25</span>\n<span class=\"pl-ii\">--</span><span class=\"pl-ii\">-&gt;</span> <span class=\"pl-c1\">26</span> <span class=\"pl-k\">from</span> tensorflow_estimator.python <span class=\"pl-k\">import</span> estimator\n     <span class=\"pl-c1\">27</span>\n     <span class=\"pl-c1\">28</span> <span class=\"pl-c\"><span class=\"pl-c\">#</span> Include attrs that start with single underscore.</span>\n\n<span class=\"pl-c1\">ModuleNotFoundError</span>: No module named <span class=\"pl-s\"><span class=\"pl-pds\">'</span>tensorflow_estimator<span class=\"pl-pds\">'</span></span></pre></div>", "body_text": "Hello,\nI think there's a bug in the master branch of TF, where it's trying to import a module tensorflow_estimator which doesn't seem to exist? I can load TF as-is all good, but when I try to load TFP, I get this error (posted below my System specs):\nSystem information\n\nOS Platform and Distribution: Debian Stretch\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): Master branch\nPython version: 3.6.5\nBazel version (if compiling from source):0.18.0\nGCC/Compiler version (if compiling from source): 8.2.0\nCUDA/cuDNN version: NA\nGPU model and memory: NA\nMobile device: No\nExact command to reproduce:\n\necho \"deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8\" | sudo tee /etc/apt/sources.list.d/bazel.list && \\\n    curl https://bazel.build/bazel-release.pub.gpg | sudo apt-key add - && \\\n    apt-get update && apt-get install -y bazel  && rm -rf /var/lib/apt/lists/* && \\\n    ldconfig && \\\n    pip uninstall -y tensorflow-tensorboard tb-nightly tf-nightly tensorflow && \\\n    cd /opt && \\\n    git clone https://github.com/tensorflow/tensorflow.git && \\\n    cd /opt/tensorflow && \\\n    # sed -i 's/2018\\.0\\.3\\.20180406/2019\\.0\\.20180710/g' tensorflow/contrib/cmake/external/mkl.cmake && \\\n    /bin/bash ./configure \\\n    && \\\n    bazel build \\\n    --config=mkl --config=opt --config=verbs \\\n    --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" \\\n    --copt=-msse4.2 --copt=-msse4.1 --copt=-mavx --copt=-msse2 --copt=-msse3  \\\n    --copt=-O3 --copt=-mfpmath=both \\\n    --copt=\"-DMKL_LP64\" \\\n    --copt=\"-fPIC\" \\\n    --linkopt=\"-lmkl_gf_lp64\" \\\n    --linkopt=\"-lmkl_gnu_thread\" \\\n    --linkopt=\"-dl\" \\\n    --linkopt=\"-lpthread\" \\\n    --linkopt=\"-lmkl_core\" \\\n    --linkopt=\"-lm\" \\\n    --linkopt=\"-lmkl_rt\" \\\n    --linkopt=\"-lmkldnn\" \\\n    tensorflow/tools/pip_package:build_pip_package && \\\n    bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/pip && \\\n    pip install --no-deps /tmp/pip/tensorflow-*.whl && \\\n    cd /opt && rm -rf /opt/tensorflow /tmp/* \n\ncd /opt && \\\n    pip uninstall -y tfp-nightly && \\\n    git clone https://github.com/tensorflow/probability.git && \\\n    cd /opt/probability && \\\n    echo \"\" >> /opt/probability/tensorflow_probability/python/sts/internal/__init__.py && \\\n    bazel build \\\n    --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" \\\n    --copt=-mavx --copt=-msse2 --copt=-msse3 --copt=-msse4.1 --copt=-msse4.2 \\\n    --copt=-O3 --copt=-mfpmath=both \\\n    --copt=\"-DMKL_LP64\" \\\n    --copt=\"-fPIC\" \\\n    --linkopt=\"-lmkl_gf_lp64\" \\\n    --linkopt=\"-lmkl_gnu_thread\" \\\n    --linkopt=\"-dl\" \\\n    --linkopt=\"-lpthread\" \\\n    --linkopt=\"-lmkl_core\" \\\n    --linkopt=\"-lm\" \\\n    --linkopt=\"-lmkl_rt\" \\\n    --linkopt=\"-lmkldnn\" \\\n    :pip_pkg && \\\n    PKGDIR=$(mktemp -d) && \\\n    ./bazel-bin/pip_pkg $PKGDIR && \\\n    pip install --no-deps $PKGDIR/*.whl && \\\n    cd /opt && rm -rf /opt/probability /tmp/* && \\\n    python -c \"import tensorflow_probability\"\nError trace:\nIn [1]: import tensorflow_probability as tfp\n---------------------------------------------------------------------------\nModuleNotFoundError                       Traceback (most recent call last)\n<ipython-input-1-41494c8c96ff> in <module>\n----> 1 import tensorflow_probability as tfp\n\n/opt/probability/tensorflow_probability/__init__.py in <module>\n     19\n     20 # from tensorflow_probability.google import staging  # DisableOnExport\n---> 21 from tensorflow_probability.python import *  # pylint: disable=wildcard-import\n     22 from tensorflow_probability.python.version import __version__\n\n/opt/probability/tensorflow_probability/python/__init__.py in <module>\n     19 from __future__ import print_function\n     20\n---> 21 from tensorflow_probability.python import bijectors\n     22 from tensorflow_probability.python import distributions\n     23 from tensorflow_probability.python import edward2\n\n/opt/probability/tensorflow_probability/python/bijectors/__init__.py in <module>\n     21 # pylint: disable=unused-import,wildcard-import,line-too-long,g-importing-member\n     22\n---> 23 from tensorflow_probability.python.bijectors.absolute_value import AbsoluteValue\n     24 from tensorflow_probability.python.bijectors.affine import Affine\n     25 from tensorflow_probability.python.bijectors.affine_linear_operator import AffineLinearOperator\n\n/opt/probability/tensorflow_probability/python/bijectors/absolute_value.py in <module>\n     20\n     21 import tensorflow as tf\n---> 22 from tensorflow_probability.python.bijectors import bijector\n     23 from tensorflow.python.ops import control_flow_ops\n     24\n\n/opt/probability/tensorflow_probability/python/bijectors/bijector.py in <module>\n     29 import tensorflow as tf\n     30\n---> 31 from tensorflow_probability.python.internal import distribution_util\n     32 from tensorflow.python.framework import tensor_util\n     33\n\n/opt/probability/tensorflow_probability/python/internal/distribution_util.py in <module>\n     24 import tensorflow as tf\n     25\n---> 26 from tensorflow_probability.python.internal import dtype_util\n     27 from tensorflow_probability.python.internal import reparameterization\n     28 from tensorflow.python.framework import smart_cond\n\n/opt/probability/tensorflow_probability/python/internal/dtype_util.py in <module>\n     22 import tensorflow as tf\n     23\n---> 24 from tensorflow.contrib import framework as contrib_framework\n     25\n     26\n\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/__init__.py in <module>\n     38 from tensorflow.contrib import data\n     39 from tensorflow.contrib import deprecated\n---> 40 from tensorflow.contrib import distribute\n     41 from tensorflow.contrib import distributions\n     42 from tensorflow.contrib import estimator\n\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/distribute/__init__.py in <module>\n     32 from tensorflow.contrib.distribute.python.parameter_server_strategy import ParameterServerStrategy\n     33 from tensorflow.contrib.distribute.python.step_fn import *\n---> 34 from tensorflow.contrib.distribute.python.tpu_strategy import TPUStrategy\n     35 from tensorflow.python.distribute.distribute_config import DistributeConfig\n     36 from tensorflow.python.distribute.distribute_coordinator import run_standard_tensorflow_server\n\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/distribute/python/tpu_strategy.py in <module>\n     25 from tensorflow.contrib.distribute.python import one_device_strategy\n     26 from tensorflow.contrib.distribute.python import values\n---> 27 from tensorflow.contrib.tpu.python.ops import tpu_ops\n     28 from tensorflow.contrib.tpu.python.tpu import tpu\n     29 from tensorflow.contrib.tpu.python.tpu import tpu_system_metadata as tpu_system_metadata_lib\n\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/tpu/__init__.py in <module>\n     71 from tensorflow.contrib.tpu.python.tpu.bfloat16 import *\n     72 from tensorflow.contrib.tpu.python.tpu.device_assignment import *\n---> 73 from tensorflow.contrib.tpu.python.tpu.keras_support import tpu_model as keras_to_tpu_model\n     74 from tensorflow.contrib.tpu.python.tpu.keras_support import TPUDistributionStrategy\n     75 from tensorflow.contrib.tpu.python.tpu.topology import *\n\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/tpu/python/tpu/keras_support.py in <module>\n     60 from tensorflow.contrib.tpu.python.ops import tpu_ops\n     61 from tensorflow.contrib.tpu.python.tpu import keras_tpu_variables\n---> 62 from tensorflow.contrib.tpu.python.tpu import tpu\n     63 from tensorflow.contrib.tpu.python.tpu import tpu_function\n     64 from tensorflow.contrib.tpu.python.tpu import tpu_optimizer\n\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/tpu/python/tpu/tpu.py in <module>\n     22 from six.moves import xrange  # pylint: disable=redefined-builtin\n     23\n---> 24 from tensorflow.contrib.compiler import xla\n     25 from tensorflow.contrib.framework.python.framework import experimental\n     26 from tensorflow.contrib.tpu.python.ops import tpu_ops\n\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/compiler/xla.py in <module>\n     25 from tensorflow.compiler.jit.ops import xla_ops\n     26 from tensorflow.core.framework import attr_value_pb2\n---> 27 from tensorflow.python.estimator import model_fn as model_fn_lib\n     28 from tensorflow.python.framework import ops\n     29 from tensorflow.python.ops import array_ops\n\n/opt/conda/lib/python3.6/site-packages/tensorflow/python/estimator/__init__.py in <module>\n     24 from __future__ import print_function\n     25\n---> 26 from tensorflow_estimator.python import estimator\n     27\n     28 # Include attrs that start with single underscore.\n\nModuleNotFoundError: No module named 'tensorflow_estimator'", "body": "Hello,\r\n\r\nI think there's a bug in the master branch of TF, where it's trying to import a module `tensorflow_estimator` which doesn't seem to exist? I can load TF as-is all good, but when I try to load TFP, I get this error (posted below my System specs):\r\n\r\n\r\n**System information**\r\n- OS Platform and Distribution: Debian Stretch\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): Master branch\r\n- Python version: 3.6.5\r\n- Bazel version (if compiling from source):0.18.0\r\n- GCC/Compiler version (if compiling from source): 8.2.0\r\n- CUDA/cuDNN version: NA\r\n- GPU model and memory: NA\r\n- Mobile device: No\r\n- Exact command to reproduce:\r\n\r\n```bash \r\necho \"deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8\" | sudo tee /etc/apt/sources.list.d/bazel.list && \\\r\n    curl https://bazel.build/bazel-release.pub.gpg | sudo apt-key add - && \\\r\n    apt-get update && apt-get install -y bazel  && rm -rf /var/lib/apt/lists/* && \\\r\n    ldconfig && \\\r\n    pip uninstall -y tensorflow-tensorboard tb-nightly tf-nightly tensorflow && \\\r\n    cd /opt && \\\r\n    git clone https://github.com/tensorflow/tensorflow.git && \\\r\n    cd /opt/tensorflow && \\\r\n    # sed -i 's/2018\\.0\\.3\\.20180406/2019\\.0\\.20180710/g' tensorflow/contrib/cmake/external/mkl.cmake && \\\r\n    /bin/bash ./configure \\\r\n    && \\\r\n    bazel build \\\r\n    --config=mkl --config=opt --config=verbs \\\r\n    --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" \\\r\n    --copt=-msse4.2 --copt=-msse4.1 --copt=-mavx --copt=-msse2 --copt=-msse3  \\\r\n    --copt=-O3 --copt=-mfpmath=both \\\r\n    --copt=\"-DMKL_LP64\" \\\r\n    --copt=\"-fPIC\" \\\r\n    --linkopt=\"-lmkl_gf_lp64\" \\\r\n    --linkopt=\"-lmkl_gnu_thread\" \\\r\n    --linkopt=\"-dl\" \\\r\n    --linkopt=\"-lpthread\" \\\r\n    --linkopt=\"-lmkl_core\" \\\r\n    --linkopt=\"-lm\" \\\r\n    --linkopt=\"-lmkl_rt\" \\\r\n    --linkopt=\"-lmkldnn\" \\\r\n    tensorflow/tools/pip_package:build_pip_package && \\\r\n    bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/pip && \\\r\n    pip install --no-deps /tmp/pip/tensorflow-*.whl && \\\r\n    cd /opt && rm -rf /opt/tensorflow /tmp/* \r\n\r\ncd /opt && \\\r\n    pip uninstall -y tfp-nightly && \\\r\n    git clone https://github.com/tensorflow/probability.git && \\\r\n    cd /opt/probability && \\\r\n    echo \"\" >> /opt/probability/tensorflow_probability/python/sts/internal/__init__.py && \\\r\n    bazel build \\\r\n    --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" \\\r\n    --copt=-mavx --copt=-msse2 --copt=-msse3 --copt=-msse4.1 --copt=-msse4.2 \\\r\n    --copt=-O3 --copt=-mfpmath=both \\\r\n    --copt=\"-DMKL_LP64\" \\\r\n    --copt=\"-fPIC\" \\\r\n    --linkopt=\"-lmkl_gf_lp64\" \\\r\n    --linkopt=\"-lmkl_gnu_thread\" \\\r\n    --linkopt=\"-dl\" \\\r\n    --linkopt=\"-lpthread\" \\\r\n    --linkopt=\"-lmkl_core\" \\\r\n    --linkopt=\"-lm\" \\\r\n    --linkopt=\"-lmkl_rt\" \\\r\n    --linkopt=\"-lmkldnn\" \\\r\n    :pip_pkg && \\\r\n    PKGDIR=$(mktemp -d) && \\\r\n    ./bazel-bin/pip_pkg $PKGDIR && \\\r\n    pip install --no-deps $PKGDIR/*.whl && \\\r\n    cd /opt && rm -rf /opt/probability /tmp/* && \\\r\n    python -c \"import tensorflow_probability\"\r\n```\r\n\r\n## Error trace:\r\n\r\n```python\r\n\r\nIn [1]: import tensorflow_probability as tfp\r\n---------------------------------------------------------------------------\r\nModuleNotFoundError                       Traceback (most recent call last)\r\n<ipython-input-1-41494c8c96ff> in <module>\r\n----> 1 import tensorflow_probability as tfp\r\n\r\n/opt/probability/tensorflow_probability/__init__.py in <module>\r\n     19\r\n     20 # from tensorflow_probability.google import staging  # DisableOnExport\r\n---> 21 from tensorflow_probability.python import *  # pylint: disable=wildcard-import\r\n     22 from tensorflow_probability.python.version import __version__\r\n\r\n/opt/probability/tensorflow_probability/python/__init__.py in <module>\r\n     19 from __future__ import print_function\r\n     20\r\n---> 21 from tensorflow_probability.python import bijectors\r\n     22 from tensorflow_probability.python import distributions\r\n     23 from tensorflow_probability.python import edward2\r\n\r\n/opt/probability/tensorflow_probability/python/bijectors/__init__.py in <module>\r\n     21 # pylint: disable=unused-import,wildcard-import,line-too-long,g-importing-member\r\n     22\r\n---> 23 from tensorflow_probability.python.bijectors.absolute_value import AbsoluteValue\r\n     24 from tensorflow_probability.python.bijectors.affine import Affine\r\n     25 from tensorflow_probability.python.bijectors.affine_linear_operator import AffineLinearOperator\r\n\r\n/opt/probability/tensorflow_probability/python/bijectors/absolute_value.py in <module>\r\n     20\r\n     21 import tensorflow as tf\r\n---> 22 from tensorflow_probability.python.bijectors import bijector\r\n     23 from tensorflow.python.ops import control_flow_ops\r\n     24\r\n\r\n/opt/probability/tensorflow_probability/python/bijectors/bijector.py in <module>\r\n     29 import tensorflow as tf\r\n     30\r\n---> 31 from tensorflow_probability.python.internal import distribution_util\r\n     32 from tensorflow.python.framework import tensor_util\r\n     33\r\n\r\n/opt/probability/tensorflow_probability/python/internal/distribution_util.py in <module>\r\n     24 import tensorflow as tf\r\n     25\r\n---> 26 from tensorflow_probability.python.internal import dtype_util\r\n     27 from tensorflow_probability.python.internal import reparameterization\r\n     28 from tensorflow.python.framework import smart_cond\r\n\r\n/opt/probability/tensorflow_probability/python/internal/dtype_util.py in <module>\r\n     22 import tensorflow as tf\r\n     23\r\n---> 24 from tensorflow.contrib import framework as contrib_framework\r\n     25\r\n     26\r\n\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/__init__.py in <module>\r\n     38 from tensorflow.contrib import data\r\n     39 from tensorflow.contrib import deprecated\r\n---> 40 from tensorflow.contrib import distribute\r\n     41 from tensorflow.contrib import distributions\r\n     42 from tensorflow.contrib import estimator\r\n\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/distribute/__init__.py in <module>\r\n     32 from tensorflow.contrib.distribute.python.parameter_server_strategy import ParameterServerStrategy\r\n     33 from tensorflow.contrib.distribute.python.step_fn import *\r\n---> 34 from tensorflow.contrib.distribute.python.tpu_strategy import TPUStrategy\r\n     35 from tensorflow.python.distribute.distribute_config import DistributeConfig\r\n     36 from tensorflow.python.distribute.distribute_coordinator import run_standard_tensorflow_server\r\n\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/distribute/python/tpu_strategy.py in <module>\r\n     25 from tensorflow.contrib.distribute.python import one_device_strategy\r\n     26 from tensorflow.contrib.distribute.python import values\r\n---> 27 from tensorflow.contrib.tpu.python.ops import tpu_ops\r\n     28 from tensorflow.contrib.tpu.python.tpu import tpu\r\n     29 from tensorflow.contrib.tpu.python.tpu import tpu_system_metadata as tpu_system_metadata_lib\r\n\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/tpu/__init__.py in <module>\r\n     71 from tensorflow.contrib.tpu.python.tpu.bfloat16 import *\r\n     72 from tensorflow.contrib.tpu.python.tpu.device_assignment import *\r\n---> 73 from tensorflow.contrib.tpu.python.tpu.keras_support import tpu_model as keras_to_tpu_model\r\n     74 from tensorflow.contrib.tpu.python.tpu.keras_support import TPUDistributionStrategy\r\n     75 from tensorflow.contrib.tpu.python.tpu.topology import *\r\n\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/tpu/python/tpu/keras_support.py in <module>\r\n     60 from tensorflow.contrib.tpu.python.ops import tpu_ops\r\n     61 from tensorflow.contrib.tpu.python.tpu import keras_tpu_variables\r\n---> 62 from tensorflow.contrib.tpu.python.tpu import tpu\r\n     63 from tensorflow.contrib.tpu.python.tpu import tpu_function\r\n     64 from tensorflow.contrib.tpu.python.tpu import tpu_optimizer\r\n\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/tpu/python/tpu/tpu.py in <module>\r\n     22 from six.moves import xrange  # pylint: disable=redefined-builtin\r\n     23\r\n---> 24 from tensorflow.contrib.compiler import xla\r\n     25 from tensorflow.contrib.framework.python.framework import experimental\r\n     26 from tensorflow.contrib.tpu.python.ops import tpu_ops\r\n\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/compiler/xla.py in <module>\r\n     25 from tensorflow.compiler.jit.ops import xla_ops\r\n     26 from tensorflow.core.framework import attr_value_pb2\r\n---> 27 from tensorflow.python.estimator import model_fn as model_fn_lib\r\n     28 from tensorflow.python.framework import ops\r\n     29 from tensorflow.python.ops import array_ops\r\n\r\n/opt/conda/lib/python3.6/site-packages/tensorflow/python/estimator/__init__.py in <module>\r\n     24 from __future__ import print_function\r\n     25\r\n---> 26 from tensorflow_estimator.python import estimator\r\n     27\r\n     28 # Include attrs that start with single underscore.\r\n\r\nModuleNotFoundError: No module named 'tensorflow_estimator'\r\n```\r\n"}