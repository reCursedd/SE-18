{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13908", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13908/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13908/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13908/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/13908", "id": 267507932, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ4MDE5MDkw", "number": 13908, "title": "Add int64 shape support on GPU for stateless random ops.", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 419840263, "node_id": "MDU6TGFiZWw0MTk4NDAyNjM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20testing%20(then%20merge)", "name": "awaiting testing (then merge)", "color": "c2e0c6", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-10-22T23:23:49Z", "updated_at": "2017-10-23T14:14:39Z", "closed_at": "2017-10-23T05:50:21Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/13908", "html_url": "https://github.com/tensorflow/tensorflow/pull/13908", "diff_url": "https://github.com/tensorflow/tensorflow/pull/13908.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/13908.patch"}, "body_html": "<p>This fix adds int64 shape support on GPU for stateless random ops <code>StatelessRandomUniform</code>, <code>StatelessRandomNormal</code>, <code>StatelessTruncatedNormal</code>.</p>\n<p>The int64 shape for stateless random ops is already supported on CPU with int32/int64 processed properly through <code>MakeShape</code>.</p>\n<p>However, on GPU a type constraint <code>.TypeConstraint&lt;int32&gt;(\"T\")</code> has been improperly added. Such a type constraint actually prevents an int64 shape type to run on GPU. (As a comparision, no type constraint on CPU).</p>\n<p>This fix removes the type constraint and allows int64 shape to be run on GPU. This fix also adds test cases for int64 shape support on stateless random ops.</p>\n<p>Signed-off-by: Yong Tang <a href=\"mailto:yong.tang.github@outlook.com\">yong.tang.github@outlook.com</a></p>", "body_text": "This fix adds int64 shape support on GPU for stateless random ops StatelessRandomUniform, StatelessRandomNormal, StatelessTruncatedNormal.\nThe int64 shape for stateless random ops is already supported on CPU with int32/int64 processed properly through MakeShape.\nHowever, on GPU a type constraint .TypeConstraint<int32>(\"T\") has been improperly added. Such a type constraint actually prevents an int64 shape type to run on GPU. (As a comparision, no type constraint on CPU).\nThis fix removes the type constraint and allows int64 shape to be run on GPU. This fix also adds test cases for int64 shape support on stateless random ops.\nSigned-off-by: Yong Tang yong.tang.github@outlook.com", "body": "This fix adds int64 shape support on GPU for stateless random ops `StatelessRandomUniform`, `StatelessRandomNormal`, `StatelessTruncatedNormal`.\r\n\r\nThe int64 shape for stateless random ops is already supported on CPU with int32/int64 processed properly through `MakeShape`.\r\n\r\nHowever, on GPU a type constraint `.TypeConstraint<int32>(\"T\")` has been improperly added. Such a type constraint actually prevents an int64 shape type to run on GPU. (As a comparision, no type constraint on CPU).\r\n\r\nThis fix removes the type constraint and allows int64 shape to be run on GPU. This fix also adds test cases for int64 shape support on stateless random ops.\r\n\r\nSigned-off-by: Yong Tang <yong.tang.github@outlook.com>"}