{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/396748493", "html_url": "https://github.com/tensorflow/tensorflow/issues/19892#issuecomment-396748493", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19892", "id": 396748493, "node_id": "MDEyOklzc3VlQ29tbWVudDM5Njc0ODQ5Mw==", "user": {"login": "danielepolencic", "id": 1130499, "node_id": "MDQ6VXNlcjExMzA0OTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1130499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielepolencic", "html_url": "https://github.com/danielepolencic", "followers_url": "https://api.github.com/users/danielepolencic/followers", "following_url": "https://api.github.com/users/danielepolencic/following{/other_user}", "gists_url": "https://api.github.com/users/danielepolencic/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielepolencic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielepolencic/subscriptions", "organizations_url": "https://api.github.com/users/danielepolencic/orgs", "repos_url": "https://api.github.com/users/danielepolencic/repos", "events_url": "https://api.github.com/users/danielepolencic/events{/privacy}", "received_events_url": "https://api.github.com/users/danielepolencic/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-12T22:00:06Z", "updated_at": "2018-06-12T22:00:06Z", "author_association": "NONE", "body_html": "<p>Same here.</p>\n<pre><code>INFO:tensorflow:TF_CONFIG environment variable: {'cluster': {'master': ['tfjob1-master-twc1-0:2222'], 'ps': ['tfjob1-ps-twc1-0:2222'], 'worker': ['tfjob1-worker-twc1-0:2222', 'tfjob1-worker-twc1-1:2222']}, 'task': {'type': 'master', 'index': 0}, 'environment': 'cloud'}\nINFO:tensorflow:Using config: {'_model_dir': './out/mnist_custom_estimator', '_tf_random_seed': None, '_save_summary_steps': 20, '_save_checkpoints_steps': 20, '_save_checkpoints_secs': None, '_session_config': None, '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_service': None, '_cluster_spec': &lt;tensorflow.python.training.server_lib.ClusterSpec object at 0x7fe07aaed8d0&gt;, '_task_type': 'master', '_task_id': 0, '_global_id_in_cluster': 0, '_master': 'grpc://tfjob1-master-twc1-0:2222', '_evaluation_master': '', '_num_ps_replicas': 1, '_num_worker_replicas': 3, '_is_chief': True}\nINFO:tensorflow:Calling model_fn.\nINFO:tensorflow:Done calling model_fn.\nINFO:tensorflow:Create CheckpointSaverHook.\nINFO:tensorflow:Graph was finalized.\n</code></pre>\n<p>Running the following script: <a href=\"https://github.com/yu-iskw/tensorflow-serving-example/blob/master/python/train/mnist_custom_estimator.py\">https://github.com/yu-iskw/tensorflow-serving-example/blob/master/python/train/mnist_custom_estimator.py</a></p>\n<p>I'm running it in Distributed Tensorflow using Kubernetes on a shared filesystem (NFS). I can confirm that the PS and master can see the same files such as checkpoints.</p>", "body_text": "Same here.\nINFO:tensorflow:TF_CONFIG environment variable: {'cluster': {'master': ['tfjob1-master-twc1-0:2222'], 'ps': ['tfjob1-ps-twc1-0:2222'], 'worker': ['tfjob1-worker-twc1-0:2222', 'tfjob1-worker-twc1-1:2222']}, 'task': {'type': 'master', 'index': 0}, 'environment': 'cloud'}\nINFO:tensorflow:Using config: {'_model_dir': './out/mnist_custom_estimator', '_tf_random_seed': None, '_save_summary_steps': 20, '_save_checkpoints_steps': 20, '_save_checkpoints_secs': None, '_session_config': None, '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7fe07aaed8d0>, '_task_type': 'master', '_task_id': 0, '_global_id_in_cluster': 0, '_master': 'grpc://tfjob1-master-twc1-0:2222', '_evaluation_master': '', '_num_ps_replicas': 1, '_num_worker_replicas': 3, '_is_chief': True}\nINFO:tensorflow:Calling model_fn.\nINFO:tensorflow:Done calling model_fn.\nINFO:tensorflow:Create CheckpointSaverHook.\nINFO:tensorflow:Graph was finalized.\n\nRunning the following script: https://github.com/yu-iskw/tensorflow-serving-example/blob/master/python/train/mnist_custom_estimator.py\nI'm running it in Distributed Tensorflow using Kubernetes on a shared filesystem (NFS). I can confirm that the PS and master can see the same files such as checkpoints.", "body": "Same here.\r\n\r\n```\r\nINFO:tensorflow:TF_CONFIG environment variable: {'cluster': {'master': ['tfjob1-master-twc1-0:2222'], 'ps': ['tfjob1-ps-twc1-0:2222'], 'worker': ['tfjob1-worker-twc1-0:2222', 'tfjob1-worker-twc1-1:2222']}, 'task': {'type': 'master', 'index': 0}, 'environment': 'cloud'}\r\nINFO:tensorflow:Using config: {'_model_dir': './out/mnist_custom_estimator', '_tf_random_seed': None, '_save_summary_steps': 20, '_save_checkpoints_steps': 20, '_save_checkpoints_secs': None, '_session_config': None, '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7fe07aaed8d0>, '_task_type': 'master', '_task_id': 0, '_global_id_in_cluster': 0, '_master': 'grpc://tfjob1-master-twc1-0:2222', '_evaluation_master': '', '_num_ps_replicas': 1, '_num_worker_replicas': 3, '_is_chief': True}\r\nINFO:tensorflow:Calling model_fn.\r\nINFO:tensorflow:Done calling model_fn.\r\nINFO:tensorflow:Create CheckpointSaverHook.\r\nINFO:tensorflow:Graph was finalized.\r\n```\r\n\r\nRunning the following script: https://github.com/yu-iskw/tensorflow-serving-example/blob/master/python/train/mnist_custom_estimator.py\r\n\r\nI'm running it in Distributed Tensorflow using Kubernetes on a shared filesystem (NFS). I can confirm that the PS and master can see the same files such as checkpoints."}