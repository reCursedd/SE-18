{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/401382315", "html_url": "https://github.com/tensorflow/tensorflow/issues/19731#issuecomment-401382315", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19731", "id": 401382315, "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTM4MjMxNQ==", "user": {"login": "saxenarohan97", "id": 17175695, "node_id": "MDQ6VXNlcjE3MTc1Njk1", "avatar_url": "https://avatars1.githubusercontent.com/u/17175695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saxenarohan97", "html_url": "https://github.com/saxenarohan97", "followers_url": "https://api.github.com/users/saxenarohan97/followers", "following_url": "https://api.github.com/users/saxenarohan97/following{/other_user}", "gists_url": "https://api.github.com/users/saxenarohan97/gists{/gist_id}", "starred_url": "https://api.github.com/users/saxenarohan97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saxenarohan97/subscriptions", "organizations_url": "https://api.github.com/users/saxenarohan97/orgs", "repos_url": "https://api.github.com/users/saxenarohan97/repos", "events_url": "https://api.github.com/users/saxenarohan97/events{/privacy}", "received_events_url": "https://api.github.com/users/saxenarohan97/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-29T15:04:17Z", "updated_at": "2018-06-29T15:04:17Z", "author_association": "NONE", "body_html": "<p>I have a similar problem. I have a couple of questions in this regard:</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23164715\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/githubgsq\">@githubgsq</a> when you mention about the method from <a href=\"https://github.com/tensorflow/tensorflow/issues/17048\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17048/hovercard\">#17048</a>, do you mean moving your TensorFlow session code into a subprocess? So when the subprocess exits, the GPU memory is released?</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22832406\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/JaeDukSeo\">@JaeDukSeo</a> You mention setting <code>allow_growth=True</code>, but if my model is very large and a large amount of memory is allocated to TensorFlow even after <code>allow_growth=True</code>, then it will not be deallocated, right? (Since the <a href=\"https://www.tensorflow.org/programmers_guide/using_gpu#allowing_gpu_memory_growth\" rel=\"nofollow\">docs</a> say that \"Note that we do not release memory, since that can lead to even worse memory fragmentation\").</p>\n<p>Thanks in advance.</p>", "body_text": "I have a similar problem. I have a couple of questions in this regard:\n@githubgsq when you mention about the method from #17048, do you mean moving your TensorFlow session code into a subprocess? So when the subprocess exits, the GPU memory is released?\n@JaeDukSeo You mention setting allow_growth=True, but if my model is very large and a large amount of memory is allocated to TensorFlow even after allow_growth=True, then it will not be deallocated, right? (Since the docs say that \"Note that we do not release memory, since that can lead to even worse memory fragmentation\").\nThanks in advance.", "body": "I have a similar problem. I have a couple of questions in this regard:\r\n\r\n@githubgsq when you mention about the method from [#17048](https://github.com/tensorflow/tensorflow/issues/17048), do you mean moving your TensorFlow session code into a subprocess? So when the subprocess exits, the GPU memory is released?\r\n\r\n@JaeDukSeo You mention setting `allow_growth=True`, but if my model is very large and a large amount of memory is allocated to TensorFlow even after `allow_growth=True`, then it will not be deallocated, right? (Since the [docs](https://www.tensorflow.org/programmers_guide/using_gpu#allowing_gpu_memory_growth) say that \"Note that we do not release memory, since that can lead to even worse memory fragmentation\").\r\n\r\nThanks in advance."}