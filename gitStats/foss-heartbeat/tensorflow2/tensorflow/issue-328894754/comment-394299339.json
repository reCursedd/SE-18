{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/394299339", "html_url": "https://github.com/tensorflow/tensorflow/issues/19731#issuecomment-394299339", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19731", "id": 394299339, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDI5OTMzOQ==", "user": {"login": "githubgsq", "id": 23164715, "node_id": "MDQ6VXNlcjIzMTY0NzE1", "avatar_url": "https://avatars3.githubusercontent.com/u/23164715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/githubgsq", "html_url": "https://github.com/githubgsq", "followers_url": "https://api.github.com/users/githubgsq/followers", "following_url": "https://api.github.com/users/githubgsq/following{/other_user}", "gists_url": "https://api.github.com/users/githubgsq/gists{/gist_id}", "starred_url": "https://api.github.com/users/githubgsq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/githubgsq/subscriptions", "organizations_url": "https://api.github.com/users/githubgsq/orgs", "repos_url": "https://api.github.com/users/githubgsq/repos", "events_url": "https://api.github.com/users/githubgsq/events{/privacy}", "received_events_url": "https://api.github.com/users/githubgsq/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-04T09:54:22Z", "updated_at": "2018-06-04T09:58:08Z", "author_association": "NONE", "body_html": "<p>hi, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22832406\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/JaeDukSeo\">@JaeDukSeo</a><br>\nthanks for your kind advices and I tried them</p>\n<ol>\n<li>I initialized session with config as you said.<br>\nconfig = tf.ConfigProto()<br>\nconfig.gpu_options.allow_growth=True<br>\nsess = tf.Session(config=config)</li>\n<li>I didn't set 'per_process_gpu_memory_fraction', because I have only one process and total gpu memory can be used</li>\n<li>I tried sess.reset(), but errors occured, which indicates that reset() takes at least 1 argument (0 given). <a href=\"https://www.tensorflow.org/api_docs/python/tf/Session#reset\" rel=\"nofollow\">https://www.tensorflow.org/api_docs/python/tf/Session#reset</a> shows that reset() is implemented for distributed session.  I didn't use distributed session also did not set target arg here.</li>\n</ol>\n<p>Why the gpu memory usage is still lingering after sess.close() and del graph?<br>\nHow could I use tf.Session.reset() with a single machine and a single session?<br>\nIs there any other advice for releasing resources?<br>\nany advice would be appreciated :)</p>", "body_text": "hi, @JaeDukSeo\nthanks for your kind advices and I tried them\n\nI initialized session with config as you said.\nconfig = tf.ConfigProto()\nconfig.gpu_options.allow_growth=True\nsess = tf.Session(config=config)\nI didn't set 'per_process_gpu_memory_fraction', because I have only one process and total gpu memory can be used\nI tried sess.reset(), but errors occured, which indicates that reset() takes at least 1 argument (0 given). https://www.tensorflow.org/api_docs/python/tf/Session#reset shows that reset() is implemented for distributed session.  I didn't use distributed session also did not set target arg here.\n\nWhy the gpu memory usage is still lingering after sess.close() and del graph?\nHow could I use tf.Session.reset() with a single machine and a single session?\nIs there any other advice for releasing resources?\nany advice would be appreciated :)", "body": "hi, @JaeDukSeo \r\nthanks for your kind advices and I tried them\r\n1. I initialized session with config as you said.\r\n    config = tf.ConfigProto()\r\n    config.gpu_options.allow_growth=True\r\n    sess = tf.Session(config=config)\r\n2. I didn't set 'per_process_gpu_memory_fraction', because I have only one process and total gpu memory can be used\r\n3. I tried sess.reset(), but errors occured, which indicates that reset() takes at least 1 argument (0 given). https://www.tensorflow.org/api_docs/python/tf/Session#reset shows that reset() is implemented for distributed session.  I didn't use distributed session also did not set target arg here.\r\n\r\nWhy the gpu memory usage is still lingering after sess.close() and del graph?\r\nHow could I use tf.Session.reset() with a single machine and a single session?\r\nIs there any other advice for releasing resources?\r\nany advice would be appreciated :)"}