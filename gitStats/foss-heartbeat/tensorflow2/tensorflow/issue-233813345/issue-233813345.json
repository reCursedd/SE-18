{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10451", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10451/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10451/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10451/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10451", "id": 233813345, "node_id": "MDU6SXNzdWUyMzM4MTMzNDU=", "number": 10451, "title": "how to restore a tensor defined in a dictionary?", "user": {"login": "dengyuning", "id": 23352752, "node_id": "MDQ6VXNlcjIzMzUyNzUy", "avatar_url": "https://avatars2.githubusercontent.com/u/23352752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dengyuning", "html_url": "https://github.com/dengyuning", "followers_url": "https://api.github.com/users/dengyuning/followers", "following_url": "https://api.github.com/users/dengyuning/following{/other_user}", "gists_url": "https://api.github.com/users/dengyuning/gists{/gist_id}", "starred_url": "https://api.github.com/users/dengyuning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dengyuning/subscriptions", "organizations_url": "https://api.github.com/users/dengyuning/orgs", "repos_url": "https://api.github.com/users/dengyuning/repos", "events_url": "https://api.github.com/users/dengyuning/events{/privacy}", "received_events_url": "https://api.github.com/users/dengyuning/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-06T08:18:13Z", "updated_at": "2017-06-06T18:37:11Z", "closed_at": "2017-06-06T18:37:11Z", "author_association": "NONE", "body_html": "<p>I wrote the following definitions in my program.<br>\n<code>first_layer = {'w_1': tf.Variable(tf.truncated_normal([600, 300]), name='w_1'), 'b_1':tf.Variable(tf.truncated_normal([300]), name='b_1')} </code><br>\nAnd I use the following two lines to save my trained model.<br>\n<code>   saver = tf.train.Saver() saver.save(sess, os.path.join(model, 'model'))</code><br>\nHow can I restore the tensor with the name w_1 ?<br>\nThe following codes didn't work out.<br>\n<code>  saver = tf.train.import_meta_graph(os.path.join(c_dir, 'model.meta')) sess.run(tf.global_variables_initializer()) saver.restore(sess, tf.train.latest_checkpoint(c_dir)) graph = tf.get_default_graph() w_1 = graph.get_tensor_by_name(\"w_1:0\")</code></p>", "body_text": "I wrote the following definitions in my program.\nfirst_layer = {'w_1': tf.Variable(tf.truncated_normal([600, 300]), name='w_1'), 'b_1':tf.Variable(tf.truncated_normal([300]), name='b_1')} \nAnd I use the following two lines to save my trained model.\n   saver = tf.train.Saver() saver.save(sess, os.path.join(model, 'model'))\nHow can I restore the tensor with the name w_1 ?\nThe following codes didn't work out.\n  saver = tf.train.import_meta_graph(os.path.join(c_dir, 'model.meta')) sess.run(tf.global_variables_initializer()) saver.restore(sess, tf.train.latest_checkpoint(c_dir)) graph = tf.get_default_graph() w_1 = graph.get_tensor_by_name(\"w_1:0\")", "body": "I wrote the following definitions in my program.\r\n`first_layer = {'w_1': tf.Variable(tf.truncated_normal([600, 300]), name='w_1'), 'b_1':tf.Variable(tf.truncated_normal([300]), name='b_1')}\r\n`\r\nAnd I use the following two lines to save my trained model.\r\n`   saver = tf.train.Saver()\r\n    saver.save(sess, os.path.join(model, 'model'))`\r\nHow can I restore the tensor with the name w_1 ?\r\nThe following codes didn't work out.\r\n`  saver = tf.train.import_meta_graph(os.path.join(c_dir, 'model.meta'))\r\n    sess.run(tf.global_variables_initializer())\r\n    saver.restore(sess, tf.train.latest_checkpoint(c_dir))\r\n   graph = tf.get_default_graph()\r\n    w_1 = graph.get_tensor_by_name(\"w_1:0\")`"}