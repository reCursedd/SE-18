{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/288667238", "html_url": "https://github.com/tensorflow/tensorflow/issues/8242#issuecomment-288667238", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8242", "id": 288667238, "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODY2NzIzOA==", "user": {"login": "tristandeleu", "id": 2018752, "node_id": "MDQ6VXNlcjIwMTg3NTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/2018752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tristandeleu", "html_url": "https://github.com/tristandeleu", "followers_url": "https://api.github.com/users/tristandeleu/followers", "following_url": "https://api.github.com/users/tristandeleu/following{/other_user}", "gists_url": "https://api.github.com/users/tristandeleu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tristandeleu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tristandeleu/subscriptions", "organizations_url": "https://api.github.com/users/tristandeleu/orgs", "repos_url": "https://api.github.com/users/tristandeleu/repos", "events_url": "https://api.github.com/users/tristandeleu/events{/privacy}", "received_events_url": "https://api.github.com/users/tristandeleu/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-23T09:46:59Z", "updated_at": "2017-04-21T09:23:04Z", "author_association": "NONE", "body_html": "<p>I temporarily patched this issue in this special case by replacing the <code>tf.identity</code> node with</p>\n<div class=\"highlight highlight-source-python\"><pre>l_output <span class=\"pl-k\">=</span> tf.multiply(l_dense, <span class=\"pl-c1\">1</span>., <span class=\"pl-v\">name</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>output<span class=\"pl-pds\">'</span></span>)</pre></div>\n<p>But I think <code>optimize_for_inference</code> should not drop operations that are actually used for inference, especially the output node.</p>", "body_text": "I temporarily patched this issue in this special case by replacing the tf.identity node with\nl_output = tf.multiply(l_dense, 1., name='output')\nBut I think optimize_for_inference should not drop operations that are actually used for inference, especially the output node.", "body": "I temporarily patched this issue in this special case by replacing the `tf.identity` node with\r\n```python\r\nl_output = tf.multiply(l_dense, 1., name='output')\r\n```\r\nBut I think `optimize_for_inference` should not drop operations that are actually used for inference, especially the output node."}