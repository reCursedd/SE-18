{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/333191539", "html_url": "https://github.com/tensorflow/tensorflow/issues/13354#issuecomment-333191539", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13354", "id": 333191539, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzE5MTUzOQ==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-29T17:40:32Z", "updated_at": "2017-09-29T17:40:32Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Freeing GPUs inside process seems tricky since memory allocator is global. You could have several sessions storing things on various gpus, you'd need to check that you aren't destroying some precious memory state when releasing the GPU.</p>\n<p>You could move GPU management a level up -- launch TensorFlow worker processes that reserve  GPUs and then destroy those processes to release.</p>", "body_text": "Freeing GPUs inside process seems tricky since memory allocator is global. You could have several sessions storing things on various gpus, you'd need to check that you aren't destroying some precious memory state when releasing the GPU.\nYou could move GPU management a level up -- launch TensorFlow worker processes that reserve  GPUs and then destroy those processes to release.", "body": "Freeing GPUs inside process seems tricky since memory allocator is global. You could have several sessions storing things on various gpus, you'd need to check that you aren't destroying some precious memory state when releasing the GPU.\r\n\r\nYou could move GPU management a level up -- launch TensorFlow worker processes that reserve  GPUs and then destroy those processes to release."}