{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/84809885", "pull_request_review_id": 5563796, "id": 84809885, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg0ODA5ODg1", "diff_hunk": "@@ -296,13 +297,15 @@ def eval_in_batches(data, sess):\n       # node in the graph it should be fed to.\n       feed_dict = {train_data_node: batch_data,\n                    train_labels_node: batch_labels}\n-      # Run the graph and fetch some of the nodes.\n-      _, l, lr, predictions = sess.run(\n-          [optimizer, loss, learning_rate, train_prediction],\n-          feed_dict=feed_dict)\n+      # Run the optimizer.\n+      sess.run(optimizer, feed_dict = feed_dict)\n+      # print some extra information once reach the evaluation frequency\n       if step % EVAL_FREQUENCY == 0:\n-        elapsed_time = time.time() - start_time\n-        start_time = time.time()\n+        # fetch some extra nodes data\n+        l, lr, predictions = sess.run([loss, learning_rate, train_prediction],\n+                                      feed_dict = feed_dict)", "path": "tensorflow/models/image/mnist/convolutional.py", "position": null, "original_position": 31, "commit_id": "c408796391ce6df2ab35971fe7f868cfac5e74a2", "original_commit_id": "a67357fb555a9c28c0e11f6aeac50570097f51ee", "user": {"login": "willdzeng", "id": 12994633, "node_id": "MDQ6VXNlcjEyOTk0NjMz", "avatar_url": "https://avatars1.githubusercontent.com/u/12994633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willdzeng", "html_url": "https://github.com/willdzeng", "followers_url": "https://api.github.com/users/willdzeng/followers", "following_url": "https://api.github.com/users/willdzeng/following{/other_user}", "gists_url": "https://api.github.com/users/willdzeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/willdzeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willdzeng/subscriptions", "organizations_url": "https://api.github.com/users/willdzeng/orgs", "repos_url": "https://api.github.com/users/willdzeng/repos", "events_url": "https://api.github.com/users/willdzeng/events{/privacy}", "received_events_url": "https://api.github.com/users/willdzeng/received_events", "type": "User", "site_admin": false}, "body": "@vincentvanhoucke, Sorry about the trouble, the data is assigned in line [295](https://github.com/willdzeng/tensorflow/blob/a67357fb555a9c28c0e11f6aeac50570097f51ee/tensorflow/models/image/mnist/convolutional.py#L294), \nSo it doesn't consume extra data.\nMaybe I wrongly understand how sess.run() work, but\nDo you mean that sess.run() here is not just fetching the data but actually updating the weights?\nI thought, _optimizer_ is the only operation that changes the weight.\n_loss_, _learning_rate_ and _train_prediction_ are just calculations and they don't have assign() operation to weights so they don't actually change the weight.\n\nAs a learner I think it's important to understand which operation actually change the weights, this is not quite clear in the code or tutorial.\nThank you.\n", "created_at": "2016-10-25T00:13:24Z", "updated_at": "2016-10-25T18:46:37Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/5176#discussion_r84809885", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5176", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/84809885"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/5176#discussion_r84809885"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5176"}}, "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15737127\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vincentvanhoucke\">@vincentvanhoucke</a>, Sorry about the trouble, the data is assigned in line <a href=\"https://github.com/willdzeng/tensorflow/blob/a67357fb555a9c28c0e11f6aeac50570097f51ee/tensorflow/models/image/mnist/convolutional.py#L294\">295</a>,<br>\nSo it doesn't consume extra data.<br>\nMaybe I wrongly understand how sess.run() work, but<br>\nDo you mean that sess.run() here is not just fetching the data but actually updating the weights?<br>\nI thought, <em>optimizer</em> is the only operation that changes the weight.<br>\n<em>loss</em>, <em>learning_rate</em> and <em>train_prediction</em> are just calculations and they don't have assign() operation to weights so they don't actually change the weight.</p>\n<p>As a learner I think it's important to understand which operation actually change the weights, this is not quite clear in the code or tutorial.<br>\nThank you.</p>", "body_text": "@vincentvanhoucke, Sorry about the trouble, the data is assigned in line 295,\nSo it doesn't consume extra data.\nMaybe I wrongly understand how sess.run() work, but\nDo you mean that sess.run() here is not just fetching the data but actually updating the weights?\nI thought, optimizer is the only operation that changes the weight.\nloss, learning_rate and train_prediction are just calculations and they don't have assign() operation to weights so they don't actually change the weight.\nAs a learner I think it's important to understand which operation actually change the weights, this is not quite clear in the code or tutorial.\nThank you."}