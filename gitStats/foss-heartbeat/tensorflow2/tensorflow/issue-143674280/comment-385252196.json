{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/385252196", "html_url": "https://github.com/tensorflow/tensorflow/issues/1652#issuecomment-385252196", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1652", "id": 385252196, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTI1MjE5Ng==", "user": {"login": "andrebeu", "id": 12631978, "node_id": "MDQ6VXNlcjEyNjMxOTc4", "avatar_url": "https://avatars0.githubusercontent.com/u/12631978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrebeu", "html_url": "https://github.com/andrebeu", "followers_url": "https://api.github.com/users/andrebeu/followers", "following_url": "https://api.github.com/users/andrebeu/following{/other_user}", "gists_url": "https://api.github.com/users/andrebeu/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrebeu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrebeu/subscriptions", "organizations_url": "https://api.github.com/users/andrebeu/orgs", "repos_url": "https://api.github.com/users/andrebeu/repos", "events_url": "https://api.github.com/users/andrebeu/events{/privacy}", "received_events_url": "https://api.github.com/users/andrebeu/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-29T13:39:02Z", "updated_at": "2018-04-29T13:39:02Z", "author_association": "NONE", "body_html": "<p>I am also having this issue where I want to place RNN vars on CPU but execute the cell ops on GPU. having to hack around source code is subprime.  it would be nice if vars and ops had a kwarg for soft device placement. then we could do:</p>\n<p>to create a cell<br>\n<code>cell = tf.contrib.rnn.BasicRNNCell(celldim,device='/cpu:')</code></p>\n<p>to run the cell ops<br>\n<code>output,state = cell(x_batch[:,time_step,:], cell_state,device='/gpu:0')</code></p>", "body_text": "I am also having this issue where I want to place RNN vars on CPU but execute the cell ops on GPU. having to hack around source code is subprime.  it would be nice if vars and ops had a kwarg for soft device placement. then we could do:\nto create a cell\ncell = tf.contrib.rnn.BasicRNNCell(celldim,device='/cpu:')\nto run the cell ops\noutput,state = cell(x_batch[:,time_step,:], cell_state,device='/gpu:0')", "body": "\r\nI am also having this issue where I want to place RNN vars on CPU but execute the cell ops on GPU. having to hack around source code is subprime.  it would be nice if vars and ops had a kwarg for soft device placement. then we could do:\r\n\r\nto create a cell\r\n`cell = tf.contrib.rnn.BasicRNNCell(celldim,device='/cpu:')`\r\n\r\nto run the cell ops\r\n`output,state = cell(x_batch[:,time_step,:], cell_state,device='/gpu:0')`\r\n\r\n\r\n"}