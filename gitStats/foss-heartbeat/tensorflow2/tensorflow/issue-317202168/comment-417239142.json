{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/417239142", "html_url": "https://github.com/tensorflow/tensorflow/issues/18829#issuecomment-417239142", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18829", "id": 417239142, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzIzOTE0Mg==", "user": {"login": "jass-singh", "id": 20219876, "node_id": "MDQ6VXNlcjIwMjE5ODc2", "avatar_url": "https://avatars1.githubusercontent.com/u/20219876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jass-singh", "html_url": "https://github.com/jass-singh", "followers_url": "https://api.github.com/users/jass-singh/followers", "following_url": "https://api.github.com/users/jass-singh/following{/other_user}", "gists_url": "https://api.github.com/users/jass-singh/gists{/gist_id}", "starred_url": "https://api.github.com/users/jass-singh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jass-singh/subscriptions", "organizations_url": "https://api.github.com/users/jass-singh/orgs", "repos_url": "https://api.github.com/users/jass-singh/repos", "events_url": "https://api.github.com/users/jass-singh/events{/privacy}", "received_events_url": "https://api.github.com/users/jass-singh/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-30T08:42:26Z", "updated_at": "2018-08-30T08:42:26Z", "author_association": "NONE", "body_html": "<p>Hello guys,<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=19912807\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/alokranjan007\">@alokranjan007</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23086313\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/MohammadMoradi\">@MohammadMoradi</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=31765154\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/WenguoLi\">@WenguoLi</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=14101478\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zhyj3038\">@zhyj3038</a><br>\ni found one solution ,</p>\n<p>After creating .pb file ,<br>\nadd<br>\n--default_ranges_min=0 <br>\n--default_ranges_max=255 <br>\nalong with<br>\n--inference_type=QUANTIZED_UINT8 <br>\nIt will create .tflite successfully and will work on mobile without causing any bytes issue.</p>\n<p>Eg:-</p>\n<p>bazel run -c opt tensorflow/contrib/lite/toco:toco -- <br>\n--input_file=$OUTPUT_DIR/tflite_graph.pb <br>\n--output_file=$OUTPUT_DIR/custom_mobilenetv3.tflite <br>\n--input_shapes=1,300,300,3 <br>\n--input_arrays=normalized_input_image_tensor <br>\n--output_arrays='TFLite_Detection_PostProcess','TFLite_Detection_PostProcess:1','TFLite_Detection_PostProcess:2','TFLite_Detection_PostProcess:3' <br>\n--inference_type=QUANTIZED_UINT8 <br>\n--default_ranges_min=0 <br>\n--default_ranges_max=255 <br>\n--mean_values=128 <br>\n--std_values=128 <br>\n--change_concat_input_ranges=false <br>\n--allow_custom_ops</p>\n<p>Thanks,</p>", "body_text": "Hello guys,\n@alokranjan007 @MohammadMoradi @WenguoLi @zhyj3038\ni found one solution ,\nAfter creating .pb file ,\nadd\n--default_ranges_min=0 \n--default_ranges_max=255 \nalong with\n--inference_type=QUANTIZED_UINT8 \nIt will create .tflite successfully and will work on mobile without causing any bytes issue.\nEg:-\nbazel run -c opt tensorflow/contrib/lite/toco:toco -- \n--input_file=$OUTPUT_DIR/tflite_graph.pb \n--output_file=$OUTPUT_DIR/custom_mobilenetv3.tflite \n--input_shapes=1,300,300,3 \n--input_arrays=normalized_input_image_tensor \n--output_arrays='TFLite_Detection_PostProcess','TFLite_Detection_PostProcess:1','TFLite_Detection_PostProcess:2','TFLite_Detection_PostProcess:3' \n--inference_type=QUANTIZED_UINT8 \n--default_ranges_min=0 \n--default_ranges_max=255 \n--mean_values=128 \n--std_values=128 \n--change_concat_input_ranges=false \n--allow_custom_ops\nThanks,", "body": "Hello guys,\r\n@alokranjan007 @MohammadMoradi @WenguoLi @zhyj3038\r\ni found one solution ,\r\n\r\nAfter creating .pb file ,\r\nadd \r\n--default_ranges_min=0 \\\r\n--default_ranges_max=255 \\\r\nalong with \r\n--inference_type=QUANTIZED_UINT8 \\\r\nIt will create .tflite successfully and will work on mobile without causing any bytes issue.\r\n\r\n\r\nEg:-\r\n\r\nbazel run -c opt tensorflow/contrib/lite/toco:toco -- \\\r\n--input_file=$OUTPUT_DIR/tflite_graph.pb \\\r\n--output_file=$OUTPUT_DIR/custom_mobilenetv3.tflite \\\r\n--input_shapes=1,300,300,3 \\\r\n--input_arrays=normalized_input_image_tensor \\\r\n--output_arrays='TFLite_Detection_PostProcess','TFLite_Detection_PostProcess:1','TFLite_Detection_PostProcess:2','TFLite_Detection_PostProcess:3' \\\r\n--inference_type=QUANTIZED_UINT8 \\\r\n--default_ranges_min=0 \\\r\n--default_ranges_max=255 \\\r\n--mean_values=128 \\\r\n--std_values=128 \\\r\n--change_concat_input_ranges=false \\\r\n--allow_custom_ops\r\n\r\nThanks,\r\n\r\n"}