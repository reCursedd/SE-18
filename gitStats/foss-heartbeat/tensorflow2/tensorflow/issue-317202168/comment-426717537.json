{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/426717537", "html_url": "https://github.com/tensorflow/tensorflow/issues/18829#issuecomment-426717537", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18829", "id": 426717537, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjcxNzUzNw==", "user": {"login": "chenyuZha", "id": 29950360, "node_id": "MDQ6VXNlcjI5OTUwMzYw", "avatar_url": "https://avatars3.githubusercontent.com/u/29950360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenyuZha", "html_url": "https://github.com/chenyuZha", "followers_url": "https://api.github.com/users/chenyuZha/followers", "following_url": "https://api.github.com/users/chenyuZha/following{/other_user}", "gists_url": "https://api.github.com/users/chenyuZha/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenyuZha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenyuZha/subscriptions", "organizations_url": "https://api.github.com/users/chenyuZha/orgs", "repos_url": "https://api.github.com/users/chenyuZha/repos", "events_url": "https://api.github.com/users/chenyuZha/events{/privacy}", "received_events_url": "https://api.github.com/users/chenyuZha/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-03T17:06:34Z", "updated_at": "2018-10-03T17:06:34Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20219876\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jass-singh\">@jass-singh</a>  Have you add other options when you run <code>bazel</code> to convert .pb to .tflite?<br>\nBecause I have  also retrained my graph from the same checkpoint <strong>ssd_mobilenet_v1_coco_2017_11_17</strong> as yours.<br>\nSo the model is supposed to be a <strong>float model</strong>.<br>\nIf I convert to .pb to .tflite without create the QUANTIZED_MODEL, I can get my .tflite successfully , but then I'll have the issue for Android studio (even I set <strong>TF_OD_API_IS_QUANTIZED=false</strong>), the app is crashed each time..<br>\nBut When I tried your method to convert , I had the following error:<br>\n<code>2018-10-03 18:49:12.586196: F tensorflow/contrib/lite/toco/graph_transformations/quantize.cc:560] Check failed: is_rnn_state_array  [1]    28561 abort (core dumped)  bazel run -c opt //tensorflow/contrib/lite/toco:toco --   </code><br>\nAlso could you tell me which branch you used when you did the covertion? ( I tried master and r1.9, the master could not even convert .pb to .tflite without option QUANTIZED_MODEL..)</p>", "body_text": "@jass-singh  Have you add other options when you run bazel to convert .pb to .tflite?\nBecause I have  also retrained my graph from the same checkpoint ssd_mobilenet_v1_coco_2017_11_17 as yours.\nSo the model is supposed to be a float model.\nIf I convert to .pb to .tflite without create the QUANTIZED_MODEL, I can get my .tflite successfully , but then I'll have the issue for Android studio (even I set TF_OD_API_IS_QUANTIZED=false), the app is crashed each time..\nBut When I tried your method to convert , I had the following error:\n2018-10-03 18:49:12.586196: F tensorflow/contrib/lite/toco/graph_transformations/quantize.cc:560] Check failed: is_rnn_state_array  [1]    28561 abort (core dumped)  bazel run -c opt //tensorflow/contrib/lite/toco:toco --   \nAlso could you tell me which branch you used when you did the covertion? ( I tried master and r1.9, the master could not even convert .pb to .tflite without option QUANTIZED_MODEL..)", "body": "@jass-singh  Have you add other options when you run `bazel` to convert .pb to .tflite? \r\nBecause I have  also retrained my graph from the same checkpoint **ssd_mobilenet_v1_coco_2017_11_17** as yours.\r\nSo the model is supposed to be a **float model**. \r\nIf I convert to .pb to .tflite without create the QUANTIZED_MODEL, I can get my .tflite successfully , but then I'll have the issue for Android studio (even I set **TF_OD_API_IS_QUANTIZED=false**), the app is crashed each time..\r\nBut When I tried your method to convert , I had the following error:\r\n`2018-10-03 18:49:12.586196: F tensorflow/contrib/lite/toco/graph_transformations/quantize.cc:560] Check failed: is_rnn_state_array \r\n[1]    28561 abort (core dumped)  bazel run -c opt //tensorflow/contrib/lite/toco:toco --   `\r\nAlso could you tell me which branch you used when you did the covertion? ( I tried master and r1.9, the master could not even convert .pb to .tflite without option QUANTIZED_MODEL..) "}