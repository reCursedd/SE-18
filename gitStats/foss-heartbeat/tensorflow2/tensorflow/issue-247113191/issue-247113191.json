{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11943", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11943/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11943/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11943/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11943", "id": 247113191, "node_id": "MDU6SXNzdWUyNDcxMTMxOTE=", "number": 11943, "title": "Consoles freezes while reading an image. ", "user": {"login": "kindlychung", "id": 995761, "node_id": "MDQ6VXNlcjk5NTc2MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/995761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kindlychung", "html_url": "https://github.com/kindlychung", "followers_url": "https://api.github.com/users/kindlychung/followers", "following_url": "https://api.github.com/users/kindlychung/following{/other_user}", "gists_url": "https://api.github.com/users/kindlychung/gists{/gist_id}", "starred_url": "https://api.github.com/users/kindlychung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kindlychung/subscriptions", "organizations_url": "https://api.github.com/users/kindlychung/orgs", "repos_url": "https://api.github.com/users/kindlychung/repos", "events_url": "https://api.github.com/users/kindlychung/events{/privacy}", "received_events_url": "https://api.github.com/users/kindlychung/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-01T15:41:48Z", "updated_at": "2018-11-16T22:28:21Z", "closed_at": "2018-11-16T22:28:21Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: v1.2.0-5-g435cdfc 1.2.1</li>\n<li><strong>Python version</strong>:  3.6.2 |Continuum Analytics, Inc.| (default, Jul 20 2017, 13:51:32)  GCC 4.4.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>:</li>\n<li><strong>CUDA/cuDNN version</strong>: 5.1</li>\n<li><strong>GPU model and memory</strong>: GTX-1050 4GB</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Consoles freezes while reading an image.</p>\n<h3>Source code / logs</h3>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\nimage_filename <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/kaiyin/PycharmProjects/tensorflow-for-machine-intelligence/images/chapter-05-object-recognition-and-classification/working-with-images/test-input-image.jpg<span class=\"pl-pds\">\"</span></span>\nfilename_queue <span class=\"pl-k\">=</span> tf.train.string_input_producer(tf.train.match_filenames_once(image_filename))\nimage_reader <span class=\"pl-k\">=</span> tf.WholeFileReader()\n_, image_file <span class=\"pl-k\">=</span> image_reader.read(filename_queue)\nimage <span class=\"pl-k\">=</span> tf.image.decode_jpeg(image_file)\nsess <span class=\"pl-k\">=</span> tf.InteractiveSession()\nsess.run(image)</pre></div>\n<p>Also tried the non-interactive session:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n<span class=\"pl-k\">with</span> tf.Session() <span class=\"pl-k\">as</span> sess:\n    image_filename <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/kaiyin/PycharmProjects/tensorflow-for-machine-intelligence/images/chapter-05-object-recognition-and-classification/working-with-images/test-input-image.jpg<span class=\"pl-pds\">\"</span></span>\n    filename_queue <span class=\"pl-k\">=</span> tf.train.string_input_producer(tf.train.match_filenames_once(image_filename))\n    image_reader <span class=\"pl-k\">=</span> tf.WholeFileReader()\n    _, image_file <span class=\"pl-k\">=</span> image_reader.read(filename_queue)\n    image <span class=\"pl-k\">=</span> tf.image.decode_jpeg(image_file)\n    sess.run(image)</pre></div>\n<p>Error:</p>\n<pre><code>2017-08-01 17:39:36.997011: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-01 17:39:36.997023: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-01 17:39:36.997026: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-01 17:39:36.997028: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-01 17:39:36.997031: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-01 17:39:37.078504: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:893] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2017-08-01 17:39:37.078697: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: \nname: GeForce GTX 1050\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.493\npciBusID 0000:01:00.0\nTotal memory: 3.95GiB\nFree memory: 1.84GiB\n2017-08-01 17:39:37.078705: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 \n2017-08-01 17:39:37.078708: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y \n2017-08-01 17:39:37.078715: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 1050, pci bus id: 0000:01:00.0)\n</code></pre>\n<p>After showing the message above, the console is not responsive any more.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary): binary\nTensorFlow version (use command below): v1.2.0-5-g435cdfc 1.2.1\nPython version:  3.6.2 |Continuum Analytics, Inc.| (default, Jul 20 2017, 13:51:32)  GCC 4.4.7\nBazel version (if compiling from source):\nCUDA/cuDNN version: 5.1\nGPU model and memory: GTX-1050 4GB\n\nDescribe the problem\nConsoles freezes while reading an image.\nSource code / logs\nimport tensorflow as tf\nimage_filename = \"/home/kaiyin/PycharmProjects/tensorflow-for-machine-intelligence/images/chapter-05-object-recognition-and-classification/working-with-images/test-input-image.jpg\"\nfilename_queue = tf.train.string_input_producer(tf.train.match_filenames_once(image_filename))\nimage_reader = tf.WholeFileReader()\n_, image_file = image_reader.read(filename_queue)\nimage = tf.image.decode_jpeg(image_file)\nsess = tf.InteractiveSession()\nsess.run(image)\nAlso tried the non-interactive session:\nimport tensorflow as tf\nwith tf.Session() as sess:\n    image_filename = \"/home/kaiyin/PycharmProjects/tensorflow-for-machine-intelligence/images/chapter-05-object-recognition-and-classification/working-with-images/test-input-image.jpg\"\n    filename_queue = tf.train.string_input_producer(tf.train.match_filenames_once(image_filename))\n    image_reader = tf.WholeFileReader()\n    _, image_file = image_reader.read(filename_queue)\n    image = tf.image.decode_jpeg(image_file)\n    sess.run(image)\nError:\n2017-08-01 17:39:36.997011: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-01 17:39:36.997023: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-01 17:39:36.997026: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-01 17:39:36.997028: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-01 17:39:36.997031: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-01 17:39:37.078504: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:893] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2017-08-01 17:39:37.078697: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: \nname: GeForce GTX 1050\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.493\npciBusID 0000:01:00.0\nTotal memory: 3.95GiB\nFree memory: 1.84GiB\n2017-08-01 17:39:37.078705: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 \n2017-08-01 17:39:37.078708: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y \n2017-08-01 17:39:37.078715: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1050, pci bus id: 0000:01:00.0)\n\nAfter showing the message above, the console is not responsive any more.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: v1.2.0-5-g435cdfc 1.2.1\r\n- **Python version**:  3.6.2 |Continuum Analytics, Inc.| (default, Jul 20 2017, 13:51:32)  GCC 4.4.7 \r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**: 5.1\r\n- **GPU model and memory**: GTX-1050 4GB\r\n\r\n\r\n### Describe the problem\r\n\r\nConsoles freezes while reading an image. \r\n\r\n### Source code / logs\r\n\r\n```python\r\nimport tensorflow as tf\r\nimage_filename = \"/home/kaiyin/PycharmProjects/tensorflow-for-machine-intelligence/images/chapter-05-object-recognition-and-classification/working-with-images/test-input-image.jpg\"\r\nfilename_queue = tf.train.string_input_producer(tf.train.match_filenames_once(image_filename))\r\nimage_reader = tf.WholeFileReader()\r\n_, image_file = image_reader.read(filename_queue)\r\nimage = tf.image.decode_jpeg(image_file)\r\nsess = tf.InteractiveSession()\r\nsess.run(image)\r\n```\r\n\r\nAlso tried the non-interactive session:\r\n\r\n```python\r\nimport tensorflow as tf\r\nwith tf.Session() as sess:\r\n    image_filename = \"/home/kaiyin/PycharmProjects/tensorflow-for-machine-intelligence/images/chapter-05-object-recognition-and-classification/working-with-images/test-input-image.jpg\"\r\n    filename_queue = tf.train.string_input_producer(tf.train.match_filenames_once(image_filename))\r\n    image_reader = tf.WholeFileReader()\r\n    _, image_file = image_reader.read(filename_queue)\r\n    image = tf.image.decode_jpeg(image_file)\r\n    sess.run(image)\r\n```\r\n\r\nError:\r\n\r\n```\r\n2017-08-01 17:39:36.997011: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-01 17:39:36.997023: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-01 17:39:36.997026: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-01 17:39:36.997028: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-01 17:39:36.997031: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-01 17:39:37.078504: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:893] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2017-08-01 17:39:37.078697: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: \r\nname: GeForce GTX 1050\r\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.493\r\npciBusID 0000:01:00.0\r\nTotal memory: 3.95GiB\r\nFree memory: 1.84GiB\r\n2017-08-01 17:39:37.078705: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 \r\n2017-08-01 17:39:37.078708: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y \r\n2017-08-01 17:39:37.078715: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1050, pci bus id: 0000:01:00.0)\r\n```\r\n\r\nAfter showing the message above, the console is not responsive any more. \r\n"}