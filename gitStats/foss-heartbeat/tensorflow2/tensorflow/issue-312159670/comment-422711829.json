{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/422711829", "html_url": "https://github.com/tensorflow/tensorflow/issues/18304#issuecomment-422711829", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18304", "id": 422711829, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjcxMTgyOQ==", "user": {"login": "stefan-falk", "id": 43335432, "node_id": "MDQ6VXNlcjQzMzM1NDMy", "avatar_url": "https://avatars1.githubusercontent.com/u/43335432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefan-falk", "html_url": "https://github.com/stefan-falk", "followers_url": "https://api.github.com/users/stefan-falk/followers", "following_url": "https://api.github.com/users/stefan-falk/following{/other_user}", "gists_url": "https://api.github.com/users/stefan-falk/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefan-falk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefan-falk/subscriptions", "organizations_url": "https://api.github.com/users/stefan-falk/orgs", "repos_url": "https://api.github.com/users/stefan-falk/repos", "events_url": "https://api.github.com/users/stefan-falk/events{/privacy}", "received_events_url": "https://api.github.com/users/stefan-falk/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-19T08:41:25Z", "updated_at": "2018-09-19T08:41:55Z", "author_association": "NONE", "body_html": "<p>Same issue here.</p>\n<p>On the side: I am using a remote debugger in PyCharm here.</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> os\n<span class=\"pl-k\">import</span> logging.config\n<span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n<span class=\"pl-k\">from</span> tensor2tensor <span class=\"pl-k\">import</span> problems\n<span class=\"pl-k\">from</span> tensor2tensor.data_generators.translate_ende <span class=\"pl-k\">import</span> TranslateEndeWmtBpe32k\n\n<span class=\"pl-k\">from</span> asr.util <span class=\"pl-k\">import</span> is_debug_mode\n\n<span class=\"pl-k\">if</span> <span class=\"pl-c1\">__name__</span> <span class=\"pl-k\">==</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>__main__<span class=\"pl-pds\">'</span></span>:\n\n    logging.config.fileConfig(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>../logging.conf<span class=\"pl-pds\">'</span></span>)\n    logger <span class=\"pl-k\">=</span> logging.getLogger(<span class=\"pl-c1\">__name__</span>)\n    logger.setLevel(<span class=\"pl-v\">level</span><span class=\"pl-k\">=</span>logging.<span class=\"pl-c1\">DEBUG</span>)\n\n    tfe <span class=\"pl-k\">=</span> tf.contrib.eager\n\n    <span class=\"pl-k\">if</span> is_debug_mode():\n        logger.info(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Debug mode. Enabling tensorflow eager excetion.<span class=\"pl-pds\">'</span></span>)\n        <span class=\"pl-k\">if</span> <span class=\"pl-k\">not</span> tf.executing_eagerly():\n            <span class=\"pl-c\"><span class=\"pl-c\">#</span> Enable tensorflow Eager execution</span>\n            tfe.enable_eager_execution()</pre></div>\n<p>Throws</p>\n<pre><code>19-09-2018:10:37:35,546 INFO     [example_transformer_ende.py:41] Debug mode. Enabling tensorflow eager excetion.\nTraceback (most recent call last):\n  File \"/home/everest11/.pycharm_helpers/pydev/pydevd.py\", line 1664, in &lt;module&gt;\n    main()\n  File \"/home/everest11/.pycharm_helpers/pydev/pydevd.py\", line 1658, in main\n    globals = debugger.run(setup['file'], None, None, is_module)\n  File \"/home/everest11/.pycharm_helpers/pydev/pydevd.py\", line 1068, in run\n    pydev_imports.execfile(file, globals, locals)  # execute the script\n  File \"/home/everest11/.pycharm_helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\n  File \"/home/everest11/tmp/pycharm_project_254/asr/example_transformer_ende.py\", line 44, in &lt;module&gt;\n    tfe.enable_eager_execution()\n  File \"/home/everest11/miniconda3/envs/t2t-asr/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 5187, in enable_eager_execution\n    config, device_policy, execution_mode, None)\n  File \"/home/everest11/miniconda3/envs/t2t-asr/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 5255, in enable_eager_execution_internal\n    \"tf.enable_eager_execution must be called at program startup.\")\nValueError: tf.enable_eager_execution must be called at program startup.\n</code></pre>", "body_text": "Same issue here.\nOn the side: I am using a remote debugger in PyCharm here.\nimport os\nimport logging.config\nimport tensorflow as tf\nfrom tensor2tensor import problems\nfrom tensor2tensor.data_generators.translate_ende import TranslateEndeWmtBpe32k\n\nfrom asr.util import is_debug_mode\n\nif __name__ == '__main__':\n\n    logging.config.fileConfig('../logging.conf')\n    logger = logging.getLogger(__name__)\n    logger.setLevel(level=logging.DEBUG)\n\n    tfe = tf.contrib.eager\n\n    if is_debug_mode():\n        logger.info('Debug mode. Enabling tensorflow eager excetion.')\n        if not tf.executing_eagerly():\n            # Enable tensorflow Eager execution\n            tfe.enable_eager_execution()\nThrows\n19-09-2018:10:37:35,546 INFO     [example_transformer_ende.py:41] Debug mode. Enabling tensorflow eager excetion.\nTraceback (most recent call last):\n  File \"/home/everest11/.pycharm_helpers/pydev/pydevd.py\", line 1664, in <module>\n    main()\n  File \"/home/everest11/.pycharm_helpers/pydev/pydevd.py\", line 1658, in main\n    globals = debugger.run(setup['file'], None, None, is_module)\n  File \"/home/everest11/.pycharm_helpers/pydev/pydevd.py\", line 1068, in run\n    pydev_imports.execfile(file, globals, locals)  # execute the script\n  File \"/home/everest11/.pycharm_helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\n  File \"/home/everest11/tmp/pycharm_project_254/asr/example_transformer_ende.py\", line 44, in <module>\n    tfe.enable_eager_execution()\n  File \"/home/everest11/miniconda3/envs/t2t-asr/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 5187, in enable_eager_execution\n    config, device_policy, execution_mode, None)\n  File \"/home/everest11/miniconda3/envs/t2t-asr/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 5255, in enable_eager_execution_internal\n    \"tf.enable_eager_execution must be called at program startup.\")\nValueError: tf.enable_eager_execution must be called at program startup.", "body": "Same issue here. \r\n\r\nOn the side: I am using a remote debugger in PyCharm here.\r\n\r\n```python\r\nimport os\r\nimport logging.config\r\nimport tensorflow as tf\r\nfrom tensor2tensor import problems\r\nfrom tensor2tensor.data_generators.translate_ende import TranslateEndeWmtBpe32k\r\n\r\nfrom asr.util import is_debug_mode\r\n\r\nif __name__ == '__main__':\r\n\r\n    logging.config.fileConfig('../logging.conf')\r\n    logger = logging.getLogger(__name__)\r\n    logger.setLevel(level=logging.DEBUG)\r\n\r\n    tfe = tf.contrib.eager\r\n\r\n    if is_debug_mode():\r\n        logger.info('Debug mode. Enabling tensorflow eager excetion.')\r\n        if not tf.executing_eagerly():\r\n            # Enable tensorflow Eager execution\r\n            tfe.enable_eager_execution()\r\n```\r\n\r\nThrows\r\n\r\n```\r\n19-09-2018:10:37:35,546 INFO     [example_transformer_ende.py:41] Debug mode. Enabling tensorflow eager excetion.\r\nTraceback (most recent call last):\r\n  File \"/home/everest11/.pycharm_helpers/pydev/pydevd.py\", line 1664, in <module>\r\n    main()\r\n  File \"/home/everest11/.pycharm_helpers/pydev/pydevd.py\", line 1658, in main\r\n    globals = debugger.run(setup['file'], None, None, is_module)\r\n  File \"/home/everest11/.pycharm_helpers/pydev/pydevd.py\", line 1068, in run\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"/home/everest11/.pycharm_helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"/home/everest11/tmp/pycharm_project_254/asr/example_transformer_ende.py\", line 44, in <module>\r\n    tfe.enable_eager_execution()\r\n  File \"/home/everest11/miniconda3/envs/t2t-asr/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 5187, in enable_eager_execution\r\n    config, device_policy, execution_mode, None)\r\n  File \"/home/everest11/miniconda3/envs/t2t-asr/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 5255, in enable_eager_execution_internal\r\n    \"tf.enable_eager_execution must be called at program startup.\")\r\nValueError: tf.enable_eager_execution must be called at program startup.\r\n```"}