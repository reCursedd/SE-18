{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7216", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7216/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7216/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7216/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7216", "id": 204848107, "node_id": "MDU6SXNzdWUyMDQ4NDgxMDc=", "number": 7216, "title": "Cannot build Tensorflow with XLA, but without GPU support", "user": {"login": "DavidNorman", "id": 606831, "node_id": "MDQ6VXNlcjYwNjgzMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/606831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidNorman", "html_url": "https://github.com/DavidNorman", "followers_url": "https://api.github.com/users/DavidNorman/followers", "following_url": "https://api.github.com/users/DavidNorman/following{/other_user}", "gists_url": "https://api.github.com/users/DavidNorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidNorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidNorman/subscriptions", "organizations_url": "https://api.github.com/users/DavidNorman/orgs", "repos_url": "https://api.github.com/users/DavidNorman/repos", "events_url": "https://api.github.com/users/DavidNorman/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidNorman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "hawkinsp", "id": 348932, "node_id": "MDQ6VXNlcjM0ODkzMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/348932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkinsp", "html_url": "https://github.com/hawkinsp", "followers_url": "https://api.github.com/users/hawkinsp/followers", "following_url": "https://api.github.com/users/hawkinsp/following{/other_user}", "gists_url": "https://api.github.com/users/hawkinsp/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkinsp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkinsp/subscriptions", "organizations_url": "https://api.github.com/users/hawkinsp/orgs", "repos_url": "https://api.github.com/users/hawkinsp/repos", "events_url": "https://api.github.com/users/hawkinsp/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkinsp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hawkinsp", "id": 348932, "node_id": "MDQ6VXNlcjM0ODkzMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/348932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hawkinsp", "html_url": "https://github.com/hawkinsp", "followers_url": "https://api.github.com/users/hawkinsp/followers", "following_url": "https://api.github.com/users/hawkinsp/following{/other_user}", "gists_url": "https://api.github.com/users/hawkinsp/gists{/gist_id}", "starred_url": "https://api.github.com/users/hawkinsp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hawkinsp/subscriptions", "organizations_url": "https://api.github.com/users/hawkinsp/orgs", "repos_url": "https://api.github.com/users/hawkinsp/repos", "events_url": "https://api.github.com/users/hawkinsp/events{/privacy}", "received_events_url": "https://api.github.com/users/hawkinsp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2017-02-02T11:31:06Z", "updated_at": "2017-02-06T14:39:55Z", "closed_at": "2017-02-06T14:39:55Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I believe it is probably commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/191658d54f90ac03c15b339326129cd52d1f56a3/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/191658d54f90ac03c15b339326129cd52d1f56a3\"><tt>191658d</tt></a></p>\n<p>To be clear, this is when I build without configuring CUDA at the ./configure stage.   I have not tried to configure with CUDA but then build without the --config=cuda.</p>\n<p>Here is the final few lines of the build output:</p>\n<pre><code>out/local-opt/bin/external/png_archive/libpng.pic.a bazel-out/local-opt/bin/external/zlib_archive/libzlib.pic.a -lcublas -lcuda -lcudnn -lcufft -lcurand '' -Wl,-exported_symbols_list tensorflow/tf_exported_symbols.lds -ldl -lm -Wl,-rpath,../local_config_cuda/cuda/lib -Wl,-rpath,../local_config_cuda/cuda/extras/CUPTI/lib -ldl -lpthread -pthread -lm -framework IOKit -lstdc++ -lm -undefined dynamic_lookup -headerpad_max_install_names): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nclang: warning: argument unused during compilation: '-pthread'\nld: file too small (length=0) file 'bazel-out/local-opt/bin/_solib_darwin/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Slib/libcudart.dylib' for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n</code></pre>\n<p>You can see that the cuda libraries are included in the build, and that the linker is complaining that the .so (.dylib) files are empty, which is true.</p>\n<p>Maybe this is a problem with the OS/X linker  which might object to empty .so files where other operating systems' linkers do not.</p>\n<p>For me,  this is is a high priority issue.</p>", "body_text": "I believe it is probably commit 191658d\nTo be clear, this is when I build without configuring CUDA at the ./configure stage.   I have not tried to configure with CUDA but then build without the --config=cuda.\nHere is the final few lines of the build output:\nout/local-opt/bin/external/png_archive/libpng.pic.a bazel-out/local-opt/bin/external/zlib_archive/libzlib.pic.a -lcublas -lcuda -lcudnn -lcufft -lcurand '' -Wl,-exported_symbols_list tensorflow/tf_exported_symbols.lds -ldl -lm -Wl,-rpath,../local_config_cuda/cuda/lib -Wl,-rpath,../local_config_cuda/cuda/extras/CUPTI/lib -ldl -lpthread -pthread -lm -framework IOKit -lstdc++ -lm -undefined dynamic_lookup -headerpad_max_install_names): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nclang: warning: argument unused during compilation: '-pthread'\nld: file too small (length=0) file 'bazel-out/local-opt/bin/_solib_darwin/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Slib/libcudart.dylib' for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n\nYou can see that the cuda libraries are included in the build, and that the linker is complaining that the .so (.dylib) files are empty, which is true.\nMaybe this is a problem with the OS/X linker  which might object to empty .so files where other operating systems' linkers do not.\nFor me,  this is is a high priority issue.", "body": "I believe it is probably commit 191658d54f90ac03c15b339326129cd52d1f56a3\r\n\r\nTo be clear, this is when I build without configuring CUDA at the ./configure stage.   I have not tried to configure with CUDA but then build without the --config=cuda.\r\n\r\nHere is the final few lines of the build output:\r\n```\r\nout/local-opt/bin/external/png_archive/libpng.pic.a bazel-out/local-opt/bin/external/zlib_archive/libzlib.pic.a -lcublas -lcuda -lcudnn -lcufft -lcurand '' -Wl,-exported_symbols_list tensorflow/tf_exported_symbols.lds -ldl -lm -Wl,-rpath,../local_config_cuda/cuda/lib -Wl,-rpath,../local_config_cuda/cuda/extras/CUPTI/lib -ldl -lpthread -pthread -lm -framework IOKit -lstdc++ -lm -undefined dynamic_lookup -headerpad_max_install_names): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nclang: warning: argument unused during compilation: '-pthread'\r\nld: file too small (length=0) file 'bazel-out/local-opt/bin/_solib_darwin/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Slib/libcudart.dylib' for architecture x86_64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\n```\r\n\r\nYou can see that the cuda libraries are included in the build, and that the linker is complaining that the .so (.dylib) files are empty, which is true.\r\n\r\nMaybe this is a problem with the OS/X linker  which might object to empty .so files where other operating systems' linkers do not.\r\n\r\nFor me,  this is is a high priority issue."}