{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/354926061", "html_url": "https://github.com/tensorflow/tensorflow/issues/15732#issuecomment-354926061", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15732", "id": 354926061, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDkyNjA2MQ==", "user": {"login": "xumengwei", "id": 23546158, "node_id": "MDQ6VXNlcjIzNTQ2MTU4", "avatar_url": "https://avatars3.githubusercontent.com/u/23546158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xumengwei", "html_url": "https://github.com/xumengwei", "followers_url": "https://api.github.com/users/xumengwei/followers", "following_url": "https://api.github.com/users/xumengwei/following{/other_user}", "gists_url": "https://api.github.com/users/xumengwei/gists{/gist_id}", "starred_url": "https://api.github.com/users/xumengwei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xumengwei/subscriptions", "organizations_url": "https://api.github.com/users/xumengwei/orgs", "repos_url": "https://api.github.com/users/xumengwei/repos", "events_url": "https://api.github.com/users/xumengwei/events{/privacy}", "received_events_url": "https://api.github.com/users/xumengwei/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-03T02:31:40Z", "updated_at": "2018-01-03T02:31:40Z", "author_association": "NONE", "body_html": "<p>Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=17578177\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/cwhipkey\">@cwhipkey</a> I think that I didn't include any kernel into the compilation. The current BUILD file is as follows</p>\n<pre><code>cc_binary(\n    name = \"librnn_dict_test\",\n    srcs = glob([\"utils/*.h\"])\n        + [\n            \"test_rnn.cc\",\n        ]\n        + if_android([\n            \"abort_wrapper.cc\",\n            \"rnn_dict_wrap.cxx\",\n            \"//tensorflow/core:android_op_registrations_and_gradients\",\n          ]),\n    copts = tf_copts() + [\n            \"-fexceptions\",\n            \"-DSUPPORT_SELECTIVE_REGISTRATION\",\n          ],\n    linkopts = [\"-lm\"] + if_android([\n        \"-pie\",\n        \"-landroid\",\n        \"-llog\",\n        \"-lz\",\n        \"-z defs\",\n        \"-Wl,--version-script\", LINKER_SCRIPT,\n        \"-Wl,--wrap=abort\",\n    ]),\n    deps = [\n            \"//xinmei/quantized_graph_loader:quantized_graph_proto_cc\",\n        ] + if_android([\n            \"@gemmlowp//:gemmlowp\",\n            \"//tensorflow/core:android_tensorflow_lib_selective_registration\",\n            LINKER_SCRIPT]),\n)\n</code></pre>\n<p>What I need to add to make it work?</p>", "body_text": "Thanks @cwhipkey I think that I didn't include any kernel into the compilation. The current BUILD file is as follows\ncc_binary(\n    name = \"librnn_dict_test\",\n    srcs = glob([\"utils/*.h\"])\n        + [\n            \"test_rnn.cc\",\n        ]\n        + if_android([\n            \"abort_wrapper.cc\",\n            \"rnn_dict_wrap.cxx\",\n            \"//tensorflow/core:android_op_registrations_and_gradients\",\n          ]),\n    copts = tf_copts() + [\n            \"-fexceptions\",\n            \"-DSUPPORT_SELECTIVE_REGISTRATION\",\n          ],\n    linkopts = [\"-lm\"] + if_android([\n        \"-pie\",\n        \"-landroid\",\n        \"-llog\",\n        \"-lz\",\n        \"-z defs\",\n        \"-Wl,--version-script\", LINKER_SCRIPT,\n        \"-Wl,--wrap=abort\",\n    ]),\n    deps = [\n            \"//xinmei/quantized_graph_loader:quantized_graph_proto_cc\",\n        ] + if_android([\n            \"@gemmlowp//:gemmlowp\",\n            \"//tensorflow/core:android_tensorflow_lib_selective_registration\",\n            LINKER_SCRIPT]),\n)\n\nWhat I need to add to make it work?", "body": "Thanks @cwhipkey I think that I didn't include any kernel into the compilation. The current BUILD file is as follows\r\n\r\n```\r\ncc_binary(\r\n    name = \"librnn_dict_test\",\r\n    srcs = glob([\"utils/*.h\"])\r\n        + [\r\n            \"test_rnn.cc\",\r\n        ]\r\n        + if_android([\r\n            \"abort_wrapper.cc\",\r\n            \"rnn_dict_wrap.cxx\",\r\n            \"//tensorflow/core:android_op_registrations_and_gradients\",\r\n          ]),\r\n    copts = tf_copts() + [\r\n            \"-fexceptions\",\r\n            \"-DSUPPORT_SELECTIVE_REGISTRATION\",\r\n          ],\r\n    linkopts = [\"-lm\"] + if_android([\r\n        \"-pie\",\r\n        \"-landroid\",\r\n        \"-llog\",\r\n        \"-lz\",\r\n        \"-z defs\",\r\n        \"-Wl,--version-script\", LINKER_SCRIPT,\r\n        \"-Wl,--wrap=abort\",\r\n    ]),\r\n    deps = [\r\n            \"//xinmei/quantized_graph_loader:quantized_graph_proto_cc\",\r\n        ] + if_android([\r\n            \"@gemmlowp//:gemmlowp\",\r\n            \"//tensorflow/core:android_tensorflow_lib_selective_registration\",\r\n            LINKER_SCRIPT]),\r\n)\r\n```\r\n\r\nWhat I need to add to make it work?"}