{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/280223198", "html_url": "https://github.com/tensorflow/tensorflow/issues/7498#issuecomment-280223198", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7498", "id": 280223198, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDIyMzE5OA==", "user": {"login": "chenleo", "id": 4822719, "node_id": "MDQ6VXNlcjQ4MjI3MTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/4822719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenleo", "html_url": "https://github.com/chenleo", "followers_url": "https://api.github.com/users/chenleo/followers", "following_url": "https://api.github.com/users/chenleo/following{/other_user}", "gists_url": "https://api.github.com/users/chenleo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenleo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenleo/subscriptions", "organizations_url": "https://api.github.com/users/chenleo/orgs", "repos_url": "https://api.github.com/users/chenleo/repos", "events_url": "https://api.github.com/users/chenleo/events{/privacy}", "received_events_url": "https://api.github.com/users/chenleo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-16T03:47:52Z", "updated_at": "2017-02-16T03:47:52Z", "author_association": "NONE", "body_html": "<p>Yes, sure.<br>\nI tried explicitly add c++11 configuration, which lead to the CXXFLAG as the following:</p>\n<pre><code>CXXFLAGS      = -fstack-protector-strong -DANDROID -march=armv7-a -mfloat-abi=softfp -mfpu=vfp -fno-builtin-memmove --sysroot=/Users/chen/Library/Android/android-ndk-r13b/platforms/android-16/arch-arm/ -std=c++11 -fno-rtti -fno-exceptions -fpic -O2 -mfpu=neon -DTF_LEAN_BINARY -DGOOGLE_PROTOBUF_NO_RTTI -DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER -g -g -marm -O0 -std=gnu++11 -Wall -W -D_REENTRANT -fPIC $(DEFINES)\n</code></pre>\n<p>I also explicitly add the libc.a/libc.so lib into my LIBS, as the following:</p>\n<pre><code>LIBS += -L/Users/chen/Library/Android/android-ndk-r13b/platforms/android-21/arch-arm64/usr/lib/libc.a\n</code></pre>\n<p>Still does not work, and encounter the link error as the following:</p>\n<pre><code>/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/lib/libtensorflow-core.a(net.o):net.cc:function tensorflow::internal::PickUnusedPortOrDie(): error: undefined reference to 'rand'\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/lib/libtensorflow-core.a(subprocess.o):subprocess.cc:function tensorflow::SubProcess::Communicate(std::string const*, std::string*, std::string*) [clone .part.5]: error: undefined reference to 'sigemptyset'\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/protobuf/lib/libprotobuf.a(strutil.o):strutil.cc:function google::protobuf::safe_strtof(char const*, float*): error: undefined reference to 'strtof'\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/protobuf/lib/libprotobuf-lite.a(strutil.o):strutil.cc:function google::protobuf::safe_strtof(char const*, float*): error: undefined reference to 'strtof'\n</code></pre>", "body_text": "Yes, sure.\nI tried explicitly add c++11 configuration, which lead to the CXXFLAG as the following:\nCXXFLAGS      = -fstack-protector-strong -DANDROID -march=armv7-a -mfloat-abi=softfp -mfpu=vfp -fno-builtin-memmove --sysroot=/Users/chen/Library/Android/android-ndk-r13b/platforms/android-16/arch-arm/ -std=c++11 -fno-rtti -fno-exceptions -fpic -O2 -mfpu=neon -DTF_LEAN_BINARY -DGOOGLE_PROTOBUF_NO_RTTI -DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER -g -g -marm -O0 -std=gnu++11 -Wall -W -D_REENTRANT -fPIC $(DEFINES)\n\nI also explicitly add the libc.a/libc.so lib into my LIBS, as the following:\nLIBS += -L/Users/chen/Library/Android/android-ndk-r13b/platforms/android-21/arch-arm64/usr/lib/libc.a\n\nStill does not work, and encounter the link error as the following:\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/lib/libtensorflow-core.a(net.o):net.cc:function tensorflow::internal::PickUnusedPortOrDie(): error: undefined reference to 'rand'\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/lib/libtensorflow-core.a(subprocess.o):subprocess.cc:function tensorflow::SubProcess::Communicate(std::string const*, std::string*, std::string*) [clone .part.5]: error: undefined reference to 'sigemptyset'\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/protobuf/lib/libprotobuf.a(strutil.o):strutil.cc:function google::protobuf::safe_strtof(char const*, float*): error: undefined reference to 'strtof'\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/protobuf/lib/libprotobuf-lite.a(strutil.o):strutil.cc:function google::protobuf::safe_strtof(char const*, float*): error: undefined reference to 'strtof'", "body": "Yes, sure.\r\nI tried explicitly add c++11 configuration, which lead to the CXXFLAG as the following:\r\n\r\n```\r\nCXXFLAGS      = -fstack-protector-strong -DANDROID -march=armv7-a -mfloat-abi=softfp -mfpu=vfp -fno-builtin-memmove --sysroot=/Users/chen/Library/Android/android-ndk-r13b/platforms/android-16/arch-arm/ -std=c++11 -fno-rtti -fno-exceptions -fpic -O2 -mfpu=neon -DTF_LEAN_BINARY -DGOOGLE_PROTOBUF_NO_RTTI -DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER -g -g -marm -O0 -std=gnu++11 -Wall -W -D_REENTRANT -fPIC $(DEFINES)\r\n```\r\n\r\nI also explicitly add the libc.a/libc.so lib into my LIBS, as the following:\r\n\r\n```\r\nLIBS += -L/Users/chen/Library/Android/android-ndk-r13b/platforms/android-21/arch-arm64/usr/lib/libc.a\r\n```\r\n\r\nStill does not work, and encounter the link error as the following:\r\n\r\n```\r\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/lib/libtensorflow-core.a(net.o):net.cc:function tensorflow::internal::PickUnusedPortOrDie(): error: undefined reference to 'rand'\r\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/lib/libtensorflow-core.a(subprocess.o):subprocess.cc:function tensorflow::SubProcess::Communicate(std::string const*, std::string*, std::string*) [clone .part.5]: error: undefined reference to 'sigemptyset'\r\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/protobuf/lib/libprotobuf.a(strutil.o):strutil.cc:function google::protobuf::safe_strtof(char const*, float*): error: undefined reference to 'strtof'\r\n/Users/chen/Documents/Git/tensorflow/tensorflow/contrib/makefile/gen_android/protobuf/lib/libprotobuf-lite.a(strutil.o):strutil.cc:function google::protobuf::safe_strtof(char const*, float*): error: undefined reference to 'strtof'\r\n```"}