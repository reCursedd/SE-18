{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/276412882", "html_url": "https://github.com/tensorflow/tensorflow/issues/4451#issuecomment-276412882", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4451", "id": 276412882, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjQxMjg4Mg==", "user": {"login": "GeorgianaPetria", "id": 18515190, "node_id": "MDQ6VXNlcjE4NTE1MTkw", "avatar_url": "https://avatars1.githubusercontent.com/u/18515190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GeorgianaPetria", "html_url": "https://github.com/GeorgianaPetria", "followers_url": "https://api.github.com/users/GeorgianaPetria/followers", "following_url": "https://api.github.com/users/GeorgianaPetria/following{/other_user}", "gists_url": "https://api.github.com/users/GeorgianaPetria/gists{/gist_id}", "starred_url": "https://api.github.com/users/GeorgianaPetria/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GeorgianaPetria/subscriptions", "organizations_url": "https://api.github.com/users/GeorgianaPetria/orgs", "repos_url": "https://api.github.com/users/GeorgianaPetria/repos", "events_url": "https://api.github.com/users/GeorgianaPetria/events{/privacy}", "received_events_url": "https://api.github.com/users/GeorgianaPetria/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-31T16:25:42Z", "updated_at": "2017-01-31T16:25:42Z", "author_association": "NONE", "body_html": "<p>hello, I'm also trying to run the retrained tensorflow model on my htc one M8, but the app is crashing.<br>\nI followed this tutorial: <a href=\"https://medium.com/@mgazar/experimenting-with-tensorflow-on-android-part-2-12f3dc294eaf#.gbp69dmst\" rel=\"nofollow\">https://medium.com/@mgazar/experimenting-with-tensorflow-on-android-part-2-12f3dc294eaf#.gbp69dmst</a></p>\n<p>Steps:</p>\n<ul>\n<li>retrained inception v3 with the stanford dogs dataset</li>\n<li>used strip_unused</li>\n<li>copied stripped_retrained_inception.pb and retrained_labels.txt to the demo assets folder</li>\n<li>modified ClassifierActivity.java (there is no TensorFlowImageListener in my project) : INPUT_SIZE = 299, IMAGE_MEAN = 128, IMAGE_STD = 128, INPUT_NAME = \"Mul:0\", OUTPUT_NAME = \"final_result:0\"</li>\n</ul>\n<p>Here are my logs:</p>\n<p>01-31 16:13:20.571 16771 16771 D tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@5923b39<br>\n01-31 16:13:20.586 16771 16771 D tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@5923b39<br>\n01-31 16:13:20.586 16771 16771 D tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@5923b39<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1920x1088<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1920x1080<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1808x1080<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1440x1088<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1280x960<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1088x1088<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1280x720<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 960x720<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 736x736<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 960x544<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 864x480<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 800x480<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 720x480<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 768x432<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 640x480<br>\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 576x432<br>\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 640x360<br>\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 480x320<br>\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 384x288<br>\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 352x288<br>\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 320x240<br>\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 240x160<br>\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 176x144<br>\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Chosen size: 480x320<br>\n01-31 16:13:20.731 16771 16771 I native  : tensorflow_inference_jni.cc:97 Native TF methods loaded.<br>\n01-31 16:13:20.731 16771 16771 I native  : tensorflow_inference_jni.cc:85 Creating new session variables for b33ca6a0c3ec0367<br>\n01-31 16:13:20.731 16771 16771 I native  : tensorflow_inference_jni.cc:113 Loading Tensorflow.<br>\n01-31 16:13:20.733 16771 16771 I native  : tensorflow_inference_jni.cc:120 Session created.<br>\n01-31 16:13:20.733 16771 16771 I native  : tensorflow_inference_jni.cc:126 Acquired AssetManager.<br>\n01-31 16:13:20.733 16771 16771 I native  : tensorflow_inference_jni.cc:128 Reading file to proto: file:///android_asset/stripped_inception.pb<br>\n01-31 16:13:20.733 16771 16771 I native  : jni_utils.cc:126 Opening asset stripped_inception.pb from disk with copy.<br>\n01-31 16:13:20.733 16771 16771 W native  : jni_utils.cc:131 Compressed proto is larger than 64mb; if problems occur  turn off compression for protocol buffer files in APK.<br>\n01-31 16:13:21.829 16771 16771 F native  : jni_utils.cc:136 Check failed: message-&gt;ParseFromArray(memory, data_size)<br>\n01-31 16:13:21.829 16771 16771 F libc    : Fatal signal 6 (SIGABRT), code -6 in tid 16771 (tensorflow.demo)<br>\n01-31 16:13:21.885   462   462 F DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***<br>\n01-31 16:13:21.886   462   462 F DEBUG   : Build fingerprint: 'htc/orange_uk/htc_m8:6.0/MRA58K/663331.4:user/release-keys'<br>\n01-31 16:13:21.886   462   462 F DEBUG   : Revision: '0'<br>\n01-31 16:13:21.886   462   462 F DEBUG   : ABI: 'arm'<br>\n01-31 16:13:21.886   462   462 F DEBUG   : pid: 16771, tid: 16771, name: tensorflow.demo  &gt;&gt;&gt; org.tensorflow.demo &lt;&lt;&lt;<br>\n01-31 16:13:21.886   462   462 F DEBUG   : signal 6 (SIGABRT), code -6 (SI_TKILL), fault addr --------<br>\n01-31 16:13:21.912   462   462 F DEBUG   : Abort message: 'jni_utils.cc:136 Check failed: message-&gt;ParseFromArray(memory, data_size) '<br>\n01-31 16:13:21.913   462   462 F DEBUG   :     r0 00000000  r1 00004183  r2 00000006  r3 b6f13b7c<br>\n01-31 16:13:21.913   462   462 F DEBUG   :     r4 b6f13b84  r5 b6f13b34  r6 00000054  r7 0000010c<br>\n01-31 16:13:21.913   462   462 F DEBUG   :     r8 bed9a6d4  r9 bed9a558  sl bed9a810  fp b9204cb0<br>\n01-31 16:13:21.913   462   462 F DEBUG   :     ip 00000006  sp bed9a500  lr b6c89471  pc b6c8a9ec  cpsr 400f0010<br>\n01-31 16:13:21.932   462   462 F DEBUG   :<br>\n01-31 16:13:21.932   462   462 F DEBUG   : backtrace:<br>\n01-31 16:13:21.932   462   462 F DEBUG   :     #00 pc 000439ec  /system/lib/libc.so (tgkill+12)<br>\n01-31 16:13:21.932   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> pc 0004246d  /system/lib/libc.so (pthread_kill+32)<br>\n01-31 16:13:21.932   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115894138\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2\">#2</a> pc 0001b87f  /system/lib/libc.so (raise+10)<br>\n01-31 16:13:21.932   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115896656\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/3\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/3/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/3\">#3</a> pc 00018a31  /system/lib/libc.so (__libc_android_abort+34)<br>\n01-31 16:13:21.933   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115898449\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4\">#4</a> pc 00016830  /system/lib/libc.so (abort+4)<br>\n01-31 16:13:21.933   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115910900\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5\">#5</a> pc 006aa551  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so<br>\n01-31 16:13:21.933   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115911735\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/6\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/6/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/6\">#6</a> pc 006aa6fb  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so<br>\n01-31 16:13:21.933   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115912111\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/7/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/7\">#7</a> pc 006aa713  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so<br>\n01-31 16:13:21.933   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914495\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/8/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/8\">#8</a> pc 0009080d  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so<br>\n01-31 16:13:21.934   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914691\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/9/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/9\">#9</a> pc 00097695  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so (Java_org_tensorflow_contrib_android_TensorFlowInferenceInterface_initializeTensorFlow+724)<br>\n01-31 16:13:21.934   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914766\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/10\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/10/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/10\">#10</a> pc 000268f9  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (int org.tensorflow.contrib.android.TensorFlowInferenceInterface.initializeTensorFlow(android.content.res.AssetManager, java.lang.String)+116)<br>\n01-31 16:13:21.934   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914813\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/11\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/11/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/11\">#11</a> pc 0003b32d  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (org.tensorflow.demo.Classifier org.tensorflow.demo.TensorFlowImageClassifier.create(android.content.res.AssetManager, java.lang.String, java.lang.String, int, int, int, float, java.lang.String, java.lang.String)+1416)<br>\n01-31 16:13:21.935   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115915395\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/12\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/12/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/12\">#12</a> pc 0002f7af  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(android.util.Size, int)+538)<br>\n01-31 16:13:21.935   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115918299\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/13\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/13/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/13\">#13</a> pc 000272e7  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraActivity$1.onPreviewSizeChosen(android.util.Size, int)+66)<br>\n01-31 16:13:21.935   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115918464\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/14/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/14\">#14</a> pc 0002c9b5  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment.setUpCameraOutputs(int, int)+1360)<br>\n01-31 16:13:21.936   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115922135\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/15\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/15/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/15\">#15</a> pc 0002c197  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment.openCamera(int, int)+58)<br>\n01-31 16:13:21.936   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115925923\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/16\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/16/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/16\">#16</a> pc 0002a5ff  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment.access$000(org.tensorflow.demo.CameraConnectionFragment, int, int)+58)<br>\n01-31 16:13:21.936   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115925964\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/17\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/17\">#17</a> pc 00028ddf  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment$1.onSurfaceTextureAvailable(android.graphics.SurfaceTexture, int, int)+90)<br>\n01-31 16:13:21.936   462   462 F DEBUG   :     <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115926208\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/18\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/18/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/18\">#18</a> pc 032eb9a3  /system/framework/arm/boot.oat (offset 0x2256000)<br>\n01-31 16:13:22.012  1093  1503 E HtcWifiRssiMonitor: newrssi =-61 , oldRssi= -61<br>\n01-31 16:13:22.314  1093 16836 E ActivityManager: App crashed! Process: org.tensorflow.demo</p>\n<p>Any idea why it's crashing on my android phone? The original demo with tensorflow_inception_graph.pb and ClassifierActivity.java unchanged works as expected.</p>", "body_text": "hello, I'm also trying to run the retrained tensorflow model on my htc one M8, but the app is crashing.\nI followed this tutorial: https://medium.com/@mgazar/experimenting-with-tensorflow-on-android-part-2-12f3dc294eaf#.gbp69dmst\nSteps:\n\nretrained inception v3 with the stanford dogs dataset\nused strip_unused\ncopied stripped_retrained_inception.pb and retrained_labels.txt to the demo assets folder\nmodified ClassifierActivity.java (there is no TensorFlowImageListener in my project) : INPUT_SIZE = 299, IMAGE_MEAN = 128, IMAGE_STD = 128, INPUT_NAME = \"Mul:0\", OUTPUT_NAME = \"final_result:0\"\n\nHere are my logs:\n01-31 16:13:20.571 16771 16771 D tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@5923b39\n01-31 16:13:20.586 16771 16771 D tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@5923b39\n01-31 16:13:20.586 16771 16771 D tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@5923b39\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1920x1088\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1920x1080\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1808x1080\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1440x1088\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1280x960\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1088x1088\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1280x720\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 960x720\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 736x736\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 960x544\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 864x480\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 800x480\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 720x480\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 768x432\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 640x480\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 576x432\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 640x360\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 480x320\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 384x288\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 352x288\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 320x240\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 240x160\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 176x144\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Chosen size: 480x320\n01-31 16:13:20.731 16771 16771 I native  : tensorflow_inference_jni.cc:97 Native TF methods loaded.\n01-31 16:13:20.731 16771 16771 I native  : tensorflow_inference_jni.cc:85 Creating new session variables for b33ca6a0c3ec0367\n01-31 16:13:20.731 16771 16771 I native  : tensorflow_inference_jni.cc:113 Loading Tensorflow.\n01-31 16:13:20.733 16771 16771 I native  : tensorflow_inference_jni.cc:120 Session created.\n01-31 16:13:20.733 16771 16771 I native  : tensorflow_inference_jni.cc:126 Acquired AssetManager.\n01-31 16:13:20.733 16771 16771 I native  : tensorflow_inference_jni.cc:128 Reading file to proto: file:///android_asset/stripped_inception.pb\n01-31 16:13:20.733 16771 16771 I native  : jni_utils.cc:126 Opening asset stripped_inception.pb from disk with copy.\n01-31 16:13:20.733 16771 16771 W native  : jni_utils.cc:131 Compressed proto is larger than 64mb; if problems occur  turn off compression for protocol buffer files in APK.\n01-31 16:13:21.829 16771 16771 F native  : jni_utils.cc:136 Check failed: message->ParseFromArray(memory, data_size)\n01-31 16:13:21.829 16771 16771 F libc    : Fatal signal 6 (SIGABRT), code -6 in tid 16771 (tensorflow.demo)\n01-31 16:13:21.885   462   462 F DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n01-31 16:13:21.886   462   462 F DEBUG   : Build fingerprint: 'htc/orange_uk/htc_m8:6.0/MRA58K/663331.4:user/release-keys'\n01-31 16:13:21.886   462   462 F DEBUG   : Revision: '0'\n01-31 16:13:21.886   462   462 F DEBUG   : ABI: 'arm'\n01-31 16:13:21.886   462   462 F DEBUG   : pid: 16771, tid: 16771, name: tensorflow.demo  >>> org.tensorflow.demo <<<\n01-31 16:13:21.886   462   462 F DEBUG   : signal 6 (SIGABRT), code -6 (SI_TKILL), fault addr --------\n01-31 16:13:21.912   462   462 F DEBUG   : Abort message: 'jni_utils.cc:136 Check failed: message->ParseFromArray(memory, data_size) '\n01-31 16:13:21.913   462   462 F DEBUG   :     r0 00000000  r1 00004183  r2 00000006  r3 b6f13b7c\n01-31 16:13:21.913   462   462 F DEBUG   :     r4 b6f13b84  r5 b6f13b34  r6 00000054  r7 0000010c\n01-31 16:13:21.913   462   462 F DEBUG   :     r8 bed9a6d4  r9 bed9a558  sl bed9a810  fp b9204cb0\n01-31 16:13:21.913   462   462 F DEBUG   :     ip 00000006  sp bed9a500  lr b6c89471  pc b6c8a9ec  cpsr 400f0010\n01-31 16:13:21.932   462   462 F DEBUG   :\n01-31 16:13:21.932   462   462 F DEBUG   : backtrace:\n01-31 16:13:21.932   462   462 F DEBUG   :     #00 pc 000439ec  /system/lib/libc.so (tgkill+12)\n01-31 16:13:21.932   462   462 F DEBUG   :     #1 pc 0004246d  /system/lib/libc.so (pthread_kill+32)\n01-31 16:13:21.932   462   462 F DEBUG   :     #2 pc 0001b87f  /system/lib/libc.so (raise+10)\n01-31 16:13:21.932   462   462 F DEBUG   :     #3 pc 00018a31  /system/lib/libc.so (__libc_android_abort+34)\n01-31 16:13:21.933   462   462 F DEBUG   :     #4 pc 00016830  /system/lib/libc.so (abort+4)\n01-31 16:13:21.933   462   462 F DEBUG   :     #5 pc 006aa551  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so\n01-31 16:13:21.933   462   462 F DEBUG   :     #6 pc 006aa6fb  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so\n01-31 16:13:21.933   462   462 F DEBUG   :     #7 pc 006aa713  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so\n01-31 16:13:21.933   462   462 F DEBUG   :     #8 pc 0009080d  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so\n01-31 16:13:21.934   462   462 F DEBUG   :     #9 pc 00097695  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so (Java_org_tensorflow_contrib_android_TensorFlowInferenceInterface_initializeTensorFlow+724)\n01-31 16:13:21.934   462   462 F DEBUG   :     #10 pc 000268f9  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (int org.tensorflow.contrib.android.TensorFlowInferenceInterface.initializeTensorFlow(android.content.res.AssetManager, java.lang.String)+116)\n01-31 16:13:21.934   462   462 F DEBUG   :     #11 pc 0003b32d  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (org.tensorflow.demo.Classifier org.tensorflow.demo.TensorFlowImageClassifier.create(android.content.res.AssetManager, java.lang.String, java.lang.String, int, int, int, float, java.lang.String, java.lang.String)+1416)\n01-31 16:13:21.935   462   462 F DEBUG   :     #12 pc 0002f7af  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(android.util.Size, int)+538)\n01-31 16:13:21.935   462   462 F DEBUG   :     #13 pc 000272e7  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraActivity$1.onPreviewSizeChosen(android.util.Size, int)+66)\n01-31 16:13:21.935   462   462 F DEBUG   :     #14 pc 0002c9b5  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment.setUpCameraOutputs(int, int)+1360)\n01-31 16:13:21.936   462   462 F DEBUG   :     #15 pc 0002c197  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment.openCamera(int, int)+58)\n01-31 16:13:21.936   462   462 F DEBUG   :     #16 pc 0002a5ff  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment.access$000(org.tensorflow.demo.CameraConnectionFragment, int, int)+58)\n01-31 16:13:21.936   462   462 F DEBUG   :     #17 pc 00028ddf  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment$1.onSurfaceTextureAvailable(android.graphics.SurfaceTexture, int, int)+90)\n01-31 16:13:21.936   462   462 F DEBUG   :     #18 pc 032eb9a3  /system/framework/arm/boot.oat (offset 0x2256000)\n01-31 16:13:22.012  1093  1503 E HtcWifiRssiMonitor: newrssi =-61 , oldRssi= -61\n01-31 16:13:22.314  1093 16836 E ActivityManager: App crashed! Process: org.tensorflow.demo\nAny idea why it's crashing on my android phone? The original demo with tensorflow_inception_graph.pb and ClassifierActivity.java unchanged works as expected.", "body": "hello, I'm also trying to run the retrained tensorflow model on my htc one M8, but the app is crashing. \r\nI followed this tutorial: https://medium.com/@mgazar/experimenting-with-tensorflow-on-android-part-2-12f3dc294eaf#.gbp69dmst\r\n\r\nSteps:\r\n- retrained inception v3 with the stanford dogs dataset\r\n- used strip_unused\r\n- copied stripped_retrained_inception.pb and retrained_labels.txt to the demo assets folder\r\n- modified ClassifierActivity.java (there is no TensorFlowImageListener in my project) : INPUT_SIZE = 299, IMAGE_MEAN = 128, IMAGE_STD = 128, INPUT_NAME = \"Mul:0\", OUTPUT_NAME = \"final_result:0\" \r\n\r\nHere are my logs: \r\n\r\n01-31 16:13:20.571 16771 16771 D tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@5923b39\r\n01-31 16:13:20.586 16771 16771 D tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@5923b39\r\n01-31 16:13:20.586 16771 16771 D tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@5923b39\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1920x1088\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1920x1080\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1808x1080\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1440x1088\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1280x960\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1088x1088\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 1280x720\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 960x720\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 736x736\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 960x544\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 864x480\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 800x480\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 720x480\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 768x432\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 640x480\r\n01-31 16:13:20.679 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 576x432\r\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 640x360\r\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Adding size: 480x320\r\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 384x288\r\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 352x288\r\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 320x240\r\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 240x160\r\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Not adding size: 176x144\r\n01-31 16:13:20.680 16771 16771 I tensorflow: CameraConnectionFragment: Chosen size: 480x320\r\n01-31 16:13:20.731 16771 16771 I native  : tensorflow_inference_jni.cc:97 Native TF methods loaded.\r\n01-31 16:13:20.731 16771 16771 I native  : tensorflow_inference_jni.cc:85 Creating new session variables for b33ca6a0c3ec0367\r\n01-31 16:13:20.731 16771 16771 I native  : tensorflow_inference_jni.cc:113 Loading Tensorflow.\r\n01-31 16:13:20.733 16771 16771 I native  : tensorflow_inference_jni.cc:120 Session created.\r\n01-31 16:13:20.733 16771 16771 I native  : tensorflow_inference_jni.cc:126 Acquired AssetManager.\r\n01-31 16:13:20.733 16771 16771 I native  : tensorflow_inference_jni.cc:128 Reading file to proto: file:///android_asset/stripped_inception.pb\r\n01-31 16:13:20.733 16771 16771 I native  : jni_utils.cc:126 Opening asset stripped_inception.pb from disk with copy.\r\n01-31 16:13:20.733 16771 16771 W native  : jni_utils.cc:131 Compressed proto is larger than 64mb; if problems occur  turn off compression for protocol buffer files in APK.\r\n01-31 16:13:21.829 16771 16771 F native  : jni_utils.cc:136 Check failed: message->ParseFromArray(memory, data_size) \r\n01-31 16:13:21.829 16771 16771 F libc    : Fatal signal 6 (SIGABRT), code -6 in tid 16771 (tensorflow.demo)\r\n01-31 16:13:21.885   462   462 F DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\r\n01-31 16:13:21.886   462   462 F DEBUG   : Build fingerprint: 'htc/orange_uk/htc_m8:6.0/MRA58K/663331.4:user/release-keys'\r\n01-31 16:13:21.886   462   462 F DEBUG   : Revision: '0'\r\n01-31 16:13:21.886   462   462 F DEBUG   : ABI: 'arm'\r\n01-31 16:13:21.886   462   462 F DEBUG   : pid: 16771, tid: 16771, name: tensorflow.demo  >>> org.tensorflow.demo <<<\r\n01-31 16:13:21.886   462   462 F DEBUG   : signal 6 (SIGABRT), code -6 (SI_TKILL), fault addr --------\r\n01-31 16:13:21.912   462   462 F DEBUG   : Abort message: 'jni_utils.cc:136 Check failed: message->ParseFromArray(memory, data_size) '\r\n01-31 16:13:21.913   462   462 F DEBUG   :     r0 00000000  r1 00004183  r2 00000006  r3 b6f13b7c\r\n01-31 16:13:21.913   462   462 F DEBUG   :     r4 b6f13b84  r5 b6f13b34  r6 00000054  r7 0000010c\r\n01-31 16:13:21.913   462   462 F DEBUG   :     r8 bed9a6d4  r9 bed9a558  sl bed9a810  fp b9204cb0\r\n01-31 16:13:21.913   462   462 F DEBUG   :     ip 00000006  sp bed9a500  lr b6c89471  pc b6c8a9ec  cpsr 400f0010\r\n01-31 16:13:21.932   462   462 F DEBUG   : \r\n01-31 16:13:21.932   462   462 F DEBUG   : backtrace:\r\n01-31 16:13:21.932   462   462 F DEBUG   :     #00 pc 000439ec  /system/lib/libc.so (tgkill+12)\r\n01-31 16:13:21.932   462   462 F DEBUG   :     #01 pc 0004246d  /system/lib/libc.so (pthread_kill+32)\r\n01-31 16:13:21.932   462   462 F DEBUG   :     #02 pc 0001b87f  /system/lib/libc.so (raise+10)\r\n01-31 16:13:21.932   462   462 F DEBUG   :     #03 pc 00018a31  /system/lib/libc.so (__libc_android_abort+34)\r\n01-31 16:13:21.933   462   462 F DEBUG   :     #04 pc 00016830  /system/lib/libc.so (abort+4)\r\n01-31 16:13:21.933   462   462 F DEBUG   :     #05 pc 006aa551  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so\r\n01-31 16:13:21.933   462   462 F DEBUG   :     #06 pc 006aa6fb  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so\r\n01-31 16:13:21.933   462   462 F DEBUG   :     #07 pc 006aa713  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so\r\n01-31 16:13:21.933   462   462 F DEBUG   :     #08 pc 0009080d  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so\r\n01-31 16:13:21.934   462   462 F DEBUG   :     #09 pc 00097695  /data/app/org.tensorflow.demo-2/lib/arm/libtensorflow_demo.so (Java_org_tensorflow_contrib_android_TensorFlowInferenceInterface_initializeTensorFlow+724)\r\n01-31 16:13:21.934   462   462 F DEBUG   :     #10 pc 000268f9  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (int org.tensorflow.contrib.android.TensorFlowInferenceInterface.initializeTensorFlow(android.content.res.AssetManager, java.lang.String)+116)\r\n01-31 16:13:21.934   462   462 F DEBUG   :     #11 pc 0003b32d  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (org.tensorflow.demo.Classifier org.tensorflow.demo.TensorFlowImageClassifier.create(android.content.res.AssetManager, java.lang.String, java.lang.String, int, int, int, float, java.lang.String, java.lang.String)+1416)\r\n01-31 16:13:21.935   462   462 F DEBUG   :     #12 pc 0002f7af  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(android.util.Size, int)+538)\r\n01-31 16:13:21.935   462   462 F DEBUG   :     #13 pc 000272e7  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraActivity$1.onPreviewSizeChosen(android.util.Size, int)+66)\r\n01-31 16:13:21.935   462   462 F DEBUG   :     #14 pc 0002c9b5  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment.setUpCameraOutputs(int, int)+1360)\r\n01-31 16:13:21.936   462   462 F DEBUG   :     #15 pc 0002c197  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment.openCamera(int, int)+58)\r\n01-31 16:13:21.936   462   462 F DEBUG   :     #16 pc 0002a5ff  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment.access$000(org.tensorflow.demo.CameraConnectionFragment, int, int)+58)\r\n01-31 16:13:21.936   462   462 F DEBUG   :     #17 pc 00028ddf  /data/app/org.tensorflow.demo-2/oat/arm/base.odex (offset 0x26000) (void org.tensorflow.demo.CameraConnectionFragment$1.onSurfaceTextureAvailable(android.graphics.SurfaceTexture, int, int)+90)\r\n01-31 16:13:21.936   462   462 F DEBUG   :     #18 pc 032eb9a3  /system/framework/arm/boot.oat (offset 0x2256000)\r\n01-31 16:13:22.012  1093  1503 E HtcWifiRssiMonitor: newrssi =-61 , oldRssi= -61\r\n01-31 16:13:22.314  1093 16836 E ActivityManager: App crashed! Process: org.tensorflow.demo\r\n\r\n\r\nAny idea why it's crashing on my android phone? The original demo with tensorflow_inception_graph.pb and ClassifierActivity.java unchanged works as expected.\r\n"}