{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/273486575", "html_url": "https://github.com/tensorflow/tensorflow/issues/4920#issuecomment-273486575", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4920", "id": 273486575, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzQ4NjU3NQ==", "user": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-18T14:19:32Z", "updated_at": "2017-01-18T14:19:32Z", "author_association": "MEMBER", "body_html": "<div class=\"email-fragment\">Use an identity node with control dependencies instead of the value of the\nvariable itself.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Jan 17, 2017 22:58, \"Yaroslav Bulatov\" ***@***.***&gt; wrote:\n <a class=\"user-mention\" href=\"https://github.com/ZhimingZhou\">@ZhimingZhou</a> &lt;<a href=\"https://github.com/ZhimingZhou\">https://github.com/ZhimingZhou</a>&gt; thanks for the easy to\n reproduce test case. It seems the semantics of variables changed. I would\n add dependency on \"variable/read\" node to force conditional initialization\n subgraph to run when \"variable\" is being read. But now this no longer\n works. I tried adding dependency on var.read_value(), but that creates\n new nodes on each evaluation.\n\n <a class=\"user-mention\" href=\"https://github.com/alextp\">@alextp</a> &lt;<a href=\"https://github.com/alextp\">https://github.com/alextp</a>&gt; is there some way to force some op to\n run when variable is being read?\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"182611026\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4920\" href=\"https://github.com/tensorflow/tensorflow/issues/4920#issuecomment-273398951\">#4920 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AAATxT8nbwuEu_hucID6iTDSMbj_LNDOks5rTbgrgaJpZM4KVHy9\">https://github.com/notifications/unsubscribe-auth/AAATxT8nbwuEu_hucID6iTDSMbj_LNDOks5rTbgrgaJpZM4KVHy9</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "Use an identity node with control dependencies instead of the value of the\nvariable itself.\n\u2026\nOn Jan 17, 2017 22:58, \"Yaroslav Bulatov\" ***@***.***> wrote:\n @ZhimingZhou <https://github.com/ZhimingZhou> thanks for the easy to\n reproduce test case. It seems the semantics of variables changed. I would\n add dependency on \"variable/read\" node to force conditional initialization\n subgraph to run when \"variable\" is being read. But now this no longer\n works. I tried adding dependency on var.read_value(), but that creates\n new nodes on each evaluation.\n\n @alextp <https://github.com/alextp> is there some way to force some op to\n run when variable is being read?\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#4920 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/AAATxT8nbwuEu_hucID6iTDSMbj_LNDOks5rTbgrgaJpZM4KVHy9>\n .", "body": "Use an identity node with control dependencies instead of the value of the\nvariable itself.\n\nOn Jan 17, 2017 22:58, \"Yaroslav Bulatov\" <notifications@github.com> wrote:\n\n> @ZhimingZhou <https://github.com/ZhimingZhou> thanks for the easy to\n> reproduce test case. It seems the semantics of variables changed. I would\n> add dependency on \"variable/read\" node to force conditional initialization\n> subgraph to run when \"variable\" is being read. But now this no longer\n> works. I tried adding dependency on var.read_value(), but that creates\n> new nodes on each evaluation.\n>\n> @alextp <https://github.com/alextp> is there some way to force some op to\n> run when variable is being read?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/4920#issuecomment-273398951>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAATxT8nbwuEu_hucID6iTDSMbj_LNDOks5rTbgrgaJpZM4KVHy9>\n> .\n>\n"}