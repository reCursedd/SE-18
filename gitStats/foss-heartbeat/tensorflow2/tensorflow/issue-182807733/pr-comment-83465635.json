{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/83465635", "pull_request_review_id": 4310202, "id": 83465635, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzNDY1NjM1", "diff_hunk": "@@ -16,33 +18,34 @@ py_library(\n         \"//tensorflow/contrib/bayesflow:bayesflow_py\",\n         \"//tensorflow/contrib/copy_graph:copy_graph_py\",\n         \"//tensorflow/contrib/crf:crf_py\",\n-        \"//tensorflow/contrib/cudnn_rnn:cudnn_rnn_py\",\n         \"//tensorflow/contrib/distributions:distributions_py\",\n-        \"//tensorflow/contrib/factorization:factorization_py\",\n-        \"//tensorflow/contrib/ffmpeg:ffmpeg_ops_py\",\n         \"//tensorflow/contrib/framework:framework_py\",\n         \"//tensorflow/contrib/graph_editor:graph_editor_py\",\n         \"//tensorflow/contrib/grid_rnn:grid_rnn_py\",\n         \"//tensorflow/contrib/layers:layers_py\",\n-        \"//tensorflow/contrib/learn\",\n         \"//tensorflow/contrib/linear_optimizer:sdca_ops_py\",\n         \"//tensorflow/contrib/lookup:lookup_py\",\n         \"//tensorflow/contrib/losses:losses_py\",\n-        \"//tensorflow/contrib/metrics:metrics_py\",\n         \"//tensorflow/contrib/opt:opt_py\",\n-        \"//tensorflow/contrib/quantization:quantization_py\",\n-        \"//tensorflow/contrib/rnn:rnn_py\",\n-        \"//tensorflow/contrib/seq2seq:seq2seq_py\",\n         \"//tensorflow/contrib/slim\",\n         \"//tensorflow/contrib/slim:nets\",\n-        \"//tensorflow/contrib/tensor_forest:tensor_forest_py\",\n-        \"//tensorflow/contrib/tensor_forest/hybrid:ops_lib\",\n         \"//tensorflow/contrib/tensorboard\",\n         \"//tensorflow/contrib/testing:testing_py\",\n         \"//tensorflow/contrib/tfprof\",\n         \"//tensorflow/contrib/training:training_py\",\n         \"//tensorflow/contrib/util:util_py\",\n-    ],\n+    ] + if_not_windows([\n+        \"//tensorflow/contrib/cudnn_rnn:cudnn_rnn_py\",\n+        \"//tensorflow/contrib/factorization:factorization_py\",\n+        \"//tensorflow/contrib/ffmpeg:ffmpeg_ops_py\",\n+        \"//tensorflow/contrib/learn\",\n+        \"//tensorflow/contrib/metrics:metrics_py\",\n+        \"//tensorflow/contrib/quantization:quantization_py\",\n+        \"//tensorflow/contrib/rnn:rnn_py\",\n+        \"//tensorflow/contrib/seq2seq:seq2seq_py\",\n+        \"//tensorflow/contrib/tensor_forest:tensor_forest_py\",\n+        \"//tensorflow/contrib/tensor_forest/hybrid:ops_lib\",\n+    ]),", "path": "tensorflow/contrib/BUILD", "position": null, "original_position": 51, "commit_id": "a981a7dae464a04236c25c114872c02a4e3c574e", "original_commit_id": "38077a9dc0d076845eee39c3b52f055d30a7e29f", "user": {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, "body": "That's what I thought at first, but when I excluded `:contrib_py` entirely, `import tensorflow as tf` failed with `ImportError: No module named 'tensorflow.python.ops.standard_ops'`\nBut, I just figured that `//tensorflow/python` should depend on `:ops` directly instead of through `//tensorflow/contrib/slim`.\nI think it's fine to not build `:contrib_py` on Windows for now.\n", "created_at": "2016-10-14T17:26:57Z", "updated_at": "2016-10-19T11:12:03Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/4942#discussion_r83465635", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/4942", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/83465635"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/4942#discussion_r83465635"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/4942"}}, "body_html": "<p>That's what I thought at first, but when I excluded <code>:contrib_py</code> entirely, <code>import tensorflow as tf</code> failed with <code>ImportError: No module named 'tensorflow.python.ops.standard_ops'</code><br>\nBut, I just figured that <code>//tensorflow/python</code> should depend on <code>:ops</code> directly instead of through <code>//tensorflow/contrib/slim</code>.<br>\nI think it's fine to not build <code>:contrib_py</code> on Windows for now.</p>", "body_text": "That's what I thought at first, but when I excluded :contrib_py entirely, import tensorflow as tf failed with ImportError: No module named 'tensorflow.python.ops.standard_ops'\nBut, I just figured that //tensorflow/python should depend on :ops directly instead of through //tensorflow/contrib/slim.\nI think it's fine to not build :contrib_py on Windows for now.", "in_reply_to_id": 83241703}