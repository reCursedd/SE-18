{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/253870462", "html_url": "https://github.com/tensorflow/tensorflow/pull/4942#issuecomment-253870462", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4942", "id": 253870462, "node_id": "MDEyOklzc3VlQ29tbWVudDI1Mzg3MDQ2Mg==", "user": {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-14T17:41:30Z", "updated_at": "2016-10-14T22:27:26Z", "author_association": "MEMBER", "body_html": "<p>Change updated, please review again!</p>\n<p>One thing I forgot to mention, the pip package build now only works on Windows with Bazel at HEAD and  Visual Studio Update 2. I had some changes to make Bazel work with Python3, but for Visual Studio, we still need /WHOLEARCHIVE to link <code>_pywrap_tensorflow.so</code>(In fact, it's a dll). The reason is we need<a href=\"https://github.com/bazelbuild/bazel/commit/ee311f4e23f728b1451785434c286d66aa236be9\"> the global whole archive feature</a> to force link all its  dependencies no matter whether the dependency has <code>alwaylink = 1</code> or not. Without <code>/WHOLEARCHIVE</code>, I haven't figured out a simple solution to get all the object files from all of its dependencies.</p>\n<p>So, unfortunately if users want to build the pip package on Windows, they have to install VS 2015 update 2 or newer version.  Is it going to be a serious problem or not?</p>", "body_text": "Change updated, please review again!\nOne thing I forgot to mention, the pip package build now only works on Windows with Bazel at HEAD and  Visual Studio Update 2. I had some changes to make Bazel work with Python3, but for Visual Studio, we still need /WHOLEARCHIVE to link _pywrap_tensorflow.so(In fact, it's a dll). The reason is we need the global whole archive feature to force link all its  dependencies no matter whether the dependency has alwaylink = 1 or not. Without /WHOLEARCHIVE, I haven't figured out a simple solution to get all the object files from all of its dependencies.\nSo, unfortunately if users want to build the pip package on Windows, they have to install VS 2015 update 2 or newer version.  Is it going to be a serious problem or not?", "body": "Change updated, please review again!\n\nOne thing I forgot to mention, the pip package build now only works on Windows with Bazel at HEAD and  Visual Studio Update 2. I had some changes to make Bazel work with Python3, but for Visual Studio, we still need /WHOLEARCHIVE to link `_pywrap_tensorflow.so`(In fact, it's a dll). The reason is we need[ the global whole archive feature](https://github.com/bazelbuild/bazel/commit/ee311f4e23f728b1451785434c286d66aa236be9) to force link all its  dependencies no matter whether the dependency has `alwaylink = 1` or not. Without `/WHOLEARCHIVE`, I haven't figured out a simple solution to get all the object files from all of its dependencies.\n\nSo, unfortunately if users want to build the pip package on Windows, they have to install VS 2015 update 2 or newer version.  Is it going to be a serious problem or not?\n"}