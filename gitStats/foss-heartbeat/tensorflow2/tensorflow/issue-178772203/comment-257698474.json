{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/257698474", "html_url": "https://github.com/tensorflow/tensorflow/issues/4540#issuecomment-257698474", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4540", "id": 257698474, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzY5ODQ3NA==", "user": {"login": "yhg0112", "id": 5001738, "node_id": "MDQ6VXNlcjUwMDE3Mzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5001738?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhg0112", "html_url": "https://github.com/yhg0112", "followers_url": "https://api.github.com/users/yhg0112/followers", "following_url": "https://api.github.com/users/yhg0112/following{/other_user}", "gists_url": "https://api.github.com/users/yhg0112/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhg0112/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhg0112/subscriptions", "organizations_url": "https://api.github.com/users/yhg0112/orgs", "repos_url": "https://api.github.com/users/yhg0112/repos", "events_url": "https://api.github.com/users/yhg0112/events{/privacy}", "received_events_url": "https://api.github.com/users/yhg0112/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-01T21:10:22Z", "updated_at": "2016-11-01T21:10:22Z", "author_association": "NONE", "body_html": "<p>same problem here.</p>\n<p>Iis '-1' indexing as 'PAD' not supported anymore?</p>\n<p>i'm currently avoiding this problem with concatenating 0-vector in embedding weights :</p>\n<pre><code>def embedding(inputs, in_dim, out_dim, name=''):    \n    with tf.variable_scope('Embedding'+name):\n        W_emb = tf.get_variable('W', shape=[in_dim-1, out_dim], \n                                initializer=tf.random_normal_initializer())\n        padding_zeros = tf.zeros(shape=[out_dim])\n        W_emb = tf.concat(0, [[padding_zeros], W_emb])\n    return embedding_ops.embedding_lookup(W_emb, inputs, validate_indices=False)\n</code></pre>", "body_text": "same problem here.\nIis '-1' indexing as 'PAD' not supported anymore?\ni'm currently avoiding this problem with concatenating 0-vector in embedding weights :\ndef embedding(inputs, in_dim, out_dim, name=''):    \n    with tf.variable_scope('Embedding'+name):\n        W_emb = tf.get_variable('W', shape=[in_dim-1, out_dim], \n                                initializer=tf.random_normal_initializer())\n        padding_zeros = tf.zeros(shape=[out_dim])\n        W_emb = tf.concat(0, [[padding_zeros], W_emb])\n    return embedding_ops.embedding_lookup(W_emb, inputs, validate_indices=False)", "body": "same problem here.\n\nIis '-1' indexing as 'PAD' not supported anymore? \n\ni'm currently avoiding this problem with concatenating 0-vector in embedding weights :\n\n```\ndef embedding(inputs, in_dim, out_dim, name=''):    \n    with tf.variable_scope('Embedding'+name):\n        W_emb = tf.get_variable('W', shape=[in_dim-1, out_dim], \n                                initializer=tf.random_normal_initializer())\n        padding_zeros = tf.zeros(shape=[out_dim])\n        W_emb = tf.concat(0, [[padding_zeros], W_emb])\n    return embedding_ops.embedding_lookup(W_emb, inputs, validate_indices=False)\n```\n"}