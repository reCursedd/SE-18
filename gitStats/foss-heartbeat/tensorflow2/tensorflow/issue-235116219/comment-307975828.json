{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/307975828", "html_url": "https://github.com/tensorflow/tensorflow/issues/10642#issuecomment-307975828", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10642", "id": 307975828, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzk3NTgyOA==", "user": {"login": "DjangoPeng", "id": 16943353, "node_id": "MDQ6VXNlcjE2OTQzMzUz", "avatar_url": "https://avatars3.githubusercontent.com/u/16943353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DjangoPeng", "html_url": "https://github.com/DjangoPeng", "followers_url": "https://api.github.com/users/DjangoPeng/followers", "following_url": "https://api.github.com/users/DjangoPeng/following{/other_user}", "gists_url": "https://api.github.com/users/DjangoPeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/DjangoPeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DjangoPeng/subscriptions", "organizations_url": "https://api.github.com/users/DjangoPeng/orgs", "repos_url": "https://api.github.com/users/DjangoPeng/repos", "events_url": "https://api.github.com/users/DjangoPeng/events{/privacy}", "received_events_url": "https://api.github.com/users/DjangoPeng/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-13T00:55:39Z", "updated_at": "2017-06-13T00:56:28Z", "author_association": "CONTRIBUTOR", "body_html": "<p>No, I'm running on Kubernetes 1.6.4, and followed this <a href=\"https://kubernetes.io/docs/tasks/manage-gpus/scheduling-gpus/\" rel=\"nofollow\">guide</a> to schedule GPUs. I installed CUDA 8.0 and copied all shared object files about Nvidia GPU driver into <code>/usr/local/nvidia/lib64</code>. Then, I got new error and the reason is seems like the container needs <code>/dev/nvidia-uvm</code>. I'm not sure whether it's an issue on TensorFlow image or Kubernetes.</p>\n<pre><code> tf.global_variables_initializer().run()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1552, in run\n    _run_using_default_session(self, feed_dict, self.graph, session)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 3776, in _run_using_default_session\n    session.run(operation, feed_dict)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 778, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 982, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1032, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1052, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Cannot assign a device to node 'Variable': Could not satisfy explicit device specification '/device:GPU:0' because no devi\nces matching that specification are registered in this process; available devices: /job:localhost/replica:0/task:0/cpu:0\n</code></pre>", "body_text": "No, I'm running on Kubernetes 1.6.4, and followed this guide to schedule GPUs. I installed CUDA 8.0 and copied all shared object files about Nvidia GPU driver into /usr/local/nvidia/lib64. Then, I got new error and the reason is seems like the container needs /dev/nvidia-uvm. I'm not sure whether it's an issue on TensorFlow image or Kubernetes.\n tf.global_variables_initializer().run()\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1552, in run\n    _run_using_default_session(self, feed_dict, self.graph, session)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 3776, in _run_using_default_session\n    session.run(operation, feed_dict)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 778, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 982, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1032, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1052, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Cannot assign a device to node 'Variable': Could not satisfy explicit device specification '/device:GPU:0' because no devi\nces matching that specification are registered in this process; available devices: /job:localhost/replica:0/task:0/cpu:0", "body": "No, I'm running on Kubernetes 1.6.4, and followed this [guide](https://kubernetes.io/docs/tasks/manage-gpus/scheduling-gpus/) to schedule GPUs. I installed CUDA 8.0 and copied all shared object files about Nvidia GPU driver into `/usr/local/nvidia/lib64`. Then, I got new error and the reason is seems like the container needs `/dev/nvidia-uvm`. I'm not sure whether it's an issue on TensorFlow image or Kubernetes.\r\n```\r\n tf.global_variables_initializer().run()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1552, in run\r\n    _run_using_default_session(self, feed_dict, self.graph, session)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 3776, in _run_using_default_session\r\n    session.run(operation, feed_dict)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 778, in run\r\n    run_metadata_ptr)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 982, in _run\r\n    feed_dict_string, options, run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1032, in _do_run\r\n    target_list, options, run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1052, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Cannot assign a device to node 'Variable': Could not satisfy explicit device specification '/device:GPU:0' because no devi\r\nces matching that specification are registered in this process; available devices: /job:localhost/replica:0/task:0/cpu:0\r\n```"}