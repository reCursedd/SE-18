{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10663", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10663/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10663/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10663/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10663", "id": 235395018, "node_id": "MDU6SXNzdWUyMzUzOTUwMTg=", "number": 10663, "title": "MemoryError when freezing large model", "user": {"login": "domluna", "id": 1907223, "node_id": "MDQ6VXNlcjE5MDcyMjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1907223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/domluna", "html_url": "https://github.com/domluna", "followers_url": "https://api.github.com/users/domluna/followers", "following_url": "https://api.github.com/users/domluna/following{/other_user}", "gists_url": "https://api.github.com/users/domluna/gists{/gist_id}", "starred_url": "https://api.github.com/users/domluna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/domluna/subscriptions", "organizations_url": "https://api.github.com/users/domluna/orgs", "repos_url": "https://api.github.com/users/domluna/repos", "events_url": "https://api.github.com/users/domluna/events{/privacy}", "received_events_url": "https://api.github.com/users/domluna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-06-12T23:33:45Z", "updated_at": "2017-06-15T02:36:49Z", "closed_at": "2017-06-15T02:36:49Z", "author_association": "NONE", "body_html": "<hr>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.2.0-rc2</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.5.1</li>\n<li><strong>CUDA/cuDNN version</strong>: CUDA8 / CuDNN6</li>\n<li><strong>GPU model and memory</strong>: Tesla K80, 11439MiB</li>\n<li><strong>Exact command to reproduce</strong>: <code>~/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=fcn.pbtxt --output_graph=frozen.pb --input_checkpoint=ckpt --output_nodes_names=\"Softmax\"</code></li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I'm attempting to freeze a large model with the <code>freeze_graph</code> tool and I get a <code>MemoryError</code>. This seems really weird to me since the machine should have more than enough memory. I also tried running with <code>CUDA_VISIBLE_DEVICES=\"\"</code> but got the same result.</p>\n<pre><code>ubuntu@ip-172-31-33-208:~/code/segnet$ free -g\n              total        used        free      shared  buff/cache   available\nMem:             59           1          51           0           7          58\nSwap:             0           0           0\n</code></pre>\n<pre lang=\"$\" data-meta=\"ls -larth\"><code>drwxr-xr-x 2 ubuntu ubuntu 4.0K Jun  7 22:37 variables\n-rw-r--r-- 1 ubuntu ubuntu 513M Jun  7 22:37 saved_model.pb\ndrwxrwxr-x 2 ubuntu ubuntu 4.0K Jun 12 20:45 data\ndrwxrwxr-x 3 ubuntu ubuntu 4.0K Jun 12 21:39 ..\n-rw-rw-r-- 1 ubuntu ubuntu 1.1K Jun 12 23:07 load.py\n-rw-rw-r-- 1 ubuntu ubuntu 1.5G Jun 12 23:09 fcn.pbtxt\n-rw-rw-r-- 1 ubuntu ubuntu 4.8K Jun 12 23:09 ckpt.index\n-rw-rw-r-- 1 ubuntu ubuntu 1.6G Jun 12 23:09 ckpt.data-00000-of-00001\n-rw-rw-r-- 1 ubuntu ubuntu   65 Jun 12 23:09 checkpoint\n-rw-rw-r-- 1 ubuntu ubuntu 513M Jun 12 23:09 ckpt.meta\ndrwxrwxr-x 4 ubuntu ubuntu 4.0K Jun 12 23:09 .\n</code></pre>\n<p>I first converted the <code>saved_model.pb</code> to a <code>.pbtxt</code>, <code>fcn.pbtxt</code> with a checkpoint <code>ckpt</code> with this script <a href=\"https://gist.github.com/domluna/ed477cb5698c787f29c7d56fba381fed\">https://gist.github.com/domluna/ed477cb5698c787f29c7d56fba381fed</a>. I couldn't get the freeze tool to work with <code>saved_model.pb</code> which was created based on <code>tf.saved_model</code>.</p>\n<h3>Source code / logs</h3>\n<pre><code>ubuntu@ip-172-31-33-208:~/code/segnet$ ~/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=fcn.pbtxt --output_graph=frozen.pb --output_nodes_names=\"Softmax\"\nTraceback (most recent call last):\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 255, in &lt;module&gt;\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 187, in main\n    FLAGS.variable_names_blacklist)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 165, in freeze_graph\n    input_graph_def = _parse_input_graph_proto(input_graph, input_binary)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 134, in _parse_input_graph_proto\n    text_format.Merge(f.read(), input_graph_def)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 476, in Merge\n    descriptor_pool=descriptor_pool)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 526, in MergeLines\n    return parser.MergeLines(lines, message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 559, in MergeLines\n    self._ParseOrMerge(lines, message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 574, in _ParseOrMerge\n    self._MergeField(tokenizer, message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\n    merger(tokenizer, message, field)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\n    self._MergeField(tokenizer, sub_message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\n    merger(tokenizer, message, field)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\n    self._MergeField(tokenizer, sub_message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\n    merger(tokenizer, message, field)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\n    self._MergeField(tokenizer, sub_message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\n    merger(tokenizer, message, field)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\n    self._MergeField(tokenizer, sub_message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 662, in _MergeField\n    tokenizer.Consume(':')\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 1016, in Consume\n    if not self.TryConsume(token):\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 1003, in TryConsume\n    self.NextToken()\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 1236, in NextToken\n    match = self._TOKEN.match(self._current_line, self._column)\nMemoryError\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.2.0-rc2\nBazel version (if compiling from source): 0.5.1\nCUDA/cuDNN version: CUDA8 / CuDNN6\nGPU model and memory: Tesla K80, 11439MiB\nExact command to reproduce: ~/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=fcn.pbtxt --output_graph=frozen.pb --input_checkpoint=ckpt --output_nodes_names=\"Softmax\"\n\nDescribe the problem\nI'm attempting to freeze a large model with the freeze_graph tool and I get a MemoryError. This seems really weird to me since the machine should have more than enough memory. I also tried running with CUDA_VISIBLE_DEVICES=\"\" but got the same result.\nubuntu@ip-172-31-33-208:~/code/segnet$ free -g\n              total        used        free      shared  buff/cache   available\nMem:             59           1          51           0           7          58\nSwap:             0           0           0\n\ndrwxr-xr-x 2 ubuntu ubuntu 4.0K Jun  7 22:37 variables\n-rw-r--r-- 1 ubuntu ubuntu 513M Jun  7 22:37 saved_model.pb\ndrwxrwxr-x 2 ubuntu ubuntu 4.0K Jun 12 20:45 data\ndrwxrwxr-x 3 ubuntu ubuntu 4.0K Jun 12 21:39 ..\n-rw-rw-r-- 1 ubuntu ubuntu 1.1K Jun 12 23:07 load.py\n-rw-rw-r-- 1 ubuntu ubuntu 1.5G Jun 12 23:09 fcn.pbtxt\n-rw-rw-r-- 1 ubuntu ubuntu 4.8K Jun 12 23:09 ckpt.index\n-rw-rw-r-- 1 ubuntu ubuntu 1.6G Jun 12 23:09 ckpt.data-00000-of-00001\n-rw-rw-r-- 1 ubuntu ubuntu   65 Jun 12 23:09 checkpoint\n-rw-rw-r-- 1 ubuntu ubuntu 513M Jun 12 23:09 ckpt.meta\ndrwxrwxr-x 4 ubuntu ubuntu 4.0K Jun 12 23:09 .\n\nI first converted the saved_model.pb to a .pbtxt, fcn.pbtxt with a checkpoint ckpt with this script https://gist.github.com/domluna/ed477cb5698c787f29c7d56fba381fed. I couldn't get the freeze tool to work with saved_model.pb which was created based on tf.saved_model.\nSource code / logs\nubuntu@ip-172-31-33-208:~/code/segnet$ ~/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=fcn.pbtxt --output_graph=frozen.pb --output_nodes_names=\"Softmax\"\nTraceback (most recent call last):\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 255, in <module>\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 187, in main\n    FLAGS.variable_names_blacklist)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 165, in freeze_graph\n    input_graph_def = _parse_input_graph_proto(input_graph, input_binary)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 134, in _parse_input_graph_proto\n    text_format.Merge(f.read(), input_graph_def)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 476, in Merge\n    descriptor_pool=descriptor_pool)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 526, in MergeLines\n    return parser.MergeLines(lines, message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 559, in MergeLines\n    self._ParseOrMerge(lines, message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 574, in _ParseOrMerge\n    self._MergeField(tokenizer, message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\n    merger(tokenizer, message, field)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\n    self._MergeField(tokenizer, sub_message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\n    merger(tokenizer, message, field)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\n    self._MergeField(tokenizer, sub_message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\n    merger(tokenizer, message, field)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\n    self._MergeField(tokenizer, sub_message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\n    merger(tokenizer, message, field)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\n    self._MergeField(tokenizer, sub_message)\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 662, in _MergeField\n    tokenizer.Consume(':')\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 1016, in Consume\n    if not self.TryConsume(token):\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 1003, in TryConsume\n    self.NextToken()\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 1236, in NextToken\n    match = self._TOKEN.match(self._current_line, self._column)\nMemoryError", "body": "------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.2.0-rc2\r\n- **Bazel version (if compiling from source)**: 0.5.1\r\n- **CUDA/cuDNN version**: CUDA8 / CuDNN6\r\n- **GPU model and memory**: Tesla K80, 11439MiB\r\n- **Exact command to reproduce**: ```~/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=fcn.pbtxt --output_graph=frozen.pb --input_checkpoint=ckpt --output_nodes_names=\"Softmax\"```\r\n\r\n### Describe the problem\r\nI'm attempting to freeze a large model with the `freeze_graph` tool and I get a `MemoryError`. This seems really weird to me since the machine should have more than enough memory. I also tried running with `CUDA_VISIBLE_DEVICES=\"\"` but got the same result.\r\n\r\n```\r\nubuntu@ip-172-31-33-208:~/code/segnet$ free -g\r\n              total        used        free      shared  buff/cache   available\r\nMem:             59           1          51           0           7          58\r\nSwap:             0           0           0\r\n```\r\n\r\n``` $ ls -larth\r\ndrwxr-xr-x 2 ubuntu ubuntu 4.0K Jun  7 22:37 variables\r\n-rw-r--r-- 1 ubuntu ubuntu 513M Jun  7 22:37 saved_model.pb\r\ndrwxrwxr-x 2 ubuntu ubuntu 4.0K Jun 12 20:45 data\r\ndrwxrwxr-x 3 ubuntu ubuntu 4.0K Jun 12 21:39 ..\r\n-rw-rw-r-- 1 ubuntu ubuntu 1.1K Jun 12 23:07 load.py\r\n-rw-rw-r-- 1 ubuntu ubuntu 1.5G Jun 12 23:09 fcn.pbtxt\r\n-rw-rw-r-- 1 ubuntu ubuntu 4.8K Jun 12 23:09 ckpt.index\r\n-rw-rw-r-- 1 ubuntu ubuntu 1.6G Jun 12 23:09 ckpt.data-00000-of-00001\r\n-rw-rw-r-- 1 ubuntu ubuntu   65 Jun 12 23:09 checkpoint\r\n-rw-rw-r-- 1 ubuntu ubuntu 513M Jun 12 23:09 ckpt.meta\r\ndrwxrwxr-x 4 ubuntu ubuntu 4.0K Jun 12 23:09 .\r\n```\r\n\r\nI first converted the `saved_model.pb` to a `.pbtxt`, `fcn.pbtxt` with a checkpoint `ckpt` with this script https://gist.github.com/domluna/ed477cb5698c787f29c7d56fba381fed. I couldn't get the freeze tool to work with `saved_model.pb` which was created based on `tf.saved_model`.\r\n\r\n### Source code / logs\r\n\r\n```\r\nubuntu@ip-172-31-33-208:~/code/segnet$ ~/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=fcn.pbtxt --output_graph=frozen.pb --output_nodes_names=\"Softmax\"\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 255, in <module>\r\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 187, in main\r\n    FLAGS.variable_names_blacklist)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 165, in freeze_graph\r\n    input_graph_def = _parse_input_graph_proto(input_graph, input_binary)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 134, in _parse_input_graph_proto\r\n    text_format.Merge(f.read(), input_graph_def)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 476, in Merge\r\n    descriptor_pool=descriptor_pool)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 526, in MergeLines\r\n    return parser.MergeLines(lines, message)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 559, in MergeLines\r\n    self._ParseOrMerge(lines, message)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 574, in _ParseOrMerge\r\n    self._MergeField(tokenizer, message)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\r\n    merger(tokenizer, message, field)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\r\n    self._MergeField(tokenizer, sub_message)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\r\n    merger(tokenizer, message, field)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\r\n    self._MergeField(tokenizer, sub_message)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\r\n    merger(tokenizer, message, field)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\r\n    self._MergeField(tokenizer, sub_message)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 675, in _MergeField\r\n    merger(tokenizer, message, field)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 764, in _MergeMessageField\r\n    self._MergeField(tokenizer, sub_message)\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 662, in _MergeField\r\n    tokenizer.Consume(':')\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 1016, in Consume\r\n    if not self.TryConsume(token):\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 1003, in TryConsume\r\n    self.NextToken()\r\n  File \"/home/ubuntu/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/protobuf/python/google/protobuf/text_format.py\", line 1236, in NextToken\r\n    match = self._TOKEN.match(self._current_line, self._column)\r\nMemoryError\r\n```\r\n"}