{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/337670355", "html_url": "https://github.com/tensorflow/tensorflow/pull/13813#issuecomment-337670355", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13813", "id": 337670355, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzY3MDM1NQ==", "user": {"login": "ekelsen", "id": 2533174, "node_id": "MDQ6VXNlcjI1MzMxNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2533174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ekelsen", "html_url": "https://github.com/ekelsen", "followers_url": "https://api.github.com/users/ekelsen/followers", "following_url": "https://api.github.com/users/ekelsen/following{/other_user}", "gists_url": "https://api.github.com/users/ekelsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ekelsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ekelsen/subscriptions", "organizations_url": "https://api.github.com/users/ekelsen/orgs", "repos_url": "https://api.github.com/users/ekelsen/repos", "events_url": "https://api.github.com/users/ekelsen/events{/privacy}", "received_events_url": "https://api.github.com/users/ekelsen/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-18T17:40:57Z", "updated_at": "2017-10-18T17:40:57Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Note that in the case of weights being passed to bincount, it is equivalent to unsorted_segment_sum.  I would prefer a solution that just replaces bincount with a call to unsorted_segment_sum in this case (ideally in the graph after the output size is determined).</p>\n<p>For the case where no weights are given and they are assumed to be one, then it would be best to have the implementation call CUB as it will be <em>significantly</em> faster.</p>", "body_text": "Note that in the case of weights being passed to bincount, it is equivalent to unsorted_segment_sum.  I would prefer a solution that just replaces bincount with a call to unsorted_segment_sum in this case (ideally in the graph after the output size is determined).\nFor the case where no weights are given and they are assumed to be one, then it would be best to have the implementation call CUB as it will be significantly faster.", "body": "Note that in the case of weights being passed to bincount, it is equivalent to unsorted_segment_sum.  I would prefer a solution that just replaces bincount with a call to unsorted_segment_sum in this case (ideally in the graph after the output size is determined).\r\n\r\nFor the case where no weights are given and they are assumed to be one, then it would be best to have the implementation call CUB as it will be _significantly_ faster."}