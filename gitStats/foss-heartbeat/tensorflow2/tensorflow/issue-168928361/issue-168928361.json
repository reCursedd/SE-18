{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3612", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3612/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3612/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3612/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3612", "id": 168928361, "node_id": "MDU6SXNzdWUxNjg5MjgzNjE=", "number": 3612, "title": "Cuda error: creating context when one is currently active", "user": {"login": "serhannn", "id": 4326033, "node_id": "MDQ6VXNlcjQzMjYwMzM=", "avatar_url": "https://avatars1.githubusercontent.com/u/4326033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/serhannn", "html_url": "https://github.com/serhannn", "followers_url": "https://api.github.com/users/serhannn/followers", "following_url": "https://api.github.com/users/serhannn/following{/other_user}", "gists_url": "https://api.github.com/users/serhannn/gists{/gist_id}", "starred_url": "https://api.github.com/users/serhannn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/serhannn/subscriptions", "organizations_url": "https://api.github.com/users/serhannn/orgs", "repos_url": "https://api.github.com/users/serhannn/repos", "events_url": "https://api.github.com/users/serhannn/events{/privacy}", "received_events_url": "https://api.github.com/users/serhannn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-08-02T16:21:31Z", "updated_at": "2016-08-03T16:31:55Z", "closed_at": "2016-08-03T16:31:55Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<ul>\n<li>Operating System: Ubuntu 14.04,</li>\n<li>GPU server with 8 <strong>Tesla K80</strong> GPUs,</li>\n<li>Python 2.7 (Anaconda)</li>\n</ul>\n<p>Installed version of CUDA and cuDNN:</p>\n<ul>\n<li>Cuda 7.5, cuDNN v4</li>\n</ul>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>Pip package: GPU-enabled, Python 2.7<br>\n<a href=\"https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl</a></li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>:</li>\n</ol>\n<p>I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally<br>\n0.9.0</p>\n<h3>Steps to reproduce</h3>\n<pre><code>import tensorflow as tf\nsess = tf.Session()\n</code></pre>\n<p>yields the error:<br>\n<strong>W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active;</strong><br>\nsee the detailed logs below please:</p>\n<h3>What have you tried?</h3>\n<ol>\n<li>I checked the output of the <code>nvidia-smi</code>. There are other processes run by other users currently. Below is the output.</li>\n<li>I re-installed tensorflow again using pip, it didn't solve the problem.</li>\n</ol>\n<pre><code>+------------------------------------------------------+                       \n| NVIDIA-SMI 352.39     Driver Version: 352.39         |                       \n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla K80           Off  | 0000:05:00.0     Off |                    0 |\n| N/A   33C    P0    59W / 149W |    190MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  Tesla K80           Off  | 0000:06:00.0     Off |                    0 |\n| N/A   30C    P8    30W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   2  Tesla K80           Off  | 0000:09:00.0     Off |                    0 |\n| N/A   25C    P8    27W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   3  Tesla K80           Off  | 0000:0A:00.0     Off |                    0 |\n| N/A   28C    P8    31W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   4  Tesla K80           Off  | 0000:84:00.0     Off |                    0 |\n| N/A   24C    P8    28W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   5  Tesla K80           Off  | 0000:85:00.0     Off |                    0 |\n| N/A   54C    P0   106W / 149W |  11461MiB / 11519MiB |     58%      Default |\n+-------------------------------+----------------------+----------------------+\n|   6  Tesla K80           Off  | 0000:88:00.0     Off |                    0 |\n| N/A   49C    P0   134W / 149W |  11461MiB / 11519MiB |     97%      Default |\n+-------------------------------+----------------------+----------------------+\n|   7  Tesla K80           Off  | 0000:89:00.0     Off |                    0 |\n| N/A   69C    P0   131W / 149W |  11462MiB / 11519MiB |     57%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|    0    155948    C   ../../../build/tools/caffe                      82MiB |\n|    0    196261    C   .build_release/test/test_all.testbin            81MiB |\n|    5     19542    C   python                                       11436MiB |\n|    6     18802    C   python                                       11436MiB |\n|    7     85515    C   python                                       11437MiB \n</code></pre>\n<h3>Logs</h3>\n<pre><code>I tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:05:00.0\nTotal memory: 11.25GiB\nFree memory: 11.00GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x2f85bd0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:06:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x339e320\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 2 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:09:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x37b5f60\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 3 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:0a:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x3bd1860\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 4 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:84:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x3ff0cd0\nSegmentation fault (core dumped)\n</code></pre>", "body_text": "Environment info\n\nOperating System: Ubuntu 14.04,\nGPU server with 8 Tesla K80 GPUs,\nPython 2.7 (Anaconda)\n\nInstalled version of CUDA and cuDNN:\n\nCuda 7.5, cuDNN v4\n\nIf installed from binary pip package, provide:\n\nPip package: GPU-enabled, Python 2.7\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\":\n\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n0.9.0\nSteps to reproduce\nimport tensorflow as tf\nsess = tf.Session()\n\nyields the error:\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active;\nsee the detailed logs below please:\nWhat have you tried?\n\nI checked the output of the nvidia-smi. There are other processes run by other users currently. Below is the output.\nI re-installed tensorflow again using pip, it didn't solve the problem.\n\n+------------------------------------------------------+                       \n| NVIDIA-SMI 352.39     Driver Version: 352.39         |                       \n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla K80           Off  | 0000:05:00.0     Off |                    0 |\n| N/A   33C    P0    59W / 149W |    190MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  Tesla K80           Off  | 0000:06:00.0     Off |                    0 |\n| N/A   30C    P8    30W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   2  Tesla K80           Off  | 0000:09:00.0     Off |                    0 |\n| N/A   25C    P8    27W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   3  Tesla K80           Off  | 0000:0A:00.0     Off |                    0 |\n| N/A   28C    P8    31W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   4  Tesla K80           Off  | 0000:84:00.0     Off |                    0 |\n| N/A   24C    P8    28W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   5  Tesla K80           Off  | 0000:85:00.0     Off |                    0 |\n| N/A   54C    P0   106W / 149W |  11461MiB / 11519MiB |     58%      Default |\n+-------------------------------+----------------------+----------------------+\n|   6  Tesla K80           Off  | 0000:88:00.0     Off |                    0 |\n| N/A   49C    P0   134W / 149W |  11461MiB / 11519MiB |     97%      Default |\n+-------------------------------+----------------------+----------------------+\n|   7  Tesla K80           Off  | 0000:89:00.0     Off |                    0 |\n| N/A   69C    P0   131W / 149W |  11462MiB / 11519MiB |     57%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|    0    155948    C   ../../../build/tools/caffe                      82MiB |\n|    0    196261    C   .build_release/test/test_all.testbin            81MiB |\n|    5     19542    C   python                                       11436MiB |\n|    6     18802    C   python                                       11436MiB |\n|    7     85515    C   python                                       11437MiB \n\nLogs\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:05:00.0\nTotal memory: 11.25GiB\nFree memory: 11.00GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x2f85bd0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:06:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x339e320\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 2 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:09:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x37b5f60\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 3 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:0a:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x3bd1860\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 4 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:84:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x3ff0cd0\nSegmentation fault (core dumped)", "body": "### Environment info\n- Operating System: Ubuntu 14.04, \n- GPU server with 8 **Tesla K80** GPUs,\n- Python 2.7 (Anaconda)\n\nInstalled version of CUDA and cuDNN: \n- Cuda 7.5, cuDNN v4\n\nIf installed from binary pip package, provide:\n1. Pip package: GPU-enabled, Python 2.7\n   https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`:\n\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n0.9.0\n### Steps to reproduce\n\n```\nimport tensorflow as tf\nsess = tf.Session()\n```\n\nyields the error:\n**W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active;**\nsee the detailed logs below please:\n### What have you tried?\n1. I checked the output of the `nvidia-smi`. There are other processes run by other users currently. Below is the output.\n2. I re-installed tensorflow again using pip, it didn't solve the problem.\n\n```\n+------------------------------------------------------+                       \n| NVIDIA-SMI 352.39     Driver Version: 352.39         |                       \n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla K80           Off  | 0000:05:00.0     Off |                    0 |\n| N/A   33C    P0    59W / 149W |    190MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  Tesla K80           Off  | 0000:06:00.0     Off |                    0 |\n| N/A   30C    P8    30W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   2  Tesla K80           Off  | 0000:09:00.0     Off |                    0 |\n| N/A   25C    P8    27W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   3  Tesla K80           Off  | 0000:0A:00.0     Off |                    0 |\n| N/A   28C    P8    31W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   4  Tesla K80           Off  | 0000:84:00.0     Off |                    0 |\n| N/A   24C    P8    28W / 149W |     22MiB / 11519MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   5  Tesla K80           Off  | 0000:85:00.0     Off |                    0 |\n| N/A   54C    P0   106W / 149W |  11461MiB / 11519MiB |     58%      Default |\n+-------------------------------+----------------------+----------------------+\n|   6  Tesla K80           Off  | 0000:88:00.0     Off |                    0 |\n| N/A   49C    P0   134W / 149W |  11461MiB / 11519MiB |     97%      Default |\n+-------------------------------+----------------------+----------------------+\n|   7  Tesla K80           Off  | 0000:89:00.0     Off |                    0 |\n| N/A   69C    P0   131W / 149W |  11462MiB / 11519MiB |     57%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|    0    155948    C   ../../../build/tools/caffe                      82MiB |\n|    0    196261    C   .build_release/test/test_all.testbin            81MiB |\n|    5     19542    C   python                                       11436MiB |\n|    6     18802    C   python                                       11436MiB |\n|    7     85515    C   python                                       11437MiB \n```\n### Logs\n\n```\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:05:00.0\nTotal memory: 11.25GiB\nFree memory: 11.00GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x2f85bd0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:06:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x339e320\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 2 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:09:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x37b5f60\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 3 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:0a:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x3bd1860\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 4 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:84:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x3ff0cd0\nSegmentation fault (core dumped)\n```\n"}