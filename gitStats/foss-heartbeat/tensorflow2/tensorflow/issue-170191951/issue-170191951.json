{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3712", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3712/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3712/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3712/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3712", "id": 170191951, "node_id": "MDU6SXNzdWUxNzAxOTE5NTE=", "number": 3712, "title": "gather_nd not working with API examples", "user": {"login": "xksteven", "id": 5234084, "node_id": "MDQ6VXNlcjUyMzQwODQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5234084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xksteven", "html_url": "https://github.com/xksteven", "followers_url": "https://api.github.com/users/xksteven/followers", "following_url": "https://api.github.com/users/xksteven/following{/other_user}", "gists_url": "https://api.github.com/users/xksteven/gists{/gist_id}", "starred_url": "https://api.github.com/users/xksteven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xksteven/subscriptions", "organizations_url": "https://api.github.com/users/xksteven/orgs", "repos_url": "https://api.github.com/users/xksteven/repos", "events_url": "https://api.github.com/users/xksteven/events{/privacy}", "received_events_url": "https://api.github.com/users/xksteven/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-09T15:11:32Z", "updated_at": "2016-08-09T15:59:18Z", "closed_at": "2016-08-09T15:59:18Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\ncuda 7.5<br>\ncudnn 4.0</p>\n<p>python3<br>\ntensorflow version 0.9</p>\n<h4>Code:</h4>\n<pre><code>import tensorflow as tf\nx = tf.constant([[1,1,1,1],[1,2,3,4]],shape=(2,4))\nindices = [[0],[0]]\ny = tf.gather_nd(x,indices)\n</code></pre>\n<h4>Error log messages</h4>\n<p>File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/gen_array_ops.py\", line 814, in gather_nd<br>\nname=name)<br>\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/op_def_library.py\", line 704, in apply_op<br>\nop_def=op_def)<br>\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 2262, in create_op<br>\nset_shapes_for_outputs(ret)<br>\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 1702, in set_shapes_for_outputs<br>\nshapes = shape_func(op)<br>\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/array_ops.py\", line 1090, in _GatherNdShape<br>\nindices_shape[-1].merge_with(params_shape.ndims)<br>\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 133, in merge_with<br>\nself.assert_is_compatible_with(other)<br>\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 108, in assert_is_compatible_with<br>\n% (self, other))</p>\n<h4>Error</h4>\n<p>ValueError: Dimensions 1 and 2 are not compatible</p>", "body_text": "Environment info\nOperating System: Ubuntu 14.04\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\ncuda 7.5\ncudnn 4.0\npython3\ntensorflow version 0.9\nCode:\nimport tensorflow as tf\nx = tf.constant([[1,1,1,1],[1,2,3,4]],shape=(2,4))\nindices = [[0],[0]]\ny = tf.gather_nd(x,indices)\n\nError log messages\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/gen_array_ops.py\", line 814, in gather_nd\nname=name)\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/op_def_library.py\", line 704, in apply_op\nop_def=op_def)\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 2262, in create_op\nset_shapes_for_outputs(ret)\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 1702, in set_shapes_for_outputs\nshapes = shape_func(op)\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/array_ops.py\", line 1090, in _GatherNdShape\nindices_shape[-1].merge_with(params_shape.ndims)\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 133, in merge_with\nself.assert_is_compatible_with(other)\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 108, in assert_is_compatible_with\n% (self, other))\nError\nValueError: Dimensions 1 and 2 are not compatible", "body": "### Environment info\n\nOperating System: Ubuntu 14.04\n\nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\ncuda 7.5\ncudnn 4.0\n\npython3\ntensorflow version 0.9\n#### Code:\n\n```\nimport tensorflow as tf\nx = tf.constant([[1,1,1,1],[1,2,3,4]],shape=(2,4))\nindices = [[0],[0]]\ny = tf.gather_nd(x,indices)\n```\n#### Error log messages\n\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/gen_array_ops.py\", line 814, in gather_nd\n    name=name)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/op_def_library.py\", line 704, in apply_op\n    op_def=op_def)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 2262, in create_op\n    set_shapes_for_outputs(ret)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 1702, in set_shapes_for_outputs\n    shapes = shape_func(op)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/array_ops.py\", line 1090, in _GatherNdShape\n    indices_shape[-1].merge_with(params_shape.ndims)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 133, in merge_with\n    self.assert_is_compatible_with(other)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 108, in assert_is_compatible_with\n    % (self, other))\n#### Error\n\nValueError: Dimensions 1 and 2 are not compatible\n"}