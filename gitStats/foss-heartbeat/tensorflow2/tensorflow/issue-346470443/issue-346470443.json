{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21298", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21298/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21298/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21298/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21298", "id": 346470443, "node_id": "MDU6SXNzdWUzNDY0NzA0NDM=", "number": 21298, "title": "Error messages when using Dataset.from_generator in debug mode", "user": {"login": "Xyand", "id": 1929813, "node_id": "MDQ6VXNlcjE5Mjk4MTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1929813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xyand", "html_url": "https://github.com/Xyand", "followers_url": "https://api.github.com/users/Xyand/followers", "following_url": "https://api.github.com/users/Xyand/following{/other_user}", "gists_url": "https://api.github.com/users/Xyand/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xyand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xyand/subscriptions", "organizations_url": "https://api.github.com/users/Xyand/orgs", "repos_url": "https://api.github.com/users/Xyand/repos", "events_url": "https://api.github.com/users/Xyand/events{/privacy}", "received_events_url": "https://api.github.com/users/Xyand/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-08-01T06:53:19Z", "updated_at": "2018-08-22T19:36:54Z", "closed_at": "2018-08-22T19:36:54Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: YES</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: OSX 10.13.3</li>\n<li><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>: NA</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: v1.8.0-0-g93bc2e2072 1.8.0</li>\n<li><strong>Python version</strong>: 3.6.5</li>\n<li><strong>Bazel version (if compiling from source)</strong>: NA</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: NA</li>\n<li><strong>CUDA/cuDNN version</strong>: NA (CPU)</li>\n<li><strong>GPU model and memory</strong>: NA (CPU)</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\n<span class=\"pl-k\">def</span> <span class=\"pl-en\">gen</span>():\n  <span class=\"pl-k\">for</span> val <span class=\"pl-k\">in</span> <span class=\"pl-c1\">range</span>(<span class=\"pl-c1\">10</span>):\n    <span class=\"pl-k\">yield</span> (<span class=\"pl-c1\">str</span>(val),)\n\ndataset <span class=\"pl-k\">=</span> tf.data.Dataset.from_generator(gen, (tf.string,))\n\n<span class=\"pl-c1\">iter</span> <span class=\"pl-k\">=</span> dataset.make_one_shot_iterator()\n<span class=\"pl-c1\">next</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">iter</span>.get_next()\n\nsess <span class=\"pl-k\">=</span> tf.Session()\n\n<span class=\"pl-k\">for</span> ii <span class=\"pl-k\">in</span> <span class=\"pl-c1\">range</span>(<span class=\"pl-c1\">10</span>):\n  <span class=\"pl-c1\">print</span>(sess.run(<span class=\"pl-c1\">next</span>))</pre></div>\n<h3>Describe the problem</h3>\n<p>When using <code>Dataset.from_generator()</code> in debug mode (PyCharm) error messages () are printed to the console. The code seems to run as expected. Might be some finalization issues. When not in debug mode everything seems quiet.</p>\n<h3>Source code / logs</h3>\n<p>Error message:</p>\n<pre><code>Exception ignored in: &lt;generator object _yield_value at 0x181a3d7830&gt;\nTraceback (most recent call last):\n  File \"/usr/local/miniconda3/envs/aaa/lib/python3.6/site-packages/tensorflow/python/data/util/nest.py\", line 100, in _yield_value\n    yield value\nSystemError: error return without exception set\nException ignored in: &lt;generator object _yield_value at 0x181a3d7830&gt;\nTraceback (most recent call last):\n  File \"/usr/local/miniconda3/envs/aaa/lib/python3.6/site-packages/tensorflow/python/data/util/nest.py\", line 100, in _yield_value\n    yield value\nSystemError: error return without exception set\nException ignored in: &lt;generator object _yield_value at 0x181a3d7830&gt;\nTraceback (most recent call last):\n  File \"/usr/local/miniconda3/envs/aaa/lib/python3.6/site-packages/tensorflow/python/data/util/nest.py\", line 100, in _yield_value\n    yield value\n.\n.\n.\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): YES\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): OSX 10.13.3\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: NA\nTensorFlow installed from (source or binary): binary\nTensorFlow version (use command below): v1.8.0-0-g93bc2e2072 1.8.0\nPython version: 3.6.5\nBazel version (if compiling from source): NA\nGCC/Compiler version (if compiling from source): NA\nCUDA/cuDNN version: NA (CPU)\nGPU model and memory: NA (CPU)\nExact command to reproduce:\n\nimport tensorflow as tf\n\ndef gen():\n  for val in range(10):\n    yield (str(val),)\n\ndataset = tf.data.Dataset.from_generator(gen, (tf.string,))\n\niter = dataset.make_one_shot_iterator()\nnext = iter.get_next()\n\nsess = tf.Session()\n\nfor ii in range(10):\n  print(sess.run(next))\nDescribe the problem\nWhen using Dataset.from_generator() in debug mode (PyCharm) error messages () are printed to the console. The code seems to run as expected. Might be some finalization issues. When not in debug mode everything seems quiet.\nSource code / logs\nError message:\nException ignored in: <generator object _yield_value at 0x181a3d7830>\nTraceback (most recent call last):\n  File \"/usr/local/miniconda3/envs/aaa/lib/python3.6/site-packages/tensorflow/python/data/util/nest.py\", line 100, in _yield_value\n    yield value\nSystemError: error return without exception set\nException ignored in: <generator object _yield_value at 0x181a3d7830>\nTraceback (most recent call last):\n  File \"/usr/local/miniconda3/envs/aaa/lib/python3.6/site-packages/tensorflow/python/data/util/nest.py\", line 100, in _yield_value\n    yield value\nSystemError: error return without exception set\nException ignored in: <generator object _yield_value at 0x181a3d7830>\nTraceback (most recent call last):\n  File \"/usr/local/miniconda3/envs/aaa/lib/python3.6/site-packages/tensorflow/python/data/util/nest.py\", line 100, in _yield_value\n    yield value\n.\n.\n.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: YES\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: OSX 10.13.3\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: NA\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: v1.8.0-0-g93bc2e2072 1.8.0\r\n- **Python version**: 3.6.5\r\n- **Bazel version (if compiling from source)**: NA\r\n- **GCC/Compiler version (if compiling from source)**: NA\r\n- **CUDA/cuDNN version**: NA (CPU)\r\n- **GPU model and memory**: NA (CPU)\r\n- **Exact command to reproduce**:\r\n\r\n```python\r\nimport tensorflow as tf\r\n\r\ndef gen():\r\n  for val in range(10):\r\n    yield (str(val),)\r\n\r\ndataset = tf.data.Dataset.from_generator(gen, (tf.string,))\r\n\r\niter = dataset.make_one_shot_iterator()\r\nnext = iter.get_next()\r\n\r\nsess = tf.Session()\r\n\r\nfor ii in range(10):\r\n  print(sess.run(next))\r\n```\r\n\r\n### Describe the problem\r\nWhen using `Dataset.from_generator()` in debug mode (PyCharm) error messages () are printed to the console. The code seems to run as expected. Might be some finalization issues. When not in debug mode everything seems quiet.\r\n\r\n### Source code / logs\r\n\r\nError message:\r\n```\r\nException ignored in: <generator object _yield_value at 0x181a3d7830>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/miniconda3/envs/aaa/lib/python3.6/site-packages/tensorflow/python/data/util/nest.py\", line 100, in _yield_value\r\n    yield value\r\nSystemError: error return without exception set\r\nException ignored in: <generator object _yield_value at 0x181a3d7830>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/miniconda3/envs/aaa/lib/python3.6/site-packages/tensorflow/python/data/util/nest.py\", line 100, in _yield_value\r\n    yield value\r\nSystemError: error return without exception set\r\nException ignored in: <generator object _yield_value at 0x181a3d7830>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/miniconda3/envs/aaa/lib/python3.6/site-packages/tensorflow/python/data/util/nest.py\", line 100, in _yield_value\r\n    yield value\r\n.\r\n.\r\n.\r\n```\r\n"}