{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13370", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13370/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13370/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13370/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13370", "id": 261459744, "node_id": "MDU6SXNzdWUyNjE0NTk3NDQ=", "number": 13370, "title": "Error with conditional labelling of summary", "user": {"login": "Lee-L-Boyd", "id": 1906742, "node_id": "MDQ6VXNlcjE5MDY3NDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1906742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lee-L-Boyd", "html_url": "https://github.com/Lee-L-Boyd", "followers_url": "https://api.github.com/users/Lee-L-Boyd/followers", "following_url": "https://api.github.com/users/Lee-L-Boyd/following{/other_user}", "gists_url": "https://api.github.com/users/Lee-L-Boyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lee-L-Boyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lee-L-Boyd/subscriptions", "organizations_url": "https://api.github.com/users/Lee-L-Boyd/orgs", "repos_url": "https://api.github.com/users/Lee-L-Boyd/repos", "events_url": "https://api.github.com/users/Lee-L-Boyd/events{/privacy}", "received_events_url": "https://api.github.com/users/Lee-L-Boyd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-09-28T21:01:00Z", "updated_at": "2018-07-07T18:06:30Z", "closed_at": "2017-09-29T18:07:54Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nyes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: pip install tensorflow --upgrade</li>\n<li><strong>TensorFlow version (use command below)</strong>:1.3.0</li>\n<li><strong>Python version</strong>: Python 2.7.12</li>\n<li><strong>Bazel version (if compiling from source)</strong>:</li>\n<li><strong>CUDA/cuDNN version</strong>: Cuda compilation tools, release 7.5, V7.5.17</li>\n<li><strong>GPU model and memory</strong>: NVIDIA 1070 16G</li>\n<li><strong>Exact command to reproduce</strong>: python model_wgraph2.py</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I am attempting to vary my labels for the summary conditional on some tf.bool data type.  I get an error when I attempt to use the tf.cond.</p>\n<p>Per: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"243282250\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensor2tensor/issues/159\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensor2tensor/issues/159/hovercard\" href=\"https://github.com/tensorflow/tensor2tensor/issues/159\">tensorflow/tensor2tensor#159</a>,<br>\nthis problem should have been fixed in version 1.1.0</p>\n<p>\"lukaszkaiser:</p>\n<h2>This was due to summaries not working with tf.conds right. Should be corrected in 1.1.0, please take a look and reopen if you see this again!\"</h2>\n<h3>Source code / logs</h3>\n<p>Include any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.<br>\ntext2 = tf.cast('blah', tf.string)<br>\ntext_summary = tf.summary.text(\"NULL\", text2) #works fine without conditional<br>\nrightness = tf.cast(True, tf.bool)<br>\ntext_summary = tf.cond( rightness, lambda: tf.summary.text(\"TRUE\", text2), lambda: tf.summary.text(\"FALSE\", text2) ) #breaks with error below</p>\n<p>###Error<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 895, in run<br>\nrun_metadata_ptr)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1124, in _run<br>\nfeed_dict_tensor, options, run_metadata)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1321, in _do_run<br>\noptions, run_metadata)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1340, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Retval[0] does not have value</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nyes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):Ubuntu 16.04\nTensorFlow installed from (source or binary): pip install tensorflow --upgrade\nTensorFlow version (use command below):1.3.0\nPython version: Python 2.7.12\nBazel version (if compiling from source):\nCUDA/cuDNN version: Cuda compilation tools, release 7.5, V7.5.17\nGPU model and memory: NVIDIA 1070 16G\nExact command to reproduce: python model_wgraph2.py\n\nDescribe the problem\nI am attempting to vary my labels for the summary conditional on some tf.bool data type.  I get an error when I attempt to use the tf.cond.\nPer: tensorflow/tensor2tensor#159,\nthis problem should have been fixed in version 1.1.0\n\"lukaszkaiser:\nThis was due to summaries not working with tf.conds right. Should be corrected in 1.1.0, please take a look and reopen if you see this again!\"\nSource code / logs\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\ntext2 = tf.cast('blah', tf.string)\ntext_summary = tf.summary.text(\"NULL\", text2) #works fine without conditional\nrightness = tf.cast(True, tf.bool)\ntext_summary = tf.cond( rightness, lambda: tf.summary.text(\"TRUE\", text2), lambda: tf.summary.text(\"FALSE\", text2) ) #breaks with error below\n###Error\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 895, in run\nrun_metadata_ptr)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1124, in _run\nfeed_dict_tensor, options, run_metadata)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1321, in _do_run\noptions, run_metadata)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1340, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Retval[0] does not have value", "body": "\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nyes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: pip install tensorflow --upgrade\r\n- **TensorFlow version (use command below)**:1.3.0\r\n- **Python version**: Python 2.7.12\r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**: Cuda compilation tools, release 7.5, V7.5.17\r\n- **GPU model and memory**: NVIDIA 1070 16G\r\n- **Exact command to reproduce**: python model_wgraph2.py\r\n\r\n### Describe the problem\r\n\r\nI am attempting to vary my labels for the summary conditional on some tf.bool data type.  I get an error when I attempt to use the tf.cond.  \r\n\r\nPer: https://github.com/tensorflow/tensor2tensor/issues/159,\r\nthis problem should have been fixed in version 1.1.0\r\n\r\n\"lukaszkaiser:\r\n\r\nThis was due to summaries not working with tf.conds right. Should be corrected in 1.1.0, please take a look and reopen if you see this again!\"\r\n--\r\n\r\n\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\ttext2 = tf.cast('blah', tf.string)\t\r\n\ttext_summary = tf.summary.text(\"NULL\", text2) #works fine without conditional\t\r\n\trightness = tf.cast(True, tf.bool)\r\n\ttext_summary = tf.cond( rightness, lambda: tf.summary.text(\"TRUE\", text2), lambda: tf.summary.text(\"FALSE\", text2) ) #breaks with error below\r\n\r\n###Error\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 895, in run\r\n    run_metadata_ptr)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1124, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1321, in _do_run\r\n    options, run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1340, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Retval[0] does not have value\r\n"}