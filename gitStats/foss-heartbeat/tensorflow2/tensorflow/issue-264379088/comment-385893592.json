{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/385893592", "html_url": "https://github.com/tensorflow/tensorflow/issues/13615#issuecomment-385893592", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13615", "id": 385893592, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTg5MzU5Mg==", "user": {"login": "carlosgalvezp", "id": 1083865, "node_id": "MDQ6VXNlcjEwODM4NjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1083865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlosgalvezp", "html_url": "https://github.com/carlosgalvezp", "followers_url": "https://api.github.com/users/carlosgalvezp/followers", "following_url": "https://api.github.com/users/carlosgalvezp/following{/other_user}", "gists_url": "https://api.github.com/users/carlosgalvezp/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlosgalvezp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlosgalvezp/subscriptions", "organizations_url": "https://api.github.com/users/carlosgalvezp/orgs", "repos_url": "https://api.github.com/users/carlosgalvezp/repos", "events_url": "https://api.github.com/users/carlosgalvezp/events{/privacy}", "received_events_url": "https://api.github.com/users/carlosgalvezp/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-02T07:50:34Z", "updated_at": "2018-05-02T08:23:10Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1310570\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/soumith\">@soumith</a> !</p>\n<p>I believe I am having similar issues. I'm not sure if I should open a new issue or continue here, please let me know!</p>\n<p>My system is:</p>\n<ul>\n<li>Ubuntu 16.04</li>\n<li>TensorFlow 1.7.0 (pip)</li>\n<li>PyTorch 0.4.0 (pip)</li>\n<li>CUDA: 9.0.176</li>\n<li>CuDNN: 7.0.5.15</li>\n</ul>\n<p>I get SIGABRT when running my TensorFlow program if I import <code>torch</code> before importing <code>tensorflow</code>. It doesn't happen if I do it the other way around.</p>\n<p>How to reproduce the problem:</p>\n<ol>\n<li>\n<p>Download the MNIST example: <a href=\"https://github.com/tensorflow/models/blob/master/tutorials/image/mnist/convolutional.py\">https://github.com/tensorflow/models/blob/master/tutorials/image/mnist/convolutional.py</a></p>\n</li>\n<li>\n<p>Add <code>import torch</code> before <code>import tensorflow as tf</code>.</p>\n</li>\n<li>\n<p>Execute. It will receive SIGABRT.</p>\n</li>\n</ol>\n<p>Here's the backtrace:</p>\n<pre><code>(gdb) run convolutional.py \nThe program being debugged has been started already.\nStart it from the beginning? (y or n) y\nStarting program: /usr/bin/python3 convolutional.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n[New Thread 0x7ffff3dc7700 (LWP 217)]\n[New Thread 0x7ffff15c6700 (LWP 218)]\n[New Thread 0x7fffeedc5700 (LWP 219)]\n[New Thread 0x7fffec5c4700 (LWP 220)]\n[New Thread 0x7fffe9dc3700 (LWP 221)]\n[New Thread 0x7fffe95c2700 (LWP 222)]\n[New Thread 0x7fffe6dc1700 (LWP 223)]\n[Thread 0x7fffe6dc1700 (LWP 223) exited]\n[Thread 0x7fffe95c2700 (LWP 222) exited]\n[Thread 0x7fffe9dc3700 (LWP 221) exited]\n[Thread 0x7fffec5c4700 (LWP 220) exited]\n[Thread 0x7fffeedc5700 (LWP 219) exited]\n[Thread 0x7ffff15c6700 (LWP 218) exited]\n[Thread 0x7ffff3dc7700 (LWP 217) exited]\nExtracting data/train-images-idx3-ubyte.gz\nExtracting data/train-labels-idx1-ubyte.gz\nExtracting data/t10k-images-idx3-ubyte.gz\nExtracting data/t10k-labels-idx1-ubyte.gz\n2018-05-02 08:06:25.663691: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n[New Thread 0x7fffe6dc1700 (LWP 227)]\n[New Thread 0x7fffe95c2700 (LWP 228)]\n[New Thread 0x7fffe9dc3700 (LWP 229)]\n[New Thread 0x7fffec5c4700 (LWP 230)]\n[New Thread 0x7fff493ff700 (LWP 231)]\n[New Thread 0x7fff48bfe700 (LWP 232)]\n[New Thread 0x7fff483fd700 (LWP 233)]\n[New Thread 0x7fff47bfc700 (LWP 234)]\n[New Thread 0x7fff45400700 (LWP 235)]\n[New Thread 0x7fff44bff700 (LWP 236)]\n[New Thread 0x7fff3ffff700 (LWP 237)]\n[New Thread 0x7fff3f7fe700 (LWP 238)]\n2018-05-02 08:06:25.755908: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-05-02 08:06:25.756207: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties: \nname: GeForce GTX 1050 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62\npciBusID: 0000:01:00.0\ntotalMemory: 3.94GiB freeMemory: 3.26GiB\n2018-05-02 08:06:25.756248: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\n2018-05-02 08:06:26.002388: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-05-02 08:06:26.002425: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0 \n2018-05-02 08:06:26.002434: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N \n2018-05-02 08:06:26.002678: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2966 MB memory) -&gt; physical GPU (device: 0, name: GeForce GTX 1050 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\n[New Thread 0x7ffefdbb8700 (LWP 239)]\n[New Thread 0x7ffef53b7700 (LWP 240)]\n[New Thread 0x7ffefd3b7700 (LWP 241)]\n[New Thread 0x7ffefcbb6700 (LWP 242)]\n[New Thread 0x7ffef7fff700 (LWP 243)]\n[New Thread 0x7ffef77fe700 (LWP 244)]\n[New Thread 0x7ffef6ffd700 (LWP 245)]\n[New Thread 0x7ffef67fc700 (LWP 246)]\n[New Thread 0x7ffef5ffb700 (LWP 247)]\n[New Thread 0x7ffef4bb6700 (LWP 248)]\nInitialized!\n2018-05-02 08:06:28.027051: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.031781: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.035610: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.039622: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.043484: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.046642: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.054981: E tensorflow/stream_executor/cuda/cuda_dnn.cc:403] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\n2018-05-02 08:06:28.055044: F tensorflow/core/kernels/conv_ops.cc:712] Check failed: stream-&gt;parent()-&gt;GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo&lt;T&gt;(), &amp;algorithms) \n\nThread 30 \"python3\" received signal SIGABRT, Aborted.\n[Switching to Thread 0x7ffef4bb6700 (LWP 248)]\n0x00007ffff7825428 in raise () from /lib/x86_64-linux-gnu/libc.so.6\n(gdb) bt\n#0  0x00007ffff7825428 in raise () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff782702a in abort () from /lib/x86_64-linux-gnu/libc.so.6\n#2  0x00007fff849b8c34 in tensorflow::internal::LogMessageFatal::~LogMessageFatal() () from /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#3  0x00007fff846b166a in tensorflow::LaunchConv2DOp&lt;Eigen::GpuDevice, float&gt;::operator()(tensorflow::OpKernelContext*, bool, bool, tensorflow::Tensor const&amp;, tensorflow::Tensor const&amp;, int, int, int, int, tensorflow::Padding const&amp;, tensorflow::Tensor*, tensorflow::TensorFormat) () from /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#4  0x00007fff846b3ce3 in tensorflow::Conv2DOp&lt;Eigen::GpuDevice, float&gt;::Compute(tensorflow::OpKernelContext*) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#5  0x00007fff7fc23289 in tensorflow::BaseGPUDevice::ComputeHelper(tensorflow::OpKernel*, tensorflow::OpKernelContext*) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#6  0x00007fff7fc23750 in tensorflow::BaseGPUDevice::Compute(tensorflow::OpKernel*, tensorflow::OpKernelContext*) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#7  0x00007fff7fc5d365 in tensorflow::(anonymous namespace)::ExecutorState::Process(tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, long long) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#8  0x00007fff7fc5db7a in std::_Function_handler&lt;void (), tensorflow::(anonymous namespace)::ExecutorState::ScheduleReady(tensorflow::gtl::InlinedVector&lt;tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, 8&gt; const&amp;, tensorflow::(anonymous namespace)::ExecutorState::TaggedNodeReadyQueue*)::{lambda()#1}&gt;::_M_invoke(std::_Any_data const&amp;) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#9  0x00007fff7f8ce8ba in Eigen::NonBlockingThreadPoolTempl&lt;tensorflow::thread::EigenEnvironment&gt;::WorkerLoop(int) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#10 0x00007fff7f8cd962 in std::_Function_handler&lt;void (), tensorflow::thread::EigenEnvironment::CreateThread(std::function&lt;void ()&gt;)::{lambda()#1}&gt;::_M_invoke(std::_Any_data const&amp;) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#11 0x00007fffee8e6c80 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#12 0x00007ffff7bc16ba in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#13 0x00007ffff78f741d in clone () from /lib/x86_64-linux-gnu/libc.so.6\n</code></pre>\n<p>Thanks!</p>", "body_text": "Hi @soumith !\nI believe I am having similar issues. I'm not sure if I should open a new issue or continue here, please let me know!\nMy system is:\n\nUbuntu 16.04\nTensorFlow 1.7.0 (pip)\nPyTorch 0.4.0 (pip)\nCUDA: 9.0.176\nCuDNN: 7.0.5.15\n\nI get SIGABRT when running my TensorFlow program if I import torch before importing tensorflow. It doesn't happen if I do it the other way around.\nHow to reproduce the problem:\n\n\nDownload the MNIST example: https://github.com/tensorflow/models/blob/master/tutorials/image/mnist/convolutional.py\n\n\nAdd import torch before import tensorflow as tf.\n\n\nExecute. It will receive SIGABRT.\n\n\nHere's the backtrace:\n(gdb) run convolutional.py \nThe program being debugged has been started already.\nStart it from the beginning? (y or n) y\nStarting program: /usr/bin/python3 convolutional.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n[New Thread 0x7ffff3dc7700 (LWP 217)]\n[New Thread 0x7ffff15c6700 (LWP 218)]\n[New Thread 0x7fffeedc5700 (LWP 219)]\n[New Thread 0x7fffec5c4700 (LWP 220)]\n[New Thread 0x7fffe9dc3700 (LWP 221)]\n[New Thread 0x7fffe95c2700 (LWP 222)]\n[New Thread 0x7fffe6dc1700 (LWP 223)]\n[Thread 0x7fffe6dc1700 (LWP 223) exited]\n[Thread 0x7fffe95c2700 (LWP 222) exited]\n[Thread 0x7fffe9dc3700 (LWP 221) exited]\n[Thread 0x7fffec5c4700 (LWP 220) exited]\n[Thread 0x7fffeedc5700 (LWP 219) exited]\n[Thread 0x7ffff15c6700 (LWP 218) exited]\n[Thread 0x7ffff3dc7700 (LWP 217) exited]\nExtracting data/train-images-idx3-ubyte.gz\nExtracting data/train-labels-idx1-ubyte.gz\nExtracting data/t10k-images-idx3-ubyte.gz\nExtracting data/t10k-labels-idx1-ubyte.gz\n2018-05-02 08:06:25.663691: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n[New Thread 0x7fffe6dc1700 (LWP 227)]\n[New Thread 0x7fffe95c2700 (LWP 228)]\n[New Thread 0x7fffe9dc3700 (LWP 229)]\n[New Thread 0x7fffec5c4700 (LWP 230)]\n[New Thread 0x7fff493ff700 (LWP 231)]\n[New Thread 0x7fff48bfe700 (LWP 232)]\n[New Thread 0x7fff483fd700 (LWP 233)]\n[New Thread 0x7fff47bfc700 (LWP 234)]\n[New Thread 0x7fff45400700 (LWP 235)]\n[New Thread 0x7fff44bff700 (LWP 236)]\n[New Thread 0x7fff3ffff700 (LWP 237)]\n[New Thread 0x7fff3f7fe700 (LWP 238)]\n2018-05-02 08:06:25.755908: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-05-02 08:06:25.756207: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties: \nname: GeForce GTX 1050 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62\npciBusID: 0000:01:00.0\ntotalMemory: 3.94GiB freeMemory: 3.26GiB\n2018-05-02 08:06:25.756248: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\n2018-05-02 08:06:26.002388: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-05-02 08:06:26.002425: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0 \n2018-05-02 08:06:26.002434: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N \n2018-05-02 08:06:26.002678: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2966 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1050 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\n[New Thread 0x7ffefdbb8700 (LWP 239)]\n[New Thread 0x7ffef53b7700 (LWP 240)]\n[New Thread 0x7ffefd3b7700 (LWP 241)]\n[New Thread 0x7ffefcbb6700 (LWP 242)]\n[New Thread 0x7ffef7fff700 (LWP 243)]\n[New Thread 0x7ffef77fe700 (LWP 244)]\n[New Thread 0x7ffef6ffd700 (LWP 245)]\n[New Thread 0x7ffef67fc700 (LWP 246)]\n[New Thread 0x7ffef5ffb700 (LWP 247)]\n[New Thread 0x7ffef4bb6700 (LWP 248)]\nInitialized!\n2018-05-02 08:06:28.027051: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.031781: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.035610: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.039622: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.043484: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.046642: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\n2018-05-02 08:06:28.054981: E tensorflow/stream_executor/cuda/cuda_dnn.cc:403] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\n2018-05-02 08:06:28.055044: F tensorflow/core/kernels/conv_ops.cc:712] Check failed: stream->parent()->GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo<T>(), &algorithms) \n\nThread 30 \"python3\" received signal SIGABRT, Aborted.\n[Switching to Thread 0x7ffef4bb6700 (LWP 248)]\n0x00007ffff7825428 in raise () from /lib/x86_64-linux-gnu/libc.so.6\n(gdb) bt\n#0  0x00007ffff7825428 in raise () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff782702a in abort () from /lib/x86_64-linux-gnu/libc.so.6\n#2  0x00007fff849b8c34 in tensorflow::internal::LogMessageFatal::~LogMessageFatal() () from /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#3  0x00007fff846b166a in tensorflow::LaunchConv2DOp<Eigen::GpuDevice, float>::operator()(tensorflow::OpKernelContext*, bool, bool, tensorflow::Tensor const&, tensorflow::Tensor const&, int, int, int, int, tensorflow::Padding const&, tensorflow::Tensor*, tensorflow::TensorFormat) () from /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#4  0x00007fff846b3ce3 in tensorflow::Conv2DOp<Eigen::GpuDevice, float>::Compute(tensorflow::OpKernelContext*) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#5  0x00007fff7fc23289 in tensorflow::BaseGPUDevice::ComputeHelper(tensorflow::OpKernel*, tensorflow::OpKernelContext*) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#6  0x00007fff7fc23750 in tensorflow::BaseGPUDevice::Compute(tensorflow::OpKernel*, tensorflow::OpKernelContext*) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#7  0x00007fff7fc5d365 in tensorflow::(anonymous namespace)::ExecutorState::Process(tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, long long) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#8  0x00007fff7fc5db7a in std::_Function_handler<void (), tensorflow::(anonymous namespace)::ExecutorState::ScheduleReady(tensorflow::gtl::InlinedVector<tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, 8> const&, tensorflow::(anonymous namespace)::ExecutorState::TaggedNodeReadyQueue*)::{lambda()#1}>::_M_invoke(std::_Any_data const&) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#9  0x00007fff7f8ce8ba in Eigen::NonBlockingThreadPoolTempl<tensorflow::thread::EigenEnvironment>::WorkerLoop(int) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#10 0x00007fff7f8cd962 in std::_Function_handler<void (), tensorflow::thread::EigenEnvironment::CreateThread(std::function<void ()>)::{lambda()#1}>::_M_invoke(std::_Any_data const&) ()\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\n#11 0x00007fffee8e6c80 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#12 0x00007ffff7bc16ba in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#13 0x00007ffff78f741d in clone () from /lib/x86_64-linux-gnu/libc.so.6\n\nThanks!", "body": "Hi @soumith !\r\n\r\nI believe I am having similar issues. I'm not sure if I should open a new issue or continue here, please let me know!\r\n\r\nMy system is:\r\n\r\n- Ubuntu 16.04\r\n- TensorFlow 1.7.0 (pip)\r\n- PyTorch 0.4.0 (pip)\r\n- CUDA: 9.0.176\r\n- CuDNN: 7.0.5.15\r\n\r\nI get SIGABRT when running my TensorFlow program if I import `torch` before importing `tensorflow`. It doesn't happen if I do it the other way around.\r\n\r\nHow to reproduce the problem:\r\n\r\n1) Download the MNIST example: https://github.com/tensorflow/models/blob/master/tutorials/image/mnist/convolutional.py\r\n\r\n2) Add `import torch` before `import tensorflow as tf`.\r\n\r\n3) Execute. It will receive SIGABRT.\r\n\r\nHere's the backtrace:\r\n\r\n```\r\n(gdb) run convolutional.py \r\nThe program being debugged has been started already.\r\nStart it from the beginning? (y or n) y\r\nStarting program: /usr/bin/python3 convolutional.py\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n[New Thread 0x7ffff3dc7700 (LWP 217)]\r\n[New Thread 0x7ffff15c6700 (LWP 218)]\r\n[New Thread 0x7fffeedc5700 (LWP 219)]\r\n[New Thread 0x7fffec5c4700 (LWP 220)]\r\n[New Thread 0x7fffe9dc3700 (LWP 221)]\r\n[New Thread 0x7fffe95c2700 (LWP 222)]\r\n[New Thread 0x7fffe6dc1700 (LWP 223)]\r\n[Thread 0x7fffe6dc1700 (LWP 223) exited]\r\n[Thread 0x7fffe95c2700 (LWP 222) exited]\r\n[Thread 0x7fffe9dc3700 (LWP 221) exited]\r\n[Thread 0x7fffec5c4700 (LWP 220) exited]\r\n[Thread 0x7fffeedc5700 (LWP 219) exited]\r\n[Thread 0x7ffff15c6700 (LWP 218) exited]\r\n[Thread 0x7ffff3dc7700 (LWP 217) exited]\r\nExtracting data/train-images-idx3-ubyte.gz\r\nExtracting data/train-labels-idx1-ubyte.gz\r\nExtracting data/t10k-images-idx3-ubyte.gz\r\nExtracting data/t10k-labels-idx1-ubyte.gz\r\n2018-05-02 08:06:25.663691: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n[New Thread 0x7fffe6dc1700 (LWP 227)]\r\n[New Thread 0x7fffe95c2700 (LWP 228)]\r\n[New Thread 0x7fffe9dc3700 (LWP 229)]\r\n[New Thread 0x7fffec5c4700 (LWP 230)]\r\n[New Thread 0x7fff493ff700 (LWP 231)]\r\n[New Thread 0x7fff48bfe700 (LWP 232)]\r\n[New Thread 0x7fff483fd700 (LWP 233)]\r\n[New Thread 0x7fff47bfc700 (LWP 234)]\r\n[New Thread 0x7fff45400700 (LWP 235)]\r\n[New Thread 0x7fff44bff700 (LWP 236)]\r\n[New Thread 0x7fff3ffff700 (LWP 237)]\r\n[New Thread 0x7fff3f7fe700 (LWP 238)]\r\n2018-05-02 08:06:25.755908: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2018-05-02 08:06:25.756207: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties: \r\nname: GeForce GTX 1050 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 3.94GiB freeMemory: 3.26GiB\r\n2018-05-02 08:06:25.756248: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\r\n2018-05-02 08:06:26.002388: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-05-02 08:06:26.002425: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0 \r\n2018-05-02 08:06:26.002434: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N \r\n2018-05-02 08:06:26.002678: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2966 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1050 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\r\n[New Thread 0x7ffefdbb8700 (LWP 239)]\r\n[New Thread 0x7ffef53b7700 (LWP 240)]\r\n[New Thread 0x7ffefd3b7700 (LWP 241)]\r\n[New Thread 0x7ffefcbb6700 (LWP 242)]\r\n[New Thread 0x7ffef7fff700 (LWP 243)]\r\n[New Thread 0x7ffef77fe700 (LWP 244)]\r\n[New Thread 0x7ffef6ffd700 (LWP 245)]\r\n[New Thread 0x7ffef67fc700 (LWP 246)]\r\n[New Thread 0x7ffef5ffb700 (LWP 247)]\r\n[New Thread 0x7ffef4bb6700 (LWP 248)]\r\nInitialized!\r\n2018-05-02 08:06:28.027051: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\r\n2018-05-02 08:06:28.031781: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\r\n2018-05-02 08:06:28.035610: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\r\n2018-05-02 08:06:28.039622: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\r\n2018-05-02 08:06:28.043484: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\r\n2018-05-02 08:06:28.046642: E tensorflow/stream_executor/cuda/cuda_blas.cc:462] failed to create cublas handle: CUBLAS_STATUS_NOT_INITIALIZED\r\n2018-05-02 08:06:28.054981: E tensorflow/stream_executor/cuda/cuda_dnn.cc:403] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2018-05-02 08:06:28.055044: F tensorflow/core/kernels/conv_ops.cc:712] Check failed: stream->parent()->GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo<T>(), &algorithms) \r\n\r\nThread 30 \"python3\" received signal SIGABRT, Aborted.\r\n[Switching to Thread 0x7ffef4bb6700 (LWP 248)]\r\n0x00007ffff7825428 in raise () from /lib/x86_64-linux-gnu/libc.so.6\r\n(gdb) bt\r\n#0  0x00007ffff7825428 in raise () from /lib/x86_64-linux-gnu/libc.so.6\r\n#1  0x00007ffff782702a in abort () from /lib/x86_64-linux-gnu/libc.so.6\r\n#2  0x00007fff849b8c34 in tensorflow::internal::LogMessageFatal::~LogMessageFatal() () from /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#3  0x00007fff846b166a in tensorflow::LaunchConv2DOp<Eigen::GpuDevice, float>::operator()(tensorflow::OpKernelContext*, bool, bool, tensorflow::Tensor const&, tensorflow::Tensor const&, int, int, int, int, tensorflow::Padding const&, tensorflow::Tensor*, tensorflow::TensorFormat) () from /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#4  0x00007fff846b3ce3 in tensorflow::Conv2DOp<Eigen::GpuDevice, float>::Compute(tensorflow::OpKernelContext*) ()\r\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#5  0x00007fff7fc23289 in tensorflow::BaseGPUDevice::ComputeHelper(tensorflow::OpKernel*, tensorflow::OpKernelContext*) ()\r\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\r\n#6  0x00007fff7fc23750 in tensorflow::BaseGPUDevice::Compute(tensorflow::OpKernel*, tensorflow::OpKernelContext*) ()\r\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\r\n#7  0x00007fff7fc5d365 in tensorflow::(anonymous namespace)::ExecutorState::Process(tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, long long) ()\r\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\r\n#8  0x00007fff7fc5db7a in std::_Function_handler<void (), tensorflow::(anonymous namespace)::ExecutorState::ScheduleReady(tensorflow::gtl::InlinedVector<tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, 8> const&, tensorflow::(anonymous namespace)::ExecutorState::TaggedNodeReadyQueue*)::{lambda()#1}>::_M_invoke(std::_Any_data const&) ()\r\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\r\n#9  0x00007fff7f8ce8ba in Eigen::NonBlockingThreadPoolTempl<tensorflow::thread::EigenEnvironment>::WorkerLoop(int) ()\r\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\r\n#10 0x00007fff7f8cd962 in std::_Function_handler<void (), tensorflow::thread::EigenEnvironment::CreateThread(std::function<void ()>)::{lambda()#1}>::_M_invoke(std::_Any_data const&) ()\r\n   from /usr/local/lib/python3.5/dist-packages/tensorflow/python/../libtensorflow_framework.so\r\n#11 0x00007fffee8e6c80 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#12 0x00007ffff7bc16ba in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#13 0x00007ffff78f741d in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n```\r\n\r\n\r\nThanks!"}