{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22245", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22245/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22245/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22245/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22245", "id": 359725919, "node_id": "MDU6SXNzdWUzNTk3MjU5MTk=", "number": 22245, "title": "Could not open .\\linear_regression.pbtxt: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator? Traceback (most recent call last):", "user": {"login": "vladbelo", "id": 3719297, "node_id": "MDQ6VXNlcjM3MTkyOTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3719297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vladbelo", "html_url": "https://github.com/vladbelo", "followers_url": "https://api.github.com/users/vladbelo/followers", "following_url": "https://api.github.com/users/vladbelo/following{/other_user}", "gists_url": "https://api.github.com/users/vladbelo/gists{/gist_id}", "starred_url": "https://api.github.com/users/vladbelo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vladbelo/subscriptions", "organizations_url": "https://api.github.com/users/vladbelo/orgs", "repos_url": "https://api.github.com/users/vladbelo/repos", "events_url": "https://api.github.com/users/vladbelo/events{/privacy}", "received_events_url": "https://api.github.com/users/vladbelo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-09-13T03:09:51Z", "updated_at": "2018-11-12T18:52:03Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Please go to Stack Overflow for help and support:</p>\n<p>If you open a GitHub issue, here is our policy:</p>\n<hr>\n<h3>System information</h3>\n<p>TensorFlow 1.9<br>\nWindows 10<br>\nPython 3.6 64</p>\n<p>You can collect some of this information using our environment capture script:</p>\n<pre><code>2018-09-12 19:55:49.880076: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows\\PY\\36\\tensorflow\\core\\platform\\cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\n2018-09-12 19:55:49.898198: W C:\\tf_jenkins\\workspace\\rel-win\\M\\windows\\PY\\36\\tensorflow\\core\\util\\tensor_slice_reader.cc:95] Could not open .\\linear_regression.pbtxt: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\nTraceback (most recent call last):\n  File \"C:/Users/vlad/Downloads/Linear_Regression_Model/Freeze_Graph.py\", line 7, in &lt;module&gt;\n    initializer_nodes='', variable_names_blacklist=''\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\tools\\freeze_graph.py\", line 244, in freeze_graph\n    saved_model_tags.split(\",\"), checkpoint_version=checkpoint_version)\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\tools\\freeze_graph.py\", line 119, in freeze_graph_with_def_protos\n    reader = pywrap_tensorflow.NewCheckpointReader(input_checkpoint)\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 254, in NewCheckpointReader\n    return CheckpointReader(compat.as_bytes(filepattern), status)\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 516, in __exit__\n    c_api.TF_GetCode(self.status.status))\ntensorflow.python.framework.errors_impl.DataLossError: Unable to open table file .\\linear_regression.pbtxt: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\n\n</code></pre>\n<h3>Describe the problem</h3>\n<p>Describe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.</p>\n<h3>Source code / logs</h3>\n<pre><code>import tensorflow as tf\nfrom tensorflow.python.tools import freeze_graph, optimize_for_inference_lib\n\nfreeze_graph.freeze_graph(input_graph='linear_regression.pbtxt', input_saver='', input_binary=True, input_checkpoint='linear_regression.pbtxt', output_node_names='y_output',\n                          restore_op_name='save/restore_all',\n                          filename_tensor_name='save/Const:0', output_graph='frozen_linear_regression.pb', clear_devices= True,\n                          initializer_nodes='', variable_names_blacklist=''\n                          )\ninput_graph_def = tf.GraphDef()\nwith tf.gfile.Open('frozen_linear_regression.pb', 'rb') as f:\n    data = f.read()\n    input_graph_def.ParseFromString(data)\n\noutput_graph_def = optimize_for_inference_lib.optimize_for_inference(input_graph_def=input_graph_def, input_node_names=['x'],\n                                                                     output_node_names=['y_output'],\n                                                                     placeholder_type_enum=tf.float32.as_datatype_enum)\n\nf = tf.gfile.FastGFile(name='optimized_frozen_linear_regression.pb', mode='w')\n\nf.write(file_content=output_graph_def.SerializeToString())\n\n\n</code></pre>", "body_text": "Please go to Stack Overflow for help and support:\nIf you open a GitHub issue, here is our policy:\n\nSystem information\nTensorFlow 1.9\nWindows 10\nPython 3.6 64\nYou can collect some of this information using our environment capture script:\n2018-09-12 19:55:49.880076: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows\\PY\\36\\tensorflow\\core\\platform\\cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\n2018-09-12 19:55:49.898198: W C:\\tf_jenkins\\workspace\\rel-win\\M\\windows\\PY\\36\\tensorflow\\core\\util\\tensor_slice_reader.cc:95] Could not open .\\linear_regression.pbtxt: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\nTraceback (most recent call last):\n  File \"C:/Users/vlad/Downloads/Linear_Regression_Model/Freeze_Graph.py\", line 7, in <module>\n    initializer_nodes='', variable_names_blacklist=''\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\tools\\freeze_graph.py\", line 244, in freeze_graph\n    saved_model_tags.split(\",\"), checkpoint_version=checkpoint_version)\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\tools\\freeze_graph.py\", line 119, in freeze_graph_with_def_protos\n    reader = pywrap_tensorflow.NewCheckpointReader(input_checkpoint)\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 254, in NewCheckpointReader\n    return CheckpointReader(compat.as_bytes(filepattern), status)\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 516, in __exit__\n    c_api.TF_GetCode(self.status.status))\ntensorflow.python.framework.errors_impl.DataLossError: Unable to open table file .\\linear_regression.pbtxt: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\n\n\nDescribe the problem\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\nSource code / logs\nimport tensorflow as tf\nfrom tensorflow.python.tools import freeze_graph, optimize_for_inference_lib\n\nfreeze_graph.freeze_graph(input_graph='linear_regression.pbtxt', input_saver='', input_binary=True, input_checkpoint='linear_regression.pbtxt', output_node_names='y_output',\n                          restore_op_name='save/restore_all',\n                          filename_tensor_name='save/Const:0', output_graph='frozen_linear_regression.pb', clear_devices= True,\n                          initializer_nodes='', variable_names_blacklist=''\n                          )\ninput_graph_def = tf.GraphDef()\nwith tf.gfile.Open('frozen_linear_regression.pb', 'rb') as f:\n    data = f.read()\n    input_graph_def.ParseFromString(data)\n\noutput_graph_def = optimize_for_inference_lib.optimize_for_inference(input_graph_def=input_graph_def, input_node_names=['x'],\n                                                                     output_node_names=['y_output'],\n                                                                     placeholder_type_enum=tf.float32.as_datatype_enum)\n\nf = tf.gfile.FastGFile(name='optimized_frozen_linear_regression.pb', mode='w')\n\nf.write(file_content=output_graph_def.SerializeToString())", "body": "Please go to Stack Overflow for help and support:\r\n\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\n------------------------\r\n\r\n### System information\r\nTensorFlow 1.9\r\nWindows 10\r\nPython 3.6 64\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\n```\r\n2018-09-12 19:55:49.880076: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows\\PY\\36\\tensorflow\\core\\platform\\cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\r\n2018-09-12 19:55:49.898198: W C:\\tf_jenkins\\workspace\\rel-win\\M\\windows\\PY\\36\\tensorflow\\core\\util\\tensor_slice_reader.cc:95] Could not open .\\linear_regression.pbtxt: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\r\nTraceback (most recent call last):\r\n  File \"C:/Users/vlad/Downloads/Linear_Regression_Model/Freeze_Graph.py\", line 7, in <module>\r\n    initializer_nodes='', variable_names_blacklist=''\r\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\tools\\freeze_graph.py\", line 244, in freeze_graph\r\n    saved_model_tags.split(\",\"), checkpoint_version=checkpoint_version)\r\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\tools\\freeze_graph.py\", line 119, in freeze_graph_with_def_protos\r\n    reader = pywrap_tensorflow.NewCheckpointReader(input_checkpoint)\r\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 254, in NewCheckpointReader\r\n    return CheckpointReader(compat.as_bytes(filepattern), status)\r\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 516, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.DataLossError: Unable to open table file .\\linear_regression.pbtxt: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\r\n\r\n```\r\n\r\n\r\n\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\n\r\n### Source code / logs\r\n```\r\nimport tensorflow as tf\r\nfrom tensorflow.python.tools import freeze_graph, optimize_for_inference_lib\r\n\r\nfreeze_graph.freeze_graph(input_graph='linear_regression.pbtxt', input_saver='', input_binary=True, input_checkpoint='linear_regression.pbtxt', output_node_names='y_output',\r\n                          restore_op_name='save/restore_all',\r\n                          filename_tensor_name='save/Const:0', output_graph='frozen_linear_regression.pb', clear_devices= True,\r\n                          initializer_nodes='', variable_names_blacklist=''\r\n                          )\r\ninput_graph_def = tf.GraphDef()\r\nwith tf.gfile.Open('frozen_linear_regression.pb', 'rb') as f:\r\n    data = f.read()\r\n    input_graph_def.ParseFromString(data)\r\n\r\noutput_graph_def = optimize_for_inference_lib.optimize_for_inference(input_graph_def=input_graph_def, input_node_names=['x'],\r\n                                                                     output_node_names=['y_output'],\r\n                                                                     placeholder_type_enum=tf.float32.as_datatype_enum)\r\n\r\nf = tf.gfile.FastGFile(name='optimized_frozen_linear_regression.pb', mode='w')\r\n\r\nf.write(file_content=output_graph_def.SerializeToString())\r\n\r\n\r\n```"}