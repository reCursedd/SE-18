{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/254963037", "html_url": "https://github.com/tensorflow/tensorflow/pull/4686#issuecomment-254963037", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4686", "id": 254963037, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDk2MzAzNw==", "user": {"login": "alrojo", "id": 12167999, "node_id": "MDQ6VXNlcjEyMTY3OTk5", "avatar_url": "https://avatars1.githubusercontent.com/u/12167999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alrojo", "html_url": "https://github.com/alrojo", "followers_url": "https://api.github.com/users/alrojo/followers", "following_url": "https://api.github.com/users/alrojo/following{/other_user}", "gists_url": "https://api.github.com/users/alrojo/gists{/gist_id}", "starred_url": "https://api.github.com/users/alrojo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alrojo/subscriptions", "organizations_url": "https://api.github.com/users/alrojo/orgs", "repos_url": "https://api.github.com/users/alrojo/repos", "events_url": "https://api.github.com/users/alrojo/events{/privacy}", "received_events_url": "https://api.github.com/users/alrojo/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-19T22:46:40Z", "updated_at": "2016-10-19T22:47:12Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I have started writing up a simple <code>decoder_fn</code> to better understand how to support it.  And I have a question <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1794715\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ebrevdo\">@ebrevdo</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=684901\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/lukaszkaiser\">@lukaszkaiser</a> :</p>\n<pre><code>def decoder_fn(...)\nArgs:\n`time` is current timestep, denoted `t`\n`cur_state` is the previous decoder state denoted `s_{t-1}`\n`cur_output` is ?? (same as `cur_state` or `y_{t-1}`?)\n`cur_input` is the input `x_t`\n`decoder_state` is a, possibly tuple, structure to store information between\n  timesteps (usable for beam search, a simple decoder_fn will not use it).\n\nReturns:\n`done` is a boolean vector used by raw_rnn on when to halt computation and\n  copy states\n`next_state` is the next decoder state denoted `s_t`\n`next_input` is the next input denoted `x_{t+1}`\n`next_decoder_state` is a, possibly tuple, structure to store information\n  between timesteps (usable for beam search, a simple decoder_fn will not use it).\n</code></pre>\n<p>What is the purpose of <code>cur_output</code>? Especially as we do not return a <code>next_output</code>?<br>\nThanks</p>", "body_text": "I have started writing up a simple decoder_fn to better understand how to support it.  And I have a question @ebrevdo @lukaszkaiser :\ndef decoder_fn(...)\nArgs:\n`time` is current timestep, denoted `t`\n`cur_state` is the previous decoder state denoted `s_{t-1}`\n`cur_output` is ?? (same as `cur_state` or `y_{t-1}`?)\n`cur_input` is the input `x_t`\n`decoder_state` is a, possibly tuple, structure to store information between\n  timesteps (usable for beam search, a simple decoder_fn will not use it).\n\nReturns:\n`done` is a boolean vector used by raw_rnn on when to halt computation and\n  copy states\n`next_state` is the next decoder state denoted `s_t`\n`next_input` is the next input denoted `x_{t+1}`\n`next_decoder_state` is a, possibly tuple, structure to store information\n  between timesteps (usable for beam search, a simple decoder_fn will not use it).\n\nWhat is the purpose of cur_output? Especially as we do not return a next_output?\nThanks", "body": "I have started writing up a simple `decoder_fn` to better understand how to support it.  And I have a question @ebrevdo @lukaszkaiser :\n\n```\ndef decoder_fn(...)\nArgs:\n`time` is current timestep, denoted `t`\n`cur_state` is the previous decoder state denoted `s_{t-1}`\n`cur_output` is ?? (same as `cur_state` or `y_{t-1}`?)\n`cur_input` is the input `x_t`\n`decoder_state` is a, possibly tuple, structure to store information between\n  timesteps (usable for beam search, a simple decoder_fn will not use it).\n\nReturns:\n`done` is a boolean vector used by raw_rnn on when to halt computation and\n  copy states\n`next_state` is the next decoder state denoted `s_t`\n`next_input` is the next input denoted `x_{t+1}`\n`next_decoder_state` is a, possibly tuple, structure to store information\n  between timesteps (usable for beam search, a simple decoder_fn will not use it).\n```\n\nWhat is the purpose of `cur_output`? Especially as we do not return a `next_output`?\nThanks\n"}