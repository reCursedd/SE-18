{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18358", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18358/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18358/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18358/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18358", "id": 312667743, "node_id": "MDU6SXNzdWUzMTI2Njc3NDM=", "number": 18358, "title": "Not a valid TensorFlow Graph serialization: NodeDef expected inputs '' do not match 1 inputs specified; Op<name=Const; signature= -> output:dtype; attr=value:tensor; attr=dtype:type>; NodeDef: dropout_1/cond/dropout/random_uniform/max = Const[dtype=DT_FLOAT, value=Tensor<type: float shape: [] values: 1>](dropout_1/cond/Switch:1)", "user": {"login": "codexponent", "id": 13358738, "node_id": "MDQ6VXNlcjEzMzU4NzM4", "avatar_url": "https://avatars2.githubusercontent.com/u/13358738?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codexponent", "html_url": "https://github.com/codexponent", "followers_url": "https://api.github.com/users/codexponent/followers", "following_url": "https://api.github.com/users/codexponent/following{/other_user}", "gists_url": "https://api.github.com/users/codexponent/gists{/gist_id}", "starred_url": "https://api.github.com/users/codexponent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codexponent/subscriptions", "organizations_url": "https://api.github.com/users/codexponent/orgs", "repos_url": "https://api.github.com/users/codexponent/repos", "events_url": "https://api.github.com/users/codexponent/events{/privacy}", "received_events_url": "https://api.github.com/users/codexponent/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-04-09T20:05:02Z", "updated_at": "2018-08-15T02:54:31Z", "closed_at": "2018-08-15T02:48:36Z", "author_association": "NONE", "body_html": "<p>I used Transfer Learning to learn a set of features. So used these 3 final layers on my transfer learning task.</p>\n<hr>\n<h1>Layer (type)                 Output Shape              Param #</h1>\n<p>dense_1 (Dense)              (None, 256)               6422784</p>\n<hr>\n<p>dropout_1 (Dropout)          (None, 256)               0</p>\n<hr>\n<h1>dense_2 (Dense)              (None, 2)                 514</h1>\n<p>Total params: 6,423,298<br>\nTrainable params: 6,423,298<br>\nNon-trainable params: 0</p>\n<hr>\n<p>All workout on ipythonNotebook but after making it into a .pb file and loading into Android Studio. This error occurs</p>\n<blockquote>\n<p><strong>Not a valid TensorFlow Graph serialization: NodeDef expected inputs '' do not match 1 inputs specified; Op&lt;name=Const; signature= -&gt; output:dtype; attr=value:tensor; attr=dtype:type&gt;; NodeDef: dropout_1/cond/dropout/random_uniform/max = Const<a href=\"dropout_1/cond/Switch:1\">dtype=DT_FLOAT, value=Tensor&lt;type: float shape: [] values: 1&gt;</a></strong></p>\n</blockquote>\n<p><strong>The same code works on those models which have input on their first layer</strong><br>\n<em>Example: conv2d_input_1</em> which was my previous task which didn't relate to transfer learning but as soon as the model changed the code didn't work. I think tensorflowAndroid wants the input layer to feed the images but our transfer learning model doesn't have the input layer to feed and is showing problem everytime<br>\nI checked the version of tensorflow and tensorflow on android and matched the version but still no luck. Could you please help me!!</p>", "body_text": "I used Transfer Learning to learn a set of features. So used these 3 final layers on my transfer learning task.\n\nLayer (type)                 Output Shape              Param #\ndense_1 (Dense)              (None, 256)               6422784\n\ndropout_1 (Dropout)          (None, 256)               0\n\ndense_2 (Dense)              (None, 2)                 514\nTotal params: 6,423,298\nTrainable params: 6,423,298\nNon-trainable params: 0\n\nAll workout on ipythonNotebook but after making it into a .pb file and loading into Android Studio. This error occurs\n\nNot a valid TensorFlow Graph serialization: NodeDef expected inputs '' do not match 1 inputs specified; Op<name=Const; signature= -> output:dtype; attr=value:tensor; attr=dtype:type>; NodeDef: dropout_1/cond/dropout/random_uniform/max = Constdtype=DT_FLOAT, value=Tensor<type: float shape: [] values: 1>\n\nThe same code works on those models which have input on their first layer\nExample: conv2d_input_1 which was my previous task which didn't relate to transfer learning but as soon as the model changed the code didn't work. I think tensorflowAndroid wants the input layer to feed the images but our transfer learning model doesn't have the input layer to feed and is showing problem everytime\nI checked the version of tensorflow and tensorflow on android and matched the version but still no luck. Could you please help me!!", "body": "I used Transfer Learning to learn a set of features. So used these 3 final layers on my transfer learning task.\r\n\r\n_________________________________________________________________\r\nLayer (type)                 Output Shape              Param #   \r\n=================================================================\r\ndense_1 (Dense)              (None, 256)               6422784   \r\n_________________________________________________________________\r\ndropout_1 (Dropout)          (None, 256)               0         \r\n_________________________________________________________________\r\ndense_2 (Dense)              (None, 2)                 514       \r\n=================================================================\r\nTotal params: 6,423,298\r\nTrainable params: 6,423,298\r\nNon-trainable params: 0\r\n_________________________________________________________________\r\n\r\n All workout on ipythonNotebook but after making it into a .pb file and loading into Android Studio. This error occurs\r\n\r\n> **Not a valid TensorFlow Graph serialization: NodeDef expected inputs '' do not match 1 inputs specified; Op<name=Const; signature= -> output:dtype; attr=value:tensor; attr=dtype:type>; NodeDef: dropout_1/cond/dropout/random_uniform/max = Const[dtype=DT_FLOAT, value=Tensor<type: float shape: [] values: 1>](dropout_1/cond/Switch:1)**\r\n\r\n**The same code works on those models which have input on their first layer**\r\n_Example: conv2d_input_1_ which was my previous task which didn't relate to transfer learning but as soon as the model changed the code didn't work. I think tensorflowAndroid wants the input layer to feed the images but our transfer learning model doesn't have the input layer to feed and is showing problem everytime\r\nI checked the version of tensorflow and tensorflow on android and matched the version but still no luck. Could you please help me!!\r\n\r\n"}