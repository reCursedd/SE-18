{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/232413210", "html_url": "https://github.com/tensorflow/tensorflow/issues/206#issuecomment-232413210", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/206", "id": 232413210, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjQxMzIxMA==", "user": {"login": "LiamConnell", "id": 8690964, "node_id": "MDQ6VXNlcjg2OTA5NjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8690964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiamConnell", "html_url": "https://github.com/LiamConnell", "followers_url": "https://api.github.com/users/LiamConnell/followers", "following_url": "https://api.github.com/users/LiamConnell/following{/other_user}", "gists_url": "https://api.github.com/users/LiamConnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiamConnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiamConnell/subscriptions", "organizations_url": "https://api.github.com/users/LiamConnell/orgs", "repos_url": "https://api.github.com/users/LiamConnell/repos", "events_url": "https://api.github.com/users/LiamConnell/events{/privacy}", "received_events_url": "https://api.github.com/users/LiamConnell/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-13T16:39:21Z", "updated_at": "2016-07-13T16:39:21Z", "author_association": "NONE", "body_html": "<p>Here's another workaround for the case where your <code>params</code> variable is of unknown length. Hope it helps, and if there is a better way currently known please let me know! Not sure about differentiability because I'm using it for a policy gradient</p>\n<pre><code># we want output[i] = params[i,indices[i]]\nindex_mask = tf.reshape(tf.one_hot(indices, 3), [-1,3])\noutput = tf.reduce_sum(params * index_mask,1)\n</code></pre>", "body_text": "Here's another workaround for the case where your params variable is of unknown length. Hope it helps, and if there is a better way currently known please let me know! Not sure about differentiability because I'm using it for a policy gradient\n# we want output[i] = params[i,indices[i]]\nindex_mask = tf.reshape(tf.one_hot(indices, 3), [-1,3])\noutput = tf.reduce_sum(params * index_mask,1)", "body": "Here's another workaround for the case where your `params` variable is of unknown length. Hope it helps, and if there is a better way currently known please let me know! Not sure about differentiability because I'm using it for a policy gradient\n\n```\n# we want output[i] = params[i,indices[i]]\nindex_mask = tf.reshape(tf.one_hot(indices, 3), [-1,3])\noutput = tf.reduce_sum(params * index_mask,1)\n```\n"}