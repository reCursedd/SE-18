{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19441", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19441/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19441/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19441/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19441", "id": 325009202, "node_id": "MDU6SXNzdWUzMjUwMDkyMDI=", "number": 19441, "title": "Feature request: Generate java classes from .protos for java library", "user": {"login": "galv", "id": 4767568, "node_id": "MDQ6VXNlcjQ3Njc1Njg=", "avatar_url": "https://avatars0.githubusercontent.com/u/4767568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/galv", "html_url": "https://github.com/galv", "followers_url": "https://api.github.com/users/galv/followers", "following_url": "https://api.github.com/users/galv/following{/other_user}", "gists_url": "https://api.github.com/users/galv/gists{/gist_id}", "starred_url": "https://api.github.com/users/galv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/galv/subscriptions", "organizations_url": "https://api.github.com/users/galv/orgs", "repos_url": "https://api.github.com/users/galv/repos", "events_url": "https://api.github.com/users/galv/events{/privacy}", "received_events_url": "https://api.github.com/users/galv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-05-21T18:11:58Z", "updated_at": "2018-11-22T18:56:43Z", "closed_at": null, "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Yes</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.8</li>\n<li><strong>Python version</strong>: 2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.11.1</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:</li>\n<li><strong>CUDA/cuDNN version</strong>: 5.3.1</li>\n<li><strong>GPU model and memory</strong>: N/A</li>\n<li><strong>Exact command to reproduce</strong>: N/A</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>It would be nice to be able to handle protobufs within java as java classes, rather than byte arrays, as is currently done. Concretely, this would be useful because we could extract the input and output variable names from, e.g.: <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/meta_graph.proto\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/meta_graph.proto</a>, instead of having to hard-code them in our java code, hoping that they python code which produced the MetaGraphDef hasn't changed the input or output names. I am sure there are other helpful things one could do with programmatic access to their protobufs.</p>\n<p>I don't see a better way to do this than to modify tensorflow's BUILD files to call the rule <code>java_proto_library</code> in <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/platform/default/build_config.bzl\">tf_proto_library</a>. Since .proto files are not exported in the python wheel, or the java jar, end-users do not currently have the ability to generate their own files from the .proto files.</p>\n<p>I would be happy to do this if the maintainers think it is a reasonable request and don't consider it to be a burdensome thing to maintain.</p>\n<h3>Source code / logs</h3>\n<p>N/A</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary): Yes\nTensorFlow version (use command below): 1.8\nPython version: 2.7\nBazel version (if compiling from source): 0.11.1\nGCC/Compiler version (if compiling from source):\nCUDA/cuDNN version: 5.3.1\nGPU model and memory: N/A\nExact command to reproduce: N/A\n\nDescribe the problem\nIt would be nice to be able to handle protobufs within java as java classes, rather than byte arrays, as is currently done. Concretely, this would be useful because we could extract the input and output variable names from, e.g.: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/meta_graph.proto, instead of having to hard-code them in our java code, hoping that they python code which produced the MetaGraphDef hasn't changed the input or output names. I am sure there are other helpful things one could do with programmatic access to their protobufs.\nI don't see a better way to do this than to modify tensorflow's BUILD files to call the rule java_proto_library in tf_proto_library. Since .proto files are not exported in the python wheel, or the java jar, end-users do not currently have the ability to generate their own files from the .proto files.\nI would be happy to do this if the maintainers think it is a reasonable request and don't consider it to be a burdensome thing to maintain.\nSource code / logs\nN/A", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: Yes\r\n- **TensorFlow version (use command below)**: 1.8\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**: 0.11.1\r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**: 5.3.1\r\n- **GPU model and memory**: N/A\r\n- **Exact command to reproduce**: N/A\r\n\r\n### Describe the problem\r\nIt would be nice to be able to handle protobufs within java as java classes, rather than byte arrays, as is currently done. Concretely, this would be useful because we could extract the input and output variable names from, e.g.: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/meta_graph.proto, instead of having to hard-code them in our java code, hoping that they python code which produced the MetaGraphDef hasn't changed the input or output names. I am sure there are other helpful things one could do with programmatic access to their protobufs.\r\n\r\nI don't see a better way to do this than to modify tensorflow's BUILD files to call the rule `java_proto_library` in [tf_proto_library](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/platform/default/build_config.bzl). Since .proto files are not exported in the python wheel, or the java jar, end-users do not currently have the ability to generate their own files from the .proto files.\r\n\r\nI would be happy to do this if the maintainers think it is a reasonable request and don't consider it to be a burdensome thing to maintain.\r\n\r\n### Source code / logs\r\nN/A\r\n"}