{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/255906813", "html_url": "https://github.com/tensorflow/tensorflow/issues/5179#issuecomment-255906813", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5179", "id": 255906813, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTkwNjgxMw==", "user": {"login": "hemalshahX", "id": 22327027, "node_id": "MDQ6VXNlcjIyMzI3MDI3", "avatar_url": "https://avatars1.githubusercontent.com/u/22327027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hemalshahX", "html_url": "https://github.com/hemalshahX", "followers_url": "https://api.github.com/users/hemalshahX/followers", "following_url": "https://api.github.com/users/hemalshahX/following{/other_user}", "gists_url": "https://api.github.com/users/hemalshahX/gists{/gist_id}", "starred_url": "https://api.github.com/users/hemalshahX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hemalshahX/subscriptions", "organizations_url": "https://api.github.com/users/hemalshahX/orgs", "repos_url": "https://api.github.com/users/hemalshahX/repos", "events_url": "https://api.github.com/users/hemalshahX/events{/privacy}", "received_events_url": "https://api.github.com/users/hemalshahX/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-25T00:53:40Z", "updated_at": "2016-10-25T00:53:40Z", "author_association": "NONE", "body_html": "<p>Sure,</p>\n<p>FROM ubuntu:16.04</p>\n<p>RUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true <br>\n| /usr/bin/debconf-set-selections <br>\n&amp;&amp; apt-get -q update <br>\n&amp;&amp; apt-get install -qy <br>\nbash-completion <br>\nccache <br>\nclang-3.6 <br>\nclang-format-3.6 <br>\ng++ <br>\ngcc <br>\ngdb <br>\ngdbserver <br>\ngfortran <br>\ngit <br>\ngraphviz <br>\nimagemagick <br>\nlibarchive-dev <br>\nlibassimp-dev <br>\nlibboost-all-dev <br>\nlibelf-dev <br>\nlibffi-dev <br>\nlibgl1-mesa-dev <br>\nlibjpeg-dev <br>\nliblapack3 <br>\nlibmysqlcppconn-dev <br>\nlibnlopt-dev <br>\n#libprotobuf-dev <br>\nlibraw1394-11 <br>\nlibssl-dev  <br>\nlibsparsehash-dev <br>\nlibunwind8-dev <br>\nlibzookeeper-mt-dev <br>\nlsb-core <br>\nlsof <br>\nlibwebsocketpp-dev <br>\nnodejs <br>\noracle-java8-installer <br>\npkg-config <br>\npylint <br>\npython-dev  <br>\npython-pip <br>\npython-setuptools <br>\npython-sphinx <br>\npython-yaml <br>\npython-h5py <br>\npython3-pip <br>\npython-numpy <br>\npython-scipy <br>\npython-nose <br>\npython-wheel <br>\nlibopenblas-dev <br>\nstrace <br>\nsudo <br>\nswig <br>\ntcpdump <br>\nvalgrind <br>\nunzip <br>\nxorg-dev <br>\nxvfb <br>\nzip <br>\nzlib1g-dev <br>\n&amp;&amp; update-java-alternatives -s java-8-oracle</p>\n<h1>Build Bazel and build and install Bazel autocomplete</h1>\n<p>RUN bazel_version='0.3.1' <br>\n&amp;&amp; git clone <a href=\"https://github.com/bazelbuild/bazel.git\">https://github.com/bazelbuild/bazel.git</a> /bazel <br>\n&amp;&amp; cd /bazel <br>\n&amp;&amp; git checkout $bazel_version <br>\n&amp;&amp; echo \"startup --batch\\nbuild --spawn_strategy=standalone\\nbuild --genrule_strategy=standalone\\ntest --test_strategy=standalone\" &gt; /bazel/bazelrc <br>\n&amp;&amp; BAZELRC=/bazel/bazelrc /bazel/compile.sh <br>\n&amp;&amp; ln -s /bazel/output/bazel /usr/bin/bazel <br>\n&amp;&amp; /usr/bin/bazel --bazelrc=/bazel/bazelrc build //scripts:bash_completion <br>\n&amp;&amp; cp /bazel/bazel-bin/scripts/bazel-complete.bash /etc/bash_completion.d/</p>\n<h1>Python libraries that aren't available via apt</h1>\n<p>RUN pip2 install --quiet --upgrade <br>\ncpplint <br>\ngsutil <br>\nyapf <br>\nTheano <br>\nkeras <br>\nh5py</p>\n<p>RUN pip3 install --quiet --upgrade <br>\nportpicker</p>\n<p>RUN git clone <a href=\"https://github.com/tensorflow/tensorflow.git\">https://github.com/tensorflow/tensorflow.git</a> /tmp/tensorflow <br>\n&amp;&amp; cd /tmp/tensorflow &amp;&amp; git checkout r0.11 <br>\n&amp;&amp; yes '' | ./configure <br>\n&amp;&amp; bazel build -c opt //tensorflow/tools/pip_package:build_pip_package <br>\n&amp;&amp; /tmp/tensorflow/bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg <br>\n&amp;&amp; pip2 install --quiet --upgrade /tmp/tensorflow_pkg/*.whl <br>\n&amp;&amp; bazel build -c opt //tensorflow:libtensorflow_cc.so <br>\n&amp;&amp; cp /tmp/tensorflow/bazel-bin/tensorflow/libtensorflow_cc.so /usr/lib/libtensorflow_cc.so <br>\n&amp;&amp; ln -sv /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow /usr/include/tensorflow <br>\n&amp;&amp; ln -sv /usr/local/lib/python2.7/dist-packages/tensorflow/include/third_party /usr/include/third_party</p>\n<h1>Clean up leftover stuff at the very end</h1>\n<p>RUN apt-get clean <br>\n&amp;&amp; apt-get autoremove -qy <br>\n&amp;&amp; rm -rf /var/lib/apt/lists/* <br>\n&amp;&amp; rm -rf /tmp/*</p>", "body_text": "Sure,\nFROM ubuntu:16.04\nRUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true \n| /usr/bin/debconf-set-selections \n&& apt-get -q update \n&& apt-get install -qy \nbash-completion \nccache \nclang-3.6 \nclang-format-3.6 \ng++ \ngcc \ngdb \ngdbserver \ngfortran \ngit \ngraphviz \nimagemagick \nlibarchive-dev \nlibassimp-dev \nlibboost-all-dev \nlibelf-dev \nlibffi-dev \nlibgl1-mesa-dev \nlibjpeg-dev \nliblapack3 \nlibmysqlcppconn-dev \nlibnlopt-dev \n#libprotobuf-dev \nlibraw1394-11 \nlibssl-dev  \nlibsparsehash-dev \nlibunwind8-dev \nlibzookeeper-mt-dev \nlsb-core \nlsof \nlibwebsocketpp-dev \nnodejs \noracle-java8-installer \npkg-config \npylint \npython-dev  \npython-pip \npython-setuptools \npython-sphinx \npython-yaml \npython-h5py \npython3-pip \npython-numpy \npython-scipy \npython-nose \npython-wheel \nlibopenblas-dev \nstrace \nsudo \nswig \ntcpdump \nvalgrind \nunzip \nxorg-dev \nxvfb \nzip \nzlib1g-dev \n&& update-java-alternatives -s java-8-oracle\nBuild Bazel and build and install Bazel autocomplete\nRUN bazel_version='0.3.1' \n&& git clone https://github.com/bazelbuild/bazel.git /bazel \n&& cd /bazel \n&& git checkout $bazel_version \n&& echo \"startup --batch\\nbuild --spawn_strategy=standalone\\nbuild --genrule_strategy=standalone\\ntest --test_strategy=standalone\" > /bazel/bazelrc \n&& BAZELRC=/bazel/bazelrc /bazel/compile.sh \n&& ln -s /bazel/output/bazel /usr/bin/bazel \n&& /usr/bin/bazel --bazelrc=/bazel/bazelrc build //scripts:bash_completion \n&& cp /bazel/bazel-bin/scripts/bazel-complete.bash /etc/bash_completion.d/\nPython libraries that aren't available via apt\nRUN pip2 install --quiet --upgrade \ncpplint \ngsutil \nyapf \nTheano \nkeras \nh5py\nRUN pip3 install --quiet --upgrade \nportpicker\nRUN git clone https://github.com/tensorflow/tensorflow.git /tmp/tensorflow \n&& cd /tmp/tensorflow && git checkout r0.11 \n&& yes '' | ./configure \n&& bazel build -c opt //tensorflow/tools/pip_package:build_pip_package \n&& /tmp/tensorflow/bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg \n&& pip2 install --quiet --upgrade /tmp/tensorflow_pkg/*.whl \n&& bazel build -c opt //tensorflow:libtensorflow_cc.so \n&& cp /tmp/tensorflow/bazel-bin/tensorflow/libtensorflow_cc.so /usr/lib/libtensorflow_cc.so \n&& ln -sv /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow /usr/include/tensorflow \n&& ln -sv /usr/local/lib/python2.7/dist-packages/tensorflow/include/third_party /usr/include/third_party\nClean up leftover stuff at the very end\nRUN apt-get clean \n&& apt-get autoremove -qy \n&& rm -rf /var/lib/apt/lists/* \n&& rm -rf /tmp/*", "body": "Sure, \n\nFROM ubuntu:16.04\n\nRUN echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true \\\n        | /usr/bin/debconf-set-selections \\\n    && apt-get -q update \\\n    && apt-get install -qy \\\n        bash-completion \\\n        ccache \\\n        clang-3.6 \\\n        clang-format-3.6 \\\n        g++ \\\n        gcc \\\n        gdb \\\n        gdbserver \\\n        gfortran \\\n        git \\\n        graphviz \\\n        imagemagick \\\n        libarchive-dev \\\n        libassimp-dev \\\n        libboost-all-dev \\\n        libelf-dev \\\n        libffi-dev \\\n        libgl1-mesa-dev \\\n        libjpeg-dev \\\n        liblapack3 \\\n        libmysqlcppconn-dev \\\n        libnlopt-dev \\\n        #libprotobuf-dev \\\n        libraw1394-11 \\\n        libssl-dev  \\\n        libsparsehash-dev \\\n        libunwind8-dev \\\n        libzookeeper-mt-dev \\\n        lsb-core \\\n        lsof \\\n        libwebsocketpp-dev \\\n        nodejs \\\n        oracle-java8-installer \\\n        pkg-config \\\n        pylint \\\n        python-dev  \\\n        python-pip \\\n        python-setuptools \\\n        python-sphinx \\\n        python-yaml \\\n        python-h5py \\\n        python3-pip \\\n        python-numpy \\\n        python-scipy \\\n        python-nose \\\n        python-wheel \\\n        libopenblas-dev \\\n        strace \\\n        sudo \\\n        swig \\\n        tcpdump \\\n        valgrind \\\n        unzip \\\n        xorg-dev \\\n        xvfb \\\n        zip \\\n        zlib1g-dev \\\n    && update-java-alternatives -s java-8-oracle\n\n# Build Bazel and build and install Bazel autocomplete\n\nRUN bazel_version='0.3.1' \\\n    && git clone https://github.com/bazelbuild/bazel.git /bazel \\\n    && cd /bazel \\\n    && git checkout $bazel_version \\\n    && echo \"startup --batch\\nbuild --spawn_strategy=standalone\\nbuild --genrule_strategy=standalone\\ntest --test_strategy=standalone\" > /bazel/bazelrc \\\n    && BAZELRC=/bazel/bazelrc /bazel/compile.sh \\\n    && ln -s /bazel/output/bazel /usr/bin/bazel \\\n    && /usr/bin/bazel --bazelrc=/bazel/bazelrc build //scripts:bash_completion \\\n    && cp /bazel/bazel-bin/scripts/bazel-complete.bash /etc/bash_completion.d/\n\n# Python libraries that aren't available via apt\n\nRUN pip2 install --quiet --upgrade \\\n    cpplint \\\n    gsutil \\\n    yapf \\\n    Theano \\\n    keras \\\n    h5py\n\nRUN pip3 install --quiet --upgrade \\\n    portpicker\n\nRUN git clone https://github.com/tensorflow/tensorflow.git /tmp/tensorflow \\\n    && cd /tmp/tensorflow && git checkout r0.11 \\\n    && yes '' | ./configure \\\n    && bazel build -c opt //tensorflow/tools/pip_package:build_pip_package \\\n    && /tmp/tensorflow/bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg \\\n    && pip2 install --quiet --upgrade /tmp/tensorflow_pkg/*.whl \\\n    && bazel build -c opt //tensorflow:libtensorflow_cc.so \\\n    && cp /tmp/tensorflow/bazel-bin/tensorflow/libtensorflow_cc.so /usr/lib/libtensorflow_cc.so \\\n    && ln -sv /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow /usr/include/tensorflow \\\n    && ln -sv /usr/local/lib/python2.7/dist-packages/tensorflow/include/third_party /usr/include/third_party\n\n# Clean up leftover stuff at the very end\n\nRUN apt-get clean \\\n    && apt-get autoremove -qy \\\n    && rm -rf /var/lib/apt/lists/\\* \\\n    && rm -rf /tmp/*\n"}