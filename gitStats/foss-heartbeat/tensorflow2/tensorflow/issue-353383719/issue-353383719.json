{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21829", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21829/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21829/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21829/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21829", "id": 353383719, "node_id": "MDU6SXNzdWUzNTMzODM3MTk=", "number": 21829, "title": "//tensorflow/contrib/fused_conv:fused_conv2d_bias_activation_op_test  running into `implementation not found` error", "user": {"login": "deven-amd", "id": 36858332, "node_id": "MDQ6VXNlcjM2ODU4MzMy", "avatar_url": "https://avatars2.githubusercontent.com/u/36858332?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deven-amd", "html_url": "https://github.com/deven-amd", "followers_url": "https://api.github.com/users/deven-amd/followers", "following_url": "https://api.github.com/users/deven-amd/following{/other_user}", "gists_url": "https://api.github.com/users/deven-amd/gists{/gist_id}", "starred_url": "https://api.github.com/users/deven-amd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deven-amd/subscriptions", "organizations_url": "https://api.github.com/users/deven-amd/orgs", "repos_url": "https://api.github.com/users/deven-amd/repos", "events_url": "https://api.github.com/users/deven-amd/events{/privacy}", "received_events_url": "https://api.github.com/users/deven-amd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "robieta", "id": 13089297, "node_id": "MDQ6VXNlcjEzMDg5Mjk3", "avatar_url": "https://avatars0.githubusercontent.com/u/13089297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robieta", "html_url": "https://github.com/robieta", "followers_url": "https://api.github.com/users/robieta/followers", "following_url": "https://api.github.com/users/robieta/following{/other_user}", "gists_url": "https://api.github.com/users/robieta/gists{/gist_id}", "starred_url": "https://api.github.com/users/robieta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robieta/subscriptions", "organizations_url": "https://api.github.com/users/robieta/orgs", "repos_url": "https://api.github.com/users/robieta/repos", "events_url": "https://api.github.com/users/robieta/events{/privacy}", "received_events_url": "https://api.github.com/users/robieta/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "robieta", "id": 13089297, "node_id": "MDQ6VXNlcjEzMDg5Mjk3", "avatar_url": "https://avatars0.githubusercontent.com/u/13089297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robieta", "html_url": "https://github.com/robieta", "followers_url": "https://api.github.com/users/robieta/followers", "following_url": "https://api.github.com/users/robieta/following{/other_user}", "gists_url": "https://api.github.com/users/robieta/gists{/gist_id}", "starred_url": "https://api.github.com/users/robieta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robieta/subscriptions", "organizations_url": "https://api.github.com/users/robieta/orgs", "repos_url": "https://api.github.com/users/robieta/repos", "events_url": "https://api.github.com/users/robieta/events{/privacy}", "received_events_url": "https://api.github.com/users/robieta/received_events", "type": "User", "site_admin": false}, {"login": "aaroey", "id": 31743510, "node_id": "MDQ6VXNlcjMxNzQzNTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/31743510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaroey", "html_url": "https://github.com/aaroey", "followers_url": "https://api.github.com/users/aaroey/followers", "following_url": "https://api.github.com/users/aaroey/following{/other_user}", "gists_url": "https://api.github.com/users/aaroey/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaroey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaroey/subscriptions", "organizations_url": "https://api.github.com/users/aaroey/orgs", "repos_url": "https://api.github.com/users/aaroey/repos", "events_url": "https://api.github.com/users/aaroey/events{/privacy}", "received_events_url": "https://api.github.com/users/aaroey/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-08-23T13:34:34Z", "updated_at": "2018-11-20T13:30:18Z", "closed_at": null, "author_association": "NONE", "body_html": "<hr>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code</strong>: No</li>\n<li><strong>OS Platform and Distribution</strong>:<br>\n<code>tensorflow/tensorflow:1.9.0-devel-gpu-py3</code> docker container running on <code>Linux Ubuntu 16.04</code> host</li>\n<li><strong>Mobile device</strong>:  Not Applicable</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: cloned from repo</li>\n<li><strong>TensorFlow version (use command below)</strong>: <code>b'v1.9.0-0-g25c197e' 1.9.0</code></li>\n<li><strong>Python version</strong>: <code>Python 3.5.2</code></li>\n<li><strong>Bazel version (if compiling from source)</strong>: <code>0.15.0</code></li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: <code>5.4.0</code></li>\n<li><strong>CUDA/cuDNN version</strong>: 9.0</li>\n<li><strong>GPU model and memory</strong>: Not Applicable</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<pre><code>bazel test --config=cuda  //tensorflow/contrib/fused_conv:fused_conv2d_bias_activation_op_test \n</code></pre>\n<h3>Describe the problem</h3>\n<p>I am unable to run the <code>fused_conv</code> example from the contrib area. The error I run into is shown in the <code>Source code / logs</code> section below. The problem seems to be that</p>\n<ul>\n<li>the code in kernel implementation for the <code>fused_conv2d_bias_activation_op</code> calls routines that are present in the <code>_pywrap_tensorflow_internal.so</code> library</li>\n<li>the shared library created for the custom op <code>_fused_conv2d_bias_activation_op.so</code> does <strong>not</strong> have a dependency on the <code>_pywrap_tensorflow_internal.so</code> library</li>\n</ul>\n<p>I think one way to get past this error would be add the missing library dependency, but I do not know how to go about doing that.</p>\n<h3>Source code / logs</h3>\n<p>error from bazel command output</p>\n<pre><code>exec ${PAGER:-/usr/bin/less} \"$0\" || exit 1\nExecuting tests from //tensorflow/contrib/fused_conv:fused_conv2d_bias_activation_op_test\n-----------------------------------------------------------------------------\nTraceback (most recent call last):\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/fused_conv/python/ops/fused_conv2d_bia\\\ns_activation_op_test.py\", line 23, in &lt;module&gt;\n   from tensorflow.contrib.fused_conv.python.ops import fused_conv2d_bias_activation_op\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/fused_conv/__init__.py\", line 22, in &lt;\\\nmodule&gt;\n   from tensorflow.contrib.fused_conv.python.ops.fused_conv2d_bias_activation_op import *\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/fused_conv/python/ops/fused_conv2d_bia\\\ns_activation_op.py\", line 26, in &lt;module&gt;\n   resource_loader.get_path_to_datafile(\"_fused_conv2d_bias_activation_op.so\"))\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/util/loader.py\", line 56, in load_op_l\\\nibrary\n   ret = load_library.load_op_library(path)\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/python/framework/load_library.py\", line 56, in\\\nload_op_library\n   lib_handle = py_tf.TF_LoadLibrary(library_filename)\ntensorflow.python.framework.errors_impl.NotFoundError: /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow\\\n/contrib/fused_conv/python/ops/_fused_conv2d_bias_activation_op.so: undefined symbol: _ZN10tensorflow7functor10NHWCToNCHWIN5Eigen9GpuDeviceEfLi4EEclERKS3_NS2_9TensorMapINS2_6TensorIKfLi4ELi1ElEELi16ENS2_11MakePointerEEENS7_INS8_IfLi4ELi1ElEELi16ESB_EE\n</code></pre>\n<p>note the lack of dependency on <code>_pywrap_tensorflow_internal.so</code></p>\n<pre><code>root@fptitan1:~/tensorflow# ldd ./bazel-tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/python/ops/_fused_conv2d_bias_activation_op.so\n\tlinux-vdso.so.1 =&gt;  (0x00007ffebf7a9000)\n\tlibtensorflow_framework.so =&gt; /root/tensorflow/./bazel-tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/python/ops/../../../../../_solib_local/_U_S_Stensorflow_Scontrib_Sfused_Uconv_Cpython_Sops_S_Ufused_Uconv2d_Ubias_Uactivation_Uop.so___Utensorflow/libtensorflow_framework.so (0x00007f93a5e5e000)\n\tlibm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007f93a5b55000)\n\tlibdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f93a5951000)\n\tlibpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f93a5734000)\n\tlibrt.so.1 =&gt; /lib/x86_64-linux-gnu/librt.so.1 (0x00007f93a552c000)\n\tlibstdc++.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f93a51aa000)\n\tlibgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f93a4f94000)\n\tlibc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f93a4bca000)\n\tlibcublas.so.9.0 =&gt; /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcublas.so.9.0 (0x00007f93a12c5000)\n\tlibcuda.so.1 =&gt; /usr/local/nvidia/lib64/libcuda.so.1 (0x00007f93a0725000)\n\tlibcudnn.so.7 =&gt; /usr/lib/x86_64-linux-gnu/libcudnn.so.7 (0x00007f938c734000)\n\tlibcufft.so.9.0 =&gt; /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcufft.so.9.0 (0x00007f9384693000)\n\tlibcurand.so.9.0 =&gt; /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcurand.so.9.0 (0x00007f938072f000)\n\tlibcudart.so.9.0 =&gt; /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart.so.9.0 (0x00007f93804c2000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f93a70d5000)\n\tlibnvidia-fatbinaryloader.so.390.30 =&gt; /usr/local/nvidia/lib64/libnvidia-fatbinaryloader.so.390.30 (0x00007f9380276000)\n</code></pre>", "body_text": "System information\n\nHave I written custom code: No\nOS Platform and Distribution:\ntensorflow/tensorflow:1.9.0-devel-gpu-py3 docker container running on Linux Ubuntu 16.04 host\nMobile device:  Not Applicable\nTensorFlow installed from (source or binary): cloned from repo\nTensorFlow version (use command below): b'v1.9.0-0-g25c197e' 1.9.0\nPython version: Python 3.5.2\nBazel version (if compiling from source): 0.15.0\nGCC/Compiler version (if compiling from source): 5.4.0\nCUDA/cuDNN version: 9.0\nGPU model and memory: Not Applicable\nExact command to reproduce:\n\nbazel test --config=cuda  //tensorflow/contrib/fused_conv:fused_conv2d_bias_activation_op_test \n\nDescribe the problem\nI am unable to run the fused_conv example from the contrib area. The error I run into is shown in the Source code / logs section below. The problem seems to be that\n\nthe code in kernel implementation for the fused_conv2d_bias_activation_op calls routines that are present in the _pywrap_tensorflow_internal.so library\nthe shared library created for the custom op _fused_conv2d_bias_activation_op.so does not have a dependency on the _pywrap_tensorflow_internal.so library\n\nI think one way to get past this error would be add the missing library dependency, but I do not know how to go about doing that.\nSource code / logs\nerror from bazel command output\nexec ${PAGER:-/usr/bin/less} \"$0\" || exit 1\nExecuting tests from //tensorflow/contrib/fused_conv:fused_conv2d_bias_activation_op_test\n-----------------------------------------------------------------------------\nTraceback (most recent call last):\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/fused_conv/python/ops/fused_conv2d_bia\\\ns_activation_op_test.py\", line 23, in <module>\n   from tensorflow.contrib.fused_conv.python.ops import fused_conv2d_bias_activation_op\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/fused_conv/__init__.py\", line 22, in <\\\nmodule>\n   from tensorflow.contrib.fused_conv.python.ops.fused_conv2d_bias_activation_op import *\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/fused_conv/python/ops/fused_conv2d_bia\\\ns_activation_op.py\", line 26, in <module>\n   resource_loader.get_path_to_datafile(\"_fused_conv2d_bias_activation_op.so\"))\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/util/loader.py\", line 56, in load_op_l\\\nibrary\n   ret = load_library.load_op_library(path)\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/python/framework/load_library.py\", line 56, in\\\nload_op_library\n   lib_handle = py_tf.TF_LoadLibrary(library_filename)\ntensorflow.python.framework.errors_impl.NotFoundError: /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow\\\n/contrib/fused_conv/python/ops/_fused_conv2d_bias_activation_op.so: undefined symbol: _ZN10tensorflow7functor10NHWCToNCHWIN5Eigen9GpuDeviceEfLi4EEclERKS3_NS2_9TensorMapINS2_6TensorIKfLi4ELi1ElEELi16ENS2_11MakePointerEEENS7_INS8_IfLi4ELi1ElEELi16ESB_EE\n\nnote the lack of dependency on _pywrap_tensorflow_internal.so\nroot@fptitan1:~/tensorflow# ldd ./bazel-tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/python/ops/_fused_conv2d_bias_activation_op.so\n\tlinux-vdso.so.1 =>  (0x00007ffebf7a9000)\n\tlibtensorflow_framework.so => /root/tensorflow/./bazel-tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/python/ops/../../../../../_solib_local/_U_S_Stensorflow_Scontrib_Sfused_Uconv_Cpython_Sops_S_Ufused_Uconv2d_Ubias_Uactivation_Uop.so___Utensorflow/libtensorflow_framework.so (0x00007f93a5e5e000)\n\tlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f93a5b55000)\n\tlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f93a5951000)\n\tlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f93a5734000)\n\tlibrt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f93a552c000)\n\tlibstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f93a51aa000)\n\tlibgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f93a4f94000)\n\tlibc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f93a4bca000)\n\tlibcublas.so.9.0 => /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcublas.so.9.0 (0x00007f93a12c5000)\n\tlibcuda.so.1 => /usr/local/nvidia/lib64/libcuda.so.1 (0x00007f93a0725000)\n\tlibcudnn.so.7 => /usr/lib/x86_64-linux-gnu/libcudnn.so.7 (0x00007f938c734000)\n\tlibcufft.so.9.0 => /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcufft.so.9.0 (0x00007f9384693000)\n\tlibcurand.so.9.0 => /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcurand.so.9.0 (0x00007f938072f000)\n\tlibcudart.so.9.0 => /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart.so.9.0 (0x00007f93804c2000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f93a70d5000)\n\tlibnvidia-fatbinaryloader.so.390.30 => /usr/local/nvidia/lib64/libnvidia-fatbinaryloader.so.390.30 (0x00007f9380276000)", "body": "------------------------\r\n\r\n### System information\r\n- **Have I written custom code**: No\r\n- **OS Platform and Distribution**:\r\n`tensorflow/tensorflow:1.9.0-devel-gpu-py3` docker container running on `Linux Ubuntu 16.04` host\r\n- **Mobile device**:  Not Applicable\r\n- **TensorFlow installed from (source or binary)**: cloned from repo\r\n- **TensorFlow version (use command below)**: `b'v1.9.0-0-g25c197e' 1.9.0`\r\n- **Python version**: `Python 3.5.2`\r\n- **Bazel version (if compiling from source)**: `0.15.0`\r\n- **GCC/Compiler version (if compiling from source)**: `5.4.0`\r\n- **CUDA/cuDNN version**: 9.0\r\n- **GPU model and memory**: Not Applicable\r\n- **Exact command to reproduce**: \r\n```\r\nbazel test --config=cuda  //tensorflow/contrib/fused_conv:fused_conv2d_bias_activation_op_test \r\n```\r\n\r\n### Describe the problem\r\n\r\nI am unable to run the `fused_conv` example from the contrib area. The error I run into is shown in the `Source code / logs` section below. The problem seems to be that \r\n- the code in kernel implementation for the `fused_conv2d_bias_activation_op` calls routines that are present in the `_pywrap_tensorflow_internal.so` library\r\n- the shared library created for the custom op `_fused_conv2d_bias_activation_op.so` does **not** have a dependency on the `_pywrap_tensorflow_internal.so` library\r\n\r\nI think one way to get past this error would be add the missing library dependency, but I do not know how to go about doing that. \r\n\r\n\r\n### Source code / logs\r\n\r\nerror from bazel command output\r\n\r\n```\r\nexec ${PAGER:-/usr/bin/less} \"$0\" || exit 1\r\nExecuting tests from //tensorflow/contrib/fused_conv:fused_conv2d_bias_activation_op_test\r\n-----------------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/fused_conv/python/ops/fused_conv2d_bia\\\r\ns_activation_op_test.py\", line 23, in <module>\r\n   from tensorflow.contrib.fused_conv.python.ops import fused_conv2d_bias_activation_op\r\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/fused_conv/__init__.py\", line 22, in <\\\r\nmodule>\r\n   from tensorflow.contrib.fused_conv.python.ops.fused_conv2d_bias_activation_op import *\r\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/fused_conv/python/ops/fused_conv2d_bia\\\r\ns_activation_op.py\", line 26, in <module>\r\n   resource_loader.get_path_to_datafile(\"_fused_conv2d_bias_activation_op.so\"))\r\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/contrib/util/loader.py\", line 56, in load_op_l\\\r\nibrary\r\n   ret = load_library.load_op_library(path)\r\n File \"/root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow/python/framework/load_library.py\", line 56, in\\\r\nload_op_library\r\n   lib_handle = py_tf.TF_LoadLibrary(library_filename)\r\ntensorflow.python.framework.errors_impl.NotFoundError: /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/fused_conv2d_bias_activation_op_test.runfiles/org_tensorflow/tensorflow\\\r\n/contrib/fused_conv/python/ops/_fused_conv2d_bias_activation_op.so: undefined symbol: _ZN10tensorflow7functor10NHWCToNCHWIN5Eigen9GpuDeviceEfLi4EEclERKS3_NS2_9TensorMapINS2_6TensorIKfLi4ELi1ElEELi16ENS2_11MakePointerEEENS7_INS8_IfLi4ELi1ElEELi16ESB_EE\r\n```\r\n\r\nnote the lack of dependency on `_pywrap_tensorflow_internal.so`\r\n\r\n```\r\nroot@fptitan1:~/tensorflow# ldd ./bazel-tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/python/ops/_fused_conv2d_bias_activation_op.so\r\n\tlinux-vdso.so.1 =>  (0x00007ffebf7a9000)\r\n\tlibtensorflow_framework.so => /root/tensorflow/./bazel-tensorflow/bazel-out/k8-opt/bin/tensorflow/contrib/fused_conv/python/ops/../../../../../_solib_local/_U_S_Stensorflow_Scontrib_Sfused_Uconv_Cpython_Sops_S_Ufused_Uconv2d_Ubias_Uactivation_Uop.so___Utensorflow/libtensorflow_framework.so (0x00007f93a5e5e000)\r\n\tlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f93a5b55000)\r\n\tlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f93a5951000)\r\n\tlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f93a5734000)\r\n\tlibrt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f93a552c000)\r\n\tlibstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f93a51aa000)\r\n\tlibgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f93a4f94000)\r\n\tlibc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f93a4bca000)\r\n\tlibcublas.so.9.0 => /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcublas.so.9.0 (0x00007f93a12c5000)\r\n\tlibcuda.so.1 => /usr/local/nvidia/lib64/libcuda.so.1 (0x00007f93a0725000)\r\n\tlibcudnn.so.7 => /usr/lib/x86_64-linux-gnu/libcudnn.so.7 (0x00007f938c734000)\r\n\tlibcufft.so.9.0 => /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcufft.so.9.0 (0x00007f9384693000)\r\n\tlibcurand.so.9.0 => /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcurand.so.9.0 (0x00007f938072f000)\r\n\tlibcudart.so.9.0 => /usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart.so.9.0 (0x00007f93804c2000)\r\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f93a70d5000)\r\n\tlibnvidia-fatbinaryloader.so.390.30 => /usr/local/nvidia/lib64/libnvidia-fatbinaryloader.so.390.30 (0x00007f9380276000)\r\n```\r\n"}