{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/1719", "id": 64740496, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ3NDA0OTY=", "html_url": "https://github.com/tensorflow/tensorflow/pull/1719", "diff_url": "https://github.com/tensorflow/tensorflow/pull/1719.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/1719.patch", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1719", "number": 1719, "state": "closed", "locked": false, "title": "Reduction of CPU test time for cwise_ops_test and rnn_test.", "user": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "body": "Reduce test scenarios for CPU-only tests by checking for whether\ncuda has been enabled in the binary to avoid running CPU tests twice.\n\nAlso avoids testing the cross product of broadcasting shapes, dtypes,\nand functions in the bcast code.  Instead, we only test broadcasting\nof all the various shapes for exactly one datatype and function (add),\nwhich should test the broadcasting behavior (which should not be function\nor type specific), and then testing only the cross product of\ndatatypes and functions with one shape.  Reduces cwise_ops_test\nin non-opt mode from 100 seconds to 20.\n\nAlso reduce the number of timesteps in one of the rnn_test tests\nfrom 8 to 3 (enough to check the recurrency).  The changes reduce\nthe runtime from 65 seconds to 19, and there are probably other\nchanges that can be made to the test to reduce it further.\n", "created_at": "2016-03-31T06:23:59Z", "updated_at": "2016-04-17T04:30:26Z", "closed_at": "2016-04-17T04:30:26Z", "merged_at": null, "merge_commit_sha": "f8424ccd631af8bd8ee17fd678e438093fccff30", "assignee": {"login": "girving", "id": 70511, "node_id": "MDQ6VXNlcjcwNTEx", "avatar_url": "https://avatars1.githubusercontent.com/u/70511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/girving", "html_url": "https://github.com/girving", "followers_url": "https://api.github.com/users/girving/followers", "following_url": "https://api.github.com/users/girving/following{/other_user}", "gists_url": "https://api.github.com/users/girving/gists{/gist_id}", "starred_url": "https://api.github.com/users/girving/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/girving/subscriptions", "organizations_url": "https://api.github.com/users/girving/orgs", "repos_url": "https://api.github.com/users/girving/repos", "events_url": "https://api.github.com/users/girving/events{/privacy}", "received_events_url": "https://api.github.com/users/girving/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "girving", "id": 70511, "node_id": "MDQ6VXNlcjcwNTEx", "avatar_url": "https://avatars1.githubusercontent.com/u/70511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/girving", "html_url": "https://github.com/girving", "followers_url": "https://api.github.com/users/girving/followers", "following_url": "https://api.github.com/users/girving/following{/other_user}", "gists_url": "https://api.github.com/users/girving/gists{/gist_id}", "starred_url": "https://api.github.com/users/girving/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/girving/subscriptions", "organizations_url": "https://api.github.com/users/girving/orgs", "repos_url": "https://api.github.com/users/girving/repos", "events_url": "https://api.github.com/users/girving/events{/privacy}", "received_events_url": "https://api.github.com/users/girving/received_events", "type": "User", "site_admin": false}], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "milestone": null, "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/1719/commits", "review_comments_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/1719/comments", "review_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1719/comments", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/69dee7a038420e244079690b4135eea3687ed9d0", "head": {"label": "vrv:make_tests_run_faster_dammit", "ref": "make_tests_run_faster_dammit", "sha": "69dee7a038420e244079690b4135eea3687ed9d0", "user": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "repo": {"id": 51214789, "node_id": "MDEwOlJlcG9zaXRvcnk1MTIxNDc4OQ==", "name": "tensorflow", "full_name": "vrv/tensorflow", "private": false, "owner": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/vrv/tensorflow", "description": "Computation using data flow graphs for scalable machine learning", "fork": true, "url": "https://api.github.com/repos/vrv/tensorflow", "forks_url": "https://api.github.com/repos/vrv/tensorflow/forks", "keys_url": "https://api.github.com/repos/vrv/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/vrv/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/vrv/tensorflow/teams", "hooks_url": "https://api.github.com/repos/vrv/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/vrv/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/vrv/tensorflow/events", "assignees_url": "https://api.github.com/repos/vrv/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/vrv/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/vrv/tensorflow/tags", "blobs_url": "https://api.github.com/repos/vrv/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/vrv/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/vrv/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/vrv/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/vrv/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/vrv/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/vrv/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/vrv/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/vrv/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/vrv/tensorflow/subscription", "commits_url": "https://api.github.com/repos/vrv/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/vrv/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/vrv/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/vrv/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/vrv/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/vrv/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/vrv/tensorflow/merges", "archive_url": "https://api.github.com/repos/vrv/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/vrv/tensorflow/downloads", "issues_url": "https://api.github.com/repos/vrv/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/vrv/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/vrv/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/vrv/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/vrv/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/vrv/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/vrv/tensorflow/deployments", "created_at": "2016-02-06T18:16:58Z", "updated_at": "2018-03-26T00:29:54Z", "pushed_at": "2017-10-23T05:24:25Z", "git_url": "git://github.com/vrv/tensorflow.git", "ssh_url": "git@github.com:vrv/tensorflow.git", "clone_url": "https://github.com/vrv/tensorflow.git", "svn_url": "https://github.com/vrv/tensorflow", "homepage": "http://tensorflow.org", "size": 133043, "stargazers_count": 1, "watchers_count": 1, "language": "C++", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 0, "mirror_url": null, "archived": false, "open_issues_count": 0, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 0, "open_issues": 0, "watchers": 1, "default_branch": "master"}}, "base": {"label": "tensorflow:master", "ref": "master", "sha": "0ec9c6211b36b4f0bf6543c71955f22d27714da0", "user": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 45717250, "node_id": "MDEwOlJlcG9zaXRvcnk0NTcxNzI1MA==", "name": "tensorflow", "full_name": "tensorflow/tensorflow", "private": false, "owner": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/tensorflow/tensorflow", "description": "An Open Source Machine Learning Framework for Everyone", "fork": false, "url": "https://api.github.com/repos/tensorflow/tensorflow", "forks_url": "https://api.github.com/repos/tensorflow/tensorflow/forks", "keys_url": "https://api.github.com/repos/tensorflow/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/tensorflow/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/tensorflow/tensorflow/teams", "hooks_url": "https://api.github.com/repos/tensorflow/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/events", "assignees_url": "https://api.github.com/repos/tensorflow/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/tensorflow/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/tensorflow/tensorflow/tags", "blobs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/tensorflow/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/tensorflow/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/tensorflow/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/tensorflow/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/tensorflow/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/tensorflow/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/tensorflow/tensorflow/subscription", "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/tensorflow/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/tensorflow/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/tensorflow/tensorflow/merges", "archive_url": "https://api.github.com/repos/tensorflow/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/tensorflow/tensorflow/downloads", "issues_url": "https://api.github.com/repos/tensorflow/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/tensorflow/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/tensorflow/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/tensorflow/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/tensorflow/tensorflow/deployments", "created_at": "2015-11-07T01:19:20Z", "updated_at": "2018-11-24T22:13:04Z", "pushed_at": "2018-11-24T18:40:19Z", "git_url": "git://github.com/tensorflow/tensorflow.git", "ssh_url": "git@github.com:tensorflow/tensorflow.git", "clone_url": "https://github.com/tensorflow/tensorflow.git", "svn_url": "https://github.com/tensorflow/tensorflow", "homepage": "https://tensorflow.org", "size": 284546, "stargazers_count": 115176, "watchers_count": 115176, "language": "C++", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 69946, "mirror_url": null, "archived": false, "open_issues_count": 1760, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 69946, "open_issues": 1760, "watchers": 115176, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/1719"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/1719"}, "issue": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/1719"}, "comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/1719/comments"}, "review_comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/1719/comments"}, "review_comment": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/1719/commits"}, "statuses": {"href": "https://api.github.com/repos/tensorflow/tensorflow/statuses/69dee7a038420e244079690b4135eea3687ed9d0"}}, "author_association": "CONTRIBUTOR", "body_html": "<p>Reduce test scenarios for CPU-only tests by checking for whether<br>\ncuda has been enabled in the binary to avoid running CPU tests twice.</p>\n<p>Also avoids testing the cross product of broadcasting shapes, dtypes,<br>\nand functions in the bcast code.  Instead, we only test broadcasting<br>\nof all the various shapes for exactly one datatype and function (add),<br>\nwhich should test the broadcasting behavior (which should not be function<br>\nor type specific), and then testing only the cross product of<br>\ndatatypes and functions with one shape.  Reduces cwise_ops_test<br>\nin non-opt mode from 100 seconds to 20.</p>\n<p>Also reduce the number of timesteps in one of the rnn_test tests<br>\nfrom 8 to 3 (enough to check the recurrency).  The changes reduce<br>\nthe runtime from 65 seconds to 19, and there are probably other<br>\nchanges that can be made to the test to reduce it further.</p>", "body_text": "Reduce test scenarios for CPU-only tests by checking for whether\ncuda has been enabled in the binary to avoid running CPU tests twice.\nAlso avoids testing the cross product of broadcasting shapes, dtypes,\nand functions in the bcast code.  Instead, we only test broadcasting\nof all the various shapes for exactly one datatype and function (add),\nwhich should test the broadcasting behavior (which should not be function\nor type specific), and then testing only the cross product of\ndatatypes and functions with one shape.  Reduces cwise_ops_test\nin non-opt mode from 100 seconds to 20.\nAlso reduce the number of timesteps in one of the rnn_test tests\nfrom 8 to 3 (enough to check the recurrency).  The changes reduce\nthe runtime from 65 seconds to 19, and there are probably other\nchanges that can be made to the test to reduce it further.", "merged": false, "mergeable": false, "rebaseable": false, "mergeable_state": "dirty", "merged_by": null, "comments": 7, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 90, "deletions": 239, "changed_files": 4}