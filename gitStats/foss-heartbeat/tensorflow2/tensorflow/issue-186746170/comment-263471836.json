{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/263471836", "html_url": "https://github.com/tensorflow/tensorflow/issues/5349#issuecomment-263471836", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5349", "id": 263471836, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzQ3MTgzNg==", "user": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-29T04:15:49Z", "updated_at": "2016-11-29T04:15:49Z", "author_association": "MEMBER", "body_html": "<p>I wish it were that simple <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192829\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/llhe\">@llhe</a>. The problem with building it that way inside a genrule is that Bazel wouldn't be building it anymore. It would be delegating the build to autotools, m4, make, libtool and friends. That may or may not work depending on how the system is configured. So we usually end up writing our own build code for these things, e.g. <a href=\"https://github.com/tensorflow/tensorflow/blob/master/third_party/jpeg.BUILD\">jpeg.BUILD</a>, with tightly controlled versioning and configuration. That way builds should be guaranteed to work on the systems we support, so long as Bazel works, and the only tool/library the user needs to worry about installing is Bazel.</p>", "body_text": "I wish it were that simple @llhe. The problem with building it that way inside a genrule is that Bazel wouldn't be building it anymore. It would be delegating the build to autotools, m4, make, libtool and friends. That may or may not work depending on how the system is configured. So we usually end up writing our own build code for these things, e.g. jpeg.BUILD, with tightly controlled versioning and configuration. That way builds should be guaranteed to work on the systems we support, so long as Bazel works, and the only tool/library the user needs to worry about installing is Bazel.", "body": "I wish it were that simple @llhe. The problem with building it that way inside a genrule is that Bazel wouldn't be building it anymore. It would be delegating the build to autotools, m4, make, libtool and friends. That may or may not work depending on how the system is configured. So we usually end up writing our own build code for these things, e.g. [jpeg.BUILD](https://github.com/tensorflow/tensorflow/blob/master/third_party/jpeg.BUILD), with tightly controlled versioning and configuration. That way builds should be guaranteed to work on the systems we support, so long as Bazel works, and the only tool/library the user needs to worry about installing is Bazel."}