{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21031", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21031/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21031/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21031/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/21031", "id": 343398997, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAzMDUyODE1", "number": 21031, "title": "cmake: add systemlib_GRPC option.", "user": {"login": "cdluminate", "id": 5723047, "node_id": "MDQ6VXNlcjU3MjMwNDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5723047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdluminate", "html_url": "https://github.com/cdluminate", "followers_url": "https://api.github.com/users/cdluminate/followers", "following_url": "https://api.github.com/users/cdluminate/following{/other_user}", "gists_url": "https://api.github.com/users/cdluminate/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdluminate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdluminate/subscriptions", "organizations_url": "https://api.github.com/users/cdluminate/orgs", "repos_url": "https://api.github.com/users/cdluminate/repos", "events_url": "https://api.github.com/users/cdluminate/events{/privacy}", "received_events_url": "https://api.github.com/users/cdluminate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 969831806, "node_id": "MDU6TGFiZWw5Njk4MzE4MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/WIP", "name": "WIP", "color": "f4c77f", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2018-07-22T11:37:12Z", "updated_at": "2018-09-17T19:41:29Z", "closed_at": "2018-09-17T19:41:29Z", "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21031", "html_url": "https://github.com/tensorflow/tensorflow/pull/21031", "diff_url": "https://github.com/tensorflow/tensorflow/pull/21031.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/21031.patch"}, "body_html": "<p>This is still a work in progress, don't merge.</p>\n<p>I'm trying to add a cmake option to build against <code>libgrpc++-dev</code> package provided by system, and the final goal of this PR is <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"125463134\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/720\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/720/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/720\">#720</a> . However I'm not sure whether it is working since it fails to build.</p>\n<p>The build failure looks like this:</p>\n<pre><code>In file included from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:105:19: error: 'RpcMethod' in namespace 'grpc' does not name a type\n     const ::grpc::RpcMethod rpcmethod_SendEvents_;\n                   ^~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:106:19: error: 'RpcMethod' in namespace 'grpc' does not name a type\n     const ::grpc::RpcMethod rpcmethod_SendTracebacks_;\n                   ^~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:107:19: error: 'RpcMethod' in namespace 'grpc' does not name a type\n     const ::grpc::RpcMethod rpcmethod_SendSourceFiles_;\n                   ^~~~~~~~~\n[ 15%] Building CXX object CMakeFiles/tf_protos_cc.dir/tensorflow/core/protobuf/saver.pb.cc.o\n[ 15%] Building CXX object CMakeFiles/tf_protos_cc.dir/tensorflow/core/protobuf/tensor_bundle.pb.cc.o\nIn file included from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h: In constructor 'tensorflow::EventListener::WithStreamedUnaryMethod_SendTracebacks&lt;BaseClass&gt;::WithStreamedUnaryMethod_SendTracebacks()':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:247:21: error: 'StreamedUnaryHandler' in namespace 'grpc' does not name a template type\n         new ::grpc::StreamedUnaryHandler&lt; ::tensorflow::CallTraceback, ::tensorflow::EventReply&gt;(std::bind(&amp;WithStreamedUnaryMethod_SendTracebacks&lt;BaseClass&gt;::StreamedSendTracebacks, this, std::placeholders::_1, std::placeholders::_2)));\n                     ^~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:247:70: error: expected primary-expression before ',' token\n         new ::grpc::StreamedUnaryHandler&lt; ::tensorflow::CallTraceback, ::tensorflow::EventReply&gt;(std::bind(&amp;WithStreamedUnaryMethod_SendTracebacks&lt;BaseClass&gt;::StreamedSendTracebacks, this, std::placeholders::_1, std::placeholders::_2)));\n                                                                      ^\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:247:96: error: expected primary-expression before '&gt;' token\n         new ::grpc::StreamedUnaryHandler&lt; ::tensorflow::CallTraceback, ::tensorflow::EventReply&gt;(std::bind(&amp;WithStreamedUnaryMethod_SendTracebacks&lt;BaseClass&gt;::StreamedSendTracebacks, this, std::placeholders::_1, std::placeholders::_2)));\n                                                                                                ^\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h: In constructor 'tensorflow::EventListener::WithStreamedUnaryMethod_SendSourceFiles&lt;BaseClass&gt;::WithStreamedUnaryMethod_SendSourceFiles()':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:267:21: error: 'StreamedUnaryHandler' in namespace 'grpc' does not name a template type\n         new ::grpc::StreamedUnaryHandler&lt; ::tensorflow::DebuggedSourceFiles, ::tensorflow::EventReply&gt;(std::bind(&amp;WithStreamedUnaryMethod_SendSourceFiles&lt;BaseClass&gt;::StreamedSendSourceFiles, this, std::placeholders::_1, std::placeholders::_2)));\n                     ^~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:267:76: error: expected primary-expression before ',' token\n         new ::grpc::StreamedUnaryHandler&lt; ::tensorflow::DebuggedSourceFiles, ::tensorflow::EventReply&gt;(std::bind(&amp;WithStreamedUnaryMethod_SendSourceFiles&lt;BaseClass&gt;::StreamedSendSourceFiles, this, std::placeholders::_1, std::placeholders::_2)));\n                                                                            ^\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:267:102: error: expected primary-expression before '&gt;' token\n         new ::grpc::StreamedUnaryHandler&lt; ::tensorflow::DebuggedSourceFiles, ::tensorflow::EventReply&gt;(std::bind(&amp;WithStreamedUnaryMethod_SendSourceFiles&lt;BaseClass&gt;::StreamedSendSourceFiles, this, std::placeholders::_1, std::placeholders::_2)));\n                                                                                                      ^\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In constructor 'tensorflow::EventListener::Stub::Stub(const std::shared_ptr&lt;grpc::ChannelInterface&gt;&amp;)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:30:24: error: class 'tensorflow::EventListener::Stub' does not have any field named 'rpcmethod_SendEvents_'\n   : channel_(channel), rpcmethod_SendEvents_(EventListener_method_names[0], ::grpc::RpcMethod::BIDI_STREAMING, channel)\n                        ^~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:30:85: error: 'grpc::RpcMethod' has not been declared\n   : channel_(channel), rpcmethod_SendEvents_(EventListener_method_names[0], ::grpc::RpcMethod::BIDI_STREAMING, channel)\n                                                                                     ^~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:31:5: error: class 'tensorflow::EventListener::Stub' does not have any field named 'rpcmethod_SendTracebacks_'\n   , rpcmethod_SendTracebacks_(EventListener_method_names[1], ::grpc::RpcMethod::NORMAL_RPC, channel)\n     ^~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:31:70: error: 'grpc::RpcMethod' has not been declared\n   , rpcmethod_SendTracebacks_(EventListener_method_names[1], ::grpc::RpcMethod::NORMAL_RPC, channel)\n                                                                      ^~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:32:5: error: class 'tensorflow::EventListener::Stub' does not have any field named 'rpcmethod_SendSourceFiles_'\n   , rpcmethod_SendSourceFiles_(EventListener_method_names[2], ::grpc::RpcMethod::NORMAL_RPC, channel)\n     ^~~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:32:71: error: 'grpc::RpcMethod' has not been declared\n   , rpcmethod_SendSourceFiles_(EventListener_method_names[2], ::grpc::RpcMethod::NORMAL_RPC, channel)\n                                                                       ^~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientReaderWriter&lt;tensorflow::Event, tensorflow::EventReply&gt;* tensorflow::EventListener::Stub::SendEventsRaw(grpc::ClientContext*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:36:105: error: 'rpcmethod_SendEvents_' was not declared in this scope\n   return new ::grpc::ClientReaderWriter&lt; ::tensorflow::Event, ::tensorflow::EventReply&gt;(channel_.get(), rpcmethod_SendEvents_, context);\n                                                                                                         ^~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:36:105: note: suggested alternative: 'WithAsyncMethod_SendEvents'\n   return new ::grpc::ClientReaderWriter&lt; ::tensorflow::Event, ::tensorflow::EventReply&gt;(channel_.get(), rpcmethod_SendEvents_, context);\n                                                                                                         ^~~~~~~~~~~~~~~~~~~~~\n                                                                                                         WithAsyncMethod_SendEvents\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientAsyncReaderWriter&lt;tensorflow::Event, tensorflow::EventReply&gt;* tensorflow::EventListener::Stub::AsyncSendEventsRaw(grpc::ClientContext*, grpc::CompletionQueue*, void*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:40:114: error: 'rpcmethod_SendEvents_' was not declared in this scope\n   return new ::grpc::ClientAsyncReaderWriter&lt; ::tensorflow::Event, ::tensorflow::EventReply&gt;(channel_.get(), cq, rpcmethod_SendEvents_, context, tag);\n                                                                                                                  ^~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:40:114: note: suggested alternative: 'WithAsyncMethod_SendEvents'\n   return new ::grpc::ClientAsyncReaderWriter&lt; ::tensorflow::Event, ::tensorflow::EventReply&gt;(channel_.get(), cq, rpcmethod_SendEvents_, context, tag);\n                                                                                                                  ^~~~~~~~~~~~~~~~~~~~~\n                                                                                                                  WithAsyncMethod_SendEvents\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::Status tensorflow::EventListener::Stub::SendTracebacks(grpc::ClientContext*, const tensorflow::CallTraceback&amp;, tensorflow::EventReply*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:18: error: 'BlockingUnaryCall' is not a member of 'grpc'\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendTracebacks_, context, request, response);\n                  ^~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:18: note: suggested alternative:\nIn file included from /usr/include/grpc++/impl/codegen/client_unary_call.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:11:\n/usr/include/grpcpp/impl/codegen/client_unary_call.h:38:8: note:   'grpc::internal::BlockingUnaryCall'\n Status BlockingUnaryCall(ChannelInterface* channel, const RpcMethod&amp; method,\n        ^~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:52: error: 'rpcmethod_SendTracebacks_' was not declared in this scope\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendTracebacks_, context, request, response);\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:52: note: suggested alternative: 'WithAsyncMethod_SendTracebacks'\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendTracebacks_, context, request, response);\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~\n                                                    WithAsyncMethod_SendTracebacks\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientAsyncResponseReader&lt;tensorflow::EventReply&gt;* tensorflow::EventListener::Stub::AsyncSendTracebacksRaw(grpc::ClientContext*, const tensorflow::CallTraceback&amp;, grpc::CompletionQueue*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:48:95: error: 'rpcmethod_SendTracebacks_' was not declared in this scope\n   return new ::grpc::ClientAsyncResponseReader&lt; ::tensorflow::EventReply&gt;(channel_.get(), cq, rpcmethod_SendTracebacks_, context, request);\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:48:95: note: suggested alternative: 'WithAsyncMethod_SendTracebacks'\n   return new ::grpc::ClientAsyncResponseReader&lt; ::tensorflow::EventReply&gt;(channel_.get(), cq, rpcmethod_SendTracebacks_, context, request);\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~\n                                                                                               WithAsyncMethod_SendTracebacks\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:48:138: error: 'static void* grpc::ClientAsyncResponseReader&lt;R&gt;::operator new(std::size_t) [with R = tensorflow::EventReply; std::size_t = long unsigned int]' is private within this context\n   return new ::grpc::ClientAsyncResponseReader&lt; ::tensorflow::EventReply&gt;(channel_.get(), cq, rpcmethod_SendTracebacks_, context, request);\n                                                                                                                                          ^\nIn file included from /usr/include/grpc++/impl/codegen/async_unary_call.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\n/usr/include/grpcpp/impl/codegen/async_unary_call.h:182:16: note: declared private here\n   static void* operator new(std::size_t size);\n                ^~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::Status tensorflow::EventListener::Stub::SendSourceFiles(grpc::ClientContext*, const tensorflow::DebuggedSourceFiles&amp;, tensorflow::EventReply*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:18: error: 'BlockingUnaryCall' is not a member of 'grpc'\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendSourceFiles_, context, request, response);\n                  ^~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:18: note: suggested alternative:\nIn file included from /usr/include/grpc++/impl/codegen/client_unary_call.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:11:\n/usr/include/grpcpp/impl/codegen/client_unary_call.h:38:8: note:   'grpc::internal::BlockingUnaryCall'\n Status BlockingUnaryCall(ChannelInterface* channel, const RpcMethod&amp; method,\n        ^~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:52: error: 'rpcmethod_SendSourceFiles_' was not declared in this scope\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendSourceFiles_, context, request, response);\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:52: note: suggested alternative: 'WithAsyncMethod_SendSourceFiles'\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendSourceFiles_, context, request, response);\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~\n                                                    WithAsyncMethod_SendSourceFiles\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientAsyncResponseReader&lt;tensorflow::EventReply&gt;* tensorflow::EventListener::Stub::AsyncSendSourceFilesRaw(grpc::ClientContext*, const tensorflow::DebuggedSourceFiles&amp;, grpc::CompletionQueue*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:56:95: error: 'rpcmethod_SendSourceFiles_' was not declared in this scope\n   return new ::grpc::ClientAsyncResponseReader&lt; ::tensorflow::EventReply&gt;(channel_.get(), cq, rpcmethod_SendSourceFiles_, context, request);\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:56:95: note: suggested alternative: 'WithAsyncMethod_SendSourceFiles'\n   return new ::grpc::ClientAsyncResponseReader&lt; ::tensorflow::EventReply&gt;(channel_.get(), cq, rpcmethod_SendSourceFiles_, context, request);\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~\n                                                                                               WithAsyncMethod_SendSourceFiles\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:56:139: error: 'static void* grpc::ClientAsyncResponseReader&lt;R&gt;::operator new(std::size_t) [with R = tensorflow::EventReply; std::size_t = long unsigned int]' is private within this context\n   return new ::grpc::ClientAsyncResponseReader&lt; ::tensorflow::EventReply&gt;(channel_.get(), cq, rpcmethod_SendSourceFiles_, context, request);\n                                                                                                                                           ^\nIn file included from /usr/include/grpc++/impl/codegen/async_unary_call.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\n/usr/include/grpcpp/impl/codegen/async_unary_call.h:182:16: note: declared private here\n   static void* operator new(std::size_t size);\n                ^~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In constructor 'tensorflow::EventListener::Service::Service()':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:60:17: error: expected type-specifier before '::' token\n   AddMethod(new ::grpc::RpcServiceMethod(\n                 ^~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:65:17: error: expected type-specifier before '::' token\n   AddMethod(new ::grpc::RpcServiceMethod(\n                 ^~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:70:17: error: expected type-specifier before '::' token\n   AddMethod(new ::grpc::RpcServiceMethod(\n                 ^~\n</code></pre>\n<p>Building with <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/88e560d6fadc1cf23519b00a9de5ed7c973536fd/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/88e560d6fadc1cf23519b00a9de5ed7c973536fd\"><tt>88e560d</tt></a> on Debian unstable, libgrpc++-dev version is <code>1.13.0-1</code></p>\n<p>flags:</p>\n<pre><code>cmake .. -DCMAKE_BUILD_TYPE=Release \\\n\t\t\t -Dtensorflow_VERBOSE=OFF \\\n\t\t\t -Dtensorflow_ENABLE_SSL_SUPPORT=ON \\\n\t\t\t -Dtensorflow_ENABLE_GRPC_SUPPORT=ON \\\n\t\t\t -Dtensorflow_ENABLE_HDFS_SUPPORT=OFF \\\n\t\t\t -Dtensorflow_ENABLE_JEMALLOC_SUPPORT=OFF \\\n\t\t\t -Dtensorflow_BUILD_CC_EXAMPLE=ON \\\n\t\t\t -Dtensorflow_BUILD_PYTHON_BINDINGS=OFF \\\n\t\t\t -Dtensorflow_BUILD_ALL_KERNELS=ON \\\n\t\t\t -Dtensorflow_BUILD_CONTRIB_KERNELS=ON \\\n\t\t\t -Dtensorflow_BUILD_CC_TESTS=OFF \\\n\t\t\t -Dtensorflow_BUILD_PYTHON_TESTS=OFF \\\n\t\t\t -Dtensorflow_BUILD_MORE_PYTHON_TESTS=OFF \\\n\t\t\t -Dtensorflow_BUILD_SHARED_LIB=ON \\\n\t\t\t -Dtensorflow_OPTIMIZE_FOR_NATIVE_ARCH=OFF \\\n\t\t\t -Dtensorflow_ENABLE_SNAPPY_SUPPORT=ON \\\n\t\t\t -Dtensorflow_DISABLE_EIGEN_FORCEINLINE=OFF \\\n\t\t\t -Dtensorflow_WIN_CPU_SIMD_OPTIONS=OFF \\\n\t\t\t -Dtensorflow_ENABLE_MKL_SUPPORT=OFF \\\n\t\t\t -Dtensorflow_ENABLE_MKLDNN_SUPPORT=OFF \\\n\t\t\t -Dtensorflow_ENABLE_GPU=OFF \\\n\t\t\t -Dtensorflow_ENABLE_POSITION_INDEPENDENT_CODE=ON \\\n\t\t\t -Dsystemlib_ZLIB=ON \\\n\t\t\t -Dsystemlib_GRPC=ON \\\n\t\t\t -DPYTHON_EXECUTABLE=/usr/bin/python3\n</code></pre>", "body_text": "This is still a work in progress, don't merge.\nI'm trying to add a cmake option to build against libgrpc++-dev package provided by system, and the final goal of this PR is #720 . However I'm not sure whether it is working since it fails to build.\nThe build failure looks like this:\nIn file included from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:105:19: error: 'RpcMethod' in namespace 'grpc' does not name a type\n     const ::grpc::RpcMethod rpcmethod_SendEvents_;\n                   ^~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:106:19: error: 'RpcMethod' in namespace 'grpc' does not name a type\n     const ::grpc::RpcMethod rpcmethod_SendTracebacks_;\n                   ^~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:107:19: error: 'RpcMethod' in namespace 'grpc' does not name a type\n     const ::grpc::RpcMethod rpcmethod_SendSourceFiles_;\n                   ^~~~~~~~~\n[ 15%] Building CXX object CMakeFiles/tf_protos_cc.dir/tensorflow/core/protobuf/saver.pb.cc.o\n[ 15%] Building CXX object CMakeFiles/tf_protos_cc.dir/tensorflow/core/protobuf/tensor_bundle.pb.cc.o\nIn file included from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h: In constructor 'tensorflow::EventListener::WithStreamedUnaryMethod_SendTracebacks<BaseClass>::WithStreamedUnaryMethod_SendTracebacks()':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:247:21: error: 'StreamedUnaryHandler' in namespace 'grpc' does not name a template type\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::CallTraceback, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendTracebacks<BaseClass>::StreamedSendTracebacks, this, std::placeholders::_1, std::placeholders::_2)));\n                     ^~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:247:70: error: expected primary-expression before ',' token\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::CallTraceback, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendTracebacks<BaseClass>::StreamedSendTracebacks, this, std::placeholders::_1, std::placeholders::_2)));\n                                                                      ^\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:247:96: error: expected primary-expression before '>' token\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::CallTraceback, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendTracebacks<BaseClass>::StreamedSendTracebacks, this, std::placeholders::_1, std::placeholders::_2)));\n                                                                                                ^\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h: In constructor 'tensorflow::EventListener::WithStreamedUnaryMethod_SendSourceFiles<BaseClass>::WithStreamedUnaryMethod_SendSourceFiles()':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:267:21: error: 'StreamedUnaryHandler' in namespace 'grpc' does not name a template type\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::DebuggedSourceFiles, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendSourceFiles<BaseClass>::StreamedSendSourceFiles, this, std::placeholders::_1, std::placeholders::_2)));\n                     ^~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:267:76: error: expected primary-expression before ',' token\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::DebuggedSourceFiles, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendSourceFiles<BaseClass>::StreamedSendSourceFiles, this, std::placeholders::_1, std::placeholders::_2)));\n                                                                            ^\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:267:102: error: expected primary-expression before '>' token\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::DebuggedSourceFiles, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendSourceFiles<BaseClass>::StreamedSendSourceFiles, this, std::placeholders::_1, std::placeholders::_2)));\n                                                                                                      ^\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In constructor 'tensorflow::EventListener::Stub::Stub(const std::shared_ptr<grpc::ChannelInterface>&)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:30:24: error: class 'tensorflow::EventListener::Stub' does not have any field named 'rpcmethod_SendEvents_'\n   : channel_(channel), rpcmethod_SendEvents_(EventListener_method_names[0], ::grpc::RpcMethod::BIDI_STREAMING, channel)\n                        ^~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:30:85: error: 'grpc::RpcMethod' has not been declared\n   : channel_(channel), rpcmethod_SendEvents_(EventListener_method_names[0], ::grpc::RpcMethod::BIDI_STREAMING, channel)\n                                                                                     ^~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:31:5: error: class 'tensorflow::EventListener::Stub' does not have any field named 'rpcmethod_SendTracebacks_'\n   , rpcmethod_SendTracebacks_(EventListener_method_names[1], ::grpc::RpcMethod::NORMAL_RPC, channel)\n     ^~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:31:70: error: 'grpc::RpcMethod' has not been declared\n   , rpcmethod_SendTracebacks_(EventListener_method_names[1], ::grpc::RpcMethod::NORMAL_RPC, channel)\n                                                                      ^~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:32:5: error: class 'tensorflow::EventListener::Stub' does not have any field named 'rpcmethod_SendSourceFiles_'\n   , rpcmethod_SendSourceFiles_(EventListener_method_names[2], ::grpc::RpcMethod::NORMAL_RPC, channel)\n     ^~~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:32:71: error: 'grpc::RpcMethod' has not been declared\n   , rpcmethod_SendSourceFiles_(EventListener_method_names[2], ::grpc::RpcMethod::NORMAL_RPC, channel)\n                                                                       ^~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientReaderWriter<tensorflow::Event, tensorflow::EventReply>* tensorflow::EventListener::Stub::SendEventsRaw(grpc::ClientContext*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:36:105: error: 'rpcmethod_SendEvents_' was not declared in this scope\n   return new ::grpc::ClientReaderWriter< ::tensorflow::Event, ::tensorflow::EventReply>(channel_.get(), rpcmethod_SendEvents_, context);\n                                                                                                         ^~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:36:105: note: suggested alternative: 'WithAsyncMethod_SendEvents'\n   return new ::grpc::ClientReaderWriter< ::tensorflow::Event, ::tensorflow::EventReply>(channel_.get(), rpcmethod_SendEvents_, context);\n                                                                                                         ^~~~~~~~~~~~~~~~~~~~~\n                                                                                                         WithAsyncMethod_SendEvents\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientAsyncReaderWriter<tensorflow::Event, tensorflow::EventReply>* tensorflow::EventListener::Stub::AsyncSendEventsRaw(grpc::ClientContext*, grpc::CompletionQueue*, void*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:40:114: error: 'rpcmethod_SendEvents_' was not declared in this scope\n   return new ::grpc::ClientAsyncReaderWriter< ::tensorflow::Event, ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendEvents_, context, tag);\n                                                                                                                  ^~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:40:114: note: suggested alternative: 'WithAsyncMethod_SendEvents'\n   return new ::grpc::ClientAsyncReaderWriter< ::tensorflow::Event, ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendEvents_, context, tag);\n                                                                                                                  ^~~~~~~~~~~~~~~~~~~~~\n                                                                                                                  WithAsyncMethod_SendEvents\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::Status tensorflow::EventListener::Stub::SendTracebacks(grpc::ClientContext*, const tensorflow::CallTraceback&, tensorflow::EventReply*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:18: error: 'BlockingUnaryCall' is not a member of 'grpc'\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendTracebacks_, context, request, response);\n                  ^~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:18: note: suggested alternative:\nIn file included from /usr/include/grpc++/impl/codegen/client_unary_call.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:11:\n/usr/include/grpcpp/impl/codegen/client_unary_call.h:38:8: note:   'grpc::internal::BlockingUnaryCall'\n Status BlockingUnaryCall(ChannelInterface* channel, const RpcMethod& method,\n        ^~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:52: error: 'rpcmethod_SendTracebacks_' was not declared in this scope\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendTracebacks_, context, request, response);\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:52: note: suggested alternative: 'WithAsyncMethod_SendTracebacks'\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendTracebacks_, context, request, response);\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~\n                                                    WithAsyncMethod_SendTracebacks\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientAsyncResponseReader<tensorflow::EventReply>* tensorflow::EventListener::Stub::AsyncSendTracebacksRaw(grpc::ClientContext*, const tensorflow::CallTraceback&, grpc::CompletionQueue*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:48:95: error: 'rpcmethod_SendTracebacks_' was not declared in this scope\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendTracebacks_, context, request);\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:48:95: note: suggested alternative: 'WithAsyncMethod_SendTracebacks'\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendTracebacks_, context, request);\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~\n                                                                                               WithAsyncMethod_SendTracebacks\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:48:138: error: 'static void* grpc::ClientAsyncResponseReader<R>::operator new(std::size_t) [with R = tensorflow::EventReply; std::size_t = long unsigned int]' is private within this context\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendTracebacks_, context, request);\n                                                                                                                                          ^\nIn file included from /usr/include/grpc++/impl/codegen/async_unary_call.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\n/usr/include/grpcpp/impl/codegen/async_unary_call.h:182:16: note: declared private here\n   static void* operator new(std::size_t size);\n                ^~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::Status tensorflow::EventListener::Stub::SendSourceFiles(grpc::ClientContext*, const tensorflow::DebuggedSourceFiles&, tensorflow::EventReply*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:18: error: 'BlockingUnaryCall' is not a member of 'grpc'\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendSourceFiles_, context, request, response);\n                  ^~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:18: note: suggested alternative:\nIn file included from /usr/include/grpc++/impl/codegen/client_unary_call.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:11:\n/usr/include/grpcpp/impl/codegen/client_unary_call.h:38:8: note:   'grpc::internal::BlockingUnaryCall'\n Status BlockingUnaryCall(ChannelInterface* channel, const RpcMethod& method,\n        ^~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:52: error: 'rpcmethod_SendSourceFiles_' was not declared in this scope\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendSourceFiles_, context, request, response);\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:52: note: suggested alternative: 'WithAsyncMethod_SendSourceFiles'\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendSourceFiles_, context, request, response);\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~\n                                                    WithAsyncMethod_SendSourceFiles\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientAsyncResponseReader<tensorflow::EventReply>* tensorflow::EventListener::Stub::AsyncSendSourceFilesRaw(grpc::ClientContext*, const tensorflow::DebuggedSourceFiles&, grpc::CompletionQueue*)':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:56:95: error: 'rpcmethod_SendSourceFiles_' was not declared in this scope\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendSourceFiles_, context, request);\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:56:95: note: suggested alternative: 'WithAsyncMethod_SendSourceFiles'\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendSourceFiles_, context, request);\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~\n                                                                                               WithAsyncMethod_SendSourceFiles\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:56:139: error: 'static void* grpc::ClientAsyncResponseReader<R>::operator new(std::size_t) [with R = tensorflow::EventReply; std::size_t = long unsigned int]' is private within this context\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendSourceFiles_, context, request);\n                                                                                                                                           ^\nIn file included from /usr/include/grpc++/impl/codegen/async_unary_call.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:26,\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\n/usr/include/grpcpp/impl/codegen/async_unary_call.h:182:16: note: declared private here\n   static void* operator new(std::size_t size);\n                ^~~~~~~~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In constructor 'tensorflow::EventListener::Service::Service()':\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:60:17: error: expected type-specifier before '::' token\n   AddMethod(new ::grpc::RpcServiceMethod(\n                 ^~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:65:17: error: expected type-specifier before '::' token\n   AddMethod(new ::grpc::RpcServiceMethod(\n                 ^~\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:70:17: error: expected type-specifier before '::' token\n   AddMethod(new ::grpc::RpcServiceMethod(\n                 ^~\n\nBuilding with 88e560d on Debian unstable, libgrpc++-dev version is 1.13.0-1\nflags:\ncmake .. -DCMAKE_BUILD_TYPE=Release \\\n\t\t\t -Dtensorflow_VERBOSE=OFF \\\n\t\t\t -Dtensorflow_ENABLE_SSL_SUPPORT=ON \\\n\t\t\t -Dtensorflow_ENABLE_GRPC_SUPPORT=ON \\\n\t\t\t -Dtensorflow_ENABLE_HDFS_SUPPORT=OFF \\\n\t\t\t -Dtensorflow_ENABLE_JEMALLOC_SUPPORT=OFF \\\n\t\t\t -Dtensorflow_BUILD_CC_EXAMPLE=ON \\\n\t\t\t -Dtensorflow_BUILD_PYTHON_BINDINGS=OFF \\\n\t\t\t -Dtensorflow_BUILD_ALL_KERNELS=ON \\\n\t\t\t -Dtensorflow_BUILD_CONTRIB_KERNELS=ON \\\n\t\t\t -Dtensorflow_BUILD_CC_TESTS=OFF \\\n\t\t\t -Dtensorflow_BUILD_PYTHON_TESTS=OFF \\\n\t\t\t -Dtensorflow_BUILD_MORE_PYTHON_TESTS=OFF \\\n\t\t\t -Dtensorflow_BUILD_SHARED_LIB=ON \\\n\t\t\t -Dtensorflow_OPTIMIZE_FOR_NATIVE_ARCH=OFF \\\n\t\t\t -Dtensorflow_ENABLE_SNAPPY_SUPPORT=ON \\\n\t\t\t -Dtensorflow_DISABLE_EIGEN_FORCEINLINE=OFF \\\n\t\t\t -Dtensorflow_WIN_CPU_SIMD_OPTIONS=OFF \\\n\t\t\t -Dtensorflow_ENABLE_MKL_SUPPORT=OFF \\\n\t\t\t -Dtensorflow_ENABLE_MKLDNN_SUPPORT=OFF \\\n\t\t\t -Dtensorflow_ENABLE_GPU=OFF \\\n\t\t\t -Dtensorflow_ENABLE_POSITION_INDEPENDENT_CODE=ON \\\n\t\t\t -Dsystemlib_ZLIB=ON \\\n\t\t\t -Dsystemlib_GRPC=ON \\\n\t\t\t -DPYTHON_EXECUTABLE=/usr/bin/python3", "body": "This is still a work in progress, don't merge.\r\n\r\nI'm trying to add a cmake option to build against `libgrpc++-dev` package provided by system, and the final goal of this PR is #720 . However I'm not sure whether it is working since it fails to build.\r\n\r\nThe build failure looks like this:\r\n```\r\nIn file included from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:105:19: error: 'RpcMethod' in namespace 'grpc' does not name a type\r\n     const ::grpc::RpcMethod rpcmethod_SendEvents_;\r\n                   ^~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:106:19: error: 'RpcMethod' in namespace 'grpc' does not name a type\r\n     const ::grpc::RpcMethod rpcmethod_SendTracebacks_;\r\n                   ^~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:107:19: error: 'RpcMethod' in namespace 'grpc' does not name a type\r\n     const ::grpc::RpcMethod rpcmethod_SendSourceFiles_;\r\n                   ^~~~~~~~~\r\n[ 15%] Building CXX object CMakeFiles/tf_protos_cc.dir/tensorflow/core/protobuf/saver.pb.cc.o\r\n[ 15%] Building CXX object CMakeFiles/tf_protos_cc.dir/tensorflow/core/protobuf/tensor_bundle.pb.cc.o\r\nIn file included from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h: In constructor 'tensorflow::EventListener::WithStreamedUnaryMethod_SendTracebacks<BaseClass>::WithStreamedUnaryMethod_SendTracebacks()':\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:247:21: error: 'StreamedUnaryHandler' in namespace 'grpc' does not name a template type\r\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::CallTraceback, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendTracebacks<BaseClass>::StreamedSendTracebacks, this, std::placeholders::_1, std::placeholders::_2)));\r\n                     ^~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:247:70: error: expected primary-expression before ',' token\r\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::CallTraceback, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendTracebacks<BaseClass>::StreamedSendTracebacks, this, std::placeholders::_1, std::placeholders::_2)));\r\n                                                                      ^\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:247:96: error: expected primary-expression before '>' token\r\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::CallTraceback, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendTracebacks<BaseClass>::StreamedSendTracebacks, this, std::placeholders::_1, std::placeholders::_2)));\r\n                                                                                                ^\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h: In constructor 'tensorflow::EventListener::WithStreamedUnaryMethod_SendSourceFiles<BaseClass>::WithStreamedUnaryMethod_SendSourceFiles()':\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:267:21: error: 'StreamedUnaryHandler' in namespace 'grpc' does not name a template type\r\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::DebuggedSourceFiles, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendSourceFiles<BaseClass>::StreamedSendSourceFiles, this, std::placeholders::_1, std::placeholders::_2)));\r\n                     ^~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:267:76: error: expected primary-expression before ',' token\r\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::DebuggedSourceFiles, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendSourceFiles<BaseClass>::StreamedSendSourceFiles, this, std::placeholders::_1, std::placeholders::_2)));\r\n                                                                            ^\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:267:102: error: expected primary-expression before '>' token\r\n         new ::grpc::StreamedUnaryHandler< ::tensorflow::DebuggedSourceFiles, ::tensorflow::EventReply>(std::bind(&WithStreamedUnaryMethod_SendSourceFiles<BaseClass>::StreamedSendSourceFiles, this, std::placeholders::_1, std::placeholders::_2)));\r\n                                                                                                      ^\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In constructor 'tensorflow::EventListener::Stub::Stub(const std::shared_ptr<grpc::ChannelInterface>&)':\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:30:24: error: class 'tensorflow::EventListener::Stub' does not have any field named 'rpcmethod_SendEvents_'\r\n   : channel_(channel), rpcmethod_SendEvents_(EventListener_method_names[0], ::grpc::RpcMethod::BIDI_STREAMING, channel)\r\n                        ^~~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:30:85: error: 'grpc::RpcMethod' has not been declared\r\n   : channel_(channel), rpcmethod_SendEvents_(EventListener_method_names[0], ::grpc::RpcMethod::BIDI_STREAMING, channel)\r\n                                                                                     ^~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:31:5: error: class 'tensorflow::EventListener::Stub' does not have any field named 'rpcmethod_SendTracebacks_'\r\n   , rpcmethod_SendTracebacks_(EventListener_method_names[1], ::grpc::RpcMethod::NORMAL_RPC, channel)\r\n     ^~~~~~~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:31:70: error: 'grpc::RpcMethod' has not been declared\r\n   , rpcmethod_SendTracebacks_(EventListener_method_names[1], ::grpc::RpcMethod::NORMAL_RPC, channel)\r\n                                                                      ^~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:32:5: error: class 'tensorflow::EventListener::Stub' does not have any field named 'rpcmethod_SendSourceFiles_'\r\n   , rpcmethod_SendSourceFiles_(EventListener_method_names[2], ::grpc::RpcMethod::NORMAL_RPC, channel)\r\n     ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:32:71: error: 'grpc::RpcMethod' has not been declared\r\n   , rpcmethod_SendSourceFiles_(EventListener_method_names[2], ::grpc::RpcMethod::NORMAL_RPC, channel)\r\n                                                                       ^~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientReaderWriter<tensorflow::Event, tensorflow::EventReply>* tensorflow::EventListener::Stub::SendEventsRaw(grpc::ClientContext*)':\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:36:105: error: 'rpcmethod_SendEvents_' was not declared in this scope\r\n   return new ::grpc::ClientReaderWriter< ::tensorflow::Event, ::tensorflow::EventReply>(channel_.get(), rpcmethod_SendEvents_, context);\r\n                                                                                                         ^~~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:36:105: note: suggested alternative: 'WithAsyncMethod_SendEvents'\r\n   return new ::grpc::ClientReaderWriter< ::tensorflow::Event, ::tensorflow::EventReply>(channel_.get(), rpcmethod_SendEvents_, context);\r\n                                                                                                         ^~~~~~~~~~~~~~~~~~~~~\r\n                                                                                                         WithAsyncMethod_SendEvents\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientAsyncReaderWriter<tensorflow::Event, tensorflow::EventReply>* tensorflow::EventListener::Stub::AsyncSendEventsRaw(grpc::ClientContext*, grpc::CompletionQueue*, void*)':\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:40:114: error: 'rpcmethod_SendEvents_' was not declared in this scope\r\n   return new ::grpc::ClientAsyncReaderWriter< ::tensorflow::Event, ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendEvents_, context, tag);\r\n                                                                                                                  ^~~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:40:114: note: suggested alternative: 'WithAsyncMethod_SendEvents'\r\n   return new ::grpc::ClientAsyncReaderWriter< ::tensorflow::Event, ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendEvents_, context, tag);\r\n                                                                                                                  ^~~~~~~~~~~~~~~~~~~~~\r\n                                                                                                                  WithAsyncMethod_SendEvents\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::Status tensorflow::EventListener::Stub::SendTracebacks(grpc::ClientContext*, const tensorflow::CallTraceback&, tensorflow::EventReply*)':\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:18: error: 'BlockingUnaryCall' is not a member of 'grpc'\r\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendTracebacks_, context, request, response);\r\n                  ^~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:18: note: suggested alternative:\r\nIn file included from /usr/include/grpc++/impl/codegen/client_unary_call.h:26,\r\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:11:\r\n/usr/include/grpcpp/impl/codegen/client_unary_call.h:38:8: note:   'grpc::internal::BlockingUnaryCall'\r\n Status BlockingUnaryCall(ChannelInterface* channel, const RpcMethod& method,\r\n        ^~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:52: error: 'rpcmethod_SendTracebacks_' was not declared in this scope\r\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendTracebacks_, context, request, response);\r\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:44:52: note: suggested alternative: 'WithAsyncMethod_SendTracebacks'\r\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendTracebacks_, context, request, response);\r\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~\r\n                                                    WithAsyncMethod_SendTracebacks\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientAsyncResponseReader<tensorflow::EventReply>* tensorflow::EventListener::Stub::AsyncSendTracebacksRaw(grpc::ClientContext*, const tensorflow::CallTraceback&, grpc::CompletionQueue*)':\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:48:95: error: 'rpcmethod_SendTracebacks_' was not declared in this scope\r\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendTracebacks_, context, request);\r\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:48:95: note: suggested alternative: 'WithAsyncMethod_SendTracebacks'\r\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendTracebacks_, context, request);\r\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~\r\n                                                                                               WithAsyncMethod_SendTracebacks\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:48:138: error: 'static void* grpc::ClientAsyncResponseReader<R>::operator new(std::size_t) [with R = tensorflow::EventReply; std::size_t = long unsigned int]' is private within this context\r\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendTracebacks_, context, request);\r\n                                                                                                                                          ^\r\nIn file included from /usr/include/grpc++/impl/codegen/async_unary_call.h:26,\r\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:26,\r\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\r\n/usr/include/grpcpp/impl/codegen/async_unary_call.h:182:16: note: declared private here\r\n   static void* operator new(std::size_t size);\r\n                ^~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::Status tensorflow::EventListener::Stub::SendSourceFiles(grpc::ClientContext*, const tensorflow::DebuggedSourceFiles&, tensorflow::EventReply*)':\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:18: error: 'BlockingUnaryCall' is not a member of 'grpc'\r\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendSourceFiles_, context, request, response);\r\n                  ^~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:18: note: suggested alternative:\r\nIn file included from /usr/include/grpc++/impl/codegen/client_unary_call.h:26,\r\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:11:\r\n/usr/include/grpcpp/impl/codegen/client_unary_call.h:38:8: note:   'grpc::internal::BlockingUnaryCall'\r\n Status BlockingUnaryCall(ChannelInterface* channel, const RpcMethod& method,\r\n        ^~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:52: error: 'rpcmethod_SendSourceFiles_' was not declared in this scope\r\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendSourceFiles_, context, request, response);\r\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:52:52: note: suggested alternative: 'WithAsyncMethod_SendSourceFiles'\r\n   return ::grpc::BlockingUnaryCall(channel_.get(), rpcmethod_SendSourceFiles_, context, request, response);\r\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n                                                    WithAsyncMethod_SendSourceFiles\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In member function 'virtual grpc::ClientAsyncResponseReader<tensorflow::EventReply>* tensorflow::EventListener::Stub::AsyncSendSourceFilesRaw(grpc::ClientContext*, const tensorflow::DebuggedSourceFiles&, grpc::CompletionQueue*)':\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:56:95: error: 'rpcmethod_SendSourceFiles_' was not declared in this scope\r\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendSourceFiles_, context, request);\r\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:56:95: note: suggested alternative: 'WithAsyncMethod_SendSourceFiles'\r\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendSourceFiles_, context, request);\r\n                                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n                                                                                               WithAsyncMethod_SendSourceFiles\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:56:139: error: 'static void* grpc::ClientAsyncResponseReader<R>::operator new(std::size_t) [with R = tensorflow::EventReply; std::size_t = long unsigned int]' is private within this context\r\n   return new ::grpc::ClientAsyncResponseReader< ::tensorflow::EventReply>(channel_.get(), cq, rpcmethod_SendSourceFiles_, context, request);\r\n                                                                                                                                           ^\r\nIn file included from /usr/include/grpc++/impl/codegen/async_unary_call.h:26,\r\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.h:26,\r\n                 from /dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:6:\r\n/usr/include/grpcpp/impl/codegen/async_unary_call.h:182:16: note: declared private here\r\n   static void* operator new(std::size_t size);\r\n                ^~~~~~~~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc: In constructor 'tensorflow::EventListener::Service::Service()':\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:60:17: error: expected type-specifier before '::' token\r\n   AddMethod(new ::grpc::RpcServiceMethod(\r\n                 ^~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:65:17: error: expected type-specifier before '::' token\r\n   AddMethod(new ::grpc::RpcServiceMethod(\r\n                 ^~\r\n/dev/shm/tensorflow.orig/tensorflow/contrib/cmake/build/tensorflow/core/debug/debug_service.grpc.pb.cc:70:17: error: expected type-specifier before '::' token\r\n   AddMethod(new ::grpc::RpcServiceMethod(\r\n                 ^~\r\n```\r\n\r\nBuilding with 88e560d6fadc1cf23519b00a9de5ed7c973536fd on Debian unstable, libgrpc++-dev version is `1.13.0-1`\r\n\r\nflags:\r\n```\r\ncmake .. -DCMAKE_BUILD_TYPE=Release \\\r\n\t\t\t -Dtensorflow_VERBOSE=OFF \\\r\n\t\t\t -Dtensorflow_ENABLE_SSL_SUPPORT=ON \\\r\n\t\t\t -Dtensorflow_ENABLE_GRPC_SUPPORT=ON \\\r\n\t\t\t -Dtensorflow_ENABLE_HDFS_SUPPORT=OFF \\\r\n\t\t\t -Dtensorflow_ENABLE_JEMALLOC_SUPPORT=OFF \\\r\n\t\t\t -Dtensorflow_BUILD_CC_EXAMPLE=ON \\\r\n\t\t\t -Dtensorflow_BUILD_PYTHON_BINDINGS=OFF \\\r\n\t\t\t -Dtensorflow_BUILD_ALL_KERNELS=ON \\\r\n\t\t\t -Dtensorflow_BUILD_CONTRIB_KERNELS=ON \\\r\n\t\t\t -Dtensorflow_BUILD_CC_TESTS=OFF \\\r\n\t\t\t -Dtensorflow_BUILD_PYTHON_TESTS=OFF \\\r\n\t\t\t -Dtensorflow_BUILD_MORE_PYTHON_TESTS=OFF \\\r\n\t\t\t -Dtensorflow_BUILD_SHARED_LIB=ON \\\r\n\t\t\t -Dtensorflow_OPTIMIZE_FOR_NATIVE_ARCH=OFF \\\r\n\t\t\t -Dtensorflow_ENABLE_SNAPPY_SUPPORT=ON \\\r\n\t\t\t -Dtensorflow_DISABLE_EIGEN_FORCEINLINE=OFF \\\r\n\t\t\t -Dtensorflow_WIN_CPU_SIMD_OPTIONS=OFF \\\r\n\t\t\t -Dtensorflow_ENABLE_MKL_SUPPORT=OFF \\\r\n\t\t\t -Dtensorflow_ENABLE_MKLDNN_SUPPORT=OFF \\\r\n\t\t\t -Dtensorflow_ENABLE_GPU=OFF \\\r\n\t\t\t -Dtensorflow_ENABLE_POSITION_INDEPENDENT_CODE=ON \\\r\n\t\t\t -Dsystemlib_ZLIB=ON \\\r\n\t\t\t -Dsystemlib_GRPC=ON \\\r\n\t\t\t -DPYTHON_EXECUTABLE=/usr/bin/python3\r\n```"}