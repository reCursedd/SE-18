{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/344154719", "html_url": "https://github.com/tensorflow/tensorflow/issues/13342#issuecomment-344154719", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13342", "id": 344154719, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDE1NDcxOQ==", "user": {"login": "gauss-clb", "id": 11674304, "node_id": "MDQ6VXNlcjExNjc0MzA0", "avatar_url": "https://avatars2.githubusercontent.com/u/11674304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gauss-clb", "html_url": "https://github.com/gauss-clb", "followers_url": "https://api.github.com/users/gauss-clb/followers", "following_url": "https://api.github.com/users/gauss-clb/following{/other_user}", "gists_url": "https://api.github.com/users/gauss-clb/gists{/gist_id}", "starred_url": "https://api.github.com/users/gauss-clb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gauss-clb/subscriptions", "organizations_url": "https://api.github.com/users/gauss-clb/orgs", "repos_url": "https://api.github.com/users/gauss-clb/repos", "events_url": "https://api.github.com/users/gauss-clb/events{/privacy}", "received_events_url": "https://api.github.com/users/gauss-clb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-14T05:58:02Z", "updated_at": "2017-11-14T06:10:35Z", "author_association": "NONE", "body_html": "<p>Don't put checkpoint file in <code>logdir</code>, so that the <code>saver</code> can't restore and  <code>init_fn</code> will work. So just put checkpoint file in another directory and pass to <code>tf.contrib.framework.assign_from_checkpoint_fn</code>.  I  read the source code and find the solution.</p>\n<p>Or you can use your own <code>saver</code> and pass <code>variables_to_restore</code> and make sure the checkpoint file is in your <code>logdir</code>. And you should first invoke <code>tf.global_variables_initializer()</code> to initialize other variables. Because in this case <code>slim</code> won't invoke <code>init_op</code>.</p>", "body_text": "Don't put checkpoint file in logdir, so that the saver can't restore and  init_fn will work. So just put checkpoint file in another directory and pass to tf.contrib.framework.assign_from_checkpoint_fn.  I  read the source code and find the solution.\nOr you can use your own saver and pass variables_to_restore and make sure the checkpoint file is in your logdir. And you should first invoke tf.global_variables_initializer() to initialize other variables. Because in this case slim won't invoke init_op.", "body": "Don't put checkpoint file in `logdir`, so that the `saver` can't restore and  `init_fn` will work. So just put checkpoint file in another directory and pass to `tf.contrib.framework.assign_from_checkpoint_fn`.  I  read the source code and find the solution.\r\n\r\nOr you can use your own `saver` and pass `variables_to_restore` and make sure the checkpoint file is in your `logdir`. And you should first invoke `tf.global_variables_initializer()` to initialize other variables. Because in this case `slim` won't invoke `init_op`."}