{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/429541676", "html_url": "https://github.com/tensorflow/tensorflow/issues/13342#issuecomment-429541676", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13342", "id": 429541676, "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTU0MTY3Ng==", "user": {"login": "u10116032", "id": 20497002, "node_id": "MDQ6VXNlcjIwNDk3MDAy", "avatar_url": "https://avatars3.githubusercontent.com/u/20497002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/u10116032", "html_url": "https://github.com/u10116032", "followers_url": "https://api.github.com/users/u10116032/followers", "following_url": "https://api.github.com/users/u10116032/following{/other_user}", "gists_url": "https://api.github.com/users/u10116032/gists{/gist_id}", "starred_url": "https://api.github.com/users/u10116032/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/u10116032/subscriptions", "organizations_url": "https://api.github.com/users/u10116032/orgs", "repos_url": "https://api.github.com/users/u10116032/repos", "events_url": "https://api.github.com/users/u10116032/events{/privacy}", "received_events_url": "https://api.github.com/users/u10116032/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-13T13:24:53Z", "updated_at": "2018-10-13T13:27:20Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2138952\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Amitayus\">@Amitayus</a> I reviewed your solution and it comes up with a question. In your first step, you tell saver which variables should be restored according to ckpt file, and  set local_init_op as tf.global_variables_initialier().</p>\n<p>From source code <a href=\"https://github.com/tensorflow/tensorflow/blob/c19e29306ce1777456b2dbb3a14f511edf7883a8/tensorflow/python/training/session_manager.py#L291\">session_manager.py</a>, it shows that local_init_op will run after whatever saver successfully restored or restoring variables in init_fn. I'm wondering that it may cause that the initialized variables will be re-initialized due to local_init_op(tf.global_variables_initializer()) and leads to the failure of restoration from ckpt file.</p>", "body_text": "@Amitayus I reviewed your solution and it comes up with a question. In your first step, you tell saver which variables should be restored according to ckpt file, and  set local_init_op as tf.global_variables_initialier().\nFrom source code session_manager.py, it shows that local_init_op will run after whatever saver successfully restored or restoring variables in init_fn. I'm wondering that it may cause that the initialized variables will be re-initialized due to local_init_op(tf.global_variables_initializer()) and leads to the failure of restoration from ckpt file.", "body": "@Amitayus I reviewed your solution and it comes up with a question. In your first step, you tell saver which variables should be restored according to ckpt file, and  set local_init_op as tf.global_variables_initialier().\r\n\r\nFrom source code [session_manager.py](https://github.com/tensorflow/tensorflow/blob/c19e29306ce1777456b2dbb3a14f511edf7883a8/tensorflow/python/training/session_manager.py#L291), it shows that local_init_op will run after whatever saver successfully restored or restoring variables in init_fn. I'm wondering that it may cause that the initialized variables will be re-initialized due to local_init_op(tf.global_variables_initializer()) and leads to the failure of restoration from ckpt file. "}