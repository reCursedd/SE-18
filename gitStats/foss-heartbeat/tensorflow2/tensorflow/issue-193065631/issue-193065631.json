{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6038", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6038/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6038/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6038/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/6038", "id": 193065631, "node_id": "MDExOlB1bGxSZXF1ZXN0OTYyNDMyODc=", "number": 6038, "title": "Fix issue #6036", "user": {"login": "ronrest", "id": 10935663, "node_id": "MDQ6VXNlcjEwOTM1NjYz", "avatar_url": "https://avatars3.githubusercontent.com/u/10935663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronrest", "html_url": "https://github.com/ronrest", "followers_url": "https://api.github.com/users/ronrest/followers", "following_url": "https://api.github.com/users/ronrest/following{/other_user}", "gists_url": "https://api.github.com/users/ronrest/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronrest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronrest/subscriptions", "organizations_url": "https://api.github.com/users/ronrest/orgs", "repos_url": "https://api.github.com/users/ronrest/repos", "events_url": "https://api.github.com/users/ronrest/events{/privacy}", "received_events_url": "https://api.github.com/users/ronrest/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-02T09:01:59Z", "updated_at": "2016-12-02T22:18:08Z", "closed_at": "2016-12-02T22:18:08Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6038", "html_url": "https://github.com/tensorflow/tensorflow/pull/6038", "diff_url": "https://github.com/tensorflow/tensorflow/pull/6038.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/6038.patch"}, "body_html": "<p>As per the issue raised <a href=\"https://github.com/tensorflow/tensorflow/issues/6036\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/6036/hovercard\">here</a>, changed the following code to the  <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/udacity/6_lstm.ipynb\"><strong>6_lstm.ipynb</strong></a> file.</p>\n<p><strong>FROM:</strong></p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">def</span> <span class=\"pl-en\">read_data</span>(<span class=\"pl-smi\">filename</span>):\n  f <span class=\"pl-k\">=</span> zipfile.ZipFile(filename)\n  <span class=\"pl-k\">for</span> name <span class=\"pl-k\">in</span> f.namelist():\n    <span class=\"pl-k\">return</span> tf.compat.as_str(f.read(name))\n  f.close()</pre></div>\n<p><strong>TO:</strong></p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">def</span> <span class=\"pl-en\">read_data</span>(<span class=\"pl-smi\">filename</span>):\n  <span class=\"pl-k\">with</span> zipfile.ZipFile(filename) <span class=\"pl-k\">as</span> f:\n    name <span class=\"pl-k\">=</span> f.namelist()[<span class=\"pl-c1\">0</span>]\n    data <span class=\"pl-k\">=</span> tf.compat.as_str(f.read(name))\n  <span class=\"pl-k\">return</span> data</pre></div>", "body_text": "As per the issue raised here, changed the following code to the  6_lstm.ipynb file.\nFROM:\ndef read_data(filename):\n  f = zipfile.ZipFile(filename)\n  for name in f.namelist():\n    return tf.compat.as_str(f.read(name))\n  f.close()\nTO:\ndef read_data(filename):\n  with zipfile.ZipFile(filename) as f:\n    name = f.namelist()[0]\n    data = tf.compat.as_str(f.read(name))\n  return data", "body": "As per the issue raised [here](https://github.com/tensorflow/tensorflow/issues/6036), changed the following code to the  [**6_lstm.ipynb**](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/udacity/6_lstm.ipynb) file.\r\n\r\n**FROM:**\r\n```python\r\ndef read_data(filename):\r\n  f = zipfile.ZipFile(filename)\r\n  for name in f.namelist():\r\n    return tf.compat.as_str(f.read(name))\r\n  f.close()\r\n```\r\n\r\n**TO:**\r\n\r\n```python\r\ndef read_data(filename):\r\n  with zipfile.ZipFile(filename) as f:\r\n    name = f.namelist()[0]\r\n    data = tf.compat.as_str(f.read(name))\r\n  return data\r\n```\r\n"}