{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/72355630", "pull_request_review_id": null, "id": 72355630, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcyMzU1NjMw", "diff_hunk": "@@ -25,9 +25,9 @@ namespace tensorflow {\n \n // Creates a Graph which applies a unary \"func\" on a 3D float tensor\n // of \"num\" elements.\n-static Graph* Unary(const string& func, int num) {\n+static Graph* Unary(const string& func, int num, DataType dtype) {\n   Graph* g = new Graph(OpRegistry::Global());\n-  Tensor data(DT_FLOAT, TensorShape({64, 64, num / (64 * 64)}));\n+  Tensor data(dtype, TensorShape({64, 64, num / (64 * 64)}));\n   CHECK_GT(data.NumElements(), 0);\n   data.flat<float>().setRandom();", "path": "tensorflow/core/kernels/cwise_ops_test.cc", "position": 10, "original_position": 10, "commit_id": "0082375ed3aa69b4dda406d12e6eb3d9bc4ad71e", "original_commit_id": "0082375ed3aa69b4dda406d12e6eb3d9bc4ad71e", "user": {"login": "rryan", "id": 26527, "node_id": "MDQ6VXNlcjI2NTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/26527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rryan", "html_url": "https://github.com/rryan", "followers_url": "https://api.github.com/users/rryan/followers", "following_url": "https://api.github.com/users/rryan/following{/other_user}", "gists_url": "https://api.github.com/users/rryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rryan/subscriptions", "organizations_url": "https://api.github.com/users/rryan/orgs", "repos_url": "https://api.github.com/users/rryan/repos", "events_url": "https://api.github.com/users/rryan/events{/privacy}", "received_events_url": "https://api.github.com/users/rryan/received_events", "type": "User", "site_admin": false}, "body": "Hm this actually crashes at runtime if you run the benchmark (Jenkins doesn't) since `.flat<float>` doesn't match the type when it's `complex<float>` or `complex<double>`.\n", "created_at": "2016-07-26T23:17:26Z", "updated_at": "2016-07-26T23:17:52Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/3010#discussion_r72355630", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3010", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/72355630"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/3010#discussion_r72355630"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3010"}}, "body_html": "<p>Hm this actually crashes at runtime if you run the benchmark (Jenkins doesn't) since <code>.flat&lt;float&gt;</code> doesn't match the type when it's <code>complex&lt;float&gt;</code> or <code>complex&lt;double&gt;</code>.</p>", "body_text": "Hm this actually crashes at runtime if you run the benchmark (Jenkins doesn't) since .flat<float> doesn't match the type when it's complex<float> or complex<double>."}