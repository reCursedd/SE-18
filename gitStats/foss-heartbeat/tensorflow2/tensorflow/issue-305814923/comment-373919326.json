{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/373919326", "html_url": "https://github.com/tensorflow/tensorflow/issues/17758#issuecomment-373919326", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17758", "id": 373919326, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzkxOTMyNg==", "user": {"login": "jbedorf", "id": 1643141, "node_id": "MDQ6VXNlcjE2NDMxNDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1643141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbedorf", "html_url": "https://github.com/jbedorf", "followers_url": "https://api.github.com/users/jbedorf/followers", "following_url": "https://api.github.com/users/jbedorf/following{/other_user}", "gists_url": "https://api.github.com/users/jbedorf/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbedorf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbedorf/subscriptions", "organizations_url": "https://api.github.com/users/jbedorf/orgs", "repos_url": "https://api.github.com/users/jbedorf/repos", "events_url": "https://api.github.com/users/jbedorf/events{/privacy}", "received_events_url": "https://api.github.com/users/jbedorf/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-17T13:16:04Z", "updated_at": "2018-03-17T13:16:04Z", "author_association": "CONTRIBUTOR", "body_html": "<p>This is the mpi_collectives that fails to import. When I tried this in the past (months ago), I found that bazel was not correctly passing the <code>TENSORFLOW_USE_MPI</code>  define to the cc/h files. My fix at that point was just to add a <code>#define TENSORFLOW_USE_MPI</code> at the top of the files in this folder (and subfolders): <code>https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/mpi_collectives</code></p>\n<p>You might want to try that first, if that turns out to be the problem the proper fix would be somewhere in the <code>bazel</code> configuration</p>", "body_text": "This is the mpi_collectives that fails to import. When I tried this in the past (months ago), I found that bazel was not correctly passing the TENSORFLOW_USE_MPI  define to the cc/h files. My fix at that point was just to add a #define TENSORFLOW_USE_MPI at the top of the files in this folder (and subfolders): https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/mpi_collectives\nYou might want to try that first, if that turns out to be the problem the proper fix would be somewhere in the bazel configuration", "body": "This is the mpi_collectives that fails to import. When I tried this in the past (months ago), I found that bazel was not correctly passing the `TENSORFLOW_USE_MPI`  define to the cc/h files. My fix at that point was just to add a `#define TENSORFLOW_USE_MPI` at the top of the files in this folder (and subfolders): `https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/mpi_collectives` \r\n\r\nYou might want to try that first, if that turns out to be the problem the proper fix would be somewhere in the `bazel` configuration"}