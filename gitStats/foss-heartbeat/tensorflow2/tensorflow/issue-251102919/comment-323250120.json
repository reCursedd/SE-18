{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/323250120", "html_url": "https://github.com/tensorflow/tensorflow/issues/12375#issuecomment-323250120", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12375", "id": 323250120, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzI1MDEyMA==", "user": {"login": "eaplatanios", "id": 1294940, "node_id": "MDQ6VXNlcjEyOTQ5NDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1294940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eaplatanios", "html_url": "https://github.com/eaplatanios", "followers_url": "https://api.github.com/users/eaplatanios/followers", "following_url": "https://api.github.com/users/eaplatanios/following{/other_user}", "gists_url": "https://api.github.com/users/eaplatanios/gists{/gist_id}", "starred_url": "https://api.github.com/users/eaplatanios/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eaplatanios/subscriptions", "organizations_url": "https://api.github.com/users/eaplatanios/orgs", "repos_url": "https://api.github.com/users/eaplatanios/repos", "events_url": "https://api.github.com/users/eaplatanios/events{/privacy}", "received_events_url": "https://api.github.com/users/eaplatanios/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-18T03:29:23Z", "updated_at": "2017-08-18T03:29:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I have noticed that if I manually set eager op attributes one by one, I get the error whenever I add type attributes. More specifically, I managed to find cases where I get a more complete error message, such as:</p>\n<pre><code>NodeDef mentions attr '\u00dd' not in Op&lt;name=Add; signature=x:T, y:T -&gt; z:T; \nattr=T:type,allowed=[DT_HALF, DT_FLOAT, DT_DOUBLE, DT_UINT8, DT_INT8, \nDT_INT16, DT_INT32, DT_INT64, DT_COMPLEX64, DT_COMPLEX128, DT_STRING]&gt;; \nNodeDef: Add = Add[\u00dd=DT_FLOAT](). (Check whether your GraphDef-interpreting \nbinary is up to date with your GraphDef-generating binary.).\n</code></pre>\n<p>Note that when I set the attribute in the op, the name I use is <code>\"T\"</code> for the above example. Therefore, something goes wrong, but I cannot figure out what.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5061\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/alextp\">@alextp</a> The only changes I've made to how I compile the TensorFlow dynamic libraries are the following (I had to make them so I could include the eager API in the built dynamic library and use it):</p>\n<ol>\n<li>In the <code>tensorflow/BUILD</code> file, add <code>\"//tensorflow/c/eager:c_api\"</code><br>\nto the dependencies of the <code>\"libtensorflow.so\"</code> <code>cc_binary</code><br>\ntarget.</li>\n<li>In the <code>tensorflow/c/exported_symbols.lds</code> file, add a new line<br>\ncontaining: <code>_TFE_*</code>.</li>\n<li>In the <code>tensorflow/c/eager/BUILD</code> file, change the visibility of<br>\nthe <code>c_api</code> <code>cc_library</code> and the <code>runtime</code> <code>cc_library</code> target to<br>\n<code>\"//visibility:public\"</code>.</li>\n</ol>", "body_text": "I have noticed that if I manually set eager op attributes one by one, I get the error whenever I add type attributes. More specifically, I managed to find cases where I get a more complete error message, such as:\nNodeDef mentions attr '\u00dd' not in Op<name=Add; signature=x:T, y:T -> z:T; \nattr=T:type,allowed=[DT_HALF, DT_FLOAT, DT_DOUBLE, DT_UINT8, DT_INT8, \nDT_INT16, DT_INT32, DT_INT64, DT_COMPLEX64, DT_COMPLEX128, DT_STRING]>; \nNodeDef: Add = Add[\u00dd=DT_FLOAT](). (Check whether your GraphDef-interpreting \nbinary is up to date with your GraphDef-generating binary.).\n\nNote that when I set the attribute in the op, the name I use is \"T\" for the above example. Therefore, something goes wrong, but I cannot figure out what.\n@alextp The only changes I've made to how I compile the TensorFlow dynamic libraries are the following (I had to make them so I could include the eager API in the built dynamic library and use it):\n\nIn the tensorflow/BUILD file, add \"//tensorflow/c/eager:c_api\"\nto the dependencies of the \"libtensorflow.so\" cc_binary\ntarget.\nIn the tensorflow/c/exported_symbols.lds file, add a new line\ncontaining: _TFE_*.\nIn the tensorflow/c/eager/BUILD file, change the visibility of\nthe c_api cc_library and the runtime cc_library target to\n\"//visibility:public\".", "body": "I have noticed that if I manually set eager op attributes one by one, I get the error whenever I add type attributes. More specifically, I managed to find cases where I get a more complete error message, such as:\r\n\r\n```\r\nNodeDef mentions attr '\u00dd' not in Op<name=Add; signature=x:T, y:T -> z:T; \r\nattr=T:type,allowed=[DT_HALF, DT_FLOAT, DT_DOUBLE, DT_UINT8, DT_INT8, \r\nDT_INT16, DT_INT32, DT_INT64, DT_COMPLEX64, DT_COMPLEX128, DT_STRING]>; \r\nNodeDef: Add = Add[\u00dd=DT_FLOAT](). (Check whether your GraphDef-interpreting \r\nbinary is up to date with your GraphDef-generating binary.).\r\n```\r\nNote that when I set the attribute in the op, the name I use is `\"T\"` for the above example. Therefore, something goes wrong, but I cannot figure out what.\r\n\r\n@alextp The only changes I've made to how I compile the TensorFlow dynamic libraries are the following (I had to make them so I could include the eager API in the built dynamic library and use it):\r\n\r\n  1. In the `tensorflow/BUILD` file, add `\"//tensorflow/c/eager:c_api\"` \r\n     to the dependencies of the `\"libtensorflow.so\"` `cc_binary` \r\n     target.\r\n  2. In the `tensorflow/c/exported_symbols.lds` file, add a new line \r\n     containing: `_TFE_*`.\r\n  3. In the `tensorflow/c/eager/BUILD` file, change the visibility of \r\n     the `c_api` `cc_library` and the `runtime` `cc_library` target to \r\n     `\"//visibility:public\"`.\r\n"}