{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/279139478", "html_url": "https://github.com/tensorflow/tensorflow/issues/859#issuecomment-279139478", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/859", "id": 279139478, "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTEzOTQ3OA==", "user": {"login": "MartinThoma", "id": 1658117, "node_id": "MDQ6VXNlcjE2NTgxMTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1658117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MartinThoma", "html_url": "https://github.com/MartinThoma", "followers_url": "https://api.github.com/users/MartinThoma/followers", "following_url": "https://api.github.com/users/MartinThoma/following{/other_user}", "gists_url": "https://api.github.com/users/MartinThoma/gists{/gist_id}", "starred_url": "https://api.github.com/users/MartinThoma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MartinThoma/subscriptions", "organizations_url": "https://api.github.com/users/MartinThoma/orgs", "repos_url": "https://api.github.com/users/MartinThoma/repos", "events_url": "https://api.github.com/users/MartinThoma/events{/privacy}", "received_events_url": "https://api.github.com/users/MartinThoma/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-11T11:58:27Z", "updated_at": "2017-02-11T11:58:54Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> When I add <code>tf.reset_default_graph()</code> to <a href=\"https://github.com/MartinThoma/HASY/blob/master/scripts/keras_hasy_cv.py\">my code</a>, I get</p>\n<pre><code>Traceback (most recent call last):\n  File \"keras_hasy_cv.py\", line 78, in &lt;module&gt;\n    verbose=1, validation_data=(test_x, test_y))\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/models.py\", line 672, in fit\n    initial_epoch=initial_epoch)\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/engine/training.py\", line 1192, in fit\n    initial_epoch=initial_epoch)\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/engine/training.py\", line 892, in _fit_loop\n    outs = f(ins_batch)\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 1898, in __call__\n    session = get_session()\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 118, in get_session\n    _initialize_variables()\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 270, in _initialize_variables\n    sess.run(tf.variables_initializer(uninitialized_variables))\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 766, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 951, in _run\n    fetch_handler = _FetchHandler(self._graph, fetches, feed_dict_string)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 407, in __init__\n    self._fetch_mapper = _FetchMapper.for_fetch(fetches)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 238, in for_fetch\n    return _ElementFetchMapper(fetches, contraction_fn)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 274, in __init__\n    'Tensor. (%s)' % (fetch, str(e)))\nValueError: Fetch argument &lt;tensorflow.python.framework.ops.Operation object at 0x7f7fe0e2e550&gt; cannot be interpreted as a Tensor. (Operation name: \"init\"\nop: \"NoOp\"\ninput: \"^convolution2d_3_W/Assign\"\ninput: \"^convolution2d_3_b/Assign\"\ninput: \"^prelu_3_alphas/Assign\"\n</code></pre>\n<p>Do you have any idea why / how to fix it? (Related to <a href=\"http://stackoverflow.com/q/42173704/562769\" rel=\"nofollow\">http://stackoverflow.com/q/42173704/562769</a>)</p>", "body_text": "@mrry When I add tf.reset_default_graph() to my code, I get\nTraceback (most recent call last):\n  File \"keras_hasy_cv.py\", line 78, in <module>\n    verbose=1, validation_data=(test_x, test_y))\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/models.py\", line 672, in fit\n    initial_epoch=initial_epoch)\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/engine/training.py\", line 1192, in fit\n    initial_epoch=initial_epoch)\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/engine/training.py\", line 892, in _fit_loop\n    outs = f(ins_batch)\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 1898, in __call__\n    session = get_session()\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 118, in get_session\n    _initialize_variables()\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 270, in _initialize_variables\n    sess.run(tf.variables_initializer(uninitialized_variables))\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 766, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 951, in _run\n    fetch_handler = _FetchHandler(self._graph, fetches, feed_dict_string)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 407, in __init__\n    self._fetch_mapper = _FetchMapper.for_fetch(fetches)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 238, in for_fetch\n    return _ElementFetchMapper(fetches, contraction_fn)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 274, in __init__\n    'Tensor. (%s)' % (fetch, str(e)))\nValueError: Fetch argument <tensorflow.python.framework.ops.Operation object at 0x7f7fe0e2e550> cannot be interpreted as a Tensor. (Operation name: \"init\"\nop: \"NoOp\"\ninput: \"^convolution2d_3_W/Assign\"\ninput: \"^convolution2d_3_b/Assign\"\ninput: \"^prelu_3_alphas/Assign\"\n\nDo you have any idea why / how to fix it? (Related to http://stackoverflow.com/q/42173704/562769)", "body": "@mrry When I add `tf.reset_default_graph()` to [my code](https://github.com/MartinThoma/HASY/blob/master/scripts/keras_hasy_cv.py), I get\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"keras_hasy_cv.py\", line 78, in <module>\r\n    verbose=1, validation_data=(test_x, test_y))\r\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/models.py\", line 672, in fit\r\n    initial_epoch=initial_epoch)\r\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/engine/training.py\", line 1192, in fit\r\n    initial_epoch=initial_epoch)\r\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/engine/training.py\", line 892, in _fit_loop\r\n    outs = f(ins_batch)\r\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 1898, in __call__\r\n    session = get_session()\r\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 118, in get_session\r\n    _initialize_variables()\r\n  File \"/home/moose/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 270, in _initialize_variables\r\n    sess.run(tf.variables_initializer(uninitialized_variables))\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 766, in run\r\n    run_metadata_ptr)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 951, in _run\r\n    fetch_handler = _FetchHandler(self._graph, fetches, feed_dict_string)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 407, in __init__\r\n    self._fetch_mapper = _FetchMapper.for_fetch(fetches)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 238, in for_fetch\r\n    return _ElementFetchMapper(fetches, contraction_fn)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 274, in __init__\r\n    'Tensor. (%s)' % (fetch, str(e)))\r\nValueError: Fetch argument <tensorflow.python.framework.ops.Operation object at 0x7f7fe0e2e550> cannot be interpreted as a Tensor. (Operation name: \"init\"\r\nop: \"NoOp\"\r\ninput: \"^convolution2d_3_W/Assign\"\r\ninput: \"^convolution2d_3_b/Assign\"\r\ninput: \"^prelu_3_alphas/Assign\"\r\n```\r\n\r\nDo you have any idea why / how to fix it? (Related to http://stackoverflow.com/q/42173704/562769)"}