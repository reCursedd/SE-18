{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/304196834", "html_url": "https://github.com/tensorflow/tensorflow/issues/10091#issuecomment-304196834", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10091", "id": 304196834, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDE5NjgzNA==", "user": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-26T05:42:33Z", "updated_at": "2017-05-26T05:42:33Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> is <code>validate_shape=False</code> supposed to cause this?</p>\n<div class=\"highlight highlight-text-python-console\"><pre>&gt;&gt;&gt; <span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n&gt;&gt;&gt; sess <span class=\"pl-k\">=</span> tf.Session()\n&gt;&gt;&gt; x <span class=\"pl-k\">=</span> tf.Variable(tf.ones([<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]))\n&gt;&gt;&gt; y <span class=\"pl-k\">=</span> tf.Variable(tf.ones([<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]))\n&gt;&gt;&gt; sess.run(tf.variables_initializer([x, y]))\n\n&gt;&gt;&gt; <span class=\"pl-c1\">print</span>(tf.add(x, y).eval(<span class=\"pl-v\">session</span><span class=\"pl-k\">=</span>sess))\n[[ 2.  2.  2.]\n [ 2.  2.  2.]]\n\n&gt;&gt;&gt; sess.run(tf.assign(x, tf.ones([<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">4</span>]), <span class=\"pl-v\">validate_shape</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">False</span>))\narray([[ 1.,  1.,  1.,  1.],\n       [ 1.,  1.,  1.,  1.]], dtype=float32)\n\n&gt;&gt;&gt; <span class=\"pl-c1\">print</span>(tf.add(x, y).eval(<span class=\"pl-v\">session</span><span class=\"pl-k\">=</span>sess))\nInvalidArgumentError (see above for traceback): Incompatible shapes: [2,4] vs. [2,3]\n\n&gt;&gt;&gt; x\n&lt;tf.Variable 'Variable:0' shape=(2, 3) dtype=float32_ref&gt;\n&gt;&gt;&gt; y\n&lt;tf.Variable 'Variable_1:0' shape=(2, 3) dtype=float32_ref&gt;</pre></div>", "body_text": "@mrry is validate_shape=False supposed to cause this?\n>>> import tensorflow as tf\n>>> sess = tf.Session()\n>>> x = tf.Variable(tf.ones([2, 3]))\n>>> y = tf.Variable(tf.ones([2, 3]))\n>>> sess.run(tf.variables_initializer([x, y]))\n\n>>> print(tf.add(x, y).eval(session=sess))\n[[ 2.  2.  2.]\n [ 2.  2.  2.]]\n\n>>> sess.run(tf.assign(x, tf.ones([2, 4]), validate_shape=False))\narray([[ 1.,  1.,  1.,  1.],\n       [ 1.,  1.,  1.,  1.]], dtype=float32)\n\n>>> print(tf.add(x, y).eval(session=sess))\nInvalidArgumentError (see above for traceback): Incompatible shapes: [2,4] vs. [2,3]\n\n>>> x\n<tf.Variable 'Variable:0' shape=(2, 3) dtype=float32_ref>\n>>> y\n<tf.Variable 'Variable_1:0' shape=(2, 3) dtype=float32_ref>", "body": "@mrry is `validate_shape=False` supposed to cause this?\r\n\r\n```pycon\r\n>>> import tensorflow as tf\r\n>>> sess = tf.Session()\r\n>>> x = tf.Variable(tf.ones([2, 3]))\r\n>>> y = tf.Variable(tf.ones([2, 3]))\r\n>>> sess.run(tf.variables_initializer([x, y]))\r\n\r\n>>> print(tf.add(x, y).eval(session=sess))\r\n[[ 2.  2.  2.]\r\n [ 2.  2.  2.]]\r\n\r\n>>> sess.run(tf.assign(x, tf.ones([2, 4]), validate_shape=False))\r\narray([[ 1.,  1.,  1.,  1.],\r\n       [ 1.,  1.,  1.,  1.]], dtype=float32)\r\n\r\n>>> print(tf.add(x, y).eval(session=sess))\r\nInvalidArgumentError (see above for traceback): Incompatible shapes: [2,4] vs. [2,3]\r\n\r\n>>> x\r\n<tf.Variable 'Variable:0' shape=(2, 3) dtype=float32_ref>\r\n>>> y\r\n<tf.Variable 'Variable_1:0' shape=(2, 3) dtype=float32_ref>\r\n```"}