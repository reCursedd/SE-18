{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/350809083", "html_url": "https://github.com/tensorflow/tensorflow/issues/15158#issuecomment-350809083", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15158", "id": 350809083, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDgwOTA4Mw==", "user": {"login": "isaprykin", "id": 234070, "node_id": "MDQ6VXNlcjIzNDA3MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/234070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isaprykin", "html_url": "https://github.com/isaprykin", "followers_url": "https://api.github.com/users/isaprykin/followers", "following_url": "https://api.github.com/users/isaprykin/following{/other_user}", "gists_url": "https://api.github.com/users/isaprykin/gists{/gist_id}", "starred_url": "https://api.github.com/users/isaprykin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isaprykin/subscriptions", "organizations_url": "https://api.github.com/users/isaprykin/orgs", "repos_url": "https://api.github.com/users/isaprykin/repos", "events_url": "https://api.github.com/users/isaprykin/events{/privacy}", "received_events_url": "https://api.github.com/users/isaprykin/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-11T18:12:14Z", "updated_at": "2017-12-11T18:12:23Z", "author_association": "MEMBER", "body_html": "<p>If you run the calls to evaluate the size of the queues inside run_step_fn, then it won't trigger hooks.</p>\n<p>In your code example, suppose the MonitoredSession instance handled a transient failure for you that resulted in a new underlying raw session.  The new session has restored from the last saved checkpoint, possibly undoing the updates that have been computed but haven't been checkpointed yet.  In such a scenario, would like for <code>session.run(handles)</code> and for <code>session.run(some_structural_evaluation_of_the_graph)</code> to be re-run for you when the session is re-recreated and variables are restored?</p>", "body_text": "If you run the calls to evaluate the size of the queues inside run_step_fn, then it won't trigger hooks.\nIn your code example, suppose the MonitoredSession instance handled a transient failure for you that resulted in a new underlying raw session.  The new session has restored from the last saved checkpoint, possibly undoing the updates that have been computed but haven't been checkpointed yet.  In such a scenario, would like for session.run(handles) and for session.run(some_structural_evaluation_of_the_graph) to be re-run for you when the session is re-recreated and variables are restored?", "body": "If you run the calls to evaluate the size of the queues inside run_step_fn, then it won't trigger hooks.\r\n\r\nIn your code example, suppose the MonitoredSession instance handled a transient failure for you that resulted in a new underlying raw session.  The new session has restored from the last saved checkpoint, possibly undoing the updates that have been computed but haven't been checkpointed yet.  In such a scenario, would like for `session.run(handles)` and for `session.run(some_structural_evaluation_of_the_graph)` to be re-run for you when the session is re-recreated and variables are restored? "}