{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/333277727", "html_url": "https://github.com/tensorflow/tensorflow/issues/5096#issuecomment-333277727", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5096", "id": 333277727, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzI3NzcyNw==", "user": {"login": "rlrosa", "id": 889811, "node_id": "MDQ6VXNlcjg4OTgxMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/889811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rlrosa", "html_url": "https://github.com/rlrosa", "followers_url": "https://api.github.com/users/rlrosa/followers", "following_url": "https://api.github.com/users/rlrosa/following{/other_user}", "gists_url": "https://api.github.com/users/rlrosa/gists{/gist_id}", "starred_url": "https://api.github.com/users/rlrosa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rlrosa/subscriptions", "organizations_url": "https://api.github.com/users/rlrosa/orgs", "repos_url": "https://api.github.com/users/rlrosa/repos", "events_url": "https://api.github.com/users/rlrosa/events{/privacy}", "received_events_url": "https://api.github.com/users/rlrosa/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-30T02:53:43Z", "updated_at": "2017-09-30T02:54:05Z", "author_association": "NONE", "body_html": "<p>In my case I had branched off after running configure. As suggested here, running this exposed what was making tf unhappy, and re-running configure make it happy again:</p>\n<pre><code>bazel build -s //tensorflow/core:version_info_gen\nINFO: Found 1 target...\n&gt;&gt;&gt;&gt;&gt; # //tensorflow/core:version_info_gen [action 'Executing genrule //tensorflow/core:version_info_gen']\n(cd /home/rrosa/.cache/bazel/_bazel_rrosa/0bc32e86368550ea439dcf6daa0b227b/execroot/org_tensorflow &amp;&amp; \\\n  exec env - \\\n    ....\n  /bin/bash -c 'source external/bazel_tools/tools/genrule/genrule-setup.sh; tensorflow/tools/git/gen_git_source.py --generate tensorflow/tools/git/gen/spec.json tensorflow/tools/git/gen/head tensorflow/tools/git/gen/branch_ref \"bazel-out/local-opt/genfiles/tensorflow/core/util/version_info.cc\"')\nERROR: /home/rrosa/tensorflow/tensorflow/core/BUILD:1416:1: Executing genrule //tensorflow/core:version_info_gen failed: bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nTraceback (most recent call last):\n  File \"tensorflow/tools/git/gen_git_source.py\", line 264, in &lt;module&gt;\n    generate(args.generate)\n  File \"tensorflow/tools/git/gen_git_source.py\", line 215, in generate\n    (old_branch, new_branch))\nRuntimeError: Run ./configure again, branch was 'refs/heads/r1.3' but is now 'refs/heads/mynewbranch'\nTarget //tensorflow/core:version_info_gen failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 0.901s, Critical Path: 0.03s\n```\n</code></pre>", "body_text": "In my case I had branched off after running configure. As suggested here, running this exposed what was making tf unhappy, and re-running configure make it happy again:\nbazel build -s //tensorflow/core:version_info_gen\nINFO: Found 1 target...\n>>>>> # //tensorflow/core:version_info_gen [action 'Executing genrule //tensorflow/core:version_info_gen']\n(cd /home/rrosa/.cache/bazel/_bazel_rrosa/0bc32e86368550ea439dcf6daa0b227b/execroot/org_tensorflow && \\\n  exec env - \\\n    ....\n  /bin/bash -c 'source external/bazel_tools/tools/genrule/genrule-setup.sh; tensorflow/tools/git/gen_git_source.py --generate tensorflow/tools/git/gen/spec.json tensorflow/tools/git/gen/head tensorflow/tools/git/gen/branch_ref \"bazel-out/local-opt/genfiles/tensorflow/core/util/version_info.cc\"')\nERROR: /home/rrosa/tensorflow/tensorflow/core/BUILD:1416:1: Executing genrule //tensorflow/core:version_info_gen failed: bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nTraceback (most recent call last):\n  File \"tensorflow/tools/git/gen_git_source.py\", line 264, in <module>\n    generate(args.generate)\n  File \"tensorflow/tools/git/gen_git_source.py\", line 215, in generate\n    (old_branch, new_branch))\nRuntimeError: Run ./configure again, branch was 'refs/heads/r1.3' but is now 'refs/heads/mynewbranch'\nTarget //tensorflow/core:version_info_gen failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 0.901s, Critical Path: 0.03s\n```", "body": "In my case I had branched off after running configure. As suggested here, running this exposed what was making tf unhappy, and re-running configure make it happy again:\r\n\r\n````\r\nbazel build -s //tensorflow/core:version_info_gen\r\nINFO: Found 1 target...\r\n>>>>> # //tensorflow/core:version_info_gen [action 'Executing genrule //tensorflow/core:version_info_gen']\r\n(cd /home/rrosa/.cache/bazel/_bazel_rrosa/0bc32e86368550ea439dcf6daa0b227b/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    ....\r\n  /bin/bash -c 'source external/bazel_tools/tools/genrule/genrule-setup.sh; tensorflow/tools/git/gen_git_source.py --generate tensorflow/tools/git/gen/spec.json tensorflow/tools/git/gen/head tensorflow/tools/git/gen/branch_ref \"bazel-out/local-opt/genfiles/tensorflow/core/util/version_info.cc\"')\r\nERROR: /home/rrosa/tensorflow/tensorflow/core/BUILD:1416:1: Executing genrule //tensorflow/core:version_info_gen failed: bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nTraceback (most recent call last):\r\n  File \"tensorflow/tools/git/gen_git_source.py\", line 264, in <module>\r\n    generate(args.generate)\r\n  File \"tensorflow/tools/git/gen_git_source.py\", line 215, in generate\r\n    (old_branch, new_branch))\r\nRuntimeError: Run ./configure again, branch was 'refs/heads/r1.3' but is now 'refs/heads/mynewbranch'\r\nTarget //tensorflow/core:version_info_gen failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 0.901s, Critical Path: 0.03s\r\n```"}