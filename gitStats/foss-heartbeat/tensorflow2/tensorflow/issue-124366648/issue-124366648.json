{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/653", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/653/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/653/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/653/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/653", "id": 124366648, "node_id": "MDU6SXNzdWUxMjQzNjY2NDg=", "number": 653, "title": "translate.py - train path error", "user": {"login": "marcotrombetti", "id": 9898003, "node_id": "MDQ6VXNlcjk4OTgwMDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/9898003?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcotrombetti", "html_url": "https://github.com/marcotrombetti", "followers_url": "https://api.github.com/users/marcotrombetti/followers", "following_url": "https://api.github.com/users/marcotrombetti/following{/other_user}", "gists_url": "https://api.github.com/users/marcotrombetti/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcotrombetti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcotrombetti/subscriptions", "organizations_url": "https://api.github.com/users/marcotrombetti/orgs", "repos_url": "https://api.github.com/users/marcotrombetti/repos", "events_url": "https://api.github.com/users/marcotrombetti/events{/privacy}", "received_events_url": "https://api.github.com/users/marcotrombetti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-12-30T16:08:01Z", "updated_at": "2017-02-09T22:02:24Z", "closed_at": "2016-06-27T22:58:29Z", "author_association": "NONE", "body_html": "<pre><code>python translate.py --decode --en_vocab_size=20000 --fr_vocab_size=20000 \n--train_dir /Users/Translated/Downloads/train \n--data /Users/Translated/Downloads/data --size=256 \n--num_layers=3 --steps_per_checkpoint=50\n</code></pre>\n<p>Will not load the correct model</p>\n<p>translate.py</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">if</span> ckpt <span class=\"pl-k\">and</span> gfile.Exists(ckpt.model_checkpoint_path):</pre></div>\n<p>will fail on my Mac OSX El Capitain using VirtualEnv and cause to load an empty model.<br>\nI did not test on other systems.</p>\n<p>Variable dump in pbb debugger:</p>\n<pre><code>(Pdb) pp FLAGS.train_dir\n'/Users/Translated/Downloads/train' (Correct) \n(Pdb) pp ckpt.model_checkpoint_path\nu'train/translate.ckpt-15350' (Wrong)\n</code></pre>\n<p>I was hoping it was related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"123691291\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/600\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/600/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/600\">#600</a> but it is not.</p>", "body_text": "python translate.py --decode --en_vocab_size=20000 --fr_vocab_size=20000 \n--train_dir /Users/Translated/Downloads/train \n--data /Users/Translated/Downloads/data --size=256 \n--num_layers=3 --steps_per_checkpoint=50\n\nWill not load the correct model\ntranslate.py\nif ckpt and gfile.Exists(ckpt.model_checkpoint_path):\nwill fail on my Mac OSX El Capitain using VirtualEnv and cause to load an empty model.\nI did not test on other systems.\nVariable dump in pbb debugger:\n(Pdb) pp FLAGS.train_dir\n'/Users/Translated/Downloads/train' (Correct) \n(Pdb) pp ckpt.model_checkpoint_path\nu'train/translate.ckpt-15350' (Wrong)\n\nI was hoping it was related to #600 but it is not.", "body": "```\npython translate.py --decode --en_vocab_size=20000 --fr_vocab_size=20000 \n--train_dir /Users/Translated/Downloads/train \n--data /Users/Translated/Downloads/data --size=256 \n--num_layers=3 --steps_per_checkpoint=50\n```\n\nWill not load the correct model\n\ntranslate.py\n\n``` python\nif ckpt and gfile.Exists(ckpt.model_checkpoint_path):\n```\n\nwill fail on my Mac OSX El Capitain using VirtualEnv and cause to load an empty model.\nI did not test on other systems.\n\nVariable dump in pbb debugger:\n\n```\n(Pdb) pp FLAGS.train_dir\n'/Users/Translated/Downloads/train' (Correct) \n(Pdb) pp ckpt.model_checkpoint_path\nu'train/translate.ckpt-15350' (Wrong)\n```\n\nI was hoping it was related to #600 but it is not.  \n"}