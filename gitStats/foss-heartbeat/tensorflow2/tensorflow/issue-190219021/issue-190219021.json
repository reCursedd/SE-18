{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5684", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5684/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5684/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5684/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5684", "id": 190219021, "node_id": "MDU6SXNzdWUxOTAyMTkwMjE=", "number": 5684, "title": "Building the library on Raspberry Pi results in: undefined reference to `google::protobuf::internal::fixed_address_empty_string'", "user": {"login": "KjerG", "id": 22327225, "node_id": "MDQ6VXNlcjIyMzI3MjI1", "avatar_url": "https://avatars0.githubusercontent.com/u/22327225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KjerG", "html_url": "https://github.com/KjerG", "followers_url": "https://api.github.com/users/KjerG/followers", "following_url": "https://api.github.com/users/KjerG/following{/other_user}", "gists_url": "https://api.github.com/users/KjerG/gists{/gist_id}", "starred_url": "https://api.github.com/users/KjerG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KjerG/subscriptions", "organizations_url": "https://api.github.com/users/KjerG/orgs", "repos_url": "https://api.github.com/users/KjerG/repos", "events_url": "https://api.github.com/users/KjerG/events{/privacy}", "received_events_url": "https://api.github.com/users/KjerG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2016-11-18T02:16:25Z", "updated_at": "2017-07-07T23:22:59Z", "closed_at": "2017-06-16T18:36:20Z", "author_association": "NONE", "body_html": "<p>Hello,</p>\n<p>I was told to post this question here:</p>\n<p>I am trying to complete a fresh install of Tensorflow on my Raspberry Pi following a failed previous install. I figured it would be easier trying to start fresh so I could more easily document my progress, and what solutions worked or failed. Additionally the new guide is easier to follow than the old guide I was using.</p>\n<p>I am following the guide <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/makefile#raspberry-pi\">here</a> and have been able to complete all of the steps up until the <code>make -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI OPTFLAGS=\"-Os\" CXX=g++-4.8 </code>command. NOTE: I did not install the example graph.</p>\n<p>However when attempting to run this command I am left with several errors. The full output is rather long, but the main recurring error is similar to:</p>\n<p><code>test_log.pb.cc:(.text+0x784): undefined reference to </code>google::protobuf::internal::fixed_address_empty_string'<code>This kind of error is repeated several times throughout the output for the</code>make -f command with test_log.pb.cc:(.text+0x784): ` being replaced with different designations. The output ends with the Following error state:</p>\n<pre><code>step_stats_collector.cc:(.text+0x46c): undefined reference to `google::protobuf::internal::fixed_address_empty_string'\n/home/pi/makevoicedemo/tf/tensorflow/tensorflow/contrib/makefile/gen/lib/libtensorflow-core.a(debug_io_utils.o):debug_io_utils.cc:(.text+0x8e8): more undefined references to `google::protobuf::internal::fixed_address_empty_string' follow\ncollect2: error: ld returned 1 exit status\ntensorflow/contrib/makefile/Makefile:501: recipe for target '/home/pi/makevoicedemo/tf/tensorflow/tensorflow/contrib/makefile/gen/bin/benchmark' failed\nmake: *** [/home/pi/makevoicedemo/tf/tensorflow/tensorflow/contrib/makefile/gen/bin/benchmark] Error 1\n</code></pre>\n<p>I feel like the problem is likely do to an error with protobuf, however I am using the latest version and had no errors installing it. I am using the most recent version of tensorflow and followed the Before you start section in the guide to make sure all dependencies were installed and up to date.</p>\n<p>What exactly might be causing this error and how would I go about fixing it?</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p><a href=\"http://stackoverflow.com/questions/38915709/problems-on-builiding-tensorflow-on-rpi-2\" rel=\"nofollow\">http://stackoverflow.com/questions/38915709/problems-on-builiding-tensorflow-on-rpi-2</a></p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nRaspbian Jessie</p>\n<p>Installed version of CUDA and cuDNN:<br>\nN/A<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\n<code>ls: cannot access /path/to/cuda/lib/libcud*: No such file or directory </code><br>\nIf installed from source, provide</p>\n<ol>\n<li>\n<p>The commit hash (<code>git rev-parse HEAD</code>)<br>\n<code>a2d96ca09e9943b4bad65b674d29d380dc6a8327</code></p>\n</li>\n<li>\n<p>The output of <code>bazel version</code></p>\n</li>\n</ol>\n<pre><code>...........................................................................\nBuild label: 0.2.1-2016-09-15 (@e7a95e5)\nBuild target: bazel-out/local_linux-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Sep 16 00:46:39 2016 (1473986799)\nBuild timestamp: 1473986799\nBuild timestamp as int: 1473986799\n\n</code></pre>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>Steps taken (in order) from pre-created directory /tf:</p>\n<pre><code>git clone https://github.com/tensorflow/tensorflow.git\n\ncd tensorflow\n\ntensorflow/contrib/makefile/download_dependencies.sh\n\nsudo apt-get install -y autoconf automake libtool gcc-4.8 g++-4.8\n\ncd tensorflow/contrib/makefile/downloads/protobuf/\n\n./autogen.sh\n\n./configure\n\nmake\n\nsudo make install\n\nsudo ldconfig\n\ncd ../../../../..\n\nmake -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI OPTFLAGS=\"-Os\" CXX=g++-4.8\n</code></pre>\n<p>The final command results in the error and is as far as I have been able to progress.</p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>I have not come across any applicable solutions to try.</p>\n<p>Any help would be appreciated.</p>", "body_text": "Hello,\nI was told to post this question here:\nI am trying to complete a fresh install of Tensorflow on my Raspberry Pi following a failed previous install. I figured it would be easier trying to start fresh so I could more easily document my progress, and what solutions worked or failed. Additionally the new guide is easier to follow than the old guide I was using.\nI am following the guide here and have been able to complete all of the steps up until the make -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI OPTFLAGS=\"-Os\" CXX=g++-4.8 command. NOTE: I did not install the example graph.\nHowever when attempting to run this command I am left with several errors. The full output is rather long, but the main recurring error is similar to:\ntest_log.pb.cc:(.text+0x784): undefined reference to google::protobuf::internal::fixed_address_empty_string'This kind of error is repeated several times throughout the output for themake -f command with test_log.pb.cc:(.text+0x784): ` being replaced with different designations. The output ends with the Following error state:\nstep_stats_collector.cc:(.text+0x46c): undefined reference to `google::protobuf::internal::fixed_address_empty_string'\n/home/pi/makevoicedemo/tf/tensorflow/tensorflow/contrib/makefile/gen/lib/libtensorflow-core.a(debug_io_utils.o):debug_io_utils.cc:(.text+0x8e8): more undefined references to `google::protobuf::internal::fixed_address_empty_string' follow\ncollect2: error: ld returned 1 exit status\ntensorflow/contrib/makefile/Makefile:501: recipe for target '/home/pi/makevoicedemo/tf/tensorflow/tensorflow/contrib/makefile/gen/bin/benchmark' failed\nmake: *** [/home/pi/makevoicedemo/tf/tensorflow/tensorflow/contrib/makefile/gen/bin/benchmark] Error 1\n\nI feel like the problem is likely do to an error with protobuf, however I am using the latest version and had no errors installing it. I am using the most recent version of tensorflow and followed the Before you start section in the guide to make sure all dependencies were installed and up to date.\nWhat exactly might be causing this error and how would I go about fixing it?\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nhttp://stackoverflow.com/questions/38915709/problems-on-builiding-tensorflow-on-rpi-2\nEnvironment info\nOperating System:\nRaspbian Jessie\nInstalled version of CUDA and cuDNN:\nN/A\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nls: cannot access /path/to/cuda/lib/libcud*: No such file or directory \nIf installed from source, provide\n\n\nThe commit hash (git rev-parse HEAD)\na2d96ca09e9943b4bad65b674d29d380dc6a8327\n\n\nThe output of bazel version\n\n\n...........................................................................\nBuild label: 0.2.1-2016-09-15 (@e7a95e5)\nBuild target: bazel-out/local_linux-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Sep 16 00:46:39 2016 (1473986799)\nBuild timestamp: 1473986799\nBuild timestamp as int: 1473986799\n\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nSteps taken (in order) from pre-created directory /tf:\ngit clone https://github.com/tensorflow/tensorflow.git\n\ncd tensorflow\n\ntensorflow/contrib/makefile/download_dependencies.sh\n\nsudo apt-get install -y autoconf automake libtool gcc-4.8 g++-4.8\n\ncd tensorflow/contrib/makefile/downloads/protobuf/\n\n./autogen.sh\n\n./configure\n\nmake\n\nsudo make install\n\nsudo ldconfig\n\ncd ../../../../..\n\nmake -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI OPTFLAGS=\"-Os\" CXX=g++-4.8\n\nThe final command results in the error and is as far as I have been able to progress.\nWhat other attempted solutions have you tried?\nI have not come across any applicable solutions to try.\nAny help would be appreciated.", "body": "Hello,\r\n\r\nI was told to post this question here:\r\n\r\nI am trying to complete a fresh install of Tensorflow on my Raspberry Pi following a failed previous install. I figured it would be easier trying to start fresh so I could more easily document my progress, and what solutions worked or failed. Additionally the new guide is easier to follow than the old guide I was using.\r\n\r\nI am following the guide [here](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/makefile#raspberry-pi) and have been able to complete all of the steps up until the `make -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI OPTFLAGS=\"-Os\" CXX=g++-4.8 `command. NOTE: I did not install the example graph.\r\n\r\nHowever when attempting to run this command I am left with several errors. The full output is rather long, but the main recurring error is similar to:\r\n\r\n`test_log.pb.cc:(.text+0x784): undefined reference to `google::protobuf::internal::fixed_address_empty_string'`\r\nThis kind of error is repeated several times throughout the output for the `make -f command with test_log.pb.cc:(.text+0x784): ` being replaced with different designations. The output ends with the Following error state:\r\n\r\n```\r\nstep_stats_collector.cc:(.text+0x46c): undefined reference to `google::protobuf::internal::fixed_address_empty_string'\r\n/home/pi/makevoicedemo/tf/tensorflow/tensorflow/contrib/makefile/gen/lib/libtensorflow-core.a(debug_io_utils.o):debug_io_utils.cc:(.text+0x8e8): more undefined references to `google::protobuf::internal::fixed_address_empty_string' follow\r\ncollect2: error: ld returned 1 exit status\r\ntensorflow/contrib/makefile/Makefile:501: recipe for target '/home/pi/makevoicedemo/tf/tensorflow/tensorflow/contrib/makefile/gen/bin/benchmark' failed\r\nmake: *** [/home/pi/makevoicedemo/tf/tensorflow/tensorflow/contrib/makefile/gen/bin/benchmark] Error 1\r\n```\r\nI feel like the problem is likely do to an error with protobuf, however I am using the latest version and had no errors installing it. I am using the most recent version of tensorflow and followed the Before you start section in the guide to make sure all dependencies were installed and up to date.\r\n\r\nWhat exactly might be causing this error and how would I go about fixing it?\r\n\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\r\n[http://stackoverflow.com/questions/38915709/problems-on-builiding-tensorflow-on-rpi-2](http://stackoverflow.com/questions/38915709/problems-on-builiding-tensorflow-on-rpi-2)\r\n\r\n\r\n\r\n### Environment info\r\nOperating System:\r\nRaspbian Jessie\r\n\r\nInstalled version of CUDA and cuDNN: \r\nN/A\r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\n`ls: cannot access /path/to/cuda/lib/libcud*: No such file or directory\r\n`\r\nIf installed from source, provide \r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\n`a2d96ca09e9943b4bad65b674d29d380dc6a8327`\r\n\r\n2. The output of `bazel version`\r\n\r\n```\r\n...........................................................................\r\nBuild label: 0.2.1-2016-09-15 (@e7a95e5)\r\nBuild target: bazel-out/local_linux-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Fri Sep 16 00:46:39 2016 (1473986799)\r\nBuild timestamp: 1473986799\r\nBuild timestamp as int: 1473986799\r\n\r\n```\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\nSteps taken (in order) from pre-created directory /tf:\r\n\r\n```\r\ngit clone https://github.com/tensorflow/tensorflow.git\r\n\r\ncd tensorflow\r\n\r\ntensorflow/contrib/makefile/download_dependencies.sh\r\n\r\nsudo apt-get install -y autoconf automake libtool gcc-4.8 g++-4.8\r\n\r\ncd tensorflow/contrib/makefile/downloads/protobuf/\r\n\r\n./autogen.sh\r\n\r\n./configure\r\n\r\nmake\r\n\r\nsudo make install\r\n\r\nsudo ldconfig\r\n\r\ncd ../../../../..\r\n\r\nmake -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI OPTFLAGS=\"-Os\" CXX=g++-4.8\r\n```\r\nThe final command results in the error and is as far as I have been able to progress.\r\n\r\n\r\n### What other attempted solutions have you tried?\r\nI have not come across any applicable solutions to try. \r\n\r\nAny help would be appreciated.\r\n"}