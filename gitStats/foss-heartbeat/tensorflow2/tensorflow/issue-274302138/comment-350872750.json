{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/350872750", "html_url": "https://github.com/tensorflow/tensorflow/issues/14596#issuecomment-350872750", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14596", "id": 350872750, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDg3Mjc1MA==", "user": {"login": "boeddeker", "id": 13744128, "node_id": "MDQ6VXNlcjEzNzQ0MTI4", "avatar_url": "https://avatars3.githubusercontent.com/u/13744128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boeddeker", "html_url": "https://github.com/boeddeker", "followers_url": "https://api.github.com/users/boeddeker/followers", "following_url": "https://api.github.com/users/boeddeker/following{/other_user}", "gists_url": "https://api.github.com/users/boeddeker/gists{/gist_id}", "starred_url": "https://api.github.com/users/boeddeker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boeddeker/subscriptions", "organizations_url": "https://api.github.com/users/boeddeker/orgs", "repos_url": "https://api.github.com/users/boeddeker/repos", "events_url": "https://api.github.com/users/boeddeker/events{/privacy}", "received_events_url": "https://api.github.com/users/boeddeker/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-11T22:01:40Z", "updated_at": "2017-12-11T22:01:40Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I am not sure if it is possible, but it would be really nice if there is a full analysis of the <code>Dataset</code> graph.</p>\n<ul>\n<li>The simplest case is what you describe, prune the function body of <code>Defun</code>.</li>\n<li>But what if you do <code>Dataset.map().map()</code>? Does the <code>Defun</code> allow detect <em>stateless</em> nodes from the second map in the first map?</li>\n<li>Maybe the most difficult but also the most interesting case. Is it possible to prune stateless nodes that are stateless because they are not used inside the main graph? This would be really nice because currently, my dataset has input arguments for the python function to only load the relevant part, but this could also be done from the static graph.</li>\n</ul>", "body_text": "I am not sure if it is possible, but it would be really nice if there is a full analysis of the Dataset graph.\n\nThe simplest case is what you describe, prune the function body of Defun.\nBut what if you do Dataset.map().map()? Does the Defun allow detect stateless nodes from the second map in the first map?\nMaybe the most difficult but also the most interesting case. Is it possible to prune stateless nodes that are stateless because they are not used inside the main graph? This would be really nice because currently, my dataset has input arguments for the python function to only load the relevant part, but this could also be done from the static graph.", "body": "I am not sure if it is possible, but it would be really nice if there is a full analysis of the `Dataset` graph.\r\n - The simplest case is what you describe, prune the function body of `Defun`.\r\n - But what if you do `Dataset.map().map()`? Does the `Defun` allow detect _stateless_ nodes from the second map in the first map?\r\n - Maybe the most difficult but also the most interesting case. Is it possible to prune stateless nodes that are stateless because they are not used inside the main graph? This would be really nice because currently, my dataset has input arguments for the python function to only load the relevant part, but this could also be done from the static graph.\r\n"}