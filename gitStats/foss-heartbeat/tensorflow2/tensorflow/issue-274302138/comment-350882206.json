{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/350882206", "html_url": "https://github.com/tensorflow/tensorflow/issues/14596#issuecomment-350882206", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14596", "id": 350882206, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDg4MjIwNg==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-11T22:39:48Z", "updated_at": "2017-12-11T22:39:48Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Yes, we have plans to perform deeper rewrites on the <code>Dataset</code> graph that should cover at least the first two cases. The third case is difficult because an <code>Iterator</code> might have multiple consumers that you different sets of the outputs from a <code>Dataset</code>, and a new consumer that requires a superset of the existing consumers' outputs might arrive after we start processing. We'd need a more restrictive API to capture that potential optimization, and it might be worth trying to think of one. In the meantime, we'd probably encourage users to add a <code>Dataset.map()</code> to project away unused outputs, and use the second case to make that more efficient.</p>", "body_text": "Yes, we have plans to perform deeper rewrites on the Dataset graph that should cover at least the first two cases. The third case is difficult because an Iterator might have multiple consumers that you different sets of the outputs from a Dataset, and a new consumer that requires a superset of the existing consumers' outputs might arrive after we start processing. We'd need a more restrictive API to capture that potential optimization, and it might be worth trying to think of one. In the meantime, we'd probably encourage users to add a Dataset.map() to project away unused outputs, and use the second case to make that more efficient.", "body": "Yes, we have plans to perform deeper rewrites on the `Dataset` graph that should cover at least the first two cases. The third case is difficult because an `Iterator` might have multiple consumers that you different sets of the outputs from a `Dataset`, and a new consumer that requires a superset of the existing consumers' outputs might arrive after we start processing. We'd need a more restrictive API to capture that potential optimization, and it might be worth trying to think of one. In the meantime, we'd probably encourage users to add a `Dataset.map()` to project away unused outputs, and use the second case to make that more efficient."}