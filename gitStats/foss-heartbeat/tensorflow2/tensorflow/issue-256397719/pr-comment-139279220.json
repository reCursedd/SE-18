{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/139279220", "pull_request_review_id": 63195913, "id": 139279220, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTI3OTIyMA==", "diff_hunk": "@@ -46,9 +53,99 @@\n  * example usage.\n  */\n public class TensorFlowInferenceInterface {\n-  private static final String TAG = \"TensorFlowInferenceInterface\";\n+  private static final String TAG = \"TensorFlowInferenceInt\";\n   private static final String ASSET_FILE_PREFIX = \"file:///android_asset/\";\n \n+  /**\n+   * Copies raw resource to a cache file.\n+   *\n+   * @return File reference to cache file.\n+   */\n+  private File createCacheFile(Context context, int resourceId, String filename)\n+      throws IOException {\n+    File cacheFile = new File(context.getCacheDir(), filename);\n+\n+    if (cacheFile.createNewFile() == false) {", "path": "tensorflow/contrib/android/java/org/tensorflow/contrib/android/TensorFlowInferenceInterface.java", "position": 41, "original_position": 46, "commit_id": "6cd443476753209accef4f1f0e6c89f04ac5166d", "original_commit_id": "4b12af447a8b57987a3cba434fb2ac149ce038cf", "user": {"login": "cloudbank", "id": 2288294, "node_id": "MDQ6VXNlcjIyODgyOTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2288294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cloudbank", "html_url": "https://github.com/cloudbank", "followers_url": "https://api.github.com/users/cloudbank/followers", "following_url": "https://api.github.com/users/cloudbank/following{/other_user}", "gists_url": "https://api.github.com/users/cloudbank/gists{/gist_id}", "starred_url": "https://api.github.com/users/cloudbank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cloudbank/subscriptions", "organizations_url": "https://api.github.com/users/cloudbank/orgs", "repos_url": "https://api.github.com/users/cloudbank/repos", "events_url": "https://api.github.com/users/cloudbank/events{/privacy}", "received_events_url": "https://api.github.com/users/cloudbank/received_events", "type": "User", "site_admin": false}, "body": "res/raw is indexed in the R file and claims on SO to be faster. It does come back faster than the assets.\r\nOf course I tried to get the direct map first to no avail due to read only constraints on resources and compression so the assets would have to be uncompressed for a direct map, which unfortunately, creates an OutOfMemoryError, when trying to open from a FileInputStream. The (not retrained) inception file is 50MB which is half your allowance on Android, for instance. It makes little sense to try to do it that way for this reason. People want to use it in apps, not just stand alone, and will run out of memory fast.\r\nI will push the file again with the other corrections.", "created_at": "2017-09-16T05:48:03Z", "updated_at": "2017-09-16T21:20:08Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/12922#discussion_r139279220", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12922", "author_association": "NONE", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/139279220"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/12922#discussion_r139279220"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12922"}}, "body_html": "<p>res/raw is indexed in the R file and claims on SO to be faster. It does come back faster than the assets.<br>\nOf course I tried to get the direct map first to no avail due to read only constraints on resources and compression so the assets would have to be uncompressed for a direct map, which unfortunately, creates an OutOfMemoryError, when trying to open from a FileInputStream. The (not retrained) inception file is 50MB which is half your allowance on Android, for instance. It makes little sense to try to do it that way for this reason. People want to use it in apps, not just stand alone, and will run out of memory fast.<br>\nI will push the file again with the other corrections.</p>", "body_text": "res/raw is indexed in the R file and claims on SO to be faster. It does come back faster than the assets.\nOf course I tried to get the direct map first to no avail due to read only constraints on resources and compression so the assets would have to be uncompressed for a direct map, which unfortunately, creates an OutOfMemoryError, when trying to open from a FileInputStream. The (not retrained) inception file is 50MB which is half your allowance on Android, for instance. It makes little sense to try to do it that way for this reason. People want to use it in apps, not just stand alone, and will run out of memory fast.\nI will push the file again with the other corrections.", "in_reply_to_id": 139271759}