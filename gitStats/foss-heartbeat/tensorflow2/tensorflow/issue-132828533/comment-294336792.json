{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/294336792", "html_url": "https://github.com/tensorflow/tensorflow/issues/1045#issuecomment-294336792", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1045", "id": 294336792, "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDMzNjc5Mg==", "user": {"login": "jiqiujia", "id": 8109984, "node_id": "MDQ6VXNlcjgxMDk5ODQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/8109984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiqiujia", "html_url": "https://github.com/jiqiujia", "followers_url": "https://api.github.com/users/jiqiujia/followers", "following_url": "https://api.github.com/users/jiqiujia/following{/other_user}", "gists_url": "https://api.github.com/users/jiqiujia/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiqiujia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiqiujia/subscriptions", "organizations_url": "https://api.github.com/users/jiqiujia/orgs", "repos_url": "https://api.github.com/users/jiqiujia/repos", "events_url": "https://api.github.com/users/jiqiujia/events{/privacy}", "received_events_url": "https://api.github.com/users/jiqiujia/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-16T06:46:01Z", "updated_at": "2017-04-16T06:48:06Z", "author_association": "NONE", "body_html": "<p>I still have this problem after I run<br>\n<code>tf.group(tf.local_variables_initializer(), tf.global_variables_initializer())</code><br>\nI use tensorflow r1.0. Anyone could help?<br>\nDetailed trace back as follows:</p>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"\", line 1, in <br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 699, in runfile<br>\nexecfile(filename, namespace)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 81, in execfile<br>\nbuiltins.execfile(filename, *where)<br>\nFile \"/media/dl/data2/tf_projects/NUS/eval_mscoco.py\", line 138, in <br>\ncoord.join(threads)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/coordinator.py\", line 386, in join<br>\nsix.reraise(*self._exc_info_to_raise)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/queue_runner_impl.py\", line 234, in _run<br>\nsess.run(enqueue_op)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 767, in run<br>\nrun_metadata_ptr)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 965, in _run<br>\nfeed_dict_string, options, run_metadata)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1015, in _do_run<br>\ntarget_list, options, run_metadata)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1035, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs<br>\n[[Node: input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo<a href=\"input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\">T=DT_INT64, _class=[\"loc:@input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a>]]</p>\n<p>Caused by op u'input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo', defined at:<br>\nFile \"\", line 1, in <br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 699, in runfile<br>\nexecfile(filename, namespace)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 81, in execfile<br>\nbuiltins.execfile(filename, *where)<br>\nFile \"/media/dl/data2/tf_projects/NUS/eval_mscoco.py\", line 46, in <br>\nfns, labels = tf.train.slice_input_producer([fns, labels], num_epochs=1, shuffle=False)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 305, in slice_input_producer<br>\nshared_name=shared_name)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 262, in range_input_producer<br>\nshared_name, name, \"fraction_of_%d_full\" % capacity)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 156, in input_producer<br>\ninput_tensor = limit_epochs(input_tensor, num_epochs)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 96, in limit_epochs<br>\ncounter = epochs.count_up_to(num_epochs)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 628, in count_up_to<br>\nreturn state_ops.count_up_to(self._variable, limit=limit)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 126, in count_up_to<br>\nresult = _op_def_lib.apply_op(\"CountUpTo\", ref=ref, limit=limit, name=name)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 763, in apply_op<br>\nop_def=op_def)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2395, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1264, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>\n<p>FailedPreconditionError (see above for traceback): Attempting to use uninitialized value input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs<br>\n[[Node: input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo<a href=\"input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\">T=DT_INT64, _class=[\"loc:@input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a>]]</p>\n</blockquote>", "body_text": "I still have this problem after I run\ntf.group(tf.local_variables_initializer(), tf.global_variables_initializer())\nI use tensorflow r1.0. Anyone could help?\nDetailed trace back as follows:\n\nTraceback (most recent call last):\nFile \"\", line 1, in \nFile \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 699, in runfile\nexecfile(filename, namespace)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 81, in execfile\nbuiltins.execfile(filename, *where)\nFile \"/media/dl/data2/tf_projects/NUS/eval_mscoco.py\", line 138, in \ncoord.join(threads)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/coordinator.py\", line 386, in join\nsix.reraise(*self._exc_info_to_raise)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/queue_runner_impl.py\", line 234, in _run\nsess.run(enqueue_op)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 767, in run\nrun_metadata_ptr)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 965, in _run\nfeed_dict_string, options, run_metadata)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1015, in _do_run\ntarget_list, options, run_metadata)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1035, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\n[[Node: input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpToT=DT_INT64, _class=[\"loc:@input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]\nCaused by op u'input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo', defined at:\nFile \"\", line 1, in \nFile \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 699, in runfile\nexecfile(filename, namespace)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 81, in execfile\nbuiltins.execfile(filename, *where)\nFile \"/media/dl/data2/tf_projects/NUS/eval_mscoco.py\", line 46, in \nfns, labels = tf.train.slice_input_producer([fns, labels], num_epochs=1, shuffle=False)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 305, in slice_input_producer\nshared_name=shared_name)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 262, in range_input_producer\nshared_name, name, \"fraction_of_%d_full\" % capacity)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 156, in input_producer\ninput_tensor = limit_epochs(input_tensor, num_epochs)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 96, in limit_epochs\ncounter = epochs.count_up_to(num_epochs)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 628, in count_up_to\nreturn state_ops.count_up_to(self._variable, limit=limit)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 126, in count_up_to\nresult = _op_def_lib.apply_op(\"CountUpTo\", ref=ref, limit=limit, name=name)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 763, in apply_op\nop_def=op_def)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2395, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1264, in init\nself._traceback = _extract_stack()\nFailedPreconditionError (see above for traceback): Attempting to use uninitialized value input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\n[[Node: input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpToT=DT_INT64, _class=[\"loc:@input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]", "body": "I still have this problem after I run \r\n`tf.group(tf.local_variables_initializer(), tf.global_variables_initializer())`\r\nI use tensorflow r1.0. Anyone could help?\r\nDetailed trace back as follows:\r\n\r\n> Traceback (most recent call last):\r\n>   File \"<stdin>\", line 1, in <module>\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 699, in runfile\r\n>     execfile(filename, namespace)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 81, in execfile\r\n>     builtins.execfile(filename, *where)\r\n>   File \"/media/dl/data2/tf_projects/NUS/eval_mscoco.py\", line 138, in <module>\r\n>     coord.join(threads)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/coordinator.py\", line 386, in join\r\n>     six.reraise(*self._exc_info_to_raise)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/queue_runner_impl.py\", line 234, in _run\r\n>     sess.run(enqueue_op)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 767, in run\r\n>     run_metadata_ptr)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 965, in _run\r\n>     feed_dict_string, options, run_metadata)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1015, in _do_run\r\n>     target_list, options, run_metadata)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1035, in _do_call\r\n>     raise type(e)(node_def, op, message)\r\n> tensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\r\n> \t [[Node: input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\r\n> \r\n> Caused by op u'input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo', defined at:\r\n>   File \"<stdin>\", line 1, in <module>\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 699, in runfile\r\n>     execfile(filename, namespace)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 81, in execfile\r\n>     builtins.execfile(filename, *where)\r\n>   File \"/media/dl/data2/tf_projects/NUS/eval_mscoco.py\", line 46, in <module>\r\n>     fns, labels = tf.train.slice_input_producer([fns, labels], num_epochs=1, shuffle=False)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 305, in slice_input_producer\r\n>     shared_name=shared_name)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 262, in range_input_producer\r\n>     shared_name, name, \"fraction_of_%d_full\" % capacity)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 156, in input_producer\r\n>     input_tensor = limit_epochs(input_tensor, num_epochs)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 96, in limit_epochs\r\n>     counter = epochs.count_up_to(num_epochs)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 628, in count_up_to\r\n>     return state_ops.count_up_to(self._variable, limit=limit)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 126, in count_up_to\r\n>     result = _op_def_lib.apply_op(\"CountUpTo\", ref=ref, limit=limit, name=name)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 763, in apply_op\r\n>     op_def=op_def)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2395, in create_op\r\n>     original_op=self._default_original_op, op_def=op_def)\r\n>   File \"/home/dl/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1264, in __init__\r\n>     self._traceback = _extract_stack()\r\n> \r\n> FailedPreconditionError (see above for traceback): Attempting to use uninitialized value input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\r\n> \t [[Node: input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\r\n"}