{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9675", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9675/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9675/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9675/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9675", "id": 226460535, "node_id": "MDU6SXNzdWUyMjY0NjA1MzU=", "number": 9675, "title": "The tfrecords file is 8 times larger than raw image data", "user": {"login": "daiab", "id": 16236576, "node_id": "MDQ6VXNlcjE2MjM2NTc2", "avatar_url": "https://avatars0.githubusercontent.com/u/16236576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daiab", "html_url": "https://github.com/daiab", "followers_url": "https://api.github.com/users/daiab/followers", "following_url": "https://api.github.com/users/daiab/following{/other_user}", "gists_url": "https://api.github.com/users/daiab/gists{/gist_id}", "starred_url": "https://api.github.com/users/daiab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daiab/subscriptions", "organizations_url": "https://api.github.com/users/daiab/orgs", "repos_url": "https://api.github.com/users/daiab/repos", "events_url": "https://api.github.com/users/daiab/events{/privacy}", "received_events_url": "https://api.github.com/users/daiab/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-05-05T02:55:57Z", "updated_at": "2018-08-21T02:48:15Z", "closed_at": "2017-05-06T17:58:20Z", "author_association": "NONE", "body_html": "<p>I try to write a tfrecords file, but the file is larger than raw data.</p>\n<div class=\"highlight highlight-source-python\"><pre>img <span class=\"pl-k\">=</span> Image.open(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>img_file<span class=\"pl-pds\">'</span></span>)  <span class=\"pl-c\"><span class=\"pl-c\">#</span> this image file size: 24 kb</span>\nb <span class=\"pl-k\">=</span> img.tobytes()  <span class=\"pl-c\"><span class=\"pl-c\">#</span> the len(b) is 24 kb, this is right</span>\nfeats <span class=\"pl-k\">=</span> tf.train.Features(<span class=\"pl-v\">feature</span><span class=\"pl-k\">=</span>{<span class=\"pl-s\"><span class=\"pl-pds\">'</span>label<span class=\"pl-pds\">'</span></span>: tf.train.Feature(<span class=\"pl-v\">int64_list</span><span class=\"pl-k\">=</span>tf.train.Int64List(<span class=\"pl-v\">value</span><span class=\"pl-k\">=</span>[<span class=\"pl-c1\">2</span>])), \n<span class=\"pl-s\"><span class=\"pl-pds\">'</span>image_raw<span class=\"pl-pds\">'</span></span>: tf.train.Feature(<span class=\"pl-v\">bytes_list</span><span class=\"pl-k\">=</span>tf.train.BytesList(<span class=\"pl-v\">value</span><span class=\"pl-k\">=</span>[b]))})\nexample_string <span class=\"pl-k\">=</span> example.SerializeToString()\n<span class=\"pl-c1\">len</span>(example_string) <span class=\"pl-k\">/</span> <span class=\"pl-c1\">8</span> <span class=\"pl-k\">/</span> <span class=\"pl-c1\">1024</span>  <span class=\"pl-c\"><span class=\"pl-c\">#</span> the output == 24.0057373046875 kb, look like well</span></pre></div>\n<p>but I write this 'example_string' to tfrecords file , the tfrecords file size become 192 kb, I cann`t understand why tfrecords file size serval times larger than 'example_string' and raw image data</p>", "body_text": "I try to write a tfrecords file, but the file is larger than raw data.\nimg = Image.open('img_file')  # this image file size: 24 kb\nb = img.tobytes()  # the len(b) is 24 kb, this is right\nfeats = tf.train.Features(feature={'label': tf.train.Feature(int64_list=tf.train.Int64List(value=[2])), \n'image_raw': tf.train.Feature(bytes_list=tf.train.BytesList(value=[b]))})\nexample_string = example.SerializeToString()\nlen(example_string) / 8 / 1024  # the output == 24.0057373046875 kb, look like well\nbut I write this 'example_string' to tfrecords file , the tfrecords file size become 192 kb, I cann`t understand why tfrecords file size serval times larger than 'example_string' and raw image data", "body": "I try to write a tfrecords file, but the file is larger than raw data. \r\n```python (type)\r\nimg = Image.open('img_file')  # this image file size: 24 kb\r\nb = img.tobytes()  # the len(b) is 24 kb, this is right\r\nfeats = tf.train.Features(feature={'label': tf.train.Feature(int64_list=tf.train.Int64List(value=[2])), \r\n'image_raw': tf.train.Feature(bytes_list=tf.train.BytesList(value=[b]))})\r\nexample_string = example.SerializeToString()\r\nlen(example_string) / 8 / 1024  # the output == 24.0057373046875 kb, look like well\r\n```\r\nbut I write this 'example_string' to tfrecords file , the tfrecords file size become 192 kb, I cann`t understand why tfrecords file size serval times larger than 'example_string' and raw image data"}