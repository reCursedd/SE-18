{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/361454392", "html_url": "https://github.com/tensorflow/tensorflow/issues/11903#issuecomment-361454392", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11903", "id": 361454392, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTQ1NDM5Mg==", "user": {"login": "ahundt", "id": 55744, "node_id": "MDQ6VXNlcjU1NzQ0", "avatar_url": "https://avatars1.githubusercontent.com/u/55744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahundt", "html_url": "https://github.com/ahundt", "followers_url": "https://api.github.com/users/ahundt/followers", "following_url": "https://api.github.com/users/ahundt/following{/other_user}", "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions", "organizations_url": "https://api.github.com/users/ahundt/orgs", "repos_url": "https://api.github.com/users/ahundt/repos", "events_url": "https://api.github.com/users/ahundt/events{/privacy}", "received_events_url": "https://api.github.com/users/ahundt/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-30T02:16:09Z", "updated_at": "2018-01-30T02:16:33Z", "author_association": "NONE", "body_html": "<p>looks like it tried:</p>\n<pre><code>) ls -alh ~/src/tensorflow/third_party/mpi/*\n-rw-rw-r-- 1 ahundt ahundt 483 Aug 11 22:15 /home/ahundt/src/tensorflow/third_party/mpi/BUILD\nlrwxrwxrwx 1 ahundt ahundt  18 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/libmpi.so -&gt; /usr/lib/libmpi.so\n-rw-rw-r-- 1 ahundt ahundt 533 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpi.bzl\nlrwxrwxrwx 1 ahundt ahundt  21 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpicxx.h -&gt; /usr/include/mpicxx.h\nlrwxrwxrwx 1 ahundt ahundt  19 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpi.h -&gt; /usr//include/mpi.h\nlrwxrwxrwx 1 ahundt ahundt  19 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpio.h -&gt; /usr/include/mpio.h\nlrwxrwxrwx 1 ahundt ahundt  48 Jan 28 18:23 /home/ahundt/src/tensorflow/third_party/mpi/mpi_portable_platform.h -&gt; /usr/lib/openmpi/include/mpi_portable_platform.h\n</code></pre>\n<p>Basically it seems to assume everything would be in:</p>\n<pre><code>/path/to/mpi/include/\n/path/to/mpi/lib/\n</code></pre>\n<p>Hmm perhaps <code>/usr/lib/openmpi</code> is supposed to be the one that works?</p>\n<pre><code>) ls /usr/lib/openmpi\ninclude  lib\nahundt@femur|~/src\n) ls /usr/lib/openmpi/lib\nopenmpi                            libompitrace.so\npkgconfig                          libompitrace.so.0.0.0\nlibmca_common_sm.so                libopen-pal.so\nlibmca_common_sm.so.4.0.4          libopen-pal.so.13.0.2\nlibmca_common_verbs.so             libopen-rte.so\nlibmca_common_verbs.so.7.0.0       libopen-rte.so.12.0.2\nlibmpi_cxx.so                      liboshmem.so\nlibmpi_cxx.so.1.1.3                mpi_ext.mod\nlibmpi_mpifh.so                    mpi_f08_ext.mod\nlibmpi_mpifh.so.12.0.0             mpi_f08_interfaces_callbacks.mod\nlibmpi.so                          mpi_f08_interfaces.mod\nlibmpi.so.12.0.2                   mpi_f08.mod\nlibmpi_usempif08.so                mpi_f08_types.mod\nlibmpi_usempif08.so.11.1.0         mpi.mod\nlibmpi_usempi_ignore_tkr.so        pmpi_f08_interfaces.mod\nlibmpi_usempi_ignore_tkr.so.6.1.0\n) ls /usr/lib/openmpi/include\nmpp               mpif-externals.h     mpif-sentinels.h         shmem-compat.h\nopenmpi           mpif-ext.h           mpif-sizeof.h            shmem.fh\nopenshmem         mpif.h               mpi.h                    shmem.h\nmpi-ext.h         mpif-handles.h       mpi_portable_platform.h  shmemx.h\nmpif-config.h     mpif-io-constants.h  pshmem.h\nmpif-constants.h  mpif-io-handles.h    pshmemx.h\n</code></pre>", "body_text": "looks like it tried:\n) ls -alh ~/src/tensorflow/third_party/mpi/*\n-rw-rw-r-- 1 ahundt ahundt 483 Aug 11 22:15 /home/ahundt/src/tensorflow/third_party/mpi/BUILD\nlrwxrwxrwx 1 ahundt ahundt  18 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/libmpi.so -> /usr/lib/libmpi.so\n-rw-rw-r-- 1 ahundt ahundt 533 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpi.bzl\nlrwxrwxrwx 1 ahundt ahundt  21 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpicxx.h -> /usr/include/mpicxx.h\nlrwxrwxrwx 1 ahundt ahundt  19 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpi.h -> /usr//include/mpi.h\nlrwxrwxrwx 1 ahundt ahundt  19 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpio.h -> /usr/include/mpio.h\nlrwxrwxrwx 1 ahundt ahundt  48 Jan 28 18:23 /home/ahundt/src/tensorflow/third_party/mpi/mpi_portable_platform.h -> /usr/lib/openmpi/include/mpi_portable_platform.h\n\nBasically it seems to assume everything would be in:\n/path/to/mpi/include/\n/path/to/mpi/lib/\n\nHmm perhaps /usr/lib/openmpi is supposed to be the one that works?\n) ls /usr/lib/openmpi\ninclude  lib\nahundt@femur|~/src\n) ls /usr/lib/openmpi/lib\nopenmpi                            libompitrace.so\npkgconfig                          libompitrace.so.0.0.0\nlibmca_common_sm.so                libopen-pal.so\nlibmca_common_sm.so.4.0.4          libopen-pal.so.13.0.2\nlibmca_common_verbs.so             libopen-rte.so\nlibmca_common_verbs.so.7.0.0       libopen-rte.so.12.0.2\nlibmpi_cxx.so                      liboshmem.so\nlibmpi_cxx.so.1.1.3                mpi_ext.mod\nlibmpi_mpifh.so                    mpi_f08_ext.mod\nlibmpi_mpifh.so.12.0.0             mpi_f08_interfaces_callbacks.mod\nlibmpi.so                          mpi_f08_interfaces.mod\nlibmpi.so.12.0.2                   mpi_f08.mod\nlibmpi_usempif08.so                mpi_f08_types.mod\nlibmpi_usempif08.so.11.1.0         mpi.mod\nlibmpi_usempi_ignore_tkr.so        pmpi_f08_interfaces.mod\nlibmpi_usempi_ignore_tkr.so.6.1.0\n) ls /usr/lib/openmpi/include\nmpp               mpif-externals.h     mpif-sentinels.h         shmem-compat.h\nopenmpi           mpif-ext.h           mpif-sizeof.h            shmem.fh\nopenshmem         mpif.h               mpi.h                    shmem.h\nmpi-ext.h         mpif-handles.h       mpi_portable_platform.h  shmemx.h\nmpif-config.h     mpif-io-constants.h  pshmem.h\nmpif-constants.h  mpif-io-handles.h    pshmemx.h", "body": "looks like it tried:\r\n```\r\n) ls -alh ~/src/tensorflow/third_party/mpi/*\r\n-rw-rw-r-- 1 ahundt ahundt 483 Aug 11 22:15 /home/ahundt/src/tensorflow/third_party/mpi/BUILD\r\nlrwxrwxrwx 1 ahundt ahundt  18 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/libmpi.so -> /usr/lib/libmpi.so\r\n-rw-rw-r-- 1 ahundt ahundt 533 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpi.bzl\r\nlrwxrwxrwx 1 ahundt ahundt  21 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpicxx.h -> /usr/include/mpicxx.h\r\nlrwxrwxrwx 1 ahundt ahundt  19 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpi.h -> /usr//include/mpi.h\r\nlrwxrwxrwx 1 ahundt ahundt  19 Jan 28 18:37 /home/ahundt/src/tensorflow/third_party/mpi/mpio.h -> /usr/include/mpio.h\r\nlrwxrwxrwx 1 ahundt ahundt  48 Jan 28 18:23 /home/ahundt/src/tensorflow/third_party/mpi/mpi_portable_platform.h -> /usr/lib/openmpi/include/mpi_portable_platform.h\r\n```\r\nBasically it seems to assume everything would be in:\r\n```\r\n/path/to/mpi/include/\r\n/path/to/mpi/lib/\r\n```\r\n\r\nHmm perhaps `/usr/lib/openmpi` is supposed to be the one that works?\r\n```\r\n) ls /usr/lib/openmpi\r\ninclude  lib\r\nahundt@femur|~/src\r\n) ls /usr/lib/openmpi/lib\r\nopenmpi                            libompitrace.so\r\npkgconfig                          libompitrace.so.0.0.0\r\nlibmca_common_sm.so                libopen-pal.so\r\nlibmca_common_sm.so.4.0.4          libopen-pal.so.13.0.2\r\nlibmca_common_verbs.so             libopen-rte.so\r\nlibmca_common_verbs.so.7.0.0       libopen-rte.so.12.0.2\r\nlibmpi_cxx.so                      liboshmem.so\r\nlibmpi_cxx.so.1.1.3                mpi_ext.mod\r\nlibmpi_mpifh.so                    mpi_f08_ext.mod\r\nlibmpi_mpifh.so.12.0.0             mpi_f08_interfaces_callbacks.mod\r\nlibmpi.so                          mpi_f08_interfaces.mod\r\nlibmpi.so.12.0.2                   mpi_f08.mod\r\nlibmpi_usempif08.so                mpi_f08_types.mod\r\nlibmpi_usempif08.so.11.1.0         mpi.mod\r\nlibmpi_usempi_ignore_tkr.so        pmpi_f08_interfaces.mod\r\nlibmpi_usempi_ignore_tkr.so.6.1.0\r\n) ls /usr/lib/openmpi/include\r\nmpp               mpif-externals.h     mpif-sentinels.h         shmem-compat.h\r\nopenmpi           mpif-ext.h           mpif-sizeof.h            shmem.fh\r\nopenshmem         mpif.h               mpi.h                    shmem.h\r\nmpi-ext.h         mpif-handles.h       mpi_portable_platform.h  shmemx.h\r\nmpif-config.h     mpif-io-constants.h  pshmem.h\r\nmpif-constants.h  mpif-io-handles.h    pshmemx.h\r\n```"}