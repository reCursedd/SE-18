{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/412202776", "html_url": "https://github.com/tensorflow/tensorflow/pull/20537#issuecomment-412202776", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20537", "id": 412202776, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjIwMjc3Ng==", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-10T20:50:47Z", "updated_at": "2018-08-10T20:50:47Z", "author_association": "MEMBER", "body_html": "<p>I cannot tell how, but the failures look legit.<br>\nThis is what we see on windows:</p>\n<pre><code>ERROR: T:/tmp/bigvaudl/external/nasm/BUILD.bazel:8:1: undeclared inclusion(s) in rule '@nasm//:nasm':\nthis rule is missing dependency declarations for the following files included by 'external/nasm/stdlib/strlcpy.c':\n  'external/nasm/config/msvc.h'\n</code></pre>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13115060\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rongjiecomputer\">@rongjiecomputer</a> could you conditionally add msvc.h  to this list, maybe what will fix it?<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/third_party/nasm.BUILD#L45\">https://github.com/tensorflow/tensorflow/blob/master/third_party/nasm.BUILD#L45</a><br>\nI think with the new headers, somehow different code paths are activated in nasm by some macros.</p>", "body_text": "I cannot tell how, but the failures look legit.\nThis is what we see on windows:\nERROR: T:/tmp/bigvaudl/external/nasm/BUILD.bazel:8:1: undeclared inclusion(s) in rule '@nasm//:nasm':\nthis rule is missing dependency declarations for the following files included by 'external/nasm/stdlib/strlcpy.c':\n  'external/nasm/config/msvc.h'\n\n@rongjiecomputer could you conditionally add msvc.h  to this list, maybe what will fix it?\nhttps://github.com/tensorflow/tensorflow/blob/master/third_party/nasm.BUILD#L45\nI think with the new headers, somehow different code paths are activated in nasm by some macros.", "body": "I cannot tell how, but the failures look legit.\r\nThis is what we see on windows:\r\n```\r\nERROR: T:/tmp/bigvaudl/external/nasm/BUILD.bazel:8:1: undeclared inclusion(s) in rule '@nasm//:nasm':\r\nthis rule is missing dependency declarations for the following files included by 'external/nasm/stdlib/strlcpy.c':\r\n  'external/nasm/config/msvc.h'\r\n```\r\n@rongjiecomputer could you conditionally add msvc.h  to this list, maybe what will fix it?\r\nhttps://github.com/tensorflow/tensorflow/blob/master/third_party/nasm.BUILD#L45\r\nI think with the new headers, somehow different code paths are activated in nasm by some macros."}