{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/277696723", "html_url": "https://github.com/tensorflow/tensorflow/issues/1122#issuecomment-277696723", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1122", "id": 277696723, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzY5NjcyMw==", "user": {"login": "mshunshin", "id": 1478710, "node_id": "MDQ6VXNlcjE0Nzg3MTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1478710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mshunshin", "html_url": "https://github.com/mshunshin", "followers_url": "https://api.github.com/users/mshunshin/followers", "following_url": "https://api.github.com/users/mshunshin/following{/other_user}", "gists_url": "https://api.github.com/users/mshunshin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mshunshin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mshunshin/subscriptions", "organizations_url": "https://api.github.com/users/mshunshin/orgs", "repos_url": "https://api.github.com/users/mshunshin/repos", "events_url": "https://api.github.com/users/mshunshin/events{/privacy}", "received_events_url": "https://api.github.com/users/mshunshin/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-06T14:26:08Z", "updated_at": "2017-02-06T14:26:08Z", "author_association": "NONE", "body_html": "<p>Many thanks. With tf.global_variables() the save files are much larger as I think it includes the gradients; in the end I used:</p>\n<p>saver = tf.train.Saver([x for x in tf.global_variables() if 'Adam' not in x.name])</p>\n<p>and because the session manager init doesn't initialise them properly:</p>\n<p>sess.run(tf.variables_initializer([x for x in tf.global_variables() if 'Adam' in x.name]))</p>\n<p>(Using tf.train.AdamOptimizer)</p>", "body_text": "Many thanks. With tf.global_variables() the save files are much larger as I think it includes the gradients; in the end I used:\nsaver = tf.train.Saver([x for x in tf.global_variables() if 'Adam' not in x.name])\nand because the session manager init doesn't initialise them properly:\nsess.run(tf.variables_initializer([x for x in tf.global_variables() if 'Adam' in x.name]))\n(Using tf.train.AdamOptimizer)", "body": "Many thanks. With tf.global_variables() the save files are much larger as I think it includes the gradients; in the end I used:\r\n\r\nsaver = tf.train.Saver([x for x in tf.global_variables() if 'Adam' not in x.name])\r\n\r\nand because the session manager init doesn't initialise them properly:\r\n\r\nsess.run(tf.variables_initializer([x for x in tf.global_variables() if 'Adam' in x.name]))\r\n\r\n(Using tf.train.AdamOptimizer)"}