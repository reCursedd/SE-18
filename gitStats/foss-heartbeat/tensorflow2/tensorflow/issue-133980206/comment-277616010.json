{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/277616010", "html_url": "https://github.com/tensorflow/tensorflow/issues/1122#issuecomment-277616010", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1122", "id": 277616010, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzYxNjAxMA==", "user": {"login": "ishaybee", "id": 25502989, "node_id": "MDQ6VXNlcjI1NTAyOTg5", "avatar_url": "https://avatars3.githubusercontent.com/u/25502989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ishaybee", "html_url": "https://github.com/ishaybee", "followers_url": "https://api.github.com/users/ishaybee/followers", "following_url": "https://api.github.com/users/ishaybee/following{/other_user}", "gists_url": "https://api.github.com/users/ishaybee/gists{/gist_id}", "starred_url": "https://api.github.com/users/ishaybee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ishaybee/subscriptions", "organizations_url": "https://api.github.com/users/ishaybee/orgs", "repos_url": "https://api.github.com/users/ishaybee/repos", "events_url": "https://api.github.com/users/ishaybee/events{/privacy}", "received_events_url": "https://api.github.com/users/ishaybee/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-06T08:41:08Z", "updated_at": "2017-02-06T08:41:08Z", "author_association": "NONE", "body_html": "<p>for me things started to work when I used this wrapper:<br>\n<code>def batch_norm_wrapper(x, phase, decay, scope, reuse): with tf.variable_scope(scope, reuse=reuse): normed = tf.contrib.layers.batch_norm(x, center=True, scale=True, decay=decay, is_training=phase, scope='bn',updates_collections=None, reuse=reuse) return normed</code><br>\nthe whole using of scopes and reuse is not clear in this thread for my opinion.</p>", "body_text": "for me things started to work when I used this wrapper:\ndef batch_norm_wrapper(x, phase, decay, scope, reuse): with tf.variable_scope(scope, reuse=reuse): normed = tf.contrib.layers.batch_norm(x, center=True, scale=True, decay=decay, is_training=phase, scope='bn',updates_collections=None, reuse=reuse) return normed\nthe whole using of scopes and reuse is not clear in this thread for my opinion.", "body": "for me things started to work when I used this wrapper:\r\n`def batch_norm_wrapper(x, phase, decay, scope, reuse):\r\n    with tf.variable_scope(scope, reuse=reuse):\r\n        normed = tf.contrib.layers.batch_norm(x, center=True, scale=True, decay=decay, is_training=phase, scope='bn',updates_collections=None, reuse=reuse)\r\n        return normed`\r\nthe whole using of scopes and reuse is not clear in this thread for my opinion.\r\n    \r\n"}