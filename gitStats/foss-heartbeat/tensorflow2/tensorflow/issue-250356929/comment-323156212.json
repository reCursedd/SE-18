{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/323156212", "html_url": "https://github.com/tensorflow/tensorflow/issues/12298#issuecomment-323156212", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12298", "id": 323156212, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzE1NjIxMg==", "user": {"login": "sadlerjw", "id": 2762244, "node_id": "MDQ6VXNlcjI3NjIyNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2762244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sadlerjw", "html_url": "https://github.com/sadlerjw", "followers_url": "https://api.github.com/users/sadlerjw/followers", "following_url": "https://api.github.com/users/sadlerjw/following{/other_user}", "gists_url": "https://api.github.com/users/sadlerjw/gists{/gist_id}", "starred_url": "https://api.github.com/users/sadlerjw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sadlerjw/subscriptions", "organizations_url": "https://api.github.com/users/sadlerjw/orgs", "repos_url": "https://api.github.com/users/sadlerjw/repos", "events_url": "https://api.github.com/users/sadlerjw/events{/privacy}", "received_events_url": "https://api.github.com/users/sadlerjw/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-17T18:30:01Z", "updated_at": "2017-08-17T18:30:01Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=161459\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/petewarden\">@petewarden</a>! I got TF to successfully compile, but when trying to compile my iOS app with the generated .a file, I get the following error:</p>\n<pre><code>duplicate symbol __ZN10tensorflow15CreateGPUTracerEv in:\n    /Users/jason/everalbum/ios/Ever/Ever/lib/tensorflow/libtensorflow-core.a(gpu_tracer.o)\nld: 1 duplicate symbol for architecture arm64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n<p>I did some searching and this looks just like <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"184746900\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5159\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5159/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5159\">#5159</a>, but not being very knowledgeable about build systems, I couldn't track down a similar cause. I did confirm that there are in fact duplicate symbols:</p>\n<div class=\"highlight highlight-source-shell\"><pre>$ nm libtensorflow-core.a <span class=\"pl-k\">|</span> grep GPUTracer\n---------------- T __ZN10tensorflow15CreateGPUTracerEv\n---------------- T __ZN10tensorflow15CreateGPUTracerEv</pre></div>\n<p>I'm happy to file a separate issue for this if that's what's appropriate.</p>\n<p>In the meantime, I'll try to cherry-pick your commit into our already-working Tensorflow tree instead of using your tree, but on my puny computer the compiles take forever. Will update when I have results from that.</p>", "body_text": "Thanks @petewarden! I got TF to successfully compile, but when trying to compile my iOS app with the generated .a file, I get the following error:\nduplicate symbol __ZN10tensorflow15CreateGPUTracerEv in:\n    /Users/jason/everalbum/ios/Ever/Ever/lib/tensorflow/libtensorflow-core.a(gpu_tracer.o)\nld: 1 duplicate symbol for architecture arm64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\nI did some searching and this looks just like #5159, but not being very knowledgeable about build systems, I couldn't track down a similar cause. I did confirm that there are in fact duplicate symbols:\n$ nm libtensorflow-core.a | grep GPUTracer\n---------------- T __ZN10tensorflow15CreateGPUTracerEv\n---------------- T __ZN10tensorflow15CreateGPUTracerEv\nI'm happy to file a separate issue for this if that's what's appropriate.\nIn the meantime, I'll try to cherry-pick your commit into our already-working Tensorflow tree instead of using your tree, but on my puny computer the compiles take forever. Will update when I have results from that.", "body": "Thanks @petewarden! I got TF to successfully compile, but when trying to compile my iOS app with the generated .a file, I get the following error:\r\n```\r\nduplicate symbol __ZN10tensorflow15CreateGPUTracerEv in:\r\n    /Users/jason/everalbum/ios/Ever/Ever/lib/tensorflow/libtensorflow-core.a(gpu_tracer.o)\r\nld: 1 duplicate symbol for architecture arm64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n```\r\nI did some searching and this looks just like #5159, but not being very knowledgeable about build systems, I couldn't track down a similar cause. I did confirm that there are in fact duplicate symbols:\r\n```sh\r\n$ nm libtensorflow-core.a | grep GPUTracer\r\n---------------- T __ZN10tensorflow15CreateGPUTracerEv\r\n---------------- T __ZN10tensorflow15CreateGPUTracerEv\r\n```\r\nI'm happy to file a separate issue for this if that's what's appropriate.\r\n\r\nIn the meantime, I'll try to cherry-pick your commit into our already-working Tensorflow tree instead of using your tree, but on my puny computer the compiles take forever. Will update when I have results from that."}