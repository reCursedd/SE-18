{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/141405394", "pull_request_review_id": 65605937, "id": 141405394, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTQwNTM5NA==", "diff_hunk": "@@ -0,0 +1,347 @@\n+from __future__ import absolute_import\n+from __future__ import division\n+from __future__ import print_function\n+\n+import re\n+\n+from tensorflow.contrib.framework.python.ops import variables\n+from tensorflow.contrib.layers.python.layers import optimizers\n+\n+from tensorflow.contrib.timeseries.python.timeseries import feature_keys\n+\n+from tensorflow.python.estimator import estimator_lib\n+from tensorflow.python.estimator.canned import head as head_lib\n+from tensorflow.python.estimator.export import export_lib\n+from tensorflow.python.framework import dtypes\n+from tensorflow.python.framework import ops\n+from tensorflow.python.ops import array_ops\n+from tensorflow.python.ops import control_flow_ops\n+from tensorflow.python.ops import math_ops\n+from tensorflow.python.ops import state_ops\n+from tensorflow.python.ops import variable_scope\n+from tensorflow.python.util import nest\n+\n+\n+def time_series_regression_head(\n+        model, state_manager, optimizer, input_statistics_generator=None):\n+  \"\"\"Creates a `_Head` for time series regression.\n+\n+  Args:\n+    weight_column: A string or a `_NumericColumn` created by\n+      `tf.feature_column.numeric_column` defining feature column representing\n+      weights. It is used to down weight or boost examples during training. It\n+      will be multiplied by the loss of the example.\n+    label_dimension: Number of regression labels per example. This is the size\n+      of the last dimension of the labels `Tensor` (typically, this has shape\n+      `[batch_size, label_dimension]`).\n+\n+  Returns:\n+    An instance of `_Head` for time series regression.\n+  \"\"\"\n+  return _TimeSeriesRegressionHead(\n+    model, state_manager, optimizer, input_statistics_generator)\n+\n+\n+class _TimeSeriesRegressionHead(head_lib._Head):  # pylint:disable=protected-access", "path": "tensorflow/contrib/timeseries/python/timeseries/head.py", "position": 45, "original_position": 45, "commit_id": "1d9feae3307c5e46454e2cdfacfeeb1d3adb8de4", "original_commit_id": "cab113a915c5aaf11811d37947c829a6d3c588a2", "user": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "body": "@ispirmustafa: Any objections to this inheritance? We'd like to eventually add some canned time series Estimators, and Yuan has started on some refactoring to get there. We don't actually get any code from the inheritance, so we could just omit the base class.", "created_at": "2017-09-27T16:57:46Z", "updated_at": "2017-09-27T20:49:14Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/13275#discussion_r141405394", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/13275", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/141405394"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/13275#discussion_r141405394"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/13275"}}, "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=19293677\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ispirmustafa\">@ispirmustafa</a>: Any objections to this inheritance? We'd like to eventually add some canned time series Estimators, and Yuan has started on some refactoring to get there. We don't actually get any code from the inheritance, so we could just omit the base class.</p>", "body_text": "@ispirmustafa: Any objections to this inheritance? We'd like to eventually add some canned time series Estimators, and Yuan has started on some refactoring to get there. We don't actually get any code from the inheritance, so we could just omit the base class."}