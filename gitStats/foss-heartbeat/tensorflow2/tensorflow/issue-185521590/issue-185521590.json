{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5222", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5222/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5222/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5222/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5222", "id": 185521590, "node_id": "MDU6SXNzdWUxODU1MjE1OTA=", "number": 5222, "title": "what is the feature layer of inception v1 model", "user": {"login": "civilman628", "id": 8059551, "node_id": "MDQ6VXNlcjgwNTk1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8059551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/civilman628", "html_url": "https://github.com/civilman628", "followers_url": "https://api.github.com/users/civilman628/followers", "following_url": "https://api.github.com/users/civilman628/following{/other_user}", "gists_url": "https://api.github.com/users/civilman628/gists{/gist_id}", "starred_url": "https://api.github.com/users/civilman628/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/civilman628/subscriptions", "organizations_url": "https://api.github.com/users/civilman628/orgs", "repos_url": "https://api.github.com/users/civilman628/repos", "events_url": "https://api.github.com/users/civilman628/events{/privacy}", "received_events_url": "https://api.github.com/users/civilman628/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-10-26T21:58:19Z", "updated_at": "2016-10-28T16:44:49Z", "closed_at": "2016-10-26T22:46:32Z", "author_association": "NONE", "body_html": "<p>As show in <strong>classify_image.py</strong> for inception v3 model, the feature layer is <strong>pool_3:0</strong></p>\n<pre><code># 'pool_3:0': A tensor containing the next-to-last layer containing 2048\n#   float description of the image.\n</code></pre>\n<p>I print out the nodes of inception v1 model .pb file as below. I guess the feature layer is <strong>avgpool0/reshape</strong>, is that right?</p>\n<p>input<br>\nconv2d0_w<br>\nconv2d0_b<br>\nconv2d1_w<br>\nconv2d1_b<br>\nconv2d2_w<br>\nconv2d2_b<br>\n...<br>\n...<br>\n...<br>\n...<br>\nmixed5b/concat_dim<br>\nmixed5b<br>\n<strong>avgpool0</strong><br>\nhead0_pool<br>\nhead0_bottleneck_pre_relu/conv<br>\nhead0_bottleneck_pre_relu<br>\nhead0_bottleneck<br>\nhead0_bottleneck/reshape/shape<br>\nhead0_bottleneck/reshape<br>\nnn0_pre_relu/matmul<br>\nnn0_pre_relu<br>\nnn0<br>\nnn0/reshape/shape<br>\nnn0/reshape<br>\nsoftmax0_pre_activation/matmul<br>\nsoftmax0_pre_activation<br>\nsoftmax0<br>\nhead1_pool<br>\nhead1_bottleneck_pre_relu/conv<br>\nhead1_bottleneck_pre_relu<br>\nhead1_bottleneck<br>\nhead1_bottleneck/reshape/shape<br>\nhead1_bottleneck/reshape<br>\nnn1_pre_relu/matmul<br>\nnn1_pre_relu<br>\nnn1<br>\nnn1/reshape/shape<br>\nnn1/reshape<br>\nsoftmax1_pre_activation/matmul<br>\nsoftmax1_pre_activation<br>\nsoftmax1<br>\navgpool0/reshape/shape<br>\n<strong>avgpool0/reshape</strong><br>\nsoftmax2_pre_activation/matmul<br>\nsoftmax2_pre_activation<br>\nsoftmax2<br>\noutput<br>\noutput1<br>\noutput2</p>", "body_text": "As show in classify_image.py for inception v3 model, the feature layer is pool_3:0\n# 'pool_3:0': A tensor containing the next-to-last layer containing 2048\n#   float description of the image.\n\nI print out the nodes of inception v1 model .pb file as below. I guess the feature layer is avgpool0/reshape, is that right?\ninput\nconv2d0_w\nconv2d0_b\nconv2d1_w\nconv2d1_b\nconv2d2_w\nconv2d2_b\n...\n...\n...\n...\nmixed5b/concat_dim\nmixed5b\navgpool0\nhead0_pool\nhead0_bottleneck_pre_relu/conv\nhead0_bottleneck_pre_relu\nhead0_bottleneck\nhead0_bottleneck/reshape/shape\nhead0_bottleneck/reshape\nnn0_pre_relu/matmul\nnn0_pre_relu\nnn0\nnn0/reshape/shape\nnn0/reshape\nsoftmax0_pre_activation/matmul\nsoftmax0_pre_activation\nsoftmax0\nhead1_pool\nhead1_bottleneck_pre_relu/conv\nhead1_bottleneck_pre_relu\nhead1_bottleneck\nhead1_bottleneck/reshape/shape\nhead1_bottleneck/reshape\nnn1_pre_relu/matmul\nnn1_pre_relu\nnn1\nnn1/reshape/shape\nnn1/reshape\nsoftmax1_pre_activation/matmul\nsoftmax1_pre_activation\nsoftmax1\navgpool0/reshape/shape\navgpool0/reshape\nsoftmax2_pre_activation/matmul\nsoftmax2_pre_activation\nsoftmax2\noutput\noutput1\noutput2", "body": "As show in **classify_image.py** for inception v3 model, the feature layer is **pool_3:0**\n\n```\n# 'pool_3:0': A tensor containing the next-to-last layer containing 2048\n#   float description of the image.\n```\n\nI print out the nodes of inception v1 model .pb file as below. I guess the feature layer is **avgpool0/reshape**, is that right? \n\ninput\nconv2d0_w\nconv2d0_b\nconv2d1_w\nconv2d1_b\nconv2d2_w\nconv2d2_b\n... \n...\n...\n...\nmixed5b/concat_dim\nmixed5b\n**avgpool0**\nhead0_pool\nhead0_bottleneck_pre_relu/conv\nhead0_bottleneck_pre_relu\nhead0_bottleneck\nhead0_bottleneck/reshape/shape\nhead0_bottleneck/reshape\nnn0_pre_relu/matmul\nnn0_pre_relu\nnn0\nnn0/reshape/shape\nnn0/reshape\nsoftmax0_pre_activation/matmul\nsoftmax0_pre_activation\nsoftmax0\nhead1_pool\nhead1_bottleneck_pre_relu/conv\nhead1_bottleneck_pre_relu\nhead1_bottleneck\nhead1_bottleneck/reshape/shape\nhead1_bottleneck/reshape\nnn1_pre_relu/matmul\nnn1_pre_relu\nnn1\nnn1/reshape/shape\nnn1/reshape\nsoftmax1_pre_activation/matmul\nsoftmax1_pre_activation\nsoftmax1\navgpool0/reshape/shape\n**avgpool0/reshape**\nsoftmax2_pre_activation/matmul\nsoftmax2_pre_activation\nsoftmax2\noutput\noutput1\noutput2\n"}