{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/312371330", "html_url": "https://github.com/tensorflow/tensorflow/issues/10800#issuecomment-312371330", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10800", "id": 312371330, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjM3MTMzMA==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-30T20:57:52Z", "updated_at": "2017-06-30T20:57:52Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2372391\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/3rd3\">@3rd3</a> indeed, this is a common pitfall. In retrospect I think it would be less confusion if your example usage was explicitly forbidden. You have a mix -- some Tensors are created inside tf.cond, while others are created outside of tf.cond. To ensure laziness, all computation must be defined by the lambda called by <code>tf.cond</code>, that enables the construct to insert proper merge/switch calls</p>", "body_text": "@3rd3 indeed, this is a common pitfall. In retrospect I think it would be less confusion if your example usage was explicitly forbidden. You have a mix -- some Tensors are created inside tf.cond, while others are created outside of tf.cond. To ensure laziness, all computation must be defined by the lambda called by tf.cond, that enables the construct to insert proper merge/switch calls", "body": "@3rd3 indeed, this is a common pitfall. In retrospect I think it would be less confusion if your example usage was explicitly forbidden. You have a mix -- some Tensors are created inside tf.cond, while others are created outside of tf.cond. To ensure laziness, all computation must be defined by the lambda called by `tf.cond`, that enables the construct to insert proper merge/switch calls"}