{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13048", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13048/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13048/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13048/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13048", "id": 257846387, "node_id": "MDU6SXNzdWUyNTc4NDYzODc=", "number": 13048, "title": "Word2vec on GPU slower than CPU", "user": {"login": "manneshiva", "id": 26998249, "node_id": "MDQ6VXNlcjI2OTk4MjQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/26998249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manneshiva", "html_url": "https://github.com/manneshiva", "followers_url": "https://api.github.com/users/manneshiva/followers", "following_url": "https://api.github.com/users/manneshiva/following{/other_user}", "gists_url": "https://api.github.com/users/manneshiva/gists{/gist_id}", "starred_url": "https://api.github.com/users/manneshiva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manneshiva/subscriptions", "organizations_url": "https://api.github.com/users/manneshiva/orgs", "repos_url": "https://api.github.com/users/manneshiva/repos", "events_url": "https://api.github.com/users/manneshiva/events{/privacy}", "received_events_url": "https://api.github.com/users/manneshiva/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-14T20:27:56Z", "updated_at": "2018-07-15T18:59:24Z", "closed_at": "2017-09-15T20:28:05Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>OS Platform and Distribution</strong>: Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.3.0</li>\n<li><strong>Python version</strong>: 2.7.12</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.5.0</li>\n<li><strong>CUDA/cuDNN version</strong>: 8.0/6.0</li>\n<li><strong>GPU model and memory</strong>: NVIDIA GTX 1060 / 3GB</li>\n<li><strong>Docker used:</strong> yes</li>\n<li>I picked up the code from the <a href=\"https://github.com/tensorflow/models/tree/master/tutorials/embedding\">word2vec example</a> on your official repo and made a few changes.The core code to train word2vec remains the same.</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I have been working on benchmarking commonly used frameworks/libraries for unsupervised learning of word embeddings(word2vec). I am currently comparing tensorflow(cpu/gpu), gensim, deeplearning4j and the original c code on standard metrics like training time, peak memory usage and quality of learned vectors. Link to my <a href=\"https://github.com/manneshiva/benchmark-word2vec-frameworks\">github repo</a> (still working on it). I ran the benchmark on text8 corpus(plan to run it on a much larger corpus later for the true picture) which gave me strange results.</p>\n<ul>\n<li>Tensorflow on GPU is much slower than CPU</li>\n<li>Tensorflow is much slower than other frameworks</li>\n</ul>\n<p>Is this behavior expected? Would appreciate any inputs.</p>\n<h3>Source code / logs</h3>\n<p>Link to <a href=\"https://github.com/manneshiva/benchmark-word2vec-frameworks/blob/master/nn_frameworks/tensorflow/word2vec.py\">tensorflow code</a><br>\nLink to <a href=\"http://nbviewer.jupyter.org/github/manneshiva/benchmark-word2vec-frameworks/blob/8223b9ff4b37869e5aef36a909dec384e08f3a05/visualize_report.ipynb\" rel=\"nofollow\">results</a> of sample benchmark on text8 corpus</p>", "body_text": "System information\n\nOS Platform and Distribution: Linux Ubuntu 16.04\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.3.0\nPython version: 2.7.12\nBazel version (if compiling from source): 0.5.0\nCUDA/cuDNN version: 8.0/6.0\nGPU model and memory: NVIDIA GTX 1060 / 3GB\nDocker used: yes\nI picked up the code from the word2vec example on your official repo and made a few changes.The core code to train word2vec remains the same.\n\nDescribe the problem\nI have been working on benchmarking commonly used frameworks/libraries for unsupervised learning of word embeddings(word2vec). I am currently comparing tensorflow(cpu/gpu), gensim, deeplearning4j and the original c code on standard metrics like training time, peak memory usage and quality of learned vectors. Link to my github repo (still working on it). I ran the benchmark on text8 corpus(plan to run it on a much larger corpus later for the true picture) which gave me strange results.\n\nTensorflow on GPU is much slower than CPU\nTensorflow is much slower than other frameworks\n\nIs this behavior expected? Would appreciate any inputs.\nSource code / logs\nLink to tensorflow code\nLink to results of sample benchmark on text8 corpus", "body": "\r\n### System information\r\n- **OS Platform and Distribution**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.3.0\r\n- **Python version**: 2.7.12\r\n- **Bazel version (if compiling from source)**: 0.5.0\r\n- **CUDA/cuDNN version**: 8.0/6.0\r\n- **GPU model and memory**: NVIDIA GTX 1060 / 3GB\r\n- **Docker used:** yes\r\n- I picked up the code from the [word2vec example](https://github.com/tensorflow/models/tree/master/tutorials/embedding) on your official repo and made a few changes.The core code to train word2vec remains the same.\r\n\r\n### Describe the problem\r\nI have been working on benchmarking commonly used frameworks/libraries for unsupervised learning of word embeddings(word2vec). I am currently comparing tensorflow(cpu/gpu), gensim, deeplearning4j and the original c code on standard metrics like training time, peak memory usage and quality of learned vectors. Link to my [github repo](https://github.com/manneshiva/benchmark-word2vec-frameworks) (still working on it). I ran the benchmark on text8 corpus(plan to run it on a much larger corpus later for the true picture) which gave me strange results. \r\n- Tensorflow on GPU is much slower than CPU\r\n- Tensorflow is much slower than other frameworks\r\n\r\nIs this behavior expected? Would appreciate any inputs.\r\n### Source code / logs\r\nLink to [tensorflow code](https://github.com/manneshiva/benchmark-word2vec-frameworks/blob/master/nn_frameworks/tensorflow/word2vec.py)\r\nLink to [results](http://nbviewer.jupyter.org/github/manneshiva/benchmark-word2vec-frameworks/blob/8223b9ff4b37869e5aef36a909dec384e08f3a05/visualize_report.ipynb) of sample benchmark on text8 corpus\r\n"}