{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/429393671", "html_url": "https://github.com/tensorflow/tensorflow/issues/22854#issuecomment-429393671", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22854", "id": 429393671, "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTM5MzY3MQ==", "user": {"login": "dhingratul", "id": 4759327, "node_id": "MDQ6VXNlcjQ3NTkzMjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/4759327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhingratul", "html_url": "https://github.com/dhingratul", "followers_url": "https://api.github.com/users/dhingratul/followers", "following_url": "https://api.github.com/users/dhingratul/following{/other_user}", "gists_url": "https://api.github.com/users/dhingratul/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhingratul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhingratul/subscriptions", "organizations_url": "https://api.github.com/users/dhingratul/orgs", "repos_url": "https://api.github.com/users/dhingratul/repos", "events_url": "https://api.github.com/users/dhingratul/events{/privacy}", "received_events_url": "https://api.github.com/users/dhingratul/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-12T17:03:03Z", "updated_at": "2018-10-12T17:09:26Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=10539540\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/samikama\">@samikama</a> This is all what I have tried</p>\n<ol>\n<li>Create int8 graphdef with <code>trt.create_inference_graph</code> and use <code>trt.calib_graph_to_infer_graph(trt_graph)</code><br>\n--&gt; FailedPrecondition Error -- Need to run graph with calib data</li>\n<li>Create int8 graphdef as above, import as graph, run it with calib data, use <code>trt.calib_graph_to_infer_graph(trt_graph)</code><br>\n--&gt; 'Graph' object has no attribute 'node'</li>\n<li>Create int8 graphdef as above, import as graph, run it with calib data, write it out as .pb file with <code>tf.train.write_graph()</code>, import graphdef and pass it to <code>trt.calib_graph_to_infer_graph(trt_graph)</code><br>\n--&gt; FailedPrecondition Error -- Need to run graph with calib data</li>\n</ol>\n<p>For running the graph through calibration data, i need to import it as graph, I don't know if there is a right way to get back to graphdef apart from 3</p>", "body_text": "@samikama This is all what I have tried\n\nCreate int8 graphdef with trt.create_inference_graph and use trt.calib_graph_to_infer_graph(trt_graph)\n--> FailedPrecondition Error -- Need to run graph with calib data\nCreate int8 graphdef as above, import as graph, run it with calib data, use trt.calib_graph_to_infer_graph(trt_graph)\n--> 'Graph' object has no attribute 'node'\nCreate int8 graphdef as above, import as graph, run it with calib data, write it out as .pb file with tf.train.write_graph(), import graphdef and pass it to trt.calib_graph_to_infer_graph(trt_graph)\n--> FailedPrecondition Error -- Need to run graph with calib data\n\nFor running the graph through calibration data, i need to import it as graph, I don't know if there is a right way to get back to graphdef apart from 3", "body": "@samikama This is all what I have tried\r\n1. Create int8 graphdef with `trt.create_inference_graph` and use `trt.calib_graph_to_infer_graph(trt_graph)`\r\n--> FailedPrecondition Error -- Need to run graph with calib data\r\n2. Create int8 graphdef as above, import as graph, run it with calib data, use `trt.calib_graph_to_infer_graph(trt_graph)`\r\n--> 'Graph' object has no attribute 'node' \r\n3. Create int8 graphdef as above, import as graph, run it with calib data, write it out as .pb file with `tf.train.write_graph()`, import graphdef and pass it to `trt.calib_graph_to_infer_graph(trt_graph)`\r\n--> FailedPrecondition Error -- Need to run graph with calib data\r\n\r\nFor running the graph through calibration data, i need to import it as graph, I don't know if there is a right way to get back to graphdef apart from 3"}