{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/257400313", "html_url": "https://github.com/tensorflow/tensorflow/issues/4841#issuecomment-257400313", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4841", "id": 257400313, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzQwMDMxMw==", "user": {"login": "wcardoen", "id": 5612039, "node_id": "MDQ6VXNlcjU2MTIwMzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5612039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wcardoen", "html_url": "https://github.com/wcardoen", "followers_url": "https://api.github.com/users/wcardoen/followers", "following_url": "https://api.github.com/users/wcardoen/following{/other_user}", "gists_url": "https://api.github.com/users/wcardoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/wcardoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wcardoen/subscriptions", "organizations_url": "https://api.github.com/users/wcardoen/orgs", "repos_url": "https://api.github.com/users/wcardoen/repos", "events_url": "https://api.github.com/users/wcardoen/events{/privacy}", "received_events_url": "https://api.github.com/users/wcardoen/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-31T19:49:32Z", "updated_at": "2016-10-31T19:49:32Z", "author_association": "NONE", "body_html": "<p>I performed a ./configure with GPU enabled, the build did not work.<br>\nGPU support will be enabled for TensorFlow<br>\nbazel build  -c opt --verbose_failures --config=cuda //tensorflow/tools/pip_package:build_pip_package<br>\nINFO: $TEST_TMPDIR defined: output root default is '/scratch/local/hpcapps/bazel'.<br>\n..............<br>\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See <a href=\"http://bazel.io/docs/bazel-user-manual.html#sandboxing\" rel=\"nofollow\">http://bazel.io/docs/bazel-user-manual.html#sandboxing</a> for more information. You can turn off this warning via --ignore_unsupported_sandboxing.<br>\nERROR: /scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):<br>\nFile \"/scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/BUILD\", line 4<br>\nerror_gpu_disabled()<br>\nFile \"/scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled<br>\nfail(\"ERROR: Building with --config=c...\")<br>\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.<br>\nERROR: no such target '@local_config_cuda//crosstool:toolchain': target 'toolchain' not declared in package 'crosstool' defined by /scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/BUILD.<br>\nINFO: Elapsed time: 2.299s</p>\n<p>I did a bazel clean and a new configure, and:<br>\nbazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer   (see above)<br>\nI now got:<br>\nINFO: $TEST_TMPDIR defined: output root default is '/scratch/local/hpcapps/bazel'.<br>\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See <a href=\"http://bazel.io/docs/bazel-user-manual.html#sandboxing\" rel=\"nofollow\">http://bazel.io/docs/bazel-user-manual.html#sandboxing</a> for more information. You can turn off this warning via --ignore_unsupported_sandboxing.<br>\nINFO: Found 1 target...<br>\nERROR: /scratch/local/hpcapps/tensorflow/tensorflow/core/kernels/BUILD:271:1: null failed: protoc failed: error executing command bazel-out/host/bin/external/protobuf/protoc '--cpp_out=bazel-out/local_linux-opt/genfiles/' -I. -Iexternal/protobuf/src -Ibazel-out/local_linux-opt/genfiles/external/protobuf/src ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\nbazel-out/host/bin/external/protobuf/protoc: /usr/lib64/libstdc++.so.6: version <code>GLIBCXX_3.4.20' not found (required by bazel-out/host/bin/external/protobuf/protoc) bazel-out/host/bin/external/protobuf/protoc: /usr/lib64/libstdc++.so.6: version</code>CXXABI_1.3.8' not found (required by bazel-out/host/bin/external/protobuf/protoc)<br>\nbazel-out/host/bin/external/protobuf/protoc: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.18' not found (required by bazel-out/host/bin/external/protobuf/protoc)<br>\nTarget //tensorflow/cc:tutorials_example_trainer failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 517.714s, Critical Path: 507.68s</p>\n<p>PS: My OS is centos6<br>\nLinux kp298 2.6.32-642.6.2.el6.x86_64</p>\n<p>Thanks,</p>\n<p>Wim</p>", "body_text": "I performed a ./configure with GPU enabled, the build did not work.\nGPU support will be enabled for TensorFlow\nbazel build  -c opt --verbose_failures --config=cuda //tensorflow/tools/pip_package:build_pip_package\nINFO: $TEST_TMPDIR defined: output root default is '/scratch/local/hpcapps/bazel'.\n..............\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nERROR: /scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\nFile \"/scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/BUILD\", line 4\nerror_gpu_disabled()\nFile \"/scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\nfail(\"ERROR: Building with --config=c...\")\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\nERROR: no such target '@local_config_cuda//crosstool:toolchain': target 'toolchain' not declared in package 'crosstool' defined by /scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/BUILD.\nINFO: Elapsed time: 2.299s\nI did a bazel clean and a new configure, and:\nbazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer   (see above)\nI now got:\nINFO: $TEST_TMPDIR defined: output root default is '/scratch/local/hpcapps/bazel'.\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nINFO: Found 1 target...\nERROR: /scratch/local/hpcapps/tensorflow/tensorflow/core/kernels/BUILD:271:1: null failed: protoc failed: error executing command bazel-out/host/bin/external/protobuf/protoc '--cpp_out=bazel-out/local_linux-opt/genfiles/' -I. -Iexternal/protobuf/src -Ibazel-out/local_linux-opt/genfiles/external/protobuf/src ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nbazel-out/host/bin/external/protobuf/protoc: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by bazel-out/host/bin/external/protobuf/protoc) bazel-out/host/bin/external/protobuf/protoc: /usr/lib64/libstdc++.so.6: versionCXXABI_1.3.8' not found (required by bazel-out/host/bin/external/protobuf/protoc)\nbazel-out/host/bin/external/protobuf/protoc: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.18' not found (required by bazel-out/host/bin/external/protobuf/protoc)\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 517.714s, Critical Path: 507.68s\nPS: My OS is centos6\nLinux kp298 2.6.32-642.6.2.el6.x86_64\nThanks,\nWim", "body": "I performed a ./configure with GPU enabled, the build did not work.\nGPU support will be enabled for TensorFlow\nbazel build  -c opt --verbose_failures --config=cuda //tensorflow/tools/pip_package:build_pip_package\nINFO: $TEST_TMPDIR defined: output root default is '/scratch/local/hpcapps/bazel'.\n..............\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nERROR: /scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\n        File \"/scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/BUILD\", line 4\n                error_gpu_disabled()\n        File \"/scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\n                fail(\"ERROR: Building with --config=c...\")\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\nERROR: no such target '@local_config_cuda//crosstool:toolchain': target 'toolchain' not declared in package 'crosstool' defined by /scratch/local/hpcapps/bazel/_bazel_hpcapps/9854aab478a0076ff75539c378bcd3e3/external/local_config_cuda/crosstool/BUILD.\nINFO: Elapsed time: 2.299s\n\nI did a bazel clean and a new configure, and:\nbazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer   (see above)\nI now got:\nINFO: $TEST_TMPDIR defined: output root default is '/scratch/local/hpcapps/bazel'.\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nINFO: Found 1 target...\nERROR: /scratch/local/hpcapps/tensorflow/tensorflow/core/kernels/BUILD:271:1: null failed: protoc failed: error executing command bazel-out/host/bin/external/protobuf/protoc '--cpp_out=bazel-out/local_linux-opt/genfiles/' -I. -Iexternal/protobuf/src -Ibazel-out/local_linux-opt/genfiles/external/protobuf/src ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nbazel-out/host/bin/external/protobuf/protoc: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by bazel-out/host/bin/external/protobuf/protoc)\nbazel-out/host/bin/external/protobuf/protoc: /usr/lib64/libstdc++.so.6: version`CXXABI_1.3.8' not found (required by bazel-out/host/bin/external/protobuf/protoc)\nbazel-out/host/bin/external/protobuf/protoc: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.18' not found (required by bazel-out/host/bin/external/protobuf/protoc)\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 517.714s, Critical Path: 507.68s\n\nPS: My OS is centos6\nLinux kp298 2.6.32-642.6.2.el6.x86_64\n\nThanks,\n\nWim\n"}