{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/288747728", "html_url": "https://github.com/tensorflow/tensorflow/issues/8642#issuecomment-288747728", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8642", "id": 288747728, "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODc0NzcyOA==", "user": {"login": "isiosia", "id": 19769453, "node_id": "MDQ6VXNlcjE5NzY5NDUz", "avatar_url": "https://avatars2.githubusercontent.com/u/19769453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isiosia", "html_url": "https://github.com/isiosia", "followers_url": "https://api.github.com/users/isiosia/followers", "following_url": "https://api.github.com/users/isiosia/following{/other_user}", "gists_url": "https://api.github.com/users/isiosia/gists{/gist_id}", "starred_url": "https://api.github.com/users/isiosia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isiosia/subscriptions", "organizations_url": "https://api.github.com/users/isiosia/orgs", "repos_url": "https://api.github.com/users/isiosia/repos", "events_url": "https://api.github.com/users/isiosia/events{/privacy}", "received_events_url": "https://api.github.com/users/isiosia/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-23T15:02:56Z", "updated_at": "2017-03-23T15:02:56Z", "author_association": "NONE", "body_html": "<p>FYI.<br>\nAs an attempt to avoid this error,I modified the code in <code>graph_util_impl.py</code> at L295:</p>\n<pre><code>  types_to_splice = {\"Identity\": True}\n  names_to_splice = {}\n  for node in nodes_after_removal:\n    if node.op in types_to_splice:\n      # We don't want to remove nodes that have control edge inputs, because\n      # they might be involved in subtle dependency issues that removing them\n      # will jeopardize.\n      has_control_edge = False\n      for input_name in node.input:\n      ''' ##      &gt;&gt;&gt;&gt;modified here&gt;&gt;&gt;origin code:\n        if re.match(r\"^\\^\", input_name):\n      ''' ##      &gt;&gt;&gt;&gt;modified code:\n        if re.match(r\"^\\^\", input_name) or \\\n           re.match(r\".*/cond.*\", input_name):\n#    ''' ##      &lt;&lt;&lt;&lt;modefied end&lt;&lt;&lt;\n          has_control_edge = True\n</code></pre>\n<p>and it seems working well so far.</p>", "body_text": "FYI.\nAs an attempt to avoid this error,I modified the code in graph_util_impl.py at L295:\n  types_to_splice = {\"Identity\": True}\n  names_to_splice = {}\n  for node in nodes_after_removal:\n    if node.op in types_to_splice:\n      # We don't want to remove nodes that have control edge inputs, because\n      # they might be involved in subtle dependency issues that removing them\n      # will jeopardize.\n      has_control_edge = False\n      for input_name in node.input:\n      ''' ##      >>>>modified here>>>origin code:\n        if re.match(r\"^\\^\", input_name):\n      ''' ##      >>>>modified code:\n        if re.match(r\"^\\^\", input_name) or \\\n           re.match(r\".*/cond.*\", input_name):\n#    ''' ##      <<<<modefied end<<<\n          has_control_edge = True\n\nand it seems working well so far.", "body": "FYI.\r\nAs an attempt to avoid this error,I modified the code in `graph_util_impl.py` at L295:\r\n```\r\n  types_to_splice = {\"Identity\": True}\r\n  names_to_splice = {}\r\n  for node in nodes_after_removal:\r\n    if node.op in types_to_splice:\r\n      # We don't want to remove nodes that have control edge inputs, because\r\n      # they might be involved in subtle dependency issues that removing them\r\n      # will jeopardize.\r\n      has_control_edge = False\r\n      for input_name in node.input:\r\n      ''' ##      >>>>modified here>>>origin code:\r\n        if re.match(r\"^\\^\", input_name):\r\n      ''' ##      >>>>modified code:\r\n        if re.match(r\"^\\^\", input_name) or \\\r\n           re.match(r\".*/cond.*\", input_name):\r\n#    ''' ##      <<<<modefied end<<<\r\n          has_control_edge = True\r\n```\r\nand it seems working well so far."}