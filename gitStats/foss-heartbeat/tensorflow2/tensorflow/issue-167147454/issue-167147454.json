{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3472", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3472/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3472/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3472/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3472", "id": 167147454, "node_id": "MDU6SXNzdWUxNjcxNDc0NTQ=", "number": 3472, "title": "Zero value warning message in quantized convolution op is wrong?", "user": {"login": "ngaloppo", "id": 232156, "node_id": "MDQ6VXNlcjIzMjE1Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/232156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngaloppo", "html_url": "https://github.com/ngaloppo", "followers_url": "https://api.github.com/users/ngaloppo/followers", "following_url": "https://api.github.com/users/ngaloppo/following{/other_user}", "gists_url": "https://api.github.com/users/ngaloppo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngaloppo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngaloppo/subscriptions", "organizations_url": "https://api.github.com/users/ngaloppo/orgs", "repos_url": "https://api.github.com/users/ngaloppo/repos", "events_url": "https://api.github.com/users/ngaloppo/events{/privacy}", "received_events_url": "https://api.github.com/users/ngaloppo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-07-22T22:53:34Z", "updated_at": "2017-01-23T23:02:17Z", "closed_at": "2017-01-23T23:02:17Z", "author_association": "CONTRIBUTOR", "body_html": "<p>This warning message <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/quantization/kernels/quantized_conv_ops.cc#L201-L206\">in this quantized ops code snippet</a> is output when <code>input_offset &lt; 0</code>:</p>\n<blockquote>\n<p>Zero is not representable in the quantized range used by the input. This means QuantizedConv2d has to fall back to a slow implementation, since the border of zero values can't be represented easily. You should try to construct graphs that avoid this situation.</p>\n</blockquote>\n<p>Is that really what's going on there? What does that have to do with <code>input_offset &lt; 0</code>? Secondly, there is a code comment about gemmlowp needing support for a specific code path (perhaps it's the <code>input_offset &lt; 0</code> path?). What's going on here?</p>\n<p>Adding <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=161459\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/petewarden\">@petewarden</a> as he's probably the most familiar with this code.</p>", "body_text": "This warning message in this quantized ops code snippet is output when input_offset < 0:\n\nZero is not representable in the quantized range used by the input. This means QuantizedConv2d has to fall back to a slow implementation, since the border of zero values can't be represented easily. You should try to construct graphs that avoid this situation.\n\nIs that really what's going on there? What does that have to do with input_offset < 0? Secondly, there is a code comment about gemmlowp needing support for a specific code path (perhaps it's the input_offset < 0 path?). What's going on here?\nAdding @petewarden as he's probably the most familiar with this code.", "body": "This warning message [in this quantized ops code snippet](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/quantization/kernels/quantized_conv_ops.cc#L201-L206) is output when `input_offset < 0`:\n\n> Zero is not representable in the quantized range used by the input. This means QuantizedConv2d has to fall back to a slow implementation, since the border of zero values can't be represented easily. You should try to construct graphs that avoid this situation.\n\nIs that really what's going on there? What does that have to do with `input_offset < 0`? Secondly, there is a code comment about gemmlowp needing support for a specific code path (perhaps it's the `input_offset < 0` path?). What's going on here? \n\nAdding @petewarden as he's probably the most familiar with this code.\n"}