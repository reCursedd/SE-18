{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/676", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/676/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/676/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/676/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/676", "id": 124744096, "node_id": "MDU6SXNzdWUxMjQ3NDQwOTY=", "number": 676, "title": " Run tutorials convolutional.py,  resource exhausted: OOM", "user": {"login": "gotope", "id": 1539286, "node_id": "MDQ6VXNlcjE1MzkyODY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1539286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gotope", "html_url": "https://github.com/gotope", "followers_url": "https://api.github.com/users/gotope/followers", "following_url": "https://api.github.com/users/gotope/following{/other_user}", "gists_url": "https://api.github.com/users/gotope/gists{/gist_id}", "starred_url": "https://api.github.com/users/gotope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gotope/subscriptions", "organizations_url": "https://api.github.com/users/gotope/orgs", "repos_url": "https://api.github.com/users/gotope/repos", "events_url": "https://api.github.com/users/gotope/events{/privacy}", "received_events_url": "https://api.github.com/users/gotope/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-04T11:44:49Z", "updated_at": "2016-01-04T16:17:13Z", "closed_at": "2016-01-04T16:17:13Z", "author_association": "NONE", "body_html": "<p>My PC has Nvidia GTX960 2G memory, while run the convolutional.py of tutorials failed,<br>\nthe tensorflow version is 0.6,  need some modify on  convolutional.py?</p>\n<p>$ cd tensorflow/models/image/mnist<br>\n$ python convolutional.py<br>\nMinibatch loss: 0.739, learning rate: 0.006302<br>\nMinibatch error: 0.0%<br>\nValidation error: 2.0%<br>\nEpoch 9.84<br>\n......<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:403]      Summary of in-use Chunks by size:<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 28 Chunks of size 256 totalling 7.0KiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 1280 totalling 1.2KiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 4 Chunks of size 2048 totalling 8.0KiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 3328 totalling 9.8KiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 20480 totalling 60.0KiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 100352 totalling 98.0KiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 204800 totalling 600.0KiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 1605632 totalling 1.53MiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 4941824 totalling 4.71MiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/642252829cccf56627749c3c3b8dc65cc0099893/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/642252829cccf56627749c3c3b8dc65cc0099893\"><tt>6422528</tt></a> totalling 18.38MiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 13302272 totalling 12.69MiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 31360000 totalling 29.91MiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 1636141568 totalling 1.52GiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:410] Sum Total of in-use chunks: 1.59GiB<br>\nW tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:166] Ran out of memory trying to allocate 39.06MiB.  See logs for memory state<br>\nW tensorflow/core/kernels/conv_ops.cc:288] Resource exhausted: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }<br>\nW tensorflow/core/common_runtime/executor.cc:1076] 0x5a5c0d0 Compute status: Resource exhausted: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }<br>\n[[Node: Conv2D_4 = Conv2D[T=DT_FLOAT, padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Const_1, Variable/read)]]<br>\nW tensorflow/core/common_runtime/executor.cc:1076] 0x62eaae0 Compute status: Resource exhausted: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }<br>\n[[Node: Conv2D_4 = Conv2D[T=DT_FLOAT, padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Const_1, Variable/read)]]<br>\n[[Node: Softmax_2/_53 = _Recv<a href=\"\">client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_753_Softmax_2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a>]]<br>\nTraceback (most recent call last):<br>\nFile \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main<br>\n\"<strong>main</strong>\", fname, loader, pkg_name)<br>\nFile \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code<br>\nexec code in run_globals<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 292, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/default/_app.py\", line 30, in run<br>\nsys.exit(main(sys.argv))<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 283, in main<br>\ntest_error = error_rate(test_prediction.eval(), test_labels)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 460, in eval<br>\nreturn _eval_using_default_session(self, feed_dict, self.graph, session)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2910, in _eval_using_default_session<br>\nreturn session.run(tensors, feed_dict)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 368, in run<br>\nresults = self._do_run(target_list, unique_fetch_targets, feed_dict_string)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 444, in _do_run<br>\ne.code)<br>\ntensorflow.python.framework.errors.ResourceExhaustedError: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }<br>\n[[Node: Conv2D_4 = Conv2D[T=DT_FLOAT, padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Const_1, Variable/read)]]<br>\n[[Node: Softmax_2/_53 = _Recv<a href=\"\">client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_753_Softmax_2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a>]]<br>\nCaused by op u'Conv2D_4', defined at:<br>\nFile \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main<br>\n\"<strong>main</strong>\", fname, loader, pkg_name)<br>\nFile \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code<br>\nexec code in run_globals<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 292, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/default/_app.py\", line 30, in run<br>\nsys.exit(main(sys.argv))<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 253, in main<br>\ntest_prediction = tf.nn.softmax(model(test_data_node))<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 190, in model<br>\npadding='SAME')<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_nn_ops.py\", line 211, in conv2d<br>\nuse_cudnn_on_gpu=use_cudnn_on_gpu, name=name)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/op_def_library.py\", line 664, in apply_op<br>\nop_def=op_def)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1834, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1043, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>", "body_text": "My PC has Nvidia GTX960 2G memory, while run the convolutional.py of tutorials failed,\nthe tensorflow version is 0.6,  need some modify on  convolutional.py?\n$ cd tensorflow/models/image/mnist\n$ python convolutional.py\nMinibatch loss: 0.739, learning rate: 0.006302\nMinibatch error: 0.0%\nValidation error: 2.0%\nEpoch 9.84\n......\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:403]      Summary of in-use Chunks by size:\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 28 Chunks of size 256 totalling 7.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 1280 totalling 1.2KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 4 Chunks of size 2048 totalling 8.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 3328 totalling 9.8KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 20480 totalling 60.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 100352 totalling 98.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 204800 totalling 600.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 1605632 totalling 1.53MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 4941824 totalling 4.71MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 6422528 totalling 18.38MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 13302272 totalling 12.69MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 31360000 totalling 29.91MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 1636141568 totalling 1.52GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:410] Sum Total of in-use chunks: 1.59GiB\nW tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:166] Ran out of memory trying to allocate 39.06MiB.  See logs for memory state\nW tensorflow/core/kernels/conv_ops.cc:288] Resource exhausted: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }\nW tensorflow/core/common_runtime/executor.cc:1076] 0x5a5c0d0 Compute status: Resource exhausted: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }\n[[Node: Conv2D_4 = Conv2D[T=DT_FLOAT, padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Const_1, Variable/read)]]\nW tensorflow/core/common_runtime/executor.cc:1076] 0x62eaae0 Compute status: Resource exhausted: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }\n[[Node: Conv2D_4 = Conv2D[T=DT_FLOAT, padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Const_1, Variable/read)]]\n[[Node: Softmax_2/_53 = _Recvclient_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_753_Softmax_2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]\nTraceback (most recent call last):\nFile \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n\"main\", fname, loader, pkg_name)\nFile \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\nexec code in run_globals\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 292, in \ntf.app.run()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/default/_app.py\", line 30, in run\nsys.exit(main(sys.argv))\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 283, in main\ntest_error = error_rate(test_prediction.eval(), test_labels)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 460, in eval\nreturn _eval_using_default_session(self, feed_dict, self.graph, session)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2910, in _eval_using_default_session\nreturn session.run(tensors, feed_dict)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 368, in run\nresults = self._do_run(target_list, unique_fetch_targets, feed_dict_string)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 444, in _do_run\ne.code)\ntensorflow.python.framework.errors.ResourceExhaustedError: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }\n[[Node: Conv2D_4 = Conv2D[T=DT_FLOAT, padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Const_1, Variable/read)]]\n[[Node: Softmax_2/_53 = _Recvclient_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_753_Softmax_2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]\nCaused by op u'Conv2D_4', defined at:\nFile \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n\"main\", fname, loader, pkg_name)\nFile \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\nexec code in run_globals\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 292, in \ntf.app.run()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/default/_app.py\", line 30, in run\nsys.exit(main(sys.argv))\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 253, in main\ntest_prediction = tf.nn.softmax(model(test_data_node))\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 190, in model\npadding='SAME')\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_nn_ops.py\", line 211, in conv2d\nuse_cudnn_on_gpu=use_cudnn_on_gpu, name=name)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/op_def_library.py\", line 664, in apply_op\nop_def=op_def)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1834, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1043, in init\nself._traceback = _extract_stack()", "body": "My PC has Nvidia GTX960 2G memory, while run the convolutional.py of tutorials failed,\nthe tensorflow version is 0.6,  need some modify on  convolutional.py?\n\n$ cd tensorflow/models/image/mnist\n$ python convolutional.py\nMinibatch loss: 0.739, learning rate: 0.006302\nMinibatch error: 0.0%\nValidation error: 2.0%\nEpoch 9.84\n......\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:403]      Summary of in-use Chunks by size: \nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 28 Chunks of size 256 totalling 7.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 1280 totalling 1.2KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 4 Chunks of size 2048 totalling 8.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 3328 totalling 9.8KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 20480 totalling 60.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 100352 totalling 98.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 204800 totalling 600.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 1605632 totalling 1.53MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 4941824 totalling 4.71MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 3 Chunks of size 6422528 totalling 18.38MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 13302272 totalling 12.69MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 31360000 totalling 29.91MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:406] 1 Chunks of size 1636141568 totalling 1.52GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:410] Sum Total of in-use chunks: 1.59GiB\nW tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:166] Ran out of memory trying to allocate 39.06MiB.  See logs for memory state\nW tensorflow/core/kernels/conv_ops.cc:288] Resource exhausted: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }\nW tensorflow/core/common_runtime/executor.cc:1076] 0x5a5c0d0 Compute status: Resource exhausted: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }\n     [[Node: Conv2D_4 = Conv2D[T=DT_FLOAT, padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Const_1, Variable/read)]]\nW tensorflow/core/common_runtime/executor.cc:1076] 0x62eaae0 Compute status: Resource exhausted: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }\n     [[Node: Conv2D_4 = Conv2D[T=DT_FLOAT, padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Const_1, Variable/read)]]\n     [[Node: Softmax_2/_53 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_753_Softmax_2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 292, in <module>\n    tf.app.run()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/default/_app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 283, in main\n    test_error = error_rate(test_prediction.eval(), test_labels)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 460, in eval\n    return _eval_using_default_session(self, feed_dict, self.graph, session)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2910, in _eval_using_default_session\n    return session.run(tensors, feed_dict)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 368, in run\n    results = self._do_run(target_list, unique_fetch_targets, feed_dict_string)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 444, in _do_run\n    e.code)\ntensorflow.python.framework.errors.ResourceExhaustedError: OOM when allocating tensor with shapedim { size: 10000 } dim { size: 32 } dim { size: 32 } dim { size: 1 }\n     [[Node: Conv2D_4 = Conv2D[T=DT_FLOAT, padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Const_1, Variable/read)]]\n     [[Node: Softmax_2/_53 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_753_Softmax_2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\nCaused by op u'Conv2D_4', defined at:\n  File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 292, in <module>\n    tf.app.run()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/default/_app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 253, in main\n    test_prediction = tf.nn.softmax(model(test_data_node))\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/image/mnist/convolutional.py\", line 190, in model\n    padding='SAME')\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_nn_ops.py\", line 211, in conv2d\n    use_cudnn_on_gpu=use_cudnn_on_gpu, name=name)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/op_def_library.py\", line 664, in apply_op\n    op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1834, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1043, in __init__\n    self._traceback = _extract_stack()\n"}