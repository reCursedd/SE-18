{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/383259119", "html_url": "https://github.com/tensorflow/tensorflow/pull/18685#issuecomment-383259119", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18685", "id": 383259119, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzI1OTExOQ==", "user": {"login": "nuchi", "id": 16771734, "node_id": "MDQ6VXNlcjE2NzcxNzM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16771734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nuchi", "html_url": "https://github.com/nuchi", "followers_url": "https://api.github.com/users/nuchi/followers", "following_url": "https://api.github.com/users/nuchi/following{/other_user}", "gists_url": "https://api.github.com/users/nuchi/gists{/gist_id}", "starred_url": "https://api.github.com/users/nuchi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nuchi/subscriptions", "organizations_url": "https://api.github.com/users/nuchi/orgs", "repos_url": "https://api.github.com/users/nuchi/repos", "events_url": "https://api.github.com/users/nuchi/events{/privacy}", "received_events_url": "https://api.github.com/users/nuchi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-21T01:59:26Z", "updated_at": "2018-04-21T01:59:26Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Ok, I figured out that I had to manually execute <code>bazel-bin/tensorflow/compiler/tests/fft_test_cpu --test_device=CPU --types=DT_HALF,DT_FLOAT,DT_DOUBLE,DT_INT32,DT_INT64,DT_BOOL,DT_COMPLEX64</code>, and then it passes all tests.</p>\n<p>If I just run <code>bazel test --config=opt //tensorflow/compiler/tests:fft_test</code> (which calls <code>--test_device=XLA_CPU</code>; see <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/compiler/tests/build_defs.bzl\">build_defs.bzl</a>) then it fails with the same error as the randomized tests error:</p>\n<pre><code>2018-04-21 01:14:32.248668: I tensorflow/compiler/xla/service/service.cc:159] XLA service 0x7f928643e070 executing computations on platform Host. Devices:\n2018-04-21 01:14:32.248701: I tensorflow/compiler/xla/service/service.cc:167]   StreamExecutor device (0): &lt;undefined&gt;, &lt;undefined&gt;\n2018-04-21 01:14:32.780468: F tensorflow/compiler/xla/service/cpu/cpu_executable.cc:69] Check failed: sym Symbol cluster_0__XlaCompiledKernel_true__XlaNumConstantArgs_0__XlaNumResourceArgs_0_.v31 not found.\nAbort trap: 6\n</code></pre>\n<p>I'm not sure if that means that I didn't build something I was supposed to build, or if there's some subtle problem with my changes, or something else.</p>", "body_text": "Ok, I figured out that I had to manually execute bazel-bin/tensorflow/compiler/tests/fft_test_cpu --test_device=CPU --types=DT_HALF,DT_FLOAT,DT_DOUBLE,DT_INT32,DT_INT64,DT_BOOL,DT_COMPLEX64, and then it passes all tests.\nIf I just run bazel test --config=opt //tensorflow/compiler/tests:fft_test (which calls --test_device=XLA_CPU; see build_defs.bzl) then it fails with the same error as the randomized tests error:\n2018-04-21 01:14:32.248668: I tensorflow/compiler/xla/service/service.cc:159] XLA service 0x7f928643e070 executing computations on platform Host. Devices:\n2018-04-21 01:14:32.248701: I tensorflow/compiler/xla/service/service.cc:167]   StreamExecutor device (0): <undefined>, <undefined>\n2018-04-21 01:14:32.780468: F tensorflow/compiler/xla/service/cpu/cpu_executable.cc:69] Check failed: sym Symbol cluster_0__XlaCompiledKernel_true__XlaNumConstantArgs_0__XlaNumResourceArgs_0_.v31 not found.\nAbort trap: 6\n\nI'm not sure if that means that I didn't build something I was supposed to build, or if there's some subtle problem with my changes, or something else.", "body": "Ok, I figured out that I had to manually execute `bazel-bin/tensorflow/compiler/tests/fft_test_cpu --test_device=CPU --types=DT_HALF,DT_FLOAT,DT_DOUBLE,DT_INT32,DT_INT64,DT_BOOL,DT_COMPLEX64`, and then it passes all tests.\r\n\r\nIf I just run `bazel test --config=opt //tensorflow/compiler/tests:fft_test` (which calls `--test_device=XLA_CPU`; see [build_defs.bzl](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/compiler/tests/build_defs.bzl)) then it fails with the same error as the randomized tests error:\r\n```\r\n2018-04-21 01:14:32.248668: I tensorflow/compiler/xla/service/service.cc:159] XLA service 0x7f928643e070 executing computations on platform Host. Devices:\r\n2018-04-21 01:14:32.248701: I tensorflow/compiler/xla/service/service.cc:167]   StreamExecutor device (0): <undefined>, <undefined>\r\n2018-04-21 01:14:32.780468: F tensorflow/compiler/xla/service/cpu/cpu_executable.cc:69] Check failed: sym Symbol cluster_0__XlaCompiledKernel_true__XlaNumConstantArgs_0__XlaNumResourceArgs_0_.v31 not found.\r\nAbort trap: 6\r\n```\r\nI'm not sure if that means that I didn't build something I was supposed to build, or if there's some subtle problem with my changes, or something else."}