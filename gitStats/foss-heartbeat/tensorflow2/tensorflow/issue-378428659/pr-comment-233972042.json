{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/233972042", "pull_request_review_id": 175024525, "id": 233972042, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzk3MjA0Mg==", "diff_hunk": "@@ -1848,138 +1848,154 @@ class Stream {\n \n   // Enqueue a forward operation of the RNN model onto the stream.\n   // See DnnSupport::DoRnnForward for more details.\n-  Stream &ThenRnnForward(const dnn::RnnDescriptor &rnn_desc,\n-                         const dnn::RnnSequenceTensorDescriptor &input_desc,\n-                         const DeviceMemory<Eigen::half> &input_data,\n-                         const dnn::RnnStateTensorDescriptor &input_h_desc,\n-                         const DeviceMemory<Eigen::half> &input_h_data,\n-                         const dnn::RnnStateTensorDescriptor &input_c_desc,\n-                         const DeviceMemory<Eigen::half> &input_c_data,\n-                         const DeviceMemory<Eigen::half> &params,\n-                         const dnn::RnnSequenceTensorDescriptor &output_desc,\n-                         DeviceMemory<Eigen::half> *output_data,\n-                         const dnn::RnnStateTensorDescriptor &output_h_desc,\n-                         DeviceMemory<Eigen::half> *output_h_data,\n-                         const dnn::RnnStateTensorDescriptor &output_c_desc,\n-                         DeviceMemory<Eigen::half> *output_c_data,\n-                         bool is_training,\n-                         ScratchAllocator *reserve_space_allocator,\n-                         ScratchAllocator *workspace_allocator,\n-                         dnn::ProfileResult *output_profile_result);\n-\n-  Stream &ThenRnnForward(const dnn::RnnDescriptor &rnn_desc,\n-                         const dnn::RnnSequenceTensorDescriptor &input_desc,\n-                         const DeviceMemory<float> &input_data,\n-                         const dnn::RnnStateTensorDescriptor &input_h_desc,\n-                         const DeviceMemory<float> &input_h_data,\n-                         const dnn::RnnStateTensorDescriptor &input_c_desc,\n-                         const DeviceMemory<float> &input_c_data,\n-                         const DeviceMemory<float> &params,\n-                         const dnn::RnnSequenceTensorDescriptor &output_desc,\n-                         DeviceMemory<float> *output_data,\n-                         const dnn::RnnStateTensorDescriptor &output_h_desc,\n-                         DeviceMemory<float> *output_h_data,\n-                         const dnn::RnnStateTensorDescriptor &output_c_desc,\n-                         DeviceMemory<float> *output_c_data, bool is_training,\n-                         ScratchAllocator *reserve_space_allocator,\n-                         ScratchAllocator *workspace_allocator,\n-                         dnn::ProfileResult *output_profile_result);\n-\n-  Stream &ThenRnnForward(const dnn::RnnDescriptor &rnn_desc,\n-                         const dnn::RnnSequenceTensorDescriptor &input_desc,\n-                         const DeviceMemory<double> &input_data,\n-                         const dnn::RnnStateTensorDescriptor &input_h_desc,\n-                         const DeviceMemory<double> &input_h_data,\n-                         const dnn::RnnStateTensorDescriptor &input_c_desc,\n-                         const DeviceMemory<double> &input_c_data,\n-                         const DeviceMemory<double> &params,\n-                         const dnn::RnnSequenceTensorDescriptor &output_desc,\n-                         DeviceMemory<double> *output_data,\n-                         const dnn::RnnStateTensorDescriptor &output_h_desc,\n-                         DeviceMemory<double> *output_h_data,\n-                         const dnn::RnnStateTensorDescriptor &output_c_desc,\n-                         DeviceMemory<double> *output_c_data, bool is_training,\n-                         ScratchAllocator *reserve_space_allocator,\n-                         ScratchAllocator *workspace_allocator,\n-                         dnn::ProfileResult *output_profile_result);\n+  Stream& ThenRnnForward(\n+      const dnn::RnnDescriptor& rnn_desc,\n+      const dnn::RnnSequenceTensorDescriptor& input_desc,\n+      const DeviceMemory<Eigen::half>& input_data,\n+      const dnn::RnnStateTensorDescriptor& input_h_desc,\n+      const DeviceMemory<Eigen::half>& input_h_data,\n+      const dnn::RnnStateTensorDescriptor& input_c_desc,\n+      const DeviceMemory<Eigen::half>& input_c_data,\n+      const DeviceMemory<Eigen::half>& params,\n+      const dnn::RnnSequenceTensorDescriptor& output_desc,\n+      DeviceMemory<Eigen::half>* output_data,\n+      const dnn::RnnStateTensorDescriptor& output_h_desc,\n+      DeviceMemory<Eigen::half>* output_h_data,\n+      const dnn::RnnStateTensorDescriptor& output_c_desc,\n+      DeviceMemory<Eigen::half>* output_c_data, bool is_training,\n+      ScratchAllocator* reserve_space_allocator,\n+      ScratchAllocator* workspace_allocator,\n+      dnn::ProfileResult* output_profile_result,\n+      const dnn::RnnVariableSequenceTensorDescriptor& input_desc_var_seq_len,", "path": "tensorflow/stream_executor/stream.h", "position": null, "original_position": 76, "commit_id": "2301b4fabf41b7799919e1e29a1a3651367495aa", "original_commit_id": "514b05b38845eab0936f73b42e6e225702460e45", "user": {"login": "protoget", "id": 5117188, "node_id": "MDQ6VXNlcjUxMTcxODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5117188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/protoget", "html_url": "https://github.com/protoget", "followers_url": "https://api.github.com/users/protoget/followers", "following_url": "https://api.github.com/users/protoget/following{/other_user}", "gists_url": "https://api.github.com/users/protoget/gists{/gist_id}", "starred_url": "https://api.github.com/users/protoget/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/protoget/subscriptions", "organizations_url": "https://api.github.com/users/protoget/orgs", "repos_url": "https://api.github.com/users/protoget/repos", "events_url": "https://api.github.com/users/protoget/events{/privacy}", "received_events_url": "https://api.github.com/users/protoget/received_events", "type": "User", "site_admin": false}, "body": "In the fixed-len-sequence case, is the input_desc left unset?", "created_at": "2018-11-15T19:09:51Z", "updated_at": "2018-11-21T22:30:12Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/23588#discussion_r233972042", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23588", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/233972042"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/23588#discussion_r233972042"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23588"}}, "body_html": "<p>In the fixed-len-sequence case, is the input_desc left unset?</p>", "body_text": "In the fixed-len-sequence case, is the input_desc left unset?"}