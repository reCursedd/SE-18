{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/234015988", "pull_request_review_id": 175024525, "id": 234015988, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNDAxNTk4OA==", "diff_hunk": "@@ -1278,6 +1292,85 @@ class CudnnRnnSequenceTensorDescriptor\n   SE_DISALLOW_COPY_AND_ASSIGN(CudnnRnnSequenceTensorDescriptor);\n };\n \n+class CudnnRnnVariableSequenceTensorDescriptor", "path": "tensorflow/stream_executor/cuda/cuda_dnn.cc", "position": null, "original_position": 46, "commit_id": "2301b4fabf41b7799919e1e29a1a3651367495aa", "original_commit_id": "514b05b38845eab0936f73b42e6e225702460e45", "user": {"login": "protoget", "id": 5117188, "node_id": "MDQ6VXNlcjUxMTcxODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5117188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/protoget", "html_url": "https://github.com/protoget", "followers_url": "https://api.github.com/users/protoget/followers", "following_url": "https://api.github.com/users/protoget/following{/other_user}", "gists_url": "https://api.github.com/users/protoget/gists{/gist_id}", "starred_url": "https://api.github.com/users/protoget/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/protoget/subscriptions", "organizations_url": "https://api.github.com/users/protoget/orgs", "repos_url": "https://api.github.com/users/protoget/repos", "events_url": "https://api.github.com/users/protoget/events{/privacy}", "received_events_url": "https://api.github.com/users/protoget/received_events", "type": "User", "site_admin": false}, "body": "Let's not create a separate descriptor, instead, augment the existing `cudnnRnnSequenceTensorDescriptor`.\r\nIt should have the following new fields:\r\n```py\r\nRNNDataDescriptor\r\nseq_lens\r\n```\r\nRename the existing `seq_length_` to `max_seq_length_`.\r\nThe `CudnnRnnSequenceTensorDescriptor()` method would accept a new pointer `to seq_lengths`, which is set to `nullptr` if not using the new `xxxEx` APIs.", "created_at": "2018-11-15T21:33:31Z", "updated_at": "2018-11-21T22:30:12Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/23588#discussion_r234015988", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23588", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/234015988"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/23588#discussion_r234015988"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23588"}}, "body_html": "<p>Let's not create a separate descriptor, instead, augment the existing <code>cudnnRnnSequenceTensorDescriptor</code>.<br>\nIt should have the following new fields:</p>\n<div class=\"highlight highlight-source-python\"><pre>RNNDataDescriptor\nseq_lens</pre></div>\n<p>Rename the existing <code>seq_length_</code> to <code>max_seq_length_</code>.<br>\nThe <code>CudnnRnnSequenceTensorDescriptor()</code> method would accept a new pointer <code>to seq_lengths</code>, which is set to <code>nullptr</code> if not using the new <code>xxxEx</code> APIs.</p>", "body_text": "Let's not create a separate descriptor, instead, augment the existing cudnnRnnSequenceTensorDescriptor.\nIt should have the following new fields:\nRNNDataDescriptor\nseq_lens\nRename the existing seq_length_ to max_seq_length_.\nThe CudnnRnnSequenceTensorDescriptor() method would accept a new pointer to seq_lengths, which is set to nullptr if not using the new xxxEx APIs."}