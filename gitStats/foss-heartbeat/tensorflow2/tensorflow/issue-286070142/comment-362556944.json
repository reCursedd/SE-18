{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/362556944", "html_url": "https://github.com/tensorflow/tensorflow/pull/15855#issuecomment-362556944", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15855", "id": 362556944, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjU1Njk0NA==", "user": {"login": "saugat", "id": 3350415, "node_id": "MDQ6VXNlcjMzNTA0MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/3350415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saugat", "html_url": "https://github.com/saugat", "followers_url": "https://api.github.com/users/saugat/followers", "following_url": "https://api.github.com/users/saugat/following{/other_user}", "gists_url": "https://api.github.com/users/saugat/gists{/gist_id}", "starred_url": "https://api.github.com/users/saugat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saugat/subscriptions", "organizations_url": "https://api.github.com/users/saugat/orgs", "repos_url": "https://api.github.com/users/saugat/repos", "events_url": "https://api.github.com/users/saugat/events{/privacy}", "received_events_url": "https://api.github.com/users/saugat/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-02T11:04:07Z", "updated_at": "2018-02-02T11:04:07Z", "author_association": "NONE", "body_html": "<p>Hello <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2092714\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ksindi\">@ksindi</a> ,<br>\nI tried exporting model for serving using your code. It generates model as well as variable but also throws some kind of error message after this line \"builder.save()\"<br>\nThe error and info are as follows:</p>\n<blockquote>\n<p>ipdb&gt; INFO:tensorflow:SavedModel written to: b'model/1\\saved_model.pb'<br>\nipdb&gt; An exception has occurred, use %tb to see the full traceback.<br>\nSystemExit<br>\nERROR: execution aborted</p>\n</blockquote>\n<p>Also while serving the generated model files on tensorflow servings does not have any problem. I can run the ModelServer at 0.0.0.0:9000 inside docker container(CPU) on Ubuntu but while doing the prediction job, it always fails with an error msg:</p>\n<pre><code>user@ubuntu:~/tensorflow_serving/example$ python inception_client.py --server=172.17.0.2:9000 --image=./testdata/dog.jpg\nTraceback (most recent call last):\n  File \"inception_client.py\", line 47, in &lt;module&gt;\n    tf.app.run()\n  File \"/home/user/.local/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"inception_client.py\", line 42, in main\n    result = stub.Predict(request, 60.0)  # 60 secs timeout\n  File \"/home/user/.local/lib/python2.7/site-packages/grpc/beta/_client_adaptations.py\", line 310, in __call__\n    self._request_serializer, self._response_deserializer)\n  File \"/home/user/.local/lib/python2.7/site-packages/grpc/beta/_client_adaptations.py\", line 196, in _blocking_unary_unary\n    raise _abortion_error(rpc_error_call)\ngrpc.framework.interfaces.face.face.AbortionError: AbortionError(code=StatusCode.INVALID_ARGUMENT, details=\"input tensor alias not found in signature: images. Inputs expected to be in the set {image}.\")\n</code></pre>\n<p>Is there anything I'm missing or any additional setting is needed?</p>\n<p>Saugat</p>", "body_text": "Hello @ksindi ,\nI tried exporting model for serving using your code. It generates model as well as variable but also throws some kind of error message after this line \"builder.save()\"\nThe error and info are as follows:\n\nipdb> INFO:tensorflow:SavedModel written to: b'model/1\\saved_model.pb'\nipdb> An exception has occurred, use %tb to see the full traceback.\nSystemExit\nERROR: execution aborted\n\nAlso while serving the generated model files on tensorflow servings does not have any problem. I can run the ModelServer at 0.0.0.0:9000 inside docker container(CPU) on Ubuntu but while doing the prediction job, it always fails with an error msg:\nuser@ubuntu:~/tensorflow_serving/example$ python inception_client.py --server=172.17.0.2:9000 --image=./testdata/dog.jpg\nTraceback (most recent call last):\n  File \"inception_client.py\", line 47, in <module>\n    tf.app.run()\n  File \"/home/user/.local/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"inception_client.py\", line 42, in main\n    result = stub.Predict(request, 60.0)  # 60 secs timeout\n  File \"/home/user/.local/lib/python2.7/site-packages/grpc/beta/_client_adaptations.py\", line 310, in __call__\n    self._request_serializer, self._response_deserializer)\n  File \"/home/user/.local/lib/python2.7/site-packages/grpc/beta/_client_adaptations.py\", line 196, in _blocking_unary_unary\n    raise _abortion_error(rpc_error_call)\ngrpc.framework.interfaces.face.face.AbortionError: AbortionError(code=StatusCode.INVALID_ARGUMENT, details=\"input tensor alias not found in signature: images. Inputs expected to be in the set {image}.\")\n\nIs there anything I'm missing or any additional setting is needed?\nSaugat", "body": "Hello @ksindi ,\r\nI tried exporting model for serving using your code. It generates model as well as variable but also throws some kind of error message after this line \"builder.save()\"\r\nThe error and info are as follows:\r\n\r\n> ipdb> INFO:tensorflow:SavedModel written to: b'model/1\\\\saved_model.pb'\r\n> ipdb> An exception has occurred, use %tb to see the full traceback.\r\n> SystemExit\r\n> ERROR: execution aborted\r\n\r\nAlso while serving the generated model files on tensorflow servings does not have any problem. I can run the ModelServer at 0.0.0.0:9000 inside docker container(CPU) on Ubuntu but while doing the prediction job, it always fails with an error msg:\r\n```\r\nuser@ubuntu:~/tensorflow_serving/example$ python inception_client.py --server=172.17.0.2:9000 --image=./testdata/dog.jpg\r\nTraceback (most recent call last):\r\n  File \"inception_client.py\", line 47, in <module>\r\n    tf.app.run()\r\n  File \"/home/user/.local/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"inception_client.py\", line 42, in main\r\n    result = stub.Predict(request, 60.0)  # 60 secs timeout\r\n  File \"/home/user/.local/lib/python2.7/site-packages/grpc/beta/_client_adaptations.py\", line 310, in __call__\r\n    self._request_serializer, self._response_deserializer)\r\n  File \"/home/user/.local/lib/python2.7/site-packages/grpc/beta/_client_adaptations.py\", line 196, in _blocking_unary_unary\r\n    raise _abortion_error(rpc_error_call)\r\ngrpc.framework.interfaces.face.face.AbortionError: AbortionError(code=StatusCode.INVALID_ARGUMENT, details=\"input tensor alias not found in signature: images. Inputs expected to be in the set {image}.\")\r\n``` \r\n\r\nIs there anything I'm missing or any additional setting is needed?\r\n\r\nSaugat"}