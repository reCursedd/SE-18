{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/285859927", "html_url": "https://github.com/tensorflow/tensorflow/issues/2169#issuecomment-285859927", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2169", "id": 285859927, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTg1OTkyNw==", "user": {"login": "yselivonchyk", "id": 4716569, "node_id": "MDQ6VXNlcjQ3MTY1Njk=", "avatar_url": "https://avatars3.githubusercontent.com/u/4716569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yselivonchyk", "html_url": "https://github.com/yselivonchyk", "followers_url": "https://api.github.com/users/yselivonchyk/followers", "following_url": "https://api.github.com/users/yselivonchyk/following{/other_user}", "gists_url": "https://api.github.com/users/yselivonchyk/gists{/gist_id}", "starred_url": "https://api.github.com/users/yselivonchyk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yselivonchyk/subscriptions", "organizations_url": "https://api.github.com/users/yselivonchyk/orgs", "repos_url": "https://api.github.com/users/yselivonchyk/repos", "events_url": "https://api.github.com/users/yselivonchyk/events{/privacy}", "received_events_url": "https://api.github.com/users/yselivonchyk/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-11T11:04:29Z", "updated_at": "2017-03-11T11:04:29Z", "author_association": "NONE", "body_html": "<p>I am not sure if it is the right place.</p>\n<p>According to docs <a href=\"https://www.tensorflow.org/api_docs/python/tf/nn/max_pool_with_argmax\" rel=\"nofollow\">max_pool_with_argmax</a> computes indexes using next formula:<br>\n<code>[b, y, x, c] -&gt; ((b * height + y) * width + x) * channels + c</code></p>\n<p>while infact batch index is ignored and next formula used:<br>\n<code>[b, y, x, c] -&gt; (y * width + x) * channels + c</code></p>\n<p>So, smth is wrong there.</p>\n<p>Code by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13853798\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Pepslee\">@Pepslee</a> seems to take it into account.</p>", "body_text": "I am not sure if it is the right place.\nAccording to docs max_pool_with_argmax computes indexes using next formula:\n[b, y, x, c] -> ((b * height + y) * width + x) * channels + c\nwhile infact batch index is ignored and next formula used:\n[b, y, x, c] -> (y * width + x) * channels + c\nSo, smth is wrong there.\nCode by @Pepslee seems to take it into account.", "body": "I am not sure if it is the right place.\r\n\r\nAccording to docs [max_pool_with_argmax](https://www.tensorflow.org/api_docs/python/tf/nn/max_pool_with_argmax) computes indexes using next formula:\r\n`[b, y, x, c] -> ((b * height + y) * width + x) * channels + c`\r\n\r\nwhile infact batch index is ignored and next formula used:\r\n`[b, y, x, c] -> (y * width + x) * channels + c`\r\n\r\nSo, smth is wrong there.\r\n\r\nCode by @Pepslee seems to take it into account.\r\n"}