{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/251863113", "html_url": "https://github.com/tensorflow/tensorflow/issues/2169#issuecomment-251863113", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2169", "id": 251863113, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTg2MzExMw==", "user": {"login": "hermitman", "id": 5199377, "node_id": "MDQ6VXNlcjUxOTkzNzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5199377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hermitman", "html_url": "https://github.com/hermitman", "followers_url": "https://api.github.com/users/hermitman/followers", "following_url": "https://api.github.com/users/hermitman/following{/other_user}", "gists_url": "https://api.github.com/users/hermitman/gists{/gist_id}", "starred_url": "https://api.github.com/users/hermitman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hermitman/subscriptions", "organizations_url": "https://api.github.com/users/hermitman/orgs", "repos_url": "https://api.github.com/users/hermitman/repos", "events_url": "https://api.github.com/users/hermitman/events{/privacy}", "received_events_url": "https://api.github.com/users/hermitman/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-06T04:14:35Z", "updated_at": "2016-10-06T04:14:35Z", "author_association": "NONE", "body_html": "<p>@LeavesBreathe Hi, I am not trying to backprop gradients to the argmax. I am using the argmax to create a unpooling path. The gradients will be directed according to such paths. For example,</p>\n<p>if my bottom for this layer is 2_4_4_1 (batch_height_width_channels), then the desired output is 2_8_8*1, where in each 2x2 neighborhood, there is only one active pixel. The exact location of the pixel is determined by argmax, which comes from the maxpool_with_argmax() op.</p>\n<p>When backprop, the top input gradient map is 2_8_8_1, and then the corresponding gradient should be directly send to the output location in the 2_4_4_1 bottom output. There is not computation in the process, but merely directing the gradients to the correct location. It is the reverse of maxpool i think.</p>\n<p>Could you help me find out a way to implement the aforementioned op?</p>", "body_text": "@LeavesBreathe Hi, I am not trying to backprop gradients to the argmax. I am using the argmax to create a unpooling path. The gradients will be directed according to such paths. For example,\nif my bottom for this layer is 2_4_4_1 (batch_height_width_channels), then the desired output is 2_8_8*1, where in each 2x2 neighborhood, there is only one active pixel. The exact location of the pixel is determined by argmax, which comes from the maxpool_with_argmax() op.\nWhen backprop, the top input gradient map is 2_8_8_1, and then the corresponding gradient should be directly send to the output location in the 2_4_4_1 bottom output. There is not computation in the process, but merely directing the gradients to the correct location. It is the reverse of maxpool i think.\nCould you help me find out a way to implement the aforementioned op?", "body": "@LeavesBreathe Hi, I am not trying to backprop gradients to the argmax. I am using the argmax to create a unpooling path. The gradients will be directed according to such paths. For example,\n\nif my bottom for this layer is 2_4_4_1 (batch_height_width_channels), then the desired output is 2_8_8*1, where in each 2x2 neighborhood, there is only one active pixel. The exact location of the pixel is determined by argmax, which comes from the maxpool_with_argmax() op.\n\nWhen backprop, the top input gradient map is 2_8_8_1, and then the corresponding gradient should be directly send to the output location in the 2_4_4_1 bottom output. There is not computation in the process, but merely directing the gradients to the correct location. It is the reverse of maxpool i think.\n\nCould you help me find out a way to implement the aforementioned op?\n"}