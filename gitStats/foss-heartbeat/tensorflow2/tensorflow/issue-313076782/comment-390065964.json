{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/390065964", "html_url": "https://github.com/tensorflow/tensorflow/issues/18394#issuecomment-390065964", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18394", "id": 390065964, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDA2NTk2NA==", "user": {"login": "ankitvgupta", "id": 5473865, "node_id": "MDQ6VXNlcjU0NzM4NjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5473865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ankitvgupta", "html_url": "https://github.com/ankitvgupta", "followers_url": "https://api.github.com/users/ankitvgupta/followers", "following_url": "https://api.github.com/users/ankitvgupta/following{/other_user}", "gists_url": "https://api.github.com/users/ankitvgupta/gists{/gist_id}", "starred_url": "https://api.github.com/users/ankitvgupta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ankitvgupta/subscriptions", "organizations_url": "https://api.github.com/users/ankitvgupta/orgs", "repos_url": "https://api.github.com/users/ankitvgupta/repos", "events_url": "https://api.github.com/users/ankitvgupta/events{/privacy}", "received_events_url": "https://api.github.com/users/ankitvgupta/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-18T01:27:08Z", "updated_at": "2018-05-18T01:27:35Z", "author_association": "CONTRIBUTOR", "body_html": "<p>It looks like in the <code>tf.estimator.train_and_evaluate</code> code, there is a line at <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/estimator/training.py#L432\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/estimator/training.py#L432</a><br>\nwhere we instantiate a <code>_TrainingExecutor</code>:</p>\n<div class=\"highlight highlight-source-python\"><pre>executor <span class=\"pl-k\">=</span> _TrainingExecutor(<span class=\"pl-v\">estimator</span><span class=\"pl-k\">=</span>estimator, <span class=\"pl-v\">train_spec</span><span class=\"pl-k\">=</span>train_spec, <span class=\"pl-v\">eval_spec</span><span class=\"pl-k\">=</span>eval_spec)</pre></div>\n<p>However, <code>_TrainingExecutor</code> also has the optional argument <code>continuous_eval_listener</code>, which we could presumably use to track the eval result and do early stopping. Is there a reason <code>train_and_evaluate</code> doesn't let us use this argument? It doesn't look like there are any other instances of <code>_TrainingExecutor</code> anywhere in the Tensorflow codebase.</p>", "body_text": "It looks like in the tf.estimator.train_and_evaluate code, there is a line at https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/estimator/training.py#L432\nwhere we instantiate a _TrainingExecutor:\nexecutor = _TrainingExecutor(estimator=estimator, train_spec=train_spec, eval_spec=eval_spec)\nHowever, _TrainingExecutor also has the optional argument continuous_eval_listener, which we could presumably use to track the eval result and do early stopping. Is there a reason train_and_evaluate doesn't let us use this argument? It doesn't look like there are any other instances of _TrainingExecutor anywhere in the Tensorflow codebase.", "body": "It looks like in the `tf.estimator.train_and_evaluate` code, there is a line at https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/estimator/training.py#L432\r\nwhere we instantiate a `_TrainingExecutor`:\r\n\r\n``` python\r\nexecutor = _TrainingExecutor(estimator=estimator, train_spec=train_spec, eval_spec=eval_spec)\r\n```\r\nHowever, `_TrainingExecutor` also has the optional argument `continuous_eval_listener`, which we could presumably use to track the eval result and do early stopping. Is there a reason `train_and_evaluate` doesn't let us use this argument? It doesn't look like there are any other instances of `_TrainingExecutor` anywhere in the Tensorflow codebase."}