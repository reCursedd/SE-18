{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/309145708", "html_url": "https://github.com/tensorflow/tensorflow/issues/10665#issuecomment-309145708", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10665", "id": 309145708, "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTE0NTcwOA==", "user": {"login": "lxwgcool", "id": 11053933, "node_id": "MDQ6VXNlcjExMDUzOTMz", "avatar_url": "https://avatars2.githubusercontent.com/u/11053933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lxwgcool", "html_url": "https://github.com/lxwgcool", "followers_url": "https://api.github.com/users/lxwgcool/followers", "following_url": "https://api.github.com/users/lxwgcool/following{/other_user}", "gists_url": "https://api.github.com/users/lxwgcool/gists{/gist_id}", "starred_url": "https://api.github.com/users/lxwgcool/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lxwgcool/subscriptions", "organizations_url": "https://api.github.com/users/lxwgcool/orgs", "repos_url": "https://api.github.com/users/lxwgcool/repos", "events_url": "https://api.github.com/users/lxwgcool/events{/privacy}", "received_events_url": "https://api.github.com/users/lxwgcool/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-16T22:08:48Z", "updated_at": "2017-06-16T22:08:48Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=326106\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aselle\">@aselle</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=449233\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/RustingSword\">@RustingSword</a><br>\nHi All,<br>\nGood news: I just compiled gpu version of tensorflow 1.2.0-rc2 successfully. I did several additional things as below:<br>\n1: Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=449233\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/RustingSword\">@RustingSword</a> , I replaced all of \"/apps2\" by \"/gpfs/gpfs1/apps2\" to avoid the potential problem of auto-mount in our parallel file system.<br>\n2: For the file: tensorflow/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl, replace:<br>\n\"tool_path { name: \"cpp\" path: \"/usr/bin//cpp\" }\" to \"tool_path { name: \"cpp\" path: \"/gpfs/gpfs1/apps2/gcc/5.4.0/bin/cpp\" }\"<br>\n3: Go to \"/home/hpc-xin/.cache/bazel/_bazel_hpc-xin/c5e302e32d7acb9c3e4fce8142d1cd66/external/nccl_archive\". For the file \"MakeFile\", change \"CUDA_HOME ?= /usr/local/cuda\" to \"CUDA_HOME ?= /apps2/cuda/8.0.61\", then type \u201cmake\u201d to make the source code manually.<br>\n4: Back to the main folder of tensorflow and type \"bazel clean\"<br>\n5: bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package<br>\n6: bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg</p>\n<p>I wrote some simple testing codes to test the gpu features of tensorflow 1.2.0-rc2  and all of those codes works fine now. The corresponding compiler and software I used as below: bazel v0.5.1, gcc v5.4.0, python v3.6.1, cuda v8.0, cudnn v6.0.</p>\n<p>I am really appreciated for you guys help. Thank you so much :)</p>\n<p>Best<br>\nXin</p>", "body_text": "@aselle @gunan @RustingSword\nHi All,\nGood news: I just compiled gpu version of tensorflow 1.2.0-rc2 successfully. I did several additional things as below:\n1: Thanks @RustingSword , I replaced all of \"/apps2\" by \"/gpfs/gpfs1/apps2\" to avoid the potential problem of auto-mount in our parallel file system.\n2: For the file: tensorflow/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl, replace:\n\"tool_path { name: \"cpp\" path: \"/usr/bin//cpp\" }\" to \"tool_path { name: \"cpp\" path: \"/gpfs/gpfs1/apps2/gcc/5.4.0/bin/cpp\" }\"\n3: Go to \"/home/hpc-xin/.cache/bazel/_bazel_hpc-xin/c5e302e32d7acb9c3e4fce8142d1cd66/external/nccl_archive\". For the file \"MakeFile\", change \"CUDA_HOME ?= /usr/local/cuda\" to \"CUDA_HOME ?= /apps2/cuda/8.0.61\", then type \u201cmake\u201d to make the source code manually.\n4: Back to the main folder of tensorflow and type \"bazel clean\"\n5: bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n6: bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\nI wrote some simple testing codes to test the gpu features of tensorflow 1.2.0-rc2  and all of those codes works fine now. The corresponding compiler and software I used as below: bazel v0.5.1, gcc v5.4.0, python v3.6.1, cuda v8.0, cudnn v6.0.\nI am really appreciated for you guys help. Thank you so much :)\nBest\nXin", "body": "@aselle @gunan @RustingSword \r\nHi All, \r\nGood news: I just compiled gpu version of tensorflow 1.2.0-rc2 successfully. I did several additional things as below:\r\n1: Thanks @RustingSword , I replaced all of \"/apps2\" by \"/gpfs/gpfs1/apps2\" to avoid the potential problem of auto-mount in our parallel file system. \r\n2: For the file: tensorflow/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl, replace: \r\n   \"tool_path { name: \"cpp\" path: \"/usr/bin//cpp\" }\" to \"tool_path { name: \"cpp\" path: \"/gpfs/gpfs1/apps2/gcc/5.4.0/bin/cpp\" }\"\r\n3: Go to \"/home/hpc-xin/.cache/bazel/_bazel_hpc-xin/c5e302e32d7acb9c3e4fce8142d1cd66/external/nccl_archive\". For the file \"MakeFile\", change \"CUDA_HOME ?= /usr/local/cuda\" to \"CUDA_HOME ?= /apps2/cuda/8.0.61\", then type \u201cmake\u201d to make the source code manually.\r\n4: Back to the main folder of tensorflow and type \"bazel clean\"\r\n5: bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n6: bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\r\n\r\nI wrote some simple testing codes to test the gpu features of tensorflow 1.2.0-rc2  and all of those codes works fine now. The corresponding compiler and software I used as below: bazel v0.5.1, gcc v5.4.0, python v3.6.1, cuda v8.0, cudnn v6.0.\r\n\r\nI am really appreciated for you guys help. Thank you so much :)\r\n\r\nBest\r\nXin"}