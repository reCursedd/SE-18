{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/226906790", "html_url": "https://github.com/tensorflow/tensorflow/issues/312#issuecomment-226906790", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/312", "id": 226906790, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjkwNjc5MA==", "user": {"login": "sherrym", "id": 12770037, "node_id": "MDQ6VXNlcjEyNzcwMDM3", "avatar_url": "https://avatars0.githubusercontent.com/u/12770037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherrym", "html_url": "https://github.com/sherrym", "followers_url": "https://api.github.com/users/sherrym/followers", "following_url": "https://api.github.com/users/sherrym/following{/other_user}", "gists_url": "https://api.github.com/users/sherrym/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherrym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherrym/subscriptions", "organizations_url": "https://api.github.com/users/sherrym/orgs", "repos_url": "https://api.github.com/users/sherrym/repos", "events_url": "https://api.github.com/users/sherrym/events{/privacy}", "received_events_url": "https://api.github.com/users/sherrym/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-17T23:51:41Z", "updated_at": "2016-06-17T23:51:41Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9004594\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/futurely\">@futurely</a>, how do you want to work around this restriction? Do you want to restore all you have, and initialize the rest to what's in the checkpoint? If that's the case, what you can do is this:</p>\n<ol>\n<li>Initialize all the variables.</li>\n<li>Get all the variables in the checkpoint by using get_variable_to_shape_map() and restore those only.</li>\n</ol>\n<p>See <div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/8df836f2611c533c54d2bdaaf107c67afac8d6a5/tensorflow/python/training/saver_test.py#L1214\">tensorflow/tensorflow/python/training/saver_test.py</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 1214\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/8df836f2611c533c54d2bdaaf107c67afac8d6a5\">8df836f</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L1214\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"1214\"></td>\n          <td id=\"LC1214\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">class</span> <span class=\"pl-en\">CheckpointReaderTest</span>(<span class=\"pl-e\">tf</span>.<span class=\"pl-e\">test</span>.<span class=\"pl-e\">TestCase</span>): </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<p>for usage example.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6705189\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/koonyook\">@koonyook</a>, how do you want to use a new variable with previously saved variables?</p>", "body_text": "@futurely, how do you want to work around this restriction? Do you want to restore all you have, and initialize the rest to what's in the checkpoint? If that's the case, what you can do is this:\n\nInitialize all the variables.\nGet all the variables in the checkpoint by using get_variable_to_shape_map() and restore those only.\n\nSee \n  \n    \n      tensorflow/tensorflow/python/training/saver_test.py\n    \n    \n         Line 1214\n      in\n      8df836f\n    \n    \n    \n    \n\n        \n          \n           class CheckpointReaderTest(tf.test.TestCase): \n        \n    \n  \n\n\nfor usage example.\n@koonyook, how do you want to use a new variable with previously saved variables?", "body": "@futurely, how do you want to work around this restriction? Do you want to restore all you have, and initialize the rest to what's in the checkpoint? If that's the case, what you can do is this:\n1. Initialize all the variables.\n2. Get all the variables in the checkpoint by using get_variable_to_shape_map() and restore those only.\n\nSee https://github.com/tensorflow/tensorflow/blob/8df836f2611c533c54d2bdaaf107c67afac8d6a5/tensorflow/python/training/saver_test.py#L1214\n\nfor usage example.\n\n@koonyook, how do you want to use a new variable with previously saved variables?\n"}