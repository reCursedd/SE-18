{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2802", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2802/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2802/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2802/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2802", "id": 159770149, "node_id": "MDU6SXNzdWUxNTk3NzAxNDk=", "number": 2802, "title": "Compile failed due to undeclared inclusion", "user": {"login": "peterzcc", "id": 7450599, "node_id": "MDQ6VXNlcjc0NTA1OTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7450599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterzcc", "html_url": "https://github.com/peterzcc", "followers_url": "https://api.github.com/users/peterzcc/followers", "following_url": "https://api.github.com/users/peterzcc/following{/other_user}", "gists_url": "https://api.github.com/users/peterzcc/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterzcc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterzcc/subscriptions", "organizations_url": "https://api.github.com/users/peterzcc/orgs", "repos_url": "https://api.github.com/users/peterzcc/repos", "events_url": "https://api.github.com/users/peterzcc/events{/privacy}", "received_events_url": "https://api.github.com/users/peterzcc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-11T11:53:20Z", "updated_at": "2016-06-11T23:17:11Z", "closed_at": "2016-06-11T23:17:11Z", "author_association": "NONE", "body_html": "<h3>ERROR message</h3>\n<pre><code>ERROR: /csproject/dygroup2/czeng/downloads/tensorflow/tensorflow/core/kernels/BUILD:1575:1: undeclared inclusion(s) in rule '//tensorflow/core/kernels:training_ops_gpu':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/kernels/training_ops_gpu.cu.cc':\n</code></pre>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nCentOS 6.5<br>\nInstalled version of CUDA and cuDNN:<br>\ncuda-7.5<br>\ncuDNN v5</p>\n<h3>Procedure to reproduce:</h3>\n<p>I used a custom GCC version (which is in /usr/local/GNU/gcc-4.9.2/) following the guide in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"151104976\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2109\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2109/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2109\">#2109</a> , and executed</p>\n<p><code>bazel build --verbose_failures -c opt --config=cuda --genrule_strategy=standalone -j 10 //tensorflow/cc:tutorials_example_trainer </code></p>\n<h3>Output of $ echo | gcc4 -E -xc++ - -v</h3>\n<pre><code>Using built-in specs.\nCOLLECT_GCC=gcc4\nTarget: x86_64-unknown-linux-gnu\nConfigured with: ../gcc-4.9.2/configure --prefix=/usr/local/GNU/gcc-4.9.2 --enable-clocale=generic\nThread model: posix\ngcc version 4.9.2 (GCC)\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../libexec/gcc/x86_64-unknown-linux-gnu/4.9.2/cc1plus -E -quiet -v -iprefix /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/ -D_GNU_SOURCE - -mtune=generic -march=x86-64\nignoring nonexistent directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../x86_64-unknown-linux-gnu/include\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/x86_64-unknown-linux-gnu\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/backward\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include-fixed\"\nignoring nonexistent directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../x86_64-unknown-linux-gnu/include\"\n#include \"...\" search starts here:\n#include &lt;...&gt; search starts here:\n /csproject/dygroup2/czeng/venv/cudnnv5/include\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/x86_64-unknown-linux-gnu\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/backward\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include-fixed\n /usr/local/include\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../include\n /usr/include\nEnd of search list.\n#1 \"&lt;stdin&gt;\"\n#1 \"&lt;built-in&gt;\"\n#1 \"&lt;command-line&gt;\"\n#1 \"&lt;stdin&gt;\"\nCOMPILER_PATH=/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../libexec/gcc/x86_64-unknown-linux-gnu/4.9.2/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../libexec/gcc/\nLIBRARY_PATH=/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/:/csproject/dygroup2/czeng/venv/cudnnv5/lib64/../lib64/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../lib64/:/lib/../lib64/:/usr/lib/../lib64/:/csproject/dygroup2/czeng/venv/cudnnv5/lib64/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../:/lib/:/usr/lib/\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'\n</code></pre>", "body_text": "ERROR message\nERROR: /csproject/dygroup2/czeng/downloads/tensorflow/tensorflow/core/kernels/BUILD:1575:1: undeclared inclusion(s) in rule '//tensorflow/core/kernels:training_ops_gpu':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/kernels/training_ops_gpu.cu.cc':\n\nEnvironment info\nOperating System:\nCentOS 6.5\nInstalled version of CUDA and cuDNN:\ncuda-7.5\ncuDNN v5\nProcedure to reproduce:\nI used a custom GCC version (which is in /usr/local/GNU/gcc-4.9.2/) following the guide in #2109 , and executed\nbazel build --verbose_failures -c opt --config=cuda --genrule_strategy=standalone -j 10 //tensorflow/cc:tutorials_example_trainer \nOutput of $ echo | gcc4 -E -xc++ - -v\nUsing built-in specs.\nCOLLECT_GCC=gcc4\nTarget: x86_64-unknown-linux-gnu\nConfigured with: ../gcc-4.9.2/configure --prefix=/usr/local/GNU/gcc-4.9.2 --enable-clocale=generic\nThread model: posix\ngcc version 4.9.2 (GCC)\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../libexec/gcc/x86_64-unknown-linux-gnu/4.9.2/cc1plus -E -quiet -v -iprefix /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/ -D_GNU_SOURCE - -mtune=generic -march=x86-64\nignoring nonexistent directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../x86_64-unknown-linux-gnu/include\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/x86_64-unknown-linux-gnu\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/backward\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include-fixed\"\nignoring nonexistent directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../x86_64-unknown-linux-gnu/include\"\n#include \"...\" search starts here:\n#include <...> search starts here:\n /csproject/dygroup2/czeng/venv/cudnnv5/include\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/x86_64-unknown-linux-gnu\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/backward\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include-fixed\n /usr/local/include\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../include\n /usr/include\nEnd of search list.\n#1 \"<stdin>\"\n#1 \"<built-in>\"\n#1 \"<command-line>\"\n#1 \"<stdin>\"\nCOMPILER_PATH=/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../libexec/gcc/x86_64-unknown-linux-gnu/4.9.2/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../libexec/gcc/\nLIBRARY_PATH=/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/:/csproject/dygroup2/czeng/venv/cudnnv5/lib64/../lib64/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../lib64/:/lib/../lib64/:/usr/lib/../lib64/:/csproject/dygroup2/czeng/venv/cudnnv5/lib64/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../:/lib/:/usr/lib/\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'", "body": "### ERROR message\n\n```\nERROR: /csproject/dygroup2/czeng/downloads/tensorflow/tensorflow/core/kernels/BUILD:1575:1: undeclared inclusion(s) in rule '//tensorflow/core/kernels:training_ops_gpu':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/kernels/training_ops_gpu.cu.cc':\n```\n### Environment info\n\nOperating System:\nCentOS 6.5\nInstalled version of CUDA and cuDNN: \ncuda-7.5\ncuDNN v5\n### Procedure to reproduce:\n\nI used a custom GCC version (which is in /usr/local/GNU/gcc-4.9.2/) following the guide in #2109 , and executed \n\n`bazel build --verbose_failures -c opt --config=cuda --genrule_strategy=standalone -j 10 //tensorflow/cc:tutorials_example_trainer\n`\n### Output of $ echo | gcc4 -E -xc++ - -v\n\n```\nUsing built-in specs.\nCOLLECT_GCC=gcc4\nTarget: x86_64-unknown-linux-gnu\nConfigured with: ../gcc-4.9.2/configure --prefix=/usr/local/GNU/gcc-4.9.2 --enable-clocale=generic\nThread model: posix\ngcc version 4.9.2 (GCC)\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../libexec/gcc/x86_64-unknown-linux-gnu/4.9.2/cc1plus -E -quiet -v -iprefix /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/ -D_GNU_SOURCE - -mtune=generic -march=x86-64\nignoring nonexistent directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../x86_64-unknown-linux-gnu/include\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/x86_64-unknown-linux-gnu\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/backward\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include\"\nignoring duplicate directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include-fixed\"\nignoring nonexistent directory \"/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../x86_64-unknown-linux-gnu/include\"\n#include \"...\" search starts here:\n#include <...> search starts here:\n /csproject/dygroup2/czeng/venv/cudnnv5/include\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/x86_64-unknown-linux-gnu\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/backward\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/include-fixed\n /usr/local/include\n /export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/../../include\n /usr/include\nEnd of search list.\n#1 \"<stdin>\"\n#1 \"<built-in>\"\n#1 \"<command-line>\"\n#1 \"<stdin>\"\nCOMPILER_PATH=/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../libexec/gcc/x86_64-unknown-linux-gnu/4.9.2/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../libexec/gcc/\nLIBRARY_PATH=/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/:/csproject/dygroup2/czeng/venv/cudnnv5/lib64/../lib64/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../lib64/:/lib/../lib64/:/usr/lib/../lib64/:/csproject/dygroup2/czeng/venv/cudnnv5/lib64/:/export/centos6_usr_local/GNU/gcc-4.9.2/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../:/lib/:/usr/lib/\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'\n```\n"}