{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/426806861", "html_url": "https://github.com/tensorflow/tensorflow/issues/13463#issuecomment-426806861", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13463", "id": 426806861, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjgwNjg2MQ==", "user": {"login": "mhtrinh", "id": 6384821, "node_id": "MDQ6VXNlcjYzODQ4MjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6384821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mhtrinh", "html_url": "https://github.com/mhtrinh", "followers_url": "https://api.github.com/users/mhtrinh/followers", "following_url": "https://api.github.com/users/mhtrinh/following{/other_user}", "gists_url": "https://api.github.com/users/mhtrinh/gists{/gist_id}", "starred_url": "https://api.github.com/users/mhtrinh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mhtrinh/subscriptions", "organizations_url": "https://api.github.com/users/mhtrinh/orgs", "repos_url": "https://api.github.com/users/mhtrinh/repos", "events_url": "https://api.github.com/users/mhtrinh/events{/privacy}", "received_events_url": "https://api.github.com/users/mhtrinh/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-03T21:17:16Z", "updated_at": "2018-10-08T00:33:15Z", "author_association": "NONE", "body_html": "<p>Me too :<br>\nTensorflow 1.10.1 (recompiled locally using unchanged github source at tags/v1.10.1)<br>\nPython 3.6<br>\nKernel : 4.15.0-34-generic Ubuntu 18.04 LTS<br>\nNo NFS, just linux raid (mdadm)<br>\nTFrecord : 10 file of 1.8GB<br>\nRAM: 62GB</p>\n<p>Dropping cache fix the corruption temporary. I was running tensorflow 1.4.0 and there was no crash/corruption during all my training.</p>\n<p>I suspect it have to do with the shuffle operation as I do also have random segfault/error just before or after \"Filling up shuffle buffer\" or \"Shuffle buffer filled.\" ( I am using unchanged object detection pipeline)</p>\n<p>Edit: Same thing happen with tensorflow 1.11 (pip install).<br>\nThere is 2 differents error message that I believe related to the same problem :</p>\n<ul>\n<li>The \"DataLossError\" and \"corrupted record\"</li>\n<li>And \"InvalidArgumentError: Invalid PNG data, size \" (I use png files)</li>\n</ul>\n<p>I saved md5sum of my tfrecords before training. When it crash with the error above,and I run md5sum: one of my tfrecord changes. Once I dropped the cache, the md5sum is back to what it was before training.</p>", "body_text": "Me too :\nTensorflow 1.10.1 (recompiled locally using unchanged github source at tags/v1.10.1)\nPython 3.6\nKernel : 4.15.0-34-generic Ubuntu 18.04 LTS\nNo NFS, just linux raid (mdadm)\nTFrecord : 10 file of 1.8GB\nRAM: 62GB\nDropping cache fix the corruption temporary. I was running tensorflow 1.4.0 and there was no crash/corruption during all my training.\nI suspect it have to do with the shuffle operation as I do also have random segfault/error just before or after \"Filling up shuffle buffer\" or \"Shuffle buffer filled.\" ( I am using unchanged object detection pipeline)\nEdit: Same thing happen with tensorflow 1.11 (pip install).\nThere is 2 differents error message that I believe related to the same problem :\n\nThe \"DataLossError\" and \"corrupted record\"\nAnd \"InvalidArgumentError: Invalid PNG data, size \" (I use png files)\n\nI saved md5sum of my tfrecords before training. When it crash with the error above,and I run md5sum: one of my tfrecord changes. Once I dropped the cache, the md5sum is back to what it was before training.", "body": "Me too :\r\nTensorflow 1.10.1 (recompiled locally using unchanged github source at tags/v1.10.1)\r\nPython 3.6\r\nKernel : 4.15.0-34-generic Ubuntu 18.04 LTS\r\nNo NFS, just linux raid (mdadm)\r\nTFrecord : 10 file of 1.8GB\r\nRAM: 62GB \r\n\r\nDropping cache fix the corruption temporary. I was running tensorflow 1.4.0 and there was no crash/corruption during all my training.\r\n\r\nI suspect it have to do with the shuffle operation as I do also have random segfault/error just before or after \"Filling up shuffle buffer\" or \"Shuffle buffer filled.\" ( I am using unchanged object detection pipeline)\r\n\r\nEdit: Same thing happen with tensorflow 1.11 (pip install).\r\nThere is 2 differents error message that I believe related to the same problem :\r\n- The \"DataLossError\" and \"corrupted record\"\r\n- And \"InvalidArgumentError: Invalid PNG data, size \" (I use png files)\r\n\r\nI saved md5sum of my tfrecords before training. When it crash with the error above,and I run md5sum: one of my tfrecord changes. Once I dropped the cache, the md5sum is back to what it was before training."}