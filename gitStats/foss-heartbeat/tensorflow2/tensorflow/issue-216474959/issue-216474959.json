{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8664", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8664/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8664/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8664/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8664", "id": 216474959, "node_id": "MDU6SXNzdWUyMTY0NzQ5NTk=", "number": 8664, "title": "SyntaxError: name '_googletest_temp_dir' is used prior to global declaration", "user": {"login": "doantientai", "id": 14870898, "node_id": "MDQ6VXNlcjE0ODcwODk4", "avatar_url": "https://avatars2.githubusercontent.com/u/14870898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doantientai", "html_url": "https://github.com/doantientai", "followers_url": "https://api.github.com/users/doantientai/followers", "following_url": "https://api.github.com/users/doantientai/following{/other_user}", "gists_url": "https://api.github.com/users/doantientai/gists{/gist_id}", "starred_url": "https://api.github.com/users/doantientai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doantientai/subscriptions", "organizations_url": "https://api.github.com/users/doantientai/orgs", "repos_url": "https://api.github.com/users/doantientai/repos", "events_url": "https://api.github.com/users/doantientai/events{/privacy}", "received_events_url": "https://api.github.com/users/doantientai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-23T15:44:25Z", "updated_at": "2017-03-23T20:26:58Z", "closed_at": "2017-03-23T20:26:58Z", "author_association": "NONE", "body_html": "<p>I am following tutorial <a href=\"https://www.tensorflow.org/tutorials/image_retraining\" rel=\"nofollow\">https://www.tensorflow.org/tutorials/image_retraining</a></p>\n<p>The code successfully complied with Bazel but failed to run with command</p>\n<p><code>bazel-bin/tensorflow/examples/image_retraining/retrain --image_dir ~/flower_photos</code></p>\n<p>With a very strange ERROR:</p>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 79, in <br>\nimport tensorflow as tf<br>\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/<strong>init</strong>.py\", line 24, in <br>\nfrom tensorflow.python import *<br>\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/<strong>init</strong>.py\", line 104, in <br>\nfrom tensorflow.python.platform import test<br>\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/platform/test.py\", line 38, in <br>\nfrom tensorflow.python.framework import test_util as _test_util<br>\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 46, in <br>\nfrom tensorflow.python.platform import googletest<br>\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 118<br>\nglobal _googletest_temp_dir<br>\nSyntaxError: name '_googletest_temp_dir' is used prior to global declaration</p>\n</blockquote>\n<p>When I run the <strong>retrain.py</strong> directly with python, the error did not show up. It only happens when I use bazel. Can anyone explain why?</p>", "body_text": "I am following tutorial https://www.tensorflow.org/tutorials/image_retraining\nThe code successfully complied with Bazel but failed to run with command\nbazel-bin/tensorflow/examples/image_retraining/retrain --image_dir ~/flower_photos\nWith a very strange ERROR:\n\nTraceback (most recent call last):\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 79, in \nimport tensorflow as tf\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/init.py\", line 24, in \nfrom tensorflow.python import *\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/init.py\", line 104, in \nfrom tensorflow.python.platform import test\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/platform/test.py\", line 38, in \nfrom tensorflow.python.framework import test_util as _test_util\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 46, in \nfrom tensorflow.python.platform import googletest\nFile \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 118\nglobal _googletest_temp_dir\nSyntaxError: name '_googletest_temp_dir' is used prior to global declaration\n\nWhen I run the retrain.py directly with python, the error did not show up. It only happens when I use bazel. Can anyone explain why?", "body": "I am following tutorial https://www.tensorflow.org/tutorials/image_retraining\r\n\r\nThe code successfully complied with Bazel but failed to run with command\r\n\r\n`bazel-bin/tensorflow/examples/image_retraining/retrain --image_dir ~/flower_photos`\r\n\r\nWith a very strange ERROR:\r\n\r\n> Traceback (most recent call last):\r\n  File \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 79, in <module>\r\n    import tensorflow as tf\r\n  File \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import *\r\n  File \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/__init__.py\", line 104, in <module>\r\n    from tensorflow.python.platform import test\r\n  File \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/platform/test.py\", line 38, in <module>\r\n    from tensorflow.python.framework import test_util as _test_util\r\n  File \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 46, in <module>\r\n    from tensorflow.python.platform import googletest\r\n  File \"/home/tai/Desktop/TaiM2/tensorflow/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 118\r\n    global _googletest_temp_dir\r\nSyntaxError: name '_googletest_temp_dir' is used prior to global declaration\r\n\r\nWhen I run the **retrain.py** directly with python, the error did not show up. It only happens when I use bazel. Can anyone explain why?"}