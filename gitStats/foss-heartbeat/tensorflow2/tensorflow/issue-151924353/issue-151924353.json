{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2170", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2170/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2170/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2170/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2170", "id": 151924353, "node_id": "MDU6SXNzdWUxNTE5MjQzNTM=", "number": 2170, "title": "Index into tensor", "user": {"login": "vladfi1", "id": 691536, "node_id": "MDQ6VXNlcjY5MTUzNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/691536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vladfi1", "html_url": "https://github.com/vladfi1", "followers_url": "https://api.github.com/users/vladfi1/followers", "following_url": "https://api.github.com/users/vladfi1/following{/other_user}", "gists_url": "https://api.github.com/users/vladfi1/gists{/gist_id}", "starred_url": "https://api.github.com/users/vladfi1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vladfi1/subscriptions", "organizations_url": "https://api.github.com/users/vladfi1/orgs", "repos_url": "https://api.github.com/users/vladfi1/repos", "events_url": "https://api.github.com/users/vladfi1/events{/privacy}", "received_events_url": "https://api.github.com/users/vladfi1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-29T17:11:03Z", "updated_at": "2018-01-13T21:13:49Z", "closed_at": "2016-04-29T18:42:52Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I'd like to have a <code>tf.index</code> function that works like this:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\nweights <span class=\"pl-k\">=</span> tf.constant([[<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>], [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>], [<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">2</span>]])\nindices <span class=\"pl-k\">=</span> tf.constant([<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>])\n\nindexed <span class=\"pl-k\">=</span> tf.index(weights, indices)\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>indexed = [[0, 0], [2, 2], [1, 1], [2, 2]]</span></pre></div>\n<p>That is, <code>indexed[i] = weights[indices[i]]</code>. Of the existing functions, <code>tf.slice</code> comes close, but it doesn't seem to allow for multiple slices. A less efficient way of doing this is to use <code>tf.one_hot</code> and a matrix multiply, but this should be straightforward to do.</p>", "body_text": "I'd like to have a tf.index function that works like this:\nimport tensorflow as tf\n\nweights = tf.constant([[0, 0], [1, 1], [2, 2]])\nindices = tf.constant([0, 2, 1, 2])\n\nindexed = tf.index(weights, indices)\n#indexed = [[0, 0], [2, 2], [1, 1], [2, 2]]\nThat is, indexed[i] = weights[indices[i]]. Of the existing functions, tf.slice comes close, but it doesn't seem to allow for multiple slices. A less efficient way of doing this is to use tf.one_hot and a matrix multiply, but this should be straightforward to do.", "body": "I'd like to have a `tf.index` function that works like this:\n\n``` python\nimport tensorflow as tf\n\nweights = tf.constant([[0, 0], [1, 1], [2, 2]])\nindices = tf.constant([0, 2, 1, 2])\n\nindexed = tf.index(weights, indices)\n#indexed = [[0, 0], [2, 2], [1, 1], [2, 2]]\n```\n\nThat is, `indexed[i] = weights[indices[i]]`. Of the existing functions, `tf.slice` comes close, but it doesn't seem to allow for multiple slices. A less efficient way of doing this is to use `tf.one_hot` and a matrix multiply, but this should be straightforward to do.\n"}