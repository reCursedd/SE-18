{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/332909389", "html_url": "https://github.com/tensorflow/tensorflow/issues/11859#issuecomment-332909389", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11859", "id": 332909389, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjkwOTM4OQ==", "user": {"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-28T17:35:52Z", "updated_at": "2017-09-28T17:35:52Z", "author_association": "MEMBER", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 14.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Source</li>\n<li><strong>TensorFlow version (use command below)</strong>: Master, commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/4270c4a00bb90d97418df5b0e9b6b3e148a72a1e/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/4270c4a00bb90d97418df5b0e9b6b3e148a72a1e\"><tt>4270c4a</tt></a></li>\n<li><strong>Python version</strong>: 2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.6.0</li>\n<li><strong>CUDA/cuDNN version</strong>: Cuda 8, cuDNN 6</li>\n<li><strong>GPU model and memory</strong>: GTX 1080 8 GB</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<pre><code>bazel build -c opt \u2014config=cuda //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<h3>Describe the problem</h3>\n<p>When I run the above command with Bazel 0.6.0 after running <code>./configure</code> with GPU support, I get the error</p>\n<pre><code>ERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 1042\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 975, in _create_local_cuda_repository\n\t\t_host_compiler_includes(repository_ctx, cc)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\n\t\tget_cxx_inc_directories(repository_ctx, cc)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\n\t\tset(includes_cpp)\nThe `set` constructor for depsets is deprecated and will be removed. Please use the `depset` constructor instead. You can temporarily enable the deprecated `set` constructor by passing the flag --incompatible_disallow_set_constructor=false\nWARNING: Target pattern parsing failed.\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 1042\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 975, in _create_local_cuda_repository\n\t\t_host_compiler_includes(repository_ctx, cc)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\n\t\tget_cxx_inc_directories(repository_ctx, cc)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\n\t\tset(includes_cpp)\nThe `set` constructor for depsets is deprecated and will be removed. Please use the `depset` constructor instead. You can temporarily enable the deprecated `set` constructor by passing the flag --incompatible_disallow_set_constructor=false\n</code></pre>\n<p>The issue does not occur with Bazel 0.5.4</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 14.04\nTensorFlow installed from (source or binary): Source\nTensorFlow version (use command below): Master, commit 4270c4a\nPython version: 2.7\nBazel version (if compiling from source): 0.6.0\nCUDA/cuDNN version: Cuda 8, cuDNN 6\nGPU model and memory: GTX 1080 8 GB\nExact command to reproduce:\n\nbazel build -c opt \u2014config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nWhen I run the above command with Bazel 0.6.0 after running ./configure with GPU support, I get the error\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 1042\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 975, in _create_local_cuda_repository\n\t\t_host_compiler_includes(repository_ctx, cc)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\n\t\tget_cxx_inc_directories(repository_ctx, cc)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\n\t\tset(includes_cpp)\nThe `set` constructor for depsets is deprecated and will be removed. Please use the `depset` constructor instead. You can temporarily enable the deprecated `set` constructor by passing the flag --incompatible_disallow_set_constructor=false\nWARNING: Target pattern parsing failed.\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 1042\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 975, in _create_local_cuda_repository\n\t\t_host_compiler_includes(repository_ctx, cc)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\n\t\tget_cxx_inc_directories(repository_ctx, cc)\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\n\t\tset(includes_cpp)\nThe `set` constructor for depsets is deprecated and will be removed. Please use the `depset` constructor instead. You can temporarily enable the deprecated `set` constructor by passing the flag --incompatible_disallow_set_constructor=false\n\nThe issue does not occur with Bazel 0.5.4", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 14.04\r\n- **TensorFlow installed from (source or binary)**: Source\r\n- **TensorFlow version (use command below)**: Master, commit 4270c4a00bb90d97418df5b0e9b6b3e148a72a1e\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**: 0.6.0\r\n- **CUDA/cuDNN version**: Cuda 8, cuDNN 6\r\n- **GPU model and memory**: GTX 1080 8 GB\r\n- **Exact command to reproduce**:\r\n\r\n```\r\nbazel build -c opt \u2014config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n```\r\n\r\n### Describe the problem\r\nWhen I run the above command with Bazel 0.6.0 after running `./configure` with GPU support, I get the error\r\n```\r\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 1042\r\n\t\t_create_local_cuda_repository(repository_ctx)\r\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 975, in _create_local_cuda_repository\r\n\t\t_host_compiler_includes(repository_ctx, cc)\r\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\r\n\t\tget_cxx_inc_directories(repository_ctx, cc)\r\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\r\n\t\tset(includes_cpp)\r\nThe `set` constructor for depsets is deprecated and will be removed. Please use the `depset` constructor instead. You can temporarily enable the deprecated `set` constructor by passing the flag --incompatible_disallow_set_constructor=false\r\nWARNING: Target pattern parsing failed.\r\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 1042\r\n\t\t_create_local_cuda_repository(repository_ctx)\r\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 975, in _create_local_cuda_repository\r\n\t\t_host_compiler_includes(repository_ctx, cc)\r\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\r\n\t\tget_cxx_inc_directories(repository_ctx, cc)\r\n\tFile \"/usr/local/google/home/reedwm/tensorflows/tensorflow2/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\r\n\t\tset(includes_cpp)\r\nThe `set` constructor for depsets is deprecated and will be removed. Please use the `depset` constructor instead. You can temporarily enable the deprecated `set` constructor by passing the flag --incompatible_disallow_set_constructor=false\r\n```\r\nThe issue does not occur with Bazel 0.5.4"}