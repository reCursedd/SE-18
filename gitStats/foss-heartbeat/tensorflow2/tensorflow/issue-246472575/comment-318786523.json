{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/318786523", "html_url": "https://github.com/tensorflow/tensorflow/issues/11859#issuecomment-318786523", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11859", "id": 318786523, "node_id": "MDEyOklzc3VlQ29tbWVudDMxODc4NjUyMw==", "user": {"login": "Helique", "id": 6560058, "node_id": "MDQ6VXNlcjY1NjAwNTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6560058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Helique", "html_url": "https://github.com/Helique", "followers_url": "https://api.github.com/users/Helique/followers", "following_url": "https://api.github.com/users/Helique/following{/other_user}", "gists_url": "https://api.github.com/users/Helique/gists{/gist_id}", "starred_url": "https://api.github.com/users/Helique/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Helique/subscriptions", "organizations_url": "https://api.github.com/users/Helique/orgs", "repos_url": "https://api.github.com/users/Helique/repos", "events_url": "https://api.github.com/users/Helique/events{/privacy}", "received_events_url": "https://api.github.com/users/Helique/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-28T23:52:30Z", "updated_at": "2017-07-28T23:53:14Z", "author_association": "NONE", "body_html": "<p>I have been having this same problem for the last day. I have installed the latest version of bazel (0.5.3). I previously got a build working, but then uninstalled it. When I went back to reinstall, I encountered this error. Two days ago I also was able to get this working on docker, but now it also does not work in docker.</p>\n<h1>Environment Data</h1>\n<pre><code>== cat /etc/issue ===============================================\nLinux learningOne 4.4.0-87-generic #110-Ubuntu SMP Tue Jul 18 12:55:35 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\nVERSION=\"16.04.2 LTS (Xenial Xerus)\"\nVERSION_ID=\"16.04\"\nVERSION_CODENAME=xenial\n\n== are we in docker =============================================\nNo\n\n== compiler =====================================================\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\nCopyright (C) 2015 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\n\n== uname -a =====================================================\nLinux learningOne 4.4.0-87-generic #110-Ubuntu SMP Tue Jul 18 12:55:35 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\n\n== check pips ===================================================\nnumpy (1.11.0)\nprotobuf (3.3.0)\ntensorflow-tensorboard (1.3.1)\n\n== check for virtualenv =========================================\nFalse\n\n== tensorflow import ============================================\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"tensorflow/__init__.py\", line 24, in &lt;module&gt;\n    from tensorflow.python import *\n  File \"tensorflow/python/__init__.py\", line 49, in &lt;module&gt;\n    from tensorflow.python import pywrap_tensorflow\n  File \"tensorflow/python/pywrap_tensorflow.py\", line 52, in &lt;module&gt;\n    raise ImportError(msg)\nImportError: Traceback (most recent call last):\n  File \"tensorflow/python/pywrap_tensorflow.py\", line 41, in &lt;module&gt;\n    from tensorflow.python.pywrap_tensorflow_internal import *\nImportError: No module named pywrap_tensorflow_internal\n\n\nFailed to load the native TensorFlow runtime.\n\nSee https://www.tensorflow.org/install/install_sources#common_installation_problems\n\nfor some common reasons and solutions.  Include the entire stack trace\nabove this error message when asking for help.\n\n== env ==========================================================\nLD_LIBRARY_PATH /home/david/torch/install/lib:/home/david/torch/install/lib::/usr/local/cuda/lib64\nDYLD_LIBRARY_PATH /home/david/torch/install/lib:/home/david/torch/install/lib:\n\n== nvidia-smi ===================================================\nFri Jul 28 16:46:56 2017       \n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 381.22                 Driver Version: 381.22                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  GeForce GTX 108...  Off  | 0000:01:00.0      On |                  N/A |\n| 23%   39C    P8    19W / 250W |    886MiB / 11172MiB |     14%      Default |\n+-------------------------------+----------------------+----------------------+\n                                                                               \n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|    0      1077    G   /usr/lib/xorg/Xorg                             485MiB |\n|    0      2144    G   compiz                                         239MiB |\n|    0      2445    G   /proc/self/exe                                 114MiB |\n|    0      9261    G   ...s-passed-by-fd --v8-snapshot-passed-by-fd    44MiB |\n+-----------------------------------------------------------------------------+\n\n== cuda libs  ===================================================\n/usr/local/cuda-8.0/lib64/libcudart_static.a\n/usr/local/cuda-8.0/lib64/libcudart.so.8.0.61\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\n</code></pre>\n<h1>Bazel Build Version</h1>\n<pre><code>\nBuild label: 0.5.3\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jul 28 08:34:59 2017 (1501230899)\nBuild timestamp: 1501230899\nBuild timestamp as int: 1501230899\n</code></pre>\n<h1>Error Message</h1>\n<pre><code>david@learningOne:~/realtf$ bazel build --config=opt --config=cuda --explain=result.txt --verbose_failures //tensorflow/tools/pip_package:build_pip_package\n\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 1039\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository\n\t\t_host_compiler_includes(repository_ctx, cc)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\n\t\tget_cxx_inc_directories(repository_ctx, cc)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\n\t\tset(includes_cpp)\ndepsets cannot contain mutable items\nWARNING: Target pattern parsing failed.\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 1039\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository\n\t\t_host_compiler_includes(repository_ctx, cc)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\n\t\tget_cxx_inc_directories(repository_ctx, cc)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\n\t\tset(includes_cpp)\ndepsets cannot contain mutable items\nINFO: Elapsed time: 0.561s\nFAILED: Build did NOT complete successfully (0 packages loaded)\n    currently loading: tensorflow/tools/pip_package\n</code></pre>", "body_text": "I have been having this same problem for the last day. I have installed the latest version of bazel (0.5.3). I previously got a build working, but then uninstalled it. When I went back to reinstall, I encountered this error. Two days ago I also was able to get this working on docker, but now it also does not work in docker.\nEnvironment Data\n== cat /etc/issue ===============================================\nLinux learningOne 4.4.0-87-generic #110-Ubuntu SMP Tue Jul 18 12:55:35 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\nVERSION=\"16.04.2 LTS (Xenial Xerus)\"\nVERSION_ID=\"16.04\"\nVERSION_CODENAME=xenial\n\n== are we in docker =============================================\nNo\n\n== compiler =====================================================\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\nCopyright (C) 2015 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\n\n== uname -a =====================================================\nLinux learningOne 4.4.0-87-generic #110-Ubuntu SMP Tue Jul 18 12:55:35 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\n\n== check pips ===================================================\nnumpy (1.11.0)\nprotobuf (3.3.0)\ntensorflow-tensorboard (1.3.1)\n\n== check for virtualenv =========================================\nFalse\n\n== tensorflow import ============================================\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"tensorflow/__init__.py\", line 24, in <module>\n    from tensorflow.python import *\n  File \"tensorflow/python/__init__.py\", line 49, in <module>\n    from tensorflow.python import pywrap_tensorflow\n  File \"tensorflow/python/pywrap_tensorflow.py\", line 52, in <module>\n    raise ImportError(msg)\nImportError: Traceback (most recent call last):\n  File \"tensorflow/python/pywrap_tensorflow.py\", line 41, in <module>\n    from tensorflow.python.pywrap_tensorflow_internal import *\nImportError: No module named pywrap_tensorflow_internal\n\n\nFailed to load the native TensorFlow runtime.\n\nSee https://www.tensorflow.org/install/install_sources#common_installation_problems\n\nfor some common reasons and solutions.  Include the entire stack trace\nabove this error message when asking for help.\n\n== env ==========================================================\nLD_LIBRARY_PATH /home/david/torch/install/lib:/home/david/torch/install/lib::/usr/local/cuda/lib64\nDYLD_LIBRARY_PATH /home/david/torch/install/lib:/home/david/torch/install/lib:\n\n== nvidia-smi ===================================================\nFri Jul 28 16:46:56 2017       \n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 381.22                 Driver Version: 381.22                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  GeForce GTX 108...  Off  | 0000:01:00.0      On |                  N/A |\n| 23%   39C    P8    19W / 250W |    886MiB / 11172MiB |     14%      Default |\n+-------------------------------+----------------------+----------------------+\n                                                                               \n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|    0      1077    G   /usr/lib/xorg/Xorg                             485MiB |\n|    0      2144    G   compiz                                         239MiB |\n|    0      2445    G   /proc/self/exe                                 114MiB |\n|    0      9261    G   ...s-passed-by-fd --v8-snapshot-passed-by-fd    44MiB |\n+-----------------------------------------------------------------------------+\n\n== cuda libs  ===================================================\n/usr/local/cuda-8.0/lib64/libcudart_static.a\n/usr/local/cuda-8.0/lib64/libcudart.so.8.0.61\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\n\nBazel Build Version\n\nBuild label: 0.5.3\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jul 28 08:34:59 2017 (1501230899)\nBuild timestamp: 1501230899\nBuild timestamp as int: 1501230899\n\nError Message\ndavid@learningOne:~/realtf$ bazel build --config=opt --config=cuda --explain=result.txt --verbose_failures //tensorflow/tools/pip_package:build_pip_package\n\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 1039\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository\n\t\t_host_compiler_includes(repository_ctx, cc)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\n\t\tget_cxx_inc_directories(repository_ctx, cc)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\n\t\tset(includes_cpp)\ndepsets cannot contain mutable items\nWARNING: Target pattern parsing failed.\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 1039\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository\n\t\t_host_compiler_includes(repository_ctx, cc)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\n\t\tget_cxx_inc_directories(repository_ctx, cc)\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\n\t\tset(includes_cpp)\ndepsets cannot contain mutable items\nINFO: Elapsed time: 0.561s\nFAILED: Build did NOT complete successfully (0 packages loaded)\n    currently loading: tensorflow/tools/pip_package", "body": "I have been having this same problem for the last day. I have installed the latest version of bazel (0.5.3). I previously got a build working, but then uninstalled it. When I went back to reinstall, I encountered this error. Two days ago I also was able to get this working on docker, but now it also does not work in docker.\r\n\r\n# Environment Data\r\n```\r\n== cat /etc/issue ===============================================\r\nLinux learningOne 4.4.0-87-generic #110-Ubuntu SMP Tue Jul 18 12:55:35 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\nVERSION=\"16.04.2 LTS (Xenial Xerus)\"\r\nVERSION_ID=\"16.04\"\r\nVERSION_CODENAME=xenial\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\r\nCopyright (C) 2015 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n\r\n== uname -a =====================================================\r\nLinux learningOne 4.4.0-87-generic #110-Ubuntu SMP Tue Jul 18 12:55:35 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n== check pips ===================================================\r\nnumpy (1.11.0)\r\nprotobuf (3.3.0)\r\ntensorflow-tensorboard (1.3.1)\r\n\r\n== check for virtualenv =========================================\r\nFalse\r\n\r\n== tensorflow import ============================================\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import *\r\n  File \"tensorflow/python/__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"tensorflow/python/pywrap_tensorflow.py\", line 52, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"tensorflow/python/pywrap_tensorflow.py\", line 41, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\nImportError: No module named pywrap_tensorflow_internal\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n\r\nSee https://www.tensorflow.org/install/install_sources#common_installation_problems\r\n\r\nfor some common reasons and solutions.  Include the entire stack trace\r\nabove this error message when asking for help.\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH /home/david/torch/install/lib:/home/david/torch/install/lib::/usr/local/cuda/lib64\r\nDYLD_LIBRARY_PATH /home/david/torch/install/lib:/home/david/torch/install/lib:\r\n\r\n== nvidia-smi ===================================================\r\nFri Jul 28 16:46:56 2017       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 381.22                 Driver Version: 381.22                    |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce GTX 108...  Off  | 0000:01:00.0      On |                  N/A |\r\n| 23%   39C    P8    19W / 250W |    886MiB / 11172MiB |     14%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID  Type  Process name                               Usage      |\r\n|=============================================================================|\r\n|    0      1077    G   /usr/lib/xorg/Xorg                             485MiB |\r\n|    0      2144    G   compiz                                         239MiB |\r\n|    0      2445    G   /proc/self/exe                                 114MiB |\r\n|    0      9261    G   ...s-passed-by-fd --v8-snapshot-passed-by-fd    44MiB |\r\n+-----------------------------------------------------------------------------+\r\n\r\n== cuda libs  ===================================================\r\n/usr/local/cuda-8.0/lib64/libcudart_static.a\r\n/usr/local/cuda-8.0/lib64/libcudart.so.8.0.61\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\r\n```\r\n\r\n# Bazel Build Version\r\n```\r\n\r\nBuild label: 0.5.3\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Fri Jul 28 08:34:59 2017 (1501230899)\r\nBuild timestamp: 1501230899\r\nBuild timestamp as int: 1501230899\r\n```\r\n\r\n# Error Message\r\n\r\n```\r\ndavid@learningOne:~/realtf$ bazel build --config=opt --config=cuda --explain=result.txt --verbose_failures //tensorflow/tools/pip_package:build_pip_package\r\n\r\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 1039\r\n\t\t_create_local_cuda_repository(repository_ctx)\r\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository\r\n\t\t_host_compiler_includes(repository_ctx, cc)\r\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\r\n\t\tget_cxx_inc_directories(repository_ctx, cc)\r\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\r\n\t\tset(includes_cpp)\r\ndepsets cannot contain mutable items\r\nWARNING: Target pattern parsing failed.\r\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 1039\r\n\t\t_create_local_cuda_repository(repository_ctx)\r\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository\r\n\t\t_host_compiler_includes(repository_ctx, cc)\r\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\r\n\t\tget_cxx_inc_directories(repository_ctx, cc)\r\n\tFile \"/home/david/realtf/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\r\n\t\tset(includes_cpp)\r\ndepsets cannot contain mutable items\r\nINFO: Elapsed time: 0.561s\r\nFAILED: Build did NOT complete successfully (0 packages loaded)\r\n    currently loading: tensorflow/tools/pip_package\r\n```"}