{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15129", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15129/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15129/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15129/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15129", "id": 279391392, "node_id": "MDU6SXNzdWUyNzkzOTEzOTI=", "number": 15129, "title": "build error: undefined reference to `clock_gettime'", "user": {"login": "tonybaigang", "id": 12961153, "node_id": "MDQ6VXNlcjEyOTYxMTUz", "avatar_url": "https://avatars3.githubusercontent.com/u/12961153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tonybaigang", "html_url": "https://github.com/tonybaigang", "followers_url": "https://api.github.com/users/tonybaigang/followers", "following_url": "https://api.github.com/users/tonybaigang/following{/other_user}", "gists_url": "https://api.github.com/users/tonybaigang/gists{/gist_id}", "starred_url": "https://api.github.com/users/tonybaigang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tonybaigang/subscriptions", "organizations_url": "https://api.github.com/users/tonybaigang/orgs", "repos_url": "https://api.github.com/users/tonybaigang/repos", "events_url": "https://api.github.com/users/tonybaigang/events{/privacy}", "received_events_url": "https://api.github.com/users/tonybaigang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-12-05T14:19:20Z", "updated_at": "2018-07-02T17:24:30Z", "closed_at": "2017-12-05T19:15:18Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nNo</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nLinux CentOS 6.9</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\nsource</li>\n<li><strong>TensorFlow version (use command below)</strong>:<br>\nmaster branch: the latest version</li>\n<li><strong>Python version</strong>:<br>\n2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\n0.8.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:<br>\n4.8.2</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\nNo</li>\n<li><strong>GPU model and memory</strong>:<br>\nNo</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nbazel build --linkopt=-lrt -c opt --verbose_failures //tensorflow:libtensorflow_cc.so</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I tried to build the tensor flow c++ lib from the source code, but it failed.</p>\n<h3>Source code / logs</h3>\n<p>ERROR: /home/baigang/Projects/xylib/thirdparty/tenserflow/package/tensorflow/tensorflow/cc/BUILD:422:1: Linking of rule '//tensorflow/cc:ops/random_ops_gen_cc' failed (Exit 1): gcc failed: error executing command<br>\n(cd /home/baigang/.cache/bazel/_bazel_baigang/d3e5550086b82aa173767408d0f485e7/execroot/org_tensorflow &amp;&amp; <br>\nexec env - <br>\nPATH=/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/baigang/bin <br>\nPWD=/proc/self/cwd <br>\n/usr/bin/gcc -o bazel-out/host/bin/tensorflow/cc/ops/random_ops_gen_cc '-Wl,-rpath,$ORIGIN/../../../_solib_k8/_U_S_Stensorflow_Scc_Cops_Srandom_Uops_Ugen_Ucc___Utensorflow' -Lbazel-out/host/bin/_solib_k8/_U_S_Stensorflow_Scc_Cops_Srandom_Uops_Ugen_Ucc___Utensorflow '-Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../..' -pthread -Wl,-no-as-needed -Wl,-z,relro,-z,now -B/usr/bin -B/usr/bin -pass-exit-codes -Wl,--gc-sections -Wl,-S -Wl,@bazel-out/host/bin/tensorflow/cc/ops/random_ops_gen_cc-2.params)<br>\nbazel-out/host/bin/_solib_k8/_U_S_Stensorflow_Scc_Cops_Srandom_Uops_Ugen_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `clock_gettime'<br>\ncollect2: error: ld returned 1 exit status<br>\nTarget //tensorflow:libtensorflow_cc.so failed to build<br>\nINFO: Elapsed time: 418.738s, Critical Path: 35.11s<br>\nFAILED: Build did NOT complete successfully</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nNo\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nLinux CentOS 6.9\nTensorFlow installed from (source or binary):\nsource\nTensorFlow version (use command below):\nmaster branch: the latest version\nPython version:\n2.7\nBazel version (if compiling from source):\n0.8.0\nGCC/Compiler version (if compiling from source):\n4.8.2\nCUDA/cuDNN version:\nNo\nGPU model and memory:\nNo\nExact command to reproduce:\nbazel build --linkopt=-lrt -c opt --verbose_failures //tensorflow:libtensorflow_cc.so\n\nDescribe the problem\nI tried to build the tensor flow c++ lib from the source code, but it failed.\nSource code / logs\nERROR: /home/baigang/Projects/xylib/thirdparty/tenserflow/package/tensorflow/tensorflow/cc/BUILD:422:1: Linking of rule '//tensorflow/cc:ops/random_ops_gen_cc' failed (Exit 1): gcc failed: error executing command\n(cd /home/baigang/.cache/bazel/_bazel_baigang/d3e5550086b82aa173767408d0f485e7/execroot/org_tensorflow && \nexec env - \nPATH=/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/baigang/bin \nPWD=/proc/self/cwd \n/usr/bin/gcc -o bazel-out/host/bin/tensorflow/cc/ops/random_ops_gen_cc '-Wl,-rpath,$ORIGIN/../../../_solib_k8/_U_S_Stensorflow_Scc_Cops_Srandom_Uops_Ugen_Ucc___Utensorflow' -Lbazel-out/host/bin/_solib_k8/_U_S_Stensorflow_Scc_Cops_Srandom_Uops_Ugen_Ucc___Utensorflow '-Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../..' -pthread -Wl,-no-as-needed -Wl,-z,relro,-z,now -B/usr/bin -B/usr/bin -pass-exit-codes -Wl,--gc-sections -Wl,-S -Wl,@bazel-out/host/bin/tensorflow/cc/ops/random_ops_gen_cc-2.params)\nbazel-out/host/bin/_solib_k8/_U_S_Stensorflow_Scc_Cops_Srandom_Uops_Ugen_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `clock_gettime'\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow:libtensorflow_cc.so failed to build\nINFO: Elapsed time: 418.738s, Critical Path: 35.11s\nFAILED: Build did NOT complete successfully", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nNo\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nLinux CentOS 6.9\r\n- **TensorFlow installed from (source or binary)**:\r\nsource \r\n- **TensorFlow version (use command below)**:\r\nmaster branch: the latest version\r\n- **Python version**: \r\n2.7\r\n- **Bazel version (if compiling from source)**:\r\n0.8.0\r\n- **GCC/Compiler version (if compiling from source)**:\r\n4.8.2\r\n- **CUDA/cuDNN version**:\r\nNo\r\n- **GPU model and memory**:\r\nNo\r\n- **Exact command to reproduce**:\r\nbazel build --linkopt=-lrt -c opt --verbose_failures //tensorflow:libtensorflow_cc.so\r\n\r\n### Describe the problem\r\nI tried to build the tensor flow c++ lib from the source code, but it failed. \r\n\r\n### Source code / logs\r\nERROR: /home/baigang/Projects/xylib/thirdparty/tenserflow/package/tensorflow/tensorflow/cc/BUILD:422:1: Linking of rule '//tensorflow/cc:ops/random_ops_gen_cc' failed (Exit 1): gcc failed: error executing command \r\n  (cd /home/baigang/.cache/bazel/_bazel_baigang/d3e5550086b82aa173767408d0f485e7/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    PATH=/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/baigang/bin \\\r\n    PWD=/proc/self/cwd \\\r\n  /usr/bin/gcc -o bazel-out/host/bin/tensorflow/cc/ops/random_ops_gen_cc '-Wl,-rpath,$ORIGIN/../../../_solib_k8/_U_S_Stensorflow_Scc_Cops_Srandom_Uops_Ugen_Ucc___Utensorflow' -Lbazel-out/host/bin/_solib_k8/_U_S_Stensorflow_Scc_Cops_Srandom_Uops_Ugen_Ucc___Utensorflow '-Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../..' -pthread -Wl,-no-as-needed -Wl,-z,relro,-z,now -B/usr/bin -B/usr/bin -pass-exit-codes -Wl,--gc-sections -Wl,-S -Wl,@bazel-out/host/bin/tensorflow/cc/ops/random_ops_gen_cc-2.params)\r\nbazel-out/host/bin/_solib_k8/_U_S_Stensorflow_Scc_Cops_Srandom_Uops_Ugen_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `clock_gettime'\r\ncollect2: error: ld returned 1 exit status\r\nTarget //tensorflow:libtensorflow_cc.so failed to build\r\nINFO: Elapsed time: 418.738s, Critical Path: 35.11s\r\nFAILED: Build did NOT complete successfully"}