{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/237131235", "html_url": "https://github.com/tensorflow/tensorflow/issues/3334#issuecomment-237131235", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3334", "id": 237131235, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzEzMTIzNQ==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-03T04:04:26Z", "updated_at": "2016-08-03T04:04:26Z", "author_association": "CONTRIBUTOR", "body_html": "<p>This is what case originally looked like (look at the git history for the file).  Unfortunately, this has the bad side effect of always executing at least two nodes (default and the one that evaluated to true).  Even if the default node was not actually returned, it was still executed and as a result may have had possible side effects.  Feel free to change the code as you suggested and you'll see a unit test in control_flow_ops start failing.</p>\n<p>The real solution is to factor out cond() into a sequence of internal _if_then; which can be used for case as well.</p>", "body_text": "This is what case originally looked like (look at the git history for the file).  Unfortunately, this has the bad side effect of always executing at least two nodes (default and the one that evaluated to true).  Even if the default node was not actually returned, it was still executed and as a result may have had possible side effects.  Feel free to change the code as you suggested and you'll see a unit test in control_flow_ops start failing.\nThe real solution is to factor out cond() into a sequence of internal _if_then; which can be used for case as well.", "body": "This is what case originally looked like (look at the git history for the file).  Unfortunately, this has the bad side effect of always executing at least two nodes (default and the one that evaluated to true).  Even if the default node was not actually returned, it was still executed and as a result may have had possible side effects.  Feel free to change the code as you suggested and you'll see a unit test in control_flow_ops start failing.\n\nThe real solution is to factor out cond() into a sequence of internal _if_then; which can be used for case as well.\n"}