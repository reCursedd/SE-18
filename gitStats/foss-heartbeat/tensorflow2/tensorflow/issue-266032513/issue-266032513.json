{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13774", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13774/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13774/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13774/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13774", "id": 266032513, "node_id": "MDU6SXNzdWUyNjYwMzI1MTM=", "number": 13774, "title": "Cannot install Tensorflow with specific GCC version", "user": {"login": "wichtounet", "id": 196746, "node_id": "MDQ6VXNlcjE5Njc0Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/196746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wichtounet", "html_url": "https://github.com/wichtounet", "followers_url": "https://api.github.com/users/wichtounet/followers", "following_url": "https://api.github.com/users/wichtounet/following{/other_user}", "gists_url": "https://api.github.com/users/wichtounet/gists{/gist_id}", "starred_url": "https://api.github.com/users/wichtounet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wichtounet/subscriptions", "organizations_url": "https://api.github.com/users/wichtounet/orgs", "repos_url": "https://api.github.com/users/wichtounet/repos", "events_url": "https://api.github.com/users/wichtounet/events{/privacy}", "received_events_url": "https://api.github.com/users/wichtounet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-10-17T08:18:29Z", "updated_at": "2017-10-18T12:13:21Z", "closed_at": "2017-10-18T12:13:20Z", "author_association": "NONE", "body_html": "<p>I'm trying to install Tensorflow 1.3 without success</p>\n<h3>System information</h3>\n<ul>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Gentoo</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Trying from source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.3</li>\n<li><strong>Python version</strong>: 3.4.5</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.5.2</li>\n<li><strong>CUDA/cuDNN version</strong>: 8.0 / 5.1.5</li>\n<li><strong>GPU model and memory</strong>: GTX 960</li>\n<li><strong>Exact command to reproduce</strong>: bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I'm trying to install Tensorflow 1.3 (branch r1.3) from sources on my Gentoo machine.</p>\n<p>The problem with the default compiler is that it it's a version 6.3 that is not supported by Tensorflow: I've tried and got an error indicating that GCC later than 5 are not supported.<br>\nTherefore, I need to specify a specific GCC version. I'm setting it via $CC/$CXX and in the installation for CUDA:</p>\n<p><code>build --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc-5.4.0\"</code></p>\n<p>But when I try to run bazel, I got the following error:</p>\n<blockquote>\n<p>gcc-5.4.0: error trying to exec 'cc1': execvp: No such file or directory</p>\n</blockquote>\n<p>What can I do to install Tensorflow using /usr/bin/gcc-5.4.0 and /usr/bin/g++-5.4.0 rather than /usr/bin/gcc ?</p>\n<p>I've seen this <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/f0faf5139819e2c6d7b0437d9e03ffce71c7d6e5/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/f0faf5139819e2c6d7b0437d9e03ffce71c7d6e5\"><tt>f0faf51</tt></a> that seems releated, but in my case, this is already done. And it seems to be used for clang compilation anyway.</p>\n<h3>Source code / logs</h3>\n<blockquote>\n<p>____Loading complete.  Analyzing...<br>\nWARNING: /home/wichtounet/dev/tensorflow13/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately..<br>\nWARNING: /home/wichtounet/dev/tensorflow13/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately..<br>\n____Found 1 target...<br>\n____Building...<br>\n____[3 / 255] Writing file external/snappy/libsnappy.a-2.params [for host]<br>\nERROR: /home/wichtounet/.cache/bazel/_bazel_wichtounet/bb5d0ce0cffd837b9339296f34d5478c/external/nasm/BUILD.bazel:8:1: C++ compilation of rule '@nasm//:nasm' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 34 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\ngcc-5.4.0: error trying to exec 'cc1': execvp: No such file or directory<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\n____Elapsed time: 0.285s, Critical Path: 0.08s</p>\n</blockquote>", "body_text": "I'm trying to install Tensorflow 1.3 without success\nSystem information\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Gentoo\nTensorFlow installed from (source or binary): Trying from source\nTensorFlow version (use command below): 1.3\nPython version: 3.4.5\nBazel version (if compiling from source): 0.5.2\nCUDA/cuDNN version: 8.0 / 5.1.5\nGPU model and memory: GTX 960\nExact command to reproduce: bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nI'm trying to install Tensorflow 1.3 (branch r1.3) from sources on my Gentoo machine.\nThe problem with the default compiler is that it it's a version 6.3 that is not supported by Tensorflow: I've tried and got an error indicating that GCC later than 5 are not supported.\nTherefore, I need to specify a specific GCC version. I'm setting it via $CC/$CXX and in the installation for CUDA:\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc-5.4.0\"\nBut when I try to run bazel, I got the following error:\n\ngcc-5.4.0: error trying to exec 'cc1': execvp: No such file or directory\n\nWhat can I do to install Tensorflow using /usr/bin/gcc-5.4.0 and /usr/bin/g++-5.4.0 rather than /usr/bin/gcc ?\nI've seen this f0faf51 that seems releated, but in my case, this is already done. And it seems to be used for clang compilation anyway.\nSource code / logs\n\n____Loading complete.  Analyzing...\nWARNING: /home/wichtounet/dev/tensorflow13/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately..\nWARNING: /home/wichtounet/dev/tensorflow13/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately..\n____Found 1 target...\n____Building...\n____[3 / 255] Writing file external/snappy/libsnappy.a-2.params [for host]\nERROR: /home/wichtounet/.cache/bazel/_bazel_wichtounet/bb5d0ce0cffd837b9339296f34d5478c/external/nasm/BUILD.bazel:8:1: C++ compilation of rule '@nasm//:nasm' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 34 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ngcc-5.4.0: error trying to exec 'cc1': execvp: No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\n____Elapsed time: 0.285s, Critical Path: 0.08s", "body": "I'm trying to install Tensorflow 1.3 without success \r\n\r\n### System information\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Gentoo\r\n- **TensorFlow installed from (source or binary)**: Trying from source\r\n- **TensorFlow version (use command below)**: 1.3\r\n- **Python version**: 3.4.5\r\n- **Bazel version (if compiling from source)**: 0.5.2\r\n- **CUDA/cuDNN version**: 8.0 / 5.1.5\r\n- **GPU model and memory**: GTX 960\r\n- **Exact command to reproduce**: bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n\r\n### Describe the problem\r\n\r\nI'm trying to install Tensorflow 1.3 (branch r1.3) from sources on my Gentoo machine. \r\n\r\nThe problem with the default compiler is that it it's a version 6.3 that is not supported by Tensorflow: I've tried and got an error indicating that GCC later than 5 are not supported. \r\nTherefore, I need to specify a specific GCC version. I'm setting it via $CC/$CXX and in the installation for CUDA:\r\n\r\n`build --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc-5.4.0\"`\r\n\r\nBut when I try to run bazel, I got the following error: \r\n\r\n> gcc-5.4.0: error trying to exec 'cc1': execvp: No such file or directory\r\n\r\nWhat can I do to install Tensorflow using /usr/bin/gcc-5.4.0 and /usr/bin/g++-5.4.0 rather than /usr/bin/gcc ? \r\n\r\nI've seen this f0faf5139819e2c6d7b0437d9e03ffce71c7d6e5 that seems releated, but in my case, this is already done. And it seems to be used for clang compilation anyway. \r\n\r\n### Source code / logs\r\n\r\n> ____Loading complete.  Analyzing...\r\n> WARNING: /home/wichtounet/dev/tensorflow13/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately..\r\n> WARNING: /home/wichtounet/dev/tensorflow13/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately..\r\n> ____Found 1 target...\r\n> ____Building...\r\n> ____[3 / 255] Writing file external/snappy/libsnappy.a-2.params [for host]\r\n> ERROR: /home/wichtounet/.cache/bazel/_bazel_wichtounet/bb5d0ce0cffd837b9339296f34d5478c/external/nasm/BUILD.bazel:8:1: C++ compilation of rule '@nasm//:nasm' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 34 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\n> gcc-5.4.0: error trying to exec 'cc1': execvp: No such file or directory\r\n> Target //tensorflow/tools/pip_package:build_pip_package failed to build\r\n> Use --verbose_failures to see the command lines of failed build steps.\r\n> ____Elapsed time: 0.285s, Critical Path: 0.08s"}