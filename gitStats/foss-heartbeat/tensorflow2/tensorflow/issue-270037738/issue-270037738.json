{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14132", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14132/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14132/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14132/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14132", "id": 270037738, "node_id": "MDU6SXNzdWUyNzAwMzc3Mzg=", "number": 14132, "title": "Eager: Variable item-assignment", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736653459, "node_id": "MDU6TGFiZWw3MzY2NTM0NTk=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:eager", "name": "comp:eager", "color": "0052cc", "default": false}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-10-31T16:57:42Z", "updated_at": "2018-11-14T19:13:45Z", "closed_at": null, "author_association": "MEMBER", "body_html": "<p>(This applies only when <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/eager/README.md\">eager execution</a> has been enabled via <code>tfe.enable_eager_execution()</code>)</p>\n<p>Currently, the following does not work:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n<span class=\"pl-k\">import</span> tensorflow.contrib.eager <span class=\"pl-k\">as</span> tfe\n\ntfe.enable_eager_execution()\nx <span class=\"pl-k\">=</span> tfe.Variable(tf.ones([<span class=\"pl-c1\">10</span>]), <span class=\"pl-v\">name</span><span class=\"pl-k\">=</span>\u2019x\u2019)\nx[<span class=\"pl-c1\">3</span>] <span class=\"pl-k\">=</span> <span class=\"pl-c1\">2</span>.</pre></div>\n<p>That last line, assigning a value to an element of the tensor will fail with: <code>object does not support item assignment</code>.</p>\n<p>While it would be possible to make item assignment for <code>Tensor</code> and <code>Variable</code> objects work when eager execution is enabled, it is trickier to make the same line of code work with graph construction (since the line <code>x[3] = 2.</code> does not return a <code>tf.Operation</code> object that can be provided to a <code>Session.run()</code> call).</p>\n<p>At this early stage of eager execution, we\u2019re taking the conservative approach and disallowing Tensor assignment. This is probably worth revisiting at a future date. In the meantime, the verbose form of item assignment using <code>tf.scatter_update</code>:</p>\n<div class=\"highlight highlight-source-python\"><pre>tf.scatter_update(x, [<span class=\"pl-c1\">3</span>], [<span class=\"pl-c1\">2</span>.])</pre></div>", "body_text": "(This applies only when eager execution has been enabled via tfe.enable_eager_execution())\nCurrently, the following does not work:\nimport tensorflow as tf\nimport tensorflow.contrib.eager as tfe\n\ntfe.enable_eager_execution()\nx = tfe.Variable(tf.ones([10]), name=\u2019x\u2019)\nx[3] = 2.\nThat last line, assigning a value to an element of the tensor will fail with: object does not support item assignment.\nWhile it would be possible to make item assignment for Tensor and Variable objects work when eager execution is enabled, it is trickier to make the same line of code work with graph construction (since the line x[3] = 2. does not return a tf.Operation object that can be provided to a Session.run() call).\nAt this early stage of eager execution, we\u2019re taking the conservative approach and disallowing Tensor assignment. This is probably worth revisiting at a future date. In the meantime, the verbose form of item assignment using tf.scatter_update:\ntf.scatter_update(x, [3], [2.])", "body": "(This applies only when [eager execution](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/eager/README.md) has been enabled via `tfe.enable_eager_execution()`)\r\n\r\nCurrently, the following does not work:\r\n\r\n```python\r\nimport tensorflow as tf\r\nimport tensorflow.contrib.eager as tfe\r\n\r\ntfe.enable_eager_execution()\r\nx = tfe.Variable(tf.ones([10]), name=\u2019x\u2019)\r\nx[3] = 2.\r\n```\r\n\r\nThat last line, assigning a value to an element of the tensor will fail with: `object does not support item assignment`.\r\n\r\nWhile it would be possible to make item assignment for `Tensor` and `Variable` objects work when eager execution is enabled, it is trickier to make the same line of code work with graph construction (since the line `x[3] = 2.` does not return a `tf.Operation` object that can be provided to a `Session.run()` call).\r\n\r\nAt this early stage of eager execution, we\u2019re taking the conservative approach and disallowing Tensor assignment. This is probably worth revisiting at a future date. In the meantime, the verbose form of item assignment using `tf.scatter_update`:\r\n\r\n```python\r\ntf.scatter_update(x, [3], [2.])\r\n```\r\n"}