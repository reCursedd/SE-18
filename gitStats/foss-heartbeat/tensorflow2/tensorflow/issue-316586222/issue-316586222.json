{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18775", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18775/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18775/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18775/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/18775", "id": 316586222, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgzMjc3NTAz", "number": 18775, "title": "Fix cmake build issues with GPU on Linux", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-04-22T15:01:49Z", "updated_at": "2018-05-16T14:53:58Z", "closed_at": "2018-04-26T20:47:52Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18775", "html_url": "https://github.com/tensorflow/tensorflow/pull/18775", "diff_url": "https://github.com/tensorflow/tensorflow/pull/18775.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/18775.patch"}, "body_html": "<p>This fix is an attempt to fix the build issues with GPU on Linux.</p>\n<p>Previously cmake on Linux only works for CPU build.</p>\n<p>This fix addresses multiple issues on cmake file so that GPU build could work on Linux as well.</p>\n<p>The build is performed on Ubuntu 16.04 + CUDA 9.0 + NCCL v21, with the following command:</p>\n<pre><code>$ mkdir build &amp;&amp; cd build\n$ cmake -Dtensorflow_ENABLE_GPU=ON \\\n  -DCUDA_TOOLKIT_ROOT_DIR=/usr/local/cuda-9.0/ \\\n  -Dtensorflow_CUDNN_INCLUDE=/usr/local/cuda-9.0/include/ \\\n  -DCMAKE_BUILD_TYPE=Release ../tensorflow/contrib/cmake\n$ make -j 4 all\n</code></pre>\n<p>This fix <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #17232.\">fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"299881128\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/17232\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17232/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/17232\">#17232</a>.</p>\n<p>Signed-off-by: Yong Tang <a href=\"mailto:yong.tang.github@outlook.com\">yong.tang.github@outlook.com</a></p>", "body_text": "This fix is an attempt to fix the build issues with GPU on Linux.\nPreviously cmake on Linux only works for CPU build.\nThis fix addresses multiple issues on cmake file so that GPU build could work on Linux as well.\nThe build is performed on Ubuntu 16.04 + CUDA 9.0 + NCCL v21, with the following command:\n$ mkdir build && cd build\n$ cmake -Dtensorflow_ENABLE_GPU=ON \\\n  -DCUDA_TOOLKIT_ROOT_DIR=/usr/local/cuda-9.0/ \\\n  -Dtensorflow_CUDNN_INCLUDE=/usr/local/cuda-9.0/include/ \\\n  -DCMAKE_BUILD_TYPE=Release ../tensorflow/contrib/cmake\n$ make -j 4 all\n\nThis fix fixes #17232.\nSigned-off-by: Yong Tang yong.tang.github@outlook.com", "body": "This fix is an attempt to fix the build issues with GPU on Linux.\r\n\r\nPreviously cmake on Linux only works for CPU build.\r\n\r\nThis fix addresses multiple issues on cmake file so that GPU build could work on Linux as well.\r\n\r\nThe build is performed on Ubuntu 16.04 + CUDA 9.0 + NCCL v21, with the following command:\r\n```\r\n$ mkdir build && cd build\r\n$ cmake -Dtensorflow_ENABLE_GPU=ON \\\r\n  -DCUDA_TOOLKIT_ROOT_DIR=/usr/local/cuda-9.0/ \\\r\n  -Dtensorflow_CUDNN_INCLUDE=/usr/local/cuda-9.0/include/ \\\r\n  -DCMAKE_BUILD_TYPE=Release ../tensorflow/contrib/cmake\r\n$ make -j 4 all\r\n```\r\n\r\nThis fix fixes #17232.\r\n\r\nSigned-off-by: Yong Tang <yong.tang.github@outlook.com>"}