{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/408974776", "html_url": "https://github.com/tensorflow/tensorflow/issues/21216#issuecomment-408974776", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21216", "id": 408974776, "node_id": "MDEyOklzc3VlQ29tbWVudDQwODk3NDc3Ng==", "user": {"login": "skeydan", "id": 469371, "node_id": "MDQ6VXNlcjQ2OTM3MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/469371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skeydan", "html_url": "https://github.com/skeydan", "followers_url": "https://api.github.com/users/skeydan/followers", "following_url": "https://api.github.com/users/skeydan/following{/other_user}", "gists_url": "https://api.github.com/users/skeydan/gists{/gist_id}", "starred_url": "https://api.github.com/users/skeydan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skeydan/subscriptions", "organizations_url": "https://api.github.com/users/skeydan/orgs", "repos_url": "https://api.github.com/users/skeydan/repos", "events_url": "https://api.github.com/users/skeydan/events{/privacy}", "received_events_url": "https://api.github.com/users/skeydan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-30T19:02:52Z", "updated_at": "2018-07-30T19:02:52Z", "author_association": "NONE", "body_html": "<p>Hello, thanks so much for your quick reply!</p>\n<p>And sorry for the above mistake in the code - it should indeed have read<br>\n<code>\"./ckpt-py/-5\" </code></p>\n<p>However, this is what I get when I execute the code:</p>\n<pre><code>(r-tensorflow) [key@snowflake attention]$ python attention_keras.py \n1.9.0\n2018-07-30 20:56:23.088631: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\nInput: &lt;start&gt; sean gentiles . &lt;end&gt;\nPredicted translation: work help &lt;pad&gt; beat cool hello \nInput: &lt;start&gt; escuche . &lt;end&gt;\nPredicted translation: work drop wait thanks why quit \nInput: &lt;start&gt; estoy trabajando . &lt;end&gt;\nPredicted translation: oh hop who up relax relax \n</code></pre>\n<p>Just to make sure, I get the same when I change the code to</p>\n<pre><code>rst = checkpoint.restore(tf.train.latest_checkpoint(checkpoint_dir))\n</code></pre>\n<p>Would you have an idea what could be the reason? I am running version 1.9.0 on Fedora 28, as indicated above.</p>\n<p>(Regarding the assertion error, yes I was already suspecting it's not a fatal error, because experiments with a very simple Dense-only model seemed to indicate you always get an assertion error when using Adam (which is why I changed to a different optimizer in the code above.)</p>", "body_text": "Hello, thanks so much for your quick reply!\nAnd sorry for the above mistake in the code - it should indeed have read\n\"./ckpt-py/-5\" \nHowever, this is what I get when I execute the code:\n(r-tensorflow) [key@snowflake attention]$ python attention_keras.py \n1.9.0\n2018-07-30 20:56:23.088631: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\nInput: <start> sean gentiles . <end>\nPredicted translation: work help <pad> beat cool hello \nInput: <start> escuche . <end>\nPredicted translation: work drop wait thanks why quit \nInput: <start> estoy trabajando . <end>\nPredicted translation: oh hop who up relax relax \n\nJust to make sure, I get the same when I change the code to\nrst = checkpoint.restore(tf.train.latest_checkpoint(checkpoint_dir))\n\nWould you have an idea what could be the reason? I am running version 1.9.0 on Fedora 28, as indicated above.\n(Regarding the assertion error, yes I was already suspecting it's not a fatal error, because experiments with a very simple Dense-only model seemed to indicate you always get an assertion error when using Adam (which is why I changed to a different optimizer in the code above.)", "body": "Hello, thanks so much for your quick reply!\r\n\r\nAnd sorry for the above mistake in the code - it should indeed have read\r\n```\"./ckpt-py/-5\" ```\r\n\r\nHowever, this is what I get when I execute the code:\r\n\r\n```\r\n(r-tensorflow) [key@snowflake attention]$ python attention_keras.py \r\n1.9.0\r\n2018-07-30 20:56:23.088631: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\nInput: <start> sean gentiles . <end>\r\nPredicted translation: work help <pad> beat cool hello \r\nInput: <start> escuche . <end>\r\nPredicted translation: work drop wait thanks why quit \r\nInput: <start> estoy trabajando . <end>\r\nPredicted translation: oh hop who up relax relax \r\n```\r\n\r\nJust to make sure, I get the same when I change the code to \r\n```\r\nrst = checkpoint.restore(tf.train.latest_checkpoint(checkpoint_dir))\r\n```\r\n\r\nWould you have an idea what could be the reason? I am running version 1.9.0 on Fedora 28, as indicated above.\r\n\r\n(Regarding the assertion error, yes I was already suspecting it's not a fatal error, because experiments with a very simple Dense-only model seemed to indicate you always get an assertion error when using Adam (which is why I changed to a different optimizer in the code above.)\r\n\r\n"}