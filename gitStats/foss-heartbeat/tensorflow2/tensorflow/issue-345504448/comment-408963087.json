{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/408963087", "html_url": "https://github.com/tensorflow/tensorflow/issues/21216#issuecomment-408963087", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21216", "id": 408963087, "node_id": "MDEyOklzc3VlQ29tbWVudDQwODk2MzA4Nw==", "user": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-30T18:26:17Z", "updated_at": "2018-07-30T18:26:41Z", "author_association": "MEMBER", "body_html": "<p>I gave your code a run. I get just <code>&lt;end&gt;</code> symbols if I restore from \"./ckpt-py/-5\" instead of \"./ckpt-py/-1\". And if I move <code>assert_consumed</code> until after the variables have been created it passes (since the optimizer has no slot variables).</p>\n<p>So I think it's working? Let me know if you disagree.</p>\n<p>I do think the error messages could be improved. Probably assert_consumed should just say \"no variables have been created, wait until the model has been called to use me\". The bug can stay open to track that change regardless.</p>", "body_text": "I gave your code a run. I get just <end> symbols if I restore from \"./ckpt-py/-5\" instead of \"./ckpt-py/-1\". And if I move assert_consumed until after the variables have been created it passes (since the optimizer has no slot variables).\nSo I think it's working? Let me know if you disagree.\nI do think the error messages could be improved. Probably assert_consumed should just say \"no variables have been created, wait until the model has been called to use me\". The bug can stay open to track that change regardless.", "body": "I gave your code a run. I get just `<end>` symbols if I restore from \"./ckpt-py/-5\" instead of \"./ckpt-py/-1\". And if I move `assert_consumed` until after the variables have been created it passes (since the optimizer has no slot variables).\r\n\r\nSo I think it's working? Let me know if you disagree.\r\n\r\nI do think the error messages could be improved. Probably assert_consumed should just say \"no variables have been created, wait until the model has been called to use me\". The bug can stay open to track that change regardless."}