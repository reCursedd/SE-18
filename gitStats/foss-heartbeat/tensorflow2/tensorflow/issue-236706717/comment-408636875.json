{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/408636875", "html_url": "https://github.com/tensorflow/tensorflow/issues/10805#issuecomment-408636875", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10805", "id": 408636875, "node_id": "MDEyOklzc3VlQ29tbWVudDQwODYzNjg3NQ==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-28T21:49:06Z", "updated_at": "2018-07-28T21:49:06Z", "author_association": "CONTRIBUTOR", "body_html": "<div class=\"email-fragment\">I think the most important thing is to update and document the set of\nunimplemented methods and properties in AttentionMechanism so authors of\nnew mechanisms know exactly what needs to be included. I don't expect to\nchange the API anymore so you should feel safe to a copy the existing base\nclass.\n\nWould you like to send a PR with the updated abstract class an docstrings?</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Fri, Jul 27, 2018, 10:03 PM Sharvil Nanavati ***@***.***&gt; wrote:\n I also need to write a custom attention mechanism and ran into this issue.\n <a class=\"user-mention\" href=\"https://github.com/ebrevdo\">@ebrevdo</a> &lt;<a href=\"https://github.com/ebrevdo\">https://github.com/ebrevdo</a>&gt;, I'm unclear how copy/pasting the\n implementation will break external users any less than simply exposing the\n implementation publicly.\n\n If you add a new method/property to _BaseAttentionMechanism and make use\n of it in AttentionWrapper, all external users who followed the advice to\n copy the implementation will be broken. Worse yet, if you changed the\n semantics of an existing method, users who copied the code could be broken\n silently. In such cases, subclassing the original _BaseAttentionMechanism\n would have been a much better solution for everyone involved.\n\n That said, I understand if you're not prepared to define a public-facing\n interface to plug in custom attention mechanisms. A comment to that effect\n in AttentionMechanism\n &lt;<a href=\"https://www.tensorflow.org/api_docs/python/tf/contrib/seq2seq/AttentionMechanism\">https://www.tensorflow.org/api_docs/python/tf/contrib/seq2seq/AttentionMechanism</a>&gt;\n would be much appreciated.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"236706717\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/10805\" href=\"https://github.com/tensorflow/tensorflow/issues/10805#issuecomment-408583055\">#10805 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/ABtim7ZgObjnzO0coVFjoRVr7bpzqag8ks5uK_CugaJpZM4N9bqR\">https://github.com/notifications/unsubscribe-auth/ABtim7ZgObjnzO0coVFjoRVr7bpzqag8ks5uK_CugaJpZM4N9bqR</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "I think the most important thing is to update and document the set of\nunimplemented methods and properties in AttentionMechanism so authors of\nnew mechanisms know exactly what needs to be included. I don't expect to\nchange the API anymore so you should feel safe to a copy the existing base\nclass.\n\nWould you like to send a PR with the updated abstract class an docstrings?\n\u2026\nOn Fri, Jul 27, 2018, 10:03 PM Sharvil Nanavati ***@***.***> wrote:\n I also need to write a custom attention mechanism and ran into this issue.\n @ebrevdo <https://github.com/ebrevdo>, I'm unclear how copy/pasting the\n implementation will break external users any less than simply exposing the\n implementation publicly.\n\n If you add a new method/property to _BaseAttentionMechanism and make use\n of it in AttentionWrapper, all external users who followed the advice to\n copy the implementation will be broken. Worse yet, if you changed the\n semantics of an existing method, users who copied the code could be broken\n silently. In such cases, subclassing the original _BaseAttentionMechanism\n would have been a much better solution for everyone involved.\n\n That said, I understand if you're not prepared to define a public-facing\n interface to plug in custom attention mechanisms. A comment to that effect\n in AttentionMechanism\n <https://www.tensorflow.org/api_docs/python/tf/contrib/seq2seq/AttentionMechanism>\n would be much appreciated.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#10805 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/ABtim7ZgObjnzO0coVFjoRVr7bpzqag8ks5uK_CugaJpZM4N9bqR>\n .", "body": "I think the most important thing is to update and document the set of\nunimplemented methods and properties in AttentionMechanism so authors of\nnew mechanisms know exactly what needs to be included. I don't expect to\nchange the API anymore so you should feel safe to a copy the existing base\nclass.\n\nWould you like to send a PR with the updated abstract class an docstrings?\n\nOn Fri, Jul 27, 2018, 10:03 PM Sharvil Nanavati <notifications@github.com>\nwrote:\n\n> I also need to write a custom attention mechanism and ran into this issue.\n> @ebrevdo <https://github.com/ebrevdo>, I'm unclear how copy/pasting the\n> implementation will break external users any less than simply exposing the\n> implementation publicly.\n>\n> If you add a new method/property to _BaseAttentionMechanism and make use\n> of it in AttentionWrapper, all external users who followed the advice to\n> copy the implementation will be broken. Worse yet, if you changed the\n> semantics of an existing method, users who copied the code could be broken\n> silently. In such cases, subclassing the original _BaseAttentionMechanism\n> would have been a much better solution for everyone involved.\n>\n> That said, I understand if you're not prepared to define a public-facing\n> interface to plug in custom attention mechanisms. A comment to that effect\n> in AttentionMechanism\n> <https://www.tensorflow.org/api_docs/python/tf/contrib/seq2seq/AttentionMechanism>\n> would be much appreciated.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/10805#issuecomment-408583055>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABtim7ZgObjnzO0coVFjoRVr7bpzqag8ks5uK_CugaJpZM4N9bqR>\n> .\n>\n"}