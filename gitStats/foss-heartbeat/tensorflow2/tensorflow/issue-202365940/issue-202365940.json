{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7004", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7004/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7004/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7004/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7004", "id": 202365940, "node_id": "MDU6SXNzdWUyMDIzNjU5NDA=", "number": 7004, "title": "Build with --define tensorflow_xsmm=1 fails on MacOS Sierra", "user": {"login": "mikowals", "id": 1331470, "node_id": "MDQ6VXNlcjEzMzE0NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1331470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikowals", "html_url": "https://github.com/mikowals", "followers_url": "https://api.github.com/users/mikowals/followers", "following_url": "https://api.github.com/users/mikowals/following{/other_user}", "gists_url": "https://api.github.com/users/mikowals/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikowals/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikowals/subscriptions", "organizations_url": "https://api.github.com/users/mikowals/orgs", "repos_url": "https://api.github.com/users/mikowals/repos", "events_url": "https://api.github.com/users/mikowals/events{/privacy}", "received_events_url": "https://api.github.com/users/mikowals/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-01-22T07:11:54Z", "updated_at": "2018-09-13T17:28:07Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>Building current master after the recent commits to enable libxsmm.</p>\n<pre><code>bazel build --copt=-march=native -c opt --define tensorflow_xsmm=1 --verbose_failures //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>The important error lines (I think) are:</p>\n<blockquote>\n<p>tensorflow/core/kernels/sparse_matmul_op.cc:1408:3: error: unknown type name 'cpu_set_t'<br>\ncpu_set_t old_cpu_set;</p>\n</blockquote>\n<blockquote>\n<p>tensorflow/core/kernels/sparse_matmul_op.cc:1413:39: error: use of undeclared identifier 'cpu_set_t'<br>\nret = sched_getaffinity(0, sizeof(cpu_set_t), &amp;old_cpu_set);</p>\n</blockquote>\n<p>The full result of --verbose_failures is attached.<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/721760/tf_libxsmm_error.txt\">tf_libxsmm_error.txt</a></p>\n<p>Searching for 'cpu_set_t' on OSX turned up <a href=\"https://github.com/Cibiv/NextGenMap/issues/6\" data-hovercard-type=\"issue\" data-hovercard-url=\"/Cibiv/NextGenMap/issues/6/hovercard\">this code example under heading 2.2</a> and claims that 'cpu_set_t' is not defined on OSX and Apple's own multithreading code needs to be substituted. So maybe the code using 'cpu_set_t' is not meant to be reached on Macs and the libxsmm code is not ready to be used on my machine.</p>", "body_text": "Building current master after the recent commits to enable libxsmm.\nbazel build --copt=-march=native -c opt --define tensorflow_xsmm=1 --verbose_failures //tensorflow/tools/pip_package:build_pip_package\n\nThe important error lines (I think) are:\n\ntensorflow/core/kernels/sparse_matmul_op.cc:1408:3: error: unknown type name 'cpu_set_t'\ncpu_set_t old_cpu_set;\n\n\ntensorflow/core/kernels/sparse_matmul_op.cc:1413:39: error: use of undeclared identifier 'cpu_set_t'\nret = sched_getaffinity(0, sizeof(cpu_set_t), &old_cpu_set);\n\nThe full result of --verbose_failures is attached.\ntf_libxsmm_error.txt\nSearching for 'cpu_set_t' on OSX turned up this code example under heading 2.2 and claims that 'cpu_set_t' is not defined on OSX and Apple's own multithreading code needs to be substituted. So maybe the code using 'cpu_set_t' is not meant to be reached on Macs and the libxsmm code is not ready to be used on my machine.", "body": "Building current master after the recent commits to enable libxsmm.\r\n\r\n    bazel build --copt=-march=native -c opt --define tensorflow_xsmm=1 --verbose_failures //tensorflow/tools/pip_package:build_pip_package\r\n\r\nThe important error lines (I think) are:\r\n\r\n> tensorflow/core/kernels/sparse_matmul_op.cc:1408:3: error: unknown type name 'cpu_set_t'\r\n  cpu_set_t old_cpu_set;\r\n  \r\n> tensorflow/core/kernels/sparse_matmul_op.cc:1413:39: error: use of undeclared identifier 'cpu_set_t'\r\n    ret = sched_getaffinity(0, sizeof(cpu_set_t), &old_cpu_set);\r\n\r\nThe full result of --verbose_failures is attached.\r\n[tf_libxsmm_error.txt](https://github.com/tensorflow/tensorflow/files/721760/tf_libxsmm_error.txt)\r\n\r\nSearching for 'cpu_set_t' on OSX turned up [this code example under heading 2.2](https://github.com/Cibiv/NextGenMap/issues/6) and claims that 'cpu_set_t' is not defined on OSX and Apple's own multithreading code needs to be substituted. So maybe the code using 'cpu_set_t' is not meant to be reached on Macs and the libxsmm code is not ready to be used on my machine.\r\n\r\n\r\n\r\n\r\n\r\n"}