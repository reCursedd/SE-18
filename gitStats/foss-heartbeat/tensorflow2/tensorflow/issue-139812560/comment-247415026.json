{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/247415026", "html_url": "https://github.com/tensorflow/tensorflow/issues/1450#issuecomment-247415026", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1450", "id": 247415026, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzQxNTAyNg==", "user": {"login": "kbrems", "id": 456665, "node_id": "MDQ6VXNlcjQ1NjY2NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/456665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kbrems", "html_url": "https://github.com/kbrems", "followers_url": "https://api.github.com/users/kbrems/followers", "following_url": "https://api.github.com/users/kbrems/following{/other_user}", "gists_url": "https://api.github.com/users/kbrems/gists{/gist_id}", "starred_url": "https://api.github.com/users/kbrems/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kbrems/subscriptions", "organizations_url": "https://api.github.com/users/kbrems/orgs", "repos_url": "https://api.github.com/users/kbrems/repos", "events_url": "https://api.github.com/users/kbrems/events{/privacy}", "received_events_url": "https://api.github.com/users/kbrems/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-15T18:43:11Z", "updated_at": "2016-09-15T18:43:11Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I can't build a custom operator with type int64:</p>\n<p>karenbre@karenZ820:~/workspace/issue1450$ ./build.sh<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally<br>\nIn file included from /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/type_traits.h:22:0,<br>\nfrom /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/allocator.h:25,<br>\nfrom /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/op_kernel.h:22,<br>\nfrom cuda_op_kernel.cc:17:<br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/types.h: In instantiation of \u2018struct tensorflow::DataTypeToEnum\u2019:<br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:587:46:   required from \u2018typename tensorflow::TTypes&lt;T, NDIMS&gt;::ConstTensor tensorflow::Tensor::shaped(tensorflow::gtl::ArraySlice) const [with T = long int; long unsigned int NDIMS = 1ul; typename tensorflow::TTypes&lt;T, NDIMS&gt;::ConstTensor = Eigen::TensorMap&lt;Eigen::Tensor&lt;const long int, 1, 1, long int&gt;, 16&gt;]\u2019<br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:354:40:   required from \u2018typename tensorflow::TTypes::ConstFlat tensorflow::Tensor::flat() const [with T = long int; typename tensorflow::TTypes::ConstFlat = Eigen::TensorMap&lt;Eigen::Tensor&lt;const long int, 1, 1, long int&gt;, 16&gt;]\u2019<br>\ncuda_op_kernel.cc:64:45:   required from \u2018void AddOneOp::Compute(tensorflow::OpKernelContext_) [with Device = Eigen::ThreadPoolDevice]\u2019<br>\ncuda_op_kernel.cc:80:80:   required from here<br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/types.h:136:3: error: static assertion failed: Specified Data Type not supported<br>\nstatic_assert(IsValidDataType::value, \"Specified Data Type not supported\");<br>\n^<br>\nIn file included from /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/device_base.h:23:0,<br>\nfrom /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/op_kernel.h:25,<br>\nfrom cuda_op_kernel.cc:17:<br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h: In instantiation of \u2018typename tensorflow::TTypes&lt;T, NDIMS&gt;::ConstTensor tensorflow::Tensor::shaped(tensorflow::gtl::ArraySlice) const [with T = long int; long unsigned int NDIMS = 1ul; typename tensorflow::TTypes&lt;T, NDIMS&gt;::ConstTensor = Eigen::TensorMap&lt;Eigen::Tensor&lt;const long int, 1, 1, long int&gt;, 16&gt;]\u2019:<br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:354:40:   required from \u2018typename tensorflow::TTypes::ConstFlat tensorflow::Tensor::flat() const [with T = long int; typename tensorflow::TTypes::ConstFlat = Eigen::TensorMap&lt;Eigen::Tensor&lt;const long int, 1, 1, long int&gt;, 16&gt;]\u2019<br>\ncuda_op_kernel.cc:64:45:   required from \u2018void AddOneOp::Compute(tensorflow::OpKernelContext_) [with Device = Eigen::ThreadPoolDevice]\u2019<br>\ncuda_op_kernel.cc:80:80:   required from here<br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:587:46: error: \u2018v\u2019 is not a member of \u2018tensorflow::DataTypeToEnum\u2019<br>\nCheckTypeAndIsAligned(DataTypeToEnum::v());<br>\n^<br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h: In instantiation of \u2018typename tensorflow::TTypes&lt;T, NDIMS&gt;::Tensor tensorflow::Tensor::shaped(tensorflow::gtl::ArraySlice) [with T = long int; long unsigned int NDIMS = 1ul; typename tensorflow::TTypes&lt;T, NDIMS&gt;::Tensor = Eigen::TensorMap&lt;Eigen::Tensor&lt;long int, 1, 1, long int&gt;, 16&gt;]\u2019:<br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:284:40:   required from \u2018typename tensorflow::TTypes::Flat tensorflow::Tensor::flat() [with T = long int; typename tensorflow::TTypes::Flat = Eigen::TensorMap&lt;Eigen::Tensor&lt;long int, 1, 1, long int&gt;, 16&gt;]\u2019<br>\ncuda_op_kernel.cc:70:57:   required from \u2018void AddOneOp::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice]\u2019<br>\ncuda_op_kernel.cc:80:80:   required from here<br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:546:46: error: \u2018v\u2019 is not a member of \u2018tensorflow::DataTypeToEnum\u2019<br>\nCheckTypeAndIsAligned(DataTypeToEnum::v());<br>\n^</p>", "body_text": "I can't build a custom operator with type int64:\nkarenbre@karenZ820:~/workspace/issue1450$ ./build.sh\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nIn file included from /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/type_traits.h:22:0,\nfrom /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/allocator.h:25,\nfrom /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/op_kernel.h:22,\nfrom cuda_op_kernel.cc:17:\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/types.h: In instantiation of \u2018struct tensorflow::DataTypeToEnum\u2019:\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:587:46:   required from \u2018typename tensorflow::TTypes<T, NDIMS>::ConstTensor tensorflow::Tensor::shaped(tensorflow::gtl::ArraySlice) const [with T = long int; long unsigned int NDIMS = 1ul; typename tensorflow::TTypes<T, NDIMS>::ConstTensor = Eigen::TensorMap<Eigen::Tensor<const long int, 1, 1, long int>, 16>]\u2019\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:354:40:   required from \u2018typename tensorflow::TTypes::ConstFlat tensorflow::Tensor::flat() const [with T = long int; typename tensorflow::TTypes::ConstFlat = Eigen::TensorMap<Eigen::Tensor<const long int, 1, 1, long int>, 16>]\u2019\ncuda_op_kernel.cc:64:45:   required from \u2018void AddOneOp::Compute(tensorflow::OpKernelContext_) [with Device = Eigen::ThreadPoolDevice]\u2019\ncuda_op_kernel.cc:80:80:   required from here\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/types.h:136:3: error: static assertion failed: Specified Data Type not supported\nstatic_assert(IsValidDataType::value, \"Specified Data Type not supported\");\n^\nIn file included from /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/device_base.h:23:0,\nfrom /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/op_kernel.h:25,\nfrom cuda_op_kernel.cc:17:\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h: In instantiation of \u2018typename tensorflow::TTypes<T, NDIMS>::ConstTensor tensorflow::Tensor::shaped(tensorflow::gtl::ArraySlice) const [with T = long int; long unsigned int NDIMS = 1ul; typename tensorflow::TTypes<T, NDIMS>::ConstTensor = Eigen::TensorMap<Eigen::Tensor<const long int, 1, 1, long int>, 16>]\u2019:\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:354:40:   required from \u2018typename tensorflow::TTypes::ConstFlat tensorflow::Tensor::flat() const [with T = long int; typename tensorflow::TTypes::ConstFlat = Eigen::TensorMap<Eigen::Tensor<const long int, 1, 1, long int>, 16>]\u2019\ncuda_op_kernel.cc:64:45:   required from \u2018void AddOneOp::Compute(tensorflow::OpKernelContext_) [with Device = Eigen::ThreadPoolDevice]\u2019\ncuda_op_kernel.cc:80:80:   required from here\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:587:46: error: \u2018v\u2019 is not a member of \u2018tensorflow::DataTypeToEnum\u2019\nCheckTypeAndIsAligned(DataTypeToEnum::v());\n^\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h: In instantiation of \u2018typename tensorflow::TTypes<T, NDIMS>::Tensor tensorflow::Tensor::shaped(tensorflow::gtl::ArraySlice) [with T = long int; long unsigned int NDIMS = 1ul; typename tensorflow::TTypes<T, NDIMS>::Tensor = Eigen::TensorMap<Eigen::Tensor<long int, 1, 1, long int>, 16>]\u2019:\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:284:40:   required from \u2018typename tensorflow::TTypes::Flat tensorflow::Tensor::flat() [with T = long int; typename tensorflow::TTypes::Flat = Eigen::TensorMap<Eigen::Tensor<long int, 1, 1, long int>, 16>]\u2019\ncuda_op_kernel.cc:70:57:   required from \u2018void AddOneOp::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice]\u2019\ncuda_op_kernel.cc:80:80:   required from here\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:546:46: error: \u2018v\u2019 is not a member of \u2018tensorflow::DataTypeToEnum\u2019\nCheckTypeAndIsAligned(DataTypeToEnum::v());\n^", "body": "I can't build a custom operator with type int64:\n\nkarenbre@karenZ820:~/workspace/issue1450$ ./build.sh\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nIn file included from /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/type_traits.h:22:0,\n                 from /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/allocator.h:25,\n                 from /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/op_kernel.h:22,\n                 from cuda_op_kernel.cc:17:\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/types.h: In instantiation of \u2018struct tensorflow::DataTypeToEnum<long int>\u2019:\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:587:46:   required from \u2018typename tensorflow::TTypes<T, NDIMS>::ConstTensor tensorflow::Tensor::shaped(tensorflow::gtl::ArraySlice<long long int>) const [with T = long int; long unsigned int NDIMS = 1ul; typename tensorflow::TTypes<T, NDIMS>::ConstTensor = Eigen::TensorMap<Eigen::Tensor<const long int, 1, 1, long int>, 16>]\u2019\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:354:40:   required from \u2018typename tensorflow::TTypes<T>::ConstFlat tensorflow::Tensor::flat() const [with T = long int; typename tensorflow::TTypes<T>::ConstFlat = Eigen::TensorMap<Eigen::Tensor<const long int, 1, 1, long int>, 16>]\u2019\ncuda_op_kernel.cc:64:45:   required from \u2018void AddOneOp<Device>::Compute(tensorflow::OpKernelContext_) [with Device = Eigen::ThreadPoolDevice]\u2019\ncuda_op_kernel.cc:80:80:   required from here\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/types.h:136:3: error: static assertion failed: Specified Data Type not supported\n   static_assert(IsValidDataType<T>::value, \"Specified Data Type not supported\");\n   ^\nIn file included from /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/device_base.h:23:0,\n                 from /usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/op_kernel.h:25,\n                 from cuda_op_kernel.cc:17:\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h: In instantiation of \u2018typename tensorflow::TTypes<T, NDIMS>::ConstTensor tensorflow::Tensor::shaped(tensorflow::gtl::ArraySlice<long long int>) const [with T = long int; long unsigned int NDIMS = 1ul; typename tensorflow::TTypes<T, NDIMS>::ConstTensor = Eigen::TensorMap<Eigen::Tensor<const long int, 1, 1, long int>, 16>]\u2019:\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:354:40:   required from \u2018typename tensorflow::TTypes<T>::ConstFlat tensorflow::Tensor::flat() const [with T = long int; typename tensorflow::TTypes<T>::ConstFlat = Eigen::TensorMap<Eigen::Tensor<const long int, 1, 1, long int>, 16>]\u2019\ncuda_op_kernel.cc:64:45:   required from \u2018void AddOneOp<Device>::Compute(tensorflow::OpKernelContext_) [with Device = Eigen::ThreadPoolDevice]\u2019\ncuda_op_kernel.cc:80:80:   required from here\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:587:46: error: \u2018v\u2019 is not a member of \u2018tensorflow::DataTypeToEnum<long int>\u2019\n   CheckTypeAndIsAligned(DataTypeToEnum<T>::v());\n                                              ^\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h: In instantiation of \u2018typename tensorflow::TTypes<T, NDIMS>::Tensor tensorflow::Tensor::shaped(tensorflow::gtl::ArraySlice<long long int>) [with T = long int; long unsigned int NDIMS = 1ul; typename tensorflow::TTypes<T, NDIMS>::Tensor = Eigen::TensorMap<Eigen::Tensor<long int, 1, 1, long int>, 16>]\u2019:\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:284:40:   required from \u2018typename tensorflow::TTypes<T>::Flat tensorflow::Tensor::flat() [with T = long int; typename tensorflow::TTypes<T>::Flat = Eigen::TensorMap<Eigen::Tensor<long int, 1, 1, long int>, 16>]\u2019\ncuda_op_kernel.cc:70:57:   required from \u2018void AddOneOp<Device>::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice]\u2019\ncuda_op_kernel.cc:80:80:   required from here\n/usr/local/lib/python2.7/dist-packages/tensorflow/include/tensorflow/core/framework/tensor.h:546:46: error: \u2018v\u2019 is not a member of \u2018tensorflow::DataTypeToEnum<long int>\u2019\n   CheckTypeAndIsAligned(DataTypeToEnum<T>::v());\n                                              ^\n"}