{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/348833593", "html_url": "https://github.com/tensorflow/tensorflow/issues/1450#issuecomment-348833593", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1450", "id": 348833593, "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODgzMzU5Mw==", "user": {"login": "DenysLi", "id": 23259843, "node_id": "MDQ6VXNlcjIzMjU5ODQz", "avatar_url": "https://avatars2.githubusercontent.com/u/23259843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DenysLi", "html_url": "https://github.com/DenysLi", "followers_url": "https://api.github.com/users/DenysLi/followers", "following_url": "https://api.github.com/users/DenysLi/following{/other_user}", "gists_url": "https://api.github.com/users/DenysLi/gists{/gist_id}", "starred_url": "https://api.github.com/users/DenysLi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DenysLi/subscriptions", "organizations_url": "https://api.github.com/users/DenysLi/orgs", "repos_url": "https://api.github.com/users/DenysLi/repos", "events_url": "https://api.github.com/users/DenysLi/events{/privacy}", "received_events_url": "https://api.github.com/users/DenysLi/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-04T00:33:14Z", "updated_at": "2017-12-04T00:35:01Z", "author_association": "NONE", "body_html": "<p>Same problem<br>\n<code>2017-12-04 03:27:19.316336: E C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1110] could not synchronize on CUDA context: CUDA_ERROR_ILLEGAL_ADDRESS :: No stack trace available Traceback (most recent call last): File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1323, in _do_call return fn(*args) File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1302, in _run_fn status, run_metadata) File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 473, in __exit__ c_api.TF_GetCode(self.status.status)) tensorflow.python.framework.errors_impl.InternalError: GPU sync failed</code><br>\nCode:</p>\n<pre><code>\noriginal =  tf.Variable(img, dtype = tf.float32)\nx =         tf.Variable(img, dtype = tf.float32)\nclique = x*x # tf.multiply(x,x) # tf.square(x,x)\n\noptimizer = tf.train.GradientDescentOptimizer(1e-2)\ntrain = optimizer.minimize(clique)\ninit = tf.global_variables_initializer()#tf.initialize_all_variables()\noptimize()\n</code></pre>\n<p>It works perfectly on CPU (when cuda visible devices = -1). It is strange: when i use tf.add() it works on GPU, but tf.multiply(), tf.square() (not tested on another math functions) gives an error.</p>\n<p><strong>CUDA and CuDNN 8, Win10, 1050Ti, tensorflow 1.4 pip install.</strong></p>", "body_text": "Same problem\n2017-12-04 03:27:19.316336: E C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1110] could not synchronize on CUDA context: CUDA_ERROR_ILLEGAL_ADDRESS :: No stack trace available Traceback (most recent call last): File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1323, in _do_call return fn(*args) File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1302, in _run_fn status, run_metadata) File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 473, in __exit__ c_api.TF_GetCode(self.status.status)) tensorflow.python.framework.errors_impl.InternalError: GPU sync failed\nCode:\n\noriginal =  tf.Variable(img, dtype = tf.float32)\nx =         tf.Variable(img, dtype = tf.float32)\nclique = x*x # tf.multiply(x,x) # tf.square(x,x)\n\noptimizer = tf.train.GradientDescentOptimizer(1e-2)\ntrain = optimizer.minimize(clique)\ninit = tf.global_variables_initializer()#tf.initialize_all_variables()\noptimize()\n\nIt works perfectly on CPU (when cuda visible devices = -1). It is strange: when i use tf.add() it works on GPU, but tf.multiply(), tf.square() (not tested on another math functions) gives an error.\nCUDA and CuDNN 8, Win10, 1050Ti, tensorflow 1.4 pip install.", "body": "Same problem\r\n`2017-12-04 03:27:19.316336: E C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1110] could not synchronize on CUDA context: CUDA_ERROR_ILLEGAL_ADDRESS :: No stack trace available\r\nTraceback (most recent call last):\r\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1323, in _do_call\r\n    return fn(*args)\r\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1302, in _run_fn\r\n    status, run_metadata)\r\n  File \"C:\\Python36\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 473, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.InternalError: GPU sync failed`\r\nCode:\r\n```\r\n\r\noriginal =  tf.Variable(img, dtype = tf.float32)\r\nx =         tf.Variable(img, dtype = tf.float32)\r\nclique = x*x # tf.multiply(x,x) # tf.square(x,x)\r\n\r\noptimizer = tf.train.GradientDescentOptimizer(1e-2)\r\ntrain = optimizer.minimize(clique)\r\ninit = tf.global_variables_initializer()#tf.initialize_all_variables()\r\noptimize()\r\n```\r\n\r\nIt works perfectly on CPU (when cuda visible devices = -1). It is strange: when i use tf.add() it works on GPU, but tf.multiply(), tf.square() (not tested on another math functions) gives an error.\r\n\r\n**CUDA and CuDNN 8, Win10, 1050Ti, tensorflow 1.4 pip install.**"}