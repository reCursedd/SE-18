{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23260", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23260/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23260/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23260/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23260", "id": 374040356, "node_id": "MDU6SXNzdWUzNzQwNDAzNTY=", "number": 23260, "title": "Undefined reference error when trying to run tensorflow lite model on android", "user": {"login": "Nimitz14", "id": 12561072, "node_id": "MDQ6VXNlcjEyNTYxMDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/12561072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nimitz14", "html_url": "https://github.com/Nimitz14", "followers_url": "https://api.github.com/users/Nimitz14/followers", "following_url": "https://api.github.com/users/Nimitz14/following{/other_user}", "gists_url": "https://api.github.com/users/Nimitz14/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nimitz14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nimitz14/subscriptions", "organizations_url": "https://api.github.com/users/Nimitz14/orgs", "repos_url": "https://api.github.com/users/Nimitz14/repos", "events_url": "https://api.github.com/users/Nimitz14/events{/privacy}", "received_events_url": "https://api.github.com/users/Nimitz14/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "andrehentz", "id": 25754898, "node_id": "MDQ6VXNlcjI1NzU0ODk4", "avatar_url": "https://avatars3.githubusercontent.com/u/25754898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrehentz", "html_url": "https://github.com/andrehentz", "followers_url": "https://api.github.com/users/andrehentz/followers", "following_url": "https://api.github.com/users/andrehentz/following{/other_user}", "gists_url": "https://api.github.com/users/andrehentz/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrehentz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrehentz/subscriptions", "organizations_url": "https://api.github.com/users/andrehentz/orgs", "repos_url": "https://api.github.com/users/andrehentz/repos", "events_url": "https://api.github.com/users/andrehentz/events{/privacy}", "received_events_url": "https://api.github.com/users/andrehentz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "andrehentz", "id": 25754898, "node_id": "MDQ6VXNlcjI1NzU0ODk4", "avatar_url": "https://avatars3.githubusercontent.com/u/25754898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrehentz", "html_url": "https://github.com/andrehentz", "followers_url": "https://api.github.com/users/andrehentz/followers", "following_url": "https://api.github.com/users/andrehentz/following{/other_user}", "gists_url": "https://api.github.com/users/andrehentz/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrehentz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrehentz/subscriptions", "organizations_url": "https://api.github.com/users/andrehentz/orgs", "repos_url": "https://api.github.com/users/andrehentz/repos", "events_url": "https://api.github.com/users/andrehentz/events{/privacy}", "received_events_url": "https://api.github.com/users/andrehentz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-10-25T16:53:45Z", "updated_at": "2018-11-21T23:37:42Z", "closed_at": "2018-11-21T23:37:42Z", "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>\n<p>Have I written custom code (as opposed to using a stock example script provided in TensorFlow):<br>\nyes</p>\n</li>\n<li>\n<p>OS Platform and Distribution (e.g., Linux Ubuntu 16.04):<br>\nubuntu 16.04</p>\n</li>\n<li>\n<p>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:<br>\nSamsung A3, armeabi-v7a</p>\n</li>\n</ul>\n<p>I cloned from master (Oct 25), last commit is <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/670eff0b0f60b9fde8231e927807677a80016904/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/670eff0b0f60b9fde8231e927807677a80016904\"><tt>670eff0</tt></a></p>\n<p><strong>Describe the current behavior</strong></p>\n<p>When compiling the app to use the tflite model I get an error:</p>\n<pre><code>error: undefined reference to 'tflite::InterpreterBuilder::operator()(std::__ndk1::unique_ptr&lt;tflite::Interpreter, std::__ndk1::default_delete&lt;tflite::Interpreter&gt; &gt;*)'\n</code></pre>\n<p>I've tried</p>\n<pre><code>std::unique_ptr&lt;tflite::FlatBufferModel&gt; model = tflite::FlatBufferModel::BuildFromFile(model_path.c_str());\ntflite::ops::builtin::BuiltinOpResolver resolver;\nstd::unique_ptr&lt;tflite::Interpreter&gt; interpreter;\ntflite::InterpreterBuilder(*model, resolver)(&amp;interpreter);\n</code></pre>\n<p>As per the <a href=\"https://www.tensorflow.org/lite/apis\" rel=\"nofollow\">docs here</a> (note the difference is because they seem to be out of date). As it wasn't working, I came across <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/examples/minimal/minimal.cc#L53\">a slightly different way</a>, with</p>\n<pre><code>tflite::InterpreterBuilder builder(*model.get(), resolver);\nbuilder(&amp;interpreter);\n</code></pre>\n<p>but that also did not work. These are the relevant headers I include</p>\n<pre><code>#include \"tensorflow/contrib/lite/model.h\"\n#include \"tensorflow/contrib/lite/interpreter.h\"\n#include \"tensorflow/contrib/lite/kernels/register.h\"\n</code></pre>\n<p>I followed <a href=\"https://stackoverflow.com/questions/49834875/problems-with-using-tensorflow-lite-c-api-in-android-studio-project\" rel=\"nofollow\">this great guide</a> for using tensorflow lite for android. Only thing I did different was some cmake stuff (I don't actually include the flatbuffer files inside my android project, but added them through cmake).</p>\n<p><strong>Describe the expected behavior</strong></p>\n<p>To compile.</p>", "body_text": "System information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nyes\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nubuntu 16.04\n\n\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\nSamsung A3, armeabi-v7a\n\n\nI cloned from master (Oct 25), last commit is 670eff0\nDescribe the current behavior\nWhen compiling the app to use the tflite model I get an error:\nerror: undefined reference to 'tflite::InterpreterBuilder::operator()(std::__ndk1::unique_ptr<tflite::Interpreter, std::__ndk1::default_delete<tflite::Interpreter> >*)'\n\nI've tried\nstd::unique_ptr<tflite::FlatBufferModel> model = tflite::FlatBufferModel::BuildFromFile(model_path.c_str());\ntflite::ops::builtin::BuiltinOpResolver resolver;\nstd::unique_ptr<tflite::Interpreter> interpreter;\ntflite::InterpreterBuilder(*model, resolver)(&interpreter);\n\nAs per the docs here (note the difference is because they seem to be out of date). As it wasn't working, I came across a slightly different way, with\ntflite::InterpreterBuilder builder(*model.get(), resolver);\nbuilder(&interpreter);\n\nbut that also did not work. These are the relevant headers I include\n#include \"tensorflow/contrib/lite/model.h\"\n#include \"tensorflow/contrib/lite/interpreter.h\"\n#include \"tensorflow/contrib/lite/kernels/register.h\"\n\nI followed this great guide for using tensorflow lite for android. Only thing I did different was some cmake stuff (I don't actually include the flatbuffer files inside my android project, but added them through cmake).\nDescribe the expected behavior\nTo compile.", "body": "\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): \r\nyes\r\n\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nubuntu 16.04\r\n\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\nSamsung A3, armeabi-v7a\r\n\r\nI cloned from master (Oct 25), last commit is 670eff0b0f60b9fde8231e927807677a80016904\r\n\r\n**Describe the current behavior**\r\n\r\nWhen compiling the app to use the tflite model I get an error:\r\n```\r\nerror: undefined reference to 'tflite::InterpreterBuilder::operator()(std::__ndk1::unique_ptr<tflite::Interpreter, std::__ndk1::default_delete<tflite::Interpreter> >*)'\r\n```\r\nI've tried\r\n```\r\nstd::unique_ptr<tflite::FlatBufferModel> model = tflite::FlatBufferModel::BuildFromFile(model_path.c_str());\r\ntflite::ops::builtin::BuiltinOpResolver resolver;\r\nstd::unique_ptr<tflite::Interpreter> interpreter;\r\ntflite::InterpreterBuilder(*model, resolver)(&interpreter);\r\n```\r\nAs per the [docs here](https://www.tensorflow.org/lite/apis) (note the difference is because they seem to be out of date). As it wasn't working, I came across [a slightly different way](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/examples/minimal/minimal.cc#L53), with\r\n```\r\ntflite::InterpreterBuilder builder(*model.get(), resolver);\r\nbuilder(&interpreter);\r\n```\r\nbut that also did not work. These are the relevant headers I include\r\n```\r\n#include \"tensorflow/contrib/lite/model.h\"\r\n#include \"tensorflow/contrib/lite/interpreter.h\"\r\n#include \"tensorflow/contrib/lite/kernels/register.h\"\r\n```\r\n\r\nI followed [this great guide](https://stackoverflow.com/questions/49834875/problems-with-using-tensorflow-lite-c-api-in-android-studio-project) for using tensorflow lite for android. Only thing I did different was some cmake stuff (I don't actually include the flatbuffer files inside my android project, but added them through cmake).\r\n\r\n\r\n\r\n**Describe the expected behavior**\r\n\r\nTo compile.\r\n\r\n\r\n"}