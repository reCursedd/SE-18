{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/228400982", "html_url": "https://github.com/tensorflow/tensorflow/issues/2215#issuecomment-228400982", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2215", "id": 228400982, "node_id": "MDEyOklzc3VlQ29tbWVudDIyODQwMDk4Mg==", "user": {"login": "danleh93", "id": 19287183, "node_id": "MDQ6VXNlcjE5Mjg3MTgz", "avatar_url": "https://avatars3.githubusercontent.com/u/19287183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danleh93", "html_url": "https://github.com/danleh93", "followers_url": "https://api.github.com/users/danleh93/followers", "following_url": "https://api.github.com/users/danleh93/following{/other_user}", "gists_url": "https://api.github.com/users/danleh93/gists{/gist_id}", "starred_url": "https://api.github.com/users/danleh93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danleh93/subscriptions", "organizations_url": "https://api.github.com/users/danleh93/orgs", "repos_url": "https://api.github.com/users/danleh93/repos", "events_url": "https://api.github.com/users/danleh93/events{/privacy}", "received_events_url": "https://api.github.com/users/danleh93/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-24T16:58:58Z", "updated_at": "2016-06-24T16:58:58Z", "author_association": "NONE", "body_html": "<p>Did the <code>tf.expand_dims(image, -1)</code> ever solve the problem? I tried that workaround writing <code>image = tf.expand_dims(tf.cast(image_data, tf.float32), -1)</code>, but now the error is:</p>\n<blockquote>\n<p>File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 625, in with_rank<br>\nraise ValueError(\"Shape %s must have rank %d\" % (self, rank))<br>\nValueError: Shape (1,) must have rank 4</p>\n</blockquote>", "body_text": "Did the tf.expand_dims(image, -1) ever solve the problem? I tried that workaround writing image = tf.expand_dims(tf.cast(image_data, tf.float32), -1), but now the error is:\n\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 625, in with_rank\nraise ValueError(\"Shape %s must have rank %d\" % (self, rank))\nValueError: Shape (1,) must have rank 4", "body": "Did the `tf.expand_dims(image, -1)` ever solve the problem? I tried that workaround writing `image = tf.expand_dims(tf.cast(image_data, tf.float32), -1)`, but now the error is:\n\n> File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 625, in with_rank\n>     raise ValueError(\"Shape %s must have rank %d\" % (self, rank))\n> ValueError: Shape (1,) must have rank 4\n"}