{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/328724178", "html_url": "https://github.com/tensorflow/tensorflow/issues/12667#issuecomment-328724178", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12667", "id": 328724178, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODcyNDE3OA==", "user": {"login": "passerbyd", "id": 12813325, "node_id": "MDQ6VXNlcjEyODEzMzI1", "avatar_url": "https://avatars0.githubusercontent.com/u/12813325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/passerbyd", "html_url": "https://github.com/passerbyd", "followers_url": "https://api.github.com/users/passerbyd/followers", "following_url": "https://api.github.com/users/passerbyd/following{/other_user}", "gists_url": "https://api.github.com/users/passerbyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/passerbyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/passerbyd/subscriptions", "organizations_url": "https://api.github.com/users/passerbyd/orgs", "repos_url": "https://api.github.com/users/passerbyd/repos", "events_url": "https://api.github.com/users/passerbyd/events{/privacy}", "received_events_url": "https://api.github.com/users/passerbyd/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-12T03:26:56Z", "updated_at": "2017-09-12T03:26:56Z", "author_association": "NONE", "body_html": "<p>Some more information, this problem exists among all TF versions.<br>\nThe stuck problem only happens in SyncReplicasOptimizer. When tracing the stucked processes, all workers and PSes are waiting on mutex. PSes do not get all the gradients in this round, so the global_step won't be updated to start next round.<br>\nAnd the problem is related to the variables size in the model. If the variables are small enough(less data to transfer during iterations), the stuck doesn't happen. Not sure the exact threshold.</p>", "body_text": "Some more information, this problem exists among all TF versions.\nThe stuck problem only happens in SyncReplicasOptimizer. When tracing the stucked processes, all workers and PSes are waiting on mutex. PSes do not get all the gradients in this round, so the global_step won't be updated to start next round.\nAnd the problem is related to the variables size in the model. If the variables are small enough(less data to transfer during iterations), the stuck doesn't happen. Not sure the exact threshold.", "body": "Some more information, this problem exists among all TF versions. \r\nThe stuck problem only happens in SyncReplicasOptimizer. When tracing the stucked processes, all workers and PSes are waiting on mutex. PSes do not get all the gradients in this round, so the global_step won't be updated to start next round. \r\nAnd the problem is related to the variables size in the model. If the variables are small enough(less data to transfer during iterations), the stuck doesn't happen. Not sure the exact threshold."}