{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/348638422", "html_url": "https://github.com/tensorflow/tensorflow/issues/12508#issuecomment-348638422", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12508", "id": 348638422, "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODYzODQyMg==", "user": {"login": "twksos", "id": 912025, "node_id": "MDQ6VXNlcjkxMjAyNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/912025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twksos", "html_url": "https://github.com/twksos", "followers_url": "https://api.github.com/users/twksos/followers", "following_url": "https://api.github.com/users/twksos/following{/other_user}", "gists_url": "https://api.github.com/users/twksos/gists{/gist_id}", "starred_url": "https://api.github.com/users/twksos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twksos/subscriptions", "organizations_url": "https://api.github.com/users/twksos/orgs", "repos_url": "https://api.github.com/users/twksos/repos", "events_url": "https://api.github.com/users/twksos/events{/privacy}", "received_events_url": "https://api.github.com/users/twksos/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-01T23:09:16Z", "updated_at": "2017-12-01T23:09:16Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9513952\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/AKhilGarg91\">@AKhilGarg91</a></p>\n<p>I got the too many values to unpack on 1.4, too.</p>\n<p>a small dig into that I changed<br>\n<code>tf.estimator.export.build_parsing_serving_input_receiver_fn</code><br>\nto<br>\n<code>tensorflow.contrib.learn.build_parsing_serving_input_fn</code></p>\n<p>In <code>tensorflow/contrib/learn/python/learn/utils/saved_model_export_utils.py</code> line 157-161</p>\n<pre><code>  if isinstance(input_ops, input_fn_utils.InputFnOps):    \n    features, unused_labels, default_inputs = input_ops #&lt;- should go here\n    input_alternatives[DEFAULT_INPUT_ALTERNATIVE_KEY] = default_inputs\n  else:\n    features, unused_labels = input_ops #&lt;- this line fails\n</code></pre>\n<p>In <code>InputFnOps</code>, it says</p>\n<pre><code>Contents of this file are moved to tensorflow/python/estimator/export.py.\nInputFnOps is renamed to ServingInputReceiver.\nbuild_parsing_serving_input_fn is renamed to\n  build_parsing_serving_input_receiver_fn.\nbuild_default_serving_input_fn is renamed to\n  build_raw_serving_input_receiver_fn.\n</code></pre>\n<p>Seems the new class causes the error.</p>\n<pre><code>if isinstance(input_ops, input_fn_utils.InputFnOps):\n</code></pre>\n<p>should change to something like</p>\n<pre><code>if isinstance(input_ops, input_fn_utils.InputFnOps) or isinstance(input_ops, export.ServingInputReceiver):\n</code></pre>\n<p>My work around is to use <code>tensorflow.contrib.learn.build_parsing_serving_input_fn</code> instead for now.</p>", "body_text": "@AKhilGarg91\nI got the too many values to unpack on 1.4, too.\na small dig into that I changed\ntf.estimator.export.build_parsing_serving_input_receiver_fn\nto\ntensorflow.contrib.learn.build_parsing_serving_input_fn\nIn tensorflow/contrib/learn/python/learn/utils/saved_model_export_utils.py line 157-161\n  if isinstance(input_ops, input_fn_utils.InputFnOps):    \n    features, unused_labels, default_inputs = input_ops #<- should go here\n    input_alternatives[DEFAULT_INPUT_ALTERNATIVE_KEY] = default_inputs\n  else:\n    features, unused_labels = input_ops #<- this line fails\n\nIn InputFnOps, it says\nContents of this file are moved to tensorflow/python/estimator/export.py.\nInputFnOps is renamed to ServingInputReceiver.\nbuild_parsing_serving_input_fn is renamed to\n  build_parsing_serving_input_receiver_fn.\nbuild_default_serving_input_fn is renamed to\n  build_raw_serving_input_receiver_fn.\n\nSeems the new class causes the error.\nif isinstance(input_ops, input_fn_utils.InputFnOps):\n\nshould change to something like\nif isinstance(input_ops, input_fn_utils.InputFnOps) or isinstance(input_ops, export.ServingInputReceiver):\n\nMy work around is to use tensorflow.contrib.learn.build_parsing_serving_input_fn instead for now.", "body": "@AKhilGarg91 \r\n\r\nI got the too many values to unpack on 1.4, too.\r\n\r\na small dig into that I changed\r\n`tf.estimator.export.build_parsing_serving_input_receiver_fn`\r\nto\r\n`tensorflow.contrib.learn.build_parsing_serving_input_fn`\r\n\r\n\r\nIn `tensorflow/contrib/learn/python/learn/utils/saved_model_export_utils.py` line 157-161\r\n```\r\n  if isinstance(input_ops, input_fn_utils.InputFnOps):    \r\n    features, unused_labels, default_inputs = input_ops #<- should go here\r\n    input_alternatives[DEFAULT_INPUT_ALTERNATIVE_KEY] = default_inputs\r\n  else:\r\n    features, unused_labels = input_ops #<- this line fails\r\n```\r\nIn `InputFnOps`, it says\r\n```\r\nContents of this file are moved to tensorflow/python/estimator/export.py.\r\nInputFnOps is renamed to ServingInputReceiver.\r\nbuild_parsing_serving_input_fn is renamed to\r\n  build_parsing_serving_input_receiver_fn.\r\nbuild_default_serving_input_fn is renamed to\r\n  build_raw_serving_input_receiver_fn.\r\n```\r\n\r\nSeems the new class causes the error.\r\n```\r\nif isinstance(input_ops, input_fn_utils.InputFnOps):\r\n```\r\nshould change to something like\r\n```\r\nif isinstance(input_ops, input_fn_utils.InputFnOps) or isinstance(input_ops, export.ServingInputReceiver):\r\n```\r\n\r\nMy work around is to use `tensorflow.contrib.learn.build_parsing_serving_input_fn` instead for now."}