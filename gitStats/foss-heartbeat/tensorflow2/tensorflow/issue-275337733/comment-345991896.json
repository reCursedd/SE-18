{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/345991896", "html_url": "https://github.com/tensorflow/tensorflow/issues/14719#issuecomment-345991896", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14719", "id": 345991896, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTk5MTg5Ng==", "user": {"login": "atrah22", "id": 26916352, "node_id": "MDQ6VXNlcjI2OTE2MzUy", "avatar_url": "https://avatars0.githubusercontent.com/u/26916352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atrah22", "html_url": "https://github.com/atrah22", "followers_url": "https://api.github.com/users/atrah22/followers", "following_url": "https://api.github.com/users/atrah22/following{/other_user}", "gists_url": "https://api.github.com/users/atrah22/gists{/gist_id}", "starred_url": "https://api.github.com/users/atrah22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atrah22/subscriptions", "organizations_url": "https://api.github.com/users/atrah22/orgs", "repos_url": "https://api.github.com/users/atrah22/repos", "events_url": "https://api.github.com/users/atrah22/events{/privacy}", "received_events_url": "https://api.github.com/users/atrah22/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-21T10:59:52Z", "updated_at": "2017-11-21T10:59:52Z", "author_association": "NONE", "body_html": "<p>Thank you for the reply. <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=18041952\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/pkurogerjs\">@pkurogerjs</a><br>\nHowever, The image data is already converted to floating point in the TFLiteDemo ImageClassifier.java file</p>\n<p>\"/** Writes Image data into a {<a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/code/hovercard\" href=\"https://github.com/code\">@code</a> ByteBuffer}. */<br>\nprivate void convertBitmapToByteBuffer(Bitmap bitmap) {<br>\nif (imgData == null) {<br>\nreturn;<br>\n}<br>\nimgData.rewind();<br>\nbitmap.getPixels(intValues, 0, bitmap.getWidth(), 0, 0, bitmap.getWidth(), bitmap.getHeight());<br>\n// Convert the image to floating point.<br>\nint pixel = 0;<br>\nlong startTime = SystemClock.uptimeMillis();<br>\nfor (int i = 0; i &lt; DIM_IMG_SIZE_X; ++i) {<br>\nfor (int j = 0; j &lt; DIM_IMG_SIZE_Y; ++j) {<br>\nfinal int val = intValues[pixel++];<br>\nimgData.put((byte) ((val &gt;&gt; 16) &amp; 0xFF));<br>\nimgData.put((byte) ((val &gt;&gt; 8) &amp; 0xFF));<br>\nimgData.put((byte) (val &amp; 0xFF));<br>\n}<br>\n}<br>\n\"</p>", "body_text": "Thank you for the reply. @pkurogerjs\nHowever, The image data is already converted to floating point in the TFLiteDemo ImageClassifier.java file\n\"/** Writes Image data into a {@code ByteBuffer}. */\nprivate void convertBitmapToByteBuffer(Bitmap bitmap) {\nif (imgData == null) {\nreturn;\n}\nimgData.rewind();\nbitmap.getPixels(intValues, 0, bitmap.getWidth(), 0, 0, bitmap.getWidth(), bitmap.getHeight());\n// Convert the image to floating point.\nint pixel = 0;\nlong startTime = SystemClock.uptimeMillis();\nfor (int i = 0; i < DIM_IMG_SIZE_X; ++i) {\nfor (int j = 0; j < DIM_IMG_SIZE_Y; ++j) {\nfinal int val = intValues[pixel++];\nimgData.put((byte) ((val >> 16) & 0xFF));\nimgData.put((byte) ((val >> 8) & 0xFF));\nimgData.put((byte) (val & 0xFF));\n}\n}\n\"", "body": "Thank you for the reply. @pkurogerjs\r\nHowever, The image data is already converted to floating point in the TFLiteDemo ImageClassifier.java file\r\n\r\n\"/** Writes Image data into a {@code ByteBuffer}. */\r\n  private void convertBitmapToByteBuffer(Bitmap bitmap) {\r\n    if (imgData == null) {\r\n      return;\r\n    }\r\n    imgData.rewind();\r\n    bitmap.getPixels(intValues, 0, bitmap.getWidth(), 0, 0, bitmap.getWidth(), bitmap.getHeight());\r\n    // Convert the image to floating point.\r\n    int pixel = 0;\r\n    long startTime = SystemClock.uptimeMillis();\r\n    for (int i = 0; i < DIM_IMG_SIZE_X; ++i) {\r\n      for (int j = 0; j < DIM_IMG_SIZE_Y; ++j) {\r\n        final int val = intValues[pixel++];\r\n        imgData.put((byte) ((val >> 16) & 0xFF));\r\n        imgData.put((byte) ((val >> 8) & 0xFF));\r\n        imgData.put((byte) (val & 0xFF));\r\n      }\r\n    }\r\n\" "}