{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/346226742", "html_url": "https://github.com/tensorflow/tensorflow/issues/14719#issuecomment-346226742", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14719", "id": 346226742, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjIyNjc0Mg==", "user": {"login": "pkurogerjs", "id": 18041952, "node_id": "MDQ6VXNlcjE4MDQxOTUy", "avatar_url": "https://avatars0.githubusercontent.com/u/18041952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkurogerjs", "html_url": "https://github.com/pkurogerjs", "followers_url": "https://api.github.com/users/pkurogerjs/followers", "following_url": "https://api.github.com/users/pkurogerjs/following{/other_user}", "gists_url": "https://api.github.com/users/pkurogerjs/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkurogerjs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkurogerjs/subscriptions", "organizations_url": "https://api.github.com/users/pkurogerjs/orgs", "repos_url": "https://api.github.com/users/pkurogerjs/repos", "events_url": "https://api.github.com/users/pkurogerjs/events{/privacy}", "received_events_url": "https://api.github.com/users/pkurogerjs/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-22T02:44:02Z", "updated_at": "2017-11-22T02:44:02Z", "author_association": "NONE", "body_html": "<p>Well, I don't agree with the comment in the code. It just extract the RGB value from a pixel into 8-bit bytes.<br>\nYou can see in ImageClassifier.java that the line \"tflite.run(imgData, labelProbArray);\"  takes a 8-bit format input and a 8-bit format output tensors. You need to change both of them to 32-bit float arrays.</p>\n<p>I've successfully run the mobilenet_224 float version. the input is a 4-dim float array and the output put is a 1*num_of_label_types array.</p>\n<p>I found this problem by reading the source code in the directory org.tenslow.lite.</p>\n<p>Hope this will help you.</p>", "body_text": "Well, I don't agree with the comment in the code. It just extract the RGB value from a pixel into 8-bit bytes.\nYou can see in ImageClassifier.java that the line \"tflite.run(imgData, labelProbArray);\"  takes a 8-bit format input and a 8-bit format output tensors. You need to change both of them to 32-bit float arrays.\nI've successfully run the mobilenet_224 float version. the input is a 4-dim float array and the output put is a 1*num_of_label_types array.\nI found this problem by reading the source code in the directory org.tenslow.lite.\nHope this will help you.", "body": "Well, I don't agree with the comment in the code. It just extract the RGB value from a pixel into 8-bit bytes. \r\nYou can see in ImageClassifier.java that the line \"tflite.run(imgData, labelProbArray);\"  takes a 8-bit format input and a 8-bit format output tensors. You need to change both of them to 32-bit float arrays.\r\n\r\nI've successfully run the mobilenet_224 float version. the input is a 4-dim float array and the output put is a 1*num_of_label_types array.\r\n\r\nI found this problem by reading the source code in the directory org.tenslow.lite. \r\n\r\nHope this will help you.\r\n"}