{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/347968787", "html_url": "https://github.com/tensorflow/tensorflow/issues/14719#issuecomment-347968787", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14719", "id": 347968787, "node_id": "MDEyOklzc3VlQ29tbWVudDM0Nzk2ODc4Nw==", "user": {"login": "drricksanchez321", "id": 21011932, "node_id": "MDQ6VXNlcjIxMDExOTMy", "avatar_url": "https://avatars3.githubusercontent.com/u/21011932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drricksanchez321", "html_url": "https://github.com/drricksanchez321", "followers_url": "https://api.github.com/users/drricksanchez321/followers", "following_url": "https://api.github.com/users/drricksanchez321/following{/other_user}", "gists_url": "https://api.github.com/users/drricksanchez321/gists{/gist_id}", "starred_url": "https://api.github.com/users/drricksanchez321/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drricksanchez321/subscriptions", "organizations_url": "https://api.github.com/users/drricksanchez321/orgs", "repos_url": "https://api.github.com/users/drricksanchez321/repos", "events_url": "https://api.github.com/users/drricksanchez321/events{/privacy}", "received_events_url": "https://api.github.com/users/drricksanchez321/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-29T19:26:03Z", "updated_at": "2017-11-29T19:26:03Z", "author_association": "NONE", "body_html": "<p>I was able to get it working with inception v3 non-slim 2015 by making <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=11927324\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/kidsung\">@kidsung</a> 's changes plus:</p>\n<p>replacing the imgData.put's with:</p>\n<pre><code> imgData[0][i][j][0] = (float) ((val &gt;&gt; 16) &amp; 0xFF);\n imgData[0][i][j][1] = (float) ((val &gt;&gt; 8) &amp; 0xFF);\n imgData[0][i][j][2] = (float) (val  &amp; 0xFF);\n</code></pre>\n<p>commenting out</p>\n<pre><code>imgData.rewind();\n</code></pre>\n<p>and</p>\n<pre><code>imgData.order(ByteOrder.nativeOrder());\n</code></pre>\n<p>and modifying the declarations:</p>\n<pre><code>private float[][][][] imgData = null;\nprivate float[][] labelProbArray = null;\n</code></pre>\n<p>Additionally, I received a tensor length error for the labels, the file had 1001 and (somewhere) it expected 1008, so I filled in 7 lines of foo1, foo2, etc.</p>", "body_text": "I was able to get it working with inception v3 non-slim 2015 by making @kidsung 's changes plus:\nreplacing the imgData.put's with:\n imgData[0][i][j][0] = (float) ((val >> 16) & 0xFF);\n imgData[0][i][j][1] = (float) ((val >> 8) & 0xFF);\n imgData[0][i][j][2] = (float) (val  & 0xFF);\n\ncommenting out\nimgData.rewind();\n\nand\nimgData.order(ByteOrder.nativeOrder());\n\nand modifying the declarations:\nprivate float[][][][] imgData = null;\nprivate float[][] labelProbArray = null;\n\nAdditionally, I received a tensor length error for the labels, the file had 1001 and (somewhere) it expected 1008, so I filled in 7 lines of foo1, foo2, etc.", "body": "I was able to get it working with inception v3 non-slim 2015 by making @kidsung 's changes plus:\r\n\r\nreplacing the imgData.put's with:\r\n```\r\n imgData[0][i][j][0] = (float) ((val >> 16) & 0xFF);\r\n imgData[0][i][j][1] = (float) ((val >> 8) & 0xFF);\r\n imgData[0][i][j][2] = (float) (val  & 0xFF);\r\n```\r\ncommenting out \r\n```\r\nimgData.rewind();\r\n```\r\nand \r\n```\r\nimgData.order(ByteOrder.nativeOrder());\r\n```\r\n\r\nand modifying the declarations:\r\n```\r\nprivate float[][][][] imgData = null;\r\nprivate float[][] labelProbArray = null;\r\n```\r\n\r\nAdditionally, I received a tensor length error for the labels, the file had 1001 and (somewhere) it expected 1008, so I filled in 7 lines of foo1, foo2, etc. "}