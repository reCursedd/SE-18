{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/354971315", "html_url": "https://github.com/tensorflow/tensorflow/pull/15639#issuecomment-354971315", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15639", "id": 354971315, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDk3MTMxNQ==", "user": {"login": "freedomtan", "id": 3395998, "node_id": "MDQ6VXNlcjMzOTU5OTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3395998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/freedomtan", "html_url": "https://github.com/freedomtan", "followers_url": "https://api.github.com/users/freedomtan/followers", "following_url": "https://api.github.com/users/freedomtan/following{/other_user}", "gists_url": "https://api.github.com/users/freedomtan/gists{/gist_id}", "starred_url": "https://api.github.com/users/freedomtan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/freedomtan/subscriptions", "organizations_url": "https://api.github.com/users/freedomtan/orgs", "repos_url": "https://api.github.com/users/freedomtan/repos", "events_url": "https://api.github.com/users/freedomtan/events{/privacy}", "received_events_url": "https://api.github.com/users/freedomtan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-03T09:44:24Z", "updated_at": "2018-01-03T09:45:13Z", "author_association": "CONTRIBUTOR", "body_html": "<p>FYR. It's possible to build it successfully when \"-lpthread\" in tensorflow/core/BUILD removed (Android doesn't have libpthread), see patch <a href=\"https://github.com/freedomtan/tensorflow/commit/3f76476b5959c042e625cbfbbc8b563a7c6fd157\">here</a>. But the binary won't running on new Android devices because of protocol buffer mismatch. On my Pixel 2 running Android 8.1, I saw the following runtime error message:</p>\n<p><code>[libprotobuf FATAL external/protobuf_archive/src/google/protobuf/stubs/common.cc:79] This program was compiled against version 3.0.0 of the Protocol Buffer runtime library, which is not compatible with the installed version (3.4.0).  Contact the program author for an update.  If you compiled the program yourself, make sure that your headers are from the same version of Protocol Buffers as your link-time library.  (Version verification failed in \"out/soong/.intermediates/frameworks/av/drm/libmediadrm/libmediadrm/android_arm64_armv8-a_cortex-a73_shared_core/gen/proto/frameworks/av/drm/libmediadrm/protos/plugin_metrics.pb.cc\".)terminate called after throwing an instance of 'google::protobuf::FatalException'</code></p>\n<p>I didn't try to fix this.</p>", "body_text": "FYR. It's possible to build it successfully when \"-lpthread\" in tensorflow/core/BUILD removed (Android doesn't have libpthread), see patch here. But the binary won't running on new Android devices because of protocol buffer mismatch. On my Pixel 2 running Android 8.1, I saw the following runtime error message:\n[libprotobuf FATAL external/protobuf_archive/src/google/protobuf/stubs/common.cc:79] This program was compiled against version 3.0.0 of the Protocol Buffer runtime library, which is not compatible with the installed version (3.4.0).  Contact the program author for an update.  If you compiled the program yourself, make sure that your headers are from the same version of Protocol Buffers as your link-time library.  (Version verification failed in \"out/soong/.intermediates/frameworks/av/drm/libmediadrm/libmediadrm/android_arm64_armv8-a_cortex-a73_shared_core/gen/proto/frameworks/av/drm/libmediadrm/protos/plugin_metrics.pb.cc\".)terminate called after throwing an instance of 'google::protobuf::FatalException'\nI didn't try to fix this.", "body": "FYR. It's possible to build it successfully when \"-lpthread\" in tensorflow/core/BUILD removed (Android doesn't have libpthread), see patch [here](https://github.com/freedomtan/tensorflow/commit/3f76476b5959c042e625cbfbbc8b563a7c6fd157). But the binary won't running on new Android devices because of protocol buffer mismatch. On my Pixel 2 running Android 8.1, I saw the following runtime error message:\r\n\r\n`[libprotobuf FATAL external/protobuf_archive/src/google/protobuf/stubs/common.cc:79] This program was compiled against version 3.0.0 of the Protocol Buffer runtime library, which is not compatible with the installed version (3.4.0).  Contact the program author for an update.  If you compiled the program yourself, make sure that your headers are from the same version of Protocol Buffers as your link-time library.  (Version verification failed in \"out/soong/.intermediates/frameworks/av/drm/libmediadrm/libmediadrm/android_arm64_armv8-a_cortex-a73_shared_core/gen/proto/frameworks/av/drm/libmediadrm/protos/plugin_metrics.pb.cc\".)terminate called after throwing an instance of 'google::protobuf::FatalException'`\r\n\r\nI didn't try to fix this.\r\n  "}