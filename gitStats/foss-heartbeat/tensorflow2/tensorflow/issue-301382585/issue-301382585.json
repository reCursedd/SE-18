{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17353", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17353/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17353/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17353/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17353", "id": 301382585, "node_id": "MDU6SXNzdWUzMDEzODI1ODU=", "number": 17353, "title": "Error indices[0] = 0 is not in [0, 0) while training an object-detection model with tensorflow", "user": {"login": "valiok98", "id": 8811946, "node_id": "MDQ6VXNlcjg4MTE5NDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8811946?v=4", "gravatar_id": "", "url": "https://api.github.com/users/valiok98", "html_url": "https://github.com/valiok98", "followers_url": "https://api.github.com/users/valiok98/followers", "following_url": "https://api.github.com/users/valiok98/following{/other_user}", "gists_url": "https://api.github.com/users/valiok98/gists{/gist_id}", "starred_url": "https://api.github.com/users/valiok98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/valiok98/subscriptions", "organizations_url": "https://api.github.com/users/valiok98/orgs", "repos_url": "https://api.github.com/users/valiok98/repos", "events_url": "https://api.github.com/users/valiok98/events{/privacy}", "received_events_url": "https://api.github.com/users/valiok98/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "jch1", "id": 1811449, "node_id": "MDQ6VXNlcjE4MTE0NDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1811449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jch1", "html_url": "https://github.com/jch1", "followers_url": "https://api.github.com/users/jch1/followers", "following_url": "https://api.github.com/users/jch1/following{/other_user}", "gists_url": "https://api.github.com/users/jch1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jch1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jch1/subscriptions", "organizations_url": "https://api.github.com/users/jch1/orgs", "repos_url": "https://api.github.com/users/jch1/repos", "events_url": "https://api.github.com/users/jch1/events{/privacy}", "received_events_url": "https://api.github.com/users/jch1/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jch1", "id": 1811449, "node_id": "MDQ6VXNlcjE4MTE0NDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1811449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jch1", "html_url": "https://github.com/jch1", "followers_url": "https://api.github.com/users/jch1/followers", "following_url": "https://api.github.com/users/jch1/following{/other_user}", "gists_url": "https://api.github.com/users/jch1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jch1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jch1/subscriptions", "organizations_url": "https://api.github.com/users/jch1/orgs", "repos_url": "https://api.github.com/users/jch1/repos", "events_url": "https://api.github.com/users/jch1/events{/privacy}", "received_events_url": "https://api.github.com/users/jch1/received_events", "type": "User", "site_admin": false}, {"login": "pkulzc", "id": 35853368, "node_id": "MDQ6VXNlcjM1ODUzMzY4", "avatar_url": "https://avatars3.githubusercontent.com/u/35853368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkulzc", "html_url": "https://github.com/pkulzc", "followers_url": "https://api.github.com/users/pkulzc/followers", "following_url": "https://api.github.com/users/pkulzc/following{/other_user}", "gists_url": "https://api.github.com/users/pkulzc/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkulzc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkulzc/subscriptions", "organizations_url": "https://api.github.com/users/pkulzc/orgs", "repos_url": "https://api.github.com/users/pkulzc/repos", "events_url": "https://api.github.com/users/pkulzc/events{/privacy}", "received_events_url": "https://api.github.com/users/pkulzc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2018-03-01T12:13:09Z", "updated_at": "2018-11-11T18:39:20Z", "closed_at": null, "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.5</li>\n<li><strong>Python version</strong>:  3.6</li>\n<li><strong>Bazel version (if compiling from source)</strong>:</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:</li>\n<li><strong>CUDA/cuDNN version</strong>: 8</li>\n<li><strong>GPU model and memory</strong>:   Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8755 , 11GB</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nfloyd run --gpu --env tensorflow-1.5 --data valiok98/datasets/raspberrypi2/3:/data --data valiok98/datasets/raspberrypi2/8:/mobilenet --data valiok98/datasets/raspberrypi2/9:/images --data valiok98/datasets/raspberrypi2/10:test_ckpt 'python train.py --logtostderr --train_dir=training/ --pipeline_config_path=training/ssd_mobilenet_v1_pets.config'</li>\n</ul>\n<p>For the record I tried with previous TF versions and it did not make  a diffrence.<br>\nSo I am currently attempting to train a custom object-detection model on tensorflow to recognize images of a raspberrypi2. Everything is already set up and running on my hardware,but due to limitations of my gpu I settled for the cloud. I have uploaded my data(train &amp; test records ans csv-files) and my checkpoint model. That is what I get from the logs:</p>\n<p>tensorflow:Restoring parameters from /mobilenet/model.ckpt</p>\n<p>tensorflow:Starting Session.</p>\n<p>tensorflow:Saving checkpoint to path training/model.ckpt</p>\n<p>tensorflow:Starting Queues.</p>\n<p>tensorflow:Error reported to Coordinator: &lt;class tensorflow.python.framework.errors_impl.InvalidArgumentError'&gt;,<br>\nindices[0] = 0 is not in [0, 0)</p>\n<p>I also have a folder called images with the actual .jpg files and it is also on the cloud, but for some reason I must specify every directory with a preceeding forward slash / and that might be a problem, as I currently do not know whether some of the files are trying to import these images ,but could not find the path because of the missing /. If any of you happens to share a solution I would be really thankful.</p>\n<p>And so here are my full logs:</p>\n<p>PSTINFO:tensorflow:Restoring parameters from /mobilenet/model.ckpt<br>\nPSTINFO:tensorflow:Starting Session.<br>\nPSTINFO:tensorflow:Saving checkpoint to path training/model.ckpt<br>\nPSTINFO:tensorflow:Starting Queues.<br>\nPSTINFO:tensorflow:Error reported to Coordinator: &lt;class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'&gt;, indices[0] = 0 is not in [0, 0)<br>\nPST[[Node: cond_4/RandomCropImage/Gather = Gather[Tindices=DT_INT64, Tparams=DT_BOOL, validate_indices=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](cond_4/Switch_4:1, cond_4/RandomCropImage/PruneCompleteleyOutsideWindow/Reshape)]]<br>\nPSTINFO:tensorflow:global_step/sec: 0<br>\nPSTINFO:tensorflow:Caught OutOfRangeError. Stopping Training.<br>\nPSTINFO:tensorflow:Finished training! Saving model to disk.<br>\nPSTTraceback (most recent call last):<br>\nPSTFile \"train.py\", line 167, in <br>\nPSTtf.app.run()<br>\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 124, in run<br>\nPST_sys.exit(main(argv))<br>\nPSTFile \"train.py\", line 163, in main<br>\nPSTworker_job_name, is_chief, FLAGS.train_dir)<br>\nPSTFile \"/code/trainer.py\", line 359, in train<br>\nPSTsaver=saver)<br>\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/contrib/slim/python/slim/learning.py\", line 782, in train<br>\nPSTignore_live_threads=ignore_live_threads)<br>\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/supervisor.py\", line 826, in stop<br>\nPSTignore_live_threads=ignore_live_threads)<br>\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/coordinator.py\", line 387, in join<br>\nPSTsix.reraise(*self._exc_info_to_raise)</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary):\nTensorFlow version (use command below): 1.5\nPython version:  3.6\nBazel version (if compiling from source):\nGCC/Compiler version (if compiling from source):\nCUDA/cuDNN version: 8\nGPU model and memory:   Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8755 , 11GB\nExact command to reproduce:\nfloyd run --gpu --env tensorflow-1.5 --data valiok98/datasets/raspberrypi2/3:/data --data valiok98/datasets/raspberrypi2/8:/mobilenet --data valiok98/datasets/raspberrypi2/9:/images --data valiok98/datasets/raspberrypi2/10:test_ckpt 'python train.py --logtostderr --train_dir=training/ --pipeline_config_path=training/ssd_mobilenet_v1_pets.config'\n\nFor the record I tried with previous TF versions and it did not make  a diffrence.\nSo I am currently attempting to train a custom object-detection model on tensorflow to recognize images of a raspberrypi2. Everything is already set up and running on my hardware,but due to limitations of my gpu I settled for the cloud. I have uploaded my data(train & test records ans csv-files) and my checkpoint model. That is what I get from the logs:\ntensorflow:Restoring parameters from /mobilenet/model.ckpt\ntensorflow:Starting Session.\ntensorflow:Saving checkpoint to path training/model.ckpt\ntensorflow:Starting Queues.\ntensorflow:Error reported to Coordinator: <class tensorflow.python.framework.errors_impl.InvalidArgumentError'>,\nindices[0] = 0 is not in [0, 0)\nI also have a folder called images with the actual .jpg files and it is also on the cloud, but for some reason I must specify every directory with a preceeding forward slash / and that might be a problem, as I currently do not know whether some of the files are trying to import these images ,but could not find the path because of the missing /. If any of you happens to share a solution I would be really thankful.\nAnd so here are my full logs:\nPSTINFO:tensorflow:Restoring parameters from /mobilenet/model.ckpt\nPSTINFO:tensorflow:Starting Session.\nPSTINFO:tensorflow:Saving checkpoint to path training/model.ckpt\nPSTINFO:tensorflow:Starting Queues.\nPSTINFO:tensorflow:Error reported to Coordinator: <class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'>, indices[0] = 0 is not in [0, 0)\nPST[[Node: cond_4/RandomCropImage/Gather = Gather[Tindices=DT_INT64, Tparams=DT_BOOL, validate_indices=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](cond_4/Switch_4:1, cond_4/RandomCropImage/PruneCompleteleyOutsideWindow/Reshape)]]\nPSTINFO:tensorflow:global_step/sec: 0\nPSTINFO:tensorflow:Caught OutOfRangeError. Stopping Training.\nPSTINFO:tensorflow:Finished training! Saving model to disk.\nPSTTraceback (most recent call last):\nPSTFile \"train.py\", line 167, in \nPSTtf.app.run()\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 124, in run\nPST_sys.exit(main(argv))\nPSTFile \"train.py\", line 163, in main\nPSTworker_job_name, is_chief, FLAGS.train_dir)\nPSTFile \"/code/trainer.py\", line 359, in train\nPSTsaver=saver)\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/contrib/slim/python/slim/learning.py\", line 782, in train\nPSTignore_live_threads=ignore_live_threads)\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/supervisor.py\", line 826, in stop\nPSTignore_live_threads=ignore_live_threads)\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/coordinator.py\", line 387, in join\nPSTsix.reraise(*self._exc_info_to_raise)", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**:\r\n- **TensorFlow version (use command below)**: 1.5\r\n- **Python version**:  3.6\r\n- **Bazel version (if compiling from source)**: \r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**: 8\r\n- **GPU model and memory**:   Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8755 , 11GB\r\n- **Exact command to reproduce**: \r\nfloyd run --gpu --env tensorflow-1.5 --data valiok98/datasets/raspberrypi2/3:/data --data valiok98/datasets/raspberrypi2/8:/mobilenet --data valiok98/datasets/raspberrypi2/9:/images --data valiok98/datasets/raspberrypi2/10:test_ckpt 'python train.py --logtostderr --train_dir=training/ --pipeline_config_path=training/ssd_mobilenet_v1_pets.config'\r\n\r\nFor the record I tried with previous TF versions and it did not make  a diffrence.\r\nSo I am currently attempting to train a custom object-detection model on tensorflow to recognize images of a raspberrypi2. Everything is already set up and running on my hardware,but due to limitations of my gpu I settled for the cloud. I have uploaded my data(train & test records ans csv-files) and my checkpoint model. That is what I get from the logs:\r\n\r\ntensorflow:Restoring parameters from /mobilenet/model.ckpt\r\n\r\ntensorflow:Starting Session.\r\n\r\ntensorflow:Saving checkpoint to path training/model.ckpt\r\n\r\ntensorflow:Starting Queues.\r\n\r\ntensorflow:Error reported to Coordinator: <class tensorflow.python.framework.errors_impl.InvalidArgumentError'>,\r\nindices[0] = 0 is not in [0, 0)\r\n\r\nI also have a folder called images with the actual .jpg files and it is also on the cloud, but for some reason I must specify every directory with a preceeding forward slash / and that might be a problem, as I currently do not know whether some of the files are trying to import these images ,but could not find the path because of the missing /. If any of you happens to share a solution I would be really thankful.\r\n\r\nAnd so here are my full logs:\r\n\r\n\r\nPSTINFO:tensorflow:Restoring parameters from /mobilenet/model.ckpt\r\nPSTINFO:tensorflow:Starting Session.\r\nPSTINFO:tensorflow:Saving checkpoint to path training/model.ckpt\r\nPSTINFO:tensorflow:Starting Queues.\r\nPSTINFO:tensorflow:Error reported to Coordinator: <class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'>, indices[0] = 0 is not in [0, 0)\r\nPST[[Node: cond_4/RandomCropImage/Gather = Gather[Tindices=DT_INT64, Tparams=DT_BOOL, validate_indices=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](cond_4/Switch_4:1, cond_4/RandomCropImage/PruneCompleteleyOutsideWindow/Reshape)]]\r\nPSTINFO:tensorflow:global_step/sec: 0\r\nPSTINFO:tensorflow:Caught OutOfRangeError. Stopping Training.\r\nPSTINFO:tensorflow:Finished training! Saving model to disk.\r\nPSTTraceback (most recent call last):\r\nPSTFile \"train.py\", line 167, in <module>\r\nPSTtf.app.run()\r\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 124, in run\r\nPST_sys.exit(main(argv))\r\nPSTFile \"train.py\", line 163, in main\r\nPSTworker_job_name, is_chief, FLAGS.train_dir)\r\nPSTFile \"/code/trainer.py\", line 359, in train\r\nPSTsaver=saver)\r\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/contrib/slim/python/slim/learning.py\", line 782, in train\r\nPSTignore_live_threads=ignore_live_threads)\r\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/supervisor.py\", line 826, in stop\r\nPSTignore_live_threads=ignore_live_threads)\r\nPSTFile \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/coordinator.py\", line 387, in join\r\nPSTsix.reraise(*self._exc_info_to_raise)\r\n"}