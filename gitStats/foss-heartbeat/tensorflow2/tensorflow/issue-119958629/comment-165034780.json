{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/165034780", "html_url": "https://github.com/tensorflow/tensorflow/issues/394#issuecomment-165034780", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/394", "id": 165034780, "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTAzNDc4MA==", "user": {"login": "PeterBeukelman", "id": 11914584, "node_id": "MDQ6VXNlcjExOTE0NTg0", "avatar_url": "https://avatars2.githubusercontent.com/u/11914584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PeterBeukelman", "html_url": "https://github.com/PeterBeukelman", "followers_url": "https://api.github.com/users/PeterBeukelman/followers", "following_url": "https://api.github.com/users/PeterBeukelman/following{/other_user}", "gists_url": "https://api.github.com/users/PeterBeukelman/gists{/gist_id}", "starred_url": "https://api.github.com/users/PeterBeukelman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PeterBeukelman/subscriptions", "organizations_url": "https://api.github.com/users/PeterBeukelman/orgs", "repos_url": "https://api.github.com/users/PeterBeukelman/repos", "events_url": "https://api.github.com/users/PeterBeukelman/events{/privacy}", "received_events_url": "https://api.github.com/users/PeterBeukelman/received_events", "type": "User", "site_admin": false}, "created_at": "2015-12-16T08:47:08Z", "updated_at": "2015-12-16T08:47:08Z", "author_association": "NONE", "body_html": "<p>I think the basic mnist worked with GPU early on. But I ran into problem with word2vec visualization. Somewhere down the search to fix that, I noticed 2 different driver versions being mentioned 346 and 352. This made me think I mistakenly updated the driver and tried to revert to 346. I purged everything but after install still ended up with 352.<br>\nI also had the wrong cuda 7.5 installed initially. I have made a link from /usr/local/cuda-7.0 to /usr/local/cuda<br>\nLD_LIBRARY_PATH<br>\nLD_LIBRARY_PATH=/usr/local/cuda/lib64:/usr/local/lib/python2.7/dist-packages/tensorflow/python/:<br>\nFor bazel build, I had the problem<br>\n&lt;INFO: From Compiling tensorflow/core/kernels/cwise_op_gpu_cos.cu.cc:<br>\n&lt;In file included from third_party/gpus/cuda/include/cuda_runtime.h:62:0,<br>\n&lt;                 from :0:<br>\n&lt;third_party/gpus/cuda/include/host_config.h:105:2: error: #error -- unsupported GNU version! gcc &lt;4.10 and up are not supported!<br>\n&lt; #error -- unsupported GNU version! gcc 4.10 and up are not supported!<br>\n&lt; ^<br>\n&lt;ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output &lt;'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_cos.cu.o' was not created.<br>\n&lt;ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output &lt;'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_cos.cu.d' was not created.<br>\n&lt;ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: not all outputs were created.<br>\n&lt;ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output &lt;'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/constant_op_gpu.cu.o' was not created.<br>\n&lt;ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output &lt;'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/constant_op_gpu.cu.d' was not created.<br>\n&lt;ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: not all outputs were created.<br>\n&lt;ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output &lt;'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_ceil.cu.o' was not created.<br>\n&lt;ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output &lt;'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_ceil.cu.d' was not created.<br>\n&lt;ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: not all outputs were created.</p>\n<p>I had this before also and dug up some old version of gcc (3.4) if I use that version<br>\n&lt; gcc: unrecognized option `-no-canonical-prefixes'<br>\n&lt; gcc: .: linker input file unused because linking not done<br>\n&lt; gcc: bazel-out/local_linux-opt/genfiles: linker input file unused because linking not done<br>\n&lt; cc1plus: error: unrecognized command line option \"-iquote\"<br>\n&lt; cc1plus: error: unrecognized command line option \"-iquote\"<br>\n&lt; cc1plus: error: unrecognized command line option \"-fstack-protector\"<br>\n&lt; cc1plus: error: unrecognized command line option \"-Wno-free-nonheap-object\"<br>\n&lt; cc1plus: error: unrecognized command line option \"-Wno-builtin-macro-redefined\"<br>\n&lt; cc1plus: error: unrecognized command line option \"-std=c++11\"<br>\n&lt; cc1plus: .: No such file or directory<br>\n&lt; ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:115:1: C++ compilation of rule '//tensorflow/core:direct_session' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 59 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\n&lt; Target //tensorflow/cc:tutorials_example_trainer failed to build</p>\n<p>I recollect I made that passed before though. It ended with copying the binary.<br>\nAlso had a problem that something was looking for c++ and I had to make a link to gcc</p>", "body_text": "I think the basic mnist worked with GPU early on. But I ran into problem with word2vec visualization. Somewhere down the search to fix that, I noticed 2 different driver versions being mentioned 346 and 352. This made me think I mistakenly updated the driver and tried to revert to 346. I purged everything but after install still ended up with 352.\nI also had the wrong cuda 7.5 installed initially. I have made a link from /usr/local/cuda-7.0 to /usr/local/cuda\nLD_LIBRARY_PATH\nLD_LIBRARY_PATH=/usr/local/cuda/lib64:/usr/local/lib/python2.7/dist-packages/tensorflow/python/:\nFor bazel build, I had the problem\n<INFO: From Compiling tensorflow/core/kernels/cwise_op_gpu_cos.cu.cc:\n<In file included from third_party/gpus/cuda/include/cuda_runtime.h:62:0,\n<                 from :0:\n<third_party/gpus/cuda/include/host_config.h:105:2: error: #error -- unsupported GNU version! gcc <4.10 and up are not supported!\n< #error -- unsupported GNU version! gcc 4.10 and up are not supported!\n< ^\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_cos.cu.o' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_cos.cu.d' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: not all outputs were created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/constant_op_gpu.cu.o' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/constant_op_gpu.cu.d' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: not all outputs were created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_ceil.cu.o' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_ceil.cu.d' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: not all outputs were created.\nI had this before also and dug up some old version of gcc (3.4) if I use that version\n< gcc: unrecognized option `-no-canonical-prefixes'\n< gcc: .: linker input file unused because linking not done\n< gcc: bazel-out/local_linux-opt/genfiles: linker input file unused because linking not done\n< cc1plus: error: unrecognized command line option \"-iquote\"\n< cc1plus: error: unrecognized command line option \"-iquote\"\n< cc1plus: error: unrecognized command line option \"-fstack-protector\"\n< cc1plus: error: unrecognized command line option \"-Wno-free-nonheap-object\"\n< cc1plus: error: unrecognized command line option \"-Wno-builtin-macro-redefined\"\n< cc1plus: error: unrecognized command line option \"-std=c++11\"\n< cc1plus: .: No such file or directory\n< ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:115:1: C++ compilation of rule '//tensorflow/core:direct_session' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 59 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n< Target //tensorflow/cc:tutorials_example_trainer failed to build\nI recollect I made that passed before though. It ended with copying the binary.\nAlso had a problem that something was looking for c++ and I had to make a link to gcc", "body": "I think the basic mnist worked with GPU early on. But I ran into problem with word2vec visualization. Somewhere down the search to fix that, I noticed 2 different driver versions being mentioned 346 and 352. This made me think I mistakenly updated the driver and tried to revert to 346. I purged everything but after install still ended up with 352.\nI also had the wrong cuda 7.5 installed initially. I have made a link from /usr/local/cuda-7.0 to /usr/local/cuda\nLD_LIBRARY_PATH\nLD_LIBRARY_PATH=/usr/local/cuda/lib64:/usr/local/lib/python2.7/dist-packages/tensorflow/python/:\nFor bazel build, I had the problem \n<INFO: From Compiling tensorflow/core/kernels/cwise_op_gpu_cos.cu.cc:\n<In file included from third_party/gpus/cuda/include/cuda_runtime.h:62:0,\n<                 from <command-line>:0:\n<third_party/gpus/cuda/include/host_config.h:105:2: error: #error -- unsupported GNU version! gcc <4.10 and up are not supported!\n< #error -- unsupported GNU version! gcc 4.10 and up are not supported!\n < ^\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_cos.cu.o' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_cos.cu.d' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: not all outputs were created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/constant_op_gpu.cu.o' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/constant_op_gpu.cu.d' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: not all outputs were created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_ceil.cu.o' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: output <'tensorflow/core/_objs/gpu_kernels/tensorflow/core/kernels/cwise_op_gpu_ceil.cu.d' was not created.\n<ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:248:1: not all outputs were created.\n\nI had this before also and dug up some old version of gcc (3.4) if I use that version\n< gcc: unrecognized option `-no-canonical-prefixes'\n< gcc: .: linker input file unused because linking not done\n< gcc: bazel-out/local_linux-opt/genfiles: linker input file unused because linking not done\n< cc1plus: error: unrecognized command line option \"-iquote\"\n< cc1plus: error: unrecognized command line option \"-iquote\"\n< cc1plus: error: unrecognized command line option \"-fstack-protector\"\n< cc1plus: error: unrecognized command line option \"-Wno-free-nonheap-object\"\n< cc1plus: error: unrecognized command line option \"-Wno-builtin-macro-redefined\"\n< cc1plus: error: unrecognized command line option \"-std=c++11\"\n< cc1plus: .: No such file or directory\n< ERROR: /home/peter/tensorflow_sources/tensorflow/core/BUILD:115:1: C++ compilation of rule '//tensorflow/core:direct_session' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 59 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n< Target //tensorflow/cc:tutorials_example_trainer failed to build\n\nI recollect I made that passed before though. It ended with copying the binary.\nAlso had a problem that something was looking for c++ and I had to make a link to gcc\n"}