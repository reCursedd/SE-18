{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/438930684", "html_url": "https://github.com/tensorflow/tensorflow/issues/20905#issuecomment-438930684", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20905", "id": 438930684, "node_id": "MDEyOklzc3VlQ29tbWVudDQzODkzMDY4NA==", "user": {"login": "nicolaerosia", "id": 4127983, "node_id": "MDQ6VXNlcjQxMjc5ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4127983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicolaerosia", "html_url": "https://github.com/nicolaerosia", "followers_url": "https://api.github.com/users/nicolaerosia/followers", "following_url": "https://api.github.com/users/nicolaerosia/following{/other_user}", "gists_url": "https://api.github.com/users/nicolaerosia/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicolaerosia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicolaerosia/subscriptions", "organizations_url": "https://api.github.com/users/nicolaerosia/orgs", "repos_url": "https://api.github.com/users/nicolaerosia/repos", "events_url": "https://api.github.com/users/nicolaerosia/events{/privacy}", "received_events_url": "https://api.github.com/users/nicolaerosia/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-15T06:18:14Z", "updated_at": "2018-11-15T06:18:23Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=12561072\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Nimitz14\">@Nimitz14</a> here's how I did it after reading a couple of issues around here</p>\n<pre><code>diff --git a/tensorflow/lite/BUILD b/tensorflow/lite/BUILD\nindex be84fc5db1..fadf4069e7 100644\n--- a/tensorflow/lite/BUILD\n+++ b/tensorflow/lite/BUILD\n@@ -342,6 +342,21 @@ cc_test(\n     ],\n )\n \n+cc_binary(\n+    name = \"libtflite.so\",\n+    deps = [\n+        \"//tensorflow/lite/kernels:builtin_ops\",\n+        \"//tensorflow/lite:builtin_op_data\",\n+        \"//tensorflow/lite:framework\",\n+        \"//tensorflow/lite:schema_fbs_version\",\n+        \"//tensorflow/lite:string\",\n+        \"//tensorflow/lite:string_util\",\n+        \"//tensorflow/lite/schema:schema_fbs\",\n+\n+    ],\n+    linkshared=1\n+)\n+\n # Test the serialization of a model with optional tensors.\n \n # Model tests\n</code></pre>\n<p>You can certainly get away with less entries in <code>deps</code>.</p>\n<p>This issue along with <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"365336379\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/22643\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/22643/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/22643\">#22643</a> make the development on Android a big headache.</p>", "body_text": "@Nimitz14 here's how I did it after reading a couple of issues around here\ndiff --git a/tensorflow/lite/BUILD b/tensorflow/lite/BUILD\nindex be84fc5db1..fadf4069e7 100644\n--- a/tensorflow/lite/BUILD\n+++ b/tensorflow/lite/BUILD\n@@ -342,6 +342,21 @@ cc_test(\n     ],\n )\n \n+cc_binary(\n+    name = \"libtflite.so\",\n+    deps = [\n+        \"//tensorflow/lite/kernels:builtin_ops\",\n+        \"//tensorflow/lite:builtin_op_data\",\n+        \"//tensorflow/lite:framework\",\n+        \"//tensorflow/lite:schema_fbs_version\",\n+        \"//tensorflow/lite:string\",\n+        \"//tensorflow/lite:string_util\",\n+        \"//tensorflow/lite/schema:schema_fbs\",\n+\n+    ],\n+    linkshared=1\n+)\n+\n # Test the serialization of a model with optional tensors.\n \n # Model tests\n\nYou can certainly get away with less entries in deps.\nThis issue along with #22643 make the development on Android a big headache.", "body": "@Nimitz14 here's how I did it after reading a couple of issues around here\r\n```\r\ndiff --git a/tensorflow/lite/BUILD b/tensorflow/lite/BUILD\r\nindex be84fc5db1..fadf4069e7 100644\r\n--- a/tensorflow/lite/BUILD\r\n+++ b/tensorflow/lite/BUILD\r\n@@ -342,6 +342,21 @@ cc_test(\r\n     ],\r\n )\r\n \r\n+cc_binary(\r\n+    name = \"libtflite.so\",\r\n+    deps = [\r\n+        \"//tensorflow/lite/kernels:builtin_ops\",\r\n+        \"//tensorflow/lite:builtin_op_data\",\r\n+        \"//tensorflow/lite:framework\",\r\n+        \"//tensorflow/lite:schema_fbs_version\",\r\n+        \"//tensorflow/lite:string\",\r\n+        \"//tensorflow/lite:string_util\",\r\n+        \"//tensorflow/lite/schema:schema_fbs\",\r\n+\r\n+    ],\r\n+    linkshared=1\r\n+)\r\n+\r\n # Test the serialization of a model with optional tensors.\r\n \r\n # Model tests\r\n```\r\nYou can certainly get away with less entries in `deps`.\r\n\r\nThis issue along with #22643 make the development on Android a big headache. "}