{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/271934860", "html_url": "https://github.com/tensorflow/tensorflow/issues/6749#issuecomment-271934860", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6749", "id": 271934860, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTkzNDg2MA==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-11T17:30:56Z", "updated_at": "2017-01-11T17:30:56Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Looks like the problem is in <code>array_ops._normalize_sparse_shape()</code>. It converts its argument to a tensor, which for a list of Python <code>int</code> values will result in a <code>tf.int32</code> tensor. I suspect the correct answer is to add a <code>dtype=dtypes.int64</code> to the <code>ops.convert_to_tensor()</code> call, but since there doesn't appear to be any unit test for this I'll defer to <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=175486\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ilblackdragon\">@ilblackdragon</a>, who originally added that function.</p>", "body_text": "Looks like the problem is in array_ops._normalize_sparse_shape(). It converts its argument to a tensor, which for a list of Python int values will result in a tf.int32 tensor. I suspect the correct answer is to add a dtype=dtypes.int64 to the ops.convert_to_tensor() call, but since there doesn't appear to be any unit test for this I'll defer to @ilblackdragon, who originally added that function.", "body": "Looks like the problem is in `array_ops._normalize_sparse_shape()`. It converts its argument to a tensor, which for a list of Python `int` values will result in a `tf.int32` tensor. I suspect the correct answer is to add a `dtype=dtypes.int64` to the `ops.convert_to_tensor()` call, but since there doesn't appear to be any unit test for this I'll defer to @ilblackdragon, who originally added that function."}