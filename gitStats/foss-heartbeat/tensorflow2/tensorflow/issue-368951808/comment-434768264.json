{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/434768264", "html_url": "https://github.com/tensorflow/tensorflow/issues/22887#issuecomment-434768264", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22887", "id": 434768264, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDc2ODI2NA==", "user": {"login": "samikama", "id": 10539540, "node_id": "MDQ6VXNlcjEwNTM5NTQw", "avatar_url": "https://avatars0.githubusercontent.com/u/10539540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samikama", "html_url": "https://github.com/samikama", "followers_url": "https://api.github.com/users/samikama/followers", "following_url": "https://api.github.com/users/samikama/following{/other_user}", "gists_url": "https://api.github.com/users/samikama/gists{/gist_id}", "starred_url": "https://api.github.com/users/samikama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samikama/subscriptions", "organizations_url": "https://api.github.com/users/samikama/orgs", "repos_url": "https://api.github.com/users/samikama/repos", "events_url": "https://api.github.com/users/samikama/events{/privacy}", "received_events_url": "https://api.github.com/users/samikama/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-31T17:04:01Z", "updated_at": "2018-10-31T17:04:01Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1198833\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/qiaohaijun\">@qiaohaijun</a> , logs above seem correct to me. TRT optimization pass should not be run on function objects in the graph but current infrastructure runs all configured optimizers on all graph components thus TRT optimization pass is printing a warning about it. I don' t think problem is related with TFTRT or specific to conversion of a TRT optimized graph. It is more likely to be due to you conversion scripts ability to handle function objects in the graph. I expect it to fail similarly when more functional ops introduced in to the graphs. Perhaps you can try asking in TFServing forums, or you can take a look at <a href=\"https://github.com/NVIDIA/dl-inference-server\">https://github.com/NVIDIA/dl-inference-server</a> which is similar and support TRT optimized graphs.</p>", "body_text": "@qiaohaijun , logs above seem correct to me. TRT optimization pass should not be run on function objects in the graph but current infrastructure runs all configured optimizers on all graph components thus TRT optimization pass is printing a warning about it. I don' t think problem is related with TFTRT or specific to conversion of a TRT optimized graph. It is more likely to be due to you conversion scripts ability to handle function objects in the graph. I expect it to fail similarly when more functional ops introduced in to the graphs. Perhaps you can try asking in TFServing forums, or you can take a look at https://github.com/NVIDIA/dl-inference-server which is similar and support TRT optimized graphs.", "body": "@qiaohaijun , logs above seem correct to me. TRT optimization pass should not be run on function objects in the graph but current infrastructure runs all configured optimizers on all graph components thus TRT optimization pass is printing a warning about it. I don' t think problem is related with TFTRT or specific to conversion of a TRT optimized graph. It is more likely to be due to you conversion scripts ability to handle function objects in the graph. I expect it to fail similarly when more functional ops introduced in to the graphs. Perhaps you can try asking in TFServing forums, or you can take a look at https://github.com/NVIDIA/dl-inference-server which is similar and support TRT optimized graphs."}