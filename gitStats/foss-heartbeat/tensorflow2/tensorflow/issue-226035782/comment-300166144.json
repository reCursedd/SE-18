{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/300166144", "html_url": "https://github.com/tensorflow/tensorflow/issues/9634#issuecomment-300166144", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9634", "id": 300166144, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDE2NjE0NA==", "user": {"login": "fvisin", "id": 4639261, "node_id": "MDQ6VXNlcjQ2MzkyNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/4639261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fvisin", "html_url": "https://github.com/fvisin", "followers_url": "https://api.github.com/users/fvisin/followers", "following_url": "https://api.github.com/users/fvisin/following{/other_user}", "gists_url": "https://api.github.com/users/fvisin/gists{/gist_id}", "starred_url": "https://api.github.com/users/fvisin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fvisin/subscriptions", "organizations_url": "https://api.github.com/users/fvisin/orgs", "repos_url": "https://api.github.com/users/fvisin/repos", "events_url": "https://api.github.com/users/fvisin/events{/privacy}", "received_events_url": "https://api.github.com/users/fvisin/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-09T13:36:53Z", "updated_at": "2017-05-09T13:36:53Z", "author_association": "NONE", "body_html": "<p>I confirm that the issue is solved for me with the modifications suggested in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"226035782\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9634\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/9634/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/9634#issue-226035782\">#9634 (comment)</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"226035782\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9634\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/9634/hovercard?comment_id=299503115&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/9634#issuecomment-299503115\">#9634 (comment)</a>, namely:</p>\n<ol>\n<li>In <code>/tensorflow/blob/master/third_party/gpus/cuda_configure.bzl#L877</code><br>\nchange:\n<div class=\"highlight highlight-source-python\"><pre>genrules.append(_symlink_genrule_for_dir(repository_ctx, <span class=\"pl-c1\">None</span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>cudnn-include<span class=\"pl-pds\">\"</span></span>, [cudnn_header_dir <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/cudnn.h<span class=\"pl-pds\">\"</span></span>], [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>include/cudnn.h<span class=\"pl-pds\">\"</span></span>]))</pre></div>\nto\n<div class=\"highlight highlight-source-python\"><pre>genrules.append(_symlink_genrule_for_dir(repository_ctx, <span class=\"pl-c1\">None</span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>cudnn-include<span class=\"pl-pds\">\"</span></span>, [cudnn_header_dir <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/cudnn.h<span class=\"pl-pds\">\"</span></span>], [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>cudnn.h<span class=\"pl-pds\">\"</span></span>]))</pre></div>\n</li>\n<li>In <code>tensorflow/stream_executor/cuda/cuda_dnn.cc</code><br>\nchange:<br>\n<code>#include \"cuda/include/cudnn.h\"</code><br>\nto:<br>\n<code>#include \"cuda/cudnn.h\"</code></li>\n</ol>", "body_text": "I confirm that the issue is solved for me with the modifications suggested in #9634 (comment) and #9634 (comment), namely:\n\nIn /tensorflow/blob/master/third_party/gpus/cuda_configure.bzl#L877\nchange:\ngenrules.append(_symlink_genrule_for_dir(repository_ctx, None, \"\",\n        \"cudnn-include\", [cudnn_header_dir + \"/cudnn.h\"], [\"include/cudnn.h\"]))\nto\ngenrules.append(_symlink_genrule_for_dir(repository_ctx, None, \"\",\n        \"cudnn-include\", [cudnn_header_dir + \"/cudnn.h\"], [\"cudnn.h\"]))\n\nIn tensorflow/stream_executor/cuda/cuda_dnn.cc\nchange:\n#include \"cuda/include/cudnn.h\"\nto:\n#include \"cuda/cudnn.h\"", "body": "I confirm that the issue is solved for me with the modifications suggested in https://github.com/tensorflow/tensorflow/issues/9634#issue-226035782 and https://github.com/tensorflow/tensorflow/issues/9634#issuecomment-299503115, namely:\r\n\r\n1. In `/tensorflow/blob/master/third_party/gpus/cuda_configure.bzl#L877`\r\n    change:\r\n    ```python\r\n    genrules.append(_symlink_genrule_for_dir(repository_ctx, None, \"\",\r\n            \"cudnn-include\", [cudnn_header_dir + \"/cudnn.h\"], [\"include/cudnn.h\"]))\r\n    ```\r\n    to\r\n    ``` python\r\n    genrules.append(_symlink_genrule_for_dir(repository_ctx, None, \"\",\r\n            \"cudnn-include\", [cudnn_header_dir + \"/cudnn.h\"], [\"cudnn.h\"]))\r\n    ```\r\n2. In `tensorflow/stream_executor/cuda/cuda_dnn.cc`\r\n    change:\r\n    `#include \"cuda/include/cudnn.h\"`\r\n    to:\r\n    `#include \"cuda/cudnn.h\"`"}