{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/408580167", "html_url": "https://github.com/tensorflow/tensorflow/issues/18492#issuecomment-408580167", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18492", "id": 408580167, "node_id": "MDEyOklzc3VlQ29tbWVudDQwODU4MDE2Nw==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-28T03:48:36Z", "updated_at": "2018-07-28T03:48:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Issue 1: It looks like you need a <code>with tf.device(\"/job:worker/task:%d\" % FLAGS.task_index):</code> around the code that creates the reader to prevent it from being placed on the PS task. Or you could just move it inside the existing <code>with tf.device(tf.train.replica_device_setter(...)):</code> block.</p>\n<p>Issue 2: The typical cause of an error like this is that the two workers don't agree on where the variables are placed. You might try printing the list of all variables and comparing their <code>device</code> property.</p>", "body_text": "Issue 1: It looks like you need a with tf.device(\"/job:worker/task:%d\" % FLAGS.task_index): around the code that creates the reader to prevent it from being placed on the PS task. Or you could just move it inside the existing with tf.device(tf.train.replica_device_setter(...)): block.\nIssue 2: The typical cause of an error like this is that the two workers don't agree on where the variables are placed. You might try printing the list of all variables and comparing their device property.", "body": "Issue 1: It looks like you need a `with tf.device(\"/job:worker/task:%d\" % FLAGS.task_index):` around the code that creates the reader to prevent it from being placed on the PS task. Or you could just move it inside the existing `with tf.device(tf.train.replica_device_setter(...)):` block.\r\n\r\nIssue 2: The typical cause of an error like this is that the two workers don't agree on where the variables are placed. You might try printing the list of all variables and comparing their `device` property."}