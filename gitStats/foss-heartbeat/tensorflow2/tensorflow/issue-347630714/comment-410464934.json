{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/410464934", "html_url": "https://github.com/tensorflow/tensorflow/issues/21383#issuecomment-410464934", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21383", "id": 410464934, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDQ2NDkzNA==", "user": {"login": "LZDSJTU", "id": 26487212, "node_id": "MDQ6VXNlcjI2NDg3MjEy", "avatar_url": "https://avatars3.githubusercontent.com/u/26487212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LZDSJTU", "html_url": "https://github.com/LZDSJTU", "followers_url": "https://api.github.com/users/LZDSJTU/followers", "following_url": "https://api.github.com/users/LZDSJTU/following{/other_user}", "gists_url": "https://api.github.com/users/LZDSJTU/gists{/gist_id}", "starred_url": "https://api.github.com/users/LZDSJTU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LZDSJTU/subscriptions", "organizations_url": "https://api.github.com/users/LZDSJTU/orgs", "repos_url": "https://api.github.com/users/LZDSJTU/repos", "events_url": "https://api.github.com/users/LZDSJTU/events{/privacy}", "received_events_url": "https://api.github.com/users/LZDSJTU/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-04T17:27:04Z", "updated_at": "2018-08-04T17:27:04Z", "author_association": "NONE", "body_html": "<p>I use tf_record to record my data and label. However, I also want to use a random input which cannot be recorded by tf_record. Usually, in old tensorflow version, we can use the following code:</p>\n<p>image = tf.placeholder(tf.float32, shape=(None, height,width,3))<br>\nindices = tf.placeholder(tf.float32, shape=(None, height,width))<br>\nimage_filter = tf.gather_nd(image, indices)<br>\nAnd here, the indices will be fed a value of</p>\n<p>indice = np.random.rand()<br>\nwhich is changeable and cannot be recorded before training. If using `</p>\n<p>sess.run(......., feed_dict = {.......,'indices':indice})<br>\nthis can be very easy to feed the indices.</p>\n<p>However, I do not know how to implement this while using estimator.train as I do not know where to add the definition of indices and where to feed it into the network.</p>", "body_text": "I use tf_record to record my data and label. However, I also want to use a random input which cannot be recorded by tf_record. Usually, in old tensorflow version, we can use the following code:\nimage = tf.placeholder(tf.float32, shape=(None, height,width,3))\nindices = tf.placeholder(tf.float32, shape=(None, height,width))\nimage_filter = tf.gather_nd(image, indices)\nAnd here, the indices will be fed a value of\nindice = np.random.rand()\nwhich is changeable and cannot be recorded before training. If using `\nsess.run(......., feed_dict = {.......,'indices':indice})\nthis can be very easy to feed the indices.\nHowever, I do not know how to implement this while using estimator.train as I do not know where to add the definition of indices and where to feed it into the network.", "body": " I use tf_record to record my data and label. However, I also want to use a random input which cannot be recorded by tf_record. Usually, in old tensorflow version, we can use the following code:\r\n\r\nimage = tf.placeholder(tf.float32, shape=(None, height,width,3))\r\nindices = tf.placeholder(tf.float32, shape=(None, height,width))\r\nimage_filter = tf.gather_nd(image, indices)\r\nAnd here, the indices will be fed a value of\r\n\r\nindice = np.random.rand()\r\nwhich is changeable and cannot be recorded before training. If using `\r\n\r\nsess.run(......., feed_dict = {.......,'indices':indice})\r\nthis can be very easy to feed the indices.\r\n\r\nHowever, I do not know how to implement this while using estimator.train as I do not know where to add the definition of indices and where to feed it into the network."}