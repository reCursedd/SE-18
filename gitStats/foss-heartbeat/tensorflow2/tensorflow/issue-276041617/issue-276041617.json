{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14793", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14793/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14793/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14793/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14793", "id": 276041617, "node_id": "MDU6SXNzdWUyNzYwNDE2MTc=", "number": 14793, "title": "[feature request] custom GraphKeys QUEUE_RUNNERS for input pipeline", "user": {"login": "automateljw", "id": 5774705, "node_id": "MDQ6VXNlcjU3NzQ3MDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/5774705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/automateljw", "html_url": "https://github.com/automateljw", "followers_url": "https://api.github.com/users/automateljw/followers", "following_url": "https://api.github.com/users/automateljw/following{/other_user}", "gists_url": "https://api.github.com/users/automateljw/gists{/gist_id}", "starred_url": "https://api.github.com/users/automateljw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/automateljw/subscriptions", "organizations_url": "https://api.github.com/users/automateljw/orgs", "repos_url": "https://api.github.com/users/automateljw/repos", "events_url": "https://api.github.com/users/automateljw/events{/privacy}", "received_events_url": "https://api.github.com/users/automateljw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-22T11:55:21Z", "updated_at": "2017-12-19T08:09:40Z", "closed_at": "2017-12-19T08:09:40Z", "author_association": "NONE", "body_html": "<h1>i find no perfect answer about using input pipeline to train and eval in same Session</h1>\n<h1>[switch input pipeline at stackoverflow](eg: <a href=\"https://stackoverflow.com/questions/41162955/tensorflow-queues-switching-between-train-and-validation-data\" rel=\"nofollow\">https://stackoverflow.com/questions/41162955/tensorflow-queues-switching-between-train-and-validation-data</a>)</h1>\n<p>if we define different input pipeline for train and eval,  the following code will start both train and eval input pipeline, that is not we want</p>\n<pre><code>    coord = tf.train.Coordinator()\n    threads = tf.train.start_queue_runners(sess=sess, coord=coord)\n</code></pre>\n<p>if we can custom GraphKeys.QUEUE_RUNNERS  collection for different input pipeline , i think we can start input pipeline through parameter of collection.<br>\n<code>    tf.train.add_queue_runner(qr, collection=tf.GraphKeys.QUEUE_RUNNERS)</code><br>\n<code>   eg: tf.train.add_queue_runner(qr, collection=tf.GraphKeys.TRAIN_QUEUE_RUNNERS)</code><br>\n<code>   eg: tf.train.add_queue_runner(qr, collection=tf.GraphKeys.EVAL_QUEUE_RUNNERS)</code><br>\nis it right ?<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a>  <a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/ALL/hovercard\" href=\"https://github.com/ALL\">@ALL</a><br>\nthanks</p>", "body_text": "i find no perfect answer about using input pipeline to train and eval in same Session\n[switch input pipeline at stackoverflow](eg: https://stackoverflow.com/questions/41162955/tensorflow-queues-switching-between-train-and-validation-data)\nif we define different input pipeline for train and eval,  the following code will start both train and eval input pipeline, that is not we want\n    coord = tf.train.Coordinator()\n    threads = tf.train.start_queue_runners(sess=sess, coord=coord)\n\nif we can custom GraphKeys.QUEUE_RUNNERS  collection for different input pipeline , i think we can start input pipeline through parameter of collection.\n    tf.train.add_queue_runner(qr, collection=tf.GraphKeys.QUEUE_RUNNERS)\n   eg: tf.train.add_queue_runner(qr, collection=tf.GraphKeys.TRAIN_QUEUE_RUNNERS)\n   eg: tf.train.add_queue_runner(qr, collection=tf.GraphKeys.EVAL_QUEUE_RUNNERS)\nis it right ?\n@mrry  @ALL\nthanks", "body": "i find no perfect answer about using input pipeline to train and eval in same Session\r\n===========\r\n[switch input pipeline at stackoverflow](eg: https://stackoverflow.com/questions/41162955/tensorflow-queues-switching-between-train-and-validation-data)\r\n===========\r\nif we define different input pipeline for train and eval,  the following code will start both train and eval input pipeline, that is not we want\r\n```\r\n    coord = tf.train.Coordinator()\r\n    threads = tf.train.start_queue_runners(sess=sess, coord=coord)\r\n```\r\nif we can custom GraphKeys.QUEUE_RUNNERS  collection for different input pipeline , i think we can start input pipeline through parameter of collection.\r\n`    tf.train.add_queue_runner(qr, collection=tf.GraphKeys.QUEUE_RUNNERS)`\r\n`   eg: tf.train.add_queue_runner(qr, collection=tf.GraphKeys.TRAIN_QUEUE_RUNNERS)`\r\n`   eg: tf.train.add_queue_runner(qr, collection=tf.GraphKeys.EVAL_QUEUE_RUNNERS)`\r\nis it right ?  \r\n@mrry  @all \r\nthanks "}