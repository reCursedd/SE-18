{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22414", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22414/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22414/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22414/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22414", "id": 362183669, "node_id": "MDU6SXNzdWUzNjIxODM2Njk=", "number": 22414, "title": "CUDNN_STATUS_ALLOC_FAILED", "user": {"login": "alanpurple", "id": 4515120, "node_id": "MDQ6VXNlcjQ1MTUxMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/4515120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alanpurple", "html_url": "https://github.com/alanpurple", "followers_url": "https://api.github.com/users/alanpurple/followers", "following_url": "https://api.github.com/users/alanpurple/following{/other_user}", "gists_url": "https://api.github.com/users/alanpurple/gists{/gist_id}", "starred_url": "https://api.github.com/users/alanpurple/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alanpurple/subscriptions", "organizations_url": "https://api.github.com/users/alanpurple/orgs", "repos_url": "https://api.github.com/users/alanpurple/repos", "events_url": "https://api.github.com/users/alanpurple/events{/privacy}", "received_events_url": "https://api.github.com/users/alanpurple/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "tfboyd", "id": 23486130, "node_id": "MDQ6VXNlcjIzNDg2MTMw", "avatar_url": "https://avatars1.githubusercontent.com/u/23486130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tfboyd", "html_url": "https://github.com/tfboyd", "followers_url": "https://api.github.com/users/tfboyd/followers", "following_url": "https://api.github.com/users/tfboyd/following{/other_user}", "gists_url": "https://api.github.com/users/tfboyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tfboyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tfboyd/subscriptions", "organizations_url": "https://api.github.com/users/tfboyd/orgs", "repos_url": "https://api.github.com/users/tfboyd/repos", "events_url": "https://api.github.com/users/tfboyd/events{/privacy}", "received_events_url": "https://api.github.com/users/tfboyd/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tfboyd", "id": 23486130, "node_id": "MDQ6VXNlcjIzNDg2MTMw", "avatar_url": "https://avatars1.githubusercontent.com/u/23486130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tfboyd", "html_url": "https://github.com/tfboyd", "followers_url": "https://api.github.com/users/tfboyd/followers", "following_url": "https://api.github.com/users/tfboyd/following{/other_user}", "gists_url": "https://api.github.com/users/tfboyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tfboyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tfboyd/subscriptions", "organizations_url": "https://api.github.com/users/tfboyd/orgs", "repos_url": "https://api.github.com/users/tfboyd/repos", "events_url": "https://api.github.com/users/tfboyd/events{/privacy}", "received_events_url": "https://api.github.com/users/tfboyd/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-09-20T13:18:33Z", "updated_at": "2018-09-26T15:39:10Z", "closed_at": "2018-09-26T15:39:10Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: no, it's on examples/tutorial/mnist,  mnist_deep.py</li>\n<li><strong>Bazel version</strong>: N/A</li>\n<li><strong>Mobile device</strong>: N/A</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: windows 10 x64 latest build</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: binary prebuilt</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.11.0rc1</li>\n<li><strong>Python version</strong>: 3.6.6</li>\n<li><strong>CUDA/cuDNN version</strong>: 9.0/7.2.1</li>\n<li><strong>GPU model and memory</strong>: GTX1050Ti GDDR5 4GB</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<ol>\n<li>\n<p>python mnist_deep.py<br>\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:353] Could not create cudnn handle: CUDNN_STATUS_ALLOC_FAILED</p>\n</li>\n<li>\n<p>other codes are fine-working as before</p>\n</li>\n<li>\n<p>no problem with my laptop, which has geforce mx150 GDDR5 2GB</p>\n</li>\n</ol>\n<p>all this happens after I installed geforce driver 411.63</p>\n<h3>Source code / logs</h3>\n<p>PS D:\\VSWorkspace\\tensorflow\\tensorflow\\examples\\tutorials\\mnist&gt; python .\\mnist_deep.py<br>\nWARNING:tensorflow:From .\\mnist_deep.py:130: read_data_sets (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future version.<br>\nInstructions for updating:<br>\nPlease use alternatives such as official/mnist/dataset.py from tensorflow/models.<br>\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:260: maybe_download (from tensorflow.contrib.learn.python.learn.datasets.base) is deprecated and will be removed in a future versi<br>\non.<br>\nInstructions for updating:<br>\nPlease write your own downloading logic.<br>\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:262: extract_images (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future vers<br>\nion.<br>\nInstructions for updating:<br>\nPlease use tf.data to implement this functionality.<br>\nExtracting /tmp/tensorflow/mnist/input_data\\train-images-idx3-ubyte.gz<br>\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:267: extract_labels (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future vers<br>\nion.<br>\nInstructions for updating:<br>\nPlease use tf.data to implement this functionality.<br>\nExtracting /tmp/tensorflow/mnist/input_data\\train-labels-idx1-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-images-idx3-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-labels-idx1-ubyte.gz<br>\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:290: DataSet.<strong>init</strong> (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future ve<br>\nrsion.<br>\nInstructions for updating:<br>\nPlease use alternatives such as official/mnist/dataset.py from tensorflow/models.<br>\nSaving graph to: C:\\Users\\alanp\\AppData\\Local\\Temp\\tmpxpinc32v<br>\n2018-09-20 22:10:32.455130: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2<br>\n2018-09-20 22:10:32.641187: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1411] Found device 0 with properties:<br>\nname: GeForce GTX 1050 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.4175<br>\npciBusID: 0000:01:00.0<br>\ntotalMemory: 4.00GiB freeMemory: 3.30GiB<br>\n2018-09-20 22:10:32.659090: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1490] Adding visible gpu devices: 0<br>\n2018-09-20 22:10:33.556406: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] Device interconnect StreamExecutor with strength 1 edge matrix:<br>\n2018-09-20 22:10:33.565294: I tensorflow/core/common_runtime/gpu/gpu_device.cc:977]      0<br>\n2018-09-20 22:10:33.571150: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990] 0:   N<br>\n2018-09-20 22:10:33.578487: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1103] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 3013 MB memory) -&gt; physical GPU (device: 0, name: GeForce GTX 1050 Ti, pci bus<br>\nid: 0000:01:00.0, compute capability: 6.1)<br>\n2018-09-20 22:10:36.376573: E tensorflow/stream_executor/cuda/cuda_dnn.cc:353] Could not create cudnn handle: CUDNN_STATUS_ALLOC_FAILED</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): no, it's on examples/tutorial/mnist,  mnist_deep.py\nBazel version: N/A\nMobile device: N/A\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): windows 10 x64 latest build\nTensorFlow installed from (source or binary): binary prebuilt\nTensorFlow version (use command below): 1.11.0rc1\nPython version: 3.6.6\nCUDA/cuDNN version: 9.0/7.2.1\nGPU model and memory: GTX1050Ti GDDR5 4GB\nExact command to reproduce:\n\n\n\npython mnist_deep.py\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:353] Could not create cudnn handle: CUDNN_STATUS_ALLOC_FAILED\n\n\nother codes are fine-working as before\n\n\nno problem with my laptop, which has geforce mx150 GDDR5 2GB\n\n\nall this happens after I installed geforce driver 411.63\nSource code / logs\nPS D:\\VSWorkspace\\tensorflow\\tensorflow\\examples\\tutorials\\mnist> python .\\mnist_deep.py\nWARNING:tensorflow:From .\\mnist_deep.py:130: read_data_sets (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future version.\nInstructions for updating:\nPlease use alternatives such as official/mnist/dataset.py from tensorflow/models.\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:260: maybe_download (from tensorflow.contrib.learn.python.learn.datasets.base) is deprecated and will be removed in a future versi\non.\nInstructions for updating:\nPlease write your own downloading logic.\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:262: extract_images (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future vers\nion.\nInstructions for updating:\nPlease use tf.data to implement this functionality.\nExtracting /tmp/tensorflow/mnist/input_data\\train-images-idx3-ubyte.gz\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:267: extract_labels (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future vers\nion.\nInstructions for updating:\nPlease use tf.data to implement this functionality.\nExtracting /tmp/tensorflow/mnist/input_data\\train-labels-idx1-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-labels-idx1-ubyte.gz\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:290: DataSet.init (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future ve\nrsion.\nInstructions for updating:\nPlease use alternatives such as official/mnist/dataset.py from tensorflow/models.\nSaving graph to: C:\\Users\\alanp\\AppData\\Local\\Temp\\tmpxpinc32v\n2018-09-20 22:10:32.455130: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\n2018-09-20 22:10:32.641187: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1411] Found device 0 with properties:\nname: GeForce GTX 1050 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.4175\npciBusID: 0000:01:00.0\ntotalMemory: 4.00GiB freeMemory: 3.30GiB\n2018-09-20 22:10:32.659090: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1490] Adding visible gpu devices: 0\n2018-09-20 22:10:33.556406: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-09-20 22:10:33.565294: I tensorflow/core/common_runtime/gpu/gpu_device.cc:977]      0\n2018-09-20 22:10:33.571150: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990] 0:   N\n2018-09-20 22:10:33.578487: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1103] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 3013 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1050 Ti, pci bus\nid: 0000:01:00.0, compute capability: 6.1)\n2018-09-20 22:10:36.376573: E tensorflow/stream_executor/cuda/cuda_dnn.cc:353] Could not create cudnn handle: CUDNN_STATUS_ALLOC_FAILED", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: no, it's on examples/tutorial/mnist,  mnist_deep.py\r\n- **Bazel version**: N/A\r\n- **Mobile device**: N/A\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: windows 10 x64 latest build\r\n- **TensorFlow installed from (source or binary)**: binary prebuilt \r\n- **TensorFlow version (use command below)**: 1.11.0rc1\r\n- **Python version**: 3.6.6\r\n- **CUDA/cuDNN version**: 9.0/7.2.1\r\n- **GPU model and memory**: GTX1050Ti GDDR5 4GB\r\n- **Exact command to reproduce**: \r\n1. python mnist_deep.py\r\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:353] Could not create cudnn handle: CUDNN_STATUS_ALLOC_FAILED\r\n\r\n2. other codes are fine-working as before\r\n\r\n3. no problem with my laptop, which has geforce mx150 GDDR5 2GB\r\n\r\n\r\nall this happens after I installed geforce driver 411.63\r\n\r\n### Source code / logs\r\nPS D:\\VSWorkspace\\tensorflow\\tensorflow\\examples\\tutorials\\mnist> python .\\mnist_deep.py\r\nWARNING:tensorflow:From .\\mnist_deep.py:130: read_data_sets (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease use alternatives such as official/mnist/dataset.py from tensorflow/models.\r\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:260: maybe_download (from tensorflow.contrib.learn.python.learn.datasets.base) is deprecated and will be removed in a future versi\r\non.\r\nInstructions for updating:\r\nPlease write your own downloading logic.\r\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:262: extract_images (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future vers\r\nion.\r\nInstructions for updating:\r\nPlease use tf.data to implement this functionality.\r\nExtracting /tmp/tensorflow/mnist/input_data\\train-images-idx3-ubyte.gz\r\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:267: extract_labels (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future vers\r\nion.\r\nInstructions for updating:\r\nPlease use tf.data to implement this functionality.\r\nExtracting /tmp/tensorflow/mnist/input_data\\train-labels-idx1-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-labels-idx1-ubyte.gz\r\nWARNING:tensorflow:From C:\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\datasets\\mnist.py:290: DataSet.__init__ (from tensorflow.contrib.learn.python.learn.datasets.mnist) is deprecated and will be removed in a future ve\r\nrsion.\r\nInstructions for updating:\r\nPlease use alternatives such as official/mnist/dataset.py from tensorflow/models.\r\nSaving graph to: C:\\Users\\alanp\\AppData\\Local\\Temp\\tmpxpinc32v\r\n2018-09-20 22:10:32.455130: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\r\n2018-09-20 22:10:32.641187: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1411] Found device 0 with properties:\r\nname: GeForce GTX 1050 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.4175\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 4.00GiB freeMemory: 3.30GiB\r\n2018-09-20 22:10:32.659090: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1490] Adding visible gpu devices: 0\r\n2018-09-20 22:10:33.556406: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-09-20 22:10:33.565294: I tensorflow/core/common_runtime/gpu/gpu_device.cc:977]      0\r\n2018-09-20 22:10:33.571150: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990] 0:   N\r\n2018-09-20 22:10:33.578487: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1103] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 3013 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1050 Ti, pci bus\r\nid: 0000:01:00.0, compute capability: 6.1)\r\n2018-09-20 22:10:36.376573: E tensorflow/stream_executor/cuda/cuda_dnn.cc:353] Could not create cudnn handle: CUDNN_STATUS_ALLOC_FAILED"}