{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14226", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14226/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14226/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14226/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14226", "id": 271073910, "node_id": "MDU6SXNzdWUyNzEwNzM5MTA=", "number": 14226, "title": "decode_image resize_images workflow does not work", "user": {"login": "dcunhas", "id": 5341440, "node_id": "MDQ6VXNlcjUzNDE0NDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/5341440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcunhas", "html_url": "https://github.com/dcunhas", "followers_url": "https://api.github.com/users/dcunhas/followers", "following_url": "https://api.github.com/users/dcunhas/following{/other_user}", "gists_url": "https://api.github.com/users/dcunhas/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcunhas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcunhas/subscriptions", "organizations_url": "https://api.github.com/users/dcunhas/orgs", "repos_url": "https://api.github.com/users/dcunhas/repos", "events_url": "https://api.github.com/users/dcunhas/events{/privacy}", "received_events_url": "https://api.github.com/users/dcunhas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-11-03T18:27:06Z", "updated_at": "2018-10-23T17:12:11Z", "closed_at": "2017-12-22T20:12:36Z", "author_association": "CONTRIBUTOR", "body_html": "<hr>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: ('v1.3.0-rc2-20-g0787eee', '1.3.0')</li>\n<li><strong>Python version</strong>: 2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>:</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:</li>\n<li><strong>CUDA/cuDNN version</strong>:</li>\n<li><strong>GPU model and memory</strong>:</li>\n<li><strong>Exact command to reproduce</strong>: Performing <code>resize_images</code> with output of <code>decode_image</code></li>\n</ul>\n<h3>Describe the problem</h3>\n<p>This problem was addressed in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"132415754\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1029\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1029/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1029\">#1029</a> but was closed. <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"215361333\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8551\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/8551/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/8551\">#8551</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"223311865\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9356\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/9356/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/9356\">#9356</a> are also relevant.</p>\n<p>The basic problem is that the output of <code>tf.image.decode_image</code> cannot be passed to <code>tf.image.resize_images</code>. It raises <code>ValueError: 'images' contains no shape.</code> in the call to <code>resize_images</code>.</p>\n<p>Possible workarounds to this include using <code>decode_jpeg</code>, <code>decode_png</code> or adding <code>decoded_image.set_shape([None, None, None])</code> before calling <code>tf.image.resize_images</code>. However, as <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=70511\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/girving\">@girving</a> pointed out in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"132415754\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1029\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1029/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1029\">#1029</a>, nothing about the underlying op requires knowing a static shape.</p>\n<h3>Source code / logs</h3>\n<pre><code>decoded_image = tf.image.decode_jpeg(tf.read_file(image_filename))\ntf.image.resize_images(decoded_image, (100, 100))\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nTensorFlow installed from (source or binary): Binary\nTensorFlow version (use command below): ('v1.3.0-rc2-20-g0787eee', '1.3.0')\nPython version: 2.7\nBazel version (if compiling from source):\nGCC/Compiler version (if compiling from source):\nCUDA/cuDNN version:\nGPU model and memory:\nExact command to reproduce: Performing resize_images with output of decode_image\n\nDescribe the problem\nThis problem was addressed in #1029 but was closed. #8551 and #9356 are also relevant.\nThe basic problem is that the output of tf.image.decode_image cannot be passed to tf.image.resize_images. It raises ValueError: 'images' contains no shape. in the call to resize_images.\nPossible workarounds to this include using decode_jpeg, decode_png or adding decoded_image.set_shape([None, None, None]) before calling tf.image.resize_images. However, as @girving pointed out in #1029, nothing about the underlying op requires knowing a static shape.\nSource code / logs\ndecoded_image = tf.image.decode_jpeg(tf.read_file(image_filename))\ntf.image.resize_images(decoded_image, (100, 100))", "body": "------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: Binary\r\n- **TensorFlow version (use command below)**: ('v1.3.0-rc2-20-g0787eee', '1.3.0')\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**:\r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**: \r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**: Performing `resize_images` with output of `decode_image`\r\n\r\n### Describe the problem\r\nThis problem was addressed in https://github.com/tensorflow/tensorflow/issues/1029 but was closed. https://github.com/tensorflow/tensorflow/issues/8551 and https://github.com/tensorflow/tensorflow/issues/9356 are also relevant. \r\n\r\nThe basic problem is that the output of `tf.image.decode_image` cannot be passed to `tf.image.resize_images`. It raises `ValueError: 'images' contains no shape.` in the call to `resize_images`. \r\n\r\nPossible workarounds to this include using `decode_jpeg`, `decode_png` or adding `decoded_image.set_shape([None, None, None])` before calling `tf.image.resize_images`. However, as @girving pointed out in #1029, nothing about the underlying op requires knowing a static shape. \r\n\r\n### Source code / logs\r\n    decoded_image = tf.image.decode_jpeg(tf.read_file(image_filename))\r\n    tf.image.resize_images(decoded_image, (100, 100))\r\n"}