{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/164511443", "pull_request_review_id": 92295804, "id": 164511443, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2NDUxMTQ0Mw==", "diff_hunk": "@@ -0,0 +1,88 @@\n+# Copyright 2016 The TensorFlow Authors. All Rights Reserved.\n+#", "path": "third_party/llvm/expand_isl_cmake_vars.py", "position": 2, "original_position": 2, "commit_id": "223d9af4d7df986f4143be66271d421881c0ffdb", "original_commit_id": "3a48ddad8702e42dabc2fb057006f8df80914da5", "user": {"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, "body": "In that case can you please extract out a helper function to a common .py file and call that from both `expand_cmake_vars.py` and this one, passing `_CMAKE_VAR_REGEX` as an argument?  This duplicated code will otherwise become a maintenance issue.\r\n\r\nI'd also be fine with a \"master\" `expand_cmake_vars.py` that takes `_CMAKE_VAR_REGEX` and as a command line argument (which will be passed in via the bazel rule).\r\n\r\nWhy is `_CMAKE_VAR_REGEX` different here btw?  Can we do something to make them the same?\r\n\r\n+CC @hawkinsp just in case I'm misleading you", "created_at": "2018-01-29T17:56:53Z", "updated_at": "2018-01-29T18:05:01Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/12408#discussion_r164511443", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12408", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/164511443"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/12408#discussion_r164511443"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12408"}}, "body_html": "<p>In that case can you please extract out a helper function to a common .py file and call that from both <code>expand_cmake_vars.py</code> and this one, passing <code>_CMAKE_VAR_REGEX</code> as an argument?  This duplicated code will otherwise become a maintenance issue.</p>\n<p>I'd also be fine with a \"master\" <code>expand_cmake_vars.py</code> that takes <code>_CMAKE_VAR_REGEX</code> and as a command line argument (which will be passed in via the bazel rule).</p>\n<p>Why is <code>_CMAKE_VAR_REGEX</code> different here btw?  Can we do something to make them the same?</p>\n<p>+CC <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=348932\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/hawkinsp\">@hawkinsp</a> just in case I'm misleading you</p>", "body_text": "In that case can you please extract out a helper function to a common .py file and call that from both expand_cmake_vars.py and this one, passing _CMAKE_VAR_REGEX as an argument?  This duplicated code will otherwise become a maintenance issue.\nI'd also be fine with a \"master\" expand_cmake_vars.py that takes _CMAKE_VAR_REGEX and as a command line argument (which will be passed in via the bazel rule).\nWhy is _CMAKE_VAR_REGEX different here btw?  Can we do something to make them the same?\n+CC @hawkinsp just in case I'm misleading you", "in_reply_to_id": 156562645}