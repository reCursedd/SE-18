{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17407", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17407/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17407/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17407/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17407", "id": 302053475, "node_id": "MDU6SXNzdWUzMDIwNTM0NzU=", "number": 17407, "title": "ValueError: Tensor conversion requested dtype int32 for Tensor with dtype float32: 'Tensor(\"embedding_1/random_uniform:0\", shape=(20000, 200), dtype=float32)'", "user": {"login": "monajalal", "id": 1892917, "node_id": "MDQ6VXNlcjE4OTI5MTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1892917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/monajalal", "html_url": "https://github.com/monajalal", "followers_url": "https://api.github.com/users/monajalal/followers", "following_url": "https://api.github.com/users/monajalal/following{/other_user}", "gists_url": "https://api.github.com/users/monajalal/gists{/gist_id}", "starred_url": "https://api.github.com/users/monajalal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/monajalal/subscriptions", "organizations_url": "https://api.github.com/users/monajalal/orgs", "repos_url": "https://api.github.com/users/monajalal/repos", "events_url": "https://api.github.com/users/monajalal/events{/privacy}", "received_events_url": "https://api.github.com/users/monajalal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-03-04T03:20:11Z", "updated_at": "2018-04-03T05:46:51Z", "closed_at": "2018-04-03T05:46:50Z", "author_association": "NONE", "body_html": "<p>I am not sure how to fix this error:<br>\nWhen I run <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"302053330\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/laviavigdor/twitter-sentiment-analysis/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/laviavigdor/twitter-sentiment-analysis/issues/5/hovercard\" href=\"https://github.com/laviavigdor/twitter-sentiment-analysis/issues/5\">laviavigdor/twitter-sentiment-analysis#5</a> I get this error:</p>\n<pre><code>[jalal@goku twitter-sentiment-analysis]$  echo \"This is a sample tweet to predict on\" | python predict.py\nUsing TensorFlow backend.\n2018-03-03 22:15:52.298930: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\n2018-03-03 22:15:52.298964: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2018-03-03 22:15:52.298974: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2018-03-03 22:15:52.298981: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2018-03-03 22:15:52.298987: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\n2018-03-03 22:15:52.521523: I tensorflow/core/common_runtime/gpu/gpu_device.cc:955] Found device 0 with properties: \nname: GeForce GTX 1080 Ti\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.6705\npciBusID 0000:05:00.0\nTotal memory: 10.92GiB\nFree memory: 9.92GiB\n2018-03-03 22:15:52.742797: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x5626add8a580 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.\n2018-03-03 22:15:52.743474: I tensorflow/core/common_runtime/gpu/gpu_device.cc:955] Found device 1 with properties: \nname: GeForce GTX 1080 Ti\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.6705\npciBusID 0000:06:00.0\nTotal memory: 10.92GiB\nFree memory: 10.76GiB\n2018-03-03 22:15:52.744161: I tensorflow/core/common_runtime/gpu/gpu_device.cc:976] DMA: 0 1 \n2018-03-03 22:15:52.744178: I tensorflow/core/common_runtime/gpu/gpu_device.cc:986] 0:   Y Y \n2018-03-03 22:15:52.744185: I tensorflow/core/common_runtime/gpu/gpu_device.cc:986] 1:   Y Y \n2018-03-03 22:15:52.744197: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:05:00.0)\n2018-03-03 22:15:52.744206: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Creating TensorFlow device (/gpu:1) -&gt; (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0)\n/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/preprocessing/text.py:145: UserWarning: The `nb_words` argument in `Tokenizer` has been renamed `num_words`.\n  warnings.warn('The `nb_words` argument in `Tokenizer` '\n/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py:1253: UserWarning: The `dropout` argument is no longer support in `Embedding`. You can apply a `keras.layers.SpatialDropout1D` layer right after the `Embedding` layer to get the same behavior.\n  return cls(**config)\n/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py:1253: UserWarning: Update your `Embedding` call to the Keras 2 API: `Embedding(trainable=False, name=\"embedding_1\", activity_regularizer=None, input_dtype=\"int32\", mask_zero=False, input_dim=20000, batch_input_shape=[None, 100..., output_dim=200, input_length=1000, embeddings_initializer=\"uniform\", embeddings_regularizer=None, embeddings_constraint=None)`\n  return cls(**config)\nTraceback (most recent call last):\n  File \"predict.py\", line 41, in &lt;module&gt;\n    main()\n  File \"predict.py\", line 20, in main\n    model = load_model('model.h5')\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 239, in load_model\n    model = model_from_config(model_config, custom_objects=custom_objects)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 313, in model_from_config\n    return layer_module.deserialize(config, custom_objects=custom_objects)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/layers/__init__.py\", line 55, in deserialize\n    printable_module_name='layer')\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/utils/generic_utils.py\", line 139, in deserialize_keras_object\n    list(custom_objects.items())))\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 1249, in from_config\n    model.add(layer)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 442, in add\n    layer(x)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py\", line 576, in __call__\n    self.build(input_shapes[0])\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/layers/embeddings.py\", line 101, in build\n    dtype=self.dtype)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/legacy/interfaces.py\", line 87, in wrapper\n    return func(*args, **kwargs)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py\", line 400, in add_weight\n    constraint=constraint)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 376, in variable\n    v = tf.Variable(value, dtype=tf.as_dtype(dtype), name=name)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/ops/variables.py\", line 199, in __init__\n    expected_shape=expected_shape)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/ops/variables.py\", line 289, in _init_from_args\n    initial_value, name=\"initial_value\", dtype=dtype)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 611, in convert_to_tensor\n    as_ref=False)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 676, in internal_convert_to_tensor\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 549, in _TensorTensorConversionFunction\n    % (dtype.name, t.dtype.name, str(t)))\nValueError: Tensor conversion requested dtype int32 for Tensor with dtype float32: 'Tensor(\"embedding_1/random_uniform:0\", shape=(20000, 200), dtype=float32)'\n[jalal@goku twitter-sentiment-analysis]$ \n</code></pre>\n<p>How should I fix it?</p>\n<pre><code>[jalal@goku twitter-sentiment-analysis]$ conda list | grep -i keras\nkeras                     2.0.9                    py36_0    conda-forge\n[jalal@goku twitter-sentiment-analysis]$ conda list | grep -i tensorflow\ntensorflow-gpu            1.3.0                         0  \ntensorflow-gpu-base       1.3.0           py36cuda8.0cudnn6.0_1  \ntensorflow-tensorboard    0.1.5                    py36_0  \n</code></pre>", "body_text": "I am not sure how to fix this error:\nWhen I run laviavigdor/twitter-sentiment-analysis#5 I get this error:\n[jalal@goku twitter-sentiment-analysis]$  echo \"This is a sample tweet to predict on\" | python predict.py\nUsing TensorFlow backend.\n2018-03-03 22:15:52.298930: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\n2018-03-03 22:15:52.298964: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2018-03-03 22:15:52.298974: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2018-03-03 22:15:52.298981: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2018-03-03 22:15:52.298987: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\n2018-03-03 22:15:52.521523: I tensorflow/core/common_runtime/gpu/gpu_device.cc:955] Found device 0 with properties: \nname: GeForce GTX 1080 Ti\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.6705\npciBusID 0000:05:00.0\nTotal memory: 10.92GiB\nFree memory: 9.92GiB\n2018-03-03 22:15:52.742797: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x5626add8a580 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.\n2018-03-03 22:15:52.743474: I tensorflow/core/common_runtime/gpu/gpu_device.cc:955] Found device 1 with properties: \nname: GeForce GTX 1080 Ti\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.6705\npciBusID 0000:06:00.0\nTotal memory: 10.92GiB\nFree memory: 10.76GiB\n2018-03-03 22:15:52.744161: I tensorflow/core/common_runtime/gpu/gpu_device.cc:976] DMA: 0 1 \n2018-03-03 22:15:52.744178: I tensorflow/core/common_runtime/gpu/gpu_device.cc:986] 0:   Y Y \n2018-03-03 22:15:52.744185: I tensorflow/core/common_runtime/gpu/gpu_device.cc:986] 1:   Y Y \n2018-03-03 22:15:52.744197: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:05:00.0)\n2018-03-03 22:15:52.744206: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0)\n/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/preprocessing/text.py:145: UserWarning: The `nb_words` argument in `Tokenizer` has been renamed `num_words`.\n  warnings.warn('The `nb_words` argument in `Tokenizer` '\n/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py:1253: UserWarning: The `dropout` argument is no longer support in `Embedding`. You can apply a `keras.layers.SpatialDropout1D` layer right after the `Embedding` layer to get the same behavior.\n  return cls(**config)\n/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py:1253: UserWarning: Update your `Embedding` call to the Keras 2 API: `Embedding(trainable=False, name=\"embedding_1\", activity_regularizer=None, input_dtype=\"int32\", mask_zero=False, input_dim=20000, batch_input_shape=[None, 100..., output_dim=200, input_length=1000, embeddings_initializer=\"uniform\", embeddings_regularizer=None, embeddings_constraint=None)`\n  return cls(**config)\nTraceback (most recent call last):\n  File \"predict.py\", line 41, in <module>\n    main()\n  File \"predict.py\", line 20, in main\n    model = load_model('model.h5')\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 239, in load_model\n    model = model_from_config(model_config, custom_objects=custom_objects)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 313, in model_from_config\n    return layer_module.deserialize(config, custom_objects=custom_objects)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/layers/__init__.py\", line 55, in deserialize\n    printable_module_name='layer')\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/utils/generic_utils.py\", line 139, in deserialize_keras_object\n    list(custom_objects.items())))\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 1249, in from_config\n    model.add(layer)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 442, in add\n    layer(x)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py\", line 576, in __call__\n    self.build(input_shapes[0])\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/layers/embeddings.py\", line 101, in build\n    dtype=self.dtype)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/legacy/interfaces.py\", line 87, in wrapper\n    return func(*args, **kwargs)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py\", line 400, in add_weight\n    constraint=constraint)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 376, in variable\n    v = tf.Variable(value, dtype=tf.as_dtype(dtype), name=name)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/ops/variables.py\", line 199, in __init__\n    expected_shape=expected_shape)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/ops/variables.py\", line 289, in _init_from_args\n    initial_value, name=\"initial_value\", dtype=dtype)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 611, in convert_to_tensor\n    as_ref=False)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 676, in internal_convert_to_tensor\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 549, in _TensorTensorConversionFunction\n    % (dtype.name, t.dtype.name, str(t)))\nValueError: Tensor conversion requested dtype int32 for Tensor with dtype float32: 'Tensor(\"embedding_1/random_uniform:0\", shape=(20000, 200), dtype=float32)'\n[jalal@goku twitter-sentiment-analysis]$ \n\nHow should I fix it?\n[jalal@goku twitter-sentiment-analysis]$ conda list | grep -i keras\nkeras                     2.0.9                    py36_0    conda-forge\n[jalal@goku twitter-sentiment-analysis]$ conda list | grep -i tensorflow\ntensorflow-gpu            1.3.0                         0  \ntensorflow-gpu-base       1.3.0           py36cuda8.0cudnn6.0_1  \ntensorflow-tensorboard    0.1.5                    py36_0", "body": "I am not sure how to fix this error:\r\nWhen I run https://github.com/laviavigdor/twitter-sentiment-analysis/issues/5 I get this error:\r\n\r\n```\r\n[jalal@goku twitter-sentiment-analysis]$  echo \"This is a sample tweet to predict on\" | python predict.py\r\nUsing TensorFlow backend.\r\n2018-03-03 22:15:52.298930: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\r\n2018-03-03 22:15:52.298964: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2018-03-03 22:15:52.298974: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n2018-03-03 22:15:52.298981: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2018-03-03 22:15:52.298987: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\n2018-03-03 22:15:52.521523: I tensorflow/core/common_runtime/gpu/gpu_device.cc:955] Found device 0 with properties: \r\nname: GeForce GTX 1080 Ti\r\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.6705\r\npciBusID 0000:05:00.0\r\nTotal memory: 10.92GiB\r\nFree memory: 9.92GiB\r\n2018-03-03 22:15:52.742797: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x5626add8a580 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.\r\n2018-03-03 22:15:52.743474: I tensorflow/core/common_runtime/gpu/gpu_device.cc:955] Found device 1 with properties: \r\nname: GeForce GTX 1080 Ti\r\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.6705\r\npciBusID 0000:06:00.0\r\nTotal memory: 10.92GiB\r\nFree memory: 10.76GiB\r\n2018-03-03 22:15:52.744161: I tensorflow/core/common_runtime/gpu/gpu_device.cc:976] DMA: 0 1 \r\n2018-03-03 22:15:52.744178: I tensorflow/core/common_runtime/gpu/gpu_device.cc:986] 0:   Y Y \r\n2018-03-03 22:15:52.744185: I tensorflow/core/common_runtime/gpu/gpu_device.cc:986] 1:   Y Y \r\n2018-03-03 22:15:52.744197: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:05:00.0)\r\n2018-03-03 22:15:52.744206: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0)\r\n/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/preprocessing/text.py:145: UserWarning: The `nb_words` argument in `Tokenizer` has been renamed `num_words`.\r\n  warnings.warn('The `nb_words` argument in `Tokenizer` '\r\n/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py:1253: UserWarning: The `dropout` argument is no longer support in `Embedding`. You can apply a `keras.layers.SpatialDropout1D` layer right after the `Embedding` layer to get the same behavior.\r\n  return cls(**config)\r\n/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py:1253: UserWarning: Update your `Embedding` call to the Keras 2 API: `Embedding(trainable=False, name=\"embedding_1\", activity_regularizer=None, input_dtype=\"int32\", mask_zero=False, input_dim=20000, batch_input_shape=[None, 100..., output_dim=200, input_length=1000, embeddings_initializer=\"uniform\", embeddings_regularizer=None, embeddings_constraint=None)`\r\n  return cls(**config)\r\nTraceback (most recent call last):\r\n  File \"predict.py\", line 41, in <module>\r\n    main()\r\n  File \"predict.py\", line 20, in main\r\n    model = load_model('model.h5')\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 239, in load_model\r\n    model = model_from_config(model_config, custom_objects=custom_objects)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 313, in model_from_config\r\n    return layer_module.deserialize(config, custom_objects=custom_objects)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/layers/__init__.py\", line 55, in deserialize\r\n    printable_module_name='layer')\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/utils/generic_utils.py\", line 139, in deserialize_keras_object\r\n    list(custom_objects.items())))\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 1249, in from_config\r\n    model.add(layer)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/models.py\", line 442, in add\r\n    layer(x)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py\", line 576, in __call__\r\n    self.build(input_shapes[0])\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/layers/embeddings.py\", line 101, in build\r\n    dtype=self.dtype)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/legacy/interfaces.py\", line 87, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/engine/topology.py\", line 400, in add_weight\r\n    constraint=constraint)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 376, in variable\r\n    v = tf.Variable(value, dtype=tf.as_dtype(dtype), name=name)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/ops/variables.py\", line 199, in __init__\r\n    expected_shape=expected_shape)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/ops/variables.py\", line 289, in _init_from_args\r\n    initial_value, name=\"initial_value\", dtype=dtype)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 611, in convert_to_tensor\r\n    as_ref=False)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 676, in internal_convert_to_tensor\r\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n  File \"/scratch/sjn/anaconda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 549, in _TensorTensorConversionFunction\r\n    % (dtype.name, t.dtype.name, str(t)))\r\nValueError: Tensor conversion requested dtype int32 for Tensor with dtype float32: 'Tensor(\"embedding_1/random_uniform:0\", shape=(20000, 200), dtype=float32)'\r\n[jalal@goku twitter-sentiment-analysis]$ \r\n```\r\n\r\nHow should I fix it?\r\n\r\n```\r\n[jalal@goku twitter-sentiment-analysis]$ conda list | grep -i keras\r\nkeras                     2.0.9                    py36_0    conda-forge\r\n[jalal@goku twitter-sentiment-analysis]$ conda list | grep -i tensorflow\r\ntensorflow-gpu            1.3.0                         0  \r\ntensorflow-gpu-base       1.3.0           py36cuda8.0cudnn6.0_1  \r\ntensorflow-tensorboard    0.1.5                    py36_0  \r\n```\r\n"}