{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18191", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18191/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18191/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18191/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18191", "id": 310680131, "node_id": "MDU6SXNzdWUzMTA2ODAxMzE=", "number": 18191, "title": "How to add unsupported operation in TF-Lite?(ResizeNearestNeighbor)", "user": {"login": "nanamare", "id": 17498974, "node_id": "MDQ6VXNlcjE3NDk4OTc0", "avatar_url": "https://avatars3.githubusercontent.com/u/17498974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nanamare", "html_url": "https://github.com/nanamare", "followers_url": "https://api.github.com/users/nanamare/followers", "following_url": "https://api.github.com/users/nanamare/following{/other_user}", "gists_url": "https://api.github.com/users/nanamare/gists{/gist_id}", "starred_url": "https://api.github.com/users/nanamare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nanamare/subscriptions", "organizations_url": "https://api.github.com/users/nanamare/orgs", "repos_url": "https://api.github.com/users/nanamare/repos", "events_url": "https://api.github.com/users/nanamare/events{/privacy}", "received_events_url": "https://api.github.com/users/nanamare/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-04-03T03:18:34Z", "updated_at": "2018-10-05T19:10:57Z", "closed_at": "2018-10-05T19:06:25Z", "author_association": "NONE", "body_html": "<p>Converting Hourglass model, I encountered an unsupported error.<br>\nThis [document] is very simple. so I have to need more information(example code)(<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/g3doc/custom_operators.md\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/g3doc/custom_operators.md</a>)</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/pull/17074\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/17074/hovercard\">Custom operation</a> Is there only this way? It is a difficulty for me.</p>\n<p><strong>Error</strong></p>\n<pre><code>2018-04-03 12:16:05.786878: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\n2018-04-03 12:16:05.787136: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\n2018-04-03 12:16:05.787422: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\n2018-04-03 12:16:05.787639: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\n2018-04-03 12:16:05.792603: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 558 operators, 854 arrays (0 quantized)\n2018-04-03 12:16:05.798150: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 558 operators, 854 arrays (0 quantized)\n2018-04-03 12:16:05.807106: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 193 operators, 382 arrays (0 quantized)\n2018-04-03 12:16:05.809755: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 193 operators, 382 arrays (0 quantized)\n2018-04-03 12:16:05.811826: F tensorflow/contrib/lite/toco/toco_tooling.cc:46] Check failed: unsupported_ops.empty() These unsupported ops were not removed by graph transformations: ResizeNearestNeighbor\n</code></pre>\n<h3>System information</h3>\n<p>-**OS Platform and Distribution : Ubuntu 16.04 LTS<br>\n-**TensorFlow installed from : official<br>\n-**TensorFlow version : 1.5 version<br>\n-**Bazel version : 0.9.0<br>\n-**CUDA/cuDNN version : V 8.0.61 (8.0)<br>\n-**GPU model and memory : GeForce GTX 1060 / 3G<br>\nExact command to reproduce :</p>\n<pre><code>bazel run -c opt --copt=-msse4.1 --copt=-msse4.2 --config=opt //tensorflow/contrib/lite/toco:toco --\n --input_file=/home/danshin/tensorflow_lite/final_sa_ri_mobile_192_1stack.pb \n--output_file=/home/danshin/tensorflow_lite/final_sa_ri_mobile_192_1stack.tflite \n--input_format=TENSORFLOW_GRAPHDEF \n--output_format=TENSORFLOW_GRAPHDEF\n--input_shape=1,192,144,3 --input_array=inference_images/Placeholder \n--output_array=Generator_1/stage1/confidence_map/Conv/convolution\n</code></pre>\n<p>Have a nice day.</p>", "body_text": "Converting Hourglass model, I encountered an unsupported error.\nThis [document] is very simple. so I have to need more information(example code)(https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/g3doc/custom_operators.md)\nCustom operation Is there only this way? It is a difficulty for me.\nError\n2018-04-03 12:16:05.786878: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\n2018-04-03 12:16:05.787136: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\n2018-04-03 12:16:05.787422: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\n2018-04-03 12:16:05.787639: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\n2018-04-03 12:16:05.792603: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 558 operators, 854 arrays (0 quantized)\n2018-04-03 12:16:05.798150: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 558 operators, 854 arrays (0 quantized)\n2018-04-03 12:16:05.807106: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 193 operators, 382 arrays (0 quantized)\n2018-04-03 12:16:05.809755: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 193 operators, 382 arrays (0 quantized)\n2018-04-03 12:16:05.811826: F tensorflow/contrib/lite/toco/toco_tooling.cc:46] Check failed: unsupported_ops.empty() These unsupported ops were not removed by graph transformations: ResizeNearestNeighbor\n\nSystem information\n-**OS Platform and Distribution : Ubuntu 16.04 LTS\n-**TensorFlow installed from : official\n-**TensorFlow version : 1.5 version\n-**Bazel version : 0.9.0\n-**CUDA/cuDNN version : V 8.0.61 (8.0)\n-**GPU model and memory : GeForce GTX 1060 / 3G\nExact command to reproduce :\nbazel run -c opt --copt=-msse4.1 --copt=-msse4.2 --config=opt //tensorflow/contrib/lite/toco:toco --\n --input_file=/home/danshin/tensorflow_lite/final_sa_ri_mobile_192_1stack.pb \n--output_file=/home/danshin/tensorflow_lite/final_sa_ri_mobile_192_1stack.tflite \n--input_format=TENSORFLOW_GRAPHDEF \n--output_format=TENSORFLOW_GRAPHDEF\n--input_shape=1,192,144,3 --input_array=inference_images/Placeholder \n--output_array=Generator_1/stage1/confidence_map/Conv/convolution\n\nHave a nice day.", "body": "Converting Hourglass model, I encountered an unsupported error.\r\nThis [document] is very simple. so I have to need more information(example code)(https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/g3doc/custom_operators.md)\r\n\r\n[Custom operation](https://github.com/tensorflow/tensorflow/pull/17074) Is there only this way? It is a difficulty for me.\r\n\r\n**Error**\r\n```\r\n2018-04-03 12:16:05.786878: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\r\n2018-04-03 12:16:05.787136: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\r\n2018-04-03 12:16:05.787422: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\r\n2018-04-03 12:16:05.787639: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1173] Converting unsupported operation: ResizeNearestNeighbor\r\n2018-04-03 12:16:05.792603: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 558 operators, 854 arrays (0 quantized)\r\n2018-04-03 12:16:05.798150: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 558 operators, 854 arrays (0 quantized)\r\n2018-04-03 12:16:05.807106: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 193 operators, 382 arrays (0 quantized)\r\n2018-04-03 12:16:05.809755: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 193 operators, 382 arrays (0 quantized)\r\n2018-04-03 12:16:05.811826: F tensorflow/contrib/lite/toco/toco_tooling.cc:46] Check failed: unsupported_ops.empty() These unsupported ops were not removed by graph transformations: ResizeNearestNeighbor\r\n```\r\n\r\n### System information\r\n-**OS Platform and Distribution : Ubuntu 16.04 LTS\r\n-**TensorFlow installed from : official\r\n-**TensorFlow version : 1.5 version\r\n-**Bazel version : 0.9.0\r\n-**CUDA/cuDNN version : V 8.0.61 (8.0)\r\n-**GPU model and memory : GeForce GTX 1060 / 3G\r\nExact command to reproduce :\r\n```\r\nbazel run -c opt --copt=-msse4.1 --copt=-msse4.2 --config=opt //tensorflow/contrib/lite/toco:toco --\r\n --input_file=/home/danshin/tensorflow_lite/final_sa_ri_mobile_192_1stack.pb \r\n--output_file=/home/danshin/tensorflow_lite/final_sa_ri_mobile_192_1stack.tflite \r\n--input_format=TENSORFLOW_GRAPHDEF \r\n--output_format=TENSORFLOW_GRAPHDEF\r\n--input_shape=1,192,144,3 --input_array=inference_images/Placeholder \r\n--output_array=Generator_1/stage1/confidence_map/Conv/convolution\r\n```\r\n\r\nHave a nice day.\r\n"}