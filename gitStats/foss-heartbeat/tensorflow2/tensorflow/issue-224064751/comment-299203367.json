{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/299203367", "html_url": "https://github.com/tensorflow/tensorflow/pull/9432#issuecomment-299203367", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9432", "id": 299203367, "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTIwMzM2Nw==", "user": {"login": "shamoya", "id": 22274255, "node_id": "MDQ6VXNlcjIyMjc0MjU1", "avatar_url": "https://avatars2.githubusercontent.com/u/22274255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shamoya", "html_url": "https://github.com/shamoya", "followers_url": "https://api.github.com/users/shamoya/followers", "following_url": "https://api.github.com/users/shamoya/following{/other_user}", "gists_url": "https://api.github.com/users/shamoya/gists{/gist_id}", "starred_url": "https://api.github.com/users/shamoya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shamoya/subscriptions", "organizations_url": "https://api.github.com/users/shamoya/orgs", "repos_url": "https://api.github.com/users/shamoya/repos", "events_url": "https://api.github.com/users/shamoya/events{/privacy}", "received_events_url": "https://api.github.com/users/shamoya/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-04T14:34:04Z", "updated_at": "2017-05-04T14:34:19Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Very cool script <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192829\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/llhe\">@llhe</a> , thanks.</p>\n<p>Now I rechecked again and indeed the code doesn't work on Ethernet (RoCE) setup.<br>\nIt does work on IB.<br>\nAlso rechecked with our scripts (Inception and VGG) and it doesn't work as well on Ethernet/RoCE.<br>\nWe probably checked IB last week and made some error when checking the RoCE case.</p>\n<p>I see the following issue in my case:<br>\nOne of the worker (usually task 1) will report \"retry count exceeded\".<br>\nUsually there's an issue with the connection (we connected QPs but for some reason, the packets one QP send doesn't reach to other side QP).<br>\nAll the GIDs configuration looks ok, I'm debugging it now.<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192829\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/llhe\">@llhe</a> - is this what you see as well ?</p>\n<p>I hope to send the rdmacm code soon and then we won't fall (hopefully) on those connection bugs.</p>", "body_text": "Very cool script @llhe , thanks.\nNow I rechecked again and indeed the code doesn't work on Ethernet (RoCE) setup.\nIt does work on IB.\nAlso rechecked with our scripts (Inception and VGG) and it doesn't work as well on Ethernet/RoCE.\nWe probably checked IB last week and made some error when checking the RoCE case.\nI see the following issue in my case:\nOne of the worker (usually task 1) will report \"retry count exceeded\".\nUsually there's an issue with the connection (we connected QPs but for some reason, the packets one QP send doesn't reach to other side QP).\nAll the GIDs configuration looks ok, I'm debugging it now.\n@llhe - is this what you see as well ?\nI hope to send the rdmacm code soon and then we won't fall (hopefully) on those connection bugs.", "body": "Very cool script @llhe , thanks.\r\n\r\nNow I rechecked again and indeed the code doesn't work on Ethernet (RoCE) setup.\r\nIt does work on IB.\r\nAlso rechecked with our scripts (Inception and VGG) and it doesn't work as well on Ethernet/RoCE.\r\nWe probably checked IB last week and made some error when checking the RoCE case.\r\n\r\nI see the following issue in my case:\r\nOne of the worker (usually task 1) will report \"retry count exceeded\".\r\nUsually there's an issue with the connection (we connected QPs but for some reason, the packets one QP send doesn't reach to other side QP).\r\nAll the GIDs configuration looks ok, I'm debugging it now.\r\n@llhe - is this what you see as well ? \r\n\r\nI hope to send the rdmacm code soon and then we won't fall (hopefully) on those connection bugs.\r\n"}