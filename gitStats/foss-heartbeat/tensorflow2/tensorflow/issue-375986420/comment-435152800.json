{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/435152800", "html_url": "https://github.com/tensorflow/tensorflow/issues/23405#issuecomment-435152800", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23405", "id": 435152800, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTE1MjgwMA==", "user": {"login": "wdirons", "id": 22967383, "node_id": "MDQ6VXNlcjIyOTY3Mzgz", "avatar_url": "https://avatars3.githubusercontent.com/u/22967383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wdirons", "html_url": "https://github.com/wdirons", "followers_url": "https://api.github.com/users/wdirons/followers", "following_url": "https://api.github.com/users/wdirons/following{/other_user}", "gists_url": "https://api.github.com/users/wdirons/gists{/gist_id}", "starred_url": "https://api.github.com/users/wdirons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wdirons/subscriptions", "organizations_url": "https://api.github.com/users/wdirons/orgs", "repos_url": "https://api.github.com/users/wdirons/repos", "events_url": "https://api.github.com/users/wdirons/events{/privacy}", "received_events_url": "https://api.github.com/users/wdirons/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-01T19:11:43Z", "updated_at": "2018-11-01T19:11:43Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Just tried on a ppc64le redhat container with gcc 4.8.5 and bazel 0.15.0 (cuda10) and the results are the same:</p>\n<pre><code>[builder@203325a6deb2 ~]$ bazel version\nExtracting Bazel installation...\nWARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".\nBuild label: 0.15.0- (@non-git)\nBuild target: bazel-out/ppc-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Oct 25 03:43:57 2018 (1540439037)\nBuild timestamp: 1540439037\nBuild timestamp as int: 1540439037\n\n[builder@203325a6deb2 ~]$ gcc --version\ngcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-28)\nCopyright (C) 2015 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\n[builder@203325a6deb2 tensorflow]$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n.\n.\n.\nERROR: /home/builder/.cache/bazel/_bazel_builder/3ae15484c762cfa61bbd3dade07b5cf3/external/nccl_archive/BUILD.bazel:139:1: Executing genrule @nccl_archive//:device_code_fatbin_h failed (Exit 1)\n/bin/bash: CUDA_TOOLKIT_PATH: unbound variable\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 262.728s, Critical Path: 156.49s\nINFO: 4641 processes: 4641 local.\nFAILED: Build did NOT complete successfully\n</code></pre>", "body_text": "Just tried on a ppc64le redhat container with gcc 4.8.5 and bazel 0.15.0 (cuda10) and the results are the same:\n[builder@203325a6deb2 ~]$ bazel version\nExtracting Bazel installation...\nWARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".\nBuild label: 0.15.0- (@non-git)\nBuild target: bazel-out/ppc-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Oct 25 03:43:57 2018 (1540439037)\nBuild timestamp: 1540439037\nBuild timestamp as int: 1540439037\n\n[builder@203325a6deb2 ~]$ gcc --version\ngcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-28)\nCopyright (C) 2015 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\n[builder@203325a6deb2 tensorflow]$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n.\n.\n.\nERROR: /home/builder/.cache/bazel/_bazel_builder/3ae15484c762cfa61bbd3dade07b5cf3/external/nccl_archive/BUILD.bazel:139:1: Executing genrule @nccl_archive//:device_code_fatbin_h failed (Exit 1)\n/bin/bash: CUDA_TOOLKIT_PATH: unbound variable\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 262.728s, Critical Path: 156.49s\nINFO: 4641 processes: 4641 local.\nFAILED: Build did NOT complete successfully", "body": "Just tried on a ppc64le redhat container with gcc 4.8.5 and bazel 0.15.0 (cuda10) and the results are the same: \r\n\r\n```\r\n[builder@203325a6deb2 ~]$ bazel version\r\nExtracting Bazel installation...\r\nWARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".\r\nBuild label: 0.15.0- (@non-git)\r\nBuild target: bazel-out/ppc-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Thu Oct 25 03:43:57 2018 (1540439037)\r\nBuild timestamp: 1540439037\r\nBuild timestamp as int: 1540439037\r\n\r\n[builder@203325a6deb2 ~]$ gcc --version\r\ngcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-28)\r\nCopyright (C) 2015 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n[builder@203325a6deb2 tensorflow]$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n.\r\n.\r\n.\r\nERROR: /home/builder/.cache/bazel/_bazel_builder/3ae15484c762cfa61bbd3dade07b5cf3/external/nccl_archive/BUILD.bazel:139:1: Executing genrule @nccl_archive//:device_code_fatbin_h failed (Exit 1)\r\n/bin/bash: CUDA_TOOLKIT_PATH: unbound variable\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 262.728s, Critical Path: 156.49s\r\nINFO: 4641 processes: 4641 local.\r\nFAILED: Build did NOT complete successfully\r\n```"}