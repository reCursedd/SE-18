{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/225724920", "html_url": "https://github.com/tensorflow/tensorflow/pull/2747#issuecomment-225724920", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2747", "id": 225724920, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTcyNDkyMA==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-13T22:14:22Z", "updated_at": "2016-06-13T23:19:02Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think I fixed test_util issue, can someone trigger tests again? I believe \"test_util\" failure is caused by \"bazel test\" not being hermetic. If you build pip package and do <code>python setup.py develop</code>, then future <code>bazel test</code> will prefer try to grab python files from pip-package path, rather than dependencies specified for the test in <code>BUILD</code> file . Work-around is to make sure all Python files make it into pip package. The <code>check_futures_test</code> ones I fixed by running \"check_futures_test\" as a binary, not as <code>bazel test</code> and editing source to specify new <code>BASE_DIR</code></p>", "body_text": "I think I fixed test_util issue, can someone trigger tests again? I believe \"test_util\" failure is caused by \"bazel test\" not being hermetic. If you build pip package and do python setup.py develop, then future bazel test will prefer try to grab python files from pip-package path, rather than dependencies specified for the test in BUILD file . Work-around is to make sure all Python files make it into pip package. The check_futures_test ones I fixed by running \"check_futures_test\" as a binary, not as bazel test and editing source to specify new BASE_DIR", "body": "I think I fixed test_util issue, can someone trigger tests again? I believe \"test_util\" failure is caused by \"bazel test\" not being hermetic. If you build pip package and do `python setup.py develop`, then future `bazel test` will prefer try to grab python files from pip-package path, rather than dependencies specified for the test in `BUILD` file . Work-around is to make sure all Python files make it into pip package. The `check_futures_test` ones I fixed by running \"check_futures_test\" as a binary, not as `bazel test` and editing source to specify new `BASE_DIR`\n"}