{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2747", "id": 73150600, "node_id": "MDExOlB1bGxSZXF1ZXN0NzMxNTA2MDA=", "html_url": "https://github.com/tensorflow/tensorflow/pull/2747", "diff_url": "https://github.com/tensorflow/tensorflow/pull/2747.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/2747.patch", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2747", "number": 2747, "state": "closed", "locked": false, "title": "Immediate execution mode with graph caching.", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "body": "Implementation of immediate mode execution in TensorFlow. The idea is to wrap original tensorflow API, but provide session/run management logic so that commands execute immediately, and graph caching to avoid modifying graph when same op is run repeatedly. Data is kept in TensorFlow runtime whenever possible using persistent tensors and transferred to Python runtime on demand when needed for printing/control flow.\n\n```\nimport tensorflow as tf\nfrom tensorflow.contrib import immediate\n\ntfi = immediate.Env(tf).tf        # wraps \"tf\" namespace, saves it as \"tfi\"\nval1 = tfi.ones((3,))             # creates tensor on GPU\nval2 = val1 + val1                # runs into tf.add, keeps result on GPU\nval3 = tfi.ones((2, 2, 2, 2))\nval4 = tfi.nn.conv2d(val3, val3, [1, 1, 1, 1], \"VALID\")   # run CuDNN conv2d\nif (tfi.reduce_sum(val3)>0.):     # runs reduce_sum on GPU, transfers bool to CPU\n  print(val4)                     # transfers whole tensor to CPU for display\n\n```\n\nThis is a single commit rebase of a previous pull request from https://github.com/tensorflow/tensorflow/pull/2346\n\n@keveman @yuanbyu \n", "created_at": "2016-06-09T02:47:32Z", "updated_at": "2016-06-26T20:58:37Z", "closed_at": "2016-06-26T20:58:37Z", "merged_at": null, "merge_commit_sha": "a522f25140c8064c2371dcae954cdd0a2a78eb68", "assignee": {"login": "keveman", "id": 229914, "node_id": "MDQ6VXNlcjIyOTkxNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/229914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keveman", "html_url": "https://github.com/keveman", "followers_url": "https://api.github.com/users/keveman/followers", "following_url": "https://api.github.com/users/keveman/following{/other_user}", "gists_url": "https://api.github.com/users/keveman/gists{/gist_id}", "starred_url": "https://api.github.com/users/keveman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keveman/subscriptions", "organizations_url": "https://api.github.com/users/keveman/orgs", "repos_url": "https://api.github.com/users/keveman/repos", "events_url": "https://api.github.com/users/keveman/events{/privacy}", "received_events_url": "https://api.github.com/users/keveman/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "keveman", "id": 229914, "node_id": "MDQ6VXNlcjIyOTkxNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/229914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keveman", "html_url": "https://github.com/keveman", "followers_url": "https://api.github.com/users/keveman/followers", "following_url": "https://api.github.com/users/keveman/following{/other_user}", "gists_url": "https://api.github.com/users/keveman/gists{/gist_id}", "starred_url": "https://api.github.com/users/keveman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keveman/subscriptions", "organizations_url": "https://api.github.com/users/keveman/orgs", "repos_url": "https://api.github.com/users/keveman/repos", "events_url": "https://api.github.com/users/keveman/events{/privacy}", "received_events_url": "https://api.github.com/users/keveman/received_events", "type": "User", "site_admin": false}], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "fef2c0", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "milestone": null, "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2747/commits", "review_comments_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2747/comments", "review_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2747/comments", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/3b16af184918dd317785947ec2597fc79a509830", "head": {"label": "yaroslavvb:hood", "ref": "hood", "sha": "3b16af184918dd317785947ec2597fc79a509830", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "repo": {"id": 58605087, "node_id": "MDEwOlJlcG9zaXRvcnk1ODYwNTA4Nw==", "name": "tensorflow", "full_name": "yaroslavvb/tensorflow", "private": false, "owner": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/yaroslavvb/tensorflow", "description": "Computation using data flow graphs for scalable machine learning", "fork": true, "url": "https://api.github.com/repos/yaroslavvb/tensorflow", "forks_url": "https://api.github.com/repos/yaroslavvb/tensorflow/forks", "keys_url": "https://api.github.com/repos/yaroslavvb/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/yaroslavvb/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/yaroslavvb/tensorflow/teams", "hooks_url": "https://api.github.com/repos/yaroslavvb/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/yaroslavvb/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/yaroslavvb/tensorflow/events", "assignees_url": "https://api.github.com/repos/yaroslavvb/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/yaroslavvb/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/yaroslavvb/tensorflow/tags", "blobs_url": "https://api.github.com/repos/yaroslavvb/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/yaroslavvb/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/yaroslavvb/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/yaroslavvb/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/yaroslavvb/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/yaroslavvb/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/yaroslavvb/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/yaroslavvb/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/yaroslavvb/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/yaroslavvb/tensorflow/subscription", "commits_url": "https://api.github.com/repos/yaroslavvb/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/yaroslavvb/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/yaroslavvb/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/yaroslavvb/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/yaroslavvb/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/yaroslavvb/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/yaroslavvb/tensorflow/merges", "archive_url": "https://api.github.com/repos/yaroslavvb/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/yaroslavvb/tensorflow/downloads", "issues_url": "https://api.github.com/repos/yaroslavvb/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/yaroslavvb/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/yaroslavvb/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/yaroslavvb/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/yaroslavvb/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/yaroslavvb/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/yaroslavvb/tensorflow/deployments", "created_at": "2016-05-12T03:40:39Z", "updated_at": "2017-01-25T19:25:47Z", "pushed_at": "2017-11-09T18:27:31Z", "git_url": "git://github.com/yaroslavvb/tensorflow.git", "ssh_url": "git@github.com:yaroslavvb/tensorflow.git", "clone_url": "https://github.com/yaroslavvb/tensorflow.git", "svn_url": "https://github.com/yaroslavvb/tensorflow", "homepage": "http://tensorflow.org", "size": 136034, "stargazers_count": 0, "watchers_count": 0, "language": "C++", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 0, "mirror_url": null, "archived": false, "open_issues_count": 0, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "tensorflow:master", "ref": "master", "sha": "b3cdbcf13659b8a6bfe83b61248ab0e429fd9273", "user": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 45717250, "node_id": "MDEwOlJlcG9zaXRvcnk0NTcxNzI1MA==", "name": "tensorflow", "full_name": "tensorflow/tensorflow", "private": false, "owner": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/tensorflow/tensorflow", "description": "An Open Source Machine Learning Framework for Everyone", "fork": false, "url": "https://api.github.com/repos/tensorflow/tensorflow", "forks_url": "https://api.github.com/repos/tensorflow/tensorflow/forks", "keys_url": "https://api.github.com/repos/tensorflow/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/tensorflow/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/tensorflow/tensorflow/teams", "hooks_url": "https://api.github.com/repos/tensorflow/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/events", "assignees_url": "https://api.github.com/repos/tensorflow/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/tensorflow/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/tensorflow/tensorflow/tags", "blobs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/tensorflow/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/tensorflow/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/tensorflow/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/tensorflow/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/tensorflow/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/tensorflow/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/tensorflow/tensorflow/subscription", "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/tensorflow/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/tensorflow/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/tensorflow/tensorflow/merges", "archive_url": "https://api.github.com/repos/tensorflow/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/tensorflow/tensorflow/downloads", "issues_url": "https://api.github.com/repos/tensorflow/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/tensorflow/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/tensorflow/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/tensorflow/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/tensorflow/tensorflow/deployments", "created_at": "2015-11-07T01:19:20Z", "updated_at": "2018-11-25T01:43:55Z", "pushed_at": "2018-11-24T18:40:19Z", "git_url": "git://github.com/tensorflow/tensorflow.git", "ssh_url": "git@github.com:tensorflow/tensorflow.git", "clone_url": "https://github.com/tensorflow/tensorflow.git", "svn_url": "https://github.com/tensorflow/tensorflow", "homepage": "https://tensorflow.org", "size": 284546, "stargazers_count": 115177, "watchers_count": 115177, "language": "C++", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 69948, "mirror_url": null, "archived": false, "open_issues_count": 1760, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 69948, "open_issues": 1760, "watchers": 115177, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2747"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/2747"}, "issue": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/2747"}, "comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/2747/comments"}, "review_comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2747/comments"}, "review_comment": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2747/commits"}, "statuses": {"href": "https://api.github.com/repos/tensorflow/tensorflow/statuses/3b16af184918dd317785947ec2597fc79a509830"}}, "author_association": "CONTRIBUTOR", "body_html": "<p>Implementation of immediate mode execution in TensorFlow. The idea is to wrap original tensorflow API, but provide session/run management logic so that commands execute immediately, and graph caching to avoid modifying graph when same op is run repeatedly. Data is kept in TensorFlow runtime whenever possible using persistent tensors and transferred to Python runtime on demand when needed for printing/control flow.</p>\n<pre><code>import tensorflow as tf\nfrom tensorflow.contrib import immediate\n\ntfi = immediate.Env(tf).tf        # wraps \"tf\" namespace, saves it as \"tfi\"\nval1 = tfi.ones((3,))             # creates tensor on GPU\nval2 = val1 + val1                # runs into tf.add, keeps result on GPU\nval3 = tfi.ones((2, 2, 2, 2))\nval4 = tfi.nn.conv2d(val3, val3, [1, 1, 1, 1], \"VALID\")   # run CuDNN conv2d\nif (tfi.reduce_sum(val3)&gt;0.):     # runs reduce_sum on GPU, transfers bool to CPU\n  print(val4)                     # transfers whole tensor to CPU for display\n\n</code></pre>\n<p>This is a single commit rebase of a previous pull request from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"154613042\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2346\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/2346/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/2346\">#2346</a></p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=229914\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/keveman\">@keveman</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2342391\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yuanbyu\">@yuanbyu</a></p>", "body_text": "Implementation of immediate mode execution in TensorFlow. The idea is to wrap original tensorflow API, but provide session/run management logic so that commands execute immediately, and graph caching to avoid modifying graph when same op is run repeatedly. Data is kept in TensorFlow runtime whenever possible using persistent tensors and transferred to Python runtime on demand when needed for printing/control flow.\nimport tensorflow as tf\nfrom tensorflow.contrib import immediate\n\ntfi = immediate.Env(tf).tf        # wraps \"tf\" namespace, saves it as \"tfi\"\nval1 = tfi.ones((3,))             # creates tensor on GPU\nval2 = val1 + val1                # runs into tf.add, keeps result on GPU\nval3 = tfi.ones((2, 2, 2, 2))\nval4 = tfi.nn.conv2d(val3, val3, [1, 1, 1, 1], \"VALID\")   # run CuDNN conv2d\nif (tfi.reduce_sum(val3)>0.):     # runs reduce_sum on GPU, transfers bool to CPU\n  print(val4)                     # transfers whole tensor to CPU for display\n\n\nThis is a single commit rebase of a previous pull request from #2346\n@keveman @yuanbyu", "merged": false, "mergeable": false, "rebaseable": false, "mergeable_state": "dirty", "merged_by": null, "comments": 26, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 8246, "deletions": 0, "changed_files": 29}