{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17897", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17897/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17897/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17897/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17897", "id": 307312594, "node_id": "MDU6SXNzdWUzMDczMTI1OTQ=", "number": 17897, "title": "importing and running frozen graph from old version TF produces empty output.", "user": {"login": "dzhyeon", "id": 6189571, "node_id": "MDQ6VXNlcjYxODk1NzE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6189571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzhyeon", "html_url": "https://github.com/dzhyeon", "followers_url": "https://api.github.com/users/dzhyeon/followers", "following_url": "https://api.github.com/users/dzhyeon/following{/other_user}", "gists_url": "https://api.github.com/users/dzhyeon/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzhyeon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzhyeon/subscriptions", "organizations_url": "https://api.github.com/users/dzhyeon/orgs", "repos_url": "https://api.github.com/users/dzhyeon/repos", "events_url": "https://api.github.com/users/dzhyeon/events{/privacy}", "received_events_url": "https://api.github.com/users/dzhyeon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-03-21T16:08:33Z", "updated_at": "2018-04-22T02:35:26Z", "closed_at": "2018-04-22T02:35:25Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.06</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.6</li>\n<li><strong>Python version</strong>: 2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.11.1</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: 5.4</li>\n<li><strong>CUDA/cuDNN version</strong>: 9.0 / 7</li>\n<li><strong>GPU model and memory</strong>: GTX 1080 Ti</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<p>I have a exported graph file in tensorflow 1.3 version with ubuntu 14.04 (CUDA 7.5 / cudnn 6), and it is working well under the same system so far.<br>\nThe graph was frozen and I cleared device names when exported it, so it can run both on cpu/gpu mode in my previous machine ubuntu 14.04.</p>\n<p>The problem is when I try to run the same graph file in new machine (ubuntu 16.04, tensorflow 1.6, CUDA 9, cudnn 7), the output is just empty.<br>\nThere were no problem of importing the graph file and no error messages when running it.<br>\nAlso the output was produced and shape is what expected except the content is empty.<br>\nMy graph takes an image as input and produce an image as output. And when imported and run the graph in 16.04, the result is just black image.</p>\n<p>I also opened the graph using tensorflow/python/tools/import_pb_to_tensorboard.py, and tensorboard visualized the right network I designed.</p>\n<p>Also tested with tensorflow version 1.5, 1.4 but the result was same.</p>\n<p>Any solution for this problem?</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.06\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.6\nPython version: 2.7\nBazel version (if compiling from source): 0.11.1\nGCC/Compiler version (if compiling from source): 5.4\nCUDA/cuDNN version: 9.0 / 7\nGPU model and memory: GTX 1080 Ti\nExact command to reproduce:\n\nI have a exported graph file in tensorflow 1.3 version with ubuntu 14.04 (CUDA 7.5 / cudnn 6), and it is working well under the same system so far.\nThe graph was frozen and I cleared device names when exported it, so it can run both on cpu/gpu mode in my previous machine ubuntu 14.04.\nThe problem is when I try to run the same graph file in new machine (ubuntu 16.04, tensorflow 1.6, CUDA 9, cudnn 7), the output is just empty.\nThere were no problem of importing the graph file and no error messages when running it.\nAlso the output was produced and shape is what expected except the content is empty.\nMy graph takes an image as input and produce an image as output. And when imported and run the graph in 16.04, the result is just black image.\nI also opened the graph using tensorflow/python/tools/import_pb_to_tensorboard.py, and tensorboard visualized the right network I designed.\nAlso tested with tensorflow version 1.5, 1.4 but the result was same.\nAny solution for this problem?", "body": "\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.06\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.6\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**: 0.11.1\r\n- **GCC/Compiler version (if compiling from source)**: 5.4\r\n- **CUDA/cuDNN version**: 9.0 / 7\r\n- **GPU model and memory**: GTX 1080 Ti\r\n- **Exact command to reproduce**: \r\n\r\nI have a exported graph file in tensorflow 1.3 version with ubuntu 14.04 (CUDA 7.5 / cudnn 6), and it is working well under the same system so far. \r\nThe graph was frozen and I cleared device names when exported it, so it can run both on cpu/gpu mode in my previous machine ubuntu 14.04.\r\n\r\nThe problem is when I try to run the same graph file in new machine (ubuntu 16.04, tensorflow 1.6, CUDA 9, cudnn 7), the output is just empty.\r\nThere were no problem of importing the graph file and no error messages when running it. \r\nAlso the output was produced and shape is what expected except the content is empty.\r\nMy graph takes an image as input and produce an image as output. And when imported and run the graph in 16.04, the result is just black image.\r\n\r\nI also opened the graph using tensorflow/python/tools/import_pb_to_tensorboard.py, and tensorboard visualized the right network I designed. \r\n\r\nAlso tested with tensorflow version 1.5, 1.4 but the result was same.\r\n\r\nAny solution for this problem?\r\n"}