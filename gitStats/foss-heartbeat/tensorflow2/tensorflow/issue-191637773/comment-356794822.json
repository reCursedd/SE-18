{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/356794822", "html_url": "https://github.com/tensorflow/tensorflow/issues/5847#issuecomment-356794822", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5847", "id": 356794822, "node_id": "MDEyOklzc3VlQ29tbWVudDM1Njc5NDgyMg==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-11T01:29:22Z", "updated_at": "2018-01-11T01:29:22Z", "author_association": "CONTRIBUTOR", "body_html": "<div class=\"email-fragment\">Have you tried placing everything on CPU?  Do you now consistently get the\nerror?\n\nProblem is probably caused by us not being able to efficiently perform\nerror checking on GPU kernels.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Wed, Jan 10, 2018 at 5:27 PM, jkyu ***@***.***&gt; wrote:\n I encountered the same issue. And if I change this line embd_in =\n tf.placeholder(tf.float32,[10,3]) to embd_in =\n tf.placeholder(tf.int32,10,3]) and run the above code, I got\n InvalidArgumentError as expected.\n Cannot figure out why is this related to dtype?\n Also, the tf.gather() behaves the same as tf.embedding_lookup()\n\n \u2014\n You are receiving this because you commented.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"191637773\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5847\" href=\"https://github.com/tensorflow/tensorflow/issues/5847#issuecomment-356794338\">#5847 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/ABtim0zqwvFbace_9L7ZJLge4XRr8Q0Nks5tJWNqgaJpZM4K8KZv\">https://github.com/notifications/unsubscribe-auth/ABtim0zqwvFbace_9L7ZJLge4XRr8Q0Nks5tJWNqgaJpZM4K8KZv</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "Have you tried placing everything on CPU?  Do you now consistently get the\nerror?\n\nProblem is probably caused by us not being able to efficiently perform\nerror checking on GPU kernels.\n\u2026\nOn Wed, Jan 10, 2018 at 5:27 PM, jkyu ***@***.***> wrote:\n I encountered the same issue. And if I change this line embd_in =\n tf.placeholder(tf.float32,[10,3]) to embd_in =\n tf.placeholder(tf.int32,10,3]) and run the above code, I got\n InvalidArgumentError as expected.\n Cannot figure out why is this related to dtype?\n Also, the tf.gather() behaves the same as tf.embedding_lookup()\n\n \u2014\n You are receiving this because you commented.\n Reply to this email directly, view it on GitHub\n <#5847 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/ABtim0zqwvFbace_9L7ZJLge4XRr8Q0Nks5tJWNqgaJpZM4K8KZv>\n .", "body": "Have you tried placing everything on CPU?  Do you now consistently get the\nerror?\n\nProblem is probably caused by us not being able to efficiently perform\nerror checking on GPU kernels.\n\nOn Wed, Jan 10, 2018 at 5:27 PM, jkyu <notifications@github.com> wrote:\n\n> I encountered the same issue. And if I change this line embd_in =\n> tf.placeholder(tf.float32,[10,3]) to embd_in =\n> tf.placeholder(tf.int32,10,3]) and run the above code, I got\n> InvalidArgumentError as expected.\n> Cannot figure out why is this related to dtype?\n> Also, the tf.gather() behaves the same as tf.embedding_lookup()\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/5847#issuecomment-356794338>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABtim0zqwvFbace_9L7ZJLge4XRr8Q0Nks5tJWNqgaJpZM4K8KZv>\n> .\n>\n"}