{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/425511098", "html_url": "https://github.com/tensorflow/tensorflow/pull/22559#issuecomment-425511098", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22559", "id": 425511098, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTUxMTA5OA==", "user": {"login": "poxvoculi", "id": 15676913, "node_id": "MDQ6VXNlcjE1Njc2OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/15676913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poxvoculi", "html_url": "https://github.com/poxvoculi", "followers_url": "https://api.github.com/users/poxvoculi/followers", "following_url": "https://api.github.com/users/poxvoculi/following{/other_user}", "gists_url": "https://api.github.com/users/poxvoculi/gists{/gist_id}", "starred_url": "https://api.github.com/users/poxvoculi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poxvoculi/subscriptions", "organizations_url": "https://api.github.com/users/poxvoculi/orgs", "repos_url": "https://api.github.com/users/poxvoculi/repos", "events_url": "https://api.github.com/users/poxvoculi/events{/privacy}", "received_events_url": "https://api.github.com/users/poxvoculi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-28T17:36:01Z", "updated_at": "2018-09-28T17:36:01Z", "author_association": "MEMBER", "body_html": "<p>Thanks for the logs.  What's going on with the direct use of cpu_allocator is that there are still a few uses in the code base that haven't been cleaned up yet, for example in Tensor::FromProto.  I'll be fixing them soonish, but it may be some weeks before they're all taken care of, so if you can handle doing duplicate registration for now, that's probably best.</p>\n<p>For unknown NUMA node, you should be using port::kNUMANoAffinity, defined in tensorflow/core/platform/numa.h.  For the present time this will continue to resolve to CPU:0.  In the future it will indicate a \"don't care\" or \"no particular affinity\" choice.</p>", "body_text": "Thanks for the logs.  What's going on with the direct use of cpu_allocator is that there are still a few uses in the code base that haven't been cleaned up yet, for example in Tensor::FromProto.  I'll be fixing them soonish, but it may be some weeks before they're all taken care of, so if you can handle doing duplicate registration for now, that's probably best.\nFor unknown NUMA node, you should be using port::kNUMANoAffinity, defined in tensorflow/core/platform/numa.h.  For the present time this will continue to resolve to CPU:0.  In the future it will indicate a \"don't care\" or \"no particular affinity\" choice.", "body": "Thanks for the logs.  What's going on with the direct use of cpu_allocator is that there are still a few uses in the code base that haven't been cleaned up yet, for example in Tensor::FromProto.  I'll be fixing them soonish, but it may be some weeks before they're all taken care of, so if you can handle doing duplicate registration for now, that's probably best.\r\n\r\nFor unknown NUMA node, you should be using port::kNUMANoAffinity, defined in tensorflow/core/platform/numa.h.  For the present time this will continue to resolve to CPU:0.  In the future it will indicate a \"don't care\" or \"no particular affinity\" choice."}