{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/382128931", "html_url": "https://github.com/tensorflow/tensorflow/issues/18473#issuecomment-382128931", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18473", "id": 382128931, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjEyODkzMQ==", "user": {"login": "advaza", "id": 28333746, "node_id": "MDQ6VXNlcjI4MzMzNzQ2", "avatar_url": "https://avatars3.githubusercontent.com/u/28333746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/advaza", "html_url": "https://github.com/advaza", "followers_url": "https://api.github.com/users/advaza/followers", "following_url": "https://api.github.com/users/advaza/following{/other_user}", "gists_url": "https://api.github.com/users/advaza/gists{/gist_id}", "starred_url": "https://api.github.com/users/advaza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/advaza/subscriptions", "organizations_url": "https://api.github.com/users/advaza/orgs", "repos_url": "https://api.github.com/users/advaza/repos", "events_url": "https://api.github.com/users/advaza/events{/privacy}", "received_events_url": "https://api.github.com/users/advaza/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-17T20:20:42Z", "updated_at": "2018-04-17T20:20:42Z", "author_association": "NONE", "body_html": "<p>Hi I tested on a multi-gpu machine and got a different error.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1322, in _do_call\n    return fn(*args)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1307, in _run_fn\n    options, feed_dict, fetch_list, target_list, run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1409, in _call_tf_sessionrun\n    run_metadata)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Creating a partition for /device:CPU:7 which doesn't exist in the list of available devices. Available devices: /device:CPU:0,/device:GPU:0,/device:GPU:1,/device:GPU:2,/device:GPU:3,/device:GPU:4,/device:GPU:5,/device:GPU:6,/device:GPU:7\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"conditional_instance_norm/cin/bug.py\", line 80, in &lt;module&gt;\n    main()\n  File \"conditional_instance_norm/cin/bug.py\", line 76, in main\n    train()\n  File \"conditional_instance_norm/cin/bug.py\", line 68, in train\n    max_steps=args.train_steps,\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 363, in train\n    loss = self._train_model(input_fn, hooks, saving_listeners)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 841, in _train_model\n    return self._train_model_distributed(input_fn, hooks, saving_listeners)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 977, in _train_model_distributed\n    saving_listeners)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 1059, in _train_with_estimator_spec\n    _, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 567, in run\n    run_metadata=run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1043, in run\n    run_metadata=run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1134, in run\n    raise six.reraise(*original_exc_info)\n  File \"/usr/local/lib/python3.5/dist-packages/six.py\", line 693, in reraise\n    raise value\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1119, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1191, in run\n    run_metadata=run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 971, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 900, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1135, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1316, in _do_run\n    run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1335, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Creating a partition for /device:CPU:7 which doesn't exist in the list of available devices. Available devices: /device:CPU:0,/device:GPU:0,/device:GPU:1,/device:GPU:2,/device:GPU:3,/device:GPU:4,/device:GPU:5,/device:GPU:6,/device:GPU:7\n</code></pre>", "body_text": "Hi I tested on a multi-gpu machine and got a different error.\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1322, in _do_call\n    return fn(*args)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1307, in _run_fn\n    options, feed_dict, fetch_list, target_list, run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1409, in _call_tf_sessionrun\n    run_metadata)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Creating a partition for /device:CPU:7 which doesn't exist in the list of available devices. Available devices: /device:CPU:0,/device:GPU:0,/device:GPU:1,/device:GPU:2,/device:GPU:3,/device:GPU:4,/device:GPU:5,/device:GPU:6,/device:GPU:7\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"conditional_instance_norm/cin/bug.py\", line 80, in <module>\n    main()\n  File \"conditional_instance_norm/cin/bug.py\", line 76, in main\n    train()\n  File \"conditional_instance_norm/cin/bug.py\", line 68, in train\n    max_steps=args.train_steps,\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 363, in train\n    loss = self._train_model(input_fn, hooks, saving_listeners)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 841, in _train_model\n    return self._train_model_distributed(input_fn, hooks, saving_listeners)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 977, in _train_model_distributed\n    saving_listeners)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 1059, in _train_with_estimator_spec\n    _, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 567, in run\n    run_metadata=run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1043, in run\n    run_metadata=run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1134, in run\n    raise six.reraise(*original_exc_info)\n  File \"/usr/local/lib/python3.5/dist-packages/six.py\", line 693, in reraise\n    raise value\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1119, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1191, in run\n    run_metadata=run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 971, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 900, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1135, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1316, in _do_run\n    run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1335, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Creating a partition for /device:CPU:7 which doesn't exist in the list of available devices. Available devices: /device:CPU:0,/device:GPU:0,/device:GPU:1,/device:GPU:2,/device:GPU:3,/device:GPU:4,/device:GPU:5,/device:GPU:6,/device:GPU:7", "body": "Hi I tested on a multi-gpu machine and got a different error.\r\n\r\n<!-- language: python -->\r\n    Traceback (most recent call last):\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1322, in _do_call\r\n        return fn(*args)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1307, in _run_fn\r\n        options, feed_dict, fetch_list, target_list, run_metadata)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1409, in _call_tf_sessionrun\r\n        run_metadata)\r\n    tensorflow.python.framework.errors_impl.InvalidArgumentError: Creating a partition for /device:CPU:7 which doesn't exist in the list of available devices. Available devices: /device:CPU:0,/device:GPU:0,/device:GPU:1,/device:GPU:2,/device:GPU:3,/device:GPU:4,/device:GPU:5,/device:GPU:6,/device:GPU:7\r\n\r\n    During handling of the above exception, another exception occurred:\r\n\r\n    Traceback (most recent call last):\r\n      File \"conditional_instance_norm/cin/bug.py\", line 80, in <module>\r\n        main()\r\n      File \"conditional_instance_norm/cin/bug.py\", line 76, in main\r\n        train()\r\n      File \"conditional_instance_norm/cin/bug.py\", line 68, in train\r\n        max_steps=args.train_steps,\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 363, in train\r\n        loss = self._train_model(input_fn, hooks, saving_listeners)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 841, in _train_model\r\n        return self._train_model_distributed(input_fn, hooks, saving_listeners)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 977, in _train_model_distributed\r\n        saving_listeners)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/estimator/estimator.py\", line 1059, in _train_with_estimator_spec\r\n        _, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 567, in run\r\n        run_metadata=run_metadata)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1043, in run\r\n        run_metadata=run_metadata)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1134, in run\r\n        raise six.reraise(*original_exc_info)\r\n      File \"/usr/local/lib/python3.5/dist-packages/six.py\", line 693, in reraise\r\n        raise value\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1119, in run\r\n        return self._sess.run(*args, **kwargs)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 1191, in run\r\n        run_metadata=run_metadata)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/monitored_session.py\", line 971, in run\r\n        return self._sess.run(*args, **kwargs)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 900, in run\r\n        run_metadata_ptr)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1135, in _run\r\n        feed_dict_tensor, options, run_metadata)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1316, in _do_run\r\n        run_metadata)\r\n      File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1335, in _do_call\r\n        raise type(e)(node_def, op, message)\r\n    tensorflow.python.framework.errors_impl.InvalidArgumentError: Creating a partition for /device:CPU:7 which doesn't exist in the list of available devices. Available devices: /device:CPU:0,/device:GPU:0,/device:GPU:1,/device:GPU:2,/device:GPU:3,/device:GPU:4,/device:GPU:5,/device:GPU:6,/device:GPU:7"}