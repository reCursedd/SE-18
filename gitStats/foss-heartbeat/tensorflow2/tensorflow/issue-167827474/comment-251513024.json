{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/251513024", "html_url": "https://github.com/tensorflow/tensorflow/issues/3527#issuecomment-251513024", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3527", "id": 251513024, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTUxMzAyNA==", "user": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-04T21:03:49Z", "updated_at": "2016-10-04T21:04:07Z", "author_association": "MEMBER", "body_html": "<p>More notes,</p>\n<p>Also, in terms of looking at TensorShape which Geoffrey thought might be an issue. It looks like things would mostly be ok. One question is whether your architecture has alignment restrictions for uint16 for uint8 and uint32's. It looks like we aren't doing manipulations as anything but the word size and bytes, which probably is safe. You should insert</p>\n<pre><code>static_assert(sizeof(Rep16)==12, \"rep16 not 12 bytes\");\nstatic_assert(sizeof(Rep32)==12, \"rep32 not 12 bytes\");\n</code></pre>\n<p>into <code>TensorShape</code> inside <code>tensor_shape.h</code>.</p>\n<p>If you have valgrind, you might try running that to see if any buffers are being run-off.</p>", "body_text": "More notes,\nAlso, in terms of looking at TensorShape which Geoffrey thought might be an issue. It looks like things would mostly be ok. One question is whether your architecture has alignment restrictions for uint16 for uint8 and uint32's. It looks like we aren't doing manipulations as anything but the word size and bytes, which probably is safe. You should insert\nstatic_assert(sizeof(Rep16)==12, \"rep16 not 12 bytes\");\nstatic_assert(sizeof(Rep32)==12, \"rep32 not 12 bytes\");\n\ninto TensorShape inside tensor_shape.h.\nIf you have valgrind, you might try running that to see if any buffers are being run-off.", "body": "More notes,\n\nAlso, in terms of looking at TensorShape which Geoffrey thought might be an issue. It looks like things would mostly be ok. One question is whether your architecture has alignment restrictions for uint16 for uint8 and uint32's. It looks like we aren't doing manipulations as anything but the word size and bytes, which probably is safe. You should insert  \n\n```\nstatic_assert(sizeof(Rep16)==12, \"rep16 not 12 bytes\");\nstatic_assert(sizeof(Rep32)==12, \"rep32 not 12 bytes\");\n```\n\ninto `TensorShape` inside `tensor_shape.h`. \n\nIf you have valgrind, you might try running that to see if any buffers are being run-off.\n"}