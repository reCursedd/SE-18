{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12388", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12388/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12388/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12388/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12388", "id": 251183558, "node_id": "MDU6SXNzdWUyNTExODM1NTg=", "number": 12388, "title": "Why my tensorflow-gpu runs only on cpu? Ubuntu", "user": {"login": "DNXie", "id": 24580222, "node_id": "MDQ6VXNlcjI0NTgwMjIy", "avatar_url": "https://avatars3.githubusercontent.com/u/24580222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DNXie", "html_url": "https://github.com/DNXie", "followers_url": "https://api.github.com/users/DNXie/followers", "following_url": "https://api.github.com/users/DNXie/following{/other_user}", "gists_url": "https://api.github.com/users/DNXie/gists{/gist_id}", "starred_url": "https://api.github.com/users/DNXie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DNXie/subscriptions", "organizations_url": "https://api.github.com/users/DNXie/orgs", "repos_url": "https://api.github.com/users/DNXie/repos", "events_url": "https://api.github.com/users/DNXie/events{/privacy}", "received_events_url": "https://api.github.com/users/DNXie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 32, "created_at": "2017-08-18T09:03:07Z", "updated_at": "2018-07-08T20:02:11Z", "closed_at": "2017-08-28T04:15:34Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>OS Platform and Distribution</strong>: Linux Ubuntu 16.04</li>\n<li>**TensorFlow installed from **: <code>pip3 install tensorflow-gpu</code></li>\n<li><strong>TensorFlow version</strong>: ('v1.1.0-rc0-61-g1ec6ed5', '1.1.0')</li>\n<li><strong>Python version</strong>:  Python 3.5.2</li>\n<li><strong>CUDA/cuDNN version</strong>: Cuda compilation tools, release 8.0, V8.0.61</li>\n</ul>\n<p>My tensorflow-gpu runs only on cpu, how to fix it?<br>\nI've already tried to set<br>\n<code>CUDA_DEVICE_VISIBLE=all my gpus</code>  But it didn't work.</p>\n<p>Then I tried to use this code:<br>\n<code>sess = tf.Session(config=tf.ConfigProto(log_device_placement=True))</code><br>\nThe output is following:<br>\n<code>Device mapping: no known devices.</code><br>\n<code>2017-08-18 16:44:44.654177: I tensorflow/core/common_runtime/direct_session.cc:300] Device mapping:</code><br>\nThen nothing. It doesn't output the map.<br>\nI've also tried to install it with virtualenv and run the program in virtualenv or reinstall, still not working.<br>\nWhy is this happening? How can I fix it?</p>", "body_text": "System information\n\nOS Platform and Distribution: Linux Ubuntu 16.04\n**TensorFlow installed from **: pip3 install tensorflow-gpu\nTensorFlow version: ('v1.1.0-rc0-61-g1ec6ed5', '1.1.0')\nPython version:  Python 3.5.2\nCUDA/cuDNN version: Cuda compilation tools, release 8.0, V8.0.61\n\nMy tensorflow-gpu runs only on cpu, how to fix it?\nI've already tried to set\nCUDA_DEVICE_VISIBLE=all my gpus  But it didn't work.\nThen I tried to use this code:\nsess = tf.Session(config=tf.ConfigProto(log_device_placement=True))\nThe output is following:\nDevice mapping: no known devices.\n2017-08-18 16:44:44.654177: I tensorflow/core/common_runtime/direct_session.cc:300] Device mapping:\nThen nothing. It doesn't output the map.\nI've also tried to install it with virtualenv and run the program in virtualenv or reinstall, still not working.\nWhy is this happening? How can I fix it?", "body": "### System information\r\n- **OS Platform and Distribution**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from **: `pip3 install tensorflow-gpu`\r\n- **TensorFlow version**: ('v1.1.0-rc0-61-g1ec6ed5', '1.1.0')\r\n- **Python version**:  Python 3.5.2\r\n- **CUDA/cuDNN version**: Cuda compilation tools, release 8.0, V8.0.61\r\n\r\n\r\nMy tensorflow-gpu runs only on cpu, how to fix it?\r\nI've already tried to set \r\n`CUDA_DEVICE_VISIBLE=all my gpus`  But it didn't work.\r\n\r\nThen I tried to use this code:\r\n`sess = tf.Session(config=tf.ConfigProto(log_device_placement=True))`\r\nThe output is following:\r\n`Device mapping: no known devices.`\r\n`2017-08-18 16:44:44.654177: I tensorflow/core/common_runtime/direct_session.cc:300] Device mapping:`\r\nThen nothing. It doesn't output the map.\r\nI've also tried to install it with virtualenv and run the program in virtualenv or reinstall, still not working. \r\nWhy is this happening? How can I fix it? \r\n\r\n\r\n\r\n"}