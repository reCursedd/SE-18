{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3338", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3338/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3338/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3338/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3338", "id": 165906020, "node_id": "MDU6SXNzdWUxNjU5MDYwMjA=", "number": 3338, "title": "Tensorflow build error on the Macbook docker ", "user": {"login": "goooodday", "id": 547925, "node_id": "MDQ6VXNlcjU0NzkyNQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/547925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goooodday", "html_url": "https://github.com/goooodday", "followers_url": "https://api.github.com/users/goooodday/followers", "following_url": "https://api.github.com/users/goooodday/following{/other_user}", "gists_url": "https://api.github.com/users/goooodday/gists{/gist_id}", "starred_url": "https://api.github.com/users/goooodday/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goooodday/subscriptions", "organizations_url": "https://api.github.com/users/goooodday/orgs", "repos_url": "https://api.github.com/users/goooodday/repos", "events_url": "https://api.github.com/users/goooodday/events{/privacy}", "received_events_url": "https://api.github.com/users/goooodday/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2016-07-16T03:25:25Z", "updated_at": "2016-12-21T08:57:32Z", "closed_at": "2016-12-21T08:57:32Z", "author_association": "NONE", "body_html": "<p>In my MacBook(using docker) has a built in Tensorflow source.<br>\nThe error occurred during the build.</p>\n<h3>Environment info</h3>\n<p>Operating System: OSX, El Capitan<br>\nUsing Docker &amp; tensor flow docker image :  tensorflow/tensorflow:latest-devel</p>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>checking bazel &amp; update</li>\n<li>download a new tensorflow source</li>\n<li>./configure   --&gt; No GPU...</li>\n<li>build bazel to pip<br>\n--&gt; bazel build -c opt //tensorflow/tools/pip_package:build_pip_package</li>\n</ol>\n<h3>Build error</h3>\n<blockquote>\n<p>ERROR: /tensorflow/tensorflow/core/kernels/BUILD:1694:1: C++ compilation of rule '//tensorflow/core/kernels:training_ops' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections ... (remaining 107 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 4.<br>\ngcc: internal compiler error: Killed (program cc1plus)<br>\nPlease submit a full bug report,<br>\nwith preprocessed source if appropriate.<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/547925/16892518/445d0698-4b50-11e6-946e-36b90c2d8ea6.png\"><img width=\"990\" alt=\"2016-07-16 12 07 46\" src=\"https://cloud.githubusercontent.com/assets/547925/16892518/445d0698-4b50-11e6-946e-36b90c2d8ea6.png\" style=\"max-width:100%;\"></a></p>\n<p>See file:///usr/share/doc/gcc-4.8/README.Bugs for instructions.<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build</p>\n</blockquote>\n<h4>Include option(--verbose_failures) build err:</h4>\n<p>bazel build -c opt //tensorflow/tools/pip_package:build_pip_package --verbose_failures</p>\n<blockquote>\n<p>ERROR: /tensorflow/tensorflow/core/kernels/BUILD:1078:1: C++ compilation of rule '//tensorflow/core/kernels:argmax_op' failed: gcc failed: error executing command<br>\n(cd /root/.cache/bazel/<em>bazel_root/68a62076e91007a7908bc42a32e4cff9/tensorflow &amp;&amp; <br>\nexec env - <br>\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin <br>\n/usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++0x' -DHAVE_CONFIG_H -iquote . -iquote bazel-out/local_linux-opt/genfiles -iquote external/protobuf -iquote bazel-out/local_linux-opt/genfiles/external/protobuf -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -iquote external/farmhash_archive -iquote bazel-out/local_linux-opt/genfiles/external/farmhash_archive -iquote external/jpeg_archive -iquote bazel-out/local_linux-opt/genfiles/external/jpeg_archive -iquote external/png_archive -iquote bazel-out/local_linux-opt/genfiles/external/png_archive -iquote external/gif_archive -iquote bazel-out/local_linux-opt/genfiles/external/gif_archive -iquote external/highwayhash -iquote bazel-out/local_linux-opt/genfiles/external/highwayhash -iquote external/re2 -iquote bazel-out/local_linux-opt/genfiles/external/re2 -iquote external/eigen_archive -iquote bazel-out/local_linux-opt/genfiles/external/eigen_archive -iquote external/zlib_archive -iquote bazel-out/local_linux-opt/genfiles/external/zlib_archive -isystem external/protobuf/src -isystem bazel-out/local_linux-opt/genfiles/external/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/farmhash_archive/farmhash-34c13ddfab0e35422f4c3979f360635a8c050260 -isystem bazel-out/local_linux-opt/genfiles/external/farmhash_archive/farmhash-34c13ddfab0e35422f4c3979f360635a8c050260 -isystem external/jpeg_archive/jpeg-9a -isystem bazel-out/local_linux-opt/genfiles/external/jpeg_archive/jpeg-9a -isystem external/png_archive/libpng-1.2.53 -isystem bazel-out/local_linux-opt/genfiles/external/png_archive/libpng-1.2.53 -isystem external/gif_archive/giflib-5.1.4/lib -isystem bazel-out/local_linux-opt/genfiles/external/gif_archive/giflib-5.1.4/lib -isystem external/highwayhash -isystem bazel-out/local_linux-opt/genfiles/external/highwayhash -isystem external/re2 -isystem bazel-out/local_linux-opt/genfiles/external/re2 -isystem third_party/eigen3 -isystem bazel-out/local_linux-opt/genfiles/third_party/eigen3 -isystem external/eigen_archive/eigen-eigen-b4fa9622b809 -isystem bazel-out/local_linux-opt/genfiles/external/eigen_archive/eigen-eigen-b4fa9622b809 -isystem external/zlib_archive/zlib-1.2.8 -isystem bazel-out/local_linux-opt/genfiles/external/zlib_archive/zlib-1.2.8 -fno-exceptions -DEIGEN_AVOID_STL_ARRAY -pthread -no-canonical-prefixes -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE</em>_=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/local_linux-opt/bin/tensorflow/core/kernels/_objs/argmax_op/tensorflow/core/kernels/argmax_op.pic.o' -MD -MF bazel-out/local_linux-opt/bin/tensorflow/core/kernels/_objs/argmax_op/tensorflow/core/kernels/argmax_op.pic.d -fPIC -c tensorflow/core/kernels/argmax_op.cc -o bazel-out/local_linux-opt/bin/tensorflow/core/kernels/_objs/argmax_op/tensorflow/core/kernels/argmax_op.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 4.<br>\ngcc: internal compiler error: Killed (program cc1plus)<br>\nPlease submit a full bug report,<br>\nwith preprocessed source if appropriate.<br>\nSee file:///usr/share/doc/gcc-4.8/README.Bugs for instructions.<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nINFO: Elapsed time: 3619.233s, Critical Path: 3589.94s</p>\n</blockquote>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/547925/16893041/8d3c4fb8-4b64-11e6-8d8f-0557e9128b1f.png\"><img width=\"1246\" alt=\"2016-07-16 2 48 52\" src=\"https://cloud.githubusercontent.com/assets/547925/16893041/8d3c4fb8-4b64-11e6-8d8f-0557e9128b1f.png\" style=\"max-width:100%;\"></a></p>", "body_text": "In my MacBook(using docker) has a built in Tensorflow source.\nThe error occurred during the build.\nEnvironment info\nOperating System: OSX, El Capitan\nUsing Docker & tensor flow docker image :  tensorflow/tensorflow:latest-devel\nSteps to reproduce\n\nchecking bazel & update\ndownload a new tensorflow source\n./configure   --> No GPU...\nbuild bazel to pip\n--> bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\n\nBuild error\n\nERROR: /tensorflow/tensorflow/core/kernels/BUILD:1694:1: C++ compilation of rule '//tensorflow/core/kernels:training_ops' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections ... (remaining 107 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 4.\ngcc: internal compiler error: Killed (program cc1plus)\nPlease submit a full bug report,\nwith preprocessed source if appropriate.\n\nSee file:///usr/share/doc/gcc-4.8/README.Bugs for instructions.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n\nInclude option(--verbose_failures) build err:\nbazel build -c opt //tensorflow/tools/pip_package:build_pip_package --verbose_failures\n\nERROR: /tensorflow/tensorflow/core/kernels/BUILD:1078:1: C++ compilation of rule '//tensorflow/core/kernels:argmax_op' failed: gcc failed: error executing command\n(cd /root/.cache/bazel/bazel_root/68a62076e91007a7908bc42a32e4cff9/tensorflow && \nexec env - \nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \n/usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++0x' -DHAVE_CONFIG_H -iquote . -iquote bazel-out/local_linux-opt/genfiles -iquote external/protobuf -iquote bazel-out/local_linux-opt/genfiles/external/protobuf -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -iquote external/farmhash_archive -iquote bazel-out/local_linux-opt/genfiles/external/farmhash_archive -iquote external/jpeg_archive -iquote bazel-out/local_linux-opt/genfiles/external/jpeg_archive -iquote external/png_archive -iquote bazel-out/local_linux-opt/genfiles/external/png_archive -iquote external/gif_archive -iquote bazel-out/local_linux-opt/genfiles/external/gif_archive -iquote external/highwayhash -iquote bazel-out/local_linux-opt/genfiles/external/highwayhash -iquote external/re2 -iquote bazel-out/local_linux-opt/genfiles/external/re2 -iquote external/eigen_archive -iquote bazel-out/local_linux-opt/genfiles/external/eigen_archive -iquote external/zlib_archive -iquote bazel-out/local_linux-opt/genfiles/external/zlib_archive -isystem external/protobuf/src -isystem bazel-out/local_linux-opt/genfiles/external/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/farmhash_archive/farmhash-34c13ddfab0e35422f4c3979f360635a8c050260 -isystem bazel-out/local_linux-opt/genfiles/external/farmhash_archive/farmhash-34c13ddfab0e35422f4c3979f360635a8c050260 -isystem external/jpeg_archive/jpeg-9a -isystem bazel-out/local_linux-opt/genfiles/external/jpeg_archive/jpeg-9a -isystem external/png_archive/libpng-1.2.53 -isystem bazel-out/local_linux-opt/genfiles/external/png_archive/libpng-1.2.53 -isystem external/gif_archive/giflib-5.1.4/lib -isystem bazel-out/local_linux-opt/genfiles/external/gif_archive/giflib-5.1.4/lib -isystem external/highwayhash -isystem bazel-out/local_linux-opt/genfiles/external/highwayhash -isystem external/re2 -isystem bazel-out/local_linux-opt/genfiles/external/re2 -isystem third_party/eigen3 -isystem bazel-out/local_linux-opt/genfiles/third_party/eigen3 -isystem external/eigen_archive/eigen-eigen-b4fa9622b809 -isystem bazel-out/local_linux-opt/genfiles/external/eigen_archive/eigen-eigen-b4fa9622b809 -isystem external/zlib_archive/zlib-1.2.8 -isystem bazel-out/local_linux-opt/genfiles/external/zlib_archive/zlib-1.2.8 -fno-exceptions -DEIGEN_AVOID_STL_ARRAY -pthread -no-canonical-prefixes -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE_=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/local_linux-opt/bin/tensorflow/core/kernels/_objs/argmax_op/tensorflow/core/kernels/argmax_op.pic.o' -MD -MF bazel-out/local_linux-opt/bin/tensorflow/core/kernels/_objs/argmax_op/tensorflow/core/kernels/argmax_op.pic.d -fPIC -c tensorflow/core/kernels/argmax_op.cc -o bazel-out/local_linux-opt/bin/tensorflow/core/kernels/_objs/argmax_op/tensorflow/core/kernels/argmax_op.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 4.\ngcc: internal compiler error: Killed (program cc1plus)\nPlease submit a full bug report,\nwith preprocessed source if appropriate.\nSee file:///usr/share/doc/gcc-4.8/README.Bugs for instructions.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 3619.233s, Critical Path: 3589.94s", "body": "In my MacBook(using docker) has a built in Tensorflow source.\nThe error occurred during the build.\n### Environment info\n\nOperating System: OSX, El Capitan\nUsing Docker & tensor flow docker image :  tensorflow/tensorflow:latest-devel\n### Steps to reproduce\n1. checking bazel & update\n2. download a new tensorflow source\n3. ./configure   --> No GPU...\n4. build bazel to pip\n   --> bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\n### Build error\n\n> ERROR: /tensorflow/tensorflow/core/kernels/BUILD:1694:1: C++ compilation of rule '//tensorflow/core/kernels:training_ops' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections ... (remaining 107 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 4.\n> gcc: internal compiler error: Killed (program cc1plus)\n> Please submit a full bug report,\n> with preprocessed source if appropriate.\n> <img width=\"990\" alt=\"2016-07-16 12 07 46\" src=\"https://cloud.githubusercontent.com/assets/547925/16892518/445d0698-4b50-11e6-946e-36b90c2d8ea6.png\">\n> \n> See file:///usr/share/doc/gcc-4.8/README.Bugs for instructions.\n> Target //tensorflow/tools/pip_package:build_pip_package failed to build\n#### Include option(--verbose_failures) build err:\n\n  bazel build -c opt //tensorflow/tools/pip_package:build_pip_package --verbose_failures\n\n> ERROR: /tensorflow/tensorflow/core/kernels/BUILD:1078:1: C++ compilation of rule '//tensorflow/core/kernels:argmax_op' failed: gcc failed: error executing command\n>   (cd /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/tensorflow && \\\n>   exec env - \\\n>     PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n>   /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++0x' -DHAVE_CONFIG_H -iquote . -iquote bazel-out/local_linux-opt/genfiles -iquote external/protobuf -iquote bazel-out/local_linux-opt/genfiles/external/protobuf -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -iquote external/farmhash_archive -iquote bazel-out/local_linux-opt/genfiles/external/farmhash_archive -iquote external/jpeg_archive -iquote bazel-out/local_linux-opt/genfiles/external/jpeg_archive -iquote external/png_archive -iquote bazel-out/local_linux-opt/genfiles/external/png_archive -iquote external/gif_archive -iquote bazel-out/local_linux-opt/genfiles/external/gif_archive -iquote external/highwayhash -iquote bazel-out/local_linux-opt/genfiles/external/highwayhash -iquote external/re2 -iquote bazel-out/local_linux-opt/genfiles/external/re2 -iquote external/eigen_archive -iquote bazel-out/local_linux-opt/genfiles/external/eigen_archive -iquote external/zlib_archive -iquote bazel-out/local_linux-opt/genfiles/external/zlib_archive -isystem external/protobuf/src -isystem bazel-out/local_linux-opt/genfiles/external/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/farmhash_archive/farmhash-34c13ddfab0e35422f4c3979f360635a8c050260 -isystem bazel-out/local_linux-opt/genfiles/external/farmhash_archive/farmhash-34c13ddfab0e35422f4c3979f360635a8c050260 -isystem external/jpeg_archive/jpeg-9a -isystem bazel-out/local_linux-opt/genfiles/external/jpeg_archive/jpeg-9a -isystem external/png_archive/libpng-1.2.53 -isystem bazel-out/local_linux-opt/genfiles/external/png_archive/libpng-1.2.53 -isystem external/gif_archive/giflib-5.1.4/lib -isystem bazel-out/local_linux-opt/genfiles/external/gif_archive/giflib-5.1.4/lib -isystem external/highwayhash -isystem bazel-out/local_linux-opt/genfiles/external/highwayhash -isystem external/re2 -isystem bazel-out/local_linux-opt/genfiles/external/re2 -isystem third_party/eigen3 -isystem bazel-out/local_linux-opt/genfiles/third_party/eigen3 -isystem external/eigen_archive/eigen-eigen-b4fa9622b809 -isystem bazel-out/local_linux-opt/genfiles/external/eigen_archive/eigen-eigen-b4fa9622b809 -isystem external/zlib_archive/zlib-1.2.8 -isystem bazel-out/local_linux-opt/genfiles/external/zlib_archive/zlib-1.2.8 -fno-exceptions -DEIGEN_AVOID_STL_ARRAY -pthread -no-canonical-prefixes -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/local_linux-opt/bin/tensorflow/core/kernels/_objs/argmax_op/tensorflow/core/kernels/argmax_op.pic.o' -MD -MF bazel-out/local_linux-opt/bin/tensorflow/core/kernels/_objs/argmax_op/tensorflow/core/kernels/argmax_op.pic.d -fPIC -c tensorflow/core/kernels/argmax_op.cc -o bazel-out/local_linux-opt/bin/tensorflow/core/kernels/_objs/argmax_op/tensorflow/core/kernels/argmax_op.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 4.\n> gcc: internal compiler error: Killed (program cc1plus)\n> Please submit a full bug report,\n> with preprocessed source if appropriate.\n> See file:///usr/share/doc/gcc-4.8/README.Bugs for instructions.\n> Target //tensorflow/tools/pip_package:build_pip_package failed to build\n> INFO: Elapsed time: 3619.233s, Critical Path: 3589.94s\n\n<img width=\"1246\" alt=\"2016-07-16 2 48 52\" src=\"https://cloud.githubusercontent.com/assets/547925/16893041/8d3c4fb8-4b64-11e6-8d8f-0557e9128b1f.png\">\n"}