{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/92774386", "pull_request_review_id": 13294878, "id": 92774386, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkyNzc0Mzg2", "diff_hunk": "@@ -395,6 +395,13 @@ def _AvgPoolGrad(op, grad):\n       data_format=op.get_attr(\"data_format\"))\n \n \n+@ops.RegisterGradient(\"AvgPoolGrad\")\n+def _AvgPoolGradGrad(op, grad):\n+  print(op)", "path": "tensorflow/python/ops/nn_grad.py", "position": 6, "original_position": 6, "commit_id": "9f26b9b28b6c676fddc3cbbd201616e4188c88ce", "original_commit_id": "9f26b9b28b6c676fddc3cbbd201616e4188c88ce", "user": {"login": "AnishShah", "id": 3175743, "node_id": "MDQ6VXNlcjMxNzU3NDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/3175743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnishShah", "html_url": "https://github.com/AnishShah", "followers_url": "https://api.github.com/users/AnishShah/followers", "following_url": "https://api.github.com/users/AnishShah/following{/other_user}", "gists_url": "https://api.github.com/users/AnishShah/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnishShah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnishShah/subscriptions", "organizations_url": "https://api.github.com/users/AnishShah/orgs", "repos_url": "https://api.github.com/users/AnishShah/repos", "events_url": "https://api.github.com/users/AnishShah/events{/privacy}", "received_events_url": "https://api.github.com/users/AnishShah/received_events", "type": "User", "site_admin": false}, "body": "This is the output for max_pool. It has `x` in the inputs.\r\n\r\n```\r\nIn [5]: y = tf.nn.max_pool(x, ksize=[1, 2, 2, 1], strides=[1, 2, 2, 1], padding='VALID')\r\n\r\nIn [6]: dy = tf.gradients(y, x)\r\n\r\nIn [7]: ddy = tf.gradients(dy, x)\r\nname: \"gradients/MaxPool_grad/MaxPoolGrad\"\r\nop: \"MaxPoolGrad\"\r\ninput: \"x\"\r\ninput: \"MaxPool\"\r\ninput: \"gradients/Fill\"\r\nattr {\r\n  key: \"T\"\r\n  value {\r\n    type: DT_FLOAT\r\n  }\r\n}\r\nattr {\r\n  key: \"data_format\"\r\n  value {\r\n    s: \"NHWC\"\r\n  }\r\n}\r\nattr {\r\n  key: \"ksize\"\r\n  value {\r\n    list {\r\n      i: 1\r\n      i: 2\r\n      i: 2\r\n      i: 1\r\n    }\r\n  }\r\n}\r\nattr {\r\n  key: \"padding\"\r\n  value {\r\n    s: \"VALID\"\r\n  }\r\n}\r\nattr {\r\n  key: \"strides\"\r\n  value {\r\n    list {\r\n      i: 1\r\n      i: 2\r\n      i: 2\r\n      i: 1\r\n    }\r\n  }\r\n}\r\n\r\n```", "created_at": "2016-12-16T09:04:16Z", "updated_at": "2016-12-16T09:04:16Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/6299#discussion_r92774386", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6299", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/92774386"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/6299#discussion_r92774386"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6299"}}, "body_html": "<p>This is the output for max_pool. It has <code>x</code> in the inputs.</p>\n<pre><code>In [5]: y = tf.nn.max_pool(x, ksize=[1, 2, 2, 1], strides=[1, 2, 2, 1], padding='VALID')\n\nIn [6]: dy = tf.gradients(y, x)\n\nIn [7]: ddy = tf.gradients(dy, x)\nname: \"gradients/MaxPool_grad/MaxPoolGrad\"\nop: \"MaxPoolGrad\"\ninput: \"x\"\ninput: \"MaxPool\"\ninput: \"gradients/Fill\"\nattr {\n  key: \"T\"\n  value {\n    type: DT_FLOAT\n  }\n}\nattr {\n  key: \"data_format\"\n  value {\n    s: \"NHWC\"\n  }\n}\nattr {\n  key: \"ksize\"\n  value {\n    list {\n      i: 1\n      i: 2\n      i: 2\n      i: 1\n    }\n  }\n}\nattr {\n  key: \"padding\"\n  value {\n    s: \"VALID\"\n  }\n}\nattr {\n  key: \"strides\"\n  value {\n    list {\n      i: 1\n      i: 2\n      i: 2\n      i: 1\n    }\n  }\n}\n\n</code></pre>", "body_text": "This is the output for max_pool. It has x in the inputs.\nIn [5]: y = tf.nn.max_pool(x, ksize=[1, 2, 2, 1], strides=[1, 2, 2, 1], padding='VALID')\n\nIn [6]: dy = tf.gradients(y, x)\n\nIn [7]: ddy = tf.gradients(dy, x)\nname: \"gradients/MaxPool_grad/MaxPoolGrad\"\nop: \"MaxPoolGrad\"\ninput: \"x\"\ninput: \"MaxPool\"\ninput: \"gradients/Fill\"\nattr {\n  key: \"T\"\n  value {\n    type: DT_FLOAT\n  }\n}\nattr {\n  key: \"data_format\"\n  value {\n    s: \"NHWC\"\n  }\n}\nattr {\n  key: \"ksize\"\n  value {\n    list {\n      i: 1\n      i: 2\n      i: 2\n      i: 1\n    }\n  }\n}\nattr {\n  key: \"padding\"\n  value {\n    s: \"VALID\"\n  }\n}\nattr {\n  key: \"strides\"\n  value {\n    list {\n      i: 1\n      i: 2\n      i: 2\n      i: 1\n    }\n  }\n}", "in_reply_to_id": 92773801}