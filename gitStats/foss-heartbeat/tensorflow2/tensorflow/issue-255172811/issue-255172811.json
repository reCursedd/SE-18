{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12811", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12811/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12811/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12811/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12811", "id": 255172811, "node_id": "MDU6SXNzdWUyNTUxNzI4MTE=", "number": 12811, "title": "The predict results using java and python is different", "user": {"login": "Kitter", "id": 1551630, "node_id": "MDQ6VXNlcjE1NTE2MzA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1551630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kitter", "html_url": "https://github.com/Kitter", "followers_url": "https://api.github.com/users/Kitter/followers", "following_url": "https://api.github.com/users/Kitter/following{/other_user}", "gists_url": "https://api.github.com/users/Kitter/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kitter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kitter/subscriptions", "organizations_url": "https://api.github.com/users/Kitter/orgs", "repos_url": "https://api.github.com/users/Kitter/repos", "events_url": "https://api.github.com/users/Kitter/events{/privacy}", "received_events_url": "https://api.github.com/users/Kitter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2017-09-05T06:34:41Z", "updated_at": "2018-05-02T09:20:59Z", "closed_at": "2017-09-08T07:51:25Z", "author_association": "NONE", "body_html": "<p>My graph contains the following statements:<br>\n<code>tf.contrib.layers.batch_norm(incoming, is_training=is_training, scale=True, decay=0.99)</code><br>\n<code> tf.contrib.layers.dropout(incoming, keep_prob=keep_prob, is_training=is_training)</code></p>\n<p>When the variable <strong>is_training</strong> is set to <strong>True</strong>, the saved model give the same result using Java and Python. The result is right.</p>\n<p>But, when the variable <strong>is_training</strong> is set to <strong>False</strong>, the saved model give different result using Java and Python. Python give a right result. Java give a wrong result.</p>\n<p>Why does this happen?<br>\nTensorflow:1.2.0<br>\nOS: centos7<br>\nJava:Sun jdk 1.8.0.144<br>\nPython:3.4.5</p>", "body_text": "My graph contains the following statements:\ntf.contrib.layers.batch_norm(incoming, is_training=is_training, scale=True, decay=0.99)\n tf.contrib.layers.dropout(incoming, keep_prob=keep_prob, is_training=is_training)\nWhen the variable is_training is set to True, the saved model give the same result using Java and Python. The result is right.\nBut, when the variable is_training is set to False, the saved model give different result using Java and Python. Python give a right result. Java give a wrong result.\nWhy does this happen?\nTensorflow:1.2.0\nOS: centos7\nJava:Sun jdk 1.8.0.144\nPython:3.4.5", "body": "My graph contains the following statements:\r\n`tf.contrib.layers.batch_norm(incoming, is_training=is_training, scale=True, decay=0.99)`\r\n` tf.contrib.layers.dropout(incoming, keep_prob=keep_prob, is_training=is_training)`\r\n\r\nWhen the variable **is_training** is set to **True**, the saved model give the same result using Java and Python. The result is right.\r\n\r\nBut, when the variable **is_training** is set to **False**, the saved model give different result using Java and Python. Python give a right result. Java give a wrong result.\r\n\r\nWhy does this happen?\r\nTensorflow:1.2.0\r\nOS: centos7\r\nJava:Sun jdk 1.8.0.144\r\nPython:3.4.5\r\n"}