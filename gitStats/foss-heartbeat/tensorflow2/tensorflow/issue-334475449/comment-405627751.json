{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/405627751", "html_url": "https://github.com/tensorflow/tensorflow/pull/20183#issuecomment-405627751", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20183", "id": 405627751, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTYyNzc1MQ==", "user": {"login": "DavidNorman", "id": 606831, "node_id": "MDQ6VXNlcjYwNjgzMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/606831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidNorman", "html_url": "https://github.com/DavidNorman", "followers_url": "https://api.github.com/users/DavidNorman/followers", "following_url": "https://api.github.com/users/DavidNorman/following{/other_user}", "gists_url": "https://api.github.com/users/DavidNorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidNorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidNorman/subscriptions", "organizations_url": "https://api.github.com/users/DavidNorman/orgs", "repos_url": "https://api.github.com/users/DavidNorman/repos", "events_url": "https://api.github.com/users/DavidNorman/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidNorman/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-17T15:39:34Z", "updated_at": "2018-07-17T15:39:34Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hi.  You are correct.</p>\n<p>Originally you guys asked me to have a dynamically loadable plugin (hence the name).  That didn't work for various reasons, the main one being that the protobuf library and LLVM can't cope with being loaded into the same process twice.  Hence the building the poplar backend directly with the TF/XLA code.</p>\n<p>I was then asked to try to keep our code independent, to make future merging easy.  Hence the single file which sits somewhat away from the main XLA code base.</p>\n<p>In an ideal world we would upstream the code, although I do understand why you guys are reluctant to have that happen at the moment.</p>\n<p>I will abandon this change and just bind our stuff into the dependency tree as if it is a similar thing to the CPU or GPU.  I like that, as it brings our driver into closer alignment with XLA as a whole.</p>\n<p>Thanks for the review</p>", "body_text": "Hi.  You are correct.\nOriginally you guys asked me to have a dynamically loadable plugin (hence the name).  That didn't work for various reasons, the main one being that the protobuf library and LLVM can't cope with being loaded into the same process twice.  Hence the building the poplar backend directly with the TF/XLA code.\nI was then asked to try to keep our code independent, to make future merging easy.  Hence the single file which sits somewhat away from the main XLA code base.\nIn an ideal world we would upstream the code, although I do understand why you guys are reluctant to have that happen at the moment.\nI will abandon this change and just bind our stuff into the dependency tree as if it is a similar thing to the CPU or GPU.  I like that, as it brings our driver into closer alignment with XLA as a whole.\nThanks for the review", "body": "Hi.  You are correct.\r\n\r\nOriginally you guys asked me to have a dynamically loadable plugin (hence the name).  That didn't work for various reasons, the main one being that the protobuf library and LLVM can't cope with being loaded into the same process twice.  Hence the building the poplar backend directly with the TF/XLA code.\r\n\r\nI was then asked to try to keep our code independent, to make future merging easy.  Hence the single file which sits somewhat away from the main XLA code base.\r\n\r\nIn an ideal world we would upstream the code, although I do understand why you guys are reluctant to have that happen at the moment.\r\n\r\nI will abandon this change and just bind our stuff into the dependency tree as if it is a similar thing to the CPU or GPU.  I like that, as it brings our driver into closer alignment with XLA as a whole.\r\n\r\nThanks for the review\r\n\r\n"}