{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/335483224", "html_url": "https://github.com/tensorflow/tensorflow/issues/8665#issuecomment-335483224", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8665", "id": 335483224, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTQ4MzIyNA==", "user": {"login": "MrGeva", "id": 19514940, "node_id": "MDQ6VXNlcjE5NTE0OTQw", "avatar_url": "https://avatars2.githubusercontent.com/u/19514940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrGeva", "html_url": "https://github.com/MrGeva", "followers_url": "https://api.github.com/users/MrGeva/followers", "following_url": "https://api.github.com/users/MrGeva/following{/other_user}", "gists_url": "https://api.github.com/users/MrGeva/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrGeva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrGeva/subscriptions", "organizations_url": "https://api.github.com/users/MrGeva/orgs", "repos_url": "https://api.github.com/users/MrGeva/repos", "events_url": "https://api.github.com/users/MrGeva/events{/privacy}", "received_events_url": "https://api.github.com/users/MrGeva/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-10T14:04:34Z", "updated_at": "2017-10-10T14:12:51Z", "author_association": "NONE", "body_html": "<p>I have the same problem, I get this error:</p>\n<pre><code>FailedPreconditionError (see above for traceback): Table not initialized.\n</code></pre>\n<p>I am trying to store my graph as a protobuf and then load it, when I run the graph I get the error above.</p>\n<p>However when I run the graph directly (w\\o storing it to .pb first) it works fine.</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">with</span> tf.gfile.GFile(frozen_file_name, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>wb<span class=\"pl-pds\">\"</span></span>) <span class=\"pl-k\">as</span> f:\n    f.write(frozen_graph_def.SerializeToString())\ng <span class=\"pl-k\">=</span> load_graph(frozen_file_name)\n<span class=\"pl-k\">with</span> tf.Session(<span class=\"pl-v\">graph</span><span class=\"pl-k\">=</span>g, <span class=\"pl-v\">config</span><span class=\"pl-k\">=</span>utils.get_config_proto()) <span class=\"pl-k\">as</span> sess1:\n    prefix <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>prefix/<span class=\"pl-pds\">'</span></span>\n    sess1.run(\n        prefix <span class=\"pl-k\">+</span> infer_model.iterator.initializer.name,\n        <span class=\"pl-v\">feed_dict</span><span class=\"pl-k\">=</span>{\n            prefix <span class=\"pl-k\">+</span> infer_model.src_placeholder.name: infer_data,\n            prefix <span class=\"pl-k\">+</span> infer_model.batch_size_placeholder.name: hparams.infer_batch_size\n            })</pre></div>", "body_text": "I have the same problem, I get this error:\nFailedPreconditionError (see above for traceback): Table not initialized.\n\nI am trying to store my graph as a protobuf and then load it, when I run the graph I get the error above.\nHowever when I run the graph directly (w\\o storing it to .pb first) it works fine.\nwith tf.gfile.GFile(frozen_file_name, \"wb\") as f:\n    f.write(frozen_graph_def.SerializeToString())\ng = load_graph(frozen_file_name)\nwith tf.Session(graph=g, config=utils.get_config_proto()) as sess1:\n    prefix = 'prefix/'\n    sess1.run(\n        prefix + infer_model.iterator.initializer.name,\n        feed_dict={\n            prefix + infer_model.src_placeholder.name: infer_data,\n            prefix + infer_model.batch_size_placeholder.name: hparams.infer_batch_size\n            })", "body": "I have the same problem, I get this error:\r\n```\r\nFailedPreconditionError (see above for traceback): Table not initialized.\r\n```\r\n\r\nI am trying to store my graph as a protobuf and then load it, when I run the graph I get the error above.\r\n\r\nHowever when I run the graph directly (w\\o storing it to .pb first) it works fine.\r\n\r\n```python\r\nwith tf.gfile.GFile(frozen_file_name, \"wb\") as f:\r\n    f.write(frozen_graph_def.SerializeToString())\r\ng = load_graph(frozen_file_name)\r\nwith tf.Session(graph=g, config=utils.get_config_proto()) as sess1:\r\n    prefix = 'prefix/'\r\n    sess1.run(\r\n        prefix + infer_model.iterator.initializer.name,\r\n        feed_dict={\r\n            prefix + infer_model.src_placeholder.name: infer_data,\r\n            prefix + infer_model.batch_size_placeholder.name: hparams.infer_batch_size\r\n            })\r\n```"}