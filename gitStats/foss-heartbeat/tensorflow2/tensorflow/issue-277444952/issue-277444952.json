{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14947", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14947/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14947/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14947/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14947", "id": 277444952, "node_id": "MDU6SXNzdWUyNzc0NDQ5NTI=", "number": 14947, "title": "Tensorflow minimize operation runs into shape mismatch with StridedSliceGrad", "user": {"login": "Andrew-Draganov", "id": 16481309, "node_id": "MDQ6VXNlcjE2NDgxMzA5", "avatar_url": "https://avatars0.githubusercontent.com/u/16481309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Andrew-Draganov", "html_url": "https://github.com/Andrew-Draganov", "followers_url": "https://api.github.com/users/Andrew-Draganov/followers", "following_url": "https://api.github.com/users/Andrew-Draganov/following{/other_user}", "gists_url": "https://api.github.com/users/Andrew-Draganov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Andrew-Draganov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Andrew-Draganov/subscriptions", "organizations_url": "https://api.github.com/users/Andrew-Draganov/orgs", "repos_url": "https://api.github.com/users/Andrew-Draganov/repos", "events_url": "https://api.github.com/users/Andrew-Draganov/events{/privacy}", "received_events_url": "https://api.github.com/users/Andrew-Draganov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "poxvoculi", "id": 15676913, "node_id": "MDQ6VXNlcjE1Njc2OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/15676913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poxvoculi", "html_url": "https://github.com/poxvoculi", "followers_url": "https://api.github.com/users/poxvoculi/followers", "following_url": "https://api.github.com/users/poxvoculi/following{/other_user}", "gists_url": "https://api.github.com/users/poxvoculi/gists{/gist_id}", "starred_url": "https://api.github.com/users/poxvoculi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poxvoculi/subscriptions", "organizations_url": "https://api.github.com/users/poxvoculi/orgs", "repos_url": "https://api.github.com/users/poxvoculi/repos", "events_url": "https://api.github.com/users/poxvoculi/events{/privacy}", "received_events_url": "https://api.github.com/users/poxvoculi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "poxvoculi", "id": 15676913, "node_id": "MDQ6VXNlcjE1Njc2OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/15676913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poxvoculi", "html_url": "https://github.com/poxvoculi", "followers_url": "https://api.github.com/users/poxvoculi/followers", "following_url": "https://api.github.com/users/poxvoculi/following{/other_user}", "gists_url": "https://api.github.com/users/poxvoculi/gists{/gist_id}", "starred_url": "https://api.github.com/users/poxvoculi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poxvoculi/subscriptions", "organizations_url": "https://api.github.com/users/poxvoculi/orgs", "repos_url": "https://api.github.com/users/poxvoculi/repos", "events_url": "https://api.github.com/users/poxvoculi/events{/privacy}", "received_events_url": "https://api.github.com/users/poxvoculi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2017-11-28T16:17:06Z", "updated_at": "2018-04-08T20:59:15Z", "closed_at": "2018-04-08T20:59:15Z", "author_association": "NONE", "body_html": "<p>System Info:</p>\n<ul>\n<li>custom code</li>\n<li>Linux Ubuntu 16.04</li>\n<li>Tensorflow 1.4.0 installed with pip install tensorflow-gpu</li>\n<li>python 2.7</li>\n<li>CuDa 8</li>\n<li>terminal command just calls my script with \"python GAN.py\"</li>\n</ul>\n<p>Source code:</p>\n<p>input_points = tf.placeholder(shape=[batch_size, 2048, 3], dtype=tf.float32)<br>\nlatent_vector = encoder(input_points, encoder_weights, encoder_biases)<br>\nreconstructed_points = decoder(latent_vector, decoder_weights, decoder_biases)</p>\n<p>AE_loss = chamfer_distance(input_points, reconstructed_points, batch_size)</p>\n<p>AE_optimizer = tf.train.AdamOptimizer(learning_rate=0.0005, beta1=0.9)<br>\nAE_minimizer = AE_optimizer.minimize(AE_loss)</p>\n<p>Context: The input points and reconstructed points are the same shape. After the call to chamfer_distance(), AE_loss becomes a tf.constant.</p>\n<p>Upon calling AE_minimizer, I receive the following error log:<br>\nTraceback (most recent call last):<br>\nFile \"GAN.py\", line 168, in <br>\nmain()<br>\nFile \"GAN.py\", line 162, in main<br>\nAE_minimizer = AE_optimizer.minimize(AE_loss, var_list=AE_parameters)<br>\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 343, in minimize<br>\ngrad_loss=grad_loss)<br>\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 414, in compute_gradients<br>\ncolocate_gradients_with_ops=colocate_gradients_with_ops)<br>\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py\", line 581, in gradients<br>\ngrad_scope, op, func_call, lambda: grad_fn(op, *out_grads))<br>\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py\", line 353, in _MaybeCompile<br>\nreturn grad_fn()  # Exit early<br>\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py\", line 581, in <br>\ngrad_scope, op, func_call, lambda: grad_fn(op, *out_grads))<br>\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/array_grad.py\", line 245, in _StridedSliceGrad<br>\nshrink_axis_mask=op.get_attr(\"shrink_axis_mask\")), None, None, None<br>\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 5572, in strided_slice_grad<br>\nshrink_axis_mask=shrink_axis_mask, name=name)<br>\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 546, in _apply_op_helper<br>\ninferred_from[input_arg.type_attr]))<br>\nTypeError: Input 'begin' of 'StridedSliceGrad' Op has type int64 that does not match type int32 of argument 'shape'.</p>\n<p>I have seen traffic regarding problems with type mismatches with input 'begin', such as in Issue 11380. I have, however, seen nothing online for this specific problem, where the fields 'begin' and 'shape' have different types.</p>", "body_text": "System Info:\n\ncustom code\nLinux Ubuntu 16.04\nTensorflow 1.4.0 installed with pip install tensorflow-gpu\npython 2.7\nCuDa 8\nterminal command just calls my script with \"python GAN.py\"\n\nSource code:\ninput_points = tf.placeholder(shape=[batch_size, 2048, 3], dtype=tf.float32)\nlatent_vector = encoder(input_points, encoder_weights, encoder_biases)\nreconstructed_points = decoder(latent_vector, decoder_weights, decoder_biases)\nAE_loss = chamfer_distance(input_points, reconstructed_points, batch_size)\nAE_optimizer = tf.train.AdamOptimizer(learning_rate=0.0005, beta1=0.9)\nAE_minimizer = AE_optimizer.minimize(AE_loss)\nContext: The input points and reconstructed points are the same shape. After the call to chamfer_distance(), AE_loss becomes a tf.constant.\nUpon calling AE_minimizer, I receive the following error log:\nTraceback (most recent call last):\nFile \"GAN.py\", line 168, in \nmain()\nFile \"GAN.py\", line 162, in main\nAE_minimizer = AE_optimizer.minimize(AE_loss, var_list=AE_parameters)\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 343, in minimize\ngrad_loss=grad_loss)\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 414, in compute_gradients\ncolocate_gradients_with_ops=colocate_gradients_with_ops)\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py\", line 581, in gradients\ngrad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py\", line 353, in _MaybeCompile\nreturn grad_fn()  # Exit early\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py\", line 581, in \ngrad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/array_grad.py\", line 245, in _StridedSliceGrad\nshrink_axis_mask=op.get_attr(\"shrink_axis_mask\")), None, None, None\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 5572, in strided_slice_grad\nshrink_axis_mask=shrink_axis_mask, name=name)\nFile \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 546, in _apply_op_helper\ninferred_from[input_arg.type_attr]))\nTypeError: Input 'begin' of 'StridedSliceGrad' Op has type int64 that does not match type int32 of argument 'shape'.\nI have seen traffic regarding problems with type mismatches with input 'begin', such as in Issue 11380. I have, however, seen nothing online for this specific problem, where the fields 'begin' and 'shape' have different types.", "body": "System Info:\r\n   - custom code\r\n   - Linux Ubuntu 16.04\r\n   - Tensorflow 1.4.0 installed with pip install tensorflow-gpu\r\n   - python 2.7\r\n   - CuDa 8\r\n   - terminal command just calls my script with \"python GAN.py\"\r\n\r\nSource code:\r\n\r\ninput_points = tf.placeholder(shape=[batch_size, 2048, 3], dtype=tf.float32)\r\nlatent_vector = encoder(input_points, encoder_weights, encoder_biases)                       \r\nreconstructed_points = decoder(latent_vector, decoder_weights, decoder_biases)               \r\n                                                                                                 \r\nAE_loss = chamfer_distance(input_points, reconstructed_points, batch_size)                   \r\n                                                                                        \r\nAE_optimizer = tf.train.AdamOptimizer(learning_rate=0.0005, beta1=0.9)                       \r\nAE_minimizer = AE_optimizer.minimize(AE_loss)\r\n\r\n\r\n\r\nContext: The input points and reconstructed points are the same shape. After the call to chamfer_distance(), AE_loss becomes a tf.constant.\r\n\r\n\r\n\r\nUpon calling AE_minimizer, I receive the following error log:\r\nTraceback (most recent call last):\r\n  File \"GAN.py\", line 168, in <module>\r\n    main()\r\n  File \"GAN.py\", line 162, in main\r\n    AE_minimizer = AE_optimizer.minimize(AE_loss, var_list=AE_parameters)\r\n  File \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 343, in minimize\r\n    grad_loss=grad_loss)\r\n  File \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 414, in compute_gradients\r\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\r\n  File \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py\", line 581, in gradients\r\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\r\n  File \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py\", line 353, in _MaybeCompile\r\n    return grad_fn()  # Exit early\r\n  File \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py\", line 581, in <lambda>\r\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\r\n  File \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/array_grad.py\", line 245, in _StridedSliceGrad\r\n    shrink_axis_mask=op.get_attr(\"shrink_axis_mask\")), None, None, None\r\n  File \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 5572, in strided_slice_grad\r\n    shrink_axis_mask=shrink_axis_mask, name=name)\r\n  File \"/home/adraganov/tensorflow/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 546, in _apply_op_helper\r\n    inferred_from[input_arg.type_attr]))\r\nTypeError: Input 'begin' of 'StridedSliceGrad' Op has type int64 that does not match type int32 of argument 'shape'.\r\n\r\n\r\n\r\nI have seen traffic regarding problems with type mismatches with input 'begin', such as in Issue 11380. I have, however, seen nothing online for this specific problem, where the fields 'begin' and 'shape' have different types."}