{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14789", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14789/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14789/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14789/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/14789", "id": 276000652, "node_id": "MDExOlB1bGxSZXF1ZXN0MTU0MTAzNDYx", "number": 14789, "title": "Add templated functions for `safe_strto[f|d|i32|i64|u32|u64]`", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 419840263, "node_id": "MDU6TGFiZWw0MTk4NDAyNjM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20testing%20(then%20merge)", "name": "awaiting testing (then merge)", "color": "c2e0c6", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-22T09:38:30Z", "updated_at": "2017-12-27T06:58:10Z", "closed_at": "2017-12-27T02:46:18Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14789", "html_url": "https://github.com/tensorflow/tensorflow/pull/14789", "diff_url": "https://github.com/tensorflow/tensorflow/pull/14789.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/14789.patch"}, "body_html": "<p>While working on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"271952260\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14330\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/14330/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/14330\">#14330</a> I noticed that there is no templated functions for <code>safe_strto[f|d|i32|i64|u32|u64]</code>. As a result, an additional wrapper has to be created in different places to apply the typename in a templated class or function.</p>\n<p>Examples of the wrappers include the existing implementations in <code>tensorflow/core/kernels/string_to_number_op.cc</code> (<code>Convert</code>), <code>tensorflow/core/lib/strings/proto_text_util.h</code> (<code>ProtoParseNumeric</code>), and in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"271952260\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14330\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/14330/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/14330\">#14330</a>.</p>\n<p>It might make sense to add a templated function for <code>safe_strto[f|d|i32|i64|u32|u64]</code> to avoid existing and future code duplications.</p>\n<p>This fix adds</p>\n<pre><code>template&lt;typename T&gt;\nbool SafeStringToNumeric(StringPiece s, T* value);\n</code></pre>\n<p>to address the above mentioned issue.</p>\n<p>Note: If this PR is merged then <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"271952260\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14330\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/14330/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/14330\">#14330</a> will needs to be updated accordingly.</p>\n<p>Signed-off-by: Yong Tang <a href=\"mailto:yong.tang.github@outlook.com\">yong.tang.github@outlook.com</a></p>", "body_text": "While working on #14330 I noticed that there is no templated functions for safe_strto[f|d|i32|i64|u32|u64]. As a result, an additional wrapper has to be created in different places to apply the typename in a templated class or function.\nExamples of the wrappers include the existing implementations in tensorflow/core/kernels/string_to_number_op.cc (Convert), tensorflow/core/lib/strings/proto_text_util.h (ProtoParseNumeric), and in #14330.\nIt might make sense to add a templated function for safe_strto[f|d|i32|i64|u32|u64] to avoid existing and future code duplications.\nThis fix adds\ntemplate<typename T>\nbool SafeStringToNumeric(StringPiece s, T* value);\n\nto address the above mentioned issue.\nNote: If this PR is merged then #14330 will needs to be updated accordingly.\nSigned-off-by: Yong Tang yong.tang.github@outlook.com", "body": "While working on #14330 I noticed that there is no templated functions for `safe_strto[f|d|i32|i64|u32|u64]`. As a result, an additional wrapper has to be created in different places to apply the typename in a templated class or function.\r\n\r\nExamples of the wrappers include the existing implementations in `tensorflow/core/kernels/string_to_number_op.cc` (`Convert`), `tensorflow/core/lib/strings/proto_text_util.h` (`ProtoParseNumeric`), and in #14330.\r\n\r\nIt might make sense to add a templated function for `safe_strto[f|d|i32|i64|u32|u64]` to avoid existing and future code duplications.\r\n\r\nThis fix adds\r\n```\r\ntemplate<typename T>\r\nbool SafeStringToNumeric(StringPiece s, T* value);\r\n```\r\nto address the above mentioned issue.\r\n\r\nNote: If this PR is merged then #14330 will needs to be updated accordingly.\r\n\r\nSigned-off-by: Yong Tang <yong.tang.github@outlook.com>"}