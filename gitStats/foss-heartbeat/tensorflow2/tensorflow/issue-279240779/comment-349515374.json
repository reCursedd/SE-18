{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/349515374", "html_url": "https://github.com/tensorflow/tensorflow/issues/15115#issuecomment-349515374", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15115", "id": 349515374, "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTUxNTM3NA==", "user": {"login": "secsilm", "id": 8894643, "node_id": "MDQ6VXNlcjg4OTQ2NDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/8894643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/secsilm", "html_url": "https://github.com/secsilm", "followers_url": "https://api.github.com/users/secsilm/followers", "following_url": "https://api.github.com/users/secsilm/following{/other_user}", "gists_url": "https://api.github.com/users/secsilm/gists{/gist_id}", "starred_url": "https://api.github.com/users/secsilm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/secsilm/subscriptions", "organizations_url": "https://api.github.com/users/secsilm/orgs", "repos_url": "https://api.github.com/users/secsilm/repos", "events_url": "https://api.github.com/users/secsilm/events{/privacy}", "received_events_url": "https://api.github.com/users/secsilm/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-06T02:54:35Z", "updated_at": "2017-12-06T02:54:35Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6510203\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/reedwm\">@reedwm</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2109115\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jmaye\">@jmaye</a> Thank you for your reply. I read <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"224889608\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9498\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/9498/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/9498\">#9498</a> and understand that <code>update_op</code> is called every batch. But I still have one question: <strong>When</strong> the <code>accuracy</code> is computed?</p>\n<p><a href=\"https://www.tensorflow.org/api_docs/python/tf/metrics/accuracy\" rel=\"nofollow\">The doc</a> says:</p>\n<blockquote>\n<p>The accuracy function creates two local variables, <code>total</code> and <code>count</code> that are used to compute the frequency with which predictions matches labels. This frequency is ultimately returned as accuracy: an idempotent operation that simply divides <code>total</code> by <code>count</code>.</p>\n</blockquote>\n<p>but doesn't say when the accuracy is computed, i.e. divides <code>total</code> by <code>count</code>.</p>\n<p>In my codes above, the accuracy is computed when finishing evaluation progress. But is it supposed to computing the accuracy when finishing the entire training progress?</p>", "body_text": "@reedwm @jmaye Thank you for your reply. I read #9498 and understand that update_op is called every batch. But I still have one question: When the accuracy is computed?\nThe doc says:\n\nThe accuracy function creates two local variables, total and count that are used to compute the frequency with which predictions matches labels. This frequency is ultimately returned as accuracy: an idempotent operation that simply divides total by count.\n\nbut doesn't say when the accuracy is computed, i.e. divides total by count.\nIn my codes above, the accuracy is computed when finishing evaluation progress. But is it supposed to computing the accuracy when finishing the entire training progress?", "body": "@reedwm @jmaye Thank you for your reply. I read #9498 and understand that `update_op` is called every batch. But I still have one question: **When** the `accuracy` is computed?\r\n\r\n[The doc](https://www.tensorflow.org/api_docs/python/tf/metrics/accuracy) says:\r\n\r\n> The accuracy function creates two local variables, `total` and `count` that are used to compute the frequency with which predictions matches labels. This frequency is ultimately returned as accuracy: an idempotent operation that simply divides `total` by `count`.\r\n\r\nbut doesn't say when the accuracy is computed, i.e. divides `total` by `count`.\r\n\r\nIn my codes above, the accuracy is computed when finishing evaluation progress. But is it supposed to computing the accuracy when finishing the entire training progress? "}