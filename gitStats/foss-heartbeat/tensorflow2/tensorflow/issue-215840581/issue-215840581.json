{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8593", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8593/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8593/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8593/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8593", "id": 215840581, "node_id": "MDU6SXNzdWUyMTU4NDA1ODE=", "number": 8593, "title": "dtype of methods in tensorflow.contrib.distributions does not depend on self.dtype", "user": {"login": "dustinvtran", "id": 2569867, "node_id": "MDQ6VXNlcjI1Njk4Njc=", "avatar_url": "https://avatars1.githubusercontent.com/u/2569867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dustinvtran", "html_url": "https://github.com/dustinvtran", "followers_url": "https://api.github.com/users/dustinvtran/followers", "following_url": "https://api.github.com/users/dustinvtran/following{/other_user}", "gists_url": "https://api.github.com/users/dustinvtran/gists{/gist_id}", "starred_url": "https://api.github.com/users/dustinvtran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dustinvtran/subscriptions", "organizations_url": "https://api.github.com/users/dustinvtran/orgs", "repos_url": "https://api.github.com/users/dustinvtran/repos", "events_url": "https://api.github.com/users/dustinvtran/events{/privacy}", "received_events_url": "https://api.github.com/users/dustinvtran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-03-21T18:43:50Z", "updated_at": "2017-06-16T20:25:00Z", "closed_at": "2017-06-16T20:25:00Z", "author_association": "MEMBER", "body_html": "<p>In master (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/f4a0c2c0f1bbff6e9b4d5d4a0796e7645a974321/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/f4a0c2c0f1bbff6e9b4d5d4a0796e7645a974321\"><tt>f4a0c2c</tt></a>) (and versions such as r1.0), the docstring in <code>log_prob()</code> claims to return a tensor which has the same dtype as the distributions' dtype. This is not true for the built-in distributions. For example:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">from</span> tensorflow.contrib <span class=\"pl-k\">import</span> distributions <span class=\"pl-k\">as</span> ds\n<span class=\"pl-k\">&gt;&gt;&gt;&gt;</span>\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x <span class=\"pl-k\">=</span> ds.Bernoulli(<span class=\"pl-v\">p</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">0.5</span>)\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x.dtype\ntf.int32\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x.log_prob(<span class=\"pl-c1\">1</span>)\n<span class=\"pl-k\">&lt;</span>tf.Tensor <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Bernoulli_1/log_prob/Neg:0<span class=\"pl-pds\">'</span></span> shape<span class=\"pl-k\">=</span>() dtype<span class=\"pl-k\">=</span>float32<span class=\"pl-k\">&gt;</span></pre></div>\n<p>This inconsistency also occurs for many methods beyond <code>log_prob()</code>.</p>", "body_text": "In master (f4a0c2c) (and versions such as r1.0), the docstring in log_prob() claims to return a tensor which has the same dtype as the distributions' dtype. This is not true for the built-in distributions. For example:\n>>> from tensorflow.contrib import distributions as ds\n>>>>\n>>> x = ds.Bernoulli(p=0.5)\n>>> x.dtype\ntf.int32\n>>> x.log_prob(1)\n<tf.Tensor 'Bernoulli_1/log_prob/Neg:0' shape=() dtype=float32>\nThis inconsistency also occurs for many methods beyond log_prob().", "body": "In master (f4a0c2c) (and versions such as r1.0), the docstring in `log_prob()` claims to return a tensor which has the same dtype as the distributions' dtype. This is not true for the built-in distributions. For example:\r\n```python\r\n>>> from tensorflow.contrib import distributions as ds\r\n>>>>\r\n>>> x = ds.Bernoulli(p=0.5)\r\n>>> x.dtype\r\ntf.int32\r\n>>> x.log_prob(1)\r\n<tf.Tensor 'Bernoulli_1/log_prob/Neg:0' shape=() dtype=float32>\r\n```\r\n\r\nThis inconsistency also occurs for many methods beyond `log_prob()`."}