{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/288499054", "html_url": "https://github.com/tensorflow/tensorflow/issues/8593#issuecomment-288499054", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8593", "id": 288499054, "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODQ5OTA1NA==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-22T18:40:44Z", "updated_at": "2017-03-22T18:40:44Z", "author_association": "CONTRIBUTOR", "body_html": "<div class=\"email-fragment\">I don't know of any distributions where sample().dtype != dist.dtype.\n\nMost other methods should not be expected to match the dtype, because they\ninclude computations on the probability and the domain of the\ndistribution.  All statistics, log_prob, etc, require computations that mix\nthe domain values (of type dist.dtype) of the probabilities (usually one of\ntf.float{16,32,64}).</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Wed, Mar 22, 2017 at 11:04 AM, Dustin Tran ***@***.***&gt; wrote:\n In Bernoulli, sample() casts the output to self.dtype before returning\n it. So it has the same dtype as the distribution's.\n\n &gt;&gt;&gt; from tensorflow.contrib import distributions as ds&gt;&gt;&gt;&gt;&gt;&gt;&gt; x = ds.Bernoulli(p=0.5)&gt;&gt;&gt; x.dtype\n tf.int32&gt;&gt;&gt; x.log_prob(1)&lt;tf.Tensor 'Bernoulli_1/log_prob/Neg:0' shape=() dtype=float32&gt;&gt;&gt;&gt; x.sample()&lt;tf.Tensor 'Bernoulli/sample/Reshape:0' shape=() dtype=int32&gt;\n\n Not sure about the others. Are there cases where the dtype returned by\n sample() is different from the distribution's dtype?\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"215840581\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8593\" href=\"https://github.com/tensorflow/tensorflow/issues/8593#issuecomment-288487875\">#8593 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/ABtimzUCNuafEWMpdXFDleMtiORz9Bdmks5roWLIgaJpZM4MkPhT\">https://github.com/notifications/unsubscribe-auth/ABtimzUCNuafEWMpdXFDleMtiORz9Bdmks5roWLIgaJpZM4MkPhT</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "I don't know of any distributions where sample().dtype != dist.dtype.\n\nMost other methods should not be expected to match the dtype, because they\ninclude computations on the probability and the domain of the\ndistribution.  All statistics, log_prob, etc, require computations that mix\nthe domain values (of type dist.dtype) of the probabilities (usually one of\ntf.float{16,32,64}).\n\u2026\nOn Wed, Mar 22, 2017 at 11:04 AM, Dustin Tran ***@***.***> wrote:\n In Bernoulli, sample() casts the output to self.dtype before returning\n it. So it has the same dtype as the distribution's.\n\n >>> from tensorflow.contrib import distributions as ds>>>>>>> x = ds.Bernoulli(p=0.5)>>> x.dtype\n tf.int32>>> x.log_prob(1)<tf.Tensor 'Bernoulli_1/log_prob/Neg:0' shape=() dtype=float32>>>> x.sample()<tf.Tensor 'Bernoulli/sample/Reshape:0' shape=() dtype=int32>\n\n Not sure about the others. Are there cases where the dtype returned by\n sample() is different from the distribution's dtype?\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#8593 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/ABtimzUCNuafEWMpdXFDleMtiORz9Bdmks5roWLIgaJpZM4MkPhT>\n .", "body": "I don't know of any distributions where sample().dtype != dist.dtype.\n\nMost other methods should not be expected to match the dtype, because they\ninclude computations on the probability and the domain of the\ndistribution.  All statistics, log_prob, etc, require computations that mix\nthe domain values (of type dist.dtype) of the probabilities (usually one of\ntf.float{16,32,64}).\n\nOn Wed, Mar 22, 2017 at 11:04 AM, Dustin Tran <notifications@github.com>\nwrote:\n\n> In Bernoulli, sample() casts the output to self.dtype before returning\n> it. So it has the same dtype as the distribution's.\n>\n> >>> from tensorflow.contrib import distributions as ds>>>>>>> x = ds.Bernoulli(p=0.5)>>> x.dtype\n> tf.int32>>> x.log_prob(1)<tf.Tensor 'Bernoulli_1/log_prob/Neg:0' shape=() dtype=float32>>>> x.sample()<tf.Tensor 'Bernoulli/sample/Reshape:0' shape=() dtype=int32>\n>\n> Not sure about the others. Are there cases where the dtype returned by\n> sample() is different from the distribution's dtype?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/8593#issuecomment-288487875>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABtimzUCNuafEWMpdXFDleMtiORz9Bdmks5roWLIgaJpZM4MkPhT>\n> .\n>\n"}