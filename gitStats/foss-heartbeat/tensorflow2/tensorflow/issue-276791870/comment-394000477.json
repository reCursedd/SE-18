{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/394000477", "html_url": "https://github.com/tensorflow/tensorflow/issues/14884#issuecomment-394000477", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14884", "id": 394000477, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDAwMDQ3Nw==", "user": {"login": "peci1", "id": 182533, "node_id": "MDQ6VXNlcjE4MjUzMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/182533?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peci1", "html_url": "https://github.com/peci1", "followers_url": "https://api.github.com/users/peci1/followers", "following_url": "https://api.github.com/users/peci1/following{/other_user}", "gists_url": "https://api.github.com/users/peci1/gists{/gist_id}", "starred_url": "https://api.github.com/users/peci1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peci1/subscriptions", "organizations_url": "https://api.github.com/users/peci1/orgs", "repos_url": "https://api.github.com/users/peci1/repos", "events_url": "https://api.github.com/users/peci1/events{/privacy}", "received_events_url": "https://api.github.com/users/peci1/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-01T20:29:48Z", "updated_at": "2018-06-01T20:29:48Z", "author_association": "NONE", "body_html": "<p>I forgot to mention the code I posted (probably) only works for .pb models with variables converted to constants. I've created a gist where you'll find how I build, save and execute the models: <a href=\"https://gist.github.com/peci1/80cf0dd79986db83b4c99d0714ddf2ff\">https://gist.github.com/peci1/80cf0dd79986db83b4c99d0714ddf2ff</a> .</p>\n<p>If the model you have is in a different format, first load it in newer TF, save it with save_pb_model.py from the gist, and then the fix_graph_def should work. You can even call fix_graph_def before saving the model, and then you wouldn't need to call it during execution.</p>", "body_text": "I forgot to mention the code I posted (probably) only works for .pb models with variables converted to constants. I've created a gist where you'll find how I build, save and execute the models: https://gist.github.com/peci1/80cf0dd79986db83b4c99d0714ddf2ff .\nIf the model you have is in a different format, first load it in newer TF, save it with save_pb_model.py from the gist, and then the fix_graph_def should work. You can even call fix_graph_def before saving the model, and then you wouldn't need to call it during execution.", "body": "I forgot to mention the code I posted (probably) only works for .pb models with variables converted to constants. I've created a gist where you'll find how I build, save and execute the models: https://gist.github.com/peci1/80cf0dd79986db83b4c99d0714ddf2ff .\r\n\r\nIf the model you have is in a different format, first load it in newer TF, save it with save_pb_model.py from the gist, and then the fix_graph_def should work. You can even call fix_graph_def before saving the model, and then you wouldn't need to call it during execution."}