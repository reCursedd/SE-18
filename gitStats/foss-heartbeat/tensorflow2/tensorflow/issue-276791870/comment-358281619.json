{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/358281619", "html_url": "https://github.com/tensorflow/tensorflow/issues/14884#issuecomment-358281619", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14884", "id": 358281619, "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODI4MTYxOQ==", "user": {"login": "ChaosPredictor", "id": 1302083, "node_id": "MDQ6VXNlcjEzMDIwODM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1302083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChaosPredictor", "html_url": "https://github.com/ChaosPredictor", "followers_url": "https://api.github.com/users/ChaosPredictor/followers", "following_url": "https://api.github.com/users/ChaosPredictor/following{/other_user}", "gists_url": "https://api.github.com/users/ChaosPredictor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChaosPredictor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChaosPredictor/subscriptions", "organizations_url": "https://api.github.com/users/ChaosPredictor/orgs", "repos_url": "https://api.github.com/users/ChaosPredictor/repos", "events_url": "https://api.github.com/users/ChaosPredictor/events{/privacy}", "received_events_url": "https://api.github.com/users/ChaosPredictor/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-17T11:50:27Z", "updated_at": "2018-01-17T11:50:51Z", "author_association": "NONE", "body_html": "<p>Have the same issue on Ubuntu.</p>\n<p><strong>I have one setup that works and the second one that doesn't both are Ubuntu 16.04.</strong></p>\n<blockquote>\n<p>2018-01-17 13:34:33.500813: E tensorflow/core/common_runtime/executor.cc:643] Executor failed to create kernel. Invalid argument: NodeDef mentions attr 'dilations' not in Op&lt;name=Conv2D; signature=input:T, filter:T -&gt; output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]&gt;; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).<br>\n[[Node: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params)]]<br>\nTraceback (most recent call last):<br>\nFile \"label_image.py\", line 246, in <br>\ntf.app.run(main=main, argv=sys.argv[:1]+unparsed)<br>\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run<br>\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))<br>\nFile \"label_image.py\", line 224, in main<br>\nFLAGS.num_top_predictions)<br>\nFile \"label_image.py\", line 188, in run_on_images<br>\nnum_top_predictions)<br>\nFile \"label_image.py\", line 160, in predict_image<br>\ntemp = run_graph_label_only(image, labels, input_layer_name, output_layer_name, num_top_predictions)<br>\nFile \"label_image.py\", line 133, in run_graph_label_only<br>\npredictions, = sess.run(softmax_tensor, {input_layer_name: image_data})<br>\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 889, in run<br>\nrun_metadata_ptr)<br>\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1120, in _run<br>\nfeed_dict_tensor, options, run_metadata)<br>\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1317, in _do_run<br>\noptions, run_metadata)<br>\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1336, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors_impl.InvalidArgumentError: NodeDef mentions attr 'dilations' not in Op&lt;name=Conv2D; signature=input:T, filter:T -&gt; output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]&gt;; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).<br>\n[[Node: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params)]]</p>\n<p>Caused by op u'conv/Conv2D', defined at:<br>\nFile \"label_image.py\", line 246, in <br>\ntf.app.run(main=main, argv=sys.argv[:1]+unparsed)<br>\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run<br>\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))<br>\nFile \"label_image.py\", line 221, in main<br>\nload_graph(FLAGS.graph)<br>\nFile \"label_image.py\", line 99, in load_graph<br>\ntf.import_graph_def(graph_def, name='')<br>\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/importer.py\", line 313, in import_graph_def<br>\nop_def=op_def)<br>\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2956, in create_op<br>\nop_def=op_def)<br>\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1470, in <strong>init</strong><br>\nself._traceback = self._graph._extract_stack()  # pylint: disable=protected-access</p>\n<p>InvalidArgumentError (see above for traceback): NodeDef mentions attr 'dilations' not in Op&lt;name=Conv2D; signature=input:T, filter:T -&gt; output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]&gt;; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).<br>\n[[Node: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params)]]</p>\n</blockquote>\n<p>I have tries to update the tensorflow but getting the same error. The Retrain part working without problem. only when I'm trying with use the retrained model. I'm thinking that maybe it some how related to Conda or Cuda</p>", "body_text": "Have the same issue on Ubuntu.\nI have one setup that works and the second one that doesn't both are Ubuntu 16.04.\n\n2018-01-17 13:34:33.500813: E tensorflow/core/common_runtime/executor.cc:643] Executor failed to create kernel. Invalid argument: NodeDef mentions attr 'dilations' not in Op<name=Conv2D; signature=input:T, filter:T -> output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).\n[[Node: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params)]]\nTraceback (most recent call last):\nFile \"label_image.py\", line 246, in \ntf.app.run(main=main, argv=sys.argv[:1]+unparsed)\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))\nFile \"label_image.py\", line 224, in main\nFLAGS.num_top_predictions)\nFile \"label_image.py\", line 188, in run_on_images\nnum_top_predictions)\nFile \"label_image.py\", line 160, in predict_image\ntemp = run_graph_label_only(image, labels, input_layer_name, output_layer_name, num_top_predictions)\nFile \"label_image.py\", line 133, in run_graph_label_only\npredictions, = sess.run(softmax_tensor, {input_layer_name: image_data})\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 889, in run\nrun_metadata_ptr)\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1120, in _run\nfeed_dict_tensor, options, run_metadata)\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1317, in _do_run\noptions, run_metadata)\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1336, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: NodeDef mentions attr 'dilations' not in Op<name=Conv2D; signature=input:T, filter:T -> output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).\n[[Node: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params)]]\nCaused by op u'conv/Conv2D', defined at:\nFile \"label_image.py\", line 246, in \ntf.app.run(main=main, argv=sys.argv[:1]+unparsed)\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))\nFile \"label_image.py\", line 221, in main\nload_graph(FLAGS.graph)\nFile \"label_image.py\", line 99, in load_graph\ntf.import_graph_def(graph_def, name='')\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/importer.py\", line 313, in import_graph_def\nop_def=op_def)\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2956, in create_op\nop_def=op_def)\nFile \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1470, in init\nself._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\nInvalidArgumentError (see above for traceback): NodeDef mentions attr 'dilations' not in Op<name=Conv2D; signature=input:T, filter:T -> output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).\n[[Node: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params)]]\n\nI have tries to update the tensorflow but getting the same error. The Retrain part working without problem. only when I'm trying with use the retrained model. I'm thinking that maybe it some how related to Conda or Cuda", "body": "Have the same issue on Ubuntu.\r\n\r\n**I have one setup that works and the second one that doesn't both are Ubuntu 16.04.**\r\n\r\n> 2018-01-17 13:34:33.500813: E tensorflow/core/common_runtime/executor.cc:643] Executor failed to create kernel. Invalid argument: NodeDef mentions attr 'dilations' not in Op<name=Conv2D; signature=input:T, filter:T -> output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).\r\n> \t [[Node: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params)]]\r\n> Traceback (most recent call last):\r\n>   File \"label_image.py\", line 246, in <module>\r\n>     tf.app.run(main=main, argv=sys.argv[:1]+unparsed)\r\n>   File \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run\r\n>     _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n>   File \"label_image.py\", line 224, in main\r\n>     FLAGS.num_top_predictions)\r\n>   File \"label_image.py\", line 188, in run_on_images\r\n>     num_top_predictions)\r\n>   File \"label_image.py\", line 160, in predict_image\r\n>     temp = run_graph_label_only(image, labels, input_layer_name, output_layer_name, num_top_predictions)\r\n>   File \"label_image.py\", line 133, in run_graph_label_only\r\n>     predictions, = sess.run(softmax_tensor, {input_layer_name: image_data})\r\n>   File \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 889, in run\r\n>     run_metadata_ptr)\r\n>   File \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1120, in _run\r\n>     feed_dict_tensor, options, run_metadata)\r\n>   File \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1317, in _do_run\r\n>     options, run_metadata)\r\n>   File \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1336, in _do_call\r\n>     raise type(e)(node_def, op, message)\r\n> tensorflow.python.framework.errors_impl.InvalidArgumentError: NodeDef mentions attr 'dilations' not in Op<name=Conv2D; signature=input:T, filter:T -> output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).\r\n> \t [[Node: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params)]]\r\n> \r\n> Caused by op u'conv/Conv2D', defined at:\r\n>   File \"label_image.py\", line 246, in <module>\r\n>     tf.app.run(main=main, argv=sys.argv[:1]+unparsed)\r\n>   File \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run\r\n>     _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n>   File \"label_image.py\", line 221, in main\r\n>     load_graph(FLAGS.graph)\r\n>   File \"label_image.py\", line 99, in load_graph\r\n>     tf.import_graph_def(graph_def, name='')\r\n>   File \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/importer.py\", line 313, in import_graph_def\r\n>     op_def=op_def)\r\n>   File \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2956, in create_op\r\n>     op_def=op_def)\r\n>   File \"/home/master/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1470, in __init__\r\n>     self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n> \r\n> InvalidArgumentError (see above for traceback): NodeDef mentions attr 'dilations' not in Op<name=Conv2D; signature=input:T, filter:T -> output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).\r\n> \t [[Node: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Mul, conv/conv2d_params)]]\r\n\r\nI have tries to update the tensorflow but getting the same error. The Retrain part working without problem. only when I'm trying with use the retrained model. I'm thinking that maybe it some how related to Conda or Cuda\r\n "}