{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/206380344", "pull_request_review_id": 141783643, "id": 206380344, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjM4MDM0NA==", "diff_hunk": "@@ -52,7 +52,8 @@ load(\n     \"//third_party/mkl:build_defs.bzl\",\n     \"if_mkl\",\n )\n-load(\"@local_config_cuda//cuda:build_defs.bzl\", \"if_cuda\")\n+load(\"@local_config_cuda//cuda:build_defs.bzl\", \"if_cuda\", \"if_cuda_is_configured\")\n+load(\"@local_config_rocm//rocm:build_defs.bzl\", \"if_rocm\", \"if_rocm_is_configured\")", "path": "tensorflow/core/kernels/BUILD", "position": null, "original_position": 6, "commit_id": "69d3b8faf41791834301a74a05e288964940427d", "original_commit_id": "4885f5e61c204ddc79d2a48cfe91c6c4b7688b18", "user": {"login": "Artem-B", "id": 526795, "node_id": "MDQ6VXNlcjUyNjc5NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/526795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Artem-B", "html_url": "https://github.com/Artem-B", "followers_url": "https://api.github.com/users/Artem-B/followers", "following_url": "https://api.github.com/users/Artem-B/following{/other_user}", "gists_url": "https://api.github.com/users/Artem-B/gists{/gist_id}", "starred_url": "https://api.github.com/users/Artem-B/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Artem-B/subscriptions", "organizations_url": "https://api.github.com/users/Artem-B/orgs", "repos_url": "https://api.github.com/users/Artem-B/repos", "events_url": "https://api.github.com/users/Artem-B/events{/privacy}", "received_events_url": "https://api.github.com/users/Artem-B/received_events", "type": "User", "site_admin": false}, "body": "Considering that at the moment we do not have a working alternative, that's probably the least bad option.\r\nIt does entangle the build with multiple crosstools, but it's a marginal bump in amount of work we'll need to do in addition to what's needed to deal with --config=nvcc. Making sure rocm build remains working will be a bit of a pain, but I expect bulk of the issues to be figured out on nvcc build, so overall it should not be a major issue.\r\n\r\nI'm OK with the patch, but it's ultimately TF team's call.", "created_at": "2018-07-31T02:41:51Z", "updated_at": "2018-09-06T00:48:23Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/20277#discussion_r206380344", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20277", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/206380344"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/20277#discussion_r206380344"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20277"}}, "body_html": "<p>Considering that at the moment we do not have a working alternative, that's probably the least bad option.<br>\nIt does entangle the build with multiple crosstools, but it's a marginal bump in amount of work we'll need to do in addition to what's needed to deal with --config=nvcc. Making sure rocm build remains working will be a bit of a pain, but I expect bulk of the issues to be figured out on nvcc build, so overall it should not be a major issue.</p>\n<p>I'm OK with the patch, but it's ultimately TF team's call.</p>", "body_text": "Considering that at the moment we do not have a working alternative, that's probably the least bad option.\nIt does entangle the build with multiple crosstools, but it's a marginal bump in amount of work we'll need to do in addition to what's needed to deal with --config=nvcc. Making sure rocm build remains working will be a bit of a pain, but I expect bulk of the issues to be figured out on nvcc build, so overall it should not be a major issue.\nI'm OK with the patch, but it's ultimately TF team's call.", "in_reply_to_id": 202820055}