{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/202821258", "pull_request_review_id": 137590248, "id": 202821258, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMjgyMTI1OA==", "diff_hunk": "@@ -730,26 +737,27 @@ def tf_cuda_cc_test(name,\n       linkstatic=linkstatic,\n       linkopts=linkopts,\n       args=args)\n-  tf_cc_test(\n-      name=name,\n-      srcs=srcs,\n-      suffix=\"_gpu\",\n-      deps=deps + if_cuda([\n-          clean_dep(\"//tensorflow/core:gpu_runtime\"),\n-      ]),\n-      linkstatic=select({\n-          # TODO(allenl): Remove Mac static linking when Bazel 0.6 is out.\n-          clean_dep(\"//tensorflow:darwin\"): 1,\n-          \"@local_config_cuda//cuda:using_nvcc\": 1,\n-          \"@local_config_cuda//cuda:using_clang\": 1,\n-          \"//conditions:default\": 0,\n-      }),\n-      tags=tags + tf_cuda_tests_tags(),\n-      data=data,\n-      size=size,\n-      extra_copts=extra_copts,\n-      linkopts=linkopts,\n-      args=args)\n+  if if_cuda_is_configured(True) or if_rocm_is_configured(True):", "path": "tensorflow/tensorflow.bzl", "position": null, "original_position": 49, "commit_id": "69d3b8faf41791834301a74a05e288964940427d", "original_commit_id": "4885f5e61c204ddc79d2a48cfe91c6c4b7688b18", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "body": "Internally, we do not have a configure script. So we need this enabled unconditionally. Please revert. and just expand the switch statements.", "created_at": "2018-07-16T20:53:55Z", "updated_at": "2018-09-06T00:48:23Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/20277#discussion_r202821258", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20277", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/202821258"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/20277#discussion_r202821258"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20277"}}, "body_html": "<p>Internally, we do not have a configure script. So we need this enabled unconditionally. Please revert. and just expand the switch statements.</p>", "body_text": "Internally, we do not have a configure script. So we need this enabled unconditionally. Please revert. and just expand the switch statements."}