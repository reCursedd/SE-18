{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/201458435", "pull_request_review_id": 135965361, "id": 201458435, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTQ1ODQzNQ==", "diff_hunk": "@@ -0,0 +1,98 @@\n+# This Dockerfile provides a starting point for a ROCm installation of \n+# MIOpen and tensorflow.  \n+FROM ubuntu:xenial-20170619\n+MAINTAINER Jeff Poznanovic <jeffrey.poznanovic@amd.com>\n+\n+ARG DEB_ROCM_REPO=http://repo.radeon.com/rocm/apt/debian/\n+ARG ROCM_PATH=/opt/rocm\n+\n+ENV DEBIAN_FRONTEND noninteractive\n+ENV TF_NEED_ROCM 1\n+ENV HOME /root/\n+RUN apt update && apt install -y wget software-properties-common \n+\n+# Add rocm repository\n+RUN apt-get clean all\n+RUN wget -qO - $DEB_ROCM_REPO/rocm.gpg.key | apt-key add -\n+RUN sh -c  \"echo deb [arch=amd64] $DEB_ROCM_REPO xenial main > /etc/apt/sources.list.d/rocm.list\"\n+\n+# Install misc pkgs\n+RUN apt-get update --allow-insecure-repositories && DEBIAN_FRONTEND=noninteractive apt-get install -y \\\n+  build-essential \\\n+  clang-3.8 \\\n+  clang-format-3.8 \\\n+  clang-tidy-3.8 \\\n+  cmake \\\n+  cmake-qt-gui \\\n+  ssh \\\n+  curl \\\n+  apt-utils \\\n+  pkg-config \\\n+  g++-multilib \\\n+  git \\\n+  libunwind-dev \\\n+  libfftw3-dev \\\n+  libelf-dev \\\n+  libncurses5-dev \\\n+  libpthread-stubs0-dev \\\n+  vim \\\n+  gfortran \\\n+  libboost-program-options-dev \\\n+  libssl-dev \\\n+  libboost-dev \\\n+  libboost-system-dev \\\n+  libboost-filesystem-dev \\\n+  rpm \\\n+  libnuma-dev \\\n+  virtualenv \\\n+  python-pip \\\n+  python3-pip \\\n+  wget && \\\n+  apt-get clean && \\\n+  rm -rf /var/lib/apt/lists/*\n+\n+# Install rocm pkgs\n+RUN apt-get update --allow-insecure-repositories && \\\n+    DEBIAN_FRONTEND=noninteractive apt-get install -y --allow-unauthenticated \\\n+    rocm-dev rocm-libs rocm-utils \\\n+    rocfft miopen-hip miopengemm rocblas hipblas rocrand \\\n+    rocm-profiler cxlactivitylogger && \\\n+    apt-get clean && \\\n+    rm -rf /var/lib/apt/lists/*\n+\n+# Workaround: use HIP PR#457 and then build from source", "path": "tensorflow/tools/ci_build/Dockerfile.rocm", "position": null, "original_position": 63, "commit_id": "69d3b8faf41791834301a74a05e288964940427d", "original_commit_id": "01a400b00834aee3b827ace4f0277bc2f7db89b9", "user": {"login": "whchung", "id": 1673574, "node_id": "MDQ6VXNlcjE2NzM1NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1673574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whchung", "html_url": "https://github.com/whchung", "followers_url": "https://api.github.com/users/whchung/followers", "following_url": "https://api.github.com/users/whchung/following{/other_user}", "gists_url": "https://api.github.com/users/whchung/gists{/gist_id}", "starred_url": "https://api.github.com/users/whchung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whchung/subscriptions", "organizations_url": "https://api.github.com/users/whchung/orgs", "repos_url": "https://api.github.com/users/whchung/repos", "events_url": "https://api.github.com/users/whchung/events{/privacy}", "received_events_url": "https://api.github.com/users/whchung/received_events", "type": "User", "site_admin": false}, "body": "@caisq pushed new commit to address this", "created_at": "2018-07-10T19:00:31Z", "updated_at": "2018-09-06T00:48:23Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/20277#discussion_r201458435", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20277", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/201458435"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/20277#discussion_r201458435"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20277"}}, "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16824702\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/caisq\">@caisq</a> pushed new commit to address this</p>", "body_text": "@caisq pushed new commit to address this", "in_reply_to_id": 201451468}