{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/201451468", "pull_request_review_id": 135957149, "id": 201451468, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTQ1MTQ2OA==", "diff_hunk": "@@ -0,0 +1,98 @@\n+# This Dockerfile provides a starting point for a ROCm installation of \n+# MIOpen and tensorflow.  \n+FROM ubuntu:xenial-20170619\n+MAINTAINER Jeff Poznanovic <jeffrey.poznanovic@amd.com>\n+\n+ARG DEB_ROCM_REPO=http://repo.radeon.com/rocm/apt/debian/\n+ARG ROCM_PATH=/opt/rocm\n+\n+ENV DEBIAN_FRONTEND noninteractive\n+ENV TF_NEED_ROCM 1\n+ENV HOME /root/\n+RUN apt update && apt install -y wget software-properties-common \n+\n+# Add rocm repository\n+RUN apt-get clean all\n+RUN wget -qO - $DEB_ROCM_REPO/rocm.gpg.key | apt-key add -\n+RUN sh -c  \"echo deb [arch=amd64] $DEB_ROCM_REPO xenial main > /etc/apt/sources.list.d/rocm.list\"\n+\n+# Install misc pkgs\n+RUN apt-get update --allow-insecure-repositories && DEBIAN_FRONTEND=noninteractive apt-get install -y \\\n+  build-essential \\\n+  clang-3.8 \\\n+  clang-format-3.8 \\\n+  clang-tidy-3.8 \\\n+  cmake \\\n+  cmake-qt-gui \\\n+  ssh \\\n+  curl \\\n+  apt-utils \\\n+  pkg-config \\\n+  g++-multilib \\\n+  git \\\n+  libunwind-dev \\\n+  libfftw3-dev \\\n+  libelf-dev \\\n+  libncurses5-dev \\\n+  libpthread-stubs0-dev \\\n+  vim \\\n+  gfortran \\\n+  libboost-program-options-dev \\\n+  libssl-dev \\\n+  libboost-dev \\\n+  libboost-system-dev \\\n+  libboost-filesystem-dev \\\n+  rpm \\\n+  libnuma-dev \\\n+  virtualenv \\\n+  python-pip \\\n+  python3-pip \\\n+  wget && \\\n+  apt-get clean && \\\n+  rm -rf /var/lib/apt/lists/*\n+\n+# Install rocm pkgs\n+RUN apt-get update --allow-insecure-repositories && \\\n+    DEBIAN_FRONTEND=noninteractive apt-get install -y --allow-unauthenticated \\\n+    rocm-dev rocm-libs rocm-utils \\\n+    rocfft miopen-hip miopengemm rocblas hipblas rocrand \\\n+    rocm-profiler cxlactivitylogger && \\\n+    apt-get clean && \\\n+    rm -rf /var/lib/apt/lists/*\n+\n+# Workaround: use HIP PR#457 and then build from source", "path": "tensorflow/tools/ci_build/Dockerfile.rocm", "position": null, "original_position": 63, "commit_id": "69d3b8faf41791834301a74a05e288964940427d", "original_commit_id": "01a400b00834aee3b827ace4f0277bc2f7db89b9", "user": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "body": "Probably better to provide the full link here for posterity.", "created_at": "2018-07-10T18:39:07Z", "updated_at": "2018-09-06T00:48:23Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/20277#discussion_r201451468", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20277", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/201451468"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/20277#discussion_r201451468"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20277"}}, "body_html": "<p>Probably better to provide the full link here for posterity.</p>", "body_text": "Probably better to provide the full link here for posterity."}