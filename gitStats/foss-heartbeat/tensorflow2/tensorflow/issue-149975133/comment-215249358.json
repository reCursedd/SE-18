{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/215249358", "html_url": "https://github.com/tensorflow/tensorflow/issues/2047#issuecomment-215249358", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2047", "id": 215249358, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTI0OTM1OA==", "user": {"login": "andrewharp", "id": 3376817, "node_id": "MDQ6VXNlcjMzNzY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3376817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewharp", "html_url": "https://github.com/andrewharp", "followers_url": "https://api.github.com/users/andrewharp/followers", "following_url": "https://api.github.com/users/andrewharp/following{/other_user}", "gists_url": "https://api.github.com/users/andrewharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewharp/subscriptions", "organizations_url": "https://api.github.com/users/andrewharp/orgs", "repos_url": "https://api.github.com/users/andrewharp/repos", "events_url": "https://api.github.com/users/andrewharp/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewharp/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-27T22:21:49Z", "updated_at": "2016-04-27T22:21:49Z", "author_association": "MEMBER", "body_html": "<p>I just tried with api_level=11, but was unable to reproduce the issue.</p>\n<p>If you update tensorflow/examples/android:libtensorflow_demo.so to have the following linkopts:</p>\n<pre><code>    linkopts = [\n        \"-landroid\",\n        \"-ljnigraphics\",\n        \"-llog\",\n        \"-lm\",\n        \"-z defs\",\n    ],\n</code></pre>\n<p>And then run:</p>\n<pre><code>bazel build //tensorflow/examples/android:tensorflow_demo --verbose_failures\nunzip bazel-bin/tensorflow/examples/android/tensorflow_demo.apk -d apk\nnm --radix=d --print-size -C --size-sort apk/lib/armeabi-v7a/libtensorflow_demo.so  | grep DirectSession\n</code></pre>\n<p>Do you see anything?</p>\n<p>As a potential workaround, you can try adding alwayslink=1 to tensorflow/core:android_tensorflow_lib and see if that does anything.</p>\n<p>How are you installing it on your device?</p>", "body_text": "I just tried with api_level=11, but was unable to reproduce the issue.\nIf you update tensorflow/examples/android:libtensorflow_demo.so to have the following linkopts:\n    linkopts = [\n        \"-landroid\",\n        \"-ljnigraphics\",\n        \"-llog\",\n        \"-lm\",\n        \"-z defs\",\n    ],\n\nAnd then run:\nbazel build //tensorflow/examples/android:tensorflow_demo --verbose_failures\nunzip bazel-bin/tensorflow/examples/android/tensorflow_demo.apk -d apk\nnm --radix=d --print-size -C --size-sort apk/lib/armeabi-v7a/libtensorflow_demo.so  | grep DirectSession\n\nDo you see anything?\nAs a potential workaround, you can try adding alwayslink=1 to tensorflow/core:android_tensorflow_lib and see if that does anything.\nHow are you installing it on your device?", "body": "I just tried with api_level=11, but was unable to reproduce the issue.\n\nIf you update tensorflow/examples/android:libtensorflow_demo.so to have the following linkopts:\n\n```\n    linkopts = [\n        \"-landroid\",\n        \"-ljnigraphics\",\n        \"-llog\",\n        \"-lm\",\n        \"-z defs\",\n    ],\n```\n\nAnd then run:\n\n```\nbazel build //tensorflow/examples/android:tensorflow_demo --verbose_failures\nunzip bazel-bin/tensorflow/examples/android/tensorflow_demo.apk -d apk\nnm --radix=d --print-size -C --size-sort apk/lib/armeabi-v7a/libtensorflow_demo.so  | grep DirectSession\n```\n\nDo you see anything?\n\nAs a potential workaround, you can try adding alwayslink=1 to tensorflow/core:android_tensorflow_lib and see if that does anything.\n\nHow are you installing it on your device?\n"}