{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/288535384", "html_url": "https://github.com/tensorflow/tensorflow/issues/7464#issuecomment-288535384", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7464", "id": 288535384, "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODUzNTM4NA==", "user": {"login": "bazinac", "id": 19685528, "node_id": "MDQ6VXNlcjE5Njg1NTI4", "avatar_url": "https://avatars0.githubusercontent.com/u/19685528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bazinac", "html_url": "https://github.com/bazinac", "followers_url": "https://api.github.com/users/bazinac/followers", "following_url": "https://api.github.com/users/bazinac/following{/other_user}", "gists_url": "https://api.github.com/users/bazinac/gists{/gist_id}", "starred_url": "https://api.github.com/users/bazinac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bazinac/subscriptions", "organizations_url": "https://api.github.com/users/bazinac/orgs", "repos_url": "https://api.github.com/users/bazinac/repos", "events_url": "https://api.github.com/users/bazinac/events{/privacy}", "received_events_url": "https://api.github.com/users/bazinac/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-22T20:51:18Z", "updated_at": "2017-03-22T21:14:09Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3376817\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewharp\">@andrewharp</a>, my android.info.supportedHardwareLevel on Galaxy S5 (which work ok) is 2 (this is INFO_SUPPORTED_HARDWARE_LEVEL_LEGACY probably), and on <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22727681\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vi7us\">@vi7us</a>'s S6 it is 1 (which is INFO_SUPPORTED_HARDWARE_LEVEL_FULL). Then clearly there is difference. On Galaxy S5 it uses legacy camera HAL. It could be interesting, if someone like <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=12786473\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/OverratedGman\">@OverratedGman</a> who has Nexus 6p could check it too...</p>\n<p>We will try to run fresh clean TF android demo and check whether it works now. <strong>To explain</strong>:  Our application just originally took some parts of the demo, but it is heavilly modified, so there is no debug mode. I have just discovered that captured bitmaps are not cropped properly on Galaxy S6, resulting into artifacts. I suspect method <em>ImageUtils.convertYUV420ToARGB8888</em>, that should manipulate rgbBytes variable (which is the part I took from the demo). This method also sometimes caused app to crash on Galaxy S6.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22727681\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vi7us\">@vi7us</a> is currently building latest TF to see whether mint demo works properly.</p>\n<p>Sorry to have such a long reply latency, we were on the vacation and tried to avoid computers completely :)</p>", "body_text": "Hi @andrewharp, my android.info.supportedHardwareLevel on Galaxy S5 (which work ok) is 2 (this is INFO_SUPPORTED_HARDWARE_LEVEL_LEGACY probably), and on @vi7us's S6 it is 1 (which is INFO_SUPPORTED_HARDWARE_LEVEL_FULL). Then clearly there is difference. On Galaxy S5 it uses legacy camera HAL. It could be interesting, if someone like @OverratedGman who has Nexus 6p could check it too...\nWe will try to run fresh clean TF android demo and check whether it works now. To explain:  Our application just originally took some parts of the demo, but it is heavilly modified, so there is no debug mode. I have just discovered that captured bitmaps are not cropped properly on Galaxy S6, resulting into artifacts. I suspect method ImageUtils.convertYUV420ToARGB8888, that should manipulate rgbBytes variable (which is the part I took from the demo). This method also sometimes caused app to crash on Galaxy S6.\n@vi7us is currently building latest TF to see whether mint demo works properly.\nSorry to have such a long reply latency, we were on the vacation and tried to avoid computers completely :)", "body": "Hi @andrewharp, my android.info.supportedHardwareLevel on Galaxy S5 (which work ok) is 2 (this is INFO_SUPPORTED_HARDWARE_LEVEL_LEGACY probably), and on @vi7us's S6 it is 1 (which is INFO_SUPPORTED_HARDWARE_LEVEL_FULL). Then clearly there is difference. On Galaxy S5 it uses legacy camera HAL. It could be interesting, if someone like @OverratedGman who has Nexus 6p could check it too...\r\n\r\n\r\nWe will try to run fresh clean TF android demo and check whether it works now. **To explain**:  Our application just originally took some parts of the demo, but it is heavilly modified, so there is no debug mode. I have just discovered that captured bitmaps are not cropped properly on Galaxy S6, resulting into artifacts. I suspect method _ImageUtils.convertYUV420ToARGB8888_, that should manipulate rgbBytes variable (which is the part I took from the demo). This method also sometimes caused app to crash on Galaxy S6.\r\n\r\n@vi7us is currently building latest TF to see whether mint demo works properly.\r\n\r\nSorry to have such a long reply latency, we were on the vacation and tried to avoid computers completely :)"}