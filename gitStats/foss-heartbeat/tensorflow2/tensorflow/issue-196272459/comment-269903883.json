{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/269903883", "html_url": "https://github.com/tensorflow/tensorflow/issues/6384#issuecomment-269903883", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6384", "id": 269903883, "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTkwMzg4Mw==", "user": {"login": "noammor", "id": 4738203, "node_id": "MDQ6VXNlcjQ3MzgyMDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/4738203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noammor", "html_url": "https://github.com/noammor", "followers_url": "https://api.github.com/users/noammor/followers", "following_url": "https://api.github.com/users/noammor/following{/other_user}", "gists_url": "https://api.github.com/users/noammor/gists{/gist_id}", "starred_url": "https://api.github.com/users/noammor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noammor/subscriptions", "organizations_url": "https://api.github.com/users/noammor/orgs", "repos_url": "https://api.github.com/users/noammor/repos", "events_url": "https://api.github.com/users/noammor/events{/privacy}", "received_events_url": "https://api.github.com/users/noammor/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-01T13:55:29Z", "updated_at": "2017-01-01T13:55:29Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=326106\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aselle\">@aselle</a> - Tested on 2.7, fails the same way:</p>\n<pre><code>Traceback (most recent call last):\n  File \"/tmp/test.py\", line 7, in &lt;module&gt;\n\tC = tf.einsum('ijk,kl-&gt;ijl', A, B)\n  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/special_math_ops.py\", line 212, in einsum\n\taxes_to_sum)\n  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/special_math_ops.py\", line 341, in _einsum_reduction\n\tproduct = _reshape_if_necessary(product, uncompacted_shape)\n  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/special_math_ops.py\", line 366, in _reshape_if_necessary\n\treturn array_ops.reshape(tensor, new_shape)\n  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2448, in reshape\n\tname=name)\n  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 493, in apply_op\n\traise err\nTypeError: Expected binary or unicode string, got 13\n</code></pre>\n<p>Tensorflow 0.12.1, installed from <code>pip</code>. I created a fresh empty anaconda environment (<code>conda create -n 2.7test python=2.7</code>), issued <code>pip install tensorflow</code> and ran the code in the original bug report.</p>", "body_text": "@aselle - Tested on 2.7, fails the same way:\nTraceback (most recent call last):\n  File \"/tmp/test.py\", line 7, in <module>\n\tC = tf.einsum('ijk,kl->ijl', A, B)\n  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/special_math_ops.py\", line 212, in einsum\n\taxes_to_sum)\n  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/special_math_ops.py\", line 341, in _einsum_reduction\n\tproduct = _reshape_if_necessary(product, uncompacted_shape)\n  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/special_math_ops.py\", line 366, in _reshape_if_necessary\n\treturn array_ops.reshape(tensor, new_shape)\n  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2448, in reshape\n\tname=name)\n  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 493, in apply_op\n\traise err\nTypeError: Expected binary or unicode string, got 13\n\nTensorflow 0.12.1, installed from pip. I created a fresh empty anaconda environment (conda create -n 2.7test python=2.7), issued pip install tensorflow and ran the code in the original bug report.", "body": "@aselle - Tested on 2.7, fails the same way:\r\n\r\n\tTraceback (most recent call last):\r\n\t  File \"/tmp/test.py\", line 7, in <module>\r\n\t\tC = tf.einsum('ijk,kl->ijl', A, B)\r\n\t  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/special_math_ops.py\", line 212, in einsum\r\n\t\taxes_to_sum)\r\n\t  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/special_math_ops.py\", line 341, in _einsum_reduction\r\n\t\tproduct = _reshape_if_necessary(product, uncompacted_shape)\r\n\t  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/special_math_ops.py\", line 366, in _reshape_if_necessary\r\n\t\treturn array_ops.reshape(tensor, new_shape)\r\n\t  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2448, in reshape\r\n\t\tname=name)\r\n\t  File \"/home/noam/miniconda3/envs/2.7test/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 493, in apply_op\r\n\t\traise err\r\n\tTypeError: Expected binary or unicode string, got 13\r\n\r\n\r\nTensorflow 0.12.1, installed from `pip`. I created a fresh empty anaconda environment (`conda create -n 2.7test python=2.7`), issued `pip install tensorflow` and ran the code in the original bug report."}