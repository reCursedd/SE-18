{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18611", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18611/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18611/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18611/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/18611", "id": 315190293, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgyMjYzODY5", "number": 18611, "title": "Improve shape function check for `tf.roll`", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-04-17T19:02:29Z", "updated_at": "2018-04-18T22:21:04Z", "closed_at": "2018-04-18T22:13:06Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18611", "html_url": "https://github.com/tensorflow/tensorflow/pull/18611", "diff_url": "https://github.com/tensorflow/tensorflow/pull/18611.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/18611.patch"}, "body_html": "<p>The <code>tf.roll</code> op has requirements for the shape of inputs. However, the shape of the inputs are only done at the runtime inside the kernel.</p>\n<p>This fix improve the shape function so that the check could be done early if shape is already known in the shape function.</p>\n<p>The following validations have been added in the shape function with test cases:</p>\n<ul>\n<li>The <code>input</code> must be 1-D or higher</li>\n<li>The <code>shift</code> must be scalar or 1-D.</li>\n<li>The <code>axis</code> must be scalar or 1-D.</li>\n<li>The  <code>shift</code> and <code>axis</code> should be the same size.</li>\n</ul>\n<p>They matches validations in the kernel.</p>\n<p>Signed-off-by: Yong Tang <a href=\"mailto:yong.tang.github@outlook.com\">yong.tang.github@outlook.com</a></p>", "body_text": "The tf.roll op has requirements for the shape of inputs. However, the shape of the inputs are only done at the runtime inside the kernel.\nThis fix improve the shape function so that the check could be done early if shape is already known in the shape function.\nThe following validations have been added in the shape function with test cases:\n\nThe input must be 1-D or higher\nThe shift must be scalar or 1-D.\nThe axis must be scalar or 1-D.\nThe  shift and axis should be the same size.\n\nThey matches validations in the kernel.\nSigned-off-by: Yong Tang yong.tang.github@outlook.com", "body": "The `tf.roll` op has requirements for the shape of inputs. However, the shape of the inputs are only done at the runtime inside the kernel.\r\n\r\nThis fix improve the shape function so that the check could be done early if shape is already known in the shape function.\r\n\r\nThe following validations have been added in the shape function with test cases:\r\n- The `input` must be 1-D or higher\r\n- The `shift` must be scalar or 1-D.\r\n- The `axis` must be scalar or 1-D.\r\n- The  `shift` and `axis` should be the same size.\r\n\r\nThey matches validations in the kernel.\r\n\r\nSigned-off-by: Yong Tang <yong.tang.github@outlook.com>"}