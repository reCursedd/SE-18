{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11642", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11642/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11642/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11642/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11642", "id": 244363991, "node_id": "MDU6SXNzdWUyNDQzNjM5OTE=", "number": 11642, "title": "how to load my pretrain model in ckpt file v2 format\uff1f", "user": {"login": "YgRen", "id": 10908813, "node_id": "MDQ6VXNlcjEwOTA4ODEz", "avatar_url": "https://avatars2.githubusercontent.com/u/10908813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YgRen", "html_url": "https://github.com/YgRen", "followers_url": "https://api.github.com/users/YgRen/followers", "following_url": "https://api.github.com/users/YgRen/following{/other_user}", "gists_url": "https://api.github.com/users/YgRen/gists{/gist_id}", "starred_url": "https://api.github.com/users/YgRen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YgRen/subscriptions", "organizations_url": "https://api.github.com/users/YgRen/orgs", "repos_url": "https://api.github.com/users/YgRen/repos", "events_url": "https://api.github.com/users/YgRen/events{/privacy}", "received_events_url": "https://api.github.com/users/YgRen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-20T13:33:14Z", "updated_at": "2017-07-21T08:43:24Z", "closed_at": "2017-07-20T14:40:35Z", "author_association": "NONE", "body_html": "<p>Hi,when I use ckpt v1 format,the command line as follows,<br>\n<code>python ./faster_rcnn/test_net.py --gpu 0 --weights ./models/VGGnet_fast_rcnn_iter_150000.ckpt  --imdb voc_2007_test --cfg ./experiments/cfgs/faster_rcnn_end2end.yml  --network VGGnet_test</code><br>\nit works.<br>\nbut I train my model in voc 2007 dataset ,the output like this.<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/10908813/28419655-48ddb6d0-6d92-11e7-8e8f-8a5b0a2b14ee.png\"><img src=\"https://user-images.githubusercontent.com/10908813/28419655-48ddb6d0-6d92-11e7-8e8f-8a5b0a2b14ee.png\" alt=\"2017-07-20 21-27-37\" style=\"max-width:100%;\"></a></p>\n<p>the test_net.py code as follows,</p>\n<pre><code>'# start a session\n    saver = tf.train.Saver()\n    sess = tf.Session(config=tf.ConfigProto(allow_soft_placement=True))\n    saver.restore(sess, args.model)\n    print ('Loading model weights from {:s}').format(args.model)\n    test_net(sess, network, imdb, weights_filename)'\n</code></pre>\n<p>the output is:<br>\n<code>Waiting for ./output/faster_rcnn_end2end_pva_voc/voc_2007_trainval/PVAnet_iter_10000.ckpt to exist...</code><br>\nI  have read some issues. but can't solve it .<br>\nI need some help about this question.<br>\nhow to load my pretrain model in ckpt file v2 format ?  modify my test_net.py?<br>\nthanks!</p>", "body_text": "Hi,when I use ckpt v1 format,the command line as follows,\npython ./faster_rcnn/test_net.py --gpu 0 --weights ./models/VGGnet_fast_rcnn_iter_150000.ckpt  --imdb voc_2007_test --cfg ./experiments/cfgs/faster_rcnn_end2end.yml  --network VGGnet_test\nit works.\nbut I train my model in voc 2007 dataset ,the output like this.\n\nthe test_net.py code as follows,\n'# start a session\n    saver = tf.train.Saver()\n    sess = tf.Session(config=tf.ConfigProto(allow_soft_placement=True))\n    saver.restore(sess, args.model)\n    print ('Loading model weights from {:s}').format(args.model)\n    test_net(sess, network, imdb, weights_filename)'\n\nthe output is:\nWaiting for ./output/faster_rcnn_end2end_pva_voc/voc_2007_trainval/PVAnet_iter_10000.ckpt to exist...\nI  have read some issues. but can't solve it .\nI need some help about this question.\nhow to load my pretrain model in ckpt file v2 format ?  modify my test_net.py?\nthanks!", "body": "Hi,when I use ckpt v1 format,the command line as follows,\r\n`python ./faster_rcnn/test_net.py --gpu 0 --weights ./models/VGGnet_fast_rcnn_iter_150000.ckpt  --imdb voc_2007_test --cfg ./experiments/cfgs/faster_rcnn_end2end.yml  --network VGGnet_test`\r\nit works.\r\nbut I train my model in voc 2007 dataset ,the output like this.\r\n![2017-07-20 21-27-37](https://user-images.githubusercontent.com/10908813/28419655-48ddb6d0-6d92-11e7-8e8f-8a5b0a2b14ee.png)\r\n\r\nthe test_net.py code as follows,\r\n```\r\n'# start a session\r\n    saver = tf.train.Saver()\r\n    sess = tf.Session(config=tf.ConfigProto(allow_soft_placement=True))\r\n    saver.restore(sess, args.model)\r\n    print ('Loading model weights from {:s}').format(args.model)\r\n    test_net(sess, network, imdb, weights_filename)'\r\n```\r\nthe output is:\r\n`Waiting for ./output/faster_rcnn_end2end_pva_voc/voc_2007_trainval/PVAnet_iter_10000.ckpt to exist...`\r\nI  have read some issues. but can't solve it . \r\nI need some help about this question.\r\nhow to load my pretrain model in ckpt file v2 format ?  modify my test_net.py?\r\nthanks!\r\n\r\n\r\n"}