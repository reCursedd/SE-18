{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/366078951", "html_url": "https://github.com/tensorflow/tensorflow/issues/17009#issuecomment-366078951", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17009", "id": 366078951, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjA3ODk1MQ==", "user": {"login": "dpedley", "id": 289159, "node_id": "MDQ6VXNlcjI4OTE1OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/289159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dpedley", "html_url": "https://github.com/dpedley", "followers_url": "https://api.github.com/users/dpedley/followers", "following_url": "https://api.github.com/users/dpedley/following{/other_user}", "gists_url": "https://api.github.com/users/dpedley/gists{/gist_id}", "starred_url": "https://api.github.com/users/dpedley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dpedley/subscriptions", "organizations_url": "https://api.github.com/users/dpedley/orgs", "repos_url": "https://api.github.com/users/dpedley/repos", "events_url": "https://api.github.com/users/dpedley/events{/privacy}", "received_events_url": "https://api.github.com/users/dpedley/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-15T22:12:10Z", "updated_at": "2018-02-15T22:20:36Z", "author_association": "NONE", "body_html": "<p>Hey, I had a crash, maybe related? Also on Ubuntu 16.04<br>\nIn my case the crash happens running a tutorial, <code>not</code> custom code.</p>\n<pre><code>From models/tutorials/rnn/ptb:\npython ptb_word_lm.py --data_path=simple-examples/data/ --model=small --save_path=build\n</code></pre>\n<p>Crashing <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc#L203\">here</a> while polling <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/stream_executor/cuda/cuda_event.cc#L49\">here</a></p>\n<p>Note in the output below it runs through a few iterations in the first epoch before crashing. Also of note, this is a really low mem GPU machine, before I found this issue, I assumed memory limits had been reached.</p>\n<pre><code>2018-02-15 13:42:07.302928: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX FMA\n2018-02-15 13:42:07.435901: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-02-15 13:42:07.436403: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties: \nname: GeForce GT 730 major: 3 minor: 5 memoryClockRate(GHz): 1.006\npciBusID: 0000:01:00.0\ntotalMemory: 1.95GiB freeMemory: 1.82GiB\n2018-02-15 13:42:07.436453: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GT 730, pci bus id: 0000:01:00.0, compute capability: 3.5)\nWARNING:tensorflow:From ptb_word_lm.py:504: Supervisor.__init__ (from tensorflow.python.training.supervisor) is deprecated and will be removed in a future version.\nInstructions for updating:\nPlease switch to tf.train.MonitoredTrainingSession\n2018-02-15 13:42:17.089765: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GT 730, pci bus id: 0000:01:00.0, compute capability: 3.5)\nEpoch: 1 Learning rate: 1.000\n0.004 perplexity: 5095.013 speed: 3685 wps\n0.104 perplexity: 846.368 speed: 5772 wps\n0.204 perplexity: 627.641 speed: 5847 wps\n0.304 perplexity: 505.304 speed: 5854 wps\n0.404 perplexity: 435.348 speed: 5852 wps\n0.504 perplexity: 389.893 speed: 5815 wps\n2018-02-15 13:43:50.493081: E tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS\n2018-02-15 13:43:50.493151: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:203] Unexpected Event status: 1\n</code></pre>\n<p>System information</p>\n<ul>\n<li><strong>Have I written custom code:</strong> No</li>\n<li><strong>OS Platform and Distribution:</strong> Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from:</strong> binary</li>\n<li><strong>TensorFlow version:</strong> tensorflow-gpu (1.5.0)</li>\n<li><strong>Python version:</strong> 3.5.2</li>\n<li><strong>Bazel version:</strong> Not compiled from source</li>\n<li><strong>GCC/Compiler version:</strong> Not compiled from source</li>\n<li><strong>CUDA/cuDNN version:</strong> 9.1/v7</li>\n<li><strong>GPU model and memory:</strong> GeForce GT 730 (2GB x 1)</li>\n</ul>", "body_text": "Hey, I had a crash, maybe related? Also on Ubuntu 16.04\nIn my case the crash happens running a tutorial, not custom code.\nFrom models/tutorials/rnn/ptb:\npython ptb_word_lm.py --data_path=simple-examples/data/ --model=small --save_path=build\n\nCrashing here while polling here\nNote in the output below it runs through a few iterations in the first epoch before crashing. Also of note, this is a really low mem GPU machine, before I found this issue, I assumed memory limits had been reached.\n2018-02-15 13:42:07.302928: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX FMA\n2018-02-15 13:42:07.435901: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-02-15 13:42:07.436403: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties: \nname: GeForce GT 730 major: 3 minor: 5 memoryClockRate(GHz): 1.006\npciBusID: 0000:01:00.0\ntotalMemory: 1.95GiB freeMemory: 1.82GiB\n2018-02-15 13:42:07.436453: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GT 730, pci bus id: 0000:01:00.0, compute capability: 3.5)\nWARNING:tensorflow:From ptb_word_lm.py:504: Supervisor.__init__ (from tensorflow.python.training.supervisor) is deprecated and will be removed in a future version.\nInstructions for updating:\nPlease switch to tf.train.MonitoredTrainingSession\n2018-02-15 13:42:17.089765: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GT 730, pci bus id: 0000:01:00.0, compute capability: 3.5)\nEpoch: 1 Learning rate: 1.000\n0.004 perplexity: 5095.013 speed: 3685 wps\n0.104 perplexity: 846.368 speed: 5772 wps\n0.204 perplexity: 627.641 speed: 5847 wps\n0.304 perplexity: 505.304 speed: 5854 wps\n0.404 perplexity: 435.348 speed: 5852 wps\n0.504 perplexity: 389.893 speed: 5815 wps\n2018-02-15 13:43:50.493081: E tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS\n2018-02-15 13:43:50.493151: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:203] Unexpected Event status: 1\n\nSystem information\n\nHave I written custom code: No\nOS Platform and Distribution: Ubuntu 16.04\nTensorFlow installed from: binary\nTensorFlow version: tensorflow-gpu (1.5.0)\nPython version: 3.5.2\nBazel version: Not compiled from source\nGCC/Compiler version: Not compiled from source\nCUDA/cuDNN version: 9.1/v7\nGPU model and memory: GeForce GT 730 (2GB x 1)", "body": "Hey, I had a crash, maybe related? Also on Ubuntu 16.04 \r\nIn my case the crash happens running a tutorial, `not` custom code.\r\n\r\n```\r\nFrom models/tutorials/rnn/ptb:\r\npython ptb_word_lm.py --data_path=simple-examples/data/ --model=small --save_path=build\r\n```\r\nCrashing [here](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc#L203) while polling [here](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/stream_executor/cuda/cuda_event.cc#L49)\r\n\r\nNote in the output below it runs through a few iterations in the first epoch before crashing. Also of note, this is a really low mem GPU machine, before I found this issue, I assumed memory limits had been reached.\r\n\r\n```\r\n2018-02-15 13:42:07.302928: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX FMA\r\n2018-02-15 13:42:07.435901: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2018-02-15 13:42:07.436403: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties: \r\nname: GeForce GT 730 major: 3 minor: 5 memoryClockRate(GHz): 1.006\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 1.95GiB freeMemory: 1.82GiB\r\n2018-02-15 13:42:07.436453: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GT 730, pci bus id: 0000:01:00.0, compute capability: 3.5)\r\nWARNING:tensorflow:From ptb_word_lm.py:504: Supervisor.__init__ (from tensorflow.python.training.supervisor) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease switch to tf.train.MonitoredTrainingSession\r\n2018-02-15 13:42:17.089765: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GT 730, pci bus id: 0000:01:00.0, compute capability: 3.5)\r\nEpoch: 1 Learning rate: 1.000\r\n0.004 perplexity: 5095.013 speed: 3685 wps\r\n0.104 perplexity: 846.368 speed: 5772 wps\r\n0.204 perplexity: 627.641 speed: 5847 wps\r\n0.304 perplexity: 505.304 speed: 5854 wps\r\n0.404 perplexity: 435.348 speed: 5852 wps\r\n0.504 perplexity: 389.893 speed: 5815 wps\r\n2018-02-15 13:43:50.493081: E tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS\r\n2018-02-15 13:43:50.493151: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:203] Unexpected Event status: 1\r\n```\r\n\r\nSystem information\r\n - **Have I written custom code:** No\r\n - **OS Platform and Distribution:** Ubuntu 16.04\r\n - **TensorFlow installed from:** binary\r\n - **TensorFlow version:** tensorflow-gpu (1.5.0)\r\n - **Python version:** 3.5.2\r\n - **Bazel version:** Not compiled from source\r\n - **GCC/Compiler version:** Not compiled from source\r\n - **CUDA/cuDNN version:** 9.1/v7\r\n - **GPU model and memory:** GeForce GT 730 (2GB x 1)\r\n"}