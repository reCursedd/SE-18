{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/319126665", "html_url": "https://github.com/tensorflow/tensorflow/issues/7251#issuecomment-319126665", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7251", "id": 319126665, "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTEyNjY2NQ==", "user": {"login": "girving", "id": 70511, "node_id": "MDQ6VXNlcjcwNTEx", "avatar_url": "https://avatars1.githubusercontent.com/u/70511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/girving", "html_url": "https://github.com/girving", "followers_url": "https://api.github.com/users/girving/followers", "following_url": "https://api.github.com/users/girving/following{/other_user}", "gists_url": "https://api.github.com/users/girving/gists{/gist_id}", "starred_url": "https://api.github.com/users/girving/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/girving/subscriptions", "organizations_url": "https://api.github.com/users/girving/orgs", "repos_url": "https://api.github.com/users/girving/repos", "events_url": "https://api.github.com/users/girving/events{/privacy}", "received_events_url": "https://api.github.com/users/girving/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-31T16:39:06Z", "updated_at": "2017-07-31T16:39:06Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=30223680\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/nolanliou\">@nolanliou</a> It would be better to do it all in one pass, both to avoid the separate collision checking phase and to avoid CPU work in the collision case.  One option is to have a separate buffer storing the source index of an output index.  Atomically writing an entry in the separate buffer at the same time as the main buffer can avoid collisions.  Not sure if the separate buffer can be avoided.</p>", "body_text": "@nolanliou It would be better to do it all in one pass, both to avoid the separate collision checking phase and to avoid CPU work in the collision case.  One option is to have a separate buffer storing the source index of an output index.  Atomically writing an entry in the separate buffer at the same time as the main buffer can avoid collisions.  Not sure if the separate buffer can be avoided.", "body": "@nolanliou It would be better to do it all in one pass, both to avoid the separate collision checking phase and to avoid CPU work in the collision case.  One option is to have a separate buffer storing the source index of an output index.  Atomically writing an entry in the separate buffer at the same time as the main buffer can avoid collisions.  Not sure if the separate buffer can be avoided."}