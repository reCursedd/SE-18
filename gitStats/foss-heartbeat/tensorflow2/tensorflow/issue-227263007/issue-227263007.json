{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9781", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9781/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9781/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9781/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9781", "id": 227263007, "node_id": "MDU6SXNzdWUyMjcyNjMwMDc=", "number": 9781, "title": "Changing default type from tf.int32 to tf.int64", "user": {"login": "fesun", "id": 23738439, "node_id": "MDQ6VXNlcjIzNzM4NDM5", "avatar_url": "https://avatars3.githubusercontent.com/u/23738439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fesun", "html_url": "https://github.com/fesun", "followers_url": "https://api.github.com/users/fesun/followers", "following_url": "https://api.github.com/users/fesun/following{/other_user}", "gists_url": "https://api.github.com/users/fesun/gists{/gist_id}", "starred_url": "https://api.github.com/users/fesun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fesun/subscriptions", "organizations_url": "https://api.github.com/users/fesun/orgs", "repos_url": "https://api.github.com/users/fesun/repos", "events_url": "https://api.github.com/users/fesun/events{/privacy}", "received_events_url": "https://api.github.com/users/fesun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-05-09T06:27:16Z", "updated_at": "2017-05-17T23:12:33Z", "closed_at": "2017-05-17T23:12:33Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I am trying to allocate very large variables inside single-box, but the default out_type of some operators are tf.int32, it's too small as most modern data center machines have more than 100G memory.</p>\n<p>Here is the operators I found:<br>\n<code>tf.shape(input, name=None, out_type=tf.int32)</code><br>\n<code>tf.size(input, name=None, out_type=tf.int32)</code><br>\n<code>tf.shape_n(input, out_type=None, name=None), out_type defaults to tf.int32</code></p>\n<p>For example if I have one [500000000000] tensor, tf.shape fails with the following error message inside Windows:</p>\n<blockquote>\n<p>OverflowError: Python int too large to convert to C long</p>\n</blockquote>\n<p>Linux has the same issue and chooses overflow instead of raising exceptions.</p>", "body_text": "I am trying to allocate very large variables inside single-box, but the default out_type of some operators are tf.int32, it's too small as most modern data center machines have more than 100G memory.\nHere is the operators I found:\ntf.shape(input, name=None, out_type=tf.int32)\ntf.size(input, name=None, out_type=tf.int32)\ntf.shape_n(input, out_type=None, name=None), out_type defaults to tf.int32\nFor example if I have one [500000000000] tensor, tf.shape fails with the following error message inside Windows:\n\nOverflowError: Python int too large to convert to C long\n\nLinux has the same issue and chooses overflow instead of raising exceptions.", "body": "I am trying to allocate very large variables inside single-box, but the default out_type of some operators are tf.int32, it's too small as most modern data center machines have more than 100G memory.\r\n\r\nHere is the operators I found:\r\n`tf.shape(input, name=None, out_type=tf.int32)`\r\n`tf.size(input, name=None, out_type=tf.int32)`\r\n`tf.shape_n(input, out_type=None, name=None), out_type defaults to tf.int32`\r\n\r\nFor example if I have one [500000000000] tensor, tf.shape fails with the following error message inside Windows:\r\n\r\n> OverflowError: Python int too large to convert to C long\r\n\r\nLinux has the same issue and chooses overflow instead of raising exceptions."}