{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/365901407", "html_url": "https://github.com/tensorflow/tensorflow/issues/16982#issuecomment-365901407", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16982", "id": 365901407, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTkwMTQwNw==", "user": {"login": "jakubkarczewski", "id": 29629847, "node_id": "MDQ6VXNlcjI5NjI5ODQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/29629847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubkarczewski", "html_url": "https://github.com/jakubkarczewski", "followers_url": "https://api.github.com/users/jakubkarczewski/followers", "following_url": "https://api.github.com/users/jakubkarczewski/following{/other_user}", "gists_url": "https://api.github.com/users/jakubkarczewski/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubkarczewski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubkarczewski/subscriptions", "organizations_url": "https://api.github.com/users/jakubkarczewski/orgs", "repos_url": "https://api.github.com/users/jakubkarczewski/repos", "events_url": "https://api.github.com/users/jakubkarczewski/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubkarczewski/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-15T11:35:14Z", "updated_at": "2018-02-15T11:35:14Z", "author_association": "NONE", "body_html": "<p>Yes, I think the problem lies in those MKL flags. I've tried to compile Tensorflow in the same environment as mentioned above but with command <code>bazel build --config=mkl --copt=\u201d-DEIGEN_USE_VML\u201d -c opt //tensorflow/tools/pip_package: build_pip_package</code> and got in return <code>./tensorflow/core/util/mkl_util.h:710] Non-OK-status: Status(error::Code::UNIMPLEMENTED, \"Unimplemented conversion function\") status: Unimplemented: Unimplemented conversion function</code>. It was a mistake on my side (haven't passed which MKL I actually wanted to use with <code>--copt=\"-DINTEL_MKL_ML\"</code> ) but it proves the problem is MKL related. I think the version of TF available on pip is build with <code>bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package</code> so what differs from my command is the MKL flag.</p>", "body_text": "Yes, I think the problem lies in those MKL flags. I've tried to compile Tensorflow in the same environment as mentioned above but with command bazel build --config=mkl --copt=\u201d-DEIGEN_USE_VML\u201d -c opt //tensorflow/tools/pip_package: build_pip_package and got in return ./tensorflow/core/util/mkl_util.h:710] Non-OK-status: Status(error::Code::UNIMPLEMENTED, \"Unimplemented conversion function\") status: Unimplemented: Unimplemented conversion function. It was a mistake on my side (haven't passed which MKL I actually wanted to use with --copt=\"-DINTEL_MKL_ML\" ) but it proves the problem is MKL related. I think the version of TF available on pip is build with bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package so what differs from my command is the MKL flag.", "body": "Yes, I think the problem lies in those MKL flags. I've tried to compile Tensorflow in the same environment as mentioned above but with command ```bazel build --config=mkl --copt=\u201d-DEIGEN_USE_VML\u201d -c opt //tensorflow/tools/pip_package:\r\nbuild_pip_package``` and got in return ``` ./tensorflow/core/util/mkl_util.h:710] Non-OK-status: Status(error::Code::UNIMPLEMENTED, \"Unimplemented conversion function\") status: Unimplemented: Unimplemented conversion function ```. It was a mistake on my side (haven't passed which MKL I actually wanted to use with ```--copt=\"-DINTEL_MKL_ML\"``` ) but it proves the problem is MKL related. I think the version of TF available on pip is build with ```bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package``` so what differs from my command is the MKL flag."}