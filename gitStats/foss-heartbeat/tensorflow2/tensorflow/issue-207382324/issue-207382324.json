{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7483", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7483/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7483/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7483/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7483", "id": 207382324, "node_id": "MDU6SXNzdWUyMDczODIzMjQ=", "number": 7483, "title": "sparse_placeholder failed when specifying shape", "user": {"login": "liangwang", "id": 492743, "node_id": "MDQ6VXNlcjQ5Mjc0Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/492743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liangwang", "html_url": "https://github.com/liangwang", "followers_url": "https://api.github.com/users/liangwang/followers", "following_url": "https://api.github.com/users/liangwang/following{/other_user}", "gists_url": "https://api.github.com/users/liangwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/liangwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liangwang/subscriptions", "organizations_url": "https://api.github.com/users/liangwang/orgs", "repos_url": "https://api.github.com/users/liangwang/repos", "events_url": "https://api.github.com/users/liangwang/events{/privacy}", "received_events_url": "https://api.github.com/users/liangwang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "concretevitamin", "id": 592670, "node_id": "MDQ6VXNlcjU5MjY3MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/592670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/concretevitamin", "html_url": "https://github.com/concretevitamin", "followers_url": "https://api.github.com/users/concretevitamin/followers", "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}", "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}", "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions", "organizations_url": "https://api.github.com/users/concretevitamin/orgs", "repos_url": "https://api.github.com/users/concretevitamin/repos", "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}", "received_events_url": "https://api.github.com/users/concretevitamin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "concretevitamin", "id": 592670, "node_id": "MDQ6VXNlcjU5MjY3MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/592670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/concretevitamin", "html_url": "https://github.com/concretevitamin", "followers_url": "https://api.github.com/users/concretevitamin/followers", "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}", "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}", "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions", "organizations_url": "https://api.github.com/users/concretevitamin/orgs", "repos_url": "https://api.github.com/users/concretevitamin/repos", "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}", "received_events_url": "https://api.github.com/users/concretevitamin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-02-14T00:31:24Z", "updated_at": "2017-03-10T22:26:58Z", "closed_at": "2017-03-09T00:03:20Z", "author_association": "NONE", "body_html": "<p>When trying to create a sparse placeholder, exception raised if specifying the <code>shape</code> parameter:</p>\n<pre><code>features_placeholder = tf.sparse_placeholder(tf.float32, shape=(16, 20424)) # failed\nfeatures_placeholder = tf.sparse_placeholder(tf.float32)  # pass\n</code></pre>\n<p>Exception reads like:</p>\n<pre><code>  File \"tf_learn.py\", line 92, in run_training\n    features_placeholder = tf.sparse_placeholder(tf.float32, shape=(FLAGS.batch_size, etc.FEATURE_SIZE))\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\ops\\array_ops.py\", line 1653, in sparse_placeholder\n    shape=shape\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\framework\\sparse_tensor.py\", line 135, in __init__\n    shape = ops.convert_to_tensor(shape, name=\"shape\", dtype=dtypes.int64)\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 669, in convert_to_tensor\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 583, in _TensorTensorConversionFunction\n    % (dtype.name, t.dtype.name, str(t)))\nValueError: Tensor conversion requested dtype int64 for Tensor with dtype int32: 'Tensor(\"Const:0\", shape=(2,), dtype=int32)'\n\n</code></pre>\n<p>Is this a bug?</p>", "body_text": "When trying to create a sparse placeholder, exception raised if specifying the shape parameter:\nfeatures_placeholder = tf.sparse_placeholder(tf.float32, shape=(16, 20424)) # failed\nfeatures_placeholder = tf.sparse_placeholder(tf.float32)  # pass\n\nException reads like:\n  File \"tf_learn.py\", line 92, in run_training\n    features_placeholder = tf.sparse_placeholder(tf.float32, shape=(FLAGS.batch_size, etc.FEATURE_SIZE))\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\ops\\array_ops.py\", line 1653, in sparse_placeholder\n    shape=shape\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\framework\\sparse_tensor.py\", line 135, in __init__\n    shape = ops.convert_to_tensor(shape, name=\"shape\", dtype=dtypes.int64)\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 669, in convert_to_tensor\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 583, in _TensorTensorConversionFunction\n    % (dtype.name, t.dtype.name, str(t)))\nValueError: Tensor conversion requested dtype int64 for Tensor with dtype int32: 'Tensor(\"Const:0\", shape=(2,), dtype=int32)'\n\n\nIs this a bug?", "body": "When trying to create a sparse placeholder, exception raised if specifying the `shape` parameter:\r\n```\r\nfeatures_placeholder = tf.sparse_placeholder(tf.float32, shape=(16, 20424)) # failed\r\nfeatures_placeholder = tf.sparse_placeholder(tf.float32)  # pass\r\n```\r\nException reads like:\r\n```\r\n  File \"tf_learn.py\", line 92, in run_training\r\n    features_placeholder = tf.sparse_placeholder(tf.float32, shape=(FLAGS.batch_size, etc.FEATURE_SIZE))\r\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\ops\\array_ops.py\", line 1653, in sparse_placeholder\r\n    shape=shape\r\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\framework\\sparse_tensor.py\", line 135, in __init__\r\n    shape = ops.convert_to_tensor(shape, name=\"shape\", dtype=dtypes.int64)\r\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 669, in convert_to_tensor\r\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n  File \"C:\\local\\Anaconda3-4.1.1-Windows-x86_64\\envs\\tf-py35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 583, in _TensorTensorConversionFunction\r\n    % (dtype.name, t.dtype.name, str(t)))\r\nValueError: Tensor conversion requested dtype int64 for Tensor with dtype int32: 'Tensor(\"Const:0\", shape=(2,), dtype=int32)'\r\n\r\n```\r\n\r\nIs this a bug?"}