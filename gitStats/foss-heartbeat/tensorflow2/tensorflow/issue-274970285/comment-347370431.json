{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/347370431", "html_url": "https://github.com/tensorflow/tensorflow/issues/14664#issuecomment-347370431", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14664", "id": 347370431, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzM3MDQzMQ==", "user": {"login": "angersson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angersson", "html_url": "https://github.com/angersson", "followers_url": "https://api.github.com/users/angersson/followers", "following_url": "https://api.github.com/users/angersson/following{/other_user}", "gists_url": "https://api.github.com/users/angersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angersson/subscriptions", "organizations_url": "https://api.github.com/users/angersson/orgs", "repos_url": "https://api.github.com/users/angersson/repos", "events_url": "https://api.github.com/users/angersson/events{/privacy}", "received_events_url": "https://api.github.com/users/angersson/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-28T00:07:37Z", "updated_at": "2017-11-28T00:07:37Z", "author_association": "MEMBER", "body_html": "<p>I cloned HEAD on my work machine and successfully built the app:</p>\n<div class=\"highlight highlight-source-shell\"><pre>git clone http://github.com/tensorflow/tensorflow /tmp/tf\n<span class=\"pl-c1\">cd</span> /tmp/tf\nvim WORKSPACE\n./configure\nbazel build //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo --cxxopt=<span class=\"pl-s\"><span class=\"pl-pds\">'</span>--std=c++11<span class=\"pl-pds\">'</span></span> --config=android_arm</pre></div>\n<p>Here's what WORKSPACE looks like:</p>\n<div class=\"highlight highlight-source-python\"><pre>android_sdk_repository(\n    <span class=\"pl-v\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>androidsdk<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-v\">api_level</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">23</span>,\n    <span class=\"pl-v\">build_tools_version</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>26.0.1<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-v\">path</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>&lt;my sdk path&gt;<span class=\"pl-pds\">\"</span></span>,\n)\n\nandroid_ndk_repository(\n    <span class=\"pl-v\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>androidndk<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-v\">api_level</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">14</span>,\n    <span class=\"pl-v\">path</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>&lt;my ndk path&gt;<span class=\"pl-pds\">\"</span></span>,\n)</pre></div>\n<p>And the output of <code>bazel version</code>:</p>\n<pre><code>Build label: 0.8.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Mon Nov 27 13:19:39 2017 (1511788779)\nBuild timestamp: 1511788779\nBuild timestamp as int: 1511788779\n</code></pre>\n<p>So there's... some critical environmental difference going on.</p>", "body_text": "I cloned HEAD on my work machine and successfully built the app:\ngit clone http://github.com/tensorflow/tensorflow /tmp/tf\ncd /tmp/tf\nvim WORKSPACE\n./configure\nbazel build //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo --cxxopt='--std=c++11' --config=android_arm\nHere's what WORKSPACE looks like:\nandroid_sdk_repository(\n    name = \"androidsdk\",\n    api_level = 23,\n    build_tools_version = \"26.0.1\",\n    path = \"<my sdk path>\",\n)\n\nandroid_ndk_repository(\n    name = \"androidndk\",\n    api_level = 14,\n    path = \"<my ndk path>\",\n)\nAnd the output of bazel version:\nBuild label: 0.8.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Mon Nov 27 13:19:39 2017 (1511788779)\nBuild timestamp: 1511788779\nBuild timestamp as int: 1511788779\n\nSo there's... some critical environmental difference going on.", "body": "I cloned HEAD on my work machine and successfully built the app:\r\n\r\n```shell\r\ngit clone http://github.com/tensorflow/tensorflow /tmp/tf\r\ncd /tmp/tf\r\nvim WORKSPACE\r\n./configure\r\nbazel build //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo --cxxopt='--std=c++11' --config=android_arm\r\n```\r\n\r\nHere's what WORKSPACE looks like:\r\n\r\n```python\r\nandroid_sdk_repository(\r\n    name = \"androidsdk\",\r\n    api_level = 23,\r\n    build_tools_version = \"26.0.1\",\r\n    path = \"<my sdk path>\",\r\n)\r\n\r\nandroid_ndk_repository(\r\n    name = \"androidndk\",\r\n    api_level = 14,\r\n    path = \"<my ndk path>\",\r\n)\r\n```\r\n\r\nAnd the output of `bazel version`:\r\n\r\n```\r\nBuild label: 0.8.0\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Mon Nov 27 13:19:39 2017 (1511788779)\r\nBuild timestamp: 1511788779\r\nBuild timestamp as int: 1511788779\r\n```\r\n\r\nSo there's... some critical environmental difference going on."}