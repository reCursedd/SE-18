{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16742", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16742/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16742/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16742/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/16742", "id": 294162220, "node_id": "MDExOlB1bGxSZXF1ZXN0MTY2OTkwNDUx", "number": 16742, "title": "Allow passing Saver write_version to 'evaluation_once' and 'evaluatio\u2026", "user": {"login": "yumaokao", "id": 1900744, "node_id": "MDQ6VXNlcjE5MDA3NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1900744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yumaokao", "html_url": "https://github.com/yumaokao", "followers_url": "https://api.github.com/users/yumaokao/followers", "following_url": "https://api.github.com/users/yumaokao/following{/other_user}", "gists_url": "https://api.github.com/users/yumaokao/gists{/gist_id}", "starred_url": "https://api.github.com/users/yumaokao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yumaokao/subscriptions", "organizations_url": "https://api.github.com/users/yumaokao/orgs", "repos_url": "https://api.github.com/users/yumaokao/repos", "events_url": "https://api.github.com/users/yumaokao/events{/privacy}", "received_events_url": "https://api.github.com/users/yumaokao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "fef2c0", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "sguada", "id": 1766524, "node_id": "MDQ6VXNlcjE3NjY1MjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1766524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sguada", "html_url": "https://github.com/sguada", "followers_url": "https://api.github.com/users/sguada/followers", "following_url": "https://api.github.com/users/sguada/following{/other_user}", "gists_url": "https://api.github.com/users/sguada/gists{/gist_id}", "starred_url": "https://api.github.com/users/sguada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sguada/subscriptions", "organizations_url": "https://api.github.com/users/sguada/orgs", "repos_url": "https://api.github.com/users/sguada/repos", "events_url": "https://api.github.com/users/sguada/events{/privacy}", "received_events_url": "https://api.github.com/users/sguada/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sguada", "id": 1766524, "node_id": "MDQ6VXNlcjE3NjY1MjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1766524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sguada", "html_url": "https://github.com/sguada", "followers_url": "https://api.github.com/users/sguada/followers", "following_url": "https://api.github.com/users/sguada/following{/other_user}", "gists_url": "https://api.github.com/users/sguada/gists{/gist_id}", "starred_url": "https://api.github.com/users/sguada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sguada/subscriptions", "organizations_url": "https://api.github.com/users/sguada/orgs", "repos_url": "https://api.github.com/users/sguada/repos", "events_url": "https://api.github.com/users/sguada/events{/privacy}", "received_events_url": "https://api.github.com/users/sguada/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-02-04T01:58:07Z", "updated_at": "2018-03-04T11:47:40Z", "closed_at": "2018-03-04T11:47:39Z", "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/16742", "html_url": "https://github.com/tensorflow/tensorflow/pull/16742", "diff_url": "https://github.com/tensorflow/tensorflow/pull/16742.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/16742.patch"}, "body_html": "<p>\u2026n_loop'</p>\n<p>Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7155778\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tedhtchang\">@tedhtchang</a> for the commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/2a16133061ba3f8fa60c0338cd629f2211f9b17d/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/2a16133061ba3f8fa60c0338cd629f2211f9b17d\"><tt>2a16133</tt></a> to add checkpoint file prefix check with default to <strong>SaverDef.V2</strong>.</p>\n<p>However there are some <a href=\"https://github.com/tensorflow/models/tree/master/research/slim#pre-trained-models\">pre-trained slim models</a> which stored in <strong>SaverDef.V1</strong> format. This will broken <a href=\"https://github.com/tensorflow/models/blob/master/research/slim/eval_image_classifier.py\">eval_image_classifier.py</a> for these models since there is no way to choose in <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/slim/python/slim/evaluation.py\">slim/evaluation.py</a>.</p>\n<p>So a parameter <strong>write_version</strong> is added for <strong>evaluation_once</strong> and <strong>evaluation_loop</strong> which allows programs like <a href=\"https://github.com/tensorflow/models/blob/master/research/slim/eval_image_classifier.py\">eval_image_classifier.py</a> could tell which format the checkpoint uses.</p>", "body_text": "\u2026n_loop'\nThanks @tedhtchang for the commit 2a16133 to add checkpoint file prefix check with default to SaverDef.V2.\nHowever there are some pre-trained slim models which stored in SaverDef.V1 format. This will broken eval_image_classifier.py for these models since there is no way to choose in slim/evaluation.py.\nSo a parameter write_version is added for evaluation_once and evaluation_loop which allows programs like eval_image_classifier.py could tell which format the checkpoint uses.", "body": "\u2026n_loop'\r\n\r\nThanks @tedhtchang for the commit https://github.com/tensorflow/tensorflow/commit/2a16133061ba3f8fa60c0338cd629f2211f9b17d to add checkpoint file prefix check with default to **SaverDef.V2**.\r\n\r\nHowever there are some [pre-trained slim models](https://github.com/tensorflow/models/tree/master/research/slim#pre-trained-models) which stored in **SaverDef.V1** format. This will broken [eval_image_classifier.py](https://github.com/tensorflow/models/blob/master/research/slim/eval_image_classifier.py) for these models since there is no way to choose in [slim/evaluation.py](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/slim/python/slim/evaluation.py).\r\n\r\nSo a parameter **write_version** is added for **evaluation_once** and **evaluation_loop** which allows programs like [eval_image_classifier.py](https://github.com/tensorflow/models/blob/master/research/slim/eval_image_classifier.py) could tell which format the checkpoint uses.\r\n \r\n\r\n\r\n\r\n"}