{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17673", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17673/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17673/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17673/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17673", "id": 304662826, "node_id": "MDU6SXNzdWUzMDQ2NjI4MjY=", "number": 17673, "title": "tf1.6 error: ", "user": {"login": "XuChunling", "id": 10767042, "node_id": "MDQ6VXNlcjEwNzY3MDQy", "avatar_url": "https://avatars3.githubusercontent.com/u/10767042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XuChunling", "html_url": "https://github.com/XuChunling", "followers_url": "https://api.github.com/users/XuChunling/followers", "following_url": "https://api.github.com/users/XuChunling/following{/other_user}", "gists_url": "https://api.github.com/users/XuChunling/gists{/gist_id}", "starred_url": "https://api.github.com/users/XuChunling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XuChunling/subscriptions", "organizations_url": "https://api.github.com/users/XuChunling/orgs", "repos_url": "https://api.github.com/users/XuChunling/repos", "events_url": "https://api.github.com/users/XuChunling/events{/privacy}", "received_events_url": "https://api.github.com/users/XuChunling/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-13T08:07:14Z", "updated_at": "2018-03-13T08:07:53Z", "closed_at": "2018-03-13T08:07:53Z", "author_association": "NONE", "body_html": "<p>OS Platform and Distribution--&gt;Linux Ubuntu 14.04<br>\nTensorFlow installed from--&gt;binary<br>\nTensorFlow version --&gt;1.6<br>\nPython version--&gt; 3.5.5<br>\nGCC/Compiler version --&gt;GCC 4.8.4<br>\nCUDA/cuDNN version--&gt;cuda9/cuDNN7<br>\nGPU model and memory--&gt;Tesla K20c/Tesla K20m</p>\n<p>code to reproduce(tf_record_test.py):<br>\n`import tensorflow as tf</p>\n<p>print(tf.GIT_VERSION, tf.VERSION)</p>\n<p>all_record = str(\"abc\")<br>\noutput_filename = \"tfrecord_test\"</p>\n<p>writer = tf.python_io.TFRecordWriter(output_filename)</p>\n<p>example = tf.train.Example(<br>\nfeatures = tf.train.Features(<br>\nfeature = {<br>\n\"features\": tf.train.Feature(<br>\n#int32_list = tf.train.Int32List(value = all_record)<br>\nbytes_list=tf.train.BytesList(value = all_record)<br>\n)<br>\n}<br>\n)<br>\n)<br>\nwriter.write(example.SerializeToString())</p>\n<p>writer.close()<br>\n<code>error log:</code>$ python tf_record_test.py<br>\n/usr/local/lib/python3.5/dist-packages/h5py/<strong>init</strong>.py:36: FutureWarning: Conversion of the second argument of issubdtype from <code>float</code> to <code>np.floating</code> is deprecated. In future, it will be treated as <code>np.float64 == np.dtype(float).type</code>.<br>\nfrom ._conv import register_converters as _register_converters<br>\nv1.6.0-0-gd2e24b6039 1.6.0<br>\nTraceback (most recent call last):<br>\nFile \"tf_record_test.py\", line 15, in <br>\nbytes_list=tf.train.BytesList(value = all_record)<br>\nTypeError: 'a' has type str, but expected one of: bytes`</p>", "body_text": "OS Platform and Distribution-->Linux Ubuntu 14.04\nTensorFlow installed from-->binary\nTensorFlow version -->1.6\nPython version--> 3.5.5\nGCC/Compiler version -->GCC 4.8.4\nCUDA/cuDNN version-->cuda9/cuDNN7\nGPU model and memory-->Tesla K20c/Tesla K20m\ncode to reproduce(tf_record_test.py):\n`import tensorflow as tf\nprint(tf.GIT_VERSION, tf.VERSION)\nall_record = str(\"abc\")\noutput_filename = \"tfrecord_test\"\nwriter = tf.python_io.TFRecordWriter(output_filename)\nexample = tf.train.Example(\nfeatures = tf.train.Features(\nfeature = {\n\"features\": tf.train.Feature(\n#int32_list = tf.train.Int32List(value = all_record)\nbytes_list=tf.train.BytesList(value = all_record)\n)\n}\n)\n)\nwriter.write(example.SerializeToString())\nwriter.close()\nerror log:$ python tf_record_test.py\n/usr/local/lib/python3.5/dist-packages/h5py/init.py:36: FutureWarning: Conversion of the second argument of issubdtype from float to np.floating is deprecated. In future, it will be treated as np.float64 == np.dtype(float).type.\nfrom ._conv import register_converters as _register_converters\nv1.6.0-0-gd2e24b6039 1.6.0\nTraceback (most recent call last):\nFile \"tf_record_test.py\", line 15, in \nbytes_list=tf.train.BytesList(value = all_record)\nTypeError: 'a' has type str, but expected one of: bytes`", "body": "OS Platform and Distribution-->Linux Ubuntu 14.04\r\nTensorFlow installed from-->binary\r\nTensorFlow version -->1.6\r\nPython version--> 3.5.5\r\nGCC/Compiler version -->GCC 4.8.4\r\nCUDA/cuDNN version-->cuda9/cuDNN7\r\nGPU model and memory-->Tesla K20c/Tesla K20m\r\n\r\ncode to reproduce(tf_record_test.py):\r\n`import tensorflow as tf\r\n\r\nprint(tf.GIT_VERSION, tf.VERSION)\r\n\r\nall_record = str(\"abc\")\r\noutput_filename = \"tfrecord_test\"\r\n\r\nwriter = tf.python_io.TFRecordWriter(output_filename)\r\n\r\nexample = tf.train.Example(\r\n    features = tf.train.Features(\r\n        feature = {\r\n            \"features\": tf.train.Feature(\r\n                #int32_list = tf.train.Int32List(value = all_record)\r\n                bytes_list=tf.train.BytesList(value = all_record)\r\n            )\r\n        }\r\n    )\r\n)\r\nwriter.write(example.SerializeToString())\r\n\r\nwriter.close()\r\n`\r\nerror log:\r\n`$ python tf_record_test.py\r\n/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\nv1.6.0-0-gd2e24b6039 1.6.0\r\nTraceback (most recent call last):\r\n  File \"tf_record_test.py\", line 15, in <module>\r\n    bytes_list=tf.train.BytesList(value = all_record)\r\nTypeError: 'a' has type str, but expected one of: bytes`"}