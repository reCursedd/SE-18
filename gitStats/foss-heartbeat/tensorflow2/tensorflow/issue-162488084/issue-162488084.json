{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3061", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3061/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3061/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3061/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3061", "id": 162488084, "node_id": "MDU6SXNzdWUxNjI0ODgwODQ=", "number": 3061, "title": "Supervisor should start queue runners before initializing the model", "user": {"login": "rafaljozefowicz", "id": 2983769, "node_id": "MDQ6VXNlcjI5ODM3Njk=", "avatar_url": "https://avatars1.githubusercontent.com/u/2983769?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rafaljozefowicz", "html_url": "https://github.com/rafaljozefowicz", "followers_url": "https://api.github.com/users/rafaljozefowicz/followers", "following_url": "https://api.github.com/users/rafaljozefowicz/following{/other_user}", "gists_url": "https://api.github.com/users/rafaljozefowicz/gists{/gist_id}", "starred_url": "https://api.github.com/users/rafaljozefowicz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rafaljozefowicz/subscriptions", "organizations_url": "https://api.github.com/users/rafaljozefowicz/orgs", "repos_url": "https://api.github.com/users/rafaljozefowicz/repos", "events_url": "https://api.github.com/users/rafaljozefowicz/events{/privacy}", "received_events_url": "https://api.github.com/users/rafaljozefowicz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "sherrym", "id": 12770037, "node_id": "MDQ6VXNlcjEyNzcwMDM3", "avatar_url": "https://avatars0.githubusercontent.com/u/12770037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherrym", "html_url": "https://github.com/sherrym", "followers_url": "https://api.github.com/users/sherrym/followers", "following_url": "https://api.github.com/users/sherrym/following{/other_user}", "gists_url": "https://api.github.com/users/sherrym/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherrym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherrym/subscriptions", "organizations_url": "https://api.github.com/users/sherrym/orgs", "repos_url": "https://api.github.com/users/sherrym/repos", "events_url": "https://api.github.com/users/sherrym/events{/privacy}", "received_events_url": "https://api.github.com/users/sherrym/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sherrym", "id": 12770037, "node_id": "MDQ6VXNlcjEyNzcwMDM3", "avatar_url": "https://avatars0.githubusercontent.com/u/12770037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherrym", "html_url": "https://github.com/sherrym", "followers_url": "https://api.github.com/users/sherrym/followers", "following_url": "https://api.github.com/users/sherrym/following{/other_user}", "gists_url": "https://api.github.com/users/sherrym/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherrym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherrym/subscriptions", "organizations_url": "https://api.github.com/users/sherrym/orgs", "repos_url": "https://api.github.com/users/sherrym/repos", "events_url": "https://api.github.com/users/sherrym/events{/privacy}", "received_events_url": "https://api.github.com/users/sherrym/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-06-27T16:02:21Z", "updated_at": "2017-03-28T05:17:15Z", "closed_at": "2016-12-12T17:40:11Z", "author_association": "NONE", "body_html": "<p>For some use cases, the models use a random batch of inputs when initializing the weights. Currently (as of version 0.9) this is not supported with Supervisor that uses queues. It attempts to initialize the model before starting queue runners (<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/supervisor.py#L650\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/supervisor.py#L650</a> method prepare_or_wait_for_session).</p>\n<p>Do you think changing the order of operations in this method is reasonable?</p>\n<ol>\n<li>recover_session()</li>\n<li>start_queue_runners() (currently done at the end)</li>\n<li>initialize_model()</li>\n</ol>\n<p>Thanks!</p>", "body_text": "For some use cases, the models use a random batch of inputs when initializing the weights. Currently (as of version 0.9) this is not supported with Supervisor that uses queues. It attempts to initialize the model before starting queue runners (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/supervisor.py#L650 method prepare_or_wait_for_session).\nDo you think changing the order of operations in this method is reasonable?\n\nrecover_session()\nstart_queue_runners() (currently done at the end)\ninitialize_model()\n\nThanks!", "body": "For some use cases, the models use a random batch of inputs when initializing the weights. Currently (as of version 0.9) this is not supported with Supervisor that uses queues. It attempts to initialize the model before starting queue runners (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/supervisor.py#L650 method prepare_or_wait_for_session).\n\nDo you think changing the order of operations in this method is reasonable? \n1. recover_session() \n2. start_queue_runners() (currently done at the end)\n3. initialize_model()\n\nThanks!\n"}