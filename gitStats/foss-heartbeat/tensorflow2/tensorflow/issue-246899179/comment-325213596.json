{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/325213596", "html_url": "https://github.com/tensorflow/tensorflow/pull/11922#issuecomment-325213596", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11922", "id": 325213596, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTIxMzU5Ng==", "user": {"login": "liuzjmike", "id": 15717157, "node_id": "MDQ6VXNlcjE1NzE3MTU3", "avatar_url": "https://avatars1.githubusercontent.com/u/15717157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuzjmike", "html_url": "https://github.com/liuzjmike", "followers_url": "https://api.github.com/users/liuzjmike/followers", "following_url": "https://api.github.com/users/liuzjmike/following{/other_user}", "gists_url": "https://api.github.com/users/liuzjmike/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuzjmike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuzjmike/subscriptions", "organizations_url": "https://api.github.com/users/liuzjmike/orgs", "repos_url": "https://api.github.com/users/liuzjmike/repos", "events_url": "https://api.github.com/users/liuzjmike/events{/privacy}", "received_events_url": "https://api.github.com/users/liuzjmike/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-27T17:50:56Z", "updated_at": "2017-08-27T17:50:56Z", "author_association": "NONE", "body_html": "<p>Following are the outputs of two consecutive run of batch_norm_benchmark.py on the original implementation and this new implementation, respectively.</p>\n<p>Original implementation:</p>\n<pre><code>&gt; bazel test //tensorflow/python:batch_norm_benchmark\nWARNING: Output base '/home/home5/zl99/.cache/bazel/_bazel_zl99/7128647531e7ce469ec086a63edb81ef' is on NFS. This may lead to surprising failures and undetermined behavior.\nINFO: Found 1 test target...\nTarget //tensorflow/python:batch_norm_benchmark up-to-date:\n  bazel-bin/tensorflow/python/batch_norm_benchmark\nINFO: Elapsed time: 39.019s, Critical Path: 5.24s\n//tensorflow/python:batch_norm_benchmark                                 PASSED in 5.1s\n\nExecuted 1 out of 1 test: 1 test passes.\nThere were tests whose specified size is too big. Use the --test_verbose_timeout_warnings command line option to see which ones these are.\n</code></pre>\n<p>New implementation:</p>\n<pre><code>&gt; bazel test //tensorflow/python:batch_norm_benchmark\nWARNING: Output base '/home/home5/zl99/.cache/bazel/_bazel_zl99/7128647531e7ce469ec086a63edb81ef' is on NFS. This may lead to surprising failures and undetermined behavior.\nINFO: Found 1 test target...\nTarget //tensorflow/python:batch_norm_benchmark up-to-date:\n  bazel-bin/tensorflow/python/batch_norm_benchmark\nINFO: Elapsed time: 35.650s, Critical Path: 5.22s\n//tensorflow/python:batch_norm_benchmark                                 PASSED in 5.1s\n\nExecuted 1 out of 1 test: 1 test passes.\nThere were tests whose specified size is too big. Use the --test_verbose_timeout_warnings command line option to see which ones these are.\n</code></pre>\n<p>I'm not sure if the benchmarks were run completely and correctly because of the last line of the output. But as far as the result shows, the two implementation should have similar performance.</p>", "body_text": "Following are the outputs of two consecutive run of batch_norm_benchmark.py on the original implementation and this new implementation, respectively.\nOriginal implementation:\n> bazel test //tensorflow/python:batch_norm_benchmark\nWARNING: Output base '/home/home5/zl99/.cache/bazel/_bazel_zl99/7128647531e7ce469ec086a63edb81ef' is on NFS. This may lead to surprising failures and undetermined behavior.\nINFO: Found 1 test target...\nTarget //tensorflow/python:batch_norm_benchmark up-to-date:\n  bazel-bin/tensorflow/python/batch_norm_benchmark\nINFO: Elapsed time: 39.019s, Critical Path: 5.24s\n//tensorflow/python:batch_norm_benchmark                                 PASSED in 5.1s\n\nExecuted 1 out of 1 test: 1 test passes.\nThere were tests whose specified size is too big. Use the --test_verbose_timeout_warnings command line option to see which ones these are.\n\nNew implementation:\n> bazel test //tensorflow/python:batch_norm_benchmark\nWARNING: Output base '/home/home5/zl99/.cache/bazel/_bazel_zl99/7128647531e7ce469ec086a63edb81ef' is on NFS. This may lead to surprising failures and undetermined behavior.\nINFO: Found 1 test target...\nTarget //tensorflow/python:batch_norm_benchmark up-to-date:\n  bazel-bin/tensorflow/python/batch_norm_benchmark\nINFO: Elapsed time: 35.650s, Critical Path: 5.22s\n//tensorflow/python:batch_norm_benchmark                                 PASSED in 5.1s\n\nExecuted 1 out of 1 test: 1 test passes.\nThere were tests whose specified size is too big. Use the --test_verbose_timeout_warnings command line option to see which ones these are.\n\nI'm not sure if the benchmarks were run completely and correctly because of the last line of the output. But as far as the result shows, the two implementation should have similar performance.", "body": "Following are the outputs of two consecutive run of batch_norm_benchmark.py on the original implementation and this new implementation, respectively. \r\n\r\nOriginal implementation:\r\n```\r\n> bazel test //tensorflow/python:batch_norm_benchmark\r\nWARNING: Output base '/home/home5/zl99/.cache/bazel/_bazel_zl99/7128647531e7ce469ec086a63edb81ef' is on NFS. This may lead to surprising failures and undetermined behavior.\r\nINFO: Found 1 test target...\r\nTarget //tensorflow/python:batch_norm_benchmark up-to-date:\r\n  bazel-bin/tensorflow/python/batch_norm_benchmark\r\nINFO: Elapsed time: 39.019s, Critical Path: 5.24s\r\n//tensorflow/python:batch_norm_benchmark                                 PASSED in 5.1s\r\n\r\nExecuted 1 out of 1 test: 1 test passes.\r\nThere were tests whose specified size is too big. Use the --test_verbose_timeout_warnings command line option to see which ones these are.\r\n```\r\n\r\nNew implementation:\r\n```\r\n> bazel test //tensorflow/python:batch_norm_benchmark\r\nWARNING: Output base '/home/home5/zl99/.cache/bazel/_bazel_zl99/7128647531e7ce469ec086a63edb81ef' is on NFS. This may lead to surprising failures and undetermined behavior.\r\nINFO: Found 1 test target...\r\nTarget //tensorflow/python:batch_norm_benchmark up-to-date:\r\n  bazel-bin/tensorflow/python/batch_norm_benchmark\r\nINFO: Elapsed time: 35.650s, Critical Path: 5.22s\r\n//tensorflow/python:batch_norm_benchmark                                 PASSED in 5.1s\r\n\r\nExecuted 1 out of 1 test: 1 test passes.\r\nThere were tests whose specified size is too big. Use the --test_verbose_timeout_warnings command line option to see which ones these are.\r\n```\r\n\r\nI'm not sure if the benchmarks were run completely and correctly because of the last line of the output. But as far as the result shows, the two implementation should have similar performance."}