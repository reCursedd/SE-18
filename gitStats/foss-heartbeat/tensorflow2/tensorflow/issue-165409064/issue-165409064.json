{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3300", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3300/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3300/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3300/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3300", "id": 165409064, "node_id": "MDU6SXNzdWUxNjU0MDkwNjQ=", "number": 3300, "title": "Error trying to predict using skflow example dnn_autoencoder_iris", "user": {"login": "NikunjBajaj-Reflektion", "id": 10801137, "node_id": "MDQ6VXNlcjEwODAxMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10801137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NikunjBajaj-Reflektion", "html_url": "https://github.com/NikunjBajaj-Reflektion", "followers_url": "https://api.github.com/users/NikunjBajaj-Reflektion/followers", "following_url": "https://api.github.com/users/NikunjBajaj-Reflektion/following{/other_user}", "gists_url": "https://api.github.com/users/NikunjBajaj-Reflektion/gists{/gist_id}", "starred_url": "https://api.github.com/users/NikunjBajaj-Reflektion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NikunjBajaj-Reflektion/subscriptions", "organizations_url": "https://api.github.com/users/NikunjBajaj-Reflektion/orgs", "repos_url": "https://api.github.com/users/NikunjBajaj-Reflektion/repos", "events_url": "https://api.github.com/users/NikunjBajaj-Reflektion/events{/privacy}", "received_events_url": "https://api.github.com/users/NikunjBajaj-Reflektion/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2016-07-13T20:04:41Z", "updated_at": "2016-10-28T05:07:30Z", "closed_at": "2016-10-28T05:07:30Z", "author_association": "NONE", "body_html": "<p>I am trying to generate new data using trained construction layer using dnn autoencoder on iris data. I run into a couple issues detailed after the system and installation information.</p>\n<h3>Environment info</h3>\n<p>Operating System:</p>\n<p>Mac OSx 10.11.5</p>\n<p>I installed from the source code and the commit hash is-<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/bef942ca38d03bda48e3f39d3473973f0219933a/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/bef942ca38d03bda48e3f39d3473973f0219933a\"><tt>bef942c</tt></a></p>\n<p><strong>Error 1:</strong></p>\n<h3>Steps to reproduce</h3>\n<ul>\n<li>Add the following line to the file <code>tensorflow/tensorflow/examples/skflow/dnn_autoencoder_iris.py</code></li>\n</ul>\n<pre><code>new_data = autoencoder.generate()\nprint new_data\n</code></pre>\n<ul>\n<li>Run the above file.<br>\nError: <code>get_tensor_value()</code> is not a class method.</li>\n</ul>\n<p>I tried changing  the function name to <code>get_tensor()</code> which actually exists in the parent class.</p>\n<p>I get the following error trace</p>\n<pre><code>WARNING:tensorflow:learn.ops.dnn is deprecated,     please use contrib.layers.dnn.\nTraceback (most recent call last):\n  File \"/Users/nbajaj/tensorflow_git/tensorflow/tensorflow/examples/skflow/dnn_autoencoder_rfk.py\", line 56, in &lt;module&gt;\n    new_data = autoencoder.generate()\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/autoencoder.py\", line 97, in generate\n    \"encoder/dnn/layer%d/Linear/Bias:0\" % last_layer)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 270, in get_tensor\n    return self._graph.get_tensor_by_name(name)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2519, in get_tensor_by_name\n    return self.as_graph_element(name, allow_tensor=True, allow_operation=False)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2373, in as_graph_element\n    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2415, in _as_graph_element_locked\n    \"graph.\" % (repr(name), repr(op_name)))\nKeyError: \"The name 'encoder/dnn/layer1/Linear/Bias:0' refers to a Tensor which does not exist. The operation, 'encoder/dnn/layer1/Linear/Bias', does not exist in the graph.\"\n</code></pre>\n<p>Then I changed the line<br>\n<code>new_data = autoencoder.generate()</code> -&gt; <code>new_data = autoencoder.generate(hideen=transformed)</code> so that the above code path doesn't get executed in the first place.</p>\n<p>Then I get the following error trace-</p>\n<pre><code>Traceback (most recent call last):\n  File \"dnn_autoencoder_rfk.py\", line 56, in &lt;module&gt;\n    new_data = autoencoder.generate(hidden=[10, 20])\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/autoencoder.py\", line 101, in generate\n    return self._session.run(self.decoder, feed_dict={self.encoder: hidden})\nAttributeError: 'TensorFlowDNNAutoencoder' object has no attribute '_session'\n</code></pre>\n<p>Please let me know if I could try something else or there is anyway I can help to fix this.</p>", "body_text": "I am trying to generate new data using trained construction layer using dnn autoencoder on iris data. I run into a couple issues detailed after the system and installation information.\nEnvironment info\nOperating System:\nMac OSx 10.11.5\nI installed from the source code and the commit hash is-\nbef942c\nError 1:\nSteps to reproduce\n\nAdd the following line to the file tensorflow/tensorflow/examples/skflow/dnn_autoencoder_iris.py\n\nnew_data = autoencoder.generate()\nprint new_data\n\n\nRun the above file.\nError: get_tensor_value() is not a class method.\n\nI tried changing  the function name to get_tensor() which actually exists in the parent class.\nI get the following error trace\nWARNING:tensorflow:learn.ops.dnn is deprecated,     please use contrib.layers.dnn.\nTraceback (most recent call last):\n  File \"/Users/nbajaj/tensorflow_git/tensorflow/tensorflow/examples/skflow/dnn_autoencoder_rfk.py\", line 56, in <module>\n    new_data = autoencoder.generate()\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/autoencoder.py\", line 97, in generate\n    \"encoder/dnn/layer%d/Linear/Bias:0\" % last_layer)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 270, in get_tensor\n    return self._graph.get_tensor_by_name(name)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2519, in get_tensor_by_name\n    return self.as_graph_element(name, allow_tensor=True, allow_operation=False)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2373, in as_graph_element\n    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2415, in _as_graph_element_locked\n    \"graph.\" % (repr(name), repr(op_name)))\nKeyError: \"The name 'encoder/dnn/layer1/Linear/Bias:0' refers to a Tensor which does not exist. The operation, 'encoder/dnn/layer1/Linear/Bias', does not exist in the graph.\"\n\nThen I changed the line\nnew_data = autoencoder.generate() -> new_data = autoencoder.generate(hideen=transformed) so that the above code path doesn't get executed in the first place.\nThen I get the following error trace-\nTraceback (most recent call last):\n  File \"dnn_autoencoder_rfk.py\", line 56, in <module>\n    new_data = autoencoder.generate(hidden=[10, 20])\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/autoencoder.py\", line 101, in generate\n    return self._session.run(self.decoder, feed_dict={self.encoder: hidden})\nAttributeError: 'TensorFlowDNNAutoencoder' object has no attribute '_session'\n\nPlease let me know if I could try something else or there is anyway I can help to fix this.", "body": "I am trying to generate new data using trained construction layer using dnn autoencoder on iris data. I run into a couple issues detailed after the system and installation information. \n### Environment info\n\nOperating System:\n\nMac OSx 10.11.5\n\nI installed from the source code and the commit hash is- \nbef942ca38d03bda48e3f39d3473973f0219933a\n\n**Error 1:** \n### Steps to reproduce\n- Add the following line to the file `tensorflow/tensorflow/examples/skflow/dnn_autoencoder_iris.py`\n\n```\nnew_data = autoencoder.generate()\nprint new_data\n```\n- Run the above file.\n  Error: `get_tensor_value()` is not a class method. \n\nI tried changing  the function name to `get_tensor()` which actually exists in the parent class. \n\nI get the following error trace \n\n```\nWARNING:tensorflow:learn.ops.dnn is deprecated,     please use contrib.layers.dnn.\nTraceback (most recent call last):\n  File \"/Users/nbajaj/tensorflow_git/tensorflow/tensorflow/examples/skflow/dnn_autoencoder_rfk.py\", line 56, in <module>\n    new_data = autoencoder.generate()\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/autoencoder.py\", line 97, in generate\n    \"encoder/dnn/layer%d/Linear/Bias:0\" % last_layer)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 270, in get_tensor\n    return self._graph.get_tensor_by_name(name)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2519, in get_tensor_by_name\n    return self.as_graph_element(name, allow_tensor=True, allow_operation=False)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2373, in as_graph_element\n    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2415, in _as_graph_element_locked\n    \"graph.\" % (repr(name), repr(op_name)))\nKeyError: \"The name 'encoder/dnn/layer1/Linear/Bias:0' refers to a Tensor which does not exist. The operation, 'encoder/dnn/layer1/Linear/Bias', does not exist in the graph.\"\n```\n\nThen I changed the line \n`new_data = autoencoder.generate()` -> `new_data = autoencoder.generate(hideen=transformed)` so that the above code path doesn't get executed in the first place. \n\nThen I get the following error trace- \n\n```\nTraceback (most recent call last):\n  File \"dnn_autoencoder_rfk.py\", line 56, in <module>\n    new_data = autoencoder.generate(hidden=[10, 20])\n  File \"/Users/nbajaj/tensorflow_git/tvenv/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/autoencoder.py\", line 101, in generate\n    return self._session.run(self.decoder, feed_dict={self.encoder: hidden})\nAttributeError: 'TensorFlowDNNAutoencoder' object has no attribute '_session'\n```\n\nPlease let me know if I could try something else or there is anyway I can help to fix this. \n"}