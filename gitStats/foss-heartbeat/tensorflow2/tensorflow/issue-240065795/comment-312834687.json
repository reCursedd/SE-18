{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/312834687", "html_url": "https://github.com/tensorflow/tensorflow/issues/11232#issuecomment-312834687", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11232", "id": 312834687, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjgzNDY4Nw==", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-04T09:46:34Z", "updated_at": "2017-07-04T09:46:34Z", "author_association": "MEMBER", "body_html": "<p>For now, you'll have to build the native library from source. Something along the lines of (see the <a href=\"https://github.com/tensorflow/tensorflow/tree/r1.2/tensorflow/java#building-from-source\">README</a> for details):</p>\n<pre><code>git checkout &lt;release_branch&gt;\n./configure # Make sure you enable MKL\nbazel build -c opt //tensorflow/java:libtensorflow_jni.so\n</code></pre>\n<p>If the native library is available in the JVM path (e.g., <code>-Djava.library.path=...</code>), then it will be preferred over the native library packaged in Maven (see <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.2/tensorflow/java/src/main/java/org/tensorflow/NativeLibrary.java#L48\"><code>NativeLibrary.java</code></a>)</p>\n<p>As for including MKL support in the maven packages we release - I'm sure you're familiar with the effort it takes to maintain and support binaries for different platforms and configurations. MKL-enabled distributions is something we're looking into (CC <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23486130\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tfboyd\">@tfboyd</a>). We're unlikely to provide MKL-enabled configurations just for Java. But if and when MKL-enabled binaries are distributed for other TensorFlow binaries, we're likely to do the same for Java.</p>\n<p>Hope that answers your question.</p>", "body_text": "For now, you'll have to build the native library from source. Something along the lines of (see the README for details):\ngit checkout <release_branch>\n./configure # Make sure you enable MKL\nbazel build -c opt //tensorflow/java:libtensorflow_jni.so\n\nIf the native library is available in the JVM path (e.g., -Djava.library.path=...), then it will be preferred over the native library packaged in Maven (see NativeLibrary.java)\nAs for including MKL support in the maven packages we release - I'm sure you're familiar with the effort it takes to maintain and support binaries for different platforms and configurations. MKL-enabled distributions is something we're looking into (CC @tfboyd). We're unlikely to provide MKL-enabled configurations just for Java. But if and when MKL-enabled binaries are distributed for other TensorFlow binaries, we're likely to do the same for Java.\nHope that answers your question.", "body": "For now, you'll have to build the native library from source. Something along the lines of (see the [README](https://github.com/tensorflow/tensorflow/tree/r1.2/tensorflow/java#building-from-source) for details):\r\n\r\n```\r\ngit checkout <release_branch>\r\n./configure # Make sure you enable MKL\r\nbazel build -c opt //tensorflow/java:libtensorflow_jni.so\r\n```\r\n\r\nIf the native library is available in the JVM path (e.g., `-Djava.library.path=...`), then it will be preferred over the native library packaged in Maven (see [`NativeLibrary.java`](https://github.com/tensorflow/tensorflow/blob/r1.2/tensorflow/java/src/main/java/org/tensorflow/NativeLibrary.java#L48))\r\n\r\nAs for including MKL support in the maven packages we release - I'm sure you're familiar with the effort it takes to maintain and support binaries for different platforms and configurations. MKL-enabled distributions is something we're looking into (CC @tfboyd). We're unlikely to provide MKL-enabled configurations just for Java. But if and when MKL-enabled binaries are distributed for other TensorFlow binaries, we're likely to do the same for Java.\r\n\r\nHope that answers your question."}