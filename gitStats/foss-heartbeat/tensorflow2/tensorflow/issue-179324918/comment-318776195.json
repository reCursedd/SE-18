{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/318776195", "html_url": "https://github.com/tensorflow/tensorflow/issues/4589#issuecomment-318776195", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4589", "id": 318776195, "node_id": "MDEyOklzc3VlQ29tbWVudDMxODc3NjE5NQ==", "user": {"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-28T22:26:40Z", "updated_at": "2017-07-28T22:26:40Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=21690396\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/agupta74\">@agupta74</a>  Currently, float16 matmuls do compute in float16 if the environmental variable <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/util/matmul_autotune.cc#L44\">TF_FP16_MATMUL_USE_FP32_COMPUTE</a> is set to \"False\". We plan on adding a similar environmental variable to convolutions.</p>\n<p>We are currently discussing whether to expose this as an argument, e.g. adding a <code>gpu_compute_type</code> argument to <code>tf.matmul</code>. Adding such an parameter forces us to keep it for a very long time due to our <a href=\"https://www.tensorflow.org/programmers_guide/version_semantics\" rel=\"nofollow\">backwards comparability guarantees</a>. This parameter would only apply to certain devices (GPUs with fp16 support) and will be unnecessary with Volta GPUs (<a href=\"https://devblogs.nvidia.com/parallelforall/inside-volta/\" rel=\"nofollow\">tensor cores</a> will always be used on Volta devices) so we are still discussing whether the option is worth exposing without environmental variables.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a> Once we add float16 support to tf_cnn_benchmarks, we plan on reporting our training results.</p>", "body_text": "@agupta74  Currently, float16 matmuls do compute in float16 if the environmental variable TF_FP16_MATMUL_USE_FP32_COMPUTE is set to \"False\". We plan on adding a similar environmental variable to convolutions.\nWe are currently discussing whether to expose this as an argument, e.g. adding a gpu_compute_type argument to tf.matmul. Adding such an parameter forces us to keep it for a very long time due to our backwards comparability guarantees. This parameter would only apply to certain devices (GPUs with fp16 support) and will be unnecessary with Volta GPUs (tensor cores will always be used on Volta devices) so we are still discussing whether the option is worth exposing without environmental variables.\n@yaroslavvb Once we add float16 support to tf_cnn_benchmarks, we plan on reporting our training results.", "body": "@agupta74  Currently, float16 matmuls do compute in float16 if the environmental variable [TF_FP16_MATMUL_USE_FP32_COMPUTE](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/util/matmul_autotune.cc#L44) is set to \"False\". We plan on adding a similar environmental variable to convolutions. \r\n\r\nWe are currently discussing whether to expose this as an argument, e.g. adding a `gpu_compute_type` argument to `tf.matmul`. Adding such an parameter forces us to keep it for a very long time due to our [backwards comparability guarantees](https://www.tensorflow.org/programmers_guide/version_semantics). This parameter would only apply to certain devices (GPUs with fp16 support) and will be unnecessary with Volta GPUs ([tensor cores](https://devblogs.nvidia.com/parallelforall/inside-volta/) will always be used on Volta devices) so we are still discussing whether the option is worth exposing without environmental variables.\r\n\r\n@yaroslavvb Once we add float16 support to tf_cnn_benchmarks, we plan on reporting our training results."}