{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16796", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16796/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16796/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16796/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16796", "id": 294677551, "node_id": "MDU6SXNzdWUyOTQ2Nzc1NTE=", "number": 16796, "title": "Slim batch image prediciton?", "user": {"login": "jameschao2000", "id": 1222728, "node_id": "MDQ6VXNlcjEyMjI3Mjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1222728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameschao2000", "html_url": "https://github.com/jameschao2000", "followers_url": "https://api.github.com/users/jameschao2000/followers", "following_url": "https://api.github.com/users/jameschao2000/following{/other_user}", "gists_url": "https://api.github.com/users/jameschao2000/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameschao2000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameschao2000/subscriptions", "organizations_url": "https://api.github.com/users/jameschao2000/orgs", "repos_url": "https://api.github.com/users/jameschao2000/repos", "events_url": "https://api.github.com/users/jameschao2000/events{/privacy}", "received_events_url": "https://api.github.com/users/jameschao2000/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-06T08:55:19Z", "updated_at": "2018-02-06T16:58:18Z", "closed_at": "2018-02-06T16:58:18Z", "author_association": "NONE", "body_html": "<p>I just finished training a model by following train_image_classifier.py</p>\n<p>CUDA_VISIBLE_DEVICE=0,1 python train_image_classifier.py --train_dir=train_logs --dataset_dir=../train --num_samples=15500 --num_classes=4 --labels_to_names_path=../labels.txt --model_name=inception_resnet_v2 --checkpoint_path=../checkpoints/inception_resnet_v2_2016_08_30.ckpt --checkpoint_exclude_scopes=InceptionResnetV2/Logits,InceptionResnetV2/AuxLogits --num_clones=2 --num_preprocessing_threads=8 --max_number_of_steps=100000 --batch_size=32 --learning_rate=0.0001 --learning_rate_decay_type=fixed --save_interval_secs=60 --save_summaries_secs=60 --log_every_n_steps=10 --optimizer=rmsprop --weight_decay=0.00004</p>\n<p>and evaluate the model by using eval_image_classifier.py.</p>\n<p>CUDA_VISIBLE_DEVICE=0,1 python eval_image_classifier.py --checkpoint_path=train_logs --eval_dir=eval_logs --dataset_dir=../val --num_samples=797 --num_classes=4 --model_name=inception_resnet_v2</p>\n<p>Everything seems great. But, how to test image classifier unfortunately is not provided, and I cannot really find an good example of how to use this model to predict testing images. Is there a good example that I can use my trained model to predict multiple images in a batch way? Thank you for helping.</p>", "body_text": "I just finished training a model by following train_image_classifier.py\nCUDA_VISIBLE_DEVICE=0,1 python train_image_classifier.py --train_dir=train_logs --dataset_dir=../train --num_samples=15500 --num_classes=4 --labels_to_names_path=../labels.txt --model_name=inception_resnet_v2 --checkpoint_path=../checkpoints/inception_resnet_v2_2016_08_30.ckpt --checkpoint_exclude_scopes=InceptionResnetV2/Logits,InceptionResnetV2/AuxLogits --num_clones=2 --num_preprocessing_threads=8 --max_number_of_steps=100000 --batch_size=32 --learning_rate=0.0001 --learning_rate_decay_type=fixed --save_interval_secs=60 --save_summaries_secs=60 --log_every_n_steps=10 --optimizer=rmsprop --weight_decay=0.00004\nand evaluate the model by using eval_image_classifier.py.\nCUDA_VISIBLE_DEVICE=0,1 python eval_image_classifier.py --checkpoint_path=train_logs --eval_dir=eval_logs --dataset_dir=../val --num_samples=797 --num_classes=4 --model_name=inception_resnet_v2\nEverything seems great. But, how to test image classifier unfortunately is not provided, and I cannot really find an good example of how to use this model to predict testing images. Is there a good example that I can use my trained model to predict multiple images in a batch way? Thank you for helping.", "body": "I just finished training a model by following train_image_classifier.py\r\n\r\nCUDA_VISIBLE_DEVICE=0,1 python train_image_classifier.py --train_dir=train_logs --dataset_dir=../train --num_samples=15500 --num_classes=4 --labels_to_names_path=../labels.txt --model_name=inception_resnet_v2 --checkpoint_path=../checkpoints/inception_resnet_v2_2016_08_30.ckpt --checkpoint_exclude_scopes=InceptionResnetV2/Logits,InceptionResnetV2/AuxLogits --num_clones=2 --num_preprocessing_threads=8 --max_number_of_steps=100000 --batch_size=32 --learning_rate=0.0001 --learning_rate_decay_type=fixed --save_interval_secs=60 --save_summaries_secs=60 --log_every_n_steps=10 --optimizer=rmsprop --weight_decay=0.00004\r\n\r\nand evaluate the model by using eval_image_classifier.py. \r\n\r\nCUDA_VISIBLE_DEVICE=0,1 python eval_image_classifier.py --checkpoint_path=train_logs --eval_dir=eval_logs --dataset_dir=../val --num_samples=797 --num_classes=4 --model_name=inception_resnet_v2\r\n\r\nEverything seems great. But, how to test image classifier unfortunately is not provided, and I cannot really find an good example of how to use this model to predict testing images. Is there a good example that I can use my trained model to predict multiple images in a batch way? Thank you for helping. \r\n"}