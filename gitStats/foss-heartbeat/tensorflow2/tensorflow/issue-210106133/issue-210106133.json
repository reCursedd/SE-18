{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7854", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7854/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7854/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7854/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7854", "id": 210106133, "node_id": "MDU6SXNzdWUyMTAxMDYxMzM=", "number": 7854, "title": "mnist.input_data.read_data_sets() cause Segmentation Fault upon exiting", "user": {"login": "cw1204772", "id": 12529107, "node_id": "MDQ6VXNlcjEyNTI5MTA3", "avatar_url": "https://avatars3.githubusercontent.com/u/12529107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cw1204772", "html_url": "https://github.com/cw1204772", "followers_url": "https://api.github.com/users/cw1204772/followers", "following_url": "https://api.github.com/users/cw1204772/following{/other_user}", "gists_url": "https://api.github.com/users/cw1204772/gists{/gist_id}", "starred_url": "https://api.github.com/users/cw1204772/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cw1204772/subscriptions", "organizations_url": "https://api.github.com/users/cw1204772/orgs", "repos_url": "https://api.github.com/users/cw1204772/repos", "events_url": "https://api.github.com/users/cw1204772/events{/privacy}", "received_events_url": "https://api.github.com/users/cw1204772/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-02-24T17:15:14Z", "updated_at": "2017-04-05T01:35:48Z", "closed_at": "2017-04-05T01:35:48Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your</h3>\n<p>While I was trying the <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/tutorials/mnist/mnist_softmax.py\">MNIST tutorial</a>, I found my tensorflow output Segmentation Fault (Core Dumped).</p>\n<p>However, my mnist_softmax.py can still operates normally, outputing correct output on the terminal. It prints out the core dumped when the program exits.</p>\n<p>After some try and error, I think it's this line<br>\n<code>mnist = input_data.read_data_sets(FLAGS.data_dir, one_hot=True)</code><br>\ncausing program to Core dumped upon exiting. Maybe this is a r1.0 bug?</p>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04.5 LTS<br>\nCUDA 8.0<br>\nCuDNN 5.1.5</p>\n<p>Tensorflow r1.0 installed from source:</p>\n<ol>\n<li>The commit hash: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/29a6b4661258ef99842904d7c54993c963a8c2c0/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/29a6b4661258ef99842904d7c54993c963a8c2c0\"><tt>29a6b46</tt></a></li>\n<li>The output of <code>bazel version</code><br>\nBuild label: 0.4.4<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)<br>\nBuild timestamp: 1485975261<br>\nBuild timestamp as int: 1485975261</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example</h3>\n<p>The same code as <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/tutorials/mnist/mnist_softmax.py\">MNIST tutorial</a></p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>I've tried out the <a href=\"https://www.tensorflow.org/get_started/get_started#complete_program\" rel=\"nofollow\">Getting Started tutorial</a>, and it worked perfectly.<br>\nI've try to comment each line to figure out which line cause the error. The result is<br>\n<code>mnist = input_data.read_data_sets(FLAGS.data_dir, one_hot=True)</code> seems to cause the problem.</p>\n<h3>Logs or other output that would be helpful</h3>\n<pre><code>$ python example.py\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:910] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties:\nname: GeForce GTX 770\nmajor: 3 minor: 0 memoryClockRate (GHz) 1.1105\npciBusID 0000:01:00.0\nTotal memory: 1.95GiB\nFree memory: 1.66GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 770, pci bus id: 0000:01:00.0)\n0.917\nSegmentation fault (core dumped)\n</code></pre>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your\nWhile I was trying the MNIST tutorial, I found my tensorflow output Segmentation Fault (Core Dumped).\nHowever, my mnist_softmax.py can still operates normally, outputing correct output on the terminal. It prints out the core dumped when the program exits.\nAfter some try and error, I think it's this line\nmnist = input_data.read_data_sets(FLAGS.data_dir, one_hot=True)\ncausing program to Core dumped upon exiting. Maybe this is a r1.0 bug?\nEnvironment info\nOperating System: Ubuntu 14.04.5 LTS\nCUDA 8.0\nCuDNN 5.1.5\nTensorflow r1.0 installed from source:\n\nThe commit hash: 29a6b46\nThe output of bazel version\nBuild label: 0.4.4\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)\nBuild timestamp: 1485975261\nBuild timestamp as int: 1485975261\n\nIf possible, provide a minimal reproducible example\nThe same code as MNIST tutorial\nWhat other attempted solutions have you tried?\nI've tried out the Getting Started tutorial, and it worked perfectly.\nI've try to comment each line to figure out which line cause the error. The result is\nmnist = input_data.read_data_sets(FLAGS.data_dir, one_hot=True) seems to cause the problem.\nLogs or other output that would be helpful\n$ python example.py\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:910] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties:\nname: GeForce GTX 770\nmajor: 3 minor: 0 memoryClockRate (GHz) 1.1105\npciBusID 0000:01:00.0\nTotal memory: 1.95GiB\nFree memory: 1.66GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 770, pci bus id: 0000:01:00.0)\n0.917\nSegmentation fault (core dumped)", "body": "### What related GitHub issues or StackOverflow threads have you found by searching the web for your \r\nWhile I was trying the [MNIST tutorial](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/tutorials/mnist/mnist_softmax.py), I found my tensorflow output Segmentation Fault (Core Dumped). \r\n\r\nHowever, my mnist_softmax.py can still operates normally, outputing correct output on the terminal. It prints out the core dumped when the program exits.\r\n\r\nAfter some try and error, I think it's this line \r\n`mnist = input_data.read_data_sets(FLAGS.data_dir, one_hot=True)` \r\ncausing program to Core dumped upon exiting. Maybe this is a r1.0 bug?\r\n\r\n### Environment info\r\nOperating System: Ubuntu 14.04.5 LTS\r\nCUDA 8.0\r\nCuDNN 5.1.5\r\n\r\nTensorflow r1.0 installed from source:\r\n1. The commit hash: 29a6b4661258ef99842904d7c54993c963a8c2c0\r\n2. The output of `bazel version`\r\nBuild label: 0.4.4\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)\r\nBuild timestamp: 1485975261\r\nBuild timestamp as int: 1485975261\r\n\r\n### If possible, provide a minimal reproducible example\r\nThe same code as [MNIST tutorial](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/tutorials/mnist/mnist_softmax.py)\r\n\r\n### What other attempted solutions have you tried?\r\nI've tried out the [Getting Started tutorial](https://www.tensorflow.org/get_started/get_started#complete_program), and it worked perfectly. \r\nI've try to comment each line to figure out which line cause the error. The result is \r\n`mnist = input_data.read_data_sets(FLAGS.data_dir, one_hot=True)` seems to cause the problem.\r\n\r\n### Logs or other output that would be helpful\r\n```\r\n$ python example.py\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\r\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\r\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:910] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties:\r\nname: GeForce GTX 770\r\nmajor: 3 minor: 0 memoryClockRate (GHz) 1.1105\r\npciBusID 0000:01:00.0\r\nTotal memory: 1.95GiB\r\nFree memory: 1.66GiB\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 770, pci bus id: 0000:01:00.0)\r\n0.917\r\nSegmentation fault (core dumped)\r\n```\r\n"}