{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/326541897", "html_url": "https://github.com/tensorflow/tensorflow/issues/8275#issuecomment-326541897", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8275", "id": 326541897, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjU0MTg5Nw==", "user": {"login": "manishvatsa", "id": 31509879, "node_id": "MDQ6VXNlcjMxNTA5ODc5", "avatar_url": "https://avatars1.githubusercontent.com/u/31509879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manishvatsa", "html_url": "https://github.com/manishvatsa", "followers_url": "https://api.github.com/users/manishvatsa/followers", "following_url": "https://api.github.com/users/manishvatsa/following{/other_user}", "gists_url": "https://api.github.com/users/manishvatsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/manishvatsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manishvatsa/subscriptions", "organizations_url": "https://api.github.com/users/manishvatsa/orgs", "repos_url": "https://api.github.com/users/manishvatsa/repos", "events_url": "https://api.github.com/users/manishvatsa/events{/privacy}", "received_events_url": "https://api.github.com/users/manishvatsa/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-01T10:00:23Z", "updated_at": "2017-09-01T10:00:23Z", "author_association": "NONE", "body_html": "<p>I am facing the same issue while creating SparseTensor() with indices dtype int32.<br>\nSparseTensor with int64 data graph is not loading in Android.<br>\nError:<br>\nCaused by: java.io.IOException: Not a valid TensorFlow Graph serialization: Value for attr 'T' of int64 is not in the list of allowed values: float, int32<br>\n; NodeDef: Less_1 = Less[T=DT_INT64](ToInt64_2, ToInt64_3); Op&lt;name=Less; signature=x:T, y:T -&gt; z:bool; attr=T:type,allowed=[DT_FLOAT, DT_INT32]&gt;<br>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:439)<br>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:98)</p>\n<p>If we change dtype int64 to int32 SparseTensor give the error.<br>\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/sparse_tensor.py\", line 119, in init<br>\nindices, name=\"indices\", dtype=dtypes.int64)<br>\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 676, in convert_to_tensor<br>\nas_ref=False)<br>\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 741, in internal_convert_to_tensor<br>\nret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)<br>\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 614, in _TensorTensorConversionFunction<br>\n% (dtype.name, t.dtype.name, str(t)))<br>\nValueError: Tensor conversion requested dtype int64 for Tensor with dtype int32: 'Tensor(\"x_indices:0\", shape=(?, 3), dtype=int32)'</p>", "body_text": "I am facing the same issue while creating SparseTensor() with indices dtype int32.\nSparseTensor with int64 data graph is not loading in Android.\nError:\nCaused by: java.io.IOException: Not a valid TensorFlow Graph serialization: Value for attr 'T' of int64 is not in the list of allowed values: float, int32\n; NodeDef: Less_1 = Less[T=DT_INT64](ToInt64_2, ToInt64_3); Op<name=Less; signature=x:T, y:T -> z:bool; attr=T:type,allowed=[DT_FLOAT, DT_INT32]>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:439)\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:98)\nIf we change dtype int64 to int32 SparseTensor give the error.\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/sparse_tensor.py\", line 119, in init\nindices, name=\"indices\", dtype=dtypes.int64)\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 676, in convert_to_tensor\nas_ref=False)\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 741, in internal_convert_to_tensor\nret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 614, in _TensorTensorConversionFunction\n% (dtype.name, t.dtype.name, str(t)))\nValueError: Tensor conversion requested dtype int64 for Tensor with dtype int32: 'Tensor(\"x_indices:0\", shape=(?, 3), dtype=int32)'", "body": "I am facing the same issue while creating SparseTensor() with indices dtype int32.\r\nSparseTensor with int64 data graph is not loading in Android.\r\nError:\r\nCaused by: java.io.IOException: Not a valid TensorFlow Graph serialization: Value for attr 'T' of int64 is not in the list of allowed values: float, int32\r\n; NodeDef: Less_1 = Less[T=DT_INT64](ToInt64_2, ToInt64_3); Op<name=Less; signature=x:T, y:T -> z:bool; attr=T:type,allowed=[DT_FLOAT, DT_INT32]>\r\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:439)\r\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:98)\r\n\r\n\r\nIf we change dtype int64 to int32 SparseTensor give the error.\r\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/sparse_tensor.py\", line 119, in init\r\nindices, name=\"indices\", dtype=dtypes.int64)\r\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 676, in convert_to_tensor\r\nas_ref=False)\r\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 741, in internal_convert_to_tensor\r\nret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\nFile \"/home/anaconda3/envs/tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 614, in _TensorTensorConversionFunction\r\n% (dtype.name, t.dtype.name, str(t)))\r\nValueError: Tensor conversion requested dtype int64 for Tensor with dtype int32: 'Tensor(\"x_indices:0\", shape=(?, 3), dtype=int32)'"}