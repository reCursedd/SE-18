{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8102", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8102/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8102/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8102/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8102", "id": 211956044, "node_id": "MDU6SXNzdWUyMTE5NTYwNDQ=", "number": 8102, "title": "Scatter_nd doc not clear about concurrent updates", "user": {"login": "aliosmanulusoy", "id": 1033593, "node_id": "MDQ6VXNlcjEwMzM1OTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1033593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aliosmanulusoy", "html_url": "https://github.com/aliosmanulusoy", "followers_url": "https://api.github.com/users/aliosmanulusoy/followers", "following_url": "https://api.github.com/users/aliosmanulusoy/following{/other_user}", "gists_url": "https://api.github.com/users/aliosmanulusoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/aliosmanulusoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aliosmanulusoy/subscriptions", "organizations_url": "https://api.github.com/users/aliosmanulusoy/orgs", "repos_url": "https://api.github.com/users/aliosmanulusoy/repos", "events_url": "https://api.github.com/users/aliosmanulusoy/events{/privacy}", "received_events_url": "https://api.github.com/users/aliosmanulusoy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-03-05T14:26:08Z", "updated_at": "2017-11-03T07:43:27Z", "closed_at": "2017-05-01T16:22:26Z", "author_association": "NONE", "body_html": "<p>The doc on the scatter_nd does not specify the consequence of multiple updates that reference the same location.</p>\n<p>I've tested this using the following code:</p>\n<div class=\"highlight highlight-source-python\"><pre>indices <span class=\"pl-k\">=</span> tf.constant([[<span class=\"pl-c1\">4</span>], [<span class=\"pl-c1\">3</span>], [<span class=\"pl-c1\">1</span>], [<span class=\"pl-c1\">1</span>]])\nupdates <span class=\"pl-k\">=</span> tf.constant([<span class=\"pl-c1\">9</span>, <span class=\"pl-c1\">10</span>, <span class=\"pl-c1\">11</span>, <span class=\"pl-c1\">12</span>])\nshape <span class=\"pl-k\">=</span> tf.constant([<span class=\"pl-c1\">8</span>])\nscatter <span class=\"pl-k\">=</span> tf.scatter_nd(indices, updates, shape)\n<span class=\"pl-k\">with</span> tf.Session() <span class=\"pl-k\">as</span> sess:\n  <span class=\"pl-c1\">print</span> sess.run(scatter)</pre></div>\n<p>The resulting tensor is:</p>\n<div class=\"highlight highlight-source-python\"><pre>[<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">23</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">10</span>, <span class=\"pl-c1\">9</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>]</pre></div>\n<p>So it seems the updates are added. Is this the intended usage? If so, it would be great to clarify this in the docs.</p>\n<p>Thanks!</p>", "body_text": "The doc on the scatter_nd does not specify the consequence of multiple updates that reference the same location.\nI've tested this using the following code:\nindices = tf.constant([[4], [3], [1], [1]])\nupdates = tf.constant([9, 10, 11, 12])\nshape = tf.constant([8])\nscatter = tf.scatter_nd(indices, updates, shape)\nwith tf.Session() as sess:\n  print sess.run(scatter)\nThe resulting tensor is:\n[0, 23, 0, 10, 9, 0, 0, 0]\nSo it seems the updates are added. Is this the intended usage? If so, it would be great to clarify this in the docs.\nThanks!", "body": "The doc on the scatter_nd does not specify the consequence of multiple updates that reference the same location. \r\n\r\nI've tested this using the following code:\r\n\r\n```python\r\nindices = tf.constant([[4], [3], [1], [1]])\r\nupdates = tf.constant([9, 10, 11, 12])\r\nshape = tf.constant([8])\r\nscatter = tf.scatter_nd(indices, updates, shape)\r\nwith tf.Session() as sess:\r\n  print sess.run(scatter)\r\n```\r\nThe resulting tensor is:\r\n```python\r\n[0, 23, 0, 10, 9, 0, 0, 0]\r\n```\r\nSo it seems the updates are added. Is this the intended usage? If so, it would be great to clarify this in the docs. \r\n\r\nThanks!"}