{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/63140754", "pull_request_review_id": null, "id": 63140754, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTQwNzU0", "diff_hunk": "@@ -83,6 +83,20 @@ def testNoCheckpoints(self):\n     with self.assertRaises(ValueError):\n       learn.TensorFlowEstimator.restore(path)\n \n+  def testOverwriteParams(self):\n+    path = tf.test.get_temp_dir() + '/tmp_saver3'\n+    random.seed(42)\n+    iris = datasets.load_iris()\n+    classifier = learn.TensorFlowDNNClassifier(hidden_units=[10, 20, 10],\n+                                               n_classes=3,\n+                                               learning_rate=0.1)\n+    classifier.fit(iris.data, iris.target)\n+    classifier.save(path)\n+    self.assertEqual(classifier.learning_rate, 0.1)\n+    new_classifier = learn.TensorFlowEstimator.restore(path,\n+      new_params={'learning_rate': 0.2})\n+    self.assertEqual(type(new_classifier), type(classifier))\n+    self.assertEqual(new_classifier.learning_rate, 0.2)", "path": "tensorflow/contrib/learn/python/learn/tests/test_saver.py", "position": null, "original_position": 17, "commit_id": "f671cfd9686967125066b6ede21e18a24e9d3156", "original_commit_id": "820506b7bae048b64f6df29f3918367b6ca5d93e", "user": {"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}, "body": "this not going to work the way you expect. for example learning rate is now captured in the variable - so resetting it on the class - won't help at this point to get a different learning rate.\n\nWe are moving an Estimator class that uses graph_actions, which re-creates graph each time `fit`/`predict` is called. That way one will be able to override parameters.\n", "created_at": "2016-05-13T07:06:09Z", "updated_at": "2016-05-13T14:57:24Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/2279#discussion_r63140754", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2279", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/63140754"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/2279#discussion_r63140754"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2279"}}, "body_html": "<p>this not going to work the way you expect. for example learning rate is now captured in the variable - so resetting it on the class - won't help at this point to get a different learning rate.</p>\n<p>We are moving an Estimator class that uses graph_actions, which re-creates graph each time <code>fit</code>/<code>predict</code> is called. That way one will be able to override parameters.</p>", "body_text": "this not going to work the way you expect. for example learning rate is now captured in the variable - so resetting it on the class - won't help at this point to get a different learning rate.\nWe are moving an Estimator class that uses graph_actions, which re-creates graph each time fit/predict is called. That way one will be able to override parameters."}