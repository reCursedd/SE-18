{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/414182569", "html_url": "https://github.com/tensorflow/tensorflow/issues/20955#issuecomment-414182569", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20955", "id": 414182569, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDE4MjU2OQ==", "user": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-20T02:46:05Z", "updated_at": "2018-08-20T02:46:05Z", "author_association": "MEMBER", "body_html": "<p>Yes, after inspecting the graph, it seems there is a Cast a the start of the model. It takes in uint8 and casts to float before ResizeBilinear. This doesn't make sense for a quantized model since all edges in a fully quantized model are uint8 and this cast should really be ignored. So I guess the correct solution is to either somehow remove the Cast from the graph, or the tflite converter should remove it in the case of a quantized model.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/1450614/44317917-6fe7c300-a3e8-11e8-9a63-ec8cca0b9635.png\"><img width=\"653\" alt=\"screen shot 2018-08-19 at 7 38 57 pm\" src=\"https://user-images.githubusercontent.com/1450614/44317917-6fe7c300-a3e8-11e8-9a63-ec8cca0b9635.png\" style=\"max-width:100%;\"></a></p>\n<p>Will think more about the right way to address this, thanks!</p>", "body_text": "Yes, after inspecting the graph, it seems there is a Cast a the start of the model. It takes in uint8 and casts to float before ResizeBilinear. This doesn't make sense for a quantized model since all edges in a fully quantized model are uint8 and this cast should really be ignored. So I guess the correct solution is to either somehow remove the Cast from the graph, or the tflite converter should remove it in the case of a quantized model.\n\nWill think more about the right way to address this, thanks!", "body": "Yes, after inspecting the graph, it seems there is a Cast a the start of the model. It takes in uint8 and casts to float before ResizeBilinear. This doesn't make sense for a quantized model since all edges in a fully quantized model are uint8 and this cast should really be ignored. So I guess the correct solution is to either somehow remove the Cast from the graph, or the tflite converter should remove it in the case of a quantized model.\r\n\r\n<img width=\"653\" alt=\"screen shot 2018-08-19 at 7 38 57 pm\" src=\"https://user-images.githubusercontent.com/1450614/44317917-6fe7c300-a3e8-11e8-9a63-ec8cca0b9635.png\">\r\n\r\nWill think more about the right way to address this, thanks!"}