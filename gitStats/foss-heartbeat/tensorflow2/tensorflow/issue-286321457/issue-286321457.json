{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15882", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15882/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15882/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15882/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15882", "id": 286321457, "node_id": "MDU6SXNzdWUyODYzMjE0NTc=", "number": 15882, "title": "tfdbg error \"Dump root directory does not exist\" with empty fetches", "user": {"login": "jgefele", "id": 6122566, "node_id": "MDQ6VXNlcjYxMjI1NjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/6122566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgefele", "html_url": "https://github.com/jgefele", "followers_url": "https://api.github.com/users/jgefele/followers", "following_url": "https://api.github.com/users/jgefele/following{/other_user}", "gists_url": "https://api.github.com/users/jgefele/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgefele/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgefele/subscriptions", "organizations_url": "https://api.github.com/users/jgefele/orgs", "repos_url": "https://api.github.com/users/jgefele/repos", "events_url": "https://api.github.com/users/jgefele/events{/privacy}", "received_events_url": "https://api.github.com/users/jgefele/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-01-05T15:34:48Z", "updated_at": "2018-01-30T23:34:01Z", "closed_at": "2018-01-30T23:34:01Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code</strong>: yes</li>\n<li><strong>OS Platform and Distribution</strong>: Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from</strong>: binary (pip install)</li>\n<li><strong>TensorFlow version</strong>:<br>\n== tensorflow import ============================================<br>\ntf.VERSION = 1.4.1<br>\ntf.GIT_VERSION = v1.4.0-19-ga52c8d9<br>\ntf.COMPILER_VERSION = v1.4.0-19-ga52c8d9<br>\nSanity check: array([1], dtype=int32)</li>\n<li><strong>Python version</strong>: 2.7.12</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\n== cuda libs  ===================================================<br>\n/usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart_static.a<br>\n/usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart.so.9.0.176<br>\n/usr/local/cuda-9.0/doc/man/man7/libcudart.so.7<br>\n/usr/local/cuda-9.0/doc/man/man7/libcudart.7<br>\n/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart.so.8.0.61<br>\n/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart_static.a<br>\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7<br>\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7</li>\n<li><strong>GPU model and memory</strong>: GeForce GTX 1080, 8114MiB</li>\n<li><strong>Exact command to reproduce</strong>: see code below</li>\n</ul>\n<h3>Describe the problem</h3>\n<p><code>LocalCLIDebugWrapperSession.run()</code> does not behave like <code>tf.Session.run()</code> if there are no fetches. The dump directory will never be created and it crashes with an <code>IOError</code>. For me this issue occured in a situation like this:</p>\n<pre><code>      session.run([var.initializer for var in not_initialized_from_checkpoint])\n</code></pre>\n<p>where actually everything was restored from the checkpoint and <code>not_initialized_from_checkpoint</code> was empty. This code runs fine with an ordinary tf.Session but crashed with tfdbg. It took me some time to track down the issue. If it's not too hard to fix, it would be nice to keep other users from the same pain (maybe - just speculating - <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"264176742\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/13604\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/13604/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/13604\">#13604</a> crashes for the same reason)</p>\n<h3>Source code / logs</h3>\n<pre><code>import tensorflow as tf\nfrom tensorflow.python import debug as tf_debug\n\nsess = tf.Session()\ndbg_sess = tf_debug.LocalCLIDebugWrapperSession(tf.Session())\n\nprint sess.run([tf.constant(1.0)])     # [1.0]\nprint sess.run([])                     # []\nprint dbg_sess.run([tf.constant(1.0)]) # [1.0]\nprint dbg_sess.run([])                 # IOError: Dump root directory /tmp/tfdbg_ai_aWv does not exist\n</code></pre>", "body_text": "System information\n\nHave I written custom code: yes\nOS Platform and Distribution: Linux Ubuntu 16.04\nTensorFlow installed from: binary (pip install)\nTensorFlow version:\n== tensorflow import ============================================\ntf.VERSION = 1.4.1\ntf.GIT_VERSION = v1.4.0-19-ga52c8d9\ntf.COMPILER_VERSION = v1.4.0-19-ga52c8d9\nSanity check: array([1], dtype=int32)\nPython version: 2.7.12\nCUDA/cuDNN version:\n== cuda libs  ===================================================\n/usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart_static.a\n/usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart.so.9.0.176\n/usr/local/cuda-9.0/doc/man/man7/libcudart.so.7\n/usr/local/cuda-9.0/doc/man/man7/libcudart.7\n/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart.so.8.0.61\n/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart_static.a\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\nGPU model and memory: GeForce GTX 1080, 8114MiB\nExact command to reproduce: see code below\n\nDescribe the problem\nLocalCLIDebugWrapperSession.run() does not behave like tf.Session.run() if there are no fetches. The dump directory will never be created and it crashes with an IOError. For me this issue occured in a situation like this:\n      session.run([var.initializer for var in not_initialized_from_checkpoint])\n\nwhere actually everything was restored from the checkpoint and not_initialized_from_checkpoint was empty. This code runs fine with an ordinary tf.Session but crashed with tfdbg. It took me some time to track down the issue. If it's not too hard to fix, it would be nice to keep other users from the same pain (maybe - just speculating - #13604 crashes for the same reason)\nSource code / logs\nimport tensorflow as tf\nfrom tensorflow.python import debug as tf_debug\n\nsess = tf.Session()\ndbg_sess = tf_debug.LocalCLIDebugWrapperSession(tf.Session())\n\nprint sess.run([tf.constant(1.0)])     # [1.0]\nprint sess.run([])                     # []\nprint dbg_sess.run([tf.constant(1.0)]) # [1.0]\nprint dbg_sess.run([])                 # IOError: Dump root directory /tmp/tfdbg_ai_aWv does not exist", "body": "### System information\r\n- **Have I written custom code**: yes\r\n- **OS Platform and Distribution**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from**: binary (pip install)\r\n- **TensorFlow version**:\r\n== tensorflow import ============================================\r\ntf.VERSION = 1.4.1\r\ntf.GIT_VERSION = v1.4.0-19-ga52c8d9\r\ntf.COMPILER_VERSION = v1.4.0-19-ga52c8d9\r\nSanity check: array([1], dtype=int32)\r\n- **Python version**: 2.7.12\r\n- **CUDA/cuDNN version**: \r\n== cuda libs  ===================================================\r\n/usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart_static.a\r\n/usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart.so.9.0.176\r\n/usr/local/cuda-9.0/doc/man/man7/libcudart.so.7\r\n/usr/local/cuda-9.0/doc/man/man7/libcudart.7\r\n/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart.so.8.0.61\r\n/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart_static.a\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\r\n- **GPU model and memory**: GeForce GTX 1080, 8114MiB\r\n- **Exact command to reproduce**: see code below\r\n\r\n### Describe the problem\r\n`LocalCLIDebugWrapperSession.run()` does not behave like `tf.Session.run()` if there are no fetches. The dump directory will never be created and it crashes with an `IOError`. For me this issue occured in a situation like this:\r\n```\r\n      session.run([var.initializer for var in not_initialized_from_checkpoint])\r\n```\r\nwhere actually everything was restored from the checkpoint and `not_initialized_from_checkpoint` was empty. This code runs fine with an ordinary tf.Session but crashed with tfdbg. It took me some time to track down the issue. If it's not too hard to fix, it would be nice to keep other users from the same pain (maybe - just speculating - #13604 crashes for the same reason)\r\n\r\n### Source code / logs\r\n```\r\nimport tensorflow as tf\r\nfrom tensorflow.python import debug as tf_debug\r\n\r\nsess = tf.Session()\r\ndbg_sess = tf_debug.LocalCLIDebugWrapperSession(tf.Session())\r\n\r\nprint sess.run([tf.constant(1.0)])     # [1.0]\r\nprint sess.run([])                     # []\r\nprint dbg_sess.run([tf.constant(1.0)]) # [1.0]\r\nprint dbg_sess.run([])                 # IOError: Dump root directory /tmp/tfdbg_ai_aWv does not exist\r\n```\r\n"}