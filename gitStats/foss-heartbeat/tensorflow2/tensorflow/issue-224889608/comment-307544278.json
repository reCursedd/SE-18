{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/307544278", "html_url": "https://github.com/tensorflow/tensorflow/issues/9498#issuecomment-307544278", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9498", "id": 307544278, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzU0NDI3OA==", "user": {"login": "lancerts", "id": 7495155, "node_id": "MDQ6VXNlcjc0OTUxNTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7495155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lancerts", "html_url": "https://github.com/lancerts", "followers_url": "https://api.github.com/users/lancerts/followers", "following_url": "https://api.github.com/users/lancerts/following{/other_user}", "gists_url": "https://api.github.com/users/lancerts/gists{/gist_id}", "starred_url": "https://api.github.com/users/lancerts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lancerts/subscriptions", "organizations_url": "https://api.github.com/users/lancerts/orgs", "repos_url": "https://api.github.com/users/lancerts/repos", "events_url": "https://api.github.com/users/lancerts/events{/privacy}", "received_events_url": "https://api.github.com/users/lancerts/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-10T05:36:47Z", "updated_at": "2017-06-10T05:36:47Z", "author_association": "NONE", "body_html": "<p>Also, from tensorflow output,</p>\n<p>INFO:tensorflow:Saving dict for global step 39807: accuracy = 0.85421, accuracy/baseline_label_mean = 0.14821, accuracy/threshold_0.500000_mean = 0.85421, <strong>auc = 0.686321</strong>, global_step = 39807, labels/actual_label_mean = 0.14821, labels/prediction_mean = 0.146081, loss = 0.39175, precision/positive_threshold_0.500000_mean = 0.580026, recall/positive_threshold_0.500000_mean = 0.0591728, validate_confusion_matrix = [[84052   699]<br>\n[14430   819]], validate_streaing_precision = 0.580026, validate_streaing_recall = 0.0591728, <strong>validate_streaming_auc = 0.525859</strong><br>\nWARNING:tensorflow:Skipping summary for validate_confusion_matrix, must be a float or np.float32.<br>\nWARNING:tensorflow:Skipping summary for global_step, must be a float or np.float32.<br>\nINFO:tensorflow:Validation (step 40000): loss = 0.39175, accuracy = 0.85421, labels/prediction_mean = 0.146081, labels/actual_label_mean = 0.14821, accuracy/baseline_label_mean = 0.14821, auc = 0.686321, accuracy/threshold_0.500000_mean = 0.85421, precision/positive_threshold_0.500000_mean = 0.580026, recall/positive_threshold_0.500000_mean = 0.0591728, validate_confusion_matrix = [[84052   699]<br>\n[14430   819]], validate_streaing_precision = 0.580026, validate_streaing_recall = 0.0591728, validate_streaming_auc = 0.525859, global_step = 39807</p>\n<p>Why are this two AUC differs so much? When i use model.evaluate on train, validate, test data set, all the output AUCs are very close to the <strong>first</strong> auc shows in bold above.<br>\nSo what is the validation_streaming_auc is calculating? I have reset the local variables in each epoch.</p>", "body_text": "Also, from tensorflow output,\nINFO:tensorflow:Saving dict for global step 39807: accuracy = 0.85421, accuracy/baseline_label_mean = 0.14821, accuracy/threshold_0.500000_mean = 0.85421, auc = 0.686321, global_step = 39807, labels/actual_label_mean = 0.14821, labels/prediction_mean = 0.146081, loss = 0.39175, precision/positive_threshold_0.500000_mean = 0.580026, recall/positive_threshold_0.500000_mean = 0.0591728, validate_confusion_matrix = [[84052   699]\n[14430   819]], validate_streaing_precision = 0.580026, validate_streaing_recall = 0.0591728, validate_streaming_auc = 0.525859\nWARNING:tensorflow:Skipping summary for validate_confusion_matrix, must be a float or np.float32.\nWARNING:tensorflow:Skipping summary for global_step, must be a float or np.float32.\nINFO:tensorflow:Validation (step 40000): loss = 0.39175, accuracy = 0.85421, labels/prediction_mean = 0.146081, labels/actual_label_mean = 0.14821, accuracy/baseline_label_mean = 0.14821, auc = 0.686321, accuracy/threshold_0.500000_mean = 0.85421, precision/positive_threshold_0.500000_mean = 0.580026, recall/positive_threshold_0.500000_mean = 0.0591728, validate_confusion_matrix = [[84052   699]\n[14430   819]], validate_streaing_precision = 0.580026, validate_streaing_recall = 0.0591728, validate_streaming_auc = 0.525859, global_step = 39807\nWhy are this two AUC differs so much? When i use model.evaluate on train, validate, test data set, all the output AUCs are very close to the first auc shows in bold above.\nSo what is the validation_streaming_auc is calculating? I have reset the local variables in each epoch.", "body": "Also, from tensorflow output,\r\n\r\nINFO:tensorflow:Saving dict for global step 39807: accuracy = 0.85421, accuracy/baseline_label_mean = 0.14821, accuracy/threshold_0.500000_mean = 0.85421, **auc = 0.686321**, global_step = 39807, labels/actual_label_mean = 0.14821, labels/prediction_mean = 0.146081, loss = 0.39175, precision/positive_threshold_0.500000_mean = 0.580026, recall/positive_threshold_0.500000_mean = 0.0591728, validate_confusion_matrix = [[84052   699]\r\n [14430   819]], validate_streaing_precision = 0.580026, validate_streaing_recall = 0.0591728, **validate_streaming_auc = 0.525859**\r\nWARNING:tensorflow:Skipping summary for validate_confusion_matrix, must be a float or np.float32.\r\nWARNING:tensorflow:Skipping summary for global_step, must be a float or np.float32.\r\nINFO:tensorflow:Validation (step 40000): loss = 0.39175, accuracy = 0.85421, labels/prediction_mean = 0.146081, labels/actual_label_mean = 0.14821, accuracy/baseline_label_mean = 0.14821, auc = 0.686321, accuracy/threshold_0.500000_mean = 0.85421, precision/positive_threshold_0.500000_mean = 0.580026, recall/positive_threshold_0.500000_mean = 0.0591728, validate_confusion_matrix = [[84052   699]\r\n [14430   819]], validate_streaing_precision = 0.580026, validate_streaing_recall = 0.0591728, validate_streaming_auc = 0.525859, global_step = 39807\r\n\r\nWhy are this two AUC differs so much? When i use model.evaluate on train, validate, test data set, all the output AUCs are very close to the **first** auc shows in bold above. \r\nSo what is the validation_streaming_auc is calculating? I have reset the local variables in each epoch."}