{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5005", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5005/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5005/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5005/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5005", "id": 183393206, "node_id": "MDU6SXNzdWUxODMzOTMyMDY=", "number": 5005, "title": "Mismatch between TFLearn documentation and tutorial", "user": {"login": "alexshires", "id": 717651, "node_id": "MDQ6VXNlcjcxNzY1MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/717651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexshires", "html_url": "https://github.com/alexshires", "followers_url": "https://api.github.com/users/alexshires/followers", "following_url": "https://api.github.com/users/alexshires/following{/other_user}", "gists_url": "https://api.github.com/users/alexshires/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexshires/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexshires/subscriptions", "organizations_url": "https://api.github.com/users/alexshires/orgs", "repos_url": "https://api.github.com/users/alexshires/repos", "events_url": "https://api.github.com/users/alexshires/events{/privacy}", "received_events_url": "https://api.github.com/users/alexshires/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "sandersk", "id": 703865, "node_id": "MDQ6VXNlcjcwMzg2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/703865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandersk", "html_url": "https://github.com/sandersk", "followers_url": "https://api.github.com/users/sandersk/followers", "following_url": "https://api.github.com/users/sandersk/following{/other_user}", "gists_url": "https://api.github.com/users/sandersk/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandersk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandersk/subscriptions", "organizations_url": "https://api.github.com/users/sandersk/orgs", "repos_url": "https://api.github.com/users/sandersk/repos", "events_url": "https://api.github.com/users/sandersk/events{/privacy}", "received_events_url": "https://api.github.com/users/sandersk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sandersk", "id": 703865, "node_id": "MDQ6VXNlcjcwMzg2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/703865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandersk", "html_url": "https://github.com/sandersk", "followers_url": "https://api.github.com/users/sandersk/followers", "following_url": "https://api.github.com/users/sandersk/following{/other_user}", "gists_url": "https://api.github.com/users/sandersk/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandersk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandersk/subscriptions", "organizations_url": "https://api.github.com/users/sandersk/orgs", "repos_url": "https://api.github.com/users/sandersk/repos", "events_url": "https://api.github.com/users/sandersk/events{/privacy}", "received_events_url": "https://api.github.com/users/sandersk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2016-10-17T11:39:36Z", "updated_at": "2017-06-16T18:04:05Z", "closed_at": "2017-06-16T18:04:05Z", "author_association": "NONE", "body_html": "<p>Hi all,</p>\n<p>The changes to the metric creation in Estimator in tflearn don't match the current documentation on monitors. For example:</p>\n<p><a href=\"https://www.tensorflow.org/versions/r0.11/tutorials/monitors/index.html\" rel=\"nofollow\">https://www.tensorflow.org/versions/r0.11/tutorials/monitors/index.html</a></p>\n<p>suggests:</p>\n<pre><code>validation_metrics = {\"accuracy\": tf.contrib.metrics.streaming_accuracy,\n                      \"precision\": tf.contrib.metrics.streaming_precision,\n                      \"recall\": tf.contrib.metrics.streaming_recall}\nvalidation_monitor = tf.contrib.learn.monitors.ValidationMonitor(\n    test_set.data,\n    test_set.target,\n    every_n_steps=50,\n    metrics=validation_metrics)\n</code></pre>\n<p>wheras</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/blob/r0.11/tensorflow/contrib/learn/python/learn/estimators/rnn.py\">https://github.com/tensorflow/tensorflow/blob/r0.11/tensorflow/contrib/learn/python/learn/estimators/rnn.py</a></p>\n<p>contains:</p>\n<pre><code># Single head metrics.\n      if isinstance(predictions, dict):\n        raise ValueError(\n            'Metrics passed provide only name, no prediction, '\n            'but predictions are dict. '\n            'Metrics: %s, Targets: %s.' % (metrics, targets))\n</code></pre>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>None</p>\n<h3>Environment info</h3>\n<p>Operating System:</p>\n<p>Max OSX El Capitan</p>\n<p>Installed version of CUDA and cuDNN:</p>\n<p>N/A - cpu version</p>\n<ol>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<p>0.11.0rc0</p>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p><a href=\"https://gist.github.com/alexshires/d9674c58e352ad81be43f5f7da74c7e1\">https://gist.github.com/alexshires/d9674c58e352ad81be43f5f7da74c7e1</a></p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>Looking up MetricSpec configuration - no examples or help available</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>\n<p><a href=\"https://gist.github.com/alexshires/5310a751e9b767fbd3595570d618c342\">https://gist.github.com/alexshires/5310a751e9b767fbd3595570d618c342</a></p>", "body_text": "Hi all,\nThe changes to the metric creation in Estimator in tflearn don't match the current documentation on monitors. For example:\nhttps://www.tensorflow.org/versions/r0.11/tutorials/monitors/index.html\nsuggests:\nvalidation_metrics = {\"accuracy\": tf.contrib.metrics.streaming_accuracy,\n                      \"precision\": tf.contrib.metrics.streaming_precision,\n                      \"recall\": tf.contrib.metrics.streaming_recall}\nvalidation_monitor = tf.contrib.learn.monitors.ValidationMonitor(\n    test_set.data,\n    test_set.target,\n    every_n_steps=50,\n    metrics=validation_metrics)\n\nwheras\nhttps://github.com/tensorflow/tensorflow/blob/r0.11/tensorflow/contrib/learn/python/learn/estimators/rnn.py\ncontains:\n# Single head metrics.\n      if isinstance(predictions, dict):\n        raise ValueError(\n            'Metrics passed provide only name, no prediction, '\n            'but predictions are dict. '\n            'Metrics: %s, Targets: %s.' % (metrics, targets))\n\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nNone\nEnvironment info\nOperating System:\nMax OSX El Capitan\nInstalled version of CUDA and cuDNN:\nN/A - cpu version\n\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\n0.11.0rc0\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nhttps://gist.github.com/alexshires/d9674c58e352ad81be43f5f7da74c7e1\nWhat other attempted solutions have you tried?\nLooking up MetricSpec configuration - no examples or help available\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nhttps://gist.github.com/alexshires/5310a751e9b767fbd3595570d618c342", "body": "Hi all,\n\nThe changes to the metric creation in Estimator in tflearn don't match the current documentation on monitors. For example:\n\nhttps://www.tensorflow.org/versions/r0.11/tutorials/monitors/index.html\n\nsuggests:\n\n```\nvalidation_metrics = {\"accuracy\": tf.contrib.metrics.streaming_accuracy,\n                      \"precision\": tf.contrib.metrics.streaming_precision,\n                      \"recall\": tf.contrib.metrics.streaming_recall}\nvalidation_monitor = tf.contrib.learn.monitors.ValidationMonitor(\n    test_set.data,\n    test_set.target,\n    every_n_steps=50,\n    metrics=validation_metrics)\n```\n\nwheras \n\nhttps://github.com/tensorflow/tensorflow/blob/r0.11/tensorflow/contrib/learn/python/learn/estimators/rnn.py\n\ncontains:\n\n```\n# Single head metrics.\n      if isinstance(predictions, dict):\n        raise ValueError(\n            'Metrics passed provide only name, no prediction, '\n            'but predictions are dict. '\n            'Metrics: %s, Targets: %s.' % (metrics, targets))\n```\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\n\nNone\n### Environment info\n\nOperating System:\n\nMax OSX El Capitan\n\nInstalled version of CUDA and cuDNN:\n\nN/A - cpu version\n1. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\n\n0.11.0rc0\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n\nhttps://gist.github.com/alexshires/d9674c58e352ad81be43f5f7da74c7e1\n### What other attempted solutions have you tried?\n\nLooking up MetricSpec configuration - no examples or help available\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment or provide link).\n\nhttps://gist.github.com/alexshires/5310a751e9b767fbd3595570d618c342\n"}