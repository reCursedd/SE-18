{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/329267729", "html_url": "https://github.com/tensorflow/tensorflow/issues/13020#issuecomment-329267729", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13020", "id": 329267729, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTI2NzcyOQ==", "user": {"login": "pminervini", "id": 227357, "node_id": "MDQ6VXNlcjIyNzM1Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/227357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pminervini", "html_url": "https://github.com/pminervini", "followers_url": "https://api.github.com/users/pminervini/followers", "following_url": "https://api.github.com/users/pminervini/following{/other_user}", "gists_url": "https://api.github.com/users/pminervini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pminervini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pminervini/subscriptions", "organizations_url": "https://api.github.com/users/pminervini/orgs", "repos_url": "https://api.github.com/users/pminervini/repos", "events_url": "https://api.github.com/users/pminervini/events{/privacy}", "received_events_url": "https://api.github.com/users/pminervini/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-13T19:11:48Z", "updated_at": "2017-09-13T19:13:34Z", "author_association": "NONE", "body_html": "<p>For the sake of completeness, here's my job details:</p>\n<pre><code>#!/bin/bash\n\n#$ -cwd\n#$ -S /bin/bash\n#$ -o [..]/tfbug/hello.out\n#$ -e [..]/tfbug/hello.err\n#$ -t 1-1\n#$ -l h_vmem=8G,tmem=8G\n#$ -l h_rt=24:00:00\n#$ -P gpu\n#$ -l gpu=1\n\nnvidia-smi\n\nexport TF_CUDA_HOST_MEM_LIMIT_IN_MB=512\nexport LD_PRELOAD=\"[..]/lib/libtcmalloc.so.4\"\npython3 [..]/tfbug/hello.py &gt; [..]/tfbug/hello.log 2&gt;&amp;1\n</code></pre>\n<p>I've tried logging in on the node; the process is still trying to <code>mmap()</code> endlessly, and the process does not show up on <code>nvidia-smi</code>:</p>\n<pre><code>| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|  No running processes found                                                 |\n</code></pre>", "body_text": "For the sake of completeness, here's my job details:\n#!/bin/bash\n\n#$ -cwd\n#$ -S /bin/bash\n#$ -o [..]/tfbug/hello.out\n#$ -e [..]/tfbug/hello.err\n#$ -t 1-1\n#$ -l h_vmem=8G,tmem=8G\n#$ -l h_rt=24:00:00\n#$ -P gpu\n#$ -l gpu=1\n\nnvidia-smi\n\nexport TF_CUDA_HOST_MEM_LIMIT_IN_MB=512\nexport LD_PRELOAD=\"[..]/lib/libtcmalloc.so.4\"\npython3 [..]/tfbug/hello.py > [..]/tfbug/hello.log 2>&1\n\nI've tried logging in on the node; the process is still trying to mmap() endlessly, and the process does not show up on nvidia-smi:\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|  No running processes found                                                 |", "body": "For the sake of completeness, here's my job details:\r\n\r\n```\r\n#!/bin/bash\r\n\r\n#$ -cwd\r\n#$ -S /bin/bash\r\n#$ -o [..]/tfbug/hello.out\r\n#$ -e [..]/tfbug/hello.err\r\n#$ -t 1-1\r\n#$ -l h_vmem=8G,tmem=8G\r\n#$ -l h_rt=24:00:00\r\n#$ -P gpu\r\n#$ -l gpu=1\r\n\r\nnvidia-smi\r\n\r\nexport TF_CUDA_HOST_MEM_LIMIT_IN_MB=512\r\nexport LD_PRELOAD=\"[..]/lib/libtcmalloc.so.4\"\r\npython3 [..]/tfbug/hello.py > [..]/tfbug/hello.log 2>&1\r\n```\r\n\r\nI've tried logging in on the node; the process is still trying to `mmap()` endlessly, and the process does not show up on `nvidia-smi`:\r\n\r\n```\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID  Type  Process name                               Usage      |\r\n|=============================================================================|\r\n|  No running processes found                                                 |\r\n```"}