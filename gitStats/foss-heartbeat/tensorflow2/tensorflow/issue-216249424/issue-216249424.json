{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8641", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8641/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8641/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8641/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8641", "id": 216249424, "node_id": "MDU6SXNzdWUyMTYyNDk0MjQ=", "number": 8641, "title": "Cannot build Android demo - Bazel BUILD failed", "user": {"login": "derekhh", "id": 1497445, "node_id": "MDQ6VXNlcjE0OTc0NDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1497445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekhh", "html_url": "https://github.com/derekhh", "followers_url": "https://api.github.com/users/derekhh/followers", "following_url": "https://api.github.com/users/derekhh/following{/other_user}", "gists_url": "https://api.github.com/users/derekhh/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekhh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekhh/subscriptions", "organizations_url": "https://api.github.com/users/derekhh/orgs", "repos_url": "https://api.github.com/users/derekhh/repos", "events_url": "https://api.github.com/users/derekhh/events{/privacy}", "received_events_url": "https://api.github.com/users/derekhh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2017-03-23T00:32:00Z", "updated_at": "2017-09-11T21:20:14Z", "closed_at": "2017-03-23T17:40:10Z", "author_association": "NONE", "body_html": "<h3>Description</h3>\n<p>I've successfully built the <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/examples/android\">Android Camera Demo</a> a couple days ago but I've failed to build the app today. The error message looks like this:</p>\n<pre><code>ERROR: /Users/hao.hu/GitHub/tensorflow/tensorflow/tensorflow/core/kernels/BUILD:3870:1: C++ compilation of rule '//tensorflow/core/kernels:android_tensorflow_kernels' failed: Process exited with status 1 [sandboxed].\ntensorflow/core/kernels/split_v_op.cc:212:28: error: non-constant-expression cannot be narrowed from type 'value_type' (aka 'long long') to 'int' in initializer list [-Wc++11-narrowing]\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                           ^~~~~~~~~~~~~~~~~~\ntensorflow/core/kernels/split_v_op.cc:172:12: note: in instantiation of member function 'tensorflow::SplitVOpCPU&lt;int, long long&gt;::Compute' requested here\n  explicit SplitVOpCPU(OpKernelConstruction* c) : Base(c) {}\n           ^\ntensorflow/core/kernels/split_v_op.cc:355:19: note: in instantiation of member function 'tensorflow::SplitVOpCPU&lt;int, long long&gt;::SplitVOpCPU' requested here\nTF_CALL_ALL_TYPES(REGISTER_SPLIT_LEN);\n              ^\ntensorflow/core/kernels/split_v_op.cc:212:28: note: insert an explicit cast to silence this issue\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                           ^~~~~~~~~~~~~~~~~~\n                           static_cast&lt;int&gt;( )\ntensorflow/core/kernels/split_v_op.cc:212:28: error: non-constant-expression cannot be narrowed from type 'value_type' (aka 'long long') to 'int' in initializer list [-Wc++11-narrowing]\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                           ^~~~~~~~~~~~~~~~~~\ntensorflow/core/kernels/split_v_op.cc:172:12: note: in instantiation of member function  'tensorflow::SplitVOpCPU&lt;float, long long&gt;::Compute' requested here\n  explicit SplitVOpCPU(OpKernelConstruction* c) : Base(c) {}\n           ^\ntensorflow/core/kernels/split_v_op.cc:355:19: note: in instantiation of member function 'tensorflow::SplitVOpCPU&lt;float, long long&gt;::SplitVOpCPU' requested here\nTF_CALL_ALL_TYPES(REGISTER_SPLIT_LEN);\n                  ^\ntensorflow/core/kernels/split_v_op.cc:212:28: note: insert an explicit cast to silence this issue\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                           ^~~~~~~~~~~~~~~~~~\n                           static_cast&lt;int&gt;( )\ntensorflow/core/kernels/split_v_op.cc:212:28: error: non-constant-expression cannot be narrowed from type 'value_type' (aka 'long long') to 'int' in initializer list [-Wc++11-narrowing]\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                           ^~~~~~~~~~~~~~~~~~\ntensorflow/core/kernels/split_v_op.cc:172:12: note: in instantiation of member function 'tensorflow::SplitVOpCPU&lt;tensorflow::bfloat16, long long&gt;::Compute' requested here\n  explicit SplitVOpCPU(OpKernelConstruction* c) : Base(c) {}\n           ^\ntensorflow/core/kernels/split_v_op.cc:356:1: note: in instantiation of member function 'tensorflow::SplitVOpCPU&lt;tensorflow::bfloat16, long long&gt;::SplitVOpCPU' requested here\nREGISTER_SPLIT_LEN(bfloat16);\n^\ntensorflow/core/kernels/split_v_op.cc:353:3: note: expanded from macro 'REGISTER_SPLIT_LEN'\n  REGISTER_SPLIT(type, int64);\n  ^\ntensorflow/core/kernels/split_v_op.cc:349:27: note: expanded from macro 'REGISTER_SPLIT'\n                          SplitVOpCPU&lt;type, len_type&gt;);\n                          ^\ntensorflow/core/kernels/split_v_op.cc:212:28: note: insert an explicit cast to silence this issue\n      prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                       ^~~~~~~~~~~~~~~~~~\n                       static_cast&lt;int&gt;( )\n3 errors generated.\nUse --strategy=CppCompile=standalone to disable sandboxing for the failing actions.\nTarget //tensorflow/examples/android:tensorflow_demo failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 468.550s, Critical Path: 454.15s\n</code></pre>", "body_text": "Description\nI've successfully built the Android Camera Demo a couple days ago but I've failed to build the app today. The error message looks like this:\nERROR: /Users/hao.hu/GitHub/tensorflow/tensorflow/tensorflow/core/kernels/BUILD:3870:1: C++ compilation of rule '//tensorflow/core/kernels:android_tensorflow_kernels' failed: Process exited with status 1 [sandboxed].\ntensorflow/core/kernels/split_v_op.cc:212:28: error: non-constant-expression cannot be narrowed from type 'value_type' (aka 'long long') to 'int' in initializer list [-Wc++11-narrowing]\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                           ^~~~~~~~~~~~~~~~~~\ntensorflow/core/kernels/split_v_op.cc:172:12: note: in instantiation of member function 'tensorflow::SplitVOpCPU<int, long long>::Compute' requested here\n  explicit SplitVOpCPU(OpKernelConstruction* c) : Base(c) {}\n           ^\ntensorflow/core/kernels/split_v_op.cc:355:19: note: in instantiation of member function 'tensorflow::SplitVOpCPU<int, long long>::SplitVOpCPU' requested here\nTF_CALL_ALL_TYPES(REGISTER_SPLIT_LEN);\n              ^\ntensorflow/core/kernels/split_v_op.cc:212:28: note: insert an explicit cast to silence this issue\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                           ^~~~~~~~~~~~~~~~~~\n                           static_cast<int>( )\ntensorflow/core/kernels/split_v_op.cc:212:28: error: non-constant-expression cannot be narrowed from type 'value_type' (aka 'long long') to 'int' in initializer list [-Wc++11-narrowing]\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                           ^~~~~~~~~~~~~~~~~~\ntensorflow/core/kernels/split_v_op.cc:172:12: note: in instantiation of member function  'tensorflow::SplitVOpCPU<float, long long>::Compute' requested here\n  explicit SplitVOpCPU(OpKernelConstruction* c) : Base(c) {}\n           ^\ntensorflow/core/kernels/split_v_op.cc:355:19: note: in instantiation of member function 'tensorflow::SplitVOpCPU<float, long long>::SplitVOpCPU' requested here\nTF_CALL_ALL_TYPES(REGISTER_SPLIT_LEN);\n                  ^\ntensorflow/core/kernels/split_v_op.cc:212:28: note: insert an explicit cast to silence this issue\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                           ^~~~~~~~~~~~~~~~~~\n                           static_cast<int>( )\ntensorflow/core/kernels/split_v_op.cc:212:28: error: non-constant-expression cannot be narrowed from type 'value_type' (aka 'long long') to 'int' in initializer list [-Wc++11-narrowing]\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                           ^~~~~~~~~~~~~~~~~~\ntensorflow/core/kernels/split_v_op.cc:172:12: note: in instantiation of member function 'tensorflow::SplitVOpCPU<tensorflow::bfloat16, long long>::Compute' requested here\n  explicit SplitVOpCPU(OpKernelConstruction* c) : Base(c) {}\n           ^\ntensorflow/core/kernels/split_v_op.cc:356:1: note: in instantiation of member function 'tensorflow::SplitVOpCPU<tensorflow::bfloat16, long long>::SplitVOpCPU' requested here\nREGISTER_SPLIT_LEN(bfloat16);\n^\ntensorflow/core/kernels/split_v_op.cc:353:3: note: expanded from macro 'REGISTER_SPLIT_LEN'\n  REGISTER_SPLIT(type, int64);\n  ^\ntensorflow/core/kernels/split_v_op.cc:349:27: note: expanded from macro 'REGISTER_SPLIT'\n                          SplitVOpCPU<type, len_type>);\n                          ^\ntensorflow/core/kernels/split_v_op.cc:212:28: note: insert an explicit cast to silence this issue\n      prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\n                       ^~~~~~~~~~~~~~~~~~\n                       static_cast<int>( )\n3 errors generated.\nUse --strategy=CppCompile=standalone to disable sandboxing for the failing actions.\nTarget //tensorflow/examples/android:tensorflow_demo failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 468.550s, Critical Path: 454.15s", "body": "### Description\r\n\r\nI've successfully built the [Android Camera Demo](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/examples/android) a couple days ago but I've failed to build the app today. The error message looks like this:\r\n\r\n    ERROR: /Users/hao.hu/GitHub/tensorflow/tensorflow/tensorflow/core/kernels/BUILD:3870:1: C++ compilation of rule '//tensorflow/core/kernels:android_tensorflow_kernels' failed: Process exited with status 1 [sandboxed].\r\n    tensorflow/core/kernels/split_v_op.cc:212:28: error: non-constant-expression cannot be narrowed from type 'value_type' (aka 'long long') to 'int' in initializer list [-Wc++11-narrowing]\r\n              prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\r\n                               ^~~~~~~~~~~~~~~~~~\r\n    tensorflow/core/kernels/split_v_op.cc:172:12: note: in instantiation of member function 'tensorflow::SplitVOpCPU<int, long long>::Compute' requested here\r\n      explicit SplitVOpCPU(OpKernelConstruction* c) : Base(c) {}\r\n               ^\r\n    tensorflow/core/kernels/split_v_op.cc:355:19: note: in instantiation of member function 'tensorflow::SplitVOpCPU<int, long long>::SplitVOpCPU' requested here\r\n    TF_CALL_ALL_TYPES(REGISTER_SPLIT_LEN);\r\n                  ^\r\n    tensorflow/core/kernels/split_v_op.cc:212:28: note: insert an explicit cast to silence this issue\r\n              prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\r\n                               ^~~~~~~~~~~~~~~~~~\r\n                               static_cast<int>( )\r\n    tensorflow/core/kernels/split_v_op.cc:212:28: error: non-constant-expression cannot be narrowed from type 'value_type' (aka 'long long') to 'int' in initializer list [-Wc++11-narrowing]\r\n              prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\r\n                               ^~~~~~~~~~~~~~~~~~\r\n    tensorflow/core/kernels/split_v_op.cc:172:12: note: in instantiation of member function  'tensorflow::SplitVOpCPU<float, long long>::Compute' requested here\r\n      explicit SplitVOpCPU(OpKernelConstruction* c) : Base(c) {}\r\n               ^\r\n    tensorflow/core/kernels/split_v_op.cc:355:19: note: in instantiation of member function 'tensorflow::SplitVOpCPU<float, long long>::SplitVOpCPU' requested here\r\n    TF_CALL_ALL_TYPES(REGISTER_SPLIT_LEN);\r\n                      ^\r\n    tensorflow/core/kernels/split_v_op.cc:212:28: note: insert an explicit cast to silence this issue\r\n              prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\r\n                               ^~~~~~~~~~~~~~~~~~\r\n                               static_cast<int>( )\r\n    tensorflow/core/kernels/split_v_op.cc:212:28: error: non-constant-expression cannot be narrowed from type 'value_type' (aka 'long long') to 'int' in initializer list [-Wc++11-narrowing]\r\n              prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\r\n                               ^~~~~~~~~~~~~~~~~~\r\n    tensorflow/core/kernels/split_v_op.cc:172:12: note: in instantiation of member function 'tensorflow::SplitVOpCPU<tensorflow::bfloat16, long long>::Compute' requested here\r\n      explicit SplitVOpCPU(OpKernelConstruction* c) : Base(c) {}\r\n               ^\r\n    tensorflow/core/kernels/split_v_op.cc:356:1: note: in instantiation of member function 'tensorflow::SplitVOpCPU<tensorflow::bfloat16, long long>::SplitVOpCPU' requested here\r\n    REGISTER_SPLIT_LEN(bfloat16);\r\n    ^\r\n    tensorflow/core/kernels/split_v_op.cc:353:3: note: expanded from macro 'REGISTER_SPLIT_LEN'\r\n      REGISTER_SPLIT(type, int64);\r\n      ^\r\n    tensorflow/core/kernels/split_v_op.cc:349:27: note: expanded from macro 'REGISTER_SPLIT'\r\n                              SplitVOpCPU<type, len_type>);\r\n                              ^\r\n    tensorflow/core/kernels/split_v_op.cc:212:28: note: insert an explicit cast to silence this issue\r\n          prefix_dim_size, split_sizes_vec[i], suffix_dim_size};\r\n                           ^~~~~~~~~~~~~~~~~~\r\n                           static_cast<int>( )\r\n    3 errors generated.\r\n    Use --strategy=CppCompile=standalone to disable sandboxing for the failing actions.\r\n    Target //tensorflow/examples/android:tensorflow_demo failed to build\r\n    Use --verbose_failures to see the command lines of failed build steps.\r\n    INFO: Elapsed time: 468.550s, Critical Path: 454.15s"}