{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3537", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3537/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3537/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3537/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3537", "id": 167948980, "node_id": "MDU6SXNzdWUxNjc5NDg5ODA=", "number": 3537, "title": "Cannot build a simple C++ TensorFlow example for Android x86", "user": {"login": "perone", "id": 412328, "node_id": "MDQ6VXNlcjQxMjMyOA==", "avatar_url": "https://avatars0.githubusercontent.com/u/412328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perone", "html_url": "https://github.com/perone", "followers_url": "https://api.github.com/users/perone/followers", "following_url": "https://api.github.com/users/perone/following{/other_user}", "gists_url": "https://api.github.com/users/perone/gists{/gist_id}", "starred_url": "https://api.github.com/users/perone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perone/subscriptions", "organizations_url": "https://api.github.com/users/perone/orgs", "repos_url": "https://api.github.com/users/perone/repos", "events_url": "https://api.github.com/users/perone/events{/privacy}", "received_events_url": "https://api.github.com/users/perone/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-07-27T20:30:03Z", "updated_at": "2017-01-23T23:12:30Z", "closed_at": "2017-01-23T23:12:30Z", "author_association": "NONE", "body_html": "<p>Operating System: Ubuntu 14.04 LTS 64bit</p>\n<p>Installed:<br>\nAndroid NDK (r12b),<br>\nAndroid SDK (Latest),<br>\nTensorflow (0.9) (configured for CPU only),<br>\nBazel (0.3.0)</p>\n<p>I faced the same problem of the issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"159376351\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2753\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2753/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2753\">#2753</a>, then I changed to use \"//tensorflow/core:android_tensorflow_lib\", now the error is:</p>\n<pre><code>external/eigen_archive/eigen-eigen-d02e6a705c30/unsupported/Eigen/CXX11/../../../Eigen/src/Core/arch/CUDA/TypeCasting.h: In function 'TgtPacket Eigen::internal::pcast(const SrcPacket&amp;) [with SrcPacket = Eigen::internal::Packet4h; TgtPacket = __vector(4) float]':\nexternal/eigen_archive/eigen-eigen-d02e6a705c30/unsupported/Eigen/CXX11/../../../Eigen/src/Core/arch/CUDA/TypeCasting.h:143:38: error: '_mm_cvtm64_si64' was not declared in this scope\n   __int64_t a64 = _mm_cvtm64_si64(a.x);\n                                      ^\nTarget //tensorflow/mydemo:mydemo failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 174.487s, Critical Path: 168.61s\n</code></pre>\n<p>I'm building with the following command:</p>\n<p><code>bazel build :mydemo --crosstool_top=//external:android/crosstool --cpu=x86 --host_crosstool_top=@bazel_tools//tools/cpp:toolchain</code></p>\n<p>And with the following BUILD file:</p>\n<pre><code>cc_binary(\n    name = \"mydemo\",\n    srcs = [\"mydemo.cc\"],\n    deps = [\n        \"//tensorflow/core:android_tensorflow_lib\",\n    ]\n)\n</code></pre>\n<p>My WORKSPACE configuration:</p>\n<pre><code>android_sdk_repository(\n    name = \"androidsdk\",\n    api_level = 22,\n    build_tools_version = \"24.0.1\",\n    path = \"/myandroid/sdk\",\n)\n\nandroid_ndk_repository(\n    name=\"androidndk\",\n    path=\"/myandroid/android-ndk-r12b\",\n    api_level=22)\n</code></pre>\n<p>I'm just trying to build a very simple C++ TensorFlow example for Android x86.</p>", "body_text": "Operating System: Ubuntu 14.04 LTS 64bit\nInstalled:\nAndroid NDK (r12b),\nAndroid SDK (Latest),\nTensorflow (0.9) (configured for CPU only),\nBazel (0.3.0)\nI faced the same problem of the issue #2753, then I changed to use \"//tensorflow/core:android_tensorflow_lib\", now the error is:\nexternal/eigen_archive/eigen-eigen-d02e6a705c30/unsupported/Eigen/CXX11/../../../Eigen/src/Core/arch/CUDA/TypeCasting.h: In function 'TgtPacket Eigen::internal::pcast(const SrcPacket&) [with SrcPacket = Eigen::internal::Packet4h; TgtPacket = __vector(4) float]':\nexternal/eigen_archive/eigen-eigen-d02e6a705c30/unsupported/Eigen/CXX11/../../../Eigen/src/Core/arch/CUDA/TypeCasting.h:143:38: error: '_mm_cvtm64_si64' was not declared in this scope\n   __int64_t a64 = _mm_cvtm64_si64(a.x);\n                                      ^\nTarget //tensorflow/mydemo:mydemo failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 174.487s, Critical Path: 168.61s\n\nI'm building with the following command:\nbazel build :mydemo --crosstool_top=//external:android/crosstool --cpu=x86 --host_crosstool_top=@bazel_tools//tools/cpp:toolchain\nAnd with the following BUILD file:\ncc_binary(\n    name = \"mydemo\",\n    srcs = [\"mydemo.cc\"],\n    deps = [\n        \"//tensorflow/core:android_tensorflow_lib\",\n    ]\n)\n\nMy WORKSPACE configuration:\nandroid_sdk_repository(\n    name = \"androidsdk\",\n    api_level = 22,\n    build_tools_version = \"24.0.1\",\n    path = \"/myandroid/sdk\",\n)\n\nandroid_ndk_repository(\n    name=\"androidndk\",\n    path=\"/myandroid/android-ndk-r12b\",\n    api_level=22)\n\nI'm just trying to build a very simple C++ TensorFlow example for Android x86.", "body": "Operating System: Ubuntu 14.04 LTS 64bit\n\nInstalled:\nAndroid NDK (r12b), \nAndroid SDK (Latest), \nTensorflow (0.9) (configured for CPU only),  \nBazel (0.3.0)\n\nI faced the same problem of the issue #2753, then I changed to use \"//tensorflow/core:android_tensorflow_lib\", now the error is:\n\n```\nexternal/eigen_archive/eigen-eigen-d02e6a705c30/unsupported/Eigen/CXX11/../../../Eigen/src/Core/arch/CUDA/TypeCasting.h: In function 'TgtPacket Eigen::internal::pcast(const SrcPacket&) [with SrcPacket = Eigen::internal::Packet4h; TgtPacket = __vector(4) float]':\nexternal/eigen_archive/eigen-eigen-d02e6a705c30/unsupported/Eigen/CXX11/../../../Eigen/src/Core/arch/CUDA/TypeCasting.h:143:38: error: '_mm_cvtm64_si64' was not declared in this scope\n   __int64_t a64 = _mm_cvtm64_si64(a.x);\n                                      ^\nTarget //tensorflow/mydemo:mydemo failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 174.487s, Critical Path: 168.61s\n```\n\nI'm building with the following command:\n\n`bazel build :mydemo --crosstool_top=//external:android/crosstool --cpu=x86 --host_crosstool_top=@bazel_tools//tools/cpp:toolchain`\n\nAnd with the following BUILD file:\n\n```\ncc_binary(\n    name = \"mydemo\",\n    srcs = [\"mydemo.cc\"],\n    deps = [\n        \"//tensorflow/core:android_tensorflow_lib\",\n    ]\n)\n```\n\nMy WORKSPACE configuration:\n\n```\nandroid_sdk_repository(\n    name = \"androidsdk\",\n    api_level = 22,\n    build_tools_version = \"24.0.1\",\n    path = \"/myandroid/sdk\",\n)\n\nandroid_ndk_repository(\n    name=\"androidndk\",\n    path=\"/myandroid/android-ndk-r12b\",\n    api_level=22)\n```\n\nI'm just trying to build a very simple C++ TensorFlow example for Android x86.\n"}