{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/403028588", "html_url": "https://github.com/tensorflow/tensorflow/issues/18356#issuecomment-403028588", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18356", "id": 403028588, "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzAyODU4OA==", "user": {"login": "japer21", "id": 17979719, "node_id": "MDQ6VXNlcjE3OTc5NzE5", "avatar_url": "https://avatars2.githubusercontent.com/u/17979719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japer21", "html_url": "https://github.com/japer21", "followers_url": "https://api.github.com/users/japer21/followers", "following_url": "https://api.github.com/users/japer21/following{/other_user}", "gists_url": "https://api.github.com/users/japer21/gists{/gist_id}", "starred_url": "https://api.github.com/users/japer21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japer21/subscriptions", "organizations_url": "https://api.github.com/users/japer21/orgs", "repos_url": "https://api.github.com/users/japer21/repos", "events_url": "https://api.github.com/users/japer21/events{/privacy}", "received_events_url": "https://api.github.com/users/japer21/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-06T13:06:20Z", "updated_at": "2018-07-06T13:06:20Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2762244\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/sadlerjw\">@sadlerjw</a> I am working on Mac sierra 10.13.5 (17F77) , and what I did is here:<br>\nchecked out tensorflow 1.9.0-rc1<br>\ndid export ANDROID_TYPES=\"-D__ANDROID_TYPES_FULL__\"<br>\nand then launched the script tensorflow/contrib/makefile/buils_all_ios.sh .</p>\n<p>On building stage for the arch i386 I got the error:</p>\n<pre><code>tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/SimpleThreadPool.h:153:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread;\n    ^\n/pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n&lt;command line&gt;:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\nIn file included from tensorflow/core/common_runtime/local_device.cc:18:\nIn file included from ./tensorflow/core/common_runtime/local_device.h:19:\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\nIn file included from ./tensorflow/core/framework/allocator.h:23:\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from /pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\nIn file included from /pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:\n/pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\n    ^\n/pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n&lt;command line&gt;:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\n2 errors generated.\nmake: *** [pj/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/local_device.o] Error 1\n+ '[' 2 -ne 0 ']'\n+ echo 'i386 compilation failed.'\ni386 compilation failed.\n+ exit 1\n\n</code></pre>", "body_text": "@sadlerjw I am working on Mac sierra 10.13.5 (17F77) , and what I did is here:\nchecked out tensorflow 1.9.0-rc1\ndid export ANDROID_TYPES=\"-D__ANDROID_TYPES_FULL__\"\nand then launched the script tensorflow/contrib/makefile/buils_all_ios.sh .\nOn building stage for the arch i386 I got the error:\ntensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/SimpleThreadPool.h:153:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread;\n    ^\n/pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n<command line>:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\nIn file included from tensorflow/core/common_runtime/local_device.cc:18:\nIn file included from ./tensorflow/core/common_runtime/local_device.h:19:\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\nIn file included from ./tensorflow/core/framework/allocator.h:23:\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from /pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\nIn file included from /pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:\n/pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\n    ^\n/pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n<command line>:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\n2 errors generated.\nmake: *** [pj/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/local_device.o] Error 1\n+ '[' 2 -ne 0 ']'\n+ echo 'i386 compilation failed.'\ni386 compilation failed.\n+ exit 1", "body": "@sadlerjw I am working on Mac sierra 10.13.5 (17F77) , and what I did is here:\r\nchecked out tensorflow 1.9.0-rc1\r\ndid export ANDROID_TYPES=\"-D__ANDROID_TYPES_FULL__\"\r\nand then launched the script tensorflow/contrib/makefile/buils_all_ios.sh .\r\n\r\nOn building stage for the arch i386 I got the error:\r\n```\r\ntensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/SimpleThreadPool.h:153:5: error: \r\n      thread-local storage is not supported for the current target\r\n    EIGEN_THREAD_LOCAL PerThread per_thread;\r\n    ^\r\n/pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \r\n      expanded from macro 'EIGEN_THREAD_LOCAL'\r\n#define EIGEN_THREAD_LOCAL static __thread\r\n                                  ^\r\n<command line>:3:18: note: expanded from here\r\n#define __thread thread_local\r\n                 ^\r\nIn file included from tensorflow/core/common_runtime/local_device.cc:18:\r\nIn file included from ./tensorflow/core/common_runtime/local_device.h:19:\r\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\r\nIn file included from ./tensorflow/core/framework/allocator.h:23:\r\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from /pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\r\nIn file included from /pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:\r\n/pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: \r\n      thread-local storage is not supported for the current target\r\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\r\n    ^\r\n/pj/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \r\n      expanded from macro 'EIGEN_THREAD_LOCAL'\r\n#define EIGEN_THREAD_LOCAL static __thread\r\n                                  ^\r\n<command line>:3:18: note: expanded from here\r\n#define __thread thread_local\r\n                 ^\r\n2 errors generated.\r\nmake: *** [pj/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/local_device.o] Error 1\r\n+ '[' 2 -ne 0 ']'\r\n+ echo 'i386 compilation failed.'\r\ni386 compilation failed.\r\n+ exit 1\r\n\r\n```"}