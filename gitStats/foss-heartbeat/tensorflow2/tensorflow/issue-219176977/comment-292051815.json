{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/292051815", "html_url": "https://github.com/tensorflow/tensorflow/issues/8947#issuecomment-292051815", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8947", "id": 292051815, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MjA1MTgxNQ==", "user": {"login": "Earthson", "id": 1193039, "node_id": "MDQ6VXNlcjExOTMwMzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1193039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Earthson", "html_url": "https://github.com/Earthson", "followers_url": "https://api.github.com/users/Earthson/followers", "following_url": "https://api.github.com/users/Earthson/following{/other_user}", "gists_url": "https://api.github.com/users/Earthson/gists{/gist_id}", "starred_url": "https://api.github.com/users/Earthson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Earthson/subscriptions", "organizations_url": "https://api.github.com/users/Earthson/orgs", "repos_url": "https://api.github.com/users/Earthson/repos", "events_url": "https://api.github.com/users/Earthson/events{/privacy}", "received_events_url": "https://api.github.com/users/Earthson/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-06T02:29:40Z", "updated_at": "2017-04-06T02:29:40Z", "author_association": "CONTRIBUTOR", "body_html": "<p>the package is built using bazel.</p>\n<div class=\"highlight highlight-source-shell\"><pre>TF_ROOT_DIR=<span class=\"pl-smi\">$HOME</span>/git/tensorflow\n\nmkdir -p <span class=\"pl-smi\">$HOME</span>/git\n\n<span class=\"pl-k\">if</span> [ <span class=\"pl-k\">-d</span> <span class=\"pl-smi\">$TF_ROOT_DIR</span> ]<span class=\"pl-k\">;</span> <span class=\"pl-k\">then</span>\n  <span class=\"pl-c1\">cd</span> <span class=\"pl-smi\">$TF_ROOT_DIR</span>\n  git pull\n<span class=\"pl-k\">else</span>\n  <span class=\"pl-c1\">cd</span> <span class=\"pl-smi\">$HOME</span>/git\n  git clone https://github.com/tensorflow/tensorflow\n  <span class=\"pl-c1\">cd</span> <span class=\"pl-smi\">$TF_ROOT_DIR</span>\n<span class=\"pl-k\">fi</span>\n\ngit checkout r1.1\n\n<span class=\"pl-c1\">echo</span>  <span class=\"pl-smi\">$PREFIX</span>\n\nbazel clean\n<span class=\"pl-c1\">echo</span> <span class=\"pl-smi\">$PYTHON_BIN_PATH</span>\nPYTHON_BIN_PATH=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>which python<span class=\"pl-pds\">)</span></span> \\\nPYTHON_LIB_PATH=<span class=\"pl-smi\">$PREFIX</span>/lib/python3.6/site-packages \\\nTF_NEED_MKL=1 \\\nMKL_INSTALL_PATH=<span class=\"pl-smi\">$PREFIX</span> \\\nCC_OPT_FLAGS=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-march=native<span class=\"pl-pds\">\"</span></span> \\\nTF_NEED_JEMALLOC=1 \\\nTF_NEED_GCP=0 \\\nTF_NEED_HDFS=0 \\\nTF_ENABLE_XLA=1 \\\nTF_NEED_OPENCL=0 \\\nTF_NEED_CUDA=1 \\\nGCC_HOST_COMPILER_PATH=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>which gcc<span class=\"pl-pds\">)</span></span> \\\nTF_CUDA_VERSION=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8.0<span class=\"pl-pds\">\"</span></span> \\\nCUDA_TOOLKIT_PATH=<span class=\"pl-smi\">$PREFIX</span> \\\nTF_CUDNN_VERSION=6 \\\nCUDNN_INSTALL_PATH=<span class=\"pl-smi\">$PREFIX</span> \\\nTF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\n./configure\n\nbazel build -c opt --copt=-march=native --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=cuda -k  //tensorflow/tools/pip_package:build_pip_package\nrm -rf /tmp/tensorflow_pkg\nmkdir -p /tmp/tensorflow_pkg\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\npip install <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>ls /tmp/tensorflow_pkg/tensorflow<span class=\"pl-k\">*</span><span class=\"pl-pds\">)</span></span></pre></div>", "body_text": "the package is built using bazel.\nTF_ROOT_DIR=$HOME/git/tensorflow\n\nmkdir -p $HOME/git\n\nif [ -d $TF_ROOT_DIR ]; then\n  cd $TF_ROOT_DIR\n  git pull\nelse\n  cd $HOME/git\n  git clone https://github.com/tensorflow/tensorflow\n  cd $TF_ROOT_DIR\nfi\n\ngit checkout r1.1\n\necho  $PREFIX\n\nbazel clean\necho $PYTHON_BIN_PATH\nPYTHON_BIN_PATH=$(which python) \\\nPYTHON_LIB_PATH=$PREFIX/lib/python3.6/site-packages \\\nTF_NEED_MKL=1 \\\nMKL_INSTALL_PATH=$PREFIX \\\nCC_OPT_FLAGS=\"-march=native\" \\\nTF_NEED_JEMALLOC=1 \\\nTF_NEED_GCP=0 \\\nTF_NEED_HDFS=0 \\\nTF_ENABLE_XLA=1 \\\nTF_NEED_OPENCL=0 \\\nTF_NEED_CUDA=1 \\\nGCC_HOST_COMPILER_PATH=$(which gcc) \\\nTF_CUDA_VERSION=\"8.0\" \\\nCUDA_TOOLKIT_PATH=$PREFIX \\\nTF_CUDNN_VERSION=6 \\\nCUDNN_INSTALL_PATH=$PREFIX \\\nTF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\n./configure\n\nbazel build -c opt --copt=-march=native --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=cuda -k  //tensorflow/tools/pip_package:build_pip_package\nrm -rf /tmp/tensorflow_pkg\nmkdir -p /tmp/tensorflow_pkg\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\npip install $(ls /tmp/tensorflow_pkg/tensorflow*)", "body": "the package is built using bazel.\r\n\r\n```bash\r\nTF_ROOT_DIR=$HOME/git/tensorflow\r\n\r\nmkdir -p $HOME/git\r\n\r\nif [ -d $TF_ROOT_DIR ]; then\r\n  cd $TF_ROOT_DIR\r\n  git pull\r\nelse\r\n  cd $HOME/git\r\n  git clone https://github.com/tensorflow/tensorflow\r\n  cd $TF_ROOT_DIR\r\nfi\r\n\r\ngit checkout r1.1\r\n\r\necho  $PREFIX\r\n\r\nbazel clean\r\necho $PYTHON_BIN_PATH\r\nPYTHON_BIN_PATH=$(which python) \\\r\nPYTHON_LIB_PATH=$PREFIX/lib/python3.6/site-packages \\\r\nTF_NEED_MKL=1 \\\r\nMKL_INSTALL_PATH=$PREFIX \\\r\nCC_OPT_FLAGS=\"-march=native\" \\\r\nTF_NEED_JEMALLOC=1 \\\r\nTF_NEED_GCP=0 \\\r\nTF_NEED_HDFS=0 \\\r\nTF_ENABLE_XLA=1 \\\r\nTF_NEED_OPENCL=0 \\\r\nTF_NEED_CUDA=1 \\\r\nGCC_HOST_COMPILER_PATH=$(which gcc) \\\r\nTF_CUDA_VERSION=\"8.0\" \\\r\nCUDA_TOOLKIT_PATH=$PREFIX \\\r\nTF_CUDNN_VERSION=6 \\\r\nCUDNN_INSTALL_PATH=$PREFIX \\\r\nTF_CUDA_COMPUTE_CAPABILITIES=6.1 \\\r\n./configure\r\n\r\nbazel build -c opt --copt=-march=native --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=cuda -k  //tensorflow/tools/pip_package:build_pip_package\r\nrm -rf /tmp/tensorflow_pkg\r\nmkdir -p /tmp/tensorflow_pkg\r\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\r\npip install $(ls /tmp/tensorflow_pkg/tensorflow*)\r\n```"}