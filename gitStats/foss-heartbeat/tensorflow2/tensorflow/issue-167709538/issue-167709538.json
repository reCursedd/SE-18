{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3517", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3517/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3517/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3517/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3517", "id": 167709538, "node_id": "MDU6SXNzdWUxNjc3MDk1Mzg=", "number": 3517, "title": "Error when running distributed MNIST example", "user": {"login": "lliu25", "id": 2426087, "node_id": "MDQ6VXNlcjI0MjYwODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/2426087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lliu25", "html_url": "https://github.com/lliu25", "followers_url": "https://api.github.com/users/lliu25/followers", "following_url": "https://api.github.com/users/lliu25/following{/other_user}", "gists_url": "https://api.github.com/users/lliu25/gists{/gist_id}", "starred_url": "https://api.github.com/users/lliu25/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lliu25/subscriptions", "organizations_url": "https://api.github.com/users/lliu25/orgs", "repos_url": "https://api.github.com/users/lliu25/repos", "events_url": "https://api.github.com/users/lliu25/events{/privacy}", "received_events_url": "https://api.github.com/users/lliu25/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2016-07-26T20:55:10Z", "updated_at": "2016-10-11T11:36:51Z", "closed_at": "2016-07-27T17:50:23Z", "author_association": "NONE", "body_html": "<p>Hi I am new to tensorflow and distributed tensorflow. I was trying to run an example from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"159114386\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2726\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2726/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2726\">#2726</a></p>\n<p>Right now I am using tensorflow 0.9 on a cluster of Raspberry Pi3, using slurm to manage the nodes in the cluster, the script is below:</p>\n<h1>!/bin/bash</h1>\n<h1>SBATCH -N 4</h1>\n<h1>SBATCH --nodelist=piw[25-28]</h1>\n<p>node1=piw25<br>\nnode2=piw26<br>\nnode3=piw27<br>\nnode4=piw28</p>\n<h1>On node1:</h1>\n<p>srun -N 1 -n 1 python mnist_yetanother.py <br>\n--ps_hosts=$node1:2223 <br>\n--worker_hosts=$node2:2223,$node3:2223,$node4:2223 <br>\n--job_name=ps --task_index=0 &amp;</p>\n<h1>On node2:</h1>\n<p>srun -N 1 -n 1 python mnist_yetanother.py <br>\n--ps_hosts=$node1:2223 <br>\n--worker_hosts=$node2:2223,$node3:2223,$node4:2223 <br>\n--job_name=worker --task_index=0 &amp;</p>\n<h1>On node3:</h1>\n<p>srun -N 1 -n 1 python mnist_yetanother.py <br>\n--ps_hosts=$node1:2223 <br>\n--worker_hosts=$node2:2223,$node3:2223,$node4:2223 <br>\n--job_name=worker --task_index=1 &amp;</p>\n<h1>On node4:</h1>\n<p>srun -N 1 -n 1 python mnist_yetanother.py <br>\n--ps_hosts=$node1:2223 <br>\n--worker_hosts=$node2:2223,$node3:2223,$node4:2223 <br>\n--job_name=worker --task_index=2<br>\nwait</p>\n<p>And this is the error message:</p>\n<p>I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -&gt; {piw25:2223}<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -&gt; {piw26:2223, piw27:2223, localhost:2223}<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -&gt; {localhost:2223}<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -&gt; {piw26:2223, piw27:2223, piw28:2223}<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -&gt; {piw25:2223}<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -&gt; {piw25:2223}<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -&gt; {localhost:2223, piw27:2223, piw28:2223}<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -&gt; {piw26:2223, localhost:2223, piw28:2223}<br>\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223<br>\nExtracting data/train-images-idx3-ubyte.gz<br>\nExtracting data/train-labels-idx1-ubyte.gz<br>\nExtracting data/t10k-images-idx3-ubyte.gz<br>\nExtracting data/t10k-labels-idx1-ubyte.gz<br>\nInitialized!<br>\nTraceback (most recent call last):<br>\nFile \"mnist_yetanother.py\", line 351, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv))<br>\nFile \"mnist_yetanother.py\", line 310, in main<br>\nwith sv.prepare_or_wait_for_session(server.target, config=None) as sess:<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/supervisor.py\", line 684, in prepare_or_wait_for_session<br>\ninit_feed_dict=self._init_feed_dict, init_fn=self._init_fn)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/session_manager.py\", line 176, in prepare_session<br>\nsess.run(init_op, feed_dict=init_feed_dict)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 372, in run<br>\nrun_metadata_ptr)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 636, in _run<br>\nfeed_dict_string, options, run_metadata)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 708, in _do_run<br>\ntarget_list, options, run_metadata)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 728, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors.InvalidArgumentError: /job:worker/replica:0/task:0/cpu:0 unknown device.<br>\n[[Node: truncated_normal_2_S5 = _Recv<a href=\"\">client_terminated=false, recv_device=\"/job:ps/replica:0/task:0/cpu:0\", send_device=\"/job:worker/replica:0/task:0/cpu:0\", send_device_incarnation=-8305312558883263444, tensor_name=\"edge_62_truncated_normal_2\", tensor_type=DT_FLOAT, _device=\"/job:ps/replica:0/task:0/cpu:0\"</a>]]<br>\nsrun: error: piw28: task 0: Exited with exit code 1<br>\nE0726 15:08:58.966743325   10814 tcp_client_posix.c:173]     failed to connect to 'ipv4:192.168.50.38:2223': socket error: connection refused<br>\nE tensorflow/core/distributed_runtime/master.cc:202] Master init: Unavailable:<br>\nE0726 15:09:04.384147901   10819 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred<br>\nE0726 15:09:09.463843371   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred<br>\nE0726 15:09:18.410973793   10820 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred<br>\nE0726 15:09:29.903416857   10814 tcp_client_posix.c:173]     failed to connect to 'ipv4:192.168.50.38:2223': socket error: connection refused<br>\nE tensorflow/core/distributed_runtime/master.cc:202] Master init: Unavailable:<br>\nE0726 15:10:00.977546704   10814 tcp_client_posix.c:173]     failed to connect to 'ipv4:192.168.50.38:2223': socket error: connection refused<br>\nE0726 15:10:47.956032631   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred<br>\nE0726 15:11:48.090654174   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred<br>\nE0726 15:13:21.260355773   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred<br>\nE0726 15:15:21.261626939   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred<br>\nE0726 15:17:21.263101653   10819 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred<br>\nE0726 15:19:21.264292261   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred<br>\nE0726 15:21:21.265185108   10820 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred<br>\nE0726 15:23:21.265939820   10801 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred</p>\n<p>I killed the program after a while. I'm not sure why I would get \"[Node: truncated_normal_2_S5 = _Recv<a href=\"\">client_terminated=false, recv_device=\"/job:ps/replica:0/task:0/cpu:0\", send_device=\"/job:worker/replica:0/task:0/cpu:0\", send_device_incarnation=-8305312558883263444, tensor_name=\"edge_62_truncated_normal_2\", tensor_type=DT_FLOAT, _device=\"/job:ps/replica:0/task:0/cpu:0\"</a>]\" such error message. Searching online does not help too much...</p>\n<p>Any help or advice will be greatly appreciated!</p>", "body_text": "Hi I am new to tensorflow and distributed tensorflow. I was trying to run an example from #2726\nRight now I am using tensorflow 0.9 on a cluster of Raspberry Pi3, using slurm to manage the nodes in the cluster, the script is below:\n!/bin/bash\nSBATCH -N 4\nSBATCH --nodelist=piw[25-28]\nnode1=piw25\nnode2=piw26\nnode3=piw27\nnode4=piw28\nOn node1:\nsrun -N 1 -n 1 python mnist_yetanother.py \n--ps_hosts=$node1:2223 \n--worker_hosts=$node2:2223,$node3:2223,$node4:2223 \n--job_name=ps --task_index=0 &\nOn node2:\nsrun -N 1 -n 1 python mnist_yetanother.py \n--ps_hosts=$node1:2223 \n--worker_hosts=$node2:2223,$node3:2223,$node4:2223 \n--job_name=worker --task_index=0 &\nOn node3:\nsrun -N 1 -n 1 python mnist_yetanother.py \n--ps_hosts=$node1:2223 \n--worker_hosts=$node2:2223,$node3:2223,$node4:2223 \n--job_name=worker --task_index=1 &\nOn node4:\nsrun -N 1 -n 1 python mnist_yetanother.py \n--ps_hosts=$node1:2223 \n--worker_hosts=$node2:2223,$node3:2223,$node4:2223 \n--job_name=worker --task_index=2\nwait\nAnd this is the error message:\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {piw25:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {piw26:2223, piw27:2223, localhost:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {localhost:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {piw26:2223, piw27:2223, piw28:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {piw25:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {piw25:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {localhost:2223, piw27:2223, piw28:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {piw26:2223, localhost:2223, piw28:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223\nExtracting data/train-images-idx3-ubyte.gz\nExtracting data/train-labels-idx1-ubyte.gz\nExtracting data/t10k-images-idx3-ubyte.gz\nExtracting data/t10k-labels-idx1-ubyte.gz\nInitialized!\nTraceback (most recent call last):\nFile \"mnist_yetanother.py\", line 351, in \ntf.app.run()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv))\nFile \"mnist_yetanother.py\", line 310, in main\nwith sv.prepare_or_wait_for_session(server.target, config=None) as sess:\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/supervisor.py\", line 684, in prepare_or_wait_for_session\ninit_feed_dict=self._init_feed_dict, init_fn=self._init_fn)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/session_manager.py\", line 176, in prepare_session\nsess.run(init_op, feed_dict=init_feed_dict)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 372, in run\nrun_metadata_ptr)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 636, in _run\nfeed_dict_string, options, run_metadata)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 708, in _do_run\ntarget_list, options, run_metadata)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 728, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InvalidArgumentError: /job:worker/replica:0/task:0/cpu:0 unknown device.\n[[Node: truncated_normal_2_S5 = _Recvclient_terminated=false, recv_device=\"/job:ps/replica:0/task:0/cpu:0\", send_device=\"/job:worker/replica:0/task:0/cpu:0\", send_device_incarnation=-8305312558883263444, tensor_name=\"edge_62_truncated_normal_2\", tensor_type=DT_FLOAT, _device=\"/job:ps/replica:0/task:0/cpu:0\"]]\nsrun: error: piw28: task 0: Exited with exit code 1\nE0726 15:08:58.966743325   10814 tcp_client_posix.c:173]     failed to connect to 'ipv4:192.168.50.38:2223': socket error: connection refused\nE tensorflow/core/distributed_runtime/master.cc:202] Master init: Unavailable:\nE0726 15:09:04.384147901   10819 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:09:09.463843371   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:09:18.410973793   10820 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:09:29.903416857   10814 tcp_client_posix.c:173]     failed to connect to 'ipv4:192.168.50.38:2223': socket error: connection refused\nE tensorflow/core/distributed_runtime/master.cc:202] Master init: Unavailable:\nE0726 15:10:00.977546704   10814 tcp_client_posix.c:173]     failed to connect to 'ipv4:192.168.50.38:2223': socket error: connection refused\nE0726 15:10:47.956032631   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:11:48.090654174   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:13:21.260355773   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:15:21.261626939   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:17:21.263101653   10819 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:19:21.264292261   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:21:21.265185108   10820 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:23:21.265939820   10801 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nI killed the program after a while. I'm not sure why I would get \"[Node: truncated_normal_2_S5 = _Recvclient_terminated=false, recv_device=\"/job:ps/replica:0/task:0/cpu:0\", send_device=\"/job:worker/replica:0/task:0/cpu:0\", send_device_incarnation=-8305312558883263444, tensor_name=\"edge_62_truncated_normal_2\", tensor_type=DT_FLOAT, _device=\"/job:ps/replica:0/task:0/cpu:0\"]\" such error message. Searching online does not help too much...\nAny help or advice will be greatly appreciated!", "body": "Hi I am new to tensorflow and distributed tensorflow. I was trying to run an example from #2726 \n\nRight now I am using tensorflow 0.9 on a cluster of Raspberry Pi3, using slurm to manage the nodes in the cluster, the script is below:\n# !/bin/bash\n# SBATCH -N 4\n# SBATCH --nodelist=piw[25-28]\n\nnode1=piw25\nnode2=piw26\nnode3=piw27\nnode4=piw28\n# On node1:\n\nsrun -N 1 -n 1 python mnist_yetanother.py \\\n     --ps_hosts=$node1:2223 \\\n     --worker_hosts=$node2:2223,$node3:2223,$node4:2223 \\\n     --job_name=ps --task_index=0 &\n# On node2:\n\nsrun -N 1 -n 1 python mnist_yetanother.py \\\n     --ps_hosts=$node1:2223 \\\n     --worker_hosts=$node2:2223,$node3:2223,$node4:2223 \\\n     --job_name=worker --task_index=0 &\n# On node3:\n\nsrun -N 1 -n 1 python mnist_yetanother.py \\\n     --ps_hosts=$node1:2223 \\\n     --worker_hosts=$node2:2223,$node3:2223,$node4:2223 \\\n     --job_name=worker --task_index=1 &\n# On node4:\n\nsrun -N 1 -n 1 python mnist_yetanother.py \\\n     --ps_hosts=$node1:2223 \\\n     --worker_hosts=$node2:2223,$node3:2223,$node4:2223 \\\n     --job_name=worker --task_index=2\nwait\n\nAnd this is the error message:\n\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {piw25:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {piw26:2223, piw27:2223, localhost:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {localhost:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {piw26:2223, piw27:2223, piw28:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {piw25:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {piw25:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {localhost:2223, piw27:2223, piw28:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223\nI tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {piw26:2223, localhost:2223, piw28:2223}\nI tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2223\nExtracting data/train-images-idx3-ubyte.gz\nExtracting data/train-labels-idx1-ubyte.gz\nExtracting data/t10k-images-idx3-ubyte.gz\nExtracting data/t10k-labels-idx1-ubyte.gz\nInitialized!\nTraceback (most recent call last):\n  File \"mnist_yetanother.py\", line 351, in <module>\n    tf.app.run()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"mnist_yetanother.py\", line 310, in main\n    with sv.prepare_or_wait_for_session(server.target, config=None) as sess:\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/supervisor.py\", line 684, in prepare_or_wait_for_session\n    init_feed_dict=self._init_feed_dict, init_fn=self._init_fn)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/session_manager.py\", line 176, in prepare_session\n    sess.run(init_op, feed_dict=init_feed_dict)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 372, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 636, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 708, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 728, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InvalidArgumentError: /job:worker/replica:0/task:0/cpu:0 unknown device.\n     [[Node: truncated_normal_2_S5 = _Recv[client_terminated=false, recv_device=\"/job:ps/replica:0/task:0/cpu:0\", send_device=\"/job:worker/replica:0/task:0/cpu:0\", send_device_incarnation=-8305312558883263444, tensor_name=\"edge_62_truncated_normal_2\", tensor_type=DT_FLOAT, _device=\"/job:ps/replica:0/task:0/cpu:0\"]()]]\nsrun: error: piw28: task 0: Exited with exit code 1\nE0726 15:08:58.966743325   10814 tcp_client_posix.c:173]     failed to connect to 'ipv4:192.168.50.38:2223': socket error: connection refused\nE tensorflow/core/distributed_runtime/master.cc:202] Master init: Unavailable: \nE0726 15:09:04.384147901   10819 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:09:09.463843371   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:09:18.410973793   10820 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:09:29.903416857   10814 tcp_client_posix.c:173]     failed to connect to 'ipv4:192.168.50.38:2223': socket error: connection refused\nE tensorflow/core/distributed_runtime/master.cc:202] Master init: Unavailable: \nE0726 15:10:00.977546704   10814 tcp_client_posix.c:173]     failed to connect to 'ipv4:192.168.50.38:2223': socket error: connection refused\nE0726 15:10:47.956032631   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:11:48.090654174   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:13:21.260355773   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:15:21.261626939   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:17:21.263101653   10819 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:19:21.264292261   10814 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:21:21.265185108   10820 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\nE0726 15:23:21.265939820   10801 tcp_client_posix.c:191]     failed to connect to 'ipv4:192.168.50.38:2223': timeout occurred\n\nI killed the program after a while. I'm not sure why I would get \"[Node: truncated_normal_2_S5 = _Recv[client_terminated=false, recv_device=\"/job:ps/replica:0/task:0/cpu:0\", send_device=\"/job:worker/replica:0/task:0/cpu:0\", send_device_incarnation=-8305312558883263444, tensor_name=\"edge_62_truncated_normal_2\", tensor_type=DT_FLOAT, _device=\"/job:ps/replica:0/task:0/cpu:0\"]()]\" such error message. Searching online does not help too much...\n\nAny help or advice will be greatly appreciated!\n"}