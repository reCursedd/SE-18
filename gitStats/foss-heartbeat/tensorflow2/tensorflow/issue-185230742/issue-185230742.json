{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5205", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5205/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5205/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5205/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5205", "id": 185230742, "node_id": "MDU6SXNzdWUxODUyMzA3NDI=", "number": 5205, "title": "tensorflow runs much slower/ installation issue?", "user": {"login": "amrit-poudel", "id": 12847183, "node_id": "MDQ6VXNlcjEyODQ3MTgz", "avatar_url": "https://avatars2.githubusercontent.com/u/12847183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amrit-poudel", "html_url": "https://github.com/amrit-poudel", "followers_url": "https://api.github.com/users/amrit-poudel/followers", "following_url": "https://api.github.com/users/amrit-poudel/following{/other_user}", "gists_url": "https://api.github.com/users/amrit-poudel/gists{/gist_id}", "starred_url": "https://api.github.com/users/amrit-poudel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amrit-poudel/subscriptions", "organizations_url": "https://api.github.com/users/amrit-poudel/orgs", "repos_url": "https://api.github.com/users/amrit-poudel/repos", "events_url": "https://api.github.com/users/amrit-poudel/events{/privacy}", "received_events_url": "https://api.github.com/users/amrit-poudel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-10-25T20:52:21Z", "updated_at": "2016-10-25T22:41:09Z", "closed_at": "2016-10-25T22:39:58Z", "author_association": "NONE", "body_html": "<p>I installed tensorflow version 0.11.0rc0 using the .whl provided and the following code runs terribly slower (on macosx cpu) compared to its numpy counterpart.</p>\n<p>Is  tf version  0.11.0rc0 a stable release?  Is tensorflow expected to run extremely slow inside a python for loop?</p>\n<pre><code>from math import *\nimport numpy as np\nimport sys\nfrom multiprocessing import Pool\nimport tensorflow as tf\n\ndef Trajectory_Fun(tspan, a, b, session=None, server=None):\n    if session==None:\n        if server==None:\n            sess = tf.Session()\n        else:\n            sess = tf.Session(server.target)       \n    else:\n        sess = session\n    B = np.zeros(np.size(tspan), dtype=np.float64)\n    B[0] = b\n    for i, t in enumerate(tspan):\n        r = np.random.rand(1)\n        if r&gt;a:\n            c = sess.run(tf.trace(tf.random_normal((4, 4), r, 1.0)))\n        else:\n            c = 0.0 # sess.run(tf.trace(tf.random_normal((4, 4), 0.0, 1.0)))\n        B[i] = c\n    if session==None:\n        sess.close()\n    return B\n\n\ndef main(argv):\n   tspan = np.arange(0.0, 1000.0)\n   a = 0.1\n   b = 0.0\n   B = Trajectory_Fun(tspan, a, b, None, None)\n   print 'Done!'\n\n\nif __name__ == \"main\":\n    main(sys.argv[1:]) `\n</code></pre>", "body_text": "I installed tensorflow version 0.11.0rc0 using the .whl provided and the following code runs terribly slower (on macosx cpu) compared to its numpy counterpart.\nIs  tf version  0.11.0rc0 a stable release?  Is tensorflow expected to run extremely slow inside a python for loop?\nfrom math import *\nimport numpy as np\nimport sys\nfrom multiprocessing import Pool\nimport tensorflow as tf\n\ndef Trajectory_Fun(tspan, a, b, session=None, server=None):\n    if session==None:\n        if server==None:\n            sess = tf.Session()\n        else:\n            sess = tf.Session(server.target)       \n    else:\n        sess = session\n    B = np.zeros(np.size(tspan), dtype=np.float64)\n    B[0] = b\n    for i, t in enumerate(tspan):\n        r = np.random.rand(1)\n        if r>a:\n            c = sess.run(tf.trace(tf.random_normal((4, 4), r, 1.0)))\n        else:\n            c = 0.0 # sess.run(tf.trace(tf.random_normal((4, 4), 0.0, 1.0)))\n        B[i] = c\n    if session==None:\n        sess.close()\n    return B\n\n\ndef main(argv):\n   tspan = np.arange(0.0, 1000.0)\n   a = 0.1\n   b = 0.0\n   B = Trajectory_Fun(tspan, a, b, None, None)\n   print 'Done!'\n\n\nif __name__ == \"main\":\n    main(sys.argv[1:]) `", "body": "I installed tensorflow version 0.11.0rc0 using the .whl provided and the following code runs terribly slower (on macosx cpu) compared to its numpy counterpart.\n\nIs  tf version  0.11.0rc0 a stable release?  Is tensorflow expected to run extremely slow inside a python for loop?\n\n```\nfrom math import *\nimport numpy as np\nimport sys\nfrom multiprocessing import Pool\nimport tensorflow as tf\n\ndef Trajectory_Fun(tspan, a, b, session=None, server=None):\n    if session==None:\n        if server==None:\n            sess = tf.Session()\n        else:\n            sess = tf.Session(server.target)       \n    else:\n        sess = session\n    B = np.zeros(np.size(tspan), dtype=np.float64)\n    B[0] = b\n    for i, t in enumerate(tspan):\n        r = np.random.rand(1)\n        if r>a:\n            c = sess.run(tf.trace(tf.random_normal((4, 4), r, 1.0)))\n        else:\n            c = 0.0 # sess.run(tf.trace(tf.random_normal((4, 4), 0.0, 1.0)))\n        B[i] = c\n    if session==None:\n        sess.close()\n    return B\n\n\ndef main(argv):\n   tspan = np.arange(0.0, 1000.0)\n   a = 0.1\n   b = 0.0\n   B = Trajectory_Fun(tspan, a, b, None, None)\n   print 'Done!'\n\n\nif __name__ == \"main\":\n    main(sys.argv[1:]) `\n```\n"}