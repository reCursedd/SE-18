{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/228640900", "html_url": "https://github.com/tensorflow/tensorflow/issues/2444#issuecomment-228640900", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2444", "id": 228640900, "node_id": "MDEyOklzc3VlQ29tbWVudDIyODY0MDkwMA==", "user": {"login": "Mazecreator", "id": 18412448, "node_id": "MDQ6VXNlcjE4NDEyNDQ4", "avatar_url": "https://avatars2.githubusercontent.com/u/18412448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mazecreator", "html_url": "https://github.com/Mazecreator", "followers_url": "https://api.github.com/users/Mazecreator/followers", "following_url": "https://api.github.com/users/Mazecreator/following{/other_user}", "gists_url": "https://api.github.com/users/Mazecreator/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mazecreator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mazecreator/subscriptions", "organizations_url": "https://api.github.com/users/Mazecreator/orgs", "repos_url": "https://api.github.com/users/Mazecreator/repos", "events_url": "https://api.github.com/users/Mazecreator/events{/privacy}", "received_events_url": "https://api.github.com/users/Mazecreator/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-27T02:18:57Z", "updated_at": "2016-06-27T02:19:52Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Just experienced another odd event.  Here are the steps I took</p>\n<ol>\n<li>Fresh install of \"R0.9\" from github</li>\n<li>Configured without GPU (GPU card is install in system)</li>\n<li>Built TF</li>\n<li>Ran test experiment with data set ~117 seconds/iteration  (203000 observations of 95 data points in 200/batch)<br>\nNOTE: Experiment is compiled with GPU option and loads library when TF supports GPU</li>\n<li>Reconfigured with GPU Compute 5.2 (Bazel clean)</li>\n<li>Ran test experiment same as in # 4 above , time doubled with GPU support enabled</li>\n<li>Reconfigured with GPU Compute 3.5,5.2 -&gt; Same results as # 6</li>\n<li>Reconfigured with CPU only again (Bazel clean)</li>\n<li>Ran experiment, I didn't get my ~117 second/iteration, I got over 350 seconds/iteration, this was a major surprise</li>\n<li>Delete TF directory, re CLONED TF from Github, compiled with CPU only, ran experiment back to 117 second without GPU support</li>\n</ol>\n<p>I am not sure exactly what this experiment is indicating, but seems like when the GPU option is added, something is included in the final compiled objects that slows the matrix calculations.  I assume when I went back to the CPU only without a fresh install, some of the old GPU code was not erased but found when the experiment ran.  It didn't load the GPU libraries so it was using a different bit of code than when I first install TF without GPU support.  Hope this helps, let me know if you need more information.</p>", "body_text": "Just experienced another odd event.  Here are the steps I took\n\nFresh install of \"R0.9\" from github\nConfigured without GPU (GPU card is install in system)\nBuilt TF\nRan test experiment with data set ~117 seconds/iteration  (203000 observations of 95 data points in 200/batch)\nNOTE: Experiment is compiled with GPU option and loads library when TF supports GPU\nReconfigured with GPU Compute 5.2 (Bazel clean)\nRan test experiment same as in # 4 above , time doubled with GPU support enabled\nReconfigured with GPU Compute 3.5,5.2 -> Same results as # 6\nReconfigured with CPU only again (Bazel clean)\nRan experiment, I didn't get my ~117 second/iteration, I got over 350 seconds/iteration, this was a major surprise\nDelete TF directory, re CLONED TF from Github, compiled with CPU only, ran experiment back to 117 second without GPU support\n\nI am not sure exactly what this experiment is indicating, but seems like when the GPU option is added, something is included in the final compiled objects that slows the matrix calculations.  I assume when I went back to the CPU only without a fresh install, some of the old GPU code was not erased but found when the experiment ran.  It didn't load the GPU libraries so it was using a different bit of code than when I first install TF without GPU support.  Hope this helps, let me know if you need more information.", "body": "Just experienced another odd event.  Here are the steps I took\n\n1) Fresh install of \"R0.9\" from github\n2) Configured without GPU (GPU card is install in system)\n3) Built TF\n4) Ran test experiment with data set ~117 seconds/iteration  (203000 observations of 95 data points in 200/batch) \nNOTE: Experiment is compiled with GPU option and loads library when TF supports GPU\n5) Reconfigured with GPU Compute 5.2 (Bazel clean)\n6) Ran test experiment same as in # 4 above , time doubled with GPU support enabled\n7) Reconfigured with GPU Compute 3.5,5.2 -> Same results as # 6\n8) Reconfigured with CPU only again (Bazel clean)\n9) Ran experiment, I didn't get my ~117 second/iteration, I got over 350 seconds/iteration, this was a major surprise\n10) Delete TF directory, re CLONED TF from Github, compiled with CPU only, ran experiment back to 117 second without GPU support\n\nI am not sure exactly what this experiment is indicating, but seems like when the GPU option is added, something is included in the final compiled objects that slows the matrix calculations.  I assume when I went back to the CPU only without a fresh install, some of the old GPU code was not erased but found when the experiment ran.  It didn't load the GPU libraries so it was using a different bit of code than when I first install TF without GPU support.  Hope this helps, let me know if you need more information.\n"}