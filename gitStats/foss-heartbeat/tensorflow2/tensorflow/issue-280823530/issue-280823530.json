{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15252", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15252/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15252/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15252/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15252", "id": 280823530, "node_id": "MDU6SXNzdWUyODA4MjM1MzA=", "number": 15252, "title": "vm compiled tensorflow - libmklml_intel.so ImportError", "user": {"login": "ic0n", "id": 12840356, "node_id": "MDQ6VXNlcjEyODQwMzU2", "avatar_url": "https://avatars0.githubusercontent.com/u/12840356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ic0n", "html_url": "https://github.com/ic0n", "followers_url": "https://api.github.com/users/ic0n/followers", "following_url": "https://api.github.com/users/ic0n/following{/other_user}", "gists_url": "https://api.github.com/users/ic0n/gists{/gist_id}", "starred_url": "https://api.github.com/users/ic0n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ic0n/subscriptions", "organizations_url": "https://api.github.com/users/ic0n/orgs", "repos_url": "https://api.github.com/users/ic0n/repos", "events_url": "https://api.github.com/users/ic0n/events{/privacy}", "received_events_url": "https://api.github.com/users/ic0n/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-10T16:43:46Z", "updated_at": "2017-12-26T12:10:34Z", "closed_at": "2017-12-26T12:10:34Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li>\n<p><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nNo</p>\n</li>\n<li>\n<p><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nLinux Ubuntu 16.04 VM</p>\n</li>\n<li>\n<p><strong>TensorFlow installed from (source or binary)</strong>:<br>\nSource</p>\n</li>\n<li>\n<p><strong>TensorFlow version (use command below)</strong>:<br>\nBranch <code>r1.4</code> and branch <code>master</code></p>\n</li>\n<li>\n<p><strong>Python version</strong>:<br>\n3.6.3</p>\n</li>\n<li>\n<p><strong>Bazel version (if compiling from source)</strong>:<br>\nBuild label: 0.8.1 (Install using apt repository)</p>\n</li>\n<li>\n<p><strong>GCC/Compiler version (if compiling from source)</strong>:<br>\ngcc-6 (Ubuntu 6.4.0-10ubuntu1~16.04.york0) 6.4.0 20171112</p>\n</li>\n<li>\n<p><strong>Exact command to reproduce</strong>:<br>\npython -c \"import tensorflow as tf;\"</p>\n</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>After compiling Tensorflow from source with tutorial: <code>https://www.tensorflow.org/install/install_sources</code> and install the compiled pip package, I import tensorflow on python console and get those errors:</p>\n<pre><code>python -c \"import tensorflow as tf;\"\nTraceback (most recent call last):\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 58, in &lt;module&gt;\n    from tensorflow.python.pywrap_tensorflow_internal import *\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in &lt;module&gt;\n    _pywrap_tensorflow_internal = swig_import_helper()\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 243, in load_module\n    return load_dynamic(name, filename, file)\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 343, in load_dynamic\n    return _load(spec)\nImportError: libmklml_intel.so: cannot open shared object file: No such file or directory\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/__init__.py\", line 24, in &lt;module&gt;\n    from tensorflow.python import *\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/__init__.py\", line 49, in &lt;module&gt;\n    from tensorflow.python import pywrap_tensorflow\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 73, in &lt;module&gt;\n    raise ImportError(msg)\nImportError: Traceback (most recent call last):\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 58, in &lt;module&gt;\n    from tensorflow.python.pywrap_tensorflow_internal import *\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in &lt;module&gt;\n    _pywrap_tensorflow_internal = swig_import_helper()\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 243, in load_module\n    return load_dynamic(name, filename, file)\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 343, in load_dynamic\n    return _load(spec)\nImportError: libmklml_intel.so: cannot open shared object file: No such file or directory\n\n\nFailed to load the native TensorFlow runtime.\n\nSee https://www.tensorflow.org/install/install_sources#common_installation_problems\n\nfor some common reasons and solutions.  Include the entire stack trace\nabove this error message when asking for help.\n</code></pre>\n<p>My machine is a headless KVM virtual machine running on a ubuntu 17.10, btw.</p>\n<p>I figure out where the problem is somehow, which is the pip packaging script don't include those mkl so files, and in my case, replace <code>_solib_k8</code> in script <code>tensorflow/tools/pip_package/setup.py</code> at line 185 with <code>_solib_local</code> solves the issue.</p>", "body_text": "System information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nNo\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nLinux Ubuntu 16.04 VM\n\n\nTensorFlow installed from (source or binary):\nSource\n\n\nTensorFlow version (use command below):\nBranch r1.4 and branch master\n\n\nPython version:\n3.6.3\n\n\nBazel version (if compiling from source):\nBuild label: 0.8.1 (Install using apt repository)\n\n\nGCC/Compiler version (if compiling from source):\ngcc-6 (Ubuntu 6.4.0-10ubuntu1~16.04.york0) 6.4.0 20171112\n\n\nExact command to reproduce:\npython -c \"import tensorflow as tf;\"\n\n\nDescribe the problem\nAfter compiling Tensorflow from source with tutorial: https://www.tensorflow.org/install/install_sources and install the compiled pip package, I import tensorflow on python console and get those errors:\npython -c \"import tensorflow as tf;\"\nTraceback (most recent call last):\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 58, in <module>\n    from tensorflow.python.pywrap_tensorflow_internal import *\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\n    _pywrap_tensorflow_internal = swig_import_helper()\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 243, in load_module\n    return load_dynamic(name, filename, file)\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 343, in load_dynamic\n    return _load(spec)\nImportError: libmklml_intel.so: cannot open shared object file: No such file or directory\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/__init__.py\", line 24, in <module>\n    from tensorflow.python import *\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/__init__.py\", line 49, in <module>\n    from tensorflow.python import pywrap_tensorflow\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 73, in <module>\n    raise ImportError(msg)\nImportError: Traceback (most recent call last):\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 58, in <module>\n    from tensorflow.python.pywrap_tensorflow_internal import *\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\n    _pywrap_tensorflow_internal = swig_import_helper()\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 243, in load_module\n    return load_dynamic(name, filename, file)\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 343, in load_dynamic\n    return _load(spec)\nImportError: libmklml_intel.so: cannot open shared object file: No such file or directory\n\n\nFailed to load the native TensorFlow runtime.\n\nSee https://www.tensorflow.org/install/install_sources#common_installation_problems\n\nfor some common reasons and solutions.  Include the entire stack trace\nabove this error message when asking for help.\n\nMy machine is a headless KVM virtual machine running on a ubuntu 17.10, btw.\nI figure out where the problem is somehow, which is the pip packaging script don't include those mkl so files, and in my case, replace _solib_k8 in script tensorflow/tools/pip_package/setup.py at line 185 with _solib_local solves the issue.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nNo\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nLinux Ubuntu 16.04 VM\r\n- **TensorFlow installed from (source or binary)**:\r\nSource\r\n- **TensorFlow version (use command below)**:\r\nBranch `r1.4` and branch `master`\r\n- **Python version**: \r\n3.6.3\r\n- **Bazel version (if compiling from source)**:\r\nBuild label: 0.8.1 (Install using apt repository)\r\n- **GCC/Compiler version (if compiling from source)**:\r\ngcc-6 (Ubuntu 6.4.0-10ubuntu1~16.04.york0) 6.4.0 20171112\r\n\r\n- **Exact command to reproduce**:\r\npython -c \"import tensorflow as tf;\"\r\n\r\n### Describe the problem\r\nAfter compiling Tensorflow from source with tutorial: `https://www.tensorflow.org/install/install_sources` and install the compiled pip package, I import tensorflow on python console and get those errors:\r\n\r\n~~~\r\npython -c \"import tensorflow as tf;\"\r\nTraceback (most recent call last):\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 243, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 343, in load_dynamic\r\n    return _load(spec)\r\nImportError: libmklml_intel.so: cannot open shared object file: No such file or directory\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import *\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 73, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 243, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"/home/potatoman/anaconda3/lib/python3.6/imp.py\", line 343, in load_dynamic\r\n    return _load(spec)\r\nImportError: libmklml_intel.so: cannot open shared object file: No such file or directory\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n\r\nSee https://www.tensorflow.org/install/install_sources#common_installation_problems\r\n\r\nfor some common reasons and solutions.  Include the entire stack trace\r\nabove this error message when asking for help.\r\n~~~\r\n\r\nMy machine is a headless KVM virtual machine running on a ubuntu 17.10, btw.\r\n\r\nI figure out where the problem is somehow, which is the pip packaging script don't include those mkl so files, and in my case, replace `_solib_k8` in script `tensorflow/tools/pip_package/setup.py` at line 185 with `_solib_local` solves the issue.\r\n\r\n"}