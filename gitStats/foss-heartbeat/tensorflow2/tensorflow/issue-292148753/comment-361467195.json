{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/361467195", "html_url": "https://github.com/tensorflow/tensorflow/issues/16504#issuecomment-361467195", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16504", "id": 361467195, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTQ2NzE5NQ==", "user": {"login": "fjanoos", "id": 923438, "node_id": "MDQ6VXNlcjkyMzQzOA==", "avatar_url": "https://avatars0.githubusercontent.com/u/923438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fjanoos", "html_url": "https://github.com/fjanoos", "followers_url": "https://api.github.com/users/fjanoos/followers", "following_url": "https://api.github.com/users/fjanoos/following{/other_user}", "gists_url": "https://api.github.com/users/fjanoos/gists{/gist_id}", "starred_url": "https://api.github.com/users/fjanoos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fjanoos/subscriptions", "organizations_url": "https://api.github.com/users/fjanoos/orgs", "repos_url": "https://api.github.com/users/fjanoos/repos", "events_url": "https://api.github.com/users/fjanoos/events{/privacy}", "received_events_url": "https://api.github.com/users/fjanoos/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-30T03:39:14Z", "updated_at": "2018-01-30T03:39:14Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20959853\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drpngx\">@drpngx</a>  what is a PR ?</p>\n<p>regarding the logical conditions:</p>\n<p>If the _continue_cond is a conjoined condition , the gradient of output[round_t]/ becomes [None], where as if the condition is  a simple expression grad output[round_t]/ is correctly evaluated.</p>\n<p>For example - in the above example if</p>\n<pre><code>def _continue_cond( k, w, chg_w, *args ):\n    return  k &lt; max_its\n</code></pre>\n<p>then tensorflow can correctly evaluate <code>tf.gradients( w, c)</code></p>\n<p>But if I make it:</p>\n<pre><code>def _continue_cond( k, w, chg_w, *args ):\n    return tf.logical_and( k &lt; max_its-1, chg_w &gt; tol  )\n    # OR     tf.cast( max_its-k, DTYPE) *(chg_w - tol)\n</code></pre>\n<p>then <code>tf.gradients( w, c) = [None]</code></p>", "body_text": "@drpngx  what is a PR ?\nregarding the logical conditions:\nIf the _continue_cond is a conjoined condition , the gradient of output[round_t]/ becomes [None], where as if the condition is  a simple expression grad output[round_t]/ is correctly evaluated.\nFor example - in the above example if\ndef _continue_cond( k, w, chg_w, *args ):\n    return  k < max_its\n\nthen tensorflow can correctly evaluate tf.gradients( w, c)\nBut if I make it:\ndef _continue_cond( k, w, chg_w, *args ):\n    return tf.logical_and( k < max_its-1, chg_w > tol  )\n    # OR     tf.cast( max_its-k, DTYPE) *(chg_w - tol)\n\nthen tf.gradients( w, c) = [None]", "body": "@drpngx  what is a PR ? \r\n\r\nregarding the logical conditions:\r\n\r\nIf the _continue_cond is a conjoined condition , the gradient of output[round_t]/<something> becomes [None], where as if the condition is  a simple expression grad output[round_t]/<something> is correctly evaluated.\r\n\r\nFor example - in the above example if\r\n```\r\ndef _continue_cond( k, w, chg_w, *args ):\r\n    return  k < max_its\r\n```\r\nthen tensorflow can correctly evaluate `tf.gradients( w, c)`\r\n\r\nBut if I make it:\r\n```\r\ndef _continue_cond( k, w, chg_w, *args ):\r\n    return tf.logical_and( k < max_its-1, chg_w > tol  )\r\n    # OR     tf.cast( max_its-k, DTYPE) *(chg_w - tol)\r\n```\r\n\r\nthen `tf.gradients( w, c) = [None]`\r\n\r\n"}