{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/293898077", "html_url": "https://github.com/tensorflow/tensorflow/issues/9186#issuecomment-293898077", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9186", "id": 293898077, "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzg5ODA3Nw==", "user": {"login": "krisjobs", "id": 10547611, "node_id": "MDQ6VXNlcjEwNTQ3NjEx", "avatar_url": "https://avatars1.githubusercontent.com/u/10547611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krisjobs", "html_url": "https://github.com/krisjobs", "followers_url": "https://api.github.com/users/krisjobs/followers", "following_url": "https://api.github.com/users/krisjobs/following{/other_user}", "gists_url": "https://api.github.com/users/krisjobs/gists{/gist_id}", "starred_url": "https://api.github.com/users/krisjobs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krisjobs/subscriptions", "organizations_url": "https://api.github.com/users/krisjobs/orgs", "repos_url": "https://api.github.com/users/krisjobs/repos", "events_url": "https://api.github.com/users/krisjobs/events{/privacy}", "received_events_url": "https://api.github.com/users/krisjobs/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-13T13:39:34Z", "updated_at": "2017-04-13T15:02:51Z", "author_association": "NONE", "body_html": "<p>Can it be so that within a while loop one and the same parsed record gets used and this does not trigger queues?</p>\n<p>EDIT: consider this simple example:</p>\n<pre><code>l = [1,2,324,3,12,1,2,3]\nq = tf.train.input_producer(l, shuffle=False)\nx = q.dequeue()\n\nt = tf.TensorArray(dtype=tf.int32, size=5, dynamic_size=True, clear_after_read=True)\n\n_, t = tf.while_loop(cond=lambda i, a: tf.less(i, 5, name='less_op'),\nbody=lambda i, a: [i+1, a.write(i, [x])],\nloop_vars=[0, t])\n</code></pre>\n<p>it outputs [1 1 1 1 1], since the dequeue() is called only once. Please tell me how to trigger the dequeue operation on each iteration <em>before deleting this github thread</em>.</p>\n<p>Thank you!</p>\n<p>Cheers, Kris</p>", "body_text": "Can it be so that within a while loop one and the same parsed record gets used and this does not trigger queues?\nEDIT: consider this simple example:\nl = [1,2,324,3,12,1,2,3]\nq = tf.train.input_producer(l, shuffle=False)\nx = q.dequeue()\n\nt = tf.TensorArray(dtype=tf.int32, size=5, dynamic_size=True, clear_after_read=True)\n\n_, t = tf.while_loop(cond=lambda i, a: tf.less(i, 5, name='less_op'),\nbody=lambda i, a: [i+1, a.write(i, [x])],\nloop_vars=[0, t])\n\nit outputs [1 1 1 1 1], since the dequeue() is called only once. Please tell me how to trigger the dequeue operation on each iteration before deleting this github thread.\nThank you!\nCheers, Kris", "body": "Can it be so that within a while loop one and the same parsed record gets used and this does not trigger queues? \r\n\r\nEDIT: consider this simple example: \r\n\r\n```\r\nl = [1,2,324,3,12,1,2,3]\r\nq = tf.train.input_producer(l, shuffle=False)\r\nx = q.dequeue()\r\n\r\nt = tf.TensorArray(dtype=tf.int32, size=5, dynamic_size=True, clear_after_read=True)\r\n\r\n_, t = tf.while_loop(cond=lambda i, a: tf.less(i, 5, name='less_op'),\r\nbody=lambda i, a: [i+1, a.write(i, [x])],\r\nloop_vars=[0, t])\r\n```\r\n\r\nit outputs [1 1 1 1 1], since the dequeue() is called only once. Please tell me how to trigger the dequeue operation on each iteration *before deleting this github thread*.\r\n\r\nThank you!\r\n\r\nCheers, Kris\r\n\r\n"}