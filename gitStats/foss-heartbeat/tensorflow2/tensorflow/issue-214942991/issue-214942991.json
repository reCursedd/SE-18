{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8492", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8492/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8492/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8492/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8492", "id": 214942991, "node_id": "MDU6SXNzdWUyMTQ5NDI5OTE=", "number": 8492, "title": "Gradient by a function issue", "user": {"login": "m9ra", "id": 4223385, "node_id": "MDQ6VXNlcjQyMjMzODU=", "avatar_url": "https://avatars1.githubusercontent.com/u/4223385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m9ra", "html_url": "https://github.com/m9ra", "followers_url": "https://api.github.com/users/m9ra/followers", "following_url": "https://api.github.com/users/m9ra/following{/other_user}", "gists_url": "https://api.github.com/users/m9ra/gists{/gist_id}", "starred_url": "https://api.github.com/users/m9ra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m9ra/subscriptions", "organizations_url": "https://api.github.com/users/m9ra/orgs", "repos_url": "https://api.github.com/users/m9ra/repos", "events_url": "https://api.github.com/users/m9ra/events{/privacy}", "received_events_url": "https://api.github.com/users/m9ra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-17T08:55:40Z", "updated_at": "2017-03-20T06:12:04Z", "closed_at": "2017-03-20T06:12:04Z", "author_association": "NONE", "body_html": "<p>I find out an inconsistency in tf.gradients function.</p>\n<pre><code>import tensorflow as tf\n\nx = tf.get_variable(\"x\", shape=(1,))\nx2 = x * 2\nx4_issue = (x * 2) * 4\nx4 = x2 * 4\n\nissue_grads = tf.gradients(x4_issue, x2)[0]\ngrads = tf.gradients(x4, x2)[0]\n\nprint issue_grads\nprint grads\n</code></pre>\n<p>I would expect the two prints have the same output because the expressions are equivalent.<br>\nHowever, output that I'm getting is following:</p>\n<pre><code>None\nTensor(\"gradients_1/mul_3_grad/Reshape:0\", shape=(1,), dtype=float32)\n</code></pre>", "body_text": "I find out an inconsistency in tf.gradients function.\nimport tensorflow as tf\n\nx = tf.get_variable(\"x\", shape=(1,))\nx2 = x * 2\nx4_issue = (x * 2) * 4\nx4 = x2 * 4\n\nissue_grads = tf.gradients(x4_issue, x2)[0]\ngrads = tf.gradients(x4, x2)[0]\n\nprint issue_grads\nprint grads\n\nI would expect the two prints have the same output because the expressions are equivalent.\nHowever, output that I'm getting is following:\nNone\nTensor(\"gradients_1/mul_3_grad/Reshape:0\", shape=(1,), dtype=float32)", "body": "I find out an inconsistency in tf.gradients function.\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\nx = tf.get_variable(\"x\", shape=(1,))\r\nx2 = x * 2\r\nx4_issue = (x * 2) * 4\r\nx4 = x2 * 4\r\n\r\nissue_grads = tf.gradients(x4_issue, x2)[0]\r\ngrads = tf.gradients(x4, x2)[0]\r\n\r\nprint issue_grads\r\nprint grads\r\n```\r\n\r\n\r\n I would expect the two prints have the same output because the expressions are equivalent.\r\nHowever, output that I'm getting is following:\r\n\r\n```\r\nNone\r\nTensor(\"gradients_1/mul_3_grad/Reshape:0\", shape=(1,), dtype=float32)\r\n```\r\n\r\n"}