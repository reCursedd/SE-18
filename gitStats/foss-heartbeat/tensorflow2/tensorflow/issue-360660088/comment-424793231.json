{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/424793231", "html_url": "https://github.com/tensorflow/tensorflow/issues/22300#issuecomment-424793231", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22300", "id": 424793231, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDc5MzIzMQ==", "user": {"login": "theerfan", "id": 11455681, "node_id": "MDQ6VXNlcjExNDU1Njgx", "avatar_url": "https://avatars1.githubusercontent.com/u/11455681?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theerfan", "html_url": "https://github.com/theerfan", "followers_url": "https://api.github.com/users/theerfan/followers", "following_url": "https://api.github.com/users/theerfan/following{/other_user}", "gists_url": "https://api.github.com/users/theerfan/gists{/gist_id}", "starred_url": "https://api.github.com/users/theerfan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theerfan/subscriptions", "organizations_url": "https://api.github.com/users/theerfan/orgs", "repos_url": "https://api.github.com/users/theerfan/repos", "events_url": "https://api.github.com/users/theerfan/events{/privacy}", "received_events_url": "https://api.github.com/users/theerfan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-26T17:00:21Z", "updated_at": "2018-09-27T09:00:19Z", "author_association": "NONE", "body_html": "<p>I did the same with Python 3.6 and it imports successfully, but now the script doesn't run completely (I'm using the code used by google <a href=\"https://colab.research.google.com/notebooks/mlcc/first_steps_with_tensor_flow.ipynb?utm_source=mlcc&amp;utm_campaign=colab-external&amp;utm_medium=referral&amp;utm_content=firststeps-colab&amp;hl=en#scrollTo=9ivCDWnwE2Zx\" rel=\"nofollow\">here</a><br>\nSpecifically, this code:</p>\n<blockquote>\n<p>import math<br>\nfrom IPython import display<br>\nfrom matplotlib import cm, gridspec, pyplot as plt<br>\nimport numpy as np<br>\nimport pandas as pd<br>\nimport tensorflow as tf<br>\nfrom sklearn import metrics<br>\nfrom tensorflow.python.data import Dataset</p>\n<p>tf.logging.set_verbosity(tf.logging.ERROR)<br>\npd.options.display.max_rows = 15<br>\npd.options.display.float_format = '{:.1f}'.format<br>\ncalifornia_housing_dataframe = pd.read_csv(\"<a href=\"https://download.mlcc.google.com/mledu-datasets/california_housing_train.csv\" rel=\"nofollow\">https://download.mlcc.google.com/mledu-datasets/california_housing_train.csv</a>\", sep=\",\")<br>\ncalifornia_housing_dataframe = california_housing_dataframe.reindex(<br>\nnp.random.permutation(california_housing_dataframe.index))<br>\ncalifornia_housing_dataframe[\"median_house_value\"] /= 1000.0<br>\nfirst_feature = california_housing_dataframe[[\"total_rooms\"]]<br>\nfeature_columns = [tf.feature_column.numeric_column(\"total_rooms\")]<br>\ntargets = california_housing_dataframe[\"median_house_value\"]<br>\nmy_optimizer = tf.train.GradientDescentOptimizer(learning_rate=0.0000001)<br>\nmy_optimizer = tf.contrib.estimator.clip_gradients_by_norm(my_optimizer, 5.0)<br>\nlinear_regressor = tf.estimator.LinearRegressor(<br>\nfeature_columns=feature_columns,<br>\noptimizer=my_optimizer<br>\n)</p>\n<p>def my_input_fn(features, targets, batch_size=1, shuffle=True, num_epochs=None):<br>\nfeatures = {key:np.array(value) for key, value in dict(features).items()}<br>\nds = Dataset.from_tensor_slices((features, targets))<br>\nds = ds.batch(batch_size).repeat(num_epochs)<br>\nif shuffle:<br>\nds = ds.shuffle(buffer_size=1000)</p>\n<pre><code>features, labels = ds.make_one_shot_iterator().get_next()\nreturn features, labels\n</code></pre>\n<p>_ = linear_regressor.train(<br>\ninput_fn = lambda:my_input_fn(first_feature, targets),<br>\nsteps=100<br>\n)</p>\n<p>prediction_input_fn = lambda: my_input_fn(first_feature, targets, num_epochs=1, shuffle=False)<br>\npredictions = linear_regressor.predict(input_fn=prediction_input_fn)<br>\npredictions = np.array([item['predictions'][0] for item in predictions])<br>\nmean_squared_error = metrics.mean_squared_error(predictions, targets)<br>\nroot_mean_squared_error = math.sqrt(mean_squared_error)</p>\n</blockquote>\n<p>and instead, gives me this error [Tried on both anaconda and outside of it, got the same result]<br>\n<code>2018-09-26 19:52:12.039502: I T:\\src\\github\\tensorflow\\tensorflow\\core\\platform\\cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2</code></p>\n<p>I even tried to install it from source so I could config it with my current cpu instructions, but I ran into a problem when I ran this command from powershell.<br>\n<code>bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package</code><br>\nGave<br>\n<code>ERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted: no such package '@gif_archive//': java.io.IOException: Error downloading [https://mirror.bazel.build/ufpr.dl.sourceforge.net/project/giflib/giflib-5.1.4.tar.gz, http://pilotfiber.dl.sourceforge.net/project/giflib/giflib-5.1.4.tar.gz] to C:/users/there/_bazel_there/5v74hkvm/external/gif_archive/giflib-5.1.4.tar.gz: All mirrors are down: [GET returned 403 Forbidden]</code></p>\n<p>I even tried installing using wheels made by other developers which were compiled to use AVX2, but they also ran into issues and didn't install.</p>", "body_text": "I did the same with Python 3.6 and it imports successfully, but now the script doesn't run completely (I'm using the code used by google here\nSpecifically, this code:\n\nimport math\nfrom IPython import display\nfrom matplotlib import cm, gridspec, pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport tensorflow as tf\nfrom sklearn import metrics\nfrom tensorflow.python.data import Dataset\ntf.logging.set_verbosity(tf.logging.ERROR)\npd.options.display.max_rows = 15\npd.options.display.float_format = '{:.1f}'.format\ncalifornia_housing_dataframe = pd.read_csv(\"https://download.mlcc.google.com/mledu-datasets/california_housing_train.csv\", sep=\",\")\ncalifornia_housing_dataframe = california_housing_dataframe.reindex(\nnp.random.permutation(california_housing_dataframe.index))\ncalifornia_housing_dataframe[\"median_house_value\"] /= 1000.0\nfirst_feature = california_housing_dataframe[[\"total_rooms\"]]\nfeature_columns = [tf.feature_column.numeric_column(\"total_rooms\")]\ntargets = california_housing_dataframe[\"median_house_value\"]\nmy_optimizer = tf.train.GradientDescentOptimizer(learning_rate=0.0000001)\nmy_optimizer = tf.contrib.estimator.clip_gradients_by_norm(my_optimizer, 5.0)\nlinear_regressor = tf.estimator.LinearRegressor(\nfeature_columns=feature_columns,\noptimizer=my_optimizer\n)\ndef my_input_fn(features, targets, batch_size=1, shuffle=True, num_epochs=None):\nfeatures = {key:np.array(value) for key, value in dict(features).items()}\nds = Dataset.from_tensor_slices((features, targets))\nds = ds.batch(batch_size).repeat(num_epochs)\nif shuffle:\nds = ds.shuffle(buffer_size=1000)\nfeatures, labels = ds.make_one_shot_iterator().get_next()\nreturn features, labels\n\n_ = linear_regressor.train(\ninput_fn = lambda:my_input_fn(first_feature, targets),\nsteps=100\n)\nprediction_input_fn = lambda: my_input_fn(first_feature, targets, num_epochs=1, shuffle=False)\npredictions = linear_regressor.predict(input_fn=prediction_input_fn)\npredictions = np.array([item['predictions'][0] for item in predictions])\nmean_squared_error = metrics.mean_squared_error(predictions, targets)\nroot_mean_squared_error = math.sqrt(mean_squared_error)\n\nand instead, gives me this error [Tried on both anaconda and outside of it, got the same result]\n2018-09-26 19:52:12.039502: I T:\\src\\github\\tensorflow\\tensorflow\\core\\platform\\cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\nI even tried to install it from source so I could config it with my current cpu instructions, but I ran into a problem when I ran this command from powershell.\nbazel build --config=opt //tensorflow/tools/pip_package:build_pip_package\nGave\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted: no such package '@gif_archive//': java.io.IOException: Error downloading [https://mirror.bazel.build/ufpr.dl.sourceforge.net/project/giflib/giflib-5.1.4.tar.gz, http://pilotfiber.dl.sourceforge.net/project/giflib/giflib-5.1.4.tar.gz] to C:/users/there/_bazel_there/5v74hkvm/external/gif_archive/giflib-5.1.4.tar.gz: All mirrors are down: [GET returned 403 Forbidden]\nI even tried installing using wheels made by other developers which were compiled to use AVX2, but they also ran into issues and didn't install.", "body": "I did the same with Python 3.6 and it imports successfully, but now the script doesn't run completely (I'm using the code used by google [here](https://colab.research.google.com/notebooks/mlcc/first_steps_with_tensor_flow.ipynb?utm_source=mlcc&utm_campaign=colab-external&utm_medium=referral&utm_content=firststeps-colab&hl=en#scrollTo=9ivCDWnwE2Zx)\r\nSpecifically, this code:\r\n\r\n> import math\r\n> from IPython import display\r\n> from matplotlib import cm, gridspec, pyplot as plt\r\n> import numpy as np\r\n> import pandas as pd\r\n> import tensorflow as tf\r\n> from sklearn import metrics\r\n> from tensorflow.python.data import Dataset\r\n> \r\n> tf.logging.set_verbosity(tf.logging.ERROR)\r\n> pd.options.display.max_rows = 15\r\n> pd.options.display.float_format = '{:.1f}'.format\r\n> california_housing_dataframe = pd.read_csv(\"https://download.mlcc.google.com/mledu-datasets/california_housing_train.csv\", sep=\",\")\r\n> california_housing_dataframe = california_housing_dataframe.reindex(\r\n>     np.random.permutation(california_housing_dataframe.index))\r\n> california_housing_dataframe[\"median_house_value\"] /= 1000.0\r\n> first_feature = california_housing_dataframe[[\"total_rooms\"]]\r\n> feature_columns = [tf.feature_column.numeric_column(\"total_rooms\")]\r\n> targets = california_housing_dataframe[\"median_house_value\"]\r\n> my_optimizer = tf.train.GradientDescentOptimizer(learning_rate=0.0000001)\r\n> my_optimizer = tf.contrib.estimator.clip_gradients_by_norm(my_optimizer, 5.0)\r\n> linear_regressor = tf.estimator.LinearRegressor(\r\n>     feature_columns=feature_columns,\r\n>     optimizer=my_optimizer\r\n> )\r\n> \r\n> def my_input_fn(features, targets, batch_size=1, shuffle=True, num_epochs=None):\r\n>     features = {key:np.array(value) for key, value in dict(features).items()}\r\n>     ds = Dataset.from_tensor_slices((features, targets))\r\n>     ds = ds.batch(batch_size).repeat(num_epochs)\r\n>     if shuffle:\r\n>         ds = ds.shuffle(buffer_size=1000)\r\n>     \r\n>     features, labels = ds.make_one_shot_iterator().get_next()\r\n>     return features, labels\r\n> \r\n> _ = linear_regressor.train(\r\n>     input_fn = lambda:my_input_fn(first_feature, targets),\r\n>     steps=100\r\n> )\r\n> \r\n> prediction_input_fn = lambda: my_input_fn(first_feature, targets, num_epochs=1, shuffle=False)\r\n> predictions = linear_regressor.predict(input_fn=prediction_input_fn)\r\n> predictions = np.array([item['predictions'][0] for item in predictions])\r\n> mean_squared_error = metrics.mean_squared_error(predictions, targets)\r\n> root_mean_squared_error = math.sqrt(mean_squared_error)\r\n> \r\n\r\nand instead, gives me this error [Tried on both anaconda and outside of it, got the same result] \r\n`2018-09-26 19:52:12.039502: I T:\\src\\github\\tensorflow\\tensorflow\\core\\platform\\cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2`\r\n\r\nI even tried to install it from source so I could config it with my current cpu instructions, but I ran into a problem when I ran this command from powershell. \r\n`bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package`\r\nGave\r\n`ERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted: no such package '@gif_archive//': java.io.IOException: Error downloading [https://mirror.bazel.build/ufpr.dl.sourceforge.net/project/giflib/giflib-5.1.4.tar.gz, http://pilotfiber.dl.sourceforge.net/project/giflib/giflib-5.1.4.tar.gz] to C:/users/there/_bazel_there/5v74hkvm/external/gif_archive/giflib-5.1.4.tar.gz: All mirrors are down: [GET returned 403 Forbidden]`\r\n\r\nI even tried installing using wheels made by other developers which were compiled to use AVX2, but they also ran into issues and didn't install."}