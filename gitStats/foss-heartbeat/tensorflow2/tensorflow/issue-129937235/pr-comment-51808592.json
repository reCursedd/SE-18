{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/51808592", "pull_request_review_id": null, "id": 51808592, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA4NTky", "diff_hunk": "@@ -0,0 +1,40 @@\n+#!/usr/bin/env bash", "path": "tensorflow/tools/ci_build/ci_test_on_install.sh", "position": null, "original_position": 1, "commit_id": "da2202dec6befe480b5bae3971a0c5cab15d74ea", "original_commit_id": "ee4c7e3c20a705a9d07bbdfbed54f63fdd98318a", "user": {"login": "jendap", "id": 567848, "node_id": "MDQ6VXNlcjU2Nzg0OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/567848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jendap", "html_url": "https://github.com/jendap", "followers_url": "https://api.github.com/users/jendap/followers", "following_url": "https://api.github.com/users/jendap/following{/other_user}", "gists_url": "https://api.github.com/users/jendap/gists{/gist_id}", "starred_url": "https://api.github.com/users/jendap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jendap/subscriptions", "organizations_url": "https://api.github.com/users/jendap/orgs", "repos_url": "https://api.github.com/users/jendap/repos", "events_url": "https://api.github.com/users/jendap/events{/privacy}", "received_events_url": "https://api.github.com/users/jendap/received_events", "type": "User", "site_admin": false}, "body": "We are getting there, but let's remove this file anyway :-)\n\n1) Of course it is shorter command. But then we should make here scripts build_and_test_on_cpu.sh, build_and_test_on_gpu.sh, build_and_test_on_cpu_py2x.sh, build_and_test_on_cpu_py3x.sh, etc.\n2) it is not test on install, it is \"build, install and test pip inside docker\".sh\n\nWhat if you want to run without docker? You can't simply drop the docker script. All the other builds work just fine without the \"tensorflow/tools/ci_build/ci_build.sh CONTAINER_TYPE\" thing at the beginning. And that is the same command live we run on mac. Would this script work on mac where there is no docker?\n\nIf anything, what we could do would be:\n1) split the current gpu.sh\n- the only thing that would stay would be build, install and call test_installation.sh\n- note: that if there is such a feature as SKIP_TESTS feature would be there.\n  2) create test_installation.sh\n- this one would be the majority of the current script\n- it would run the python tests without blaze, java, and other things\n- such a script could be used to validate docker container we distribute as well as maybe one day some deb and rpm packages\n  3) and we would still not need this script ;-)\n", "created_at": "2016-02-03T23:52:21Z", "updated_at": "2016-02-04T04:43:38Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/939#discussion_r51808592", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/939", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/51808592"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/939#discussion_r51808592"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/939"}}, "body_html": "<p>We are getting there, but let's remove this file anyway :-)</p>\n<ol>\n<li>Of course it is shorter command. But then we should make here scripts build_and_test_on_cpu.sh, build_and_test_on_gpu.sh, build_and_test_on_cpu_py2x.sh, build_and_test_on_cpu_py3x.sh, etc.</li>\n<li>it is not test on install, it is \"build, install and test pip inside docker\".sh</li>\n</ol>\n<p>What if you want to run without docker? You can't simply drop the docker script. All the other builds work just fine without the \"tensorflow/tools/ci_build/ci_build.sh CONTAINER_TYPE\" thing at the beginning. And that is the same command live we run on mac. Would this script work on mac where there is no docker?</p>\n<p>If anything, what we could do would be:</p>\n<ol>\n<li>split the current gpu.sh</li>\n</ol>\n<ul>\n<li>the only thing that would stay would be build, install and call test_installation.sh</li>\n<li>note: that if there is such a feature as SKIP_TESTS feature would be there.<br>\n2) create test_installation.sh</li>\n<li>this one would be the majority of the current script</li>\n<li>it would run the python tests without blaze, java, and other things</li>\n<li>such a script could be used to validate docker container we distribute as well as maybe one day some deb and rpm packages<br>\n3) and we would still not need this script ;-)</li>\n</ul>", "body_text": "We are getting there, but let's remove this file anyway :-)\n\nOf course it is shorter command. But then we should make here scripts build_and_test_on_cpu.sh, build_and_test_on_gpu.sh, build_and_test_on_cpu_py2x.sh, build_and_test_on_cpu_py3x.sh, etc.\nit is not test on install, it is \"build, install and test pip inside docker\".sh\n\nWhat if you want to run without docker? You can't simply drop the docker script. All the other builds work just fine without the \"tensorflow/tools/ci_build/ci_build.sh CONTAINER_TYPE\" thing at the beginning. And that is the same command live we run on mac. Would this script work on mac where there is no docker?\nIf anything, what we could do would be:\n\nsplit the current gpu.sh\n\n\nthe only thing that would stay would be build, install and call test_installation.sh\nnote: that if there is such a feature as SKIP_TESTS feature would be there.\n2) create test_installation.sh\nthis one would be the majority of the current script\nit would run the python tests without blaze, java, and other things\nsuch a script could be used to validate docker container we distribute as well as maybe one day some deb and rpm packages\n3) and we would still not need this script ;-)"}