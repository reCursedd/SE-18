{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16083", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16083/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16083/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16083/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16083", "id": 288245282, "node_id": "MDU6SXNzdWUyODgyNDUyODI=", "number": 16083, "title": "Tensorflow and Bazle build in Docker Container on Windows", "user": {"login": "petrir77", "id": 35382929, "node_id": "MDQ6VXNlcjM1MzgyOTI5", "avatar_url": "https://avatars1.githubusercontent.com/u/35382929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrir77", "html_url": "https://github.com/petrir77", "followers_url": "https://api.github.com/users/petrir77/followers", "following_url": "https://api.github.com/users/petrir77/following{/other_user}", "gists_url": "https://api.github.com/users/petrir77/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrir77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrir77/subscriptions", "organizations_url": "https://api.github.com/users/petrir77/orgs", "repos_url": "https://api.github.com/users/petrir77/repos", "events_url": "https://api.github.com/users/petrir77/events{/privacy}", "received_events_url": "https://api.github.com/users/petrir77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "angersson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angersson", "html_url": "https://github.com/angersson", "followers_url": "https://api.github.com/users/angersson/followers", "following_url": "https://api.github.com/users/angersson/following{/other_user}", "gists_url": "https://api.github.com/users/angersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angersson/subscriptions", "organizations_url": "https://api.github.com/users/angersson/orgs", "repos_url": "https://api.github.com/users/angersson/repos", "events_url": "https://api.github.com/users/angersson/events{/privacy}", "received_events_url": "https://api.github.com/users/angersson/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "angersson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angersson", "html_url": "https://github.com/angersson", "followers_url": "https://api.github.com/users/angersson/followers", "following_url": "https://api.github.com/users/angersson/following{/other_user}", "gists_url": "https://api.github.com/users/angersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angersson/subscriptions", "organizations_url": "https://api.github.com/users/angersson/orgs", "repos_url": "https://api.github.com/users/angersson/repos", "events_url": "https://api.github.com/users/angersson/events{/privacy}", "received_events_url": "https://api.github.com/users/angersson/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-01-12T21:01:44Z", "updated_at": "2018-04-03T01:26:58Z", "closed_at": "2018-04-03T01:26:58Z", "author_association": "NONE", "body_html": "<p>Hello, i'm trying to build the following Dockerfile:</p>\n<pre><code>FROM ubuntu:17.10\n\nADD https://bazel.build/bazel-release.pub.gpg /bazel-release.pub.gpg\nRUN apt-key add /bazel-release.pub.gpg &amp;&amp; rm /bazel-release.pub.gpg\nRUN echo \"deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8\" | tee /etc/apt/sources.list.d/bazel.list\n\nRUN apt-get update &amp;&amp; apt-get install -y git build-essential bazel openjdk-8-jdk python3-dev python3-pip python3-numpy python3-wheel &amp;&amp; ln --symbolic python3 /usr/bin/python\n\nRUN git clone --recursive --branch r1.4 --depth 1 --shallow-submodules https://github.com/tensorflow/tensorflow\nRUN cd /tensorflow &amp;&amp; (echo \"\\n\\ny\\nn\\nn\\nn\\ny\\nn\\nn\\nn\\nn\\nn\\n\\n\" | ./configure)\nRUN cd /tensorflow &amp;&amp; bazel build --config=opt //tensorflow/compiler/aot:tfcompile\n</code></pre>\n<p>Im getting the following Error on the last RUN operation:</p>\n<pre><code>Step 8/8 : RUN cd /tensorflow &amp;&amp; bazel build --config=opt //tensorflow/compiler/aot:tfcompile\n ---&gt; Running in ef36db7c22d1\n..................\nLoading:\nLoading: 0 packages loaded\nLoading: 0 packages loaded\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (1 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (4 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (5 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (19 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (25 packages loaded)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:4:1: First argument of 'load' must be a label and start with either '//', ':', or '@'. Use --incompatible_load_argument_is_label=false to temporarily disable this check.\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:6:1: First argument of 'load' must be a label and start with either '//', ':', or '@'. Use --incompatible_load_argument_is_label=false to temporarily disable this check.\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:30:9: Traceback (most recent call last):\n        File \"/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD\", line 27\n                cc_library(name = \"syclrt\", srcs = [sycl_libr...\")], &lt;3 more arguments&gt;)\n        File \"/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD\", line 30, in cc_library\n                sycl_library_path\nname 'sycl_library_path' is not defined\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (35 packages loaded)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:96:1: First argument of 'load' must be a label and start with either '//', ':', or '@'. Use --incompatible_load_argument_is_label=false to temporarily disable this check.\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:98:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:100:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:102:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:104:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:106:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:108:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:110:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:112:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:114:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:116:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:118:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:120:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:122:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:124:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:126:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:131:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:136:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:141:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:146:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:151:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (45 packages loaded)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:39:1: Target '@local_config_sycl//sycl:using_sycl' contains an error and its package is in error and referenced by '@local_config_sycl//sycl:sycl'\nERROR: /tensorflow/third_party/eigen3/BUILD:20:1: Target '@local_config_sycl//sycl:sycl' contains an error and its package is in error and referenced by '//third_party/eigen3:eigen3'\nERROR: Analysis of target '//tensorflow/compiler/aot:tfcompile' failed; build aborted: Loading failed\nINFO: Elapsed time: 18.318s\nFAILED: Build did NOT complete successfully (46 packages loaded)\n</code></pre>\n<p>My Docker Version:</p>\n<pre><code>Client:\n Version:       17.12.0-ce\n API version:   1.35\n Go version:    go1.9.2\n Git commit:    c97c6d6\n Built: Wed Dec 27 20:05:22 2017\n OS/Arch:       windows/amd64\n\nServer:\n Engine:\n  Version:      17.12.0-ce\n  API version:  1.35 (minimum version 1.12)\n  Go version:   go1.9.2\n  Git commit:   c97c6d6\n  Built:        Wed Dec 27 20:12:29 2017\n  OS/Arch:      linux/amd64\n  Experimental: true\n</code></pre>\n<p>Any ideas why this doesn't work?<br>\nThe Dockerfile works fine on linux.</p>", "body_text": "Hello, i'm trying to build the following Dockerfile:\nFROM ubuntu:17.10\n\nADD https://bazel.build/bazel-release.pub.gpg /bazel-release.pub.gpg\nRUN apt-key add /bazel-release.pub.gpg && rm /bazel-release.pub.gpg\nRUN echo \"deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8\" | tee /etc/apt/sources.list.d/bazel.list\n\nRUN apt-get update && apt-get install -y git build-essential bazel openjdk-8-jdk python3-dev python3-pip python3-numpy python3-wheel && ln --symbolic python3 /usr/bin/python\n\nRUN git clone --recursive --branch r1.4 --depth 1 --shallow-submodules https://github.com/tensorflow/tensorflow\nRUN cd /tensorflow && (echo \"\\n\\ny\\nn\\nn\\nn\\ny\\nn\\nn\\nn\\nn\\nn\\n\\n\" | ./configure)\nRUN cd /tensorflow && bazel build --config=opt //tensorflow/compiler/aot:tfcompile\n\nIm getting the following Error on the last RUN operation:\nStep 8/8 : RUN cd /tensorflow && bazel build --config=opt //tensorflow/compiler/aot:tfcompile\n ---> Running in ef36db7c22d1\n..................\nLoading:\nLoading: 0 packages loaded\nLoading: 0 packages loaded\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (1 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (4 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (5 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (19 packages loaded)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (25 packages loaded)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:4:1: First argument of 'load' must be a label and start with either '//', ':', or '@'. Use --incompatible_load_argument_is_label=false to temporarily disable this check.\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:6:1: First argument of 'load' must be a label and start with either '//', ':', or '@'. Use --incompatible_load_argument_is_label=false to temporarily disable this check.\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:30:9: Traceback (most recent call last):\n        File \"/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD\", line 27\n                cc_library(name = \"syclrt\", srcs = [sycl_libr...\")], <3 more arguments>)\n        File \"/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD\", line 30, in cc_library\n                sycl_library_path\nname 'sycl_library_path' is not defined\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (35 packages loaded)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:96:1: First argument of 'load' must be a label and start with either '//', ':', or '@'. Use --incompatible_load_argument_is_label=false to temporarily disable this check.\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:98:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:100:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:102:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:104:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:106:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:108:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:110:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:112:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:114:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:116:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:118:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:120:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:122:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:124:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:126:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:131:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:136:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:141:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:146:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:151:1: name 're2_test' is not defined (did you mean 'ios_test'?)\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (45 packages loaded)\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:39:1: Target '@local_config_sycl//sycl:using_sycl' contains an error and its package is in error and referenced by '@local_config_sycl//sycl:sycl'\nERROR: /tensorflow/third_party/eigen3/BUILD:20:1: Target '@local_config_sycl//sycl:sycl' contains an error and its package is in error and referenced by '//third_party/eigen3:eigen3'\nERROR: Analysis of target '//tensorflow/compiler/aot:tfcompile' failed; build aborted: Loading failed\nINFO: Elapsed time: 18.318s\nFAILED: Build did NOT complete successfully (46 packages loaded)\n\nMy Docker Version:\nClient:\n Version:       17.12.0-ce\n API version:   1.35\n Go version:    go1.9.2\n Git commit:    c97c6d6\n Built: Wed Dec 27 20:05:22 2017\n OS/Arch:       windows/amd64\n\nServer:\n Engine:\n  Version:      17.12.0-ce\n  API version:  1.35 (minimum version 1.12)\n  Go version:   go1.9.2\n  Git commit:   c97c6d6\n  Built:        Wed Dec 27 20:12:29 2017\n  OS/Arch:      linux/amd64\n  Experimental: true\n\nAny ideas why this doesn't work?\nThe Dockerfile works fine on linux.", "body": "Hello, i'm trying to build the following Dockerfile:\r\n\r\n```\r\nFROM ubuntu:17.10\r\n\r\nADD https://bazel.build/bazel-release.pub.gpg /bazel-release.pub.gpg\r\nRUN apt-key add /bazel-release.pub.gpg && rm /bazel-release.pub.gpg\r\nRUN echo \"deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8\" | tee /etc/apt/sources.list.d/bazel.list\r\n\r\nRUN apt-get update && apt-get install -y git build-essential bazel openjdk-8-jdk python3-dev python3-pip python3-numpy python3-wheel && ln --symbolic python3 /usr/bin/python\r\n\r\nRUN git clone --recursive --branch r1.4 --depth 1 --shallow-submodules https://github.com/tensorflow/tensorflow\r\nRUN cd /tensorflow && (echo \"\\n\\ny\\nn\\nn\\nn\\ny\\nn\\nn\\nn\\nn\\nn\\n\\n\" | ./configure)\r\nRUN cd /tensorflow && bazel build --config=opt //tensorflow/compiler/aot:tfcompile\r\n```\r\n\r\n\r\n\r\n\r\nIm getting the following Error on the last RUN operation:\r\n\r\n```\r\nStep 8/8 : RUN cd /tensorflow && bazel build --config=opt //tensorflow/compiler/aot:tfcompile\r\n ---> Running in ef36db7c22d1\r\n..................\r\nLoading:\r\nLoading: 0 packages loaded\r\nLoading: 0 packages loaded\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (1 packages loaded)\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (4 packages loaded)\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (5 packages loaded)\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (6 packages loaded)\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (19 packages loaded)\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (25 packages loaded)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:4:1: First argument of 'load' must be a label and start with either '//', ':', or '@'. Use --incompatible_load_argument_is_label=false to temporarily disable this check.\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:6:1: First argument of 'load' must be a label and start with either '//', ':', or '@'. Use --incompatible_load_argument_is_label=false to temporarily disable this check.\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:30:9: Traceback (most recent call last):\r\n        File \"/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD\", line 27\r\n                cc_library(name = \"syclrt\", srcs = [sycl_libr...\")], <3 more arguments>)\r\n        File \"/root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD\", line 30, in cc_library\r\n                sycl_library_path\r\nname 'sycl_library_path' is not defined\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (35 packages loaded)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:96:1: First argument of 'load' must be a label and start with either '//', ':', or '@'. Use --incompatible_load_argument_is_label=false to temporarily disable this check.\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:98:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:100:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:102:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:104:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:106:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:108:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:110:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:112:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:114:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:116:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:118:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:120:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:122:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:124:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:126:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:131:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:136:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:141:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:146:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/com_googlesource_code_re2/BUILD:151:1: name 're2_test' is not defined (did you mean 'ios_test'?)\r\nAnalyzing: target //tensorflow/compiler/aot:tfcompile (45 packages loaded)\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/local_config_sycl/sycl/BUILD:39:1: Target '@local_config_sycl//sycl:using_sycl' contains an error and its package is in error and referenced by '@local_config_sycl//sycl:sycl'\r\nERROR: /tensorflow/third_party/eigen3/BUILD:20:1: Target '@local_config_sycl//sycl:sycl' contains an error and its package is in error and referenced by '//third_party/eigen3:eigen3'\r\nERROR: Analysis of target '//tensorflow/compiler/aot:tfcompile' failed; build aborted: Loading failed\r\nINFO: Elapsed time: 18.318s\r\nFAILED: Build did NOT complete successfully (46 packages loaded)\r\n```\r\n\r\nMy Docker Version:\r\n```\r\nClient:\r\n Version:       17.12.0-ce\r\n API version:   1.35\r\n Go version:    go1.9.2\r\n Git commit:    c97c6d6\r\n Built: Wed Dec 27 20:05:22 2017\r\n OS/Arch:       windows/amd64\r\n\r\nServer:\r\n Engine:\r\n  Version:      17.12.0-ce\r\n  API version:  1.35 (minimum version 1.12)\r\n  Go version:   go1.9.2\r\n  Git commit:   c97c6d6\r\n  Built:        Wed Dec 27 20:12:29 2017\r\n  OS/Arch:      linux/amd64\r\n  Experimental: true\r\n```\r\n\r\n\r\nAny ideas why this doesn't work?\r\nThe Dockerfile works fine on linux."}