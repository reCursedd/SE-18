{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/261501808", "html_url": "https://github.com/tensorflow/tensorflow/issues/5663#issuecomment-261501808", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5663", "id": 261501808, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTUwMTgwOA==", "user": {"login": "mikowals", "id": 1331470, "node_id": "MDQ6VXNlcjEzMzE0NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1331470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikowals", "html_url": "https://github.com/mikowals", "followers_url": "https://api.github.com/users/mikowals/followers", "following_url": "https://api.github.com/users/mikowals/following{/other_user}", "gists_url": "https://api.github.com/users/mikowals/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikowals/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikowals/subscriptions", "organizations_url": "https://api.github.com/users/mikowals/orgs", "repos_url": "https://api.github.com/users/mikowals/repos", "events_url": "https://api.github.com/users/mikowals/events{/privacy}", "received_events_url": "https://api.github.com/users/mikowals/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-18T10:41:39Z", "updated_at": "2016-11-18T10:41:39Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Yes, setting <code>reuse=True</code> in <code>slim.conv2d</code> will also insure the batch norm variables are reused.   So in general your example 2 is the simple way.</p>\n<p>You are also correct with how <code>{'is_training': True}</code> is used with batch norm.  Setting <code>reuse=True</code> for testing is also probably correct though often it is best just to save the model and have the evaluation code create its own model and load the variables from a checkpoint.   See examples in <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/slim/python/slim/evaluation.py\">slim.evaluation</a>.</p>\n<p>If your issue is resolved you should close it.</p>", "body_text": "Yes, setting reuse=True in slim.conv2d will also insure the batch norm variables are reused.   So in general your example 2 is the simple way.\nYou are also correct with how {'is_training': True} is used with batch norm.  Setting reuse=True for testing is also probably correct though often it is best just to save the model and have the evaluation code create its own model and load the variables from a checkpoint.   See examples in slim.evaluation.\nIf your issue is resolved you should close it.", "body": "Yes, setting `reuse=True` in `slim.conv2d` will also insure the batch norm variables are reused.   So in general your example 2 is the simple way.  \n\nYou are also correct with how `{'is_training': True}` is used with batch norm.  Setting `reuse=True` for testing is also probably correct though often it is best just to save the model and have the evaluation code create its own model and load the variables from a checkpoint.   See examples in [slim.evaluation](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/slim/python/slim/evaluation.py).\n\nIf your issue is resolved you should close it.\n"}