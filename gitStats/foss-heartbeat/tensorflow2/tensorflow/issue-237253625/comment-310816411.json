{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/310816411", "html_url": "https://github.com/tensorflow/tensorflow/issues/10852#issuecomment-310816411", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10852", "id": 310816411, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDgxNjQxMQ==", "user": {"login": "adanaila", "id": 1127227, "node_id": "MDQ6VXNlcjExMjcyMjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1127227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adanaila", "html_url": "https://github.com/adanaila", "followers_url": "https://api.github.com/users/adanaila/followers", "following_url": "https://api.github.com/users/adanaila/following{/other_user}", "gists_url": "https://api.github.com/users/adanaila/gists{/gist_id}", "starred_url": "https://api.github.com/users/adanaila/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adanaila/subscriptions", "organizations_url": "https://api.github.com/users/adanaila/orgs", "repos_url": "https://api.github.com/users/adanaila/repos", "events_url": "https://api.github.com/users/adanaila/events{/privacy}", "received_events_url": "https://api.github.com/users/adanaila/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-24T05:47:34Z", "updated_at": "2017-06-24T05:47:34Z", "author_association": "NONE", "body_html": "<p>Thank you for your time in helping me with this.</p>\n<p>I only have 1 version of cuda installed, cuda-8.0</p>\n<p>My /usr/local looks as follows:</p>\n<blockquote>\n<p>lrwxrwxrwx  1 root root    8 Jun 21 07:27 cuda -&gt; cuda-8.0<br>\ndrwxr-xr-x 14 root root 4.0K Jun 21 07:27 cuda-8.0</p>\n</blockquote>\n<p>My /usr/local/cuda-8.0 looks as follows:</p>\n<blockquote>\n<p>drwxr-xr-x  3 root root 4.0K Jun 21 07:27 bin<br>\ndrwxr-xr-x  5 root root 4.0K Jun 21 07:27 doc<br>\ndrwxr-xr-x  5 root root 4.0K Jun 21 07:27 extras<br>\ndrwxr-xr-x  8 root root 4.0K Jun 21 07:27 libnsight<br>\ndrwxr-xr-x  7 root root 4.0K Jun 21 07:27 libnvvp<br>\ndrwxr-xr-x  3 root root 4.0K Jun 21 07:27 nvml<br>\ndrwxr-xr-x  7 root root 4.0K Jun 21 07:27 nvvm<br>\ndrwxr-xr-x 11 root root 4.0K Jun 21 07:27 samples<br>\ndrwxr-xr-x  3 root root 4.0K Jun 21 07:27 share<br>\ndrwxr-xr-x  2 root root 4.0K Jun 21 07:27 src<br>\ndrwxr-xr-x  3 root root 4.0K Jun 21 07:27 targets<br>\ndrwxr-xr-x  2 root root 4.0K Jun 21 07:27 tools<br>\n-rw-r--r--  1 root root  365 Jan 26 15:48 LICENSE<br>\n-rw-r--r--  1 root root  365 Jan 26 15:48 README<br>\nlrwxrwxrwx  1 root root   28 Jan 26 15:51 include -&gt; targets/x86_64-linux/include<br>\nlrwxrwxrwx  1 root root   24 Jan 26 15:51 lib64 -&gt; targets/x86_64-linux/lib<br>\n-rw-r--r--  1 root root   20 Jan 26 15:48 version.txt</p>\n</blockquote>\n<p>Inside the lib64 symlink, I see the following:</p>\n<blockquote>\n<p>....<br>\n-rwxr-xr-x 1 root root  148M Jun 21 07:31 libcudnn.so<br>\n-rwxr-xr-x 1 root root  148M Jun 21 07:31 libcudnn.so.6<br>\n-rwxr-xr-x 1 root root  148M Jun 21 07:31 libcudnn.so.6.0.21<br>\n....</p>\n</blockquote>\n<p>LD_LIBRARY_PATH is:</p>\n<blockquote>\n<p>/usr/local/cuda/extras/CUPTI/lib64:/usr/local/cuda-8.0/lib64</p>\n</blockquote>\n<p>Just to make sure, I rebuilt tensorflow and re-ran the model a few more times with the same result</p>\n<blockquote>\n<p>2017-06-23 22:13:27.662981: step 16670, loss = 1.04 (64.7 examples/sec; 0.494 sec/batch)<br>\n2017-06-23 22:13:28.589187: E tensorflow/stream_executor/cuda/cuda_driver.cc:1067] could not synchronize on CUDA context: CUDA_ERROR_ILLEGAL_ADDRESS :: No stack trace available<br>\n2017-06-23 22:13:28.589246: F tensorflow/core/common_runtime/gpu/gpu_util.cc:370] GPU sync failed<br>\n2017-06-23 22:13:28.589187: E tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS<br>\n2017-06-23 22:13:28.589273: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:203] Unexpected Event status: 1</p>\n</blockquote>", "body_text": "Thank you for your time in helping me with this.\nI only have 1 version of cuda installed, cuda-8.0\nMy /usr/local looks as follows:\n\nlrwxrwxrwx  1 root root    8 Jun 21 07:27 cuda -> cuda-8.0\ndrwxr-xr-x 14 root root 4.0K Jun 21 07:27 cuda-8.0\n\nMy /usr/local/cuda-8.0 looks as follows:\n\ndrwxr-xr-x  3 root root 4.0K Jun 21 07:27 bin\ndrwxr-xr-x  5 root root 4.0K Jun 21 07:27 doc\ndrwxr-xr-x  5 root root 4.0K Jun 21 07:27 extras\ndrwxr-xr-x  8 root root 4.0K Jun 21 07:27 libnsight\ndrwxr-xr-x  7 root root 4.0K Jun 21 07:27 libnvvp\ndrwxr-xr-x  3 root root 4.0K Jun 21 07:27 nvml\ndrwxr-xr-x  7 root root 4.0K Jun 21 07:27 nvvm\ndrwxr-xr-x 11 root root 4.0K Jun 21 07:27 samples\ndrwxr-xr-x  3 root root 4.0K Jun 21 07:27 share\ndrwxr-xr-x  2 root root 4.0K Jun 21 07:27 src\ndrwxr-xr-x  3 root root 4.0K Jun 21 07:27 targets\ndrwxr-xr-x  2 root root 4.0K Jun 21 07:27 tools\n-rw-r--r--  1 root root  365 Jan 26 15:48 LICENSE\n-rw-r--r--  1 root root  365 Jan 26 15:48 README\nlrwxrwxrwx  1 root root   28 Jan 26 15:51 include -> targets/x86_64-linux/include\nlrwxrwxrwx  1 root root   24 Jan 26 15:51 lib64 -> targets/x86_64-linux/lib\n-rw-r--r--  1 root root   20 Jan 26 15:48 version.txt\n\nInside the lib64 symlink, I see the following:\n\n....\n-rwxr-xr-x 1 root root  148M Jun 21 07:31 libcudnn.so\n-rwxr-xr-x 1 root root  148M Jun 21 07:31 libcudnn.so.6\n-rwxr-xr-x 1 root root  148M Jun 21 07:31 libcudnn.so.6.0.21\n....\n\nLD_LIBRARY_PATH is:\n\n/usr/local/cuda/extras/CUPTI/lib64:/usr/local/cuda-8.0/lib64\n\nJust to make sure, I rebuilt tensorflow and re-ran the model a few more times with the same result\n\n2017-06-23 22:13:27.662981: step 16670, loss = 1.04 (64.7 examples/sec; 0.494 sec/batch)\n2017-06-23 22:13:28.589187: E tensorflow/stream_executor/cuda/cuda_driver.cc:1067] could not synchronize on CUDA context: CUDA_ERROR_ILLEGAL_ADDRESS :: No stack trace available\n2017-06-23 22:13:28.589246: F tensorflow/core/common_runtime/gpu/gpu_util.cc:370] GPU sync failed\n2017-06-23 22:13:28.589187: E tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS\n2017-06-23 22:13:28.589273: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:203] Unexpected Event status: 1", "body": "Thank you for your time in helping me with this.\r\n\r\nI only have 1 version of cuda installed, cuda-8.0\r\n\r\nMy /usr/local looks as follows:\r\n\r\n> lrwxrwxrwx  1 root root    8 Jun 21 07:27 cuda -> cuda-8.0\r\n> drwxr-xr-x 14 root root 4.0K Jun 21 07:27 cuda-8.0\r\n\r\n\r\nMy /usr/local/cuda-8.0 looks as follows:\r\n\r\n> drwxr-xr-x  3 root root 4.0K Jun 21 07:27 bin\r\n> drwxr-xr-x  5 root root 4.0K Jun 21 07:27 doc\r\n> drwxr-xr-x  5 root root 4.0K Jun 21 07:27 extras\r\n> drwxr-xr-x  8 root root 4.0K Jun 21 07:27 libnsight\r\n> drwxr-xr-x  7 root root 4.0K Jun 21 07:27 libnvvp\r\n> drwxr-xr-x  3 root root 4.0K Jun 21 07:27 nvml\r\n> drwxr-xr-x  7 root root 4.0K Jun 21 07:27 nvvm\r\n> drwxr-xr-x 11 root root 4.0K Jun 21 07:27 samples\r\n> drwxr-xr-x  3 root root 4.0K Jun 21 07:27 share\r\n> drwxr-xr-x  2 root root 4.0K Jun 21 07:27 src\r\n> drwxr-xr-x  3 root root 4.0K Jun 21 07:27 targets\r\n> drwxr-xr-x  2 root root 4.0K Jun 21 07:27 tools\r\n> -rw-r--r--  1 root root  365 Jan 26 15:48 LICENSE\r\n> -rw-r--r--  1 root root  365 Jan 26 15:48 README\r\n> lrwxrwxrwx  1 root root   28 Jan 26 15:51 include -> targets/x86_64-linux/include\r\n> lrwxrwxrwx  1 root root   24 Jan 26 15:51 lib64 -> targets/x86_64-linux/lib\r\n> -rw-r--r--  1 root root   20 Jan 26 15:48 version.txt\r\n\r\nInside the lib64 symlink, I see the following:\r\n\r\n> <snip>....\r\n> -rwxr-xr-x 1 root root  148M Jun 21 07:31 libcudnn.so\r\n> -rwxr-xr-x 1 root root  148M Jun 21 07:31 libcudnn.so.6\r\n> -rwxr-xr-x 1 root root  148M Jun 21 07:31 libcudnn.so.6.0.21\r\n> <snip>....\r\n\r\nLD_LIBRARY_PATH is: \r\n\r\n> /usr/local/cuda/extras/CUPTI/lib64:/usr/local/cuda-8.0/lib64\r\n\r\nJust to make sure, I rebuilt tensorflow and re-ran the model a few more times with the same result\r\n\r\n> 2017-06-23 22:13:27.662981: step 16670, loss = 1.04 (64.7 examples/sec; 0.494 sec/batch)\r\n> 2017-06-23 22:13:28.589187: E tensorflow/stream_executor/cuda/cuda_driver.cc:1067] could not synchronize on CUDA context: CUDA_ERROR_ILLEGAL_ADDRESS :: No stack trace available\r\n> 2017-06-23 22:13:28.589246: F tensorflow/core/common_runtime/gpu/gpu_util.cc:370] GPU sync failed\r\n> 2017-06-23 22:13:28.589187: E tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS\r\n> 2017-06-23 22:13:28.589273: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:203] Unexpected Event status: 1\r\n\r\n"}