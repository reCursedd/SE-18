{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19847", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19847/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19847/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19847/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19847", "id": 330557879, "node_id": "MDU6SXNzdWUzMzA1NTc4Nzk=", "number": 19847, "title": "win10 c++ LNK1189\uff1alibrary limit of 65535 objects exceeded\tpywrap_tensorflow_internal", "user": {"login": "EdwardVincentMa", "id": 39480728, "node_id": "MDQ6VXNlcjM5NDgwNzI4", "avatar_url": "https://avatars3.githubusercontent.com/u/39480728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EdwardVincentMa", "html_url": "https://github.com/EdwardVincentMa", "followers_url": "https://api.github.com/users/EdwardVincentMa/followers", "following_url": "https://api.github.com/users/EdwardVincentMa/following{/other_user}", "gists_url": "https://api.github.com/users/EdwardVincentMa/gists{/gist_id}", "starred_url": "https://api.github.com/users/EdwardVincentMa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EdwardVincentMa/subscriptions", "organizations_url": "https://api.github.com/users/EdwardVincentMa/orgs", "repos_url": "https://api.github.com/users/EdwardVincentMa/repos", "events_url": "https://api.github.com/users/EdwardVincentMa/events{/privacy}", "received_events_url": "https://api.github.com/users/EdwardVincentMa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-06-08T08:00:51Z", "updated_at": "2018-11-01T06:50:48Z", "closed_at": "2018-06-11T03:17:46Z", "author_association": "NONE", "body_html": "<p><strong>System information:</strong><br>\n\u00b7 Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No</p>\n<p>\u00b7 OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Win10-x64</p>\n<p>\u00b7 TensorFlow installed from (source or binary): git clone <a href=\"https://github.com/tensorflow/tensorflow.git\">https://github.com/tensorflow/tensorflow.git</a></p>\n<p>\u00b7 TensorFlow version (use command below): r1.4, r1.5, r1.6 r1.7 and r1.8, command :<br>\nv1.8's command : git checkout -b v1.8 -f origin/r1.8<br>\nv1.7's command : git checkout -b v1.7 -f origin/r1.7<br>\nv1.6's command : git checkout -b v1.6 -f origin/r1.6<br>\nand so on include v1.4 and v1.5</p>\n<p>\u00b7 Python version: Anaconda3 - python3.6</p>\n<p>\u00b7 Bazel version (if compiling from source): I used CMAKE 3.11.1</p>\n<p>\u00b7 GCC/Compiler version (if compiling from source): both Visual Studio 2015 and Visual Studio 2015' MSBuild</p>\n<p>\u00b7 CUDA/cuDNN version: CUDA9.0, cudnn-9.0-win10-7.1</p>\n<p>\u00b7 GPU model and memory: GTX-860m with 2Gb Memory</p>\n<p>Exact command to reproduce:<br>\n\"<br>\nD:\\ProgramData\\tensorflow\\tensorflow\\contrib\\cmake\\build&gt; cmake .. -A x64 -DCMAKE_BUILD_TYPE=Debug -DSWIG_EXECUTABLE=D:/soft/TensorflowSoft/swigwin-3.0.12/swig.exe -DPYTHON_EXECUTABLE=D:/ProgramData/Anaconda3/python.exe -DPYTHON_LIBRARIES=D:/ProgramData/Anaconda3/libs/python36.lib -Dtensorflow_ENABLE_GPU=ON -DCUDNN_HOME=\"D:\\soft\\TensorflowSoft\\cudnn\" -G \"Visual Studio 14 2015\"</p>\n<p>D:\\ProgramData\\tensorflow\\tensorflow\\contrib\\cmake\\build&gt; set PreferredToolArchitecture=x64</p>\n<p>D:\\ProgramData\\tensorflow\\tensorflow\\contrib\\cmake\\build&gt; MSBuild /p:Configuration=Release ALL_BUILD.vcxproj<br>\n\"</p>\n<p><strong>Describe the problem :</strong><br>\nI build TensorFlow-CPU-r1.8 successfully (win10-x64 + Anaconda3-python3.6 + VS2017(not VS2015) + tensorflow1.8 + cmake3.11.1 + SwigWin3.0.12).</p>\n<p>But when I build tensorflow-GPU version(both tensorflow-r1.7 and r1.8), the only error has occurred: \"error LNK1189\uff1alibrary limit of 65535 objects exceeded, pywrap_tensorflow_internal\".<br>\n(If I use VS2017, it shows error: \" the compiler is not supported for CUDA 9.0\" , so I switch Visual Studio version to VS2015, and CMAKE command is work successfully.)</p>\n<p>After that, I switched to lower versions TensorFlow-r1.6 to TensorFlow-r1.5, but Link error occurred\uff1a</p>\n<p>\u201clibprotobufd.lib(text_format.obj) : error LNK2019: unresolved external symbol __std_reverse_trivially_swappable_8 referenced in function \"void _<br>\n_cdecl std::_Reverse_unchecked1&lt;class google::protobuf::Message const * *&gt;(class google::protobuf::Message const * * const,class google::protobuf:<br>\n:Message const * * const,struct std::integral_constant&lt;unsigned __int64,8&gt;)\" (??$_Reverse_unchecked1@PEAPEBVMessage@protobuf@google@@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=434613\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/std\">@std</a>@@yaxqeap<br>\nEBVMessage@protobuf@google@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7218913\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/0u\">@0u</a>?$integral_constant@_K$07@0@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=49380\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/z\">@z</a>) [D:\\tf\\tensorflowGPU\\tensorflow\\contrib\\cmake\\build\\proto_text.vcxproj]<br>\nlibprotobufd.lib(wire_format.obj) : error LNK2001: unresolved external symbol __std_reverse_trivially_swappable_8 [D:\\tf\\tensorflowGPU\\tensorflo<br>\nw\\contrib\\cmake\\build\\proto_text.vcxproj]<br>\nD:\\tf\\tensorflowGPU\\tensorflow\\contrib\\cmake\\build\\Debug\\proto_text.exe : fatal error LNK1120: 1 unresolved externals [D:\\tf\\tensorflowGPU\\tenso<br>\nrflow\\contrib\\cmake\\build\\proto_text.vcxproj]\u201d</p>\n<p>I don't know how to solve those errors...</p>", "body_text": "System information:\n\u00b7 Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\n\u00b7 OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Win10-x64\n\u00b7 TensorFlow installed from (source or binary): git clone https://github.com/tensorflow/tensorflow.git\n\u00b7 TensorFlow version (use command below): r1.4, r1.5, r1.6 r1.7 and r1.8, command :\nv1.8's command : git checkout -b v1.8 -f origin/r1.8\nv1.7's command : git checkout -b v1.7 -f origin/r1.7\nv1.6's command : git checkout -b v1.6 -f origin/r1.6\nand so on include v1.4 and v1.5\n\u00b7 Python version: Anaconda3 - python3.6\n\u00b7 Bazel version (if compiling from source): I used CMAKE 3.11.1\n\u00b7 GCC/Compiler version (if compiling from source): both Visual Studio 2015 and Visual Studio 2015' MSBuild\n\u00b7 CUDA/cuDNN version: CUDA9.0, cudnn-9.0-win10-7.1\n\u00b7 GPU model and memory: GTX-860m with 2Gb Memory\nExact command to reproduce:\n\"\nD:\\ProgramData\\tensorflow\\tensorflow\\contrib\\cmake\\build> cmake .. -A x64 -DCMAKE_BUILD_TYPE=Debug -DSWIG_EXECUTABLE=D:/soft/TensorflowSoft/swigwin-3.0.12/swig.exe -DPYTHON_EXECUTABLE=D:/ProgramData/Anaconda3/python.exe -DPYTHON_LIBRARIES=D:/ProgramData/Anaconda3/libs/python36.lib -Dtensorflow_ENABLE_GPU=ON -DCUDNN_HOME=\"D:\\soft\\TensorflowSoft\\cudnn\" -G \"Visual Studio 14 2015\"\nD:\\ProgramData\\tensorflow\\tensorflow\\contrib\\cmake\\build> set PreferredToolArchitecture=x64\nD:\\ProgramData\\tensorflow\\tensorflow\\contrib\\cmake\\build> MSBuild /p:Configuration=Release ALL_BUILD.vcxproj\n\"\nDescribe the problem :\nI build TensorFlow-CPU-r1.8 successfully (win10-x64 + Anaconda3-python3.6 + VS2017(not VS2015) + tensorflow1.8 + cmake3.11.1 + SwigWin3.0.12).\nBut when I build tensorflow-GPU version(both tensorflow-r1.7 and r1.8), the only error has occurred: \"error LNK1189\uff1alibrary limit of 65535 objects exceeded, pywrap_tensorflow_internal\".\n(If I use VS2017, it shows error: \" the compiler is not supported for CUDA 9.0\" , so I switch Visual Studio version to VS2015, and CMAKE command is work successfully.)\nAfter that, I switched to lower versions TensorFlow-r1.6 to TensorFlow-r1.5, but Link error occurred\uff1a\n\u201clibprotobufd.lib(text_format.obj) : error LNK2019: unresolved external symbol __std_reverse_trivially_swappable_8 referenced in function \"void _\n_cdecl std::_Reverse_unchecked1<class google::protobuf::Message const * *>(class google::protobuf::Message const * * const,class google::protobuf:\n:Message const * * const,struct std::integral_constant<unsigned __int64,8>)\" (??$_Reverse_unchecked1@PEAPEBVMessage@protobuf@google@@@std@@yaxqeap\nEBVMessage@protobuf@google@@0u?$integral_constant@_K$07@0@@z) [D:\\tf\\tensorflowGPU\\tensorflow\\contrib\\cmake\\build\\proto_text.vcxproj]\nlibprotobufd.lib(wire_format.obj) : error LNK2001: unresolved external symbol __std_reverse_trivially_swappable_8 [D:\\tf\\tensorflowGPU\\tensorflo\nw\\contrib\\cmake\\build\\proto_text.vcxproj]\nD:\\tf\\tensorflowGPU\\tensorflow\\contrib\\cmake\\build\\Debug\\proto_text.exe : fatal error LNK1120: 1 unresolved externals [D:\\tf\\tensorflowGPU\\tenso\nrflow\\contrib\\cmake\\build\\proto_text.vcxproj]\u201d\nI don't know how to solve those errors...", "body": "**System information:**\r\n\u00b7 Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n\r\n\u00b7 OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Win10-x64\r\n\r\n\u00b7 TensorFlow installed from (source or binary): git clone https://github.com/tensorflow/tensorflow.git\r\n\r\n\u00b7 TensorFlow version (use command below): r1.4, r1.5, r1.6 r1.7 and r1.8, command :\r\nv1.8's command : git checkout -b v1.8 -f origin/r1.8\r\nv1.7's command : git checkout -b v1.7 -f origin/r1.7\r\nv1.6's command : git checkout -b v1.6 -f origin/r1.6\r\nand so on include v1.4 and v1.5\r\n\r\n\u00b7 Python version: Anaconda3 - python3.6\r\n\r\n\u00b7 Bazel version (if compiling from source): I used CMAKE 3.11.1\r\n\r\n\u00b7 GCC/Compiler version (if compiling from source): both Visual Studio 2015 and Visual Studio 2015' MSBuild\r\n\r\n\u00b7 CUDA/cuDNN version: CUDA9.0, cudnn-9.0-win10-7.1\r\n\r\n\u00b7 GPU model and memory: GTX-860m with 2Gb Memory\r\n\r\nExact command to reproduce:\r\n\"\r\nD:\\ProgramData\\tensorflow\\tensorflow\\contrib\\cmake\\build> cmake .. -A x64 -DCMAKE_BUILD_TYPE=Debug -DSWIG_EXECUTABLE=D:/soft/TensorflowSoft/swigwin-3.0.12/swig.exe -DPYTHON_EXECUTABLE=D:/ProgramData/Anaconda3/python.exe -DPYTHON_LIBRARIES=D:/ProgramData/Anaconda3/libs/python36.lib -Dtensorflow_ENABLE_GPU=ON -DCUDNN_HOME=\"D:\\soft\\TensorflowSoft\\cudnn\" -G \"Visual Studio 14 2015\"\r\n\r\nD:\\ProgramData\\tensorflow\\tensorflow\\contrib\\cmake\\build> set PreferredToolArchitecture=x64\r\n\r\nD:\\ProgramData\\tensorflow\\tensorflow\\contrib\\cmake\\build> MSBuild /p:Configuration=Release ALL_BUILD.vcxproj\r\n\"\r\n\r\n**Describe the problem :**\r\nI build TensorFlow-CPU-r1.8 successfully (win10-x64 + Anaconda3-python3.6 + VS2017(not VS2015) + tensorflow1.8 + cmake3.11.1 + SwigWin3.0.12).\r\n\r\nBut when I build tensorflow-GPU version(both tensorflow-r1.7 and r1.8), the only error has occurred: \"error LNK1189\uff1alibrary limit of 65535 objects exceeded, pywrap_tensorflow_internal\".\r\n (If I use VS2017, it shows error: \" the compiler is not supported for CUDA 9.0\" , so I switch Visual Studio version to VS2015, and CMAKE command is work successfully.)\r\n\r\nAfter that, I switched to lower versions TensorFlow-r1.6 to TensorFlow-r1.5, but Link error occurred\uff1a\r\n\r\n\u201clibprotobufd.lib(text_format.obj) : error LNK2019: unresolved external symbol __std_reverse_trivially_swappable_8 referenced in function \"void _\r\n_cdecl std::_Reverse_unchecked1<class google::protobuf::Message const * *>(class google::protobuf::Message const * * const,class google::protobuf:\r\n:Message const * * const,struct std::integral_constant<unsigned __int64,8>)\" (??$_Reverse_unchecked1@PEAPEBVMessage@protobuf@google@@@std@@yaxqeap\r\nEBVMessage@protobuf@google@@0u?$integral_constant@_K$07@0@@z) [D:\\tf\\tensorflowGPU\\tensorflow\\contrib\\cmake\\build\\proto_text.vcxproj]\r\nlibprotobufd.lib(wire_format.obj) : error LNK2001: unresolved external symbol __std_reverse_trivially_swappable_8 [D:\\tf\\tensorflowGPU\\tensorflo\r\nw\\contrib\\cmake\\build\\proto_text.vcxproj]\r\nD:\\tf\\tensorflowGPU\\tensorflow\\contrib\\cmake\\build\\Debug\\proto_text.exe : fatal error LNK1120: 1 unresolved externals [D:\\tf\\tensorflowGPU\\tenso\r\nrflow\\contrib\\cmake\\build\\proto_text.vcxproj]\u201d\r\n\r\nI don't know how to solve those errors..."}