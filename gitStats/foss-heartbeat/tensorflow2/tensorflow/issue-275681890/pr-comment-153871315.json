{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/153871315", "pull_request_review_id": 79946218, "id": 153871315, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1Mzg3MTMxNQ==", "diff_hunk": "@@ -143,47 +149,33 @@ def run_training():\n                        tf.local_variables_initializer())\n \n     # Create a session for running operations in the Graph.\n-    sess = tf.Session()\n-\n-    # Initialize the variables (the trained variables and the\n-    # epoch counter).\n-    sess.run(init_op)\n-\n-    # Start input enqueue threads.\n-    coord = tf.train.Coordinator()\n-    threads = tf.train.start_queue_runners(sess=sess, coord=coord)\n-\n-    try:\n-      step = 0\n-      while not coord.should_stop():\n-        start_time = time.time()\n-\n-        # Run one step of the model.  The return values are\n-        # the activations from the `train_op` (which is\n-        # discarded) and the `loss` op.  To inspect the values\n-        # of your ops or variables, you may include them in\n-        # the list passed to sess.run() and the value tensors\n-        # will be returned in the tuple from the call.\n-        _, loss_value = sess.run([train_op, loss])\n-\n-        duration = time.time() - start_time\n-\n-        # Print an overview fairly often.\n-        if step % 100 == 0:\n-          print('Step %d: loss = %.2f (%.3f sec)' % (step, loss_value,\n+    with tf.Session().as_default() as sess:", "path": "tensorflow/examples/how_tos/reading_data/fully_connected_reader.py", "position": null, "original_position": 152, "commit_id": "e018f3093dc1f94fa64c3ca928fca685f43aae50", "original_commit_id": "0808db05d39fb7fb4fbde38a4c556f7dc2a8c652", "user": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "body": "Optional: this `as_default()` is unnecessary.", "created_at": "2017-11-29T18:16:37Z", "updated_at": "2017-12-04T14:43:25Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/14751#discussion_r153871315", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14751", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/153871315"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/14751#discussion_r153871315"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14751"}}, "body_html": "<p>Optional: this <code>as_default()</code> is unnecessary.</p>", "body_text": "Optional: this as_default() is unnecessary."}