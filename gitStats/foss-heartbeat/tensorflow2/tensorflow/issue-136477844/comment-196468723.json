{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/196468723", "html_url": "https://github.com/tensorflow/tensorflow/issues/1287#issuecomment-196468723", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1287", "id": 196468723, "node_id": "MDEyOklzc3VlQ29tbWVudDE5NjQ2ODcyMw==", "user": {"login": "dgolden1", "id": 1332812, "node_id": "MDQ6VXNlcjEzMzI4MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1332812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgolden1", "html_url": "https://github.com/dgolden1", "followers_url": "https://api.github.com/users/dgolden1/followers", "following_url": "https://api.github.com/users/dgolden1/following{/other_user}", "gists_url": "https://api.github.com/users/dgolden1/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgolden1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgolden1/subscriptions", "organizations_url": "https://api.github.com/users/dgolden1/orgs", "repos_url": "https://api.github.com/users/dgolden1/repos", "events_url": "https://api.github.com/users/dgolden1/events{/privacy}", "received_events_url": "https://api.github.com/users/dgolden1/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-14T18:53:06Z", "updated_at": "2016-03-14T18:53:06Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Some progress; I did gulp vulcanize and then the bazel build with the latest master (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/e4add493f1020c0eb986aba21c266d9e6e6f4182/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/e4add493f1020c0eb986aba21c266d9e6e6f4182\"><tt>e4add49</tt></a>). As before, I'm on Ubuntu 14.04 on Amazon EC2 with Anaconda Python 3.5.1 Now, when attempting to visualize the graph (after dumping it via the same Python snippet in my original issue), I get this TensorBoard error:</p>\n<pre><code>Traceback (most recent call last):\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/socketserver.py\", line 628, in process_request_thread\n    self.finish_request(request, client_address)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/socketserver.py\", line 357, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/handler.py\", line 93, in __init__\n    BaseHTTPServer.BaseHTTPRequestHandler.__init__(self, *args)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/socketserver.py\", line 684, in __init__\n    self.handle()\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/http/server.py\", line 415, in handle\n    self.handle_one_request()\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/http/server.py\", line 403, in handle_one_request\n    method()\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/handler.py\", line 454, in do_GET\n    data_handlers[clean_path](query_params)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/handler.py\", line 259, in _serve_graph\n    large_attrs_key)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/process_graph.py\", line 66, in prepare_graph_for_ui\n    node.attr[large_attrs_key].list.s.append(str(key))\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/google/protobuf/internal/containers.py\", line 251, in append\n    self._values.append(self._type_checker.CheckValue(value))\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/google/protobuf/internal/type_checkers.py\", line 108, in CheckValue\n    raise TypeError(message)\nTypeError: 'value' has type &lt;class 'str'&gt;, but expected one of: (&lt;class 'bytes'&gt;,)\n</code></pre>\n<p>The TensorBoard app shows this \"Graph visualization failed\" error<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/1332812/13756027/2d7d0e4a-e9db-11e5-98b0-01db39439709.png\"><img src=\"https://cloud.githubusercontent.com/assets/1332812/13756027/2d7d0e4a-e9db-11e5-98b0-01db39439709.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>\n<p>Could this be a Python 2 vs. 3 issue?</p>", "body_text": "Some progress; I did gulp vulcanize and then the bazel build with the latest master (e4add49). As before, I'm on Ubuntu 14.04 on Amazon EC2 with Anaconda Python 3.5.1 Now, when attempting to visualize the graph (after dumping it via the same Python snippet in my original issue), I get this TensorBoard error:\nTraceback (most recent call last):\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/socketserver.py\", line 628, in process_request_thread\n    self.finish_request(request, client_address)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/socketserver.py\", line 357, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/handler.py\", line 93, in __init__\n    BaseHTTPServer.BaseHTTPRequestHandler.__init__(self, *args)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/socketserver.py\", line 684, in __init__\n    self.handle()\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/http/server.py\", line 415, in handle\n    self.handle_one_request()\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/http/server.py\", line 403, in handle_one_request\n    method()\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/handler.py\", line 454, in do_GET\n    data_handlers[clean_path](query_params)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/handler.py\", line 259, in _serve_graph\n    large_attrs_key)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/process_graph.py\", line 66, in prepare_graph_for_ui\n    node.attr[large_attrs_key].list.s.append(str(key))\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/google/protobuf/internal/containers.py\", line 251, in append\n    self._values.append(self._type_checker.CheckValue(value))\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/google/protobuf/internal/type_checkers.py\", line 108, in CheckValue\n    raise TypeError(message)\nTypeError: 'value' has type <class 'str'>, but expected one of: (<class 'bytes'>,)\n\nThe TensorBoard app shows this \"Graph visualization failed\" error\n\nCould this be a Python 2 vs. 3 issue?", "body": "Some progress; I did gulp vulcanize and then the bazel build with the latest master (e4add493f1020c0eb986aba21c266d9e6e6f4182). As before, I'm on Ubuntu 14.04 on Amazon EC2 with Anaconda Python 3.5.1 Now, when attempting to visualize the graph (after dumping it via the same Python snippet in my original issue), I get this TensorBoard error:\n\n```\nTraceback (most recent call last):\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/socketserver.py\", line 628, in process_request_thread\n    self.finish_request(request, client_address)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/socketserver.py\", line 357, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/handler.py\", line 93, in __init__\n    BaseHTTPServer.BaseHTTPRequestHandler.__init__(self, *args)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/socketserver.py\", line 684, in __init__\n    self.handle()\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/http/server.py\", line 415, in handle\n    self.handle_one_request()\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/http/server.py\", line 403, in handle_one_request\n    method()\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/handler.py\", line 454, in do_GET\n    data_handlers[clean_path](query_params)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/handler.py\", line 259, in _serve_graph\n    large_attrs_key)\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/tensorflow/tensorboard/backend/process_graph.py\", line 66, in prepare_graph_for_ui\n    node.attr[large_attrs_key].list.s.append(str(key))\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/google/protobuf/internal/containers.py\", line 251, in append\n    self._values.append(self._type_checker.CheckValue(value))\n  File \"/home/ubuntu/anaconda3/envs/tensorflow_py3_unstable/lib/python3.5/site-packages/google/protobuf/internal/type_checkers.py\", line 108, in CheckValue\n    raise TypeError(message)\nTypeError: 'value' has type <class 'str'>, but expected one of: (<class 'bytes'>,)\n```\n\nThe TensorBoard app shows this \"Graph visualization failed\" error\n![image](https://cloud.githubusercontent.com/assets/1332812/13756027/2d7d0e4a-e9db-11e5-98b0-01db39439709.png)\n\nCould this be a Python 2 vs. 3 issue?\n"}