{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/350319624", "html_url": "https://github.com/tensorflow/tensorflow/pull/15166#issuecomment-350319624", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15166", "id": 350319624, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDMxOTYyNA==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-08T17:19:08Z", "updated_at": "2017-12-08T17:19:08Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Thanks for getting this started! I have a few high-level comments about the structure:</p>\n<ul>\n<li>Can you rewrite the Python tests to use <code>tf.test.TestCase</code> (similar to other Python <code>*_test.py</code> files)? This will make the tests work better with our testing infrastructure, which in turn makes failures easier to track down.</li>\n<li>In their current form,  I think those tests will fail when running on Bazel, because they don't have the appropriate <code>data</code> dependencies in the <code>BUILD</code> files. FWIW, I expected the test would have dependencies on the appropriate <code>*.txt</code> files and a generated PIP package (built using the Bazel target), and it would compare the set of directories. (See <a href=\"https://github.com/tensorflow/tensorflow/blob/3a05c119d8499c3b1e0a3ef6520af3e62738a80c/tensorflow/python/BUILD#L2559\">here</a> for an example of a test that uses <code>data</code> dependencies.)</li>\n<li>Just to check, are the changes in <code>python_modules.txt</code> due to code that's been removed?</li>\n</ul>", "body_text": "Thanks for getting this started! I have a few high-level comments about the structure:\n\nCan you rewrite the Python tests to use tf.test.TestCase (similar to other Python *_test.py files)? This will make the tests work better with our testing infrastructure, which in turn makes failures easier to track down.\nIn their current form,  I think those tests will fail when running on Bazel, because they don't have the appropriate data dependencies in the BUILD files. FWIW, I expected the test would have dependencies on the appropriate *.txt files and a generated PIP package (built using the Bazel target), and it would compare the set of directories. (See here for an example of a test that uses data dependencies.)\nJust to check, are the changes in python_modules.txt due to code that's been removed?", "body": "Thanks for getting this started! I have a few high-level comments about the structure:\r\n\r\n* Can you rewrite the Python tests to use `tf.test.TestCase` (similar to other Python `*_test.py` files)? This will make the tests work better with our testing infrastructure, which in turn makes failures easier to track down.\r\n* In their current form,  I think those tests will fail when running on Bazel, because they don't have the appropriate `data` dependencies in the `BUILD` files. FWIW, I expected the test would have dependencies on the appropriate `*.txt` files and a generated PIP package (built using the Bazel target), and it would compare the set of directories. (See [here](https://github.com/tensorflow/tensorflow/blob/3a05c119d8499c3b1e0a3ef6520af3e62738a80c/tensorflow/python/BUILD#L2559) for an example of a test that uses `data` dependencies.)\r\n* Just to check, are the changes in `python_modules.txt` due to code that's been removed?"}