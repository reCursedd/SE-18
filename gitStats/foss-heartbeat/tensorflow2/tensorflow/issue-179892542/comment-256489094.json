{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/256489094", "html_url": "https://github.com/tensorflow/tensorflow/issues/4638#issuecomment-256489094", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4638", "id": 256489094, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjQ4OTA5NA==", "user": {"login": "Fenugreek", "id": 3323801, "node_id": "MDQ6VXNlcjMzMjM4MDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3323801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fenugreek", "html_url": "https://github.com/Fenugreek", "followers_url": "https://api.github.com/users/Fenugreek/followers", "following_url": "https://api.github.com/users/Fenugreek/following{/other_user}", "gists_url": "https://api.github.com/users/Fenugreek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fenugreek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fenugreek/subscriptions", "organizations_url": "https://api.github.com/users/Fenugreek/orgs", "repos_url": "https://api.github.com/users/Fenugreek/repos", "events_url": "https://api.github.com/users/Fenugreek/events{/privacy}", "received_events_url": "https://api.github.com/users/Fenugreek/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-26T21:56:07Z", "updated_at": "2016-10-26T21:56:07Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Great, thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1217238\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/shoyer\">@shoyer</a> and <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2111293\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/danijar\">@danijar</a> . I am past that problem now, but have another error with the basic indexing:</p>\n<div class=\"highlight highlight-source-python\"><pre>        <span class=\"pl-c1\">print</span> pool.get_shape(), args.get_shape(), values.get_shape()\n        tf.assign(pool[args], values)</pre></div>\n<p>gives</p>\n<pre><code>(1024000,) (512000,) (512000,)\nTraceback (most recent call last):\n...\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/array_ops.py\", line 1644, in _DelegateStridedSliceShape\n    return common_shapes.call_cpp_shape_fn(op, input_tensors_needed=[1, 2, 3])\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/common_shapes.py\", line 596, in call_cpp_shape_fn\n    raise ValueError(err.message)\nValueError: Shape must be rank 1 but is rank 2\n</code></pre>\n<p>There are no rank 2 shapes anywhere, so I am confused. The same error results even if I just do a <code>return pool[args]</code>, so has nothing to do with the assignment but with the basic indexing itself. Thanks again.</p>", "body_text": "Great, thanks @shoyer and @danijar . I am past that problem now, but have another error with the basic indexing:\n        print pool.get_shape(), args.get_shape(), values.get_shape()\n        tf.assign(pool[args], values)\ngives\n(1024000,) (512000,) (512000,)\nTraceback (most recent call last):\n...\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/array_ops.py\", line 1644, in _DelegateStridedSliceShape\n    return common_shapes.call_cpp_shape_fn(op, input_tensors_needed=[1, 2, 3])\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/common_shapes.py\", line 596, in call_cpp_shape_fn\n    raise ValueError(err.message)\nValueError: Shape must be rank 1 but is rank 2\n\nThere are no rank 2 shapes anywhere, so I am confused. The same error results even if I just do a return pool[args], so has nothing to do with the assignment but with the basic indexing itself. Thanks again.", "body": "Great, thanks @shoyer and @danijar . I am past that problem now, but have another error with the basic indexing:\n\n``` python\n        print pool.get_shape(), args.get_shape(), values.get_shape()\n        tf.assign(pool[args], values)\n```\n\ngives\n\n```\n(1024000,) (512000,) (512000,)\nTraceback (most recent call last):\n...\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/array_ops.py\", line 1644, in _DelegateStridedSliceShape\n    return common_shapes.call_cpp_shape_fn(op, input_tensors_needed=[1, 2, 3])\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/common_shapes.py\", line 596, in call_cpp_shape_fn\n    raise ValueError(err.message)\nValueError: Shape must be rank 1 but is rank 2\n```\n\nThere are no rank 2 shapes anywhere, so I am confused. The same error results even if I just do a `return pool[args]`, so has nothing to do with the assignment but with the basic indexing itself. Thanks again.\n"}