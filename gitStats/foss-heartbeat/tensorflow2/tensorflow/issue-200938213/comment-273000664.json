{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/273000664", "html_url": "https://github.com/tensorflow/tensorflow/pull/6872#issuecomment-273000664", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6872", "id": 273000664, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzAwMDY2NA==", "user": {"login": "zafartahirov", "id": 4216323, "node_id": "MDQ6VXNlcjQyMTYzMjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4216323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zafartahirov", "html_url": "https://github.com/zafartahirov", "followers_url": "https://api.github.com/users/zafartahirov/followers", "following_url": "https://api.github.com/users/zafartahirov/following{/other_user}", "gists_url": "https://api.github.com/users/zafartahirov/gists{/gist_id}", "starred_url": "https://api.github.com/users/zafartahirov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zafartahirov/subscriptions", "organizations_url": "https://api.github.com/users/zafartahirov/orgs", "repos_url": "https://api.github.com/users/zafartahirov/repos", "events_url": "https://api.github.com/users/zafartahirov/events{/privacy}", "received_events_url": "https://api.github.com/users/zafartahirov/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-17T01:44:28Z", "updated_at": "2017-01-17T01:44:28Z", "author_association": "CONTRIBUTOR", "body_html": "<p>OK, I looked into the code, and I think there is a potential bug (I didn't introduce it though).</p>\n<p>In line <a href=\"https://github.com/tensorflow/tensorflow/blob/76d596002/tensorflow/python/kernel_tests/inplace_ops_test.py#L102\"><code>inplace_ops_test.py#L102</code></a>, there is a <code>d0 / 10</code>, which potentially might return a float, while <code>numpy.random.choice</code> expects an integer. This is supposed to be <code>d0 // 10</code>, given that there is a <code>from __future__ import division</code>. The same story is on line <a href=\"https://github.com/tensorflow/tensorflow/blob/76d596002/tensorflow/python/kernel_tests/inplace_ops_test.py#L122\"><code>inplace_ops_test.py#L122</code></a>. I am not really sure about the other error -- need to read the code more <g-emoji class=\"g-emoji\" alias=\"smile\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f604.png\">\ud83d\ude04</g-emoji></p>", "body_text": "OK, I looked into the code, and I think there is a potential bug (I didn't introduce it though).\nIn line inplace_ops_test.py#L102, there is a d0 / 10, which potentially might return a float, while numpy.random.choice expects an integer. This is supposed to be d0 // 10, given that there is a from __future__ import division. The same story is on line inplace_ops_test.py#L122. I am not really sure about the other error -- need to read the code more \ud83d\ude04", "body": "OK, I looked into the code, and I think there is a potential bug (I didn't introduce it though).\r\n\r\nIn line [`inplace_ops_test.py#L102`](https://github.com/tensorflow/tensorflow/blob/76d596002/tensorflow/python/kernel_tests/inplace_ops_test.py#L102), there is a `d0 / 10`, which potentially might return a float, while `numpy.random.choice` expects an integer. This is supposed to be `d0 // 10`, given that there is a `from __future__ import division`. The same story is on line [`inplace_ops_test.py#L122`](https://github.com/tensorflow/tensorflow/blob/76d596002/tensorflow/python/kernel_tests/inplace_ops_test.py#L122). I am not really sure about the other error -- need to read the code more \ud83d\ude04 "}