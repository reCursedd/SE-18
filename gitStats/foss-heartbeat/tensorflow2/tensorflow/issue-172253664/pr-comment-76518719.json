{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/76518719", "pull_request_review_id": null, "id": 76518719, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc2NTE4NzE5", "diff_hunk": "@@ -52,29 +52,24 @@\n flags.DEFINE_boolean(\"download_only\", False,\n                      \"Only perform downloading of data; Do not proceed to \"\n                      \"session preparation, model definition or training\")\n-flags.DEFINE_integer(\"worker_index\", 0,\n-                     \"Worker task index, should be >= 0. worker_index=0 is \"\n+flags.DEFINE_integer(\"task_index\", 0,\n+                     \"Worker task index, should be >= 0. task_index=0 is \"\n                      \"the master worker task the performs the variable \"\n                      \"initialization \")\n flags.DEFINE_integer(\"num_workers\", 2,\n                      \"Total number of workers (must be >= 1)\")\n-flags.DEFINE_integer(\"num_parameter_servers\", 1,\n-                     \"Total number of parameter servers (must be >= 1)\")\n+flags.DEFINE_integer(\"num_gpu\", 4,\n+                     \"Total number of gpus for each machine (must be >= 1\")", "path": "tensorflow/tools/dist_test/python/mnist_replica.py", "position": null, "original_position": 26, "commit_id": "aa18b64322020939d36b30114e74622754f99f88", "original_commit_id": "4f9bff840b6a258fccfb38cd73abddfbf3c9f065", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "body": "Can you set the default here to be 1, and make it so that 0 is also a valid value? (You'll need to change the code for constructing the worker device, so that it uses `\"/cpu:0\"` when `FLAGS.num_gpus` is 0.)\n\nAlso, can you rename this flag from `num_gpu` to `num_gpus` for consistency with the other flags?\n", "created_at": "2016-08-27T16:15:21Z", "updated_at": "2016-09-08T09:52:28Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/3935#discussion_r76518719", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3935", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/76518719"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/3935#discussion_r76518719"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3935"}}, "body_html": "<p>Can you set the default here to be 1, and make it so that 0 is also a valid value? (You'll need to change the code for constructing the worker device, so that it uses <code>\"/cpu:0\"</code> when <code>FLAGS.num_gpus</code> is 0.)</p>\n<p>Also, can you rename this flag from <code>num_gpu</code> to <code>num_gpus</code> for consistency with the other flags?</p>", "body_text": "Can you set the default here to be 1, and make it so that 0 is also a valid value? (You'll need to change the code for constructing the worker device, so that it uses \"/cpu:0\" when FLAGS.num_gpus is 0.)\nAlso, can you rename this flag from num_gpu to num_gpus for consistency with the other flags?"}