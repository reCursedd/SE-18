{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/245509564", "html_url": "https://github.com/tensorflow/tensorflow/pull/3935#issuecomment-245509564", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3935", "id": 245509564, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTUwOTU2NA==", "user": {"login": "DjangoPeng", "id": 16943353, "node_id": "MDQ6VXNlcjE2OTQzMzUz", "avatar_url": "https://avatars3.githubusercontent.com/u/16943353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DjangoPeng", "html_url": "https://github.com/DjangoPeng", "followers_url": "https://api.github.com/users/DjangoPeng/followers", "following_url": "https://api.github.com/users/DjangoPeng/following{/other_user}", "gists_url": "https://api.github.com/users/DjangoPeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/DjangoPeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DjangoPeng/subscriptions", "organizations_url": "https://api.github.com/users/DjangoPeng/orgs", "repos_url": "https://api.github.com/users/DjangoPeng/repos", "events_url": "https://api.github.com/users/DjangoPeng/events{/privacy}", "received_events_url": "https://api.github.com/users/DjangoPeng/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-08T06:52:06Z", "updated_at": "2016-09-08T07:12:19Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16824702\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/caisq\">@caisq</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> I have updated the <code>dist_mnist_test.sh</code> and it works well in my test. You can check and run the script.<br>\nSome change notes for <code>dist_mnist_test.sh</code>:</p>\n<ul>\n<li>Delete <code>num-workers</code> and <code>num-ps</code> arguments</li>\n<li>Add <code>ps-hosts</code>, <code>worker-hosts</code> and <code>num-gpus</code> arguments</li>\n<li>According to FLAGS.ps_hosts/worker_hosts, change the delimiter to \",\" in place of space.</li>\n<li><code>PS_ARRAY</code> and <code>WORKER_ARRAY</code> keep the delimiter as space, which for the log info <code>echo HOST</code></li>\n<li>Get <code>N_WORKERS</code> and <code>N_PS</code> by counting the IP addresses of <code>WORKER_HOSTS</code> and <code>IP_HOSTS</code></li>\n<li><code>sync-replicas</code>=1 -&gt; FLAGS.sync_replicas=True;</li>\n<li><code>sync-replicas</code>=0 -&gt; FLAGS.sync_replicas=False;</li>\n</ul>", "body_text": "@caisq @mrry I have updated the dist_mnist_test.sh and it works well in my test. You can check and run the script.\nSome change notes for dist_mnist_test.sh:\n\nDelete num-workers and num-ps arguments\nAdd ps-hosts, worker-hosts and num-gpus arguments\nAccording to FLAGS.ps_hosts/worker_hosts, change the delimiter to \",\" in place of space.\nPS_ARRAY and WORKER_ARRAY keep the delimiter as space, which for the log info echo HOST\nGet N_WORKERS and N_PS by counting the IP addresses of WORKER_HOSTS and IP_HOSTS\nsync-replicas=1 -> FLAGS.sync_replicas=True;\nsync-replicas=0 -> FLAGS.sync_replicas=False;", "body": "@caisq @mrry I have updated the `dist_mnist_test.sh` and it works well in my test. You can check and run the script. \nSome change notes for `dist_mnist_test.sh`:\n- Delete `num-workers` and `num-ps` arguments\n- Add `ps-hosts`, `worker-hosts` and `num-gpus` arguments\n- According to FLAGS.ps_hosts/worker_hosts, change the delimiter to \",\" in place of space.\n- `PS_ARRAY` and `WORKER_ARRAY` keep the delimiter as space, which for the log info `echo HOST`\n- Get `N_WORKERS` and `N_PS` by counting the IP addresses of `WORKER_HOSTS` and `IP_HOSTS`\n- `sync-replicas`=1 -> FLAGS.sync_replicas=True; \n- `sync-replicas`=0 -> FLAGS.sync_replicas=False;\n"}