{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/506", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/506/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/506/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/506/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/506", "id": 122039271, "node_id": "MDU6SXNzdWUxMjIwMzkyNzE=", "number": 506, "title": "ptb_word_lm.py error: unsupported operand type(s) for /: 'Tensor' and 'int'", "user": {"login": "mttk", "id": 3007947, "node_id": "MDQ6VXNlcjMwMDc5NDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3007947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mttk", "html_url": "https://github.com/mttk", "followers_url": "https://api.github.com/users/mttk/followers", "following_url": "https://api.github.com/users/mttk/following{/other_user}", "gists_url": "https://api.github.com/users/mttk/gists{/gist_id}", "starred_url": "https://api.github.com/users/mttk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mttk/subscriptions", "organizations_url": "https://api.github.com/users/mttk/orgs", "repos_url": "https://api.github.com/users/mttk/repos", "events_url": "https://api.github.com/users/mttk/events{/privacy}", "received_events_url": "https://api.github.com/users/mttk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-12-14T13:10:52Z", "updated_at": "2017-02-09T22:02:25Z", "closed_at": "2015-12-14T22:03:10Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>I ran the <code>ptb_word_lm</code> example from <code>models/rnn/ptb</code>. however I got the <code>unsupported operand type(s) for /: 'Tensor' and 'int'</code> for line 139 in <code>ptb_word_lm.py</code>.</p>\n<p>I also managed to fix it, by changing<br>\n139 <code>self._cost = cost = tf.reduce_sum(loss) / batch_size</code><br>\nto<br>\n139 <code>self._cost = cost = tf.div(tf.reduce_sum(loss), tf.constant(batch_size, dtype=tf.types.float32))</code></p>\n<p>And it works fine so far.</p>", "body_text": "Hi,\nI ran the ptb_word_lm example from models/rnn/ptb. however I got the unsupported operand type(s) for /: 'Tensor' and 'int' for line 139 in ptb_word_lm.py.\nI also managed to fix it, by changing\n139 self._cost = cost = tf.reduce_sum(loss) / batch_size\nto\n139 self._cost = cost = tf.div(tf.reduce_sum(loss), tf.constant(batch_size, dtype=tf.types.float32))\nAnd it works fine so far.", "body": "Hi,\n\nI ran the `ptb_word_lm` example from `models/rnn/ptb`. however I got the `unsupported operand type(s) for /: 'Tensor' and 'int'` for line 139 in `ptb_word_lm.py`.\n\nI also managed to fix it, by changing \n139 `self._cost = cost = tf.reduce_sum(loss) / batch_size`\nto\n139 `self._cost = cost = tf.div(tf.reduce_sum(loss), tf.constant(batch_size, dtype=tf.types.float32))`\n\nAnd it works fine so far.\n"}