{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/382710997", "html_url": "https://github.com/tensorflow/tensorflow/issues/3375#issuecomment-382710997", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3375", "id": 382710997, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjcxMDk5Nw==", "user": {"login": "yl-jiang", "id": 33189834, "node_id": "MDQ6VXNlcjMzMTg5ODM0", "avatar_url": "https://avatars1.githubusercontent.com/u/33189834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yl-jiang", "html_url": "https://github.com/yl-jiang", "followers_url": "https://api.github.com/users/yl-jiang/followers", "following_url": "https://api.github.com/users/yl-jiang/following{/other_user}", "gists_url": "https://api.github.com/users/yl-jiang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yl-jiang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yl-jiang/subscriptions", "organizations_url": "https://api.github.com/users/yl-jiang/orgs", "repos_url": "https://api.github.com/users/yl-jiang/repos", "events_url": "https://api.github.com/users/yl-jiang/events{/privacy}", "received_events_url": "https://api.github.com/users/yl-jiang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-19T12:11:47Z", "updated_at": "2018-04-19T12:14:00Z", "author_association": "NONE", "body_html": "<p>When I run the following demo:</p>\n<p>import tensorflow as tf</p>\n<p>A = tf.constant([[0.1,0.2,0.3,0.4],[0.2,0.1,0.4,0.3],[0.4,0.3,0.2,0.1],[0.3,0.2,0.1,0.4],[0.1,0.4,0.3,0.2]], dtype=tf.float32)<br>\nB = tf.constant([1, 2, 1, 3, 3], dtype=tf.int32)<br>\nw_1 = tf.constant(value=[1,1,1,1,1], dtype=tf.float32)<br>\nw_2 = tf.constant(value=[1,2,3,4,5], dtype=tf.float32)</p>\n<p>D = tf.contrib.legacy_seq2seq.sequence_loss_by_example([A], [B], [w_1])<br>\nD_1 = tf.contrib.legacy_seq2seq.sequence_loss_by_example([A], [B], [w_1], average_across_timesteps=False)</p>\n<p>with tf.Session() as sess:<br>\nprint(sess.run(D))<br>\nprint(sess.run(D_1))</p>\n<p>The outputs are as following:</p>\n<p>[1.4425355 1.2425355 1.3425356 1.2425356 1.4425356]<br>\n[1.4425355 1.2425355 1.3425356 1.2425356 1.4425356]</p>\n<p>I found that whether the parm 'average_across_timesteps' is set as  'True' or 'False' the result is the same, why?</p>", "body_text": "When I run the following demo:\nimport tensorflow as tf\nA = tf.constant([[0.1,0.2,0.3,0.4],[0.2,0.1,0.4,0.3],[0.4,0.3,0.2,0.1],[0.3,0.2,0.1,0.4],[0.1,0.4,0.3,0.2]], dtype=tf.float32)\nB = tf.constant([1, 2, 1, 3, 3], dtype=tf.int32)\nw_1 = tf.constant(value=[1,1,1,1,1], dtype=tf.float32)\nw_2 = tf.constant(value=[1,2,3,4,5], dtype=tf.float32)\nD = tf.contrib.legacy_seq2seq.sequence_loss_by_example([A], [B], [w_1])\nD_1 = tf.contrib.legacy_seq2seq.sequence_loss_by_example([A], [B], [w_1], average_across_timesteps=False)\nwith tf.Session() as sess:\nprint(sess.run(D))\nprint(sess.run(D_1))\nThe outputs are as following:\n[1.4425355 1.2425355 1.3425356 1.2425356 1.4425356]\n[1.4425355 1.2425355 1.3425356 1.2425356 1.4425356]\nI found that whether the parm 'average_across_timesteps' is set as  'True' or 'False' the result is the same, why?", "body": "When I run the following demo:\r\n\r\nimport tensorflow as tf\r\n\r\nA = tf.constant([[0.1,0.2,0.3,0.4],[0.2,0.1,0.4,0.3],[0.4,0.3,0.2,0.1],[0.3,0.2,0.1,0.4],[0.1,0.4,0.3,0.2]], dtype=tf.float32)\r\nB = tf.constant([1, 2, 1, 3, 3], dtype=tf.int32)\r\nw_1 = tf.constant(value=[1,1,1,1,1], dtype=tf.float32)\r\nw_2 = tf.constant(value=[1,2,3,4,5], dtype=tf.float32)\r\n\r\nD = tf.contrib.legacy_seq2seq.sequence_loss_by_example([A], [B], [w_1])\r\nD_1 = tf.contrib.legacy_seq2seq.sequence_loss_by_example([A], [B], [w_1], average_across_timesteps=False)\r\n\r\n\r\nwith tf.Session() as sess:\r\n    print(sess.run(D))\r\n    print(sess.run(D_1))\r\n    \r\n\r\n\r\nThe outputs are as following:\r\n\r\n[1.4425355 1.2425355 1.3425356 1.2425356 1.4425356]\r\n[1.4425355 1.2425355 1.3425356 1.2425356 1.4425356]\r\n\r\nI found that whether the parm 'average_across_timesteps' is set as  'True' or 'False' the result is the same, why?"}