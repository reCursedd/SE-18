{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23216", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23216/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23216/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23216/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23216", "id": 373564714, "node_id": "MDU6SXNzdWUzNzM1NjQ3MTQ=", "number": 23216, "title": "Failing isinstance check in tensorflow.python.keras.models._clone_functional_model", "user": {"login": "sytham", "id": 5081109, "node_id": "MDQ6VXNlcjUwODExMDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/5081109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sytham", "html_url": "https://github.com/sytham", "followers_url": "https://api.github.com/users/sytham/followers", "following_url": "https://api.github.com/users/sytham/following{/other_user}", "gists_url": "https://api.github.com/users/sytham/gists{/gist_id}", "starred_url": "https://api.github.com/users/sytham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sytham/subscriptions", "organizations_url": "https://api.github.com/users/sytham/orgs", "repos_url": "https://api.github.com/users/sytham/repos", "events_url": "https://api.github.com/users/sytham/events{/privacy}", "received_events_url": "https://api.github.com/users/sytham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false}], "state": "open", "locked": false, "assignee": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-10-24T16:17:29Z", "updated_at": "2018-11-21T18:58:16Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>\n<p>Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No</p>\n</li>\n<li>\n<p>OS Platform and Distribution (e.g., Linux Ubuntu 16.04):<br>\nCentOS, specifically<br>\nLinux 3.10.0-693.5.2.el7.x86_64 <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP Fri Oct 20 20:32:50 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux</p>\n</li>\n<li>\n<p>TensorFlow installed from (source or binary): Through conda</p>\n</li>\n<li>\n<p>TensorFlow version (use command below): 1.11.0</p>\n</li>\n<li>\n<p>Python version:<br>\nPython 2.7.15 |Anaconda, Inc.| (default, Oct 10 2018, 21:32:13)<br>\n[GCC 7.3.0] on linux2<br>\n-Bazel version: NA<br>\n-CUDA/cuDNN version: NA<br>\n-GPU model and memory: NA<br>\n-Exact command to reproduce: NA<br>\n-Mobile device: NA</p>\n</li>\n</ul>\n<p><strong>Describe the current behavior</strong><br>\n<code>tensorflow.python.keras.models._clone_functional_model </code>raises a <code>ValueError </code>because the model passed to it is supposedly not an instance of <code>Model</code>, even though it is.</p>\n<p><strong>Code to reproduce the issue</strong></p>\n<pre><code>from tensorflow import keras\nfrom keras.models import Model\nfrom tensorflow.python.keras.engine import training\nModel2 = training.Model\nisinstance(Model(), Model2)\n</code></pre>\n<p>This returns False. Even though <code>keras.models.Model</code> should just be an alias for <code>tensorflow.python.keras.engine.training.Model</code>.</p>\n<p><strong>Other info / logs</strong><br>\nI run into this issue when calling<code> tensorflow.python.keras.estimator.model_to_estimator</code>.<br>\nI can work around it by importing all my keras imports using the full <code>tensorflow.python.keras...., </code>but I'm not sure why that should be necessary.</p>", "body_text": "System information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nCentOS, specifically\nLinux 3.10.0-693.5.2.el7.x86_64 #1 SMP Fri Oct 20 20:32:50 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\n\n\nTensorFlow installed from (source or binary): Through conda\n\n\nTensorFlow version (use command below): 1.11.0\n\n\nPython version:\nPython 2.7.15 |Anaconda, Inc.| (default, Oct 10 2018, 21:32:13)\n[GCC 7.3.0] on linux2\n-Bazel version: NA\n-CUDA/cuDNN version: NA\n-GPU model and memory: NA\n-Exact command to reproduce: NA\n-Mobile device: NA\n\n\nDescribe the current behavior\ntensorflow.python.keras.models._clone_functional_model raises a ValueError because the model passed to it is supposedly not an instance of Model, even though it is.\nCode to reproduce the issue\nfrom tensorflow import keras\nfrom keras.models import Model\nfrom tensorflow.python.keras.engine import training\nModel2 = training.Model\nisinstance(Model(), Model2)\n\nThis returns False. Even though keras.models.Model should just be an alias for tensorflow.python.keras.engine.training.Model.\nOther info / logs\nI run into this issue when calling tensorflow.python.keras.estimator.model_to_estimator.\nI can work around it by importing all my keras imports using the full tensorflow.python.keras...., but I'm not sure why that should be necessary.", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nCentOS, specifically\r\nLinux 3.10.0-693.5.2.el7.x86_64 #1 SMP Fri Oct 20 20:32:50 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n- TensorFlow installed from (source or binary): Through conda\r\n- TensorFlow version (use command below): 1.11.0\r\n- Python version:\r\nPython 2.7.15 |Anaconda, Inc.| (default, Oct 10 2018, 21:32:13)\r\n[GCC 7.3.0] on linux2\r\n-Bazel version: NA\r\n-CUDA/cuDNN version: NA\r\n-GPU model and memory: NA\r\n-Exact command to reproduce: NA\r\n-Mobile device: NA\r\n\r\n**Describe the current behavior**\r\n`tensorflow.python.keras.models._clone_functional_model `raises a `ValueError `because the model passed to it is supposedly not an instance of `Model`, even though it is.\r\n\r\n**Code to reproduce the issue**\r\n```\r\nfrom tensorflow import keras\r\nfrom keras.models import Model\r\nfrom tensorflow.python.keras.engine import training\r\nModel2 = training.Model\r\nisinstance(Model(), Model2)\r\n```\r\nThis returns False. Even though `keras.models.Model` should just be an alias for `tensorflow.python.keras.engine.training.Model`.\r\n\r\n**Other info / logs**\r\nI run into this issue when calling` tensorflow.python.keras.estimator.model_to_estimator`.\r\nI can work around it by importing all my keras imports using the full `tensorflow.python.keras...., `but I'm not sure why that should be necessary.\r\n"}