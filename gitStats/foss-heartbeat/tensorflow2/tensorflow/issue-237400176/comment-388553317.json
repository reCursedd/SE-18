{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/388553317", "html_url": "https://github.com/tensorflow/tensorflow/issues/10870#issuecomment-388553317", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10870", "id": 388553317, "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODU1MzMxNw==", "user": {"login": "mherkazandjian", "id": 3264637, "node_id": "MDQ6VXNlcjMyNjQ2Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/3264637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mherkazandjian", "html_url": "https://github.com/mherkazandjian", "followers_url": "https://api.github.com/users/mherkazandjian/followers", "following_url": "https://api.github.com/users/mherkazandjian/following{/other_user}", "gists_url": "https://api.github.com/users/mherkazandjian/gists{/gist_id}", "starred_url": "https://api.github.com/users/mherkazandjian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mherkazandjian/subscriptions", "organizations_url": "https://api.github.com/users/mherkazandjian/orgs", "repos_url": "https://api.github.com/users/mherkazandjian/repos", "events_url": "https://api.github.com/users/mherkazandjian/events{/privacy}", "received_events_url": "https://api.github.com/users/mherkazandjian/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-12T12:53:33Z", "updated_at": "2018-05-12T13:48:45Z", "author_association": "NONE", "body_html": "<p>tnx for the links. here are the details of my build (based on the issue template)</p>\n<ul>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\n- redhat 6.5<br>\n- native glibc 2.12-1</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\n- from source</li>\n<li>**TensorFlow version **:<br>\n- 1.5.1, 1.7.1</li>\n<li><strong>Python version</strong>:<br>\n- 3.6.5 (compiled from source with gcc 5.4.0)<br>\n- i have the same issue with anaconda 3.6.5</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\n- 0.9.0 for tf v1.5.1<br>\n- 0.10.0 for tf v1.7.1</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:<br>\n- 5.4.0<br>\n- i have the same issue with gcc 4.8.5</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\n- cuda 8.0 installed from the runfile for rhel 6 (i.e not from the rhel repo rpms)<br>\n- same problem with cuda 9.0 installed from the runfile</li>\n<li><strong>GPU model and memory</strong>:<br>\n- nvidia tesla k20m</li>\n<li><strong>Exact command to reproduce</strong>:<br>\n$ python -c \"import tensorflow\"</li>\n</ul>\n<p>i build tensorflow with the following script</p>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-k\">export</span> PYTHON_BIN_PATH=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/progs/usr/bin/tensorflow-1.5.1-py3/bin/python<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> PYTHON_LIB_PATH=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/progs/usr/bin/tensorflow-1.5.1-py3/lib/python3.6/site-packages<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_JEMALLOC=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_GCP=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_KAFKA=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_TENSORRT=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_HDFS=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_ENABLE_XLA=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_VERBS=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_OPENCL_SYCL=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_OPENCL=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_CUDA=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_CUDA_CLANG=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_CUDA_VERSION=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8.0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> CUDA_TOOLKIT_PATH=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/progs/usr/bin/cuda/cuda-8.0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> GCC_HOST_COMPILER_PATH=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/progs/usr/bin/gcc-5.4.0/bin/gcc<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_CUDNN_VERSION=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>6<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> CUDNN_INSTALL_PATH=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/progs/usr/bin/cuda/cuda-8.0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_CUDA_COMPUTE_CAPABILITIES=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>3.5<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_MPI=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_GDR=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> TF_NEED_S3=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> CC_OPT_FLAGS=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-march=native<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>export CC_OPT_FLAGS=\"-O0 -g\"</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>export TF_SET_ANDROID_WORKSPACE=\"0\"</span>\n\n./configure\nbazel build -s --verbose_failures --ignore_unsupported_sandboxing --genrule_strategy=standalone --spawn_strategy=standalone \\\n               --jobs=32 --config=opt --config=cuda --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">'</span>-lrt -lm<span class=\"pl-pds\">'</span></span> \\\n               //tensorflow/tools/pip_package:build_pip_package </pre></div>", "body_text": "tnx for the links. here are the details of my build (based on the issue template)\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\n- redhat 6.5\n- native glibc 2.12-1\nTensorFlow installed from (source or binary):\n- from source\n**TensorFlow version **:\n- 1.5.1, 1.7.1\nPython version:\n- 3.6.5 (compiled from source with gcc 5.4.0)\n- i have the same issue with anaconda 3.6.5\nBazel version (if compiling from source):\n- 0.9.0 for tf v1.5.1\n- 0.10.0 for tf v1.7.1\nGCC/Compiler version (if compiling from source):\n- 5.4.0\n- i have the same issue with gcc 4.8.5\nCUDA/cuDNN version:\n- cuda 8.0 installed from the runfile for rhel 6 (i.e not from the rhel repo rpms)\n- same problem with cuda 9.0 installed from the runfile\nGPU model and memory:\n- nvidia tesla k20m\nExact command to reproduce:\n$ python -c \"import tensorflow\"\n\ni build tensorflow with the following script\nexport PYTHON_BIN_PATH=\"/progs/usr/bin/tensorflow-1.5.1-py3/bin/python\"\nexport PYTHON_LIB_PATH=\"/progs/usr/bin/tensorflow-1.5.1-py3/lib/python3.6/site-packages\"\nexport TF_NEED_JEMALLOC=\"0\"\nexport TF_NEED_GCP=\"0\"\nexport TF_NEED_KAFKA=\"0\"\nexport TF_NEED_TENSORRT=\"0\"\nexport TF_NEED_HDFS=\"0\"\nexport TF_ENABLE_XLA=\"0\"\nexport TF_NEED_VERBS=\"0\"\nexport TF_NEED_OPENCL_SYCL=\"0\"\nexport TF_NEED_OPENCL=\"0\"\nexport TF_NEED_CUDA=\"1\"\nexport TF_CUDA_CLANG=\"0\"\nexport TF_CUDA_VERSION=\"8.0\"\nexport CUDA_TOOLKIT_PATH=\"/progs/usr/bin/cuda/cuda-8.0\"\nexport GCC_HOST_COMPILER_PATH=\"/progs/usr/bin/gcc-5.4.0/bin/gcc\"\nexport TF_CUDNN_VERSION=\"6\"\nexport CUDNN_INSTALL_PATH=\"/progs/usr/bin/cuda/cuda-8.0\"\nexport TF_CUDA_COMPUTE_CAPABILITIES=\"3.5\"\nexport TF_NEED_MPI=\"0\"\nexport TF_NEED_GDR=\"0\"\nexport TF_NEED_S3=\"0\"\nexport CC_OPT_FLAGS=\"-march=native\"\n#export CC_OPT_FLAGS=\"-O0 -g\"\n#export TF_SET_ANDROID_WORKSPACE=\"0\"\n\n./configure\nbazel build -s --verbose_failures --ignore_unsupported_sandboxing --genrule_strategy=standalone --spawn_strategy=standalone \\\n               --jobs=32 --config=opt --config=cuda --linkopt='-lrt -lm' \\\n               //tensorflow/tools/pip_package:build_pip_package", "body": "tnx for the links. here are the details of my build (based on the issue template)\r\n\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n       - redhat 6.5 \r\n       - native glibc 2.12-1\r\n- **TensorFlow installed from (source or binary)**:\r\n       - from source\r\n- **TensorFlow version **:\r\n       - 1.5.1, 1.7.1\r\n- **Python version**: \r\n       - 3.6.5 (compiled from source with gcc 5.4.0)  \r\n             - i have the same issue with anaconda 3.6.5\r\n- **Bazel version (if compiling from source)**:\r\n       - 0.9.0 for tf v1.5.1\r\n       - 0.10.0 for tf v1.7.1\r\n- **GCC/Compiler version (if compiling from source)**:\r\n       - 5.4.0\r\n       - i have the same issue with gcc 4.8.5\r\n- **CUDA/cuDNN version**:\r\n       - cuda 8.0 installed from the runfile for rhel 6 (i.e not from the rhel repo rpms)\r\n       - same problem with cuda 9.0 installed from the runfile\r\n- **GPU model and memory**:\r\n       - nvidia tesla k20m\r\n- **Exact command to reproduce**:\r\n       $ python -c \"import tensorflow\"\r\n\r\ni build tensorflow with the following script\r\n````bash\r\nexport PYTHON_BIN_PATH=\"/progs/usr/bin/tensorflow-1.5.1-py3/bin/python\"\r\nexport PYTHON_LIB_PATH=\"/progs/usr/bin/tensorflow-1.5.1-py3/lib/python3.6/site-packages\"\r\nexport TF_NEED_JEMALLOC=\"0\"\r\nexport TF_NEED_GCP=\"0\"\r\nexport TF_NEED_KAFKA=\"0\"\r\nexport TF_NEED_TENSORRT=\"0\"\r\nexport TF_NEED_HDFS=\"0\"\r\nexport TF_ENABLE_XLA=\"0\"\r\nexport TF_NEED_VERBS=\"0\"\r\nexport TF_NEED_OPENCL_SYCL=\"0\"\r\nexport TF_NEED_OPENCL=\"0\"\r\nexport TF_NEED_CUDA=\"1\"\r\nexport TF_CUDA_CLANG=\"0\"\r\nexport TF_CUDA_VERSION=\"8.0\"\r\nexport CUDA_TOOLKIT_PATH=\"/progs/usr/bin/cuda/cuda-8.0\"\r\nexport GCC_HOST_COMPILER_PATH=\"/progs/usr/bin/gcc-5.4.0/bin/gcc\"\r\nexport TF_CUDNN_VERSION=\"6\"\r\nexport CUDNN_INSTALL_PATH=\"/progs/usr/bin/cuda/cuda-8.0\"\r\nexport TF_CUDA_COMPUTE_CAPABILITIES=\"3.5\"\r\nexport TF_NEED_MPI=\"0\"\r\nexport TF_NEED_GDR=\"0\"\r\nexport TF_NEED_S3=\"0\"\r\nexport CC_OPT_FLAGS=\"-march=native\"\r\n#export CC_OPT_FLAGS=\"-O0 -g\"\r\n#export TF_SET_ANDROID_WORKSPACE=\"0\"\r\n\r\n./configure\r\nbazel build -s --verbose_failures --ignore_unsupported_sandboxing --genrule_strategy=standalone --spawn_strategy=standalone \\\r\n               --jobs=32 --config=opt --config=cuda --linkopt='-lrt -lm' \\\r\n               //tensorflow/tools/pip_package:build_pip_package \r\n````\r\n"}