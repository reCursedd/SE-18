{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5203", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5203/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5203/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5203/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5203", "id": 185219635, "node_id": "MDU6SXNzdWUxODUyMTk2MzU=", "number": 5203, "title": "Explanation about 'SAME' padding doesn't cover edge cases", "user": {"login": "ppwwyyxx", "id": 1381301, "node_id": "MDQ6VXNlcjEzODEzMDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1381301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppwwyyxx", "html_url": "https://github.com/ppwwyyxx", "followers_url": "https://api.github.com/users/ppwwyyxx/followers", "following_url": "https://api.github.com/users/ppwwyyxx/following{/other_user}", "gists_url": "https://api.github.com/users/ppwwyyxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppwwyyxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppwwyyxx/subscriptions", "organizations_url": "https://api.github.com/users/ppwwyyxx/orgs", "repos_url": "https://api.github.com/users/ppwwyyxx/repos", "events_url": "https://api.github.com/users/ppwwyyxx/events{/privacy}", "received_events_url": "https://api.github.com/users/ppwwyyxx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-10-25T20:04:46Z", "updated_at": "2017-02-09T22:36:19Z", "closed_at": "2016-10-25T21:57:55Z", "author_association": "CONTRIBUTOR", "body_html": "<p>In the <a href=\"https://www.tensorflow.org/versions/r0.11/api_docs/python/nn.html#convolution\" rel=\"nofollow\">docs</a>, it explains the padding as follows:</p>\n<pre><code>For the 'SAME' padding, the output height and width are computed as:\n\nout_height = ceil(float(in_height) / float(strides[1]))\nout_width  = ceil(float(in_width) / float(strides[2]))\n\nand the padding on the top and left are computed as:\n\npad_along_height = ((out_height - 1) * strides[1] +\n                    filter_height - in_height)\npad_along_width = ((out_width - 1) * strides[2] +\n                   filter_width - in_width)\npad_top = pad_along_height / 2\npad_left = pad_along_width / 2\n</code></pre>\n<p>When <code>in_height=20, stride=2, filter_height=1</code>, we will end up with <code>pad_along_height=-1</code>. I think it's unclear what this means (is there padding or not?). Further explanation are needed to document the behavior in this case.</p>\n<p>Also, when <code>in_height=19, stride=2, filter_height=1</code>, we will end up with <code>out_height=10, pad_along_height=0, pad_top=0</code>.  But with 19 inputs and stride=2 how can you have 10 output without padding? This doesn't seem right.</p>", "body_text": "In the docs, it explains the padding as follows:\nFor the 'SAME' padding, the output height and width are computed as:\n\nout_height = ceil(float(in_height) / float(strides[1]))\nout_width  = ceil(float(in_width) / float(strides[2]))\n\nand the padding on the top and left are computed as:\n\npad_along_height = ((out_height - 1) * strides[1] +\n                    filter_height - in_height)\npad_along_width = ((out_width - 1) * strides[2] +\n                   filter_width - in_width)\npad_top = pad_along_height / 2\npad_left = pad_along_width / 2\n\nWhen in_height=20, stride=2, filter_height=1, we will end up with pad_along_height=-1. I think it's unclear what this means (is there padding or not?). Further explanation are needed to document the behavior in this case.\nAlso, when in_height=19, stride=2, filter_height=1, we will end up with out_height=10, pad_along_height=0, pad_top=0.  But with 19 inputs and stride=2 how can you have 10 output without padding? This doesn't seem right.", "body": "In the [docs](https://www.tensorflow.org/versions/r0.11/api_docs/python/nn.html#convolution), it explains the padding as follows:\n\n```\nFor the 'SAME' padding, the output height and width are computed as:\n\nout_height = ceil(float(in_height) / float(strides[1]))\nout_width  = ceil(float(in_width) / float(strides[2]))\n\nand the padding on the top and left are computed as:\n\npad_along_height = ((out_height - 1) * strides[1] +\n                    filter_height - in_height)\npad_along_width = ((out_width - 1) * strides[2] +\n                   filter_width - in_width)\npad_top = pad_along_height / 2\npad_left = pad_along_width / 2\n```\n\nWhen `in_height=20, stride=2, filter_height=1`, we will end up with `pad_along_height=-1`. I think it's unclear what this means (is there padding or not?). Further explanation are needed to document the behavior in this case.\n\nAlso, when `in_height=19, stride=2, filter_height=1`, we will end up with `out_height=10, pad_along_height=0, pad_top=0`.  But with 19 inputs and stride=2 how can you have 10 output without padding? This doesn't seem right.\n"}