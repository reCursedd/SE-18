{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/89825604", "pull_request_review_id": 10358827, "id": 89825604, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg5ODI1NjA0", "diff_hunk": "@@ -0,0 +1,49 @@\n+include (ExternalProject)\n+\n+set(tensorboard_dependencies)\n+add_custom_target(tensorboard_copy_dependencies)\n+\n+function(tb_new_http_archive)\n+  cmake_parse_arguments(_TB \"\" \"NAME;URL\" \"FILES\" ${ARGN})\n+  ExternalProject_Add(${_TB_NAME}\n+    PREFIX ${_TB_NAME}\n+    URL ${_TB_URL}\n+    DOWNLOAD_DIR \"${DOWNLOAD_LOCATION}/${_TB_NAME}\"\n+    CONFIGURE_COMMAND \"\"\n+    BUILD_COMMAND \"\"\n+    INSTALL_COMMAND \"\"\n+  )\n+\n+  set(src_dir \"${CMAKE_CURRENT_BINARY_DIR}/${_TB_NAME}/src/${_TB_NAME}\")\n+  set(dst_dir \"${CMAKE_CURRENT_BINARY_DIR}/tensorboard_external/${_TB_NAME}\")\n+\n+  foreach(src_file ${_TB_FILES})\n+    add_custom_command(\n+      TARGET tensorboard_copy_dependencies PRE_BUILD\n+      COMMAND ${CMAKE_COMMAND} -E copy ${src_dir}/${src_file} ${dst_dir}/${src_file}\n+    )\n+  endforeach()\n+  \n+  set(tensorboard_dependencies ${tensorboard_dependencies} ${_TB_NAME} PARENT_SCOPE)\n+endfunction()\n+\n+function(tb_http_file)\n+  cmake_parse_arguments(_TB \"\" \"NAME;URL\" \"\" ${ARGN})\n+  get_filename_component(src_file ${_TB_URL} NAME)\n+  file(DOWNLOAD ${_TB_URL} \"${DOWNLOAD_LOCATION}/${_TB_NAME}/${src_file}\")\n+  \n+  set(src_dir \"${DOWNLOAD_LOCATION}/${_TB_NAME}\")\n+  set(dst_dir \"${CMAKE_CURRENT_BINARY_DIR}/tensorboard_external/${_TB_NAME}/file\")\n+  \n+  add_custom_command(\n+    TARGET tensorboard_copy_dependencies PRE_BUILD\n+    COMMAND ${CMAKE_COMMAND} -E copy ${src_dir}/${src_file} ${dst_dir}/${src_file}\n+  )\n+  \n+  add_custom_target(${_TB_NAME} DEPENDS ${src_dir}/${src_file})\n+  set(tensorboard_dependencies ${tensorboard_dependencies} ${_TB_NAME} PARENT_SCOPE)\n+endfunction()\n+\n+include(external/tensorboard_deps.cmake)", "path": "tensorflow/contrib/cmake/external/tensorboard.cmake", "position": null, "original_position": 47, "commit_id": "0dbd8ee3e047d13ed89de0fb65bd83c7556eba0e", "original_commit_id": "f0fc6c09a74b2ad16a953ae15dfa8f4660957c4d", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "body": "This file seems horrific - from a maintenance standpoint - but we should be able to generate it automatically (in the same manner as [this file](https://github.com/tensorflow/tensorflow/blob/a31752e88407507df2a6d61b6a0d7c940d63ecc5/tensorflow/tensorboard/bower/BUILD)).", "created_at": "2016-11-28T16:51:37Z", "updated_at": "2016-12-01T00:56:46Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/5844#discussion_r89825604", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5844", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/89825604"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/5844#discussion_r89825604"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5844"}}, "body_html": "<p>This file seems horrific - from a maintenance standpoint - but we should be able to generate it automatically (in the same manner as <a href=\"https://github.com/tensorflow/tensorflow/blob/a31752e88407507df2a6d61b6a0d7c940d63ecc5/tensorflow/tensorboard/bower/BUILD\">this file</a>).</p>", "body_text": "This file seems horrific - from a maintenance standpoint - but we should be able to generate it automatically (in the same manner as this file)."}