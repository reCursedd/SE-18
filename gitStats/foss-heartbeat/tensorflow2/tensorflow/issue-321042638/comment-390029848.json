{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/390029848", "html_url": "https://github.com/tensorflow/tensorflow/pull/19136#issuecomment-390029848", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19136", "id": 390029848, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDAyOTg0OA==", "user": {"login": "poxvoculi", "id": 15676913, "node_id": "MDQ6VXNlcjE1Njc2OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/15676913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poxvoculi", "html_url": "https://github.com/poxvoculi", "followers_url": "https://api.github.com/users/poxvoculi/followers", "following_url": "https://api.github.com/users/poxvoculi/following{/other_user}", "gists_url": "https://api.github.com/users/poxvoculi/gists{/gist_id}", "starred_url": "https://api.github.com/users/poxvoculi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poxvoculi/subscriptions", "organizations_url": "https://api.github.com/users/poxvoculi/orgs", "repos_url": "https://api.github.com/users/poxvoculi/repos", "events_url": "https://api.github.com/users/poxvoculi/events{/privacy}", "received_events_url": "https://api.github.com/users/poxvoculi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-17T22:09:19Z", "updated_at": "2018-05-17T22:09:19Z", "author_association": "MEMBER", "body_html": "<p>Something like hwloc would probably be useful.  So far we've been adding a bit of device topology data in an ad hoc fashion, mostly addressing accelerators.  Tensorflow does not do a very good job of managing thread/core affinity, nor of reducing interference between threads in the application.    We've neglected to deal with this issue up to now because other problems have been more urgent and also the Google datacenter environment makes it difficult to optimize.   If you're serious about wanting to add hwloc I suppose we should initiate a broader discussion about costs/benefits.</p>", "body_text": "Something like hwloc would probably be useful.  So far we've been adding a bit of device topology data in an ad hoc fashion, mostly addressing accelerators.  Tensorflow does not do a very good job of managing thread/core affinity, nor of reducing interference between threads in the application.    We've neglected to deal with this issue up to now because other problems have been more urgent and also the Google datacenter environment makes it difficult to optimize.   If you're serious about wanting to add hwloc I suppose we should initiate a broader discussion about costs/benefits.", "body": "Something like hwloc would probably be useful.  So far we've been adding a bit of device topology data in an ad hoc fashion, mostly addressing accelerators.  Tensorflow does not do a very good job of managing thread/core affinity, nor of reducing interference between threads in the application.    We've neglected to deal with this issue up to now because other problems have been more urgent and also the Google datacenter environment makes it difficult to optimize.   If you're serious about wanting to add hwloc I suppose we should initiate a broader discussion about costs/benefits."}