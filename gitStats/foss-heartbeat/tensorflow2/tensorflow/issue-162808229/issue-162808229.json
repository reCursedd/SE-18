{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3091", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3091/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3091/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3091/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/3091", "id": 162808229, "node_id": "MDExOlB1bGxSZXF1ZXN0NzU1NjU2NjM=", "number": 3091, "title": "Resolve the libcudnn library to its SONAME, when possible,", "user": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-06-28T23:12:55Z", "updated_at": "2016-06-30T18:13:11Z", "closed_at": "2016-06-30T18:13:11Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3091", "html_url": "https://github.com/tensorflow/tensorflow/pull/3091", "diff_url": "https://github.com/tensorflow/tensorflow/pull/3091.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/3091.patch"}, "body_html": "<p>and build the binary with that SONAME, which is supposed to be<br>\nABI-compatible.</p>\n<p>When we build our pip packages, we will now build with precisely<br>\nthe version of the SONAME that we intend to support with the<br>\nbinary packages.  This is the solution recommended by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3028125\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/3XX0\">@3XX0</a>.</p>\n<p>Tested by installing cudnn 5.1.3 RC and seeing that the source code<br>\nmodifications show the use of version \"5\" (the SONAME version<br>\npointed to by libcudnn.so symlink).</p>\n<p>In addition, installing the pip package shows:</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>import tensorflow as tf<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so.5 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally</p>\n</blockquote>\n</blockquote>\n</blockquote>", "body_text": "and build the binary with that SONAME, which is supposed to be\nABI-compatible.\nWhen we build our pip packages, we will now build with precisely\nthe version of the SONAME that we intend to support with the\nbinary packages.  This is the solution recommended by @3XX0.\nTested by installing cudnn 5.1.3 RC and seeing that the source code\nmodifications show the use of version \"5\" (the SONAME version\npointed to by libcudnn.so symlink).\nIn addition, installing the pip package shows:\n\n\n\nimport tensorflow as tf\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally", "body": "and build the binary with that SONAME, which is supposed to be\nABI-compatible.\n\nWhen we build our pip packages, we will now build with precisely\nthe version of the SONAME that we intend to support with the\nbinary packages.  This is the solution recommended by @3XX0.\n\nTested by installing cudnn 5.1.3 RC and seeing that the source code\nmodifications show the use of version \"5\" (the SONAME version\npointed to by libcudnn.so symlink).\n\nIn addition, installing the pip package shows:\n\n> > > import tensorflow as tf\n> > > I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\n> > > I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so.5 locally\n> > > I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\n> > > I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\n> > > I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n"}