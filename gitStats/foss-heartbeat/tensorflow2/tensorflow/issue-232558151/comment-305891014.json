{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/305891014", "html_url": "https://github.com/tensorflow/tensorflow/pull/10318#issuecomment-305891014", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10318", "id": 305891014, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTg5MTAxNA==", "user": {"login": "damienmg", "id": 3721087, "node_id": "MDQ6VXNlcjM3MjEwODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3721087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/damienmg", "html_url": "https://github.com/damienmg", "followers_url": "https://api.github.com/users/damienmg/followers", "following_url": "https://api.github.com/users/damienmg/following{/other_user}", "gists_url": "https://api.github.com/users/damienmg/gists{/gist_id}", "starred_url": "https://api.github.com/users/damienmg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/damienmg/subscriptions", "organizations_url": "https://api.github.com/users/damienmg/orgs", "repos_url": "https://api.github.com/users/damienmg/repos", "events_url": "https://api.github.com/users/damienmg/events{/privacy}", "received_events_url": "https://api.github.com/users/damienmg/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-02T19:42:10Z", "updated_at": "2017-06-02T19:42:10Z", "author_association": "MEMBER", "body_html": "<div class=\"email-fragment\">Bazel clean --expunge at each reconfigure is really extreme I would\nrecommend against it. Especially since there is an easy\u200b workaround if you\nreally want it to force a refetch of cuda configure: add an environment\nvariable to the list of variable to invalidate on, say\ncuda_configure_version, that you increase when you want a refetch of that\nrepository. Cuda configure is relatively cheap so even if you make it that\nall the time, it shouldn't be a performance issue unless the output of cuda\nconfigure change.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Fri, Jun 2, 2017, 9:27 PM gunan ***@***.***&gt; wrote:\n During upgrade to cudnn 6, we discovered another issue.\n <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"231726730\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/bazel/issues/3062\" href=\"https://github.com/bazelbuild/bazel/issues/3062\">bazelbuild/bazel#3062</a> &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"231726730\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/bazel/issues/3062\" href=\"https://github.com/bazelbuild/bazel/issues/3062\">bazelbuild/bazel#3062</a>&gt;\n Due to this, we may need to hold on to bazel clean a little while longer.\n And even expand it by running bazel clean --expunge\n\n \u2014\n You are receiving this because you were assigned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"232558151\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/10318\" href=\"https://github.com/tensorflow/tensorflow/pull/10318#issuecomment-305887465\">#10318 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/ADjHf05C5dcL3ACN89astDuMjG-jP-B-ks5sAGIqgaJpZM4NrmfX\">https://github.com/notifications/unsubscribe-auth/ADjHf05C5dcL3ACN89astDuMjG-jP-B-ks5sAGIqgaJpZM4NrmfX</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "Bazel clean --expunge at each reconfigure is really extreme I would\nrecommend against it. Especially since there is an easy\u200b workaround if you\nreally want it to force a refetch of cuda configure: add an environment\nvariable to the list of variable to invalidate on, say\ncuda_configure_version, that you increase when you want a refetch of that\nrepository. Cuda configure is relatively cheap so even if you make it that\nall the time, it shouldn't be a performance issue unless the output of cuda\nconfigure change.\n\u2026\nOn Fri, Jun 2, 2017, 9:27 PM gunan ***@***.***> wrote:\n During upgrade to cudnn 6, we discovered another issue.\n bazelbuild/bazel#3062 <bazelbuild/bazel#3062>\n Due to this, we may need to hold on to bazel clean a little while longer.\n And even expand it by running bazel clean --expunge\n\n \u2014\n You are receiving this because you were assigned.\n Reply to this email directly, view it on GitHub\n <#10318 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/ADjHf05C5dcL3ACN89astDuMjG-jP-B-ks5sAGIqgaJpZM4NrmfX>\n .", "body": "Bazel clean --expunge at each reconfigure is really extreme I would\nrecommend against it. Especially since there is an easy\u200b workaround if you\nreally want it to force a refetch of cuda configure: add an environment\nvariable to the list of variable to invalidate on, say\ncuda_configure_version, that you increase when you want a refetch of that\nrepository. Cuda configure is relatively cheap so even if you make it that\nall the time, it shouldn't be a performance issue unless the output of cuda\nconfigure change.\n\nOn Fri, Jun 2, 2017, 9:27 PM gunan <notifications@github.com> wrote:\n\n> During upgrade to cudnn 6, we discovered another issue.\n> bazelbuild/bazel#3062 <https://github.com/bazelbuild/bazel/issues/3062>\n> Due to this, we may need to hold on to bazel clean a little while longer.\n> And even expand it by running bazel clean --expunge\n>\n> \u2014\n> You are receiving this because you were assigned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/pull/10318#issuecomment-305887465>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ADjHf05C5dcL3ACN89astDuMjG-jP-B-ks5sAGIqgaJpZM4NrmfX>\n> .\n>\n"}