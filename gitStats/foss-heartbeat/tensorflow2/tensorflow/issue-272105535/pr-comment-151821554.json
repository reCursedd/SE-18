{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/151821554", "pull_request_review_id": 77599678, "id": 151821554, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMTU1NA==", "diff_hunk": "@@ -50,6 +56,117 @@\n   private static final String TAG = \"TensorFlowInferenceInterface\";\n   private static final String ASSET_FILE_PREFIX = \"file:///android_asset/\";\n \n+  /**\n+   * Copies resource to a cache file.\n+   * @param  context context The context that contains the files\n+   * @param  String filename  Filename--take note that it checks for .pb in asset case\n+   * @param  boolean res Is it from res/raw\n+   *\n+   * @return File reference to cache file.\n+   */\n+  private File createCacheFile(Context context, String filename, boolean res)\n+      throws IOException {\n+    InputStream inputStream = null;\n+    if (res) {\n+      int resourceId = context.getResources().getIdentifier(filename, \"raw\", context.getPackageName());\n+      if (resourceId == 0) {\n+        return null;\n+      }\n+      inputStream = context.getResources().openRawResource(resourceId);\n+    } else {\n+      if (!filename.endsWith(\".pb\")) {\n+        filename += \".pb\";", "path": "tensorflow/contrib/android/java/org/tensorflow/contrib/android/TensorFlowInferenceInterface.java", "position": null, "original_position": 50, "commit_id": "620d8a139c870f06efc100f32d2369c618f050db", "original_commit_id": "4ebc68050fdde62f54047bb1974dd6e00fe24ded", "user": {"login": "andrewharp", "id": 3376817, "node_id": "MDQ6VXNlcjMzNzY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3376817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewharp", "html_url": "https://github.com/andrewharp", "followers_url": "https://api.github.com/users/andrewharp/followers", "following_url": "https://api.github.com/users/andrewharp/following{/other_user}", "gists_url": "https://api.github.com/users/andrewharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewharp/subscriptions", "organizations_url": "https://api.github.com/users/andrewharp/orgs", "repos_url": "https://api.github.com/users/andrewharp/repos", "events_url": "https://api.github.com/users/andrewharp/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewharp/received_events", "type": "User", "site_admin": false}, "body": "Just to be clear, res/raw does not require an extension, or requires that the file has no extension? That is, is it possible to put a file with an extension in there?\r\n\r\nRegarding loading from assets, it seems the caller should have the freedom to make the extension whatever they want and not be forced to use \".pb\". Just because the examples use models ending with pb does not mean we should assume this is always the case.", "created_at": "2017-11-18T01:01:14Z", "updated_at": "2017-12-03T01:37:04Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/14351#discussion_r151821554", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14351", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/151821554"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/14351#discussion_r151821554"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14351"}}, "body_html": "<p>Just to be clear, res/raw does not require an extension, or requires that the file has no extension? That is, is it possible to put a file with an extension in there?</p>\n<p>Regarding loading from assets, it seems the caller should have the freedom to make the extension whatever they want and not be forced to use \".pb\". Just because the examples use models ending with pb does not mean we should assume this is always the case.</p>", "body_text": "Just to be clear, res/raw does not require an extension, or requires that the file has no extension? That is, is it possible to put a file with an extension in there?\nRegarding loading from assets, it seems the caller should have the freedom to make the extension whatever they want and not be forced to use \".pb\". Just because the examples use models ending with pb does not mean we should assume this is always the case.", "in_reply_to_id": 151796965}