{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/307953709", "html_url": "https://github.com/tensorflow/tensorflow/issues/10134#issuecomment-307953709", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10134", "id": 307953709, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzk1MzcwOQ==", "user": {"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-12T22:38:48Z", "updated_at": "2017-06-12T22:38:48Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think there is a bug in your code.</p>\n<p><a href=\"https://gist.github.com/Zardinality/616137e6edc309af57a3cbbb5032d848\">https://gist.github.com/Zardinality/616137e6edc309af57a3cbbb5032d848</a><br>\noutput_tensor-&gt;Slice(i, i+1) = input_tensor.Slice(i, i+1);</p>\n<p>Both on CPU and GPU, this doesn't do anything, it just makes a temporary Tensor relinquish its ownership and points to another Tensor, and be released immediately afterwards.</p>\n<p>If you switch to Eigen on GPU, you need to make sure the pointers are indeed GPU pointers. Otherwise, you get bad pointer acccess.</p>", "body_text": "I think there is a bug in your code.\nhttps://gist.github.com/Zardinality/616137e6edc309af57a3cbbb5032d848\noutput_tensor->Slice(i, i+1) = input_tensor.Slice(i, i+1);\nBoth on CPU and GPU, this doesn't do anything, it just makes a temporary Tensor relinquish its ownership and points to another Tensor, and be released immediately afterwards.\nIf you switch to Eigen on GPU, you need to make sure the pointers are indeed GPU pointers. Otherwise, you get bad pointer acccess.", "body": "I think there is a bug in your code. \r\n\r\nhttps://gist.github.com/Zardinality/616137e6edc309af57a3cbbb5032d848\r\noutput_tensor->Slice(i, i+1) = input_tensor.Slice(i, i+1);\r\n\r\nBoth on CPU and GPU, this doesn't do anything, it just makes a temporary Tensor relinquish its ownership and points to another Tensor, and be released immediately afterwards. \r\n\r\nIf you switch to Eigen on GPU, you need to make sure the pointers are indeed GPU pointers. Otherwise, you get bad pointer acccess. \r\n"}