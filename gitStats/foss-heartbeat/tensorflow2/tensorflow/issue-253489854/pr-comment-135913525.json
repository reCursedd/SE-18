{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/135913525", "pull_request_review_id": 59383045, "id": 135913525, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTkxMzUyNQ==", "diff_hunk": "@@ -118,6 +118,57 @@ Status BiasAddGradHelper(const Scope& scope, const Operation& op,\n }\n REGISTER_GRADIENT_OP(\"BiasAdd\", BiasAddGradHelper);\n \n+Status Conv2DGrad(const Scope& scope, const Operation& op,\n+                  const std::vector<Output>& grad_inputs,\n+                  std::vector<Output>* grad_outputs) {\n+  string data_format;\n+  string padding;\n+  std::vector<int32> strides;\n+  bool use_cudnn_on_gpu;\n+  auto attrs = op.output(0).node()->attrs();\n+  GetNodeAttr(attrs, \"data_format\", &data_format);\n+  GetNodeAttr(attrs, \"padding\", &padding);\n+  GetNodeAttr(attrs, \"strides\", &strides);\n+  GetNodeAttr(attrs, \"use_cudnn_on_gpu\", &use_cudnn_on_gpu);\n+  Conv2DBackpropInput::Attrs input_attrs;\n+  input_attrs.DataFormat(data_format);\n+  input_attrs.UseCudnnOnGpu(use_cudnn_on_gpu);\n+  auto dx_1 = Conv2DBackpropInput(scope, Shape(scope, op.input(0)),\n+                                  op.input(1), grad_inputs[0],\n+                                  strides, padding, input_attrs);\n+  grad_outputs->push_back(dx_1);\n+  Conv2DBackpropFilter::Attrs filter_attrs;\n+  filter_attrs.DataFormat(data_format);\n+  filter_attrs.UseCudnnOnGpu(use_cudnn_on_gpu);\n+  auto dx_2 = Conv2DBackpropFilter(scope, op.input(0),\n+                                   Shape(scope, op.input(1)), grad_inputs[0],\n+                                   strides, padding, filter_attrs);\n+  grad_outputs->push_back(dx_2);\n+  return scope.status();\n+}\n+REGISTER_GRADIENT_OP(\"Conv2D\", Conv2DGrad);\n+\n+Status MaxPoolGradHelper(const Scope& scope, const Operation& op,", "path": "tensorflow/cc/gradients/nn_grad.cc", "position": 42, "original_position": 34, "commit_id": "5619b051b5267616d5259ae9fe25dff420a0b581", "original_commit_id": "c30ef18898ee82c6afa2c842424218fb3df0c868", "user": {"login": "bpiel", "id": 662053, "node_id": "MDQ6VXNlcjY2MjA1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/662053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpiel", "html_url": "https://github.com/bpiel", "followers_url": "https://api.github.com/users/bpiel/followers", "following_url": "https://api.github.com/users/bpiel/following{/other_user}", "gists_url": "https://api.github.com/users/bpiel/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpiel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpiel/subscriptions", "organizations_url": "https://api.github.com/users/bpiel/orgs", "repos_url": "https://api.github.com/users/bpiel/repos", "events_url": "https://api.github.com/users/bpiel/events{/privacy}", "received_events_url": "https://api.github.com/users/bpiel/received_events", "type": "User", "site_admin": false}, "body": "Ah, didn't know about MaxPoolV2. Added it.", "created_at": "2017-08-29T21:13:23Z", "updated_at": "2017-08-29T21:13:23Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/12665#discussion_r135913525", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12665", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/135913525"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/12665#discussion_r135913525"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12665"}}, "body_html": "<p>Ah, didn't know about MaxPoolV2. Added it.</p>", "body_text": "Ah, didn't know about MaxPoolV2. Added it.", "in_reply_to_id": 135847374}