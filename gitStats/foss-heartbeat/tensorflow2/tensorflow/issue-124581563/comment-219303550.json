{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/219303550", "html_url": "https://github.com/tensorflow/tensorflow/issues/666#issuecomment-219303550", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/666", "id": 219303550, "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTMwMzU1MA==", "user": {"login": "byzhang", "id": 872149, "node_id": "MDQ6VXNlcjg3MjE0OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/872149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/byzhang", "html_url": "https://github.com/byzhang", "followers_url": "https://api.github.com/users/byzhang/followers", "following_url": "https://api.github.com/users/byzhang/following{/other_user}", "gists_url": "https://api.github.com/users/byzhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/byzhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/byzhang/subscriptions", "organizations_url": "https://api.github.com/users/byzhang/orgs", "repos_url": "https://api.github.com/users/byzhang/repos", "events_url": "https://api.github.com/users/byzhang/events{/privacy}", "received_events_url": "https://api.github.com/users/byzhang/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-15T18:53:52Z", "updated_at": "2016-05-15T18:53:52Z", "author_association": "NONE", "body_html": "<p>The variables are the embeddings of word2vec with a large vocabulary. It<br>\nseems not easy to shard them without changing the NegTrainOp and python<br>\ncaller code a lot?</p>\n<p>Thanks,<br>\n-B</p>\n<p>On Sun, May 15, 2016 at 11:49 AM, Sherry Moore <a href=\"mailto:notifications@github.com\">notifications@github.com</a><br>\nwrote:</p>\n<blockquote>\n<p>The error is due to current size limit on protocol buffers in the<br>\nimplementation of message lite. Can you shard the Variable so it's not so<br>\nlarge?</p>\n<p>bool MessageLite::SerializePartialToCodedStream(<br>\nio::CodedOutputStream* output) const {<br>\nconst int size = ByteSize(); // Force size to be cached.<br>\nif (size &lt; 0) {<br>\n// Messages &gt;2G cannot be serialized due to overflow computing ByteSize.<br>\nGOOGLE_LOG(ERROR) &lt;&lt; \"Error computing ByteSize (possible overflow?).\";<br>\nreturn false;<br>\n}</p>\n<p>\u2014<br>\nYou are receiving this because you commented.<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"124581563\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/666\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/666/hovercard?comment_id=219303234&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/666#issuecomment-219303234\">#666 (comment)</a></p>\n</blockquote>", "body_text": "The variables are the embeddings of word2vec with a large vocabulary. It\nseems not easy to shard them without changing the NegTrainOp and python\ncaller code a lot?\nThanks,\n-B\nOn Sun, May 15, 2016 at 11:49 AM, Sherry Moore notifications@github.com\nwrote:\n\nThe error is due to current size limit on protocol buffers in the\nimplementation of message lite. Can you shard the Variable so it's not so\nlarge?\nbool MessageLite::SerializePartialToCodedStream(\nio::CodedOutputStream* output) const {\nconst int size = ByteSize(); // Force size to be cached.\nif (size < 0) {\n// Messages >2G cannot be serialized due to overflow computing ByteSize.\nGOOGLE_LOG(ERROR) << \"Error computing ByteSize (possible overflow?).\";\nreturn false;\n}\n\u2014\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub\n#666 (comment)", "body": "The variables are the embeddings of word2vec with a large vocabulary. It\nseems not easy to shard them without changing the NegTrainOp and python\ncaller code a lot?\n\nThanks,\n-B\n\nOn Sun, May 15, 2016 at 11:49 AM, Sherry Moore notifications@github.com\nwrote:\n\n> The error is due to current size limit on protocol buffers in the\n> implementation of message lite. Can you shard the Variable so it's not so\n> large?\n> \n> bool MessageLite::SerializePartialToCodedStream(\n> io::CodedOutputStream\\* output) const {\n> const int size = ByteSize(); // Force size to be cached.\n> if (size < 0) {\n> // Messages >2G cannot be serialized due to overflow computing ByteSize.\n> GOOGLE_LOG(ERROR) << \"Error computing ByteSize (possible overflow?).\";\n> return false;\n> }\n> \n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/666#issuecomment-219303234\n"}