{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/389841818", "html_url": "https://github.com/tensorflow/tensorflow/issues/19127#issuecomment-389841818", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19127", "id": 389841818, "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg0MTgxOA==", "user": {"login": "LaurentBerger", "id": 3591626, "node_id": "MDQ6VXNlcjM1OTE2MjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/3591626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaurentBerger", "html_url": "https://github.com/LaurentBerger", "followers_url": "https://api.github.com/users/LaurentBerger/followers", "following_url": "https://api.github.com/users/LaurentBerger/following{/other_user}", "gists_url": "https://api.github.com/users/LaurentBerger/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaurentBerger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaurentBerger/subscriptions", "organizations_url": "https://api.github.com/users/LaurentBerger/orgs", "repos_url": "https://api.github.com/users/LaurentBerger/repos", "events_url": "https://api.github.com/users/LaurentBerger/events{/privacy}", "received_events_url": "https://api.github.com/users/LaurentBerger/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-17T11:59:03Z", "updated_at": "2018-05-17T12:01:00Z", "author_association": "NONE", "body_html": "<p>I have done :<br>\n<code>git pull </code><br>\nthen create a patch using <a href=\"https://github.com/tensorflow/tensorflow/pull/16480.patch\">https://github.com/tensorflow/tensorflow/pull/16480.patch</a> page</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/files/2013038/pr16480.txt\">pr16480.txt</a></p>\n<p>try to apply patch  (many errors with option --check):</p>\n<p>$ git apply --stat ../pr16480.patch<br>\ntensorflow/contrib/cmake/tf_core_framework.cmake   |    2<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |   12 +-<br>\ntensorflow/contrib/cmake/external/grpc.cmake       |   11 +<br>\ntensorflow/contrib/cmake/tf_cc_ops.cmake           |    2<br>\ntensorflow/contrib/cmake/tf_core_framework.cmake   |    8 +<br>\n.../core/platform/default/gpu/cupti_wrapper.h      |    8 +<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |    1<br>\ntensorflow/contrib/cmake/tf_core_framework.cmake   |    4 -<br>\ntensorflow/contrib/cmake/tf_python.cmake           |   17 ++<br>\n.../core/platform/default/gpu/cupti_wrapper.h      |    8 +<br>\n.../core/platform/default/gpu/cupti_wrapper.h      |    6 -<br>\ntensorflow/contrib/cmake/tf_core_ops.cmake         |    8 +<br>\ntensorflow/contrib/cmake/tf_cc_ops.cmake           |    2<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |    5 -<br>\ntensorflow/contrib/cmake/TensorflowConfig.cmake.in |   16 ++<br>\n.../contrib/cmake/TensorflowConfigVersion.cmake.in |   11 +<br>\ntensorflow/contrib/cmake/tf_shared_lib.cmake       |   80 +++++++++-<br>\ntensorflow/contrib/cmake/README.md                 |  160 ++++++++++++++++++--<br>\ntensorflow/contrib/cmake/README.md                 |    4 -<br>\ntensorflow/core/util/cuda_device_functions.h       |    9 +<br>\ntensorflow/core/util/cuda_device_functions.h       |    4 -<br>\ntensorflow/core/util/cuda_launch_config.h          |    4 +<br>\ntensorflow/contrib/cmake/external/protobuf.cmake   |    2<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |    7 +<br>\ntensorflow/contrib/cmake/README.md                 |    4 -<br>\ntensorflow/contrib/cmake/README.md                 |    4 +<br>\ntensorflow/contrib/cmake/README.md                 |   16 ++<br>\ntensorflow/contrib/cmake/external/grpc.cmake       |   25 +++<br>\ntensorflow/contrib/cmake/external/grpc.cmake       |    2<br>\ntensorflow/tools/pip_package/setup.py              |    2<br>\ntensorflow/tools/pip_package/setup.py              |    3<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |    8 +<br>\ntensorflow/contrib/cmake/external/grpc.cmake       |   55 +++++--<br>\ntensorflow/contrib/cmake/external/grpc.cmake       |    2<br>\ntensorflow/contrib/cmake/external/protobuf.cmake   |    2<br>\ntensorflow/contrib/cmake/external/protobuf.cmake   |    2<br>\ntensorflow/contrib/cmake/external/grpc.cmake       |   70 +++++----<br>\ntensorflow/contrib/cmake/external/protobuf.cmake   |   11 +<br>\n.../tools/ci_build/windows/cpu/cmake/run_build.bat |    3<br>\n.../tools/ci_build/windows/gpu/cmake/run_build.bat |    3<br>\ntensorflow/contrib/cmake/external/grpc.cmake       |   79 +++++-----<br>\ntensorflow/contrib/cmake/README.md                 |   14 +-<br>\n.../tools/ci_build/windows/cpu/cmake/run_build.bat |    3<br>\n.../tools/ci_build/windows/gpu/cmake/run_build.bat |    3<br>\ntensorflow/contrib/cmake/README.md                 |   12 +-<br>\ntensorflow/contrib/cmake/README.md                 |    2<br>\ntensorflow/contrib/cmake/README.md                 |    2<br>\ntensorflow/contrib/cmake/external/grpc.cmake       |   40 -----<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |    5 +<br>\ntensorflow/contrib/nccl/kernels/nccl_manager.h     |    5 +<br>\ntensorflow/contrib/nccl/kernels/nccl_ops.cc        |    4 +<br>\ntensorflow/contrib/nccl/kernels/nccl_manager.h     |    2<br>\ntensorflow/contrib/nccl/kernels/nccl_ops.cc        |    2<br>\ntensorflow/core/platform/default/logging.h         |    5 +<br>\ntensorflow/contrib/cmake/README.md                 |   10 +<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |    2<br>\ntensorflow/contrib/cmake/external/png.cmake        |    1<br>\ntensorflow/contrib/cmake/tf_core_framework.cmake   |    4 +<br>\ntensorflow/contrib/cmake/tf_core_ops.cmake         |    8 +<br>\ntensorflow/contrib/cmake/tf_python.cmake           |   21 ++-<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |    4 -<br>\ntensorflow/contrib/cmake/README.md                 |    6 -<br>\ntensorflow/contrib/cmake/external/grpc.cmake       |    3<br>\ntensorflow/contrib/cmake/tf_python.cmake           |    2<br>\ntensorflow/core/util/cuda_device_functions.h       |   16 +-<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |    5 +<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |    1<br>\ntensorflow/core/platform/default/logging.h         |    7 +<br>\ntensorflow/contrib/nccl/kernels/nccl_manager.h     |    4 -<br>\ntensorflow/c/python_api.cc                         |    2<br>\ntensorflow/contrib/cmake/CMakeLists.txt            |    3<br>\ntensorflow/contrib/cmake/tf_c.cmake                |   27 ++-<br>\ntensorflow/contrib/cmake/tf_core_cpu.cmake         |    4 -<br>\n.../contrib/cmake/tf_core_eager_runtime.cmake      |   57 +++++++<br>\ntensorflow/contrib/cmake/tf_python.cmake           |    2<br>\ntensorflow/contrib/cmake/tf_shared_lib.cmake       |    4 +<br>\ntensorflow/contrib/cmake/tf_python.cmake           |    2<br>\ntensorflow/c/python_api.cc                         |    2<br>\ntensorflow/contrib/cmake/tf_c.cmake                |   34 ++++<br>\n79 files changed, 721 insertions(+), 291 deletions(-)</p>\n<p>Laurent@PC-Laurent-Vision MINGW64 /f/lib/tensorflow (master)<br>\n$ git apply --check ../pr16480.patch<br>\nerror: patch failed: tensorflow/contrib/cmake/tf_core_framework.cmake:126<br>\nerror: tensorflow/contrib/cmake/tf_core_framework.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:21<br>\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/tf_cc_ops.cmake:149<br>\nerror: tensorflow/contrib/cmake/tf_cc_ops.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/core/platform/default/gpu/cupti_wrapper.h:20<br>\nerror: tensorflow/core/platform/default/gpu/cupti_wrapper.h: patch does not appl                                                                                            y<br>\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55<br>\nerror: patch failed: tensorflow/core/platform/default/gpu/cupti_wrapper.h:20<br>\nerror: tensorflow/core/platform/default/gpu/cupti_wrapper.h: patch does not appl                                                                                            y<br>\nerror: patch failed: tensorflow/core/platform/default/gpu/cupti_wrapper.h:20<br>\nerror: tensorflow/core/platform/default/gpu/cupti_wrapper.h: patch does not appl                                                                                            y<br>\nerror: patch failed: tensorflow/contrib/cmake/tf_core_ops.cmake:15<br>\nerror: tensorflow/contrib/cmake/tf_core_ops.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/tf_cc_ops.cmake:149<br>\nerror: tensorflow/contrib/cmake/tf_cc_ops.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/tf_shared_lib.cmake:99<br>\nerror: tensorflow/contrib/cmake/tf_shared_lib.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:35<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:121<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nerror: patch failed: tensorflow/core/util/cuda_device_functions.h:28<br>\nerror: tensorflow/core/util/cuda_device_functions.h: patch does not apply<br>\nerror: patch failed: tensorflow/core/util/cuda_device_functions.h:28<br>\nerror: tensorflow/core/util/cuda_device_functions.h: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16<br>\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/CMakeLists.txt:31<br>\nerror: tensorflow/contrib/cmake/CMakeLists.txt: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:121<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:179<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:35<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:51<br>\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:30<br>\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/tools/pip_package/setup.py:29<br>\nerror: tensorflow/tools/pip_package/setup.py: patch does not apply<br>\nerror: patch failed: tensorflow/tools/pip_package/setup.py:37<br>\nerror: tensorflow/tools/pip_package/setup.py: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:14<br>\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:32<br>\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16<br>\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16<br>\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:17<br>\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16<br>\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat:3                                                                                            4<br>\nerror: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat: patch does not                                                                                             apply<br>\nerror: patch failed: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat:3                                                                                            5<br>\nerror: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat: patch does not                                                                                             apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:14<br>\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:35<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nerror: patch failed: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat:3                                                                                            4<br>\nerror: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat: patch does not                                                                                             apply<br>\nerror: patch failed: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat:3                                                                                            5<br>\nerror: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat: patch does not                                                                                             apply<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:39<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:135<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:42<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:14<br>\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_manager.h:20<br>\nerror: tensorflow/contrib/nccl/kernels/nccl_manager.h: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_ops.cc:17<br>\nerror: tensorflow/contrib/nccl/kernels/nccl_ops.cc: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_manager.h:20<br>\nerror: tensorflow/contrib/nccl/kernels/nccl_manager.h: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_ops.cc:17<br>\nerror: tensorflow/contrib/nccl/kernels/nccl_ops.cc: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:35<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55<br>\nerror: patch failed: tensorflow/contrib/cmake/README.md:4<br>\nerror: tensorflow/contrib/cmake/README.md: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:28<br>\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply<br>\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55<br>\nerror: patch failed: tensorflow/core/util/cuda_device_functions.h:28<br>\nerror: tensorflow/core/util/cuda_device_functions.h: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_manager.h:23<br>\nerror: tensorflow/contrib/nccl/kernels/nccl_manager.h: patch does not apply<br>\nerror: patch failed: tensorflow/contrib/cmake/tf_core_cpu.cmake:20<br>\nerror: tensorflow/contrib/cmake/tf_core_cpu.cmake: patch does not apply<br>\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55<br>\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55</p>", "body_text": "I have done :\ngit pull \nthen create a patch using https://github.com/tensorflow/tensorflow/pull/16480.patch page\npr16480.txt\ntry to apply patch  (many errors with option --check):\n$ git apply --stat ../pr16480.patch\ntensorflow/contrib/cmake/tf_core_framework.cmake   |    2\ntensorflow/contrib/cmake/CMakeLists.txt            |   12 +-\ntensorflow/contrib/cmake/external/grpc.cmake       |   11 +\ntensorflow/contrib/cmake/tf_cc_ops.cmake           |    2\ntensorflow/contrib/cmake/tf_core_framework.cmake   |    8 +\n.../core/platform/default/gpu/cupti_wrapper.h      |    8 +\ntensorflow/contrib/cmake/CMakeLists.txt            |    1\ntensorflow/contrib/cmake/tf_core_framework.cmake   |    4 -\ntensorflow/contrib/cmake/tf_python.cmake           |   17 ++\n.../core/platform/default/gpu/cupti_wrapper.h      |    8 +\n.../core/platform/default/gpu/cupti_wrapper.h      |    6 -\ntensorflow/contrib/cmake/tf_core_ops.cmake         |    8 +\ntensorflow/contrib/cmake/tf_cc_ops.cmake           |    2\ntensorflow/contrib/cmake/CMakeLists.txt            |    5 -\ntensorflow/contrib/cmake/TensorflowConfig.cmake.in |   16 ++\n.../contrib/cmake/TensorflowConfigVersion.cmake.in |   11 +\ntensorflow/contrib/cmake/tf_shared_lib.cmake       |   80 +++++++++-\ntensorflow/contrib/cmake/README.md                 |  160 ++++++++++++++++++--\ntensorflow/contrib/cmake/README.md                 |    4 -\ntensorflow/core/util/cuda_device_functions.h       |    9 +\ntensorflow/core/util/cuda_device_functions.h       |    4 -\ntensorflow/core/util/cuda_launch_config.h          |    4 +\ntensorflow/contrib/cmake/external/protobuf.cmake   |    2\ntensorflow/contrib/cmake/CMakeLists.txt            |    7 +\ntensorflow/contrib/cmake/README.md                 |    4 -\ntensorflow/contrib/cmake/README.md                 |    4 +\ntensorflow/contrib/cmake/README.md                 |   16 ++\ntensorflow/contrib/cmake/external/grpc.cmake       |   25 +++\ntensorflow/contrib/cmake/external/grpc.cmake       |    2\ntensorflow/tools/pip_package/setup.py              |    2\ntensorflow/tools/pip_package/setup.py              |    3\ntensorflow/contrib/cmake/CMakeLists.txt            |    8 +\ntensorflow/contrib/cmake/external/grpc.cmake       |   55 +++++--\ntensorflow/contrib/cmake/external/grpc.cmake       |    2\ntensorflow/contrib/cmake/external/protobuf.cmake   |    2\ntensorflow/contrib/cmake/external/protobuf.cmake   |    2\ntensorflow/contrib/cmake/external/grpc.cmake       |   70 +++++----\ntensorflow/contrib/cmake/external/protobuf.cmake   |   11 +\n.../tools/ci_build/windows/cpu/cmake/run_build.bat |    3\n.../tools/ci_build/windows/gpu/cmake/run_build.bat |    3\ntensorflow/contrib/cmake/external/grpc.cmake       |   79 +++++-----\ntensorflow/contrib/cmake/README.md                 |   14 +-\n.../tools/ci_build/windows/cpu/cmake/run_build.bat |    3\n.../tools/ci_build/windows/gpu/cmake/run_build.bat |    3\ntensorflow/contrib/cmake/README.md                 |   12 +-\ntensorflow/contrib/cmake/README.md                 |    2\ntensorflow/contrib/cmake/README.md                 |    2\ntensorflow/contrib/cmake/external/grpc.cmake       |   40 -----\ntensorflow/contrib/cmake/CMakeLists.txt            |    5 +\ntensorflow/contrib/nccl/kernels/nccl_manager.h     |    5 +\ntensorflow/contrib/nccl/kernels/nccl_ops.cc        |    4 +\ntensorflow/contrib/nccl/kernels/nccl_manager.h     |    2\ntensorflow/contrib/nccl/kernels/nccl_ops.cc        |    2\ntensorflow/core/platform/default/logging.h         |    5 +\ntensorflow/contrib/cmake/README.md                 |   10 +\ntensorflow/contrib/cmake/CMakeLists.txt            |    2\ntensorflow/contrib/cmake/external/png.cmake        |    1\ntensorflow/contrib/cmake/tf_core_framework.cmake   |    4 +\ntensorflow/contrib/cmake/tf_core_ops.cmake         |    8 +\ntensorflow/contrib/cmake/tf_python.cmake           |   21 ++-\ntensorflow/contrib/cmake/CMakeLists.txt            |    4 -\ntensorflow/contrib/cmake/README.md                 |    6 -\ntensorflow/contrib/cmake/external/grpc.cmake       |    3\ntensorflow/contrib/cmake/tf_python.cmake           |    2\ntensorflow/core/util/cuda_device_functions.h       |   16 +-\ntensorflow/contrib/cmake/CMakeLists.txt            |    5 +\ntensorflow/contrib/cmake/CMakeLists.txt            |    1\ntensorflow/core/platform/default/logging.h         |    7 +\ntensorflow/contrib/nccl/kernels/nccl_manager.h     |    4 -\ntensorflow/c/python_api.cc                         |    2\ntensorflow/contrib/cmake/CMakeLists.txt            |    3\ntensorflow/contrib/cmake/tf_c.cmake                |   27 ++-\ntensorflow/contrib/cmake/tf_core_cpu.cmake         |    4 -\n.../contrib/cmake/tf_core_eager_runtime.cmake      |   57 +++++++\ntensorflow/contrib/cmake/tf_python.cmake           |    2\ntensorflow/contrib/cmake/tf_shared_lib.cmake       |    4 +\ntensorflow/contrib/cmake/tf_python.cmake           |    2\ntensorflow/c/python_api.cc                         |    2\ntensorflow/contrib/cmake/tf_c.cmake                |   34 ++++\n79 files changed, 721 insertions(+), 291 deletions(-)\nLaurent@PC-Laurent-Vision MINGW64 /f/lib/tensorflow (master)\n$ git apply --check ../pr16480.patch\nerror: patch failed: tensorflow/contrib/cmake/tf_core_framework.cmake:126\nerror: tensorflow/contrib/cmake/tf_core_framework.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:21\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/tf_cc_ops.cmake:149\nerror: tensorflow/contrib/cmake/tf_cc_ops.cmake: patch does not apply\nerror: patch failed: tensorflow/core/platform/default/gpu/cupti_wrapper.h:20\nerror: tensorflow/core/platform/default/gpu/cupti_wrapper.h: patch does not appl                                                                                            y\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55\nerror: patch failed: tensorflow/core/platform/default/gpu/cupti_wrapper.h:20\nerror: tensorflow/core/platform/default/gpu/cupti_wrapper.h: patch does not appl                                                                                            y\nerror: patch failed: tensorflow/core/platform/default/gpu/cupti_wrapper.h:20\nerror: tensorflow/core/platform/default/gpu/cupti_wrapper.h: patch does not appl                                                                                            y\nerror: patch failed: tensorflow/contrib/cmake/tf_core_ops.cmake:15\nerror: tensorflow/contrib/cmake/tf_core_ops.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/tf_cc_ops.cmake:149\nerror: tensorflow/contrib/cmake/tf_cc_ops.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/tf_shared_lib.cmake:99\nerror: tensorflow/contrib/cmake/tf_shared_lib.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/README.md:35\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/README.md:121\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nerror: patch failed: tensorflow/core/util/cuda_device_functions.h:28\nerror: tensorflow/core/util/cuda_device_functions.h: patch does not apply\nerror: patch failed: tensorflow/core/util/cuda_device_functions.h:28\nerror: tensorflow/core/util/cuda_device_functions.h: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/CMakeLists.txt:31\nerror: tensorflow/contrib/cmake/CMakeLists.txt: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/README.md:121\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/README.md:179\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/README.md:35\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:51\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:30\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\nerror: patch failed: tensorflow/tools/pip_package/setup.py:29\nerror: tensorflow/tools/pip_package/setup.py: patch does not apply\nerror: patch failed: tensorflow/tools/pip_package/setup.py:37\nerror: tensorflow/tools/pip_package/setup.py: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:14\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:32\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:17\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply\nerror: patch failed: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat:3                                                                                            4\nerror: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat: patch does not                                                                                             apply\nerror: patch failed: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat:3                                                                                            5\nerror: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat: patch does not                                                                                             apply\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:14\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/README.md:35\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nerror: patch failed: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat:3                                                                                            4\nerror: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat: patch does not                                                                                             apply\nerror: patch failed: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat:3                                                                                            5\nerror: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat: patch does not                                                                                             apply\nerror: patch failed: tensorflow/contrib/cmake/README.md:39\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/README.md:135\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/README.md:42\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:14\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_manager.h:20\nerror: tensorflow/contrib/nccl/kernels/nccl_manager.h: patch does not apply\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_ops.cc:17\nerror: tensorflow/contrib/nccl/kernels/nccl_ops.cc: patch does not apply\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_manager.h:20\nerror: tensorflow/contrib/nccl/kernels/nccl_manager.h: patch does not apply\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_ops.cc:17\nerror: tensorflow/contrib/nccl/kernels/nccl_ops.cc: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/README.md:35\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55\nerror: patch failed: tensorflow/contrib/cmake/README.md:4\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:28\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55\nerror: patch failed: tensorflow/core/util/cuda_device_functions.h:28\nerror: tensorflow/core/util/cuda_device_functions.h: patch does not apply\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_manager.h:23\nerror: tensorflow/contrib/nccl/kernels/nccl_manager.h: patch does not apply\nerror: patch failed: tensorflow/contrib/cmake/tf_core_cpu.cmake:20\nerror: tensorflow/contrib/cmake/tf_core_cpu.cmake: patch does not apply\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55", "body": "I have done : \r\n`git pull `\r\nthen create a patch using https://github.com/tensorflow/tensorflow/pull/16480.patch page\r\n\r\n[pr16480.txt](https://github.com/tensorflow/tensorflow/files/2013038/pr16480.txt)\r\n\r\n\r\n\r\ntry to apply patch  (many errors with option --check): \r\n\r\n$ git apply --stat ../pr16480.patch\r\n tensorflow/contrib/cmake/tf_core_framework.cmake   |    2\r\n tensorflow/contrib/cmake/CMakeLists.txt            |   12 +-\r\n tensorflow/contrib/cmake/external/grpc.cmake       |   11 +\r\n tensorflow/contrib/cmake/tf_cc_ops.cmake           |    2\r\n tensorflow/contrib/cmake/tf_core_framework.cmake   |    8 +\r\n .../core/platform/default/gpu/cupti_wrapper.h      |    8 +\r\n tensorflow/contrib/cmake/CMakeLists.txt            |    1\r\n tensorflow/contrib/cmake/tf_core_framework.cmake   |    4 -\r\n tensorflow/contrib/cmake/tf_python.cmake           |   17 ++\r\n .../core/platform/default/gpu/cupti_wrapper.h      |    8 +\r\n .../core/platform/default/gpu/cupti_wrapper.h      |    6 -\r\n tensorflow/contrib/cmake/tf_core_ops.cmake         |    8 +\r\n tensorflow/contrib/cmake/tf_cc_ops.cmake           |    2\r\n tensorflow/contrib/cmake/CMakeLists.txt            |    5 -\r\n tensorflow/contrib/cmake/TensorflowConfig.cmake.in |   16 ++\r\n .../contrib/cmake/TensorflowConfigVersion.cmake.in |   11 +\r\n tensorflow/contrib/cmake/tf_shared_lib.cmake       |   80 +++++++++-\r\n tensorflow/contrib/cmake/README.md                 |  160 ++++++++++++++++++--\r\n tensorflow/contrib/cmake/README.md                 |    4 -\r\n tensorflow/core/util/cuda_device_functions.h       |    9 +\r\n tensorflow/core/util/cuda_device_functions.h       |    4 -\r\n tensorflow/core/util/cuda_launch_config.h          |    4 +\r\n tensorflow/contrib/cmake/external/protobuf.cmake   |    2\r\n tensorflow/contrib/cmake/CMakeLists.txt            |    7 +\r\n tensorflow/contrib/cmake/README.md                 |    4 -\r\n tensorflow/contrib/cmake/README.md                 |    4 +\r\n tensorflow/contrib/cmake/README.md                 |   16 ++\r\n tensorflow/contrib/cmake/external/grpc.cmake       |   25 +++\r\n tensorflow/contrib/cmake/external/grpc.cmake       |    2\r\n tensorflow/tools/pip_package/setup.py              |    2\r\n tensorflow/tools/pip_package/setup.py              |    3\r\n tensorflow/contrib/cmake/CMakeLists.txt            |    8 +\r\n tensorflow/contrib/cmake/external/grpc.cmake       |   55 +++++--\r\n tensorflow/contrib/cmake/external/grpc.cmake       |    2\r\n tensorflow/contrib/cmake/external/protobuf.cmake   |    2\r\n tensorflow/contrib/cmake/external/protobuf.cmake   |    2\r\n tensorflow/contrib/cmake/external/grpc.cmake       |   70 +++++----\r\n tensorflow/contrib/cmake/external/protobuf.cmake   |   11 +\r\n .../tools/ci_build/windows/cpu/cmake/run_build.bat |    3\r\n .../tools/ci_build/windows/gpu/cmake/run_build.bat |    3\r\n tensorflow/contrib/cmake/external/grpc.cmake       |   79 +++++-----\r\n tensorflow/contrib/cmake/README.md                 |   14 +-\r\n .../tools/ci_build/windows/cpu/cmake/run_build.bat |    3\r\n .../tools/ci_build/windows/gpu/cmake/run_build.bat |    3\r\n tensorflow/contrib/cmake/README.md                 |   12 +-\r\n tensorflow/contrib/cmake/README.md                 |    2\r\n tensorflow/contrib/cmake/README.md                 |    2\r\n tensorflow/contrib/cmake/external/grpc.cmake       |   40 -----\r\n tensorflow/contrib/cmake/CMakeLists.txt            |    5 +\r\n tensorflow/contrib/nccl/kernels/nccl_manager.h     |    5 +\r\n tensorflow/contrib/nccl/kernels/nccl_ops.cc        |    4 +\r\n tensorflow/contrib/nccl/kernels/nccl_manager.h     |    2\r\n tensorflow/contrib/nccl/kernels/nccl_ops.cc        |    2\r\n tensorflow/core/platform/default/logging.h         |    5 +\r\n tensorflow/contrib/cmake/README.md                 |   10 +\r\n tensorflow/contrib/cmake/CMakeLists.txt            |    2\r\n tensorflow/contrib/cmake/external/png.cmake        |    1\r\n tensorflow/contrib/cmake/tf_core_framework.cmake   |    4 +\r\n tensorflow/contrib/cmake/tf_core_ops.cmake         |    8 +\r\n tensorflow/contrib/cmake/tf_python.cmake           |   21 ++-\r\n tensorflow/contrib/cmake/CMakeLists.txt            |    4 -\r\n tensorflow/contrib/cmake/README.md                 |    6 -\r\n tensorflow/contrib/cmake/external/grpc.cmake       |    3\r\n tensorflow/contrib/cmake/tf_python.cmake           |    2\r\n tensorflow/core/util/cuda_device_functions.h       |   16 +-\r\n tensorflow/contrib/cmake/CMakeLists.txt            |    5 +\r\n tensorflow/contrib/cmake/CMakeLists.txt            |    1\r\n tensorflow/core/platform/default/logging.h         |    7 +\r\n tensorflow/contrib/nccl/kernels/nccl_manager.h     |    4 -\r\n tensorflow/c/python_api.cc                         |    2\r\n tensorflow/contrib/cmake/CMakeLists.txt            |    3\r\n tensorflow/contrib/cmake/tf_c.cmake                |   27 ++-\r\n tensorflow/contrib/cmake/tf_core_cpu.cmake         |    4 -\r\n .../contrib/cmake/tf_core_eager_runtime.cmake      |   57 +++++++\r\n tensorflow/contrib/cmake/tf_python.cmake           |    2\r\n tensorflow/contrib/cmake/tf_shared_lib.cmake       |    4 +\r\n tensorflow/contrib/cmake/tf_python.cmake           |    2\r\n tensorflow/c/python_api.cc                         |    2\r\n tensorflow/contrib/cmake/tf_c.cmake                |   34 ++++\r\n 79 files changed, 721 insertions(+), 291 deletions(-)\r\n\r\nLaurent@PC-Laurent-Vision MINGW64 /f/lib/tensorflow (master)\r\n$ git apply --check ../pr16480.patch\r\nerror: patch failed: tensorflow/contrib/cmake/tf_core_framework.cmake:126\r\nerror: tensorflow/contrib/cmake/tf_core_framework.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:21\r\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/tf_cc_ops.cmake:149\r\nerror: tensorflow/contrib/cmake/tf_cc_ops.cmake: patch does not apply\r\nerror: patch failed: tensorflow/core/platform/default/gpu/cupti_wrapper.h:20\r\nerror: tensorflow/core/platform/default/gpu/cupti_wrapper.h: patch does not appl                                                                                            y\r\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55\r\nerror: patch failed: tensorflow/core/platform/default/gpu/cupti_wrapper.h:20\r\nerror: tensorflow/core/platform/default/gpu/cupti_wrapper.h: patch does not appl                                                                                            y\r\nerror: patch failed: tensorflow/core/platform/default/gpu/cupti_wrapper.h:20\r\nerror: tensorflow/core/platform/default/gpu/cupti_wrapper.h: patch does not appl                                                                                            y\r\nerror: patch failed: tensorflow/contrib/cmake/tf_core_ops.cmake:15\r\nerror: tensorflow/contrib/cmake/tf_core_ops.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/tf_cc_ops.cmake:149\r\nerror: tensorflow/contrib/cmake/tf_cc_ops.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/tf_shared_lib.cmake:99\r\nerror: tensorflow/contrib/cmake/tf_shared_lib.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:35\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:121\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nerror: patch failed: tensorflow/core/util/cuda_device_functions.h:28\r\nerror: tensorflow/core/util/cuda_device_functions.h: patch does not apply\r\nerror: patch failed: tensorflow/core/util/cuda_device_functions.h:28\r\nerror: tensorflow/core/util/cuda_device_functions.h: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16\r\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/CMakeLists.txt:31\r\nerror: tensorflow/contrib/cmake/CMakeLists.txt: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:121\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:179\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:35\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:51\r\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:30\r\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\r\nerror: patch failed: tensorflow/tools/pip_package/setup.py:29\r\nerror: tensorflow/tools/pip_package/setup.py: patch does not apply\r\nerror: patch failed: tensorflow/tools/pip_package/setup.py:37\r\nerror: tensorflow/tools/pip_package/setup.py: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:14\r\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:32\r\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16\r\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16\r\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:17\r\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/protobuf.cmake:16\r\nerror: tensorflow/contrib/cmake/external/protobuf.cmake: patch does not apply\r\nerror: patch failed: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat:3                                                                                            4\r\nerror: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat: patch does not                                                                                             apply\r\nerror: patch failed: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat:3                                                                                            5\r\nerror: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat: patch does not                                                                                             apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:14\r\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:35\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nerror: patch failed: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat:3                                                                                            4\r\nerror: tensorflow/tools/ci_build/windows/cpu/cmake/run_build.bat: patch does not                                                                                             apply\r\nerror: patch failed: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat:3                                                                                            5\r\nerror: tensorflow/tools/ci_build/windows/gpu/cmake/run_build.bat: patch does not                                                                                             apply\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:39\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:135\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:42\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:14\r\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\r\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_manager.h:20\r\nerror: tensorflow/contrib/nccl/kernels/nccl_manager.h: patch does not apply\r\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_ops.cc:17\r\nerror: tensorflow/contrib/nccl/kernels/nccl_ops.cc: patch does not apply\r\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_manager.h:20\r\nerror: tensorflow/contrib/nccl/kernels/nccl_manager.h: patch does not apply\r\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_ops.cc:17\r\nerror: tensorflow/contrib/nccl/kernels/nccl_ops.cc: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:35\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55\r\nerror: patch failed: tensorflow/contrib/cmake/README.md:4\r\nerror: tensorflow/contrib/cmake/README.md: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/external/grpc.cmake:28\r\nerror: tensorflow/contrib/cmake/external/grpc.cmake: patch does not apply\r\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55\r\nerror: patch failed: tensorflow/core/util/cuda_device_functions.h:28\r\nerror: tensorflow/core/util/cuda_device_functions.h: patch does not apply\r\nerror: patch failed: tensorflow/contrib/nccl/kernels/nccl_manager.h:23\r\nerror: tensorflow/contrib/nccl/kernels/nccl_manager.h: patch does not apply\r\nerror: patch failed: tensorflow/contrib/cmake/tf_core_cpu.cmake:20\r\nerror: tensorflow/contrib/cmake/tf_core_cpu.cmake: patch does not apply\r\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55\r\nwarning: tensorflow/contrib/cmake/tf_python.cmake has type 100644, expected 1007                                                                                            55\r\n\r\n\r\n\r\n"}