{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7420", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7420/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7420/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7420/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7420", "id": 206852109, "node_id": "MDU6SXNzdWUyMDY4NTIxMDk=", "number": 7420, "title": "TypeError: Input 'y' of 'Mul' Op has type float32 that does not match type int32 of argument 'x'.", "user": {"login": "vladimircape", "id": 1789618, "node_id": "MDQ6VXNlcjE3ODk2MTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1789618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vladimircape", "html_url": "https://github.com/vladimircape", "followers_url": "https://api.github.com/users/vladimircape/followers", "following_url": "https://api.github.com/users/vladimircape/following{/other_user}", "gists_url": "https://api.github.com/users/vladimircape/gists{/gist_id}", "starred_url": "https://api.github.com/users/vladimircape/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vladimircape/subscriptions", "organizations_url": "https://api.github.com/users/vladimircape/orgs", "repos_url": "https://api.github.com/users/vladimircape/repos", "events_url": "https://api.github.com/users/vladimircape/events{/privacy}", "received_events_url": "https://api.github.com/users/vladimircape/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-10T17:09:50Z", "updated_at": "2017-02-10T17:18:23Z", "closed_at": "2017-02-10T17:18:22Z", "author_association": "NONE", "body_html": "<p>I tried to start these tutorial <a href=\"https://github.com/nlintz/TensorFlow-Tutorials/blob/master/08_word2vec.py\">https://github.com/nlintz/TensorFlow-Tutorials/blob/master/08_word2vec.py</a> and get these error</p>\n<blockquote>\n<p>D:\\Programms\\Python35&gt;python 08_word2vec.py<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr<br>\nary cublas64_80.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr<br>\nary cudnn64_5.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr<br>\nary cufft64_80.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr<br>\nary nvcuda.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr<br>\nary curand64_80.dll locally<br>\nWord count [('cats', 10), ('dogs', 6), ('and', 5), ('are', 4), ('love', 3)]<br>\nSample data [7, 12, 24, 11, 13, 19, 7, 15, 17, 27] ['the', 'quick', 'brown', 'fox', 'jumped', 'over', 'the', 'lazy', 'dog', 'I']<br>\nContext pairs [[[7, 24], 12], [[12, 11], 24], [[24, 13], 11], [[11, 19], 13], [[13, 7], 19], [[19, 15], 7], [[7, 17], 15], [[15, 27], 17], [<br>\n[17, 4], 27], [[27, 0], 4]]<br>\nskip-gram pairs [[12, 7], [12, 24], [24, 12], [24, 11], [11, 24]]<br>\nBatches (x, y) ([17, 20, 0], [[15], [14], [25]])<br>\nTraceback (most recent call last):<br>\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 490, in apply_op<br>\npreferred_dtype=default_dtype)<br>\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 669, in convert_to_tensor<br>\nret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)<br>\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 583, in _TensorTensorConversionFunction<br>\n% (dtype.name, t.dtype.name, str(t)))<br>\nValueError: Tensor conversion requested dtype int32 for Tensor with dtype float32: 'Tensor(\"nce_loss/Reshape_1:0\", shape=(?, 1, ?), dtype=fl<br>\noat32)'</p>\n</blockquote>\n<blockquote>\n<p>During handling of the above exception, another exception occurred:</p>\n</blockquote>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"08_word2vec.py\", line 92, in<br>\nloss = tf.reduce_mean(tf.nn.nce_loss(nce_weights, nce_biases, train_labels, embed, num_sampled, voc_size))<br>\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\nn.py\", line 1336, in nce_loss<br>\nname=name)<br>\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\nn.py\", line 1198, in _compute_sampled_logits<br>\narray_ops.reshape(true_w, new_true_w_shape))<br>\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\gen_math_ops.py\", line 1613, in mul<br>\nresult = _op_def_lib.apply_op(\"Mul\", x=x, y=y, name=name)<br>\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 521, in apply_op<br>\ninferred_from[input_arg.type_attr]))<br>\nTypeError: Input 'y' of 'Mul' Op has type float32 that does not match type int32 of argument 'x'.</p>\n</blockquote>", "body_text": "I tried to start these tutorial https://github.com/nlintz/TensorFlow-Tutorials/blob/master/08_word2vec.py and get these error\n\nD:\\Programms\\Python35>python 08_word2vec.py\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr\nary cublas64_80.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr\nary cudnn64_5.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr\nary cufft64_80.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr\nary nvcuda.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr\nary curand64_80.dll locally\nWord count [('cats', 10), ('dogs', 6), ('and', 5), ('are', 4), ('love', 3)]\nSample data [7, 12, 24, 11, 13, 19, 7, 15, 17, 27] ['the', 'quick', 'brown', 'fox', 'jumped', 'over', 'the', 'lazy', 'dog', 'I']\nContext pairs [[[7, 24], 12], [[12, 11], 24], [[24, 13], 11], [[11, 19], 13], [[13, 7], 19], [[19, 15], 7], [[7, 17], 15], [[15, 27], 17], [\n[17, 4], 27], [[27, 0], 4]]\nskip-gram pairs [[12, 7], [12, 24], [24, 12], [24, 11], [11, 24]]\nBatches (x, y) ([17, 20, 0], [[15], [14], [25]])\nTraceback (most recent call last):\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 490, in apply_op\npreferred_dtype=default_dtype)\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 669, in convert_to_tensor\nret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 583, in _TensorTensorConversionFunction\n% (dtype.name, t.dtype.name, str(t)))\nValueError: Tensor conversion requested dtype int32 for Tensor with dtype float32: 'Tensor(\"nce_loss/Reshape_1:0\", shape=(?, 1, ?), dtype=fl\noat32)'\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\nFile \"08_word2vec.py\", line 92, in\nloss = tf.reduce_mean(tf.nn.nce_loss(nce_weights, nce_biases, train_labels, embed, num_sampled, voc_size))\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\nn.py\", line 1336, in nce_loss\nname=name)\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\nn.py\", line 1198, in _compute_sampled_logits\narray_ops.reshape(true_w, new_true_w_shape))\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\gen_math_ops.py\", line 1613, in mul\nresult = _op_def_lib.apply_op(\"Mul\", x=x, y=y, name=name)\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 521, in apply_op\ninferred_from[input_arg.type_attr]))\nTypeError: Input 'y' of 'Mul' Op has type float32 that does not match type int32 of argument 'x'.", "body": "I tried to start these tutorial https://github.com/nlintz/TensorFlow-Tutorials/blob/master/08_word2vec.py and get these error\r\n>D:\\Programms\\Python35>python 08_word2vec.py\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr\r\nary cublas64_80.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr\r\nary cudnn64_5.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr\r\nary cufft64_80.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr\r\nary nvcuda.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA libr\r\nary curand64_80.dll locally\r\nWord count [('cats', 10), ('dogs', 6), ('and', 5), ('are', 4), ('love', 3)]\r\nSample data [7, 12, 24, 11, 13, 19, 7, 15, 17, 27] ['the', 'quick', 'brown', 'fox', 'jumped', 'over', 'the', 'lazy', 'dog', 'I']\r\nContext pairs [[[7, 24], 12], [[12, 11], 24], [[24, 13], 11], [[11, 19], 13], [[13, 7], 19], [[19, 15], 7], [[7, 17], 15], [[15, 27], 17], [\r\n[17, 4], 27], [[27, 0], 4]]\r\nskip-gram pairs [[12, 7], [12, 24], [24, 12], [24, 11], [11, 24]]\r\nBatches (x, y) ([17, 20, 0], [[15], [14], [25]])\r\nTraceback (most recent call last):\r\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 490, in apply_op\r\npreferred_dtype=default_dtype)\r\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 669, in convert_to_tensor\r\nret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 583, in _TensorTensorConversionFunction\r\n% (dtype.name, t.dtype.name, str(t)))\r\nValueError: Tensor conversion requested dtype int32 for Tensor with dtype float32: 'Tensor(\"nce_loss/Reshape_1:0\", shape=(?, 1, ?), dtype=fl\r\noat32)'\r\n\r\n> During handling of the above exception, another exception occurred:\r\n\r\n>Traceback (most recent call last):\r\nFile \"08_word2vec.py\", line 92, in \r\nloss = tf.reduce_mean(tf.nn.nce_loss(nce_weights, nce_biases, train_labels, embed, num_sampled, voc_size))\r\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\nn.py\", line 1336, in nce_loss\r\nname=name)\r\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\nn.py\", line 1198, in _compute_sampled_logits\r\narray_ops.reshape(true_w, new_true_w_shape))\r\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\gen_math_ops.py\", line 1613, in mul\r\nresult = _op_def_lib.apply_op(\"Mul\", x=x, y=y, name=name)\r\nFile \"D:\\Programms\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 521, in apply_op\r\ninferred_from[input_arg.type_attr]))\r\nTypeError: Input 'y' of 'Mul' Op has type float32 that does not match type int32 of argument 'x'."}