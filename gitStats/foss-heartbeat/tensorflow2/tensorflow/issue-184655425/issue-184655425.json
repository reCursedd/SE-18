{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5141", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5141/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5141/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5141/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5141", "id": 184655425, "node_id": "MDU6SXNzdWUxODQ2NTU0MjU=", "number": 5141, "title": "ipython ImportError: Library not loaded: @rpath/libcudart.8.0.dylib", "user": {"login": "ohadle", "id": 2196196, "node_id": "MDQ6VXNlcjIxOTYxOTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/2196196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohadle", "html_url": "https://github.com/ohadle", "followers_url": "https://api.github.com/users/ohadle/followers", "following_url": "https://api.github.com/users/ohadle/following{/other_user}", "gists_url": "https://api.github.com/users/ohadle/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohadle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohadle/subscriptions", "organizations_url": "https://api.github.com/users/ohadle/orgs", "repos_url": "https://api.github.com/users/ohadle/repos", "events_url": "https://api.github.com/users/ohadle/events{/privacy}", "received_events_url": "https://api.github.com/users/ohadle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 43, "created_at": "2016-10-22T21:34:38Z", "updated_at": "2017-03-23T08:42:16Z", "closed_at": "2016-10-25T19:29:12Z", "author_association": "NONE", "body_html": "<p>I just installed 0.11rc1 from pip (<code>TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0rc1-py2-none-any.whl</code>), with a brand-new CUDA 8.0 installation, and got this error:</p>\n<pre><code>In [1]: import tensorflow as tf\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n&lt;ipython-input-1-41389fad42b5&gt; in &lt;module&gt;()\n----&gt; 1 import tensorflow as tf\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/__init__.py in &lt;module&gt;()\n     21 from __future__ import print_function\n     22\n---&gt; 23 from tensorflow.python import *\n     24\n     25\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/__init__.py in &lt;module&gt;()\n     47 _default_dlopen_flags = sys.getdlopenflags()\n     48 sys.setdlopenflags(_default_dlopen_flags | ctypes.RTLD_GLOBAL)\n---&gt; 49 from tensorflow.python import pywrap_tensorflow\n     50 sys.setdlopenflags(_default_dlopen_flags)\n     51\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in &lt;module&gt;()\n     26                 fp.close()\n     27             return _mod\n---&gt; 28     _pywrap_tensorflow = swig_import_helper()\n     29     del swig_import_helper\n     30 else:\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in swig_import_helper()\n     22         if fp is not None:\n     23             try:\n---&gt; 24                 _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\n     25             finally:\n     26                 fp.close()\n\nImportError: dlopen(/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so, 10): Library not loaded: @rpath/libcudart.8.0.dylib\n  Referenced from: /Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n  Reason: image not found\n</code></pre>\n<p>(Similar to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174877251\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4187\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4187/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4187\">#4187</a> but different error.)<br>\nLooks like a <a href=\"http://stackoverflow.com/questions/37933890/tensorflow-gpu-setup-error-with-cuda-on-pycharm\" rel=\"nofollow\">path issue</a> but I don't see a problem:</p>\n<pre><code>\u279c  ~ echo $PATH\n/Users/me/anaconda/bin:/usr/local/cuda/bin:/Developer/NVIDIA/CUDA-8.0/bin:/opt/local/bin:/opt/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin\n\u279c  ~ echo $DYLD_LIBRARY_PATH\n/usr/local/cuda/lib:/Developer/NVIDIA/CUDA-8.0/lib:\n\u279c  ~ ll /Developer/NVIDIA/CUDA-8.0/lib/libcudart*\n-rwxr-xr-x 1 root wheel 285K Sep 27 00:59 /Developer/NVIDIA/CUDA-8.0/lib/libcudart.8.0.dylib\nlrwxr-xr-x 1 root wheel   19 Sep 27 00:59 /Developer/NVIDIA/CUDA-8.0/lib/libcudart.dylib -&gt; libcudart.8.0.dylib\n-rw-r--r-- 1 root wheel 599K Sep 27 00:59 /Developer/NVIDIA/CUDA-8.0/lib/libcudart_static.a\n</code></pre>\n<p>I also get a segfault when importing in python:</p>\n<pre><code>\u279c  ~ python -c \"import tensorflow;\"\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.dylib locally\n[1]    60723 segmentation fault  python -c \"import tensorflow;\"\n</code></pre>\n<p>Tried the <a href=\"https://www.tensorflow.org/versions/r0.11/get_started/os_setup.html#mac-os-x-segmentation-fault-when-import-tensorflow\" rel=\"nofollow\">suggestion from the docs</a>, didn't work:</p>\n<pre><code>ln -sf /usr/local/cuda/lib/libcuda.dylib /usr/local/cuda/lib/libcuda.1.dylib\n</code></pre>\n<p>On OSX 10.11.6, CUDA 8.0.46, no CUDNN installed yet.</p>\n<p>Is this a SIP issue? Should the install procedure be updated?<br>\nI don't know if I can turn off SIP, this is a work computer.</p>", "body_text": "I just installed 0.11rc1 from pip (TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0rc1-py2-none-any.whl), with a brand-new CUDA 8.0 installation, and got this error:\nIn [1]: import tensorflow as tf\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n<ipython-input-1-41389fad42b5> in <module>()\n----> 1 import tensorflow as tf\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/__init__.py in <module>()\n     21 from __future__ import print_function\n     22\n---> 23 from tensorflow.python import *\n     24\n     25\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/__init__.py in <module>()\n     47 _default_dlopen_flags = sys.getdlopenflags()\n     48 sys.setdlopenflags(_default_dlopen_flags | ctypes.RTLD_GLOBAL)\n---> 49 from tensorflow.python import pywrap_tensorflow\n     50 sys.setdlopenflags(_default_dlopen_flags)\n     51\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in <module>()\n     26                 fp.close()\n     27             return _mod\n---> 28     _pywrap_tensorflow = swig_import_helper()\n     29     del swig_import_helper\n     30 else:\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in swig_import_helper()\n     22         if fp is not None:\n     23             try:\n---> 24                 _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\n     25             finally:\n     26                 fp.close()\n\nImportError: dlopen(/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so, 10): Library not loaded: @rpath/libcudart.8.0.dylib\n  Referenced from: /Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n  Reason: image not found\n\n(Similar to #4187 but different error.)\nLooks like a path issue but I don't see a problem:\n\u279c  ~ echo $PATH\n/Users/me/anaconda/bin:/usr/local/cuda/bin:/Developer/NVIDIA/CUDA-8.0/bin:/opt/local/bin:/opt/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin\n\u279c  ~ echo $DYLD_LIBRARY_PATH\n/usr/local/cuda/lib:/Developer/NVIDIA/CUDA-8.0/lib:\n\u279c  ~ ll /Developer/NVIDIA/CUDA-8.0/lib/libcudart*\n-rwxr-xr-x 1 root wheel 285K Sep 27 00:59 /Developer/NVIDIA/CUDA-8.0/lib/libcudart.8.0.dylib\nlrwxr-xr-x 1 root wheel   19 Sep 27 00:59 /Developer/NVIDIA/CUDA-8.0/lib/libcudart.dylib -> libcudart.8.0.dylib\n-rw-r--r-- 1 root wheel 599K Sep 27 00:59 /Developer/NVIDIA/CUDA-8.0/lib/libcudart_static.a\n\nI also get a segfault when importing in python:\n\u279c  ~ python -c \"import tensorflow;\"\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.dylib locally\n[1]    60723 segmentation fault  python -c \"import tensorflow;\"\n\nTried the suggestion from the docs, didn't work:\nln -sf /usr/local/cuda/lib/libcuda.dylib /usr/local/cuda/lib/libcuda.1.dylib\n\nOn OSX 10.11.6, CUDA 8.0.46, no CUDNN installed yet.\nIs this a SIP issue? Should the install procedure be updated?\nI don't know if I can turn off SIP, this is a work computer.", "body": "I just installed 0.11rc1 from pip (`TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0rc1-py2-none-any.whl`), with a brand-new CUDA 8.0 installation, and got this error:\n\n```\nIn [1]: import tensorflow as tf\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n<ipython-input-1-41389fad42b5> in <module>()\n----> 1 import tensorflow as tf\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/__init__.py in <module>()\n     21 from __future__ import print_function\n     22\n---> 23 from tensorflow.python import *\n     24\n     25\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/__init__.py in <module>()\n     47 _default_dlopen_flags = sys.getdlopenflags()\n     48 sys.setdlopenflags(_default_dlopen_flags | ctypes.RTLD_GLOBAL)\n---> 49 from tensorflow.python import pywrap_tensorflow\n     50 sys.setdlopenflags(_default_dlopen_flags)\n     51\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in <module>()\n     26                 fp.close()\n     27             return _mod\n---> 28     _pywrap_tensorflow = swig_import_helper()\n     29     del swig_import_helper\n     30 else:\n\n/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in swig_import_helper()\n     22         if fp is not None:\n     23             try:\n---> 24                 _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\n     25             finally:\n     26                 fp.close()\n\nImportError: dlopen(/Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so, 10): Library not loaded: @rpath/libcudart.8.0.dylib\n  Referenced from: /Users/me/anaconda/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n  Reason: image not found\n```\n\n(Similar to https://github.com/tensorflow/tensorflow/issues/4187 but different error.)\nLooks like a [path issue](http://stackoverflow.com/questions/37933890/tensorflow-gpu-setup-error-with-cuda-on-pycharm) but I don't see a problem:\n\n```\n\u279c  ~ echo $PATH\n/Users/me/anaconda/bin:/usr/local/cuda/bin:/Developer/NVIDIA/CUDA-8.0/bin:/opt/local/bin:/opt/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin\n\u279c  ~ echo $DYLD_LIBRARY_PATH\n/usr/local/cuda/lib:/Developer/NVIDIA/CUDA-8.0/lib:\n\u279c  ~ ll /Developer/NVIDIA/CUDA-8.0/lib/libcudart*\n-rwxr-xr-x 1 root wheel 285K Sep 27 00:59 /Developer/NVIDIA/CUDA-8.0/lib/libcudart.8.0.dylib\nlrwxr-xr-x 1 root wheel   19 Sep 27 00:59 /Developer/NVIDIA/CUDA-8.0/lib/libcudart.dylib -> libcudart.8.0.dylib\n-rw-r--r-- 1 root wheel 599K Sep 27 00:59 /Developer/NVIDIA/CUDA-8.0/lib/libcudart_static.a\n```\n\nI also get a segfault when importing in python:\n\n```\n\u279c  ~ python -c \"import tensorflow;\"\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.dylib locally\n[1]    60723 segmentation fault  python -c \"import tensorflow;\"\n```\n\nTried the [suggestion from the docs](https://www.tensorflow.org/versions/r0.11/get_started/os_setup.html#mac-os-x-segmentation-fault-when-import-tensorflow), didn't work:\n\n```\nln -sf /usr/local/cuda/lib/libcuda.dylib /usr/local/cuda/lib/libcuda.1.dylib\n```\n\nOn OSX 10.11.6, CUDA 8.0.46, no CUDNN installed yet.\n\nIs this a SIP issue? Should the install procedure be updated?\nI don't know if I can turn off SIP, this is a work computer.\n"}