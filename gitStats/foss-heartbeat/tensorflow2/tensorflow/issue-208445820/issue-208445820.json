{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7622", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7622/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7622/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7622/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7622", "id": 208445820, "node_id": "MDU6SXNzdWUyMDg0NDU4MjA=", "number": 7622, "title": "tf.pad does not support SparseTensor in r1.0", "user": {"login": "sromano", "id": 8929, "node_id": "MDQ6VXNlcjg5Mjk=", "avatar_url": "https://avatars1.githubusercontent.com/u/8929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sromano", "html_url": "https://github.com/sromano", "followers_url": "https://api.github.com/users/sromano/followers", "following_url": "https://api.github.com/users/sromano/following{/other_user}", "gists_url": "https://api.github.com/users/sromano/gists{/gist_id}", "starred_url": "https://api.github.com/users/sromano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sromano/subscriptions", "organizations_url": "https://api.github.com/users/sromano/orgs", "repos_url": "https://api.github.com/users/sromano/repos", "events_url": "https://api.github.com/users/sromano/events{/privacy}", "received_events_url": "https://api.github.com/users/sromano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-17T13:44:37Z", "updated_at": "2017-03-03T23:39:48Z", "closed_at": "2017-03-03T23:39:48Z", "author_association": "NONE", "body_html": "<p>This works</p>\n<pre><code>import tensorflow as tf\nsession = tf.InteractiveSession()\npad = tf.pad([[1,2]], [[0,0],[0,150]], mode='CONSTANT')\npad.eval()\n</code></pre>\n<p>But this doesn't work</p>\n<pre><code>import tensorflow as tf\nsession = tf.InteractiveSession()\ntensor = tf.SparseTensor(indices=[[0, 0], [0, 1]], values=[1, 2], dense_shape=[1, 2])\npad = tf.pad(tensor, [[0,0],[0,150]], mode='CONSTANT')\npad.eval()\n</code></pre>\n<p>The following error is thrown</p>\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/Users/sromano/Dropbox/uba/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1646, in pad\n    return gen_array_ops._pad(tensor, paddings, name=name)\n  File \"/Users/sromano/Dropbox/uba/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2083, in _pad\n    name=name)\n  File \"/Users/sromano/Dropbox/uba/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 494, in apply_op\n    raise err\nTypeError: Expected binary or unicode string, got &lt;tensorflow.python.framework.sparse_tensor.SparseTensor object at 0x116288450&gt;\n</code></pre>\n<p>My use case is that I'm reading a csv file where each row has a different amount of elements and I want to turn it into a matrix of a fixed length. I use string split in each row and I get a SparseTensor, so then I need a different padding in each row to complete the expected width.</p>\n<p>I'm using Python 2.7 and Tensorflow r1.0</p>", "body_text": "This works\nimport tensorflow as tf\nsession = tf.InteractiveSession()\npad = tf.pad([[1,2]], [[0,0],[0,150]], mode='CONSTANT')\npad.eval()\n\nBut this doesn't work\nimport tensorflow as tf\nsession = tf.InteractiveSession()\ntensor = tf.SparseTensor(indices=[[0, 0], [0, 1]], values=[1, 2], dense_shape=[1, 2])\npad = tf.pad(tensor, [[0,0],[0,150]], mode='CONSTANT')\npad.eval()\n\nThe following error is thrown\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/sromano/Dropbox/uba/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1646, in pad\n    return gen_array_ops._pad(tensor, paddings, name=name)\n  File \"/Users/sromano/Dropbox/uba/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2083, in _pad\n    name=name)\n  File \"/Users/sromano/Dropbox/uba/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 494, in apply_op\n    raise err\nTypeError: Expected binary or unicode string, got <tensorflow.python.framework.sparse_tensor.SparseTensor object at 0x116288450>\n\nMy use case is that I'm reading a csv file where each row has a different amount of elements and I want to turn it into a matrix of a fixed length. I use string split in each row and I get a SparseTensor, so then I need a different padding in each row to complete the expected width.\nI'm using Python 2.7 and Tensorflow r1.0", "body": "This works \r\n```\r\nimport tensorflow as tf\r\nsession = tf.InteractiveSession()\r\npad = tf.pad([[1,2]], [[0,0],[0,150]], mode='CONSTANT')\r\npad.eval()\r\n```\r\n\r\nBut this doesn't work\r\n\r\n```\r\nimport tensorflow as tf\r\nsession = tf.InteractiveSession()\r\ntensor = tf.SparseTensor(indices=[[0, 0], [0, 1]], values=[1, 2], dense_shape=[1, 2])\r\npad = tf.pad(tensor, [[0,0],[0,150]], mode='CONSTANT')\r\npad.eval()\r\n```\r\n\r\nThe following error is thrown\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/sromano/Dropbox/uba/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1646, in pad\r\n    return gen_array_ops._pad(tensor, paddings, name=name)\r\n  File \"/Users/sromano/Dropbox/uba/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2083, in _pad\r\n    name=name)\r\n  File \"/Users/sromano/Dropbox/uba/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 494, in apply_op\r\n    raise err\r\nTypeError: Expected binary or unicode string, got <tensorflow.python.framework.sparse_tensor.SparseTensor object at 0x116288450>\r\n```\r\n\r\nMy use case is that I'm reading a csv file where each row has a different amount of elements and I want to turn it into a matrix of a fixed length. I use string split in each row and I get a SparseTensor, so then I need a different padding in each row to complete the expected width.\r\n\r\nI'm using Python 2.7 and Tensorflow r1.0"}