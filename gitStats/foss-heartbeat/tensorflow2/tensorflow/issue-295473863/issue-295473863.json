{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16860", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16860/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16860/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16860/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16860", "id": 295473863, "node_id": "MDU6SXNzdWUyOTU0NzM4NjM=", "number": 16860, "title": "Tensorflow-gpu 1.6 : failed call to cuInit: CUDA_ERROR_NO_DEVICE", "user": {"login": "vincent-roye", "id": 2728049, "node_id": "MDQ6VXNlcjI3MjgwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2728049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-roye", "html_url": "https://github.com/vincent-roye", "followers_url": "https://api.github.com/users/vincent-roye/followers", "following_url": "https://api.github.com/users/vincent-roye/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-roye/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-roye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-roye/subscriptions", "organizations_url": "https://api.github.com/users/vincent-roye/orgs", "repos_url": "https://api.github.com/users/vincent-roye/repos", "events_url": "https://api.github.com/users/vincent-roye/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-roye/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-08T11:17:04Z", "updated_at": "2018-05-11T09:01:33Z", "closed_at": "2018-02-09T07:51:44Z", "author_association": "NONE", "body_html": "<ul>\n<li>CUDA 9.0</li>\n<li>Cudnn 7.0</li>\n<li>Tensorflow-gpu 1.6</li>\n</ul>\n<p>nvida-smi is good<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/2728049/35970141-d827bac6-0cfb-11e8-886f-92b068c62c4e.png\"><img src=\"https://user-images.githubusercontent.com/2728049/35970141-d827bac6-0cfb-11e8-886f-92b068c62c4e.png\" alt=\"nvidia-smi\" style=\"max-width:100%;\"></a></p>\n<p>Error<br>\n2018-02-08 18:14:24.768537: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\core\\platform\\cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2<br>\n<strong>2018-02-08 18:14:25.438352: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:406] failed call to cuInit: CUDA_ERROR_NO_DEVICE</strong><br>\n2018-02-08 18:14:25.441350: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_diagnostics.cc:158] retrieving CUDA diagnostic information for host: Vincent<br>\n2018-02-08 18:14:25.441633: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_diagnostics.cc:165] hostname: Vincent<br>\n2018-02-08 18:14:25.443152: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\core\\common_runtime\\direct_session.cc:297] Device mapping:</p>\n<p>Device mapping: no known devices.<br>\nMatMul: (MatMul): /job:localhost/replica:0/task:0/device:CPU:0<br>\nb: (Const): /job:localhost/replica:0/task:0/device:CPU:0<br>\na: (Const): /job:localhost/replica:0/task:0/device:CPU:0</p>\n<p>Code :<br>\n`import os<br>\nimport tensorflow as tf</p>\n<p>os.environ[\"CUDA_DEVICE_ORDER\"]=\"PCI_BUS_ID\"   # see issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"116428689\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/152\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/152/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/152\">#152</a><br>\nos.environ[\"CUDA_VISIBLE_DEVICES\"]=\"1\"</p>\n<p>from tensorflow.python.client import device_lib<br>\n#print (device_lib.list_local_devices())</p>\n<h1>Creates a graph.</h1>\n<p>a = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[2, 3], name='a')<br>\nb = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[3, 2], name='b')<br>\nc = tf.matmul(a, b)</p>\n<h1>Creates a session with log_device_placement set to True.</h1>\n<p>sess = tf.Session(config=tf.ConfigProto(log_device_placement=True))</p>\n<h1>Runs the op.</h1>\n<p>print(sess.run(c))`</p>", "body_text": "CUDA 9.0\nCudnn 7.0\nTensorflow-gpu 1.6\n\nnvida-smi is good\n\nError\n2018-02-08 18:14:24.768537: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\core\\platform\\cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\n2018-02-08 18:14:25.438352: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:406] failed call to cuInit: CUDA_ERROR_NO_DEVICE\n2018-02-08 18:14:25.441350: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_diagnostics.cc:158] retrieving CUDA diagnostic information for host: Vincent\n2018-02-08 18:14:25.441633: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_diagnostics.cc:165] hostname: Vincent\n2018-02-08 18:14:25.443152: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\core\\common_runtime\\direct_session.cc:297] Device mapping:\nDevice mapping: no known devices.\nMatMul: (MatMul): /job:localhost/replica:0/task:0/device:CPU:0\nb: (Const): /job:localhost/replica:0/task:0/device:CPU:0\na: (Const): /job:localhost/replica:0/task:0/device:CPU:0\nCode :\n`import os\nimport tensorflow as tf\nos.environ[\"CUDA_DEVICE_ORDER\"]=\"PCI_BUS_ID\"   # see issue #152\nos.environ[\"CUDA_VISIBLE_DEVICES\"]=\"1\"\nfrom tensorflow.python.client import device_lib\n#print (device_lib.list_local_devices())\nCreates a graph.\na = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[2, 3], name='a')\nb = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[3, 2], name='b')\nc = tf.matmul(a, b)\nCreates a session with log_device_placement set to True.\nsess = tf.Session(config=tf.ConfigProto(log_device_placement=True))\nRuns the op.\nprint(sess.run(c))`", "body": "\r\n- CUDA 9.0\r\n- Cudnn 7.0\r\n- Tensorflow-gpu 1.6\r\n\r\nnvida-smi is good\r\n![nvidia-smi](https://user-images.githubusercontent.com/2728049/35970141-d827bac6-0cfb-11e8-886f-92b068c62c4e.png)\r\n\r\nError \r\n2018-02-08 18:14:24.768537: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\core\\platform\\cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\r\n**2018-02-08 18:14:25.438352: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:406] failed call to cuInit: CUDA_ERROR_NO_DEVICE**\r\n2018-02-08 18:14:25.441350: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_diagnostics.cc:158] retrieving CUDA diagnostic information for host: Vincent\r\n2018-02-08 18:14:25.441633: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\stream_executor\\cuda\\cuda_diagnostics.cc:165] hostname: Vincent\r\n2018-02-08 18:14:25.443152: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\core\\common_runtime\\direct_session.cc:297] Device mapping:\r\n\r\nDevice mapping: no known devices.\r\nMatMul: (MatMul): /job:localhost/replica:0/task:0/device:CPU:0\r\nb: (Const): /job:localhost/replica:0/task:0/device:CPU:0\r\na: (Const): /job:localhost/replica:0/task:0/device:CPU:0\r\n\r\nCode : \r\n`import os\r\nimport tensorflow as tf\r\n\r\nos.environ[\"CUDA_DEVICE_ORDER\"]=\"PCI_BUS_ID\"   # see issue #152\r\nos.environ[\"CUDA_VISIBLE_DEVICES\"]=\"1\"\r\n\r\nfrom tensorflow.python.client import device_lib\r\n#print (device_lib.list_local_devices())\r\n\r\n# Creates a graph.\r\na = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[2, 3], name='a')\r\nb = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[3, 2], name='b')\r\nc = tf.matmul(a, b)\r\n# Creates a session with log_device_placement set to True.\r\nsess = tf.Session(config=tf.ConfigProto(log_device_placement=True))\r\n# Runs the op.\r\nprint(sess.run(c))` "}