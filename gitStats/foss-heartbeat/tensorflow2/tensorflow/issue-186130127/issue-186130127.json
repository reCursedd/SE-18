{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5284", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5284/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5284/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5284/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5284", "id": 186130127, "node_id": "MDU6SXNzdWUxODYxMzAxMjc=", "number": 5284, "title": "tf.contrib.learn output shapes : shapes (?, 1) and (?,) are incompatible", "user": {"login": "LaceyChen17", "id": 11754923, "node_id": "MDQ6VXNlcjExNzU0OTIz", "avatar_url": "https://avatars3.githubusercontent.com/u/11754923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaceyChen17", "html_url": "https://github.com/LaceyChen17", "followers_url": "https://api.github.com/users/LaceyChen17/followers", "following_url": "https://api.github.com/users/LaceyChen17/following{/other_user}", "gists_url": "https://api.github.com/users/LaceyChen17/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaceyChen17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaceyChen17/subscriptions", "organizations_url": "https://api.github.com/users/LaceyChen17/orgs", "repos_url": "https://api.github.com/users/LaceyChen17/repos", "events_url": "https://api.github.com/users/LaceyChen17/events{/privacy}", "received_events_url": "https://api.github.com/users/LaceyChen17/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-10-30T11:07:18Z", "updated_at": "2016-11-26T22:20:34Z", "closed_at": "2016-11-11T19:10:20Z", "author_association": "NONE", "body_html": "<p>I tried to train a binary DNNClassifier  similar as the example on <a href=\"https://www.tensorflow.org/versions/r0.11/tutorials/tflearn/index.html#tf-contrib-learn-quickstart\" rel=\"nofollow\">https://www.tensorflow.org/versions/r0.11/tutorials/tflearn/index.html#tf-contrib-learn-quickstart</a>.</p>\n<p>I got the following traceback<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/560406/traceback.txt\">traceback.txt</a></p>\n<p>I explored the tensorflow source code and found that it may relate to _get_in_out_shape function in tensorflow/tensorflow/contrib/learn/python/learn/learn_io/data_feeder.py</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/11754923/19836102/024ac634-9ed2-11e6-89cc-e9dc2623424b.png\"><img src=\"https://cloud.githubusercontent.com/assets/11754923/19836102/024ac634-9ed2-11e6-89cc-e9dc2623424b.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>\n<p>When doing a binary classification,y_shape is something like[batch_size,1].Line 52 changes it into [1].Line 54,55 change it into [].And finally the output_shape is [batch_size,].However the correct ouput shape should be [batch_size,1].</p>\n<p>To sum up,we do not need to skip 1st dimension if it is 1 and len(y_shape)=1.</p>", "body_text": "I tried to train a binary DNNClassifier  similar as the example on https://www.tensorflow.org/versions/r0.11/tutorials/tflearn/index.html#tf-contrib-learn-quickstart.\nI got the following traceback\ntraceback.txt\nI explored the tensorflow source code and found that it may relate to _get_in_out_shape function in tensorflow/tensorflow/contrib/learn/python/learn/learn_io/data_feeder.py\n\nWhen doing a binary classification,y_shape is something like[batch_size,1].Line 52 changes it into [1].Line 54,55 change it into [].And finally the output_shape is [batch_size,].However the correct ouput shape should be [batch_size,1].\nTo sum up,we do not need to skip 1st dimension if it is 1 and len(y_shape)=1.", "body": "I tried to train a binary DNNClassifier  similar as the example on https://www.tensorflow.org/versions/r0.11/tutorials/tflearn/index.html#tf-contrib-learn-quickstart.\n\nI got the following traceback\n[traceback.txt](https://github.com/tensorflow/tensorflow/files/560406/traceback.txt)\n\nI explored the tensorflow source code and found that it may relate to _get_in_out_shape function in tensorflow/tensorflow/contrib/learn/python/learn/learn_io/data_feeder.py\n\n![image](https://cloud.githubusercontent.com/assets/11754923/19836102/024ac634-9ed2-11e6-89cc-e9dc2623424b.png)\n\nWhen doing a binary classification,y_shape is something like[batch_size,1].Line 52 changes it into [1].Line 54,55 change it into [].And finally the output_shape is [batch_size,].However the correct ouput shape should be [batch_size,1].\n\nTo sum up,we do not need to skip 1st dimension if it is 1 and len(y_shape)=1.\n"}