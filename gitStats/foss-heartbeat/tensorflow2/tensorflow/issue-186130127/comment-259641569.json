{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/259641569", "html_url": "https://github.com/tensorflow/tensorflow/issues/5284#issuecomment-259641569", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5284", "id": 259641569, "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTY0MTU2OQ==", "user": {"login": "diniakmalia", "id": 18643998, "node_id": "MDQ6VXNlcjE4NjQzOTk4", "avatar_url": "https://avatars0.githubusercontent.com/u/18643998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diniakmalia", "html_url": "https://github.com/diniakmalia", "followers_url": "https://api.github.com/users/diniakmalia/followers", "following_url": "https://api.github.com/users/diniakmalia/following{/other_user}", "gists_url": "https://api.github.com/users/diniakmalia/gists{/gist_id}", "starred_url": "https://api.github.com/users/diniakmalia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diniakmalia/subscriptions", "organizations_url": "https://api.github.com/users/diniakmalia/orgs", "repos_url": "https://api.github.com/users/diniakmalia/repos", "events_url": "https://api.github.com/users/diniakmalia/events{/privacy}", "received_events_url": "https://api.github.com/users/diniakmalia/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-10T09:26:53Z", "updated_at": "2016-11-10T09:26:53Z", "author_association": "NONE", "body_html": "<p>I don't know yet, when I used another data with more rows and columns, I<br>\nstill got this issue..</p>\n<p>File<br>\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/dnn.py\",<br>\nline 435, in fit<br>\nmax_steps=max_steps)</p>\n<p>File<br>\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",<br>\nline 333, in fit<br>\nmax_steps=max_steps)</p>\n<p>File<br>\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",<br>\nline 662, in _train_model<br>\ntrain_op, loss_op = self._get_train_ops(features, targets)</p>\n<p>File<br>\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",<br>\nline 963, in _get_train_ops<br>\n_, loss, train_op = self._call_model_fn(features, targets,<br>\nModeKeys.TRAIN)</p>\n<p>File<br>\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",<br>\nline 944, in _call_model_fn<br>\nreturn self._model_fn(features, targets, mode=mode, params=self.params)</p>\n<p>File<br>\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/dnn.py\",<br>\nline 258, in _dnn_classifier_model_fn<br>\nweight=_get_weight_tensor(features, weight_column_name))</p>\n<p>File<br>\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/losses/python/losses/loss_ops.py\",<br>\nline 329, in sigmoid_cross_entropy</p>\n<p>logits.get_shape().assert_is_compatible_with(multi_class_labels.get_shape())</p>\n<p>File<br>\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\",<br>\nline 750, in assert_is_compatible_with<br>\nraise ValueError(\"Shapes %s and %s are incompatible\" % (self, other))</p>\n<p>ValueError: Shapes (?, 1) and (?,) are incompatible</p>\n<p>2016-11-09 6:48 GMT+07:00 Finbarr Timbers <a href=\"mailto:notifications@github.com\">notifications@github.com</a>:</p>\n<blockquote>\n<p>Has this been fixed? I tried to replicate and was not able to.</p>\n<p>Specifically, I created a script with the following code, and it ran<br>\nwithout any errors.</p>\n<p>from <strong>future</strong> import absolute_importfrom <strong>future</strong> import divisionfrom <strong>future</strong> import print_function<br>\nimport tensorflow as tfimport numpy as np</p>\n<h1>Data setsIRIS_TRAINING = \"iris_training.csv\"IRIS_TEST = \"iris_test.csv\"</h1>\n<h1>Load datasets.</h1>\n<p>training_set = tf.contrib.learn.datasets.base.load_csv_with_header(filename=IRIS_TRAINING,<br>\ntarget_dtype=np.int, features_dtype=np.float)<br>\ntest_set = tf.contrib.learn.datasets.base.load_csv_with_header(filename=IRIS_TEST,<br>\ntarget_dtype=np.int, features_dtype=np.float)</p>\n<h1>Specify that all features have real-value data</h1>\n<p>feature_columns = [tf.contrib.layers.real_valued_column(\"\", dimension=4)]</p>\n<h1>Build 3 layer DNN with 10, 20, 10 units respectively.</h1>\n<p>classifier = tf.contrib.learn.DNNClassifier(feature_columns=feature_columns,<br>\nhidden_units=[10, 20, 10],<br>\nn_classes=3,<br>\nmodel_dir=\"/tmp/iris_model\")</p>\n<h1>Fit model.</h1>\n<p>classifier.fit(x=training_set.data,<br>\ny=training_set.target,<br>\nsteps=2000)</p>\n<h1>Evaluate accuracy.</h1>\n<p>accuracy_score = classifier.evaluate(x=test_set.data,<br>\ny=test_set.target)[\"accuracy\"]print('Accuracy: {0:f}'.format(accuracy_score))</p>\n<h1>Classify two new flower samples.</h1>\n<p>new_samples = np.array(<br>\n[[6.4, 3.2, 4.5, 1.5], [5.8, 3.1, 5.0, 1.7]], dtype=float)<br>\ny = classifier.predict(new_samples)print('Predictions: {}'.format(str(y)))</p>\n<p>\u2014<br>\nYou are receiving this because you commented.<br>\nReply to this email directly, view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"186130127\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5284\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5284/hovercard?comment_id=259295822&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/5284#issuecomment-259295822\">#5284 (comment)</a>,<br>\nor mute the thread<br>\n<a href=\"https://github.com/notifications/unsubscribe-auth/ARx8HpaIqAMTsisnKou1-JI8AORVKVisks5q8QpmgaJpZM4KkWSW\">https://github.com/notifications/unsubscribe-auth/ARx8HpaIqAMTsisnKou1-JI8AORVKVisks5q8QpmgaJpZM4KkWSW</a><br>\n.</p>\n</blockquote>\n<h2></h2>\n<p>best regards,</p>\n<p>Dini Rahmawati Akmalia<br>\n<a href=\"mailto:dr.akmalia@gmail.com\">dr.akmalia@gmail.com</a><br>\n+62896-5488-4113<br>\nMathematics Faculty of Mathematics and Natural Science University Indonesia<br>\n2010<br>\n<em>Outstanding Life</em></p>", "body_text": "I don't know yet, when I used another data with more rows and columns, I\nstill got this issue..\nFile\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/dnn.py\",\nline 435, in fit\nmax_steps=max_steps)\nFile\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",\nline 333, in fit\nmax_steps=max_steps)\nFile\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",\nline 662, in _train_model\ntrain_op, loss_op = self._get_train_ops(features, targets)\nFile\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",\nline 963, in _get_train_ops\n_, loss, train_op = self._call_model_fn(features, targets,\nModeKeys.TRAIN)\nFile\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",\nline 944, in _call_model_fn\nreturn self._model_fn(features, targets, mode=mode, params=self.params)\nFile\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/dnn.py\",\nline 258, in _dnn_classifier_model_fn\nweight=_get_weight_tensor(features, weight_column_name))\nFile\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/losses/python/losses/loss_ops.py\",\nline 329, in sigmoid_cross_entropy\nlogits.get_shape().assert_is_compatible_with(multi_class_labels.get_shape())\nFile\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\",\nline 750, in assert_is_compatible_with\nraise ValueError(\"Shapes %s and %s are incompatible\" % (self, other))\nValueError: Shapes (?, 1) and (?,) are incompatible\n2016-11-09 6:48 GMT+07:00 Finbarr Timbers notifications@github.com:\n\nHas this been fixed? I tried to replicate and was not able to.\nSpecifically, I created a script with the following code, and it ran\nwithout any errors.\nfrom future import absolute_importfrom future import divisionfrom future import print_function\nimport tensorflow as tfimport numpy as np\nData setsIRIS_TRAINING = \"iris_training.csv\"IRIS_TEST = \"iris_test.csv\"\nLoad datasets.\ntraining_set = tf.contrib.learn.datasets.base.load_csv_with_header(filename=IRIS_TRAINING,\ntarget_dtype=np.int, features_dtype=np.float)\ntest_set = tf.contrib.learn.datasets.base.load_csv_with_header(filename=IRIS_TEST,\ntarget_dtype=np.int, features_dtype=np.float)\nSpecify that all features have real-value data\nfeature_columns = [tf.contrib.layers.real_valued_column(\"\", dimension=4)]\nBuild 3 layer DNN with 10, 20, 10 units respectively.\nclassifier = tf.contrib.learn.DNNClassifier(feature_columns=feature_columns,\nhidden_units=[10, 20, 10],\nn_classes=3,\nmodel_dir=\"/tmp/iris_model\")\nFit model.\nclassifier.fit(x=training_set.data,\ny=training_set.target,\nsteps=2000)\nEvaluate accuracy.\naccuracy_score = classifier.evaluate(x=test_set.data,\ny=test_set.target)[\"accuracy\"]print('Accuracy: {0:f}'.format(accuracy_score))\nClassify two new flower samples.\nnew_samples = np.array(\n[[6.4, 3.2, 4.5, 1.5], [5.8, 3.1, 5.0, 1.7]], dtype=float)\ny = classifier.predict(new_samples)print('Predictions: {}'.format(str(y)))\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\n#5284 (comment),\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ARx8HpaIqAMTsisnKou1-JI8AORVKVisks5q8QpmgaJpZM4KkWSW\n.\n\n\nbest regards,\nDini Rahmawati Akmalia\ndr.akmalia@gmail.com\n+62896-5488-4113\nMathematics Faculty of Mathematics and Natural Science University Indonesia\n2010\nOutstanding Life", "body": "I don't know yet, when I used another data with more rows and columns, I\nstill got this issue..\n\n  File\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/dnn.py\",\nline 435, in fit\n    max_steps=max_steps)\n\n  File\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",\nline 333, in fit\n    max_steps=max_steps)\n\n  File\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",\nline 662, in _train_model\n    train_op, loss_op = self._get_train_ops(features, targets)\n\n  File\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",\nline 963, in _get_train_ops\n    _, loss, train_op = self._call_model_fn(features, targets,\nModeKeys.TRAIN)\n\n  File\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\",\nline 944, in _call_model_fn\n    return self._model_fn(features, targets, mode=mode, params=self.params)\n\n  File\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/dnn.py\",\nline 258, in _dnn_classifier_model_fn\n    weight=_get_weight_tensor(features, weight_column_name))\n\n  File\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/losses/python/losses/loss_ops.py\",\nline 329, in sigmoid_cross_entropy\n\nlogits.get_shape().assert_is_compatible_with(multi_class_labels.get_shape())\n\n  File\n\"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\",\nline 750, in assert_is_compatible_with\n    raise ValueError(\"Shapes %s and %s are incompatible\" % (self, other))\n\nValueError: Shapes (?, 1) and (?,) are incompatible\n\n2016-11-09 6:48 GMT+07:00 Finbarr Timbers notifications@github.com:\n\n> Has this been fixed? I tried to replicate and was not able to.\n> \n> Specifically, I created a script with the following code, and it ran\n> without any errors.\n> \n> from **future** import absolute_importfrom **future** import divisionfrom **future** import print_function\n> import tensorflow as tfimport numpy as np\n> \n> # Data setsIRIS_TRAINING = \"iris_training.csv\"IRIS_TEST = \"iris_test.csv\"\n> \n> # Load datasets.\n> \n> training_set = tf.contrib.learn.datasets.base.load_csv_with_header(filename=IRIS_TRAINING,\n>                                                        target_dtype=np.int, features_dtype=np.float)\n> test_set = tf.contrib.learn.datasets.base.load_csv_with_header(filename=IRIS_TEST,\n>                                                    target_dtype=np.int, features_dtype=np.float)\n> \n> # Specify that all features have real-value data\n> \n> feature_columns = [tf.contrib.layers.real_valued_column(\"\", dimension=4)]\n> \n> # Build 3 layer DNN with 10, 20, 10 units respectively.\n> \n> classifier = tf.contrib.learn.DNNClassifier(feature_columns=feature_columns,\n>                                             hidden_units=[10, 20, 10],\n>                                             n_classes=3,\n>                                             model_dir=\"/tmp/iris_model\")\n> \n> # Fit model.\n> \n> classifier.fit(x=training_set.data,\n>                y=training_set.target,\n>                steps=2000)\n> \n> # Evaluate accuracy.\n> \n> accuracy_score = classifier.evaluate(x=test_set.data,\n>                                      y=test_set.target)[\"accuracy\"]print('Accuracy: {0:f}'.format(accuracy_score))\n> \n> # Classify two new flower samples.\n> \n> new_samples = np.array(\n>     [[6.4, 3.2, 4.5, 1.5], [5.8, 3.1, 5.0, 1.7]], dtype=float)\n> y = classifier.predict(new_samples)print('Predictions: {}'.format(str(y)))\n> \n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/5284#issuecomment-259295822,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/ARx8HpaIqAMTsisnKou1-JI8AORVKVisks5q8QpmgaJpZM4KkWSW\n> .\n\n## \n\nbest regards,\n\nDini Rahmawati Akmalia\ndr.akmalia@gmail.com\n+62896-5488-4113\nMathematics Faculty of Mathematics and Natural Science University Indonesia\n2010\n_Outstanding Life_\n"}