{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11474", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11474/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11474/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11474/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11474", "id": 242659671, "node_id": "MDU6SXNzdWUyNDI2NTk2NzE=", "number": 11474, "title": "fail to run android example", "user": {"login": "scucheri", "id": 10495849, "node_id": "MDQ6VXNlcjEwNDk1ODQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/10495849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scucheri", "html_url": "https://github.com/scucheri", "followers_url": "https://api.github.com/users/scucheri/followers", "following_url": "https://api.github.com/users/scucheri/following{/other_user}", "gists_url": "https://api.github.com/users/scucheri/gists{/gist_id}", "starred_url": "https://api.github.com/users/scucheri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scucheri/subscriptions", "organizations_url": "https://api.github.com/users/scucheri/orgs", "repos_url": "https://api.github.com/users/scucheri/repos", "events_url": "https://api.github.com/users/scucheri/events{/privacy}", "received_events_url": "https://api.github.com/users/scucheri/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-07-13T10:43:40Z", "updated_at": "2017-08-11T12:30:34Z", "closed_at": "2017-08-11T12:30:34Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<p>bazel version:<br>\nBuild label: 0.5.2-homebrew</p>\n<p>java version: \"1.8.0_131\"</p>\n<h3>workspace config:</h3>\n<p>android_sdk_repository(<br>\nname = \"androidsdk\",<br>\napi_level = 23,<br>\nbuild_tools_version = \"25.0.1\",<br>\npath = \"/Users/scucheri/Library/Android/sdk\",<br>\n)</p>\n<p>android_ndk_repository(<br>\nname=\"androidndk\",<br>\npath=\"/Users/scucheri/Library/Android/sdk/ndk-bundle\",<br>\napi_level=14)</p>\n<h3>Describe the problem</h3>\n<p>error when I run 'bazel build //tensorflow/examples/android:tensorflow_demo' in terminal, could you tell me how to solve this?</p>\n<h3>Source code / logs</h3>\n<p>bazel build //tensorflow/examples/android:tensorflow_demo<br>\nWARNING: The major revision of the Android NDK referenced by android_ndk_repository rule 'androidndk' is 15. The major revisions supported by Bazel are [10, 11, 12, 13, 14]. Defaulting to revision 14.<br>\nERROR: /private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel:64:1: Traceback (most recent call last):<br>\nFile \"/private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel\", line 64<br>\ncreate_system_images_filegroups(system_image_dirs = [\"system-ima...\", &lt;53 more arguments&gt;])<br>\nFile \"/private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/bazel_tools/tools/android/android_sdk_repository_template.bzl\", line 246, in create_system_images_filegroups<br>\nint(apidir.split(\"-\")[1])<br>\ninvalid literal for int() with base 10: \"MNC\".<br>\nERROR: /private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel:8:1: Target '@androidsdk//:build-tools/25.0.1/lib/dx.jar' contains an error and its package is in error and referenced by '@androidsdk//:dx_jar'.<br>\nERROR: /private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel:8:1: Target '@androidsdk//:dx_jar' contains an error and its package is in error and referenced by '@androidsdk//:dx_jar_import'.<br>\nERROR: /Users/scucheri/AllMyProjects/AndroidStudioProjects/TmallAndroidProjects/tensorflow/WORKSPACE:20:1: Target '@androidsdk//:dx_jar_import' contains an error and its package is in error and referenced by '//external:android/dx_jar_import'.<br>\nERROR: Analysis of target '//tensorflow/examples/android:tensorflow_demo' failed; build aborted.<br>\nINFO: Elapsed time: 3.653s</p>", "body_text": "System information\nbazel version:\nBuild label: 0.5.2-homebrew\njava version: \"1.8.0_131\"\nworkspace config:\nandroid_sdk_repository(\nname = \"androidsdk\",\napi_level = 23,\nbuild_tools_version = \"25.0.1\",\npath = \"/Users/scucheri/Library/Android/sdk\",\n)\nandroid_ndk_repository(\nname=\"androidndk\",\npath=\"/Users/scucheri/Library/Android/sdk/ndk-bundle\",\napi_level=14)\nDescribe the problem\nerror when I run 'bazel build //tensorflow/examples/android:tensorflow_demo' in terminal, could you tell me how to solve this?\nSource code / logs\nbazel build //tensorflow/examples/android:tensorflow_demo\nWARNING: The major revision of the Android NDK referenced by android_ndk_repository rule 'androidndk' is 15. The major revisions supported by Bazel are [10, 11, 12, 13, 14]. Defaulting to revision 14.\nERROR: /private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel:64:1: Traceback (most recent call last):\nFile \"/private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel\", line 64\ncreate_system_images_filegroups(system_image_dirs = [\"system-ima...\", <53 more arguments>])\nFile \"/private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/bazel_tools/tools/android/android_sdk_repository_template.bzl\", line 246, in create_system_images_filegroups\nint(apidir.split(\"-\")[1])\ninvalid literal for int() with base 10: \"MNC\".\nERROR: /private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel:8:1: Target '@androidsdk//:build-tools/25.0.1/lib/dx.jar' contains an error and its package is in error and referenced by '@androidsdk//:dx_jar'.\nERROR: /private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel:8:1: Target '@androidsdk//:dx_jar' contains an error and its package is in error and referenced by '@androidsdk//:dx_jar_import'.\nERROR: /Users/scucheri/AllMyProjects/AndroidStudioProjects/TmallAndroidProjects/tensorflow/WORKSPACE:20:1: Target '@androidsdk//:dx_jar_import' contains an error and its package is in error and referenced by '//external:android/dx_jar_import'.\nERROR: Analysis of target '//tensorflow/examples/android:tensorflow_demo' failed; build aborted.\nINFO: Elapsed time: 3.653s", "body": "### System information\r\nbazel version:\r\nBuild label: 0.5.2-homebrew\r\n\r\njava version: \"1.8.0_131\"\r\n\r\n### workspace config:\r\nandroid_sdk_repository(\r\n  name = \"androidsdk\",\r\n  api_level = 23,\r\n  build_tools_version = \"25.0.1\",\r\n  path = \"/Users/scucheri/Library/Android/sdk\",\r\n)\r\n\r\nandroid_ndk_repository(\r\n    name=\"androidndk\",\r\n    path=\"/Users/scucheri/Library/Android/sdk/ndk-bundle\",\r\n    api_level=14) \r\n\r\n\r\n### Describe the problem\r\nerror when I run 'bazel build //tensorflow/examples/android:tensorflow_demo' in terminal, could you tell me how to solve this?\r\n\r\n### Source code / logs\r\nbazel build //tensorflow/examples/android:tensorflow_demo\r\nWARNING: The major revision of the Android NDK referenced by android_ndk_repository rule 'androidndk' is 15. The major revisions supported by Bazel are [10, 11, 12, 13, 14]. Defaulting to revision 14.\r\nERROR: /private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel:64:1: Traceback (most recent call last):\r\n        File \"/private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel\", line 64\r\n                create_system_images_filegroups(system_image_dirs = [\"system-ima...\", <53 more arguments>])\r\n        File \"/private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/bazel_tools/tools/android/android_sdk_repository_template.bzl\", line 246, in create_system_images_filegroups\r\n                int(apidir.split(\"-\")[1])\r\ninvalid literal for int() with base 10: \"MNC\".\r\nERROR: /private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel:8:1: Target '@androidsdk//:build-tools/25.0.1/lib/dx.jar' contains an error and its package is in error and referenced by '@androidsdk//:dx_jar'.\r\nERROR: /private/var/tmp/_bazel_scucheri/f55efc3e55d5b53a9cbb2375bb9bdf55/external/androidsdk/BUILD.bazel:8:1: Target '@androidsdk//:dx_jar' contains an error and its package is in error and referenced by '@androidsdk//:dx_jar_import'.\r\nERROR: /Users/scucheri/AllMyProjects/AndroidStudioProjects/TmallAndroidProjects/tensorflow/WORKSPACE:20:1: Target '@androidsdk//:dx_jar_import' contains an error and its package is in error and referenced by '//external:android/dx_jar_import'.\r\nERROR: Analysis of target '//tensorflow/examples/android:tensorflow_demo' failed; build aborted.\r\nINFO: Elapsed time: 3.653s\r\n"}