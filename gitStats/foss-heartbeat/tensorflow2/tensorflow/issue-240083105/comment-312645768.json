{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/312645768", "html_url": "https://github.com/tensorflow/tensorflow/issues/11235#issuecomment-312645768", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11235", "id": 312645768, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjY0NTc2OA==", "user": {"login": "nisseb", "id": 9914195, "node_id": "MDQ6VXNlcjk5MTQxOTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/9914195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nisseb", "html_url": "https://github.com/nisseb", "followers_url": "https://api.github.com/users/nisseb/followers", "following_url": "https://api.github.com/users/nisseb/following{/other_user}", "gists_url": "https://api.github.com/users/nisseb/gists{/gist_id}", "starred_url": "https://api.github.com/users/nisseb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nisseb/subscriptions", "organizations_url": "https://api.github.com/users/nisseb/orgs", "repos_url": "https://api.github.com/users/nisseb/repos", "events_url": "https://api.github.com/users/nisseb/events{/privacy}", "received_events_url": "https://api.github.com/users/nisseb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-03T13:29:16Z", "updated_at": "2017-07-03T13:29:16Z", "author_association": "NONE", "body_html": "<p>I don't have a working solution but I have come a little longer on this issue.</p>\n<p>You can use this tool to summarize your graph:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/graph_transforms#inspecting-graphs\">https://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/graph_transforms#inspecting-graphs</a></p>\n<p>It will give you suggestions for outputs:<br>\nFound 4 possible outputs: (name=detection_boxes, op=Identity) (name=detection_scores, op=Identity) (name=detection_classes, op=Identity) (name=num_detections, op=Identity)</p>\n<p>So you write:<br>\n--output_node_names=\"detection_boxes,detection_scores,detection_classes,num_detections\".</p>\n<p>However, this will not work either and it might be related to the comment by mddrill 23may:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"213719947\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8347\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/8347/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/8347\">#8347</a></p>\n<p>He basically states that the output nodes in the MobileNet are op=Identity which are removed by quantize_graph.py.</p>\n<p>His fix does not work for me since my quantized graph is the same size as before quantization. It seems like the script ends up doing nothing.</p>\n<p>I'm not sure if the summarize tool lists the wrong nodes for the output or if the quantization tool does not work properly on the op=Identity.</p>\n<p>Best</p>", "body_text": "I don't have a working solution but I have come a little longer on this issue.\nYou can use this tool to summarize your graph:\nhttps://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/graph_transforms#inspecting-graphs\nIt will give you suggestions for outputs:\nFound 4 possible outputs: (name=detection_boxes, op=Identity) (name=detection_scores, op=Identity) (name=detection_classes, op=Identity) (name=num_detections, op=Identity)\nSo you write:\n--output_node_names=\"detection_boxes,detection_scores,detection_classes,num_detections\".\nHowever, this will not work either and it might be related to the comment by mddrill 23may:\n#8347\nHe basically states that the output nodes in the MobileNet are op=Identity which are removed by quantize_graph.py.\nHis fix does not work for me since my quantized graph is the same size as before quantization. It seems like the script ends up doing nothing.\nI'm not sure if the summarize tool lists the wrong nodes for the output or if the quantization tool does not work properly on the op=Identity.\nBest", "body": "I don't have a working solution but I have come a little longer on this issue.\r\n\r\nYou can use this tool to summarize your graph:\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/graph_transforms#inspecting-graphs\r\n\r\nIt will give you suggestions for outputs:\r\nFound 4 possible outputs: (name=detection_boxes, op=Identity) (name=detection_scores, op=Identity) (name=detection_classes, op=Identity) (name=num_detections, op=Identity)\r\n\r\nSo you write:\r\n--output_node_names=\"detection_boxes,detection_scores,detection_classes,num_detections\".\r\n\r\nHowever, this will not work either and it might be related to the comment by mddrill 23may:\r\nhttps://github.com/tensorflow/tensorflow/issues/8347\r\n\r\nHe basically states that the output nodes in the MobileNet are op=Identity which are removed by quantize_graph.py. \r\n\r\nHis fix does not work for me since my quantized graph is the same size as before quantization. It seems like the script ends up doing nothing.\r\n\r\nI'm not sure if the summarize tool lists the wrong nodes for the output or if the quantization tool does not work properly on the op=Identity.\r\n\r\nBest\r\n"}