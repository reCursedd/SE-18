{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17635", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17635/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17635/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17635/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17635", "id": 304220571, "node_id": "MDU6SXNzdWUzMDQyMjA1NzE=", "number": 17635, "title": "tensorflow lite build error ", "user": {"login": "lucaswu", "id": 5789727, "node_id": "MDQ6VXNlcjU3ODk3Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5789727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucaswu", "html_url": "https://github.com/lucaswu", "followers_url": "https://api.github.com/users/lucaswu/followers", "following_url": "https://api.github.com/users/lucaswu/following{/other_user}", "gists_url": "https://api.github.com/users/lucaswu/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucaswu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucaswu/subscriptions", "organizations_url": "https://api.github.com/users/lucaswu/orgs", "repos_url": "https://api.github.com/users/lucaswu/repos", "events_url": "https://api.github.com/users/lucaswu/events{/privacy}", "received_events_url": "https://api.github.com/users/lucaswu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-03-12T02:13:31Z", "updated_at": "2018-10-12T08:59:57Z", "closed_at": "2018-06-10T18:33:19Z", "author_association": "NONE", "body_html": "<p><strong>System information</strong><br>\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):No<br>\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): ubuntu16.04<br>\nTensorFlow installed from (source or binary):source<br>\nTensorFlow version (use command below): last master<br>\nPython version: Python 2.7<br>\nBazel version (if compiling from source): bazel 0.11.1<br>\nGCC/Compiler version (if compiling from source): N/A<br>\nCUDA/cuDNN version: N/A<br>\nGPU model and memory: No GPU model<br>\n<strong>Describe the problem</strong><br>\nI try to build tensorflow lite demo.<br>\nHere is my WORKSPACE:<br>\nandroid_sdk_repository(<br>\nname = \"androidsdk\",<br>\napi_level = 24,<br>\n# Ensure that you have the build_tools_version below installed in the<br>\n# SDK manager as it updates periodically.<br>\nbuild_tools_version = \"26.0.2\",<br>\n# Replace with path to Android SDK on your system<br>\npath = \"/home/lucas/Android/Sdk\",<br>\n)</p>\n<p>android_ndk_repository(<br>\nname=\"androidndk\",<br>\npath=\"/home/lucas/android/android-ndk-r14b\",<br>\n# This needs to be 14 or higher to compile TensorFlow.<br>\n# Please specify API level to &gt;= 21 to build for 64-bit<br>\n# archtectures or the Android NDK will automatically select biggest<br>\n# API level that it supports without notice.<br>\n# Note that the NDK version is not the API level.<br>\napi_level=14)<br>\nBuild the demo app:<br>\nbazel build --cxxopt=--std=c++11 //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo</p>\n<p>lucas@lucas:~/github/tensorflow$ bazel build --cxxopt=--std=c++11 //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo<br>\nWARNING: /home/lucas/.cache/bazel/_bazel_lucas/41d00bd91f3cd94eb33af93ba59b3c39/external/protobuf_archive/WORKSPACE:1: Workspace name in /home/lucas/.cache/bazel/_bazel_lucas/41d00bd91f3cd94eb33af93ba59b3c39/external/protobuf_archive/WORKSPACE (@com_google_protobuf) does not match the name given in the repository's definition (@protobuf_archive); this will cause a build error in future versions<br>\nINFO: Analysed target //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo (0 packages loaded).<br>\nINFO: Found 1 target...<br>\nERROR: /home/lucas/github/tensorflow/tensorflow/contrib/lite/kernels/internal/BUILD:268:1: C++ compilation of rule '//tensorflow/contrib/lite/kernels/internal:portable_tensor_utils' failed (Exit 1)<br>\nsrc/main/tools/process-wrapper-legacy.cc:58: \"execvp(external/androidndk/ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/clang, ...)\": No such file or directory<br>\nTarget //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 0.644s, Critical Path: 0.04s<br>\nFAILED: Build did NOT complete successfully</p>\n<p>How to fix this error?<br>\nthx.</p>", "body_text": "System information\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): ubuntu16.04\nTensorFlow installed from (source or binary):source\nTensorFlow version (use command below): last master\nPython version: Python 2.7\nBazel version (if compiling from source): bazel 0.11.1\nGCC/Compiler version (if compiling from source): N/A\nCUDA/cuDNN version: N/A\nGPU model and memory: No GPU model\nDescribe the problem\nI try to build tensorflow lite demo.\nHere is my WORKSPACE:\nandroid_sdk_repository(\nname = \"androidsdk\",\napi_level = 24,\n# Ensure that you have the build_tools_version below installed in the\n# SDK manager as it updates periodically.\nbuild_tools_version = \"26.0.2\",\n# Replace with path to Android SDK on your system\npath = \"/home/lucas/Android/Sdk\",\n)\nandroid_ndk_repository(\nname=\"androidndk\",\npath=\"/home/lucas/android/android-ndk-r14b\",\n# This needs to be 14 or higher to compile TensorFlow.\n# Please specify API level to >= 21 to build for 64-bit\n# archtectures or the Android NDK will automatically select biggest\n# API level that it supports without notice.\n# Note that the NDK version is not the API level.\napi_level=14)\nBuild the demo app:\nbazel build --cxxopt=--std=c++11 //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo\nlucas@lucas:~/github/tensorflow$ bazel build --cxxopt=--std=c++11 //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo\nWARNING: /home/lucas/.cache/bazel/_bazel_lucas/41d00bd91f3cd94eb33af93ba59b3c39/external/protobuf_archive/WORKSPACE:1: Workspace name in /home/lucas/.cache/bazel/_bazel_lucas/41d00bd91f3cd94eb33af93ba59b3c39/external/protobuf_archive/WORKSPACE (@com_google_protobuf) does not match the name given in the repository's definition (@protobuf_archive); this will cause a build error in future versions\nINFO: Analysed target //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo (0 packages loaded).\nINFO: Found 1 target...\nERROR: /home/lucas/github/tensorflow/tensorflow/contrib/lite/kernels/internal/BUILD:268:1: C++ compilation of rule '//tensorflow/contrib/lite/kernels/internal:portable_tensor_utils' failed (Exit 1)\nsrc/main/tools/process-wrapper-legacy.cc:58: \"execvp(external/androidndk/ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/clang, ...)\": No such file or directory\nTarget //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 0.644s, Critical Path: 0.04s\nFAILED: Build did NOT complete successfully\nHow to fix this error?\nthx.", "body": "**System information**\r\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):No\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): ubuntu16.04\r\nTensorFlow installed from (source or binary):source\r\nTensorFlow version (use command below): last master\r\nPython version: Python 2.7\r\nBazel version (if compiling from source): bazel 0.11.1\r\nGCC/Compiler version (if compiling from source): N/A\r\nCUDA/cuDNN version: N/A\r\nGPU model and memory: No GPU model\r\n**Describe the problem**\r\nI try to build tensorflow lite demo.\r\nHere is my WORKSPACE:\r\nandroid_sdk_repository(\r\n    name = \"androidsdk\",\r\n    api_level = 24,\r\n    # Ensure that you have the build_tools_version below installed in the\r\n    # SDK manager as it updates periodically.\r\n    build_tools_version = \"26.0.2\",\r\n    # Replace with path to Android SDK on your system\r\n    path = \"/home/lucas/Android/Sdk\",\r\n)\r\n\r\nandroid_ndk_repository(\r\n    name=\"androidndk\",\r\n    path=\"/home/lucas/android/android-ndk-r14b\",\r\n    # This needs to be 14 or higher to compile TensorFlow.\r\n    # Please specify API level to >= 21 to build for 64-bit\r\n    # archtectures or the Android NDK will automatically select biggest\r\n    # API level that it supports without notice.\r\n    # Note that the NDK version is not the API level.\r\n    api_level=14)\r\n Build the demo app:\r\n bazel build --cxxopt=--std=c++11 //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo\r\n\r\nlucas@lucas:~/github/tensorflow$ bazel build --cxxopt=--std=c++11 //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo\r\nWARNING: /home/lucas/.cache/bazel/_bazel_lucas/41d00bd91f3cd94eb33af93ba59b3c39/external/protobuf_archive/WORKSPACE:1: Workspace name in /home/lucas/.cache/bazel/_bazel_lucas/41d00bd91f3cd94eb33af93ba59b3c39/external/protobuf_archive/WORKSPACE (@com_google_protobuf) does not match the name given in the repository's definition (@protobuf_archive); this will cause a build error in future versions\r\nINFO: Analysed target //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo (0 packages loaded).\r\nINFO: Found 1 target...\r\nERROR: /home/lucas/github/tensorflow/tensorflow/contrib/lite/kernels/internal/BUILD:268:1: C++ compilation of rule '//tensorflow/contrib/lite/kernels/internal:portable_tensor_utils' failed (Exit 1)\r\nsrc/main/tools/process-wrapper-legacy.cc:58: \"execvp(external/androidndk/ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/clang, ...)\": No such file or directory\r\nTarget //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 0.644s, Critical Path: 0.04s\r\nFAILED: Build did NOT complete successfully\r\n\r\nHow to fix this error?\r\nthx.\r\n\r\n\r\n"}