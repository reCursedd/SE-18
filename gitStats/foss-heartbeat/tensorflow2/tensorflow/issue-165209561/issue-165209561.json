{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3288", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3288/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3288/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3288/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/3288", "id": 165209561, "node_id": "MDExOlB1bGxSZXF1ZXN0NzcyMTIyMDU=", "number": 3288, "title": "Simplify Eigen package config", "user": {"login": "ibab", "id": 890531, "node_id": "MDQ6VXNlcjg5MDUzMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/890531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibab", "html_url": "https://github.com/ibab", "followers_url": "https://api.github.com/users/ibab/followers", "following_url": "https://api.github.com/users/ibab/following{/other_user}", "gists_url": "https://api.github.com/users/ibab/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibab/subscriptions", "organizations_url": "https://api.github.com/users/ibab/orgs", "repos_url": "https://api.github.com/users/ibab/repos", "events_url": "https://api.github.com/users/ibab/events{/privacy}", "received_events_url": "https://api.github.com/users/ibab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "benoitsteiner", "id": 6969686, "node_id": "MDQ6VXNlcjY5Njk2ODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6969686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoitsteiner", "html_url": "https://github.com/benoitsteiner", "followers_url": "https://api.github.com/users/benoitsteiner/followers", "following_url": "https://api.github.com/users/benoitsteiner/following{/other_user}", "gists_url": "https://api.github.com/users/benoitsteiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoitsteiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoitsteiner/subscriptions", "organizations_url": "https://api.github.com/users/benoitsteiner/orgs", "repos_url": "https://api.github.com/users/benoitsteiner/repos", "events_url": "https://api.github.com/users/benoitsteiner/events{/privacy}", "received_events_url": "https://api.github.com/users/benoitsteiner/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benoitsteiner", "id": 6969686, "node_id": "MDQ6VXNlcjY5Njk2ODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6969686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoitsteiner", "html_url": "https://github.com/benoitsteiner", "followers_url": "https://api.github.com/users/benoitsteiner/followers", "following_url": "https://api.github.com/users/benoitsteiner/following{/other_user}", "gists_url": "https://api.github.com/users/benoitsteiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoitsteiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoitsteiner/subscriptions", "organizations_url": "https://api.github.com/users/benoitsteiner/orgs", "repos_url": "https://api.github.com/users/benoitsteiner/repos", "events_url": "https://api.github.com/users/benoitsteiner/events{/privacy}", "received_events_url": "https://api.github.com/users/benoitsteiner/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 18, "created_at": "2016-07-13T00:13:54Z", "updated_at": "2016-07-20T13:02:40Z", "closed_at": "2016-07-19T19:15:32Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3288", "html_url": "https://github.com/tensorflow/tensorflow/pull/3288", "diff_url": "https://github.com/tensorflow/tensorflow/pull/3288.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/3288.patch"}, "body_html": "<p>I think we can avoid specifying the Eigen commit hash in multiple places by using the <code>strip_prefix</code> option to <code>new_http_archive</code>.</p>\n<p>Here, I've declared the real Eigen includes without a prefix, while the includes in <code>third_party</code> can only be reached by including <code>third_party/eigen3/...</code> (to avoid an infinite inclusion loop).<br>\nI've used this setup to successfully build tensorflow.</p>\n<p>This can probably still be improved by not declaring the real Eigen includes at the top level.<br>\nMaybe it's possible to access them under <code>eigen_archive/...</code>, although I'm not sure how to set that up.</p>", "body_text": "I think we can avoid specifying the Eigen commit hash in multiple places by using the strip_prefix option to new_http_archive.\nHere, I've declared the real Eigen includes without a prefix, while the includes in third_party can only be reached by including third_party/eigen3/... (to avoid an infinite inclusion loop).\nI've used this setup to successfully build tensorflow.\nThis can probably still be improved by not declaring the real Eigen includes at the top level.\nMaybe it's possible to access them under eigen_archive/..., although I'm not sure how to set that up.", "body": "I think we can avoid specifying the Eigen commit hash in multiple places by using the `strip_prefix` option to `new_http_archive`.\n\nHere, I've declared the real Eigen includes without a prefix, while the includes in `third_party` can only be reached by including `third_party/eigen3/...` (to avoid an infinite inclusion loop).\nI've used this setup to successfully build tensorflow.\n\nThis can probably still be improved by not declaring the real Eigen includes at the top level.\nMaybe it's possible to access them under `eigen_archive/...`, although I'm not sure how to set that up.\n"}