{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/351440215", "html_url": "https://github.com/tensorflow/tensorflow/issues/12859#issuecomment-351440215", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12859", "id": 351440215, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTQ0MDIxNQ==", "user": {"login": "maxfiedler", "id": 4192637, "node_id": "MDQ6VXNlcjQxOTI2Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/4192637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxfiedler", "html_url": "https://github.com/maxfiedler", "followers_url": "https://api.github.com/users/maxfiedler/followers", "following_url": "https://api.github.com/users/maxfiedler/following{/other_user}", "gists_url": "https://api.github.com/users/maxfiedler/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxfiedler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxfiedler/subscriptions", "organizations_url": "https://api.github.com/users/maxfiedler/orgs", "repos_url": "https://api.github.com/users/maxfiedler/repos", "events_url": "https://api.github.com/users/maxfiedler/events{/privacy}", "received_events_url": "https://api.github.com/users/maxfiedler/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-13T16:15:33Z", "updated_at": "2017-12-13T16:15:33Z", "author_association": "NONE", "body_html": "<p>Another thing that I noticed is that after introducing the new Dataset API (and Multi-GPU implementation following largely the example from the tutorial) to our Resnet implementation:<br>\nThe very first session.run() call in the MonitoredSession block (the one evaluating the iterator.handle) is hanging for about 30 seconds (using Cifar10) / about 80 seconds (using imagenet) before evaluating the subsequent sess.run() calls IF using a CheckpointSaverHook<br>\nTurns out that writing the 'graph.pbtxt' file is what is taking so long, specifically the <code>file_io.atomic_write_string_to_file(path, text_format.MessageToString(graph_def))</code> command in <code>graph.io</code> is taking very long<br>\nAny ideas, why this could be?</p>", "body_text": "Another thing that I noticed is that after introducing the new Dataset API (and Multi-GPU implementation following largely the example from the tutorial) to our Resnet implementation:\nThe very first session.run() call in the MonitoredSession block (the one evaluating the iterator.handle) is hanging for about 30 seconds (using Cifar10) / about 80 seconds (using imagenet) before evaluating the subsequent sess.run() calls IF using a CheckpointSaverHook\nTurns out that writing the 'graph.pbtxt' file is what is taking so long, specifically the file_io.atomic_write_string_to_file(path, text_format.MessageToString(graph_def)) command in graph.io is taking very long\nAny ideas, why this could be?", "body": "Another thing that I noticed is that after introducing the new Dataset API (and Multi-GPU implementation following largely the example from the tutorial) to our Resnet implementation:\r\nThe very first session.run() call in the MonitoredSession block (the one evaluating the iterator.handle) is hanging for about 30 seconds (using Cifar10) / about 80 seconds (using imagenet) before evaluating the subsequent sess.run() calls IF using a CheckpointSaverHook\r\nTurns out that writing the 'graph.pbtxt' file is what is taking so long, specifically the `file_io.atomic_write_string_to_file(path, text_format.MessageToString(graph_def))` command in `graph.io` is taking very long\r\nAny ideas, why this could be?"}