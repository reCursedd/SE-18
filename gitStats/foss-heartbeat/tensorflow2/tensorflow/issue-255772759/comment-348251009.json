{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/348251009", "html_url": "https://github.com/tensorflow/tensorflow/issues/12859#issuecomment-348251009", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12859", "id": 348251009, "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODI1MTAwOQ==", "user": {"login": "ispirmustafa", "id": 19293677, "node_id": "MDQ6VXNlcjE5MjkzNjc3", "avatar_url": "https://avatars1.githubusercontent.com/u/19293677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ispirmustafa", "html_url": "https://github.com/ispirmustafa", "followers_url": "https://api.github.com/users/ispirmustafa/followers", "following_url": "https://api.github.com/users/ispirmustafa/following{/other_user}", "gists_url": "https://api.github.com/users/ispirmustafa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ispirmustafa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ispirmustafa/subscriptions", "organizations_url": "https://api.github.com/users/ispirmustafa/orgs", "repos_url": "https://api.github.com/users/ispirmustafa/repos", "events_url": "https://api.github.com/users/ispirmustafa/events{/privacy}", "received_events_url": "https://api.github.com/users/ispirmustafa/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-30T16:55:47Z", "updated_at": "2017-11-30T16:55:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1968539\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/dongjk\">@dongjk</a> you can use a hook to do all you need. Following is a code example.</p>\n<pre><code>initializer_hook = DatasetInitializerHook(dataset.make_initializable_iterator())\nwith MonitoredTrainingSession(hooks=[], ...\n\nclass _DatasetInitializerHook(tf.train.SessionRunHook):\n  def __init__(self, iterator):\n    self._iterator = iterator\n  def begin(self):\n    self._initializer = self._iterator.initializer\n  def after_create_session(self, session, coord):\n    del coord\n    session.run(self._initializer, your-feed-dict)\n</code></pre>", "body_text": "@dongjk you can use a hook to do all you need. Following is a code example.\ninitializer_hook = DatasetInitializerHook(dataset.make_initializable_iterator())\nwith MonitoredTrainingSession(hooks=[], ...\n\nclass _DatasetInitializerHook(tf.train.SessionRunHook):\n  def __init__(self, iterator):\n    self._iterator = iterator\n  def begin(self):\n    self._initializer = self._iterator.initializer\n  def after_create_session(self, session, coord):\n    del coord\n    session.run(self._initializer, your-feed-dict)", "body": "@dongjk you can use a hook to do all you need. Following is a code example.\r\n```\r\ninitializer_hook = DatasetInitializerHook(dataset.make_initializable_iterator())\r\nwith MonitoredTrainingSession(hooks=[], ...\r\n\r\nclass _DatasetInitializerHook(tf.train.SessionRunHook):\r\n  def __init__(self, iterator):\r\n    self._iterator = iterator\r\n  def begin(self):\r\n    self._initializer = self._iterator.initializer\r\n  def after_create_session(self, session, coord):\r\n    del coord\r\n    session.run(self._initializer, your-feed-dict)\r\n```"}