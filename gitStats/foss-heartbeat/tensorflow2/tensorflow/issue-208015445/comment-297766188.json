{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/297766188", "html_url": "https://github.com/tensorflow/tensorflow/issues/7554#issuecomment-297766188", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7554", "id": 297766188, "node_id": "MDEyOklzc3VlQ29tbWVudDI5Nzc2NjE4OA==", "user": {"login": "rjpg", "id": 22857941, "node_id": "MDQ6VXNlcjIyODU3OTQx", "avatar_url": "https://avatars1.githubusercontent.com/u/22857941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjpg", "html_url": "https://github.com/rjpg", "followers_url": "https://api.github.com/users/rjpg/followers", "following_url": "https://api.github.com/users/rjpg/following{/other_user}", "gists_url": "https://api.github.com/users/rjpg/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjpg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjpg/subscriptions", "organizations_url": "https://api.github.com/users/rjpg/orgs", "repos_url": "https://api.github.com/users/rjpg/repos", "events_url": "https://api.github.com/users/rjpg/events{/privacy}", "received_events_url": "https://api.github.com/users/rjpg/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-27T16:21:45Z", "updated_at": "2017-04-27T16:43:16Z", "author_association": "NONE", "body_html": "<p>same problem using early stopping ... no output to see the values (accuracy).. and it seams the early stopping does not \"activate\" and stops as it should.</p>\n<p>I have this monitor to test every step (just for debug):</p>\n<p><code>validation_monitor = tf.contrib.learn.monitors.ValidationMonitor( x=test_inputs, y=test_output, eval_steps=1,  every_n_steps=1)</code></p>\n<p>and this output :</p>\n<h2>...</h2>\n<p><code>Please switch to tf.summary.scalar. Note that tf.summary.scalar uses the node name instead of the tag. This means that TensorFlow will automatically de-duplicate summary names based on the scope they are created in. Also, passing a tensor or list of tags to a scalar summary op is no longer supported. INFO:tensorflow:Starting evaluation at 2017-04-27-16:05:14 INFO:tensorflow:Restoring parameters from C:\\Users\\birinhos\\AppData\\Local\\Temp\\tmpn8b3fjgp\\model.ckpt-1 INFO:tensorflow:Evaluation [1/1] INFO:tensorflow:Finished evaluation at 2017-04-27-16:05:15 INFO:tensorflow:Saving dict for global step 1: accuracy = 0.221193, global_step = 1, loss = 1.6383 WARNING:tensorflow:Skipping summary for global_step, must be a float or np.float32. INFO:tensorflow:Validation (step 1): loss = 1.6383, global_step = 1, accuracy = 0.221193 INFO:tensorflow:global_step/sec: 5.17624 INFO:tensorflow:loss = 1.59089, step = 101 (19.303 sec) INFO:tensorflow:global_step/sec: 6.90738 INFO:tensorflow:loss = 1.58918, step = 201 (14.477 sec)</code></p>\n<h2>... only after 4201 steps the monitor seams to appear to print something  (?)</h2>\n<p><code>INFO:tensorflow:loss = 1.52565, step = 4001 (13.839 sec) INFO:tensorflow:global_step/sec: 6.71895 INFO:tensorflow:loss = 1.52449, step = 4101 (14.881 sec) INFO:tensorflow:global_step/sec: 7.22961 INFO:tensorflow:loss = 1.52349, step = 4201 (13.835 sec) INFO:tensorflow:Saving checkpoints for 4265 into C:\\Users\\birinhos\\AppData\\Local\\Temp\\tmpn8b3fjgp\\model.ckpt. WARNING:tensorflow:From C:\\Users\\birinhos\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\monitors.py:662: calling BaseEstimator.evaluate (from tensorflow.contrib.learn.python.learn.estimators.estimator) with y is deprecated and will be removed after 2016-12-01. Instructions for updating: Estimator is decoupled from Scikit Learn interface by moving into separate class SKCompat. Arguments x, y and batch_size are only available in the SKCompat class, Estimator will only accept input_fn. Example conversion: est = Estimator(...) -&gt; est = SKCompat(Estimator(...)) WARNING:tensorflow:From C:\\Users\\birinhos\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\monitors.py:662: calling BaseEstimator.evaluate (from tensorflow.contrib.learn.python.learn.estimators.estimator) with x is deprecated and will be removed after 2016-12-01. Instructions for updating: Estimator is decoupled from Scikit Learn interface by moving into separate class SKCompat. Arguments x, y and batch_size are only available in the SKCompat class, Estimator will only accept input_fn. Example conversion: est = Estimator(...) -&gt; est = SKCompat(Estimator(...)) WARNING:tensorflow:From C:\\Users\\birinhos\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\head.py:615: scalar_summary (from tensorflow.python.ops.logging_ops) is deprecated and will be removed after 2016-11-30. Instructions for updating: Please switch to tf.summary.scalar. Note that tf.summary.scalar uses the node name instead of the tag. This means that TensorFlow will automatically de-duplicate summary names based on the scope they are created in. Also, passing a tensor or list of tags to a scalar summary op is no longer supported. INFO:tensorflow:Starting evaluation at 2017-04-27-16:15:14 INFO:tensorflow:Restoring parameters from C:\\Users\\birinhos\\AppData\\Local\\Temp\\tmpn8b3fjgp\\model.ckpt-4265 INFO:tensorflow:Evaluation [1/1] INFO:tensorflow:Finished evaluation at 2017-04-27-16:15:16 INFO:tensorflow:Saving dict for global step 4265: accuracy = 0.290535, global_step = 4265, loss = 1.55965 WARNING:tensorflow:Skipping summary for global_step, must be a float or np.float32. INFO:tensorflow:Validation (step 4265): loss = 1.55965, global_step = 4265, accuracy = 0.290535 INFO:tensorflow:global_step/sec: 5.2094 INFO:tensorflow:loss = 1.52247, step = 4301 (19.196 sec) INFO:tensorflow:global_step/sec: 7.4686 INFO:tensorflow:loss = 1.52147, step = 4401 (13.443 sec)</code></p>\n<h2>...</h2>", "body_text": "same problem using early stopping ... no output to see the values (accuracy).. and it seams the early stopping does not \"activate\" and stops as it should.\nI have this monitor to test every step (just for debug):\nvalidation_monitor = tf.contrib.learn.monitors.ValidationMonitor( x=test_inputs, y=test_output, eval_steps=1,  every_n_steps=1)\nand this output :\n...\nPlease switch to tf.summary.scalar. Note that tf.summary.scalar uses the node name instead of the tag. This means that TensorFlow will automatically de-duplicate summary names based on the scope they are created in. Also, passing a tensor or list of tags to a scalar summary op is no longer supported. INFO:tensorflow:Starting evaluation at 2017-04-27-16:05:14 INFO:tensorflow:Restoring parameters from C:\\Users\\birinhos\\AppData\\Local\\Temp\\tmpn8b3fjgp\\model.ckpt-1 INFO:tensorflow:Evaluation [1/1] INFO:tensorflow:Finished evaluation at 2017-04-27-16:05:15 INFO:tensorflow:Saving dict for global step 1: accuracy = 0.221193, global_step = 1, loss = 1.6383 WARNING:tensorflow:Skipping summary for global_step, must be a float or np.float32. INFO:tensorflow:Validation (step 1): loss = 1.6383, global_step = 1, accuracy = 0.221193 INFO:tensorflow:global_step/sec: 5.17624 INFO:tensorflow:loss = 1.59089, step = 101 (19.303 sec) INFO:tensorflow:global_step/sec: 6.90738 INFO:tensorflow:loss = 1.58918, step = 201 (14.477 sec)\n... only after 4201 steps the monitor seams to appear to print something  (?)\nINFO:tensorflow:loss = 1.52565, step = 4001 (13.839 sec) INFO:tensorflow:global_step/sec: 6.71895 INFO:tensorflow:loss = 1.52449, step = 4101 (14.881 sec) INFO:tensorflow:global_step/sec: 7.22961 INFO:tensorflow:loss = 1.52349, step = 4201 (13.835 sec) INFO:tensorflow:Saving checkpoints for 4265 into C:\\Users\\birinhos\\AppData\\Local\\Temp\\tmpn8b3fjgp\\model.ckpt. WARNING:tensorflow:From C:\\Users\\birinhos\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\monitors.py:662: calling BaseEstimator.evaluate (from tensorflow.contrib.learn.python.learn.estimators.estimator) with y is deprecated and will be removed after 2016-12-01. Instructions for updating: Estimator is decoupled from Scikit Learn interface by moving into separate class SKCompat. Arguments x, y and batch_size are only available in the SKCompat class, Estimator will only accept input_fn. Example conversion: est = Estimator(...) -> est = SKCompat(Estimator(...)) WARNING:tensorflow:From C:\\Users\\birinhos\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\monitors.py:662: calling BaseEstimator.evaluate (from tensorflow.contrib.learn.python.learn.estimators.estimator) with x is deprecated and will be removed after 2016-12-01. Instructions for updating: Estimator is decoupled from Scikit Learn interface by moving into separate class SKCompat. Arguments x, y and batch_size are only available in the SKCompat class, Estimator will only accept input_fn. Example conversion: est = Estimator(...) -> est = SKCompat(Estimator(...)) WARNING:tensorflow:From C:\\Users\\birinhos\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\head.py:615: scalar_summary (from tensorflow.python.ops.logging_ops) is deprecated and will be removed after 2016-11-30. Instructions for updating: Please switch to tf.summary.scalar. Note that tf.summary.scalar uses the node name instead of the tag. This means that TensorFlow will automatically de-duplicate summary names based on the scope they are created in. Also, passing a tensor or list of tags to a scalar summary op is no longer supported. INFO:tensorflow:Starting evaluation at 2017-04-27-16:15:14 INFO:tensorflow:Restoring parameters from C:\\Users\\birinhos\\AppData\\Local\\Temp\\tmpn8b3fjgp\\model.ckpt-4265 INFO:tensorflow:Evaluation [1/1] INFO:tensorflow:Finished evaluation at 2017-04-27-16:15:16 INFO:tensorflow:Saving dict for global step 4265: accuracy = 0.290535, global_step = 4265, loss = 1.55965 WARNING:tensorflow:Skipping summary for global_step, must be a float or np.float32. INFO:tensorflow:Validation (step 4265): loss = 1.55965, global_step = 4265, accuracy = 0.290535 INFO:tensorflow:global_step/sec: 5.2094 INFO:tensorflow:loss = 1.52247, step = 4301 (19.196 sec) INFO:tensorflow:global_step/sec: 7.4686 INFO:tensorflow:loss = 1.52147, step = 4401 (13.443 sec)\n...", "body": "same problem using early stopping ... no output to see the values (accuracy).. and it seams the early stopping does not \"activate\" and stops as it should.\r\n\r\nI have this monitor to test every step (just for debug): \r\n\r\n`validation_monitor = tf.contrib.learn.monitors.ValidationMonitor(\r\n    x=test_inputs,\r\n    y=test_output,\r\n    eval_steps=1, \r\n    every_n_steps=1)`\r\n\r\nand this output :\r\n## ...\r\n`Please switch to tf.summary.scalar. Note that tf.summary.scalar uses the node name instead of the tag. This means that TensorFlow will automatically de-duplicate summary names based on the scope they are created in. Also, passing a tensor or list of tags to a scalar summary op is no longer supported.\r\nINFO:tensorflow:Starting evaluation at 2017-04-27-16:05:14\r\nINFO:tensorflow:Restoring parameters from C:\\Users\\birinhos\\AppData\\Local\\Temp\\tmpn8b3fjgp\\model.ckpt-1\r\nINFO:tensorflow:Evaluation [1/1]\r\nINFO:tensorflow:Finished evaluation at 2017-04-27-16:05:15\r\nINFO:tensorflow:Saving dict for global step 1: accuracy = 0.221193, global_step = 1, loss = 1.6383\r\nWARNING:tensorflow:Skipping summary for global_step, must be a float or np.float32.\r\nINFO:tensorflow:Validation (step 1): loss = 1.6383, global_step = 1, accuracy = 0.221193\r\nINFO:tensorflow:global_step/sec: 5.17624\r\nINFO:tensorflow:loss = 1.59089, step = 101 (19.303 sec)\r\nINFO:tensorflow:global_step/sec: 6.90738\r\nINFO:tensorflow:loss = 1.58918, step = 201 (14.477 sec)`\r\n \r\n## ... only after 4201 steps the monitor seams to appear to print something  (?)\r\n\r\n`INFO:tensorflow:loss = 1.52565, step = 4001 (13.839 sec)\r\nINFO:tensorflow:global_step/sec: 6.71895\r\nINFO:tensorflow:loss = 1.52449, step = 4101 (14.881 sec)\r\nINFO:tensorflow:global_step/sec: 7.22961\r\nINFO:tensorflow:loss = 1.52349, step = 4201 (13.835 sec)\r\nINFO:tensorflow:Saving checkpoints for 4265 into C:\\Users\\birinhos\\AppData\\Local\\Temp\\tmpn8b3fjgp\\model.ckpt.\r\nWARNING:tensorflow:From C:\\Users\\birinhos\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\monitors.py:662: calling BaseEstimator.evaluate (from tensorflow.contrib.learn.python.learn.estimators.estimator) with y is deprecated and will be removed after 2016-12-01.\r\nInstructions for updating:\r\nEstimator is decoupled from Scikit Learn interface by moving into\r\nseparate class SKCompat. Arguments x, y and batch_size are only\r\navailable in the SKCompat class, Estimator will only accept input_fn.\r\nExample conversion:\r\n  est = Estimator(...) -> est = SKCompat(Estimator(...))\r\nWARNING:tensorflow:From C:\\Users\\birinhos\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\monitors.py:662: calling BaseEstimator.evaluate (from tensorflow.contrib.learn.python.learn.estimators.estimator) with x is deprecated and will be removed after 2016-12-01.\r\nInstructions for updating:\r\nEstimator is decoupled from Scikit Learn interface by moving into\r\nseparate class SKCompat. Arguments x, y and batch_size are only\r\navailable in the SKCompat class, Estimator will only accept input_fn.\r\nExample conversion:\r\n  est = Estimator(...) -> est = SKCompat(Estimator(...))\r\nWARNING:tensorflow:From C:\\Users\\birinhos\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\head.py:615: scalar_summary (from tensorflow.python.ops.logging_ops) is deprecated and will be removed after 2016-11-30.\r\nInstructions for updating:\r\nPlease switch to tf.summary.scalar. Note that tf.summary.scalar uses the node name instead of the tag. This means that TensorFlow will automatically de-duplicate summary names based on the scope they are created in. Also, passing a tensor or list of tags to a scalar summary op is no longer supported.\r\nINFO:tensorflow:Starting evaluation at 2017-04-27-16:15:14\r\nINFO:tensorflow:Restoring parameters from C:\\Users\\birinhos\\AppData\\Local\\Temp\\tmpn8b3fjgp\\model.ckpt-4265\r\nINFO:tensorflow:Evaluation [1/1]\r\nINFO:tensorflow:Finished evaluation at 2017-04-27-16:15:16\r\nINFO:tensorflow:Saving dict for global step 4265: accuracy = 0.290535, global_step = 4265, loss = 1.55965\r\nWARNING:tensorflow:Skipping summary for global_step, must be a float or np.float32.\r\nINFO:tensorflow:Validation (step 4265): loss = 1.55965, global_step = 4265, accuracy = 0.290535\r\nINFO:tensorflow:global_step/sec: 5.2094\r\nINFO:tensorflow:loss = 1.52247, step = 4301 (19.196 sec)\r\nINFO:tensorflow:global_step/sec: 7.4686\r\nINFO:tensorflow:loss = 1.52147, step = 4401 (13.443 sec)`\r\n\r\n## ..."}