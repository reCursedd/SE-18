{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19664", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19664/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19664/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19664/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19664", "id": 328086968, "node_id": "MDU6SXNzdWUzMjgwODY5Njg=", "number": 19664, "title": "Speech command pretrained model in tensorflow lite is slow", "user": {"login": "nickwhsu", "id": 25834973, "node_id": "MDQ6VXNlcjI1ODM0OTcz", "avatar_url": "https://avatars1.githubusercontent.com/u/25834973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickwhsu", "html_url": "https://github.com/nickwhsu", "followers_url": "https://api.github.com/users/nickwhsu/followers", "following_url": "https://api.github.com/users/nickwhsu/following{/other_user}", "gists_url": "https://api.github.com/users/nickwhsu/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickwhsu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickwhsu/subscriptions", "organizations_url": "https://api.github.com/users/nickwhsu/orgs", "repos_url": "https://api.github.com/users/nickwhsu/repos", "events_url": "https://api.github.com/users/nickwhsu/events{/privacy}", "received_events_url": "https://api.github.com/users/nickwhsu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-05-31T10:39:51Z", "updated_at": "2018-06-08T01:56:54Z", "closed_at": "2018-06-08T01:56:54Z", "author_association": "NONE", "body_html": "<p>System information<br>\nHave I written custom code: Yes<br>\nOS Platform and Distribution: Linux Ubuntu 16.04<br>\nTensorFlow installed from (source): tensorflow v1.8.0<br>\nPython version: 2.7<br>\nBazel version (if compiling from source): 0.11.1<br>\nGCC/Compiler version (if compiling from source): 5.4<br>\nCUDA/cuDNN version: NA<br>\nGPU model and memory: NA<br>\nExact command to reproduce: see code below</p>\n<p>I am trying to use pretrained model (conv_actions_frozen.tflite from \"<a href=\"https://storage.googleapis.com/download.tensorflow.org/models/tflite/conv_actions_tflite.zip\" rel=\"nofollow\">https://storage.googleapis.com/download.tensorflow.org/models/tflite/conv_actions_tflite.zip</a>\")<br>\nto inference on my ubuntu desktop , it took around 100ms for invoking.<br>\nBut in tensorflow, using the same pretrained model(conv_action_frozen.pb) label_wav.py to inference just around 80ms.<br>\nI would expect the inference time on tflite should be faster than tensorflow and i found it spend most time on Depthwise_conv2 operator.<br>\nIs there any reason or clue can check this?<br>\nThanks.</p>", "body_text": "System information\nHave I written custom code: Yes\nOS Platform and Distribution: Linux Ubuntu 16.04\nTensorFlow installed from (source): tensorflow v1.8.0\nPython version: 2.7\nBazel version (if compiling from source): 0.11.1\nGCC/Compiler version (if compiling from source): 5.4\nCUDA/cuDNN version: NA\nGPU model and memory: NA\nExact command to reproduce: see code below\nI am trying to use pretrained model (conv_actions_frozen.tflite from \"https://storage.googleapis.com/download.tensorflow.org/models/tflite/conv_actions_tflite.zip\")\nto inference on my ubuntu desktop , it took around 100ms for invoking.\nBut in tensorflow, using the same pretrained model(conv_action_frozen.pb) label_wav.py to inference just around 80ms.\nI would expect the inference time on tflite should be faster than tensorflow and i found it spend most time on Depthwise_conv2 operator.\nIs there any reason or clue can check this?\nThanks.", "body": "\r\nSystem information\r\nHave I written custom code: Yes\r\nOS Platform and Distribution: Linux Ubuntu 16.04\r\nTensorFlow installed from (source): tensorflow v1.8.0\r\nPython version: 2.7\r\nBazel version (if compiling from source): 0.11.1\r\nGCC/Compiler version (if compiling from source): 5.4\r\nCUDA/cuDNN version: NA\r\nGPU model and memory: NA\r\nExact command to reproduce: see code below\r\n\r\n\r\n\r\nI am trying to use pretrained model (conv_actions_frozen.tflite from \"https://storage.googleapis.com/download.tensorflow.org/models/tflite/conv_actions_tflite.zip\") \r\nto inference on my ubuntu desktop , it took around 100ms for invoking. \r\nBut in tensorflow, using the same pretrained model(conv_action_frozen.pb) label_wav.py to inference just around 80ms. \r\nI would expect the inference time on tflite should be faster than tensorflow and i found it spend most time on Depthwise_conv2 operator. \r\nIs there any reason or clue can check this?\r\nThanks.\r\n\r\n\r\n\r\n"}