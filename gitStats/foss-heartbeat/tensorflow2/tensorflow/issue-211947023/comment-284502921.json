{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/284502921", "html_url": "https://github.com/tensorflow/tensorflow/issues/8101#issuecomment-284502921", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8101", "id": 284502921, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDUwMjkyMQ==", "user": {"login": "jozef-mokry", "id": 1828285, "node_id": "MDQ6VXNlcjE4MjgyODU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1828285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jozef-mokry", "html_url": "https://github.com/jozef-mokry", "followers_url": "https://api.github.com/users/jozef-mokry/followers", "following_url": "https://api.github.com/users/jozef-mokry/following{/other_user}", "gists_url": "https://api.github.com/users/jozef-mokry/gists{/gist_id}", "starred_url": "https://api.github.com/users/jozef-mokry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jozef-mokry/subscriptions", "organizations_url": "https://api.github.com/users/jozef-mokry/orgs", "repos_url": "https://api.github.com/users/jozef-mokry/repos", "events_url": "https://api.github.com/users/jozef-mokry/events{/privacy}", "received_events_url": "https://api.github.com/users/jozef-mokry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-06T19:22:01Z", "updated_at": "2017-03-06T19:22:01Z", "author_association": "NONE", "body_html": "<p>Yes, I was hoping -1 would refer to the last axis (and rank-N in general). I agree the documentation does not mention this. However for functions like reduce_sum, it is not mentioned explicitly either (except for the \"Equivalent to np.sum\" note) but they do support negative axes.</p>\n<p>It is quite tricky to remember which functions support negative axes and which don't and if you get it wrong you get NaNs. Maybe a simple 'assert all axes are non-negative' might prevent a lot of time debugging NaNs in the future.</p>", "body_text": "Yes, I was hoping -1 would refer to the last axis (and rank-N in general). I agree the documentation does not mention this. However for functions like reduce_sum, it is not mentioned explicitly either (except for the \"Equivalent to np.sum\" note) but they do support negative axes.\nIt is quite tricky to remember which functions support negative axes and which don't and if you get it wrong you get NaNs. Maybe a simple 'assert all axes are non-negative' might prevent a lot of time debugging NaNs in the future.", "body": "Yes, I was hoping -1 would refer to the last axis (and rank-N in general). I agree the documentation does not mention this. However for functions like reduce_sum, it is not mentioned explicitly either (except for the \"Equivalent to np.sum\" note) but they do support negative axes. \r\n\r\nIt is quite tricky to remember which functions support negative axes and which don't and if you get it wrong you get NaNs. Maybe a simple 'assert all axes are non-negative' might prevent a lot of time debugging NaNs in the future.  \r\n\r\n"}