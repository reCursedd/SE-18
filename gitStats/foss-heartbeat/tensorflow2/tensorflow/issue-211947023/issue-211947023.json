{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8101", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8101/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8101/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8101/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8101", "id": 211947023, "node_id": "MDU6SXNzdWUyMTE5NDcwMjM=", "number": 8101, "title": "tf.nn.moments produces NaNs with axes=[-1]", "user": {"login": "jozef-mokry", "id": 1828285, "node_id": "MDQ6VXNlcjE4MjgyODU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1828285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jozef-mokry", "html_url": "https://github.com/jozef-mokry", "followers_url": "https://api.github.com/users/jozef-mokry/followers", "following_url": "https://api.github.com/users/jozef-mokry/following{/other_user}", "gists_url": "https://api.github.com/users/jozef-mokry/gists{/gist_id}", "starred_url": "https://api.github.com/users/jozef-mokry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jozef-mokry/subscriptions", "organizations_url": "https://api.github.com/users/jozef-mokry/orgs", "repos_url": "https://api.github.com/users/jozef-mokry/repos", "events_url": "https://api.github.com/users/jozef-mokry/events{/privacy}", "received_events_url": "https://api.github.com/users/jozef-mokry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2017-03-05T11:36:15Z", "updated_at": "2017-09-01T20:04:33Z", "closed_at": "2017-09-01T20:04:33Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>tf.nn.moments does not work with negative axes. Is this intentional? Will this be possible in future versions? Thanks.</p>\n<pre><code>&gt;&gt;&gt; x = tf.placeholder(dtype=tf.float32)\n&gt;&gt;&gt; mean, var = tf.nn.moments(x, axes=[1])\n&gt;&gt;&gt; sess.run([mean, var], {x:np.arange(12).reshape((2,6)).astype(np.float32)})\n[array([ 2.5,  8.5], dtype=float32), array([ 2.91666675,  2.91666675], dtype=float32)]\n&gt;&gt;&gt; mean, var = tf.nn.moments(x, axes=[-1])\n&gt;&gt;&gt; sess.run([mean, var], {x:np.arange(12).reshape((2,6)).astype(np.float32)})\n[array([ nan,  nan], dtype=float32), array([ nan,  nan], dtype=float32)]\n</code></pre>", "body_text": "Hi,\ntf.nn.moments does not work with negative axes. Is this intentional? Will this be possible in future versions? Thanks.\n>>> x = tf.placeholder(dtype=tf.float32)\n>>> mean, var = tf.nn.moments(x, axes=[1])\n>>> sess.run([mean, var], {x:np.arange(12).reshape((2,6)).astype(np.float32)})\n[array([ 2.5,  8.5], dtype=float32), array([ 2.91666675,  2.91666675], dtype=float32)]\n>>> mean, var = tf.nn.moments(x, axes=[-1])\n>>> sess.run([mean, var], {x:np.arange(12).reshape((2,6)).astype(np.float32)})\n[array([ nan,  nan], dtype=float32), array([ nan,  nan], dtype=float32)]", "body": "Hi,\r\n\r\ntf.nn.moments does not work with negative axes. Is this intentional? Will this be possible in future versions? Thanks.\r\n\r\n```\r\n>>> x = tf.placeholder(dtype=tf.float32)\r\n>>> mean, var = tf.nn.moments(x, axes=[1])\r\n>>> sess.run([mean, var], {x:np.arange(12).reshape((2,6)).astype(np.float32)})\r\n[array([ 2.5,  8.5], dtype=float32), array([ 2.91666675,  2.91666675], dtype=float32)]\r\n>>> mean, var = tf.nn.moments(x, axes=[-1])\r\n>>> sess.run([mean, var], {x:np.arange(12).reshape((2,6)).astype(np.float32)})\r\n[array([ nan,  nan], dtype=float32), array([ nan,  nan], dtype=float32)]\r\n```\r\n"}