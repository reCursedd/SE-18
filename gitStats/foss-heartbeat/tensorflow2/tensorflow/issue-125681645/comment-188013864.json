{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/188013864", "html_url": "https://github.com/tensorflow/tensorflow/pull/728#issuecomment-188013864", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/728", "id": 188013864, "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODAxMzg2NA==", "user": {"login": "rbharath", "id": 1057676, "node_id": "MDQ6VXNlcjEwNTc2NzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1057676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbharath", "html_url": "https://github.com/rbharath", "followers_url": "https://api.github.com/users/rbharath/followers", "following_url": "https://api.github.com/users/rbharath/following{/other_user}", "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions", "organizations_url": "https://api.github.com/users/rbharath/orgs", "repos_url": "https://api.github.com/users/rbharath/repos", "events_url": "https://api.github.com/users/rbharath/events{/privacy}", "received_events_url": "https://api.github.com/users/rbharath/received_events", "type": "User", "site_admin": false}, "created_at": "2016-02-24T02:13:12Z", "updated_at": "2016-02-24T02:13:39Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=76661\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ageron\">@ageron</a> I checked out this PR and tried to get tensorflow to build on my machine using cmake (Ubuntu 12.04 with glic 2.15, gcc 4.9.1, cmake 3.5). I made it a ways, but the build crashes when trying to compile the re2 library:</p>\n<pre><code>libbenchmark.a(benchmark.cc.o): In function `_Z8RunBenchPN7testing9BenchmarkEii.part.2':\nbenchmark.cc:(.text+0x4f): undefined reference to `clock_gettime'\nbenchmark.cc:(.text+0x149): undefined reference to `clock_gettime'\nbenchmark.cc:(.text+0x195): undefined reference to `clock_gettime'\nbenchmark.cc:(.text+0x377): undefined reference to `clock_gettime'\nlibbenchmark.a(benchmark.cc.o): In function `StopBenchmarkTiming()':\nbenchmark.cc:(.text+0x47a): undefined reference to `clock_gettime'\nlibbenchmark.a(benchmark.cc.o):benchmark.cc:(.text+0x4da): more undefined references to     `clock_gettime' follow\n</code></pre>\n<p>The cmake code uses the command ExternalProject to internally download re2 and build it. The failure above is due the linking flag '-lrt' being missing (the rt library was merged into glibc from 2.17 onwards, but I have an old version of glibc locally). The strange thing here though is that I can clone re2 from github manually and get it to build outside of cmake, so there's some arcana about the cmake build that's confusing me. Do you have any thoughts?</p>", "body_text": "@ageron I checked out this PR and tried to get tensorflow to build on my machine using cmake (Ubuntu 12.04 with glic 2.15, gcc 4.9.1, cmake 3.5). I made it a ways, but the build crashes when trying to compile the re2 library:\nlibbenchmark.a(benchmark.cc.o): In function `_Z8RunBenchPN7testing9BenchmarkEii.part.2':\nbenchmark.cc:(.text+0x4f): undefined reference to `clock_gettime'\nbenchmark.cc:(.text+0x149): undefined reference to `clock_gettime'\nbenchmark.cc:(.text+0x195): undefined reference to `clock_gettime'\nbenchmark.cc:(.text+0x377): undefined reference to `clock_gettime'\nlibbenchmark.a(benchmark.cc.o): In function `StopBenchmarkTiming()':\nbenchmark.cc:(.text+0x47a): undefined reference to `clock_gettime'\nlibbenchmark.a(benchmark.cc.o):benchmark.cc:(.text+0x4da): more undefined references to     `clock_gettime' follow\n\nThe cmake code uses the command ExternalProject to internally download re2 and build it. The failure above is due the linking flag '-lrt' being missing (the rt library was merged into glibc from 2.17 onwards, but I have an old version of glibc locally). The strange thing here though is that I can clone re2 from github manually and get it to build outside of cmake, so there's some arcana about the cmake build that's confusing me. Do you have any thoughts?", "body": "@ageron I checked out this PR and tried to get tensorflow to build on my machine using cmake (Ubuntu 12.04 with glic 2.15, gcc 4.9.1, cmake 3.5). I made it a ways, but the build crashes when trying to compile the re2 library:\n\n```\nlibbenchmark.a(benchmark.cc.o): In function `_Z8RunBenchPN7testing9BenchmarkEii.part.2':\nbenchmark.cc:(.text+0x4f): undefined reference to `clock_gettime'\nbenchmark.cc:(.text+0x149): undefined reference to `clock_gettime'\nbenchmark.cc:(.text+0x195): undefined reference to `clock_gettime'\nbenchmark.cc:(.text+0x377): undefined reference to `clock_gettime'\nlibbenchmark.a(benchmark.cc.o): In function `StopBenchmarkTiming()':\nbenchmark.cc:(.text+0x47a): undefined reference to `clock_gettime'\nlibbenchmark.a(benchmark.cc.o):benchmark.cc:(.text+0x4da): more undefined references to     `clock_gettime' follow\n```\n\nThe cmake code uses the command ExternalProject to internally download re2 and build it. The failure above is due the linking flag '-lrt' being missing (the rt library was merged into glibc from 2.17 onwards, but I have an old version of glibc locally). The strange thing here though is that I can clone re2 from github manually and get it to build outside of cmake, so there's some arcana about the cmake build that's confusing me. Do you have any thoughts?\n"}