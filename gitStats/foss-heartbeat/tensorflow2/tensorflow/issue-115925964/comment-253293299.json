{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/253293299", "html_url": "https://github.com/tensorflow/tensorflow/issues/17#issuecomment-253293299", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17", "id": 253293299, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzI5MzI5OQ==", "user": {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-12T18:13:55Z", "updated_at": "2016-10-12T19:50:44Z", "author_association": "MEMBER", "body_html": "<p>Hi everyone! As mentioned by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a>, I am working on TensorFlow Windows build with Bazel. With PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"181374531\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4796\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/4796/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/4796\">#4796</a> and PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"182034577\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4874\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/4874/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/4874\">#4874</a> merged, the C++ example trainer now builds on Windows with <a href=\"https://www.bazel.io/blog/2016/09/07/bazel-windows.html\" rel=\"nofollow\">Bazel 0.3.2</a>!</p>\n<p>Here is a brief instruction about how to build TF with Bazel on Windows:</p>\n<ul>\n<li>Install Bazel on Windows(<a href=\"https://www.bazel.io/blog/2016/09/07/bazel-windows.html\" rel=\"nofollow\">installation instructions</a>)</li>\n<li>Setup the environment Bazel needs for <a href=\"https://www.bazel.io/versions/master/docs/windows.html#build-c\" rel=\"nofollow\">building C++ with MSVC</a></li>\n<li>Clone TF repository, run <code>./configure</code> in MSYS</li>\n<li>Run <code>bazel build -c opt --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc //tensorflow/cc:tutorials_example_trainer --verbose_failures</code></li>\n</ul>\n<p>For convenience, you can put the build options in <code>~/.bazelrc</code>, mine is like:</p>\n<pre><code>build -c opt\nbuild --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc\nbuild --copt=\"/w\"                  # Suppress some warning messages\nbuild --experimental_ui            # Enable a nice UI \n</code></pre>\n<p>A known issue is that Bazel's MSVC <a href=\"https://github.com/bazelbuild/bazel/tree/master/tools/cpp/wrapper/bin/pydir\">wrapper script</a> doesn't support python3 in Bazel 0.3.2, but it's already been fixed at <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/bazelbuild/bazel/commit/ce5c33dd7e96aff0cf1eb993edd41a5fe8c423f2/hovercard\" href=\"https://github.com/bazelbuild/bazel/commit/ce5c33dd7e96aff0cf1eb993edd41a5fe8c423f2\">bazelbuild/bazel@<tt>ce5c33d</tt></a>. You can solve it by setting <code>BAZEL_PYTHON</code> to a python 2.7 binary or building Bazel from HEAD.</p>\n<p>Building the C++ example trainer with Bazel takes about 20 minutes on my machine(Windows 7, CPU 2.9GHz, RAM 64G), an incremental build after changing some source file (i.e. <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/array_ops.cc\"><code>array_ops.cc</code></a>) is around 1 minute.</p>\n<p>I am also making some progress on building the python PIP package on Windows with Bazel, I will send a PR as soon as possible.</p>\n<p>Please try to build TensorFlow with Bazel on Windows, and tell us what we could improve!</p>", "body_text": "Hi everyone! As mentioned by @mrry, I am working on TensorFlow Windows build with Bazel. With PR #4796 and PR #4874 merged, the C++ example trainer now builds on Windows with Bazel 0.3.2!\nHere is a brief instruction about how to build TF with Bazel on Windows:\n\nInstall Bazel on Windows(installation instructions)\nSetup the environment Bazel needs for building C++ with MSVC\nClone TF repository, run ./configure in MSYS\nRun bazel build -c opt --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc //tensorflow/cc:tutorials_example_trainer --verbose_failures\n\nFor convenience, you can put the build options in ~/.bazelrc, mine is like:\nbuild -c opt\nbuild --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc\nbuild --copt=\"/w\"                  # Suppress some warning messages\nbuild --experimental_ui            # Enable a nice UI \n\nA known issue is that Bazel's MSVC wrapper script doesn't support python3 in Bazel 0.3.2, but it's already been fixed at bazelbuild/bazel@ce5c33d. You can solve it by setting BAZEL_PYTHON to a python 2.7 binary or building Bazel from HEAD.\nBuilding the C++ example trainer with Bazel takes about 20 minutes on my machine(Windows 7, CPU 2.9GHz, RAM 64G), an incremental build after changing some source file (i.e. array_ops.cc) is around 1 minute.\nI am also making some progress on building the python PIP package on Windows with Bazel, I will send a PR as soon as possible.\nPlease try to build TensorFlow with Bazel on Windows, and tell us what we could improve!", "body": "Hi everyone! As mentioned by @mrry, I am working on TensorFlow Windows build with Bazel. With PR #4796 and PR #4874 merged, the C++ example trainer now builds on Windows with [Bazel 0.3.2](https://www.bazel.io/blog/2016/09/07/bazel-windows.html)!\n\nHere is a brief instruction about how to build TF with Bazel on Windows:\n- Install Bazel on Windows([installation instructions](https://www.bazel.io/blog/2016/09/07/bazel-windows.html))\n- Setup the environment Bazel needs for [building C++ with MSVC](https://www.bazel.io/versions/master/docs/windows.html#build-c)\n- Clone TF repository, run `./configure` in MSYS\n- Run `bazel build -c opt --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc //tensorflow/cc:tutorials_example_trainer --verbose_failures`\n\nFor convenience, you can put the build options in `~/.bazelrc`, mine is like:\n\n```\nbuild -c opt\nbuild --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc\nbuild --copt=\"/w\"                  # Suppress some warning messages\nbuild --experimental_ui            # Enable a nice UI \n```\n\nA known issue is that Bazel's MSVC [wrapper script](https://github.com/bazelbuild/bazel/tree/master/tools/cpp/wrapper/bin/pydir) doesn't support python3 in Bazel 0.3.2, but it's already been fixed at https://github.com/bazelbuild/bazel/commit/ce5c33dd7e96aff0cf1eb993edd41a5fe8c423f2. You can solve it by setting `BAZEL_PYTHON` to a python 2.7 binary or building Bazel from HEAD.\n\nBuilding the C++ example trainer with Bazel takes about 20 minutes on my machine(Windows 7, CPU 2.9GHz, RAM 64G), an incremental build after changing some source file (i.e. [`array_ops.cc`](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/array_ops.cc)) is around 1 minute.\n\nI am also making some progress on building the python PIP package on Windows with Bazel, I will send a PR as soon as possible.\n\nPlease try to build TensorFlow with Bazel on Windows, and tell us what we could improve!\n"}