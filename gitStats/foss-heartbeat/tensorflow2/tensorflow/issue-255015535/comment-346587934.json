{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/346587934", "html_url": "https://github.com/tensorflow/tensorflow/issues/12794#issuecomment-346587934", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12794", "id": 346587934, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjU4NzkzNA==", "user": {"login": "jakiechris", "id": 12059735, "node_id": "MDQ6VXNlcjEyMDU5NzM1", "avatar_url": "https://avatars2.githubusercontent.com/u/12059735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakiechris", "html_url": "https://github.com/jakiechris", "followers_url": "https://api.github.com/users/jakiechris/followers", "following_url": "https://api.github.com/users/jakiechris/following{/other_user}", "gists_url": "https://api.github.com/users/jakiechris/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakiechris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakiechris/subscriptions", "organizations_url": "https://api.github.com/users/jakiechris/orgs", "repos_url": "https://api.github.com/users/jakiechris/repos", "events_url": "https://api.github.com/users/jakiechris/events{/privacy}", "received_events_url": "https://api.github.com/users/jakiechris/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-23T10:59:27Z", "updated_at": "2017-11-23T11:05:37Z", "author_association": "NONE", "body_html": "<p>my project is a shared lib, and in this lib i called tensorflow lib . and linked the shared lib to apk.</p>\n<p>i found that even if i cut tensor to hollow, it still crashes.<br>\nthe problem is: i did:<br>\ntarget_link_libraries(${PROJECT_NAME} -Wl,--allow-multiple-definition -Wl,--whole-archive tensorflow-core)<br>\nwhich means pack tensor lib file into my so lib, phone of huawei p7 seems don't support this sport .</p>\n<p>on contrast , my protobuf linked as:<br>\ntarget_link_libraries(${PROJECT_NAME} protobuf)<br>\nit's a big surprise that protobuf is not packet to my shared lib,<br>\nmy shared lib can be loaded normally on android app, that's not surprise,<br>\nthe real surprise is : why my app runs fine on many android phones when using tensor interfaces ?<br>\nis protobuf a default lib in android kernel ? and every phone just use the local protobuf lib ?</p>\n<p>so the question turn out to be :<br>\nhow to pack a static lib into a shared lib ,  and link the shared lib to apk ?</p>", "body_text": "my project is a shared lib, and in this lib i called tensorflow lib . and linked the shared lib to apk.\ni found that even if i cut tensor to hollow, it still crashes.\nthe problem is: i did:\ntarget_link_libraries(${PROJECT_NAME} -Wl,--allow-multiple-definition -Wl,--whole-archive tensorflow-core)\nwhich means pack tensor lib file into my so lib, phone of huawei p7 seems don't support this sport .\non contrast , my protobuf linked as:\ntarget_link_libraries(${PROJECT_NAME} protobuf)\nit's a big surprise that protobuf is not packet to my shared lib,\nmy shared lib can be loaded normally on android app, that's not surprise,\nthe real surprise is : why my app runs fine on many android phones when using tensor interfaces ?\nis protobuf a default lib in android kernel ? and every phone just use the local protobuf lib ?\nso the question turn out to be :\nhow to pack a static lib into a shared lib ,  and link the shared lib to apk ?", "body": "my project is a shared lib, and in this lib i called tensorflow lib . and linked the shared lib to apk.\r\n\r\ni found that even if i cut tensor to hollow, it still crashes.\r\nthe problem is: i did:\r\ntarget_link_libraries(${PROJECT_NAME} -Wl,--allow-multiple-definition -Wl,--whole-archive tensorflow-core)\r\nwhich means pack tensor lib file into my so lib, phone of huawei p7 seems don't support this sport . \r\n\r\non contrast , my protobuf linked as:\r\ntarget_link_libraries(${PROJECT_NAME} protobuf)\r\nit's a big surprise that protobuf is not packet to my shared lib, \r\nmy shared lib can be loaded normally on android app, that's not surprise, \r\nthe real surprise is : why my app runs fine on many android phones when using tensor interfaces ? \r\nis protobuf a default lib in android kernel ? and every phone just use the local protobuf lib ?\r\n\r\nso the question turn out to be : \r\n    how to pack a static lib into a shared lib ,  and link the shared lib to apk ?\r\n "}