{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20975", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20975/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20975/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20975/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20975", "id": 342803113, "node_id": "MDU6SXNzdWUzNDI4MDMxMTM=", "number": 20975, "title": "Toco not working on Windows", "user": {"login": "Lexicographical", "id": 24856195, "node_id": "MDQ6VXNlcjI0ODU2MTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/24856195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lexicographical", "html_url": "https://github.com/Lexicographical", "followers_url": "https://api.github.com/users/Lexicographical/followers", "following_url": "https://api.github.com/users/Lexicographical/following{/other_user}", "gists_url": "https://api.github.com/users/Lexicographical/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lexicographical/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lexicographical/subscriptions", "organizations_url": "https://api.github.com/users/Lexicographical/orgs", "repos_url": "https://api.github.com/users/Lexicographical/repos", "events_url": "https://api.github.com/users/Lexicographical/events{/privacy}", "received_events_url": "https://api.github.com/users/Lexicographical/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, {"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2018-07-19T16:32:33Z", "updated_at": "2018-11-14T13:51:20Z", "closed_at": "2018-08-30T18:13:25Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Windows 10</li>\n<li><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>: n/a</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source, pip install --upgrade tf-nightly</li>\n<li><strong>TensorFlow version (use command below)</strong>: GIT: 'v1.9.0-rc2-798-gc818bf016d', VERSION: '1.10.0-dev20180719'</li>\n<li><strong>Python version</strong>: 3.6.6</li>\n<li><strong>Bazel version (if compiling from source)</strong>:</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:</li>\n<li><strong>CUDA/cuDNN version</strong>:</li>\n<li><strong>GPU model and memory</strong>:</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<h3>Python API</h3>\n<p>`import tensorflow as tf</p>\n<p>converter = tf.contrib.lite.TocoConverter.from_keras_model_file(\"model.h5\")<br>\ntflite_model = converter.convert()<br>\nopen(\"model.tflite\", \"wb\").write(tflite_model)`<br>\nand</p>\n<h3>Command-line</h3>\n<p><code>toco</code></p>\n<p>You can collect some of this information using our environment capture script:</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\">https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh</a></p>\n<p>You can obtain the TensorFlow version with</p>\n<p>python -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"</p>\n<h3>Describe the problem</h3>\n<p>I'm trying to convert a keras model to the tflite format, but the sample code provided on the website doesn't seem to work. As advised in my <a href=\"https://github.com/tensorflow/tensorflow/issues/20826\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/20826/hovercard\">other issue</a>, I installed tf-nightly. I used a venv to get a clean environment but for some reason, other issues have arisen. In the case of the Python API, 'lite' seems to be missing from 'tensorflow.contrib' whereas when I run 'toco' from the command line, it raises a ModuleNotFoundError as shown below. Any help would be greatly appreciated.</p>\n<h3>Source code / logs</h3>\n<h3>Python API</h3>\n<p><code>Traceback (most recent call last): File \"sandbox/run.py\", line 3, in &lt;module&gt; converter = tf.contrib.lite.TocoConverter.from_keras_model_file(\"model.h5\") File \"C:\\beta\\lib\\site-packages\\tensorflow\\python\\util\\lazy_loader.py\", line 54, in __getattr__ return getattr(module, item) AttributeError: module 'tensorflow.contrib' has no attribute 'lite'</code></p>\n<h3>Command-line (running toco)</h3>\n<p><code>Traceback (most recent call last): File \"c:\\users\\user\\appdata\\local\\programs\\python\\python36\\Lib\\runpy.py\", line 193, in _run_module_as_main \"__main__\", mod_spec) File \"c:\\users\\user\\appdata\\local\\programs\\python\\python36\\Lib\\runpy.py\", line 85, in _run_code exec(code, run_globals) File \"C:\\beta\\Scripts\\toco.exe\\__main__.py\", line 5, in &lt;module&gt; ModuleNotFoundError: No module named 'tensorflow.contrib.lite.python.tflite_convert'</code></p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: n/a\nTensorFlow installed from (source or binary): source, pip install --upgrade tf-nightly\nTensorFlow version (use command below): GIT: 'v1.9.0-rc2-798-gc818bf016d', VERSION: '1.10.0-dev20180719'\nPython version: 3.6.6\nBazel version (if compiling from source):\nGCC/Compiler version (if compiling from source):\nCUDA/cuDNN version:\nGPU model and memory:\nExact command to reproduce:\n\nPython API\n`import tensorflow as tf\nconverter = tf.contrib.lite.TocoConverter.from_keras_model_file(\"model.h5\")\ntflite_model = converter.convert()\nopen(\"model.tflite\", \"wb\").write(tflite_model)`\nand\nCommand-line\ntoco\nYou can collect some of this information using our environment capture script:\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\nYou can obtain the TensorFlow version with\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\nDescribe the problem\nI'm trying to convert a keras model to the tflite format, but the sample code provided on the website doesn't seem to work. As advised in my other issue, I installed tf-nightly. I used a venv to get a clean environment but for some reason, other issues have arisen. In the case of the Python API, 'lite' seems to be missing from 'tensorflow.contrib' whereas when I run 'toco' from the command line, it raises a ModuleNotFoundError as shown below. Any help would be greatly appreciated.\nSource code / logs\nPython API\nTraceback (most recent call last): File \"sandbox/run.py\", line 3, in <module> converter = tf.contrib.lite.TocoConverter.from_keras_model_file(\"model.h5\") File \"C:\\beta\\lib\\site-packages\\tensorflow\\python\\util\\lazy_loader.py\", line 54, in __getattr__ return getattr(module, item) AttributeError: module 'tensorflow.contrib' has no attribute 'lite'\nCommand-line (running toco)\nTraceback (most recent call last): File \"c:\\users\\user\\appdata\\local\\programs\\python\\python36\\Lib\\runpy.py\", line 193, in _run_module_as_main \"__main__\", mod_spec) File \"c:\\users\\user\\appdata\\local\\programs\\python\\python36\\Lib\\runpy.py\", line 85, in _run_code exec(code, run_globals) File \"C:\\beta\\Scripts\\toco.exe\\__main__.py\", line 5, in <module> ModuleNotFoundError: No module named 'tensorflow.contrib.lite.python.tflite_convert'", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Windows 10\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: n/a\r\n- **TensorFlow installed from (source or binary)**: source, pip install --upgrade tf-nightly\r\n- **TensorFlow version (use command below)**: GIT: 'v1.9.0-rc2-798-gc818bf016d', VERSION: '1.10.0-dev20180719'\r\n- **Python version**: 3.6.6\r\n- **Bazel version (if compiling from source)**: \r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**:\r\n### Python API\r\n`import tensorflow as tf\r\n\r\nconverter = tf.contrib.lite.TocoConverter.from_keras_model_file(\"model.h5\")\r\ntflite_model = converter.convert()\r\nopen(\"model.tflite\", \"wb\").write(tflite_model)`\r\nand \r\n### Command-line\r\n`toco`\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with\r\n\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n### Describe the problem\r\nI'm trying to convert a keras model to the tflite format, but the sample code provided on the website doesn't seem to work. As advised in my [other issue](https://github.com/tensorflow/tensorflow/issues/20826), I installed tf-nightly. I used a venv to get a clean environment but for some reason, other issues have arisen. In the case of the Python API, 'lite' seems to be missing from 'tensorflow.contrib' whereas when I run 'toco' from the command line, it raises a ModuleNotFoundError as shown below. Any help would be greatly appreciated.\r\n\r\n### Source code / logs\r\n### Python API\r\n`Traceback (most recent call last):\r\n  File \"sandbox/run.py\", line 3, in <module>\r\n    converter = tf.contrib.lite.TocoConverter.from_keras_model_file(\"model.h5\")\r\n  File \"C:\\beta\\lib\\site-packages\\tensorflow\\python\\util\\lazy_loader.py\", line 54, in __getattr__\r\n    return getattr(module, item)\r\nAttributeError: module 'tensorflow.contrib' has no attribute 'lite'`\r\n\r\n### Command-line (running toco)\r\n`Traceback (most recent call last):\r\n  File \"c:\\users\\user\\appdata\\local\\programs\\python\\python36\\Lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"c:\\users\\user\\appdata\\local\\programs\\python\\python36\\Lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\beta\\Scripts\\toco.exe\\__main__.py\", line 5, in <module>\r\nModuleNotFoundError: No module named 'tensorflow.contrib.lite.python.tflite_convert'`\r\n"}