{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/430114887", "html_url": "https://github.com/tensorflow/tensorflow/issues/20975#issuecomment-430114887", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20975", "id": 430114887, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDExNDg4Nw==", "user": {"login": "thangvip4321", "id": 31377917, "node_id": "MDQ6VXNlcjMxMzc3OTE3", "avatar_url": "https://avatars1.githubusercontent.com/u/31377917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thangvip4321", "html_url": "https://github.com/thangvip4321", "followers_url": "https://api.github.com/users/thangvip4321/followers", "following_url": "https://api.github.com/users/thangvip4321/following{/other_user}", "gists_url": "https://api.github.com/users/thangvip4321/gists{/gist_id}", "starred_url": "https://api.github.com/users/thangvip4321/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thangvip4321/subscriptions", "organizations_url": "https://api.github.com/users/thangvip4321/orgs", "repos_url": "https://api.github.com/users/thangvip4321/repos", "events_url": "https://api.github.com/users/thangvip4321/events{/privacy}", "received_events_url": "https://api.github.com/users/thangvip4321/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-16T06:19:40Z", "updated_at": "2018-10-16T06:20:47Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=479117\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jdduke\">@jdduke</a> something is wrong with Tensorflow_wrap_toco here.Im running on win 10 when I try to run a sample code:<br>\n`import numpy as np<br>\nimport tensorflow as tf</p>\n<p>model = tf.keras.models.Sequential()<br>\nmodel.add(tf.keras.layers.Dense(2, input_shape=(3,)))<br>\nmodel.add(tf.keras.layers.RepeatVector(3))<br>\nmodel.add(tf.keras.layers.TimeDistributed(tf.keras.layers.Dense(3)))<br>\nmodel.compile(loss=tf.keras.losses.MSE,optimizer=tf.keras.optimizers.RMSprop(lr=0.0001),metrics=[tf.keras.metrics.categorical_accuracy],sample_weight_mode='temporal')</p>\n<p>x = np.random.random((1, 3))<br>\ny = np.random.random((1, 3, 3))<br>\nmodel.train_on_batch(x, y)<br>\nmodel.predict(x)</p>\n<p>keras_file = \"keras_model.h5\"<br>\ntf.keras.models.save_model(model, keras_file)</p>\n<p>converter = tf.contrib.lite.TocoConverter.from_keras_model_file(keras_file)<br>\ntflite_model = converter.convert()<br>\nopen(\"converted_model.tflite\", \"wb\").write(tflite_model)`<br>\nand this popped up:</p>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"E:\\adwqe.py\", line 22, in <br>\ntflite_model = converter.convert()<br>\nFile \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\python\\lite.py\", line 439, in convert<br>\n**converter_kwargs)<br>\nFile \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\python\\convert.py\", line 309, in toco_convert_impl<br>\ninput_data.SerializeToString())<br>\nFile \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\python\\convert.py\", line 109, in toco_convert_protos<br>\n(stdout, stderr))<br>\nRuntimeError: TOCO failed see console for info.<br>\nb'Traceback (most recent call last):\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\toco\\python\\tensorflow_wrap_toco.py\", line 18, in swig_import_helper\\r\\n    fp, pathname, description = imp.find_module('_tensorflow_wrap_toco', [dirname(<strong>file</strong>)])\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\imp.py\", line 296, in find_module\\r\\n    raise ImportError(_ERR_MSG.format(name), name=name)\\r\\nImportError: No module named '_tensorflow_wrap_toco'\\r\\n\\r\\nDuring handling of the above exception, another exception occurred:\\r\\n\\r\\nTraceback (most recent call last):\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\runpy.py\", line 193, in _run_module_as_main\\r\\n    \"<strong>main</strong>\", mod_spec)\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\runpy.py\", line 85, in _run_code\\r\\n    exec(code, run_globals)\\r\\n  File \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\Scripts\\toco_from_protos.exe\\<strong>main</strong>.py\", line 5, in \\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\toco\\python\\toco_from_protos.py\", line 22, in \\r\\n    from tensorflow.contrib.lite.toco.python import tensorflow_wrap_toco\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\toco\\python\\tensorflow_wrap_toco.py\", line 29, in \\r\\n    _tensorflow_wrap_toco = swig_import_helper()\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\toco\\python\\tensorflow_wrap_toco.py\", line 21, in swig_import_helper\\r\\n    import _tensorflow_wrap_toco\\r\\nImportError: No module named '_tensorflow_wrap_toco'\\r\\n'</p>\n</blockquote>", "body_text": "@jdduke something is wrong with Tensorflow_wrap_toco here.Im running on win 10 when I try to run a sample code:\n`import numpy as np\nimport tensorflow as tf\nmodel = tf.keras.models.Sequential()\nmodel.add(tf.keras.layers.Dense(2, input_shape=(3,)))\nmodel.add(tf.keras.layers.RepeatVector(3))\nmodel.add(tf.keras.layers.TimeDistributed(tf.keras.layers.Dense(3)))\nmodel.compile(loss=tf.keras.losses.MSE,optimizer=tf.keras.optimizers.RMSprop(lr=0.0001),metrics=[tf.keras.metrics.categorical_accuracy],sample_weight_mode='temporal')\nx = np.random.random((1, 3))\ny = np.random.random((1, 3, 3))\nmodel.train_on_batch(x, y)\nmodel.predict(x)\nkeras_file = \"keras_model.h5\"\ntf.keras.models.save_model(model, keras_file)\nconverter = tf.contrib.lite.TocoConverter.from_keras_model_file(keras_file)\ntflite_model = converter.convert()\nopen(\"converted_model.tflite\", \"wb\").write(tflite_model)`\nand this popped up:\n\nTraceback (most recent call last):\nFile \"E:\\adwqe.py\", line 22, in \ntflite_model = converter.convert()\nFile \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\python\\lite.py\", line 439, in convert\n**converter_kwargs)\nFile \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\python\\convert.py\", line 309, in toco_convert_impl\ninput_data.SerializeToString())\nFile \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\python\\convert.py\", line 109, in toco_convert_protos\n(stdout, stderr))\nRuntimeError: TOCO failed see console for info.\nb'Traceback (most recent call last):\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\toco\\python\\tensorflow_wrap_toco.py\", line 18, in swig_import_helper\\r\\n    fp, pathname, description = imp.find_module('_tensorflow_wrap_toco', [dirname(file)])\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\imp.py\", line 296, in find_module\\r\\n    raise ImportError(_ERR_MSG.format(name), name=name)\\r\\nImportError: No module named '_tensorflow_wrap_toco'\\r\\n\\r\\nDuring handling of the above exception, another exception occurred:\\r\\n\\r\\nTraceback (most recent call last):\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\runpy.py\", line 193, in _run_module_as_main\\r\\n    \"main\", mod_spec)\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\runpy.py\", line 85, in _run_code\\r\\n    exec(code, run_globals)\\r\\n  File \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\Scripts\\toco_from_protos.exe\\main.py\", line 5, in \\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\toco\\python\\toco_from_protos.py\", line 22, in \\r\\n    from tensorflow.contrib.lite.toco.python import tensorflow_wrap_toco\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\toco\\python\\tensorflow_wrap_toco.py\", line 29, in \\r\\n    _tensorflow_wrap_toco = swig_import_helper()\\r\\n  File \"c:\\users\\thang\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\toco\\python\\tensorflow_wrap_toco.py\", line 21, in swig_import_helper\\r\\n    import _tensorflow_wrap_toco\\r\\nImportError: No module named '_tensorflow_wrap_toco'\\r\\n'", "body": "@jdduke something is wrong with Tensorflow_wrap_toco here.Im running on win 10 when I try to run a sample code:\r\n`import numpy as np\r\nimport tensorflow as tf\r\n\r\nmodel = tf.keras.models.Sequential()\r\nmodel.add(tf.keras.layers.Dense(2, input_shape=(3,)))\r\nmodel.add(tf.keras.layers.RepeatVector(3))\r\nmodel.add(tf.keras.layers.TimeDistributed(tf.keras.layers.Dense(3)))\r\nmodel.compile(loss=tf.keras.losses.MSE,optimizer=tf.keras.optimizers.RMSprop(lr=0.0001),metrics=[tf.keras.metrics.categorical_accuracy],sample_weight_mode='temporal')\r\n\r\nx = np.random.random((1, 3))\r\ny = np.random.random((1, 3, 3))\r\nmodel.train_on_batch(x, y)\r\nmodel.predict(x)\r\n\r\n\r\nkeras_file = \"keras_model.h5\"\r\ntf.keras.models.save_model(model, keras_file)\r\n\r\nconverter = tf.contrib.lite.TocoConverter.from_keras_model_file(keras_file)\r\ntflite_model = converter.convert()\r\nopen(\"converted_model.tflite\", \"wb\").write(tflite_model)`\r\nand this popped up:\r\n\r\n> Traceback (most recent call last):\r\n  File \"E:\\adwqe.py\", line 22, in <module>\r\n    tflite_model = converter.convert()\r\n  File \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\python\\lite.py\", line 439, in convert\r\n    **converter_kwargs)\r\n  File \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\python\\convert.py\", line 309, in toco_convert_impl\r\n    input_data.SerializeToString())\r\n  File \"C:\\Users\\thang\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\lite\\python\\convert.py\", line 109, in toco_convert_protos\r\n    (stdout, stderr))\r\nRuntimeError: TOCO failed see console for info.\r\nb'Traceback (most recent call last):\\r\\n  File \"c:\\\\users\\\\thang\\\\appdata\\\\local\\\\programs\\\\python\\\\python35\\\\lib\\\\site-packages\\\\tensorflow\\\\contrib\\\\lite\\\\toco\\\\python\\\\tensorflow_wrap_toco.py\", line 18, in swig_import_helper\\r\\n    fp, pathname, description = imp.find_module(\\'_tensorflow_wrap_toco\\', [dirname(__file__)])\\r\\n  File \"c:\\\\users\\\\thang\\\\appdata\\\\local\\\\programs\\\\python\\\\python35\\\\lib\\\\imp.py\", line 296, in find_module\\r\\n    raise ImportError(_ERR_MSG.format(name), name=name)\\r\\nImportError: No module named \\'_tensorflow_wrap_toco\\'\\r\\n\\r\\nDuring handling of the above exception, another exception occurred:\\r\\n\\r\\nTraceback (most recent call last):\\r\\n  File \"c:\\\\users\\\\thang\\\\appdata\\\\local\\\\programs\\\\python\\\\python35\\\\lib\\\\runpy.py\", line 193, in _run_module_as_main\\r\\n    \"__main__\", mod_spec)\\r\\n  File \"c:\\\\users\\\\thang\\\\appdata\\\\local\\\\programs\\\\python\\\\python35\\\\lib\\\\runpy.py\", line 85, in _run_code\\r\\n    exec(code, run_globals)\\r\\n  File \"C:\\\\Users\\\\thang\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python35\\\\Scripts\\\\toco_from_protos.exe\\\\__main__.py\", line 5, in <module>\\r\\n  File \"c:\\\\users\\\\thang\\\\appdata\\\\local\\\\programs\\\\python\\\\python35\\\\lib\\\\site-packages\\\\tensorflow\\\\contrib\\\\lite\\\\toco\\\\python\\\\toco_from_protos.py\", line 22, in <module>\\r\\n    from tensorflow.contrib.lite.toco.python import tensorflow_wrap_toco\\r\\n  File \"c:\\\\users\\\\thang\\\\appdata\\\\local\\\\programs\\\\python\\\\python35\\\\lib\\\\site-packages\\\\tensorflow\\\\contrib\\\\lite\\\\toco\\\\python\\\\tensorflow_wrap_toco.py\", line 29, in <module>\\r\\n    _tensorflow_wrap_toco = swig_import_helper()\\r\\n  File \"c:\\\\users\\\\thang\\\\appdata\\\\local\\\\programs\\\\python\\\\python35\\\\lib\\\\site-packages\\\\tensorflow\\\\contrib\\\\lite\\\\toco\\\\python\\\\tensorflow_wrap_toco.py\", line 21, in swig_import_helper\\r\\n    import _tensorflow_wrap_toco\\r\\nImportError: No module named \\'_tensorflow_wrap_toco\\'\\r\\n'"}