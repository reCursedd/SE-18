{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/271414070", "html_url": "https://github.com/tensorflow/tensorflow/issues/6011#issuecomment-271414070", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6011", "id": 271414070, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTQxNDA3MA==", "user": {"login": "abossenbroek", "id": 7729, "node_id": "MDQ6VXNlcjc3Mjk=", "avatar_url": "https://avatars0.githubusercontent.com/u/7729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abossenbroek", "html_url": "https://github.com/abossenbroek", "followers_url": "https://api.github.com/users/abossenbroek/followers", "following_url": "https://api.github.com/users/abossenbroek/following{/other_user}", "gists_url": "https://api.github.com/users/abossenbroek/gists{/gist_id}", "starred_url": "https://api.github.com/users/abossenbroek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abossenbroek/subscriptions", "organizations_url": "https://api.github.com/users/abossenbroek/orgs", "repos_url": "https://api.github.com/users/abossenbroek/repos", "events_url": "https://api.github.com/users/abossenbroek/events{/privacy}", "received_events_url": "https://api.github.com/users/abossenbroek/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-09T21:32:27Z", "updated_at": "2017-01-09T21:32:27Z", "author_association": "NONE", "body_html": "<p>I can't get it to work on python3. Any recommendations?</p>\n<p>Output</p>\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-24-41b88a9b0081&gt; in &lt;module&gt;()\n     12 rate = 0.001\n     13 \n---&gt; 14 logits = TrafficNet(x)\n     15 cross_entropy = tf.nn.softmax_cross_entropy_with_logits(logits, one_hot_y)\n     16 loss_operation = tf.reduce_mean(cross_entropy)\n\n&lt;ipython-input-23-673412c4ac1b&gt; in TrafficNet(x)\n     71         return spp_pool\n     72 \n---&gt; 73     pool3 = spp_layer2(conv13)\n     74 \n     75     from IPython.core.debugger import Tracer\n\n&lt;ipython-input-23-673412c4ac1b&gt; in spp_layer2(input_, levels, name)\n     67                                       strides=[1, np.floor(shape[1] * 1. / l + 1).astype(np.int32), np.floor(shape[2] * 1. / l + 1), 1],\n     68                                       padding='SAME')\n---&gt; 69                 pool_outputs.append(tf.reshape(pool, [shape[0], -1]))\n     70             spp_pool = tf.concat(1, pool_outputs)\n     71         return spp_pool\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/ops/gen_array_ops.py in reshape(tensor, shape, name)\n   2446   \"\"\"\n   2447   result = _op_def_lib.apply_op(\"Reshape\", tensor=tensor, shape=shape,\n-&gt; 2448                                 name=name)\n   2449   return result\n   2450 \n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py in apply_op(self, op_type_name, name, **keywords)\n    491           except TypeError as err:\n    492             if dtype is None:\n--&gt; 493               raise err\n    494             else:\n    495               raise TypeError(\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py in apply_op(self, op_type_name, name, **keywords)\n    488                 dtype=dtype,\n    489                 as_ref=input_arg.is_ref,\n--&gt; 490                 preferred_dtype=default_dtype)\n    491           except TypeError as err:\n    492             if dtype is None:\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in convert_to_tensor(value, dtype, name, as_ref, preferred_dtype)\n    667 \n    668         if ret is None:\n--&gt; 669           ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n    670 \n    671         if ret is NotImplemented:\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py in _constant_tensor_conversion_function(v, dtype, name, as_ref)\n    174                                          as_ref=False):\n    175   _ = as_ref\n--&gt; 176   return constant(v, dtype=dtype, name=name)\n    177 \n    178 \n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py in constant(value, dtype, shape, name, verify_shape)\n    163   tensor_value = attr_value_pb2.AttrValue()\n    164   tensor_value.tensor.CopyFrom(\n--&gt; 165       tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape, verify_shape=verify_shape))\n    166   dtype_value = attr_value_pb2.AttrValue(type=tensor_value.tensor.dtype)\n    167   const_tensor = g.create_op(\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py in make_tensor_proto(values, dtype, shape, verify_shape)\n    439   if numpy_dtype == dtypes.string and not isinstance(values, np.ndarray):\n    440     proto_values = _FlattenToStrings(values)\n--&gt; 441     tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\n    442     return tensor_proto\n    443 \n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py in &lt;listcomp&gt;(.0)\n    439   if numpy_dtype == dtypes.string and not isinstance(values, np.ndarray):\n    440     proto_values = _FlattenToStrings(values)\n--&gt; 441     tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\n    442     return tensor_proto\n    443 \n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/util/compat.py in as_bytes(bytes_or_text, encoding)\n     63   else:\n     64     raise TypeError('Expected binary or unicode string, got %r' %\n---&gt; 65                     (bytes_or_text,))\n     66 \n     67 \n\nTypeError: Expected binary or unicode string, got None\n</code></pre>", "body_text": "I can't get it to work on python3. Any recommendations?\nOutput\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-24-41b88a9b0081> in <module>()\n     12 rate = 0.001\n     13 \n---> 14 logits = TrafficNet(x)\n     15 cross_entropy = tf.nn.softmax_cross_entropy_with_logits(logits, one_hot_y)\n     16 loss_operation = tf.reduce_mean(cross_entropy)\n\n<ipython-input-23-673412c4ac1b> in TrafficNet(x)\n     71         return spp_pool\n     72 \n---> 73     pool3 = spp_layer2(conv13)\n     74 \n     75     from IPython.core.debugger import Tracer\n\n<ipython-input-23-673412c4ac1b> in spp_layer2(input_, levels, name)\n     67                                       strides=[1, np.floor(shape[1] * 1. / l + 1).astype(np.int32), np.floor(shape[2] * 1. / l + 1), 1],\n     68                                       padding='SAME')\n---> 69                 pool_outputs.append(tf.reshape(pool, [shape[0], -1]))\n     70             spp_pool = tf.concat(1, pool_outputs)\n     71         return spp_pool\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/ops/gen_array_ops.py in reshape(tensor, shape, name)\n   2446   \"\"\"\n   2447   result = _op_def_lib.apply_op(\"Reshape\", tensor=tensor, shape=shape,\n-> 2448                                 name=name)\n   2449   return result\n   2450 \n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py in apply_op(self, op_type_name, name, **keywords)\n    491           except TypeError as err:\n    492             if dtype is None:\n--> 493               raise err\n    494             else:\n    495               raise TypeError(\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py in apply_op(self, op_type_name, name, **keywords)\n    488                 dtype=dtype,\n    489                 as_ref=input_arg.is_ref,\n--> 490                 preferred_dtype=default_dtype)\n    491           except TypeError as err:\n    492             if dtype is None:\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in convert_to_tensor(value, dtype, name, as_ref, preferred_dtype)\n    667 \n    668         if ret is None:\n--> 669           ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n    670 \n    671         if ret is NotImplemented:\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py in _constant_tensor_conversion_function(v, dtype, name, as_ref)\n    174                                          as_ref=False):\n    175   _ = as_ref\n--> 176   return constant(v, dtype=dtype, name=name)\n    177 \n    178 \n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py in constant(value, dtype, shape, name, verify_shape)\n    163   tensor_value = attr_value_pb2.AttrValue()\n    164   tensor_value.tensor.CopyFrom(\n--> 165       tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape, verify_shape=verify_shape))\n    166   dtype_value = attr_value_pb2.AttrValue(type=tensor_value.tensor.dtype)\n    167   const_tensor = g.create_op(\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py in make_tensor_proto(values, dtype, shape, verify_shape)\n    439   if numpy_dtype == dtypes.string and not isinstance(values, np.ndarray):\n    440     proto_values = _FlattenToStrings(values)\n--> 441     tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\n    442     return tensor_proto\n    443 \n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py in <listcomp>(.0)\n    439   if numpy_dtype == dtypes.string and not isinstance(values, np.ndarray):\n    440     proto_values = _FlattenToStrings(values)\n--> 441     tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\n    442     return tensor_proto\n    443 \n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/util/compat.py in as_bytes(bytes_or_text, encoding)\n     63   else:\n     64     raise TypeError('Expected binary or unicode string, got %r' %\n---> 65                     (bytes_or_text,))\n     66 \n     67 \n\nTypeError: Expected binary or unicode string, got None", "body": "I can't get it to work on python3. Any recommendations?\r\n\r\nOutput\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-24-41b88a9b0081> in <module>()\r\n     12 rate = 0.001\r\n     13 \r\n---> 14 logits = TrafficNet(x)\r\n     15 cross_entropy = tf.nn.softmax_cross_entropy_with_logits(logits, one_hot_y)\r\n     16 loss_operation = tf.reduce_mean(cross_entropy)\r\n\r\n<ipython-input-23-673412c4ac1b> in TrafficNet(x)\r\n     71         return spp_pool\r\n     72 \r\n---> 73     pool3 = spp_layer2(conv13)\r\n     74 \r\n     75     from IPython.core.debugger import Tracer\r\n\r\n<ipython-input-23-673412c4ac1b> in spp_layer2(input_, levels, name)\r\n     67                                       strides=[1, np.floor(shape[1] * 1. / l + 1).astype(np.int32), np.floor(shape[2] * 1. / l + 1), 1],\r\n     68                                       padding='SAME')\r\n---> 69                 pool_outputs.append(tf.reshape(pool, [shape[0], -1]))\r\n     70             spp_pool = tf.concat(1, pool_outputs)\r\n     71         return spp_pool\r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/ops/gen_array_ops.py in reshape(tensor, shape, name)\r\n   2446   \"\"\"\r\n   2447   result = _op_def_lib.apply_op(\"Reshape\", tensor=tensor, shape=shape,\r\n-> 2448                                 name=name)\r\n   2449   return result\r\n   2450 \r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py in apply_op(self, op_type_name, name, **keywords)\r\n    491           except TypeError as err:\r\n    492             if dtype is None:\r\n--> 493               raise err\r\n    494             else:\r\n    495               raise TypeError(\r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py in apply_op(self, op_type_name, name, **keywords)\r\n    488                 dtype=dtype,\r\n    489                 as_ref=input_arg.is_ref,\r\n--> 490                 preferred_dtype=default_dtype)\r\n    491           except TypeError as err:\r\n    492             if dtype is None:\r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in convert_to_tensor(value, dtype, name, as_ref, preferred_dtype)\r\n    667 \r\n    668         if ret is None:\r\n--> 669           ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n    670 \r\n    671         if ret is NotImplemented:\r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py in _constant_tensor_conversion_function(v, dtype, name, as_ref)\r\n    174                                          as_ref=False):\r\n    175   _ = as_ref\r\n--> 176   return constant(v, dtype=dtype, name=name)\r\n    177 \r\n    178 \r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py in constant(value, dtype, shape, name, verify_shape)\r\n    163   tensor_value = attr_value_pb2.AttrValue()\r\n    164   tensor_value.tensor.CopyFrom(\r\n--> 165       tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape, verify_shape=verify_shape))\r\n    166   dtype_value = attr_value_pb2.AttrValue(type=tensor_value.tensor.dtype)\r\n    167   const_tensor = g.create_op(\r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py in make_tensor_proto(values, dtype, shape, verify_shape)\r\n    439   if numpy_dtype == dtypes.string and not isinstance(values, np.ndarray):\r\n    440     proto_values = _FlattenToStrings(values)\r\n--> 441     tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\r\n    442     return tensor_proto\r\n    443 \r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py in <listcomp>(.0)\r\n    439   if numpy_dtype == dtypes.string and not isinstance(values, np.ndarray):\r\n    440     proto_values = _FlattenToStrings(values)\r\n--> 441     tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\r\n    442     return tensor_proto\r\n    443 \r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/util/compat.py in as_bytes(bytes_or_text, encoding)\r\n     63   else:\r\n     64     raise TypeError('Expected binary or unicode string, got %r' %\r\n---> 65                     (bytes_or_text,))\r\n     66 \r\n     67 \r\n\r\nTypeError: Expected binary or unicode string, got None\r\n```"}