{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2209", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2209/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2209/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2209/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2209", "id": 152878519, "node_id": "MDU6SXNzdWUxNTI4Nzg1MTk=", "number": 2209, "title": "Word2vec overflows int32 corpus_size_", "user": {"login": "illuzen", "id": 6833917, "node_id": "MDQ6VXNlcjY4MzM5MTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/6833917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/illuzen", "html_url": "https://github.com/illuzen", "followers_url": "https://api.github.com/users/illuzen/followers", "following_url": "https://api.github.com/users/illuzen/following{/other_user}", "gists_url": "https://api.github.com/users/illuzen/gists{/gist_id}", "starred_url": "https://api.github.com/users/illuzen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/illuzen/subscriptions", "organizations_url": "https://api.github.com/users/illuzen/orgs", "repos_url": "https://api.github.com/users/illuzen/repos", "events_url": "https://api.github.com/users/illuzen/events{/privacy}", "received_events_url": "https://api.github.com/users/illuzen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "zffchen78", "id": 7943790, "node_id": "MDQ6VXNlcjc5NDM3OTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7943790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zffchen78", "html_url": "https://github.com/zffchen78", "followers_url": "https://api.github.com/users/zffchen78/followers", "following_url": "https://api.github.com/users/zffchen78/following{/other_user}", "gists_url": "https://api.github.com/users/zffchen78/gists{/gist_id}", "starred_url": "https://api.github.com/users/zffchen78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zffchen78/subscriptions", "organizations_url": "https://api.github.com/users/zffchen78/orgs", "repos_url": "https://api.github.com/users/zffchen78/repos", "events_url": "https://api.github.com/users/zffchen78/events{/privacy}", "received_events_url": "https://api.github.com/users/zffchen78/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zffchen78", "id": 7943790, "node_id": "MDQ6VXNlcjc5NDM3OTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7943790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zffchen78", "html_url": "https://github.com/zffchen78", "followers_url": "https://api.github.com/users/zffchen78/followers", "following_url": "https://api.github.com/users/zffchen78/following{/other_user}", "gists_url": "https://api.github.com/users/zffchen78/gists{/gist_id}", "starred_url": "https://api.github.com/users/zffchen78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zffchen78/subscriptions", "organizations_url": "https://api.github.com/users/zffchen78/orgs", "repos_url": "https://api.github.com/users/zffchen78/repos", "events_url": "https://api.github.com/users/zffchen78/events{/privacy}", "received_events_url": "https://api.github.com/users/zffchen78/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2016-05-03T21:27:13Z", "updated_at": "2017-02-09T22:02:16Z", "closed_at": "2016-08-16T00:15:33Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hello, I'm trying to build a big word model, and I'm getting overflows in the corpus_size_ declared here<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/e39d8feebb9666a331345cd8d960f5ade4652bba/tensorflow/models/embedding/word2vec_kernels.cc#L119\">tensorflow/tensorflow/models/embedding/word2vec_kernels.cc</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 119\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/e39d8feebb9666a331345cd8d960f5ade4652bba\">e39d8fe</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L119\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"119\"></td>\n          <td id=\"LC119\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> int32 corpus_size_ = <span class=\"pl-c1\">0</span>; </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<p>The error is being thrown here:</p>\n<p><div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/e39d8feebb9666a331345cd8d960f5ade4652bba/tensorflow/models/embedding/word2vec_kernels.cc#L191\">tensorflow/tensorflow/models/embedding/word2vec_kernels.cc</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 191\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/e39d8feebb9666a331345cd8d960f5ade4652bba\">e39d8fe</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L191\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"191\"></td>\n          <td id=\"LC191\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">return</span> <span class=\"pl-c1\">errors::InvalidArgument</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>The text file <span class=\"pl-pds\">\"</span></span>, filename, </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<p>Because negative numbers are less than positive numbers. I'm going to change them to uint64 in my own build, if it doesn't cause problems should I make a PR?</p>", "body_text": "Hello, I'm trying to build a big word model, and I'm getting overflows in the corpus_size_ declared here\n\n  \n    \n      tensorflow/tensorflow/models/embedding/word2vec_kernels.cc\n    \n    \n         Line 119\n      in\n      e39d8fe\n    \n    \n    \n    \n\n        \n          \n           int32 corpus_size_ = 0; \n        \n    \n  \n\n\nThe error is being thrown here:\n\n  \n    \n      tensorflow/tensorflow/models/embedding/word2vec_kernels.cc\n    \n    \n         Line 191\n      in\n      e39d8fe\n    \n    \n    \n    \n\n        \n          \n           return errors::InvalidArgument(\"The text file \", filename, \n        \n    \n  \n\n\nBecause negative numbers are less than positive numbers. I'm going to change them to uint64 in my own build, if it doesn't cause problems should I make a PR?", "body": "Hello, I'm trying to build a big word model, and I'm getting overflows in the corpus_size_ declared here\nhttps://github.com/tensorflow/tensorflow/blob/e39d8feebb9666a331345cd8d960f5ade4652bba/tensorflow/models/embedding/word2vec_kernels.cc#L119\n\nThe error is being thrown here:\n\nhttps://github.com/tensorflow/tensorflow/blob/e39d8feebb9666a331345cd8d960f5ade4652bba/tensorflow/models/embedding/word2vec_kernels.cc#L191\n\nBecause negative numbers are less than positive numbers. I'm going to change them to uint64 in my own build, if it doesn't cause problems should I make a PR?\n"}