{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/353270670", "html_url": "https://github.com/tensorflow/tensorflow/issues/11239#issuecomment-353270670", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11239", "id": 353270670, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzI3MDY3MA==", "user": {"login": "JeremyCCHsu", "id": 16027371, "node_id": "MDQ6VXNlcjE2MDI3Mzcx", "avatar_url": "https://avatars2.githubusercontent.com/u/16027371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JeremyCCHsu", "html_url": "https://github.com/JeremyCCHsu", "followers_url": "https://api.github.com/users/JeremyCCHsu/followers", "following_url": "https://api.github.com/users/JeremyCCHsu/following{/other_user}", "gists_url": "https://api.github.com/users/JeremyCCHsu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JeremyCCHsu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JeremyCCHsu/subscriptions", "organizations_url": "https://api.github.com/users/JeremyCCHsu/orgs", "repos_url": "https://api.github.com/users/JeremyCCHsu/repos", "events_url": "https://api.github.com/users/JeremyCCHsu/events{/privacy}", "received_events_url": "https://api.github.com/users/JeremyCCHsu/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-21T06:39:26Z", "updated_at": "2017-12-21T06:39:26Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>Ubuntu 16.04</li>\n<li>Python 3.5</li>\n<li>TF 1.5.0-dev20171118</li>\n<li>GPU: Titan Xp</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I encountered a strange case.</p>\n<p>My training was fine on GPU 2 but when I train my model on GPU 1, TF always throw the following warning.</p>\n<pre><code>W tensorflow/core/framework/op_kernel.cc:1198] Failed precondition: GetNext() failed \nbecause the iterator has not been initialized. Ensure that you have run the initializer operation \nfor this iterator before getting the next element.\n</code></pre>\n<p>I used the same training script and I did run the initializer (I was using <code>tf.data.TFRecordDataset</code> with make <code>make_initializable_iterator</code>):</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">with</span> sv.managed_session(<span class=\"pl-v\">config</span><span class=\"pl-k\">=</span>sess_config) <span class=\"pl-k\">as</span> sess:\n    sess.run(data.iterator.initializer)</pre></div>\n<p>The most annoying thing is that I couldn't use Tensorboard to monitor the training (despite the warning, training proceeded).</p>\n<p>Not sure whether it is the place to report this bug-like behavior here...</p>", "body_text": "System information\n\nUbuntu 16.04\nPython 3.5\nTF 1.5.0-dev20171118\nGPU: Titan Xp\n\nDescribe the problem\nI encountered a strange case.\nMy training was fine on GPU 2 but when I train my model on GPU 1, TF always throw the following warning.\nW tensorflow/core/framework/op_kernel.cc:1198] Failed precondition: GetNext() failed \nbecause the iterator has not been initialized. Ensure that you have run the initializer operation \nfor this iterator before getting the next element.\n\nI used the same training script and I did run the initializer (I was using tf.data.TFRecordDataset with make make_initializable_iterator):\nwith sv.managed_session(config=sess_config) as sess:\n    sess.run(data.iterator.initializer)\nThe most annoying thing is that I couldn't use Tensorboard to monitor the training (despite the warning, training proceeded).\nNot sure whether it is the place to report this bug-like behavior here...", "body": "### System information\r\n- Ubuntu 16.04\r\n- Python 3.5\r\n- TF 1.5.0-dev20171118\r\n- GPU: Titan Xp\r\n\r\n### Describe the problem\r\nI encountered a strange case.\r\n\r\nMy training was fine on GPU 2 but when I train my model on GPU 1, TF always throw the following warning.\r\n```\r\nW tensorflow/core/framework/op_kernel.cc:1198] Failed precondition: GetNext() failed \r\nbecause the iterator has not been initialized. Ensure that you have run the initializer operation \r\nfor this iterator before getting the next element.\r\n```\r\n\r\nI used the same training script and I did run the initializer (I was using `tf.data.TFRecordDataset` with make `make_initializable_iterator`):\r\n```python\r\nwith sv.managed_session(config=sess_config) as sess:\r\n    sess.run(data.iterator.initializer)\r\n```\r\nThe most annoying thing is that I couldn't use Tensorboard to monitor the training (despite the warning, training proceeded). \r\n\r\nNot sure whether it is the place to report this bug-like behavior here..."}