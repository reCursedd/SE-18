{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/343552520", "html_url": "https://github.com/tensorflow/tensorflow/issues/14448#issuecomment-343552520", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14448", "id": 343552520, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzU1MjUyMA==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-10T18:38:21Z", "updated_at": "2017-11-10T18:38:21Z", "author_association": "CONTRIBUTOR", "body_html": "<p>It sounds like <code>Dataset.map()</code> and <code>tf.py_func()</code> are almost adequate for your needs, so I'd be more in favor of improving <code>tf.py_func()</code> to the point where it has the same feature set as <code>Dataset.from_generator()</code>. Approximately speaking, it would need support for nested structures as inputs and outputs, and optional shape hints. There might be some delicacy in doing this without breaking backwards compatibility, but it should be possible. (If not, we could add a new API in <code>tf.contrib</code> at first with the new support.)</p>\n<p>Marking this as contributions welcome.</p>", "body_text": "It sounds like Dataset.map() and tf.py_func() are almost adequate for your needs, so I'd be more in favor of improving tf.py_func() to the point where it has the same feature set as Dataset.from_generator(). Approximately speaking, it would need support for nested structures as inputs and outputs, and optional shape hints. There might be some delicacy in doing this without breaking backwards compatibility, but it should be possible. (If not, we could add a new API in tf.contrib at first with the new support.)\nMarking this as contributions welcome.", "body": "It sounds like `Dataset.map()` and `tf.py_func()` are almost adequate for your needs, so I'd be more in favor of improving `tf.py_func()` to the point where it has the same feature set as `Dataset.from_generator()`. Approximately speaking, it would need support for nested structures as inputs and outputs, and optional shape hints. There might be some delicacy in doing this without breaking backwards compatibility, but it should be possible. (If not, we could add a new API in `tf.contrib` at first with the new support.)\r\n\r\nMarking this as contributions welcome."}