{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4505", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4505/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4505/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4505/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4505", "id": 178284870, "node_id": "MDU6SXNzdWUxNzgyODQ4NzA=", "number": 4505, "title": "Pack error for SparseTensor", "user": {"login": "ludovic-pl", "id": 13780875, "node_id": "MDQ6VXNlcjEzNzgwODc1", "avatar_url": "https://avatars0.githubusercontent.com/u/13780875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ludovic-pl", "html_url": "https://github.com/ludovic-pl", "followers_url": "https://api.github.com/users/ludovic-pl/followers", "following_url": "https://api.github.com/users/ludovic-pl/following{/other_user}", "gists_url": "https://api.github.com/users/ludovic-pl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ludovic-pl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ludovic-pl/subscriptions", "organizations_url": "https://api.github.com/users/ludovic-pl/orgs", "repos_url": "https://api.github.com/users/ludovic-pl/repos", "events_url": "https://api.github.com/users/ludovic-pl/events{/privacy}", "received_events_url": "https://api.github.com/users/ludovic-pl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-21T08:51:41Z", "updated_at": "2016-09-23T03:17:20Z", "closed_at": "2016-09-23T03:17:20Z", "author_association": "NONE", "body_html": "<p>Hello,<br>\nI'm using the git version of tensorflow (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/a6c5f8e4e013e54fed8dfcf49fb6de365f018022/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/a6c5f8e4e013e54fed8dfcf49fb6de365f018022\"><tt>a6c5f8e</tt></a>) without CUDA<br>\nI'm on Ubuntu 16.04</p>\n<p>Does SparseTensor are considered as Tensor, because when i try to pack some of them, there is an error of conversion.</p>\n<pre><code>File \"/home/siniac/lplaton/Project/RNApred/src/python/BMKSOM.py\", line 31, in __init__\n    self.mksom_N = tf.pack([self.filter_op() for _ in range(self.b)])\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/ops/array_ops.py\", line 655, in pack\n    value_shape = ops.convert_to_tensor(values[0], name=name).get_shape()\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 657, in convert_to_tensor\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py\", line 180, in _constant_tensor_conversion_function\n    return constant(v, dtype=dtype, name=name)\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py\", line 163, in constant\n    tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape))\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py\", line 422, in make_tensor_proto\n    tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py\", line 422, in &lt;listcomp&gt;\n    tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/util/compat.py\", line 45, in as_bytes\n    (bytes_or_text,))\nTypeError: Expected binary or unicode string, got &lt;tensorflow.python.framework.ops.SparseTensor object at 0x7f6de596a390&gt;\n</code></pre>\n<p>NB: the filter_op() method product SparseTensor</p>", "body_text": "Hello,\nI'm using the git version of tensorflow (a6c5f8e) without CUDA\nI'm on Ubuntu 16.04\nDoes SparseTensor are considered as Tensor, because when i try to pack some of them, there is an error of conversion.\nFile \"/home/siniac/lplaton/Project/RNApred/src/python/BMKSOM.py\", line 31, in __init__\n    self.mksom_N = tf.pack([self.filter_op() for _ in range(self.b)])\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/ops/array_ops.py\", line 655, in pack\n    value_shape = ops.convert_to_tensor(values[0], name=name).get_shape()\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 657, in convert_to_tensor\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py\", line 180, in _constant_tensor_conversion_function\n    return constant(v, dtype=dtype, name=name)\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py\", line 163, in constant\n    tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape))\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py\", line 422, in make_tensor_proto\n    tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py\", line 422, in <listcomp>\n    tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/util/compat.py\", line 45, in as_bytes\n    (bytes_or_text,))\nTypeError: Expected binary or unicode string, got <tensorflow.python.framework.ops.SparseTensor object at 0x7f6de596a390>\n\nNB: the filter_op() method product SparseTensor", "body": "Hello, \nI'm using the git version of tensorflow (a6c5f8e4e013e54fed8dfcf49fb6de365f018022) without CUDA\nI'm on Ubuntu 16.04\n\nDoes SparseTensor are considered as Tensor, because when i try to pack some of them, there is an error of conversion.\n\n```\nFile \"/home/siniac/lplaton/Project/RNApred/src/python/BMKSOM.py\", line 31, in __init__\n    self.mksom_N = tf.pack([self.filter_op() for _ in range(self.b)])\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/ops/array_ops.py\", line 655, in pack\n    value_shape = ops.convert_to_tensor(values[0], name=name).get_shape()\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 657, in convert_to_tensor\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py\", line 180, in _constant_tensor_conversion_function\n    return constant(v, dtype=dtype, name=name)\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/constant_op.py\", line 163, in constant\n    tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape))\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py\", line 422, in make_tensor_proto\n    tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/framework/tensor_util.py\", line 422, in <listcomp>\n    tensor_proto.string_val.extend([compat.as_bytes(x) for x in proto_values])\n  File \"/home/siniac/lplaton/.virtualenvs/tensorflow_py3/lib/python3.5/site-packages/tensorflow/python/util/compat.py\", line 45, in as_bytes\n    (bytes_or_text,))\nTypeError: Expected binary or unicode string, got <tensorflow.python.framework.ops.SparseTensor object at 0x7f6de596a390>\n```\n\nNB: the filter_op() method product SparseTensor \n"}