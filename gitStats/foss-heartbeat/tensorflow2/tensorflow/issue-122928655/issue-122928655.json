{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/547", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/547/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/547/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/547/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/547", "id": 122928655, "node_id": "MDU6SXNzdWUxMjI5Mjg2NTU=", "number": 547, "title": "Tensorflow MaxPool doesn't accept float64", "user": {"login": "ketabdarhamed", "id": 15122196, "node_id": "MDQ6VXNlcjE1MTIyMTk2", "avatar_url": "https://avatars0.githubusercontent.com/u/15122196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ketabdarhamed", "html_url": "https://github.com/ketabdarhamed", "followers_url": "https://api.github.com/users/ketabdarhamed/followers", "following_url": "https://api.github.com/users/ketabdarhamed/following{/other_user}", "gists_url": "https://api.github.com/users/ketabdarhamed/gists{/gist_id}", "starred_url": "https://api.github.com/users/ketabdarhamed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ketabdarhamed/subscriptions", "organizations_url": "https://api.github.com/users/ketabdarhamed/orgs", "repos_url": "https://api.github.com/users/ketabdarhamed/repos", "events_url": "https://api.github.com/users/ketabdarhamed/events{/privacy}", "received_events_url": "https://api.github.com/users/ketabdarhamed/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2015-12-18T11:05:36Z", "updated_at": "2017-06-16T18:02:58Z", "closed_at": "2017-06-16T18:02:58Z", "author_association": "NONE", "body_html": "<p>I am using Tensorflow to train a CNN. I am currently basing my calculations on Float32 which is kind of default at the time of initialising variables.</p>\n<p>I guessed that by using float64as my dtype I can get more accurate results so I changed the initilization of my varibales as follows:</p>\n<p><code>w1 = tf.Variable(tf.random_normal([5, 5, 3, 64], stddev=0.1, dtype=tf.float64))</code><br>\nBut I get following error in the maxpooloperation: I chacked the maxpooldocumentation and it accept value type as follow: <code>value: A 4-D Tensor with shape [batch, height, width, channels] and type float32, float64, qint8, quint8, qint32.</code></p>\n<p>But I get the following error. Is this a bug or I'm doing something wrong?</p>\n<p><code>Input 'input' of 'MaxPool' Op has type float64 that does not match expected type of float32.</code></p>\n<p>Full trace:</p>\n<div class=\"highlight highlight-source-python\"><pre>Traceback (most recent call last):\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/hamedketabdar/LearningTensorFlow/CIFAR-Khodam/convolutional_network_batch_2d2c_clean_64f.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">213</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    pred <span class=\"pl-k\">=</span> conv_net(x, weights, biases, keep_prob)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/hamedketabdar/LearningTensorFlow/CIFAR-Khodam/convolutional_network_batch_2d2c_clean_64f.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">153</span>, <span class=\"pl-k\">in</span> conv_net\n    conv1 <span class=\"pl-k\">=</span> max_pool(conv1, <span class=\"pl-v\">k</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">2</span>) <span class=\"pl-c\"><span class=\"pl-c\">#</span> Normally K=2</span>\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/hamedketabdar/LearningTensorFlow/CIFAR-Khodam/convolutional_network_batch_2d2c_clean_64f.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">135</span>, <span class=\"pl-k\">in</span> max_pool\n    <span class=\"pl-k\">return</span> tf.nn.max_pool(img, <span class=\"pl-v\">ksize</span><span class=\"pl-k\">=</span>[<span class=\"pl-c1\">1</span>, k, k, <span class=\"pl-c1\">1</span>], <span class=\"pl-v\">strides</span><span class=\"pl-k\">=</span>[<span class=\"pl-c1\">1</span>, k, k, <span class=\"pl-c1\">1</span>], <span class=\"pl-v\">padding</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>SAME<span class=\"pl-pds\">'</span></span>)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/nn_ops.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">235</span>, <span class=\"pl-k\">in</span> max_pool\n    name<span class=\"pl-k\">=</span>name)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">449</span>, <span class=\"pl-k\">in</span> _max_pool\n    strides<span class=\"pl-k\">=</span>strides, padding<span class=\"pl-k\">=</span>padding, name<span class=\"pl-k\">=</span>name)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">430</span>, <span class=\"pl-k\">in</span> apply_op\n    (prefix, dtypes.as_dtype(input_arg.type).name))\n<span class=\"pl-c1\">TypeError</span>: Input <span class=\"pl-s\"><span class=\"pl-pds\">'</span>input<span class=\"pl-pds\">'</span></span> of <span class=\"pl-s\"><span class=\"pl-pds\">'</span>MaxPool<span class=\"pl-pds\">'</span></span> Op has <span class=\"pl-c1\">type</span> float64 that does <span class=\"pl-k\">not</span> match expected <span class=\"pl-c1\">type</span> of float32.</pre></div>\n<p>stackoverflow link: <a href=\"http://stackoverflow.com/questions/34354126/tensorflow-maxpool-doesnt-accept-float64\" rel=\"nofollow\">http://stackoverflow.com/questions/34354126/tensorflow-maxpool-doesnt-accept-float64</a></p>", "body_text": "I am using Tensorflow to train a CNN. I am currently basing my calculations on Float32 which is kind of default at the time of initialising variables.\nI guessed that by using float64as my dtype I can get more accurate results so I changed the initilization of my varibales as follows:\nw1 = tf.Variable(tf.random_normal([5, 5, 3, 64], stddev=0.1, dtype=tf.float64))\nBut I get following error in the maxpooloperation: I chacked the maxpooldocumentation and it accept value type as follow: value: A 4-D Tensor with shape [batch, height, width, channels] and type float32, float64, qint8, quint8, qint32.\nBut I get the following error. Is this a bug or I'm doing something wrong?\nInput 'input' of 'MaxPool' Op has type float64 that does not match expected type of float32.\nFull trace:\nTraceback (most recent call last):\n  File \"/Users/hamedketabdar/LearningTensorFlow/CIFAR-Khodam/convolutional_network_batch_2d2c_clean_64f.py\", line 213, in <module>\n    pred = conv_net(x, weights, biases, keep_prob)\n  File \"/Users/hamedketabdar/LearningTensorFlow/CIFAR-Khodam/convolutional_network_batch_2d2c_clean_64f.py\", line 153, in conv_net\n    conv1 = max_pool(conv1, k=2) # Normally K=2\n  File \"/Users/hamedketabdar/LearningTensorFlow/CIFAR-Khodam/convolutional_network_batch_2d2c_clean_64f.py\", line 135, in max_pool\n    return tf.nn.max_pool(img, ksize=[1, k, k, 1], strides=[1, k, k, 1], padding='SAME')\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 235, in max_pool\n    name=name)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 449, in _max_pool\n    strides=strides, padding=padding, name=name)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 430, in apply_op\n    (prefix, dtypes.as_dtype(input_arg.type).name))\nTypeError: Input 'input' of 'MaxPool' Op has type float64 that does not match expected type of float32.\nstackoverflow link: http://stackoverflow.com/questions/34354126/tensorflow-maxpool-doesnt-accept-float64", "body": "I am using Tensorflow to train a CNN. I am currently basing my calculations on Float32 which is kind of default at the time of initialising variables.\n\nI guessed that by using float64as my dtype I can get more accurate results so I changed the initilization of my varibales as follows:\n\n`w1 = tf.Variable(tf.random_normal([5, 5, 3, 64], stddev=0.1, dtype=tf.float64))`\nBut I get following error in the maxpooloperation: I chacked the maxpooldocumentation and it accept value type as follow: `value: A 4-D Tensor with shape [batch, height, width, channels] and type float32, float64, qint8, quint8, qint32.`\n\nBut I get the following error. Is this a bug or I'm doing something wrong?\n\n`Input 'input' of 'MaxPool' Op has type float64 that does not match expected type of float32.`\n\nFull trace:\n\n``` python\nTraceback (most recent call last):\n  File \"/Users/hamedketabdar/LearningTensorFlow/CIFAR-Khodam/convolutional_network_batch_2d2c_clean_64f.py\", line 213, in <module>\n    pred = conv_net(x, weights, biases, keep_prob)\n  File \"/Users/hamedketabdar/LearningTensorFlow/CIFAR-Khodam/convolutional_network_batch_2d2c_clean_64f.py\", line 153, in conv_net\n    conv1 = max_pool(conv1, k=2) # Normally K=2\n  File \"/Users/hamedketabdar/LearningTensorFlow/CIFAR-Khodam/convolutional_network_batch_2d2c_clean_64f.py\", line 135, in max_pool\n    return tf.nn.max_pool(img, ksize=[1, k, k, 1], strides=[1, k, k, 1], padding='SAME')\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 235, in max_pool\n    name=name)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 449, in _max_pool\n    strides=strides, padding=padding, name=name)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 430, in apply_op\n    (prefix, dtypes.as_dtype(input_arg.type).name))\nTypeError: Input 'input' of 'MaxPool' Op has type float64 that does not match expected type of float32.\n```\n\nstackoverflow link: http://stackoverflow.com/questions/34354126/tensorflow-maxpool-doesnt-accept-float64\n"}