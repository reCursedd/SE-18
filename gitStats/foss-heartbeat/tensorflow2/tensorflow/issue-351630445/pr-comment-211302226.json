{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/211302226", "pull_request_review_id": 147694229, "id": 211302226, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMTMwMjIyNg==", "diff_hunk": "@@ -2177,7 +2184,8 @@ tf_kernel_library(\n tf_kernel_library(\n     name = \"crop_and_resize_op\",\n     prefix = \"crop_and_resize_op\",\n-    deps = IMAGE_DEPS,\n+    copts = tf_copts() + if_linux_x86_64([\"-msse4.1\"]),", "path": "tensorflow/core/kernels/BUILD", "position": null, "original_position": 26, "commit_id": "2bef68f68bb6dbbefee151ea853b92ac17bb5acc", "original_commit_id": "eecaed98a7b2b28cef76f6de55e173f490cb70f3", "user": {"login": "nluehr", "id": 1873655, "node_id": "MDQ6VXNlcjE4NzM2NTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1873655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nluehr", "html_url": "https://github.com/nluehr", "followers_url": "https://api.github.com/users/nluehr/followers", "following_url": "https://api.github.com/users/nluehr/following{/other_user}", "gists_url": "https://api.github.com/users/nluehr/gists{/gist_id}", "starred_url": "https://api.github.com/users/nluehr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nluehr/subscriptions", "organizations_url": "https://api.github.com/users/nluehr/orgs", "repos_url": "https://api.github.com/users/nluehr/repos", "events_url": "https://api.github.com/users/nluehr/events{/privacy}", "received_events_url": "https://api.github.com/users/nluehr/received_events", "type": "User", "site_admin": false}, "body": "There is a fallback in the new code if you compile without sse4.1 instructions enabled. It should work on all x86-64 CPUs, even antiquated ones. The fallback is slower than the sse4.1 code path, but it is still faster than the code it replaces.\r\n\r\nDefaulting to sse 4.1 in the build files was done following the precedent at https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/BUILD#L2130", "created_at": "2018-08-20T15:22:11Z", "updated_at": "2018-11-05T16:08:34Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/21681#discussion_r211302226", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21681", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/211302226"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/21681#discussion_r211302226"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21681"}}, "body_html": "<p>There is a fallback in the new code if you compile without sse4.1 instructions enabled. It should work on all x86-64 CPUs, even antiquated ones. The fallback is slower than the sse4.1 code path, but it is still faster than the code it replaces.</p>\n<p>Defaulting to sse 4.1 in the build files was done following the precedent at <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/BUILD#L2130\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/BUILD#L2130</a></p>", "body_text": "There is a fallback in the new code if you compile without sse4.1 instructions enabled. It should work on all x86-64 CPUs, even antiquated ones. The fallback is slower than the sse4.1 code path, but it is still faster than the code it replaces.\nDefaulting to sse 4.1 in the build files was done following the precedent at https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/BUILD#L2130", "in_reply_to_id": 210953166}