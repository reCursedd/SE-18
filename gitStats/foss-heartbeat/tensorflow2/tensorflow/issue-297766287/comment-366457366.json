{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/366457366", "html_url": "https://github.com/tensorflow/tensorflow/issues/17067#issuecomment-366457366", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17067", "id": 366457366, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjQ1NzM2Ng==", "user": {"login": "apiszcz", "id": 1430861, "node_id": "MDQ6VXNlcjE0MzA4NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1430861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apiszcz", "html_url": "https://github.com/apiszcz", "followers_url": "https://api.github.com/users/apiszcz/followers", "following_url": "https://api.github.com/users/apiszcz/following{/other_user}", "gists_url": "https://api.github.com/users/apiszcz/gists{/gist_id}", "starred_url": "https://api.github.com/users/apiszcz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apiszcz/subscriptions", "organizations_url": "https://api.github.com/users/apiszcz/orgs", "repos_url": "https://api.github.com/users/apiszcz/repos", "events_url": "https://api.github.com/users/apiszcz/events{/privacy}", "received_events_url": "https://api.github.com/users/apiszcz/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-17T17:34:35Z", "updated_at": "2018-02-17T17:46:52Z", "author_association": "NONE", "body_html": "<p>After a few more trials, i am seeing that error 4 times,</p>\n<p>more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\"</p>\n<p>Here is the code section from arena.h: (line 719 called out in the error message) in the first return below</p>\n<pre><code>  // CreateMessage&lt;T&gt; requires that T supports arenas, but this private method\n  // works whether or not T supports arenas. These are not exposed to user code\n  // as it can cause confusing API usages, and end up having double free in\n  // user code. These are used only internally from LazyField and Repeated\n  // fields, since they are designed to work in all mode combinations.\n  template &lt;typename Msg&gt; GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\n  static Msg* CreateMaybeMessage(Arena* arena, google::protobuf::internal::true_type) {\n    return CreateMessageInternal&lt;Msg&gt;(arena);\n  }\n\n  template &lt;typename T&gt; GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\n  static T* CreateMaybeMessage(Arena* arena, google::protobuf::internal::false_type) {\n    return CreateInternal&lt;T&gt;(arena);\n  }\n\n  template &lt;typename T&gt; GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\n  static T* CreateMaybeMessage(Arena* arena) {\n    return CreateMaybeMessage&lt;T&gt;(arena, is_arena_constructable&lt;T&gt;());\n  }\n\n  // Just allocate the required size for the given type assuming the\n  // type has a trivial constructor.\n  template&lt;typename T&gt; GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\n  T* CreateInternalRawArray(size_t num_elements) {\n    GOOGLE_CHECK_LE(num_elements,\n             std::numeric_limits&lt;size_t&gt;::max() / sizeof(T))\n        &lt;&lt; \"Requested size is too large to fit into size_t.\";\n    const size_t n = internal::AlignUpTo8(sizeof(T) * num_elements);\n    // Monitor allocation if needed.\n    AllocHook(RTTI_TYPE_ID(T), n);\n    return static_cast&lt;T*&gt;(impl_.AllocateAligned(n));\n  }\n\n</code></pre>\n<pre><code>     ```\n</code></pre>\n<p>C:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]<br>\nC:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]<br>\nC:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]<br>\nC:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]</p>\n<pre><code></code></pre>", "body_text": "After a few more trials, i am seeing that error 4 times,\nmore than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\"\nHere is the code section from arena.h: (line 719 called out in the error message) in the first return below\n  // CreateMessage<T> requires that T supports arenas, but this private method\n  // works whether or not T supports arenas. These are not exposed to user code\n  // as it can cause confusing API usages, and end up having double free in\n  // user code. These are used only internally from LazyField and Repeated\n  // fields, since they are designed to work in all mode combinations.\n  template <typename Msg> GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\n  static Msg* CreateMaybeMessage(Arena* arena, google::protobuf::internal::true_type) {\n    return CreateMessageInternal<Msg>(arena);\n  }\n\n  template <typename T> GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\n  static T* CreateMaybeMessage(Arena* arena, google::protobuf::internal::false_type) {\n    return CreateInternal<T>(arena);\n  }\n\n  template <typename T> GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\n  static T* CreateMaybeMessage(Arena* arena) {\n    return CreateMaybeMessage<T>(arena, is_arena_constructable<T>());\n  }\n\n  // Just allocate the required size for the given type assuming the\n  // type has a trivial constructor.\n  template<typename T> GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\n  T* CreateInternalRawArray(size_t num_elements) {\n    GOOGLE_CHECK_LE(num_elements,\n             std::numeric_limits<size_t>::max() / sizeof(T))\n        << \"Requested size is too large to fit into size_t.\";\n    const size_t n = internal::AlignUpTo8(sizeof(T) * num_elements);\n    // Monitor allocation if needed.\n    AllocHook(RTTI_TYPE_ID(T), n);\n    return static_cast<T*>(impl_.AllocateAligned(n));\n  }\n\n\n     ```\n\nC:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]\nC:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]\nC:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]\nC:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]", "body": "After a few more trials, i am seeing that error 4 times, \r\n\r\nmore than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" \r\n\r\nHere is the code section from arena.h: (line 719 called out in the error message) in the first return below\r\n```\r\n  // CreateMessage<T> requires that T supports arenas, but this private method\r\n  // works whether or not T supports arenas. These are not exposed to user code\r\n  // as it can cause confusing API usages, and end up having double free in\r\n  // user code. These are used only internally from LazyField and Repeated\r\n  // fields, since they are designed to work in all mode combinations.\r\n  template <typename Msg> GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\r\n  static Msg* CreateMaybeMessage(Arena* arena, google::protobuf::internal::true_type) {\r\n    return CreateMessageInternal<Msg>(arena);\r\n  }\r\n\r\n  template <typename T> GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\r\n  static T* CreateMaybeMessage(Arena* arena, google::protobuf::internal::false_type) {\r\n    return CreateInternal<T>(arena);\r\n  }\r\n\r\n  template <typename T> GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\r\n  static T* CreateMaybeMessage(Arena* arena) {\r\n    return CreateMaybeMessage<T>(arena, is_arena_constructable<T>());\r\n  }\r\n\r\n  // Just allocate the required size for the given type assuming the\r\n  // type has a trivial constructor.\r\n  template<typename T> GOOGLE_PROTOBUF_ATTRIBUTE_ALWAYS_INLINE\r\n  T* CreateInternalRawArray(size_t num_elements) {\r\n    GOOGLE_CHECK_LE(num_elements,\r\n             std::numeric_limits<size_t>::max() / sizeof(T))\r\n        << \"Requested size is too large to fit into size_t.\";\r\n    const size_t n = internal::AlignUpTo8(sizeof(T) * num_elements);\r\n    // Monitor allocation if needed.\r\n    AllocHook(RTTI_TYPE_ID(T), n);\r\n    return static_cast<T*>(impl_.AllocateAligned(n));\r\n  }\r\n\r\n```\r\n\r\n\r\n         ```\r\nC:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]\r\n         C:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]\r\n         C:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]\r\n         C:/g/tensorflow/tensorflow/tensorflow/contrib/cmake/build/protobuf/src/protobuf/src\\google/protobuf/arena.h(719): error : more than one instance of overloaded function \"google::protobuf::Arena::CreateMessageInternal\" matches the argument list: [C:\\g\\tensorflow\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_gpu_kernels.vcxproj]\r\n```\r\n"}