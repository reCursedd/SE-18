{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/432908475", "html_url": "https://github.com/tensorflow/tensorflow/issues/17067#issuecomment-432908475", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17067", "id": 432908475, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjkwODQ3NQ==", "user": {"login": "cc112358", "id": 13845295, "node_id": "MDQ6VXNlcjEzODQ1Mjk1", "avatar_url": "https://avatars3.githubusercontent.com/u/13845295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cc112358", "html_url": "https://github.com/cc112358", "followers_url": "https://api.github.com/users/cc112358/followers", "following_url": "https://api.github.com/users/cc112358/following{/other_user}", "gists_url": "https://api.github.com/users/cc112358/gists{/gist_id}", "starred_url": "https://api.github.com/users/cc112358/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cc112358/subscriptions", "organizations_url": "https://api.github.com/users/cc112358/orgs", "repos_url": "https://api.github.com/users/cc112358/repos", "events_url": "https://api.github.com/users/cc112358/events{/privacy}", "received_events_url": "https://api.github.com/users/cc112358/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-25T04:13:08Z", "updated_at": "2018-10-25T04:13:08Z", "author_association": "NONE", "body_html": "<blockquote>\n<p>I believe @dtrebbien has removed his repo. If you need a protobuf version that will compile, use mine:</p>\n<div class=\"highlight highlight-source-diff\"><pre>   tf_http_archive(\n       name = \"protobuf_archive\",\n       urls = [\n<span class=\"pl-md\"><span class=\"pl-md\">-</span>          \"https://mirror.bazel.build/github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",</span>\n<span class=\"pl-md\"><span class=\"pl-md\">-</span>          \"https://github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>          \"https://mirror.bazel.build/github.com/dinever/protobuf/archive/188578878eff18c2148baba0e116d87ce8f49410.tar.gz\",</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>          \"https://github.com/dinever/protobuf/archive/188578878eff18c2148baba0e116d87ce8f49410.tar.gz\",</span>\n       ],\n<span class=\"pl-md\"><span class=\"pl-md\">-</span>      sha256 = \"846d907acf472ae233ec0882ef3a2d24edbbe834b80c305e867ac65a1f2c59e3\",</span>\n<span class=\"pl-md\"><span class=\"pl-md\">-</span>      strip_prefix = \"protobuf-396336eb961b75f03b25824fe86cf6490fb75e3a\",</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>      sha256 = \"7a1d96ccdf7131535828cad737a76fd65ed766e9511e468d0daa3cc4f3db5175\",</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>      strip_prefix = \"protobuf-188578878eff18c2148baba0e116d87ce8f49410\",</span>\n   )</pre></div>\n</blockquote>\n<p>I have got the following error after replacing the tf_http_archive you posted.</p>\n<p>error: patch failed: tensorflow/core/common_runtime/gpu/gpu_device.cc:920<br>\nerror: tensorflow/core/common_runtime/gpu/gpu_device.cc: patch does not apply<br>\nerror: patch failed: tensorflow/core/framework/variant.h:152<br>\nerror: tensorflow/core/framework/variant.h: patch does not apply<br>\nerror: patch failed: tensorflow/core/grappler/clusters/utils.cc:124<br>\nerror: tensorflow/core/grappler/clusters/utils.cc: patch does not apply<br>\nerror: patch failed: tensorflow/core/kernels/bucketize_op_gpu.cu.cc:39<br>\nerror: tensorflow/core/kernels/bucketize_op_gpu.cu.cc: patch does not apply<br>\nerror: patch failed: tensorflow/core/kernels/concat_lib_gpu_impl.cu.cc:69<br>\nerror: tensorflow/core/kernels/concat_lib_gpu_impl.cu.cc: patch does not apply<br>\nerror: patch failed: tensorflow/core/kernels/depthwise_conv_op_gpu.cu.cc:172<br>\nerror: tensorflow/core/kernels/depthwise_conv_op_gpu.cu.cc: patch does not apply<br>\nerror: patch failed: tensorflow/core/kernels/split_lib_gpu.cu.cc:121<br>\nerror: tensorflow/core/kernels/split_lib_gpu.cu.cc: patch does not apply<br>\nerror: patch failed: tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:856<br>\nerror: tensorflow/stream_executor/cuda/cuda_gpu_executor.cc: patch does not apply<br>\nerror: patch failed: tensorflow/workspace.bzl:330<br>\nerror: tensorflow/workspace.bzl: patch does not apply<br>\nerror: patch failed: third_party/gpus/cuda/BUILD.tpl:110<br>\nerror: third_party/gpus/cuda/BUILD.tpl: patch does not apply</p>", "body_text": "I believe @dtrebbien has removed his repo. If you need a protobuf version that will compile, use mine:\n   tf_http_archive(\n       name = \"protobuf_archive\",\n       urls = [\n-          \"https://mirror.bazel.build/github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\n-          \"https://github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\n+          \"https://mirror.bazel.build/github.com/dinever/protobuf/archive/188578878eff18c2148baba0e116d87ce8f49410.tar.gz\",\n+          \"https://github.com/dinever/protobuf/archive/188578878eff18c2148baba0e116d87ce8f49410.tar.gz\",\n       ],\n-      sha256 = \"846d907acf472ae233ec0882ef3a2d24edbbe834b80c305e867ac65a1f2c59e3\",\n-      strip_prefix = \"protobuf-396336eb961b75f03b25824fe86cf6490fb75e3a\",\n+      sha256 = \"7a1d96ccdf7131535828cad737a76fd65ed766e9511e468d0daa3cc4f3db5175\",\n+      strip_prefix = \"protobuf-188578878eff18c2148baba0e116d87ce8f49410\",\n   )\n\nI have got the following error after replacing the tf_http_archive you posted.\nerror: patch failed: tensorflow/core/common_runtime/gpu/gpu_device.cc:920\nerror: tensorflow/core/common_runtime/gpu/gpu_device.cc: patch does not apply\nerror: patch failed: tensorflow/core/framework/variant.h:152\nerror: tensorflow/core/framework/variant.h: patch does not apply\nerror: patch failed: tensorflow/core/grappler/clusters/utils.cc:124\nerror: tensorflow/core/grappler/clusters/utils.cc: patch does not apply\nerror: patch failed: tensorflow/core/kernels/bucketize_op_gpu.cu.cc:39\nerror: tensorflow/core/kernels/bucketize_op_gpu.cu.cc: patch does not apply\nerror: patch failed: tensorflow/core/kernels/concat_lib_gpu_impl.cu.cc:69\nerror: tensorflow/core/kernels/concat_lib_gpu_impl.cu.cc: patch does not apply\nerror: patch failed: tensorflow/core/kernels/depthwise_conv_op_gpu.cu.cc:172\nerror: tensorflow/core/kernels/depthwise_conv_op_gpu.cu.cc: patch does not apply\nerror: patch failed: tensorflow/core/kernels/split_lib_gpu.cu.cc:121\nerror: tensorflow/core/kernels/split_lib_gpu.cu.cc: patch does not apply\nerror: patch failed: tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:856\nerror: tensorflow/stream_executor/cuda/cuda_gpu_executor.cc: patch does not apply\nerror: patch failed: tensorflow/workspace.bzl:330\nerror: tensorflow/workspace.bzl: patch does not apply\nerror: patch failed: third_party/gpus/cuda/BUILD.tpl:110\nerror: third_party/gpus/cuda/BUILD.tpl: patch does not apply", "body": "> I believe @dtrebbien has removed his repo. If you need a protobuf version that will compile, use mine:\r\n> \r\n> ```diff\r\n>    tf_http_archive(\r\n>        name = \"protobuf_archive\",\r\n>        urls = [\r\n> -          \"https://mirror.bazel.build/github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\r\n> -          \"https://github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\r\n> +          \"https://mirror.bazel.build/github.com/dinever/protobuf/archive/188578878eff18c2148baba0e116d87ce8f49410.tar.gz\",\r\n> +          \"https://github.com/dinever/protobuf/archive/188578878eff18c2148baba0e116d87ce8f49410.tar.gz\",\r\n>        ],\r\n> -      sha256 = \"846d907acf472ae233ec0882ef3a2d24edbbe834b80c305e867ac65a1f2c59e3\",\r\n> -      strip_prefix = \"protobuf-396336eb961b75f03b25824fe86cf6490fb75e3a\",\r\n> +      sha256 = \"7a1d96ccdf7131535828cad737a76fd65ed766e9511e468d0daa3cc4f3db5175\",\r\n> +      strip_prefix = \"protobuf-188578878eff18c2148baba0e116d87ce8f49410\",\r\n>    )\r\n> ```\r\n\r\nI have got the following error after replacing the tf_http_archive you posted.\r\n\r\nerror: patch failed: tensorflow/core/common_runtime/gpu/gpu_device.cc:920\r\nerror: tensorflow/core/common_runtime/gpu/gpu_device.cc: patch does not apply\r\nerror: patch failed: tensorflow/core/framework/variant.h:152\r\nerror: tensorflow/core/framework/variant.h: patch does not apply\r\nerror: patch failed: tensorflow/core/grappler/clusters/utils.cc:124\r\nerror: tensorflow/core/grappler/clusters/utils.cc: patch does not apply\r\nerror: patch failed: tensorflow/core/kernels/bucketize_op_gpu.cu.cc:39\r\nerror: tensorflow/core/kernels/bucketize_op_gpu.cu.cc: patch does not apply\r\nerror: patch failed: tensorflow/core/kernels/concat_lib_gpu_impl.cu.cc:69\r\nerror: tensorflow/core/kernels/concat_lib_gpu_impl.cu.cc: patch does not apply\r\nerror: patch failed: tensorflow/core/kernels/depthwise_conv_op_gpu.cu.cc:172\r\nerror: tensorflow/core/kernels/depthwise_conv_op_gpu.cu.cc: patch does not apply\r\nerror: patch failed: tensorflow/core/kernels/split_lib_gpu.cu.cc:121\r\nerror: tensorflow/core/kernels/split_lib_gpu.cu.cc: patch does not apply\r\nerror: patch failed: tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:856\r\nerror: tensorflow/stream_executor/cuda/cuda_gpu_executor.cc: patch does not apply\r\nerror: patch failed: tensorflow/workspace.bzl:330\r\nerror: tensorflow/workspace.bzl: patch does not apply\r\nerror: patch failed: third_party/gpus/cuda/BUILD.tpl:110\r\nerror: third_party/gpus/cuda/BUILD.tpl: patch does not apply"}