{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19877", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19877/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19877/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19877/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19877", "id": 330893507, "node_id": "MDU6SXNzdWUzMzA4OTM1MDc=", "number": 19877, "title": "Incompatibility between Estimator evaluation and BestExporter in 1.9.0-rc0 (cherry-pick request)", "user": {"login": "guillaumekln", "id": 4805513, "node_id": "MDQ6VXNlcjQ4MDU1MTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/4805513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guillaumekln", "html_url": "https://github.com/guillaumekln", "followers_url": "https://api.github.com/users/guillaumekln/followers", "following_url": "https://api.github.com/users/guillaumekln/following{/other_user}", "gists_url": "https://api.github.com/users/guillaumekln/gists{/gist_id}", "starred_url": "https://api.github.com/users/guillaumekln/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guillaumekln/subscriptions", "organizations_url": "https://api.github.com/users/guillaumekln/orgs", "repos_url": "https://api.github.com/users/guillaumekln/repos", "events_url": "https://api.github.com/users/guillaumekln/events{/privacy}", "received_events_url": "https://api.github.com/users/guillaumekln/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-06-09T14:52:44Z", "updated_at": "2018-06-14T13:19:12Z", "closed_at": "2018-06-14T13:19:12Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code</strong>: Yes</li>\n<li><strong>OS Platform and Distribution</strong>: Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from</strong>: binary</li>\n<li><strong>TensorFlow version</strong>: <code>1.9.0-rc0</code></li>\n<li><strong>Python version</strong>:  2.7</li>\n<li><strong>Bazel version</strong>: N/A</li>\n<li><strong>GCC/Compiler version</strong>: N/A</li>\n<li><strong>CUDA/cuDNN version</strong>: 9.0</li>\n<li><strong>GPU model and memory</strong>: GTX 1060 (6GB)</li>\n<li><strong>Exact command to reproduce</strong>: N/A</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Sorry if that is already planned, but this fix <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/ece5f512538f66b69db52b8a5b6f9669ae10a3d9/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/ece5f512538f66b69db52b8a5b6f9669ae10a3d9\"><tt>ece5f51</tt></a> should be part of the 1.9 release for the <code>tf.estimator.BestExporter</code> to work. The incompatibility was introduced by <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/b183563d0bfed9fce2b623b3bff3fa3bdeccad54/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/b183563d0bfed9fce2b623b3bff3fa3bdeccad54\"><tt>b183563</tt></a> (released in <code>1.9.0-rc0</code>) which writes the checkpoint path in the event file, a case not handled by the <code>BestExporter</code> that always fails with error below.</p>\n<h3>Source code / logs</h3>\n<pre lang=\"text\"><code>  File \"&lt;python&gt;/local/lib/python2.7/site-packages/tensorflow/python/estimator/exporter.py\", line 156, in _loss_smaller\n    'current_eval_result cannot be empty or no loss is found in it.')\nValueError: current_eval_result cannot be empty or no loss is found in it.\n</code></pre>\n<p>Thanks!</p>", "body_text": "System information\n\nHave I written custom code: Yes\nOS Platform and Distribution: Linux Ubuntu 16.04\nTensorFlow installed from: binary\nTensorFlow version: 1.9.0-rc0\nPython version:  2.7\nBazel version: N/A\nGCC/Compiler version: N/A\nCUDA/cuDNN version: 9.0\nGPU model and memory: GTX 1060 (6GB)\nExact command to reproduce: N/A\n\nDescribe the problem\nSorry if that is already planned, but this fix ece5f51 should be part of the 1.9 release for the tf.estimator.BestExporter to work. The incompatibility was introduced by b183563 (released in 1.9.0-rc0) which writes the checkpoint path in the event file, a case not handled by the BestExporter that always fails with error below.\nSource code / logs\n  File \"<python>/local/lib/python2.7/site-packages/tensorflow/python/estimator/exporter.py\", line 156, in _loss_smaller\n    'current_eval_result cannot be empty or no loss is found in it.')\nValueError: current_eval_result cannot be empty or no loss is found in it.\n\nThanks!", "body": "### System information\r\n- **Have I written custom code**: Yes\r\n- **OS Platform and Distribution**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from**: binary\r\n- **TensorFlow version**: `1.9.0-rc0`\r\n- **Python version**:  2.7\r\n- **Bazel version**: N/A\r\n- **GCC/Compiler version**: N/A\r\n- **CUDA/cuDNN version**: 9.0\r\n- **GPU model and memory**: GTX 1060 (6GB)\r\n- **Exact command to reproduce**: N/A\r\n\r\n### Describe the problem\r\nSorry if that is already planned, but this fix https://github.com/tensorflow/tensorflow/commit/ece5f512538f66b69db52b8a5b6f9669ae10a3d9 should be part of the 1.9 release for the `tf.estimator.BestExporter` to work. The incompatibility was introduced by https://github.com/tensorflow/tensorflow/commit/b183563d0bfed9fce2b623b3bff3fa3bdeccad54 (released in `1.9.0-rc0`) which writes the checkpoint path in the event file, a case not handled by the `BestExporter` that always fails with error below.\r\n\r\n### Source code / logs\r\n```text\r\n  File \"<python>/local/lib/python2.7/site-packages/tensorflow/python/estimator/exporter.py\", line 156, in _loss_smaller\r\n    'current_eval_result cannot be empty or no loss is found in it.')\r\nValueError: current_eval_result cannot be empty or no loss is found in it.\r\n```\r\n\r\nThanks!"}