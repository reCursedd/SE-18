{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7528", "id": 106310463, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA2MzEwNDYz", "html_url": "https://github.com/tensorflow/tensorflow/pull/7528", "diff_url": "https://github.com/tensorflow/tensorflow/pull/7528.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/7528.patch", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7528", "number": 7528, "state": "closed", "locked": false, "title": "Fix GetDsoHandle segfault", "user": {"login": "wrmsr", "id": 559096, "node_id": "MDQ6VXNlcjU1OTA5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/559096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wrmsr", "html_url": "https://github.com/wrmsr", "followers_url": "https://api.github.com/users/wrmsr/followers", "following_url": "https://api.github.com/users/wrmsr/following{/other_user}", "gists_url": "https://api.github.com/users/wrmsr/gists{/gist_id}", "starred_url": "https://api.github.com/users/wrmsr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wrmsr/subscriptions", "organizations_url": "https://api.github.com/users/wrmsr/orgs", "repos_url": "https://api.github.com/users/wrmsr/repos", "events_url": "https://api.github.com/users/wrmsr/events{/privacy}", "received_events_url": "https://api.github.com/users/wrmsr/received_events", "type": "User", "site_admin": false}, "body": "Currently segfaults when LD_PRELOAD_PATH isn't set when it tries to include it in a log message:\r\n\r\n```\r\nProcess 86579 launched: '/Users/spinlock/src/carpedm20/DCGAN-tensorflow/.venv/bin/python' (x86_64)\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.8.0.dylib locally\r\nProcess 86579 stopped\r\n* thread #1: tid = 0x15ed75, 0x00007fff89152132 libsystem_c.dylib`strlen + 18, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\r\n    frame #0: 0x00007fff89152132 libsystem_c.dylib`strlen + 18\r\nlibsystem_c.dylib`strlen:\r\n->  0x7fff89152132 <+18>: pcmpeqb xmm0, xmmword ptr [rdi]\r\n    0x7fff89152136 <+22>: pmovmskb esi, xmm0\r\n    0x7fff8915213a <+26>: and    rcx, 0xf\r\n    0x7fff8915213e <+30>: or     rax, -0x1\r\n(lldb) bt\r\n* thread #1: tid = 0x15ed75, 0x00007fff89152132 libsystem_c.dylib`strlen + 18, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\r\n  * frame #0: 0x00007fff89152132 libsystem_c.dylib`strlen + 18\r\n    frame #1: 0x000000010651cd8a _pywrap_tensorflow.so`perftools::gputools::internal::DsoLoader::GetDsoHandle(tensorflow::StringPiece, void**, perftools::gputools::internal::DsoLoader::LoadKind) + 282\r\n...\r\n    0x10651cd31 <+193>: lea    rsi, [rip + 0xf7545a]     ; \"Couldn't open CUDA library \"\r\n    0x10651cd38 <+200>: lea    rdi, [rbp - 0x228]\r\n    0x10651cd3f <+207>: mov    edx, 0x1b\r\n    0x10651cd44 <+212>: call   0x1043d2620               ; std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long)\r\n    0x10651cd49 <+217>: lea    rdi, [rbp - 0x228]\r\n    0x10651cd50 <+224>: mov    rsi, r12\r\n    0x10651cd53 <+227>: mov    rdx, r15\r\n    0x10651cd56 <+230>: call   0x1067f9c80               ; tensorflow::operator<<(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, tensorflow::StringPiece)\r\n    0x10651cd5b <+235>: lea    rsi, [rip + 0xf7544c]     ; \". LD_LIBRARY_PATH: \"\r\n    0x10651cd62 <+242>: lea    rdi, [rbp - 0x228]\r\n    0x10651cd69 <+249>: mov    edx, 0x13\r\n    0x10651cd6e <+254>: call   0x1043d2620               ; std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long)\r\n    0x10651cd73 <+259>: lea    rdi, [rip + 0xf6ffd4]     ; \"LD_LIBRARY_PATH\"\r\n    0x10651cd7a <+266>: call   0x106af84c8               ; symbol stub for: getenv\r\n    0x10651cd7f <+271>: mov    rbx, rax\r\n    0x10651cd82 <+274>: mov    rdi, rbx\r\n    0x10651cd85 <+277>: call   0x106af87fe               ; symbol stub for: strlen\r\n    0x10651cd8a <+282>: lea    rdi, [rbp - 0x228]\r\n    0x10651cd91 <+289>: mov    rsi, rbx\r\n    0x10651cd94 <+292>: mov    rdx, rax\r\n    0x10651cd97 <+295>: call   0x1043d2620               ; std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long)\r\n    0x10651cd9c <+300>: lea    rdi, [rbp - 0x228]\r\n    0x10651cda3 <+307>: call   0x10681be90               ; tensorflow::internal::LogMessage::~LogMessage()\r\n    0x10651cda8 <+312>: lea    rax, [rip + 0xf75413]     ; \"could not dlopen DSO: \"\r\n```\r\n\r\nTrying to verify but still trying to get a working dev environment setup.", "created_at": "2017-02-15T13:30:51Z", "updated_at": "2017-02-15T16:47:25Z", "closed_at": "2017-02-15T16:47:25Z", "merged_at": "2017-02-15T16:47:24Z", "merge_commit_sha": "323e232a70ce54dad74bae012c5cc0f19c07be2c", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "milestone": null, "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7528/commits", "review_comments_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7528/comments", "review_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7528/comments", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/2485f1f0dd92b135500d14da00f70a4bec8cfe92", "head": {"label": "wrmsr:wrmsr_ld_library_path_log_segfault", "ref": "wrmsr_ld_library_path_log_segfault", "sha": "2485f1f0dd92b135500d14da00f70a4bec8cfe92", "user": {"login": "wrmsr", "id": 559096, "node_id": "MDQ6VXNlcjU1OTA5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/559096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wrmsr", "html_url": "https://github.com/wrmsr", "followers_url": "https://api.github.com/users/wrmsr/followers", "following_url": "https://api.github.com/users/wrmsr/following{/other_user}", "gists_url": "https://api.github.com/users/wrmsr/gists{/gist_id}", "starred_url": "https://api.github.com/users/wrmsr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wrmsr/subscriptions", "organizations_url": "https://api.github.com/users/wrmsr/orgs", "repos_url": "https://api.github.com/users/wrmsr/repos", "events_url": "https://api.github.com/users/wrmsr/events{/privacy}", "received_events_url": "https://api.github.com/users/wrmsr/received_events", "type": "User", "site_admin": false}, "repo": {"id": 82053881, "node_id": "MDEwOlJlcG9zaXRvcnk4MjA1Mzg4MQ==", "name": "tensorflow", "full_name": "wrmsr/tensorflow", "private": false, "owner": {"login": "wrmsr", "id": 559096, "node_id": "MDQ6VXNlcjU1OTA5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/559096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wrmsr", "html_url": "https://github.com/wrmsr", "followers_url": "https://api.github.com/users/wrmsr/followers", "following_url": "https://api.github.com/users/wrmsr/following{/other_user}", "gists_url": "https://api.github.com/users/wrmsr/gists{/gist_id}", "starred_url": "https://api.github.com/users/wrmsr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wrmsr/subscriptions", "organizations_url": "https://api.github.com/users/wrmsr/orgs", "repos_url": "https://api.github.com/users/wrmsr/repos", "events_url": "https://api.github.com/users/wrmsr/events{/privacy}", "received_events_url": "https://api.github.com/users/wrmsr/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/wrmsr/tensorflow", "description": "Computation using data flow graphs for scalable machine learning", "fork": true, "url": "https://api.github.com/repos/wrmsr/tensorflow", "forks_url": "https://api.github.com/repos/wrmsr/tensorflow/forks", "keys_url": "https://api.github.com/repos/wrmsr/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/wrmsr/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/wrmsr/tensorflow/teams", "hooks_url": "https://api.github.com/repos/wrmsr/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/wrmsr/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/wrmsr/tensorflow/events", "assignees_url": "https://api.github.com/repos/wrmsr/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/wrmsr/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/wrmsr/tensorflow/tags", "blobs_url": "https://api.github.com/repos/wrmsr/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/wrmsr/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/wrmsr/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/wrmsr/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/wrmsr/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/wrmsr/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/wrmsr/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/wrmsr/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/wrmsr/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/wrmsr/tensorflow/subscription", "commits_url": "https://api.github.com/repos/wrmsr/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/wrmsr/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/wrmsr/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/wrmsr/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/wrmsr/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/wrmsr/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/wrmsr/tensorflow/merges", "archive_url": "https://api.github.com/repos/wrmsr/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/wrmsr/tensorflow/downloads", "issues_url": "https://api.github.com/repos/wrmsr/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/wrmsr/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/wrmsr/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/wrmsr/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/wrmsr/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/wrmsr/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/wrmsr/tensorflow/deployments", "created_at": "2017-02-15T11:33:32Z", "updated_at": "2017-02-15T11:33:54Z", "pushed_at": "2017-02-15T11:45:12Z", "git_url": "git://github.com/wrmsr/tensorflow.git", "ssh_url": "git@github.com:wrmsr/tensorflow.git", "clone_url": "https://github.com/wrmsr/tensorflow.git", "svn_url": "https://github.com/wrmsr/tensorflow", "homepage": "http://tensorflow.org", "size": 86033, "stargazers_count": 0, "watchers_count": 0, "language": "C++", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 0, "mirror_url": null, "archived": false, "open_issues_count": 0, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "tensorflow:master", "ref": "master", "sha": "1af29d452b2582a275c8944c194f70594d778e93", "user": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 45717250, "node_id": "MDEwOlJlcG9zaXRvcnk0NTcxNzI1MA==", "name": "tensorflow", "full_name": "tensorflow/tensorflow", "private": false, "owner": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/tensorflow/tensorflow", "description": "An Open Source Machine Learning Framework for Everyone", "fork": false, "url": "https://api.github.com/repos/tensorflow/tensorflow", "forks_url": "https://api.github.com/repos/tensorflow/tensorflow/forks", "keys_url": "https://api.github.com/repos/tensorflow/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/tensorflow/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/tensorflow/tensorflow/teams", "hooks_url": "https://api.github.com/repos/tensorflow/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/events", "assignees_url": "https://api.github.com/repos/tensorflow/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/tensorflow/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/tensorflow/tensorflow/tags", "blobs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/tensorflow/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/tensorflow/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/tensorflow/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/tensorflow/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/tensorflow/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/tensorflow/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/tensorflow/tensorflow/subscription", "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/tensorflow/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/tensorflow/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/tensorflow/tensorflow/merges", "archive_url": "https://api.github.com/repos/tensorflow/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/tensorflow/tensorflow/downloads", "issues_url": "https://api.github.com/repos/tensorflow/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/tensorflow/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/tensorflow/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/tensorflow/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/tensorflow/tensorflow/deployments", "created_at": "2015-11-07T01:19:20Z", "updated_at": "2018-11-24T19:34:08Z", "pushed_at": "2018-11-24T18:40:19Z", "git_url": "git://github.com/tensorflow/tensorflow.git", "ssh_url": "git@github.com:tensorflow/tensorflow.git", "clone_url": "https://github.com/tensorflow/tensorflow.git", "svn_url": "https://github.com/tensorflow/tensorflow", "homepage": "https://tensorflow.org", "size": 284546, "stargazers_count": 115176, "watchers_count": 115176, "language": "C++", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 69944, "mirror_url": null, "archived": false, "open_issues_count": 1759, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 69944, "open_issues": 1759, "watchers": 115176, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7528"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/7528"}, "issue": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/7528"}, "comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/7528/comments"}, "review_comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7528/comments"}, "review_comment": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7528/commits"}, "statuses": {"href": "https://api.github.com/repos/tensorflow/tensorflow/statuses/2485f1f0dd92b135500d14da00f70a4bec8cfe92"}}, "author_association": "CONTRIBUTOR", "body_html": "<p>Currently segfaults when LD_PRELOAD_PATH isn't set when it tries to include it in a log message:</p>\n<pre><code>Process 86579 launched: '/Users/spinlock/src/carpedm20/DCGAN-tensorflow/.venv/bin/python' (x86_64)\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.8.0.dylib locally\nProcess 86579 stopped\n* thread #1: tid = 0x15ed75, 0x00007fff89152132 libsystem_c.dylib`strlen + 18, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\n    frame #0: 0x00007fff89152132 libsystem_c.dylib`strlen + 18\nlibsystem_c.dylib`strlen:\n-&gt;  0x7fff89152132 &lt;+18&gt;: pcmpeqb xmm0, xmmword ptr [rdi]\n    0x7fff89152136 &lt;+22&gt;: pmovmskb esi, xmm0\n    0x7fff8915213a &lt;+26&gt;: and    rcx, 0xf\n    0x7fff8915213e &lt;+30&gt;: or     rax, -0x1\n(lldb) bt\n* thread #1: tid = 0x15ed75, 0x00007fff89152132 libsystem_c.dylib`strlen + 18, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\n  * frame #0: 0x00007fff89152132 libsystem_c.dylib`strlen + 18\n    frame #1: 0x000000010651cd8a _pywrap_tensorflow.so`perftools::gputools::internal::DsoLoader::GetDsoHandle(tensorflow::StringPiece, void**, perftools::gputools::internal::DsoLoader::LoadKind) + 282\n...\n    0x10651cd31 &lt;+193&gt;: lea    rsi, [rip + 0xf7545a]     ; \"Couldn't open CUDA library \"\n    0x10651cd38 &lt;+200&gt;: lea    rdi, [rbp - 0x228]\n    0x10651cd3f &lt;+207&gt;: mov    edx, 0x1b\n    0x10651cd44 &lt;+212&gt;: call   0x1043d2620               ; std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp; std::__1::__put_character_sequence&lt;char, std::__1::char_traits&lt;char&gt; &gt;(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, char const*, unsigned long)\n    0x10651cd49 &lt;+217&gt;: lea    rdi, [rbp - 0x228]\n    0x10651cd50 &lt;+224&gt;: mov    rsi, r12\n    0x10651cd53 &lt;+227&gt;: mov    rdx, r15\n    0x10651cd56 &lt;+230&gt;: call   0x1067f9c80               ; tensorflow::operator&lt;&lt;(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, tensorflow::StringPiece)\n    0x10651cd5b &lt;+235&gt;: lea    rsi, [rip + 0xf7544c]     ; \". LD_LIBRARY_PATH: \"\n    0x10651cd62 &lt;+242&gt;: lea    rdi, [rbp - 0x228]\n    0x10651cd69 &lt;+249&gt;: mov    edx, 0x13\n    0x10651cd6e &lt;+254&gt;: call   0x1043d2620               ; std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp; std::__1::__put_character_sequence&lt;char, std::__1::char_traits&lt;char&gt; &gt;(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, char const*, unsigned long)\n    0x10651cd73 &lt;+259&gt;: lea    rdi, [rip + 0xf6ffd4]     ; \"LD_LIBRARY_PATH\"\n    0x10651cd7a &lt;+266&gt;: call   0x106af84c8               ; symbol stub for: getenv\n    0x10651cd7f &lt;+271&gt;: mov    rbx, rax\n    0x10651cd82 &lt;+274&gt;: mov    rdi, rbx\n    0x10651cd85 &lt;+277&gt;: call   0x106af87fe               ; symbol stub for: strlen\n    0x10651cd8a &lt;+282&gt;: lea    rdi, [rbp - 0x228]\n    0x10651cd91 &lt;+289&gt;: mov    rsi, rbx\n    0x10651cd94 &lt;+292&gt;: mov    rdx, rax\n    0x10651cd97 &lt;+295&gt;: call   0x1043d2620               ; std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp; std::__1::__put_character_sequence&lt;char, std::__1::char_traits&lt;char&gt; &gt;(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, char const*, unsigned long)\n    0x10651cd9c &lt;+300&gt;: lea    rdi, [rbp - 0x228]\n    0x10651cda3 &lt;+307&gt;: call   0x10681be90               ; tensorflow::internal::LogMessage::~LogMessage()\n    0x10651cda8 &lt;+312&gt;: lea    rax, [rip + 0xf75413]     ; \"could not dlopen DSO: \"\n</code></pre>\n<p>Trying to verify but still trying to get a working dev environment setup.</p>", "body_text": "Currently segfaults when LD_PRELOAD_PATH isn't set when it tries to include it in a log message:\nProcess 86579 launched: '/Users/spinlock/src/carpedm20/DCGAN-tensorflow/.venv/bin/python' (x86_64)\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.8.0.dylib locally\nProcess 86579 stopped\n* thread #1: tid = 0x15ed75, 0x00007fff89152132 libsystem_c.dylib`strlen + 18, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\n    frame #0: 0x00007fff89152132 libsystem_c.dylib`strlen + 18\nlibsystem_c.dylib`strlen:\n->  0x7fff89152132 <+18>: pcmpeqb xmm0, xmmword ptr [rdi]\n    0x7fff89152136 <+22>: pmovmskb esi, xmm0\n    0x7fff8915213a <+26>: and    rcx, 0xf\n    0x7fff8915213e <+30>: or     rax, -0x1\n(lldb) bt\n* thread #1: tid = 0x15ed75, 0x00007fff89152132 libsystem_c.dylib`strlen + 18, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\n  * frame #0: 0x00007fff89152132 libsystem_c.dylib`strlen + 18\n    frame #1: 0x000000010651cd8a _pywrap_tensorflow.so`perftools::gputools::internal::DsoLoader::GetDsoHandle(tensorflow::StringPiece, void**, perftools::gputools::internal::DsoLoader::LoadKind) + 282\n...\n    0x10651cd31 <+193>: lea    rsi, [rip + 0xf7545a]     ; \"Couldn't open CUDA library \"\n    0x10651cd38 <+200>: lea    rdi, [rbp - 0x228]\n    0x10651cd3f <+207>: mov    edx, 0x1b\n    0x10651cd44 <+212>: call   0x1043d2620               ; std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long)\n    0x10651cd49 <+217>: lea    rdi, [rbp - 0x228]\n    0x10651cd50 <+224>: mov    rsi, r12\n    0x10651cd53 <+227>: mov    rdx, r15\n    0x10651cd56 <+230>: call   0x1067f9c80               ; tensorflow::operator<<(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, tensorflow::StringPiece)\n    0x10651cd5b <+235>: lea    rsi, [rip + 0xf7544c]     ; \". LD_LIBRARY_PATH: \"\n    0x10651cd62 <+242>: lea    rdi, [rbp - 0x228]\n    0x10651cd69 <+249>: mov    edx, 0x13\n    0x10651cd6e <+254>: call   0x1043d2620               ; std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long)\n    0x10651cd73 <+259>: lea    rdi, [rip + 0xf6ffd4]     ; \"LD_LIBRARY_PATH\"\n    0x10651cd7a <+266>: call   0x106af84c8               ; symbol stub for: getenv\n    0x10651cd7f <+271>: mov    rbx, rax\n    0x10651cd82 <+274>: mov    rdi, rbx\n    0x10651cd85 <+277>: call   0x106af87fe               ; symbol stub for: strlen\n    0x10651cd8a <+282>: lea    rdi, [rbp - 0x228]\n    0x10651cd91 <+289>: mov    rsi, rbx\n    0x10651cd94 <+292>: mov    rdx, rax\n    0x10651cd97 <+295>: call   0x1043d2620               ; std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long)\n    0x10651cd9c <+300>: lea    rdi, [rbp - 0x228]\n    0x10651cda3 <+307>: call   0x10681be90               ; tensorflow::internal::LogMessage::~LogMessage()\n    0x10651cda8 <+312>: lea    rax, [rip + 0xf75413]     ; \"could not dlopen DSO: \"\n\nTrying to verify but still trying to get a working dev environment setup.", "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "comments": 3, "review_comments": 0, "maintainer_can_modify": false, "commits": 1, "additions": 5, "deletions": 1, "changed_files": 1}