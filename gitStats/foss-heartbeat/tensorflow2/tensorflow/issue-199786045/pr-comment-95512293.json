{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/95512293", "pull_request_review_id": 16068144, "id": 95512293, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1NTEyMjkz", "diff_hunk": "@@ -409,8 +410,14 @@ for i in range(20000):\n     print(\"step %d, training accuracy %g\"%(i, train_accuracy))\n   train_step.run(feed_dict={x: batch[0], y_: batch[1], keep_prob: 0.5})\n \n-print(\"test accuracy %g\"%accuracy.eval(feed_dict={\n-    x: mnist.test.images, y_: mnist.test.labels, keep_prob: 1.0}))\n+acc = 0 \n+num_batch = mnist.test.num_examples/50\n+for i in range(num_batch):\n+  batch = mnist.test.next_batch(50)\n+  acc += accuracy.eval(feed_dict={x: batch[0], y_: batch[1], keep_prob: 1.0})\n+\n+acc /= num_batch\n+print(\"test accuracy %g\"%acc)", "path": "tensorflow/g3doc/tutorials/mnist/pros/index.md", "position": 21, "original_position": 21, "commit_id": "96fb07af6ab903d8950a528b8ae45182dd0d197d", "original_commit_id": "96fb07af6ab903d8950a528b8ae45182dd0d197d", "user": {"login": "rmekdma", "id": 11677992, "node_id": "MDQ6VXNlcjExNjc3OTky", "avatar_url": "https://avatars3.githubusercontent.com/u/11677992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmekdma", "html_url": "https://github.com/rmekdma", "followers_url": "https://api.github.com/users/rmekdma/followers", "following_url": "https://api.github.com/users/rmekdma/following{/other_user}", "gists_url": "https://api.github.com/users/rmekdma/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmekdma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmekdma/subscriptions", "organizations_url": "https://api.github.com/users/rmekdma/orgs", "repos_url": "https://api.github.com/users/rmekdma/repos", "events_url": "https://api.github.com/users/rmekdma/events{/privacy}", "received_events_url": "https://api.github.com/users/rmekdma/received_events", "type": "User", "site_admin": false}, "body": "This code is for mnist tutorial (with 10000 test examples) and not for general process. Also, to process unbatched test data, one needs >4GB gpu memory. This modification is for relieving gpu memory usage.", "created_at": "2017-01-11T04:59:21Z", "updated_at": "2017-01-11T04:59:21Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/6764#discussion_r95512293", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6764", "author_association": "NONE", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/95512293"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/6764#discussion_r95512293"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6764"}}, "body_html": "<p>This code is for mnist tutorial (with 10000 test examples) and not for general process. Also, to process unbatched test data, one needs &gt;4GB gpu memory. This modification is for relieving gpu memory usage.</p>", "body_text": "This code is for mnist tutorial (with 10000 test examples) and not for general process. Also, to process unbatched test data, one needs >4GB gpu memory. This modification is for relieving gpu memory usage."}