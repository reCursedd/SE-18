{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/276219473", "html_url": "https://github.com/tensorflow/tensorflow/issues/7150#issuecomment-276219473", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7150", "id": 276219473, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjIxOTQ3Mw==", "user": {"login": "bazinac", "id": 19685528, "node_id": "MDQ6VXNlcjE5Njg1NTI4", "avatar_url": "https://avatars0.githubusercontent.com/u/19685528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bazinac", "html_url": "https://github.com/bazinac", "followers_url": "https://api.github.com/users/bazinac/followers", "following_url": "https://api.github.com/users/bazinac/following{/other_user}", "gists_url": "https://api.github.com/users/bazinac/gists{/gist_id}", "starred_url": "https://api.github.com/users/bazinac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bazinac/subscriptions", "organizations_url": "https://api.github.com/users/bazinac/orgs", "repos_url": "https://api.github.com/users/bazinac/repos", "events_url": "https://api.github.com/users/bazinac/events{/privacy}", "received_events_url": "https://api.github.com/users/bazinac/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-30T22:58:50Z", "updated_at": "2017-01-30T23:04:12Z", "author_association": "NONE", "body_html": "<p>Yeah I run it twice, because I am using two separate instances of Classifier, one for each output layer, which is probably not the best design). However it worked with non quantized version of graph.</p>\n<p>It is actually more like:</p>\n<pre><code>fillNode*\nrunInference(finalResultA)\nreadNode*\n\nfillNode*\nrunInference(finalResultB)\nreadNode*`\n</code></pre>\n<p>When displaying really all output (not just related to my app), i see:</p>\n<pre><code>\n01-30 23:52:38.879 378-378/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n01-30 23:52:38.879 378-378/? A/DEBUG: Build fingerprint: 'samsung/j5nltexx/j5nlte:6.0.1/MMB29M/J500FNXXU1BPI1:user/release-keys'\n01-30 23:52:38.879 378-378/? A/DEBUG: Revision: '5'\n01-30 23:52:38.879 378-378/? A/DEBUG: ABI: 'arm'\n01-30 23:52:38.879 378-378/? A/DEBUG: pid: 25257, tid: 25857, name: inference  &gt;&gt;&gt; bazinac.aplikacenahouby &lt;&lt;&lt;\n01-30 23:52:38.879 378-378/? A/DEBUG: signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0xb95d5000\n01-30 23:52:38.879 396-25924/? W/QCamera2HWI: processAutoFlashValue: AutoFlash not enabled, no ops here\n01-30 23:52:38.899 378-378/? A/DEBUG:     r0 b9511da0  r1 00000000  r2 b95d5000  r3 fff3cd98\n01-30 23:52:38.899 378-378/? A/DEBUG:     r4 00000000  r5 00000001  r6 00000001  r7 00000040\n01-30 23:52:38.899 378-378/? A/DEBUG:     r8 96d86020  r9 96e492e0  sl 00000001  fp 9ece219c\n01-30 23:52:38.899 378-378/? A/DEBUG:     ip 96d86080  sp 9ece2078  lr 00000000  pc 9e5e4dcc  cpsr a00f0030\n01-30 23:52:38.909 396-25924/? W/QCamera2HWI: processAutoFlashValue: AutoFlash not enabled, no ops here\n01-30 23:52:38.909 378-378/? A/DEBUG: backtrace:\n01-30 23:52:38.909 378-378/? A/DEBUG:     #00 pc 005c0dcc  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #01 pc 005cb85f  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #02 pc 005e26cf  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #03 pc 005e5dc9  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #04 pc 00606aed  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #05 pc 0064f367  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #06 pc 0064f5df  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #07 pc 006439b3  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #08 pc 0064b2db  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #09 pc 0064b3cd  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #10 pc 0064b659  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #11 pc 0064c615  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #12 pc 006484e3  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #13 pc 00646507  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #14 pc 000991c7  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so (Java_org_tensorflow_contrib_android_TensorFlowInferenceInterface_runInference+1854)\n01-30 23:52:38.919 378-378/? A/DEBUG:     #15 pc 006418d5  /data/app/bazinac.aplikacenahouby-1/oat/arm/base.odex (offset 0x425000) (int org.tensorflow.contrib.android.TensorFlowInferenceInterface.runInference(java.lang.String[])+96)\n01-30 23:52:38.919 378-378/? A/DEBUG:     #16 pc 007de4cf  /data/app/bazinac.aplikacenahouby-1/oat/arm/base.odex (offset 0x425000) (java.util.List org.tensorflow.demo.TensorFlowImageClassifier.recognizeImage(android.graphics.Bitmap)+1650)\n01-30 23:52:38.919 378-378/? A/DEBUG:     #17 pc 006491ef  /data/app/bazinac.aplikacenahouby-1/oat/arm/base.odex (offset 0x425000) (void org.tensorflow.demo.ClassifierActivity$1.run()+434)\n01-30 23:52:38.919 378-378/? A/DEBUG:     #18 pc 037e3377  /system/framework/arm/boot.oat (offset 0x2fc3000)\n</code></pre>\n<pre><code>01-30 23:52:39.709 378-378/? A/DEBUG: Tombstone written to: /data/tombstones/tombstone_04\n01-30 23:52:39.709 378-378/? E/DEBUG: AM write failed: Broken pipe\n                                      \n                                      [ 01-30 23:52:39.709   378:  378 E/         ]\n                                      ro.product_ship = true\n                                      \n                                      [ 01-30 23:52:39.709   378:  378 E/         ]\n                                      ro.debug_level = 0x4f4c\n                                      \n                                      [ 01-30 23:52:39.709   378:  378 E/         ]\n                                      sys.mobilecare.preload = false\n01-30 23:52:39.709 3323-3323/? E/audit: type=1701 msg=audit(1485816759.709:290): auid=4294967295 uid=10162 gid=10162 ses=4294967295 subj=u:r:untrusted_app:s0:c512,c768 pid=25857 comm=\"inference\" reason=\"memory violation\" sig=11\n</code></pre>\n<p>Thank you for your time Andrew, I really appreciate your help here.</p>", "body_text": "Yeah I run it twice, because I am using two separate instances of Classifier, one for each output layer, which is probably not the best design). However it worked with non quantized version of graph.\nIt is actually more like:\nfillNode*\nrunInference(finalResultA)\nreadNode*\n\nfillNode*\nrunInference(finalResultB)\nreadNode*`\n\nWhen displaying really all output (not just related to my app), i see:\n\n01-30 23:52:38.879 378-378/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n01-30 23:52:38.879 378-378/? A/DEBUG: Build fingerprint: 'samsung/j5nltexx/j5nlte:6.0.1/MMB29M/J500FNXXU1BPI1:user/release-keys'\n01-30 23:52:38.879 378-378/? A/DEBUG: Revision: '5'\n01-30 23:52:38.879 378-378/? A/DEBUG: ABI: 'arm'\n01-30 23:52:38.879 378-378/? A/DEBUG: pid: 25257, tid: 25857, name: inference  >>> bazinac.aplikacenahouby <<<\n01-30 23:52:38.879 378-378/? A/DEBUG: signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0xb95d5000\n01-30 23:52:38.879 396-25924/? W/QCamera2HWI: processAutoFlashValue: AutoFlash not enabled, no ops here\n01-30 23:52:38.899 378-378/? A/DEBUG:     r0 b9511da0  r1 00000000  r2 b95d5000  r3 fff3cd98\n01-30 23:52:38.899 378-378/? A/DEBUG:     r4 00000000  r5 00000001  r6 00000001  r7 00000040\n01-30 23:52:38.899 378-378/? A/DEBUG:     r8 96d86020  r9 96e492e0  sl 00000001  fp 9ece219c\n01-30 23:52:38.899 378-378/? A/DEBUG:     ip 96d86080  sp 9ece2078  lr 00000000  pc 9e5e4dcc  cpsr a00f0030\n01-30 23:52:38.909 396-25924/? W/QCamera2HWI: processAutoFlashValue: AutoFlash not enabled, no ops here\n01-30 23:52:38.909 378-378/? A/DEBUG: backtrace:\n01-30 23:52:38.909 378-378/? A/DEBUG:     #00 pc 005c0dcc  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #01 pc 005cb85f  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #02 pc 005e26cf  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #03 pc 005e5dc9  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #04 pc 00606aed  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #05 pc 0064f367  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.909 378-378/? A/DEBUG:     #06 pc 0064f5df  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #07 pc 006439b3  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #08 pc 0064b2db  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #09 pc 0064b3cd  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #10 pc 0064b659  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #11 pc 0064c615  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #12 pc 006484e3  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #13 pc 00646507  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\n01-30 23:52:38.919 378-378/? A/DEBUG:     #14 pc 000991c7  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so (Java_org_tensorflow_contrib_android_TensorFlowInferenceInterface_runInference+1854)\n01-30 23:52:38.919 378-378/? A/DEBUG:     #15 pc 006418d5  /data/app/bazinac.aplikacenahouby-1/oat/arm/base.odex (offset 0x425000) (int org.tensorflow.contrib.android.TensorFlowInferenceInterface.runInference(java.lang.String[])+96)\n01-30 23:52:38.919 378-378/? A/DEBUG:     #16 pc 007de4cf  /data/app/bazinac.aplikacenahouby-1/oat/arm/base.odex (offset 0x425000) (java.util.List org.tensorflow.demo.TensorFlowImageClassifier.recognizeImage(android.graphics.Bitmap)+1650)\n01-30 23:52:38.919 378-378/? A/DEBUG:     #17 pc 006491ef  /data/app/bazinac.aplikacenahouby-1/oat/arm/base.odex (offset 0x425000) (void org.tensorflow.demo.ClassifierActivity$1.run()+434)\n01-30 23:52:38.919 378-378/? A/DEBUG:     #18 pc 037e3377  /system/framework/arm/boot.oat (offset 0x2fc3000)\n\n01-30 23:52:39.709 378-378/? A/DEBUG: Tombstone written to: /data/tombstones/tombstone_04\n01-30 23:52:39.709 378-378/? E/DEBUG: AM write failed: Broken pipe\n                                      \n                                      [ 01-30 23:52:39.709   378:  378 E/         ]\n                                      ro.product_ship = true\n                                      \n                                      [ 01-30 23:52:39.709   378:  378 E/         ]\n                                      ro.debug_level = 0x4f4c\n                                      \n                                      [ 01-30 23:52:39.709   378:  378 E/         ]\n                                      sys.mobilecare.preload = false\n01-30 23:52:39.709 3323-3323/? E/audit: type=1701 msg=audit(1485816759.709:290): auid=4294967295 uid=10162 gid=10162 ses=4294967295 subj=u:r:untrusted_app:s0:c512,c768 pid=25857 comm=\"inference\" reason=\"memory violation\" sig=11\n\nThank you for your time Andrew, I really appreciate your help here.", "body": "Yeah I run it twice, because I am using two separate instances of Classifier, one for each output layer, which is probably not the best design). However it worked with non quantized version of graph.\r\n\r\nIt is actually more like:\r\n\r\n```\r\nfillNode*\r\nrunInference(finalResultA)\r\nreadNode*\r\n\r\nfillNode*\r\nrunInference(finalResultB)\r\nreadNode*`\r\n```\r\n\r\nWhen displaying really all output (not just related to my app), i see:\r\n```\r\n\r\n01-30 23:52:38.879 378-378/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\r\n01-30 23:52:38.879 378-378/? A/DEBUG: Build fingerprint: 'samsung/j5nltexx/j5nlte:6.0.1/MMB29M/J500FNXXU1BPI1:user/release-keys'\r\n01-30 23:52:38.879 378-378/? A/DEBUG: Revision: '5'\r\n01-30 23:52:38.879 378-378/? A/DEBUG: ABI: 'arm'\r\n01-30 23:52:38.879 378-378/? A/DEBUG: pid: 25257, tid: 25857, name: inference  >>> bazinac.aplikacenahouby <<<\r\n01-30 23:52:38.879 378-378/? A/DEBUG: signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0xb95d5000\r\n01-30 23:52:38.879 396-25924/? W/QCamera2HWI: processAutoFlashValue: AutoFlash not enabled, no ops here\r\n01-30 23:52:38.899 378-378/? A/DEBUG:     r0 b9511da0  r1 00000000  r2 b95d5000  r3 fff3cd98\r\n01-30 23:52:38.899 378-378/? A/DEBUG:     r4 00000000  r5 00000001  r6 00000001  r7 00000040\r\n01-30 23:52:38.899 378-378/? A/DEBUG:     r8 96d86020  r9 96e492e0  sl 00000001  fp 9ece219c\r\n01-30 23:52:38.899 378-378/? A/DEBUG:     ip 96d86080  sp 9ece2078  lr 00000000  pc 9e5e4dcc  cpsr a00f0030\r\n01-30 23:52:38.909 396-25924/? W/QCamera2HWI: processAutoFlashValue: AutoFlash not enabled, no ops here\r\n01-30 23:52:38.909 378-378/? A/DEBUG: backtrace:\r\n01-30 23:52:38.909 378-378/? A/DEBUG:     #00 pc 005c0dcc  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.909 378-378/? A/DEBUG:     #01 pc 005cb85f  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.909 378-378/? A/DEBUG:     #02 pc 005e26cf  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.909 378-378/? A/DEBUG:     #03 pc 005e5dc9  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.909 378-378/? A/DEBUG:     #04 pc 00606aed  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.909 378-378/? A/DEBUG:     #05 pc 0064f367  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.909 378-378/? A/DEBUG:     #06 pc 0064f5df  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #07 pc 006439b3  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #08 pc 0064b2db  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #09 pc 0064b3cd  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #10 pc 0064b659  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #11 pc 0064c615  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #12 pc 006484e3  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #13 pc 00646507  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #14 pc 000991c7  /data/app/bazinac.aplikacenahouby-1/lib/arm/libtensorflow_demo.so (Java_org_tensorflow_contrib_android_TensorFlowInferenceInterface_runInference+1854)\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #15 pc 006418d5  /data/app/bazinac.aplikacenahouby-1/oat/arm/base.odex (offset 0x425000) (int org.tensorflow.contrib.android.TensorFlowInferenceInterface.runInference(java.lang.String[])+96)\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #16 pc 007de4cf  /data/app/bazinac.aplikacenahouby-1/oat/arm/base.odex (offset 0x425000) (java.util.List org.tensorflow.demo.TensorFlowImageClassifier.recognizeImage(android.graphics.Bitmap)+1650)\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #17 pc 006491ef  /data/app/bazinac.aplikacenahouby-1/oat/arm/base.odex (offset 0x425000) (void org.tensorflow.demo.ClassifierActivity$1.run()+434)\r\n01-30 23:52:38.919 378-378/? A/DEBUG:     #18 pc 037e3377  /system/framework/arm/boot.oat (offset 0x2fc3000)\r\n```\r\n```\r\n01-30 23:52:39.709 378-378/? A/DEBUG: Tombstone written to: /data/tombstones/tombstone_04\r\n01-30 23:52:39.709 378-378/? E/DEBUG: AM write failed: Broken pipe\r\n                                      \r\n                                      [ 01-30 23:52:39.709   378:  378 E/         ]\r\n                                      ro.product_ship = true\r\n                                      \r\n                                      [ 01-30 23:52:39.709   378:  378 E/         ]\r\n                                      ro.debug_level = 0x4f4c\r\n                                      \r\n                                      [ 01-30 23:52:39.709   378:  378 E/         ]\r\n                                      sys.mobilecare.preload = false\r\n01-30 23:52:39.709 3323-3323/? E/audit: type=1701 msg=audit(1485816759.709:290): auid=4294967295 uid=10162 gid=10162 ses=4294967295 subj=u:r:untrusted_app:s0:c512,c768 pid=25857 comm=\"inference\" reason=\"memory violation\" sig=11\r\n```\r\nThank you for your time Andrew, I really appreciate your help here."}