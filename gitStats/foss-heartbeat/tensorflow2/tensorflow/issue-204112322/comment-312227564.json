{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/312227564", "html_url": "https://github.com/tensorflow/tensorflow/issues/7150#issuecomment-312227564", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7150", "id": 312227564, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjIyNzU2NA==", "user": {"login": "cpgil", "id": 18169021, "node_id": "MDQ6VXNlcjE4MTY5MDIx", "avatar_url": "https://avatars2.githubusercontent.com/u/18169021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpgil", "html_url": "https://github.com/cpgil", "followers_url": "https://api.github.com/users/cpgil/followers", "following_url": "https://api.github.com/users/cpgil/following{/other_user}", "gists_url": "https://api.github.com/users/cpgil/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpgil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpgil/subscriptions", "organizations_url": "https://api.github.com/users/cpgil/orgs", "repos_url": "https://api.github.com/users/cpgil/repos", "events_url": "https://api.github.com/users/cpgil/events{/privacy}", "received_events_url": "https://api.github.com/users/cpgil/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-30T09:58:01Z", "updated_at": "2017-06-30T09:58:01Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=25754898\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrehentz\">@andrehentz</a>, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=19685528\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/bazinac\">@bazinac</a> I used <code>bazel-bin/tensorflow/tools/graph_transforms/transform_graph</code> as proposed but this didn't help since the output continued to be much greater than expected.</p>\n<p>I then played a little with the transformations until I used my already optimized model (optmize_for_inference) and only <code>--transforms='quantize_weights'</code>and this worked. All other combinations corrupted my graph and gave errors when loading the model even in python.</p>\n<p>I have to say I didn't think of following this path before since in most tutorials is recommended to use the \"recipe\" that I used, for this reason I though the error was somewhere else (e.g. my .so files). It would be very helpful if this approach was also included (or it has more coverage) on the documentations/tutorials. It is still unclear to me why this way works and the other one doesn't.</p>\n<p>Thank you very much!</p>", "body_text": "@andrehentz, @bazinac I used bazel-bin/tensorflow/tools/graph_transforms/transform_graph as proposed but this didn't help since the output continued to be much greater than expected.\nI then played a little with the transformations until I used my already optimized model (optmize_for_inference) and only --transforms='quantize_weights'and this worked. All other combinations corrupted my graph and gave errors when loading the model even in python.\nI have to say I didn't think of following this path before since in most tutorials is recommended to use the \"recipe\" that I used, for this reason I though the error was somewhere else (e.g. my .so files). It would be very helpful if this approach was also included (or it has more coverage) on the documentations/tutorials. It is still unclear to me why this way works and the other one doesn't.\nThank you very much!", "body": "@andrehentz, @bazinac I used `bazel-bin/tensorflow/tools/graph_transforms/transform_graph` as proposed but this didn't help since the output continued to be much greater than expected. \r\n\r\nI then played a little with the transformations until I used my already optimized model (optmize_for_inference) and only `--transforms='quantize_weights'`and this worked. All other combinations corrupted my graph and gave errors when loading the model even in python.\r\n\r\nI have to say I didn't think of following this path before since in most tutorials is recommended to use the \"recipe\" that I used, for this reason I though the error was somewhere else (e.g. my .so files). It would be very helpful if this approach was also included (or it has more coverage) on the documentations/tutorials. It is still unclear to me why this way works and the other one doesn't.\r\n\r\nThank you very much!\r\n"}