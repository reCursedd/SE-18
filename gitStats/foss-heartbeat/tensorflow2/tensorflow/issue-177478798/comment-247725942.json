{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/247725942", "html_url": "https://github.com/tensorflow/tensorflow/issues/4413#issuecomment-247725942", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4413", "id": 247725942, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzcyNTk0Mg==", "user": {"login": "hholst80", "id": 6200749, "node_id": "MDQ6VXNlcjYyMDA3NDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/6200749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hholst80", "html_url": "https://github.com/hholst80", "followers_url": "https://api.github.com/users/hholst80/followers", "following_url": "https://api.github.com/users/hholst80/following{/other_user}", "gists_url": "https://api.github.com/users/hholst80/gists{/gist_id}", "starred_url": "https://api.github.com/users/hholst80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hholst80/subscriptions", "organizations_url": "https://api.github.com/users/hholst80/orgs", "repos_url": "https://api.github.com/users/hholst80/repos", "events_url": "https://api.github.com/users/hholst80/events{/privacy}", "received_events_url": "https://api.github.com/users/hholst80/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-16T22:45:29Z", "updated_at": "2016-09-16T22:45:29Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a> that works. do you have any idea why?</p>\n<p>It certainly looks like its initializing a session but not setting the default session variable.</p>\n<pre><code>In [1]: import tensorflow as tf\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n\nIn [2]: tf.InteractiveSession();\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties:\nname: GeForce GTX 980\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\npciBusID 0000:03:00.0\nTotal memory: 4.00GiB\nFree memory: 2.75GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:838] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 980, pci bus id: 0000:03:00.0)\n\nIn [3]: tf.constant(0).eval()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-3-b43e5df4f2f7&gt; in &lt;module&gt;()\n----&gt; 1 tf.constant(0).eval()\n\n/home/hholst/anaconda3/envs/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in eval(self, feed_dict, session)\n    557\n    558     \"\"\"\n--&gt; 559     return _eval_using_default_session(self, feed_dict, self.graph, session)\n    560\n    561\n\n/home/hholst/anaconda3/envs/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in _eval_using_default_session(tensors, feed_dict, graph, session)\n   3640     session = get_default_session()\n   3641     if session is None:\n-&gt; 3642       raise ValueError(\"Cannot evaluate tensor using `eval()`: No default \"\n   3643                        \"session is registered. Use `with \"\n   3644                        \"sess.as_default()` or pass an explicit session to \"\n\nValueError: Cannot evaluate tensor using `eval()`: No default session is registered. Use `with sess.as_default()` or pass an explicit session to `eval(session=sess)`\n\nIn [4]:\n</code></pre>", "body_text": "@yaroslavvb that works. do you have any idea why?\nIt certainly looks like its initializing a session but not setting the default session variable.\nIn [1]: import tensorflow as tf\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n\nIn [2]: tf.InteractiveSession();\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties:\nname: GeForce GTX 980\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\npciBusID 0000:03:00.0\nTotal memory: 4.00GiB\nFree memory: 2.75GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:838] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:03:00.0)\n\nIn [3]: tf.constant(0).eval()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-3-b43e5df4f2f7> in <module>()\n----> 1 tf.constant(0).eval()\n\n/home/hholst/anaconda3/envs/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in eval(self, feed_dict, session)\n    557\n    558     \"\"\"\n--> 559     return _eval_using_default_session(self, feed_dict, self.graph, session)\n    560\n    561\n\n/home/hholst/anaconda3/envs/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in _eval_using_default_session(tensors, feed_dict, graph, session)\n   3640     session = get_default_session()\n   3641     if session is None:\n-> 3642       raise ValueError(\"Cannot evaluate tensor using `eval()`: No default \"\n   3643                        \"session is registered. Use `with \"\n   3644                        \"sess.as_default()` or pass an explicit session to \"\n\nValueError: Cannot evaluate tensor using `eval()`: No default session is registered. Use `with sess.as_default()` or pass an explicit session to `eval(session=sess)`\n\nIn [4]:", "body": "@yaroslavvb that works. do you have any idea why? \n\nIt certainly looks like its initializing a session but not setting the default session variable.\n\n```\nIn [1]: import tensorflow as tf\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n\nIn [2]: tf.InteractiveSession();\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties:\nname: GeForce GTX 980\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\npciBusID 0000:03:00.0\nTotal memory: 4.00GiB\nFree memory: 2.75GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:838] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:03:00.0)\n\nIn [3]: tf.constant(0).eval()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-3-b43e5df4f2f7> in <module>()\n----> 1 tf.constant(0).eval()\n\n/home/hholst/anaconda3/envs/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in eval(self, feed_dict, session)\n    557\n    558     \"\"\"\n--> 559     return _eval_using_default_session(self, feed_dict, self.graph, session)\n    560\n    561\n\n/home/hholst/anaconda3/envs/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in _eval_using_default_session(tensors, feed_dict, graph, session)\n   3640     session = get_default_session()\n   3641     if session is None:\n-> 3642       raise ValueError(\"Cannot evaluate tensor using `eval()`: No default \"\n   3643                        \"session is registered. Use `with \"\n   3644                        \"sess.as_default()` or pass an explicit session to \"\n\nValueError: Cannot evaluate tensor using `eval()`: No default session is registered. Use `with sess.as_default()` or pass an explicit session to `eval(session=sess)`\n\nIn [4]:\n```\n"}