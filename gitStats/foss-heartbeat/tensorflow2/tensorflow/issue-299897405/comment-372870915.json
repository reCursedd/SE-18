{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/372870915", "html_url": "https://github.com/tensorflow/tensorflow/pull/17236#issuecomment-372870915", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17236", "id": 372870915, "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mjg3MDkxNQ==", "user": {"login": "Stryker0301", "id": 28606703, "node_id": "MDQ6VXNlcjI4NjA2NzAz", "avatar_url": "https://avatars0.githubusercontent.com/u/28606703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Stryker0301", "html_url": "https://github.com/Stryker0301", "followers_url": "https://api.github.com/users/Stryker0301/followers", "following_url": "https://api.github.com/users/Stryker0301/following{/other_user}", "gists_url": "https://api.github.com/users/Stryker0301/gists{/gist_id}", "starred_url": "https://api.github.com/users/Stryker0301/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Stryker0301/subscriptions", "organizations_url": "https://api.github.com/users/Stryker0301/orgs", "repos_url": "https://api.github.com/users/Stryker0301/repos", "events_url": "https://api.github.com/users/Stryker0301/events{/privacy}", "received_events_url": "https://api.github.com/users/Stryker0301/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-14T01:08:25Z", "updated_at": "2018-03-14T13:02:29Z", "author_association": "NONE", "body_html": "<p>Sorry for being late on responding to this and thanks for your inputs.</p>\n<p>I did try and check if we can insert the fix at the <a href=\"https://github.com/tensorflow/tensorflow/blob/bc69c4ceed6544c109be5693eb40ddcf3a4eb95d/tensorflow/python/estimator/inputs/pandas_io.py#L118\">place</a> suggested by you, but it appears that the said line is not invoked for the example given by me.</p>\n<p>Also, I'm not completely aware of the way pandas input_fn is used or the way it integrates with the estimator api. If you can point to any relevant documentation explaining the usage, that would be helpful.</p>\n<p>Returning back to the main discussion, the other alternatives that I can think of for this problem are -</p>\n<ol>\n<li>Keep the fix at the same place which I had proposed earlier, which would localize its effect and avoid the error.</li>\n<li>Given that the name of the feature column is used as the partial name for constructing the name of the variable scope, cast the return value of the method - <a href=\"https://github.com/tensorflow/tensorflow/blob/7c324811f10eaf049735ace7b6a228ccc931d8ff/tensorflow/python/feature_column/feature_column.py#L1595\">'_var_scope_name'</a> to 'str'. This would ensure that a string value is returned always for other types of feature columns.</li>\n<li>Or else override the method specified in [2] in the class - <a href=\"https://github.com/tensorflow/tensorflow/blob/7c324811f10eaf049735ace7b6a228ccc931d8ff/tensorflow/python/feature_column/feature_column.py#L2030\">'_NumericColumn'</a> to return an 'str' value. This would localize its effect to numeric feature columns only.</li>\n</ol>\n<p>Let me know your thoughts on this.</p>", "body_text": "Sorry for being late on responding to this and thanks for your inputs.\nI did try and check if we can insert the fix at the place suggested by you, but it appears that the said line is not invoked for the example given by me.\nAlso, I'm not completely aware of the way pandas input_fn is used or the way it integrates with the estimator api. If you can point to any relevant documentation explaining the usage, that would be helpful.\nReturning back to the main discussion, the other alternatives that I can think of for this problem are -\n\nKeep the fix at the same place which I had proposed earlier, which would localize its effect and avoid the error.\nGiven that the name of the feature column is used as the partial name for constructing the name of the variable scope, cast the return value of the method - '_var_scope_name' to 'str'. This would ensure that a string value is returned always for other types of feature columns.\nOr else override the method specified in [2] in the class - '_NumericColumn' to return an 'str' value. This would localize its effect to numeric feature columns only.\n\nLet me know your thoughts on this.", "body": "Sorry for being late on responding to this and thanks for your inputs.\r\n\r\nI did try and check if we can insert the fix at the [place](https://github.com/tensorflow/tensorflow/blob/bc69c4ceed6544c109be5693eb40ddcf3a4eb95d/tensorflow/python/estimator/inputs/pandas_io.py#L118) suggested by you, but it appears that the said line is not invoked for the example given by me.\r\n\r\nAlso, I'm not completely aware of the way pandas input_fn is used or the way it integrates with the estimator api. If you can point to any relevant documentation explaining the usage, that would be helpful.\r\n\r\nReturning back to the main discussion, the other alternatives that I can think of for this problem are - \r\n1. Keep the fix at the same place which I had proposed earlier, which would localize its effect and avoid the error.\r\n2. Given that the name of the feature column is used as the partial name for constructing the name of the variable scope, cast the return value of the method - ['_var_scope_name'](https://github.com/tensorflow/tensorflow/blob/7c324811f10eaf049735ace7b6a228ccc931d8ff/tensorflow/python/feature_column/feature_column.py#L1595) to 'str'. This would ensure that a string value is returned always for other types of feature columns.\r\n3. Or else override the method specified in [2] in the class - ['_NumericColumn'](https://github.com/tensorflow/tensorflow/blob/7c324811f10eaf049735ace7b6a228ccc931d8ff/tensorflow/python/feature_column/feature_column.py#L2030) to return an 'str' value. This would localize its effect to numeric feature columns only.\r\n\r\nLet me know your thoughts on this."}