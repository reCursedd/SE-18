{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/313801193", "html_url": "https://github.com/tensorflow/tensorflow/issues/11364#issuecomment-313801193", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11364", "id": 313801193, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMzgwMTE5Mw==", "user": {"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-07T21:48:38Z", "updated_at": "2017-07-07T21:48:38Z", "author_association": "NONE", "body_html": "<p>It looks to me like stratified_sample takes a list of tensors, not a single tensor for the \"tensors\" argument.<br>\nI tried editing the call from stratified_sample(data_tensor,...) to stratified_sample([data_tensor],...), and things got farther but still failed with a shape mismatch error.</p>\n<p>So, a couple of thoughts: first, do you have a known-working example of stratified_sample that you're starting from?</p>\n<p>Second, for the shape mismatch that I'm getting after the list fix:<br>\nValueError: Shapes must be equal rank, but are 1 and 2 for 'stratified_sample/AssignAdd' (op: 'AssignAdd') with input shapes: [2], [10000,2].<br>\nis it possible that target_probs is being passed in with the wrong shape?</p>", "body_text": "It looks to me like stratified_sample takes a list of tensors, not a single tensor for the \"tensors\" argument.\nI tried editing the call from stratified_sample(data_tensor,...) to stratified_sample([data_tensor],...), and things got farther but still failed with a shape mismatch error.\nSo, a couple of thoughts: first, do you have a known-working example of stratified_sample that you're starting from?\nSecond, for the shape mismatch that I'm getting after the list fix:\nValueError: Shapes must be equal rank, but are 1 and 2 for 'stratified_sample/AssignAdd' (op: 'AssignAdd') with input shapes: [2], [10000,2].\nis it possible that target_probs is being passed in with the wrong shape?", "body": "It looks to me like stratified_sample takes a list of tensors, not a single tensor for the \"tensors\" argument. \r\nI tried editing the call from stratified_sample(data_tensor,...) to stratified_sample([data_tensor],...), and things got farther but still failed with a shape mismatch error. \r\n\r\nSo, a couple of thoughts: first, do you have a known-working example of stratified_sample that you're starting from? \r\n\r\nSecond, for the shape mismatch that I'm getting after the list fix: \r\nValueError: Shapes must be equal rank, but are 1 and 2 for 'stratified_sample/AssignAdd' (op: 'AssignAdd') with input shapes: [2], [10000,2].\r\nis it possible that target_probs is being passed in with the wrong shape? "}