{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/399738991", "html_url": "https://github.com/tensorflow/tensorflow/issues/19895#issuecomment-399738991", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19895", "id": 399738991, "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTczODk5MQ==", "user": {"login": "Thimira", "id": 5356950, "node_id": "MDQ6VXNlcjUzNTY5NTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/5356950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Thimira", "html_url": "https://github.com/Thimira", "followers_url": "https://api.github.com/users/Thimira/followers", "following_url": "https://api.github.com/users/Thimira/following{/other_user}", "gists_url": "https://api.github.com/users/Thimira/gists{/gist_id}", "starred_url": "https://api.github.com/users/Thimira/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Thimira/subscriptions", "organizations_url": "https://api.github.com/users/Thimira/orgs", "repos_url": "https://api.github.com/users/Thimira/repos", "events_url": "https://api.github.com/users/Thimira/events{/privacy}", "received_events_url": "https://api.github.com/users/Thimira/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-24T08:26:47Z", "updated_at": "2018-06-24T08:26:47Z", "author_association": "NONE", "body_html": "<p>I attempted the following:<br>\nI removed all the anaconda environments which had TensorFlow installed from the machine. I cloned a fresh copy of TensorFLow, which had the following head commit at the time of cloning,</p>\n<pre><code>git log\ncommit 359f53686c87ee76e80353c32a3d22cfb1cf0989 (HEAD -&gt; master, origin/master, origin/HEAD)\nAuthor: Yong Tang &lt;yong.tang.github@outlook.com&gt;\nDate:   Thu Jun 21 22:09:56 2018 -0700\n</code></pre>\n<p>I re-ran the build using the following command (this time using the 'base' anaconda environment, which had Python 3.6),</p>\n<pre><code>cmake ..  -G \"Visual Studio 14 2015 Win64\" -T host=x64 ^\n -DCMAKE_BUILD_TYPE=Release ^\n -DSWIG_EXECUTABLE=C:/Dev_Tools/TFBuild/tools/swigwin-3.0.12/swig.exe ^\n -DPYTHON_EXECUTABLE=C:/Users/UAMARTH/AppData/Local/Continuum/anaconda3/python.exe ^\n -DPYTHON_LIBRARIES=C:/Users/UAMARTH/AppData/Local/Continuum/anaconda3/libs/python36.lib ^\n -Dtensorflow_ENABLE_GPU=ON ^\n -Dtensorflow_CUDA_VERSION=9.2 ^\n -Dtensorflow_CUDNN_VERSION=7 ^\n -DCUDNN_HOME=\"C:\\Dev_Tools\\TFBuild\\tools\\cudnn-9.2-windows10-x64-v7.1\" ^\n -Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX\n</code></pre>\n<p>And the build failed (after 4 hours 40 minutes) with the following error,</p>\n<pre><code>\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (\n1) -&gt;\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\estimator_python_api.vcxproj\" (default target) (2) -&gt;\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal.vcxproj\" (default target) (3\n) -&gt;\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal_static.vcxproj\" (default tar\nget) (4) -&gt;\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_c_python_api.vcxproj\" (default target) (136) -&gt;\n(ClCompile target) -&gt;\n  C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\c\\python_api.cc(19): fatal error C1083: Cannot open include file: 'tensorf\nlow/python/framework/cpp_shape_inference.pb.h': No such file or directory [C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\c\nontrib\\cmake\\build\\tf_c_python_api.vcxproj]\n\n    25406 Warning(s)\n    1 Error(s)\n\nTime Elapsed 04:40:36.11\n</code></pre>\n<p>I found the following issue: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"318455681\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/18931\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/18931/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/18931\">#18931</a> which points to the same error with \"cpp_shape_inference.pb.h\". I will attempt the fix mentioned in that issue next.</p>", "body_text": "I attempted the following:\nI removed all the anaconda environments which had TensorFlow installed from the machine. I cloned a fresh copy of TensorFLow, which had the following head commit at the time of cloning,\ngit log\ncommit 359f53686c87ee76e80353c32a3d22cfb1cf0989 (HEAD -> master, origin/master, origin/HEAD)\nAuthor: Yong Tang <yong.tang.github@outlook.com>\nDate:   Thu Jun 21 22:09:56 2018 -0700\n\nI re-ran the build using the following command (this time using the 'base' anaconda environment, which had Python 3.6),\ncmake ..  -G \"Visual Studio 14 2015 Win64\" -T host=x64 ^\n -DCMAKE_BUILD_TYPE=Release ^\n -DSWIG_EXECUTABLE=C:/Dev_Tools/TFBuild/tools/swigwin-3.0.12/swig.exe ^\n -DPYTHON_EXECUTABLE=C:/Users/UAMARTH/AppData/Local/Continuum/anaconda3/python.exe ^\n -DPYTHON_LIBRARIES=C:/Users/UAMARTH/AppData/Local/Continuum/anaconda3/libs/python36.lib ^\n -Dtensorflow_ENABLE_GPU=ON ^\n -Dtensorflow_CUDA_VERSION=9.2 ^\n -Dtensorflow_CUDNN_VERSION=7 ^\n -DCUDNN_HOME=\"C:\\Dev_Tools\\TFBuild\\tools\\cudnn-9.2-windows10-x64-v7.1\" ^\n -Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX\n\nAnd the build failed (after 4 hours 40 minutes) with the following error,\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (\n1) ->\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\estimator_python_api.vcxproj\" (default target) (2) ->\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal.vcxproj\" (default target) (3\n) ->\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal_static.vcxproj\" (default tar\nget) (4) ->\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_c_python_api.vcxproj\" (default target) (136) ->\n(ClCompile target) ->\n  C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\c\\python_api.cc(19): fatal error C1083: Cannot open include file: 'tensorf\nlow/python/framework/cpp_shape_inference.pb.h': No such file or directory [C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\c\nontrib\\cmake\\build\\tf_c_python_api.vcxproj]\n\n    25406 Warning(s)\n    1 Error(s)\n\nTime Elapsed 04:40:36.11\n\nI found the following issue: #18931 which points to the same error with \"cpp_shape_inference.pb.h\". I will attempt the fix mentioned in that issue next.", "body": "I attempted the following:\r\nI removed all the anaconda environments which had TensorFlow installed from the machine. I cloned a fresh copy of TensorFLow, which had the following head commit at the time of cloning,\r\n\r\n```\r\ngit log\r\ncommit 359f53686c87ee76e80353c32a3d22cfb1cf0989 (HEAD -> master, origin/master, origin/HEAD)\r\nAuthor: Yong Tang <yong.tang.github@outlook.com>\r\nDate:   Thu Jun 21 22:09:56 2018 -0700\r\n```\r\n\r\nI re-ran the build using the following command (this time using the 'base' anaconda environment, which had Python 3.6),\r\n\r\n```\r\ncmake ..  -G \"Visual Studio 14 2015 Win64\" -T host=x64 ^\r\n -DCMAKE_BUILD_TYPE=Release ^\r\n -DSWIG_EXECUTABLE=C:/Dev_Tools/TFBuild/tools/swigwin-3.0.12/swig.exe ^\r\n -DPYTHON_EXECUTABLE=C:/Users/UAMARTH/AppData/Local/Continuum/anaconda3/python.exe ^\r\n -DPYTHON_LIBRARIES=C:/Users/UAMARTH/AppData/Local/Continuum/anaconda3/libs/python36.lib ^\r\n -Dtensorflow_ENABLE_GPU=ON ^\r\n -Dtensorflow_CUDA_VERSION=9.2 ^\r\n -Dtensorflow_CUDNN_VERSION=7 ^\r\n -DCUDNN_HOME=\"C:\\Dev_Tools\\TFBuild\\tools\\cudnn-9.2-windows10-x64-v7.1\" ^\r\n -Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX\r\n```\r\n\r\nAnd the build failed (after 4 hours 40 minutes) with the following error,\r\n\r\n```\r\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (\r\n1) ->\r\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\estimator_python_api.vcxproj\" (default target) (2) ->\r\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal.vcxproj\" (default target) (3\r\n) ->\r\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow_internal_static.vcxproj\" (default tar\r\nget) (4) ->\r\n\"C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_c_python_api.vcxproj\" (default target) (136) ->\r\n(ClCompile target) ->\r\n  C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\c\\python_api.cc(19): fatal error C1083: Cannot open include file: 'tensorf\r\nlow/python/framework/cpp_shape_inference.pb.h': No such file or directory [C:\\Dev_Tools\\TFBuild\\tensorflow\\tensorflow\\c\r\nontrib\\cmake\\build\\tf_c_python_api.vcxproj]\r\n\r\n    25406 Warning(s)\r\n    1 Error(s)\r\n\r\nTime Elapsed 04:40:36.11\r\n```\r\n\r\nI found the following issue: https://github.com/tensorflow/tensorflow/issues/18931 which points to the same error with \"cpp_shape_inference.pb.h\". I will attempt the fix mentioned in that issue next."}