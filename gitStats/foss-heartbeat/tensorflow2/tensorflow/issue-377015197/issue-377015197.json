{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23470", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23470/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23470/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23470/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23470", "id": 377015197, "node_id": "MDU6SXNzdWUzNzcwMTUxOTc=", "number": 23470, "title": "Error in tensorflow __init__: TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'", "user": {"login": "mfeblowitz", "id": 6854939, "node_id": "MDQ6VXNlcjY4NTQ5Mzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6854939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mfeblowitz", "html_url": "https://github.com/mfeblowitz", "followers_url": "https://api.github.com/users/mfeblowitz/followers", "following_url": "https://api.github.com/users/mfeblowitz/following{/other_user}", "gists_url": "https://api.github.com/users/mfeblowitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mfeblowitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mfeblowitz/subscriptions", "organizations_url": "https://api.github.com/users/mfeblowitz/orgs", "repos_url": "https://api.github.com/users/mfeblowitz/repos", "events_url": "https://api.github.com/users/mfeblowitz/events{/privacy}", "received_events_url": "https://api.github.com/users/mfeblowitz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-03T02:28:48Z", "updated_at": "2018-11-05T03:32:23Z", "closed_at": "2018-11-05T03:32:23Z", "author_association": "NONE", "body_html": "<ul>\n<li>TensorFlow version: v1.11.0-0-gc19e29306c 1.11.0</li>\n<li>Python version:<br>\n3.6.4, via Anaconda (Anaconda3-5.3.0-Linux-x86_64), and also 3.6.7, and 3.7 via Anaconda<br>\nalso 3.6.4 as a direct install</li>\n<li>Centos7, in a Docker container, with all dependencies pip installed</li>\n</ul>\n<p>During __init__ on import of tensorflow,  seeing ```TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'`` - exception trace below</p>\n<pre><code>try:\n    print(\"Importing tensorflow\", flush=True)\n    import tensorflow as tf\n    print(\"Imported tensorflow\", tf, flush=True)\n   \nexcept:\n    pass\n</code></pre>\n<p>The circumstances are unusual and difficult to reproduce. The code runs fine except in situ installed to support a Streams python map operator. What's needed here is some guidance as to what could cause this specific failure at this specific location in the <code>__init__</code> method on import (specifically, at  <code>import tensorflow.python.ops import array_ops</code>), and what measures should be taken to address it.</p>\n<p><strong>Other info / logs</strong></p>\n<pre><code>Importing tensorflow\n02 Nov 2018 22:01:40.634-0400 [62] ERROR #splapplog,J[0],P[0],CandidateEvents.MinimalExtractedObjectsSRLNN,python M[splpy_general.h:importModule:352]  - CDIST0305E: Fatal error: missing module: CandidateEventsExtractor.\nTraceback (most recent call last):\n  File \"/tmp/StorylineAggregator1.distributed/toolkits/com.ibm.btn.util.candidate_events_extractor/opt/python/streams/CandidateEventsExtractor.py\", line 5, in &lt;module&gt;\n    from SRLNN_Pipeline import SRLNN_Pipeline\n  File \"/tmp/StorylineAggregator1.distributed/toolkits/com.ibm.btn.util.candidate_events_extractor/opt/python/modules/SRLNN_Pipeline.py\", line 9, in &lt;module&gt;\n    from sentence_embeddings import read_corpus, do_faiss\n  File \"/tmp/StorylineAggregator1.distributed/toolkits/com.ibm.btn.util.candidate_events_extractor/opt/python/modules/sentence_embeddings.py\", line 19, in &lt;module&gt;\n    import tensorflow_hub as hub\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow_hub/__init__.py\", line 21, in &lt;module&gt;\n    import tensorflow as tf\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/__init__.py\", line 22, in &lt;module&gt;\n    from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/__init__.py\", line 63, in &lt;module&gt;\n    from tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/framework/framework_lib.py\", line 52, in &lt;module&gt;\n    from tensorflow.python.framework.importer import import_graph_def\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\", line 27, in &lt;module&gt;\n    from tensorflow.python.framework import function\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/framework/function.py\", line 35, in &lt;module&gt;\n    from tensorflow.python.ops import array_ops\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/ops/array_ops.py\", line 153, in &lt;module&gt;\n    listdiff.__doc__ = gen_array_ops.list_diff.__doc__ + \"\\n\" + listdiff.__doc__\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'str'\n02 Nov 2018 22:01:40.639-0400 [62] ERROR #splapplog,J[0],P[0],CandidateEvents.MinimalExtractedObjectsSRLNN,spl_pe M[PEImpl.cpp:logTerminatingException:2183]  - CDISR5033E: An exception occurred during the execution of the CandidateEvents.MinimalExtractedObjectsSRLNN operator. Processing element number 0 is terminating.\n02 Nov 2018 22:01:40.639-0400 [62] ERROR #splapptrc,J[0],P[0],CandidateEvents.MinimalExtractedObjectsSRLNN,spl_operator M[PEImpl.cpp:handleOperatorFailure:661]  - CDISR5030E: An exception occurred during the execution of the CandidateEvents.MinimalExtractedObjectsSRLNN operator. The exception is: Unknown Python error\n</code></pre>", "body_text": "TensorFlow version: v1.11.0-0-gc19e29306c 1.11.0\nPython version:\n3.6.4, via Anaconda (Anaconda3-5.3.0-Linux-x86_64), and also 3.6.7, and 3.7 via Anaconda\nalso 3.6.4 as a direct install\nCentos7, in a Docker container, with all dependencies pip installed\n\nDuring __init__ on import of tensorflow,  seeing ```TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'`` - exception trace below\ntry:\n    print(\"Importing tensorflow\", flush=True)\n    import tensorflow as tf\n    print(\"Imported tensorflow\", tf, flush=True)\n   \nexcept:\n    pass\n\nThe circumstances are unusual and difficult to reproduce. The code runs fine except in situ installed to support a Streams python map operator. What's needed here is some guidance as to what could cause this specific failure at this specific location in the __init__ method on import (specifically, at  import tensorflow.python.ops import array_ops), and what measures should be taken to address it.\nOther info / logs\nImporting tensorflow\n02 Nov 2018 22:01:40.634-0400 [62] ERROR #splapplog,J[0],P[0],CandidateEvents.MinimalExtractedObjectsSRLNN,python M[splpy_general.h:importModule:352]  - CDIST0305E: Fatal error: missing module: CandidateEventsExtractor.\nTraceback (most recent call last):\n  File \"/tmp/StorylineAggregator1.distributed/toolkits/com.ibm.btn.util.candidate_events_extractor/opt/python/streams/CandidateEventsExtractor.py\", line 5, in <module>\n    from SRLNN_Pipeline import SRLNN_Pipeline\n  File \"/tmp/StorylineAggregator1.distributed/toolkits/com.ibm.btn.util.candidate_events_extractor/opt/python/modules/SRLNN_Pipeline.py\", line 9, in <module>\n    from sentence_embeddings import read_corpus, do_faiss\n  File \"/tmp/StorylineAggregator1.distributed/toolkits/com.ibm.btn.util.candidate_events_extractor/opt/python/modules/sentence_embeddings.py\", line 19, in <module>\n    import tensorflow_hub as hub\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow_hub/__init__.py\", line 21, in <module>\n    import tensorflow as tf\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/__init__.py\", line 22, in <module>\n    from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/__init__.py\", line 63, in <module>\n    from tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/framework/framework_lib.py\", line 52, in <module>\n    from tensorflow.python.framework.importer import import_graph_def\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\", line 27, in <module>\n    from tensorflow.python.framework import function\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/framework/function.py\", line 35, in <module>\n    from tensorflow.python.ops import array_ops\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/ops/array_ops.py\", line 153, in <module>\n    listdiff.__doc__ = gen_array_ops.list_diff.__doc__ + \"\\n\" + listdiff.__doc__\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'str'\n02 Nov 2018 22:01:40.639-0400 [62] ERROR #splapplog,J[0],P[0],CandidateEvents.MinimalExtractedObjectsSRLNN,spl_pe M[PEImpl.cpp:logTerminatingException:2183]  - CDISR5033E: An exception occurred during the execution of the CandidateEvents.MinimalExtractedObjectsSRLNN operator. Processing element number 0 is terminating.\n02 Nov 2018 22:01:40.639-0400 [62] ERROR #splapptrc,J[0],P[0],CandidateEvents.MinimalExtractedObjectsSRLNN,spl_operator M[PEImpl.cpp:handleOperatorFailure:661]  - CDISR5030E: An exception occurred during the execution of the CandidateEvents.MinimalExtractedObjectsSRLNN operator. The exception is: Unknown Python error", "body": "- TensorFlow version: v1.11.0-0-gc19e29306c 1.11.0\r\n- Python version: \r\n    3.6.4, via Anaconda (Anaconda3-5.3.0-Linux-x86_64), and also 3.6.7, and 3.7 via Anaconda\r\n    also 3.6.4 as a direct install\r\n- Centos7, in a Docker container, with all dependencies pip installed\r\n\r\nDuring \\_\\_init\\_\\_ on import of tensorflow,  seeing ```TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'`` - exception trace below\r\n\r\n```\r\ntry:\r\n    print(\"Importing tensorflow\", flush=True)\r\n    import tensorflow as tf\r\n    print(\"Imported tensorflow\", tf, flush=True)\r\n   \r\nexcept:\r\n    pass\r\n```\r\nThe circumstances are unusual and difficult to reproduce. The code runs fine except in situ installed to support a Streams python map operator. What's needed here is some guidance as to what could cause this specific failure at this specific location in the `__init__` method on import (specifically, at  `import tensorflow.python.ops import array_ops`), and what measures should be taken to address it.\r\n\r\n**Other info / logs**\r\n```\r\nImporting tensorflow\r\n02 Nov 2018 22:01:40.634-0400 [62] ERROR #splapplog,J[0],P[0],CandidateEvents.MinimalExtractedObjectsSRLNN,python M[splpy_general.h:importModule:352]  - CDIST0305E: Fatal error: missing module: CandidateEventsExtractor.\r\nTraceback (most recent call last):\r\n  File \"/tmp/StorylineAggregator1.distributed/toolkits/com.ibm.btn.util.candidate_events_extractor/opt/python/streams/CandidateEventsExtractor.py\", line 5, in <module>\r\n    from SRLNN_Pipeline import SRLNN_Pipeline\r\n  File \"/tmp/StorylineAggregator1.distributed/toolkits/com.ibm.btn.util.candidate_events_extractor/opt/python/modules/SRLNN_Pipeline.py\", line 9, in <module>\r\n    from sentence_embeddings import read_corpus, do_faiss\r\n  File \"/tmp/StorylineAggregator1.distributed/toolkits/com.ibm.btn.util.candidate_events_extractor/opt/python/modules/sentence_embeddings.py\", line 19, in <module>\r\n    import tensorflow_hub as hub\r\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow_hub/__init__.py\", line 21, in <module>\r\n    import tensorflow as tf\r\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/__init__.py\", line 22, in <module>\r\n    from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\r\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/__init__.py\", line 63, in <module>\r\n    from tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin\r\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/framework/framework_lib.py\", line 52, in <module>\r\n    from tensorflow.python.framework.importer import import_graph_def\r\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\", line 27, in <module>\r\n    from tensorflow.python.framework import function\r\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/framework/function.py\", line 35, in <module>\r\n    from tensorflow.python.ops import array_ops\r\n  File \"/opt/conda/envs/srl-nn/lib/python3.6/site-packages/tensorflow/python/ops/array_ops.py\", line 153, in <module>\r\n    listdiff.__doc__ = gen_array_ops.list_diff.__doc__ + \"\\n\" + listdiff.__doc__\r\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'str'\r\n02 Nov 2018 22:01:40.639-0400 [62] ERROR #splapplog,J[0],P[0],CandidateEvents.MinimalExtractedObjectsSRLNN,spl_pe M[PEImpl.cpp:logTerminatingException:2183]  - CDISR5033E: An exception occurred during the execution of the CandidateEvents.MinimalExtractedObjectsSRLNN operator. Processing element number 0 is terminating.\r\n02 Nov 2018 22:01:40.639-0400 [62] ERROR #splapptrc,J[0],P[0],CandidateEvents.MinimalExtractedObjectsSRLNN,spl_operator M[PEImpl.cpp:handleOperatorFailure:661]  - CDISR5030E: An exception occurred during the execution of the CandidateEvents.MinimalExtractedObjectsSRLNN operator. The exception is: Unknown Python error"}