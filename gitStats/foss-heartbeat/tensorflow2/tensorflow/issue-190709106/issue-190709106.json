{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5747", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5747/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5747/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5747/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5747", "id": 190709106, "node_id": "MDU6SXNzdWUxOTA3MDkxMDY=", "number": 5747, "title": "Unable to use GPU with Tensorflow 11.0 (regression from 11.0rc2)", "user": {"login": "martin-gorner", "id": 959847, "node_id": "MDQ6VXNlcjk1OTg0Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/959847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martin-gorner", "html_url": "https://github.com/martin-gorner", "followers_url": "https://api.github.com/users/martin-gorner/followers", "following_url": "https://api.github.com/users/martin-gorner/following{/other_user}", "gists_url": "https://api.github.com/users/martin-gorner/gists{/gist_id}", "starred_url": "https://api.github.com/users/martin-gorner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martin-gorner/subscriptions", "organizations_url": "https://api.github.com/users/martin-gorner/orgs", "repos_url": "https://api.github.com/users/martin-gorner/repos", "events_url": "https://api.github.com/users/martin-gorner/events{/privacy}", "received_events_url": "https://api.github.com/users/martin-gorner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-11-21T12:57:02Z", "updated_at": "2016-11-23T14:30:32Z", "closed_at": "2016-11-22T06:13:24Z", "author_association": "NONE", "body_html": "<p>Cannot run convolutional network on GPU using TF 11.<br>\nIt works fine under TF 11rc2. This looks like a regression.</p>\n<p>Issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"188867293\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5555\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5555/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5555\">#5555</a> indicated to install cudnn 5.1. I checked and that is what I appear to have. cudnn.h lists 5.1 as the major/minir version. I also compared the binary file libcudnn.5.dylib downloaded from NVIDIA with the one I have in /usr/local/cuda/lib and they are the same.</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"188867293\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5555\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5555/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5555\">#5555</a></p>\n<h3>Environment info</h3>\n<p>Operating System: MacOS</p>\n<p>Installed version of CUDA and cuDNN:<br>\nCUDA Driver Version: 8.0.51<br>\ncuDNN 5.1<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\nlrwxr-xr-x  1 root  wheel     33 Oct 24 15:40 /usr/local/cuda/lib/libcuda.1.dylib -&gt; /usr/local/cuda/lib/libcuda.dylib<br>\n-rwxr-xr-x  1 root  wheel  13504 Oct 24 22:27 /usr/local/cuda/lib/libcuda.dylib<br>\nlrwxr-xr-x@ 1 root  wheel     45 Sep 27 00:00 /usr/local/cuda/lib/libcudadevrt.a -&gt; /Developer/NVIDIA/CUDA-8.0/lib/libcudadevrt.a<br>\nlrwxr-xr-x@ 1 root  wheel     50 Sep 27 00:00 /usr/local/cuda/lib/libcudart.8.0.dylib -&gt; /Developer/NVIDIA/CUDA-8.0/lib/libcudart.8.0.dylib<br>\nlrwxr-xr-x@ 1 root  wheel     46 Sep 27 00:00 /usr/local/cuda/lib/libcudart.dylib -&gt; /Developer/NVIDIA/CUDA-8.0/lib/libcudart.dylib<br>\nlrwxr-xr-x@ 1 root  wheel     49 Sep 27 00:00 /usr/local/cuda/lib/libcudart_static.a -&gt; /Developer/NVIDIA/CUDA-8.0/lib/libcudart_static.a<br>\nlrwxr-xr-x  1 root  wheel     47 Oct 24 15:34 /usr/local/cuda/lib/libcudnn.5.dylib -&gt; /Developer/NVIDIA/CUDA-8.0/lib/libcudnn.5.dylib<br>\nlrwxr-xr-x  1 root  wheel     45 Oct 24 15:34 /usr/local/cuda/lib/libcudnn.dylib -&gt; /Developer/NVIDIA/CUDA-8.0/lib/libcudnn.dylib<br>\nlrwxr-xr-x  1 root  wheel     48 Oct 24 15:34 /usr/local/cuda/lib/libcudnn_static.a -&gt; /Developer/NVIDIA/CUDA-8.0/lib/libcudnn_static.a</p>\n<ol>\n<li>\n<p>A link to the pip package you installed:<br>\n<a href=\"https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0-py3-none-any.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0-py3-none-any.whl</a></p>\n</li>\n<li>\n<p>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.<br>\n0.11.0</p>\n</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p><a href=\"https://github.com/martin-gorner/tensorflow-mnist-tutorial/blob/master/mnist_3.0_convolutional.py\">https://github.com/martin-gorner/tensorflow-mnist-tutorial/blob/master/mnist_3.0_convolutional.py</a><br>\n(run this file with python3 - you will need three additional files from the same directory, namely tensorflowvisu*. matplotlib is also required: \"pip3 matplotlib\")</p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>It works under Tensorflow 11 rc2</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:<br>\nname: GeForce GTX 980 Ti<br>\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.076<br>\npciBusID 0000:c1:00.0<br>\nTotal memory: 6.00GiB<br>\nFree memory: 5.87GiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 980 Ti, pci bus id: 0000:c1:00.0)<br>\n<strong>E tensorflow/stream_executor/cuda/cuda_dnn.cc:368] Loaded runtime CuDNN library: 5105 (compatibility version 5100) but source was compiled with 5005 (compatibility version 5000).  If using a binary install, upgrade your CuDNN library to match.</strong>  If building from sources, make sure the library loaded at runtime matches a compatible version specified during compile configuration.<br>\nF tensorflow/core/kernels/conv_ops.cc:526] Check failed: stream-&gt;parent()-&gt;GetConvolveAlgorithms(&amp;algorithms)<br>\nAbort trap: 6</p>", "body_text": "Cannot run convolutional network on GPU using TF 11.\nIt works fine under TF 11rc2. This looks like a regression.\nIssue #5555 indicated to install cudnn 5.1. I checked and that is what I appear to have. cudnn.h lists 5.1 as the major/minir version. I also compared the binary file libcudnn.5.dylib downloaded from NVIDIA with the one I have in /usr/local/cuda/lib and they are the same.\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\n#5555\nEnvironment info\nOperating System: MacOS\nInstalled version of CUDA and cuDNN:\nCUDA Driver Version: 8.0.51\ncuDNN 5.1\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nlrwxr-xr-x  1 root  wheel     33 Oct 24 15:40 /usr/local/cuda/lib/libcuda.1.dylib -> /usr/local/cuda/lib/libcuda.dylib\n-rwxr-xr-x  1 root  wheel  13504 Oct 24 22:27 /usr/local/cuda/lib/libcuda.dylib\nlrwxr-xr-x@ 1 root  wheel     45 Sep 27 00:00 /usr/local/cuda/lib/libcudadevrt.a -> /Developer/NVIDIA/CUDA-8.0/lib/libcudadevrt.a\nlrwxr-xr-x@ 1 root  wheel     50 Sep 27 00:00 /usr/local/cuda/lib/libcudart.8.0.dylib -> /Developer/NVIDIA/CUDA-8.0/lib/libcudart.8.0.dylib\nlrwxr-xr-x@ 1 root  wheel     46 Sep 27 00:00 /usr/local/cuda/lib/libcudart.dylib -> /Developer/NVIDIA/CUDA-8.0/lib/libcudart.dylib\nlrwxr-xr-x@ 1 root  wheel     49 Sep 27 00:00 /usr/local/cuda/lib/libcudart_static.a -> /Developer/NVIDIA/CUDA-8.0/lib/libcudart_static.a\nlrwxr-xr-x  1 root  wheel     47 Oct 24 15:34 /usr/local/cuda/lib/libcudnn.5.dylib -> /Developer/NVIDIA/CUDA-8.0/lib/libcudnn.5.dylib\nlrwxr-xr-x  1 root  wheel     45 Oct 24 15:34 /usr/local/cuda/lib/libcudnn.dylib -> /Developer/NVIDIA/CUDA-8.0/lib/libcudnn.dylib\nlrwxr-xr-x  1 root  wheel     48 Oct 24 15:34 /usr/local/cuda/lib/libcudnn_static.a -> /Developer/NVIDIA/CUDA-8.0/lib/libcudnn_static.a\n\n\nA link to the pip package you installed:\nhttps://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0-py3-none-any.whl\n\n\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n0.11.0\n\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nhttps://github.com/martin-gorner/tensorflow-mnist-tutorial/blob/master/mnist_3.0_convolutional.py\n(run this file with python3 - you will need three additional files from the same directory, namely tensorflowvisu*. matplotlib is also required: \"pip3 matplotlib\")\nWhat other attempted solutions have you tried?\nIt works under Tensorflow 11 rc2\nLogs or other output that would be helpful\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\nname: GeForce GTX 980 Ti\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.076\npciBusID 0000:c1:00.0\nTotal memory: 6.00GiB\nFree memory: 5.87GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980 Ti, pci bus id: 0000:c1:00.0)\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:368] Loaded runtime CuDNN library: 5105 (compatibility version 5100) but source was compiled with 5005 (compatibility version 5000).  If using a binary install, upgrade your CuDNN library to match.  If building from sources, make sure the library loaded at runtime matches a compatible version specified during compile configuration.\nF tensorflow/core/kernels/conv_ops.cc:526] Check failed: stream->parent()->GetConvolveAlgorithms(&algorithms)\nAbort trap: 6", "body": "Cannot run convolutional network on GPU using TF 11.\r\nIt works fine under TF 11rc2. This looks like a regression.\r\n\r\nIssue #5555 indicated to install cudnn 5.1. I checked and that is what I appear to have. cudnn.h lists 5.1 as the major/minir version. I also compared the binary file libcudnn.5.dylib downloaded from NVIDIA with the one I have in /usr/local/cuda/lib and they are the same.\r\n\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\nhttps://github.com/tensorflow/tensorflow/issues/5555\r\n\r\n### Environment info\r\nOperating System: MacOS\r\n\r\nInstalled version of CUDA and cuDNN:\r\nCUDA Driver Version: 8.0.51 \r\ncuDNN 5.1\r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\nlrwxr-xr-x  1 root  wheel     33 Oct 24 15:40 /usr/local/cuda/lib/libcuda.1.dylib -> /usr/local/cuda/lib/libcuda.dylib\r\n-rwxr-xr-x  1 root  wheel  13504 Oct 24 22:27 /usr/local/cuda/lib/libcuda.dylib\r\nlrwxr-xr-x@ 1 root  wheel     45 Sep 27 00:00 /usr/local/cuda/lib/libcudadevrt.a -> /Developer/NVIDIA/CUDA-8.0/lib/libcudadevrt.a\r\nlrwxr-xr-x@ 1 root  wheel     50 Sep 27 00:00 /usr/local/cuda/lib/libcudart.8.0.dylib -> /Developer/NVIDIA/CUDA-8.0/lib/libcudart.8.0.dylib\r\nlrwxr-xr-x@ 1 root  wheel     46 Sep 27 00:00 /usr/local/cuda/lib/libcudart.dylib -> /Developer/NVIDIA/CUDA-8.0/lib/libcudart.dylib\r\nlrwxr-xr-x@ 1 root  wheel     49 Sep 27 00:00 /usr/local/cuda/lib/libcudart_static.a -> /Developer/NVIDIA/CUDA-8.0/lib/libcudart_static.a\r\nlrwxr-xr-x  1 root  wheel     47 Oct 24 15:34 /usr/local/cuda/lib/libcudnn.5.dylib -> /Developer/NVIDIA/CUDA-8.0/lib/libcudnn.5.dylib\r\nlrwxr-xr-x  1 root  wheel     45 Oct 24 15:34 /usr/local/cuda/lib/libcudnn.dylib -> /Developer/NVIDIA/CUDA-8.0/lib/libcudnn.dylib\r\nlrwxr-xr-x  1 root  wheel     48 Oct 24 15:34 /usr/local/cuda/lib/libcudnn_static.a -> /Developer/NVIDIA/CUDA-8.0/lib/libcudnn_static.a\r\n\r\n1. A link to the pip package you installed:\r\nhttps://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0-py3-none-any.whl\r\n\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\n0.11.0\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\nhttps://github.com/martin-gorner/tensorflow-mnist-tutorial/blob/master/mnist_3.0_convolutional.py\r\n(run this file with python3 - you will need three additional files from the same directory, namely tensorflowvisu*. matplotlib is also required: \"pip3 matplotlib\")\r\n\r\n### What other attempted solutions have you tried?\r\nIt works under Tensorflow 11 rc2\r\n\r\n### Logs or other output that would be helpful\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties: \r\nname: GeForce GTX 980 Ti\r\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.076\r\npciBusID 0000:c1:00.0\r\nTotal memory: 6.00GiB\r\nFree memory: 5.87GiB\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0 \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980 Ti, pci bus id: 0000:c1:00.0)\r\n**E tensorflow/stream_executor/cuda/cuda_dnn.cc:368] Loaded runtime CuDNN library: 5105 (compatibility version 5100) but source was compiled with 5005 (compatibility version 5000).  If using a binary install, upgrade your CuDNN library to match.**  If building from sources, make sure the library loaded at runtime matches a compatible version specified during compile configuration.\r\nF tensorflow/core/kernels/conv_ops.cc:526] Check failed: stream->parent()->GetConvolveAlgorithms(&algorithms) \r\nAbort trap: 6\r\n\r\n"}