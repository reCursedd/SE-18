{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13928", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13928/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13928/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13928/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13928", "id": 267832394, "node_id": "MDU6SXNzdWUyNjc4MzIzOTQ=", "number": 13928, "title": "'Numpy dangling symbolic links' when building from source", "user": {"login": "tsoernes", "id": 6782404, "node_id": "MDQ6VXNlcjY3ODI0MDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/6782404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsoernes", "html_url": "https://github.com/tsoernes", "followers_url": "https://api.github.com/users/tsoernes/followers", "following_url": "https://api.github.com/users/tsoernes/following{/other_user}", "gists_url": "https://api.github.com/users/tsoernes/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsoernes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsoernes/subscriptions", "organizations_url": "https://api.github.com/users/tsoernes/orgs", "repos_url": "https://api.github.com/users/tsoernes/repos", "events_url": "https://api.github.com/users/tsoernes/events{/privacy}", "received_events_url": "https://api.github.com/users/tsoernes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-23T22:03:54Z", "updated_at": "2018-07-03T08:28:08Z", "closed_at": "2017-10-23T22:57:02Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Fedora 26 x64</strong>:</li>\n<li><strong>TensorFlow installed from source</strong>:</li>\n<li><strong>TensorFlow version commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/53e7541cf7efa61ba22c9f042e07031d87c8f145/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/53e7541cf7efa61ba22c9f042e07031d87c8f145\"><tt>53e7541</tt></a> (oct 23 11:46)</strong>:</li>\n<li><strong>Python version 3.6</strong>:</li>\n<li><strong>Bazel version 0.5.4</strong>:</li>\n<li><strong>CUDA 8.0</strong></li>\n<li><strong>cuDNN 8.0 v7</strong>:</li>\n<li><strong>GPU model GTX 1060</strong>:</li>\n<li><strong>bazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package</strong>:</li>\n</ul>\n<pre><code>You have bazel 0.5.4- (@non-git) installed.\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\nFound possible Python library paths:\n  /usr/lib/python3.6/site-packages\n  /usr/lib64/python3.6/site-packages\nPlease input the desired Python library path to use.  Default is [/usr/lib/python3.6/site-packages]\nDo you wish to build TensorFlow with jemalloc as malloc support? [Y/n]: Y\njemalloc as malloc support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n\nNo Google Cloud Platform support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with Hadoop File System support? [Y/n]: n\nNo Hadoop File System support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n\nNo Amazon S3 File System support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: n\nNo XLA JIT support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with GDR support? [y/N]: n\nNo GDR support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with VERBS support? [y/N]: n\nNo VERBS support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with OpenCL support? [y/N]: n\nNo OpenCL support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with CUDA support? [y/N]: y\nCUDA support will be enabled for TensorFlow.\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 8.0]: \nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the cuDNN version you want to use. [Leave empty to default to cuDNN 6.0]: 7\nPlease specify the location where cuDNN 7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size. [Default is: 6.1]\nDo you want to use clang as CUDA compiler? [y/N]: n\nnvcc will be used as CUDA compiler.\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \nDo you wish to build TensorFlow with MPI support? [y/N]: n\nNo MPI support will be enabled for TensorFlow.\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:   \n\n\nAdd \"--config=mkl\" to your bazel command to build with MKL support.\nPlease note that MKL on MacOS or windows is still not supported.\nIf you would like to use a local MKL instead of downloading, please set the environment variable \"TF_MKL_ROOT\" every time before build.\nConfiguration finished\n ~ \ue0b0 progs \ue0b1 tensorflow \ue0b0 master \ue0b0 $ \ue0b0 bazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package\n......................................................................................................................................................................................................................................................................................................................\nWARNING: /home/torstein/progs/tensorflow/tensorflow/core/BUILD:1786:1: in includes attribute of cc_library rule //tensorflow/core:framework_headers_lib: '../../external/nsync/public' resolves to 'external/nsync/public' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/torstein/progs/tensorflow/tensorflow/tensorflow.bzl:1048:30.\nWARNING: /home/torstein/progs/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.\nWARNING: /home/torstein/progs/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.\nINFO: Found 1 target...\nINFO: From Compiling external/snappy/snappy-c.cc:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\nINFO: From Compiling external/snappy/snappy-sinksource.cc:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\nINFO: From Compiling external/snappy/snappy-stubs-internal.cc:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\nINFO: From Compiling external/snappy/snappy.cc:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\nexternal/snappy/snappy.cc: In member function 'void snappy::SnappySinkAllocator::Flush(size_t)':\nexternal/snappy/snappy.cc:1403:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\n     for (int i = 0; i &lt; blocks_.size(); ++i) {\n                     ~~^~~~~~~~~~~~~~~~\nIn file included from external/snappy/snappy-internal.h:34:0,\n                 from external/snappy/snappy.cc:30:\nexternal/snappy/snappy.cc: In instantiation of 'bool snappy::SnappyScatteredWriter&lt;Allocator&gt;::AppendFromSelf(size_t, size_t) [with Allocator = snappy::SnappySinkAllocator; size_t = long unsigned int]':\nexternal/snappy/snappy.cc:715:13:   required from 'void snappy::SnappyDecompressor::DecompressAllTags(Writer*) [with Writer = snappy::SnappyScatteredWriter&lt;snappy::SnappySinkAllocator&gt;]'\nexternal/snappy/snappy.cc:799:3:   required from 'bool snappy::InternalUncompressAllTags(snappy::SnappyDecompressor*, Writer*, snappy::uint32) [with Writer = snappy::SnappyScatteredWriter&lt;snappy::SnappySinkAllocator&gt;; snappy::uint32 = unsigned int]'\nexternal/snappy/snappy.cc:1460:78:   required from here\nexternal/snappy/snappy.cc:1316:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\n     if (PREDICT_TRUE(offset - 1u &lt; op_ptr_ - op_base_ &amp;&amp; op_end &lt;= op_limit_)) {\n                      ~~~~~~~~~~~~^~~~~~~~~~~~~\nexternal/snappy/snappy-stubs-internal.h:80:25: note: in definition of macro 'PREDICT_TRUE'\n #define PREDICT_TRUE(x) x\n                         ^\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_3kcompat.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ufunc_api.txt' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/arrayscalars.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/noprefix.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/utils.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ufuncobject.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_endian.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ndarrayobject.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_cpu.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_no_deprecated_api.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/multiarray_api.txt' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/_numpyconfig.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/old_defines.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/__ufunc_api.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/__multiarray_api.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_interrupt.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_1_7_deprecated_api.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/halffloat.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/_neighborhood_iterator_imp.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_common.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ndarraytypes.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/numpyconfig.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_os.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_math.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/arrayobject.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/oldnumeric.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: not all outputs were created or valid.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 58.925s, Critical Path: 20.53s\n</code></pre>", "body_text": "System information\n\nFedora 26 x64:\nTensorFlow installed from source:\nTensorFlow version commit 53e7541 (oct 23 11:46):\nPython version 3.6:\nBazel version 0.5.4:\nCUDA 8.0\ncuDNN 8.0 v7:\nGPU model GTX 1060:\nbazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package:\n\nYou have bazel 0.5.4- (@non-git) installed.\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\nFound possible Python library paths:\n  /usr/lib/python3.6/site-packages\n  /usr/lib64/python3.6/site-packages\nPlease input the desired Python library path to use.  Default is [/usr/lib/python3.6/site-packages]\nDo you wish to build TensorFlow with jemalloc as malloc support? [Y/n]: Y\njemalloc as malloc support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n\nNo Google Cloud Platform support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with Hadoop File System support? [Y/n]: n\nNo Hadoop File System support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n\nNo Amazon S3 File System support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: n\nNo XLA JIT support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with GDR support? [y/N]: n\nNo GDR support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with VERBS support? [y/N]: n\nNo VERBS support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with OpenCL support? [y/N]: n\nNo OpenCL support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with CUDA support? [y/N]: y\nCUDA support will be enabled for TensorFlow.\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 8.0]: \nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the cuDNN version you want to use. [Leave empty to default to cuDNN 6.0]: 7\nPlease specify the location where cuDNN 7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size. [Default is: 6.1]\nDo you want to use clang as CUDA compiler? [y/N]: n\nnvcc will be used as CUDA compiler.\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \nDo you wish to build TensorFlow with MPI support? [y/N]: n\nNo MPI support will be enabled for TensorFlow.\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:   \n\n\nAdd \"--config=mkl\" to your bazel command to build with MKL support.\nPlease note that MKL on MacOS or windows is still not supported.\nIf you would like to use a local MKL instead of downloading, please set the environment variable \"TF_MKL_ROOT\" every time before build.\nConfiguration finished\n ~ \ue0b0 progs \ue0b1 tensorflow \ue0b0 master \ue0b0 $ \ue0b0 bazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package\n......................................................................................................................................................................................................................................................................................................................\nWARNING: /home/torstein/progs/tensorflow/tensorflow/core/BUILD:1786:1: in includes attribute of cc_library rule //tensorflow/core:framework_headers_lib: '../../external/nsync/public' resolves to 'external/nsync/public' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/torstein/progs/tensorflow/tensorflow/tensorflow.bzl:1048:30.\nWARNING: /home/torstein/progs/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.\nWARNING: /home/torstein/progs/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.\nINFO: Found 1 target...\nINFO: From Compiling external/snappy/snappy-c.cc:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\nINFO: From Compiling external/snappy/snappy-sinksource.cc:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\nINFO: From Compiling external/snappy/snappy-stubs-internal.cc:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\nINFO: From Compiling external/snappy/snappy.cc:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\nexternal/snappy/snappy.cc: In member function 'void snappy::SnappySinkAllocator::Flush(size_t)':\nexternal/snappy/snappy.cc:1403:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\n     for (int i = 0; i < blocks_.size(); ++i) {\n                     ~~^~~~~~~~~~~~~~~~\nIn file included from external/snappy/snappy-internal.h:34:0,\n                 from external/snappy/snappy.cc:30:\nexternal/snappy/snappy.cc: In instantiation of 'bool snappy::SnappyScatteredWriter<Allocator>::AppendFromSelf(size_t, size_t) [with Allocator = snappy::SnappySinkAllocator; size_t = long unsigned int]':\nexternal/snappy/snappy.cc:715:13:   required from 'void snappy::SnappyDecompressor::DecompressAllTags(Writer*) [with Writer = snappy::SnappyScatteredWriter<snappy::SnappySinkAllocator>]'\nexternal/snappy/snappy.cc:799:3:   required from 'bool snappy::InternalUncompressAllTags(snappy::SnappyDecompressor*, Writer*, snappy::uint32) [with Writer = snappy::SnappyScatteredWriter<snappy::SnappySinkAllocator>; snappy::uint32 = unsigned int]'\nexternal/snappy/snappy.cc:1460:78:   required from here\nexternal/snappy/snappy.cc:1316:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\n     if (PREDICT_TRUE(offset - 1u < op_ptr_ - op_base_ && op_end <= op_limit_)) {\n                      ~~~~~~~~~~~~^~~~~~~~~~~~~\nexternal/snappy/snappy-stubs-internal.h:80:25: note: in definition of macro 'PREDICT_TRUE'\n #define PREDICT_TRUE(x) x\n                         ^\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_3kcompat.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ufunc_api.txt' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/arrayscalars.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/noprefix.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/utils.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ufuncobject.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_endian.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ndarrayobject.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_cpu.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_no_deprecated_api.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/multiarray_api.txt' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/_numpyconfig.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/old_defines.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/__ufunc_api.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/__multiarray_api.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_interrupt.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_1_7_deprecated_api.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/halffloat.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/_neighborhood_iterator_imp.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_common.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ndarraytypes.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/numpyconfig.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_os.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_math.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/arrayobject.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/oldnumeric.h' is a dangling symbolic link.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: not all outputs were created or valid.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 58.925s, Critical Path: 20.53s", "body": "### System information\r\n- **Fedora 26 x64**:\r\n- **TensorFlow installed from source**:\r\n- **TensorFlow version commit 53e7541cf7efa61ba22c9f042e07031d87c8f145 (oct 23 11:46)**:\r\n- **Python version 3.6**: \r\n- **Bazel version 0.5.4**:\r\n- **CUDA 8.0**\r\n- **cuDNN 8.0 v7**:\r\n- **GPU model GTX 1060**:\r\n- **bazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package**:\r\n\r\n```\r\nYou have bazel 0.5.4- (@non-git) installed.\r\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\r\nFound possible Python library paths:\r\n  /usr/lib/python3.6/site-packages\r\n  /usr/lib64/python3.6/site-packages\r\nPlease input the desired Python library path to use.  Default is [/usr/lib/python3.6/site-packages]\r\nDo you wish to build TensorFlow with jemalloc as malloc support? [Y/n]: Y\r\njemalloc as malloc support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n\r\nNo Google Cloud Platform support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with Hadoop File System support? [Y/n]: n\r\nNo Hadoop File System support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n\r\nNo Amazon S3 File System support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: n\r\nNo XLA JIT support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with GDR support? [y/N]: n\r\nNo GDR support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with VERBS support? [y/N]: n\r\nNo VERBS support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with OpenCL support? [y/N]: n\r\nNo OpenCL support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with CUDA support? [y/N]: y\r\nCUDA support will be enabled for TensorFlow.\r\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 8.0]: \r\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \r\nPlease specify the cuDNN version you want to use. [Leave empty to default to cuDNN 6.0]: 7\r\nPlease specify the location where cuDNN 7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size. [Default is: 6.1]\r\nDo you want to use clang as CUDA compiler? [y/N]: n\r\nnvcc will be used as CUDA compiler.\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \r\nDo you wish to build TensorFlow with MPI support? [y/N]: n\r\nNo MPI support will be enabled for TensorFlow.\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:   \r\n\r\n\r\nAdd \"--config=mkl\" to your bazel command to build with MKL support.\r\nPlease note that MKL on MacOS or windows is still not supported.\r\nIf you would like to use a local MKL instead of downloading, please set the environment variable \"TF_MKL_ROOT\" every time before build.\r\nConfiguration finished\r\n ~ \ue0b0 progs \ue0b1 tensorflow \ue0b0 master \ue0b0 $ \ue0b0 bazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n......................................................................................................................................................................................................................................................................................................................\r\nWARNING: /home/torstein/progs/tensorflow/tensorflow/core/BUILD:1786:1: in includes attribute of cc_library rule //tensorflow/core:framework_headers_lib: '../../external/nsync/public' resolves to 'external/nsync/public' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/torstein/progs/tensorflow/tensorflow/tensorflow.bzl:1048:30.\r\nWARNING: /home/torstein/progs/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.\r\nWARNING: /home/torstein/progs/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.\r\nINFO: Found 1 target...\r\nINFO: From Compiling external/snappy/snappy-c.cc:\r\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\r\nINFO: From Compiling external/snappy/snappy-sinksource.cc:\r\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\r\nINFO: From Compiling external/snappy/snappy-stubs-internal.cc:\r\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\r\nINFO: From Compiling external/snappy/snappy.cc:\r\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\r\nexternal/snappy/snappy.cc: In member function 'void snappy::SnappySinkAllocator::Flush(size_t)':\r\nexternal/snappy/snappy.cc:1403:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n     for (int i = 0; i < blocks_.size(); ++i) {\r\n                     ~~^~~~~~~~~~~~~~~~\r\nIn file included from external/snappy/snappy-internal.h:34:0,\r\n                 from external/snappy/snappy.cc:30:\r\nexternal/snappy/snappy.cc: In instantiation of 'bool snappy::SnappyScatteredWriter<Allocator>::AppendFromSelf(size_t, size_t) [with Allocator = snappy::SnappySinkAllocator; size_t = long unsigned int]':\r\nexternal/snappy/snappy.cc:715:13:   required from 'void snappy::SnappyDecompressor::DecompressAllTags(Writer*) [with Writer = snappy::SnappyScatteredWriter<snappy::SnappySinkAllocator>]'\r\nexternal/snappy/snappy.cc:799:3:   required from 'bool snappy::InternalUncompressAllTags(snappy::SnappyDecompressor*, Writer*, snappy::uint32) [with Writer = snappy::SnappyScatteredWriter<snappy::SnappySinkAllocator>; snappy::uint32 = unsigned int]'\r\nexternal/snappy/snappy.cc:1460:78:   required from here\r\nexternal/snappy/snappy.cc:1316:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n     if (PREDICT_TRUE(offset - 1u < op_ptr_ - op_base_ && op_end <= op_limit_)) {\r\n                      ~~~~~~~~~~~~^~~~~~~~~~~~~\r\nexternal/snappy/snappy-stubs-internal.h:80:25: note: in definition of macro 'PREDICT_TRUE'\r\n #define PREDICT_TRUE(x) x\r\n                         ^\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_3kcompat.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ufunc_api.txt' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/arrayscalars.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/noprefix.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/utils.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ufuncobject.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_endian.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ndarrayobject.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_cpu.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_no_deprecated_api.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/multiarray_api.txt' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/_numpyconfig.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/old_defines.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/__ufunc_api.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/__multiarray_api.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_interrupt.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_1_7_deprecated_api.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/halffloat.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/_neighborhood_iterator_imp.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_common.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/ndarraytypes.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/numpyconfig.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_os.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/npy_math.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/arrayobject.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: declared output 'external/local_config_python/numpy_include/numpy/oldnumeric.h' is a dangling symbolic link.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/local_config_python/BUILD:143:1: not all outputs were created or valid.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 58.925s, Critical Path: 20.53s\r\n```"}