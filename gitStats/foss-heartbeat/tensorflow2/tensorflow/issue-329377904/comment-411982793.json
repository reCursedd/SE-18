{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/411982793", "html_url": "https://github.com/tensorflow/tensorflow/issues/19770#issuecomment-411982793", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19770", "id": 411982793, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTk4Mjc5Mw==", "user": {"login": "duane-ibm", "id": 20570859, "node_id": "MDQ6VXNlcjIwNTcwODU5", "avatar_url": "https://avatars3.githubusercontent.com/u/20570859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duane-ibm", "html_url": "https://github.com/duane-ibm", "followers_url": "https://api.github.com/users/duane-ibm/followers", "following_url": "https://api.github.com/users/duane-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/duane-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/duane-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duane-ibm/subscriptions", "organizations_url": "https://api.github.com/users/duane-ibm/orgs", "repos_url": "https://api.github.com/users/duane-ibm/repos", "events_url": "https://api.github.com/users/duane-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/duane-ibm/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-10T05:52:56Z", "updated_at": "2018-08-10T05:52:56Z", "author_association": "NONE", "body_html": "<p>Hi Gunan,</p>\n<p>Below are the logs for building/testing java module for tensorflow v1.8.0 on s390x.</p>\n<p>Bazel build:</p>\n<pre><code>test@f6c9f944adde:~/tensorflow$ bazel build -c opt //tensorflow/java/...\nWARNING: /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE:1: Workspace name in /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE (@com_google_protobuf) does not match the name given in the repository's definition (@protobuf_archive); this will cause a build error in future versions\nINFO: Analysed 54 targets (0 packages loaded).\nINFO: Found 54 targets...\nERROR: /home/test/tensorflow/tensorflow/java/BUILD:54:1: Building Java resource jar failed (Segmentation fault): singlejar failed: error executing command external/bazel_tools/tools/jdk/singlejar/singlejar --normalize --dont_change_compression --exclude_build_data --output bazel-out/host/bin/tensorflow/java/libprocessor_library.jar --sources ... (remaining 3 argument(s) skipped)\nINFO: Elapsed time: 2.837s, Critical Path: 0.67s\nFAILED: Build did NOT complete successfully\n</code></pre>\n<p>Bazel test:</p>\n<pre><code>test@f6c9f944adde:~/tensorflow$ bazel test -c opt //tensorflow/java/...\n....................................................................................................\nWARNING: /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE:1: Workspace name in /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE (@com_google_protobuf) does not match the name given in the repository's definition (@protobuf_archive); this will cause a build error in future versions\nINFO: Analysed 54 targets (74 packages loaded).\nINFO: Found 41 targets and 13 test targets...\nINFO: From Executing genrule //tensorflow/java:java_op_gen_sources:\n2018-08-10 04:09:38.204968: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'array' operations\n2018-08-10 04:09:38.216246: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'candidate_sampling' operations\n2018-08-10 04:09:38.227087: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'control_flow' operations\n2018-08-10 04:09:38.238592: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'data_flow' operations\n2018-08-10 04:09:38.250242: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'image' operations\n2018-08-10 04:09:38.260534: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'io' operations\n2018-08-10 04:09:38.276852: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'linalg' operations\n2018-08-10 04:09:38.292713: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'logging' operations\n2018-08-10 04:09:38.307859: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'math' operations\n2018-08-10 04:09:38.321356: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'nn' operations\n2018-08-10 04:09:38.334795: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'no' operations\n2018-08-10 04:09:38.347530: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'parsing' operations\n2018-08-10 04:09:38.366438: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'random' operations\n2018-08-10 04:09:38.375990: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'sparse' operations\n2018-08-10 04:09:38.391752: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'state' operations\n2018-08-10 04:09:38.401685: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'string' operations\n2018-08-10 04:09:38.416854: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'training' operations\n2018-08-10 04:09:38.437646: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'user' operations\nERROR: /home/test/tensorflow/tensorflow/java/BUILD:54:1: Building Java resource jar failed (Segmentation fault): singlejar failed: error executing command external/bazel_tools/tools/jdk/singlejar/singlejar --normalize --dont_change_compression --exclude_build_data --output bazel-out/host/bin/tensorflow/java/libprocessor_library.jar --sources ... (remaining 3 argument(s) skipped)\nINFO: Elapsed time: 196.828s, Critical Path: 33.94s\nFAILED: Build did NOT complete successfully\n//tensorflow/java:ConstantTest                                        NO STATUS\n//tensorflow/java:GraphTest                                           NO STATUS\n//tensorflow/java:OperandsTest                                        NO STATUS\n//tensorflow/java:OperationBuilderTest                                NO STATUS\n//tensorflow/java:OperationTest                                       NO STATUS\n//tensorflow/java:PrimitiveOpTest                                     NO STATUS\n//tensorflow/java:SavedModelBundleTest                                NO STATUS\n//tensorflow/java:ScopeTest                                           NO STATUS\n//tensorflow/java:SessionTest                                         NO STATUS\n//tensorflow/java:ShapeTest                                           NO STATUS\n//tensorflow/java:TensorFlowTest                                      NO STATUS\n//tensorflow/java:TensorTest                                          NO STATUS\n//tensorflow/java:source_writer_test                                  NO STATUS\n\nExecuted 0 out of 13 tests: 13 were skipped.\n</code></pre>\n<p>Java version:</p>\n<pre><code>test@f6c9f944adde:~/tensorflow$ java -version\nopenjdk version \"1.8.0_162\"\nOpenJDK Runtime Environment (build 1.8.0_162-b12)\nEclipse OpenJ9 VM (build openj9-0.8.0, JRE 1.8.0 Linux s390x-64 Compressed References 20180315_97 (JIT enabled, AOT enabled)\nOpenJ9   - e24e8aa9\nOMR      - 3e8296b4\nJCL      - ee1e77df1d based on jdk8u162-b12)\n</code></pre>\n<p>Bazel version:</p>\n<pre><code>test@f6c9f944adde:~/tensorflow$ bazel version\nBuild label: 0.12.0- (@non-git)\nBuild target: bazel-out/s390x-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Sat Apr 23 09:09:27 +50355 (1526892800967)\nBuild timestamp: 1526892800967\nBuild timestamp as int: 1526892800967\n</code></pre>", "body_text": "Hi Gunan,\nBelow are the logs for building/testing java module for tensorflow v1.8.0 on s390x.\nBazel build:\ntest@f6c9f944adde:~/tensorflow$ bazel build -c opt //tensorflow/java/...\nWARNING: /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE:1: Workspace name in /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE (@com_google_protobuf) does not match the name given in the repository's definition (@protobuf_archive); this will cause a build error in future versions\nINFO: Analysed 54 targets (0 packages loaded).\nINFO: Found 54 targets...\nERROR: /home/test/tensorflow/tensorflow/java/BUILD:54:1: Building Java resource jar failed (Segmentation fault): singlejar failed: error executing command external/bazel_tools/tools/jdk/singlejar/singlejar --normalize --dont_change_compression --exclude_build_data --output bazel-out/host/bin/tensorflow/java/libprocessor_library.jar --sources ... (remaining 3 argument(s) skipped)\nINFO: Elapsed time: 2.837s, Critical Path: 0.67s\nFAILED: Build did NOT complete successfully\n\nBazel test:\ntest@f6c9f944adde:~/tensorflow$ bazel test -c opt //tensorflow/java/...\n....................................................................................................\nWARNING: /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE:1: Workspace name in /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE (@com_google_protobuf) does not match the name given in the repository's definition (@protobuf_archive); this will cause a build error in future versions\nINFO: Analysed 54 targets (74 packages loaded).\nINFO: Found 41 targets and 13 test targets...\nINFO: From Executing genrule //tensorflow/java:java_op_gen_sources:\n2018-08-10 04:09:38.204968: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'array' operations\n2018-08-10 04:09:38.216246: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'candidate_sampling' operations\n2018-08-10 04:09:38.227087: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'control_flow' operations\n2018-08-10 04:09:38.238592: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'data_flow' operations\n2018-08-10 04:09:38.250242: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'image' operations\n2018-08-10 04:09:38.260534: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'io' operations\n2018-08-10 04:09:38.276852: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'linalg' operations\n2018-08-10 04:09:38.292713: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'logging' operations\n2018-08-10 04:09:38.307859: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'math' operations\n2018-08-10 04:09:38.321356: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'nn' operations\n2018-08-10 04:09:38.334795: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'no' operations\n2018-08-10 04:09:38.347530: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'parsing' operations\n2018-08-10 04:09:38.366438: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'random' operations\n2018-08-10 04:09:38.375990: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'sparse' operations\n2018-08-10 04:09:38.391752: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'state' operations\n2018-08-10 04:09:38.401685: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'string' operations\n2018-08-10 04:09:38.416854: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'training' operations\n2018-08-10 04:09:38.437646: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'user' operations\nERROR: /home/test/tensorflow/tensorflow/java/BUILD:54:1: Building Java resource jar failed (Segmentation fault): singlejar failed: error executing command external/bazel_tools/tools/jdk/singlejar/singlejar --normalize --dont_change_compression --exclude_build_data --output bazel-out/host/bin/tensorflow/java/libprocessor_library.jar --sources ... (remaining 3 argument(s) skipped)\nINFO: Elapsed time: 196.828s, Critical Path: 33.94s\nFAILED: Build did NOT complete successfully\n//tensorflow/java:ConstantTest                                        NO STATUS\n//tensorflow/java:GraphTest                                           NO STATUS\n//tensorflow/java:OperandsTest                                        NO STATUS\n//tensorflow/java:OperationBuilderTest                                NO STATUS\n//tensorflow/java:OperationTest                                       NO STATUS\n//tensorflow/java:PrimitiveOpTest                                     NO STATUS\n//tensorflow/java:SavedModelBundleTest                                NO STATUS\n//tensorflow/java:ScopeTest                                           NO STATUS\n//tensorflow/java:SessionTest                                         NO STATUS\n//tensorflow/java:ShapeTest                                           NO STATUS\n//tensorflow/java:TensorFlowTest                                      NO STATUS\n//tensorflow/java:TensorTest                                          NO STATUS\n//tensorflow/java:source_writer_test                                  NO STATUS\n\nExecuted 0 out of 13 tests: 13 were skipped.\n\nJava version:\ntest@f6c9f944adde:~/tensorflow$ java -version\nopenjdk version \"1.8.0_162\"\nOpenJDK Runtime Environment (build 1.8.0_162-b12)\nEclipse OpenJ9 VM (build openj9-0.8.0, JRE 1.8.0 Linux s390x-64 Compressed References 20180315_97 (JIT enabled, AOT enabled)\nOpenJ9   - e24e8aa9\nOMR      - 3e8296b4\nJCL      - ee1e77df1d based on jdk8u162-b12)\n\nBazel version:\ntest@f6c9f944adde:~/tensorflow$ bazel version\nBuild label: 0.12.0- (@non-git)\nBuild target: bazel-out/s390x-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Sat Apr 23 09:09:27 +50355 (1526892800967)\nBuild timestamp: 1526892800967\nBuild timestamp as int: 1526892800967", "body": "Hi Gunan, \r\n\r\nBelow are the logs for building/testing java module for tensorflow v1.8.0 on s390x.\r\n\r\nBazel build:\r\n```\r\ntest@f6c9f944adde:~/tensorflow$ bazel build -c opt //tensorflow/java/...\r\nWARNING: /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE:1: Workspace name in /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE (@com_google_protobuf) does not match the name given in the repository's definition (@protobuf_archive); this will cause a build error in future versions\r\nINFO: Analysed 54 targets (0 packages loaded).\r\nINFO: Found 54 targets...\r\nERROR: /home/test/tensorflow/tensorflow/java/BUILD:54:1: Building Java resource jar failed (Segmentation fault): singlejar failed: error executing command external/bazel_tools/tools/jdk/singlejar/singlejar --normalize --dont_change_compression --exclude_build_data --output bazel-out/host/bin/tensorflow/java/libprocessor_library.jar --sources ... (remaining 3 argument(s) skipped)\r\nINFO: Elapsed time: 2.837s, Critical Path: 0.67s\r\nFAILED: Build did NOT complete successfully\r\n```\r\n\r\nBazel test:\r\n```\r\ntest@f6c9f944adde:~/tensorflow$ bazel test -c opt //tensorflow/java/...\r\n....................................................................................................\r\nWARNING: /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE:1: Workspace name in /home/test/.cache/bazel/_bazel_test/24685d064c07f7346b48c2d13ec3ad69/external/protobuf_archive/WORKSPACE (@com_google_protobuf) does not match the name given in the repository's definition (@protobuf_archive); this will cause a build error in future versions\r\nINFO: Analysed 54 targets (74 packages loaded).\r\nINFO: Found 41 targets and 13 test targets...\r\nINFO: From Executing genrule //tensorflow/java:java_op_gen_sources:\r\n2018-08-10 04:09:38.204968: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'array' operations\r\n2018-08-10 04:09:38.216246: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'candidate_sampling' operations\r\n2018-08-10 04:09:38.227087: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'control_flow' operations\r\n2018-08-10 04:09:38.238592: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'data_flow' operations\r\n2018-08-10 04:09:38.250242: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'image' operations\r\n2018-08-10 04:09:38.260534: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'io' operations\r\n2018-08-10 04:09:38.276852: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'linalg' operations\r\n2018-08-10 04:09:38.292713: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'logging' operations\r\n2018-08-10 04:09:38.307859: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'math' operations\r\n2018-08-10 04:09:38.321356: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'nn' operations\r\n2018-08-10 04:09:38.334795: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'no' operations\r\n2018-08-10 04:09:38.347530: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'parsing' operations\r\n2018-08-10 04:09:38.366438: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'random' operations\r\n2018-08-10 04:09:38.375990: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'sparse' operations\r\n2018-08-10 04:09:38.391752: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'state' operations\r\n2018-08-10 04:09:38.401685: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'string' operations\r\n2018-08-10 04:09:38.416854: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'training' operations\r\n2018-08-10 04:09:38.437646: I tensorflow/java/src/gen/cc/op_generator.cc:61] Generating Java wrappers for 'user' operations\r\nERROR: /home/test/tensorflow/tensorflow/java/BUILD:54:1: Building Java resource jar failed (Segmentation fault): singlejar failed: error executing command external/bazel_tools/tools/jdk/singlejar/singlejar --normalize --dont_change_compression --exclude_build_data --output bazel-out/host/bin/tensorflow/java/libprocessor_library.jar --sources ... (remaining 3 argument(s) skipped)\r\nINFO: Elapsed time: 196.828s, Critical Path: 33.94s\r\nFAILED: Build did NOT complete successfully\r\n//tensorflow/java:ConstantTest                                        NO STATUS\r\n//tensorflow/java:GraphTest                                           NO STATUS\r\n//tensorflow/java:OperandsTest                                        NO STATUS\r\n//tensorflow/java:OperationBuilderTest                                NO STATUS\r\n//tensorflow/java:OperationTest                                       NO STATUS\r\n//tensorflow/java:PrimitiveOpTest                                     NO STATUS\r\n//tensorflow/java:SavedModelBundleTest                                NO STATUS\r\n//tensorflow/java:ScopeTest                                           NO STATUS\r\n//tensorflow/java:SessionTest                                         NO STATUS\r\n//tensorflow/java:ShapeTest                                           NO STATUS\r\n//tensorflow/java:TensorFlowTest                                      NO STATUS\r\n//tensorflow/java:TensorTest                                          NO STATUS\r\n//tensorflow/java:source_writer_test                                  NO STATUS\r\n\r\nExecuted 0 out of 13 tests: 13 were skipped.\r\n```\r\n\r\nJava version:\r\n```\r\ntest@f6c9f944adde:~/tensorflow$ java -version\r\nopenjdk version \"1.8.0_162\"\r\nOpenJDK Runtime Environment (build 1.8.0_162-b12)\r\nEclipse OpenJ9 VM (build openj9-0.8.0, JRE 1.8.0 Linux s390x-64 Compressed References 20180315_97 (JIT enabled, AOT enabled)\r\nOpenJ9   - e24e8aa9\r\nOMR      - 3e8296b4\r\nJCL      - ee1e77df1d based on jdk8u162-b12)\r\n```\r\n\r\nBazel version:\r\n```\r\ntest@f6c9f944adde:~/tensorflow$ bazel version\r\nBuild label: 0.12.0- (@non-git)\r\nBuild target: bazel-out/s390x-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Sat Apr 23 09:09:27 +50355 (1526892800967)\r\nBuild timestamp: 1526892800967\r\nBuild timestamp as int: 1526892800967\r\n```"}