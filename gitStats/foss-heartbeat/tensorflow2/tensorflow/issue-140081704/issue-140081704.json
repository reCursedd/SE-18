{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1459", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1459/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1459/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1459/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1459", "id": 140081704, "node_id": "MDU6SXNzdWUxNDAwODE3MDQ=", "number": 1459, "title": "partial_run segfault", "user": {"login": "zayd", "id": 1335708, "node_id": "MDQ6VXNlcjEzMzU3MDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1335708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zayd", "html_url": "https://github.com/zayd", "followers_url": "https://api.github.com/users/zayd/followers", "following_url": "https://api.github.com/users/zayd/following{/other_user}", "gists_url": "https://api.github.com/users/zayd/gists{/gist_id}", "starred_url": "https://api.github.com/users/zayd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zayd/subscriptions", "organizations_url": "https://api.github.com/users/zayd/orgs", "repos_url": "https://api.github.com/users/zayd/repos", "events_url": "https://api.github.com/users/zayd/events{/privacy}", "received_events_url": "https://api.github.com/users/zayd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "yuanbyu", "id": 2342391, "node_id": "MDQ6VXNlcjIzNDIzOTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/2342391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuanbyu", "html_url": "https://github.com/yuanbyu", "followers_url": "https://api.github.com/users/yuanbyu/followers", "following_url": "https://api.github.com/users/yuanbyu/following{/other_user}", "gists_url": "https://api.github.com/users/yuanbyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuanbyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuanbyu/subscriptions", "organizations_url": "https://api.github.com/users/yuanbyu/orgs", "repos_url": "https://api.github.com/users/yuanbyu/repos", "events_url": "https://api.github.com/users/yuanbyu/events{/privacy}", "received_events_url": "https://api.github.com/users/yuanbyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yuanbyu", "id": 2342391, "node_id": "MDQ6VXNlcjIzNDIzOTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/2342391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuanbyu", "html_url": "https://github.com/yuanbyu", "followers_url": "https://api.github.com/users/yuanbyu/followers", "following_url": "https://api.github.com/users/yuanbyu/following{/other_user}", "gists_url": "https://api.github.com/users/yuanbyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuanbyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuanbyu/subscriptions", "organizations_url": "https://api.github.com/users/yuanbyu/orgs", "repos_url": "https://api.github.com/users/yuanbyu/repos", "events_url": "https://api.github.com/users/yuanbyu/events{/privacy}", "received_events_url": "https://api.github.com/users/yuanbyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2016-03-11T04:19:23Z", "updated_at": "2016-03-12T01:06:46Z", "closed_at": "2016-03-12T01:06:46Z", "author_association": "NONE", "body_html": "<p>Running partial_run twice results in a segfault. By running twice I mean: setting up placeholder, ops and completing one run through the graph and then trying to do another run.</p>\n<h3>Environment info</h3>\n<p>Operating System: Linux.<br>\nVersion: 0.7.1<br>\nHash: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/028d0b46004c921acd48fdd0ec18128d79e18bf4/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/028d0b46004c921acd48fdd0ec18128d79e18bf4\"><tt>028d0b4</tt></a></p>\n<h3>Steps to reproduce</h3>\n<pre><code>import tensorflow as tf\nfrom tensorflow.python import array_ops\nfrom tensorflow.python import math_ops\nfrom tensorflow.python.framework import dtypes\nsess = tf.Session()\n\na = array_ops.placeholder(dtypes.float32, shape=[])\nb = array_ops.placeholder(dtypes.float32, shape=[])\nr1 = math_ops.add(a, b)\n\nh = sess.partial_run_setup([r1], [a, b])\nres = sess.partial_run(h, r1, feed_dict={a: 1, b: 2})\n\nh = sess.partial_run_setup([r1], [a, b])\nres = sess.partial_run(h, r1, feed_dict={a: 1, b: 2})\n\n&gt; Segmentation fault (core dumped)\n</code></pre>\n<h3>What have you tried?</h3>\n<ol>\n<li>Changing execution target to CPU instead of GPU (same problem)</li>\n<li>Reusing the same handle for the second run results in a <code>StatusNotOK</code> error because the input has already been fed</li>\n</ol>\n<h3>Logs or other output that would be helpful</h3>\n<p>Core dump is 1.7 GB. Can attach if useful</p>", "body_text": "Running partial_run twice results in a segfault. By running twice I mean: setting up placeholder, ops and completing one run through the graph and then trying to do another run.\nEnvironment info\nOperating System: Linux.\nVersion: 0.7.1\nHash: 028d0b4\nSteps to reproduce\nimport tensorflow as tf\nfrom tensorflow.python import array_ops\nfrom tensorflow.python import math_ops\nfrom tensorflow.python.framework import dtypes\nsess = tf.Session()\n\na = array_ops.placeholder(dtypes.float32, shape=[])\nb = array_ops.placeholder(dtypes.float32, shape=[])\nr1 = math_ops.add(a, b)\n\nh = sess.partial_run_setup([r1], [a, b])\nres = sess.partial_run(h, r1, feed_dict={a: 1, b: 2})\n\nh = sess.partial_run_setup([r1], [a, b])\nres = sess.partial_run(h, r1, feed_dict={a: 1, b: 2})\n\n> Segmentation fault (core dumped)\n\nWhat have you tried?\n\nChanging execution target to CPU instead of GPU (same problem)\nReusing the same handle for the second run results in a StatusNotOK error because the input has already been fed\n\nLogs or other output that would be helpful\nCore dump is 1.7 GB. Can attach if useful", "body": "Running partial_run twice results in a segfault. By running twice I mean: setting up placeholder, ops and completing one run through the graph and then trying to do another run.\n### Environment info\n\nOperating System: Linux. \nVersion: 0.7.1\nHash: 028d0b4\n### Steps to reproduce\n\n```\nimport tensorflow as tf\nfrom tensorflow.python import array_ops\nfrom tensorflow.python import math_ops\nfrom tensorflow.python.framework import dtypes\nsess = tf.Session()\n\na = array_ops.placeholder(dtypes.float32, shape=[])\nb = array_ops.placeholder(dtypes.float32, shape=[])\nr1 = math_ops.add(a, b)\n\nh = sess.partial_run_setup([r1], [a, b])\nres = sess.partial_run(h, r1, feed_dict={a: 1, b: 2})\n\nh = sess.partial_run_setup([r1], [a, b])\nres = sess.partial_run(h, r1, feed_dict={a: 1, b: 2})\n\n> Segmentation fault (core dumped)\n```\n### What have you tried?\n1. Changing execution target to CPU instead of GPU (same problem)\n2. Reusing the same handle for the second run results in a `StatusNotOK` error because the input has already been fed\n### Logs or other output that would be helpful\n\nCore dump is 1.7 GB. Can attach if useful\n"}