{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19109", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19109/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19109/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19109/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19109", "id": 320531656, "node_id": "MDU6SXNzdWUzMjA1MzE2NTY=", "number": 19109, "title": "IOError: [Errno 21] Is a directory: '/tmp/speech_dataset/'", "user": {"login": "UrimLimani", "id": 25482150, "node_id": "MDQ6VXNlcjI1NDgyMTUw", "avatar_url": "https://avatars1.githubusercontent.com/u/25482150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/UrimLimani", "html_url": "https://github.com/UrimLimani", "followers_url": "https://api.github.com/users/UrimLimani/followers", "following_url": "https://api.github.com/users/UrimLimani/following{/other_user}", "gists_url": "https://api.github.com/users/UrimLimani/gists{/gist_id}", "starred_url": "https://api.github.com/users/UrimLimani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/UrimLimani/subscriptions", "organizations_url": "https://api.github.com/users/UrimLimani/orgs", "repos_url": "https://api.github.com/users/UrimLimani/repos", "events_url": "https://api.github.com/users/UrimLimani/events{/privacy}", "received_events_url": "https://api.github.com/users/UrimLimani/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "angersson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angersson", "html_url": "https://github.com/angersson", "followers_url": "https://api.github.com/users/angersson/followers", "following_url": "https://api.github.com/users/angersson/following{/other_user}", "gists_url": "https://api.github.com/users/angersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angersson/subscriptions", "organizations_url": "https://api.github.com/users/angersson/orgs", "repos_url": "https://api.github.com/users/angersson/repos", "events_url": "https://api.github.com/users/angersson/events{/privacy}", "received_events_url": "https://api.github.com/users/angersson/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "angersson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angersson", "html_url": "https://github.com/angersson", "followers_url": "https://api.github.com/users/angersson/followers", "following_url": "https://api.github.com/users/angersson/following{/other_user}", "gists_url": "https://api.github.com/users/angersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angersson/subscriptions", "organizations_url": "https://api.github.com/users/angersson/orgs", "repos_url": "https://api.github.com/users/angersson/repos", "events_url": "https://api.github.com/users/angersson/events{/privacy}", "received_events_url": "https://api.github.com/users/angersson/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-05-05T18:36:17Z", "updated_at": "2018-05-08T08:21:15Z", "closed_at": "2018-05-08T08:21:15Z", "author_association": "NONE", "body_html": "<p>I'm following the speech recognition tutorial from TensorFlow, and when I'm running the following command, which downloads the dataset provided by TensorFlow, it runs perfectly.</p>\n<p><code>python tensorflow/examples/speech_commands/train.py</code></p>\n<p>However, when I'm changing the defaults, so that it points to my dataset, it throws the following error:</p>\n<pre><code>Traceback (most recent call last):\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/train.py\", line 428, in &lt;module&gt;\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 126, in run\n    _sys.exit(main(argv))\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/train.py\", line 106, in main\n    FLAGS.testing_percentage, model_settings)\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/input_data.py\", line 158, in __init__\n    self.maybe_download_and_extract_dataset(data_url, data_dir)\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/input_data.py\", line 204, in maybe_download_and_extract_dataset\n    tarfile.open(filepath, 'r:gz').extractall(dest_directory)\n  File \"/usr/lib64/python2.7/tarfile.py\", line 1693, in open\n    return func(name, filemode, fileobj, **kwargs)\n  File \"/usr/lib64/python2.7/tarfile.py\", line 1740, in gzopen\n    fileobj = gzip.GzipFile(name, mode, compresslevel, fileobj)\n  File \"/usr/lib64/python2.7/gzip.py\", line 94, in __init__\n    fileobj = self.myfileobj = __builtin__.open(filename, mode or 'rb')\nIOError: [Errno 21] Is a directory: '/tmp/speech_dataset/' \n\nThe command I'm running is:\n`python tensorflow/examples/speech_commands/train.py --data_url=path/to/data/ --sample_rate=20000 --wanted_words=one,two,three,four,five,six,seven,eight,nine`\n</code></pre>\n<p>Now, the error says that '/tmp/speech_dataset/' is a directory, but it is expecting a file, I guess. When I looked at <code>train.py</code> file, found the following code:</p>\n<pre><code>parser.add_argument(\n      '--data_dir',\n      type=str,\n      default='/tmp/speech_dataset/',\n      help=\"\"\"\\\n      Where to download the speech training data to.\n      \"\"\")\n</code></pre>\n<p>The <code>--data-dir </code>argument defines where the files from the downloaded dataset should be stored. However, I'm not changing that argument at all, nor does the code need to save any data, since I already have the data on my computer, where I define them at <code>--data-url</code> argument. It seems to me that this is a bug in the code.</p>\n<p>Does anyone has experience with speech recognition on TensorFlow and know where the problem might be?</p>", "body_text": "I'm following the speech recognition tutorial from TensorFlow, and when I'm running the following command, which downloads the dataset provided by TensorFlow, it runs perfectly.\npython tensorflow/examples/speech_commands/train.py\nHowever, when I'm changing the defaults, so that it points to my dataset, it throws the following error:\nTraceback (most recent call last):\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/train.py\", line 428, in <module>\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 126, in run\n    _sys.exit(main(argv))\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/train.py\", line 106, in main\n    FLAGS.testing_percentage, model_settings)\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/input_data.py\", line 158, in __init__\n    self.maybe_download_and_extract_dataset(data_url, data_dir)\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/input_data.py\", line 204, in maybe_download_and_extract_dataset\n    tarfile.open(filepath, 'r:gz').extractall(dest_directory)\n  File \"/usr/lib64/python2.7/tarfile.py\", line 1693, in open\n    return func(name, filemode, fileobj, **kwargs)\n  File \"/usr/lib64/python2.7/tarfile.py\", line 1740, in gzopen\n    fileobj = gzip.GzipFile(name, mode, compresslevel, fileobj)\n  File \"/usr/lib64/python2.7/gzip.py\", line 94, in __init__\n    fileobj = self.myfileobj = __builtin__.open(filename, mode or 'rb')\nIOError: [Errno 21] Is a directory: '/tmp/speech_dataset/' \n\nThe command I'm running is:\n`python tensorflow/examples/speech_commands/train.py --data_url=path/to/data/ --sample_rate=20000 --wanted_words=one,two,three,four,five,six,seven,eight,nine`\n\nNow, the error says that '/tmp/speech_dataset/' is a directory, but it is expecting a file, I guess. When I looked at train.py file, found the following code:\nparser.add_argument(\n      '--data_dir',\n      type=str,\n      default='/tmp/speech_dataset/',\n      help=\"\"\"\\\n      Where to download the speech training data to.\n      \"\"\")\n\nThe --data-dir argument defines where the files from the downloaded dataset should be stored. However, I'm not changing that argument at all, nor does the code need to save any data, since I already have the data on my computer, where I define them at --data-url argument. It seems to me that this is a bug in the code.\nDoes anyone has experience with speech recognition on TensorFlow and know where the problem might be?", "body": "I'm following the speech recognition tutorial from TensorFlow, and when I'm running the following command, which downloads the dataset provided by TensorFlow, it runs perfectly.\r\n\r\n`python tensorflow/examples/speech_commands/train.py`\r\n\r\nHowever, when I'm changing the defaults, so that it points to my dataset, it throws the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/train.py\", line 428, in <module>\r\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 126, in run\r\n    _sys.exit(main(argv))\r\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/train.py\", line 106, in main\r\n    FLAGS.testing_percentage, model_settings)\r\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/input_data.py\", line 158, in __init__\r\n    self.maybe_download_and_extract_dataset(data_url, data_dir)\r\n  File \"/home/users2/lmn/.local/lib/python2.7/site-packages/tensorflow/examples/speech_commands/input_data.py\", line 204, in maybe_download_and_extract_dataset\r\n    tarfile.open(filepath, 'r:gz').extractall(dest_directory)\r\n  File \"/usr/lib64/python2.7/tarfile.py\", line 1693, in open\r\n    return func(name, filemode, fileobj, **kwargs)\r\n  File \"/usr/lib64/python2.7/tarfile.py\", line 1740, in gzopen\r\n    fileobj = gzip.GzipFile(name, mode, compresslevel, fileobj)\r\n  File \"/usr/lib64/python2.7/gzip.py\", line 94, in __init__\r\n    fileobj = self.myfileobj = __builtin__.open(filename, mode or 'rb')\r\nIOError: [Errno 21] Is a directory: '/tmp/speech_dataset/' \r\n\r\nThe command I'm running is:\r\n`python tensorflow/examples/speech_commands/train.py --data_url=path/to/data/ --sample_rate=20000 --wanted_words=one,two,three,four,five,six,seven,eight,nine`\r\n```\r\n\r\nNow, the error says that '/tmp/speech_dataset/' is a directory, but it is expecting a file, I guess. When I looked at `train.py` file, found the following code:\r\n\r\n```\r\nparser.add_argument(\r\n      '--data_dir',\r\n      type=str,\r\n      default='/tmp/speech_dataset/',\r\n      help=\"\"\"\\\r\n      Where to download the speech training data to.\r\n      \"\"\")\r\n```\r\nThe `--data-dir `argument defines where the files from the downloaded dataset should be stored. However, I'm not changing that argument at all, nor does the code need to save any data, since I already have the data on my computer, where I define them at `--data-url` argument. It seems to me that this is a bug in the code.\r\n\r\nDoes anyone has experience with speech recognition on TensorFlow and know where the problem might be?"}