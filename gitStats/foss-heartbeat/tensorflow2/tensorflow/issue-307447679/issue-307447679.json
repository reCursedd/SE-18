{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17910", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17910/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17910/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17910/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17910", "id": 307447679, "node_id": "MDU6SXNzdWUzMDc0NDc2Nzk=", "number": 17910, "title": "Timeline Logging Duplicates of Operations", "user": {"login": "xilenteyex", "id": 10864603, "node_id": "MDQ6VXNlcjEwODY0NjAz", "avatar_url": "https://avatars1.githubusercontent.com/u/10864603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xilenteyex", "html_url": "https://github.com/xilenteyex", "followers_url": "https://api.github.com/users/xilenteyex/followers", "following_url": "https://api.github.com/users/xilenteyex/following{/other_user}", "gists_url": "https://api.github.com/users/xilenteyex/gists{/gist_id}", "starred_url": "https://api.github.com/users/xilenteyex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xilenteyex/subscriptions", "organizations_url": "https://api.github.com/users/xilenteyex/orgs", "repos_url": "https://api.github.com/users/xilenteyex/repos", "events_url": "https://api.github.com/users/xilenteyex/events{/privacy}", "received_events_url": "https://api.github.com/users/xilenteyex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": {"login": "prb12", "id": 11547801, "node_id": "MDQ6VXNlcjExNTQ3ODAx", "avatar_url": "https://avatars1.githubusercontent.com/u/11547801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prb12", "html_url": "https://github.com/prb12", "followers_url": "https://api.github.com/users/prb12/followers", "following_url": "https://api.github.com/users/prb12/following{/other_user}", "gists_url": "https://api.github.com/users/prb12/gists{/gist_id}", "starred_url": "https://api.github.com/users/prb12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prb12/subscriptions", "organizations_url": "https://api.github.com/users/prb12/orgs", "repos_url": "https://api.github.com/users/prb12/repos", "events_url": "https://api.github.com/users/prb12/events{/privacy}", "received_events_url": "https://api.github.com/users/prb12/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "prb12", "id": 11547801, "node_id": "MDQ6VXNlcjExNTQ3ODAx", "avatar_url": "https://avatars1.githubusercontent.com/u/11547801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prb12", "html_url": "https://github.com/prb12", "followers_url": "https://api.github.com/users/prb12/followers", "following_url": "https://api.github.com/users/prb12/following{/other_user}", "gists_url": "https://api.github.com/users/prb12/gists{/gist_id}", "starred_url": "https://api.github.com/users/prb12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prb12/subscriptions", "organizations_url": "https://api.github.com/users/prb12/orgs", "repos_url": "https://api.github.com/users/prb12/repos", "events_url": "https://api.github.com/users/prb12/events{/privacy}", "received_events_url": "https://api.github.com/users/prb12/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-03-21T22:59:52Z", "updated_at": "2018-11-22T18:54:55Z", "closed_at": null, "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.6.0-rc1</li>\n<li><strong>Python version</strong>: 2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.11.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: 5.4</li>\n<li><strong>CUDA/cuDNN version</strong>: 9.1/7.0</li>\n<li><strong>GPU model and memory</strong>: Tesla k80 (11441MiB)</li>\n<li><strong>Exact command to reproduce</strong>: python cifar10_train.py</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I used timeline to profile the time taken by each operation of the standard cifar10 model available in tensorflow/models repo. After looking at the logfile, it looks like logs of some of the operations are duplicated i.e. it looks like some of the operations in the graph are ran multiple times over the single run of the complete graph. For example, Operation \"gradients/conv2/Conv2D_grad/Conv2DBackpropFilter\" (link to logfile : <a href=\"https://gist.github.com/xilenteyex/d54305e0448e1aa3d878872c45b8ed3a#file-timeline-1-json-L2270\">https://gist.github.com/xilenteyex/d54305e0448e1aa3d878872c45b8ed3a#file-timeline-1-json-L2270</a>) is logged multiple times. Is this some sort of bug or am I missing something?</p>\n<p>Thanks a lot for looking into this issue!</p>\n<h3>Source code / logs</h3>\n<p>cifar10 example : <a href=\"https://github.com/tensorflow/models/tree/master/tutorials/image/cifar10\">https://github.com/tensorflow/models/tree/master/tutorials/image/cifar10</a><br>\nhere is a the link to my modified version of cifar10_train.py in which I added logging :<br>\n<a href=\"https://gist.github.com/xilenteyex/b6fab3a5abdb65bf674aa7d0a4ec4b5c\">https://gist.github.com/xilenteyex/b6fab3a5abdb65bf674aa7d0a4ec4b5c</a><br>\none of the sample log files is : <a href=\"https://gist.github.com/xilenteyex/d54305e0448e1aa3d878872c45b8ed3a\">https://gist.github.com/xilenteyex/d54305e0448e1aa3d878872c45b8ed3a</a></p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.6.0-rc1\nPython version: 2.7\nBazel version (if compiling from source): 0.11.0\nGCC/Compiler version (if compiling from source): 5.4\nCUDA/cuDNN version: 9.1/7.0\nGPU model and memory: Tesla k80 (11441MiB)\nExact command to reproduce: python cifar10_train.py\n\nDescribe the problem\nI used timeline to profile the time taken by each operation of the standard cifar10 model available in tensorflow/models repo. After looking at the logfile, it looks like logs of some of the operations are duplicated i.e. it looks like some of the operations in the graph are ran multiple times over the single run of the complete graph. For example, Operation \"gradients/conv2/Conv2D_grad/Conv2DBackpropFilter\" (link to logfile : https://gist.github.com/xilenteyex/d54305e0448e1aa3d878872c45b8ed3a#file-timeline-1-json-L2270) is logged multiple times. Is this some sort of bug or am I missing something?\nThanks a lot for looking into this issue!\nSource code / logs\ncifar10 example : https://github.com/tensorflow/models/tree/master/tutorials/image/cifar10\nhere is a the link to my modified version of cifar10_train.py in which I added logging :\nhttps://gist.github.com/xilenteyex/b6fab3a5abdb65bf674aa7d0a4ec4b5c\none of the sample log files is : https://gist.github.com/xilenteyex/d54305e0448e1aa3d878872c45b8ed3a", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.6.0-rc1\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**: 0.11.0\r\n- **GCC/Compiler version (if compiling from source)**: 5.4\r\n- **CUDA/cuDNN version**: 9.1/7.0\r\n- **GPU model and memory**: Tesla k80 (11441MiB)\r\n- **Exact command to reproduce**: python cifar10_train.py\r\n\r\n\r\n### Describe the problem\r\nI used timeline to profile the time taken by each operation of the standard cifar10 model available in tensorflow/models repo. After looking at the logfile, it looks like logs of some of the operations are duplicated i.e. it looks like some of the operations in the graph are ran multiple times over the single run of the complete graph. For example, Operation \"gradients/conv2/Conv2D_grad/Conv2DBackpropFilter\" (link to logfile : https://gist.github.com/xilenteyex/d54305e0448e1aa3d878872c45b8ed3a#file-timeline-1-json-L2270) is logged multiple times. Is this some sort of bug or am I missing something? \r\n\r\nThanks a lot for looking into this issue!  \r\n\r\n\r\n### Source code / logs\r\ncifar10 example : https://github.com/tensorflow/models/tree/master/tutorials/image/cifar10\r\nhere is a the link to my modified version of cifar10_train.py in which I added logging : \r\nhttps://gist.github.com/xilenteyex/b6fab3a5abdb65bf674aa7d0a4ec4b5c\r\none of the sample log files is : https://gist.github.com/xilenteyex/d54305e0448e1aa3d878872c45b8ed3a\r\n\r\n"}