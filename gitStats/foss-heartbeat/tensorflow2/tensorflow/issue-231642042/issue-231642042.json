{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10220", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10220/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10220/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10220/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10220", "id": 231642042, "node_id": "MDU6SXNzdWUyMzE2NDIwNDI=", "number": 10220, "title": "Tensorflow crashes on build on Ubuntu 16.04 when building for skylake (avx512)", "user": {"login": "Randl", "id": 3028543, "node_id": "MDQ6VXNlcjMwMjg1NDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3028543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Randl", "html_url": "https://github.com/Randl", "followers_url": "https://api.github.com/users/Randl/followers", "following_url": "https://api.github.com/users/Randl/following{/other_user}", "gists_url": "https://api.github.com/users/Randl/gists{/gist_id}", "starred_url": "https://api.github.com/users/Randl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Randl/subscriptions", "organizations_url": "https://api.github.com/users/Randl/orgs", "repos_url": "https://api.github.com/users/Randl/repos", "events_url": "https://api.github.com/users/Randl/events{/privacy}", "received_events_url": "https://api.github.com/users/Randl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "tfboyd", "id": 23486130, "node_id": "MDQ6VXNlcjIzNDg2MTMw", "avatar_url": "https://avatars1.githubusercontent.com/u/23486130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tfboyd", "html_url": "https://github.com/tfboyd", "followers_url": "https://api.github.com/users/tfboyd/followers", "following_url": "https://api.github.com/users/tfboyd/following{/other_user}", "gists_url": "https://api.github.com/users/tfboyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tfboyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tfboyd/subscriptions", "organizations_url": "https://api.github.com/users/tfboyd/orgs", "repos_url": "https://api.github.com/users/tfboyd/repos", "events_url": "https://api.github.com/users/tfboyd/events{/privacy}", "received_events_url": "https://api.github.com/users/tfboyd/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tfboyd", "id": 23486130, "node_id": "MDQ6VXNlcjIzNDg2MTMw", "avatar_url": "https://avatars1.githubusercontent.com/u/23486130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tfboyd", "html_url": "https://github.com/tfboyd", "followers_url": "https://api.github.com/users/tfboyd/followers", "following_url": "https://api.github.com/users/tfboyd/following{/other_user}", "gists_url": "https://api.github.com/users/tfboyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tfboyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tfboyd/subscriptions", "organizations_url": "https://api.github.com/users/tfboyd/orgs", "repos_url": "https://api.github.com/users/tfboyd/repos", "events_url": "https://api.github.com/users/tfboyd/events{/privacy}", "received_events_url": "https://api.github.com/users/tfboyd/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 31, "created_at": "2017-05-26T14:25:45Z", "updated_at": "2018-11-16T01:50:12Z", "closed_at": "2018-11-09T23:39:31Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: no</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: building from source</li>\n<li><strong>TensorFlow version (use command below)</strong>:  <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/5ae244ed0b702e50fd6bb7bc73d45b9188c4239d/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/5ae244ed0b702e50fd6bb7bc73d45b9188c4239d\"><tt>5ae244e</tt></a></li>\n<li><strong>Bazel version (if compiling from source)</strong>:  0.4.5</li>\n<li><strong>CUDA/cuDNN version</strong>: CUDA 8.0.61, cudnn 6.0.21 (tried also 5.1)</li>\n<li><strong>GPU model and memory</strong>: 2x Tesla P100-PCIE-12GB</li>\n<li><strong>Exact command to reproduce</strong>: building</li>\n<li><strong>Additional information</strong>: Intel(R) Xeon(R) CPU E7-4860 v2 @ 2.60GHz, gcc version 5.4.1 20170519 (Ubuntu 5.4.1-11ubuntu2~16.04)</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>On the regular rebuild of Tensorflow, the build crashes with bunch of <code>error: argument of type \"const void *\" is incompatible with parameter of type \"const something *\"</code></p>\n<h3>Source code / logs</h3>\n<p>Crash log:</p>\n<pre><code>INFO: From Compiling tensorflow/core/kernels/scatter_functor_gpu.cu.cc:\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9218): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9229): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9242): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9253): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9266): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9277): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9290): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9301): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9314): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9325): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9338): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9350): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9363): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9374): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9387): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9399): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9408): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9417): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9426): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9435): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9443): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9452): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9461): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9470): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9479): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9488): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9497): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9506): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9515): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9524): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9533): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9542): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(54): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(62): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(70): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(78): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(86): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(95): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(104): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(112): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(120): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(129): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(138): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(146): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10223): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10235): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10247): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10259): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10271): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10283): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10295): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10307): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10319): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10331): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10343): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10355): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10367): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10379): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10391): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10403): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10413): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10424): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10433): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10444): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10453): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10464): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10473): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10484): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10493): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10504): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10513): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10524): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10533): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10544): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10553): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10564): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10573): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10584): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10593): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10604): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10613): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10624): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10633): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10644): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10653): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10664): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10673): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10684): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10693): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10704): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10713): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10724): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n92 errors detected in the compilation of \"/tmp/tmpxft_00008f12_00000000-7_scatter_functor_gpu.cu.cpp1.ii\".\nERROR: /scratch/chaimb/tensorflow/tensorflow/core/kernels/BUILD:1140:1: output 'tensorflow/core/kernels/_objs/scatter_functor_gpu/tensorflow/core/kernels/scatter_functor_gpu.cu.pic.o' was not created.\nERROR: /scratch/chaimb/tensorflow/tensorflow/core/kernels/BUILD:1140:1: not all outputs were created or valid.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 147.888s, Critical Path: 69.54s\n</code></pre>\n<p>I've tried disabling most of the options (MKL, architecture optimizations, computability) but the crash happens even with full-default (except CUDA and XLA) configuration.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): no\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nTensorFlow installed from (source or binary): building from source\nTensorFlow version (use command below):  5ae244e\nBazel version (if compiling from source):  0.4.5\nCUDA/cuDNN version: CUDA 8.0.61, cudnn 6.0.21 (tried also 5.1)\nGPU model and memory: 2x Tesla P100-PCIE-12GB\nExact command to reproduce: building\nAdditional information: Intel(R) Xeon(R) CPU E7-4860 v2 @ 2.60GHz, gcc version 5.4.1 20170519 (Ubuntu 5.4.1-11ubuntu2~16.04)\n\nDescribe the problem\nOn the regular rebuild of Tensorflow, the build crashes with bunch of error: argument of type \"const void *\" is incompatible with parameter of type \"const something *\"\nSource code / logs\nCrash log:\nINFO: From Compiling tensorflow/core/kernels/scatter_functor_gpu.cu.cc:\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9218): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9229): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9242): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9253): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9266): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9277): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9290): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9301): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9314): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9325): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9338): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9350): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9363): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9374): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9387): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9399): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9408): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9417): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9426): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9435): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9443): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9452): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9461): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9470): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9479): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9488): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9497): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9506): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9515): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9524): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9533): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9542): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(54): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(62): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(70): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(78): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(86): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(95): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(104): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(112): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(120): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(129): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(138): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(146): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10223): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10235): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10247): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10259): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10271): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10283): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10295): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10307): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10319): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10331): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10343): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10355): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10367): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10379): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10391): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10403): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10413): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10424): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10433): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10444): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10453): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10464): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10473): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10484): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10493): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10504): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10513): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10524): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10533): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10544): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10553): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10564): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10573): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10584): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10593): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10604): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10613): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10624): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10633): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10644): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10653): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10664): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10673): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10684): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10693): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10704): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10713): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10724): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\n\n92 errors detected in the compilation of \"/tmp/tmpxft_00008f12_00000000-7_scatter_functor_gpu.cu.cpp1.ii\".\nERROR: /scratch/chaimb/tensorflow/tensorflow/core/kernels/BUILD:1140:1: output 'tensorflow/core/kernels/_objs/scatter_functor_gpu/tensorflow/core/kernels/scatter_functor_gpu.cu.pic.o' was not created.\nERROR: /scratch/chaimb/tensorflow/tensorflow/core/kernels/BUILD:1140:1: not all outputs were created or valid.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 147.888s, Critical Path: 69.54s\n\nI've tried disabling most of the options (MKL, architecture optimizations, computability) but the crash happens even with full-default (except CUDA and XLA) configuration.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: no\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: building from source\r\n- **TensorFlow version (use command below)**:  5ae244e\r\n- **Bazel version (if compiling from source)**:  0.4.5\r\n- **CUDA/cuDNN version**: CUDA 8.0.61, cudnn 6.0.21 (tried also 5.1)\r\n- **GPU model and memory**: 2x Tesla P100-PCIE-12GB\r\n- **Exact command to reproduce**: building\r\n- **Additional information**: Intel(R) Xeon(R) CPU E7-4860 v2 @ 2.60GHz, gcc version 5.4.1 20170519 (Ubuntu 5.4.1-11ubuntu2~16.04)\r\n\r\n\r\n### Describe the problem\r\nOn the regular rebuild of Tensorflow, the build crashes with bunch of `error: argument of type \"const void *\" is incompatible with parameter of type \"const something *\"`\r\n\r\n### Source code / logs\r\nCrash log:\r\n```\r\nINFO: From Compiling tensorflow/core/kernels/scatter_functor_gpu.cu.cc:\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9218): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9229): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9242): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9253): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9266): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9277): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9290): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9301): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9314): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9325): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9338): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9350): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9363): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9374): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9387): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9399): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9408): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9417): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9426): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9435): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9443): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9452): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9461): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9470): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9479): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9488): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9497): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9506): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9515): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9524): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9533): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512fintrin.h(9542): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(54): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(62): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(70): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(78): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(86): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(95): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(104): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(112): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(120): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(129): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(138): error: argument of type \"void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512pfintrin.h(146): error: argument of type \"void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10223): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10235): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10247): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10259): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10271): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10283): error: argument of type \"const void *\" is incompatible with parameter of type \"const float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10295): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10307): error: argument of type \"const void *\" is incompatible with parameter of type \"const double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10319): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10331): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10343): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10355): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10367): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10379): error: argument of type \"const void *\" is incompatible with parameter of type \"const int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10391): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10403): error: argument of type \"const void *\" is incompatible with parameter of type \"const long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10413): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10424): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10433): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10444): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10453): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10464): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10473): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10484): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10493): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10504): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10513): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10524): error: argument of type \"void *\" is incompatible with parameter of type \"float *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10533): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10544): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10553): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10564): error: argument of type \"void *\" is incompatible with parameter of type \"double *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10573): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10584): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10593): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10604): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10613): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10624): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10633): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10644): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10653): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10664): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10673): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10684): error: argument of type \"void *\" is incompatible with parameter of type \"int *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10693): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10704): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10713): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n/usr/lib/gcc/x86_64-linux-gnu/5/include/avx512vlintrin.h(10724): error: argument of type \"void *\" is incompatible with parameter of type \"long long *\"\r\n\r\n92 errors detected in the compilation of \"/tmp/tmpxft_00008f12_00000000-7_scatter_functor_gpu.cu.cpp1.ii\".\r\nERROR: /scratch/chaimb/tensorflow/tensorflow/core/kernels/BUILD:1140:1: output 'tensorflow/core/kernels/_objs/scatter_functor_gpu/tensorflow/core/kernels/scatter_functor_gpu.cu.pic.o' was not created.\r\nERROR: /scratch/chaimb/tensorflow/tensorflow/core/kernels/BUILD:1140:1: not all outputs were created or valid.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 147.888s, Critical Path: 69.54s\r\n```\r\n\r\n\r\nI've tried disabling most of the options (MKL, architecture optimizations, computability) but the crash happens even with full-default (except CUDA and XLA) configuration."}