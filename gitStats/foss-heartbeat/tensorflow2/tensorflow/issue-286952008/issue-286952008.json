{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15962", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15962/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15962/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15962/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15962", "id": 286952008, "node_id": "MDU6SXNzdWUyODY5NTIwMDg=", "number": 15962, "title": "Model diverges with NaN if the class label exceeds the expected number of classes", "user": {"login": "karthik-hegde", "id": 7047619, "node_id": "MDQ6VXNlcjcwNDc2MTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7047619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karthik-hegde", "html_url": "https://github.com/karthik-hegde", "followers_url": "https://api.github.com/users/karthik-hegde/followers", "following_url": "https://api.github.com/users/karthik-hegde/following{/other_user}", "gists_url": "https://api.github.com/users/karthik-hegde/gists{/gist_id}", "starred_url": "https://api.github.com/users/karthik-hegde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karthik-hegde/subscriptions", "organizations_url": "https://api.github.com/users/karthik-hegde/orgs", "repos_url": "https://api.github.com/users/karthik-hegde/repos", "events_url": "https://api.github.com/users/karthik-hegde/events{/privacy}", "received_events_url": "https://api.github.com/users/karthik-hegde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2018-01-09T02:35:00Z", "updated_at": "2018-06-17T18:33:38Z", "closed_at": "2018-06-17T18:30:03Z", "author_association": "NONE", "body_html": "<p>Tried in Tensorflow v1.4</p>\n<p>Have I written custom code - Yes<br>\nOS Platform and Distribution - CentOS Linux release 7.4.1708<br>\nTensorFlow installed from - Not from source<br>\nTensorFlow version - v1.4.1<br>\nGPU model and memory - Tesla P100 16GB</p>\n<p>If the class label exceeds the expected number of classes (dimensions of losses and given label won't match), TensorFlow simply errors out with <code>loss diverged with a NaN</code>. Ideally it should warn the user that the class label provided exceeded the expected number of classes.</p>\n<p>It is easy to hit this error and spend lot of time in debugging. For Ex: If there are 101 number of classes, TensorFlow expects the labels to be in <code>[0,100]</code>, but if the user has labels <code>[1,101]</code>, any attempts to train would simply error out with <code>loss diverged with a NaN</code>.</p>\n<p>Can we have some warning specifically for this case?</p>", "body_text": "Tried in Tensorflow v1.4\nHave I written custom code - Yes\nOS Platform and Distribution - CentOS Linux release 7.4.1708\nTensorFlow installed from - Not from source\nTensorFlow version - v1.4.1\nGPU model and memory - Tesla P100 16GB\nIf the class label exceeds the expected number of classes (dimensions of losses and given label won't match), TensorFlow simply errors out with loss diverged with a NaN. Ideally it should warn the user that the class label provided exceeded the expected number of classes.\nIt is easy to hit this error and spend lot of time in debugging. For Ex: If there are 101 number of classes, TensorFlow expects the labels to be in [0,100], but if the user has labels [1,101], any attempts to train would simply error out with loss diverged with a NaN.\nCan we have some warning specifically for this case?", "body": "Tried in Tensorflow v1.4\r\n\r\nHave I written custom code - Yes\r\nOS Platform and Distribution - CentOS Linux release 7.4.1708\r\nTensorFlow installed from - Not from source\r\nTensorFlow version - v1.4.1\r\nGPU model and memory - Tesla P100 16GB\r\n\r\nIf the class label exceeds the expected number of classes (dimensions of losses and given label won't match), TensorFlow simply errors out with `loss diverged with a NaN`. Ideally it should warn the user that the class label provided exceeded the expected number of classes.\r\n\r\nIt is easy to hit this error and spend lot of time in debugging. For Ex: If there are 101 number of classes, TensorFlow expects the labels to be in `[0,100]`, but if the user has labels `[1,101]`, any attempts to train would simply error out with `loss diverged with a NaN`.\r\n\r\nCan we have some warning specifically for this case?\r\n  "}