{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/225665915", "html_url": "https://github.com/tensorflow/tensorflow/issues/1727#issuecomment-225665915", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1727", "id": 225665915, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTY2NTkxNQ==", "user": {"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-13T18:23:03Z", "updated_at": "2016-06-13T18:23:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>As for the original problem, currently the Allocator in the GPUDevice belongs to the ProcessState, which is essentially a global singleton. The first session using GPU initializes it, and frees itself when the process shuts down. Even if a second session chooses a different GPUOptions, it would not take effect.</p>\n<p>Changing this would be a fairly large change. We need to rethink how the device is initialized and how it interacts with the session, and therefore modify the current API. It is unlikely the TensorFlow team can get to this in the short term.</p>\n<p>Marking it as contribution welcome. If anyone is interested, a design proposal could be discussed here, before proceeding to implementations.</p>", "body_text": "As for the original problem, currently the Allocator in the GPUDevice belongs to the ProcessState, which is essentially a global singleton. The first session using GPU initializes it, and frees itself when the process shuts down. Even if a second session chooses a different GPUOptions, it would not take effect.\nChanging this would be a fairly large change. We need to rethink how the device is initialized and how it interacts with the session, and therefore modify the current API. It is unlikely the TensorFlow team can get to this in the short term.\nMarking it as contribution welcome. If anyone is interested, a design proposal could be discussed here, before proceeding to implementations.", "body": "As for the original problem, currently the Allocator in the GPUDevice belongs to the ProcessState, which is essentially a global singleton. The first session using GPU initializes it, and frees itself when the process shuts down. Even if a second session chooses a different GPUOptions, it would not take effect. \n\nChanging this would be a fairly large change. We need to rethink how the device is initialized and how it interacts with the session, and therefore modify the current API. It is unlikely the TensorFlow team can get to this in the short term. \n\nMarking it as contribution welcome. If anyone is interested, a design proposal could be discussed here, before proceeding to implementations. \n"}