{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/432196890", "html_url": "https://github.com/tensorflow/tensorflow/issues/22897#issuecomment-432196890", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22897", "id": 432196890, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjE5Njg5MA==", "user": {"login": "CreateChance", "id": 9158995, "node_id": "MDQ6VXNlcjkxNTg5OTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/9158995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CreateChance", "html_url": "https://github.com/CreateChance", "followers_url": "https://api.github.com/users/CreateChance/followers", "following_url": "https://api.github.com/users/CreateChance/following{/other_user}", "gists_url": "https://api.github.com/users/CreateChance/gists{/gist_id}", "starred_url": "https://api.github.com/users/CreateChance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CreateChance/subscriptions", "organizations_url": "https://api.github.com/users/CreateChance/orgs", "repos_url": "https://api.github.com/users/CreateChance/repos", "events_url": "https://api.github.com/users/CreateChance/events{/privacy}", "received_events_url": "https://api.github.com/users/CreateChance/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-23T10:46:58Z", "updated_at": "2018-10-23T10:46:58Z", "author_association": "NONE", "body_html": "<p>Same problem here.<br>\nI got *.pb by this cmd:<br>\n<code>python3 export_tflite_ssd_graph.py --pipeline_config_path=training/ssd_mobilenet_v1_coco.config --trained_checkpoint_prefix=RESULTS/model.ckpt-191 --output_directory=inference_graph</code><br>\nand I want to get *.tflite file by this cmd:<br>\n<code>tflite_convert --output_file=./ssd_mobilenet_v1_coco.tflite --graph_def_file=./tflite_graph.pb --input_shape=0,0,0,3 --input_array=image_tensor --output_array=detection_boxes,detection_scores,detection_classes,num_detections</code><br>\nbut get this error:<br>\n<code>Traceback (most recent call last): File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/bin/tflite_convert\", line 11, in &lt;module&gt; sys.exit(main()) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 401, in main app.run(main=run_main, argv=sys.argv[:1]) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 125, in run _sys.exit(main(argv)) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 397, in run_main _convert_model(tflite_flags) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 159, in _convert_model output_data = converter.convert() File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/lite.py\", line 445, in convert **converter_kwargs) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/convert.py\", line 277, in toco_convert_graph_def input_data.SerializeToString()) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/convert.py\", line 109, in toco_convert_protos (stdout, stderr)) RuntimeError: TOCO failed see console for info. b'2018-10-23 18:43:22.707313: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1055] Converting unsupported operation: TFLite_Detection_PostProcess\\n2018-10-23 18:43:22.707397: F tensorflow/contrib/lite/toco/tooling_util.cc:617] Check failed: dim &gt;= 1 (0 vs. 1)\\nAborted\\n' None</code><br>\nAnyone could help me?</p>", "body_text": "Same problem here.\nI got *.pb by this cmd:\npython3 export_tflite_ssd_graph.py --pipeline_config_path=training/ssd_mobilenet_v1_coco.config --trained_checkpoint_prefix=RESULTS/model.ckpt-191 --output_directory=inference_graph\nand I want to get *.tflite file by this cmd:\ntflite_convert --output_file=./ssd_mobilenet_v1_coco.tflite --graph_def_file=./tflite_graph.pb --input_shape=0,0,0,3 --input_array=image_tensor --output_array=detection_boxes,detection_scores,detection_classes,num_detections\nbut get this error:\nTraceback (most recent call last): File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/bin/tflite_convert\", line 11, in <module> sys.exit(main()) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 401, in main app.run(main=run_main, argv=sys.argv[:1]) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 125, in run _sys.exit(main(argv)) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 397, in run_main _convert_model(tflite_flags) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 159, in _convert_model output_data = converter.convert() File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/lite.py\", line 445, in convert **converter_kwargs) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/convert.py\", line 277, in toco_convert_graph_def input_data.SerializeToString()) File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/convert.py\", line 109, in toco_convert_protos (stdout, stderr)) RuntimeError: TOCO failed see console for info. b'2018-10-23 18:43:22.707313: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1055] Converting unsupported operation: TFLite_Detection_PostProcess\\n2018-10-23 18:43:22.707397: F tensorflow/contrib/lite/toco/tooling_util.cc:617] Check failed: dim >= 1 (0 vs. 1)\\nAborted\\n' None\nAnyone could help me?", "body": "Same problem here.\r\nI got *.pb by this cmd:\r\n`python3 export_tflite_ssd_graph.py --pipeline_config_path=training/ssd_mobilenet_v1_coco.config --trained_checkpoint_prefix=RESULTS/model.ckpt-191 --output_directory=inference_graph`\r\nand I want to get *.tflite file by this cmd:\r\n`tflite_convert --output_file=./ssd_mobilenet_v1_coco.tflite --graph_def_file=./tflite_graph.pb --input_shape=0,0,0,3 --input_array=image_tensor --output_array=detection_boxes,detection_scores,detection_classes,num_detections`\r\nbut get this error:\r\n`Traceback (most recent call last):\r\n  File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/bin/tflite_convert\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 401, in main\r\n    app.run(main=run_main, argv=sys.argv[:1])\r\n  File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 397, in run_main\r\n    _convert_model(tflite_flags)\r\n  File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 159, in _convert_model\r\n    output_data = converter.convert()\r\n  File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/lite.py\", line 445, in convert\r\n    **converter_kwargs)\r\n  File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/convert.py\", line 277, in toco_convert_graph_def\r\n    input_data.SerializeToString())\r\n  File \"/home/baniel/MyCode/tfenv/tensorflow1.5-withpy3/lib/python3.5/site-packages/tensorflow/contrib/lite/python/convert.py\", line 109, in toco_convert_protos\r\n    (stdout, stderr))\r\nRuntimeError: TOCO failed see console for info.\r\nb'2018-10-23 18:43:22.707313: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1055] Converting unsupported operation: TFLite_Detection_PostProcess\\n2018-10-23 18:43:22.707397: F tensorflow/contrib/lite/toco/tooling_util.cc:617] Check failed: dim >= 1 (0 vs. 1)\\nAborted\\n'\r\nNone`\r\nAnyone could help me?"}