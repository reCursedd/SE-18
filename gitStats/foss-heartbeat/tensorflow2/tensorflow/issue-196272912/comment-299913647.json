{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/299913647", "html_url": "https://github.com/tensorflow/tensorflow/issues/6385#issuecomment-299913647", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6385", "id": 299913647, "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTkxMzY0Nw==", "user": {"login": "andrewharp", "id": 3376817, "node_id": "MDQ6VXNlcjMzNzY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3376817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewharp", "html_url": "https://github.com/andrewharp", "followers_url": "https://api.github.com/users/andrewharp/followers", "following_url": "https://api.github.com/users/andrewharp/following{/other_user}", "gists_url": "https://api.github.com/users/andrewharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewharp/subscriptions", "organizations_url": "https://api.github.com/users/andrewharp/orgs", "repos_url": "https://api.github.com/users/andrewharp/repos", "events_url": "https://api.github.com/users/andrewharp/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewharp/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-08T16:12:54Z", "updated_at": "2017-05-18T23:02:24Z", "author_association": "MEMBER", "body_html": "<p>The AAR build of TF is now <a href=\"https://bintray.com/google/tensorflow/tensorflow-android\" rel=\"nofollow\">live</a>! This is labeled 1.2.0 preview, but note that this is merely to indicate it comes between 1.1.0 and 1.2.0 (the 1.2.0 release branch has not even been cut yet). We'll be updating it on every point release going forward.</p>\n<p>You can enable it in your Android app by adding the following to build.gradle:</p>\n<pre><code>repositories {\n    jcenter()\n}\ndependencies {\n    compile 'org.tensorflow:tensorflow-android:+'\n}\n</code></pre>\n<p>For the official TF demo, you'll also want to remove the following to prevent redundant Java classes from being included:</p>\n<pre><code>            // TensorFlow Java API sources.\n            java {\n                srcDir '../../java/src/main/java'\n                exclude '**/examples/**'\n            }\n\n            // Android TensorFlow wrappers, etc.\n            java {\n                srcDir '../../contrib/android/java'\n            }\n</code></pre>\n<p>And remove the reference to the locally-built inference lib as well:<br>\n<code>from inferenceLibPath</code></p>\n<p>If using an arm64 device, change cpuType from armeabi-v7a to arm64-v8 (since you'll need libtensorflow_demo.so to be built at the highest architecture target your device can use that the AAR provides libtensorflow_inference.so at).</p>\n<p>If using bazel to build, change the following in buildNativeBazel:<br>\n<code>'tensorflow/examples/android:tensorflow_native_libs'</code> -&gt; <code>'tensorflow/examples/android:libtensorflow_demo.so'</code></p>\n<p>and if using make, change the following in buildNativeMake:<br>\n<code>'libtensorflow_inference.so libtensorflow_demo.so'</code> -&gt; <code>'libtensorflow_demo.so'</code></p>\n<p>Once <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/fd69bb292af7f15cd364e36ead7f596a3c484b2c/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/fd69bb292af7f15cd364e36ead7f596a3c484b2c\"><tt>fd69bb2</tt></a> and <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/efa08d80a53a95ce6b8beb61ec86a275aed6b6c7/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/efa08d80a53a95ce6b8beb61ec86a275aed6b6c7\"><tt>efa08d8</tt></a> are pushed to master (which will make libtensorflow_demo.so an optional lib), you could also just remove the native lib dependencies altogether.</p>\n<p>We'll be cleaning this up to make it easier to switch soon, and also add a cmake build for libtensorflow_demo.so</p>", "body_text": "The AAR build of TF is now live! This is labeled 1.2.0 preview, but note that this is merely to indicate it comes between 1.1.0 and 1.2.0 (the 1.2.0 release branch has not even been cut yet). We'll be updating it on every point release going forward.\nYou can enable it in your Android app by adding the following to build.gradle:\nrepositories {\n    jcenter()\n}\ndependencies {\n    compile 'org.tensorflow:tensorflow-android:+'\n}\n\nFor the official TF demo, you'll also want to remove the following to prevent redundant Java classes from being included:\n            // TensorFlow Java API sources.\n            java {\n                srcDir '../../java/src/main/java'\n                exclude '**/examples/**'\n            }\n\n            // Android TensorFlow wrappers, etc.\n            java {\n                srcDir '../../contrib/android/java'\n            }\n\nAnd remove the reference to the locally-built inference lib as well:\nfrom inferenceLibPath\nIf using an arm64 device, change cpuType from armeabi-v7a to arm64-v8 (since you'll need libtensorflow_demo.so to be built at the highest architecture target your device can use that the AAR provides libtensorflow_inference.so at).\nIf using bazel to build, change the following in buildNativeBazel:\n'tensorflow/examples/android:tensorflow_native_libs' -> 'tensorflow/examples/android:libtensorflow_demo.so'\nand if using make, change the following in buildNativeMake:\n'libtensorflow_inference.so libtensorflow_demo.so' -> 'libtensorflow_demo.so'\nOnce fd69bb2 and efa08d8 are pushed to master (which will make libtensorflow_demo.so an optional lib), you could also just remove the native lib dependencies altogether.\nWe'll be cleaning this up to make it easier to switch soon, and also add a cmake build for libtensorflow_demo.so", "body": "The AAR build of TF is now [live](https://bintray.com/google/tensorflow/tensorflow-android)! This is labeled 1.2.0 preview, but note that this is merely to indicate it comes between 1.1.0 and 1.2.0 (the 1.2.0 release branch has not even been cut yet). We'll be updating it on every point release going forward.\r\n\r\nYou can enable it in your Android app by adding the following to build.gradle:\r\n```\r\nrepositories {\r\n    jcenter()\r\n}\r\ndependencies {\r\n    compile 'org.tensorflow:tensorflow-android:+'\r\n}\r\n```\r\n\r\nFor the official TF demo, you'll also want to remove the following to prevent redundant Java classes from being included:\r\n```\r\n            // TensorFlow Java API sources.\r\n            java {\r\n                srcDir '../../java/src/main/java'\r\n                exclude '**/examples/**'\r\n            }\r\n\r\n            // Android TensorFlow wrappers, etc.\r\n            java {\r\n                srcDir '../../contrib/android/java'\r\n            }\r\n```\r\nAnd remove the reference to the locally-built inference lib as well:\r\n`from inferenceLibPath`\r\n\r\nIf using an arm64 device, change cpuType from armeabi-v7a to arm64-v8 (since you'll need libtensorflow_demo.so to be built at the highest architecture target your device can use that the AAR provides libtensorflow_inference.so at).\r\n\r\nIf using bazel to build, change the following in buildNativeBazel:\r\n`'tensorflow/examples/android:tensorflow_native_libs'` -> `'tensorflow/examples/android:libtensorflow_demo.so'`\r\n\r\nand if using make, change the following in buildNativeMake:\r\n         `'libtensorflow_inference.so libtensorflow_demo.so'` -> `'libtensorflow_demo.so'`\r\n\r\nOnce fd69bb2 and efa08d8 are pushed to master (which will make libtensorflow_demo.so an optional lib), you could also just remove the native lib dependencies altogether.\r\n\r\nWe'll be cleaning this up to make it easier to switch soon, and also add a cmake build for libtensorflow_demo.so"}