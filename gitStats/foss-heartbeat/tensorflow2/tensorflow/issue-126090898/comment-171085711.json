{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/171085711", "html_url": "https://github.com/tensorflow/tensorflow/issues/751#issuecomment-171085711", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/751", "id": 171085711, "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTA4NTcxMQ==", "user": {"login": "sherrym", "id": 12770037, "node_id": "MDQ6VXNlcjEyNzcwMDM3", "avatar_url": "https://avatars0.githubusercontent.com/u/12770037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherrym", "html_url": "https://github.com/sherrym", "followers_url": "https://api.github.com/users/sherrym/followers", "following_url": "https://api.github.com/users/sherrym/following{/other_user}", "gists_url": "https://api.github.com/users/sherrym/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherrym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherrym/subscriptions", "organizations_url": "https://api.github.com/users/sherrym/orgs", "repos_url": "https://api.github.com/users/sherrym/repos", "events_url": "https://api.github.com/users/sherrym/events{/privacy}", "received_events_url": "https://api.github.com/users/sherrym/received_events", "type": "User", "site_admin": false}, "created_at": "2016-01-12T22:44:42Z", "updated_at": "2016-01-12T22:44:42Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The problem is caused by the fix for <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"123177496\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/571\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/571/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/571\">#571</a>.</p>\n<p>I will contact MarkDaoust to see if he can provide a fix today. In the meantime, you can do one of the following:</p>\n<ul>\n<li>Rollback to <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/1c579361cd1e088dd5e05a394b1561a73e3667ba/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/1c579361cd1e088dd5e05a394b1561a73e3667ba\"><tt>1c57936</tt></a> (before the fix for <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"123177496\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/571\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/571/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/571\">#571</a>)</li>\n</ul>\n<p>or</p>\n<ul>\n<li>Add this line to your code that restores from checkpoint:</li>\n</ul>\n<p>if ckpt and ckpt.model_checkpoint_path:<br>\nmodel_checkpoint_path = ckpt.model_checkpoint_path<br>\nif not os.path.isabs(model_checkpoint_path):<br>\nmodel_checkpoint_path = os.path.relpath(model_checkpoint_path, save_dir)</p>\n<h1>Replace all ckpt.model_checkpoint_path with model_checkpoint_path to make sure</h1>\n<h1>we are using the correct path.</h1>\n<p>saver.restore(sess, model_checkpoint_path)<br>\nglobal_step = model_checkpoint_path</p>\n<p>Please let me know if it works for you.</p>\n<p>Thanks,<br>\nSherry</p>", "body_text": "The problem is caused by the fix for #571.\nI will contact MarkDaoust to see if he can provide a fix today. In the meantime, you can do one of the following:\n\nRollback to 1c57936 (before the fix for #571)\n\nor\n\nAdd this line to your code that restores from checkpoint:\n\nif ckpt and ckpt.model_checkpoint_path:\nmodel_checkpoint_path = ckpt.model_checkpoint_path\nif not os.path.isabs(model_checkpoint_path):\nmodel_checkpoint_path = os.path.relpath(model_checkpoint_path, save_dir)\nReplace all ckpt.model_checkpoint_path with model_checkpoint_path to make sure\nwe are using the correct path.\nsaver.restore(sess, model_checkpoint_path)\nglobal_step = model_checkpoint_path\nPlease let me know if it works for you.\nThanks,\nSherry", "body": "The problem is caused by the fix for #571.\n\nI will contact MarkDaoust to see if he can provide a fix today. In the meantime, you can do one of the following:\n- Rollback to 1c579361cd1e088dd5e05a394b1561a73e3667ba (before the fix for #571)\n\nor\n- Add this line to your code that restores from checkpoint:\n\nif ckpt and ckpt.model_checkpoint_path:\n  model_checkpoint_path = ckpt.model_checkpoint_path\n  if not os.path.isabs(model_checkpoint_path):\n    model_checkpoint_path = os.path.relpath(model_checkpoint_path, save_dir)\n  # Replace all ckpt.model_checkpoint_path with model_checkpoint_path to make sure\n  # we are using the correct path.\n  saver.restore(sess, model_checkpoint_path)\n  global_step = model_checkpoint_path\n\nPlease let me know if it works for you.\n\nThanks,\nSherry\n"}