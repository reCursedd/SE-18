{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/328905760", "html_url": "https://github.com/tensorflow/tensorflow/issues/12999#issuecomment-328905760", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12999", "id": 328905760, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODkwNTc2MA==", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-12T16:22:08Z", "updated_at": "2017-09-12T16:22:08Z", "author_association": "NONE", "body_html": "<p>You have to provide ksize and strides in the same format as the data.</p>\n<pre><code>In [3]: x2 = tf.random_uniform([64,3,32,32])\n\nIn [4]: x2_pool = tf.nn.max_pool(x2, [1,3,3,1], [1,2,2,1], padding=\"VALID\", data_format=\"NHWC\")\n\nIn [5]: x2_pool.shape\nOut[5]: TensorShape([Dimension(64), Dimension(1), Dimension(15), Dimension(32)])\n\nIn [6]: x2_pool = tf.nn.max_pool(x2, [1,3,3,1], [1,2,2,1], padding=\"VALID\", data_format=\"NCHW\")\n\nIn [7]: x2_pool.shape\nOut[7]: TensorShape([Dimension(64), Dimension(1), Dimension(15), Dimension(32)])\n\nIn [8]: x2_pool = tf.nn.max_pool(x2, [1, 1, 3,3], [1, 1, 2,2], padding=\"VALID\", data_format=\"NCHW\")\n\nIn [9]: x2_pool.shape\nOut[9]: TensorShape([Dimension(64), Dimension(3), Dimension(15), Dimension(15)])\n\n</code></pre>", "body_text": "You have to provide ksize and strides in the same format as the data.\nIn [3]: x2 = tf.random_uniform([64,3,32,32])\n\nIn [4]: x2_pool = tf.nn.max_pool(x2, [1,3,3,1], [1,2,2,1], padding=\"VALID\", data_format=\"NHWC\")\n\nIn [5]: x2_pool.shape\nOut[5]: TensorShape([Dimension(64), Dimension(1), Dimension(15), Dimension(32)])\n\nIn [6]: x2_pool = tf.nn.max_pool(x2, [1,3,3,1], [1,2,2,1], padding=\"VALID\", data_format=\"NCHW\")\n\nIn [7]: x2_pool.shape\nOut[7]: TensorShape([Dimension(64), Dimension(1), Dimension(15), Dimension(32)])\n\nIn [8]: x2_pool = tf.nn.max_pool(x2, [1, 1, 3,3], [1, 1, 2,2], padding=\"VALID\", data_format=\"NCHW\")\n\nIn [9]: x2_pool.shape\nOut[9]: TensorShape([Dimension(64), Dimension(3), Dimension(15), Dimension(15)])", "body": "You have to provide ksize and strides in the same format as the data. \r\n\r\n```\r\nIn [3]: x2 = tf.random_uniform([64,3,32,32])\r\n\r\nIn [4]: x2_pool = tf.nn.max_pool(x2, [1,3,3,1], [1,2,2,1], padding=\"VALID\", data_format=\"NHWC\")\r\n\r\nIn [5]: x2_pool.shape\r\nOut[5]: TensorShape([Dimension(64), Dimension(1), Dimension(15), Dimension(32)])\r\n\r\nIn [6]: x2_pool = tf.nn.max_pool(x2, [1,3,3,1], [1,2,2,1], padding=\"VALID\", data_format=\"NCHW\")\r\n\r\nIn [7]: x2_pool.shape\r\nOut[7]: TensorShape([Dimension(64), Dimension(1), Dimension(15), Dimension(32)])\r\n\r\nIn [8]: x2_pool = tf.nn.max_pool(x2, [1, 1, 3,3], [1, 1, 2,2], padding=\"VALID\", data_format=\"NCHW\")\r\n\r\nIn [9]: x2_pool.shape\r\nOut[9]: TensorShape([Dimension(64), Dimension(3), Dimension(15), Dimension(15)])\r\n\r\n```"}