{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/301114207", "html_url": "https://github.com/tensorflow/tensorflow/issues/9849#issuecomment-301114207", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9849", "id": 301114207, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTExNDIwNw==", "user": {"login": "girving", "id": 70511, "node_id": "MDQ6VXNlcjcwNTEx", "avatar_url": "https://avatars1.githubusercontent.com/u/70511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/girving", "html_url": "https://github.com/girving", "followers_url": "https://api.github.com/users/girving/followers", "following_url": "https://api.github.com/users/girving/following{/other_user}", "gists_url": "https://api.github.com/users/girving/gists{/gist_id}", "starred_url": "https://api.github.com/users/girving/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/girving/subscriptions", "organizations_url": "https://api.github.com/users/girving/orgs", "repos_url": "https://api.github.com/users/girving/repos", "events_url": "https://api.github.com/users/girving/events{/privacy}", "received_events_url": "https://api.github.com/users/girving/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-12T15:50:33Z", "updated_at": "2017-05-12T15:52:02Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6969686\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/benoitsteiner\">@benoitsteiner</a> Do you know what would cause these Eigen errors:</p>\n<pre><code>In file included from tensorflow/core/kernels/sparse_matmul_op.cc:20:0:\n./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Packet Eigen::internal::pbroadcast_third(const Packet&amp;) [with Packet = __vector(8) double]':\n./tensorflow/core/kernels/sparse_matmul_op.h:258:46: error: cannot convert 'const Packet8d {aka const __vector(8) double}' to '__m512 {aka __vector(16) float}' for argument '1' to '__m128 _mm512_extractf32x4_ps(__m512, int)'\n   Packet2d a = _mm512_extractf32x4_ps(a_in, 1);\n                                              ^\n./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Packet Eigen::internal::pbroadcast_fourth(const Packet&amp;) [with Packet = __vector(8) double]':\n./tensorflow/core/kernels/sparse_matmul_op.h:263:61: error: cannot convert 'const Packet8d {aka const __vector(8) double}' to '__m512 {aka __vector(16) float}' for argument '1' to '__m128 _mm512_extractf32x4_ps(__m512, int)'\n   Packet2d a = _mm_permute_pd(_mm512_extractf32x4_ps(a_in, 1), 3);\n                                                             ^\n./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Eigen::internal::Packet16f Eigen::internal::pexpand_bf16_l(const Packet16f&amp;)':\n./tensorflow/core/kernels/sparse_matmul_op.h:420:77: error: cannot convert 'const Packet16f {aka const __vector(16) float}' to '__m512i {aka __vector(8) long long int}' for argument '1' to '__m256i _mm512_castsi512_si256(__m512i)'\n   return _mm512_slli_epi32(_mm512_cvtepu16_epi32(_mm512_castsi512_si256(from)),\n                                                                             ^\n./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Eigen::internal::Packet16f Eigen::internal::pexpand_bf16_u(const Packet16f&amp;)':\n./tensorflow/core/kernels/sparse_matmul_op.h:427:59: error: cannot convert 'const Packet16f {aka const __vector(16) float}' to '__m512d {aka __vector(8) double}' for argument '1' to '__m256d _mm512_extractf64x4_pd(__m512d, int)'\n       _mm512_cvtepu16_epi32(_mm512_extractf64x4_pd(from, 1)), 16);\n</code></pre>", "body_text": "@benoitsteiner Do you know what would cause these Eigen errors:\nIn file included from tensorflow/core/kernels/sparse_matmul_op.cc:20:0:\n./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Packet Eigen::internal::pbroadcast_third(const Packet&) [with Packet = __vector(8) double]':\n./tensorflow/core/kernels/sparse_matmul_op.h:258:46: error: cannot convert 'const Packet8d {aka const __vector(8) double}' to '__m512 {aka __vector(16) float}' for argument '1' to '__m128 _mm512_extractf32x4_ps(__m512, int)'\n   Packet2d a = _mm512_extractf32x4_ps(a_in, 1);\n                                              ^\n./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Packet Eigen::internal::pbroadcast_fourth(const Packet&) [with Packet = __vector(8) double]':\n./tensorflow/core/kernels/sparse_matmul_op.h:263:61: error: cannot convert 'const Packet8d {aka const __vector(8) double}' to '__m512 {aka __vector(16) float}' for argument '1' to '__m128 _mm512_extractf32x4_ps(__m512, int)'\n   Packet2d a = _mm_permute_pd(_mm512_extractf32x4_ps(a_in, 1), 3);\n                                                             ^\n./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Eigen::internal::Packet16f Eigen::internal::pexpand_bf16_l(const Packet16f&)':\n./tensorflow/core/kernels/sparse_matmul_op.h:420:77: error: cannot convert 'const Packet16f {aka const __vector(16) float}' to '__m512i {aka __vector(8) long long int}' for argument '1' to '__m256i _mm512_castsi512_si256(__m512i)'\n   return _mm512_slli_epi32(_mm512_cvtepu16_epi32(_mm512_castsi512_si256(from)),\n                                                                             ^\n./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Eigen::internal::Packet16f Eigen::internal::pexpand_bf16_u(const Packet16f&)':\n./tensorflow/core/kernels/sparse_matmul_op.h:427:59: error: cannot convert 'const Packet16f {aka const __vector(16) float}' to '__m512d {aka __vector(8) double}' for argument '1' to '__m256d _mm512_extractf64x4_pd(__m512d, int)'\n       _mm512_cvtepu16_epi32(_mm512_extractf64x4_pd(from, 1)), 16);", "body": "@benoitsteiner Do you know what would cause these Eigen errors:\r\n\r\n    In file included from tensorflow/core/kernels/sparse_matmul_op.cc:20:0:\r\n    ./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Packet Eigen::internal::pbroadcast_third(const Packet&) [with Packet = __vector(8) double]':\r\n    ./tensorflow/core/kernels/sparse_matmul_op.h:258:46: error: cannot convert 'const Packet8d {aka const __vector(8) double}' to '__m512 {aka __vector(16) float}' for argument '1' to '__m128 _mm512_extractf32x4_ps(__m512, int)'\r\n       Packet2d a = _mm512_extractf32x4_ps(a_in, 1);\r\n                                                  ^\r\n    ./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Packet Eigen::internal::pbroadcast_fourth(const Packet&) [with Packet = __vector(8) double]':\r\n    ./tensorflow/core/kernels/sparse_matmul_op.h:263:61: error: cannot convert 'const Packet8d {aka const __vector(8) double}' to '__m512 {aka __vector(16) float}' for argument '1' to '__m128 _mm512_extractf32x4_ps(__m512, int)'\r\n       Packet2d a = _mm_permute_pd(_mm512_extractf32x4_ps(a_in, 1), 3);\r\n                                                                 ^\r\n    ./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Eigen::internal::Packet16f Eigen::internal::pexpand_bf16_l(const Packet16f&)':\r\n    ./tensorflow/core/kernels/sparse_matmul_op.h:420:77: error: cannot convert 'const Packet16f {aka const __vector(16) float}' to '__m512i {aka __vector(8) long long int}' for argument '1' to '__m256i _mm512_castsi512_si256(__m512i)'\r\n       return _mm512_slli_epi32(_mm512_cvtepu16_epi32(_mm512_castsi512_si256(from)),\r\n                                                                                 ^\r\n    ./tensorflow/core/kernels/sparse_matmul_op.h: In function 'Eigen::internal::Packet16f Eigen::internal::pexpand_bf16_u(const Packet16f&)':\r\n    ./tensorflow/core/kernels/sparse_matmul_op.h:427:59: error: cannot convert 'const Packet16f {aka const __vector(16) float}' to '__m512d {aka __vector(8) double}' for argument '1' to '__m256d _mm512_extractf64x4_pd(__m512d, int)'\r\n           _mm512_cvtepu16_epi32(_mm512_extractf64x4_pd(from, 1)), 16);\r\n\r\n"}