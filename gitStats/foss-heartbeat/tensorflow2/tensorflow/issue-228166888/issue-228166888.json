{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9849", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9849/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9849/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9849/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9849", "id": 228166888, "node_id": "MDU6SXNzdWUyMjgxNjY4ODg=", "number": 9849, "title": "Building failure on KNL", "user": {"login": "cYclonEK", "id": 28525060, "node_id": "MDQ6VXNlcjI4NTI1MDYw", "avatar_url": "https://avatars1.githubusercontent.com/u/28525060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cYclonEK", "html_url": "https://github.com/cYclonEK", "followers_url": "https://api.github.com/users/cYclonEK/followers", "following_url": "https://api.github.com/users/cYclonEK/following{/other_user}", "gists_url": "https://api.github.com/users/cYclonEK/gists{/gist_id}", "starred_url": "https://api.github.com/users/cYclonEK/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cYclonEK/subscriptions", "organizations_url": "https://api.github.com/users/cYclonEK/orgs", "repos_url": "https://api.github.com/users/cYclonEK/repos", "events_url": "https://api.github.com/users/cYclonEK/events{/privacy}", "received_events_url": "https://api.github.com/users/cYclonEK/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2017-05-12T01:48:53Z", "updated_at": "2018-03-31T21:19:35Z", "closed_at": "2018-03-31T21:19:35Z", "author_association": "NONE", "body_html": "<p>Build with<br>\nCurrent master branch source code from github</p>\n<blockquote>\n<p>~/tensorflow$ ./configure<br>\nPlease specify the location of python. [Default is /usr/bin/python]:<br>\nFound possible Python library paths:<br>\n/usr/local/lib/python2.7/dist-packages<br>\n/usr/lib/python2.7/dist-packages<br>\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python2.7/dist-packages]<br>\nUsing python library path: /usr/local/lib/python2.7/dist-packages<br>\nDo you wish to build TensorFlow with MKL support? [y/N] y<br>\nMKL support will be enabled for TensorFlow<br>\nDo you wish to download MKL LIB from the web? [Y/n]<br>\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:<br>\nDo you wish to use jemalloc as the malloc implementation? [Y/n]<br>\njemalloc enabled<br>\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]<br>\nNo Google Cloud Platform support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]<br>\nNo Hadoop File System support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N]<br>\nNo XLA support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with VERBS support? [y/N]<br>\nNo VERBS support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with OpenCL support? [y/N]<br>\nNo OpenCL support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with CUDA support? [y/N]<br>\nNo CUDA support will be enabled for TensorFlow<br>\nWarning: ignoring http_proxy in environment.<br>\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.<br>\nConfiguration finished</p>\n</blockquote>\n<p>Command<br>\n<code>bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package --verbose_failures</code></p>\n<p>The error only part of build log<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/994830/Build.Log.txt\">Build Log.txt</a></p>\n<p>The Env collected by tf_env_collect.sh<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/994893/Env.txt\">Env.txt</a></p>\n<p>Bazel</p>\n<blockquote>\n<p>$ bazel version<br>\nWarning: ignoring http_proxy in environment.<br>\nBuild label: 0.4.5<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Thu Mar 16 12:19:38 2017 (1489666778)<br>\nBuild timestamp: 1489666778<br>\nBuild timestamp as int: 1489666778</p>\n</blockquote>\n<p>Xeon Phi Platform(KNL)<br>\nNo GPU</p>\n<p>One thing to notice is that with my experiments,<br>\nThe changes in<br>\n<a href=\"https://github.com/tensorflow/tensorflow/commit/51331365b60dd042ebc0849ea4e1ab6a396b60fd\">Fix TensorFlow compilation errors with KNL optimization flags</a><br>\nfixed the building issue. Although I don't know whether it is functioning correctly.</p>\n<p>Then the code is rolled back in<br>\n<a href=\"https://github.com/tensorflow/tensorflow/commit/bbdd4a7f6508c32042dcff10025fd39aeba72cdc\">FIxed merge issues </a></p>\n<p>Could you please look into this.<br>\nThank you.</p>", "body_text": "Build with\nCurrent master branch source code from github\n\n~/tensorflow$ ./configure\nPlease specify the location of python. [Default is /usr/bin/python]:\nFound possible Python library paths:\n/usr/local/lib/python2.7/dist-packages\n/usr/lib/python2.7/dist-packages\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python2.7/dist-packages]\nUsing python library path: /usr/local/lib/python2.7/dist-packages\nDo you wish to build TensorFlow with MKL support? [y/N] y\nMKL support will be enabled for TensorFlow\nDo you wish to download MKL LIB from the web? [Y/n]\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\nDo you wish to use jemalloc as the malloc implementation? [Y/n]\njemalloc enabled\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]\nNo Hadoop File System support will be enabled for TensorFlow\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N]\nNo XLA support will be enabled for TensorFlow\nDo you wish to build TensorFlow with VERBS support? [y/N]\nNo VERBS support will be enabled for TensorFlow\nDo you wish to build TensorFlow with OpenCL support? [y/N]\nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N]\nNo CUDA support will be enabled for TensorFlow\nWarning: ignoring http_proxy in environment.\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\nConfiguration finished\n\nCommand\nbazel build --config=opt //tensorflow/tools/pip_package:build_pip_package --verbose_failures\nThe error only part of build log\nBuild Log.txt\nThe Env collected by tf_env_collect.sh\nEnv.txt\nBazel\n\n$ bazel version\nWarning: ignoring http_proxy in environment.\nBuild label: 0.4.5\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Mar 16 12:19:38 2017 (1489666778)\nBuild timestamp: 1489666778\nBuild timestamp as int: 1489666778\n\nXeon Phi Platform(KNL)\nNo GPU\nOne thing to notice is that with my experiments,\nThe changes in\nFix TensorFlow compilation errors with KNL optimization flags\nfixed the building issue. Although I don't know whether it is functioning correctly.\nThen the code is rolled back in\nFIxed merge issues \nCould you please look into this.\nThank you.", "body": "Build with\r\nCurrent master branch source code from github\r\n\r\n> ~/tensorflow$ ./configure \r\n> Please specify the location of python. [Default is /usr/bin/python]: \r\n> Found possible Python library paths:\r\n>   /usr/local/lib/python2.7/dist-packages\r\n>   /usr/lib/python2.7/dist-packages\r\n> Please input the desired Python library path to use.  Default is [/usr/local/lib/python2.7/dist-packages]\r\n> Using python library path: /usr/local/lib/python2.7/dist-packages\r\n> Do you wish to build TensorFlow with MKL support? [y/N] y\r\n> MKL support will be enabled for TensorFlow\r\n> Do you wish to download MKL LIB from the web? [Y/n] \r\n> Please specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \r\n> Do you wish to use jemalloc as the malloc implementation? [Y/n] \r\n> jemalloc enabled\r\n> Do you wish to build TensorFlow with Google Cloud Platform support? [y/N] \r\n> No Google Cloud Platform support will be enabled for TensorFlow\r\n> Do you wish to build TensorFlow with Hadoop File System support? [y/N] \r\n> No Hadoop File System support will be enabled for TensorFlow\r\n> Do you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] \r\n> No XLA support will be enabled for TensorFlow\r\n> Do you wish to build TensorFlow with VERBS support? [y/N] \r\n> No VERBS support will be enabled for TensorFlow\r\n> Do you wish to build TensorFlow with OpenCL support? [y/N] \r\n> No OpenCL support will be enabled for TensorFlow\r\n> Do you wish to build TensorFlow with CUDA support? [y/N] \r\n> No CUDA support will be enabled for TensorFlow\r\n> Warning: ignoring http_proxy in environment.\r\n> INFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\r\n> Configuration finished\r\n\r\nCommand\r\n`bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package --verbose_failures`\r\n\r\nThe error only part of build log\r\n[Build Log.txt](https://github.com/tensorflow/tensorflow/files/994830/Build.Log.txt)\r\n\r\nThe Env collected by tf_env_collect.sh\r\n[Env.txt](https://github.com/tensorflow/tensorflow/files/994893/Env.txt)\r\n\r\n\r\nBazel\r\n> $ bazel version\r\n> Warning: ignoring http_proxy in environment.\r\n> Build label: 0.4.5\r\n> Build target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\n> Build time: Thu Mar 16 12:19:38 2017 (1489666778)\r\n> Build timestamp: 1489666778\r\n> Build timestamp as int: 1489666778\r\n\r\nXeon Phi Platform(KNL)\r\nNo GPU\r\n\r\nOne thing to notice is that with my experiments,\r\nThe changes in\r\n[Fix TensorFlow compilation errors with KNL optimization flags](https://github.com/tensorflow/tensorflow/commit/51331365b60dd042ebc0849ea4e1ab6a396b60fd)\r\nfixed the building issue. Although I don't know whether it is functioning correctly.\r\n\r\nThen the code is rolled back in\r\n[FIxed merge issues ](https://github.com/tensorflow/tensorflow/commit/bbdd4a7f6508c32042dcff10025fd39aeba72cdc)\r\n\r\nCould you please look into this.\r\nThank you."}