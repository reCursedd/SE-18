{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10357", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10357/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10357/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10357/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10357", "id": 232728909, "node_id": "MDU6SXNzdWUyMzI3Mjg5MDk=", "number": 10357, "title": "TensorFlow build: protobuf/pyext/_message.so' failed", "user": {"login": "Spenhouet", "id": 7819068, "node_id": "MDQ6VXNlcjc4MTkwNjg=", "avatar_url": "https://avatars0.githubusercontent.com/u/7819068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Spenhouet", "html_url": "https://github.com/Spenhouet", "followers_url": "https://api.github.com/users/Spenhouet/followers", "following_url": "https://api.github.com/users/Spenhouet/following{/other_user}", "gists_url": "https://api.github.com/users/Spenhouet/gists{/gist_id}", "starred_url": "https://api.github.com/users/Spenhouet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Spenhouet/subscriptions", "organizations_url": "https://api.github.com/users/Spenhouet/orgs", "repos_url": "https://api.github.com/users/Spenhouet/repos", "events_url": "https://api.github.com/users/Spenhouet/events{/privacy}", "received_events_url": "https://api.github.com/users/Spenhouet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-05-31T23:49:29Z", "updated_at": "2017-06-22T09:50:08Z", "closed_at": "2017-06-01T00:18:10Z", "author_association": "NONE", "body_html": "<p>I'm trying to build TensorFlow with Bazel on Windows.</p>\n<p>But i'm getting this error:</p>\n<pre><code>ERROR: C:/users/spenh/appdata/local/temp/_bazel_spen/icnq02mb/external/protobuf/BUILD:623:1: \nC++ compilation of rule '@protobuf//:python/google/protobuf/pyext/_message.so' failed: \nmsvc_cl.bat failed: error executing command \nexternal/local_config_cc/wrapper/bin/msvc_cl.bat /DOS_WINDOWS=OS_WINDOWS /DCOMPILER_MSVC /DNOGDI /DNOMINMAX /DPRAGMA_SUPPORTED /D_WIN32_WINNT=0x0600 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_SECURE_NO_WARNINGS ... (remaining 42 argument(s) skipped): \ncom.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 2.\n...\nC:\\users\\spenh\\appdata\\local\\temp\\_bazel_spen\\icnq02mb\\execroot\\org_tensorflow\\external\\protobuf\\python\\google\\protobuf\\pyext\\repeated_scalar_container.cc(307): fatal error C1057: Unerwartetes Dateiende bei der Erweiterung eines Makros\nC:\\users\\spenh\\appdata\\local\\temp\\_bazel_spen\\icnq02mb\\execroot\\org_tensorflow\\external\\protobuf\\python\\google\\protobuf\\pyext\\repeated_scalar_container.cc(307): fatal error C1057: Unerwartetes Dateiende bei der Erweiterung eines Makros\n    \nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n</code></pre>\n<p>Any idea what i can try to solve this? Or what information i could provide you to solve this?</p>\n<ul>\n<li>Bazel: git/master (30.05.2017)</li>\n<li>TensorFlow: git/master (30.05.2017)</li>\n<li>Python 3.6.1 x64</li>\n<li>Visual Studio 2017 v15.0.26430.6 x64</li>\n<li>Cuda: 8.0</li>\n<li>Java JDK 1.8.0_60</li>\n<li>Windows 10</li>\n<li>Nvidia 1080</li>\n</ul>\n<p>Build command:</p>\n<pre><code>bazel build -c opt --config=win-cuda --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc --copt=-w --host_copt=-w tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>Stackoverflow link: <a href=\"https://stackoverflow.com/questions/44264801/tensorflow-bazel-build-protobuf-pyext-message-so-failed\" rel=\"nofollow\">https://stackoverflow.com/questions/44264801/tensorflow-bazel-build-protobuf-pyext-message-so-failed</a></p>", "body_text": "I'm trying to build TensorFlow with Bazel on Windows.\nBut i'm getting this error:\nERROR: C:/users/spenh/appdata/local/temp/_bazel_spen/icnq02mb/external/protobuf/BUILD:623:1: \nC++ compilation of rule '@protobuf//:python/google/protobuf/pyext/_message.so' failed: \nmsvc_cl.bat failed: error executing command \nexternal/local_config_cc/wrapper/bin/msvc_cl.bat /DOS_WINDOWS=OS_WINDOWS /DCOMPILER_MSVC /DNOGDI /DNOMINMAX /DPRAGMA_SUPPORTED /D_WIN32_WINNT=0x0600 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_SECURE_NO_WARNINGS ... (remaining 42 argument(s) skipped): \ncom.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 2.\n...\nC:\\users\\spenh\\appdata\\local\\temp\\_bazel_spen\\icnq02mb\\execroot\\org_tensorflow\\external\\protobuf\\python\\google\\protobuf\\pyext\\repeated_scalar_container.cc(307): fatal error C1057: Unerwartetes Dateiende bei der Erweiterung eines Makros\nC:\\users\\spenh\\appdata\\local\\temp\\_bazel_spen\\icnq02mb\\execroot\\org_tensorflow\\external\\protobuf\\python\\google\\protobuf\\pyext\\repeated_scalar_container.cc(307): fatal error C1057: Unerwartetes Dateiende bei der Erweiterung eines Makros\n    \nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n\nAny idea what i can try to solve this? Or what information i could provide you to solve this?\n\nBazel: git/master (30.05.2017)\nTensorFlow: git/master (30.05.2017)\nPython 3.6.1 x64\nVisual Studio 2017 v15.0.26430.6 x64\nCuda: 8.0\nJava JDK 1.8.0_60\nWindows 10\nNvidia 1080\n\nBuild command:\nbazel build -c opt --config=win-cuda --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc --copt=-w --host_copt=-w tensorflow/tools/pip_package:build_pip_package\n\nStackoverflow link: https://stackoverflow.com/questions/44264801/tensorflow-bazel-build-protobuf-pyext-message-so-failed", "body": "I'm trying to build TensorFlow with Bazel on Windows.\r\n\r\nBut i'm getting this error:\r\n\r\n    ERROR: C:/users/spenh/appdata/local/temp/_bazel_spen/icnq02mb/external/protobuf/BUILD:623:1: \r\n    C++ compilation of rule '@protobuf//:python/google/protobuf/pyext/_message.so' failed: \r\n    msvc_cl.bat failed: error executing command \r\n    external/local_config_cc/wrapper/bin/msvc_cl.bat /DOS_WINDOWS=OS_WINDOWS /DCOMPILER_MSVC /DNOGDI /DNOMINMAX /DPRAGMA_SUPPORTED /D_WIN32_WINNT=0x0600 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_SECURE_NO_WARNINGS ... (remaining 42 argument(s) skipped): \r\n    com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 2.\r\n    ...\r\n    C:\\users\\spenh\\appdata\\local\\temp\\_bazel_spen\\icnq02mb\\execroot\\org_tensorflow\\external\\protobuf\\python\\google\\protobuf\\pyext\\repeated_scalar_container.cc(307): fatal error C1057: Unerwartetes Dateiende bei der Erweiterung eines Makros\r\n    C:\\users\\spenh\\appdata\\local\\temp\\_bazel_spen\\icnq02mb\\execroot\\org_tensorflow\\external\\protobuf\\python\\google\\protobuf\\pyext\\repeated_scalar_container.cc(307): fatal error C1057: Unerwartetes Dateiende bei der Erweiterung eines Makros\r\n        \r\n    Target //tensorflow/tools/pip_package:build_pip_package failed to build\r\n\r\n\r\n\r\nAny idea what i can try to solve this? Or what information i could provide you to solve this?\r\n\r\n - Bazel: git/master (30.05.2017)\r\n - TensorFlow: git/master (30.05.2017) \r\n - Python 3.6.1 x64\r\n - Visual Studio 2017 v15.0.26430.6 x64\r\n - Cuda: 8.0\r\n - Java JDK 1.8.0_60\r\n - Windows 10\r\n - Nvidia 1080\r\n\r\nBuild command:\r\n\r\n    bazel build -c opt --config=win-cuda --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc --copt=-w --host_copt=-w tensorflow/tools/pip_package:build_pip_package\r\n\r\n\r\nStackoverflow link: https://stackoverflow.com/questions/44264801/tensorflow-bazel-build-protobuf-pyext-message-so-failed"}