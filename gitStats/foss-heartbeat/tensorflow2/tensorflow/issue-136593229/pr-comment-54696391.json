{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/54696391", "pull_request_review_id": null, "id": 54696391, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njk2Mzkx", "diff_hunk": "@@ -140,189 +125,47 @@ echo \"whl file path = ${WHL_PATH}\"\n # Install, in user's local home folder\n echo \"Installing pip whl file: ${WHL_PATH}\"\n \n-# Call pip install on the whl file. We are doing it without the --upgrade\n-# option. So dependency updates will need to be performed separately in\n-# the environment.\n-${PYTHON_BIN_PATH} -m pip install -v --user ${WHL_PATH} \\\n+# Create temporary directory for install test\n+VENV_DIR=\"${PIP_TEST_ROOT}/venv\"\n+rm -rf \"${VENV_DIR}\" && mkdir -p \"${VENV_DIR}\"", "path": "tensorflow/tools/ci_build/builds/pip.sh", "position": 137, "original_position": 137, "commit_id": "774944088a103fdcb7d86430a4f46e454b24c6b5", "original_commit_id": "579cb72c34802d18739f1ac9d83259ba5beef8cc", "user": {"login": "jendap", "id": 567848, "node_id": "MDQ6VXNlcjU2Nzg0OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/567848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jendap", "html_url": "https://github.com/jendap", "followers_url": "https://api.github.com/users/jendap/followers", "following_url": "https://api.github.com/users/jendap/following{/other_user}", "gists_url": "https://api.github.com/users/jendap/gists{/gist_id}", "starred_url": "https://api.github.com/users/jendap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jendap/subscriptions", "organizations_url": "https://api.github.com/users/jendap/orgs", "repos_url": "https://api.github.com/users/jendap/repos", "events_url": "https://api.github.com/users/jendap/events{/privacy}", "received_events_url": "https://api.github.com/users/jendap/received_events", "type": "User", "site_admin": false}, "body": "Does pip inside virtualenv work reliably without deleting the whole env? It would be nice for caching. We would reinstall only tf and dependencies only if their version would change. But I'm not sure if it would be reliable.\n", "created_at": "2016-03-02T09:11:24Z", "updated_at": "2016-03-04T02:38:34Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/1294#discussion_r54696391", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/1294", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/54696391"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/1294#discussion_r54696391"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/1294"}}, "body_html": "<p>Does pip inside virtualenv work reliably without deleting the whole env? It would be nice for caching. We would reinstall only tf and dependencies only if their version would change. But I'm not sure if it would be reliable.</p>", "body_text": "Does pip inside virtualenv work reliably without deleting the whole env? It would be nice for caching. We would reinstall only tf and dependencies only if their version would change. But I'm not sure if it would be reliable."}