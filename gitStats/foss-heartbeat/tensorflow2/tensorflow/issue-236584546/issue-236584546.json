{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10779", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10779/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10779/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10779/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10779", "id": 236584546, "node_id": "MDU6SXNzdWUyMzY1ODQ1NDY=", "number": 10779, "title": "Mac + Python 3.6.1: Attempting to download mnist data results in CERTIFICATE_VERIFY_FAILED error", "user": {"login": "paulcwatts", "id": 150269, "node_id": "MDQ6VXNlcjE1MDI2OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/150269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulcwatts", "html_url": "https://github.com/paulcwatts", "followers_url": "https://api.github.com/users/paulcwatts/followers", "following_url": "https://api.github.com/users/paulcwatts/following{/other_user}", "gists_url": "https://api.github.com/users/paulcwatts/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulcwatts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulcwatts/subscriptions", "organizations_url": "https://api.github.com/users/paulcwatts/orgs", "repos_url": "https://api.github.com/users/paulcwatts/repos", "events_url": "https://api.github.com/users/paulcwatts/events{/privacy}", "received_events_url": "https://api.github.com/users/paulcwatts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2017-06-16T20:23:16Z", "updated_at": "2018-11-19T07:53:10Z", "closed_at": "2017-06-16T21:07:44Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Mac OS X 10.12.5</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: v1.2.0-rc2-21-g12f033d 1.2.0</li>\n<li><strong>Bazel version (if compiling from source)</strong>: n/a</li>\n<li><strong>CUDA/cuDNN version</strong>: none</li>\n<li><strong>GPU model and memory</strong>: n/a</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<pre><code>$ python3 --version\nPython 3.6.1\n\n$ python3 -m virtualenv venv\nUsing base prefix '/Library/Frameworks/Python.framework/Versions/3.6'\nNew python executable in .../venv/bin/python3\nAlso creating executable in .../venv/bin/python\nInstalling setuptools, pip, wheel...done.\n\n$ source venv/bin/activate\n$ pip install tensorflow\nCollecting tensorflow\n  Using cached tensorflow-1.2.0-cp36-cp36m-macosx_10_11_x86_64.whl\n  ....\n\n$ python\nPython 3.6.1 (v3.6.1:69c0db5050, Mar 21 2017, 01:21:04) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from tensorflow.examples.tutorials.mnist import input_data\n&gt;&gt;&gt; mnist = input_data.read_data_sets(\"/tmp/data/\")\nTraceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 1318, in do_open\n    encode_chunked=req.has_header('Transfer-encoding'))\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1239, in request\n    self._send_request(method, url, body, headers, encode_chunked)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1285, in _send_request\n    self.endheaders(body, encode_chunked=encode_chunked)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1234, in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1026, in _send_output\n    self.send(msg)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 964, in send\n    self.connect()\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1400, in connect\n    server_hostname=server_hostname)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 401, in wrap_socket\n    _context=self, _session=session)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 808, in __init__\n    self.do_handshake()\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 1061, in do_handshake\n    self._sslobj.do_handshake()\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 683, in do_handshake\n    self._sslobj.do_handshake()\nssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:749)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 235, in read_data_sets\n    SOURCE_URL + TRAIN_IMAGES)\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py\", line 208, in maybe_download\n    temp_file_name, _ = urlretrieve_with_retry(source_url)\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py\", line 165, in wrapped_fn\n    return fn(*args, **kwargs)\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py\", line 190, in urlretrieve_with_retry\n    return urllib.request.urlretrieve(url, filename)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 248, in urlretrieve\n    with contextlib.closing(urlopen(url, data)) as fp:\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 223, in urlopen\n    return opener.open(url, data, timeout)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 526, in open\n    response = self._open(req, data)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 544, in _open\n    '_open', req)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 504, in _call_chain\n    result = func(*args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 1361, in https_open\n    context=self._context, check_hostname=self._check_hostname)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 1320, in do_open\n    raise URLError(err)\nurllib.error.URLError: &lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:749)&gt;\n</code></pre>\n<p>This doesn't reproduce with TensorFlow 1.1.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Mac OS X 10.12.5\nTensorFlow installed from (source or binary): binary\nTensorFlow version (use command below): v1.2.0-rc2-21-g12f033d 1.2.0\nBazel version (if compiling from source): n/a\nCUDA/cuDNN version: none\nGPU model and memory: n/a\nExact command to reproduce:\n\n$ python3 --version\nPython 3.6.1\n\n$ python3 -m virtualenv venv\nUsing base prefix '/Library/Frameworks/Python.framework/Versions/3.6'\nNew python executable in .../venv/bin/python3\nAlso creating executable in .../venv/bin/python\nInstalling setuptools, pip, wheel...done.\n\n$ source venv/bin/activate\n$ pip install tensorflow\nCollecting tensorflow\n  Using cached tensorflow-1.2.0-cp36-cp36m-macosx_10_11_x86_64.whl\n  ....\n\n$ python\nPython 3.6.1 (v3.6.1:69c0db5050, Mar 21 2017, 01:21:04) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from tensorflow.examples.tutorials.mnist import input_data\n>>> mnist = input_data.read_data_sets(\"/tmp/data/\")\nTraceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 1318, in do_open\n    encode_chunked=req.has_header('Transfer-encoding'))\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1239, in request\n    self._send_request(method, url, body, headers, encode_chunked)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1285, in _send_request\n    self.endheaders(body, encode_chunked=encode_chunked)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1234, in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1026, in _send_output\n    self.send(msg)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 964, in send\n    self.connect()\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1400, in connect\n    server_hostname=server_hostname)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 401, in wrap_socket\n    _context=self, _session=session)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 808, in __init__\n    self.do_handshake()\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 1061, in do_handshake\n    self._sslobj.do_handshake()\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 683, in do_handshake\n    self._sslobj.do_handshake()\nssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:749)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 235, in read_data_sets\n    SOURCE_URL + TRAIN_IMAGES)\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py\", line 208, in maybe_download\n    temp_file_name, _ = urlretrieve_with_retry(source_url)\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py\", line 165, in wrapped_fn\n    return fn(*args, **kwargs)\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py\", line 190, in urlretrieve_with_retry\n    return urllib.request.urlretrieve(url, filename)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 248, in urlretrieve\n    with contextlib.closing(urlopen(url, data)) as fp:\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 223, in urlopen\n    return opener.open(url, data, timeout)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 526, in open\n    response = self._open(req, data)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 544, in _open\n    '_open', req)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 504, in _call_chain\n    result = func(*args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 1361, in https_open\n    context=self._context, check_hostname=self._check_hostname)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 1320, in do_open\n    raise URLError(err)\nurllib.error.URLError: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:749)>\n\nThis doesn't reproduce with TensorFlow 1.1.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Mac OS X 10.12.5\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: v1.2.0-rc2-21-g12f033d 1.2.0\r\n- **Bazel version (if compiling from source)**: n/a\r\n- **CUDA/cuDNN version**: none\r\n- **GPU model and memory**: n/a\r\n- **Exact command to reproduce**:\r\n\r\n```\r\n$ python3 --version\r\nPython 3.6.1\r\n\r\n$ python3 -m virtualenv venv\r\nUsing base prefix '/Library/Frameworks/Python.framework/Versions/3.6'\r\nNew python executable in .../venv/bin/python3\r\nAlso creating executable in .../venv/bin/python\r\nInstalling setuptools, pip, wheel...done.\r\n\r\n$ source venv/bin/activate\r\n$ pip install tensorflow\r\nCollecting tensorflow\r\n  Using cached tensorflow-1.2.0-cp36-cp36m-macosx_10_11_x86_64.whl\r\n  ....\r\n\r\n$ python\r\nPython 3.6.1 (v3.6.1:69c0db5050, Mar 21 2017, 01:21:04) \r\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from tensorflow.examples.tutorials.mnist import input_data\r\n>>> mnist = input_data.read_data_sets(\"/tmp/data/\")\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 1318, in do_open\r\n    encode_chunked=req.has_header('Transfer-encoding'))\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1239, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1285, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1234, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1026, in _send_output\r\n    self.send(msg)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 964, in send\r\n    self.connect()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1400, in connect\r\n    server_hostname=server_hostname)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 401, in wrap_socket\r\n    _context=self, _session=session)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 808, in __init__\r\n    self.do_handshake()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 1061, in do_handshake\r\n    self._sslobj.do_handshake()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 683, in do_handshake\r\n    self._sslobj.do_handshake()\r\nssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:749)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 235, in read_data_sets\r\n    SOURCE_URL + TRAIN_IMAGES)\r\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py\", line 208, in maybe_download\r\n    temp_file_name, _ = urlretrieve_with_retry(source_url)\r\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py\", line 165, in wrapped_fn\r\n    return fn(*args, **kwargs)\r\n  File \".../venv/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py\", line 190, in urlretrieve_with_retry\r\n    return urllib.request.urlretrieve(url, filename)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 248, in urlretrieve\r\n    with contextlib.closing(urlopen(url, data)) as fp:\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 223, in urlopen\r\n    return opener.open(url, data, timeout)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 526, in open\r\n    response = self._open(req, data)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 544, in _open\r\n    '_open', req)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 504, in _call_chain\r\n    result = func(*args)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 1361, in https_open\r\n    context=self._context, check_hostname=self._check_hostname)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 1320, in do_open\r\n    raise URLError(err)\r\nurllib.error.URLError: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:749)>\r\n```\r\n\r\nThis doesn't reproduce with TensorFlow 1.1.\r\n"}