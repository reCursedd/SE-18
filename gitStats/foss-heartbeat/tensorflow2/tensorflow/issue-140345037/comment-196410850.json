{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/196410850", "html_url": "https://github.com/tensorflow/tensorflow/issues/1470#issuecomment-196410850", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1470", "id": 196410850, "node_id": "MDEyOklzc3VlQ29tbWVudDE5NjQxMDg1MA==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-14T16:57:42Z", "updated_at": "2016-03-14T16:57:42Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Are you passing <code>grads</code> directly to <code>Session.run()</code>? I believe that will contain a list of (gradient, variable) tuples, which needs to converted to a list a tensors in order to pass it to <code>Session.run()</code>. For example, you could do:</p>\n<div class=\"highlight highlight-source-python\"><pre>grads_and_vars <span class=\"pl-k\">=</span> rmsprop.compute_gradients(cost, [w1, b1])\ngrads <span class=\"pl-k\">=</span> [g <span class=\"pl-k\">for</span> g, _ <span class=\"pl-k\">in</span> grads_and_vars]\n<span class=\"pl-c1\">vars</span> <span class=\"pl-k\">=</span> [v <span class=\"pl-k\">for</span> _, v <span class=\"pl-k\">in</span> grads_and_vars]\ngrad_vals <span class=\"pl-k\">=</span> sess.run(grads)\nvar_to_grad_val_map <span class=\"pl-k\">=</span> {v.name: val <span class=\"pl-k\">for</span> (v, val) <span class=\"pl-k\">in</span> <span class=\"pl-c1\">zip</span>(<span class=\"pl-c1\">vars</span>, grad_vals)}</pre></div>", "body_text": "Are you passing grads directly to Session.run()? I believe that will contain a list of (gradient, variable) tuples, which needs to converted to a list a tensors in order to pass it to Session.run(). For example, you could do:\ngrads_and_vars = rmsprop.compute_gradients(cost, [w1, b1])\ngrads = [g for g, _ in grads_and_vars]\nvars = [v for _, v in grads_and_vars]\ngrad_vals = sess.run(grads)\nvar_to_grad_val_map = {v.name: val for (v, val) in zip(vars, grad_vals)}", "body": "Are you passing `grads` directly to `Session.run()`? I believe that will contain a list of (gradient, variable) tuples, which needs to converted to a list a tensors in order to pass it to `Session.run()`. For example, you could do:\n\n``` python\ngrads_and_vars = rmsprop.compute_gradients(cost, [w1, b1])\ngrads = [g for g, _ in grads_and_vars]\nvars = [v for _, v in grads_and_vars]\ngrad_vals = sess.run(grads)\nvar_to_grad_val_map = {v.name: val for (v, val) in zip(vars, grad_vals)}\n```\n"}