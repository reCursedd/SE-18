{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/364710874", "html_url": "https://github.com/tensorflow/tensorflow/issues/16924#issuecomment-364710874", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16924", "id": 364710874, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDcxMDg3NA==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-11T01:25:38Z", "updated_at": "2018-02-11T01:25:38Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I can just confirm that I was able to build the internal version (with the <code>IgnoreErrorsDatasetOp</code> moved to a separate .so) as a PIP package and run <code>tensorflow/contrib/data/python/kernel_tests/map_dataset_op_test.py</code>, which invokes that op.</p>\n<p>I suspect there is something different in the way the custom op .so is built in our Bazel build, and how it is built in your CMake build. (Are you building TensorFlow using Bazel and then building the external library with CMake?) I'll follow up on this thread with more details when the code is available in the master branch.</p>", "body_text": "I can just confirm that I was able to build the internal version (with the IgnoreErrorsDatasetOp moved to a separate .so) as a PIP package and run tensorflow/contrib/data/python/kernel_tests/map_dataset_op_test.py, which invokes that op.\nI suspect there is something different in the way the custom op .so is built in our Bazel build, and how it is built in your CMake build. (Are you building TensorFlow using Bazel and then building the external library with CMake?) I'll follow up on this thread with more details when the code is available in the master branch.", "body": "I can just confirm that I was able to build the internal version (with the `IgnoreErrorsDatasetOp` moved to a separate .so) as a PIP package and run `tensorflow/contrib/data/python/kernel_tests/map_dataset_op_test.py`, which invokes that op.\r\n\r\nI suspect there is something different in the way the custom op .so is built in our Bazel build, and how it is built in your CMake build. (Are you building TensorFlow using Bazel and then building the external library with CMake?) I'll follow up on this thread with more details when the code is available in the master branch."}