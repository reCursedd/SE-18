{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22692", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22692/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22692/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22692/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22692", "id": 366248570, "node_id": "MDU6SXNzdWUzNjYyNDg1NzA=", "number": 22692, "title": "How to train multi-gpu on tensorflow using nccl library?", "user": {"login": "kazemSafari", "id": 32110820, "node_id": "MDQ6VXNlcjMyMTEwODIw", "avatar_url": "https://avatars0.githubusercontent.com/u/32110820?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazemSafari", "html_url": "https://github.com/kazemSafari", "followers_url": "https://api.github.com/users/kazemSafari/followers", "following_url": "https://api.github.com/users/kazemSafari/following{/other_user}", "gists_url": "https://api.github.com/users/kazemSafari/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazemSafari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazemSafari/subscriptions", "organizations_url": "https://api.github.com/users/kazemSafari/orgs", "repos_url": "https://api.github.com/users/kazemSafari/repos", "events_url": "https://api.github.com/users/kazemSafari/events{/privacy}", "received_events_url": "https://api.github.com/users/kazemSafari/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "anj-s", "id": 32556631, "node_id": "MDQ6VXNlcjMyNTU2NjMx", "avatar_url": "https://avatars1.githubusercontent.com/u/32556631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anj-s", "html_url": "https://github.com/anj-s", "followers_url": "https://api.github.com/users/anj-s/followers", "following_url": "https://api.github.com/users/anj-s/following{/other_user}", "gists_url": "https://api.github.com/users/anj-s/gists{/gist_id}", "starred_url": "https://api.github.com/users/anj-s/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anj-s/subscriptions", "organizations_url": "https://api.github.com/users/anj-s/orgs", "repos_url": "https://api.github.com/users/anj-s/repos", "events_url": "https://api.github.com/users/anj-s/events{/privacy}", "received_events_url": "https://api.github.com/users/anj-s/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anj-s", "id": 32556631, "node_id": "MDQ6VXNlcjMyNTU2NjMx", "avatar_url": "https://avatars1.githubusercontent.com/u/32556631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anj-s", "html_url": "https://github.com/anj-s", "followers_url": "https://api.github.com/users/anj-s/followers", "following_url": "https://api.github.com/users/anj-s/following{/other_user}", "gists_url": "https://api.github.com/users/anj-s/gists{/gist_id}", "starred_url": "https://api.github.com/users/anj-s/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anj-s/subscriptions", "organizations_url": "https://api.github.com/users/anj-s/orgs", "repos_url": "https://api.github.com/users/anj-s/repos", "events_url": "https://api.github.com/users/anj-s/events{/privacy}", "received_events_url": "https://api.github.com/users/anj-s/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2018-10-03T09:27:38Z", "updated_at": "2018-10-22T18:54:25Z", "closed_at": "2018-10-22T18:54:25Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>\n<p><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nYes</p>\n</li>\n<li>\n<p><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nLinux Ubuntu 16.04</p>\n</li>\n<li>\n<p><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>:<br>\nLocal custom build PC</p>\n</li>\n<li>\n<p><strong>TensorFlow installed from (source or binary)</strong>:<br>\nbinary</p>\n</li>\n<li>\n<p><strong>TensorFlow version (use command below)</strong>:<br>\n1.10</p>\n</li>\n<li>\n<p><strong>Python version</strong>:<br>\n3.5</p>\n</li>\n<li>\n<p><strong>Bazel version (if compiling from source)</strong>:<br>\nNo</p>\n</li>\n<li>\n<p><strong>GCC/Compiler version (if compiling from source)</strong>:<br>\ngcc (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609</p>\n</li>\n<li>\n<p><strong>CUDA/cuDNN version</strong>:<br>\n9.0/7.2</p>\n</li>\n<li>\n<p><strong>GPU model and memory</strong>:<br>\nTwo GTX 1080 Ti each with 11G of memory</p>\n</li>\n<li>\n<p><strong>Exact command to reproduce</strong>:<br>\nIDK</p>\n</li>\n</ul>\n<h3>Describe the problem:</h3>\n<p>Describe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.</p>\n<p>I was wondering if you could provide a <strong>tutorial</strong> on how to train a simple CNN on multiple gpus on MNIST, or Cifar dataset that also explains how to use the <strong>nccl library</strong>.<br>\nThe only tutorials available are the following: <strong><a href=\"https://github.com/tensorflow/models/blob/master/tutorials/image/cifar10/cifar10_multi_gpu_train.py#L101\">https://github.com/tensorflow/models/blob/master/tutorials/image/cifar10/cifar10_multi_gpu_train.py#L101</a></strong><br>\n<strong><a href=\"http://blog.s-schoener.com/2017-12-15-parallel-tensorflow-intro/\" rel=\"nofollow\">http://blog.s-schoener.com/2017-12-15-parallel-tensorflow-intro/</a></strong></p>\n<p><strong><a href=\"https://proteusmaster.urcf.drexel.edu/urcfwiki/index.php/Job_Script_Example_09_TensorFlow_MNIST_Multi-GPU-CNN\" rel=\"nofollow\">https://proteusmaster.urcf.drexel.edu/urcfwiki/index.php/Job_Script_Example_09_TensorFlow_MNIST_Multi-GPU-CNN</a></strong><br>\nNone of which explains how to use nccl.</p>\n<p>I also search for an answer on many websites but the only one i found is this from openai in Chinese:<br>\n<a href=\"http://openresearch.ai/t/nccl-efficient-tensorflow-multigpu-training/159\" rel=\"nofollow\">http://openresearch.ai/t/nccl-efficient-tensorflow-multigpu-training/159</a></p>\n<p>Although 1/6 of the population of earth does speak Chinese, the other 5/6 does not! So i was wondering if someone in tensorflow team that knows English and perhaps Chinese could help with this issue. Thank you. I would also appreciate if you do me a favor and do not refer or pass me to stackoverflow. Thanks again.</p>", "body_text": "System information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nYes\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nLinux Ubuntu 16.04\n\n\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\nLocal custom build PC\n\n\nTensorFlow installed from (source or binary):\nbinary\n\n\nTensorFlow version (use command below):\n1.10\n\n\nPython version:\n3.5\n\n\nBazel version (if compiling from source):\nNo\n\n\nGCC/Compiler version (if compiling from source):\ngcc (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609\n\n\nCUDA/cuDNN version:\n9.0/7.2\n\n\nGPU model and memory:\nTwo GTX 1080 Ti each with 11G of memory\n\n\nExact command to reproduce:\nIDK\n\n\nDescribe the problem:\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\nI was wondering if you could provide a tutorial on how to train a simple CNN on multiple gpus on MNIST, or Cifar dataset that also explains how to use the nccl library.\nThe only tutorials available are the following: https://github.com/tensorflow/models/blob/master/tutorials/image/cifar10/cifar10_multi_gpu_train.py#L101\nhttp://blog.s-schoener.com/2017-12-15-parallel-tensorflow-intro/\nhttps://proteusmaster.urcf.drexel.edu/urcfwiki/index.php/Job_Script_Example_09_TensorFlow_MNIST_Multi-GPU-CNN\nNone of which explains how to use nccl.\nI also search for an answer on many websites but the only one i found is this from openai in Chinese:\nhttp://openresearch.ai/t/nccl-efficient-tensorflow-multigpu-training/159\nAlthough 1/6 of the population of earth does speak Chinese, the other 5/6 does not! So i was wondering if someone in tensorflow team that knows English and perhaps Chinese could help with this issue. Thank you. I would also appreciate if you do me a favor and do not refer or pass me to stackoverflow. Thanks again.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: \r\nYes\r\n\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nLinux Ubuntu 16.04\r\n\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**:\r\nLocal custom build PC\r\n\r\n- **TensorFlow installed from (source or binary)**:\r\nbinary\r\n\r\n- **TensorFlow version (use command below)**:\r\n1.10\r\n\r\n- **Python version**:\r\n3.5\r\n\r\n- **Bazel version (if compiling from source)**:\r\nNo\r\n\r\n- **GCC/Compiler version (if compiling from source)**:\r\ngcc (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609\r\n\r\n- **CUDA/cuDNN version**:\r\n9.0/7.2\r\n\r\n- **GPU model and memory**:\r\nTwo GTX 1080 Ti each with 11G of memory \r\n\r\n- **Exact command to reproduce**:\r\nIDK\r\n\r\n### Describe the problem:\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\n\r\nI was wondering if you could provide a **tutorial** on how to train a simple CNN on multiple gpus on MNIST, or Cifar dataset that also explains how to use the **nccl library**.\r\nThe only tutorials available are the following: **https://github.com/tensorflow/models/blob/master/tutorials/image/cifar10/cifar10_multi_gpu_train.py#L101**\r\n**http://blog.s-schoener.com/2017-12-15-parallel-tensorflow-intro/**\r\n\r\n**https://proteusmaster.urcf.drexel.edu/urcfwiki/index.php/Job_Script_Example_09_TensorFlow_MNIST_Multi-GPU-CNN**\r\nNone of which explains how to use nccl.\r\n\r\n\r\nI also search for an answer on many websites but the only one i found is this from openai in Chinese:\r\nhttp://openresearch.ai/t/nccl-efficient-tensorflow-multigpu-training/159\r\n\r\nAlthough 1/6 of the population of earth does speak Chinese, the other 5/6 does not! So i was wondering if someone in tensorflow team that knows English and perhaps Chinese could help with this issue. Thank you. I would also appreciate if you do me a favor and do not refer or pass me to stackoverflow. Thanks again.\r\n "}