{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/325271157", "html_url": "https://github.com/tensorflow/tensorflow/issues/11774#issuecomment-325271157", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11774", "id": 325271157, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTI3MTE1Nw==", "user": {"login": "jakiechris", "id": 12059735, "node_id": "MDQ6VXNlcjEyMDU5NzM1", "avatar_url": "https://avatars2.githubusercontent.com/u/12059735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakiechris", "html_url": "https://github.com/jakiechris", "followers_url": "https://api.github.com/users/jakiechris/followers", "following_url": "https://api.github.com/users/jakiechris/following{/other_user}", "gists_url": "https://api.github.com/users/jakiechris/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakiechris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakiechris/subscriptions", "organizations_url": "https://api.github.com/users/jakiechris/orgs", "repos_url": "https://api.github.com/users/jakiechris/repos", "events_url": "https://api.github.com/users/jakiechris/events{/privacy}", "received_events_url": "https://api.github.com/users/jakiechris/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-28T06:31:51Z", "updated_at": "2017-08-28T06:31:51Z", "author_association": "NONE", "body_html": "<p>i run into the same issue last week , and it has been solved .<br>\nany question about cross compile tensor to mobile can contact me, i'm willing to help others cause google members and other guys always helps me.<br>\nhere's my way for solving this issue:</p>\n<p>target:<br>\ni'm using c++ interface and cross compile to ios \\ android \\ linux \\ ...  , and let the app call the interface. android is using jni to call c++ interface.</p>\n<p>steps:</p>\n<p>1  for android 4.4, we need ndk r12b and api level 14 , my android colleague tells  me that 19 is also for android 4.4, well i didn't try it, i tested api level 14 and it works for android 4.4 \\ 6.0 \\ 7.0</p>\n<p>2  modify the Makefile file in folder contrib/makefile:<br>\nmodify:  --sysroot $(NDK_ROOT)/platforms/android-21/arch-arm <br>\nto :         --sysroot $(NDK_ROOT)/platforms/android-14/arch-arm \\</p>\n<p>3  modify the compile_android_protobuf.sh file in folder contrib/makefile:<br>\nmodify:  android_api_version=\"${ANDROID_API_VERSION:-21}\"<br>\nto :         android_api_version=\"${ANDROID_API_VERSION:-14}\"</p>\n<p>4 run build_all_android.sh to compile tensorflow and protobuf(which depended by tensorflow).<br>\nalso see <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/makefile\">https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/makefile</a> for detail</p>\n<p>5 get the .h file and .so file .</p>\n<p>in my circumstance, i packeted tensorflow lib to my own lib project , pls aware that my own lib set api level to 19, my own lib also can set to 14.  Theoretically libs in level 19 can call libs in level 14, and 14 cannot call 19.  And also aware that api level above 19 is not support android 4.4.</p>", "body_text": "i run into the same issue last week , and it has been solved .\nany question about cross compile tensor to mobile can contact me, i'm willing to help others cause google members and other guys always helps me.\nhere's my way for solving this issue:\ntarget:\ni'm using c++ interface and cross compile to ios \\ android \\ linux \\ ...  , and let the app call the interface. android is using jni to call c++ interface.\nsteps:\n1  for android 4.4, we need ndk r12b and api level 14 , my android colleague tells  me that 19 is also for android 4.4, well i didn't try it, i tested api level 14 and it works for android 4.4 \\ 6.0 \\ 7.0\n2  modify the Makefile file in folder contrib/makefile:\nmodify:  --sysroot $(NDK_ROOT)/platforms/android-21/arch-arm \nto :         --sysroot $(NDK_ROOT)/platforms/android-14/arch-arm \\\n3  modify the compile_android_protobuf.sh file in folder contrib/makefile:\nmodify:  android_api_version=\"${ANDROID_API_VERSION:-21}\"\nto :         android_api_version=\"${ANDROID_API_VERSION:-14}\"\n4 run build_all_android.sh to compile tensorflow and protobuf(which depended by tensorflow).\nalso see https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/makefile for detail\n5 get the .h file and .so file .\nin my circumstance, i packeted tensorflow lib to my own lib project , pls aware that my own lib set api level to 19, my own lib also can set to 14.  Theoretically libs in level 19 can call libs in level 14, and 14 cannot call 19.  And also aware that api level above 19 is not support android 4.4.", "body": "i run into the same issue last week , and it has been solved . \r\nany question about cross compile tensor to mobile can contact me, i'm willing to help others cause google members and other guys always helps me.\r\nhere's my way for solving this issue:\r\n\r\ntarget:\r\n i'm using c++ interface and cross compile to ios \\ android \\ linux \\ ...  , and let the app call the interface. android is using jni to call c++ interface. \r\n\r\nsteps:\r\n\r\n1  for android 4.4, we need ndk r12b and api level 14 , my android colleague tells  me that 19 is also for android 4.4, well i didn't try it, i tested api level 14 and it works for android 4.4 \\ 6.0 \\ 7.0\r\n\r\n2  modify the Makefile file in folder contrib/makefile:\r\n        modify:  --sysroot $(NDK_ROOT)/platforms/android-21/arch-arm \\\r\n        to :         --sysroot $(NDK_ROOT)/platforms/android-14/arch-arm \\\r\n        \r\n3  modify the compile_android_protobuf.sh file in folder contrib/makefile:\r\n        modify:  android_api_version=\"${ANDROID_API_VERSION:-21}\"\r\n        to :         android_api_version=\"${ANDROID_API_VERSION:-14}\"\r\n \r\n4 run build_all_android.sh to compile tensorflow and protobuf(which depended by tensorflow).\r\n   also see https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/makefile for detail \r\n\r\n5 get the .h file and .so file .\r\n\r\nin my circumstance, i packeted tensorflow lib to my own lib project , pls aware that my own lib set api level to 19, my own lib also can set to 14.  Theoretically libs in level 19 can call libs in level 14, and 14 cannot call 19.  And also aware that api level above 19 is not support android 4.4. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"}