{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4521", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4521/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4521/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4521/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4521", "id": 178443566, "node_id": "MDU6SXNzdWUxNzg0NDM1NjY=", "number": 4521, "title": "Floating Point Exception with Conv3d ", "user": {"login": "slundqui", "id": 1431723, "node_id": "MDQ6VXNlcjE0MzE3MjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1431723?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slundqui", "html_url": "https://github.com/slundqui", "followers_url": "https://api.github.com/users/slundqui/followers", "following_url": "https://api.github.com/users/slundqui/following{/other_user}", "gists_url": "https://api.github.com/users/slundqui/gists{/gist_id}", "starred_url": "https://api.github.com/users/slundqui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slundqui/subscriptions", "organizations_url": "https://api.github.com/users/slundqui/orgs", "repos_url": "https://api.github.com/users/slundqui/repos", "events_url": "https://api.github.com/users/slundqui/events{/privacy}", "received_events_url": "https://api.github.com/users/slundqui/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "mjanusz", "id": 328443, "node_id": "MDQ6VXNlcjMyODQ0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/328443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjanusz", "html_url": "https://github.com/mjanusz", "followers_url": "https://api.github.com/users/mjanusz/followers", "following_url": "https://api.github.com/users/mjanusz/following{/other_user}", "gists_url": "https://api.github.com/users/mjanusz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjanusz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjanusz/subscriptions", "organizations_url": "https://api.github.com/users/mjanusz/orgs", "repos_url": "https://api.github.com/users/mjanusz/repos", "events_url": "https://api.github.com/users/mjanusz/events{/privacy}", "received_events_url": "https://api.github.com/users/mjanusz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mjanusz", "id": 328443, "node_id": "MDQ6VXNlcjMyODQ0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/328443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjanusz", "html_url": "https://github.com/mjanusz", "followers_url": "https://api.github.com/users/mjanusz/followers", "following_url": "https://api.github.com/users/mjanusz/following{/other_user}", "gists_url": "https://api.github.com/users/mjanusz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjanusz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjanusz/subscriptions", "organizations_url": "https://api.github.com/users/mjanusz/orgs", "repos_url": "https://api.github.com/users/mjanusz/repos", "events_url": "https://api.github.com/users/mjanusz/events{/privacy}", "received_events_url": "https://api.github.com/users/mjanusz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2016-09-21T19:40:48Z", "updated_at": "2018-01-25T00:03:57Z", "closed_at": "2018-01-25T00:03:57Z", "author_association": "NONE", "body_html": "<p>I am getting a floating point exception with the following example:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> numpy <span class=\"pl-k\">as</span> np\n<span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\ninputShape <span class=\"pl-k\">=</span> (<span class=\"pl-c1\">16</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">64</span>, <span class=\"pl-c1\">256</span>, <span class=\"pl-c1\">6</span>)\nweightShape <span class=\"pl-k\">=</span> (<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">16</span>, <span class=\"pl-c1\">32</span>, <span class=\"pl-c1\">6</span>, <span class=\"pl-c1\">1028</span>)\n\nnp_in <span class=\"pl-k\">=</span> np.random.rand(<span class=\"pl-k\">*</span>inputShape).astype(np.float32)\nnp_w <span class=\"pl-k\">=</span> np.random.rand(<span class=\"pl-k\">*</span>weightShape).astype(np.float32)\n\ntf_in <span class=\"pl-k\">=</span> tf.Variable(np_in)\ntf_w <span class=\"pl-k\">=</span> tf.Variable(np_w)\n\ntf_out <span class=\"pl-k\">=</span> tf.nn.conv3d(tf_in, tf_w, [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>], <span class=\"pl-v\">padding</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>SAME<span class=\"pl-pds\">\"</span></span>)\n\ninit <span class=\"pl-k\">=</span> tf.initialize_all_variables()\nsess <span class=\"pl-k\">=</span> tf.Session()\nsess.run(init)\n\nnp_out <span class=\"pl-k\">=</span> sess.run(tf_out)</pre></div>\n<p>I'm currently using Cuda 8.0.27 and CUDNN 5.1.5, running on Ubuntu 16.04.1 LTS<br>\nTensorFlow built from source, commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/a0d929df36ca7d6f72184371f6c3d6d877dded3e/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/a0d929df36ca7d6f72184371f6c3d6d877dded3e\"><tt>a0d929d</tt></a><br>\nBazel version 0.3.1</p>\n<p>The code does not error out if you change the kernel height (currently 16) to other numbers (I've tried 14, 15, 17, and 18).</p>\n<p>Thanks in advanced.</p>", "body_text": "I am getting a floating point exception with the following example:\nimport numpy as np\nimport tensorflow as tf\n\ninputShape = (16, 3, 64, 256, 6)\nweightShape = (2, 16, 32, 6, 1028)\n\nnp_in = np.random.rand(*inputShape).astype(np.float32)\nnp_w = np.random.rand(*weightShape).astype(np.float32)\n\ntf_in = tf.Variable(np_in)\ntf_w = tf.Variable(np_w)\n\ntf_out = tf.nn.conv3d(tf_in, tf_w, [1, 1, 1, 1, 1], padding=\"SAME\")\n\ninit = tf.initialize_all_variables()\nsess = tf.Session()\nsess.run(init)\n\nnp_out = sess.run(tf_out)\nI'm currently using Cuda 8.0.27 and CUDNN 5.1.5, running on Ubuntu 16.04.1 LTS\nTensorFlow built from source, commit a0d929d\nBazel version 0.3.1\nThe code does not error out if you change the kernel height (currently 16) to other numbers (I've tried 14, 15, 17, and 18).\nThanks in advanced.", "body": "I am getting a floating point exception with the following example:\n\n``` python\nimport numpy as np\nimport tensorflow as tf\n\ninputShape = (16, 3, 64, 256, 6)\nweightShape = (2, 16, 32, 6, 1028)\n\nnp_in = np.random.rand(*inputShape).astype(np.float32)\nnp_w = np.random.rand(*weightShape).astype(np.float32)\n\ntf_in = tf.Variable(np_in)\ntf_w = tf.Variable(np_w)\n\ntf_out = tf.nn.conv3d(tf_in, tf_w, [1, 1, 1, 1, 1], padding=\"SAME\")\n\ninit = tf.initialize_all_variables()\nsess = tf.Session()\nsess.run(init)\n\nnp_out = sess.run(tf_out)\n```\n\nI'm currently using Cuda 8.0.27 and CUDNN 5.1.5, running on Ubuntu 16.04.1 LTS\nTensorFlow built from source, commit a0d929df36ca7d6f72184371f6c3d6d877dded3e\nBazel version 0.3.1\n\nThe code does not error out if you change the kernel height (currently 16) to other numbers (I've tried 14, 15, 17, and 18).\n\nThanks in advanced.\n"}