{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/268847995", "html_url": "https://github.com/tensorflow/tensorflow/issues/4521#issuecomment-268847995", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4521", "id": 268847995, "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODg0Nzk5NQ==", "user": {"login": "gmazzamuto", "id": 18688794, "node_id": "MDQ6VXNlcjE4Njg4Nzk0", "avatar_url": "https://avatars2.githubusercontent.com/u/18688794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmazzamuto", "html_url": "https://github.com/gmazzamuto", "followers_url": "https://api.github.com/users/gmazzamuto/followers", "following_url": "https://api.github.com/users/gmazzamuto/following{/other_user}", "gists_url": "https://api.github.com/users/gmazzamuto/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmazzamuto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmazzamuto/subscriptions", "organizations_url": "https://api.github.com/users/gmazzamuto/orgs", "repos_url": "https://api.github.com/users/gmazzamuto/repos", "events_url": "https://api.github.com/users/gmazzamuto/events{/privacy}", "received_events_url": "https://api.github.com/users/gmazzamuto/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-22T17:24:34Z", "updated_at": "2016-12-22T17:24:34Z", "author_association": "NONE", "body_html": "<p>Hi all,<br>\nI have a very similar problem. This MWE fails with a floating point exception only when <code>w_size = 16</code>:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\nw_size <span class=\"pl-k\">=</span> <span class=\"pl-c1\">16</span>\n\nat <span class=\"pl-k\">=</span> tf.random_normal((<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">128</span>, <span class=\"pl-c1\">128</span>, <span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">1</span>))\nbt <span class=\"pl-k\">=</span> tf.random_normal((w_size, w_size, <span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>))\n\n<span class=\"pl-k\">with</span> tf.device(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/gpu:0<span class=\"pl-pds\">'</span></span>):\n    ct <span class=\"pl-k\">=</span> tf.nn.convolution(at, bt, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>SAME<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-v\">strides</span><span class=\"pl-k\">=</span>[w_size, w_size, <span class=\"pl-c1\">5</span>])\n    \n<span class=\"pl-k\">with</span> tf.Session() <span class=\"pl-k\">as</span> sess:\n    sess.run(ct)</pre></div>\n<p>Tested with TensorFlow 0.12.0, CUDA 8.0.44, cuDNN 5.1 on the following systems:</p>\n<ul>\n<li>Ubuntu 16.04.1 LTS, Tesla K40c, driver version 375.20</li>\n<li>Ubuntu 14.04.5 LTS, GeForce GTX 980, driver version 367.57</li>\n</ul>", "body_text": "Hi all,\nI have a very similar problem. This MWE fails with a floating point exception only when w_size = 16:\nimport tensorflow as tf\n\nw_size = 16\n\nat = tf.random_normal((1, 128, 128, 5, 1))\nbt = tf.random_normal((w_size, w_size, 5, 1, 1))\n\nwith tf.device('/gpu:0'):\n    ct = tf.nn.convolution(at, bt, \"SAME\", strides=[w_size, w_size, 5])\n    \nwith tf.Session() as sess:\n    sess.run(ct)\nTested with TensorFlow 0.12.0, CUDA 8.0.44, cuDNN 5.1 on the following systems:\n\nUbuntu 16.04.1 LTS, Tesla K40c, driver version 375.20\nUbuntu 14.04.5 LTS, GeForce GTX 980, driver version 367.57", "body": "Hi all,\r\nI have a very similar problem. This MWE fails with a floating point exception only when `w_size = 16`:\r\n```python\r\nimport tensorflow as tf\r\n\r\nw_size = 16\r\n\r\nat = tf.random_normal((1, 128, 128, 5, 1))\r\nbt = tf.random_normal((w_size, w_size, 5, 1, 1))\r\n\r\nwith tf.device('/gpu:0'):\r\n    ct = tf.nn.convolution(at, bt, \"SAME\", strides=[w_size, w_size, 5])\r\n    \r\nwith tf.Session() as sess:\r\n    sess.run(ct)\r\n```\r\nTested with TensorFlow 0.12.0, CUDA 8.0.44, cuDNN 5.1 on the following systems:\r\n* Ubuntu 16.04.1 LTS, Tesla K40c, driver version 375.20\r\n* Ubuntu 14.04.5 LTS, GeForce GTX 980, driver version 367.57"}