{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/318227860", "html_url": "https://github.com/tensorflow/tensorflow/issues/11782#issuecomment-318227860", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11782", "id": 318227860, "node_id": "MDEyOklzc3VlQ29tbWVudDMxODIyNzg2MA==", "user": {"login": "rktamplayo", "id": 16053571, "node_id": "MDQ6VXNlcjE2MDUzNTcx", "avatar_url": "https://avatars3.githubusercontent.com/u/16053571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rktamplayo", "html_url": "https://github.com/rktamplayo", "followers_url": "https://api.github.com/users/rktamplayo/followers", "following_url": "https://api.github.com/users/rktamplayo/following{/other_user}", "gists_url": "https://api.github.com/users/rktamplayo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rktamplayo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rktamplayo/subscriptions", "organizations_url": "https://api.github.com/users/rktamplayo/orgs", "repos_url": "https://api.github.com/users/rktamplayo/repos", "events_url": "https://api.github.com/users/rktamplayo/events{/privacy}", "received_events_url": "https://api.github.com/users/rktamplayo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-27T01:10:02Z", "updated_at": "2017-07-27T01:10:02Z", "author_association": "NONE", "body_html": "<p>Hey. I forgot to include the links themselves. They should be fixed now.</p>\n<p>Other models (such as LSTMs, etc.) are working fine. The <a href=\"https://github.com/yoonkim/CNN_sentence\">original theano version</a> of the code works well too. I have my CUDA and cuDNN updated to the latest version (as specified)</p>\n<p>A reproducible test case would be:</p>\n<pre><code>input_x = tf.placeholder(tf.int32, [None, sequence_length], name=\"input_x\")\n\nembedding = tf.Variable(tf.random_uniform([vocab_size, embedding_size], -0.1, 0.1), name=\"embedding\")\nembedded_chars = tf.nn.embedding_lookup(embedding, input_x)\nembedded_chars_expanded = tf.expand_dims(embedded_chars, -1)\n\nW = tf.Variable(tf.truncated_normal(filter_shape, stddev=0.1), name=\"W\")\nb = tf.Variable(tf.constant(0.0, shape=[num_filters]), \"b\")\nconv = tf.nn.conv2d(\n                embedded_chars_expanded,\n                W,\n                strides=[1, 1, 1, 1],\n                padding=\"VALID\",\n                name=\"conv\")\nh = tf.nn.relu(tf.nn.bias_add(conv, b), name=\"relu\")\npooled = tf.nn.max_pool(\n                h,\n                ksize=[1, sequence_length-filter_size+1, 1, 1],\n                strides=[1, 1, 1, 1],\n                padding=\"VALID\",\n                name=\"pool\")\n</code></pre>\n<p>However, I cannot seem to reproduce this issue on other machines. Although <a href=\"https://github.com/dennybritz/cnn-text-classification-tf/issues/90\" data-hovercard-type=\"issue\" data-hovercard-url=\"/dennybritz/cnn-text-classification-tf/issues/90/hovercard\">some people</a> experienced this error before too.</p>", "body_text": "Hey. I forgot to include the links themselves. They should be fixed now.\nOther models (such as LSTMs, etc.) are working fine. The original theano version of the code works well too. I have my CUDA and cuDNN updated to the latest version (as specified)\nA reproducible test case would be:\ninput_x = tf.placeholder(tf.int32, [None, sequence_length], name=\"input_x\")\n\nembedding = tf.Variable(tf.random_uniform([vocab_size, embedding_size], -0.1, 0.1), name=\"embedding\")\nembedded_chars = tf.nn.embedding_lookup(embedding, input_x)\nembedded_chars_expanded = tf.expand_dims(embedded_chars, -1)\n\nW = tf.Variable(tf.truncated_normal(filter_shape, stddev=0.1), name=\"W\")\nb = tf.Variable(tf.constant(0.0, shape=[num_filters]), \"b\")\nconv = tf.nn.conv2d(\n                embedded_chars_expanded,\n                W,\n                strides=[1, 1, 1, 1],\n                padding=\"VALID\",\n                name=\"conv\")\nh = tf.nn.relu(tf.nn.bias_add(conv, b), name=\"relu\")\npooled = tf.nn.max_pool(\n                h,\n                ksize=[1, sequence_length-filter_size+1, 1, 1],\n                strides=[1, 1, 1, 1],\n                padding=\"VALID\",\n                name=\"pool\")\n\nHowever, I cannot seem to reproduce this issue on other machines. Although some people experienced this error before too.", "body": "Hey. I forgot to include the links themselves. They should be fixed now.\r\n\r\nOther models (such as LSTMs, etc.) are working fine. The [original theano version](https://github.com/yoonkim/CNN_sentence) of the code works well too. I have my CUDA and cuDNN updated to the latest version (as specified)\r\n\r\nA reproducible test case would be:\r\n\r\n```\r\ninput_x = tf.placeholder(tf.int32, [None, sequence_length], name=\"input_x\")\r\n\r\nembedding = tf.Variable(tf.random_uniform([vocab_size, embedding_size], -0.1, 0.1), name=\"embedding\")\r\nembedded_chars = tf.nn.embedding_lookup(embedding, input_x)\r\nembedded_chars_expanded = tf.expand_dims(embedded_chars, -1)\r\n\r\nW = tf.Variable(tf.truncated_normal(filter_shape, stddev=0.1), name=\"W\")\r\nb = tf.Variable(tf.constant(0.0, shape=[num_filters]), \"b\")\r\nconv = tf.nn.conv2d(\r\n                embedded_chars_expanded,\r\n                W,\r\n                strides=[1, 1, 1, 1],\r\n                padding=\"VALID\",\r\n                name=\"conv\")\r\nh = tf.nn.relu(tf.nn.bias_add(conv, b), name=\"relu\")\r\npooled = tf.nn.max_pool(\r\n                h,\r\n                ksize=[1, sequence_length-filter_size+1, 1, 1],\r\n                strides=[1, 1, 1, 1],\r\n                padding=\"VALID\",\r\n                name=\"pool\")\r\n```\r\n\r\nHowever, I cannot seem to reproduce this issue on other machines. Although [some people](https://github.com/dennybritz/cnn-text-classification-tf/issues/90) experienced this error before too."}