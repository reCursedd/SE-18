{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11782", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11782/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11782/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11782/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11782", "id": 245712724, "node_id": "MDU6SXNzdWUyNDU3MTI3MjQ=", "number": 11782, "title": "CUDA_ERROR_LAUNCH_FAILED when using conv2d/max_pool on Tensorflow GPU (Windows 10)", "user": {"login": "rktamplayo", "id": 16053571, "node_id": "MDQ6VXNlcjE2MDUzNTcx", "avatar_url": "https://avatars3.githubusercontent.com/u/16053571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rktamplayo", "html_url": "https://github.com/rktamplayo", "followers_url": "https://api.github.com/users/rktamplayo/followers", "following_url": "https://api.github.com/users/rktamplayo/following{/other_user}", "gists_url": "https://api.github.com/users/rktamplayo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rktamplayo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rktamplayo/subscriptions", "organizations_url": "https://api.github.com/users/rktamplayo/orgs", "repos_url": "https://api.github.com/users/rktamplayo/repos", "events_url": "https://api.github.com/users/rktamplayo/events{/privacy}", "received_events_url": "https://api.github.com/users/rktamplayo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-07-26T12:55:12Z", "updated_at": "2018-09-15T01:41:20Z", "closed_at": "2018-09-15T01:41:20Z", "author_association": "NONE", "body_html": "<p>When using conv2d and/or max_pool, the error below shows and stops the code. I used the code available here: <a href=\"https://github.com/dennybritz/cnn-text-classification-tf\">https://github.com/dennybritz/cnn-text-classification-tf</a></p>\n<pre><code>2017-07-26 21:41:27.467585: E c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1068] failed to synchronize the stop event: CUDA_ERROR_LAUNCH_FAILED\n2017-07-26 21:41:27.467797: E c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:54] Internal: error destroying CUDA event in context 000001178B37E810: CUDA_ERROR_LAUNCH_FAILED\n2017-07-26 21:41:27.468679: E c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:59] Internal: error destroying CUDA event in context 000001178B37E810: CUDA_ERROR_LAUNCH_FAILED\n2017-07-26 21:41:27.469846: F c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:2479] failed to enqueue convolution on stream: CUDNN_STATUS_EXECUTION_FAILED\n</code></pre>\n<p><strong>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</strong></p>\n<p>I have searched through all websites including GitHub and StackOverflow, and these two are the most relevant results and why they did not help:</p>\n<ol>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"200019454\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/6783\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/6783/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/6783\">#6783</a> - The issue pertains to tf.one_hot. Is this function used in either one of the functions above? The issue seems to be not solved too. I tried using the code on a Linux/GPU and on a Windows/CPU setting as well and it worked.</li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"226579099\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/dennybritz/cnn-text-classification-tf/issues/90\" data-hovercard-type=\"issue\" data-hovercard-url=\"/dennybritz/cnn-text-classification-tf/issues/90/hovercard\" href=\"https://github.com/dennybritz/cnn-text-classification-tf/issues/90\">dennybritz/cnn-text-classification-tf#90</a> - They kind of 'resolved' the issue by reducing the batch size. I tried this and it worked, but it does not make sense. For one thing, I tried using the code on another Windows machine with an older GPU and it works well.</li>\n</ol>\n<p><strong>Environment info</strong></p>\n<ul>\n<li>Tensorflow 1.2.1</li>\n<li>Python 3.5.3</li>\n<li>CUDA 8.0</li>\n<li>cuDNN 5.1</li>\n<li>OS: Windows 10</li>\n<li>GPU: GeForce GTX 1060</li>\n</ul>\n<p>[EDITED] edited the links</p>", "body_text": "When using conv2d and/or max_pool, the error below shows and stops the code. I used the code available here: https://github.com/dennybritz/cnn-text-classification-tf\n2017-07-26 21:41:27.467585: E c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1068] failed to synchronize the stop event: CUDA_ERROR_LAUNCH_FAILED\n2017-07-26 21:41:27.467797: E c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:54] Internal: error destroying CUDA event in context 000001178B37E810: CUDA_ERROR_LAUNCH_FAILED\n2017-07-26 21:41:27.468679: E c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:59] Internal: error destroying CUDA event in context 000001178B37E810: CUDA_ERROR_LAUNCH_FAILED\n2017-07-26 21:41:27.469846: F c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:2479] failed to enqueue convolution on stream: CUDNN_STATUS_EXECUTION_FAILED\n\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nI have searched through all websites including GitHub and StackOverflow, and these two are the most relevant results and why they did not help:\n\n#6783 - The issue pertains to tf.one_hot. Is this function used in either one of the functions above? The issue seems to be not solved too. I tried using the code on a Linux/GPU and on a Windows/CPU setting as well and it worked.\ndennybritz/cnn-text-classification-tf#90 - They kind of 'resolved' the issue by reducing the batch size. I tried this and it worked, but it does not make sense. For one thing, I tried using the code on another Windows machine with an older GPU and it works well.\n\nEnvironment info\n\nTensorflow 1.2.1\nPython 3.5.3\nCUDA 8.0\ncuDNN 5.1\nOS: Windows 10\nGPU: GeForce GTX 1060\n\n[EDITED] edited the links", "body": "When using conv2d and/or max_pool, the error below shows and stops the code. I used the code available here: [https://github.com/dennybritz/cnn-text-classification-tf](https://github.com/dennybritz/cnn-text-classification-tf)\r\n\r\n```\r\n2017-07-26 21:41:27.467585: E c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1068] failed to synchronize the stop event: CUDA_ERROR_LAUNCH_FAILED\r\n2017-07-26 21:41:27.467797: E c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:54] Internal: error destroying CUDA event in context 000001178B37E810: CUDA_ERROR_LAUNCH_FAILED\r\n2017-07-26 21:41:27.468679: E c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:59] Internal: error destroying CUDA event in context 000001178B37E810: CUDA_ERROR_LAUNCH_FAILED\r\n2017-07-26 21:41:27.469846: F c:\\tf_jenkins\\home\\workspace\\release-win\\m\\windows-gpu\\py\\35\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:2479] failed to enqueue convolution on stream: CUDNN_STATUS_EXECUTION_FAILED\r\n```\r\n\r\n**What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?**\r\n\r\nI have searched through all websites including GitHub and StackOverflow, and these two are the most relevant results and why they did not help:\r\n\r\n1. [https://github.com/tensorflow/tensorflow/issues/6783](https://github.com/tensorflow/tensorflow/issues/6783) - The issue pertains to tf.one_hot. Is this function used in either one of the functions above? The issue seems to be not solved too. I tried using the code on a Linux/GPU and on a Windows/CPU setting as well and it worked.\r\n2. [https://github.com/dennybritz/cnn-text-classification-tf/issues/90](https://github.com/dennybritz/cnn-text-classification-tf/issues/90) - They kind of 'resolved' the issue by reducing the batch size. I tried this and it worked, but it does not make sense. For one thing, I tried using the code on another Windows machine with an older GPU and it works well.\r\n\r\n**Environment info**\r\n\r\n- Tensorflow 1.2.1\r\n- Python 3.5.3\r\n- CUDA 8.0\r\n- cuDNN 5.1\r\n- OS: Windows 10\r\n- GPU: GeForce GTX 1060\r\n\r\n[EDITED] edited the links"}