{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8085", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8085/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8085/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8085/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8085", "id": 211912904, "node_id": "MDU6SXNzdWUyMTE5MTI5MDQ=", "number": 8085, "title": "Running Multiple instances.", "user": {"login": "ChadTaljaardt", "id": 13891249, "node_id": "MDQ6VXNlcjEzODkxMjQ5", "avatar_url": "https://avatars1.githubusercontent.com/u/13891249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChadTaljaardt", "html_url": "https://github.com/ChadTaljaardt", "followers_url": "https://api.github.com/users/ChadTaljaardt/followers", "following_url": "https://api.github.com/users/ChadTaljaardt/following{/other_user}", "gists_url": "https://api.github.com/users/ChadTaljaardt/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChadTaljaardt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChadTaljaardt/subscriptions", "organizations_url": "https://api.github.com/users/ChadTaljaardt/orgs", "repos_url": "https://api.github.com/users/ChadTaljaardt/repos", "events_url": "https://api.github.com/users/ChadTaljaardt/events{/privacy}", "received_events_url": "https://api.github.com/users/ChadTaljaardt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-04T22:22:56Z", "updated_at": "2017-04-04T19:38:34Z", "closed_at": "2017-04-04T19:38:34Z", "author_association": "NONE", "body_html": "<p>Operating System: Ubuntu 16.10<br>\nInstalled version of CUDA and cuDNN: 8.0 and cuDNN 5.2<br>\nTensorflow Version : 1.0.0-rc2</p>\n<p>I have a website that will take an image of a number plate, the website passes the numberplate to tensor for to be detected, sensor flow then returns the detected text back to the website to be inserted into the database.</p>\n<p>I found this issue when using a dropzone to detect many number plates at once when I upload an image one by one, the system is quite reliable. When using the dropzone the system is very unreliable.</p>\n<p>I tested this by opening 6 terminal sessions and running the following command in each instance:</p>\n<pre><code>/usr/bin/python3 /home/chad/Documents/anpr-python/detect.py /var/www/Honours/public/number_plate/fec5e719-ee8f-4b7c-a259-0cf8ddc5a28f.jpeg /home/chad/Documents/anpr-python/weights.npz out.jpg\n</code></pre>\n<p>I need to be able to fix this as the website needs to allow for mass upload of images to be detected.</p>\n<p>Could you help me figure out the best way to fix this?</p>\n<pre lang=\"chad@chad-GA-990XA-UD3:/var/www/Honours/public/number_plate$\" data-meta=\"/usr/bin/python3 /home/chad/Documents/anpr-python/detect.py /var/www/Honours/public/number_plate/fec5e719-ee8f-4b7c-a259-0cf8ddc5a28f.jpeg /home/chad/Documents/anpr-python/weights.npz out.jpg\"><code>I tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE3 instructions, but these are available on your machine and could speed up CPU computations.\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \nname: GeForce GTX 1070\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.683\npciBusID 0000:01:00.0\nTotal memory: 7.92GiB\nFree memory: 126.19MiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 126.19M (132317184 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:397] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:364] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\nF tensorflow/core/kernels/conv_ops.cc:605] Check failed: stream-&gt;parent()-&gt;GetConvolveAlgorithms(&amp;algorithms) \nAborted (core dumped)\nchad@chad-GA-990XA-UD3:/var/www/Honours/public/number_plate$ \n\n</code></pre>\n<pre><code>chad@chad-GA-990XA-UD3:/var/www/Honours/public/number_plate$ /usr/bin/python3 /home/chad/Documents/anpr-python/detect.py /var/www/Honours/public/number_plate/fec5e719-ee8f-4b7c-a259-0cf8ddc5a28f.jpeg /home/chad/Documents/anpr-python/weights.npz out.jpg\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE3 instructions, but these are available on your machine and could speed up CPU computations.\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \nname: GeForce GTX 1070\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.683\npciBusID 0000:01:00.0\nTotal memory: 7.92GiB\nFree memory: 82.19MiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 82.19M (86179840 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 15.62M (16374016 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 15.62M (16374016 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (256):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (512):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1024):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2048):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4096):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8192):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16384):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (32768):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (65536):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (131072):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (262144):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (524288):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1048576):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2097152):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4194304):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8388608):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16777216):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (33554432):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (67108864):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (134217728):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (268435456):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:660] Bin for 256.00MiB was 256.00MiB, Chunk State: \nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00000 of size 1280\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00500 of size 4864\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec01800 of size 1039104\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ecff300 of size 307200\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a300 of size 1024\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a700 of size 256\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a800 of size 256\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a900 of size 819200\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12900 of size 512\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12b00 of size 8192\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee14b00 of size 2072576\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030f00eb00 of size 65551360\nI tensorflow/core/common_runtime/bfc_allocator.cc:693]      Summary of in-use Chunks by size: \nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 2 Chunks of size 256 totalling 512B\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 512 totalling 512B\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1024 totalling 1.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1280 totalling 1.2KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 4864 totalling 4.8KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 8192 totalling 8.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 307200 totalling 300.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 819200 totalling 800.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1039104 totalling 1014.8KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 2072576 totalling 1.98MiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 65551360 totalling 62.51MiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:700] Sum Total of in-use chunks: 66.57MiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:702] Stats: \nLimit:                    86179840\nInUse:                    69805824\nMaxInUse:                 69805824\nNumAllocs:                      12\nMaxAllocSize:             65551360\n\nW tensorflow/core/common_runtime/bfc_allocator.cc:274] ******************************************************************************xxxxxxxxxxxxxxxxxxxxxx\nW tensorflow/core/common_runtime/bfc_allocator.cc:275] Ran out of memory trying to allocate 256.00MiB.  See logs for memory state.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (256):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (512):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1024):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2048):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4096):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8192):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16384):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (32768):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (65536):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (131072):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (262144):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (524288):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1048576):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2097152):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4194304):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8388608):   Total Chunks: 1, Chunks in use: 0 15.61MiB allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16777216):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (33554432):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (67108864):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (134217728):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (268435456):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:660] Bin for 47.56MiB was 32.00MiB, Chunk State: \nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00000 of size 1280\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00500 of size 4864\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec01800 of size 1039104\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ecff300 of size 307200\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a300 of size 1024\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a700 of size 256\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a800 of size 256\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a900 of size 819200\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12900 of size 512\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12b00 of size 8192\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee14b00 of size 2072576\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030f00eb00 of size 65551360\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x10313800000 of size 4864\nI tensorflow/core/common_runtime/bfc_allocator.cc:687] Free at 0x10313801300 of size 16369152\nI tensorflow/core/common_runtime/bfc_allocator.cc:693]      Summary of in-use Chunks by size: \nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 2 Chunks of size 256 totalling 512B\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 512 totalling 512B\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1024 totalling 1.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1280 totalling 1.2KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 2 Chunks of size 4864 totalling 9.5KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 8192 totalling 8.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 307200 totalling 300.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 819200 totalling 800.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1039104 totalling 1014.8KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 2072576 totalling 1.98MiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 65551360 totalling 62.51MiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:700] Sum Total of in-use chunks: 66.58MiB\n</code></pre>", "body_text": "Operating System: Ubuntu 16.10\nInstalled version of CUDA and cuDNN: 8.0 and cuDNN 5.2\nTensorflow Version : 1.0.0-rc2\nI have a website that will take an image of a number plate, the website passes the numberplate to tensor for to be detected, sensor flow then returns the detected text back to the website to be inserted into the database.\nI found this issue when using a dropzone to detect many number plates at once when I upload an image one by one, the system is quite reliable. When using the dropzone the system is very unreliable.\nI tested this by opening 6 terminal sessions and running the following command in each instance:\n/usr/bin/python3 /home/chad/Documents/anpr-python/detect.py /var/www/Honours/public/number_plate/fec5e719-ee8f-4b7c-a259-0cf8ddc5a28f.jpeg /home/chad/Documents/anpr-python/weights.npz out.jpg\n\nI need to be able to fix this as the website needs to allow for mass upload of images to be detected.\nCould you help me figure out the best way to fix this?\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE3 instructions, but these are available on your machine and could speed up CPU computations.\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \nname: GeForce GTX 1070\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.683\npciBusID 0000:01:00.0\nTotal memory: 7.92GiB\nFree memory: 126.19MiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 126.19M (132317184 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:397] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:364] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\nF tensorflow/core/kernels/conv_ops.cc:605] Check failed: stream->parent()->GetConvolveAlgorithms(&algorithms) \nAborted (core dumped)\nchad@chad-GA-990XA-UD3:/var/www/Honours/public/number_plate$ \n\n\nchad@chad-GA-990XA-UD3:/var/www/Honours/public/number_plate$ /usr/bin/python3 /home/chad/Documents/anpr-python/detect.py /var/www/Honours/public/number_plate/fec5e719-ee8f-4b7c-a259-0cf8ddc5a28f.jpeg /home/chad/Documents/anpr-python/weights.npz out.jpg\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE3 instructions, but these are available on your machine and could speed up CPU computations.\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \nname: GeForce GTX 1070\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.683\npciBusID 0000:01:00.0\nTotal memory: 7.92GiB\nFree memory: 82.19MiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 82.19M (86179840 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 15.62M (16374016 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 15.62M (16374016 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (256):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (512):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1024):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2048):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4096):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8192):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16384):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (32768):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (65536):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (131072):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (262144):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (524288):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1048576):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2097152):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4194304):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8388608):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16777216):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (33554432):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (67108864):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (134217728):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (268435456):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:660] Bin for 256.00MiB was 256.00MiB, Chunk State: \nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00000 of size 1280\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00500 of size 4864\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec01800 of size 1039104\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ecff300 of size 307200\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a300 of size 1024\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a700 of size 256\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a800 of size 256\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a900 of size 819200\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12900 of size 512\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12b00 of size 8192\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee14b00 of size 2072576\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030f00eb00 of size 65551360\nI tensorflow/core/common_runtime/bfc_allocator.cc:693]      Summary of in-use Chunks by size: \nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 2 Chunks of size 256 totalling 512B\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 512 totalling 512B\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1024 totalling 1.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1280 totalling 1.2KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 4864 totalling 4.8KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 8192 totalling 8.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 307200 totalling 300.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 819200 totalling 800.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1039104 totalling 1014.8KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 2072576 totalling 1.98MiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 65551360 totalling 62.51MiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:700] Sum Total of in-use chunks: 66.57MiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:702] Stats: \nLimit:                    86179840\nInUse:                    69805824\nMaxInUse:                 69805824\nNumAllocs:                      12\nMaxAllocSize:             65551360\n\nW tensorflow/core/common_runtime/bfc_allocator.cc:274] ******************************************************************************xxxxxxxxxxxxxxxxxxxxxx\nW tensorflow/core/common_runtime/bfc_allocator.cc:275] Ran out of memory trying to allocate 256.00MiB.  See logs for memory state.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (256):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (512):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1024):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2048):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4096):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8192):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16384):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (32768):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (65536):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (131072):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (262144):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (524288):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1048576):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2097152):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4194304):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8388608):   Total Chunks: 1, Chunks in use: 0 15.61MiB allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16777216):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (33554432):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (67108864):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (134217728):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (268435456):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\nI tensorflow/core/common_runtime/bfc_allocator.cc:660] Bin for 47.56MiB was 32.00MiB, Chunk State: \nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00000 of size 1280\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00500 of size 4864\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec01800 of size 1039104\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ecff300 of size 307200\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a300 of size 1024\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a700 of size 256\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a800 of size 256\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a900 of size 819200\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12900 of size 512\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12b00 of size 8192\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee14b00 of size 2072576\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030f00eb00 of size 65551360\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x10313800000 of size 4864\nI tensorflow/core/common_runtime/bfc_allocator.cc:687] Free at 0x10313801300 of size 16369152\nI tensorflow/core/common_runtime/bfc_allocator.cc:693]      Summary of in-use Chunks by size: \nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 2 Chunks of size 256 totalling 512B\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 512 totalling 512B\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1024 totalling 1.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1280 totalling 1.2KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 2 Chunks of size 4864 totalling 9.5KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 8192 totalling 8.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 307200 totalling 300.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 819200 totalling 800.0KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1039104 totalling 1014.8KiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 2072576 totalling 1.98MiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 65551360 totalling 62.51MiB\nI tensorflow/core/common_runtime/bfc_allocator.cc:700] Sum Total of in-use chunks: 66.58MiB", "body": "Operating System: Ubuntu 16.10\r\nInstalled version of CUDA and cuDNN: 8.0 and cuDNN 5.2\r\nTensorflow Version : 1.0.0-rc2\r\n\r\n\r\nI have a website that will take an image of a number plate, the website passes the numberplate to tensor for to be detected, sensor flow then returns the detected text back to the website to be inserted into the database. \r\n\r\nI found this issue when using a dropzone to detect many number plates at once when I upload an image one by one, the system is quite reliable. When using the dropzone the system is very unreliable. \r\n\r\nI tested this by opening 6 terminal sessions and running the following command in each instance:\r\n\r\n```\r\n/usr/bin/python3 /home/chad/Documents/anpr-python/detect.py /var/www/Honours/public/number_plate/fec5e719-ee8f-4b7c-a259-0cf8ddc5a28f.jpeg /home/chad/Documents/anpr-python/weights.npz out.jpg\r\n```\r\n\r\nI need to be able to fix this as the website needs to allow for mass upload of images to be detected.\r\n\r\nCould you help me figure out the best way to fix this?\r\n\r\n\r\n```chad@chad-GA-990XA-UD3:/var/www/Honours/public/number_plate$ /usr/bin/python3 /home/chad/Documents/anpr-python/detect.py /var/www/Honours/public/number_plate/fec5e719-ee8f-4b7c-a259-0cf8ddc5a28f.jpeg /home/chad/Documents/anpr-python/weights.npz out.jpg\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE3 instructions, but these are available on your machine and could speed up CPU computations.\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \r\nname: GeForce GTX 1070\r\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.683\r\npciBusID 0000:01:00.0\r\nTotal memory: 7.92GiB\r\nFree memory: 126.19MiB\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)\r\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 126.19M (132317184 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\r\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:397] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:364] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\r\nF tensorflow/core/kernels/conv_ops.cc:605] Check failed: stream->parent()->GetConvolveAlgorithms(&algorithms) \r\nAborted (core dumped)\r\nchad@chad-GA-990XA-UD3:/var/www/Honours/public/number_plate$ \r\n\r\n```\r\n\r\n\r\n```\r\nchad@chad-GA-990XA-UD3:/var/www/Honours/public/number_plate$ /usr/bin/python3 /home/chad/Documents/anpr-python/detect.py /var/www/Honours/public/number_plate/fec5e719-ee8f-4b7c-a259-0cf8ddc5a28f.jpeg /home/chad/Documents/anpr-python/weights.npz out.jpg\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE3 instructions, but these are available on your machine and could speed up CPU computations.\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \r\nname: GeForce GTX 1070\r\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.683\r\npciBusID 0000:01:00.0\r\nTotal memory: 7.92GiB\r\nFree memory: 82.19MiB\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)\r\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 82.19M (86179840 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\r\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 15.62M (16374016 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\r\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1002] failed to allocate 15.62M (16374016 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (256):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (512):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1024):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2048):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4096):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8192):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16384):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (32768):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (65536):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (131072):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (262144):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (524288):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1048576):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2097152):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4194304):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8388608):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16777216):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (33554432):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (67108864):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (134217728):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (268435456):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:660] Bin for 256.00MiB was 256.00MiB, Chunk State: \r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00000 of size 1280\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00500 of size 4864\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec01800 of size 1039104\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ecff300 of size 307200\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a300 of size 1024\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a700 of size 256\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a800 of size 256\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a900 of size 819200\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12900 of size 512\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12b00 of size 8192\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee14b00 of size 2072576\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030f00eb00 of size 65551360\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:693]      Summary of in-use Chunks by size: \r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 2 Chunks of size 256 totalling 512B\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 512 totalling 512B\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1024 totalling 1.0KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1280 totalling 1.2KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 4864 totalling 4.8KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 8192 totalling 8.0KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 307200 totalling 300.0KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 819200 totalling 800.0KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1039104 totalling 1014.8KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 2072576 totalling 1.98MiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 65551360 totalling 62.51MiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:700] Sum Total of in-use chunks: 66.57MiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:702] Stats: \r\nLimit:                    86179840\r\nInUse:                    69805824\r\nMaxInUse:                 69805824\r\nNumAllocs:                      12\r\nMaxAllocSize:             65551360\r\n\r\nW tensorflow/core/common_runtime/bfc_allocator.cc:274] ******************************************************************************xxxxxxxxxxxxxxxxxxxxxx\r\nW tensorflow/core/common_runtime/bfc_allocator.cc:275] Ran out of memory trying to allocate 256.00MiB.  See logs for memory state.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (256):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (512):       Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1024):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2048):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4096):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8192):      Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16384):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (32768):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (65536):     Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (131072):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (262144):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (524288):    Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (1048576):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (2097152):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (4194304):   Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (8388608):   Total Chunks: 1, Chunks in use: 0 15.61MiB allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (16777216):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (33554432):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (67108864):  Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (134217728):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin (268435456):         Total Chunks: 0, Chunks in use: 0 0B allocated for chunks. 0B client-requested for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:660] Bin for 47.56MiB was 32.00MiB, Chunk State: \r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00000 of size 1280\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec00500 of size 4864\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ec01800 of size 1039104\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ecff300 of size 307200\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a300 of size 1024\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a700 of size 256\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a800 of size 256\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ed4a900 of size 819200\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12900 of size 512\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee12b00 of size 8192\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030ee14b00 of size 2072576\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x1030f00eb00 of size 65551360\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:678] Chunk at 0x10313800000 of size 4864\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:687] Free at 0x10313801300 of size 16369152\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:693]      Summary of in-use Chunks by size: \r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 2 Chunks of size 256 totalling 512B\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 512 totalling 512B\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1024 totalling 1.0KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1280 totalling 1.2KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 2 Chunks of size 4864 totalling 9.5KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 8192 totalling 8.0KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 307200 totalling 300.0KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 819200 totalling 800.0KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 1039104 totalling 1014.8KiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 2072576 totalling 1.98MiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:696] 1 Chunks of size 65551360 totalling 62.51MiB\r\nI tensorflow/core/common_runtime/bfc_allocator.cc:700] Sum Total of in-use chunks: 66.58MiB\r\n```\r\n"}