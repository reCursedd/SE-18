{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4931", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4931/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4931/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4931/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4931", "id": 182671246, "node_id": "MDU6SXNzdWUxODI2NzEyNDY=", "number": 4931, "title": "Couldn't open CUDA library libcuda.so.1 in when building using nvidia docker cuda8 image", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2016-10-13T01:10:22Z", "updated_at": "2016-10-13T05:35:09Z", "closed_at": "2016-10-13T05:35:09Z", "author_association": "MEMBER", "body_html": "<p>We built tensorflow on nvidia-docker image nvidia/cuda:8.0-cudnn5-devel<br>\n\"\"\"<br>\nHowever, when using the package we built, we run into this problem:<br>\nI tensorflow/stream_executor/dso_loader.cc:105] Couldn't open CUDA library libcuda.so.1. LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:<br>\n\"\"\"<br>\nIn this special Dockerfile, we are using whatever LD_LIBRARY_PATH defined by nvidia docker.</p>\n<p>It looks like we are looking specificly for the file libcuda.so.1<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/stream_executor/dso_loader.cc#L80\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/stream_executor/dso_loader.cc#L80</a></p>\n<p>And it looks like we switched to doing this due to:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"160282761\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2865\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2865/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2865\">#2865</a></p>\n<p>However, libcuda.so.1 is not linked/made available by nvidia-docker in the docker image.</p>\n<p>Side note: it seems to be not available in our docker images based on 7.5, but that one somehow works.<br>\nNo idea how.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3645581\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/flx42\">@flx42</a> could you help us shed some light into this?</p>", "body_text": "We built tensorflow on nvidia-docker image nvidia/cuda:8.0-cudnn5-devel\n\"\"\"\nHowever, when using the package we built, we run into this problem:\nI tensorflow/stream_executor/dso_loader.cc:105] Couldn't open CUDA library libcuda.so.1. LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:\n\"\"\"\nIn this special Dockerfile, we are using whatever LD_LIBRARY_PATH defined by nvidia docker.\nIt looks like we are looking specificly for the file libcuda.so.1\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/stream_executor/dso_loader.cc#L80\nAnd it looks like we switched to doing this due to:\n#2865\nHowever, libcuda.so.1 is not linked/made available by nvidia-docker in the docker image.\nSide note: it seems to be not available in our docker images based on 7.5, but that one somehow works.\nNo idea how.\n@flx42 could you help us shed some light into this?", "body": "We built tensorflow on nvidia-docker image nvidia/cuda:8.0-cudnn5-devel\n\"\"\"\nHowever, when using the package we built, we run into this problem:\nI tensorflow/stream_executor/dso_loader.cc:105] Couldn't open CUDA library libcuda.so.1. LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:\n\"\"\"\nIn this special Dockerfile, we are using whatever LD_LIBRARY_PATH defined by nvidia docker.\n\nIt looks like we are looking specificly for the file libcuda.so.1\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/stream_executor/dso_loader.cc#L80\n\nAnd it looks like we switched to doing this due to:\nhttps://github.com/tensorflow/tensorflow/issues/2865\n\nHowever, libcuda.so.1 is not linked/made available by nvidia-docker in the docker image.\n\nSide note: it seems to be not available in our docker images based on 7.5, but that one somehow works.\nNo idea how.\n\n@flx42 could you help us shed some light into this?\n"}