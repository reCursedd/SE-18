{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7832", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7832/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7832/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7832/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/7832", "id": 209931549, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA3NzQ3NTg0", "number": 7832, "title": "Android Improvements", "user": {"login": "timanglade", "id": 9924, "node_id": "MDQ6VXNlcjk5MjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/9924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timanglade", "html_url": "https://github.com/timanglade", "followers_url": "https://api.github.com/users/timanglade/followers", "following_url": "https://api.github.com/users/timanglade/following{/other_user}", "gists_url": "https://api.github.com/users/timanglade/gists{/gist_id}", "starred_url": "https://api.github.com/users/timanglade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timanglade/subscriptions", "organizations_url": "https://api.github.com/users/timanglade/orgs", "repos_url": "https://api.github.com/users/timanglade/repos", "events_url": "https://api.github.com/users/timanglade/events{/privacy}", "received_events_url": "https://api.github.com/users/timanglade/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "fef2c0", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-02-24T01:05:06Z", "updated_at": "2017-03-14T01:58:12Z", "closed_at": "2017-03-14T01:15:00Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7832", "html_url": "https://github.com/tensorflow/tensorflow/pull/7832", "diff_url": "https://github.com/tensorflow/tensorflow/pull/7832.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/7832.patch"}, "body_html": "<p>This branch adds minor improvements to TensorFlow on Android.</p>\n<ol>\n<li>\n<p><a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/e02edef4ccb832e801cbbc205e28b7d27b04bece/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/e02edef4ccb832e801cbbc205e28b7d27b04bece\"><tt>e02edef</tt></a> lowers API support to level 14 \u2014 which is confirmed to work, rather than level 21 as indicated right now. This setting is commented out by default, but could be a useful guideline to most users. It might be more interesting to update the CI server to naturally produce nightly builds at that level, but it doesn\u2019t seem like I can send a PR for that (unless I missed it).</p>\n</li>\n<li>\n<p><a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/5971f69463b08bf1f69180a800c846d0ae8c2dbe/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/5971f69463b08bf1f69180a800c846d0ae8c2dbe\"><tt>5971f69</tt></a> introduces the use of <a href=\"https://gcc.gnu.org/onlinedocs/gnat_ugn/Compilation-options.html\" rel=\"nofollow\">GC sections</a> when compiling libtensorflow_inference.so, which has the effect of reducing final binary size.</p>\n<p>At the time of this PR, the following improvements were observed:</p>\n<table>\n<thead>\n<tr>\n<th>arch</th>\n<th>master</th>\n<th>this branch</th>\n<th>delta</th>\n<th>%</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>armeabi-v7a</td>\n<td>10197000 bytes</td>\n<td>9353164 bytes</td>\n<td>-0.8 MB</td>\n<td>-8%</td>\n</tr>\n<tr>\n<td>arm64-v8a</td>\n<td>16568952 bytes</td>\n<td>14693056 bytes</td>\n<td>-1.8 MB</td>\n<td>-11%</td>\n</tr>\n<tr>\n<td>x86</td>\n<td>16631748 bytes</td>\n<td>14751612 bytes</td>\n<td>-1.8 MB</td>\n<td>-11%</td>\n</tr>\n<tr>\n<td>x86_64</td>\n<td>16509880 bytes</td>\n<td>14715632 bytes</td>\n<td>-1.7 MB</td>\n<td>-11%</td>\n</tr>\n</tbody>\n</table>\n<p>Final observed impact on an app is around 1MB on a unified release APK.</p>\n</li>\n</ol>", "body_text": "This branch adds minor improvements to TensorFlow on Android.\n\n\ne02edef lowers API support to level 14 \u2014 which is confirmed to work, rather than level 21 as indicated right now. This setting is commented out by default, but could be a useful guideline to most users. It might be more interesting to update the CI server to naturally produce nightly builds at that level, but it doesn\u2019t seem like I can send a PR for that (unless I missed it).\n\n\n5971f69 introduces the use of GC sections when compiling libtensorflow_inference.so, which has the effect of reducing final binary size.\nAt the time of this PR, the following improvements were observed:\n\n\n\narch\nmaster\nthis branch\ndelta\n%\n\n\n\n\narmeabi-v7a\n10197000 bytes\n9353164 bytes\n-0.8 MB\n-8%\n\n\narm64-v8a\n16568952 bytes\n14693056 bytes\n-1.8 MB\n-11%\n\n\nx86\n16631748 bytes\n14751612 bytes\n-1.8 MB\n-11%\n\n\nx86_64\n16509880 bytes\n14715632 bytes\n-1.7 MB\n-11%\n\n\n\nFinal observed impact on an app is around 1MB on a unified release APK.", "body": "This branch adds minor improvements to TensorFlow on Android.\r\n\r\n1. e02edef lowers API support to level 14 \u2014 which is confirmed to work, rather than level 21 as indicated right now. This setting is commented out by default, but could be a useful guideline to most users. It might be more interesting to update the CI server to naturally produce nightly builds at that level, but it doesn\u2019t seem like I can send a PR for that (unless I missed it).\r\n\r\n2. 5971f69 introduces the use of [GC sections](https://gcc.gnu.org/onlinedocs/gnat_ugn/Compilation-options.html) when compiling libtensorflow_inference.so, which has the effect of reducing final binary size.\r\n\r\n    At the time of this PR, the following improvements were observed:\r\n    \r\n    |  arch | master | this branch | delta | % |\r\n    |  ------ | ------ | ------ | ------ | ------ |\r\n    |  armeabi-v7a | 10197000 bytes | 9353164 bytes | -0.8 MB | -8% |\r\n    |  arm64-v8a | 16568952 bytes | 14693056 bytes | -1.8 MB | -11% |\r\n    |  x86 | 16631748 bytes | 14751612 bytes | -1.8 MB | -11% |\r\n    |  x86_64 | 16509880 bytes | 14715632 bytes | -1.7 MB | -11% |\r\n\r\n    Final observed impact on an app is around 1MB on a unified release APK."}