{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/283511656", "html_url": "https://github.com/tensorflow/tensorflow/issues/7491#issuecomment-283511656", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7491", "id": 283511656, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzUxMTY1Ng==", "user": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-01T23:57:51Z", "updated_at": "2017-03-01T23:57:51Z", "author_association": "MEMBER", "body_html": "<p>Hi zero2hero2020,</p>\n<p>I cannot reproduce your issue. But here's what you can do:</p>\n<ol>\n<li>I recommend that you use the following more modern model definition style:</li>\n</ol>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> keras\n\ninputs <span class=\"pl-k\">=</span> keras.layers.Input(<span class=\"pl-v\">shape</span><span class=\"pl-k\">=</span>(<span class=\"pl-c1\">30</span>, <span class=\"pl-c1\">512</span>))\nx <span class=\"pl-k\">=</span> keras.layers.LSTM(<span class=\"pl-c1\">256</span>, <span class=\"pl-v\">return_sequences</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>)(inputs)\nx <span class=\"pl-k\">=</span> keras.layers.BatchNormalization(<span class=\"pl-v\">axis</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span>)(x)\nx <span class=\"pl-k\">=</span> keras.layers.LSTM(<span class=\"pl-c1\">32</span>)(x)\noutputs <span class=\"pl-k\">=</span> keras.layers.Dense(<span class=\"pl-c1\">1</span>, <span class=\"pl-v\">activation</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>sigmoid<span class=\"pl-pds\">'</span></span>)(x)</pre></div>\n<ol start=\"2\">\n<li>I recommend that you install and use the Keras 2 API, available via the <code>keras-2</code> branch of the Keras repo: <a href=\"https://github.com/fchollet/keras/tree/keras-2\">https://github.com/fchollet/keras/tree/keras-2</a></li>\n</ol>", "body_text": "Hi zero2hero2020,\nI cannot reproduce your issue. But here's what you can do:\n\nI recommend that you use the following more modern model definition style:\n\nimport keras\n\ninputs = keras.layers.Input(shape=(30, 512))\nx = keras.layers.LSTM(256, return_sequences=True)(inputs)\nx = keras.layers.BatchNormalization(axis=1)(x)\nx = keras.layers.LSTM(32)(x)\noutputs = keras.layers.Dense(1, activation='sigmoid')(x)\n\nI recommend that you install and use the Keras 2 API, available via the keras-2 branch of the Keras repo: https://github.com/fchollet/keras/tree/keras-2", "body": "Hi zero2hero2020,\r\n\r\nI cannot reproduce your issue. But here's what you can do:\r\n\r\n1) I recommend that you use the following more modern model definition style:\r\n\r\n```python\r\nimport keras\r\n\r\ninputs = keras.layers.Input(shape=(30, 512))\r\nx = keras.layers.LSTM(256, return_sequences=True)(inputs)\r\nx = keras.layers.BatchNormalization(axis=1)(x)\r\nx = keras.layers.LSTM(32)(x)\r\noutputs = keras.layers.Dense(1, activation='sigmoid')(x)\r\n```\r\n\r\n2) I recommend that you install and use the Keras 2 API, available via the `keras-2` branch of the Keras repo: https://github.com/fchollet/keras/tree/keras-2"}