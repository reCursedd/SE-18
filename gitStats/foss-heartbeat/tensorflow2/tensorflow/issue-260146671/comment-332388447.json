{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/332388447", "html_url": "https://github.com/tensorflow/tensorflow/pull/13284#issuecomment-332388447", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13284", "id": 332388447, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjM4ODQ0Nw==", "user": {"login": "immars", "id": 1144653, "node_id": "MDQ6VXNlcjExNDQ2NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1144653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/immars", "html_url": "https://github.com/immars", "followers_url": "https://api.github.com/users/immars/followers", "following_url": "https://api.github.com/users/immars/following{/other_user}", "gists_url": "https://api.github.com/users/immars/gists{/gist_id}", "starred_url": "https://api.github.com/users/immars/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/immars/subscriptions", "organizations_url": "https://api.github.com/users/immars/orgs", "repos_url": "https://api.github.com/users/immars/repos", "events_url": "https://api.github.com/users/immars/events{/privacy}", "received_events_url": "https://api.github.com/users/immars/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-27T02:12:23Z", "updated_at": "2017-09-27T02:12:23Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=19293677\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ispirmustafa\">@ispirmustafa</a> user also need to bypass checkpoint restoration of <code>SessionManager</code>, while he/she cannot set parameter <code>checkpoint_dir</code> to None because it's also for <code>CheckpointSaverHook</code> to save newer checkpoints. Otherwise, <code>SessionManager</code> would still complain about missing variables because it happens right after <code>tf.Session</code> is created, before hooks can get access to the <code>sess</code>.</p>\n<p>It seems to me that it's not possible to achieve this without modifying <code>MonitoredTrainingSession</code>, because currently the same <code>Saver</code> instance is used to restore and save checkpoints.</p>\n<p>please see <a href=\"https://github.com/tensorflow/tensorflow/pull/13284/files#diff-078d8aa8dc9179be5e99435311ade88fR352\">https://github.com/tensorflow/tensorflow/pull/13284/files#diff-078d8aa8dc9179be5e99435311ade88fR352</a> , about <code>restore_checkpoint_dir</code>.</p>", "body_text": "@ispirmustafa user also need to bypass checkpoint restoration of SessionManager, while he/she cannot set parameter checkpoint_dir to None because it's also for CheckpointSaverHook to save newer checkpoints. Otherwise, SessionManager would still complain about missing variables because it happens right after tf.Session is created, before hooks can get access to the sess.\nIt seems to me that it's not possible to achieve this without modifying MonitoredTrainingSession, because currently the same Saver instance is used to restore and save checkpoints.\nplease see https://github.com/tensorflow/tensorflow/pull/13284/files#diff-078d8aa8dc9179be5e99435311ade88fR352 , about restore_checkpoint_dir.", "body": "@ispirmustafa user also need to bypass checkpoint restoration of `SessionManager`, while he/she cannot set parameter `checkpoint_dir` to None because it's also for `CheckpointSaverHook` to save newer checkpoints. Otherwise, `SessionManager` would still complain about missing variables because it happens right after `tf.Session` is created, before hooks can get access to the `sess`.\r\n\r\nIt seems to me that it's not possible to achieve this without modifying `MonitoredTrainingSession`, because currently the same `Saver` instance is used to restore and save checkpoints.\r\n\r\nplease see https://github.com/tensorflow/tensorflow/pull/13284/files#diff-078d8aa8dc9179be5e99435311ade88fR352 , about `restore_checkpoint_dir`. \r\n\r\n\r\n"}