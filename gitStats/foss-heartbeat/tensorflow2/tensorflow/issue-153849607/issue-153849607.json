{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2296", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2296/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2296/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2296/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2296", "id": 153849607, "node_id": "MDU6SXNzdWUxNTM4NDk2MDc=", "number": 2296, "title": "Issue with retrain.py, \"could not convert string to float\" when creating bottlenecks", "user": {"login": "oweingrod", "id": 4645780, "node_id": "MDQ6VXNlcjQ2NDU3ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/4645780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oweingrod", "html_url": "https://github.com/oweingrod", "followers_url": "https://api.github.com/users/oweingrod/followers", "following_url": "https://api.github.com/users/oweingrod/following{/other_user}", "gists_url": "https://api.github.com/users/oweingrod/gists{/gist_id}", "starred_url": "https://api.github.com/users/oweingrod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oweingrod/subscriptions", "organizations_url": "https://api.github.com/users/oweingrod/orgs", "repos_url": "https://api.github.com/users/oweingrod/repos", "events_url": "https://api.github.com/users/oweingrod/events{/privacy}", "received_events_url": "https://api.github.com/users/oweingrod/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 17, "created_at": "2016-05-09T19:22:32Z", "updated_at": "2017-01-29T09:54:10Z", "closed_at": "2016-06-22T08:18:08Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System:<br>\nUbuntu 14.04<br>\nInstalled version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\nCUDA 7.5, cuDNN v2 (6.5)<br>\n<code>lrwxrwxrwx 1 root root 19 May  9 09:11 /usr/local/cuda -&gt; /usr/local/cuda-7.5</code></p>\n<p>Installed the Nightly pip package from April 12th, with GPU support<br>\nTensorflow version: 0.7.1</p>\n<p>If installed from sources, provide the commit hash:</p>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Running the retrain with a very large image directory (around 600k files) causes the training to fail around 3/4 the way through, during the bottleneck creation process. It always seems to fail while within the same label folder, but it does not appear that any file names within that label folder are corrupted or named incorrectly.</li>\n</ol>\n<h3>What have you tried?</h3>\n<ol>\n<li>Changing the number of training steps</li>\n<li>Checking to see if any files are less than 30k (theoretically, very small files are likely to be corrupted jpeg data)</li>\n</ol>\n<h3>Logs or other output that would be helpful</h3>\n<p>For 610,000 files, the process can't seem to get through more than 415k. Am I simply just using too many files? Or am I missing a very, very subtle naming convention issue?</p>\n<h2>Full stack trace:</h2>\n<p><code>File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run sys.exit(main(sys.argv)) File \"retrain_reshape_error.py\", line 695, in main cache_bottlenecks(sess, image_lists, FLAGS.image_dir, FLAGS.bottleneck_dir, jpeg_data_tensor, bottleneck_tensor) File \"retrain_reshape_error.py\", line 400, in cache_bottlenecks image_dir, category, bottleneck_dir, jpeg_data_tensor, bottleneck_tensor) File \"retrain_reshape_error.py\", line 372, in get_or_create_bottleneck bottleneck_values = [float(x) for x in bottleneck_string.split(',')]  ValueErrror: could not convert string to float</code></p>\n<p>I should also note that I have been using this training process for the last few months with absolutely no failure.</p>\n<p>Thanks!</p>\n<p>Oren</p>", "body_text": "Environment info\nOperating System:\nUbuntu 14.04\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nCUDA 7.5, cuDNN v2 (6.5)\nlrwxrwxrwx 1 root root 19 May  9 09:11 /usr/local/cuda -> /usr/local/cuda-7.5\nInstalled the Nightly pip package from April 12th, with GPU support\nTensorflow version: 0.7.1\nIf installed from sources, provide the commit hash:\nSteps to reproduce\n\nRunning the retrain with a very large image directory (around 600k files) causes the training to fail around 3/4 the way through, during the bottleneck creation process. It always seems to fail while within the same label folder, but it does not appear that any file names within that label folder are corrupted or named incorrectly.\n\nWhat have you tried?\n\nChanging the number of training steps\nChecking to see if any files are less than 30k (theoretically, very small files are likely to be corrupted jpeg data)\n\nLogs or other output that would be helpful\nFor 610,000 files, the process can't seem to get through more than 415k. Am I simply just using too many files? Or am I missing a very, very subtle naming convention issue?\nFull stack trace:\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run sys.exit(main(sys.argv)) File \"retrain_reshape_error.py\", line 695, in main cache_bottlenecks(sess, image_lists, FLAGS.image_dir, FLAGS.bottleneck_dir, jpeg_data_tensor, bottleneck_tensor) File \"retrain_reshape_error.py\", line 400, in cache_bottlenecks image_dir, category, bottleneck_dir, jpeg_data_tensor, bottleneck_tensor) File \"retrain_reshape_error.py\", line 372, in get_or_create_bottleneck bottleneck_values = [float(x) for x in bottleneck_string.split(',')]  ValueErrror: could not convert string to float\nI should also note that I have been using this training process for the last few months with absolutely no failure.\nThanks!\nOren", "body": "### Environment info\n\nOperating System:\nUbuntu 14.04 \nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\nCUDA 7.5, cuDNN v2 (6.5)\n`lrwxrwxrwx 1 root root 19 May  9 09:11 /usr/local/cuda -> /usr/local/cuda-7.5`\n\nInstalled the Nightly pip package from April 12th, with GPU support\nTensorflow version: 0.7.1\n\nIf installed from sources, provide the commit hash:\n### Steps to reproduce\n1. Running the retrain with a very large image directory (around 600k files) causes the training to fail around 3/4 the way through, during the bottleneck creation process. It always seems to fail while within the same label folder, but it does not appear that any file names within that label folder are corrupted or named incorrectly.\n### What have you tried?\n1. Changing the number of training steps\n2. Checking to see if any files are less than 30k (theoretically, very small files are likely to be corrupted jpeg data)\n### Logs or other output that would be helpful\n\nFor 610,000 files, the process can't seem to get through more than 415k. Am I simply just using too many files? Or am I missing a very, very subtle naming convention issue?\n## Full stack trace:\n\n`File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"retrain_reshape_error.py\", line 695, in main\n    cache_bottlenecks(sess, image_lists, FLAGS.image_dir, FLAGS.bottleneck_dir, jpeg_data_tensor, bottleneck_tensor)\n  File \"retrain_reshape_error.py\", line 400, in cache_bottlenecks\n    image_dir, category, bottleneck_dir, jpeg_data_tensor, bottleneck_tensor)\n  File \"retrain_reshape_error.py\", line 372, in get_or_create_bottleneck\n    bottleneck_values = [float(x) for x in bottleneck_string.split(',')] \nValueErrror: could not convert string to float`\n\nI should also note that I have been using this training process for the last few months with absolutely no failure.\n\nThanks!\n\nOren\n"}