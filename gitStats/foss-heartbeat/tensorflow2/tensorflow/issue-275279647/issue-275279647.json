{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14711", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14711/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14711/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14711/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14711", "id": 275279647, "node_id": "MDU6SXNzdWUyNzUyNzk2NDc=", "number": 14711, "title": "//tensorflow/python:session_list_devices_test fails on X86", "user": {"login": "sandipmgiri", "id": 16284232, "node_id": "MDQ6VXNlcjE2Mjg0MjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/16284232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandipmgiri", "html_url": "https://github.com/sandipmgiri", "followers_url": "https://api.github.com/users/sandipmgiri/followers", "following_url": "https://api.github.com/users/sandipmgiri/following{/other_user}", "gists_url": "https://api.github.com/users/sandipmgiri/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandipmgiri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandipmgiri/subscriptions", "organizations_url": "https://api.github.com/users/sandipmgiri/orgs", "repos_url": "https://api.github.com/users/sandipmgiri/repos", "events_url": "https://api.github.com/users/sandipmgiri/events{/privacy}", "received_events_url": "https://api.github.com/users/sandipmgiri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-20T08:59:18Z", "updated_at": "2017-12-07T05:13:24Z", "closed_at": "2017-12-07T05:13:24Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nUbuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\nInstalled from source</li>\n<li><strong>TensorFlow version (use command below)</strong>:<br>\nTF-1.3.1</li>\n<li><strong>Python version</strong>:<br>\nPython 2.7.12</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\nBazel - 0.5.4</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\nNA</li>\n<li><strong>GPU model and memory</strong>:<br>\nNA</li>\n<li><strong>Exact command to reproduce</strong>:<br>\n<code>bazel test --config=opt  //tensorflow/python:session_list_devices_test</code></li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Following 3 sub-tests are failing on Ubuntu:16.04 (x86) with the assertion errors</p>\n<ol>\n<li>FAIL: testListDevices (<strong>main</strong>.SessionListDevicesWithCApiTest)<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L39\">https://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L39</a><br>\n<code>self.assertGreaterEqual(1, len(devices), devices)</code> .....# Getting AssertionError due to: \"1\" unexpectedly not greater than or equal to \"3\"</li>\n<li>FAIL: testListDevicesGrpcSession (<strong>main</strong>.SessionListDevicesWithCApiTest)<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L47\">https://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L47</a><br>\n<code>self.assertGreaterEqual(1, len(devices), devices</code>) .....#  Getting AssertionError due to: \"1\" unexpectedly not greater than or equal to \"3\"</li>\n<li>FAIL: testListDevicesClusterSpecPropagation (<strong>main</strong>.SessionListDevicesWithCApiTest)<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L66\">https://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L66</a><br>\n<code>self.assertGreaterEqual(2, len(devices), devices)</code> ..... #  Getting AssertionError due to: \"2\" unexpectedly not greater than or equal to \"6\"</li>\n</ol>\n<p>Is this is a known failure (can we ignore ) or I am missing something here ?. Please provide your comments on this.Thanks!</p>\n<h3>Source code / logs</h3>\n<pre><code>\n$  bazel test --config=opt  //tensorflow/python:session_list_devices_test\n\n2017-11-20 08:35:46.791667: W tensorflow/core/distributed_runtime/rpc/grpc_session.cc:343] GrpcSession::ListDevices will initialize the session with an empty graph and other defaults because the session has not yet been created.\n2017-11-20 08:35:46.795931: I tensorflow/core/distributed_runtime/master_session.cc:998] Start master session 026f646fb0c59742 with config:\nF.\n======================================================================\nFAIL: testListDevices (__main__.SessionListDevicesTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 39, in testListDevices\n    self.assertGreaterEqual(1, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:localhost/replica:0/task:0/device:CPU:0, CPU, 42115744), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42116496), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42116608)]\n\n======================================================================\nFAIL: testListDevicesClusterSpecPropagation (__main__.SessionListDevicesTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 66, in testListDevicesClusterSpecPropagation\n    self.assertGreaterEqual(2, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:worker/replica:0/task:0/device:CPU:0, CPU, 42238272), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42238864), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42238896), _DeviceAttributes(/job:worker/replica:0/task:1/device:CPU:0, CPU, 42238928), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_EXEC:0, XLA_EXEC, 42238960), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_CPU:0, XLA_CPU, 42238992)]\n\n======================================================================\nFAIL: testListDevicesGrpcSession (__main__.SessionListDevicesTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 47, in testListDevicesGrpcSession\n    self.assertGreaterEqual(1, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:local/replica:0/task:0/device:CPU:0, CPU, 42226672), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 41891296), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 41891328)]\n\n======================================================================\nFAIL: testListDevices (__main__.SessionListDevicesWithCApiTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 39, in testListDevices\n    self.assertGreaterEqual(1, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:localhost/replica:0/task:0/device:CPU:0, CPU, 42268048), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42268800), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42268912)]\n\n======================================================================\nFAIL: testListDevicesClusterSpecPropagation (__main__.SessionListDevicesWithCApiTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 66, in testListDevicesClusterSpecPropagation\n    self.assertGreaterEqual(2, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:worker/replica:0/task:0/device:CPU:0, CPU, 42313280), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42313872), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42313904), _DeviceAttributes(/job:worker/replica:0/task:1/device:CPU:0, CPU, 42313936), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_EXEC:0, XLA_EXEC, 42313968), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_CPU:0, XLA_CPU, 42314000)]\n\n======================================================================\nFAIL: testListDevicesGrpcSession (__main__.SessionListDevicesWithCApiTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 47, in testListDevicesGrpcSession\n    self.assertGreaterEqual(1, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:local/replica:0/task:0/device:CPU:0, CPU, 42260656), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42260688), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42331824)]\n\n----------------------------------------------------------------------\nRan 8 tests in 1.857s\n\nFAILED (failures=6)\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\n\n</code></pre>", "body_text": "System information\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nUbuntu 16.04\nTensorFlow installed from (source or binary):\nInstalled from source\nTensorFlow version (use command below):\nTF-1.3.1\nPython version:\nPython 2.7.12\nBazel version (if compiling from source):\nBazel - 0.5.4\nCUDA/cuDNN version:\nNA\nGPU model and memory:\nNA\nExact command to reproduce:\nbazel test --config=opt  //tensorflow/python:session_list_devices_test\n\nDescribe the problem\nFollowing 3 sub-tests are failing on Ubuntu:16.04 (x86) with the assertion errors\n\nFAIL: testListDevices (main.SessionListDevicesWithCApiTest)\nhttps://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L39\nself.assertGreaterEqual(1, len(devices), devices) .....# Getting AssertionError due to: \"1\" unexpectedly not greater than or equal to \"3\"\nFAIL: testListDevicesGrpcSession (main.SessionListDevicesWithCApiTest)\nhttps://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L47\nself.assertGreaterEqual(1, len(devices), devices) .....#  Getting AssertionError due to: \"1\" unexpectedly not greater than or equal to \"3\"\nFAIL: testListDevicesClusterSpecPropagation (main.SessionListDevicesWithCApiTest)\nhttps://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L66\nself.assertGreaterEqual(2, len(devices), devices) ..... #  Getting AssertionError due to: \"2\" unexpectedly not greater than or equal to \"6\"\n\nIs this is a known failure (can we ignore ) or I am missing something here ?. Please provide your comments on this.Thanks!\nSource code / logs\n\n$  bazel test --config=opt  //tensorflow/python:session_list_devices_test\n\n2017-11-20 08:35:46.791667: W tensorflow/core/distributed_runtime/rpc/grpc_session.cc:343] GrpcSession::ListDevices will initialize the session with an empty graph and other defaults because the session has not yet been created.\n2017-11-20 08:35:46.795931: I tensorflow/core/distributed_runtime/master_session.cc:998] Start master session 026f646fb0c59742 with config:\nF.\n======================================================================\nFAIL: testListDevices (__main__.SessionListDevicesTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 39, in testListDevices\n    self.assertGreaterEqual(1, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:localhost/replica:0/task:0/device:CPU:0, CPU, 42115744), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42116496), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42116608)]\n\n======================================================================\nFAIL: testListDevicesClusterSpecPropagation (__main__.SessionListDevicesTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 66, in testListDevicesClusterSpecPropagation\n    self.assertGreaterEqual(2, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:worker/replica:0/task:0/device:CPU:0, CPU, 42238272), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42238864), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42238896), _DeviceAttributes(/job:worker/replica:0/task:1/device:CPU:0, CPU, 42238928), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_EXEC:0, XLA_EXEC, 42238960), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_CPU:0, XLA_CPU, 42238992)]\n\n======================================================================\nFAIL: testListDevicesGrpcSession (__main__.SessionListDevicesTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 47, in testListDevicesGrpcSession\n    self.assertGreaterEqual(1, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:local/replica:0/task:0/device:CPU:0, CPU, 42226672), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 41891296), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 41891328)]\n\n======================================================================\nFAIL: testListDevices (__main__.SessionListDevicesWithCApiTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 39, in testListDevices\n    self.assertGreaterEqual(1, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:localhost/replica:0/task:0/device:CPU:0, CPU, 42268048), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42268800), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42268912)]\n\n======================================================================\nFAIL: testListDevicesClusterSpecPropagation (__main__.SessionListDevicesWithCApiTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 66, in testListDevicesClusterSpecPropagation\n    self.assertGreaterEqual(2, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:worker/replica:0/task:0/device:CPU:0, CPU, 42313280), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42313872), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42313904), _DeviceAttributes(/job:worker/replica:0/task:1/device:CPU:0, CPU, 42313936), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_EXEC:0, XLA_EXEC, 42313968), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_CPU:0, XLA_CPU, 42314000)]\n\n======================================================================\nFAIL: testListDevicesGrpcSession (__main__.SessionListDevicesWithCApiTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 47, in testListDevicesGrpcSession\n    self.assertGreaterEqual(1, len(devices), devices)\nAssertionError: [_DeviceAttributes(/job:local/replica:0/task:0/device:CPU:0, CPU, 42260656), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42260688), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42331824)]\n\n----------------------------------------------------------------------\nRan 8 tests in 1.857s\n\nFAILED (failures=6)\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\nswig/python detected a memory leak of type 'int64_t *', no destructor found.", "body": "### System information\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n     Ubuntu 16.04 \r\n- **TensorFlow installed from (source or binary)**:\r\n      Installed from source\r\n- **TensorFlow version (use command below)**:\r\n      TF-1.3.1\r\n- **Python version**:\r\n      Python 2.7.12\r\n- **Bazel version (if compiling from source)**:\r\n      Bazel - 0.5.4\r\n- **CUDA/cuDNN version**:\r\n      NA\r\n- **GPU model and memory**:\r\n      NA\r\n- **Exact command to reproduce**:\r\n     ` bazel test --config=opt  //tensorflow/python:session_list_devices_test `\r\n\r\n### Describe the problem\r\nFollowing 3 sub-tests are failing on Ubuntu:16.04 (x86) with the assertion errors\r\n1) FAIL: testListDevices (__main__.SessionListDevicesWithCApiTest)\r\nhttps://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L39\r\n `self.assertGreaterEqual(1, len(devices), devices)` .....# Getting AssertionError due to: \"1\" unexpectedly not greater than or equal to \"3\"  \r\n2) FAIL: testListDevicesGrpcSession (__main__.SessionListDevicesWithCApiTest)\r\nhttps://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L47\r\n `self.assertGreaterEqual(1, len(devices), devices`) .....#  Getting AssertionError due to: \"1\" unexpectedly not greater than or equal to \"3\"  \r\n3) FAIL: testListDevicesClusterSpecPropagation (__main__.SessionListDevicesWithCApiTest)\r\nhttps://github.com/tensorflow/tensorflow/blob/v1.3.1/tensorflow/python/client/session_list_devices_test.py#L66\r\n `self.assertGreaterEqual(2, len(devices), devices)` ..... #  Getting AssertionError due to: \"2\" unexpectedly not greater than or equal to \"6\"\r\n\r\nIs this is a known failure (can we ignore ) or I am missing something here ?. Please provide your comments on this.Thanks!\r\n### Source code / logs\r\n```\r\n\r\n$  bazel test --config=opt  //tensorflow/python:session_list_devices_test\r\n\r\n2017-11-20 08:35:46.791667: W tensorflow/core/distributed_runtime/rpc/grpc_session.cc:343] GrpcSession::ListDevices will initialize the session with an empty graph and other defaults because the session has not yet been created.\r\n2017-11-20 08:35:46.795931: I tensorflow/core/distributed_runtime/master_session.cc:998] Start master session 026f646fb0c59742 with config:\r\nF.\r\n======================================================================\r\nFAIL: testListDevices (__main__.SessionListDevicesTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 39, in testListDevices\r\n    self.assertGreaterEqual(1, len(devices), devices)\r\nAssertionError: [_DeviceAttributes(/job:localhost/replica:0/task:0/device:CPU:0, CPU, 42115744), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42116496), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42116608)]\r\n\r\n======================================================================\r\nFAIL: testListDevicesClusterSpecPropagation (__main__.SessionListDevicesTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 66, in testListDevicesClusterSpecPropagation\r\n    self.assertGreaterEqual(2, len(devices), devices)\r\nAssertionError: [_DeviceAttributes(/job:worker/replica:0/task:0/device:CPU:0, CPU, 42238272), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42238864), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42238896), _DeviceAttributes(/job:worker/replica:0/task:1/device:CPU:0, CPU, 42238928), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_EXEC:0, XLA_EXEC, 42238960), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_CPU:0, XLA_CPU, 42238992)]\r\n\r\n======================================================================\r\nFAIL: testListDevicesGrpcSession (__main__.SessionListDevicesTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 47, in testListDevicesGrpcSession\r\n    self.assertGreaterEqual(1, len(devices), devices)\r\nAssertionError: [_DeviceAttributes(/job:local/replica:0/task:0/device:CPU:0, CPU, 42226672), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 41891296), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 41891328)]\r\n\r\n======================================================================\r\nFAIL: testListDevices (__main__.SessionListDevicesWithCApiTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 39, in testListDevices\r\n    self.assertGreaterEqual(1, len(devices), devices)\r\nAssertionError: [_DeviceAttributes(/job:localhost/replica:0/task:0/device:CPU:0, CPU, 42268048), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42268800), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42268912)]\r\n\r\n======================================================================\r\nFAIL: testListDevicesClusterSpecPropagation (__main__.SessionListDevicesWithCApiTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 66, in testListDevicesClusterSpecPropagation\r\n    self.assertGreaterEqual(2, len(devices), devices)\r\nAssertionError: [_DeviceAttributes(/job:worker/replica:0/task:0/device:CPU:0, CPU, 42313280), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42313872), _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42313904), _DeviceAttributes(/job:worker/replica:0/task:1/device:CPU:0, CPU, 42313936), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_EXEC:0, XLA_EXEC, 42313968), _DeviceAttributes(/job:worker/replica:0/task:1/device:XLA_CPU:0, XLA_CPU, 42314000)]\r\n\r\n======================================================================\r\nFAIL: testListDevicesGrpcSession (__main__.SessionListDevicesWithCApiTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/0cb601a163d4c4c6c065cdaa9629611b/execroot/tensorflow/bazel-out/local-opt/bin/tensorflow/python/session_list_devices_test.runfiles/org_tensorflow/tensorflow/python/client/session_list_devices_test.py\", line 47, in testListDevicesGrpcSession\r\n    self.assertGreaterEqual(1, len(devices), devices)\r\nAssertionError: [_DeviceAttributes(/job:local/replica:0/task:0/device:CPU:0, CPU, 42260656), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_EXEC:0, XLA_EXEC, 42260688), _DeviceAttributes(/job:local/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 42331824)]\r\n\r\n----------------------------------------------------------------------\r\nRan 8 tests in 1.857s\r\n\r\nFAILED (failures=6)\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\nswig/python detected a memory leak of type 'int64_t *', no destructor found.\r\n\r\n```"}