{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16248", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16248/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16248/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16248/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16248", "id": 290064683, "node_id": "MDU6SXNzdWUyOTAwNjQ2ODM=", "number": 16248, "title": "[bug?] Error in `python': malloc(): memory corruption", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-19T18:21:55Z", "updated_at": "2018-02-07T19:57:05Z", "closed_at": "2018-02-07T19:57:04Z", "author_association": "NONE", "body_html": "<p>Error in `python': malloc(): memory corruption: 0x00000000723f9040</p>\n<p>Strangely encountered this error when the training was going, it happened after a certain number of iterations (~7000 iterations with image batch size of 1 using coco dataset).  I have also attached the memory map that showed up after the backtrace.</p>\n<pre><code>*** Error in `python': malloc(): memory corruption: 0x00000000723f9040 ***\n======= Backtrace: =========\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7f9d5715a7e5]\n/lib/x86_64-linux-gnu/libc.so.6(+0x8213e)[0x7f9d5716513e]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_malloc+0x54)[0x7f9d57167184]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x1ec51)[0x7f9d560f0c51]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x842c8)[0x7f9d561562c8]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x844a4)[0x7f9d561564a4]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x84920)[0x7f9d56156920]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x85105)[0x7f9d56157105]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x11b16d)[0x7f9d561ed16d]\n/home/user/tools/../data/coco/PythonAPI/pycocotools/_mask.so(+0x9406)[0x7f9d1f276406]\n/home/user/tools/../data/coco/PythonAPI/pycocotools/_mask.so(+0x1c05f)[0x7f9d1f28905f]\npython(PyEval_EvalFrameEx+0x615e)[0x4ca15e]\npython(PyEval_EvalFrameEx+0x5d8f)[0x4c9d8f]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalFrameEx+0x6099)[0x4ca099]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalCode+0x19)[0x4c2509]\npython[0x4f1def]\npython(PyRun_FileExFlags+0x82)[0x4ec652]\npython(PyRun_SimpleFileExFlags+0x191)[0x4eae31]\npython(Py_Main+0x68a)[0x49e14a]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0)[0x7f9d57103830]\npython(_start+0x29)[0x49d9d9]\n</code></pre>\n<pre><code>System Information\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\nVERSION_ID=\"16.04\"\nVERSION_CODENAME=xenial\n\nCompiler:\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\n\nPIPs:\nmsgpack-numpy (0.4.2)\nprotobuf (3.5.0.post1)\ntensorflow-gpu (1.4.1)\ntensorflow-tensorboard (0.4.0rc3)\n\nTensorFlow:\ntf.VERSION = 1.4.0\ntf.GIT_VERSION = v1.4.0-rc1-11-g130a514\ntf.COMPILER_VERSION = v1.4.0-rc1-11-g130a514\nSanity check: array([1], dtype=int32)\n\nEnv:\nLD_LIBRARY_PATH /usr/lib/x86_64-linux-gnu:/usr/local/lib:/usr/local/cuda/lib64:\nDYLD_LIBRARY_PATH is unset\n\nGPU:\nTITAN Xp\n\nCUDA Lib:\n/usr/local/cuda-8.0/lib64/libcudart.so.8.0.61\n/usr/local/cuda-8.0/lib64/libcudart_static.a\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\n</code></pre>\n<p><a href=\"https://github.com/tensorflow/tensorflow/files/1647515/memory.map.txt\">memory map.txt</a></p>", "body_text": "Error in `python': malloc(): memory corruption: 0x00000000723f9040\nStrangely encountered this error when the training was going, it happened after a certain number of iterations (~7000 iterations with image batch size of 1 using coco dataset).  I have also attached the memory map that showed up after the backtrace.\n*** Error in `python': malloc(): memory corruption: 0x00000000723f9040 ***\n======= Backtrace: =========\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7f9d5715a7e5]\n/lib/x86_64-linux-gnu/libc.so.6(+0x8213e)[0x7f9d5716513e]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_malloc+0x54)[0x7f9d57167184]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x1ec51)[0x7f9d560f0c51]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x842c8)[0x7f9d561562c8]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x844a4)[0x7f9d561564a4]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x84920)[0x7f9d56156920]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x85105)[0x7f9d56157105]\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x11b16d)[0x7f9d561ed16d]\n/home/user/tools/../data/coco/PythonAPI/pycocotools/_mask.so(+0x9406)[0x7f9d1f276406]\n/home/user/tools/../data/coco/PythonAPI/pycocotools/_mask.so(+0x1c05f)[0x7f9d1f28905f]\npython(PyEval_EvalFrameEx+0x615e)[0x4ca15e]\npython(PyEval_EvalFrameEx+0x5d8f)[0x4c9d8f]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalFrameEx+0x6099)[0x4ca099]\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\npython(PyEval_EvalCode+0x19)[0x4c2509]\npython[0x4f1def]\npython(PyRun_FileExFlags+0x82)[0x4ec652]\npython(PyRun_SimpleFileExFlags+0x191)[0x4eae31]\npython(Py_Main+0x68a)[0x49e14a]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0)[0x7f9d57103830]\npython(_start+0x29)[0x49d9d9]\n\nSystem Information\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\nVERSION_ID=\"16.04\"\nVERSION_CODENAME=xenial\n\nCompiler:\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\n\nPIPs:\nmsgpack-numpy (0.4.2)\nprotobuf (3.5.0.post1)\ntensorflow-gpu (1.4.1)\ntensorflow-tensorboard (0.4.0rc3)\n\nTensorFlow:\ntf.VERSION = 1.4.0\ntf.GIT_VERSION = v1.4.0-rc1-11-g130a514\ntf.COMPILER_VERSION = v1.4.0-rc1-11-g130a514\nSanity check: array([1], dtype=int32)\n\nEnv:\nLD_LIBRARY_PATH /usr/lib/x86_64-linux-gnu:/usr/local/lib:/usr/local/cuda/lib64:\nDYLD_LIBRARY_PATH is unset\n\nGPU:\nTITAN Xp\n\nCUDA Lib:\n/usr/local/cuda-8.0/lib64/libcudart.so.8.0.61\n/usr/local/cuda-8.0/lib64/libcudart_static.a\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\n\nmemory map.txt", "body": "Error in `python': malloc(): memory corruption: 0x00000000723f9040\r\n\r\nStrangely encountered this error when the training was going, it happened after a certain number of iterations (~7000 iterations with image batch size of 1 using coco dataset).  I have also attached the memory map that showed up after the backtrace.\r\n\r\n```\r\n*** Error in `python': malloc(): memory corruption: 0x00000000723f9040 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7f9d5715a7e5]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x8213e)[0x7f9d5716513e]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_malloc+0x54)[0x7f9d57167184]\r\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x1ec51)[0x7f9d560f0c51]\r\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x842c8)[0x7f9d561562c8]\r\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x844a4)[0x7f9d561564a4]\r\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x84920)[0x7f9d56156920]\r\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x85105)[0x7f9d56157105]\r\n/usr/local/lib/python2.7/dist-packages/numpy/core/multiarray.so(+0x11b16d)[0x7f9d561ed16d]\r\n/home/user/tools/../data/coco/PythonAPI/pycocotools/_mask.so(+0x9406)[0x7f9d1f276406]\r\n/home/user/tools/../data/coco/PythonAPI/pycocotools/_mask.so(+0x1c05f)[0x7f9d1f28905f]\r\npython(PyEval_EvalFrameEx+0x615e)[0x4ca15e]\r\npython(PyEval_EvalFrameEx+0x5d8f)[0x4c9d8f]\r\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\r\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\r\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\r\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\r\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\r\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\r\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\r\npython(PyEval_EvalFrameEx+0x68d1)[0x4ca8d1]\r\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\r\npython(PyEval_EvalFrameEx+0x6099)[0x4ca099]\r\npython(PyEval_EvalCodeEx+0x255)[0x4c2765]\r\npython(PyEval_EvalCode+0x19)[0x4c2509]\r\npython[0x4f1def]\r\npython(PyRun_FileExFlags+0x82)[0x4ec652]\r\npython(PyRun_SimpleFileExFlags+0x191)[0x4eae31]\r\npython(Py_Main+0x68a)[0x49e14a]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0)[0x7f9d57103830]\r\npython(_start+0x29)[0x49d9d9]\r\n```\r\n\r\n\r\n```\r\nSystem Information\r\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\r\nVERSION_ID=\"16.04\"\r\nVERSION_CODENAME=xenial\r\n\r\nCompiler:\r\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\r\n\r\nPIPs:\r\nmsgpack-numpy (0.4.2)\r\nprotobuf (3.5.0.post1)\r\ntensorflow-gpu (1.4.1)\r\ntensorflow-tensorboard (0.4.0rc3)\r\n\r\nTensorFlow:\r\ntf.VERSION = 1.4.0\r\ntf.GIT_VERSION = v1.4.0-rc1-11-g130a514\r\ntf.COMPILER_VERSION = v1.4.0-rc1-11-g130a514\r\nSanity check: array([1], dtype=int32)\r\n\r\nEnv:\r\nLD_LIBRARY_PATH /usr/lib/x86_64-linux-gnu:/usr/local/lib:/usr/local/cuda/lib64:\r\nDYLD_LIBRARY_PATH is unset\r\n\r\nGPU:\r\nTITAN Xp\r\n\r\nCUDA Lib:\r\n/usr/local/cuda-8.0/lib64/libcudart.so.8.0.61\r\n/usr/local/cuda-8.0/lib64/libcudart_static.a\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\r\n```\r\n[memory map.txt](https://github.com/tensorflow/tensorflow/files/1647515/memory.map.txt)\r\n\r\n"}