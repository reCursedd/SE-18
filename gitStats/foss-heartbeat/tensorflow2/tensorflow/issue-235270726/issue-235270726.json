{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10652", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10652/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10652/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10652/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10652", "id": 235270726, "node_id": "MDU6SXNzdWUyMzUyNzA3MjY=", "number": 10652, "title": "Undocumented change in sharing variables from version 1.0 to 1.1", "user": {"login": "olyaromanyuk", "id": 15520877, "node_id": "MDQ6VXNlcjE1NTIwODc3", "avatar_url": "https://avatars0.githubusercontent.com/u/15520877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olyaromanyuk", "html_url": "https://github.com/olyaromanyuk", "followers_url": "https://api.github.com/users/olyaromanyuk/followers", "following_url": "https://api.github.com/users/olyaromanyuk/following{/other_user}", "gists_url": "https://api.github.com/users/olyaromanyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/olyaromanyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olyaromanyuk/subscriptions", "organizations_url": "https://api.github.com/users/olyaromanyuk/orgs", "repos_url": "https://api.github.com/users/olyaromanyuk/repos", "events_url": "https://api.github.com/users/olyaromanyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/olyaromanyuk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "lukaszkaiser", "id": 684901, "node_id": "MDQ6VXNlcjY4NDkwMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/684901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukaszkaiser", "html_url": "https://github.com/lukaszkaiser", "followers_url": "https://api.github.com/users/lukaszkaiser/followers", "following_url": "https://api.github.com/users/lukaszkaiser/following{/other_user}", "gists_url": "https://api.github.com/users/lukaszkaiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukaszkaiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukaszkaiser/subscriptions", "organizations_url": "https://api.github.com/users/lukaszkaiser/orgs", "repos_url": "https://api.github.com/users/lukaszkaiser/repos", "events_url": "https://api.github.com/users/lukaszkaiser/events{/privacy}", "received_events_url": "https://api.github.com/users/lukaszkaiser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lukaszkaiser", "id": 684901, "node_id": "MDQ6VXNlcjY4NDkwMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/684901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukaszkaiser", "html_url": "https://github.com/lukaszkaiser", "followers_url": "https://api.github.com/users/lukaszkaiser/followers", "following_url": "https://api.github.com/users/lukaszkaiser/following{/other_user}", "gists_url": "https://api.github.com/users/lukaszkaiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukaszkaiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukaszkaiser/subscriptions", "organizations_url": "https://api.github.com/users/lukaszkaiser/orgs", "repos_url": "https://api.github.com/users/lukaszkaiser/repos", "events_url": "https://api.github.com/users/lukaszkaiser/events{/privacy}", "received_events_url": "https://api.github.com/users/lukaszkaiser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2017-06-12T15:26:21Z", "updated_at": "2017-06-13T18:36:49Z", "closed_at": "2017-06-13T18:36:49Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Custom code, a minimal reproducible example provided below</strong>:</li>\n<li><strong>Linux Ubuntu 14.04</strong>:</li>\n<li><strong>TensorFlow installed from binary using pip</strong>:</li>\n<li><strong>TensorFlow version 1.0.1 and 1.1.0</strong>:</li>\n<li><strong>CUDA 8.0/cuDNN 5.1</strong>:</li>\n<li><strong>GeForce GTX 1080</strong>:</li>\n</ul>\n<h3>Problem</h3>\n<p>Variable scopes and sharing works different in versions 1.0.1 and 1.1.0. I try to enter a non-reusing variable scope after executing tf.get_variable_scope().reuse_variables(). This results in different values of tf.get_variable_scope().reuse inside this scope. When using version 1.0.1 it is False while when using 1.1.0 it is True. <a href=\"https://www.tensorflow.org/versions/r1.0/programmers_guide/variable_scope\" rel=\"nofollow\">The sharing variable guide</a> states that setting reuse = False inside a reusing scope is not the desired behavior, but the guide is completely the same for both versions. Moreover, no changes in handling variable scopes are mentioned in release notes for version 1.1.</p>\n<h3>Source code / logs</h3>\n<pre><code>import tensorflow as tf\nprint tf.__version__\n\nwith tf.variable_scope('foo'):\n    assert tf.get_variable_scope().reuse == False, tf.get_variable_scope().reuse\n    tf.get_variable_scope().reuse_variables()\n    assert tf.get_variable_scope().reuse == True, tf.get_variable_scope().reuse\n    with tf.variable_scope(tf.get_variable_scope(), reuse=False):\n       print tf.get_variable_scope().reuse\n</code></pre>\n<p>Output:</p>\n<ul>\n<li>Version 1.0.1</li>\n</ul>\n<pre><code>1.0.1\nFalse\n</code></pre>\n<ul>\n<li>Version 1.1.0</li>\n</ul>\n<pre><code>1.1.0\nTrue\n</code></pre>", "body_text": "System information\n\nCustom code, a minimal reproducible example provided below:\nLinux Ubuntu 14.04:\nTensorFlow installed from binary using pip:\nTensorFlow version 1.0.1 and 1.1.0:\nCUDA 8.0/cuDNN 5.1:\nGeForce GTX 1080:\n\nProblem\nVariable scopes and sharing works different in versions 1.0.1 and 1.1.0. I try to enter a non-reusing variable scope after executing tf.get_variable_scope().reuse_variables(). This results in different values of tf.get_variable_scope().reuse inside this scope. When using version 1.0.1 it is False while when using 1.1.0 it is True. The sharing variable guide states that setting reuse = False inside a reusing scope is not the desired behavior, but the guide is completely the same for both versions. Moreover, no changes in handling variable scopes are mentioned in release notes for version 1.1.\nSource code / logs\nimport tensorflow as tf\nprint tf.__version__\n\nwith tf.variable_scope('foo'):\n    assert tf.get_variable_scope().reuse == False, tf.get_variable_scope().reuse\n    tf.get_variable_scope().reuse_variables()\n    assert tf.get_variable_scope().reuse == True, tf.get_variable_scope().reuse\n    with tf.variable_scope(tf.get_variable_scope(), reuse=False):\n       print tf.get_variable_scope().reuse\n\nOutput:\n\nVersion 1.0.1\n\n1.0.1\nFalse\n\n\nVersion 1.1.0\n\n1.1.0\nTrue", "body": "\r\n### System information\r\n- **Custom code, a minimal reproducible example provided below**:\r\n- **Linux Ubuntu 14.04**:\r\n- **TensorFlow installed from binary using pip**:\r\n- **TensorFlow version 1.0.1 and 1.1.0**:\r\n- **CUDA 8.0/cuDNN 5.1**:\r\n- **GeForce GTX 1080**:\r\n\r\n\r\n### Problem\r\nVariable scopes and sharing works different in versions 1.0.1 and 1.1.0. I try to enter a non-reusing variable scope after executing tf.get_variable_scope().reuse_variables(). This results in different values of tf.get_variable_scope().reuse inside this scope. When using version 1.0.1 it is False while when using 1.1.0 it is True. [The sharing variable guide](https://www.tensorflow.org/versions/r1.0/programmers_guide/variable_scope) states that setting reuse = False inside a reusing scope is not the desired behavior, but the guide is completely the same for both versions. Moreover, no changes in handling variable scopes are mentioned in release notes for version 1.1. \r\n\r\n### Source code / logs\r\n```\r\nimport tensorflow as tf\r\nprint tf.__version__\r\n\r\nwith tf.variable_scope('foo'):\r\n    assert tf.get_variable_scope().reuse == False, tf.get_variable_scope().reuse\r\n    tf.get_variable_scope().reuse_variables()\r\n    assert tf.get_variable_scope().reuse == True, tf.get_variable_scope().reuse\r\n    with tf.variable_scope(tf.get_variable_scope(), reuse=False):\r\n       print tf.get_variable_scope().reuse\r\n```\r\nOutput:\r\n\r\n- Version 1.0.1\r\n```\r\n1.0.1\r\nFalse\r\n```\r\n- Version 1.1.0\r\n```\r\n1.1.0\r\nTrue\r\n```"}