{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/108038000", "pull_request_review_id": 29049336, "id": 108038000, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwODAzODAwMA==", "diff_hunk": "@@ -105,55 +116,90 @@ public void createFromBufferWithNonNativeByteOrder() {\n   }\n \n   @Test\n-  public void createWithTypedBuffer() {\n-    int[] ints = {1, 2, 3, 4};\n-    float[] floats = {1f, 2f, 3f, 4f};\n-    double[] doubles = {1d, 2d, 3d, 4d};\n-    long[] longs = {1L, 2L, 3L, 4L};\n-    long[] shape = {4};\n+  public void whenCreateUsingDoubleBufferThenExpectedMatrixIsStoredInTensor() {\n+    final double[] expected = {1d, 2d, 3d, 4d};\n+    final long[] shape = {4};\n+\n+    try (final Tensor t = Tensor.create(shape, DoubleBuffer.wrap(expected))) {\n+      final double[] actual = new double[expected.length];\n+      t.copyTo(actual);\n+      assertArrayEquals(expected, actual, EPSILON);", "path": "tensorflow/java/src/test/java/org/tensorflow/TensorTest.java", "position": 57, "original_position": 57, "commit_id": "0404ac06d5d0d07e08b97e987106b9096c6cb045", "original_commit_id": "0404ac06d5d0d07e08b97e987106b9096c6cb045", "user": {"login": "craykg", "id": 15415443, "node_id": "MDQ6VXNlcjE1NDE1NDQz", "avatar_url": "https://avatars1.githubusercontent.com/u/15415443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/craykg", "html_url": "https://github.com/craykg", "followers_url": "https://api.github.com/users/craykg/followers", "following_url": "https://api.github.com/users/craykg/following{/other_user}", "gists_url": "https://api.github.com/users/craykg/gists{/gist_id}", "starred_url": "https://api.github.com/users/craykg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/craykg/subscriptions", "organizations_url": "https://api.github.com/users/craykg/orgs", "repos_url": "https://api.github.com/users/craykg/repos", "events_url": "https://api.github.com/users/craykg/events{/privacy}", "received_events_url": "https://api.github.com/users/craykg/received_events", "type": "User", "site_admin": false}, "body": "My reasoning behind the three lines was:\r\n\r\n- I prefer to break tests up so that the arrange/act/assert statements are separate where possible (as it improves readability which is the most important aspect of tests)\r\n- Most junit asserts, like this one, are backwards compared to assertThat, and I wanted to be absolutely sure I got them in the right order.\r\n\r\nIt can change if that is preferred, but I don't think it should.", "created_at": "2017-03-25T14:59:48Z", "updated_at": "2017-03-25T14:59:48Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/8400#discussion_r108038000", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8400", "author_association": "NONE", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/108038000"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/8400#discussion_r108038000"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8400"}}, "body_html": "<p>My reasoning behind the three lines was:</p>\n<ul>\n<li>I prefer to break tests up so that the arrange/act/assert statements are separate where possible (as it improves readability which is the most important aspect of tests)</li>\n<li>Most junit asserts, like this one, are backwards compared to assertThat, and I wanted to be absolutely sure I got them in the right order.</li>\n</ul>\n<p>It can change if that is preferred, but I don't think it should.</p>", "body_text": "My reasoning behind the three lines was:\n\nI prefer to break tests up so that the arrange/act/assert statements are separate where possible (as it improves readability which is the most important aspect of tests)\nMost junit asserts, like this one, are backwards compared to assertThat, and I wanted to be absolutely sure I got them in the right order.\n\nIt can change if that is preferred, but I don't think it should.", "in_reply_to_id": 107774142}