{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/372507127", "html_url": "https://github.com/tensorflow/tensorflow/issues/17654#issuecomment-372507127", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17654", "id": 372507127, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjUwNzEyNw==", "user": {"login": "ozabluda", "id": 14060629, "node_id": "MDQ6VXNlcjE0MDYwNjI5", "avatar_url": "https://avatars3.githubusercontent.com/u/14060629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ozabluda", "html_url": "https://github.com/ozabluda", "followers_url": "https://api.github.com/users/ozabluda/followers", "following_url": "https://api.github.com/users/ozabluda/following{/other_user}", "gists_url": "https://api.github.com/users/ozabluda/gists{/gist_id}", "starred_url": "https://api.github.com/users/ozabluda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ozabluda/subscriptions", "organizations_url": "https://api.github.com/users/ozabluda/orgs", "repos_url": "https://api.github.com/users/ozabluda/repos", "events_url": "https://api.github.com/users/ozabluda/events{/privacy}", "received_events_url": "https://api.github.com/users/ozabluda/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-13T00:33:46Z", "updated_at": "2018-03-13T00:34:02Z", "author_association": "CONTRIBUTOR", "body_html": "<p>For the reference, here is a complete code producing the expected result <code>432</code> (to me the difference with above is unexpected):</p>\n<pre><code>import numpy as np\nfrom keras.layers import Conv2D, ZeroPadding2D\nfrom keras.models import Sequential\n\n\nw = np.arange(3*3*1*1).reshape(3, 3, 1, 1)\nw = np.power(2, w)\n\nmodel = Sequential()\nmodel.add(ZeroPadding2D(padding=(1, 1), input_shape=(2, 2, 1)))\nmodel.add(Conv2D(1, kernel_size=3, strides=2, padding='VALID', use_bias=False))\nmodel.set_weights([w])\nprint(model.predict(np.ones((1, 2, 2, 1))))\n</code></pre>", "body_text": "For the reference, here is a complete code producing the expected result 432 (to me the difference with above is unexpected):\nimport numpy as np\nfrom keras.layers import Conv2D, ZeroPadding2D\nfrom keras.models import Sequential\n\n\nw = np.arange(3*3*1*1).reshape(3, 3, 1, 1)\nw = np.power(2, w)\n\nmodel = Sequential()\nmodel.add(ZeroPadding2D(padding=(1, 1), input_shape=(2, 2, 1)))\nmodel.add(Conv2D(1, kernel_size=3, strides=2, padding='VALID', use_bias=False))\nmodel.set_weights([w])\nprint(model.predict(np.ones((1, 2, 2, 1))))", "body": "For the reference, here is a complete code producing the expected result `432` (to me the difference with above is unexpected):\r\n```\r\nimport numpy as np\r\nfrom keras.layers import Conv2D, ZeroPadding2D\r\nfrom keras.models import Sequential\r\n\r\n\r\nw = np.arange(3*3*1*1).reshape(3, 3, 1, 1)\r\nw = np.power(2, w)\r\n\r\nmodel = Sequential()\r\nmodel.add(ZeroPadding2D(padding=(1, 1), input_shape=(2, 2, 1)))\r\nmodel.add(Conv2D(1, kernel_size=3, strides=2, padding='VALID', use_bias=False))\r\nmodel.set_weights([w])\r\nprint(model.predict(np.ones((1, 2, 2, 1))))\r\n```\r\n"}