{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16138", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16138/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16138/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16138/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16138", "id": 288732204, "node_id": "MDU6SXNzdWUyODg3MzIyMDQ=", "number": 16138, "title": "Build fails with Visual Studio 2017", "user": {"login": "CarltonSemple", "id": 6462396, "node_id": "MDQ6VXNlcjY0NjIzOTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6462396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CarltonSemple", "html_url": "https://github.com/CarltonSemple", "followers_url": "https://api.github.com/users/CarltonSemple/followers", "following_url": "https://api.github.com/users/CarltonSemple/following{/other_user}", "gists_url": "https://api.github.com/users/CarltonSemple/gists{/gist_id}", "starred_url": "https://api.github.com/users/CarltonSemple/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CarltonSemple/subscriptions", "organizations_url": "https://api.github.com/users/CarltonSemple/orgs", "repos_url": "https://api.github.com/users/CarltonSemple/repos", "events_url": "https://api.github.com/users/CarltonSemple/events{/privacy}", "received_events_url": "https://api.github.com/users/CarltonSemple/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2018-01-15T22:27:02Z", "updated_at": "2018-09-15T19:22:37Z", "closed_at": "2018-09-15T19:22:37Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nNo</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nWindows 10</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\nSource</li>\n<li><strong>TensorFlow version (use command below)</strong>:<br>\n1.5.0-dev20180103<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/25d275280dfb163674f81c7681c2c1d34545a155/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/25d275280dfb163674f81c7681c2c1d34545a155\"><tt>25d2752</tt></a></li>\n<li><strong>Python version</strong>:<br>\n3.5.4</li>\n<li><strong>Bazel version (if compiling from source)</strong>:</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\n9.0 with cuDNN 7</li>\n<li><strong>GPU model and memory</strong>:<br>\nGeForce GTX 1060 6GB</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nOpen Visual Studio x64 Native Tools Command Prompt with admin rights.<br>\nusing MSBuild 15.5.180.51428,</li>\n</ul>\n<pre><code>cmake .. -A x64 -DCMAKE_BUILD_TYPE=Release ^\n-DSWIG_EXECUTABLE=C:/tools/swigwin-3.0.12/swig.exe ^\n-DPYTHON_EXECUTABLE=C:\\Users\\csemp\\AppData\\Local\\Programs\\Python\\Python35\\python.exe ^\n-DPYTHON_LIBRARIES=C:\\Users\\csemp\\AppData\\Local\\Programs\\Python\\Python35\\libs\\python35.lib ^\n-Dtensorflow_ENABLE_GPU=ON ^\n-DCUDNN_HOME=\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\" ^\n-Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX ^\n-Dtensorflow_BUILD_CC_EXAMPLE=OFF\n\nset PreferredToolArchitecture=x64\n\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" /m:2 /p:Configuration=Release tf_python_build_pip_package.vcxproj /v:diag &gt; diag.log\n</code></pre>\n<h3>Describe the problem</h3>\n<p>The build fails with the error</p>\n<pre><code> 133&gt;CustomBuild: (TargetId:8893)\n                     CMake Error at tf_core_gpu_kernels_generated_adjust_contrast_op_gpu.cu.cc.obj.Release.cmake:222 (message): (TaskId:3323)\n                       Error generating (TaskId:3323)\n                       C:/Users/csemp/dev/tensorflowbuild/tensorflow/tensorflow/contrib/cmake/build/CMakeFiles/tf_core_gpu_kernels.dir/__/__/core/kernels/Release/tf_core_gpu_kernels_generated_adjust_contrast_op_gpu.cu.cc.obj (TaskId:3323)\n                      (TaskId:3323)\n                      (TaskId:3323)\n</code></pre>\n<p>It also has the error</p>\n<pre><code>(ClCompile target) -&gt; \n  C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.12.25827\\include\\algorithm(2417): error C2678: binary '*': no operator found which takes a left-hand operand of type 'const tensorflow::boosted_trees::utils::`anonymous-namespace'::IndicesRowIterator' (or there is no acceptable conversion) (compiling source file C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\boosted_trees\\lib\\utils\\sparse_column_iterable.cc) [C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_kernels.vcxproj]\n  C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.12.25827\\include\\algorithm(2417): error C2100: illegal indirection (compiling source file C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\boosted_trees\\lib\\utils\\sparse_column_iterable.cc) [C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_kernels.vcxproj]\n</code></pre>\n<p>the latter of which can be fixed by a simple change, as noted in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"286565094\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/15925\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/15925/hovercard?comment_id=356275963&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/15925#issuecomment-356275963\">#15925 (comment)</a> .<br>\nCreating this new issue per <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a>'s request<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"275089746\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14691\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/14691/hovercard?comment_id=356846982&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/14691#issuecomment-356846982\">#14691 (comment)</a></p>\n<h3>Source code / logs</h3>\n<p>The log file is way too big to post apparently. I'm open to suggestions</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nNo\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nWindows 10\nTensorFlow installed from (source or binary):\nSource\nTensorFlow version (use command below):\n1.5.0-dev20180103\n25d2752\nPython version:\n3.5.4\nBazel version (if compiling from source):\nGCC/Compiler version (if compiling from source):\nCUDA/cuDNN version:\n9.0 with cuDNN 7\nGPU model and memory:\nGeForce GTX 1060 6GB\nExact command to reproduce:\nOpen Visual Studio x64 Native Tools Command Prompt with admin rights.\nusing MSBuild 15.5.180.51428,\n\ncmake .. -A x64 -DCMAKE_BUILD_TYPE=Release ^\n-DSWIG_EXECUTABLE=C:/tools/swigwin-3.0.12/swig.exe ^\n-DPYTHON_EXECUTABLE=C:\\Users\\csemp\\AppData\\Local\\Programs\\Python\\Python35\\python.exe ^\n-DPYTHON_LIBRARIES=C:\\Users\\csemp\\AppData\\Local\\Programs\\Python\\Python35\\libs\\python35.lib ^\n-Dtensorflow_ENABLE_GPU=ON ^\n-DCUDNN_HOME=\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\" ^\n-Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX ^\n-Dtensorflow_BUILD_CC_EXAMPLE=OFF\n\nset PreferredToolArchitecture=x64\n\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" /m:2 /p:Configuration=Release tf_python_build_pip_package.vcxproj /v:diag > diag.log\n\nDescribe the problem\nThe build fails with the error\n 133>CustomBuild: (TargetId:8893)\n                     CMake Error at tf_core_gpu_kernels_generated_adjust_contrast_op_gpu.cu.cc.obj.Release.cmake:222 (message): (TaskId:3323)\n                       Error generating (TaskId:3323)\n                       C:/Users/csemp/dev/tensorflowbuild/tensorflow/tensorflow/contrib/cmake/build/CMakeFiles/tf_core_gpu_kernels.dir/__/__/core/kernels/Release/tf_core_gpu_kernels_generated_adjust_contrast_op_gpu.cu.cc.obj (TaskId:3323)\n                      (TaskId:3323)\n                      (TaskId:3323)\n\nIt also has the error\n(ClCompile target) -> \n  C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.12.25827\\include\\algorithm(2417): error C2678: binary '*': no operator found which takes a left-hand operand of type 'const tensorflow::boosted_trees::utils::`anonymous-namespace'::IndicesRowIterator' (or there is no acceptable conversion) (compiling source file C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\boosted_trees\\lib\\utils\\sparse_column_iterable.cc) [C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_kernels.vcxproj]\n  C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.12.25827\\include\\algorithm(2417): error C2100: illegal indirection (compiling source file C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\boosted_trees\\lib\\utils\\sparse_column_iterable.cc) [C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_kernels.vcxproj]\n\nthe latter of which can be fixed by a simple change, as noted in #15925 (comment) .\nCreating this new issue per @gunan's request\n#14691 (comment)\nSource code / logs\nThe log file is way too big to post apparently. I'm open to suggestions", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nNo\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nWindows 10\r\n- **TensorFlow installed from (source or binary)**:\r\nSource\r\n- **TensorFlow version (use command below)**:\r\n1.5.0-dev20180103\r\nhttps://github.com/tensorflow/tensorflow/commit/25d275280dfb163674f81c7681c2c1d34545a155\r\n- **Python version**: \r\n3.5.4\r\n- **Bazel version (if compiling from source)**:\r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\n9.0 with cuDNN 7\r\n- **GPU model and memory**:\r\nGeForce GTX 1060 6GB\r\n- **Exact command to reproduce**:\r\nOpen Visual Studio x64 Native Tools Command Prompt with admin rights. \r\nusing MSBuild 15.5.180.51428,\r\n\r\n```\r\ncmake .. -A x64 -DCMAKE_BUILD_TYPE=Release ^\r\n-DSWIG_EXECUTABLE=C:/tools/swigwin-3.0.12/swig.exe ^\r\n-DPYTHON_EXECUTABLE=C:\\Users\\csemp\\AppData\\Local\\Programs\\Python\\Python35\\python.exe ^\r\n-DPYTHON_LIBRARIES=C:\\Users\\csemp\\AppData\\Local\\Programs\\Python\\Python35\\libs\\python35.lib ^\r\n-Dtensorflow_ENABLE_GPU=ON ^\r\n-DCUDNN_HOME=\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\" ^\r\n-Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX ^\r\n-Dtensorflow_BUILD_CC_EXAMPLE=OFF\r\n\r\nset PreferredToolArchitecture=x64\r\n\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" /m:2 /p:Configuration=Release tf_python_build_pip_package.vcxproj /v:diag > diag.log\r\n```\r\n\r\n### Describe the problem\r\nThe build fails with the error \r\n```\r\n 133>CustomBuild: (TargetId:8893)\r\n                     CMake Error at tf_core_gpu_kernels_generated_adjust_contrast_op_gpu.cu.cc.obj.Release.cmake:222 (message): (TaskId:3323)\r\n                       Error generating (TaskId:3323)\r\n                       C:/Users/csemp/dev/tensorflowbuild/tensorflow/tensorflow/contrib/cmake/build/CMakeFiles/tf_core_gpu_kernels.dir/__/__/core/kernels/Release/tf_core_gpu_kernels_generated_adjust_contrast_op_gpu.cu.cc.obj (TaskId:3323)\r\n                      (TaskId:3323)\r\n                      (TaskId:3323)\r\n```\r\nIt also has the error \r\n```\r\n(ClCompile target) -> \r\n  C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.12.25827\\include\\algorithm(2417): error C2678: binary '*': no operator found which takes a left-hand operand of type 'const tensorflow::boosted_trees::utils::`anonymous-namespace'::IndicesRowIterator' (or there is no acceptable conversion) (compiling source file C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\boosted_trees\\lib\\utils\\sparse_column_iterable.cc) [C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_kernels.vcxproj]\r\n  C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.12.25827\\include\\algorithm(2417): error C2100: illegal indirection (compiling source file C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\boosted_trees\\lib\\utils\\sparse_column_iterable.cc) [C:\\Users\\csemp\\dev\\tensorflowbuild2\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_kernels.vcxproj]\r\n```\r\nthe latter of which can be fixed by a simple change, as noted in https://github.com/tensorflow/tensorflow/issues/15925#issuecomment-356275963 .\r\nCreating this new issue per @gunan's request\r\nhttps://github.com/tensorflow/tensorflow/issues/14691#issuecomment-356846982\r\n\r\n### Source code / logs\r\nThe log file is way too big to post apparently. I'm open to suggestions\r\n\r\n"}