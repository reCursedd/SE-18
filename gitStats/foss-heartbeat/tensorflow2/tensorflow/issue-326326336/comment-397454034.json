{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/397454034", "html_url": "https://github.com/tensorflow/tensorflow/pull/19545#issuecomment-397454034", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19545", "id": 397454034, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzQ1NDAzNA==", "user": {"login": "AndrewLeach", "id": 7063614, "node_id": "MDQ6VXNlcjcwNjM2MTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/7063614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndrewLeach", "html_url": "https://github.com/AndrewLeach", "followers_url": "https://api.github.com/users/AndrewLeach/followers", "following_url": "https://api.github.com/users/AndrewLeach/following{/other_user}", "gists_url": "https://api.github.com/users/AndrewLeach/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndrewLeach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndrewLeach/subscriptions", "organizations_url": "https://api.github.com/users/AndrewLeach/orgs", "repos_url": "https://api.github.com/users/AndrewLeach/repos", "events_url": "https://api.github.com/users/AndrewLeach/events{/privacy}", "received_events_url": "https://api.github.com/users/AndrewLeach/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-14T22:11:05Z", "updated_at": "2018-06-14T22:13:44Z", "author_association": "NONE", "body_html": "<p>The test fails because spec.export_output.keys() also includes the default key \"serving_default\".</p>\n<p>From estimator.export_savedmodel:</p>\n<blockquote>\n<pre><code>The exported `MetaGraphDef` will provide one `SignatureDef` for each\nelement of the export_outputs dict returned from the model_fn, named using\nthe same keys.  One of these keys is always\nsignature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY, indicating which\nsignature will be served when a serving request does not specify one.\nFor each signature, the outputs are provided by the corresponding\n`ExportOutput`s, and the inputs are always the input receivers provided by\nthe serving_input_receiver_fn.\n</code></pre>\n</blockquote>\n<p>Note that signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY is \"serving_default\".<br>\n<a href=\"url\">https://github.com/tensorflow/tensorflow/blob/57031c7565fe996270bafdd1940d50c37be35d04/tensorflow/python/saved_model/signature_constants.py</a></p>\n<p>Maybe this should be imported in the test and the constant included in the assertion?</p>", "body_text": "The test fails because spec.export_output.keys() also includes the default key \"serving_default\".\nFrom estimator.export_savedmodel:\n\nThe exported `MetaGraphDef` will provide one `SignatureDef` for each\nelement of the export_outputs dict returned from the model_fn, named using\nthe same keys.  One of these keys is always\nsignature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY, indicating which\nsignature will be served when a serving request does not specify one.\nFor each signature, the outputs are provided by the corresponding\n`ExportOutput`s, and the inputs are always the input receivers provided by\nthe serving_input_receiver_fn.\n\n\nNote that signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY is \"serving_default\".\nhttps://github.com/tensorflow/tensorflow/blob/57031c7565fe996270bafdd1940d50c37be35d04/tensorflow/python/saved_model/signature_constants.py\nMaybe this should be imported in the test and the constant included in the assertion?", "body": "The test fails because spec.export_output.keys() also includes the default key \"serving_default\".\r\n\r\nFrom estimator.export_savedmodel:\r\n\r\n>     The exported `MetaGraphDef` will provide one `SignatureDef` for each\r\n>     element of the export_outputs dict returned from the model_fn, named using\r\n>     the same keys.  One of these keys is always\r\n>     signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY, indicating which\r\n>     signature will be served when a serving request does not specify one.\r\n>     For each signature, the outputs are provided by the corresponding\r\n>     `ExportOutput`s, and the inputs are always the input receivers provided by\r\n>     the serving_input_receiver_fn.\r\n\r\nNote that signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY is \"serving_default\".\r\n[https://github.com/tensorflow/tensorflow/blob/57031c7565fe996270bafdd1940d50c37be35d04/tensorflow/python/saved_model/signature_constants.py](url)\r\n\r\nMaybe this should be imported in the test and the constant included in the assertion?\r\n"}