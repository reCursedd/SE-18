{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/165335448", "html_url": "https://github.com/tensorflow/tensorflow/issues/511#issuecomment-165335448", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/511", "id": 165335448, "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTMzNTQ0OA==", "user": {"login": "wchan", "id": 1131892, "node_id": "MDQ6VXNlcjExMzE4OTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1131892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wchan", "html_url": "https://github.com/wchan", "followers_url": "https://api.github.com/users/wchan/followers", "following_url": "https://api.github.com/users/wchan/following{/other_user}", "gists_url": "https://api.github.com/users/wchan/gists{/gist_id}", "starred_url": "https://api.github.com/users/wchan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wchan/subscriptions", "organizations_url": "https://api.github.com/users/wchan/orgs", "repos_url": "https://api.github.com/users/wchan/repos", "events_url": "https://api.github.com/users/wchan/events{/privacy}", "received_events_url": "https://api.github.com/users/wchan/received_events", "type": "User", "site_admin": false}, "created_at": "2015-12-17T04:42:37Z", "updated_at": "2015-12-17T04:42:37Z", "author_association": "NONE", "body_html": "<pre><code>  // h[t] = z[t] .* h[t - 1] + (1 - z[t]) .* g[t]\n  dz.vec&lt;float&gt;().device(ctx-&gt;eigen_device&lt;Device&gt;()) =\n      dh.vec&lt;float&gt;() * h_prev-&gt;vec&lt;float&gt;() -\n      dh.vec&lt;float&gt;() * g.vec&lt;float&gt;();\n\n  dh_prev.vec&lt;float&gt;().device(ctx-&gt;eigen_device&lt;Device&gt;()) =\n      dh_prev.vec&lt;float&gt;() + dh.vec&lt;float&gt;() * z.vec&lt;float&gt;();\n\n  dg.vec&lt;float&gt;().device(ctx-&gt;eigen_device&lt;Device&gt;()) =\n      dh.vec&lt;float&gt;() * (z.vec&lt;float&gt;().constant(1.0f) - z.vec&lt;float&gt;());\n</code></pre>\n<p>am I allowed to do something like that when Device == GpuDevice</p>\n<p>_ZN5Eigen8internal14TensorExecutorIKNS_14TensorAssignOpINS_9TensorMapINS_6TensorIfLm1ELi1ElEELi1EEEKNS_19TensorCwiseBinaryOpINS0_20scalar_difference_opIKfEEKNS7_INS0_17scalar_product_opIS9_S9_EEKNS3_INS4_IS9_Lm1ELi1ElEELi1EEESF_EESH_EEEENS_9GpuDeviceELb1ELb0EE3runERSL_RKSM</p>\n<p>notice the \u201cTensor\u201d reference and \u201cGpuDevice\u201d in the name mangling \u2026 I\u2019m guessing this must be a template error, and the GpuDevice specialization failed</p>", "body_text": "// h[t] = z[t] .* h[t - 1] + (1 - z[t]) .* g[t]\n  dz.vec<float>().device(ctx->eigen_device<Device>()) =\n      dh.vec<float>() * h_prev->vec<float>() -\n      dh.vec<float>() * g.vec<float>();\n\n  dh_prev.vec<float>().device(ctx->eigen_device<Device>()) =\n      dh_prev.vec<float>() + dh.vec<float>() * z.vec<float>();\n\n  dg.vec<float>().device(ctx->eigen_device<Device>()) =\n      dh.vec<float>() * (z.vec<float>().constant(1.0f) - z.vec<float>());\n\nam I allowed to do something like that when Device == GpuDevice\n_ZN5Eigen8internal14TensorExecutorIKNS_14TensorAssignOpINS_9TensorMapINS_6TensorIfLm1ELi1ElEELi1EEEKNS_19TensorCwiseBinaryOpINS0_20scalar_difference_opIKfEEKNS7_INS0_17scalar_product_opIS9_S9_EEKNS3_INS4_IS9_Lm1ELi1ElEELi1EEESF_EESH_EEEENS_9GpuDeviceELb1ELb0EE3runERSL_RKSM\nnotice the \u201cTensor\u201d reference and \u201cGpuDevice\u201d in the name mangling \u2026 I\u2019m guessing this must be a template error, and the GpuDevice specialization failed", "body": "```\n  // h[t] = z[t] .* h[t - 1] + (1 - z[t]) .* g[t]\n  dz.vec<float>().device(ctx->eigen_device<Device>()) =\n      dh.vec<float>() * h_prev->vec<float>() -\n      dh.vec<float>() * g.vec<float>();\n\n  dh_prev.vec<float>().device(ctx->eigen_device<Device>()) =\n      dh_prev.vec<float>() + dh.vec<float>() * z.vec<float>();\n\n  dg.vec<float>().device(ctx->eigen_device<Device>()) =\n      dh.vec<float>() * (z.vec<float>().constant(1.0f) - z.vec<float>());\n```\n\nam I allowed to do something like that when Device == GpuDevice\n\n_ZN5Eigen8internal14TensorExecutorIKNS_14TensorAssignOpINS_9TensorMapINS_6TensorIfLm1ELi1ElEELi1EEEKNS_19TensorCwiseBinaryOpINS0_20scalar_difference_opIKfEEKNS7_INS0_17scalar_product_opIS9_S9_EEKNS3_INS4_IS9_Lm1ELi1ElEELi1EEESF_EESH_EEEENS_9GpuDeviceELb1ELb0EE3runERSL_RKSM\n\nnotice the \u201cTensor\u201d reference and \u201cGpuDevice\u201d in the name mangling \u2026 I\u2019m guessing this must be a template error, and the GpuDevice specialization failed\n"}