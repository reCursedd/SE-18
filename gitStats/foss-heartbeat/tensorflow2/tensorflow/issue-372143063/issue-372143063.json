{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23114", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23114/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23114/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23114/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23114", "id": 372143063, "node_id": "MDU6SXNzdWUzNzIxNDMwNjM=", "number": 23114, "title": "Can tf.sparse_reduce_sum infer shape while keepdims=True?", "user": {"login": "gongliyu", "id": 7122320, "node_id": "MDQ6VXNlcjcxMjIzMjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7122320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongliyu", "html_url": "https://github.com/gongliyu", "followers_url": "https://api.github.com/users/gongliyu/followers", "following_url": "https://api.github.com/users/gongliyu/following{/other_user}", "gists_url": "https://api.github.com/users/gongliyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongliyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongliyu/subscriptions", "organizations_url": "https://api.github.com/users/gongliyu/orgs", "repos_url": "https://api.github.com/users/gongliyu/repos", "events_url": "https://api.github.com/users/gongliyu/events{/privacy}", "received_events_url": "https://api.github.com/users/gongliyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false}], "state": "open", "locked": false, "assignee": {"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-10-19T23:07:24Z", "updated_at": "2018-11-21T17:06:42Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><em>Please make sure that this is a feature request. As per our <a href=\"https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md\">GitHub Policy</a>, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em></p>\n<p><strong>System information</strong></p>\n<ul>\n<li>TensorFlow version (you are using): 1.11</li>\n<li>Are you willing to contribute it (Yes/No):<br>\nNo. Sorry, I'm not familiar with the TF codebase.</li>\n</ul>\n<p><strong>Describe the feature and the current behavior/state.</strong><br>\ntf.sparse_reduce_sum should be able to infer the shape if the input has known shape.</p>\n<pre lang=\"pythonIn\" data-meta=\"[1]: import tensorflow as tf\"><code>\nIn [2]: x = tf.SparseTensor(indices=[[0,0],[1,1]], values=[1,2], dense_shape=[2,2])\n\nIn [3]: tf.sparse_reduce_sum(x)\nOut[3]: &lt;tf.Tensor 'SparseReduceSum:0' shape=&lt;unknown&gt; dtype=int32&gt;\n\nIn [4]: tf.sparse_reduce_sum(x, axis=1, keepdims=True)\nOut[4]: &lt;tf.Tensor 'SparseReduceSum_1:0' shape=&lt;unknown&gt; dtype=int32&gt;\n</code></pre>\n<p><strong>Will this change the current api? How?</strong><br>\nNo.<br>\n<strong>Who will benefit with this feature?</strong><br>\nUsers who use TensorFlow to do graph learning<br>\n<strong>Any Other info.</strong></p>\n<p>Hi, please check the following information, thanks!</p>\n<p>Have I written custom code<br>\nN/A</p>\n<p>OS Platform and Distribution<br>\nWindows 10</p>\n<p>TensorFlow installed from<br>\nconda -c anaconda tensorflow-gpu</p>\n<p>Bazel version<br>\nN/A</p>\n<p>CUDA/cuDNN version<br>\n9.0/7.1.4</p>\n<p>GPU model and memory<br>\nQuadro M520 2GB memory</p>\n<p>Exact command to reproduce<br>\ndescribe in the original post</p>\n<p>Mobile device<br>\nN/A</p>", "body_text": "Please make sure that this is a feature request. As per our GitHub Policy, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template\nSystem information\n\nTensorFlow version (you are using): 1.11\nAre you willing to contribute it (Yes/No):\nNo. Sorry, I'm not familiar with the TF codebase.\n\nDescribe the feature and the current behavior/state.\ntf.sparse_reduce_sum should be able to infer the shape if the input has known shape.\n\nIn [2]: x = tf.SparseTensor(indices=[[0,0],[1,1]], values=[1,2], dense_shape=[2,2])\n\nIn [3]: tf.sparse_reduce_sum(x)\nOut[3]: <tf.Tensor 'SparseReduceSum:0' shape=<unknown> dtype=int32>\n\nIn [4]: tf.sparse_reduce_sum(x, axis=1, keepdims=True)\nOut[4]: <tf.Tensor 'SparseReduceSum_1:0' shape=<unknown> dtype=int32>\n\nWill this change the current api? How?\nNo.\nWho will benefit with this feature?\nUsers who use TensorFlow to do graph learning\nAny Other info.\nHi, please check the following information, thanks!\nHave I written custom code\nN/A\nOS Platform and Distribution\nWindows 10\nTensorFlow installed from\nconda -c anaconda tensorflow-gpu\nBazel version\nN/A\nCUDA/cuDNN version\n9.0/7.1.4\nGPU model and memory\nQuadro M520 2GB memory\nExact command to reproduce\ndescribe in the original post\nMobile device\nN/A", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 1.11\r\n- Are you willing to contribute it (Yes/No): \r\nNo. Sorry, I'm not familiar with the TF codebase.\r\n\r\n**Describe the feature and the current behavior/state.**\r\ntf.sparse_reduce_sum should be able to infer the shape if the input has known shape.\r\n```pythonIn [1]: import tensorflow as tf\r\n\r\nIn [2]: x = tf.SparseTensor(indices=[[0,0],[1,1]], values=[1,2], dense_shape=[2,2])\r\n\r\nIn [3]: tf.sparse_reduce_sum(x)\r\nOut[3]: <tf.Tensor 'SparseReduceSum:0' shape=<unknown> dtype=int32>\r\n\r\nIn [4]: tf.sparse_reduce_sum(x, axis=1, keepdims=True)\r\nOut[4]: <tf.Tensor 'SparseReduceSum_1:0' shape=<unknown> dtype=int32>\r\n```\r\n\r\n\r\n**Will this change the current api? How?** \r\nNo.\r\n**Who will benefit with this feature?**\r\nUsers who use TensorFlow to do graph learning\r\n**Any Other info.**\r\n\r\nHi, please check the following information, thanks!\r\n\r\nHave I written custom code\r\nN/A\r\n\r\nOS Platform and Distribution\r\nWindows 10\r\n\r\nTensorFlow installed from\r\nconda -c anaconda tensorflow-gpu\r\n\r\nBazel version\r\nN/A\r\n\r\nCUDA/cuDNN version\r\n9.0/7.1.4\r\n\r\nGPU model and memory\r\nQuadro M520 2GB memory\r\n\r\nExact command to reproduce\r\ndescribe in the original post\r\n\r\nMobile device\r\nN/A"}