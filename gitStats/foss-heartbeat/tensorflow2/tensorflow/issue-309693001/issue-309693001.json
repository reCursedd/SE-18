{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18085", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18085/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18085/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18085/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18085", "id": 309693001, "node_id": "MDU6SXNzdWUzMDk2OTMwMDE=", "number": 18085, "title": "Jsonify serialisation error for tensorflow output ", "user": {"login": "dhinar1991", "id": 26268279, "node_id": "MDQ6VXNlcjI2MjY4Mjc5", "avatar_url": "https://avatars2.githubusercontent.com/u/26268279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhinar1991", "html_url": "https://github.com/dhinar1991", "followers_url": "https://api.github.com/users/dhinar1991/followers", "following_url": "https://api.github.com/users/dhinar1991/following{/other_user}", "gists_url": "https://api.github.com/users/dhinar1991/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhinar1991/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhinar1991/subscriptions", "organizations_url": "https://api.github.com/users/dhinar1991/orgs", "repos_url": "https://api.github.com/users/dhinar1991/repos", "events_url": "https://api.github.com/users/dhinar1991/events{/privacy}", "received_events_url": "https://api.github.com/users/dhinar1991/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-29T09:58:28Z", "updated_at": "2018-04-01T11:14:32Z", "closed_at": "2018-04-01T11:14:32Z", "author_association": "NONE", "body_html": "<p>I created a flask client in python that returns output of tensorflow model like this:</p>\n<p>Result is:</p>\n<pre><code>\noutputs {\n key: \"output\"\n value {\n dtype: DT_FLOAT\n tensor_shape {\n }\n float_val: -3.33661770821\n }\n}\n</code></pre>\n<p>And when i tried to jsonify this output .</p>\n<blockquote>\n<p>def inference():<br>\n........<br>\nreturn jsonify({'result':result})</p>\n</blockquote>\n<p>It sends error:</p>\n<pre><code>File \"/usr/lib/python2.7/json/encoder.py\", line 184, in default\n       raise TypeError(repo(o) + \"is not JSON serializable\")\nTypeError:outputs {\n     key: \"output\"\n     value {\n     dtype: DT_FLOAT\n     tensor_shape {\n     }\n     float_val: -3.33661770821\n     }\n    }\n</code></pre>\n<p>How do i jsonify the above output? Any idea? This is not in dictionary too.</p>", "body_text": "I created a flask client in python that returns output of tensorflow model like this:\nResult is:\n\noutputs {\n key: \"output\"\n value {\n dtype: DT_FLOAT\n tensor_shape {\n }\n float_val: -3.33661770821\n }\n}\n\nAnd when i tried to jsonify this output .\n\ndef inference():\n........\nreturn jsonify({'result':result})\n\nIt sends error:\nFile \"/usr/lib/python2.7/json/encoder.py\", line 184, in default\n       raise TypeError(repo(o) + \"is not JSON serializable\")\nTypeError:outputs {\n     key: \"output\"\n     value {\n     dtype: DT_FLOAT\n     tensor_shape {\n     }\n     float_val: -3.33661770821\n     }\n    }\n\nHow do i jsonify the above output? Any idea? This is not in dictionary too.", "body": "\r\nI created a flask client in python that returns output of tensorflow model like this: \r\n\r\nResult is:\r\n```\r\n\r\noutputs {\r\n key: \"output\"\r\n value {\r\n dtype: DT_FLOAT\r\n tensor_shape {\r\n }\r\n float_val: -3.33661770821\r\n }\r\n}\r\n```\r\nAnd when i tried to jsonify this output . \r\n\r\n> def inference():\r\n>     ........\r\n>     return jsonify({'result':result})\r\n\r\nIt sends error:\r\n\r\n```\r\nFile \"/usr/lib/python2.7/json/encoder.py\", line 184, in default\r\n       raise TypeError(repo(o) + \"is not JSON serializable\")\r\nTypeError:outputs {\r\n     key: \"output\"\r\n     value {\r\n     dtype: DT_FLOAT\r\n     tensor_shape {\r\n     }\r\n     float_val: -3.33661770821\r\n     }\r\n    }\r\n```\r\nHow do i jsonify the above output? Any idea? This is not in dictionary too. "}