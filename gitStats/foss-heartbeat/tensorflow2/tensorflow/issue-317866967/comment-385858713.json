{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/385858713", "html_url": "https://github.com/tensorflow/tensorflow/issues/18886#issuecomment-385858713", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18886", "id": 385858713, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTg1ODcxMw==", "user": {"login": "Bidski", "id": 2320984, "node_id": "MDQ6VXNlcjIzMjA5ODQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/2320984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bidski", "html_url": "https://github.com/Bidski", "followers_url": "https://api.github.com/users/Bidski/followers", "following_url": "https://api.github.com/users/Bidski/following{/other_user}", "gists_url": "https://api.github.com/users/Bidski/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bidski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bidski/subscriptions", "organizations_url": "https://api.github.com/users/Bidski/orgs", "repos_url": "https://api.github.com/users/Bidski/repos", "events_url": "https://api.github.com/users/Bidski/events{/privacy}", "received_events_url": "https://api.github.com/users/Bidski/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-02T04:03:34Z", "updated_at": "2018-05-02T04:03:34Z", "author_association": "NONE", "body_html": "<p>The following patch allows my build to complete using the same command as I reported earlier (<code>bazel build --config=opt --config=cuda //tensorflow/tools/... --verbose_failures</code>). This was performed with the latest master (latest commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/8cb6e535f6ea14b380aa86d425169adad682cb8c/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/8cb6e535f6ea14b380aa86d425169adad682cb8c\"><tt>8cb6e53</tt></a>).</p>\n<pre><code>diff --git a/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl b/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\nindex 05290d6..f518bde 100644\n--- a/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\n+++ b/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\n@@ -90,7 +90,7 @@ toolchain {\n   compiler_flag: \"-D_FORTIFY_SOURCE=1\"\n   compiler_flag: \"-fstack-protector\"\n   compiler_flag: \"-fPIE\"\n-  linker_flag: \"-pie\"\n   linker_flag: \"-Wl,-z,relro,-z,now\"\n \n   # Enable coloring even if there's no attached terminal. Bazel removes the\n</code></pre>", "body_text": "The following patch allows my build to complete using the same command as I reported earlier (bazel build --config=opt --config=cuda //tensorflow/tools/... --verbose_failures). This was performed with the latest master (latest commit 8cb6e53).\ndiff --git a/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl b/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\nindex 05290d6..f518bde 100644\n--- a/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\n+++ b/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\n@@ -90,7 +90,7 @@ toolchain {\n   compiler_flag: \"-D_FORTIFY_SOURCE=1\"\n   compiler_flag: \"-fstack-protector\"\n   compiler_flag: \"-fPIE\"\n-  linker_flag: \"-pie\"\n   linker_flag: \"-Wl,-z,relro,-z,now\"\n \n   # Enable coloring even if there's no attached terminal. Bazel removes the", "body": "The following patch allows my build to complete using the same command as I reported earlier (`bazel build --config=opt --config=cuda //tensorflow/tools/... --verbose_failures`). This was performed with the latest master (latest commit 8cb6e535f6ea14b380aa86d425169adad682cb8c).\r\n```\r\ndiff --git a/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl b/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\r\nindex 05290d6..f518bde 100644\r\n--- a/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\r\n+++ b/third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\r\n@@ -90,7 +90,7 @@ toolchain {\r\n   compiler_flag: \"-D_FORTIFY_SOURCE=1\"\r\n   compiler_flag: \"-fstack-protector\"\r\n   compiler_flag: \"-fPIE\"\r\n-  linker_flag: \"-pie\"\r\n   linker_flag: \"-Wl,-z,relro,-z,now\"\r\n \r\n   # Enable coloring even if there's no attached terminal. Bazel removes the\r\n```"}