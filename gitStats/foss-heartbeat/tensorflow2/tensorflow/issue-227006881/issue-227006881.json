{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9755", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9755/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9755/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9755/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9755", "id": 227006881, "node_id": "MDU6SXNzdWUyMjcwMDY4ODE=", "number": 9755, "title": "Bazel unable to build on Jetson TX1 with --config=cuda option?", "user": {"login": "kwotsin", "id": 11178344, "node_id": "MDQ6VXNlcjExMTc4MzQ0", "avatar_url": "https://avatars2.githubusercontent.com/u/11178344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwotsin", "html_url": "https://github.com/kwotsin", "followers_url": "https://api.github.com/users/kwotsin/followers", "following_url": "https://api.github.com/users/kwotsin/following{/other_user}", "gists_url": "https://api.github.com/users/kwotsin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwotsin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwotsin/subscriptions", "organizations_url": "https://api.github.com/users/kwotsin/orgs", "repos_url": "https://api.github.com/users/kwotsin/repos", "events_url": "https://api.github.com/users/kwotsin/events{/privacy}", "received_events_url": "https://api.github.com/users/kwotsin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-05-08T10:43:25Z", "updated_at": "2018-10-25T03:21:49Z", "closed_at": "2017-05-11T20:03:59Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04 LTS</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.1 (latest master)</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.4.5</li>\n<li><strong>CUDA/cuDNN version</strong>: 8.0/5.1</li>\n<li><strong>GPU model and memory</strong>: Tegra X1</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Using the bazel build command above, I am unable to find a valid toolchain to support the aarch64 architecture in the Jetson TX1. However, by removing the <code>--config=cuda</code> option, the error is gone, although I am still unable to finish building the pip file (probably due to the fact that I configured TF for GPU using <code>./configure</code>).</p>\n<p>Note: I changed the bazel files as seen in this guide: <a href=\"http://zhiyisun.github.io/2017/02/15/Running-Google-Machine-Learning-Library-Tensorflow-On-ARM-64-bit-Platform.html\" rel=\"nofollow\">http://zhiyisun.github.io/2017/02/15/Running-Google-Machine-Learning-Library-Tensorflow-On-ARM-64-bit-Platform.html</a> , in order to get bazel to build for aarch64.</p>\n<p>Is there anything more that I have to change? using the suggested command of <code>bazel build -c opt --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --verbose_failures tensorflow/tools/pip_package:build_pip_package</code> I get the same error too.</p>\n<p>I saw this issue over here: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"179924041\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/bazel/issues/1855\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/1855/hovercard\" href=\"https://github.com/bazelbuild/bazel/issues/1855\">bazelbuild/bazel#1855</a><br>\nand it says it has something related to the cuda crosstool. Is there a way to fix this to configure TensorFlow-GPU on the Jetson TX1?</p>\n<p>Thank you for your help. :D</p>\n<h3>Source code / logs</h3>\n<p>Here is the error I got:</p>\n<pre><code>ubuntu@tegra-ubuntu:~/tensorflow$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.build/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nERROR: No toolchain found for cpu 'aarch64'. Valid cpus are: [\n  k8,\n  piii,\n  arm,\n  darwin,\n  ppc,\n].\nINFO: Elapsed time: 1.589s\n\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04 LTS\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.1 (latest master)\nBazel version (if compiling from source): 0.4.5\nCUDA/cuDNN version: 8.0/5.1\nGPU model and memory: Tegra X1\nExact command to reproduce:\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nUsing the bazel build command above, I am unable to find a valid toolchain to support the aarch64 architecture in the Jetson TX1. However, by removing the --config=cuda option, the error is gone, although I am still unable to finish building the pip file (probably due to the fact that I configured TF for GPU using ./configure).\nNote: I changed the bazel files as seen in this guide: http://zhiyisun.github.io/2017/02/15/Running-Google-Machine-Learning-Library-Tensorflow-On-ARM-64-bit-Platform.html , in order to get bazel to build for aarch64.\nIs there anything more that I have to change? using the suggested command of bazel build -c opt --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --verbose_failures tensorflow/tools/pip_package:build_pip_package I get the same error too.\nI saw this issue over here: bazelbuild/bazel#1855\nand it says it has something related to the cuda crosstool. Is there a way to fix this to configure TensorFlow-GPU on the Jetson TX1?\nThank you for your help. :D\nSource code / logs\nHere is the error I got:\nubuntu@tegra-ubuntu:~/tensorflow$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.build/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nERROR: No toolchain found for cpu 'aarch64'. Valid cpus are: [\n  k8,\n  piii,\n  arm,\n  darwin,\n  ppc,\n].\nINFO: Elapsed time: 1.589s", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04 LTS\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.1 (latest master)\r\n- **Bazel version (if compiling from source)**: 0.4.5\r\n- **CUDA/cuDNN version**: 8.0/5.1\r\n- **GPU model and memory**: Tegra X1\r\n- **Exact command to reproduce**:\r\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package \r\n\r\n\r\n### Describe the problem\r\nUsing the bazel build command above, I am unable to find a valid toolchain to support the aarch64 architecture in the Jetson TX1. However, by removing the `--config=cuda` option, the error is gone, although I am still unable to finish building the pip file (probably due to the fact that I configured TF for GPU using `./configure`). \r\n\r\nNote: I changed the bazel files as seen in this guide: http://zhiyisun.github.io/2017/02/15/Running-Google-Machine-Learning-Library-Tensorflow-On-ARM-64-bit-Platform.html , in order to get bazel to build for aarch64.\r\n\r\nIs there anything more that I have to change? using the suggested command of `bazel build -c opt --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --verbose_failures tensorflow/tools/pip_package:build_pip_package` I get the same error too.\r\n\r\nI saw this issue over here: https://github.com/bazelbuild/bazel/issues/1855\r\nand it says it has something related to the cuda crosstool. Is there a way to fix this to configure TensorFlow-GPU on the Jetson TX1?\r\n\r\nThank you for your help. :D\r\n\r\n### Source code / logs\r\n\r\nHere is the error I got:\r\n\r\n```\r\nubuntu@tegra-ubuntu:~/tensorflow$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.build/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\r\nERROR: No toolchain found for cpu 'aarch64'. Valid cpus are: [\r\n  k8,\r\n  piii,\r\n  arm,\r\n  darwin,\r\n  ppc,\r\n].\r\nINFO: Elapsed time: 1.589s\r\n\r\n```"}