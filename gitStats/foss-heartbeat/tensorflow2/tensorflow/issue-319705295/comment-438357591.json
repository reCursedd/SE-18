{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/438357591", "html_url": "https://github.com/tensorflow/tensorflow/pull/19032#issuecomment-438357591", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19032", "id": 438357591, "node_id": "MDEyOklzc3VlQ29tbWVudDQzODM1NzU5MQ==", "user": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-13T17:21:51Z", "updated_at": "2018-11-13T17:21:51Z", "author_association": "MEMBER", "body_html": "<p>Yeah, I started looking into this back then. It requires a lot of changes inside, because the protobuf dependencies are added manually, then a script goes and edits the build files, by renaming the ones that we already have and also adding manually in some other rules. We also have rules internally mirroring, but different from the public ones. So the ones that we have added manually must be removed, since the bazel rule that you added already adds them. There are different places where they are added. The way I had been working through this was to make an edit and send it to the internal CI but that's infeasible.</p>\n<p>There are about 80 mentions of protobuf in our transformation script and 200 mentions in the build files.</p>", "body_text": "Yeah, I started looking into this back then. It requires a lot of changes inside, because the protobuf dependencies are added manually, then a script goes and edits the build files, by renaming the ones that we already have and also adding manually in some other rules. We also have rules internally mirroring, but different from the public ones. So the ones that we have added manually must be removed, since the bazel rule that you added already adds them. There are different places where they are added. The way I had been working through this was to make an edit and send it to the internal CI but that's infeasible.\nThere are about 80 mentions of protobuf in our transformation script and 200 mentions in the build files.", "body": "Yeah, I started looking into this back then. It requires a lot of changes inside, because the protobuf dependencies are added manually, then a script goes and edits the build files, by renaming the ones that we already have and also adding manually in some other rules. We also have rules internally mirroring, but different from the public ones. So the ones that we have added manually must be removed, since the bazel rule that you added already adds them. There are different places where they are added. The way I had been working through this was to make an edit and send it to the internal CI but that's infeasible.\r\n\r\nThere are about 80 mentions of protobuf in our transformation script and 200 mentions in the build files."}