{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4442", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4442/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4442/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4442/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4442", "id": 177674049, "node_id": "MDU6SXNzdWUxNzc2NzQwNDk=", "number": 4442, "title": "predict function loads only the first batch from the input_fn", "user": {"login": "amirj", "id": 1645137, "node_id": "MDQ6VXNlcjE2NDUxMzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1645137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirj", "html_url": "https://github.com/amirj", "followers_url": "https://api.github.com/users/amirj/followers", "following_url": "https://api.github.com/users/amirj/following{/other_user}", "gists_url": "https://api.github.com/users/amirj/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirj/subscriptions", "organizations_url": "https://api.github.com/users/amirj/orgs", "repos_url": "https://api.github.com/users/amirj/repos", "events_url": "https://api.github.com/users/amirj/events{/privacy}", "received_events_url": "https://api.github.com/users/amirj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-18T20:14:26Z", "updated_at": "2016-12-06T01:54:09Z", "closed_at": "2016-09-19T06:09:12Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I have a regular <code>input_fn_valid</code> function.<br>\nWhen using <code>estimator.evaluate(input_fn=input_fn_valid)</code> everything is OK and the model is evaluated on the whole dataset. But calling <code>probs = estimator.predict(input_fn=input_fn_valid)</code> only returns the predicted values of the first batch (The size of <code>probs</code> is equal to <code>batch_size</code> parameter).<br>\nI'm using TensorFlow 0.10 and test it on Ubuntu (GPU) and MAC OSX (CPU).<br>\nIs it a bug in the predict function?</p>", "body_text": "I have a regular input_fn_valid function.\nWhen using estimator.evaluate(input_fn=input_fn_valid) everything is OK and the model is evaluated on the whole dataset. But calling probs = estimator.predict(input_fn=input_fn_valid) only returns the predicted values of the first batch (The size of probs is equal to batch_size parameter).\nI'm using TensorFlow 0.10 and test it on Ubuntu (GPU) and MAC OSX (CPU).\nIs it a bug in the predict function?", "body": "I have a regular `input_fn_valid` function. \nWhen using `estimator.evaluate(input_fn=input_fn_valid)` everything is OK and the model is evaluated on the whole dataset. But calling `probs = estimator.predict(input_fn=input_fn_valid)` only returns the predicted values of the first batch (The size of `probs` is equal to `batch_size` parameter). \nI'm using TensorFlow 0.10 and test it on Ubuntu (GPU) and MAC OSX (CPU).\nIs it a bug in the predict function?\n"}