{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13575", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13575/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13575/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13575/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13575", "id": 263774520, "node_id": "MDU6SXNzdWUyNjM3NzQ1MjA=", "number": 13575, "title": "Reading .tfrecords files greater than 64mb brings up errors", "user": {"login": "jgv115", "id": 31205144, "node_id": "MDQ6VXNlcjMxMjA1MTQ0", "avatar_url": "https://avatars3.githubusercontent.com/u/31205144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgv115", "html_url": "https://github.com/jgv115", "followers_url": "https://api.github.com/users/jgv115/followers", "following_url": "https://api.github.com/users/jgv115/following{/other_user}", "gists_url": "https://api.github.com/users/jgv115/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgv115/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgv115/subscriptions", "organizations_url": "https://api.github.com/users/jgv115/orgs", "repos_url": "https://api.github.com/users/jgv115/repos", "events_url": "https://api.github.com/users/jgv115/events{/privacy}", "received_events_url": "https://api.github.com/users/jgv115/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "saxenasaurabh", "id": 3967488, "node_id": "MDQ6VXNlcjM5Njc0ODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3967488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saxenasaurabh", "html_url": "https://github.com/saxenasaurabh", "followers_url": "https://api.github.com/users/saxenasaurabh/followers", "following_url": "https://api.github.com/users/saxenasaurabh/following{/other_user}", "gists_url": "https://api.github.com/users/saxenasaurabh/gists{/gist_id}", "starred_url": "https://api.github.com/users/saxenasaurabh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saxenasaurabh/subscriptions", "organizations_url": "https://api.github.com/users/saxenasaurabh/orgs", "repos_url": "https://api.github.com/users/saxenasaurabh/repos", "events_url": "https://api.github.com/users/saxenasaurabh/events{/privacy}", "received_events_url": "https://api.github.com/users/saxenasaurabh/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "saxenasaurabh", "id": 3967488, "node_id": "MDQ6VXNlcjM5Njc0ODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3967488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saxenasaurabh", "html_url": "https://github.com/saxenasaurabh", "followers_url": "https://api.github.com/users/saxenasaurabh/followers", "following_url": "https://api.github.com/users/saxenasaurabh/following{/other_user}", "gists_url": "https://api.github.com/users/saxenasaurabh/gists{/gist_id}", "starred_url": "https://api.github.com/users/saxenasaurabh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saxenasaurabh/subscriptions", "organizations_url": "https://api.github.com/users/saxenasaurabh/orgs", "repos_url": "https://api.github.com/users/saxenasaurabh/repos", "events_url": "https://api.github.com/users/saxenasaurabh/events{/privacy}", "received_events_url": "https://api.github.com/users/saxenasaurabh/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 26, "created_at": "2017-10-09T02:47:22Z", "updated_at": "2018-02-28T20:54:27Z", "closed_at": "2018-02-28T19:48:36Z", "author_association": "NONE", "body_html": "<p>I have already read this thread: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"205768541\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7311\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/7311/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/7311\">#7311</a> but I am still encountering this issue with version 1.3.0. Was wondering if anyone knows why?</p>\n<p>Tested on 2 systems:<br>\nOS: Windows 10, Ubuntu 16.04<br>\nTensorflow installed from source,<br>\nTensorflow version: 1.3.0<br>\nOne system running tensorflow non gpu and another system running CUDA 8 and cuDNN v6<br>\nGPU model: none and GTX Titan Z</p>\n<p>The error I get is:</p>\n<p>`  File \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 466, in raise_exception_on_not_ok_status<br>\npywrap_tensorflow.TF_GetCode(status))<br>\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Could not parse example input, value: '<br>\n\ufffd\u05dd9<br>\n\u047b\ufffd<br>\n\ufffdcsv\ufffd\u023b\ufffd<br>\n\u013b\ufffd<br>\n\ufffd\ufffd\ufffd<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=543970\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/cq\">@cq</a>\ufffd\ufffd.\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdM\ufffdB</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):<br>\nFile \"D:\\write_to_tfrecords.py\", line 581, in <br>\nmain()<br>\nFile \"D:\\write_to_tfrecords.py\", line 577, in main<br>\nread_dataset_from_tfrecords()<br>\nFile \"D:\\write_to_tfrecords.py\", line 554, in read_dataset_from_tfrecords<br>\nimage_dataset, csv_dataset = sess.run([image_out_reshaped, csv_out_reshaped])<br>\nFile \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 895, in run<br>\nrun_metadata_ptr)<br>\nFile \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1124, in _run<br>\nfeed_dict_tensor, options, run_metadata)<br>\nFile \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1321, in _do_run<br>\noptions, run_metadata)<br>\nFile \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1340, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Could not parse example input, value: '<br>\n\ufffd\u05dd9<br>\n\u047b\ufffd<br>\n\ufffdcsv\ufffd\u023b\ufffd<br>\n\u013b\ufffd<br>\n\ufffd\ufffd\ufffd<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=543970\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/cq\">@cq</a>\ufffd\ufffd.\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdM\ufffdB</p>\n<blockquote>\n<blockquote>\n<blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>`</p>\n<p>When I try to read .tfrecords files that are less than 64mb this error does not occur.</p>\n<p>My code is here:<br>\n`        with tf.Session() as sess:<br>\ntry:<br>\nfeature = {'images': tf.FixedLenFeature([], tf.string),<br>\n'csv': tf.FixedLenFeature([], tf.string)<br>\n}</p>\n<pre><code>            filename_queue = tf.train.string_input_producer([data_path], num_epochs=1)\n\n            reader = tf.TFRecordReader()\n\n            _, serialized_example = reader.read(filename_queue)\n\n            features = tf.parse_single_example(serialized_example, features=feature)\n\n            image_out = tf.decode_raw(features['images'], tf.uint8)\n            csv_out = tf.decode_raw(features['csv'], tf.float32)\n\n            image_out_reshaped = tf.reshape(image_out, [1000, 200, 200, 3])\n            csv_out_reshaped = tf.reshape(csv_out, [1000, 6])\n\n            sess.run(tf.global_variables_initializer())\n            sess.run(tf.local_variables_initializer())\n\n            # Create a coordinator and run all QueueRunner objects\n            coord = tf.train.Coordinator()\n            threads = tf.train.start_queue_runners(coord=coord)\n\n            image_dataset, csv_dataset = sess.run([image_out_reshaped, csv_out_reshaped])\n\n            coord.request_stop()\n            coord.join(threads)\n</code></pre>\n<p>`</p>", "body_text": "I have already read this thread: #7311 but I am still encountering this issue with version 1.3.0. Was wondering if anyone knows why?\nTested on 2 systems:\nOS: Windows 10, Ubuntu 16.04\nTensorflow installed from source,\nTensorflow version: 1.3.0\nOne system running tensorflow non gpu and another system running CUDA 8 and cuDNN v6\nGPU model: none and GTX Titan Z\nThe error I get is:\n`  File \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 466, in raise_exception_on_not_ok_status\npywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Could not parse example input, value: '\n\ufffd\u05dd9\n\u047b\ufffd\n\ufffdcsv\ufffd\u023b\ufffd\n\u013b\ufffd\n\ufffd\ufffd\ufffd@cq\ufffd\ufffd.\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdM\ufffdB\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"D:\\write_to_tfrecords.py\", line 581, in \nmain()\nFile \"D:\\write_to_tfrecords.py\", line 577, in main\nread_dataset_from_tfrecords()\nFile \"D:\\write_to_tfrecords.py\", line 554, in read_dataset_from_tfrecords\nimage_dataset, csv_dataset = sess.run([image_out_reshaped, csv_out_reshaped])\nFile \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 895, in run\nrun_metadata_ptr)\nFile \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1124, in _run\nfeed_dict_tensor, options, run_metadata)\nFile \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1321, in _do_run\noptions, run_metadata)\nFile \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1340, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Could not parse example input, value: '\n\ufffd\u05dd9\n\u047b\ufffd\n\ufffdcsv\ufffd\u023b\ufffd\n\u013b\ufffd\n\ufffd\ufffd\ufffd@cq\ufffd\ufffd.\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdM\ufffdB\n\n\n\n\n\n\n`\nWhen I try to read .tfrecords files that are less than 64mb this error does not occur.\nMy code is here:\n`        with tf.Session() as sess:\ntry:\nfeature = {'images': tf.FixedLenFeature([], tf.string),\n'csv': tf.FixedLenFeature([], tf.string)\n}\n            filename_queue = tf.train.string_input_producer([data_path], num_epochs=1)\n\n            reader = tf.TFRecordReader()\n\n            _, serialized_example = reader.read(filename_queue)\n\n            features = tf.parse_single_example(serialized_example, features=feature)\n\n            image_out = tf.decode_raw(features['images'], tf.uint8)\n            csv_out = tf.decode_raw(features['csv'], tf.float32)\n\n            image_out_reshaped = tf.reshape(image_out, [1000, 200, 200, 3])\n            csv_out_reshaped = tf.reshape(csv_out, [1000, 6])\n\n            sess.run(tf.global_variables_initializer())\n            sess.run(tf.local_variables_initializer())\n\n            # Create a coordinator and run all QueueRunner objects\n            coord = tf.train.Coordinator()\n            threads = tf.train.start_queue_runners(coord=coord)\n\n            image_dataset, csv_dataset = sess.run([image_out_reshaped, csv_out_reshaped])\n\n            coord.request_stop()\n            coord.join(threads)\n\n`", "body": "I have already read this thread: https://github.com/tensorflow/tensorflow/issues/7311 but I am still encountering this issue with version 1.3.0. Was wondering if anyone knows why?\r\n\r\n\r\nTested on 2 systems:\r\nOS: Windows 10, Ubuntu 16.04\r\nTensorflow installed from source,\r\nTensorflow version: 1.3.0\r\nOne system running tensorflow non gpu and another system running CUDA 8 and cuDNN v6\r\nGPU model: none and GTX Titan Z\r\n\r\nThe error I get is:\r\n\r\n`  File \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 466, in raise_exception_on_not_ok_status\r\n    pywrap_tensorflow.TF_GetCode(status))\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Could not parse example input, value: '\r\n\ufffd\u05dd9\r\n\u047b\u0001\r\n\u0003csv\u0012\u023b\u0001\r\n\u013b\u0001\r\n\ufffd\ufffd\u0001@CQ\ufffd\u0014.\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdM\ufffdB\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\write_to_tfrecords.py\", line 581, in <module>\r\n    main()\r\n  File \"D:\\write_to_tfrecords.py\", line 577, in main\r\n    read_dataset_from_tfrecords()\r\n  File \"D:\\write_to_tfrecords.py\", line 554, in read_dataset_from_tfrecords\r\n    image_dataset, csv_dataset = sess.run([image_out_reshaped, csv_out_reshaped])\r\n  File \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 895, in run\r\n    run_metadata_ptr)\r\n  File \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1124, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1321, in _do_run\r\n    options, run_metadata)\r\n  File \"C:\\Users\\benja\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1340, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Could not parse example input, value: '\r\n\ufffd\u05dd9\r\n\u047b\u0001\r\n\u0003csv\u0012\u023b\u0001\r\n\u013b\u0001\r\n\ufffd\ufffd\u0001@CQ\ufffd\u0014.\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdM\ufffdB\r\n>>> \r\n`\r\n\r\n\r\nWhen I try to read .tfrecords files that are less than 64mb this error does not occur.\r\n\r\nMy code is here:\r\n`        with tf.Session() as sess:\r\n            try:\r\n                feature = {'images': tf.FixedLenFeature([], tf.string),\r\n                           'csv': tf.FixedLenFeature([], tf.string)\r\n                           }\r\n\r\n                filename_queue = tf.train.string_input_producer([data_path], num_epochs=1)\r\n\r\n                reader = tf.TFRecordReader()\r\n\r\n                _, serialized_example = reader.read(filename_queue)\r\n\r\n                features = tf.parse_single_example(serialized_example, features=feature)\r\n\r\n                image_out = tf.decode_raw(features['images'], tf.uint8)\r\n                csv_out = tf.decode_raw(features['csv'], tf.float32)\r\n\r\n                image_out_reshaped = tf.reshape(image_out, [1000, 200, 200, 3])\r\n                csv_out_reshaped = tf.reshape(csv_out, [1000, 6])\r\n\r\n                sess.run(tf.global_variables_initializer())\r\n                sess.run(tf.local_variables_initializer())\r\n\r\n                # Create a coordinator and run all QueueRunner objects\r\n                coord = tf.train.Coordinator()\r\n                threads = tf.train.start_queue_runners(coord=coord)\r\n\r\n                image_dataset, csv_dataset = sess.run([image_out_reshaped, csv_out_reshaped])\r\n\r\n                coord.request_stop()\r\n                coord.join(threads)\r\n`"}