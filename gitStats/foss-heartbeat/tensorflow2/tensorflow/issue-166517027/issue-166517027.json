{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3407", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3407/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3407/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3407/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3407", "id": 166517027, "node_id": "MDU6SXNzdWUxNjY1MTcwMjc=", "number": 3407, "title": "//util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'", "user": {"login": "KangBing", "id": 15979816, "node_id": "MDQ6VXNlcjE1OTc5ODE2", "avatar_url": "https://avatars3.githubusercontent.com/u/15979816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KangBing", "html_url": "https://github.com/KangBing", "followers_url": "https://api.github.com/users/KangBing/followers", "following_url": "https://api.github.com/users/KangBing/following{/other_user}", "gists_url": "https://api.github.com/users/KangBing/gists{/gist_id}", "starred_url": "https://api.github.com/users/KangBing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KangBing/subscriptions", "organizations_url": "https://api.github.com/users/KangBing/orgs", "repos_url": "https://api.github.com/users/KangBing/repos", "events_url": "https://api.github.com/users/KangBing/events{/privacy}", "received_events_url": "https://api.github.com/users/KangBing/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-20T07:42:47Z", "updated_at": "2016-07-21T06:13:50Z", "closed_at": "2016-07-21T06:13:50Z", "author_association": "NONE", "body_html": "<p>I am installing TensorFlow on <strong>Unbutu 12.04</strong> with source code. I can build <code>bazel-bin/tensorflow/cc/tutorials_example_trainer --use_gpu</code> successfully, but where i create pip package, i get the warnning:</p>\n<p>WARNING: /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/protobuf/WORKSPACE:1: Workspace name in /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/protobuf/WORKSPACE (@<strong>main</strong>) does not match the name given in the repository's definition (<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=30293029\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/protobuf\">@protobuf</a>); this will cause a build error in future versions.<br>\nWARNING: /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/re2/WORKSPACE:1: Workspace name in /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/re2/WORKSPACE (@<strong>main</strong>) does not match the name given in the repository's definition (<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23161534\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/re2\">@re2</a>); this will cause a build error in future versions.<br>\nWARNING: /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/highwayhash/WORKSPACE:1: Workspace name in /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/highwayhash/WORKSPACE (@<strong>main</strong>) does not match the name given in the repository's definition (@highwayhash); this will cause a build error in future versions.<br>\nWARNING: /data1/web/soft/tensorflow/tensorflow/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.</p>\n<p>I build failed with error:</p>\n<p>/tensorflow/tensorflow/tensorflow/python/BUILD:87:1: C++ compilation of rule '//tensorflow/python:py_func_lib' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 121 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::{anonymous}::ConvertNdarrayToTensor(PyObject_, tensorflow::Tensor_)':<br>\ntensorflow/python/lib/core/py_func.cc:164:37: error: 'PyArray_SHAPE' was not declared in this scope<br>\nshape.AddDim(PyArray_SHAPE(input)[i]);<br>\n^<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build</p>\n<p>I have run <strong>./configure</strong> like this:</p>\n<p>Please specify the location of python. [Default is /usr/bin/python]:<br>\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n<br>\nNo Google Cloud Platform support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with GPU support? [y/N] y<br>\nGPU support will be enabled for TensorFlow<br>\nPlease specify which gcc nvcc should use as the host compiler. [Default is /usr/bin/gcc]: /usr/bin/gcc-4.9<br>\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 7.0<br>\nPlease specify the location where CUDA 7.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:<br>\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 7.0<br>\nPlease specify the location where cuDNN 7.0 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:<br>\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.<br>\nYou can find the compute capability of your device at: <a href=\"https://developer.nvidia.com/cuda-gpus\" rel=\"nofollow\">https://developer.nvidia.com/cuda-gpus</a>.<br>\nPlease note that each additional compute capability significantly increases your build time and binary size.<br>\n[Default is: \"3.5,5.2\"]:<br>\nSetting up Cuda include<br>\nSetting up Cuda lib64<br>\nSetting up Cuda bin<br>\nSetting up Cuda nvvm<br>\nSetting up CUPTI include<br>\nSetting up CUPTI lib64<br>\nConfiguration finished</p>\n<p>I'm not familiar with bazel, is there any one who can help?</p>", "body_text": "I am installing TensorFlow on Unbutu 12.04 with source code. I can build bazel-bin/tensorflow/cc/tutorials_example_trainer --use_gpu successfully, but where i create pip package, i get the warnning:\nWARNING: /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/protobuf/WORKSPACE:1: Workspace name in /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/protobuf/WORKSPACE (@main) does not match the name given in the repository's definition (@protobuf); this will cause a build error in future versions.\nWARNING: /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/re2/WORKSPACE:1: Workspace name in /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/re2/WORKSPACE (@main) does not match the name given in the repository's definition (@re2); this will cause a build error in future versions.\nWARNING: /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/highwayhash/WORKSPACE:1: Workspace name in /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/highwayhash/WORKSPACE (@main) does not match the name given in the repository's definition (@highwayhash); this will cause a build error in future versions.\nWARNING: /data1/web/soft/tensorflow/tensorflow/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nI build failed with error:\n/tensorflow/tensorflow/tensorflow/python/BUILD:87:1: C++ compilation of rule '//tensorflow/python:py_func_lib' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 121 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::{anonymous}::ConvertNdarrayToTensor(PyObject_, tensorflow::Tensor_)':\ntensorflow/python/lib/core/py_func.cc:164:37: error: 'PyArray_SHAPE' was not declared in this scope\nshape.AddDim(PyArray_SHAPE(input)[i]);\n^\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nI have run ./configure like this:\nPlease specify the location of python. [Default is /usr/bin/python]:\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc nvcc should use as the host compiler. [Default is /usr/bin/gcc]: /usr/bin/gcc-4.9\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 7.0\nPlease specify the location where CUDA 7.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 7.0\nPlease specify the location where cuDNN 7.0 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]:\nSetting up Cuda include\nSetting up Cuda lib64\nSetting up Cuda bin\nSetting up Cuda nvvm\nSetting up CUPTI include\nSetting up CUPTI lib64\nConfiguration finished\nI'm not familiar with bazel, is there any one who can help?", "body": "I am installing TensorFlow on **Unbutu 12.04** with source code. I can build `bazel-bin/tensorflow/cc/tutorials_example_trainer --use_gpu` successfully, but where i create pip package, i get the warnning:\n\nWARNING: /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/protobuf/WORKSPACE:1: Workspace name in /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/protobuf/WORKSPACE (@__main__) does not match the name given in the repository's definition (@protobuf); this will cause a build error in future versions.\nWARNING: /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/re2/WORKSPACE:1: Workspace name in /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/re2/WORKSPACE (@__main__) does not match the name given in the repository's definition (@re2); this will cause a build error in future versions.\nWARNING: /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/highwayhash/WORKSPACE:1: Workspace name in /root/.cache/bazel/_bazel_root/f23957347b508b087abaf4db43031df3/external/highwayhash/WORKSPACE (@__main__) does not match the name given in the repository's definition (@highwayhash); this will cause a build error in future versions.\nWARNING: /data1/web/soft/tensorflow/tensorflow/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\n\nI build failed with error:\n\n/tensorflow/tensorflow/tensorflow/python/BUILD:87:1: C++ compilation of rule '//tensorflow/python:py_func_lib' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 121 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::{anonymous}::ConvertNdarrayToTensor(PyObject_, tensorflow::Tensor_)':\ntensorflow/python/lib/core/py_func.cc:164:37: error: 'PyArray_SHAPE' was not declared in this scope\n     shape.AddDim(PyArray_SHAPE(input)[i]);\n                                     ^\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n\nI have run **./configure** like this:\n\nPlease specify the location of python. [Default is /usr/bin/python]: \nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc nvcc should use as the host compiler. [Default is /usr/bin/gcc]: /usr/bin/gcc-4.9\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 7.0\nPlease specify the location where CUDA 7.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 7.0\nPlease specify the location where cuDNN 7.0 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: \nSetting up Cuda include\nSetting up Cuda lib64\nSetting up Cuda bin\nSetting up Cuda nvvm\nSetting up CUPTI include\nSetting up CUPTI lib64\nConfiguration finished\n\nI'm not familiar with bazel, is there any one who can help?\n"}