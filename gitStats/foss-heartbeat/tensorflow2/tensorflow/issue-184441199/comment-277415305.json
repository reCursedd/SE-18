{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/277415305", "html_url": "https://github.com/tensorflow/tensorflow/issues/5110#issuecomment-277415305", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5110", "id": 277415305, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzQxNTMwNQ==", "user": {"login": "tobegit3hub", "id": 2715000, "node_id": "MDQ6VXNlcjI3MTUwMDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/2715000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobegit3hub", "html_url": "https://github.com/tobegit3hub", "followers_url": "https://api.github.com/users/tobegit3hub/followers", "following_url": "https://api.github.com/users/tobegit3hub/following{/other_user}", "gists_url": "https://api.github.com/users/tobegit3hub/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobegit3hub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobegit3hub/subscriptions", "organizations_url": "https://api.github.com/users/tobegit3hub/orgs", "repos_url": "https://api.github.com/users/tobegit3hub/repos", "events_url": "https://api.github.com/users/tobegit3hub/events{/privacy}", "received_events_url": "https://api.github.com/users/tobegit3hub/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-04T03:29:55Z", "updated_at": "2017-02-04T03:29:55Z", "author_association": "CONTRIBUTOR", "body_html": "<p>There are two problems we need to fix for this code and now it works.</p>\n<p>The placeholder problem is similar to <a href=\"http://stackoverflow.com/questions/38825741/running-distributed-tensorflow-with-invalidargumenterror-you-must-feed-a-value?rq=1\" rel=\"nofollow\">http://stackoverflow.com/questions/38825741/running-distributed-tensorflow-with-invalidargumenterror-you-must-feed-a-value?rq=1</a> . We should not use <code>summary_op</code> in <code>Supervisor</code> when using placeholder(not sure if we need to fix this later). Now it doesn't complain about <code>You must feed a value for placeholder tensor</code> with this code.</p>\n<pre><code>        sv = tf.train.Supervisor(is_chief=(task_type == \"master\"),\n                                 logdir=FLAGS.checkpoint_path,\n                                 init_op=init_op,\n                                 summary_op=None,\n                                 saver=saver,\n                                 global_step=global_step,\n                                 save_model_secs=60)\n</code></pre>\n<p>But I still have the problem about <code>Graph is finalized and cannot be modified</code>. It's related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"187650749\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5439\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5439/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5439\">#5439</a> witch can be fixed by defining <code>exporter</code> and any other <code>op</code> before <code>Supervisor</code>.</p>\n<p>Thanks for the help from Github issues and StackOverflow. Still need to improve the document and example code for any other TensorFlow developers.</p>", "body_text": "There are two problems we need to fix for this code and now it works.\nThe placeholder problem is similar to http://stackoverflow.com/questions/38825741/running-distributed-tensorflow-with-invalidargumenterror-you-must-feed-a-value?rq=1 . We should not use summary_op in Supervisor when using placeholder(not sure if we need to fix this later). Now it doesn't complain about You must feed a value for placeholder tensor with this code.\n        sv = tf.train.Supervisor(is_chief=(task_type == \"master\"),\n                                 logdir=FLAGS.checkpoint_path,\n                                 init_op=init_op,\n                                 summary_op=None,\n                                 saver=saver,\n                                 global_step=global_step,\n                                 save_model_secs=60)\n\nBut I still have the problem about Graph is finalized and cannot be modified. It's related to #5439 witch can be fixed by defining exporter and any other op before Supervisor.\nThanks for the help from Github issues and StackOverflow. Still need to improve the document and example code for any other TensorFlow developers.", "body": "There are two problems we need to fix for this code and now it works.\r\n\r\nThe placeholder problem is similar to http://stackoverflow.com/questions/38825741/running-distributed-tensorflow-with-invalidargumenterror-you-must-feed-a-value?rq=1 . We should not use `summary_op` in `Supervisor` when using placeholder(not sure if we need to fix this later). Now it doesn't complain about `You must feed a value for placeholder tensor` with this code.\r\n\r\n```\r\n        sv = tf.train.Supervisor(is_chief=(task_type == \"master\"),\r\n                                 logdir=FLAGS.checkpoint_path,\r\n                                 init_op=init_op,\r\n                                 summary_op=None,\r\n                                 saver=saver,\r\n                                 global_step=global_step,\r\n                                 save_model_secs=60)\r\n``` \r\n\r\nBut I still have the problem about `Graph is finalized and cannot be modified`. It's related to https://github.com/tensorflow/tensorflow/issues/5439 witch can be fixed by defining `exporter` and any other `op` before `Supervisor`.\r\n\r\nThanks for the help from Github issues and StackOverflow. Still need to improve the document and example code for any other TensorFlow developers.\r\n"}