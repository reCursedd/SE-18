{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/410670722", "html_url": "https://github.com/tensorflow/tensorflow/issues/21221#issuecomment-410670722", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21221", "id": 410670722, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDY3MDcyMg==", "user": {"login": "MaeThird", "id": 14851411, "node_id": "MDQ6VXNlcjE0ODUxNDEx", "avatar_url": "https://avatars2.githubusercontent.com/u/14851411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaeThird", "html_url": "https://github.com/MaeThird", "followers_url": "https://api.github.com/users/MaeThird/followers", "following_url": "https://api.github.com/users/MaeThird/following{/other_user}", "gists_url": "https://api.github.com/users/MaeThird/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaeThird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaeThird/subscriptions", "organizations_url": "https://api.github.com/users/MaeThird/orgs", "repos_url": "https://api.github.com/users/MaeThird/repos", "events_url": "https://api.github.com/users/MaeThird/events{/privacy}", "received_events_url": "https://api.github.com/users/MaeThird/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-06T10:58:08Z", "updated_at": "2018-08-06T10:58:08Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4723042\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/achowdhery\">@achowdhery</a>  By printf the shape,I found some clues.<br>\nwhen import tensorflow model the <strong>tensorflow::Status ConvertCOnvOperator</strong> function will ReorderAxes from AxesOrder::<strong>kHWIO</strong> to AxesOrder::<strong>kOHWI</strong>. In my case :<br>\n<code>BoxPredictor/weights/read with shape: [ 1, 1, 512, 24 ] reorder to shape: [ 24, 1, 1, 512 ] </code><br>\nAt this moment <code>BoxPredictor/weights_quant/FakeQuantWithMinMaxVars </code> <strong>has no shape</strong><br>\nAfter some passes  the <code>BoxPredictor/weights_quant/FakeQuantWithMinMaxVars </code> <strong>has shape: [ 24, 1, 1, 512 ]</strong> This shape is calculated correctly but <strong>the appending reorder changed</strong> it to [512,24,1,1].<br>\n<strong>I mean the later-happened reorder ops  overrode  the previously calculated shape on</strong> <code>BoxPredictor/weights_quant/FakeQuantWithMinMaxVars </code><br>\nI skipped the reorder on <code>BoxPredictor/weights_quant/FakeQuantWithMinMaxVars </code> and strode out.</p>", "body_text": "@achowdhery  By printf the shape,I found some clues.\nwhen import tensorflow model the tensorflow::Status ConvertCOnvOperator function will ReorderAxes from AxesOrder::kHWIO to AxesOrder::kOHWI. In my case :\nBoxPredictor/weights/read with shape: [ 1, 1, 512, 24 ] reorder to shape: [ 24, 1, 1, 512 ] \nAt this moment BoxPredictor/weights_quant/FakeQuantWithMinMaxVars  has no shape\nAfter some passes  the BoxPredictor/weights_quant/FakeQuantWithMinMaxVars  has shape: [ 24, 1, 1, 512 ] This shape is calculated correctly but the appending reorder changed it to [512,24,1,1].\nI mean the later-happened reorder ops  overrode  the previously calculated shape on BoxPredictor/weights_quant/FakeQuantWithMinMaxVars \nI skipped the reorder on BoxPredictor/weights_quant/FakeQuantWithMinMaxVars  and strode out.", "body": "@achowdhery  By printf the shape,I found some clues.\r\nwhen import tensorflow model the **tensorflow::Status ConvertCOnvOperator** function will ReorderAxes from AxesOrder::**kHWIO** to AxesOrder::**kOHWI**. In my case :\r\n`BoxPredictor/weights/read with shape: [ 1, 1, 512, 24 ] reorder to shape: [ 24, 1, 1, 512 ] `\r\nAt this moment `BoxPredictor/weights_quant/FakeQuantWithMinMaxVars ` **has no shape**\r\nAfter some passes  the `BoxPredictor/weights_quant/FakeQuantWithMinMaxVars ` **has shape: [ 24, 1, 1, 512 ]** This shape is calculated correctly but **the appending reorder changed** it to [512,24,1,1].\r\n**I mean the later-happened reorder ops  overrode  the previously calculated shape on** `BoxPredictor/weights_quant/FakeQuantWithMinMaxVars ` \r\nI skipped the reorder on `BoxPredictor/weights_quant/FakeQuantWithMinMaxVars ` and strode out.\r\n\r\n"}