{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15424", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15424/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15424/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15424/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15424", "id": 282682025, "node_id": "MDU6SXNzdWUyODI2ODIwMjU=", "number": 15424, "title": "\"Not a valid TensorFlow Graph serialization\" at org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph.loadGraph", "user": {"login": "acappemin", "id": 30850977, "node_id": "MDQ6VXNlcjMwODUwOTc3", "avatar_url": "https://avatars0.githubusercontent.com/u/30850977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acappemin", "html_url": "https://github.com/acappemin", "followers_url": "https://api.github.com/users/acappemin/followers", "following_url": "https://api.github.com/users/acappemin/following{/other_user}", "gists_url": "https://api.github.com/users/acappemin/gists{/gist_id}", "starred_url": "https://api.github.com/users/acappemin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acappemin/subscriptions", "organizations_url": "https://api.github.com/users/acappemin/orgs", "repos_url": "https://api.github.com/users/acappemin/repos", "events_url": "https://api.github.com/users/acappemin/events{/privacy}", "received_events_url": "https://api.github.com/users/acappemin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-17T09:45:49Z", "updated_at": "2017-12-18T01:35:20Z", "closed_at": "2017-12-18T01:35:20Z", "author_association": "NONE", "body_html": "<p>Hi,<br>\nI build libtensorflow_inference.so &amp; libandroid_tensorflow_inference_java.jar from source, then use them in an android studio project. But when I run<br>\nTensorFlowInferenceInterface tflite = new TensorFlowInferenceInterface(assetManager, MODEL_PATH);<br>\nthe program always crashes and prints<br>\n\"<br>\nCaused by: java.io.IOException: Not a valid TensorFlow Graph serialization: Invalid GraphDef<br>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:551)<br>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:105)<br>\n......<br>\n\"<br>\nThe tflite file in MODEL_PATH is generated successfully by bazel toco from a model graph, and the tflite file is successfully read into byte array. Are there any special restrictions on the graph? What are the possible reasons why function TensorFlowInferenceInterface.loadGraph() throws an Exception?</p>\n<p>Thanks a lot.</p>", "body_text": "Hi,\nI build libtensorflow_inference.so & libandroid_tensorflow_inference_java.jar from source, then use them in an android studio project. But when I run\nTensorFlowInferenceInterface tflite = new TensorFlowInferenceInterface(assetManager, MODEL_PATH);\nthe program always crashes and prints\n\"\nCaused by: java.io.IOException: Not a valid TensorFlow Graph serialization: Invalid GraphDef\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:551)\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:105)\n......\n\"\nThe tflite file in MODEL_PATH is generated successfully by bazel toco from a model graph, and the tflite file is successfully read into byte array. Are there any special restrictions on the graph? What are the possible reasons why function TensorFlowInferenceInterface.loadGraph() throws an Exception?\nThanks a lot.", "body": "Hi,\r\nI build libtensorflow_inference.so & libandroid_tensorflow_inference_java.jar from source, then use them in an android studio project. But when I run\r\nTensorFlowInferenceInterface tflite = new TensorFlowInferenceInterface(assetManager, MODEL_PATH);\r\nthe program always crashes and prints\r\n\"\r\nCaused by: java.io.IOException: Not a valid TensorFlow Graph serialization: Invalid GraphDef\r\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:551)\r\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.<init>(TensorFlowInferenceInterface.java:105)\r\n......\r\n\"\r\nThe tflite file in MODEL_PATH is generated successfully by bazel toco from a model graph, and the tflite file is successfully read into byte array. Are there any special restrictions on the graph? What are the possible reasons why function TensorFlowInferenceInterface.loadGraph() throws an Exception?\r\n\r\nThanks a lot."}