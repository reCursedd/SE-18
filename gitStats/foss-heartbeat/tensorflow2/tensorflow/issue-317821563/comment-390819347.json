{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/390819347", "html_url": "https://github.com/tensorflow/tensorflow/issues/18880#issuecomment-390819347", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18880", "id": 390819347, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDgxOTM0Nw==", "user": {"login": "ajbouh", "id": 7325, "node_id": "MDQ6VXNlcjczMjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajbouh", "html_url": "https://github.com/ajbouh", "followers_url": "https://api.github.com/users/ajbouh/followers", "following_url": "https://api.github.com/users/ajbouh/following{/other_user}", "gists_url": "https://api.github.com/users/ajbouh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajbouh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajbouh/subscriptions", "organizations_url": "https://api.github.com/users/ajbouh/orgs", "repos_url": "https://api.github.com/users/ajbouh/repos", "events_url": "https://api.github.com/users/ajbouh/events{/privacy}", "received_events_url": "https://api.github.com/users/ajbouh/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-21T23:50:50Z", "updated_at": "2018-05-21T23:50:50Z", "author_association": "NONE", "body_html": "<div class=\"email-fragment\">Perhaps a simple solution would be to actually only bring up the parts of\nthe session state that are stateful and affected by the failed worker?\n\nWe can see the subgraph of stateful/nonstateful operations pretty plainly\nin the graphdef. Perhaps there's a simple type of op we can introduce that\nreturns true or false if running on a replaced worker or not. Combining\nthis with a cond operator and some graph rewriting should be enough to\n\"automatically\" handle failures with the least disruption possible.\n\nDo I have that right?</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Mon, May 21, 2018, 14:30 make1980 ***@***.***&gt; wrote:\n <a class=\"user-mention\" href=\"https://github.com/ajbouh\">@ajbouh</a> &lt;<a href=\"https://github.com/ajbouh\">https://github.com/ajbouh</a>&gt;, thanks for your suggestion. I took a\n look at the DNS srv records and I agree that this can be used to solve some\n of the problems we're facing together with cluster resolver. I think the\n difference between dynamic RCP address resolution and cluster spec\n propagation is really around when the address translation happens instead\n of how the address is translated - whether through DNS or not we can do it\n in both approaches. For example, we can implement an RPC address resolver\n using DNS srv record as well.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"317821563\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/18880\" href=\"https://github.com/tensorflow/tensorflow/issues/18880#issuecomment-390788015\">#18880 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AAAcnY9fwNmSOkrelFFFo89FKN1ys4J3ks5t0zH9gaJpZM4TkRsG\">https://github.com/notifications/unsubscribe-auth/AAAcnY9fwNmSOkrelFFFo89FKN1ys4J3ks5t0zH9gaJpZM4TkRsG</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "Perhaps a simple solution would be to actually only bring up the parts of\nthe session state that are stateful and affected by the failed worker?\n\nWe can see the subgraph of stateful/nonstateful operations pretty plainly\nin the graphdef. Perhaps there's a simple type of op we can introduce that\nreturns true or false if running on a replaced worker or not. Combining\nthis with a cond operator and some graph rewriting should be enough to\n\"automatically\" handle failures with the least disruption possible.\n\nDo I have that right?\n\u2026\nOn Mon, May 21, 2018, 14:30 make1980 ***@***.***> wrote:\n @ajbouh <https://github.com/ajbouh>, thanks for your suggestion. I took a\n look at the DNS srv records and I agree that this can be used to solve some\n of the problems we're facing together with cluster resolver. I think the\n difference between dynamic RCP address resolution and cluster spec\n propagation is really around when the address translation happens instead\n of how the address is translated - whether through DNS or not we can do it\n in both approaches. For example, we can implement an RPC address resolver\n using DNS srv record as well.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#18880 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/AAAcnY9fwNmSOkrelFFFo89FKN1ys4J3ks5t0zH9gaJpZM4TkRsG>\n .", "body": "Perhaps a simple solution would be to actually only bring up the parts of\nthe session state that are stateful and affected by the failed worker?\n\nWe can see the subgraph of stateful/nonstateful operations pretty plainly\nin the graphdef. Perhaps there's a simple type of op we can introduce that\nreturns true or false if running on a replaced worker or not. Combining\nthis with a cond operator and some graph rewriting should be enough to\n\"automatically\" handle failures with the least disruption possible.\n\nDo I have that right?\n\nOn Mon, May 21, 2018, 14:30 make1980 <notifications@github.com> wrote:\n\n> @ajbouh <https://github.com/ajbouh>, thanks for your suggestion. I took a\n> look at the DNS srv records and I agree that this can be used to solve some\n> of the problems we're facing together with cluster resolver. I think the\n> difference between dynamic RCP address resolution and cluster spec\n> propagation is really around when the address translation happens instead\n> of how the address is translated - whether through DNS or not we can do it\n> in both approaches. For example, we can implement an RPC address resolver\n> using DNS srv record as well.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/18880#issuecomment-390788015>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAcnY9fwNmSOkrelFFFo89FKN1ys4J3ks5t0zH9gaJpZM4TkRsG>\n> .\n>\n"}