{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/352267715", "html_url": "https://github.com/tensorflow/tensorflow/issues/15288#issuecomment-352267715", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15288", "id": 352267715, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI2NzcxNQ==", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-17T16:30:23Z", "updated_at": "2017-12-17T16:30:23Z", "author_association": "NONE", "body_html": "<p>Thank you!! Good to know. When we run that code on our GPU, we get quite similar results (pasted below).</p>\n<p>Our initial results still seem a bit odd to me, I guess, since in some cases you may need to get data from the CPU to the GPU, and it's odd that it takes so much longer for eager mode, and it's also odd that it is initially very fast for eager mode but then slows down?</p>\n<p>Results with your code:<br>\nOne warmup run to account for GPU initialization<br>\n2017-12-17 08:27:21.289886: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA<br>\n2017-12-17 08:27:21.720501: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1062] Found device 0 with properties:<br>\nname: TITAN Xp major: 6 minor: 1 memoryClockRate(GHz): 1.582<br>\npciBusID: 0000:82:00.0<br>\ntotalMemory: 11.90GiB freeMemory: 11.74GiB<br>\n2017-12-17 08:27:21.720605: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1152] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: TITAN Xp, pci bus id: 0000:82:00.0, compute capability: 6.1)<br>\nSize:  (10, 10)<br>\nRuntime is 0.59110<br>\nRuntime is 0.00020<br>\nRuntime is 0.00009<br>\nRuntime is 0.00009<br>\nRuntime is 0.00008<br>\nSize:  (500, 500)<br>\nRuntime is 0.00014<br>\nRuntime is 0.00009<br>\nRuntime is 0.00009<br>\nRuntime is 0.00009<br>\nRuntime is 0.00008<br>\nSize:  (1000, 1000)<br>\nRuntime is 0.00014<br>\nRuntime is 0.00011<br>\nRuntime is 0.00010<br>\nRuntime is 0.00010<br>\nRuntime is 0.00010<br>\nSize:  (2000, 2000)<br>\nRuntime is 0.00010<br>\nRuntime is 0.00009<br>\nRuntime is 0.00009<br>\nRuntime is 0.00009<br>\nRuntime is 0.00009<br>\nSize:  (5000, 5000)<br>\nRuntime is 0.00010<br>\nRuntime is 0.00009<br>\nRuntime is 0.00009<br>\nRuntime is 0.00009<br>\nRuntime is 0.00009<br>\nSize:  (10000, 10000)<br>\nRuntime is 0.00010<br>\nRuntime is 0.00009<br>\nRuntime is 0.00009<br>\nRuntime is 0.00008<br>\nRuntime is 0.00008</p>", "body_text": "Thank you!! Good to know. When we run that code on our GPU, we get quite similar results (pasted below).\nOur initial results still seem a bit odd to me, I guess, since in some cases you may need to get data from the CPU to the GPU, and it's odd that it takes so much longer for eager mode, and it's also odd that it is initially very fast for eager mode but then slows down?\nResults with your code:\nOne warmup run to account for GPU initialization\n2017-12-17 08:27:21.289886: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\n2017-12-17 08:27:21.720501: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1062] Found device 0 with properties:\nname: TITAN Xp major: 6 minor: 1 memoryClockRate(GHz): 1.582\npciBusID: 0000:82:00.0\ntotalMemory: 11.90GiB freeMemory: 11.74GiB\n2017-12-17 08:27:21.720605: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1152] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: TITAN Xp, pci bus id: 0000:82:00.0, compute capability: 6.1)\nSize:  (10, 10)\nRuntime is 0.59110\nRuntime is 0.00020\nRuntime is 0.00009\nRuntime is 0.00009\nRuntime is 0.00008\nSize:  (500, 500)\nRuntime is 0.00014\nRuntime is 0.00009\nRuntime is 0.00009\nRuntime is 0.00009\nRuntime is 0.00008\nSize:  (1000, 1000)\nRuntime is 0.00014\nRuntime is 0.00011\nRuntime is 0.00010\nRuntime is 0.00010\nRuntime is 0.00010\nSize:  (2000, 2000)\nRuntime is 0.00010\nRuntime is 0.00009\nRuntime is 0.00009\nRuntime is 0.00009\nRuntime is 0.00009\nSize:  (5000, 5000)\nRuntime is 0.00010\nRuntime is 0.00009\nRuntime is 0.00009\nRuntime is 0.00009\nRuntime is 0.00009\nSize:  (10000, 10000)\nRuntime is 0.00010\nRuntime is 0.00009\nRuntime is 0.00009\nRuntime is 0.00008\nRuntime is 0.00008", "body": "Thank you!! Good to know. When we run that code on our GPU, we get quite similar results (pasted below). \r\n\r\nOur initial results still seem a bit odd to me, I guess, since in some cases you may need to get data from the CPU to the GPU, and it's odd that it takes so much longer for eager mode, and it's also odd that it is initially very fast for eager mode but then slows down? \r\n\r\nResults with your code: \r\nOne warmup run to account for GPU initialization\r\n2017-12-17 08:27:21.289886: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\r\n2017-12-17 08:27:21.720501: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1062] Found device 0 with properties:\r\nname: TITAN Xp major: 6 minor: 1 memoryClockRate(GHz): 1.582\r\npciBusID: 0000:82:00.0\r\ntotalMemory: 11.90GiB freeMemory: 11.74GiB\r\n2017-12-17 08:27:21.720605: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1152] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: TITAN Xp, pci bus id: 0000:82:00.0, compute capability: 6.1)\r\nSize:  (10, 10)\r\nRuntime is 0.59110\r\nRuntime is 0.00020\r\nRuntime is 0.00009\r\nRuntime is 0.00009\r\nRuntime is 0.00008\r\nSize:  (500, 500)\r\nRuntime is 0.00014\r\nRuntime is 0.00009\r\nRuntime is 0.00009\r\nRuntime is 0.00009\r\nRuntime is 0.00008\r\nSize:  (1000, 1000)\r\nRuntime is 0.00014\r\nRuntime is 0.00011\r\nRuntime is 0.00010\r\nRuntime is 0.00010\r\nRuntime is 0.00010\r\nSize:  (2000, 2000)\r\nRuntime is 0.00010\r\nRuntime is 0.00009\r\nRuntime is 0.00009\r\nRuntime is 0.00009\r\nRuntime is 0.00009\r\nSize:  (5000, 5000)\r\nRuntime is 0.00010\r\nRuntime is 0.00009\r\nRuntime is 0.00009\r\nRuntime is 0.00009\r\nRuntime is 0.00009\r\nSize:  (10000, 10000)\r\nRuntime is 0.00010\r\nRuntime is 0.00009\r\nRuntime is 0.00009\r\nRuntime is 0.00008\r\nRuntime is 0.00008"}