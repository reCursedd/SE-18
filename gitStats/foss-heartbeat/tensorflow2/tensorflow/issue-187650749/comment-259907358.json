{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/259907358", "html_url": "https://github.com/tensorflow/tensorflow/issues/5439#issuecomment-259907358", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5439", "id": 259907358, "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTkwNzM1OA==", "user": {"login": "jinhou", "id": 7037235, "node_id": "MDQ6VXNlcjcwMzcyMzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/7037235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jinhou", "html_url": "https://github.com/jinhou", "followers_url": "https://api.github.com/users/jinhou/followers", "following_url": "https://api.github.com/users/jinhou/following{/other_user}", "gists_url": "https://api.github.com/users/jinhou/gists{/gist_id}", "starred_url": "https://api.github.com/users/jinhou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jinhou/subscriptions", "organizations_url": "https://api.github.com/users/jinhou/orgs", "repos_url": "https://api.github.com/users/jinhou/repos", "events_url": "https://api.github.com/users/jinhou/events{/privacy}", "received_events_url": "https://api.github.com/users/jinhou/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-11T08:33:21Z", "updated_at": "2016-11-11T08:35:01Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> Thanks for the suggestion. I tried your method, I could put the clause <code>model_exporter = exporter.Exporter(saver)</code> before <code>Supervisor</code> as your guiding, however, I can't put <code>model_exporter.init</code> clause before <code>Supervisor</code>, because it need <code>sess = sv.prepare_or_wait_for_session(target, config=sess_config)</code> as one of the input parameters. So I put this clause after <code>Supervisor</code>. Then it still said I couldn't modify the graph for the clause <code>model_exporter.init</code>. Furthermore, I don't understand why this clause modify the graph?</p>\n<p>Below is the details of my model export initialization:</p>\n<pre><code>  signature = exporter.generic_signature({\"Reshape_2:0\":i_indices_reshape,\n                                          \"Reshape_3:0\":i_values,\n                                          \"Cast_1:0\":i_shape,\n                                          \"Reshape_1:0\":indices_shape,\n                                          \"softmax_linear/add:0\":logits})\n  model_exporter.init(sess.graph.as_graph_def(),\n                      default_graph_signature=signature)\n</code></pre>", "body_text": "@mrry Thanks for the suggestion. I tried your method, I could put the clause model_exporter = exporter.Exporter(saver) before Supervisor as your guiding, however, I can't put model_exporter.init clause before Supervisor, because it need sess = sv.prepare_or_wait_for_session(target, config=sess_config) as one of the input parameters. So I put this clause after Supervisor. Then it still said I couldn't modify the graph for the clause model_exporter.init. Furthermore, I don't understand why this clause modify the graph?\nBelow is the details of my model export initialization:\n  signature = exporter.generic_signature({\"Reshape_2:0\":i_indices_reshape,\n                                          \"Reshape_3:0\":i_values,\n                                          \"Cast_1:0\":i_shape,\n                                          \"Reshape_1:0\":indices_shape,\n                                          \"softmax_linear/add:0\":logits})\n  model_exporter.init(sess.graph.as_graph_def(),\n                      default_graph_signature=signature)", "body": "@mrry Thanks for the suggestion. I tried your method, I could put the clause `model_exporter = exporter.Exporter(saver)` before `Supervisor` as your guiding, however, I can't put `model_exporter.init` clause before `Supervisor`, because it need `sess = sv.prepare_or_wait_for_session(target, config=sess_config)` as one of the input parameters. So I put this clause after `Supervisor`. Then it still said I couldn't modify the graph for the clause `model_exporter.init`. Furthermore, I don't understand why this clause modify the graph? \n\nBelow is the details of my model export initialization:\n\n```\n  signature = exporter.generic_signature({\"Reshape_2:0\":i_indices_reshape,\n                                          \"Reshape_3:0\":i_values,\n                                          \"Cast_1:0\":i_shape,\n                                          \"Reshape_1:0\":indices_shape,\n                                          \"softmax_linear/add:0\":logits})\n  model_exporter.init(sess.graph.as_graph_def(),\n                      default_graph_signature=signature)\n```\n"}