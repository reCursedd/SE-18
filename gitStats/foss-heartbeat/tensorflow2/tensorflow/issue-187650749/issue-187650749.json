{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5439", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5439/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5439/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5439/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5439", "id": 187650749, "node_id": "MDU6SXNzdWUxODc2NTA3NDk=", "number": 5439, "title": "Fail to export model with exporter with distributed session", "user": {"login": "jinhou", "id": 7037235, "node_id": "MDQ6VXNlcjcwMzcyMzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/7037235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jinhou", "html_url": "https://github.com/jinhou", "followers_url": "https://api.github.com/users/jinhou/followers", "following_url": "https://api.github.com/users/jinhou/following{/other_user}", "gists_url": "https://api.github.com/users/jinhou/gists{/gist_id}", "starred_url": "https://api.github.com/users/jinhou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jinhou/subscriptions", "organizations_url": "https://api.github.com/users/jinhou/orgs", "repos_url": "https://api.github.com/users/jinhou/repos", "events_url": "https://api.github.com/users/jinhou/events{/privacy}", "received_events_url": "https://api.github.com/users/jinhou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2016-11-07T08:26:32Z", "updated_at": "2018-01-24T04:28:50Z", "closed_at": "2016-11-27T21:06:35Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>I met an issue as follow when I was trying to export the model with distributed session,</p>\n<p>Do you have any idea about how to fix this issue. Thanks</p>\n<p>Exporting trained model to./model/<br>\nTraceback (most recent call last):<br>\nFile \"dnn_train.py\", line 399, in <br>\ntf.app.run()<br>\nFile \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 32, in run<br>\nsys.exit(main(sys.argv[:1] + flags_passthrough))<br>\nFile \"dnn_train.py\", line 396, in main<br>\nrun_training(server.target, cluster_spec)<br>\nFile \"dnn_train.py\", line 318, in run_training<br>\ndefault_graph_signature=signature)<br>\nFile \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/contrib/session_bundle/exporter.py\", line 198, in init<br>\nops.add_to_collection(constants.GRAPH_KEY, graph_any_buf)<br>\nFile \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 4073, in add_to_collection<br>\nget_default_graph().add_to_collection(name, value)<br>\nFile \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2689, in add_to_collection<br>\nself._check_not_finalized()<br>\nFile \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2088, in _check_not_finalized<br>\nraise RuntimeError(\"Graph is finalized and cannot be modified.\")<br>\nRuntimeError: Graph is finalized and cannot be modified.</p>", "body_text": "Hi,\nI met an issue as follow when I was trying to export the model with distributed session,\nDo you have any idea about how to fix this issue. Thanks\nExporting trained model to./model/\nTraceback (most recent call last):\nFile \"dnn_train.py\", line 399, in \ntf.app.run()\nFile \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 32, in run\nsys.exit(main(sys.argv[:1] + flags_passthrough))\nFile \"dnn_train.py\", line 396, in main\nrun_training(server.target, cluster_spec)\nFile \"dnn_train.py\", line 318, in run_training\ndefault_graph_signature=signature)\nFile \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/contrib/session_bundle/exporter.py\", line 198, in init\nops.add_to_collection(constants.GRAPH_KEY, graph_any_buf)\nFile \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 4073, in add_to_collection\nget_default_graph().add_to_collection(name, value)\nFile \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2689, in add_to_collection\nself._check_not_finalized()\nFile \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2088, in _check_not_finalized\nraise RuntimeError(\"Graph is finalized and cannot be modified.\")\nRuntimeError: Graph is finalized and cannot be modified.", "body": "Hi,\r\n\r\nI met an issue as follow when I was trying to export the model with distributed session,\r\n\r\nDo you have any idea about how to fix this issue. Thanks\r\n\r\nExporting trained model to./model/\r\nTraceback (most recent call last):\r\n  File \"dnn_train.py\", line 399, in <module>\r\n    tf.app.run()\r\n  File \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 32, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"dnn_train.py\", line 396, in main\r\n    run_training(server.target, cluster_spec)\r\n  File \"dnn_train.py\", line 318, in run_training\r\n    default_graph_signature=signature)\r\n  File \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/contrib/session_bundle/exporter.py\", line 198, in init\r\n    ops.add_to_collection(constants.GRAPH_KEY, graph_any_buf)\r\n  File \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 4073, in add_to_collection\r\n    get_default_graph().add_to_collection(name, value)\r\n  File \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2689, in add_to_collection\r\n    self._check_not_finalized()\r\n  File \"/gruntdata/DL_dataset/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2088, in _check_not_finalized\r\n    raise RuntimeError(\"Graph is finalized and cannot be modified.\")\r\nRuntimeError: Graph is finalized and cannot be modified.\r\n"}