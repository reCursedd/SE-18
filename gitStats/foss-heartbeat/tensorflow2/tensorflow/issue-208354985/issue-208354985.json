{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7613", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7613/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7613/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7613/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7613", "id": 208354985, "node_id": "MDU6SXNzdWUyMDgzNTQ5ODU=", "number": 7613, "title": "build failed", "user": {"login": "markkm", "id": 16122907, "node_id": "MDQ6VXNlcjE2MTIyOTA3", "avatar_url": "https://avatars2.githubusercontent.com/u/16122907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markkm", "html_url": "https://github.com/markkm", "followers_url": "https://api.github.com/users/markkm/followers", "following_url": "https://api.github.com/users/markkm/following{/other_user}", "gists_url": "https://api.github.com/users/markkm/gists{/gist_id}", "starred_url": "https://api.github.com/users/markkm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markkm/subscriptions", "organizations_url": "https://api.github.com/users/markkm/orgs", "repos_url": "https://api.github.com/users/markkm/repos", "events_url": "https://api.github.com/users/markkm/events{/privacy}", "received_events_url": "https://api.github.com/users/markkm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-17T07:03:09Z", "updated_at": "2017-02-19T12:21:22Z", "closed_at": "2017-02-19T12:21:10Z", "author_association": "NONE", "body_html": "<p>Build fails with</p>\n<pre><code>bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>but succeeds with</p>\n<pre><code>bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>I have used the following configurations:</p>\n<pre><code>Please specify the location of python: /home/mark/.pyenv/shims/python\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified: -march=native\nDo you wish to use jemalloc as the malloc implementation? y\nDo you wish to build TensorFlow with Google Cloud Platform support? n\nDo you wish to build TensorFlow with Hadoop File System support? y\nDo you wish to build TensorFlow with CUDA support? y\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? n\nPlease input the desired Python library path to use: /home/mark/.pyenv/versions/3.6.0/lib/python3.6/site-packages\nDo you wish to build TensorFlow with OpenCL support? n\nDo you wish to build TensorFlow with CUDA support? y\nPlease specify which gcc should be used by nvcc as the host compiler: /usr/bin/gcc-5\nPlease specify the CUDA SDK version you want to use: 8.0\nPlease specify the location where CUDA 8.0 toolkit is installed: /usr/local/cuda\nPlease specify the Cudnn version you want to use: 5.1.10\nPlease specify the location where cuDNN 5.1.10 library is installed: /usr/local/cuda\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with: 6.1\n</code></pre>\n<p>on the following system:</p>\n<ul>\n<li><strong>Operating System</strong>: Debian Sid</li>\n<li><strong>Installed version of CUDA and cuDNN</strong>:</li>\n</ul>\n<pre><code>ls -l /usr/local/cuda/lib64/libcud*\n\n-rw-r--r-- 1 root staff   556000 Feb 16 23:37 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root staff       16 Feb 16 23:37 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.8.0\nlrwxrwxrwx 1 root staff       19 Feb 16 23:37 /usr/local/cuda/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.61\n-rwxr-xr-x 1 root staff   415432 Feb 16 23:37 /usr/local/cuda/lib64/libcudart.so.8.0.61\n-rw-r--r-- 1 root staff   775162 Feb 16 23:37 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 mark mark        13 Nov  7 02:00 /usr/local/cuda/lib64/libcudnn.so -&gt; libcudnn.so.5\nlrwxrwxrwx 1 mark mark        18 Nov  7 02:00 /usr/local/cuda/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.1.10\n-rwxr-xr-x 1 mark mark  84163560 Nov  7 01:47 /usr/local/cuda/lib64/libcudnn.so.5.1.10\n-rw-r--r-- 1 mark mark  70364814 Nov  7 01:47 /usr/local/cuda/lib64/libcudnn_static.a\n</code></pre>\n<ul>\n<li><strong>The commit hash (<code>git rev-parse HEAD</code>)</strong>: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/b6f16b8166e3a7761f607be66d46acbd37dfaf43/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/b6f16b8166e3a7761f607be66d46acbd37dfaf43\"><tt>b6f16b8</tt></a></li>\n<li><strong>The output of <code>bazel version</code></strong>:</li>\n</ul>\n<p>the build command</p>\n<pre><code>bazel build -c opt --verbose_failures --config=cuda //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>fails with the following error message:</p>\n<pre><code>WARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.build/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nINFO: Found 1 target...\nERROR: /home/mark/.cache/bazel/_bazel_mark/b8826e9bec4f8f69428cde0a6fac46ac/external/com_googlesource_code_re2/BUILD:11:1: C++ compilation of rule '@com_googlesource_code_re2//:re2' failed: crosstool_wrapper_driver_is_not_gcc failed:error executing command\n  (cd /home/mark/.cache/bazel/_bazel_mark/b8826e9bec4f8f69428cde0a6fac46ac/execroot/tensorflow &amp;&amp; \\\n  exec env - \\\n    PATH=/home/mark/bin:/home/mark/.pyenv/shims:/home/mark/.pyenv/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/home/mark/bin:/usr/local/scala/bin:/usr/local/go/bin:/srv/hadoop/bin \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -MD -MF bazel-out/host/bin/external/com_googlesource_code_re2/_objs/re2/external/com_googlesource_code_re2/re2/prefilter_tree.d '-frandom-seed=bazel-out/host/bin/external/com_googlesource_code_re2/_objs/re2/external/com_googlesource_code_re2/re2/prefilter_tree.o' -iquote external/com_googlesource_code_re2 -iquote bazel-out/host/genfiles/external/com_googlesource_code_re2 -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -pthread -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/com_googlesource_code_re2/re2/prefilter_tree.cc -o bazel-out/host/bin/external/com_googlesource_code_re2/_objs/re2/external/com_googlesource_code_re2/re2/prefilter_tree.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ngcc-5: error trying to exec 'cc1plus': execvp: No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n</code></pre>\n<p>How should I proceed from here? Any tip would be appreciated.</p>", "body_text": "Build fails with\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nbut succeeds with\nbazel build -c opt //tensorflow/tools/pip_package:build_pip_package\n\nI have used the following configurations:\nPlease specify the location of python: /home/mark/.pyenv/shims/python\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified: -march=native\nDo you wish to use jemalloc as the malloc implementation? y\nDo you wish to build TensorFlow with Google Cloud Platform support? n\nDo you wish to build TensorFlow with Hadoop File System support? y\nDo you wish to build TensorFlow with CUDA support? y\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? n\nPlease input the desired Python library path to use: /home/mark/.pyenv/versions/3.6.0/lib/python3.6/site-packages\nDo you wish to build TensorFlow with OpenCL support? n\nDo you wish to build TensorFlow with CUDA support? y\nPlease specify which gcc should be used by nvcc as the host compiler: /usr/bin/gcc-5\nPlease specify the CUDA SDK version you want to use: 8.0\nPlease specify the location where CUDA 8.0 toolkit is installed: /usr/local/cuda\nPlease specify the Cudnn version you want to use: 5.1.10\nPlease specify the location where cuDNN 5.1.10 library is installed: /usr/local/cuda\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with: 6.1\n\non the following system:\n\nOperating System: Debian Sid\nInstalled version of CUDA and cuDNN:\n\nls -l /usr/local/cuda/lib64/libcud*\n\n-rw-r--r-- 1 root staff   556000 Feb 16 23:37 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root staff       16 Feb 16 23:37 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root staff       19 Feb 16 23:37 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.61\n-rwxr-xr-x 1 root staff   415432 Feb 16 23:37 /usr/local/cuda/lib64/libcudart.so.8.0.61\n-rw-r--r-- 1 root staff   775162 Feb 16 23:37 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 mark mark        13 Nov  7 02:00 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 mark mark        18 Nov  7 02:00 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.10\n-rwxr-xr-x 1 mark mark  84163560 Nov  7 01:47 /usr/local/cuda/lib64/libcudnn.so.5.1.10\n-rw-r--r-- 1 mark mark  70364814 Nov  7 01:47 /usr/local/cuda/lib64/libcudnn_static.a\n\n\nThe commit hash (git rev-parse HEAD): b6f16b8\nThe output of bazel version:\n\nthe build command\nbazel build -c opt --verbose_failures --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nfails with the following error message:\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.build/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nINFO: Found 1 target...\nERROR: /home/mark/.cache/bazel/_bazel_mark/b8826e9bec4f8f69428cde0a6fac46ac/external/com_googlesource_code_re2/BUILD:11:1: C++ compilation of rule '@com_googlesource_code_re2//:re2' failed: crosstool_wrapper_driver_is_not_gcc failed:error executing command\n  (cd /home/mark/.cache/bazel/_bazel_mark/b8826e9bec4f8f69428cde0a6fac46ac/execroot/tensorflow && \\\n  exec env - \\\n    PATH=/home/mark/bin:/home/mark/.pyenv/shims:/home/mark/.pyenv/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/home/mark/bin:/usr/local/scala/bin:/usr/local/go/bin:/srv/hadoop/bin \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -MD -MF bazel-out/host/bin/external/com_googlesource_code_re2/_objs/re2/external/com_googlesource_code_re2/re2/prefilter_tree.d '-frandom-seed=bazel-out/host/bin/external/com_googlesource_code_re2/_objs/re2/external/com_googlesource_code_re2/re2/prefilter_tree.o' -iquote external/com_googlesource_code_re2 -iquote bazel-out/host/genfiles/external/com_googlesource_code_re2 -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -pthread -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/com_googlesource_code_re2/re2/prefilter_tree.cc -o bazel-out/host/bin/external/com_googlesource_code_re2/_objs/re2/external/com_googlesource_code_re2/re2/prefilter_tree.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ngcc-5: error trying to exec 'cc1plus': execvp: No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n\nHow should I proceed from here? Any tip would be appreciated.", "body": "Build fails with\r\n```\r\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n```\r\nbut succeeds with\r\n```\r\nbazel build -c opt //tensorflow/tools/pip_package:build_pip_package\r\n```\r\n\r\nI have used the following configurations:\r\n```\r\nPlease specify the location of python: /home/mark/.pyenv/shims/python\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified: -march=native\r\nDo you wish to use jemalloc as the malloc implementation? y\r\nDo you wish to build TensorFlow with Google Cloud Platform support? n\r\nDo you wish to build TensorFlow with Hadoop File System support? y\r\nDo you wish to build TensorFlow with CUDA support? y\r\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? n\r\nPlease input the desired Python library path to use: /home/mark/.pyenv/versions/3.6.0/lib/python3.6/site-packages\r\nDo you wish to build TensorFlow with OpenCL support? n\r\nDo you wish to build TensorFlow with CUDA support? y\r\nPlease specify which gcc should be used by nvcc as the host compiler: /usr/bin/gcc-5\r\nPlease specify the CUDA SDK version you want to use: 8.0\r\nPlease specify the location where CUDA 8.0 toolkit is installed: /usr/local/cuda\r\nPlease specify the Cudnn version you want to use: 5.1.10\r\nPlease specify the location where cuDNN 5.1.10 library is installed: /usr/local/cuda\r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with: 6.1\r\n```\r\n\r\non the following system:\r\n\r\n- **Operating System**: Debian Sid\r\n- **Installed version of CUDA and cuDNN**: \r\n```\r\nls -l /usr/local/cuda/lib64/libcud*\r\n\r\n-rw-r--r-- 1 root staff   556000 Feb 16 23:37 /usr/local/cuda/lib64/libcudadevrt.a\r\nlrwxrwxrwx 1 root staff       16 Feb 16 23:37 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\r\nlrwxrwxrwx 1 root staff       19 Feb 16 23:37 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.61\r\n-rwxr-xr-x 1 root staff   415432 Feb 16 23:37 /usr/local/cuda/lib64/libcudart.so.8.0.61\r\n-rw-r--r-- 1 root staff   775162 Feb 16 23:37 /usr/local/cuda/lib64/libcudart_static.a\r\nlrwxrwxrwx 1 mark mark        13 Nov  7 02:00 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\r\nlrwxrwxrwx 1 mark mark        18 Nov  7 02:00 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.10\r\n-rwxr-xr-x 1 mark mark  84163560 Nov  7 01:47 /usr/local/cuda/lib64/libcudnn.so.5.1.10\r\n-rw-r--r-- 1 mark mark  70364814 Nov  7 01:47 /usr/local/cuda/lib64/libcudnn_static.a\r\n```\r\n- **The commit hash (`git rev-parse HEAD`)**: b6f16b8166e3a7761f607be66d46acbd37dfaf43\r\n- **The output of `bazel version`**: \r\n\r\nthe build command\r\n```\r\nbazel build -c opt --verbose_failures --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n```\r\nfails with the following error message:\r\n```\r\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.build/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\r\nINFO: Found 1 target...\r\nERROR: /home/mark/.cache/bazel/_bazel_mark/b8826e9bec4f8f69428cde0a6fac46ac/external/com_googlesource_code_re2/BUILD:11:1: C++ compilation of rule '@com_googlesource_code_re2//:re2' failed: crosstool_wrapper_driver_is_not_gcc failed:error executing command\r\n  (cd /home/mark/.cache/bazel/_bazel_mark/b8826e9bec4f8f69428cde0a6fac46ac/execroot/tensorflow && \\\r\n  exec env - \\\r\n    PATH=/home/mark/bin:/home/mark/.pyenv/shims:/home/mark/.pyenv/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/home/mark/bin:/usr/local/scala/bin:/usr/local/go/bin:/srv/hadoop/bin \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -MD -MF bazel-out/host/bin/external/com_googlesource_code_re2/_objs/re2/external/com_googlesource_code_re2/re2/prefilter_tree.d '-frandom-seed=bazel-out/host/bin/external/com_googlesource_code_re2/_objs/re2/external/com_googlesource_code_re2/re2/prefilter_tree.o' -iquote external/com_googlesource_code_re2 -iquote bazel-out/host/genfiles/external/com_googlesource_code_re2 -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -pthread -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/com_googlesource_code_re2/re2/prefilter_tree.cc -o bazel-out/host/bin/external/com_googlesource_code_re2/_objs/re2/external/com_googlesource_code_re2/re2/prefilter_tree.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\ngcc-5: error trying to exec 'cc1plus': execvp: No such file or directory\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\n```\r\n\r\nHow should I proceed from here? Any tip would be appreciated."}