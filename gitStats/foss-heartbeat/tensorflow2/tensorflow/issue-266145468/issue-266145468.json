{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13785", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13785/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13785/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13785/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13785", "id": 266145468, "node_id": "MDU6SXNzdWUyNjYxNDU0Njg=", "number": 13785, "title": "TypeError in freeze_graph tool while trying to freeze a graph in Tensorflow 1.3", "user": {"login": "rutadesai", "id": 7421733, "node_id": "MDQ6VXNlcjc0MjE3MzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/7421733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rutadesai", "html_url": "https://github.com/rutadesai", "followers_url": "https://api.github.com/users/rutadesai/followers", "following_url": "https://api.github.com/users/rutadesai/following{/other_user}", "gists_url": "https://api.github.com/users/rutadesai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rutadesai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rutadesai/subscriptions", "organizations_url": "https://api.github.com/users/rutadesai/orgs", "repos_url": "https://api.github.com/users/rutadesai/repos", "events_url": "https://api.github.com/users/rutadesai/events{/privacy}", "received_events_url": "https://api.github.com/users/rutadesai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2017-10-17T14:24:14Z", "updated_at": "2018-07-17T16:44:45Z", "closed_at": "2017-10-17T16:55:05Z", "author_association": "NONE", "body_html": "<p>I train a tf.contrib.learn estimator (specifically, DNNLinearCombineRegressor) in Python and saved the model\u2019s parameters and graph by specifying model_dir when defining the estimator. My estimator uses embedding and real valued feature columns, and a custom input_fn to parse the data. After training is done, I try to freeze the graph using the CLI as mentioned in this <a href=\"https://stackoverflow.com/questions/46223252/error-while-freezing-the-model-freeze-graph\" rel=\"nofollow\">post</a>, and get this error --<code> TypeError: names_to_saveables must be a dict mapping string names to Tensors/Variables. Not a variable: Tensor(\"dnn/hiddenlayer_0/biases:0\", shape=(10,), dtype=float32)</code> in saver.py in the function _ValidateAndSliceInputs.  Is this because I am using an input_fn with pandas dataframe, or is it because of the tf.feature_columns that I am using?</p>\n<p>I want to freeze the graph so that predict_scores() doesnt reload the graph variables from checkpoint file everytime for prediction. I am using Tensorflow 1.3 with Anaconda Python 3.5 on Windows 10.</p>\n<p>Thanks in advance.</p>", "body_text": "I train a tf.contrib.learn estimator (specifically, DNNLinearCombineRegressor) in Python and saved the model\u2019s parameters and graph by specifying model_dir when defining the estimator. My estimator uses embedding and real valued feature columns, and a custom input_fn to parse the data. After training is done, I try to freeze the graph using the CLI as mentioned in this post, and get this error -- TypeError: names_to_saveables must be a dict mapping string names to Tensors/Variables. Not a variable: Tensor(\"dnn/hiddenlayer_0/biases:0\", shape=(10,), dtype=float32) in saver.py in the function _ValidateAndSliceInputs.  Is this because I am using an input_fn with pandas dataframe, or is it because of the tf.feature_columns that I am using?\nI want to freeze the graph so that predict_scores() doesnt reload the graph variables from checkpoint file everytime for prediction. I am using Tensorflow 1.3 with Anaconda Python 3.5 on Windows 10.\nThanks in advance.", "body": "I train a tf.contrib.learn estimator (specifically, DNNLinearCombineRegressor) in Python and saved the model\u2019s parameters and graph by specifying model_dir when defining the estimator. My estimator uses embedding and real valued feature columns, and a custom input_fn to parse the data. After training is done, I try to freeze the graph using the CLI as mentioned in this [post](https://stackoverflow.com/questions/46223252/error-while-freezing-the-model-freeze-graph), and get this error --` TypeError: names_to_saveables must be a dict mapping string names to Tensors/Variables. Not a variable: Tensor(\"dnn/hiddenlayer_0/biases:0\", shape=(10,), dtype=float32)` in saver.py in the function _ValidateAndSliceInputs.  Is this because I am using an input_fn with pandas dataframe, or is it because of the tf.feature_columns that I am using? \r\n\r\n\r\nI want to freeze the graph so that predict_scores() doesnt reload the graph variables from checkpoint file everytime for prediction. I am using Tensorflow 1.3 with Anaconda Python 3.5 on Windows 10. \r\n\r\nThanks in advance. \r\n\r\n"}