{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/355220564", "html_url": "https://github.com/tensorflow/tensorflow/issues/15767#issuecomment-355220564", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15767", "id": 355220564, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTIyMDU2NA==", "user": {"login": "jiefangxuanyan", "id": 10000148, "node_id": "MDQ6VXNlcjEwMDAwMTQ4", "avatar_url": "https://avatars0.githubusercontent.com/u/10000148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiefangxuanyan", "html_url": "https://github.com/jiefangxuanyan", "followers_url": "https://api.github.com/users/jiefangxuanyan/followers", "following_url": "https://api.github.com/users/jiefangxuanyan/following{/other_user}", "gists_url": "https://api.github.com/users/jiefangxuanyan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiefangxuanyan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiefangxuanyan/subscriptions", "organizations_url": "https://api.github.com/users/jiefangxuanyan/orgs", "repos_url": "https://api.github.com/users/jiefangxuanyan/repos", "events_url": "https://api.github.com/users/jiefangxuanyan/events{/privacy}", "received_events_url": "https://api.github.com/users/jiefangxuanyan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-04T08:02:14Z", "updated_at": "2018-01-04T08:02:14Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think this problem is caused by <code>np.ndarray.tostring</code> <a href=\"https://github.com/tensorflow/tensorflow/blob/438604fc885208ee05f9eef2d0f2c630e1360a83/tensorflow/python/kernel_tests/decode_raw_op_test.py#L84\">here</a>. This method <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.tostring.html\" rel=\"nofollow\">\"constructs Python bytes showing a copy of the raw contents of data memory\"</a>. So we get bytes in the native byte order, and the test will always fail on big-endian machines as long as <code>decode_raw</code> used little-endian as default. Maybe we should re-write the tests for float numbers.</p>", "body_text": "I think this problem is caused by np.ndarray.tostring here. This method \"constructs Python bytes showing a copy of the raw contents of data memory\". So we get bytes in the native byte order, and the test will always fail on big-endian machines as long as decode_raw used little-endian as default. Maybe we should re-write the tests for float numbers.", "body": "I think this problem is caused by `np.ndarray.tostring` [here](https://github.com/tensorflow/tensorflow/blob/438604fc885208ee05f9eef2d0f2c630e1360a83/tensorflow/python/kernel_tests/decode_raw_op_test.py#L84). This method [\"constructs Python bytes showing a copy of the raw contents of data memory\"](https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.tostring.html). So we get bytes in the native byte order, and the test will always fail on big-endian machines as long as `decode_raw` used little-endian as default. Maybe we should re-write the tests for float numbers."}