{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8310", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8310/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8310/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8310/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8310", "id": 213555554, "node_id": "MDU6SXNzdWUyMTM1NTU1NTQ=", "number": 8310, "title": "XLA/AOT on Windows build?", "user": {"login": "neale", "id": 2781245, "node_id": "MDQ6VXNlcjI3ODEyNDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2781245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neale", "html_url": "https://github.com/neale", "followers_url": "https://api.github.com/users/neale/followers", "following_url": "https://api.github.com/users/neale/following{/other_user}", "gists_url": "https://api.github.com/users/neale/gists{/gist_id}", "starred_url": "https://api.github.com/users/neale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neale/subscriptions", "organizations_url": "https://api.github.com/users/neale/orgs", "repos_url": "https://api.github.com/users/neale/repos", "events_url": "https://api.github.com/users/neale/events{/privacy}", "received_events_url": "https://api.github.com/users/neale/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2017-03-11T20:04:33Z", "updated_at": "2017-06-16T22:26:48Z", "closed_at": "2017-06-16T22:26:48Z", "author_association": "NONE", "body_html": "<p>I know windows is low on the priority list (I don't blame you), but will there be support in the future for AOT compilation for Windows, or is it possible now in theory?</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>There aren't a lot of questions anywhere about this yet :/</p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nWindows 10</p>\n<h3>Installed version of CUDA and cuDNN:</h3>\n<p>None</p>\n<h3>Installation</h3>\n<p>I installed from cmake using the tutorial here and it worked fine, the stock mnist example ran and I couldn't find a fault with the installation.</p>\n<p>I also tried building with the windows Bazel build. I didn't have much success with this (lots of errors on configure) but if I know it can work than I can put for effort here.</p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>I attemped the JIT example <a href=\"https://www.tensorflow.org/versions/master/experimental/xla/jit\" rel=\"nofollow\">here</a> but I got the same output using XLA and not using XLA. Checking chrome://tracing revealed no XLA startup. This is where I assumed that the cmake build does not include tensorflow/compiler/xla, indeed I found no corresponding MSVC build files.</p>\n<p>Attempting to build AOT binaries with bazel didn't work because configure had not been run. I know you can build these binaries with alternate build systems (in the works?) but there's no docs on how to do that.</p>\n<p>I just want to know if I should even bother trying while this part of the project is so young. I should add that the JIT works very well for me on ubuntu, in places where it should work.</p>\n<p>If I can compile tf_library and get the tfcompile tool then I would appreciate some pointers on how to get there. I don't know how productive it is to spend time decoding bazel build files and try to construct my own alternate build the replicates it.</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>Log of JIT example output</p>\n<pre><code>$ TF_XLA_FLAGS=--xla_generate_hlo_graph=.* python mnist_softmax_xla.py\nExtracting /tmp/tensorflow/mnist/input_data\\train-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data\\train-labels-idx1-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-labels-idx1-ubyte.gz\n0.9179\n</code></pre>\n<p><code>bazel ./configure</code> output</p>\n<pre><code>$ ./configure\nPlease specify the location of python. [Default is /c/Users//AppData/Local/Programs/Python/Python35/python]:\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] y\nXLA JIT support will be enabled for TensorFlow\nFound possible Python library paths:\n  C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\n  C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\nPlease input the desired Python library path to use.  Default is [C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35]\n\nUsing python library path: C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\nJunction created for util\\python\\python_include &lt;&lt;===&gt;&gt; C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\\include\nJunction created for util\\python\\python_lib &lt;&lt;===&gt;&gt; C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\nJunction created for third_party\\py\\numpy\\numpy_include &lt;&lt;===&gt;&gt; C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\numpy\\core\\include\nDo you wish to build TensorFlow with CUDA support? [y/N] N\nNo CUDA support will be enabled for TensorFlow\nConfiguration finished\nWarning: ignoring _JAVA_OPTIONS in environment.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:6:6: invalid character: '!'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:6:14: invalid character: '?'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:23:4: invalid character: '@'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:23:41: invalid character: '@'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:24:4: invalid character: '@'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:34:2: indentation error.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:38:6: invalid character: '!'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:38:18: invalid character: '?'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:44:2: indentation error.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:68:57: invalid character: '&amp;'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:68:58: invalid character: '&amp;'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:87:2: indentation error.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:92:39: invalid character: '?'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:95:44: invalid character: '?'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:3:2: indentation error.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:7:4: indentation error.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:16:2: indentation error.\n</code></pre>", "body_text": "I know windows is low on the priority list (I don't blame you), but will there be support in the future for AOT compilation for Windows, or is it possible now in theory?\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nThere aren't a lot of questions anywhere about this yet :/\nEnvironment info\nOperating System:\nWindows 10\nInstalled version of CUDA and cuDNN:\nNone\nInstallation\nI installed from cmake using the tutorial here and it worked fine, the stock mnist example ran and I couldn't find a fault with the installation.\nI also tried building with the windows Bazel build. I didn't have much success with this (lots of errors on configure) but if I know it can work than I can put for effort here.\nWhat other attempted solutions have you tried?\nI attemped the JIT example here but I got the same output using XLA and not using XLA. Checking chrome://tracing revealed no XLA startup. This is where I assumed that the cmake build does not include tensorflow/compiler/xla, indeed I found no corresponding MSVC build files.\nAttempting to build AOT binaries with bazel didn't work because configure had not been run. I know you can build these binaries with alternate build systems (in the works?) but there's no docs on how to do that.\nI just want to know if I should even bother trying while this part of the project is so young. I should add that the JIT works very well for me on ubuntu, in places where it should work.\nIf I can compile tf_library and get the tfcompile tool then I would appreciate some pointers on how to get there. I don't know how productive it is to spend time decoding bazel build files and try to construct my own alternate build the replicates it.\nLogs or other output that would be helpful\nLog of JIT example output\n$ TF_XLA_FLAGS=--xla_generate_hlo_graph=.* python mnist_softmax_xla.py\nExtracting /tmp/tensorflow/mnist/input_data\\train-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data\\train-labels-idx1-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-labels-idx1-ubyte.gz\n0.9179\n\nbazel ./configure output\n$ ./configure\nPlease specify the location of python. [Default is /c/Users//AppData/Local/Programs/Python/Python35/python]:\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] y\nXLA JIT support will be enabled for TensorFlow\nFound possible Python library paths:\n  C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\n  C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\nPlease input the desired Python library path to use.  Default is [C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35]\n\nUsing python library path: C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\nJunction created for util\\python\\python_include <<===>> C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\\include\nJunction created for util\\python\\python_lib <<===>> C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\nJunction created for third_party\\py\\numpy\\numpy_include <<===>> C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\numpy\\core\\include\nDo you wish to build TensorFlow with CUDA support? [y/N] N\nNo CUDA support will be enabled for TensorFlow\nConfiguration finished\nWarning: ignoring _JAVA_OPTIONS in environment.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:6:6: invalid character: '!'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:6:14: invalid character: '?'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:23:4: invalid character: '@'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:23:41: invalid character: '@'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:24:4: invalid character: '@'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:34:2: indentation error.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:38:6: invalid character: '!'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:38:18: invalid character: '?'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:44:2: indentation error.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:68:57: invalid character: '&'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:68:58: invalid character: '&'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:87:2: indentation error.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:92:39: invalid character: '?'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:95:44: invalid character: '?'.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:3:2: indentation error.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:7:4: indentation error.\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:16:2: indentation error.", "body": "I know windows is low on the priority list (I don't blame you), but will there be support in the future for AOT compilation for Windows, or is it possible now in theory?\r\n\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\nThere aren't a lot of questions anywhere about this yet :/\r\n\r\n### Environment info\r\nOperating System:\r\nWindows 10\r\n\r\n### Installed version of CUDA and cuDNN: \r\nNone\r\n\r\n### Installation \r\nI installed from cmake using the tutorial here and it worked fine, the stock mnist example ran and I couldn't find a fault with the installation. \r\n\r\nI also tried building with the windows Bazel build. I didn't have much success with this (lots of errors on configure) but if I know it can work than I can put for effort here. \r\n\r\n\r\n### What other attempted solutions have you tried?\r\nI attemped the JIT example [here](https://www.tensorflow.org/versions/master/experimental/xla/jit) but I got the same output using XLA and not using XLA. Checking chrome://tracing revealed no XLA startup. This is where I assumed that the cmake build does not include tensorflow/compiler/xla, indeed I found no corresponding MSVC build files. \r\n\r\nAttempting to build AOT binaries with bazel didn't work because configure had not been run. I know you can build these binaries with alternate build systems (in the works?) but there's no docs on how to do that. \r\n\r\nI just want to know if I should even bother trying while this part of the project is so young. I should add that the JIT works very well for me on ubuntu, in places where it should work. \r\n\r\nIf I can compile tf_library and get the tfcompile tool then I would appreciate some pointers on how to get there. I don't know how productive it is to spend time decoding bazel build files and try to construct my own alternate build the replicates it.\r\n\r\n### Logs or other output that would be helpful\r\nLog of JIT example output\r\n```\r\n$ TF_XLA_FLAGS=--xla_generate_hlo_graph=.* python mnist_softmax_xla.py\r\nExtracting /tmp/tensorflow/mnist/input_data\\train-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data\\train-labels-idx1-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data\\t10k-labels-idx1-ubyte.gz\r\n0.9179\r\n```\r\n`bazel ./configure` output\r\n```\r\n$ ./configure\r\nPlease specify the location of python. [Default is /c/Users//AppData/Local/Programs/Python/Python35/python]:\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\r\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] y\r\nXLA JIT support will be enabled for TensorFlow\r\nFound possible Python library paths:\r\n  C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\r\n  C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\r\nPlease input the desired Python library path to use.  Default is [C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35]\r\n\r\nUsing python library path: C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\r\nJunction created for util\\python\\python_include <<===>> C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\\include\r\nJunction created for util\\python\\python_lib <<===>> C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\r\nJunction created for third_party\\py\\numpy\\numpy_include <<===>> C:\\Users\\\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\numpy\\core\\include\r\nDo you wish to build TensorFlow with CUDA support? [y/N] N\r\nNo CUDA support will be enabled for TensorFlow\r\nConfiguration finished\r\nWarning: ignoring _JAVA_OPTIONS in environment.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:6:6: invalid character: '!'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:6:14: invalid character: '?'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:23:4: invalid character: '@'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:23:41: invalid character: '@'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:24:4: invalid character: '@'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:34:2: indentation error.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:38:6: invalid character: '!'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:38:18: invalid character: '?'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:44:2: indentation error.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:68:57: invalid character: '&'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:68:58: invalid character: '&'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:87:2: indentation error.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:92:39: invalid character: '?'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:95:44: invalid character: '?'.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:3:2: indentation error.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:7:4: indentation error.\r\nERROR: C:/Users//Documents/tensorflow/tensorflow/contrib/cmake/build/plottable/src/plottable/bower_components/sinon/BUILD:16:2: indentation error.\r\n```"}