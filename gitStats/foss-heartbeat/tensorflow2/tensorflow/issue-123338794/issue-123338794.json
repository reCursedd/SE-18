{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/582", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/582/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/582/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/582/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/582", "id": 123338794, "node_id": "MDU6SXNzdWUxMjMzMzg3OTQ=", "number": 582, "title": "error parsing inception v3 file: 64MB python protobuf parsing limit", "user": {"login": "ry", "id": 80, "node_id": "MDQ6VXNlcjgw", "avatar_url": "https://avatars1.githubusercontent.com/u/80?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ry", "html_url": "https://github.com/ry", "followers_url": "https://api.github.com/users/ry/followers", "following_url": "https://api.github.com/users/ry/following{/other_user}", "gists_url": "https://api.github.com/users/ry/gists{/gist_id}", "starred_url": "https://api.github.com/users/ry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ry/subscriptions", "organizations_url": "https://api.github.com/users/ry/orgs", "repos_url": "https://api.github.com/users/ry/repos", "events_url": "https://api.github.com/users/ry/events{/privacy}", "received_events_url": "https://api.github.com/users/ry/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 45, "created_at": "2015-12-21T19:06:27Z", "updated_at": "2018-09-29T10:22:02Z", "closed_at": "2016-03-26T17:27:16Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I just upgraded TF to <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/469b3ddb4bb914a02f496748dd4ee5dbcbd7fce0/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/469b3ddb4bb914a02f496748dd4ee5dbcbd7fce0\"><tt>469b3dd</tt></a> and I'm now getting an error importing the inception v3 model provided at <a href=\"https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015.zip\" rel=\"nofollow\">https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015.zip</a></p>\n<p>I didn't have this problem before the upgrade. Here is the error</p>\n<pre><code>Traceback (most recent call last):\n  File \"test.py\", line 7, in &lt;module&gt;\n    graph_def.ParseFromString(fileContent)\ngoogle.protobuf.message.DecodeError: Error parsing message\n</code></pre>\n<p>And this is the code I'm using</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\n<span class=\"pl-k\">with</span> <span class=\"pl-c1\">open</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tensorflow_inception_graph.pb<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-v\">mode</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>rb<span class=\"pl-pds\">'</span></span>) <span class=\"pl-k\">as</span> f:\n  fileContent <span class=\"pl-k\">=</span> f.read()\ngraph_def <span class=\"pl-k\">=</span> tf.GraphDef()\ngraph_def.ParseFromString(fileContent)\n\ninput_layer <span class=\"pl-k\">=</span> tf.placeholder(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>float<span class=\"pl-pds\">\"</span></span>, [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">299</span>, <span class=\"pl-c1\">299</span>, <span class=\"pl-c1\">3</span>])\ntf.import_graph_def(graph_def, <span class=\"pl-v\">input_map</span><span class=\"pl-k\">=</span>{ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Mul<span class=\"pl-pds\">\"</span></span>: input_layer })</pre></div>", "body_text": "I just upgraded TF to 469b3dd and I'm now getting an error importing the inception v3 model provided at https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015.zip\nI didn't have this problem before the upgrade. Here is the error\nTraceback (most recent call last):\n  File \"test.py\", line 7, in <module>\n    graph_def.ParseFromString(fileContent)\ngoogle.protobuf.message.DecodeError: Error parsing message\n\nAnd this is the code I'm using\nimport tensorflow as tf\n\nwith open(\"tensorflow_inception_graph.pb\", mode='rb') as f:\n  fileContent = f.read()\ngraph_def = tf.GraphDef()\ngraph_def.ParseFromString(fileContent)\n\ninput_layer = tf.placeholder(\"float\", [1, 299, 299, 3])\ntf.import_graph_def(graph_def, input_map={ \"Mul\": input_layer })", "body": "I just upgraded TF to 469b3ddb4bb914a02f496748dd4ee5dbcbd7fce0 and I'm now getting an error importing the inception v3 model provided at https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015.zip\n\nI didn't have this problem before the upgrade. Here is the error\n\n```\nTraceback (most recent call last):\n  File \"test.py\", line 7, in <module>\n    graph_def.ParseFromString(fileContent)\ngoogle.protobuf.message.DecodeError: Error parsing message\n```\n\nAnd this is the code I'm using\n\n``` python\nimport tensorflow as tf\n\nwith open(\"tensorflow_inception_graph.pb\", mode='rb') as f:\n  fileContent = f.read()\ngraph_def = tf.GraphDef()\ngraph_def.ParseFromString(fileContent)\n\ninput_layer = tf.placeholder(\"float\", [1, 299, 299, 3])\ntf.import_graph_def(graph_def, input_map={ \"Mul\": input_layer })\n```\n"}