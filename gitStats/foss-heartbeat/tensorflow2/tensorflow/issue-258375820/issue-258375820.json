{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13113", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13113/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13113/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13113/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/13113", "id": 258375820, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQxNTI3MDky", "number": 13113, "title": "More robust sed regex syntax in compile_nsync.sh", "user": {"login": "resec", "id": 4277636, "node_id": "MDQ6VXNlcjQyNzc2MzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/4277636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/resec", "html_url": "https://github.com/resec", "followers_url": "https://api.github.com/users/resec/followers", "following_url": "https://api.github.com/users/resec/following{/other_user}", "gists_url": "https://api.github.com/users/resec/gists{/gist_id}", "starred_url": "https://api.github.com/users/resec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/resec/subscriptions", "organizations_url": "https://api.github.com/users/resec/orgs", "repos_url": "https://api.github.com/users/resec/repos", "events_url": "https://api.github.com/users/resec/events{/privacy}", "received_events_url": "https://api.github.com/users/resec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-18T05:53:18Z", "updated_at": "2017-09-22T13:17:02Z", "closed_at": "2017-09-22T13:17:02Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/13113", "html_url": "https://github.com/tensorflow/tensorflow/pull/13113", "diff_url": "https://github.com/tensorflow/tensorflow/pull/13113.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/13113.patch"}, "body_html": "<blockquote>\n<p>The syntax \\t for a tab character in sed is not standard. That escape is a <a href=\"http://www.gnu.org/software/sed//manual/html_node/Escapes.html\" rel=\"nofollow\">GNU sed extension</a>.</p>\n</blockquote>\n<blockquote>\n<p>But <a href=\"https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/sed.1.html\" rel=\"nofollow\">OS X sed</a>, like other *BSD sed, doesn't support <code>\\t</code> for tab and instead treats <code>\\t</code> as meaning <code>backslash</code> followed by <code>t</code>.</p>\n</blockquote>\n<p>So currently, nsync Android build in MacOS fails with</p>\n<blockquote>\n<p>ar cr nsync.a common.o counter.o cv.o debug.o dll.o mu.o mu_wait.o note.o once.o sem_wait.o time_internal.o wait.o \"nsync_semaphore_mutex.o per_thread_waiter.o yield.o <strong>ime_rep_timespec.o</strong> nsync_panic.o\"<br>\nar: nsync_semaphore_mutex.o per_thread_waiter.o yield.o <strong>ime_rep_timespec.o</strong> nsync_panic.o: No such file or directory<br>\nmake: *** [nsync.a] Error 1</p>\n</blockquote>\n<p>So added a <code>$</code> to the seq syntax to enable <a href=\"http://www.gnu.org/software/bash/manual/bash.html#ANSI_002dC-Quoting\" rel=\"nofollow\">ANSI-C Quoting</a>, and problem resolved.</p>\n<p>Reference: <a href=\"https://unix.stackexchange.com/a/145385\" rel=\"nofollow\">Simple sed replacement of tabs mysteriously failing</a></p>", "body_text": "The syntax \\t for a tab character in sed is not standard. That escape is a GNU sed extension.\n\n\nBut OS X sed, like other *BSD sed, doesn't support \\t for tab and instead treats \\t as meaning backslash followed by t.\n\nSo currently, nsync Android build in MacOS fails with\n\nar cr nsync.a common.o counter.o cv.o debug.o dll.o mu.o mu_wait.o note.o once.o sem_wait.o time_internal.o wait.o \"nsync_semaphore_mutex.o per_thread_waiter.o yield.o ime_rep_timespec.o nsync_panic.o\"\nar: nsync_semaphore_mutex.o per_thread_waiter.o yield.o ime_rep_timespec.o nsync_panic.o: No such file or directory\nmake: *** [nsync.a] Error 1\n\nSo added a $ to the seq syntax to enable ANSI-C Quoting, and problem resolved.\nReference: Simple sed replacement of tabs mysteriously failing", "body": "> The syntax \\t for a tab character in sed is not standard. That escape is a [GNU sed extension](http://www.gnu.org/software/sed//manual/html_node/Escapes.html). \r\n\r\n> But [OS X sed](https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/sed.1.html), like other *BSD sed, doesn't support `\\t` for tab and instead treats `\\t` as meaning `backslash` followed by `t`.\r\n\r\nSo currently, nsync Android build in MacOS fails with \r\n\r\n> ar cr nsync.a common.o counter.o cv.o debug.o dll.o mu.o mu_wait.o note.o once.o sem_wait.o time_internal.o wait.o \"nsync_semaphore_mutex.o per_thread_waiter.o yield.o **ime_rep_timespec.o** nsync_panic.o\"\r\nar: nsync_semaphore_mutex.o per_thread_waiter.o yield.o **ime_rep_timespec.o** nsync_panic.o: No such file or directory\r\nmake: *** [nsync.a] Error 1\r\n\r\nSo added a `$` to the seq syntax to enable [ANSI-C Quoting](http://www.gnu.org/software/bash/manual/bash.html#ANSI_002dC-Quoting), and problem resolved.\r\n\r\nReference: [Simple sed replacement of tabs mysteriously failing](https://unix.stackexchange.com/a/145385)"}