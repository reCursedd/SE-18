{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/358588663", "html_url": "https://github.com/tensorflow/tensorflow/issues/16214#issuecomment-358588663", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16214", "id": 358588663, "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODU4ODY2Mw==", "user": {"login": "PatWie", "id": 6756603, "node_id": "MDQ6VXNlcjY3NTY2MDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/6756603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PatWie", "html_url": "https://github.com/PatWie", "followers_url": "https://api.github.com/users/PatWie/followers", "following_url": "https://api.github.com/users/PatWie/following{/other_user}", "gists_url": "https://api.github.com/users/PatWie/gists{/gist_id}", "starred_url": "https://api.github.com/users/PatWie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PatWie/subscriptions", "organizations_url": "https://api.github.com/users/PatWie/orgs", "repos_url": "https://api.github.com/users/PatWie/repos", "events_url": "https://api.github.com/users/PatWie/events{/privacy}", "received_events_url": "https://api.github.com/users/PatWie/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-18T09:30:09Z", "updated_at": "2018-01-18T09:32:31Z", "author_association": "NONE", "body_html": "<p>As part of an answer to your email <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8766653\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Queequeg92\">@Queequeg92</a><br>\nI found it important to explicitly set the ENV vars to the correct version like</p>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-k\">export</span> CUPIT_LIB_PATH=<span class=\"pl-smi\">${OPT_PATH}</span>/cuda/toolkit_9.0/cuda/extras/CUPTI/lib64\n<span class=\"pl-k\">export</span> LD_LIBRARY_PATH=<span class=\"pl-smi\">${CUPIT_LIB_PATH}</span>:<span class=\"pl-smi\">$LD_LIBRARY_PATH</span></pre></div>\n<p>(same for Toolkit 8.0)<br>\nin my <code>.bashrc</code>. Note there might be some old <code>libcupti.so*</code> in <code>/usr/lib/x86_64-linux-gnu/libcupti.so</code>:</p>\n<div class=\"highlight highlight-text-shell-session\"><pre><span class=\"pl-e\">user@host</span> $ <span class=\"pl-s1\">ll <span class=\"pl-smi\">${OPT_PATH}</span>/cuda/toolkit_9.0/cuda/extras/CUPTI/lib64</span>\n<span class=\"pl-c1\">libcupti.so</span>\n<span class=\"pl-c1\">libcupti.so.9.0</span>\n<span class=\"pl-c1\">libcupti.so.9.0.176*</span>\n<span class=\"pl-e\">user@host</span> $ <span class=\"pl-s1\">locate libcupti.so</span>\n<span class=\"pl-c1\">/usr/lib/x86_64-linux-gnu/libcupti.so</span>\n<span class=\"pl-c1\">/usr/lib/x86_64-linux-gnu/libcupti.so.7.5</span>\n<span class=\"pl-c1\">/usr/lib/x86_64-linux-gnu/libcupti.so.7.5.18</span></pre></div>\n<p>The correct package for apt-get would be <code>sudo apt-get install libcupti-dev</code></p>", "body_text": "As part of an answer to your email @Queequeg92\nI found it important to explicitly set the ENV vars to the correct version like\nexport CUPIT_LIB_PATH=${OPT_PATH}/cuda/toolkit_9.0/cuda/extras/CUPTI/lib64\nexport LD_LIBRARY_PATH=${CUPIT_LIB_PATH}:$LD_LIBRARY_PATH\n(same for Toolkit 8.0)\nin my .bashrc. Note there might be some old libcupti.so* in /usr/lib/x86_64-linux-gnu/libcupti.so:\nuser@host $ ll ${OPT_PATH}/cuda/toolkit_9.0/cuda/extras/CUPTI/lib64\nlibcupti.so\nlibcupti.so.9.0\nlibcupti.so.9.0.176*\nuser@host $ locate libcupti.so\n/usr/lib/x86_64-linux-gnu/libcupti.so\n/usr/lib/x86_64-linux-gnu/libcupti.so.7.5\n/usr/lib/x86_64-linux-gnu/libcupti.so.7.5.18\nThe correct package for apt-get would be sudo apt-get install libcupti-dev", "body": "As part of an answer to your email @Queequeg92\r\nI found it important to explicitly set the ENV vars to the correct version like\r\n\r\n```bash\r\nexport CUPIT_LIB_PATH=${OPT_PATH}/cuda/toolkit_9.0/cuda/extras/CUPTI/lib64\r\nexport LD_LIBRARY_PATH=${CUPIT_LIB_PATH}:$LD_LIBRARY_PATH\r\n```\r\n(same for Toolkit 8.0)\r\nin my `.bashrc`. Note there might be some old `libcupti.so*` in `/usr/lib/x86_64-linux-gnu/libcupti.so`:\r\n\r\n```console\r\nuser@host $ ll ${OPT_PATH}/cuda/toolkit_9.0/cuda/extras/CUPTI/lib64\r\nlibcupti.so\r\nlibcupti.so.9.0\r\nlibcupti.so.9.0.176*\r\nuser@host $ locate libcupti.so\r\n/usr/lib/x86_64-linux-gnu/libcupti.so\r\n/usr/lib/x86_64-linux-gnu/libcupti.so.7.5\r\n/usr/lib/x86_64-linux-gnu/libcupti.so.7.5.18\r\n```\r\n\r\nThe correct package for apt-get would be `sudo apt-get install libcupti-dev`"}