{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/413702718", "html_url": "https://github.com/tensorflow/tensorflow/pull/21109#issuecomment-413702718", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21109", "id": 413702718, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzcwMjcxOA==", "user": {"login": "freedomtan", "id": 3395998, "node_id": "MDQ6VXNlcjMzOTU5OTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3395998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/freedomtan", "html_url": "https://github.com/freedomtan", "followers_url": "https://api.github.com/users/freedomtan/followers", "following_url": "https://api.github.com/users/freedomtan/following{/other_user}", "gists_url": "https://api.github.com/users/freedomtan/gists{/gist_id}", "starred_url": "https://api.github.com/users/freedomtan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/freedomtan/subscriptions", "organizations_url": "https://api.github.com/users/freedomtan/orgs", "repos_url": "https://api.github.com/users/freedomtan/repos", "events_url": "https://api.github.com/users/freedomtan/events{/privacy}", "received_events_url": "https://api.github.com/users/freedomtan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-16T22:23:54Z", "updated_at": "2018-08-16T22:23:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p>bad news and good news.</p>\n<ul>\n<li>bad news: adding <code>--copt=-DRASPBERRY_PI</code> is not enough. Still saw the same error message.</li>\n<li>good news: <code>--copt=-DRASPBERRY_PI --host_copt=-DRASPBERRY_PI</code> works.</li>\n</ul>\n<p>With</p>\n<pre><code>bazel build --config opt --local_resources 1024.0,0.5,0.5 \\\n--copt=-mfpu=neon-vfpv4 \\\n--copt=-ftree-vectorize \\\n--copt=-funsafe-math-optimizations \\\n--copt=-ftree-loop-vectorize \\\n--copt=-fomit-frame-pointer \\\n--copt=-DRASPBERRY_PI \\\n--host_copt=-DRASPBERRY_PI \\\n//tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>I got a good pip package. I'll close this.</p>", "body_text": "bad news and good news.\n\nbad news: adding --copt=-DRASPBERRY_PI is not enough. Still saw the same error message.\ngood news: --copt=-DRASPBERRY_PI --host_copt=-DRASPBERRY_PI works.\n\nWith\nbazel build --config opt --local_resources 1024.0,0.5,0.5 \\\n--copt=-mfpu=neon-vfpv4 \\\n--copt=-ftree-vectorize \\\n--copt=-funsafe-math-optimizations \\\n--copt=-ftree-loop-vectorize \\\n--copt=-fomit-frame-pointer \\\n--copt=-DRASPBERRY_PI \\\n--host_copt=-DRASPBERRY_PI \\\n//tensorflow/tools/pip_package:build_pip_package\n\nI got a good pip package. I'll close this.", "body": "bad news and good news.\r\n\r\n- bad news: adding `--copt=-DRASPBERRY_PI` is not enough. Still saw the same error message.\r\n- good news: `--copt=-DRASPBERRY_PI --host_copt=-DRASPBERRY_PI` works.\r\n\r\nWith \r\n```\r\nbazel build --config opt --local_resources 1024.0,0.5,0.5 \\\r\n--copt=-mfpu=neon-vfpv4 \\\r\n--copt=-ftree-vectorize \\\r\n--copt=-funsafe-math-optimizations \\\r\n--copt=-ftree-loop-vectorize \\\r\n--copt=-fomit-frame-pointer \\\r\n--copt=-DRASPBERRY_PI \\\r\n--host_copt=-DRASPBERRY_PI \\\r\n//tensorflow/tools/pip_package:build_pip_package\r\n```\r\nI got a good pip package. I'll close this.\r\n"}