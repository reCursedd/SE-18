{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/287131973", "html_url": "https://github.com/tensorflow/tensorflow/issues/8441#issuecomment-287131973", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8441", "id": 287131973, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzEzMTk3Mw==", "user": {"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-16T17:28:15Z", "updated_at": "2017-03-16T17:28:15Z", "author_association": "MEMBER", "body_html": "<p>Wrt multiple fetch configurations, an alternative is to compile separate functions, one for each configuration.  The only downside that I see of this strategy is that perhaps lots of generated code is duplicated in each function; i.e. the combined size of the *.o files is larger than strictly necessary.  But it doesn't sound like that would be a big issue.</p>\n<p>Supporting Variables is trickier.  In theory we could hoist the variables outside of the \"pure graph\", and add logic to read/write the variables at the edges.  But it's not clear this is worth doing for the AOT codepath; it's quite a bit of work.  You could always do this manually though, so that you end up with a \"pure graph\" that can be AOT compiled.</p>", "body_text": "Wrt multiple fetch configurations, an alternative is to compile separate functions, one for each configuration.  The only downside that I see of this strategy is that perhaps lots of generated code is duplicated in each function; i.e. the combined size of the *.o files is larger than strictly necessary.  But it doesn't sound like that would be a big issue.\nSupporting Variables is trickier.  In theory we could hoist the variables outside of the \"pure graph\", and add logic to read/write the variables at the edges.  But it's not clear this is worth doing for the AOT codepath; it's quite a bit of work.  You could always do this manually though, so that you end up with a \"pure graph\" that can be AOT compiled.", "body": "Wrt multiple fetch configurations, an alternative is to compile separate functions, one for each configuration.  The only downside that I see of this strategy is that perhaps lots of generated code is duplicated in each function; i.e. the combined size of the *.o files is larger than strictly necessary.  But it doesn't sound like that would be a big issue.\r\n\r\nSupporting Variables is trickier.  In theory we could hoist the variables outside of the \"pure graph\", and add logic to read/write the variables at the edges.  But it's not clear this is worth doing for the AOT codepath; it's quite a bit of work.  You could always do this manually though, so that you end up with a \"pure graph\" that can be AOT compiled."}