{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8441", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8441/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8441/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8441/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8441", "id": 214477376, "node_id": "MDU6SXNzdWUyMTQ0NzczNzY=", "number": 8441, "title": "XLA Feature request: Support Variables for tfcompile", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-03-15T18:03:23Z", "updated_at": "2017-03-16T22:48:29Z", "closed_at": "2017-03-16T22:47:33Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Is it feasible to extend tfcompile to support training?</p>\n<p>Our reinforcement learning pipelines sometimes spend significant time in Python side of session.run because networks are small, and need lots of session.run calls since each .run leads to an interaction with a simulator (ie, Mujoco, gym or universe)</p>\n<p>So you could have have 30k session.run calls where actual computation takes 200 usec, and Python session.run overhead is another 150 usec.</p>\n<p>This could be improved if the network was tfcompiled and we didn't have to use session.run, however, this would need tfcompile to be extended to support multiple sets of fetches for the compiled object. IE</p>\n<ol>\n<li>network initialization, input: weights, output: None</li>\n<li>network forward op: input: observation, output: action</li>\n<li>network train op: input: observations, actions output: None</li>\n<li>network variable read: input: None, output: weights</li>\n</ol>", "body_text": "Is it feasible to extend tfcompile to support training?\nOur reinforcement learning pipelines sometimes spend significant time in Python side of session.run because networks are small, and need lots of session.run calls since each .run leads to an interaction with a simulator (ie, Mujoco, gym or universe)\nSo you could have have 30k session.run calls where actual computation takes 200 usec, and Python session.run overhead is another 150 usec.\nThis could be improved if the network was tfcompiled and we didn't have to use session.run, however, this would need tfcompile to be extended to support multiple sets of fetches for the compiled object. IE\n\nnetwork initialization, input: weights, output: None\nnetwork forward op: input: observation, output: action\nnetwork train op: input: observations, actions output: None\nnetwork variable read: input: None, output: weights", "body": "Is it feasible to extend tfcompile to support training?\r\n\r\nOur reinforcement learning pipelines sometimes spend significant time in Python side of session.run because networks are small, and need lots of session.run calls since each .run leads to an interaction with a simulator (ie, Mujoco, gym or universe)\r\n\r\nSo you could have have 30k session.run calls where actual computation takes 200 usec, and Python session.run overhead is another 150 usec.\r\n\r\nThis could be improved if the network was tfcompiled and we didn't have to use session.run, however, this would need tfcompile to be extended to support multiple sets of fetches for the compiled object. IE\r\n\r\n1. network initialization, input: weights, output: None\r\n2. network forward op: input: observation, output: action\r\n3. network train op: input: observations, actions output: None\r\n4. network variable read: input: None, output: weights"}