{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2874", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2874/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2874/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2874/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2874", "id": 160320275, "node_id": "MDU6SXNzdWUxNjAzMjAyNzU=", "number": 2874, "title": "FixedLenFeature with dimensions of unknown size fails with strange error", "user": {"login": "shoyer", "id": 1217238, "node_id": "MDQ6VXNlcjEyMTcyMzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shoyer", "html_url": "https://github.com/shoyer", "followers_url": "https://api.github.com/users/shoyer/followers", "following_url": "https://api.github.com/users/shoyer/following{/other_user}", "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions", "organizations_url": "https://api.github.com/users/shoyer/orgs", "repos_url": "https://api.github.com/users/shoyer/repos", "events_url": "https://api.github.com/users/shoyer/events{/privacy}", "received_events_url": "https://api.github.com/users/shoyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-06-15T01:30:06Z", "updated_at": "2017-02-09T22:02:13Z", "closed_at": "2017-01-23T23:32:41Z", "author_association": "MEMBER", "body_html": "<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\nexample <span class=\"pl-k\">=</span> tf.train.Example(\n  <span class=\"pl-v\">features</span><span class=\"pl-k\">=</span>tf.train.Features(\n    <span class=\"pl-v\">feature</span><span class=\"pl-k\">=</span>{<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>: tf.train.Feature(<span class=\"pl-v\">int64_list</span><span class=\"pl-k\">=</span>tf.train.Int64List(<span class=\"pl-v\">value</span><span class=\"pl-k\">=</span>[<span class=\"pl-c1\">1</span>]))}))\nserialized <span class=\"pl-k\">=</span> example.SerializeToString()\nfeatures <span class=\"pl-k\">=</span> {<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>: tf.FixedLenFeature([<span class=\"pl-c1\">None</span>], tf.int64)}\nparsed <span class=\"pl-k\">=</span> tf.parse_single_example(serialized, features)</pre></div>\n<pre><code>&gt;&gt;&gt; parsed\n{'a': &lt;tf.Tensor 'ParseSingleExample_5/Squeeze_a:0' shape=(?,) dtype=int64&gt;}\n&gt;&gt;&gt; parsed['a'].eval()\nInvalidArgumentError: Shape [-1] has negative dimensions\n</code></pre>\n<p>It would be nice to get an informative <code>ValueError</code> at graph construction time.</p>", "body_text": "import tensorflow as tf\n\nexample = tf.train.Example(\n  features=tf.train.Features(\n    feature={'a': tf.train.Feature(int64_list=tf.train.Int64List(value=[1]))}))\nserialized = example.SerializeToString()\nfeatures = {'a': tf.FixedLenFeature([None], tf.int64)}\nparsed = tf.parse_single_example(serialized, features)\n>>> parsed\n{'a': <tf.Tensor 'ParseSingleExample_5/Squeeze_a:0' shape=(?,) dtype=int64>}\n>>> parsed['a'].eval()\nInvalidArgumentError: Shape [-1] has negative dimensions\n\nIt would be nice to get an informative ValueError at graph construction time.", "body": "``` python\nimport tensorflow as tf\n\nexample = tf.train.Example(\n  features=tf.train.Features(\n    feature={'a': tf.train.Feature(int64_list=tf.train.Int64List(value=[1]))}))\nserialized = example.SerializeToString()\nfeatures = {'a': tf.FixedLenFeature([None], tf.int64)}\nparsed = tf.parse_single_example(serialized, features)\n```\n\n```\n>>> parsed\n{'a': <tf.Tensor 'ParseSingleExample_5/Squeeze_a:0' shape=(?,) dtype=int64>}\n>>> parsed['a'].eval()\nInvalidArgumentError: Shape [-1] has negative dimensions\n```\n\nIt would be nice to get an informative `ValueError` at graph construction time.\n"}