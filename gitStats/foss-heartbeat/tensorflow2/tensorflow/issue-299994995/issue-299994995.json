{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17248", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17248/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17248/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17248/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17248", "id": 299994995, "node_id": "MDU6SXNzdWUyOTk5OTQ5OTU=", "number": 17248, "title": "The labels do not appear on android app screen", "user": {"login": "aReaSa", "id": 26048237, "node_id": "MDQ6VXNlcjI2MDQ4MjM3", "avatar_url": "https://avatars2.githubusercontent.com/u/26048237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aReaSa", "html_url": "https://github.com/aReaSa", "followers_url": "https://api.github.com/users/aReaSa/followers", "following_url": "https://api.github.com/users/aReaSa/following{/other_user}", "gists_url": "https://api.github.com/users/aReaSa/gists{/gist_id}", "starred_url": "https://api.github.com/users/aReaSa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aReaSa/subscriptions", "organizations_url": "https://api.github.com/users/aReaSa/orgs", "repos_url": "https://api.github.com/users/aReaSa/repos", "events_url": "https://api.github.com/users/aReaSa/events{/privacy}", "received_events_url": "https://api.github.com/users/aReaSa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-25T03:44:55Z", "updated_at": "2018-02-26T19:41:37Z", "closed_at": "2018-02-26T19:41:37Z", "author_association": "NONE", "body_html": "<hr>\n<h3>System information</h3>\n<ul>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 17.10</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Tensorflow For Poets 2</li>\n<li><strong>Python version</strong>: 3<br>\nYou can obtain the TensorFlow version with<br>\nv1.5.0-0-g37aa430d84 1.5.0</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Hello dear friends,<br>\nI literally followed all instructions in Tenforflow For Poets.<br>\nand for Tensorflow For Poets Mobile.</p>\n<p>I visited all the sites, blogs and forums, but I could not find any solution or similar of this problem.</p>\n<p>The first android application was not opened, it was resolved in some way.<br>\nNow it opens but the labels do not appear.</p>\n<p>I trained with Inception v3. I optimized it, stripped it, tried it on all emulators, tried it on my own phone.</p>\n<p>I'm adding a screenshot so you can look at it.</p>\n<p>Thank you in advance for your answers ...</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/26048237/36637916-358ee1dc-19f7-11e8-96d4-59d5eac06c93.png\"><img src=\"https://user-images.githubusercontent.com/26048237/36637916-358ee1dc-19f7-11e8-96d4-59d5eac06c93.png\" alt=\"screenshot from 2018-02-25 05-58-19\" style=\"max-width:100%;\"></a></p>\n<h3>Source code / logs</h3>\n<p>02-25 06:23:37.531 4375-4375/? I/zygote: Not late-enabling -Xcheck:jni (already on)<br>\n02-25 06:23:37.538 4375-4375/? W/zygote: Unexpected CPU variant for X86 using defaults: x86<br>\n02-25 06:23:37.582 4375-4382/? I/zygote: Debugger is no longer active<br>\n02-25 06:23:37.810 4375-4375/? I/InstantRun: starting instant run server: is main process<br>\n02-25 06:23:37.852 4375-4375/? D/tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@e5ff96d<br>\n02-25 06:23:38.025 4375-4375/? D/tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@e5ff96d<br>\n02-25 06:23:38.025 4375-4375/? D/tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@e5ff96d<br>\n02-25 06:23:38.029 4375-4394/? D/OpenGLRenderer: HWUI GL Pipeline<br>\n02-25 06:23:38.048 4375-4375/? D/tensorflow: CameraActivity: onPause org.tensorflow.demo.ClassifierActivity@e5ff96d<br>\n02-25 06:23:38.048 4375-4375/? D/tensorflow: CameraActivity: Requesting finish<br>\n02-25 06:23:38.119 4375-4394/? I/OpenGLRenderer: Initialized EGL, version 1.4<br>\n02-25 06:23:38.119 4375-4394/? D/OpenGLRenderer: Swap behavior 1<br>\n02-25 06:23:38.120 4375-4394/? W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...<br>\n02-25 06:23:38.120 4375-4394/? D/OpenGLRenderer: Swap behavior 0<br>\n02-25 06:23:38.180 4375-4394/? D/EGL_emulation: eglCreateContext: 0xab032640: maj 2 min 0 rcv 2<br>\n02-25 06:23:38.686 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)<br>\n02-25 06:23:38.711 4375-4375/org.tensorflow.demo I/Choreographer: Skipped 35 frames!  The application may be doing too much work on its main thread.<br>\n02-25 06:23:38.882 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)<br>\n02-25 06:23:39.475 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)<br>\n02-25 06:23:39.677 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onStop org.tensorflow.demo.ClassifierActivity@e5ff96d<br>\n02-25 06:23:39.678 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onDestroy org.tensorflow.demo.ClassifierActivity@e5ff96d<br>\n02-25 06:23:45.425 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@186f2a1<br>\n02-25 06:23:45.436 4375-4375/org.tensorflow.demo I/CameraManagerGlobal: Connecting to camera service<br>\n02-25 06:23:45.447 4375-4375/org.tensorflow.demo I/tensorflow: CameraActivity: Camera API lv2?: false<br>\n02-25 06:23:45.467 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@186f2a1<br>\n02-25 06:23:45.467 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@186f2a1<br>\n02-25 06:23:45.773 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480<br>\n02-25 06:23:45.774 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Valid preview sizes: [640x480]<br>\n02-25 06:23:45.774 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Rejected preview sizes: []<br>\n02-25 06:23:45.774 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Exact size match found.<br>\n02-25 06:23:45.844 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)<br>\n02-25 06:23:46.007 4375-4375/org.tensorflow.demo I/TensorFlowImageClassifier: Reading labels from: retrained_labels.txt<br>\n02-25 06:23:46.009 4375-4375/org.tensorflow.demo I/TensorFlowInferenceInterface: Checking to see if TensorFlow native methods are already loaded<br>\n02-25 06:23:46.009 4375-4375/org.tensorflow.demo E/zygote: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)<br>\n02-25 06:23:46.009 4375-4375/org.tensorflow.demo I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference<br>\n02-25 06:23:46.022 4375-4375/org.tensorflow.demo W/native: cpu_feature_guard.cc:34 The TensorFlow library was compiled to use SSE instructions, but these aren't available on your machine.<br>\n02-25 06:23:46.022 4375-4375/org.tensorflow.demo W/native: cpu_feature_guard.cc:34 The TensorFlow library was compiled to use SSE2 instructions, but these aren't available on your machine.<br>\n02-25 06:23:46.022 4375-4375/org.tensorflow.demo W/native: cpu_feature_guard.cc:34 The TensorFlow library was compiled to use SSE3 instructions, but these aren't available on your machine.<br>\n02-25 06:23:46.024 4375-4375/org.tensorflow.demo I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)<br>\n02-25 06:23:46.596 4375-4375/org.tensorflow.demo E/tensorflow: CameraActivity: Exception!<br>\njava.lang.RuntimeException: Failed to load model from 'file:///android_asset/rounded_graph_str.pb'<br>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:113)<br>\nat org.tensorflow.demo.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:103)<br>\nat org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(ClassifierActivity.java:113)<br>\nat org.tensorflow.demo.CameraActivity.onPreviewFrame(CameraActivity.java:119)<br>\nat android.hardware.Camera$EventHandler.handleMessage(Camera.java:1124)<br>\nat android.os.Handler.dispatchMessage(Handler.java:105)<br>\nat android.os.Looper.loop(Looper.java:164)<br>\nat android.app.ActivityThread.main(ActivityThread.java:6541)<br>\nat java.lang.reflect.Method.invoke(Native Method)<br>\nat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)<br>\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)<br>\nCaused by: java.io.IOException: Not a valid TensorFlow Graph serialization: NodeDef mentions attr 'dilations' not in Op&lt;name=Conv2D; signature=input:T, filter:T -&gt; output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]&gt;; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).<br>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:535)<br>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:105)<br>\nat org.tensorflow.demo.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:103)\u00a0<br>\nat org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(ClassifierActivity.java:113)\u00a0<br>\nat org.tensorflow.demo.CameraActivity.onPreviewFrame(CameraActivity.java:119)\u00a0<br>\nat android.hardware.Camera$EventHandler.handleMessage(Camera.java:1124)\u00a0<br>\nat android.os.Handler.dispatchMessage(Handler.java:105)\u00a0<br>\nat android.os.Looper.loop(Looper.java:164)\u00a0<br>\nat android.app.ActivityThread.main(ActivityThread.java:6541)\u00a0<br>\nat java.lang.reflect.Method.invoke(Native Method)\u00a0<br>\nat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0<br>\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\u00a0<br>\n02-25 06:23:49.350 4375-4380/org.tensorflow.demo I/zygote: Do partial code cache collection, code=20KB, data=21KB<br>\n02-25 06:23:49.350 4375-4380/org.tensorflow.demo I/zygote: After code cache collection, code=20KB, data=21KB<br>\n02-25 06:23:49.350 4375-4380/org.tensorflow.demo I/zygote: Increasing code cache capacity to 128KB<br>\n02-25 06:23:55.613 4375-4380/org.tensorflow.demo I/zygote: Do partial code cache collection, code=61KB, data=49KB<br>\n02-25 06:23:55.614 4375-4380/org.tensorflow.demo I/zygote: After code cache collection, code=61KB, data=49KB<br>\n02-25 06:23:55.614 4375-4380/org.tensorflow.demo I/zygote: Increasing code cache capacity to 256KB</p>", "body_text": "System information\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 17.10\nTensorFlow installed from (source or binary): Tensorflow For Poets 2\nPython version: 3\nYou can obtain the TensorFlow version with\nv1.5.0-0-g37aa430d84 1.5.0\n\nDescribe the problem\nHello dear friends,\nI literally followed all instructions in Tenforflow For Poets.\nand for Tensorflow For Poets Mobile.\nI visited all the sites, blogs and forums, but I could not find any solution or similar of this problem.\nThe first android application was not opened, it was resolved in some way.\nNow it opens but the labels do not appear.\nI trained with Inception v3. I optimized it, stripped it, tried it on all emulators, tried it on my own phone.\nI'm adding a screenshot so you can look at it.\nThank you in advance for your answers ...\n\nSource code / logs\n02-25 06:23:37.531 4375-4375/? I/zygote: Not late-enabling -Xcheck:jni (already on)\n02-25 06:23:37.538 4375-4375/? W/zygote: Unexpected CPU variant for X86 using defaults: x86\n02-25 06:23:37.582 4375-4382/? I/zygote: Debugger is no longer active\n02-25 06:23:37.810 4375-4375/? I/InstantRun: starting instant run server: is main process\n02-25 06:23:37.852 4375-4375/? D/tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@e5ff96d\n02-25 06:23:38.025 4375-4375/? D/tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@e5ff96d\n02-25 06:23:38.025 4375-4375/? D/tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@e5ff96d\n02-25 06:23:38.029 4375-4394/? D/OpenGLRenderer: HWUI GL Pipeline\n02-25 06:23:38.048 4375-4375/? D/tensorflow: CameraActivity: onPause org.tensorflow.demo.ClassifierActivity@e5ff96d\n02-25 06:23:38.048 4375-4375/? D/tensorflow: CameraActivity: Requesting finish\n02-25 06:23:38.119 4375-4394/? I/OpenGLRenderer: Initialized EGL, version 1.4\n02-25 06:23:38.119 4375-4394/? D/OpenGLRenderer: Swap behavior 1\n02-25 06:23:38.120 4375-4394/? W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\n02-25 06:23:38.120 4375-4394/? D/OpenGLRenderer: Swap behavior 0\n02-25 06:23:38.180 4375-4394/? D/EGL_emulation: eglCreateContext: 0xab032640: maj 2 min 0 rcv 2\n02-25 06:23:38.686 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)\n02-25 06:23:38.711 4375-4375/org.tensorflow.demo I/Choreographer: Skipped 35 frames!  The application may be doing too much work on its main thread.\n02-25 06:23:38.882 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)\n02-25 06:23:39.475 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)\n02-25 06:23:39.677 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onStop org.tensorflow.demo.ClassifierActivity@e5ff96d\n02-25 06:23:39.678 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onDestroy org.tensorflow.demo.ClassifierActivity@e5ff96d\n02-25 06:23:45.425 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@186f2a1\n02-25 06:23:45.436 4375-4375/org.tensorflow.demo I/CameraManagerGlobal: Connecting to camera service\n02-25 06:23:45.447 4375-4375/org.tensorflow.demo I/tensorflow: CameraActivity: Camera API lv2?: false\n02-25 06:23:45.467 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@186f2a1\n02-25 06:23:45.467 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@186f2a1\n02-25 06:23:45.773 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480\n02-25 06:23:45.774 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Valid preview sizes: [640x480]\n02-25 06:23:45.774 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Rejected preview sizes: []\n02-25 06:23:45.774 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Exact size match found.\n02-25 06:23:45.844 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)\n02-25 06:23:46.007 4375-4375/org.tensorflow.demo I/TensorFlowImageClassifier: Reading labels from: retrained_labels.txt\n02-25 06:23:46.009 4375-4375/org.tensorflow.demo I/TensorFlowInferenceInterface: Checking to see if TensorFlow native methods are already loaded\n02-25 06:23:46.009 4375-4375/org.tensorflow.demo E/zygote: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\n02-25 06:23:46.009 4375-4375/org.tensorflow.demo I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\n02-25 06:23:46.022 4375-4375/org.tensorflow.demo W/native: cpu_feature_guard.cc:34 The TensorFlow library was compiled to use SSE instructions, but these aren't available on your machine.\n02-25 06:23:46.022 4375-4375/org.tensorflow.demo W/native: cpu_feature_guard.cc:34 The TensorFlow library was compiled to use SSE2 instructions, but these aren't available on your machine.\n02-25 06:23:46.022 4375-4375/org.tensorflow.demo W/native: cpu_feature_guard.cc:34 The TensorFlow library was compiled to use SSE3 instructions, but these aren't available on your machine.\n02-25 06:23:46.024 4375-4375/org.tensorflow.demo I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\n02-25 06:23:46.596 4375-4375/org.tensorflow.demo E/tensorflow: CameraActivity: Exception!\njava.lang.RuntimeException: Failed to load model from 'file:///android_asset/rounded_graph_str.pb'\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:113)\nat org.tensorflow.demo.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:103)\nat org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(ClassifierActivity.java:113)\nat org.tensorflow.demo.CameraActivity.onPreviewFrame(CameraActivity.java:119)\nat android.hardware.Camera$EventHandler.handleMessage(Camera.java:1124)\nat android.os.Handler.dispatchMessage(Handler.java:105)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:6541)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\nCaused by: java.io.IOException: Not a valid TensorFlow Graph serialization: NodeDef mentions attr 'dilations' not in Op<name=Conv2D; signature=input:T, filter:T -> output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:535)\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:105)\nat org.tensorflow.demo.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:103)\u00a0\nat org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(ClassifierActivity.java:113)\u00a0\nat org.tensorflow.demo.CameraActivity.onPreviewFrame(CameraActivity.java:119)\u00a0\nat android.hardware.Camera$EventHandler.handleMessage(Camera.java:1124)\u00a0\nat android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\nat android.os.Looper.loop(Looper.java:164)\u00a0\nat android.app.ActivityThread.main(ActivityThread.java:6541)\u00a0\nat java.lang.reflect.Method.invoke(Native Method)\u00a0\nat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\u00a0\n02-25 06:23:49.350 4375-4380/org.tensorflow.demo I/zygote: Do partial code cache collection, code=20KB, data=21KB\n02-25 06:23:49.350 4375-4380/org.tensorflow.demo I/zygote: After code cache collection, code=20KB, data=21KB\n02-25 06:23:49.350 4375-4380/org.tensorflow.demo I/zygote: Increasing code cache capacity to 128KB\n02-25 06:23:55.613 4375-4380/org.tensorflow.demo I/zygote: Do partial code cache collection, code=61KB, data=49KB\n02-25 06:23:55.614 4375-4380/org.tensorflow.demo I/zygote: After code cache collection, code=61KB, data=49KB\n02-25 06:23:55.614 4375-4380/org.tensorflow.demo I/zygote: Increasing code cache capacity to 256KB", "body": "------------------------\r\n\r\n### System information\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 17.10\r\n- **TensorFlow installed from (source or binary)**: Tensorflow For Poets 2 \r\n- **Python version**: 3\r\nYou can obtain the TensorFlow version with\r\nv1.5.0-0-g37aa430d84 1.5.0\r\n\r\n### Describe the problem\r\n\r\nHello dear friends,\r\nI literally followed all instructions in Tenforflow For Poets.\r\nand for Tensorflow For Poets Mobile.\r\n\r\nI visited all the sites, blogs and forums, but I could not find any solution or similar of this problem.\r\n\r\nThe first android application was not opened, it was resolved in some way.\r\nNow it opens but the labels do not appear.\r\n\r\nI trained with Inception v3. I optimized it, stripped it, tried it on all emulators, tried it on my own phone.\r\n\r\nI'm adding a screenshot so you can look at it.\r\n\r\nThank you in advance for your answers ...\r\n\r\n![screenshot from 2018-02-25 05-58-19](https://user-images.githubusercontent.com/26048237/36637916-358ee1dc-19f7-11e8-96d4-59d5eac06c93.png)\r\n\r\n\r\n### Source code / logs\r\n02-25 06:23:37.531 4375-4375/? I/zygote: Not late-enabling -Xcheck:jni (already on)\r\n02-25 06:23:37.538 4375-4375/? W/zygote: Unexpected CPU variant for X86 using defaults: x86\r\n02-25 06:23:37.582 4375-4382/? I/zygote: Debugger is no longer active\r\n02-25 06:23:37.810 4375-4375/? I/InstantRun: starting instant run server: is main process\r\n02-25 06:23:37.852 4375-4375/? D/tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@e5ff96d\r\n02-25 06:23:38.025 4375-4375/? D/tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@e5ff96d\r\n02-25 06:23:38.025 4375-4375/? D/tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@e5ff96d\r\n02-25 06:23:38.029 4375-4394/? D/OpenGLRenderer: HWUI GL Pipeline\r\n02-25 06:23:38.048 4375-4375/? D/tensorflow: CameraActivity: onPause org.tensorflow.demo.ClassifierActivity@e5ff96d\r\n02-25 06:23:38.048 4375-4375/? D/tensorflow: CameraActivity: Requesting finish\r\n02-25 06:23:38.119 4375-4394/? I/OpenGLRenderer: Initialized EGL, version 1.4\r\n02-25 06:23:38.119 4375-4394/? D/OpenGLRenderer: Swap behavior 1\r\n02-25 06:23:38.120 4375-4394/? W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\n02-25 06:23:38.120 4375-4394/? D/OpenGLRenderer: Swap behavior 0\r\n02-25 06:23:38.180 4375-4394/? D/EGL_emulation: eglCreateContext: 0xab032640: maj 2 min 0 rcv 2\r\n02-25 06:23:38.686 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)\r\n02-25 06:23:38.711 4375-4375/org.tensorflow.demo I/Choreographer: Skipped 35 frames!  The application may be doing too much work on its main thread.\r\n02-25 06:23:38.882 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)\r\n02-25 06:23:39.475 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)\r\n02-25 06:23:39.677 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onStop org.tensorflow.demo.ClassifierActivity@e5ff96d\r\n02-25 06:23:39.678 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onDestroy org.tensorflow.demo.ClassifierActivity@e5ff96d\r\n02-25 06:23:45.425 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@186f2a1\r\n02-25 06:23:45.436 4375-4375/org.tensorflow.demo I/CameraManagerGlobal: Connecting to camera service\r\n02-25 06:23:45.447 4375-4375/org.tensorflow.demo I/tensorflow: CameraActivity: Camera API lv2?: false\r\n02-25 06:23:45.467 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@186f2a1\r\n02-25 06:23:45.467 4375-4375/org.tensorflow.demo D/tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@186f2a1\r\n02-25 06:23:45.773 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480\r\n02-25 06:23:45.774 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Valid preview sizes: [640x480]\r\n02-25 06:23:45.774 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Rejected preview sizes: []\r\n02-25 06:23:45.774 4375-4375/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Exact size match found.\r\n02-25 06:23:45.844 4375-4394/org.tensorflow.demo D/EGL_emulation: eglMakeCurrent: 0xab032640: ver 2 0 (tinfo 0xab00b1d0)\r\n02-25 06:23:46.007 4375-4375/org.tensorflow.demo I/TensorFlowImageClassifier: Reading labels from: retrained_labels.txt\r\n02-25 06:23:46.009 4375-4375/org.tensorflow.demo I/TensorFlowInferenceInterface: Checking to see if TensorFlow native methods are already loaded\r\n02-25 06:23:46.009 4375-4375/org.tensorflow.demo E/zygote: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\r\n02-25 06:23:46.009 4375-4375/org.tensorflow.demo I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\r\n02-25 06:23:46.022 4375-4375/org.tensorflow.demo W/native: cpu_feature_guard.cc:34 The TensorFlow library was compiled to use SSE instructions, but these aren't available on your machine.\r\n02-25 06:23:46.022 4375-4375/org.tensorflow.demo W/native: cpu_feature_guard.cc:34 The TensorFlow library was compiled to use SSE2 instructions, but these aren't available on your machine.\r\n02-25 06:23:46.022 4375-4375/org.tensorflow.demo W/native: cpu_feature_guard.cc:34 The TensorFlow library was compiled to use SSE3 instructions, but these aren't available on your machine.\r\n02-25 06:23:46.024 4375-4375/org.tensorflow.demo I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\r\n02-25 06:23:46.596 4375-4375/org.tensorflow.demo E/tensorflow: CameraActivity: Exception!\r\n                                                               java.lang.RuntimeException: Failed to load model from 'file:///android_asset/rounded_graph_str.pb'\r\n                                                                   at org.tensorflow.contrib.android.TensorFlowInferenceInterface.<init>(TensorFlowInferenceInterface.java:113)\r\n                                                                   at org.tensorflow.demo.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:103)\r\n                                                                   at org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(ClassifierActivity.java:113)\r\n                                                                   at org.tensorflow.demo.CameraActivity.onPreviewFrame(CameraActivity.java:119)\r\n                                                                   at android.hardware.Camera$EventHandler.handleMessage(Camera.java:1124)\r\n                                                                   at android.os.Handler.dispatchMessage(Handler.java:105)\r\n                                                                   at android.os.Looper.loop(Looper.java:164)\r\n                                                                   at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n                                                                   at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                   at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n                                                                   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n                                                                Caused by: java.io.IOException: Not a valid TensorFlow Graph serialization: NodeDef mentions attr 'dilations' not in Op<name=Conv2D; signature=input:T, filter:T -> output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true](Mul, conv/conv2d_params). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).\r\n                                                                   at org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:535)\r\n                                                                   at org.tensorflow.contrib.android.TensorFlowInferenceInterface.<init>(TensorFlowInferenceInterface.java:105)\r\n                                                                   at org.tensorflow.demo.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:103)\u00a0\r\n                                                                   at org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(ClassifierActivity.java:113)\u00a0\r\n                                                                   at org.tensorflow.demo.CameraActivity.onPreviewFrame(CameraActivity.java:119)\u00a0\r\n                                                                   at android.hardware.Camera$EventHandler.handleMessage(Camera.java:1124)\u00a0\r\n                                                                   at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\r\n                                                                   at android.os.Looper.loop(Looper.java:164)\u00a0\r\n                                                                   at android.app.ActivityThread.main(ActivityThread.java:6541)\u00a0\r\n                                                                   at java.lang.reflect.Method.invoke(Native Method)\u00a0\r\n                                                                   at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\r\n                                                                   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\u00a0\r\n02-25 06:23:49.350 4375-4380/org.tensorflow.demo I/zygote: Do partial code cache collection, code=20KB, data=21KB\r\n02-25 06:23:49.350 4375-4380/org.tensorflow.demo I/zygote: After code cache collection, code=20KB, data=21KB\r\n02-25 06:23:49.350 4375-4380/org.tensorflow.demo I/zygote: Increasing code cache capacity to 128KB\r\n02-25 06:23:55.613 4375-4380/org.tensorflow.demo I/zygote: Do partial code cache collection, code=61KB, data=49KB\r\n02-25 06:23:55.614 4375-4380/org.tensorflow.demo I/zygote: After code cache collection, code=61KB, data=49KB\r\n02-25 06:23:55.614 4375-4380/org.tensorflow.demo I/zygote: Increasing code cache capacity to 256KB\r\n\r\n"}