{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/171932895", "html_url": "https://github.com/tensorflow/tensorflow/issues/616#issuecomment-171932895", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/616", "id": 171932895, "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTkzMjg5NQ==", "user": {"login": "yutachen", "id": 16718087, "node_id": "MDQ6VXNlcjE2NzE4MDg3", "avatar_url": "https://avatars2.githubusercontent.com/u/16718087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yutachen", "html_url": "https://github.com/yutachen", "followers_url": "https://api.github.com/users/yutachen/followers", "following_url": "https://api.github.com/users/yutachen/following{/other_user}", "gists_url": "https://api.github.com/users/yutachen/gists{/gist_id}", "starred_url": "https://api.github.com/users/yutachen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yutachen/subscriptions", "organizations_url": "https://api.github.com/users/yutachen/orgs", "repos_url": "https://api.github.com/users/yutachen/repos", "events_url": "https://api.github.com/users/yutachen/events{/privacy}", "received_events_url": "https://api.github.com/users/yutachen/received_events", "type": "User", "site_admin": false}, "created_at": "2016-01-15T10:56:27Z", "updated_at": "2016-01-15T10:58:56Z", "author_association": "NONE", "body_html": "<p>I follow the steps in <a href=\"http://stackoverflow.com/questions/34343259/is-there-an-example-on-how-to-generate-protobuf-files-holding-trained-tensorflow/34343517#34343517\" rel=\"nofollow\">http://stackoverflow.com/questions/34343259/is-there-an-example-on-how-to-generate-protobuf-files-holding-trained-tensorflow/34343517#34343517</a><br>\nbut in step4 when import_graph_def is called, I got an error</p>\n<blockquote>\n<p>ValueError: graph_def is invalid at node u'conv1/weights/Assign': Input tensor u'conv1/weights:0' Cannot convert a tensor of type float32 to an input of type float32_ref</p>\n</blockquote>\n<p>Anything I missed?<br>\nmy source code is</p>\n<pre><code>  for v in g1.get_collection(tf.GraphKeys.TRAINABLE_VARIABLES):\n    with g2.as_default():\n      const_var[v.name] = tf.constant(v.eval(),name=v.name)\n  with g2.as_default():\n    tf.import_graph_def(graph_def=g1.as_graph_def(),input_map=const_var)\n</code></pre>", "body_text": "I follow the steps in http://stackoverflow.com/questions/34343259/is-there-an-example-on-how-to-generate-protobuf-files-holding-trained-tensorflow/34343517#34343517\nbut in step4 when import_graph_def is called, I got an error\n\nValueError: graph_def is invalid at node u'conv1/weights/Assign': Input tensor u'conv1/weights:0' Cannot convert a tensor of type float32 to an input of type float32_ref\n\nAnything I missed?\nmy source code is\n  for v in g1.get_collection(tf.GraphKeys.TRAINABLE_VARIABLES):\n    with g2.as_default():\n      const_var[v.name] = tf.constant(v.eval(),name=v.name)\n  with g2.as_default():\n    tf.import_graph_def(graph_def=g1.as_graph_def(),input_map=const_var)", "body": "I follow the steps in http://stackoverflow.com/questions/34343259/is-there-an-example-on-how-to-generate-protobuf-files-holding-trained-tensorflow/34343517#34343517 \nbut in step4 when import_graph_def is called, I got an error\n\n> ValueError: graph_def is invalid at node u'conv1/weights/Assign': Input tensor u'conv1/weights:0' Cannot convert a tensor of type float32 to an input of type float32_ref\n\nAnything I missed? \nmy source code is \n\n```\n  for v in g1.get_collection(tf.GraphKeys.TRAINABLE_VARIABLES):\n    with g2.as_default():\n      const_var[v.name] = tf.constant(v.eval(),name=v.name)\n  with g2.as_default():\n    tf.import_graph_def(graph_def=g1.as_graph_def(),input_map=const_var)\n```\n"}