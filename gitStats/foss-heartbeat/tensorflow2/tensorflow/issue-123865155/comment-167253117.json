{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/167253117", "html_url": "https://github.com/tensorflow/tensorflow/issues/616#issuecomment-167253117", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/616", "id": 167253117, "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzI1MzExNw==", "user": {"login": "wchan", "id": 1131892, "node_id": "MDQ6VXNlcjExMzE4OTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1131892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wchan", "html_url": "https://github.com/wchan", "followers_url": "https://api.github.com/users/wchan/followers", "following_url": "https://api.github.com/users/wchan/following{/other_user}", "gists_url": "https://api.github.com/users/wchan/gists{/gist_id}", "starred_url": "https://api.github.com/users/wchan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wchan/subscriptions", "organizations_url": "https://api.github.com/users/wchan/orgs", "repos_url": "https://api.github.com/users/wchan/repos", "events_url": "https://api.github.com/users/wchan/events{/privacy}", "received_events_url": "https://api.github.com/users/wchan/received_events", "type": "User", "site_admin": false}, "created_at": "2015-12-25T17:39:03Z", "updated_at": "2015-12-25T17:39:23Z", "author_association": "NONE", "body_html": "<p>fyi, there is a bug in write_graph, I'll send in a patch \"shortly\", the quick fix is this:</p>\n<p>index 6f4589a..2428c66 100644<br>\n--- a/tensorflow/python/training/training_util.py<br>\n+++ b/tensorflow/python/training/training_util.py<br>\n@@ -66,8 +66,9 @@ def write_graph(graph_def, logdir, name, as_text=True):<br>\nname: Filename for the graph.<br>\nas_text: If <code>True</code>, writes the graph as an ASCII proto.<br>\n\"\"\"</p>\n<ul>\n<li>if not gfile.IsDirectory(logdir):</li>\n<li>gfile.MakeDirs(logdir)<br>\npath = os.path.join(logdir, name)</li>\n<li>gfile.MakeDirs(os.path.dirname(path))<br>\nf = gfile.FastGFile(path, \"w\")<br>\nif as_text:<br>\nf.write(str(graph_def))</li>\n</ul>", "body_text": "fyi, there is a bug in write_graph, I'll send in a patch \"shortly\", the quick fix is this:\nindex 6f4589a..2428c66 100644\n--- a/tensorflow/python/training/training_util.py\n+++ b/tensorflow/python/training/training_util.py\n@@ -66,8 +66,9 @@ def write_graph(graph_def, logdir, name, as_text=True):\nname: Filename for the graph.\nas_text: If True, writes the graph as an ASCII proto.\n\"\"\"\n\nif not gfile.IsDirectory(logdir):\ngfile.MakeDirs(logdir)\npath = os.path.join(logdir, name)\ngfile.MakeDirs(os.path.dirname(path))\nf = gfile.FastGFile(path, \"w\")\nif as_text:\nf.write(str(graph_def))", "body": "fyi, there is a bug in write_graph, I'll send in a patch \"shortly\", the quick fix is this:\n\nindex 6f4589a..2428c66 100644\n--- a/tensorflow/python/training/training_util.py\n+++ b/tensorflow/python/training/training_util.py\n@@ -66,8 +66,9 @@ def write_graph(graph_def, logdir, name, as_text=True):\n     name: Filename for the graph.\n     as_text: If `True`, writes the graph as an ASCII proto.\n   \"\"\"\n-  if not gfile.IsDirectory(logdir):\n-    gfile.MakeDirs(logdir)\n  path = os.path.join(logdir, name)\n-  gfile.MakeDirs(os.path.dirname(path))\n  f = gfile.FastGFile(path, \"w\")\n  if as_text:\n   f.write(str(graph_def))\n"}