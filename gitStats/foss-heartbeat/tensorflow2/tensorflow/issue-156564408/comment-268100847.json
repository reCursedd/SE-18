{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/268100847", "html_url": "https://github.com/tensorflow/tensorflow/issues/2492#issuecomment-268100847", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2492", "id": 268100847, "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODEwMDg0Nw==", "user": {"login": "fighting41love", "id": 11475294, "node_id": "MDQ6VXNlcjExNDc1Mjk0", "avatar_url": "https://avatars1.githubusercontent.com/u/11475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fighting41love", "html_url": "https://github.com/fighting41love", "followers_url": "https://api.github.com/users/fighting41love/followers", "following_url": "https://api.github.com/users/fighting41love/following{/other_user}", "gists_url": "https://api.github.com/users/fighting41love/gists{/gist_id}", "starred_url": "https://api.github.com/users/fighting41love/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fighting41love/subscriptions", "organizations_url": "https://api.github.com/users/fighting41love/orgs", "repos_url": "https://api.github.com/users/fighting41love/repos", "events_url": "https://api.github.com/users/fighting41love/events{/privacy}", "received_events_url": "https://api.github.com/users/fighting41love/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-19T22:45:15Z", "updated_at": "2016-12-19T22:45:15Z", "author_association": "NONE", "body_html": "<p>Thanks! <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5563237\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gorinars\">@gorinars</a><br>\nI'm working on this script: <a href=\"https://github.com/thaije/code-to-comment/blob/master/seq2seq/translate.py\">translate.py (code-to-comment)</a><br>\nIn function train() (line 224), we just remove the \"#\" from lines 277 and 278.<br>\nIn this case, the code can train a model for every 5000 steps, then save the model, and then evaluate the performance.</p>\n<p>An error appears as follows:</p>\n<p>Traceback (most recent call last):<br>\nFile \"translate.py\", line 443, in <br>\ntf.app.run()<br>\nFile \"/anaconda/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv))<br>\nFile \"translate.py\", line 440, in main<br>\ntrain()<br>\nFile \"translate.py\", line 291, in train<br>\ntranslate_file(source_path=dev_code_file,target_path=translated_dev_code)<br>\nFile \"translate.py\", line 149, in translate_file<br>\nmodel = create_model(sess, True)<br>\nFile \"translate.py\", line 225, in create_model<br>\nforward_only=forward_only)<br>\nFile \"/Users/yy/PycharmProjects/test_code2comment/seq2seq/seq2seq_model.py\", line 89, in <strong>init</strong><br>\nw = tf.get_variable(\"proj_w\", [size, self.target_vocab_size])<br>\nFile \"/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 339, in get_variable<br>\ncollections=collections)<br>\nFile \"/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 262, in get_variable<br>\ncollections=collections, caching_device=caching_device)<br>\nFile \"/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 118, in get_variable<br>\nname, \"\".join(traceback.format_list(tb))))<br>\n<strong>ValueError: Variable proj_w already exists, disallowed. Did you mean to set reuse=True in VarScope? Originally defined at:</strong></p>\n<p>File \"/Users/yy/PycharmProjects/test_code2comment/seq2seq/seq2seq_model.py\", line 89, in <strong>init</strong><br>\nw = tf.get_variable(\"proj_w\", [size, self.target_vocab_size])<br>\nFile \"translate.py\", line 225, in create_model<br>\nforward_only=forward_only)<br>\nFile \"translate.py\", line 248, in train<br>\nmodel = create_model(sess, False)</p>\n<p>The translate.py of code-to-comment is a little different from this <a href=\"https://github.com/cmusphinx/g2p-seq2seq/blob/master/g2p_seq2seq/app.py\">example</a>.</p>\n<p>I think the problem is the same. But I don't know how to fix the error in my code...</p>\n<p>Thanks!</p>", "body_text": "Thanks! @gorinars\nI'm working on this script: translate.py (code-to-comment)\nIn function train() (line 224), we just remove the \"#\" from lines 277 and 278.\nIn this case, the code can train a model for every 5000 steps, then save the model, and then evaluate the performance.\nAn error appears as follows:\nTraceback (most recent call last):\nFile \"translate.py\", line 443, in \ntf.app.run()\nFile \"/anaconda/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv))\nFile \"translate.py\", line 440, in main\ntrain()\nFile \"translate.py\", line 291, in train\ntranslate_file(source_path=dev_code_file,target_path=translated_dev_code)\nFile \"translate.py\", line 149, in translate_file\nmodel = create_model(sess, True)\nFile \"translate.py\", line 225, in create_model\nforward_only=forward_only)\nFile \"/Users/yy/PycharmProjects/test_code2comment/seq2seq/seq2seq_model.py\", line 89, in init\nw = tf.get_variable(\"proj_w\", [size, self.target_vocab_size])\nFile \"/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 339, in get_variable\ncollections=collections)\nFile \"/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 262, in get_variable\ncollections=collections, caching_device=caching_device)\nFile \"/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 118, in get_variable\nname, \"\".join(traceback.format_list(tb))))\nValueError: Variable proj_w already exists, disallowed. Did you mean to set reuse=True in VarScope? Originally defined at:\nFile \"/Users/yy/PycharmProjects/test_code2comment/seq2seq/seq2seq_model.py\", line 89, in init\nw = tf.get_variable(\"proj_w\", [size, self.target_vocab_size])\nFile \"translate.py\", line 225, in create_model\nforward_only=forward_only)\nFile \"translate.py\", line 248, in train\nmodel = create_model(sess, False)\nThe translate.py of code-to-comment is a little different from this example.\nI think the problem is the same. But I don't know how to fix the error in my code...\nThanks!", "body": "Thanks! @gorinars  \r\nI'm working on this script: [translate.py (code-to-comment)](https://github.com/thaije/code-to-comment/blob/master/seq2seq/translate.py)\r\nIn function train() (line 224), we just remove the \"#\" from lines 277 and 278.\r\nIn this case, the code can train a model for every 5000 steps, then save the model, and then evaluate the performance.\r\n\r\nAn error appears as follows:\r\n\r\nTraceback (most recent call last):\r\n  File \"translate.py\", line 443, in <module>\r\n    tf.app.run()\r\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\r\n    sys.exit(main(sys.argv))\r\n  File \"translate.py\", line 440, in main\r\n    train()\r\n  File \"translate.py\", line 291, in train\r\n    translate_file(source_path=dev_code_file,target_path=translated_dev_code)\r\n  File \"translate.py\", line 149, in translate_file\r\n    model = create_model(sess, True)\r\n  File \"translate.py\", line 225, in create_model\r\n    forward_only=forward_only)\r\n  File \"/Users/yy/PycharmProjects/test_code2comment/seq2seq/seq2seq_model.py\", line 89, in __init__\r\n    w = tf.get_variable(\"proj_w\", [size, self.target_vocab_size])\r\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 339, in get_variable\r\n    collections=collections)\r\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 262, in get_variable\r\n    collections=collections, caching_device=caching_device)\r\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 118, in get_variable\r\n    name, \"\".join(traceback.format_list(tb))))\r\n**ValueError: Variable proj_w already exists, disallowed. Did you mean to set reuse=True in VarScope? Originally defined at:**\r\n\r\n  File \"/Users/yy/PycharmProjects/test_code2comment/seq2seq/seq2seq_model.py\", line 89, in __init__\r\n    w = tf.get_variable(\"proj_w\", [size, self.target_vocab_size])\r\n  File \"translate.py\", line 225, in create_model\r\n    forward_only=forward_only)\r\n  File \"translate.py\", line 248, in train\r\n    model = create_model(sess, False)\r\n\r\nThe translate.py of code-to-comment is a little different from this [example](https://github.com/cmusphinx/g2p-seq2seq/blob/master/g2p_seq2seq/app.py).\r\n\r\nI think the problem is the same. But I don't know how to fix the error in my code...\r\n\r\nThanks!\r\n\r\n\r\n"}