{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/421896506", "html_url": "https://github.com/tensorflow/tensorflow/issues/22268#issuecomment-421896506", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22268", "id": 421896506, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg5NjUwNg==", "user": {"login": "taotaolin", "id": 11807206, "node_id": "MDQ6VXNlcjExODA3MjA2", "avatar_url": "https://avatars3.githubusercontent.com/u/11807206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taotaolin", "html_url": "https://github.com/taotaolin", "followers_url": "https://api.github.com/users/taotaolin/followers", "following_url": "https://api.github.com/users/taotaolin/following{/other_user}", "gists_url": "https://api.github.com/users/taotaolin/gists{/gist_id}", "starred_url": "https://api.github.com/users/taotaolin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taotaolin/subscriptions", "organizations_url": "https://api.github.com/users/taotaolin/orgs", "repos_url": "https://api.github.com/users/taotaolin/repos", "events_url": "https://api.github.com/users/taotaolin/events{/privacy}", "received_events_url": "https://api.github.com/users/taotaolin/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-17T05:58:18Z", "updated_at": "2018-09-17T05:58:18Z", "author_association": "NONE", "body_html": "<blockquote>\n<p>Did you run configure script?<br>\nAlso, in bazel command line syntax, you are not allowed to have empty spaces around <code>=</code>, so you need to provide the options as <code>--config=opt --config=cuda</code></p>\n</blockquote>\n<p>It has been complied. but have err:</p>\n<pre><code>G:\\tensorflow&gt;bazel build --config=opt --config=cuda //tensorflow:libtensorflow.\nso\nWARNING: The following configs were expanded more than once: [cuda]. For repeata\nble flags, repeats are counted twice and may lead to unexpected behavior.\nWARNING: Option 'experimental_shortened_obj_file_path' is deprecated\nLoading:\nLoading: 0 packages loaded\nLoading: 0 packages loaded\n    currently loading: tensorflow\nLoading: 0 packages loaded\n    currently loading: tensorflow\nLoading: 0 packages loaded\n    currently loading: tensorflow\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: 'BAZEL_VC' is not set, start looking for the latest\nVisual C++ installed.\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Looking for VS%VERSION%COMNTOOLS environment variabl\nes, eg. VS140COMNTOOLS\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Visual C++ build tools found at C:\\Program Files (x8\n6)\\Microsoft Visual Studio 14.0\\VC\\\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: 'BAZEL_VC' is not set, start looking for the latest\nVisual C++ installed.\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Looking for VS%VERSION%COMNTOOLS environment variabl\nes, eg. VS140COMNTOOLS\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Visual C++ build tools found at C:\\Program Files (x8\n6)\\Microsoft Visual Studio 14.0\\VC\\\nAnalyzing: target //tensorflow:libtensorflow.so (1 packages loaded)\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: 'BAZEL_VC' is not set, start looking for the latest\nVisual C++ installed.\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Looking for VS%VERSION%COMNTOOLS environment variabl\nes, eg. VS140COMNTOOLS\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Visual C++ build tools found at C:\\Program Files (x8\n6)\\Microsoft Visual Studio 14.0\\VC\\\nAnalyzing: target //tensorflow:libtensorflow.so (10 packages loaded)\nAnalyzing: target //tensorflow:libtensorflow.so (45 packages loaded)\nAnalyzing: target //tensorflow:libtensorflow.so (72 packages loaded)\nAnalyzing: target //tensorflow:libtensorflow.so (84 packages loaded)\nERROR: G:/tensorflow/tensorflow/core/platform/default/build_config/BUILD:188:1:\nno such package '@png_archive//': Traceback (most recent call last):\n        File \"G:/tensorflow/third_party/repo.bzl\", line 106\n                _apply_patch(ctx, ctx.attr.patch_file)\n        File \"G:/tensorflow/third_party/repo.bzl\", line 73, in _apply_patch\n                _execute_and_check_ret_code(ctx, cmd)\n        File \"G:/tensorflow/third_party/repo.bzl\", line 52, in _execute_and_chec\nk_ret_code\n                fail(\"Non-zero return code({1}) when ...))\nNon-zero return code(256) when executing 'C:\\msys64\\usr\\bin\\bash.exe -l -c patch\n -p1 -d C:/users/tao/_bazel_tao/ic7qrvhc/external/png_archive -i G:/tensorflow/t\nhird_party/png_fix_rpi.patch':\nStdout:\nStderr: Timed out and referenced by '//tensorflow/core/platform/default/build_co\nnfig:png'\nERROR: Analysis of target '//tensorflow:libtensorflow.so' failed; build aborted:\n Analysis failed\nINFO: Elapsed time: 56.491s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully (84 packages loaded)\nFAILED: Build did NOT complete successfully (84 packages loaded)\n</code></pre>\n<p>i can't understand why<code>no such package '@png_archive//': Traceback (most recent call last):</code> is produced</p>", "body_text": "Did you run configure script?\nAlso, in bazel command line syntax, you are not allowed to have empty spaces around =, so you need to provide the options as --config=opt --config=cuda\n\nIt has been complied. but have err:\nG:\\tensorflow>bazel build --config=opt --config=cuda //tensorflow:libtensorflow.\nso\nWARNING: The following configs were expanded more than once: [cuda]. For repeata\nble flags, repeats are counted twice and may lead to unexpected behavior.\nWARNING: Option 'experimental_shortened_obj_file_path' is deprecated\nLoading:\nLoading: 0 packages loaded\nLoading: 0 packages loaded\n    currently loading: tensorflow\nLoading: 0 packages loaded\n    currently loading: tensorflow\nLoading: 0 packages loaded\n    currently loading: tensorflow\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: 'BAZEL_VC' is not set, start looking for the latest\nVisual C++ installed.\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Looking for VS%VERSION%COMNTOOLS environment variabl\nes, eg. VS140COMNTOOLS\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Visual C++ build tools found at C:\\Program Files (x8\n6)\\Microsoft Visual Studio 14.0\\VC\\\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: 'BAZEL_VC' is not set, start looking for the latest\nVisual C++ installed.\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Looking for VS%VERSION%COMNTOOLS environment variabl\nes, eg. VS140COMNTOOLS\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Visual C++ build tools found at C:\\Program Files (x8\n6)\\Microsoft Visual Studio 14.0\\VC\\\nAnalyzing: target //tensorflow:libtensorflow.so (1 packages loaded)\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: 'BAZEL_VC' is not set, start looking for the latest\nVisual C++ installed.\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Looking for VS%VERSION%COMNTOOLS environment variabl\nes, eg. VS140COMNTOOLS\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\nnfigure.bzl:115:5:\nAuto-Configuration Warning: Visual C++ build tools found at C:\\Program Files (x8\n6)\\Microsoft Visual Studio 14.0\\VC\\\nAnalyzing: target //tensorflow:libtensorflow.so (10 packages loaded)\nAnalyzing: target //tensorflow:libtensorflow.so (45 packages loaded)\nAnalyzing: target //tensorflow:libtensorflow.so (72 packages loaded)\nAnalyzing: target //tensorflow:libtensorflow.so (84 packages loaded)\nERROR: G:/tensorflow/tensorflow/core/platform/default/build_config/BUILD:188:1:\nno such package '@png_archive//': Traceback (most recent call last):\n        File \"G:/tensorflow/third_party/repo.bzl\", line 106\n                _apply_patch(ctx, ctx.attr.patch_file)\n        File \"G:/tensorflow/third_party/repo.bzl\", line 73, in _apply_patch\n                _execute_and_check_ret_code(ctx, cmd)\n        File \"G:/tensorflow/third_party/repo.bzl\", line 52, in _execute_and_chec\nk_ret_code\n                fail(\"Non-zero return code({1}) when ...))\nNon-zero return code(256) when executing 'C:\\msys64\\usr\\bin\\bash.exe -l -c patch\n -p1 -d C:/users/tao/_bazel_tao/ic7qrvhc/external/png_archive -i G:/tensorflow/t\nhird_party/png_fix_rpi.patch':\nStdout:\nStderr: Timed out and referenced by '//tensorflow/core/platform/default/build_co\nnfig:png'\nERROR: Analysis of target '//tensorflow:libtensorflow.so' failed; build aborted:\n Analysis failed\nINFO: Elapsed time: 56.491s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully (84 packages loaded)\nFAILED: Build did NOT complete successfully (84 packages loaded)\n\ni can't understand whyno such package '@png_archive//': Traceback (most recent call last): is produced", "body": "> Did you run configure script?\r\n> Also, in bazel command line syntax, you are not allowed to have empty spaces around `=`, so you need to provide the options as `--config=opt --config=cuda`\r\n\r\nIt has been complied. but have err:\r\n```\r\nG:\\tensorflow>bazel build --config=opt --config=cuda //tensorflow:libtensorflow.\r\nso\r\nWARNING: The following configs were expanded more than once: [cuda]. For repeata\r\nble flags, repeats are counted twice and may lead to unexpected behavior.\r\nWARNING: Option 'experimental_shortened_obj_file_path' is deprecated\r\nLoading:\r\nLoading: 0 packages loaded\r\nLoading: 0 packages loaded\r\n    currently loading: tensorflow\r\nLoading: 0 packages loaded\r\n    currently loading: tensorflow\r\nLoading: 0 packages loaded\r\n    currently loading: tensorflow\r\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\r\nnfigure.bzl:115:5:\r\nAuto-Configuration Warning: 'BAZEL_VC' is not set, start looking for the latest\r\nVisual C++ installed.\r\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\r\nnfigure.bzl:115:5:\r\nAuto-Configuration Warning: Looking for VS%VERSION%COMNTOOLS environment variabl\r\nes, eg. VS140COMNTOOLS\r\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\r\nnfigure.bzl:115:5:\r\nAuto-Configuration Warning: Visual C++ build tools found at C:\\Program Files (x8\r\n6)\\Microsoft Visual Studio 14.0\\VC\\\r\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\r\nnfigure.bzl:115:5:\r\nAuto-Configuration Warning: 'BAZEL_VC' is not set, start looking for the latest\r\nVisual C++ installed.\r\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\r\nnfigure.bzl:115:5:\r\nAuto-Configuration Warning: Looking for VS%VERSION%COMNTOOLS environment variabl\r\nes, eg. VS140COMNTOOLS\r\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\r\nnfigure.bzl:115:5:\r\nAuto-Configuration Warning: Visual C++ build tools found at C:\\Program Files (x8\r\n6)\\Microsoft Visual Studio 14.0\\VC\\\r\nAnalyzing: target //tensorflow:libtensorflow.so (1 packages loaded)\r\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\r\nnfigure.bzl:115:5:\r\nAuto-Configuration Warning: 'BAZEL_VC' is not set, start looking for the latest\r\nVisual C++ installed.\r\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\r\nnfigure.bzl:115:5:\r\nAuto-Configuration Warning: Looking for VS%VERSION%COMNTOOLS environment variabl\r\nes, eg. VS140COMNTOOLS\r\nDEBUG: C:/users/tao/_bazel_tao/ic7qrvhc/external/bazel_tools/tools/cpp/lib_cc_co\r\nnfigure.bzl:115:5:\r\nAuto-Configuration Warning: Visual C++ build tools found at C:\\Program Files (x8\r\n6)\\Microsoft Visual Studio 14.0\\VC\\\r\nAnalyzing: target //tensorflow:libtensorflow.so (10 packages loaded)\r\nAnalyzing: target //tensorflow:libtensorflow.so (45 packages loaded)\r\nAnalyzing: target //tensorflow:libtensorflow.so (72 packages loaded)\r\nAnalyzing: target //tensorflow:libtensorflow.so (84 packages loaded)\r\nERROR: G:/tensorflow/tensorflow/core/platform/default/build_config/BUILD:188:1:\r\nno such package '@png_archive//': Traceback (most recent call last):\r\n        File \"G:/tensorflow/third_party/repo.bzl\", line 106\r\n                _apply_patch(ctx, ctx.attr.patch_file)\r\n        File \"G:/tensorflow/third_party/repo.bzl\", line 73, in _apply_patch\r\n                _execute_and_check_ret_code(ctx, cmd)\r\n        File \"G:/tensorflow/third_party/repo.bzl\", line 52, in _execute_and_chec\r\nk_ret_code\r\n                fail(\"Non-zero return code({1}) when ...))\r\nNon-zero return code(256) when executing 'C:\\msys64\\usr\\bin\\bash.exe -l -c patch\r\n -p1 -d C:/users/tao/_bazel_tao/ic7qrvhc/external/png_archive -i G:/tensorflow/t\r\nhird_party/png_fix_rpi.patch':\r\nStdout:\r\nStderr: Timed out and referenced by '//tensorflow/core/platform/default/build_co\r\nnfig:png'\r\nERROR: Analysis of target '//tensorflow:libtensorflow.so' failed; build aborted:\r\n Analysis failed\r\nINFO: Elapsed time: 56.491s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (84 packages loaded)\r\nFAILED: Build did NOT complete successfully (84 packages loaded)\r\n```\r\ni can't understand why`no such package '@png_archive//': Traceback (most recent call last):` is produced"}