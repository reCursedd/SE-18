{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/428047175", "html_url": "https://github.com/tensorflow/tensorflow/issues/22338#issuecomment-428047175", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22338", "id": 428047175, "node_id": "MDEyOklzc3VlQ29tbWVudDQyODA0NzE3NQ==", "user": {"login": "EdwardVincentMa", "id": 39480728, "node_id": "MDQ6VXNlcjM5NDgwNzI4", "avatar_url": "https://avatars3.githubusercontent.com/u/39480728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EdwardVincentMa", "html_url": "https://github.com/EdwardVincentMa", "followers_url": "https://api.github.com/users/EdwardVincentMa/followers", "following_url": "https://api.github.com/users/EdwardVincentMa/following{/other_user}", "gists_url": "https://api.github.com/users/EdwardVincentMa/gists{/gist_id}", "starred_url": "https://api.github.com/users/EdwardVincentMa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EdwardVincentMa/subscriptions", "organizations_url": "https://api.github.com/users/EdwardVincentMa/orgs", "repos_url": "https://api.github.com/users/EdwardVincentMa/repos", "events_url": "https://api.github.com/users/EdwardVincentMa/events{/privacy}", "received_events_url": "https://api.github.com/users/EdwardVincentMa/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-09T03:26:32Z", "updated_at": "2018-10-09T03:26:32Z", "author_association": "NONE", "body_html": "<blockquote>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4171702\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/meteorcloudy\">@meteorcloudy</a> Of course. This is the test code.</p>\n<pre><code>#define _SCL_SECURE_NO_WARNINGS\n#define NOMINMAX\n#define COMPILER_MSVC\n\n#include \"tensorflow/cc/client/client_session.h\"\n#include \"tensorflow/cc/ops/standard_ops.h\"\n#include \"tensorflow/core/framework/tensor.h\"\n\nint main() {\n\tusing namespace tensorflow;\n\tusing namespace tensorflow::ops;\n\tScope root = Scope::NewRootScope();\n\tauto A = Const(root, { { 3.f, 2.f },{ -1.f, 0.f } });\n\tauto b = Const(root, { { 3.f, 5.f } });\n\tauto v = MatMul(root.WithOpName(\"v\"), A, b, MatMul::TransposeB(true));\n\tstd::vector&lt;Tensor&gt; outputs;\n\tClientSession session(root);\n\tTF_CHECK_OK(session.Run({ v }, &amp;outputs));\n\tstd::cout &lt;&lt; outputs[0].matrix&lt;float&gt;();\n\tgetchar();\n\treturn 0;\n}\n</code></pre>\n<p>I also compile the code with the tensorflow r1.4 's dll and lib which is built using cmake, and it works well.</p>\n</blockquote>\n<p>\u6211\u4eec\u4e00\u6837\uff0c\u62111.8\u7248\u672cCMAKE\u7f16\u8bd1\u7684\u7528\u8d77\u6765\u4e5f\u6ca1lnk error</p>", "body_text": "@meteorcloudy Of course. This is the test code.\n#define _SCL_SECURE_NO_WARNINGS\n#define NOMINMAX\n#define COMPILER_MSVC\n\n#include \"tensorflow/cc/client/client_session.h\"\n#include \"tensorflow/cc/ops/standard_ops.h\"\n#include \"tensorflow/core/framework/tensor.h\"\n\nint main() {\n\tusing namespace tensorflow;\n\tusing namespace tensorflow::ops;\n\tScope root = Scope::NewRootScope();\n\tauto A = Const(root, { { 3.f, 2.f },{ -1.f, 0.f } });\n\tauto b = Const(root, { { 3.f, 5.f } });\n\tauto v = MatMul(root.WithOpName(\"v\"), A, b, MatMul::TransposeB(true));\n\tstd::vector<Tensor> outputs;\n\tClientSession session(root);\n\tTF_CHECK_OK(session.Run({ v }, &outputs));\n\tstd::cout << outputs[0].matrix<float>();\n\tgetchar();\n\treturn 0;\n}\n\nI also compile the code with the tensorflow r1.4 's dll and lib which is built using cmake, and it works well.\n\n\u6211\u4eec\u4e00\u6837\uff0c\u62111.8\u7248\u672cCMAKE\u7f16\u8bd1\u7684\u7528\u8d77\u6765\u4e5f\u6ca1lnk error", "body": "> @meteorcloudy Of course. This is the test code.\r\n> \r\n> ```\r\n> #define _SCL_SECURE_NO_WARNINGS\r\n> #define NOMINMAX\r\n> #define COMPILER_MSVC\r\n> \r\n> #include \"tensorflow/cc/client/client_session.h\"\r\n> #include \"tensorflow/cc/ops/standard_ops.h\"\r\n> #include \"tensorflow/core/framework/tensor.h\"\r\n> \r\n> int main() {\r\n> \tusing namespace tensorflow;\r\n> \tusing namespace tensorflow::ops;\r\n> \tScope root = Scope::NewRootScope();\r\n> \tauto A = Const(root, { { 3.f, 2.f },{ -1.f, 0.f } });\r\n> \tauto b = Const(root, { { 3.f, 5.f } });\r\n> \tauto v = MatMul(root.WithOpName(\"v\"), A, b, MatMul::TransposeB(true));\r\n> \tstd::vector<Tensor> outputs;\r\n> \tClientSession session(root);\r\n> \tTF_CHECK_OK(session.Run({ v }, &outputs));\r\n> \tstd::cout << outputs[0].matrix<float>();\r\n> \tgetchar();\r\n> \treturn 0;\r\n> }\r\n> ```\r\n> I also compile the code with the tensorflow r1.4 's dll and lib which is built using cmake, and it works well.\r\n\r\n\u6211\u4eec\u4e00\u6837\uff0c\u62111.8\u7248\u672cCMAKE\u7f16\u8bd1\u7684\u7528\u8d77\u6765\u4e5f\u6ca1lnk error"}