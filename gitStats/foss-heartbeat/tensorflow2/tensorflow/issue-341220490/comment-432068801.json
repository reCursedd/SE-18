{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/432068801", "html_url": "https://github.com/tensorflow/tensorflow/issues/20798#issuecomment-432068801", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20798", "id": 432068801, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjA2ODgwMQ==", "user": {"login": "jayzhou215", "id": 909553, "node_id": "MDQ6VXNlcjkwOTU1Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/909553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayzhou215", "html_url": "https://github.com/jayzhou215", "followers_url": "https://api.github.com/users/jayzhou215/followers", "following_url": "https://api.github.com/users/jayzhou215/following{/other_user}", "gists_url": "https://api.github.com/users/jayzhou215/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayzhou215/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayzhou215/subscriptions", "organizations_url": "https://api.github.com/users/jayzhou215/orgs", "repos_url": "https://api.github.com/users/jayzhou215/repos", "events_url": "https://api.github.com/users/jayzhou215/events{/privacy}", "received_events_url": "https://api.github.com/users/jayzhou215/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-23T02:50:40Z", "updated_at": "2018-10-23T02:56:04Z", "author_association": "NONE", "body_html": "<p>Share my problem and the solution.<br>\nproblem:  I don't know what is the accutally input_arrays and output_arrays.<br>\nI use keras to build the model, and try use<br>\n<code>start_layer.input</code> which is<br>\n<code>&lt;tf.Tensor 'convolution2d_input_1:0' shape=(?, 3, 448, 448) dtype=float32&gt;</code><br>\nand <code>end_layer.output</code> which is <code>&lt;tf.Tensor 'add_11:0' shape=(?, 1470) dtype=float32&gt;</code><br>\n. But I got errors like<code>Invalid tensors 'convolution2d_input_1:0' were found</code><br>\nmy origin command is</p>\n<pre><code>tflite_convert \\\n  --output_file=tf.tflite \\\n  --graph_def_file=tf.pb \\\n  --input_arrays=convolution2d_input_1 \\\n  --output_arrays=dense_3/add_11 \\\n  --input_shape=1,3,448,448\n</code></pre>\n<p>fix: add <code>print(list(tensor_name_to_tensor))</code> to contrib/lite/python/convert_saved_model.py line 176 in function get_tensors_from_tensor_names()</p>\n<p>after execute the tflite_convert command again, it print all the tensor name.<br>\nmy finally command which execute success</p>\n<pre><code>tflite_convert \\\n  --output_file=tf.tflite \\\n  --graph_def_file=tf.pb \\\n  --input_arrays=convolution2d_1_input \\\n  --output_arrays=dense_3/BiasAdd \\\n  --input_shape=1,3,448,448\n</code></pre>", "body_text": "Share my problem and the solution.\nproblem:  I don't know what is the accutally input_arrays and output_arrays.\nI use keras to build the model, and try use\nstart_layer.input which is\n<tf.Tensor 'convolution2d_input_1:0' shape=(?, 3, 448, 448) dtype=float32>\nand end_layer.output which is <tf.Tensor 'add_11:0' shape=(?, 1470) dtype=float32>\n. But I got errors likeInvalid tensors 'convolution2d_input_1:0' were found\nmy origin command is\ntflite_convert \\\n  --output_file=tf.tflite \\\n  --graph_def_file=tf.pb \\\n  --input_arrays=convolution2d_input_1 \\\n  --output_arrays=dense_3/add_11 \\\n  --input_shape=1,3,448,448\n\nfix: add print(list(tensor_name_to_tensor)) to contrib/lite/python/convert_saved_model.py line 176 in function get_tensors_from_tensor_names()\nafter execute the tflite_convert command again, it print all the tensor name.\nmy finally command which execute success\ntflite_convert \\\n  --output_file=tf.tflite \\\n  --graph_def_file=tf.pb \\\n  --input_arrays=convolution2d_1_input \\\n  --output_arrays=dense_3/BiasAdd \\\n  --input_shape=1,3,448,448", "body": "Share my problem and the solution.\r\nproblem:  I don't know what is the accutally input_arrays and output_arrays.\r\nI use keras to build the model, and try use \r\n`start_layer.input` which is \r\n`<tf.Tensor 'convolution2d_input_1:0' shape=(?, 3, 448, 448) dtype=float32>`\r\nand `end_layer.output` which is `<tf.Tensor 'add_11:0' shape=(?, 1470) dtype=float32>`\r\n. But I got errors like`Invalid tensors 'convolution2d_input_1:0' were found`\r\nmy origin command is \r\n```\r\ntflite_convert \\\r\n  --output_file=tf.tflite \\\r\n  --graph_def_file=tf.pb \\\r\n  --input_arrays=convolution2d_input_1 \\\r\n  --output_arrays=dense_3/add_11 \\\r\n  --input_shape=1,3,448,448\r\n```\r\nfix: add `print(list(tensor_name_to_tensor))` to contrib/lite/python/convert_saved_model.py line 176 in function get_tensors_from_tensor_names()\r\n\r\nafter execute the tflite_convert command again, it print all the tensor name. \r\nmy finally command which execute success\r\n```\r\ntflite_convert \\\r\n  --output_file=tf.tflite \\\r\n  --graph_def_file=tf.pb \\\r\n  --input_arrays=convolution2d_1_input \\\r\n  --output_arrays=dense_3/BiasAdd \\\r\n  --input_shape=1,3,448,448\r\n```\r\n"}