{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19129", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19129/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19129/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19129/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19129", "id": 320922797, "node_id": "MDU6SXNzdWUzMjA5MjI3OTc=", "number": 19129, "title": "Linker errors building Tensorflow master on Windows 10", "user": {"login": "ben11355", "id": 39065693, "node_id": "MDQ6VXNlcjM5MDY1Njkz", "avatar_url": "https://avatars1.githubusercontent.com/u/39065693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ben11355", "html_url": "https://github.com/ben11355", "followers_url": "https://api.github.com/users/ben11355/followers", "following_url": "https://api.github.com/users/ben11355/following{/other_user}", "gists_url": "https://api.github.com/users/ben11355/gists{/gist_id}", "starred_url": "https://api.github.com/users/ben11355/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ben11355/subscriptions", "organizations_url": "https://api.github.com/users/ben11355/orgs", "repos_url": "https://api.github.com/users/ben11355/repos", "events_url": "https://api.github.com/users/ben11355/events{/privacy}", "received_events_url": "https://api.github.com/users/ben11355/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-05-07T19:17:33Z", "updated_at": "2018-09-28T21:22:26Z", "closed_at": "2018-09-28T21:22:26Z", "author_association": "NONE", "body_html": "<p>Hi Guys,<br>\nI am trying to build tensorflow master.</p>\n<p>I am running Windows 10, Python 3.5, Visual Studio 2015, CUDA 9.0 and cudnn 9.0 windows10 v7.1.</p>\n<p>I follow the instruction on the README file and was able to get cmake to create the visual studio solutions/project files as follows:<br>\n<strong>cmake .. -A x64 -DCMAKE_BUILD_TYPE=Release -DSWIG_EXECUTABLE=\"C:\\swigwin-3.0.12\\swig.exe\" -DPYTHON_EXECUTABLE=\"C:\\Python35\\python.exe\" -DPYTHON_LIBRARIES=\"C:\\Python35\\libs\\python35.lib\" -Dtensorflow_ENABLE_GPU=ON -DCUDNN_HOME=\"C:\\cudnn_90_712\"</strong></p>\n<p>However, when I tried to build with the following command:<br>\n<strong>MSBuild /p:Configuration=Release tf_tutorials_example_trainer.vcxproj</strong></p>\n<p>I got some linker errors:<br>\n\"C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_example_trainer.vcxproj\" (default target) (1) -&gt;<br>\n(Link target) -&gt;<br>\neager_operation.obj : error LNK2019: unresolved external symbol \"public: class tensorflow::AttrBuilder &amp; __cdecl tensorflow::AttrBuilder::NumInputs(int)\" (?NumInputs@AttrBuilder@tensorflow@@QEAAAEAV12@H<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=49380\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/z\">@z</a>) referenced in function \"public: void __cdecl tensorflow::EagerOperation::AddInput(class tensorflow::TensorHandle *)\" (?AddInput@EagerOperation@tensorflow@@QEAAXPEAVTensorHandle@2@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=49380\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/z\">@z</a>) [C:\\temp\\tensorfl<br>\now\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_example_trainer.vcxproj]<br>\nexecute.obj : error LNK2019: unresolved external symbol \"class tensorflow::Status __cdecl tensorflow::OpDefForOp(char const *,class tensorflow::OpDef const * *)\" (?OpDefForOp@tensorflow@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=37194469\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ya\">@ya</a>?AVStatus@1@P<br>\nEBDPEAPEBVOpDef@1@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=49380\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/z\">@z</a>) referenced in function \"class tensorflow::Status _<em>cdecl tensorflow::EagerExecute(class tensorflow::EagerOperation *,class tensorflow::gtl::InlinedVector&lt;class tensorflow::TensorHand<br>\nle *,2&gt; *,int *)\" (?EagerExecute@tensorflow@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=37194469\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ya\">@ya</a>?AVStatus@1@PEAVEagerOperation@1@PEAV?$InlinedVector@PEAVTensorHandle@tensorflow@@$01@gtl@1@PEAH@Z) [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf</em><br>\ntutorials_example_trainer.vcxproj]<br>\nexecute.obj : error LNK2019: unresolved external symbol \"public: struct tensorflow::Fprint128 __cdecl tensorflow::AttrBuilder::CacheKey(class std::basic_string&lt;char,struct std::char_traits,class s<br>\ntd::allocator &gt; const &amp;)const \" (?CacheKey@AttrBuilder@tensorflow@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=29443296\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/qeba\">@qeba</a>?AUFprint128@2@AEBV?$basic_string@DU?$char_traits@D@std@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=627846\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/v\">@v</a>?$allocator@D@2@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=434613\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/std\">@std</a>@@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=49380\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/z\">@z</a>) referenced in function \"class tensorflow::S<br>\ntatus __cdecl tensorflow::EagerExecute(class tensorflow::EagerOperation *,class tensorflow::gtl::InlinedVector&lt;class tensorflow::TensorHandle *,2&gt; *,int *)\" (?EagerExecute@tensorflow@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=37194469\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ya\">@ya</a>?AVStatus@1@PEAVEa<br>\ngerOperation@1@PEAV?$InlinedVector@PEAVTensorHandle@tensorflow@@$01@gtl@1@PEAH@Z) [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_example_trainer.vcxproj]<br>\nexecute.obj : error LNK2019: unresolved external symbol \"public: class tensorflow::NodeDef const &amp; __cdecl tensorflow::AttrBuilder::BuildNodeDef(void)\" (?BuildNodeDef@AttrBuilder@tensorflow@@QEAAAEBVNod<br>\neDef@2@XZ) referenced in function \"class tensorflow::Status __cdecl tensorflow::EagerExecute(class tensorflow::EagerOperation *,class tensorflow::gtl::InlinedVector&lt;class tensorflow::TensorHandle *,2&gt; *,i<br>\nnt *)\" (?EagerExecute@tensorflow@<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=37194469\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ya\">@ya</a>?AVStatus@1@PEAVEagerOperation@1@PEAV?$InlinedVector@PEAVTensorHandle@tensorflow@@$01@gtl@1@PEAH@Z) [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_e<br>\nxample_trainer.vcxproj]<br>\nC:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\Release\\tf_tutorials_example_trainer.exe : fatal error LNK1120: 4 unresolved externals [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutor<br>\nials_example_trainer.vcxproj]</p>\n<p>Do you guys know what might have been wrong?</p>\n<p>Does the Windows build instructions work with tensorflow master?</p>\n<p>If not, is there another tag/version/snapshot of tensorflow that would work?</p>\n<p>Thank you very much for your help in advance!</p>\n<p>Thanks,<br>\nBen</p>", "body_text": "Hi Guys,\nI am trying to build tensorflow master.\nI am running Windows 10, Python 3.5, Visual Studio 2015, CUDA 9.0 and cudnn 9.0 windows10 v7.1.\nI follow the instruction on the README file and was able to get cmake to create the visual studio solutions/project files as follows:\ncmake .. -A x64 -DCMAKE_BUILD_TYPE=Release -DSWIG_EXECUTABLE=\"C:\\swigwin-3.0.12\\swig.exe\" -DPYTHON_EXECUTABLE=\"C:\\Python35\\python.exe\" -DPYTHON_LIBRARIES=\"C:\\Python35\\libs\\python35.lib\" -Dtensorflow_ENABLE_GPU=ON -DCUDNN_HOME=\"C:\\cudnn_90_712\"\nHowever, when I tried to build with the following command:\nMSBuild /p:Configuration=Release tf_tutorials_example_trainer.vcxproj\nI got some linker errors:\n\"C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_example_trainer.vcxproj\" (default target) (1) ->\n(Link target) ->\neager_operation.obj : error LNK2019: unresolved external symbol \"public: class tensorflow::AttrBuilder & __cdecl tensorflow::AttrBuilder::NumInputs(int)\" (?NumInputs@AttrBuilder@tensorflow@@QEAAAEAV12@H\n@z) referenced in function \"public: void __cdecl tensorflow::EagerOperation::AddInput(class tensorflow::TensorHandle *)\" (?AddInput@EagerOperation@tensorflow@@QEAAXPEAVTensorHandle@2@@z) [C:\\temp\\tensorfl\now\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_example_trainer.vcxproj]\nexecute.obj : error LNK2019: unresolved external symbol \"class tensorflow::Status __cdecl tensorflow::OpDefForOp(char const *,class tensorflow::OpDef const * *)\" (?OpDefForOp@tensorflow@@ya?AVStatus@1@P\nEBDPEAPEBVOpDef@1@@z) referenced in function \"class tensorflow::Status _cdecl tensorflow::EagerExecute(class tensorflow::EagerOperation *,class tensorflow::gtl::InlinedVector<class tensorflow::TensorHand\nle *,2> *,int *)\" (?EagerExecute@tensorflow@@ya?AVStatus@1@PEAVEagerOperation@1@PEAV?$InlinedVector@PEAVTensorHandle@tensorflow@@$01@gtl@1@PEAH@Z) [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf\ntutorials_example_trainer.vcxproj]\nexecute.obj : error LNK2019: unresolved external symbol \"public: struct tensorflow::Fprint128 __cdecl tensorflow::AttrBuilder::CacheKey(class std::basic_string<char,struct std::char_traits,class s\ntd::allocator > const &)const \" (?CacheKey@AttrBuilder@tensorflow@@qeba?AUFprint128@2@AEBV?$basic_string@DU?$char_traits@D@std@@v?$allocator@D@2@@std@@@z) referenced in function \"class tensorflow::S\ntatus __cdecl tensorflow::EagerExecute(class tensorflow::EagerOperation *,class tensorflow::gtl::InlinedVector<class tensorflow::TensorHandle *,2> *,int *)\" (?EagerExecute@tensorflow@@ya?AVStatus@1@PEAVEa\ngerOperation@1@PEAV?$InlinedVector@PEAVTensorHandle@tensorflow@@$01@gtl@1@PEAH@Z) [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_example_trainer.vcxproj]\nexecute.obj : error LNK2019: unresolved external symbol \"public: class tensorflow::NodeDef const & __cdecl tensorflow::AttrBuilder::BuildNodeDef(void)\" (?BuildNodeDef@AttrBuilder@tensorflow@@QEAAAEBVNod\neDef@2@XZ) referenced in function \"class tensorflow::Status __cdecl tensorflow::EagerExecute(class tensorflow::EagerOperation *,class tensorflow::gtl::InlinedVector<class tensorflow::TensorHandle *,2> *,i\nnt *)\" (?EagerExecute@tensorflow@@ya?AVStatus@1@PEAVEagerOperation@1@PEAV?$InlinedVector@PEAVTensorHandle@tensorflow@@$01@gtl@1@PEAH@Z) [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_e\nxample_trainer.vcxproj]\nC:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\Release\\tf_tutorials_example_trainer.exe : fatal error LNK1120: 4 unresolved externals [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutor\nials_example_trainer.vcxproj]\nDo you guys know what might have been wrong?\nDoes the Windows build instructions work with tensorflow master?\nIf not, is there another tag/version/snapshot of tensorflow that would work?\nThank you very much for your help in advance!\nThanks,\nBen", "body": "Hi Guys, \r\nI am trying to build tensorflow master.  \r\n\r\nI am running Windows 10, Python 3.5, Visual Studio 2015, CUDA 9.0 and cudnn 9.0 windows10 v7.1.\r\n\r\nI follow the instruction on the README file and was able to get cmake to create the visual studio solutions/project files as follows:\r\n**cmake .. -A x64 -DCMAKE_BUILD_TYPE=Release -DSWIG_EXECUTABLE=\"C:\\\\swigwin-3.0.12\\\\swig.exe\" -DPYTHON_EXECUTABLE=\"C:\\\\Python35\\\\python.exe\" -DPYTHON_LIBRARIES=\"C:\\\\Python35\\\\libs\\\\python35.lib\" -Dtensorflow_ENABLE_GPU=ON -DCUDNN_HOME=\"C:\\\\cudnn_90_712\"**\r\n\r\nHowever, when I tried to build with the following command:\r\n**MSBuild /p:Configuration=Release tf_tutorials_example_trainer.vcxproj**\r\n\r\nI got some linker errors:\r\n\"C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_example_trainer.vcxproj\" (default target) (1) ->\r\n(Link target) ->\r\n  eager_operation.obj : error LNK2019: unresolved external symbol \"public: class tensorflow::AttrBuilder & __cdecl tensorflow::AttrBuilder::NumInputs(int)\" (?NumInputs@AttrBuilder@tensorflow@@QEAAAEAV12@H\r\n@Z) referenced in function \"public: void __cdecl tensorflow::EagerOperation::AddInput(class tensorflow::TensorHandle *)\" (?AddInput@EagerOperation@tensorflow@@QEAAXPEAVTensorHandle@2@@Z) [C:\\temp\\tensorfl\r\now\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_example_trainer.vcxproj]\r\n  execute.obj : error LNK2019: unresolved external symbol \"class tensorflow::Status __cdecl tensorflow::OpDefForOp(char const *,class tensorflow::OpDef const * *)\" (?OpDefForOp@tensorflow@@YA?AVStatus@1@P\r\nEBDPEAPEBVOpDef@1@@Z) referenced in function \"class tensorflow::Status __cdecl tensorflow::EagerExecute(class tensorflow::EagerOperation *,class tensorflow::gtl::InlinedVector<class tensorflow::TensorHand\r\nle *,2> *,int *)\" (?EagerExecute@tensorflow@@YA?AVStatus@1@PEAVEagerOperation@1@PEAV?$InlinedVector@PEAVTensorHandle@tensorflow@@$01@gtl@1@PEAH@Z) [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_\r\ntutorials_example_trainer.vcxproj]\r\n  execute.obj : error LNK2019: unresolved external symbol \"public: struct tensorflow::Fprint128 __cdecl tensorflow::AttrBuilder::CacheKey(class std::basic_string<char,struct std::char_traits<char>,class s\r\ntd::allocator<char> > const &)const \" (?CacheKey@AttrBuilder@tensorflow@@QEBA?AUFprint128@2@AEBV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z) referenced in function \"class tensorflow::S\r\ntatus __cdecl tensorflow::EagerExecute(class tensorflow::EagerOperation *,class tensorflow::gtl::InlinedVector<class tensorflow::TensorHandle *,2> *,int *)\" (?EagerExecute@tensorflow@@YA?AVStatus@1@PEAVEa\r\ngerOperation@1@PEAV?$InlinedVector@PEAVTensorHandle@tensorflow@@$01@gtl@1@PEAH@Z) [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_example_trainer.vcxproj]\r\n  execute.obj : error LNK2019: unresolved external symbol \"public: class tensorflow::NodeDef const & __cdecl tensorflow::AttrBuilder::BuildNodeDef(void)\" (?BuildNodeDef@AttrBuilder@tensorflow@@QEAAAEBVNod\r\neDef@2@XZ) referenced in function \"class tensorflow::Status __cdecl tensorflow::EagerExecute(class tensorflow::EagerOperation *,class tensorflow::gtl::InlinedVector<class tensorflow::TensorHandle *,2> *,i\r\nnt *)\" (?EagerExecute@tensorflow@@YA?AVStatus@1@PEAVEagerOperation@1@PEAV?$InlinedVector@PEAVTensorHandle@tensorflow@@$01@gtl@1@PEAH@Z) [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutorials_e\r\nxample_trainer.vcxproj]\r\n  C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\Release\\tf_tutorials_example_trainer.exe : fatal error LNK1120: 4 unresolved externals [C:\\temp\\tensorflow\\tensorflow\\contrib\\cmake\\build_ex\\tf_tutor\r\nials_example_trainer.vcxproj]\r\n\r\nDo you guys know what might have been wrong?  \r\n\r\nDoes the Windows build instructions work with tensorflow master?\r\n\r\nIf not, is there another tag/version/snapshot of tensorflow that would work?\r\n\r\nThank you very much for your help in advance!\r\n\r\nThanks,\r\nBen\r\n\r\n"}