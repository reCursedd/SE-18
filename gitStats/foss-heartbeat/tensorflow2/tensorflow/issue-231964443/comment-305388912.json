{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/305388912", "html_url": "https://github.com/tensorflow/tensorflow/issues/10270#issuecomment-305388912", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10270", "id": 305388912, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTM4ODkxMg==", "user": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-01T04:55:28Z", "updated_at": "2017-06-01T04:55:28Z", "author_association": "MEMBER", "body_html": "<p>Interesting timelines, and sorry you're running into this. Some/most of this time is likely copying to host memory: we don't actually have a GPU kernel for unique, but one needed to be <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/unique_op.cc#L102\">registered</a> to avoid interfering with op placements. The computation happens on the CPU.</p>\n<p>So this could be sped up by implementing a real GPU kernel for Unique. That's likely preferable to fusing Adam's sparse updates into a GPU kernel, although it is another possibility.</p>\n<p>So any interest in writing a GPU kernel for unique? I don't know of anyone who is working on one right now.</p>", "body_text": "Interesting timelines, and sorry you're running into this. Some/most of this time is likely copying to host memory: we don't actually have a GPU kernel for unique, but one needed to be registered to avoid interfering with op placements. The computation happens on the CPU.\nSo this could be sped up by implementing a real GPU kernel for Unique. That's likely preferable to fusing Adam's sparse updates into a GPU kernel, although it is another possibility.\nSo any interest in writing a GPU kernel for unique? I don't know of anyone who is working on one right now.", "body": "Interesting timelines, and sorry you're running into this. Some/most of this time is likely copying to host memory: we don't actually have a GPU kernel for unique, but one needed to be [registered](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/unique_op.cc#L102) to avoid interfering with op placements. The computation happens on the CPU.\r\n\r\nSo this could be sped up by implementing a real GPU kernel for Unique. That's likely preferable to fusing Adam's sparse updates into a GPU kernel, although it is another possibility.\r\n\r\nSo any interest in writing a GPU kernel for unique? I don't know of anyone who is working on one right now."}