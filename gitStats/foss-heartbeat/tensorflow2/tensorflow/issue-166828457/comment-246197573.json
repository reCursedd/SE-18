{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/246197573", "html_url": "https://github.com/tensorflow/tensorflow/issues/3442#issuecomment-246197573", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3442", "id": 246197573, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjE5NzU3Mw==", "user": {"login": "pmousoul", "id": 5364020, "node_id": "MDQ6VXNlcjUzNjQwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/5364020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmousoul", "html_url": "https://github.com/pmousoul", "followers_url": "https://api.github.com/users/pmousoul/followers", "following_url": "https://api.github.com/users/pmousoul/following{/other_user}", "gists_url": "https://api.github.com/users/pmousoul/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmousoul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmousoul/subscriptions", "organizations_url": "https://api.github.com/users/pmousoul/orgs", "repos_url": "https://api.github.com/users/pmousoul/repos", "events_url": "https://api.github.com/users/pmousoul/events{/privacy}", "received_events_url": "https://api.github.com/users/pmousoul/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-11T19:02:27Z", "updated_at": "2016-09-11T19:06:18Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>I've run into the same problem!</p>\n<p><strong>My gdb output after running once on the gdb is:</strong></p>\n<p>\"(gdb) r<br>\nStarting program: /home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/bin/label_image<br>\n[Thread debugging using libthread_db enabled]<br>\nUsing host libthread_db library \"/lib/arm-linux-gnueabihf/libthread_db.so.1\".<br>\nW tensorflow/core/platform/profile_utils/cpu_utils.cc:73] Failed to get CPU frequency: 0 Hz<br>\n[New Thread 0x70f53420 (LWP 5310)]<br>\n[New Thread 0x70753420 (LWP 5311)]<br>\n[New Thread 0x6ff53420 (LWP 5312)]<br>\n[New Thread 0x6f753420 (LWP 5313)]<br>\n[New Thread 0x6ef53420 (LWP 5314)]<br>\n[New Thread 0x6e753420 (LWP 5315)]<br>\n[New Thread 0x6df53420 (LWP 5316)]<br>\n[New Thread 0x6d753420 (LWP 5317)]<br>\nI tensorflow/contrib/pi_examples/label_image/label_image.cc:142] Loaded JPEG: 512x600x3<br>\n[New Thread 0x6cc8c420 (LWP 5318)]<br>\n*** Error in `/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/bin/label_image': malloc(): memory corruption: 0x00b11f58 ***</p>\n<p>Program received signal SIGABRT, Aborted.<br>\n0x76a50f70 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56<br>\n56      ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.<br>\n(gdb)<br>\n\"</p>\n<p><strong>And the backtrace I get is:</strong></p>\n<p>\"(gdb) bt<br>\n#0  0x76a50f70 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a>  0x76a52324 in _<em>GI_abort () at abort.c:89<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115894138\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2\">#2</a>  0x76a8c954 in <em><em>libc_message (do_abort=, fmt=0x76b42bc0 \"*<em>* Error in `%s': %s: 0x%s <em><em>_\\n\") at ../sysdeps/posix/libc_fatal.c:175<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115896656\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/3\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/3/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/3\">#3</a>  0x76a92b80 in malloc_printerr (action=1, str=0x76b4308c \"malloc(): memory corruption\", ptr=) at malloc.c:4996<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115898449\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4\">#4</a>  0x76a94cd4 in _int_malloc (av=av@entry=0x76b604d4 &lt;main_arena&gt;, bytes=bytes@entry=280) at malloc.c:3447<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115910900\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5\">#5</a>  0x76a96e18 in <em><em>GI___libc_malloc (bytes=280) at malloc.c:2891<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115911735\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/6\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/6/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/6\">#6</a>  0x76f12328 in operator new(unsigned int) () from /usr/lib/arm-linux-gnueabihf/libstdc++.so.6<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115912111\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/7/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/7\">#7</a>  0x002b3680 in tensorflow::{lambda(tensorflow::OpKernelConstruction</em>)<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a>}::<em>FUN ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914495\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/8/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/8\">#8</a>  0x0017a64c in tensorflow::CreateOpKernel(tensorflow::DeviceType, tensorflow::DeviceBase</em>, tensorflow::Allocator</em>, tensorflow::FunctionLibraryRuntime</em>, tensorflow::NodeDef const&amp;, int, tensorflow::OpKernel</em></em>) ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914691\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/9/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/9\">#9</a>  0x000fe3ac in tensorflow::CreateNonCachedKernel(tensorflow::Device, tensorflow::FunctionLibraryRuntime, tensorflow::NodeDef const&amp;, int, tensorflow::OpKernel**) ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914766\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/10\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/10/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/10\">#10</a> 0x00117f04 in tensorflow::FunctionLibraryRuntimeImpl::CreateKernel(tensorflow::NodeDef const&amp;, tensorflow::OpKernel**) ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914813\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/11\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/11/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/11\">#11</a> 0x00120cdc in std::<em>Function_handler&lt;tensorflow::Status (tensorflow::NodeDef const&amp;, tensorflow::OpKernel**), tensorflow::DirectSession::GetOrCreateExecutors(tensorflow::thread::ThreadPool*, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::DirectSession::ExecutorsAndKeys**, tensorflow::DirectSession::RunStateArgs*)::{lambda(tensorflow::NodeDef const&amp;, tensorflow::OpKernel**)<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a>}&gt;::<em>M_invoke(std::<em>Any_data const&amp;, tensorflow::NodeDef const&amp;, tensorflow::OpKernel**) ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115915395\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/12\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/12/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/12\">#12</a> 0x00104e50 in tensorflow::(anonymous namespace)::ExecutorImpl::Initialize() ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115918299\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/13\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/13/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/13\">#13</a> 0x001054a8 in tensorflow::NewLocalExecutor(tensorflow::LocalExecutorParams const&amp;, tensorflow::Graph const*, tensorflow::Executor**) ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115918464\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/14/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/14\">#14</a> 0x00124e30 in tensorflow::DirectSession::GetOrCreateExecutors(tensorflow::thread::ThreadPool</em>, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::DirectSession::ExecutorsAndKeys</em></em>, tensorflow::DirectSession::RunStateArgs) ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115922135\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/15\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/15/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/15\">#15</a> 0x00b50e80 in ?? ()<br>\nBacktrace stopped: previous frame identical to this frame (corrupt stack?)<br>\n(gdb)<br>\n\"</em></em></em></p>\n<p><strong>My system is a Raspberry Pi 2:</strong></p>\n<p>\"$ uname -a<br>\nLinux raspberrypi 3.18.16-v7+ <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"127079233\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/795\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/795/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/795\">#795</a> SMP PREEMPT Wed Jun 17 13:24:01 BST 2015 armv7l GNU/Linux\"</p>\n<p><strong>My command history is:</strong></p>\n<p>\"1992  ./tensorflow/contrib/makefile/download_dependencies.sh<br>\n1993  wget <a href=\"https://storage.googleapis.com/download.tensorflow.org/models/inception5h.zip\" rel=\"nofollow\">https://storage.googleapis.com/download.tensorflow.org/models/inception5h.zip</a><br>\n1994  sudo apt-get install autoconf automake libtool<br>\n1995  cd tensorflow/contrib/makefile/downloads/protobuf/<br>\n1996  ./autogen.sh<br>\n1997  ./configure<br>\n1998  make<br>\n1999  sudo reboot<br>\n2000  cd tensorflow/contrib/makefile/downloads/protobuf/<br>\n2001  cd tensorflow/<br>\n2002  cd tensorflow/contrib/makefile/downloads/protobuf/<br>\n2003  sudo make install<br>\n2004  sudo ldconfig<br>\n2005  cd ../../../../..<br>\n2006  make -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI  OPTFLAGS=\"-Os -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize\"<br>\n2007  sudo apt-get install -y gcc-4.8 g++-4.8<br>\n2008  make -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI OPTFLAGS=\"-Os -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize\" CXX=g++-4.8<br>\n2009  sudo apt-get install -y libjpeg-dev<br>\n2010  curl <a href=\"https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015_stripped.zip\" rel=\"nofollow\">https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015_stripped.zip</a> -o /tmp/inception_dec_2015_stripped.zip<br>\n2011  unzip /tmp/inception_dec_2015_stripped.zip -d tensorflow/contrib/pi_examples/label_image/data/<br>\n2012  make -f tensorflow/contrib/pi_examples/label_image/Makefile<br>\n2013  ./tensorflow/contrib/pi_examples/label_image/gen/bin/label_image<br>\n2014  tensorflow/contrib/pi_examples/label_image/gen/bin/label_image<br>\n\"</p>\n<p><strong>Could the problem be related to trying the 2006 command and after failing the 2008 command without doing a \"make clean\" in between?</strong></p>", "body_text": "Hi,\nI've run into the same problem!\nMy gdb output after running once on the gdb is:\n\"(gdb) r\nStarting program: /home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/bin/label_image\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/arm-linux-gnueabihf/libthread_db.so.1\".\nW tensorflow/core/platform/profile_utils/cpu_utils.cc:73] Failed to get CPU frequency: 0 Hz\n[New Thread 0x70f53420 (LWP 5310)]\n[New Thread 0x70753420 (LWP 5311)]\n[New Thread 0x6ff53420 (LWP 5312)]\n[New Thread 0x6f753420 (LWP 5313)]\n[New Thread 0x6ef53420 (LWP 5314)]\n[New Thread 0x6e753420 (LWP 5315)]\n[New Thread 0x6df53420 (LWP 5316)]\n[New Thread 0x6d753420 (LWP 5317)]\nI tensorflow/contrib/pi_examples/label_image/label_image.cc:142] Loaded JPEG: 512x600x3\n[New Thread 0x6cc8c420 (LWP 5318)]\n*** Error in `/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/bin/label_image': malloc(): memory corruption: 0x00b11f58 ***\nProgram received signal SIGABRT, Aborted.\n0x76a50f70 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56      ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb)\n\"\nAnd the backtrace I get is:\n\"(gdb) bt\n#0  0x76a50f70 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x76a52324 in _GI_abort () at abort.c:89\n#2  0x76a8c954 in libc_message (do_abort=, fmt=0x76b42bc0 \"** Error in `%s': %s: 0x%s _\\n\") at ../sysdeps/posix/libc_fatal.c:175\n#3  0x76a92b80 in malloc_printerr (action=1, str=0x76b4308c \"malloc(): memory corruption\", ptr=) at malloc.c:4996\n#4  0x76a94cd4 in _int_malloc (av=av@entry=0x76b604d4 <main_arena>, bytes=bytes@entry=280) at malloc.c:3447\n#5  0x76a96e18 in GI___libc_malloc (bytes=280) at malloc.c:2891\n#6  0x76f12328 in operator new(unsigned int) () from /usr/lib/arm-linux-gnueabihf/libstdc++.so.6\n#7  0x002b3680 in tensorflow::{lambda(tensorflow::OpKernelConstruction)#1}::FUN ()\n#8  0x0017a64c in tensorflow::CreateOpKernel(tensorflow::DeviceType, tensorflow::DeviceBase, tensorflow::Allocator, tensorflow::FunctionLibraryRuntime, tensorflow::NodeDef const&, int, tensorflow::OpKernel) ()\n#9  0x000fe3ac in tensorflow::CreateNonCachedKernel(tensorflow::Device, tensorflow::FunctionLibraryRuntime, tensorflow::NodeDef const&, int, tensorflow::OpKernel**) ()\n#10 0x00117f04 in tensorflow::FunctionLibraryRuntimeImpl::CreateKernel(tensorflow::NodeDef const&, tensorflow::OpKernel**) ()\n#11 0x00120cdc in std::Function_handler<tensorflow::Status (tensorflow::NodeDef const&, tensorflow::OpKernel**), tensorflow::DirectSession::GetOrCreateExecutors(tensorflow::thread::ThreadPool*, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::DirectSession::ExecutorsAndKeys**, tensorflow::DirectSession::RunStateArgs*)::{lambda(tensorflow::NodeDef const&, tensorflow::OpKernel**)#1}>::M_invoke(std::Any_data const&, tensorflow::NodeDef const&, tensorflow::OpKernel**) ()\n#12 0x00104e50 in tensorflow::(anonymous namespace)::ExecutorImpl::Initialize() ()\n#13 0x001054a8 in tensorflow::NewLocalExecutor(tensorflow::LocalExecutorParams const&, tensorflow::Graph const*, tensorflow::Executor**) ()\n#14 0x00124e30 in tensorflow::DirectSession::GetOrCreateExecutors(tensorflow::thread::ThreadPool, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::DirectSession::ExecutorsAndKeys, tensorflow::DirectSession::RunStateArgs) ()\n#15 0x00b50e80 in ?? ()\nBacktrace stopped: previous frame identical to this frame (corrupt stack?)\n(gdb)\n\"\nMy system is a Raspberry Pi 2:\n\"$ uname -a\nLinux raspberrypi 3.18.16-v7+ #795 SMP PREEMPT Wed Jun 17 13:24:01 BST 2015 armv7l GNU/Linux\"\nMy command history is:\n\"1992  ./tensorflow/contrib/makefile/download_dependencies.sh\n1993  wget https://storage.googleapis.com/download.tensorflow.org/models/inception5h.zip\n1994  sudo apt-get install autoconf automake libtool\n1995  cd tensorflow/contrib/makefile/downloads/protobuf/\n1996  ./autogen.sh\n1997  ./configure\n1998  make\n1999  sudo reboot\n2000  cd tensorflow/contrib/makefile/downloads/protobuf/\n2001  cd tensorflow/\n2002  cd tensorflow/contrib/makefile/downloads/protobuf/\n2003  sudo make install\n2004  sudo ldconfig\n2005  cd ../../../../..\n2006  make -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI  OPTFLAGS=\"-Os -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize\"\n2007  sudo apt-get install -y gcc-4.8 g++-4.8\n2008  make -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI OPTFLAGS=\"-Os -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize\" CXX=g++-4.8\n2009  sudo apt-get install -y libjpeg-dev\n2010  curl https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015_stripped.zip -o /tmp/inception_dec_2015_stripped.zip\n2011  unzip /tmp/inception_dec_2015_stripped.zip -d tensorflow/contrib/pi_examples/label_image/data/\n2012  make -f tensorflow/contrib/pi_examples/label_image/Makefile\n2013  ./tensorflow/contrib/pi_examples/label_image/gen/bin/label_image\n2014  tensorflow/contrib/pi_examples/label_image/gen/bin/label_image\n\"\nCould the problem be related to trying the 2006 command and after failing the 2008 command without doing a \"make clean\" in between?", "body": "Hi,\n\nI've run into the same problem!\n\n**My gdb output after running once on the gdb is:**\n\n\"(gdb) r\nStarting program: /home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/bin/label_image \n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/arm-linux-gnueabihf/libthread_db.so.1\".\nW tensorflow/core/platform/profile_utils/cpu_utils.cc:73] Failed to get CPU frequency: 0 Hz\n[New Thread 0x70f53420 (LWP 5310)]\n[New Thread 0x70753420 (LWP 5311)]\n[New Thread 0x6ff53420 (LWP 5312)]\n[New Thread 0x6f753420 (LWP 5313)]\n[New Thread 0x6ef53420 (LWP 5314)]\n[New Thread 0x6e753420 (LWP 5315)]\n[New Thread 0x6df53420 (LWP 5316)]\n[New Thread 0x6d753420 (LWP 5317)]\nI tensorflow/contrib/pi_examples/label_image/label_image.cc:142] Loaded JPEG: 512x600x3\n[New Thread 0x6cc8c420 (LWP 5318)]\n**\\* Error in `/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/bin/label_image': malloc(): memory corruption: 0x00b11f58 ***\n\nProgram received signal SIGABRT, Aborted.\n0x76a50f70 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56      ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) \n\"\n\n**And the backtrace I get is:**\n\n\"(gdb) bt\n#0  0x76a50f70 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x76a52324 in __GI_abort () at abort.c:89\n#2  0x76a8c954 in __libc_message (do_abort=<optimized out>, fmt=0x76b42bc0 \"**\\* Error in `%s': %s: 0x%s **_\\n\") at ../sysdeps/posix/libc_fatal.c:175\n#3  0x76a92b80 in malloc_printerr (action=1, str=0x76b4308c \"malloc(): memory corruption\", ptr=<optimized out>) at malloc.c:4996\n#4  0x76a94cd4 in _int_malloc (av=av@entry=0x76b604d4 <main_arena>, bytes=bytes@entry=280) at malloc.c:3447\n#5  0x76a96e18 in __GI___libc_malloc (bytes=280) at malloc.c:2891\n#6  0x76f12328 in operator new(unsigned int) () from /usr/lib/arm-linux-gnueabihf/libstdc++.so.6\n#7  0x002b3680 in tensorflow::{lambda(tensorflow::OpKernelConstruction_)#1}::_FUN ()\n#8  0x0017a64c in tensorflow::CreateOpKernel(tensorflow::DeviceType, tensorflow::DeviceBase_, tensorflow::Allocator_, tensorflow::FunctionLibraryRuntime*, tensorflow::NodeDef const&, int, tensorflow::OpKernel**) ()\n#9  0x000fe3ac in tensorflow::CreateNonCachedKernel(tensorflow::Device_, tensorflow::FunctionLibraryRuntime_, tensorflow::NodeDef const&, int, tensorflow::OpKernel**) ()\n#10 0x00117f04 in tensorflow::FunctionLibraryRuntimeImpl::CreateKernel(tensorflow::NodeDef const&, tensorflow::OpKernel**) ()\n#11 0x00120cdc in std::_Function_handler<tensorflow::Status (tensorflow::NodeDef const&, tensorflow::OpKernel**), tensorflow::DirectSession::GetOrCreateExecutors(tensorflow::thread::ThreadPool*, tensorflow::gtl::ArraySlice<std::string>, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::DirectSession::ExecutorsAndKeys**, tensorflow::DirectSession::RunStateArgs*)::{lambda(tensorflow::NodeDef const&, tensorflow::OpKernel**)#1}>::_M_invoke(std::_Any_data const&, tensorflow::NodeDef const&, tensorflow::OpKernel**) ()\n#12 0x00104e50 in tensorflow::(anonymous namespace)::ExecutorImpl::Initialize() ()\n#13 0x001054a8 in tensorflow::NewLocalExecutor(tensorflow::LocalExecutorParams const&, tensorflow::Graph const*, tensorflow::Executor**) ()\n#14 0x00124e30 in tensorflow::DirectSession::GetOrCreateExecutors(tensorflow::thread::ThreadPool_, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::gtl::ArraySlicestd::string, tensorflow::DirectSession::ExecutorsAndKeys__, tensorflow::DirectSession::RunStateArgs_) ()\n#15 0x00b50e80 in ?? ()\nBacktrace stopped: previous frame identical to this frame (corrupt stack?)\n(gdb) \n\"\n\n**My system is a Raspberry Pi 2:**\n\n\"$ uname -a\nLinux raspberrypi 3.18.16-v7+ #795 SMP PREEMPT Wed Jun 17 13:24:01 BST 2015 armv7l GNU/Linux\"\n\n**My command history is:**\n\n\"1992  ./tensorflow/contrib/makefile/download_dependencies.sh\n 1993  wget https://storage.googleapis.com/download.tensorflow.org/models/inception5h.zip\n 1994  sudo apt-get install autoconf automake libtool\n 1995  cd tensorflow/contrib/makefile/downloads/protobuf/\n 1996  ./autogen.sh\n 1997  ./configure\n 1998  make\n 1999  sudo reboot\n 2000  cd tensorflow/contrib/makefile/downloads/protobuf/\n 2001  cd tensorflow/\n 2002  cd tensorflow/contrib/makefile/downloads/protobuf/\n 2003  sudo make install\n 2004  sudo ldconfig\n 2005  cd ../../../../..\n 2006  make -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI  OPTFLAGS=\"-Os -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize\"\n 2007  sudo apt-get install -y gcc-4.8 g++-4.8\n 2008  make -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI OPTFLAGS=\"-Os -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize\" CXX=g++-4.8\n 2009  sudo apt-get install -y libjpeg-dev\n 2010  curl https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015_stripped.zip -o /tmp/inception_dec_2015_stripped.zip\n 2011  unzip /tmp/inception_dec_2015_stripped.zip -d tensorflow/contrib/pi_examples/label_image/data/\n 2012  make -f tensorflow/contrib/pi_examples/label_image/Makefile\n 2013  ./tensorflow/contrib/pi_examples/label_image/gen/bin/label_image\n 2014  tensorflow/contrib/pi_examples/label_image/gen/bin/label_image\n\"\n\n**Could the problem be related to trying the 2006 command and after failing the 2008 command without doing a \"make clean\" in between?**\n"}