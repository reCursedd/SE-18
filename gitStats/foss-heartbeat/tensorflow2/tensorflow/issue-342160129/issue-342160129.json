{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20904", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20904/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20904/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20904/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20904", "id": 342160129, "node_id": "MDU6SXNzdWUzNDIxNjAxMjk=", "number": 20904, "title": "build_all_ios.sh error", "user": {"login": "ChaosYang", "id": 12718469, "node_id": "MDQ6VXNlcjEyNzE4NDY5", "avatar_url": "https://avatars2.githubusercontent.com/u/12718469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChaosYang", "html_url": "https://github.com/ChaosYang", "followers_url": "https://api.github.com/users/ChaosYang/followers", "following_url": "https://api.github.com/users/ChaosYang/following{/other_user}", "gists_url": "https://api.github.com/users/ChaosYang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChaosYang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChaosYang/subscriptions", "organizations_url": "https://api.github.com/users/ChaosYang/orgs", "repos_url": "https://api.github.com/users/ChaosYang/repos", "events_url": "https://api.github.com/users/ChaosYang/events{/privacy}", "received_events_url": "https://api.github.com/users/ChaosYang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-07-18T03:11:56Z", "updated_at": "2018-11-19T23:25:50Z", "closed_at": null, "author_association": "NONE", "body_html": "<pre><code>In file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:58:\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/SimpleThreadPool.h:153:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread;\n    ^\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n&lt;command line&gt;:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\nIn file included from tensorflow/core/common_runtime/graph_runner.cc:21:\nIn file included from ./tensorflow/core/common_runtime/graph_runner.h:23:\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\nIn file included from ./tensorflow/core/framework/allocator.h:23:\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\n    ^\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n&lt;command line&gt;:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\nIn file included from tensorflow/core/common_runtime/local_device.cc:18:\nIn file included from ./tensorflow/core/common_runtime/local_device.h:19:\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\nIn file included from ./tensorflow/core/framework/allocator.h:23:\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:58:\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/SimpleThreadPool.h:153:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread;\n    ^\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n&lt;command line&gt;:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\nIn file included from tensorflow/core/common_runtime/local_device.cc:18:\nIn file included from ./tensorflow/core/common_runtime/local_device.h:19:\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\nIn file included from ./tensorflow/core/framework/allocator.h:23:\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\n    ^\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n&lt;command line&gt;:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mios-simulator-version-min=9.0 -arch i386 -mno-sse -fembed-bitcode -D__thread=thread_local -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator11.3.sdk -MT /Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/memory_types.o -MMD -MP -MF /Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/dep/ios_I386//tensorflow/core/common_runtime/memory_types.Td -I. -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/ -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/gemmlowp -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/nsync/public -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/fft2d -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/double_conversion -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/proto/ -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/proto_text/ -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/common_runtime/memory_types.cc -o /Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/memory_types.o\n2 errors generated.\nmake: *** [/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/local_device.o] Error 1\nmake: *** Waiting for unfinished jobs....\n2 errors generated.\nmake: *** [/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/graph_runner.o] Error 1\n+ '[' 2 -ne 0 ']'\n+ echo 'i386 compilation failed.'\ni386 compilation failed.\n+ exit 1\n\n</code></pre>\n<p>I tried running <code>tensorflow/contrib/makefile/build_all_ios.sh</code> and then this issue occurred. I searched for a lot of similar issue, but not fixed the issue.<br>\nSo, i need help.</p>", "body_text": "In file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:58:\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/SimpleThreadPool.h:153:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread;\n    ^\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n<command line>:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\nIn file included from tensorflow/core/common_runtime/graph_runner.cc:21:\nIn file included from ./tensorflow/core/common_runtime/graph_runner.h:23:\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\nIn file included from ./tensorflow/core/framework/allocator.h:23:\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\n    ^\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n<command line>:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\nIn file included from tensorflow/core/common_runtime/local_device.cc:18:\nIn file included from ./tensorflow/core/common_runtime/local_device.h:19:\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\nIn file included from ./tensorflow/core/framework/allocator.h:23:\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:58:\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/SimpleThreadPool.h:153:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread;\n    ^\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n<command line>:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\nIn file included from tensorflow/core/common_runtime/local_device.cc:18:\nIn file included from ./tensorflow/core/common_runtime/local_device.h:19:\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\nIn file included from ./tensorflow/core/framework/allocator.h:23:\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: \n      thread-local storage is not supported for the current target\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\n    ^\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \n      expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n                                  ^\n<command line>:3:18: note: expanded from here\n#define __thread thread_local\n                 ^\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mios-simulator-version-min=9.0 -arch i386 -mno-sse -fembed-bitcode -D__thread=thread_local -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator11.3.sdk -MT /Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/memory_types.o -MMD -MP -MF /Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/dep/ios_I386//tensorflow/core/common_runtime/memory_types.Td -I. -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/ -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/gemmlowp -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/nsync/public -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/fft2d -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/double_conversion -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/proto/ -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/proto_text/ -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/common_runtime/memory_types.cc -o /Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/memory_types.o\n2 errors generated.\nmake: *** [/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/local_device.o] Error 1\nmake: *** Waiting for unfinished jobs....\n2 errors generated.\nmake: *** [/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/graph_runner.o] Error 1\n+ '[' 2 -ne 0 ']'\n+ echo 'i386 compilation failed.'\ni386 compilation failed.\n+ exit 1\n\n\nI tried running tensorflow/contrib/makefile/build_all_ios.sh and then this issue occurred. I searched for a lot of similar issue, but not fixed the issue.\nSo, i need help.", "body": "```\r\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\r\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:58:\r\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/SimpleThreadPool.h:153:5: error: \r\n      thread-local storage is not supported for the current target\r\n    EIGEN_THREAD_LOCAL PerThread per_thread;\r\n    ^\r\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \r\n      expanded from macro 'EIGEN_THREAD_LOCAL'\r\n#define EIGEN_THREAD_LOCAL static __thread\r\n                                  ^\r\n<command line>:3:18: note: expanded from here\r\n#define __thread thread_local\r\n                 ^\r\nIn file included from tensorflow/core/common_runtime/graph_runner.cc:21:\r\nIn file included from ./tensorflow/core/common_runtime/graph_runner.h:23:\r\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\r\nIn file included from ./tensorflow/core/framework/allocator.h:23:\r\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\r\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:\r\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: \r\n      thread-local storage is not supported for the current target\r\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\r\n    ^\r\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \r\n      expanded from macro 'EIGEN_THREAD_LOCAL'\r\n#define EIGEN_THREAD_LOCAL static __thread\r\n                                  ^\r\n<command line>:3:18: note: expanded from here\r\n#define __thread thread_local\r\n                 ^\r\nIn file included from tensorflow/core/common_runtime/local_device.cc:18:\r\nIn file included from ./tensorflow/core/common_runtime/local_device.h:19:\r\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\r\nIn file included from ./tensorflow/core/framework/allocator.h:23:\r\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\r\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:58:\r\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/SimpleThreadPool.h:153:5: error: \r\n      thread-local storage is not supported for the current target\r\n    EIGEN_THREAD_LOCAL PerThread per_thread;\r\n    ^\r\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \r\n      expanded from macro 'EIGEN_THREAD_LOCAL'\r\n#define EIGEN_THREAD_LOCAL static __thread\r\n                                  ^\r\n<command line>:3:18: note: expanded from here\r\n#define __thread thread_local\r\n                 ^\r\nIn file included from tensorflow/core/common_runtime/local_device.cc:18:\r\nIn file included from ./tensorflow/core/common_runtime/local_device.h:19:\r\nIn file included from ./tensorflow/core/common_runtime/device.h:35:\r\nIn file included from ./tensorflow/core/framework/allocator.h:23:\r\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/Tensor:79:\r\nIn file included from /Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:\r\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: \r\n      thread-local storage is not supported for the current target\r\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\r\n    ^\r\n/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: \r\n      expanded from macro 'EIGEN_THREAD_LOCAL'\r\n#define EIGEN_THREAD_LOCAL static __thread\r\n                                  ^\r\n<command line>:3:18: note: expanded from here\r\n#define __thread thread_local\r\n                 ^\r\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mios-simulator-version-min=9.0 -arch i386 -mno-sse -fembed-bitcode -D__thread=thread_local -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator11.3.sdk -MT /Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/memory_types.o -MMD -MP -MF /Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/dep/ios_I386//tensorflow/core/common_runtime/memory_types.Td -I. -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/ -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/eigen -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/gemmlowp -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/nsync/public -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/fft2d -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/downloads/double_conversion -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/proto/ -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/proto_text/ -I/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/common_runtime/memory_types.cc -o /Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/memory_types.o\r\n2 errors generated.\r\nmake: *** [/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/local_device.o] Error 1\r\nmake: *** Waiting for unfinished jobs....\r\n2 errors generated.\r\nmake: *** [/Users/viatom/tensorflow/tensorflow/contrib/makefile/gen/obj/ios_I386/tensorflow/core/common_runtime/graph_runner.o] Error 1\r\n+ '[' 2 -ne 0 ']'\r\n+ echo 'i386 compilation failed.'\r\ni386 compilation failed.\r\n+ exit 1\r\n\r\n```\r\nI tried running `tensorflow/contrib/makefile/build_all_ios.sh` and then this issue occurred. I searched for a lot of similar issue, but not fixed the issue. \r\nSo, i need help."}