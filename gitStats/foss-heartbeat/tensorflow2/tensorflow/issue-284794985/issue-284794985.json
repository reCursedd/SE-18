{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15668", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15668/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15668/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15668/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15668", "id": 284794985, "node_id": "MDU6SXNzdWUyODQ3OTQ5ODU=", "number": 15668, "title": "MNIST dataset - gzip: train-images-idx3-ubyte.gz: not in gzip format", "user": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-27T20:59:09Z", "updated_at": "2017-12-28T20:23:19Z", "closed_at": "2017-12-28T20:23:19Z", "author_association": "MEMBER", "body_html": "<p>initiated from tensorflow-discuss From: <a href=\"mailto:greina@eng.ucsd.edu\">greina@eng.ucsd.edu</a></p>\n<blockquote>\n<p>I'm trying to use:</p>\n<p>from tensorflow.examples.tutorials.mnist import input_data<br>\nmnist_data = input_data.read_data_sets('MNIST_data', one_hot=True)</p>\n<p>but I am getting the error that the downloaded file is not in GZip format.</p>\n<p>There are several bug reports on this, but none of them seem to solve the issue.</p>\n<p>I found train-images-idx3-ubyte.gz in the local directory MNIST_data, but even trying <code>gunzip</code> fails:</p>\n<pre lang=\"(tf)\" data-meta=\"[bduser@param03 MNIST_data]$ gunzip\"><code>gzip: compressed data not read from a terminal. Use -f to force decompression.\nFor help, type: gzip -h\n(tf) [bduser@param03 MNIST_data]$ gunzip train-images-idx3-ubyte.gz\n\ngzip: train-images-idx3-ubyte.gz: not in gzip format\n</code></pre>\n<p>I'm thinking that this is a problem with the original datafile. Maybe the GZip format has changed or is in conflict?? Or perhaps my OS' version of GZip can't understand the GZip file??</p>\n<p>I am using TF 1.4 on CentOS Linux release 7.4.1708 (Core)</p>\n<p>Thanks.<br>\n-Tony</p>\n<pre><code>&gt;&gt;&gt; from tensorflow.examples.tutorials.mnist import input_data\n&gt;&gt;&gt; mnist_data = input_data.read_data_sets('MNIST_data', one_hot=True)\nSuccessfully downloaded train-images-idx3-ubyte.gz 727 bytes.\nExtracting MNIST_data/train-images-idx3-ubyte.gz\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 242, in read_data_sets\n    train_images = extract_images(f)\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 56, in extract_images\n    magic = _read32(bytestream)\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 38, in _read32\n    return numpy.frombuffer(bytestream.read(4), dtype=dt)[0]\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/gzip.py\", line 268, in read\n    self._read(readsize)\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/gzip.py\", line 303, in _read\n    self._read_gzip_header()\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/gzip.py\", line 197, in _read_gzip_header\n    raise IOError, 'Not a gzipped file'\nIOError: Not a gzipped file\n&gt;&gt;&gt; exit()\n</code></pre>\n</blockquote>", "body_text": "initiated from tensorflow-discuss From: greina@eng.ucsd.edu\n\nI'm trying to use:\nfrom tensorflow.examples.tutorials.mnist import input_data\nmnist_data = input_data.read_data_sets('MNIST_data', one_hot=True)\nbut I am getting the error that the downloaded file is not in GZip format.\nThere are several bug reports on this, but none of them seem to solve the issue.\nI found train-images-idx3-ubyte.gz in the local directory MNIST_data, but even trying gunzip fails:\ngzip: compressed data not read from a terminal. Use -f to force decompression.\nFor help, type: gzip -h\n(tf) [bduser@param03 MNIST_data]$ gunzip train-images-idx3-ubyte.gz\n\ngzip: train-images-idx3-ubyte.gz: not in gzip format\n\nI'm thinking that this is a problem with the original datafile. Maybe the GZip format has changed or is in conflict?? Or perhaps my OS' version of GZip can't understand the GZip file??\nI am using TF 1.4 on CentOS Linux release 7.4.1708 (Core)\nThanks.\n-Tony\n>>> from tensorflow.examples.tutorials.mnist import input_data\n>>> mnist_data = input_data.read_data_sets('MNIST_data', one_hot=True)\nSuccessfully downloaded train-images-idx3-ubyte.gz 727 bytes.\nExtracting MNIST_data/train-images-idx3-ubyte.gz\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 242, in read_data_sets\n    train_images = extract_images(f)\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 56, in extract_images\n    magic = _read32(bytestream)\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 38, in _read32\n    return numpy.frombuffer(bytestream.read(4), dtype=dt)[0]\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/gzip.py\", line 268, in read\n    self._read(readsize)\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/gzip.py\", line 303, in _read\n    self._read_gzip_header()\n  File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/gzip.py\", line 197, in _read_gzip_header\n    raise IOError, 'Not a gzipped file'\nIOError: Not a gzipped file\n>>> exit()", "body": "initiated from tensorflow-discuss From: greina@eng.ucsd.edu \r\n\r\n> \r\n> \r\n> I'm trying to use:\r\n> \r\n> from tensorflow.examples.tutorials.mnist import input_data\r\n> mnist_data = input_data.read_data_sets('MNIST_data', one_hot=True)\r\n> \r\n> but I am getting the error that the downloaded file is not in GZip format.\r\n> \r\n> There are several bug reports on this, but none of them seem to solve the issue. \r\n> \r\n> I found train-images-idx3-ubyte.gz in the local directory MNIST_data, but even trying `gunzip` fails:\r\n> \r\n> ```(tf) [bduser@param03 MNIST_data]$ gunzip\r\n> gzip: compressed data not read from a terminal. Use -f to force decompression.\r\n> For help, type: gzip -h\r\n> (tf) [bduser@param03 MNIST_data]$ gunzip train-images-idx3-ubyte.gz\r\n> \r\n> gzip: train-images-idx3-ubyte.gz: not in gzip format\r\n> ```\r\n> \r\n> I'm thinking that this is a problem with the original datafile. Maybe the GZip format has changed or is in conflict?? Or perhaps my OS' version of GZip can't understand the GZip file??\r\n> \r\n> I am using TF 1.4 on CentOS Linux release 7.4.1708 (Core)\r\n> \r\n> Thanks.\r\n> -Tony\r\n> \r\n> \r\n> \r\n> ```\r\n> >>> from tensorflow.examples.tutorials.mnist import input_data\r\n> >>> mnist_data = input_data.read_data_sets('MNIST_data', one_hot=True)\r\n> Successfully downloaded train-images-idx3-ubyte.gz 727 bytes.\r\n> Extracting MNIST_data/train-images-idx3-ubyte.gz\r\n> Traceback (most recent call last):\r\n>   File \"<stdin>\", line 1, in <module>\r\n>   File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 242, in read_data_sets\r\n>     train_images = extract_images(f)\r\n>   File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 56, in extract_images\r\n>     magic = _read32(bytestream)\r\n>   File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 38, in _read32\r\n>     return numpy.frombuffer(bytestream.read(4), dtype=dt)[0]\r\n>   File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/gzip.py\", line 268, in read\r\n>     self._read(readsize)\r\n>   File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/gzip.py\", line 303, in _read\r\n>     self._read_gzip_header()\r\n>   File \"/home/bduser/miniconda2/envs/tf/lib/python2.7/gzip.py\", line 197, in _read_gzip_header\r\n>     raise IOError, 'Not a gzipped file'\r\n> IOError: Not a gzipped file\r\n> >>> exit()\r\n> ```\r\n> "}