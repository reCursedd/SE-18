{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7838", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7838/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7838/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7838/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7838", "id": 209971598, "node_id": "MDU6SXNzdWUyMDk5NzE1OTg=", "number": 7838, "title": "InvalidArgumentError Assign requires shapes of both tensors to match. lhs shape= [5] rhs shape= [1001]", "user": {"login": "tranvanhoa533", "id": 14076636, "node_id": "MDQ6VXNlcjE0MDc2NjM2", "avatar_url": "https://avatars3.githubusercontent.com/u/14076636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tranvanhoa533", "html_url": "https://github.com/tranvanhoa533", "followers_url": "https://api.github.com/users/tranvanhoa533/followers", "following_url": "https://api.github.com/users/tranvanhoa533/following{/other_user}", "gists_url": "https://api.github.com/users/tranvanhoa533/gists{/gist_id}", "starred_url": "https://api.github.com/users/tranvanhoa533/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tranvanhoa533/subscriptions", "organizations_url": "https://api.github.com/users/tranvanhoa533/orgs", "repos_url": "https://api.github.com/users/tranvanhoa533/repos", "events_url": "https://api.github.com/users/tranvanhoa533/events{/privacy}", "received_events_url": "https://api.github.com/users/tranvanhoa533/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-02-24T06:37:52Z", "updated_at": "2018-11-23T08:07:00Z", "closed_at": "2017-03-09T21:22:18Z", "author_association": "NONE", "body_html": "<p>Caused by op u'save/Assign', defined at:<br>\nFile \"train_image_classifier.py\", line 585, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv[:1] + flags_passthrough))<br>\nFile \"train_image_classifier.py\", line 575, in main<br>\ninit_fn=_get_init_fn(),<br>\nFile \"train_image_classifier.py\", line 370, in _get_init_fn<br>\nignore_missing_vars=FLAGS.ignore_missing_vars)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/framework/python/ops/variables.py\", line 579, in assign_from_checkpoint_fn<br>\nsaver = tf_saver.Saver(var_list, reshape=reshape_variables)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 986, in <strong>init</strong><br>\nself.build()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1015, in build<br>\nrestore_sequentially=self._restore_sequentially)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 620, in build<br>\nrestore_sequentially, reshape)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 369, in _AddRestoreOps<br>\nassign_ops.append(saveable.restore(tensors, shapes))<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 212, in restore<br>\nself.op.get_shape().is_fully_defined())<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_state_ops.py\", line 45, in assign<br>\nuse_locking=use_locking, name=name)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 749, in apply_op<br>\nop_def=op_def)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2380, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1298, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>\n<p>InvalidArgumentError (see above for traceback): Assign requires shapes of both tensors to match. lhs shape= [5] rhs shape= [1001]<br>\n[[Node: save/Assign = Assign[T=DT_FLOAT, _class=[\"loc:@InceptionV4/AuxLogits/Aux_logits/biases\"], use_locking=true, validate_shape=true, _device=\"/job:localhost/replica:0/task:0/<br>\ncpu:0\"](InceptionV4/AuxLogits/Aux_logits/biases, save/restore_slice)]]</p>\n<p>This error was caused when i pre-train fine-tuning inception-v4. I'm opening this issue.Can you help me?<br>\nThank you so much !</p>", "body_text": "Caused by op u'save/Assign', defined at:\nFile \"train_image_classifier.py\", line 585, in \ntf.app.run()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv[:1] + flags_passthrough))\nFile \"train_image_classifier.py\", line 575, in main\ninit_fn=_get_init_fn(),\nFile \"train_image_classifier.py\", line 370, in _get_init_fn\nignore_missing_vars=FLAGS.ignore_missing_vars)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/framework/python/ops/variables.py\", line 579, in assign_from_checkpoint_fn\nsaver = tf_saver.Saver(var_list, reshape=reshape_variables)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 986, in init\nself.build()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1015, in build\nrestore_sequentially=self._restore_sequentially)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 620, in build\nrestore_sequentially, reshape)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 369, in _AddRestoreOps\nassign_ops.append(saveable.restore(tensors, shapes))\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 212, in restore\nself.op.get_shape().is_fully_defined())\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_state_ops.py\", line 45, in assign\nuse_locking=use_locking, name=name)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 749, in apply_op\nop_def=op_def)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2380, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1298, in init\nself._traceback = _extract_stack()\nInvalidArgumentError (see above for traceback): Assign requires shapes of both tensors to match. lhs shape= [5] rhs shape= [1001]\n[[Node: save/Assign = Assign[T=DT_FLOAT, _class=[\"loc:@InceptionV4/AuxLogits/Aux_logits/biases\"], use_locking=true, validate_shape=true, _device=\"/job:localhost/replica:0/task:0/\ncpu:0\"](InceptionV4/AuxLogits/Aux_logits/biases, save/restore_slice)]]\nThis error was caused when i pre-train fine-tuning inception-v4. I'm opening this issue.Can you help me?\nThank you so much !", "body": "Caused by op u'save/Assign', defined at:\r\n  File \"train_image_classifier.py\", line 585, in <module>\r\n    tf.app.run()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"train_image_classifier.py\", line 575, in main\r\n    init_fn=_get_init_fn(),\r\n  File \"train_image_classifier.py\", line 370, in _get_init_fn\r\n    ignore_missing_vars=FLAGS.ignore_missing_vars)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/framework/python/ops/variables.py\", line 579, in assign_from_checkpoint_fn\r\n    saver = tf_saver.Saver(var_list, reshape=reshape_variables)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 986, in __init__\r\n    self.build()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1015, in build\r\n    restore_sequentially=self._restore_sequentially)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 620, in build\r\n    restore_sequentially, reshape)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 369, in _AddRestoreOps\r\n    assign_ops.append(saveable.restore(tensors, shapes))\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 212, in restore\r\n    self.op.get_shape().is_fully_defined())\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_state_ops.py\", line 45, in assign\r\n    use_locking=use_locking, name=name)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 749, in apply_op\r\n    op_def=op_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2380, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1298, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nInvalidArgumentError (see above for traceback): Assign requires shapes of both tensors to match. lhs shape= [5] rhs shape= [1001]\r\n         [[Node: save/Assign = Assign[T=DT_FLOAT, _class=[\"loc:@InceptionV4/AuxLogits/Aux_logits/biases\"], use_locking=true, validate_shape=true, _device=\"/job:localhost/replica:0/task:0/\r\ncpu:0\"](InceptionV4/AuxLogits/Aux_logits/biases, save/restore_slice)]]\r\n\r\n\r\nThis error was caused when i pre-train fine-tuning inception-v4. I'm opening this issue.Can you help me?\r\n Thank you so much !"}