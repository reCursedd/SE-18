{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/332157758", "html_url": "https://github.com/tensorflow/tensorflow/issues/3919#issuecomment-332157758", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3919", "id": 332157758, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjE1Nzc1OA==", "user": {"login": "sudhasubramaniam", "id": 31059719, "node_id": "MDQ6VXNlcjMxMDU5NzE5", "avatar_url": "https://avatars2.githubusercontent.com/u/31059719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sudhasubramaniam", "html_url": "https://github.com/sudhasubramaniam", "followers_url": "https://api.github.com/users/sudhasubramaniam/followers", "following_url": "https://api.github.com/users/sudhasubramaniam/following{/other_user}", "gists_url": "https://api.github.com/users/sudhasubramaniam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sudhasubramaniam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sudhasubramaniam/subscriptions", "organizations_url": "https://api.github.com/users/sudhasubramaniam/orgs", "repos_url": "https://api.github.com/users/sudhasubramaniam/repos", "events_url": "https://api.github.com/users/sudhasubramaniam/events{/privacy}", "received_events_url": "https://api.github.com/users/sudhasubramaniam/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-26T10:35:53Z", "updated_at": "2017-09-26T10:35:53Z", "author_association": "NONE", "body_html": "<p>def input_fn(data_file, num_epochs, shuffle):<br>\n\"\"\"Input builder function.\"\"\"<br>\ndf_data = pd.read_csv(<br>\ntf.gfile.Open(data_file),<br>\nnames=CSV_COLUMNS,<br>\nskipinitialspace=True,<br>\nengine=\"python\",<br>\nskiprows=1)</p>\n<h1>remove NaN elements</h1>\n<p>df_data = df_data.dropna(how=\"any\", axis=0)<br>\nlabels = df_data[\"disease\"].apply(lambda x: \"no\" in x).astype(str)<br>\nreturn tf.estimator.inputs.pandas_input_fn(<br>\nx=df_data,<br>\ny=labels,<br>\nbatch_size=10,<br>\nnum_epochs=num_epochs,<br>\nshuffle=shuffle,<br>\nnum_threads=2)<br>\nI'm getting the following error for above code</p>\n<p>UnimplementedError (see above for traceback): Cast string to float is not supported<br>\n[[Node: linear/head/ToFloat = Cast<a href=\"linear/head/labels\">DstT=DT_FLOAT, SrcT=DT_STRING, _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a>]]</p>\n<p>Can some one help to resolve it</p>", "body_text": "def input_fn(data_file, num_epochs, shuffle):\n\"\"\"Input builder function.\"\"\"\ndf_data = pd.read_csv(\ntf.gfile.Open(data_file),\nnames=CSV_COLUMNS,\nskipinitialspace=True,\nengine=\"python\",\nskiprows=1)\nremove NaN elements\ndf_data = df_data.dropna(how=\"any\", axis=0)\nlabels = df_data[\"disease\"].apply(lambda x: \"no\" in x).astype(str)\nreturn tf.estimator.inputs.pandas_input_fn(\nx=df_data,\ny=labels,\nbatch_size=10,\nnum_epochs=num_epochs,\nshuffle=shuffle,\nnum_threads=2)\nI'm getting the following error for above code\nUnimplementedError (see above for traceback): Cast string to float is not supported\n[[Node: linear/head/ToFloat = CastDstT=DT_FLOAT, SrcT=DT_STRING, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]\nCan some one help to resolve it", "body": "def input_fn(data_file, num_epochs, shuffle):\r\n  \"\"\"Input builder function.\"\"\"\r\n  df_data = pd.read_csv(\r\n      tf.gfile.Open(data_file),\r\n      names=CSV_COLUMNS,\r\n      skipinitialspace=True,\r\n      engine=\"python\",\r\n      skiprows=1)\r\n  # remove NaN elements\r\n  df_data = df_data.dropna(how=\"any\", axis=0)\r\n  labels = df_data[\"disease\"].apply(lambda x: \"no\" in x).astype(str)\r\n  return tf.estimator.inputs.pandas_input_fn(\r\n      x=df_data,\r\n      y=labels,\r\n      batch_size=10,\r\n      num_epochs=num_epochs,\r\n      shuffle=shuffle,\r\n      num_threads=2)\r\nI'm getting the following error for above code\r\n\r\nUnimplementedError (see above for traceback): Cast string to float is not supported\r\n\t [[Node: linear/head/ToFloat = Cast[DstT=DT_FLOAT, SrcT=DT_STRING, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](linear/head/labels)]]\r\n\r\nCan some one help to resolve it"}