{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3224", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3224/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3224/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3224/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3224", "id": 164371599, "node_id": "MDU6SXNzdWUxNjQzNzE1OTk=", "number": 3224, "title": "Error polling for event status: failed to query event: CUDA_ERROR_MISALIGNED_ADDRESS", "user": {"login": "Waffleboy", "id": 12254813, "node_id": "MDQ6VXNlcjEyMjU0ODEz", "avatar_url": "https://avatars0.githubusercontent.com/u/12254813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Waffleboy", "html_url": "https://github.com/Waffleboy", "followers_url": "https://api.github.com/users/Waffleboy/followers", "following_url": "https://api.github.com/users/Waffleboy/following{/other_user}", "gists_url": "https://api.github.com/users/Waffleboy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Waffleboy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Waffleboy/subscriptions", "organizations_url": "https://api.github.com/users/Waffleboy/orgs", "repos_url": "https://api.github.com/users/Waffleboy/repos", "events_url": "https://api.github.com/users/Waffleboy/events{/privacy}", "received_events_url": "https://api.github.com/users/Waffleboy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2016-07-07T18:04:44Z", "updated_at": "2018-10-15T20:00:26Z", "closed_at": "2016-07-12T16:16:19Z", "author_association": "NONE", "body_html": "<h3>Summary:</h3>\n<p>Trying inceptionv3, was working fine all the way until I downgraded gcc 5+ to gcc4.9 to use Theano with keras: following this example <a href=\"http://deeplearning.net/software/theano/install_ubuntu.html\" rel=\"nofollow\">http://deeplearning.net/software/theano/install_ubuntu.html</a></p>\n<p>Now hitting this error before training starts (bottlenecks generate fine) whenever i run</p>\n<p>bazel-bin/tensorflow/examples/image_retraining/retrain --image_dir <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"\"><img dir=\"\" style=\"max-width:100%;\"></a></p>\n<pre><code>E tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_MISALIGNED_ADDRESS\nF tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:198] Unexpected Event status: 1\n</code></pre>\n<p>Cant figure out the problem. Sidenote that might help: bottlenecks generated alot faster when i used gcc 4.9 instead, but now the training crashes and i cant even run.</p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nUbuntu 16.04</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\n<code>ls: cannot access '/path/to/cuda/lib/libcud*': No such file or directory </code><br>\nIt's installed in /usr/local/cuda and /usr/local/cuda-7.5 instead.</p>\n<p>CUDA 7.5, CuDNN v4.</p>\n<p>Install steps:<br>\nCUDA:<br>\n<code>bash cuda_7.5.18_linux.run --override </code><br>\nCUDNN:<br>\nTried both:</p>\n<pre><code>\ntar xvzf cudnn-7.0-linux-x64-v4.0-prod.tgz\nsudo cp cuda/include/cudnn.h /usr/local/cuda-7.5/include\nsudo cp -r cuda/lib64/. /usr/local/cuda-7.5/lib64\n\n</code></pre>\n<p>and from here:<br>\n<a href=\"http://askubuntu.com/questions/767269/how-can-i-install-cudnn-on-ubuntu-16-04\" rel=\"nofollow\">http://askubuntu.com/questions/767269/how-can-i-install-cudnn-on-ubuntu-16-04</a></p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>Which pip package you installed.</li>\n</ol>\n<pre><code>$ export TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.9.0-cp35-cp35m-linux_x86_64.whl\npip install --upgrade $TF_BINARY_URL\n</code></pre>\n<ol>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<pre><code>I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n0.9.0\n</code></pre>\n<p>If installed from sources, provide the commit hash:</p>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>bazel build -c opt --copt=-mavx tensorflow/examples/image_retraining:retrain</li>\n<li>bazel-bin/tensorflow/examples/image_retraining/retrain --image_dir </li>\n<li>scratch head</li>\n</ol>\n<h3>What have you tried?</h3>\n<p>1.literally every other stack overflow / github question. eg, <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"159796126\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2810\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2810/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2810\">#2810</a></p>\n<p>2.reinstalling cuda 7.5 and cudnn v4, running ./configure. no luck.</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment).</p>", "body_text": "Summary:\nTrying inceptionv3, was working fine all the way until I downgraded gcc 5+ to gcc4.9 to use Theano with keras: following this example http://deeplearning.net/software/theano/install_ubuntu.html\nNow hitting this error before training starts (bottlenecks generate fine) whenever i run\nbazel-bin/tensorflow/examples/image_retraining/retrain --image_dir \nE tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_MISALIGNED_ADDRESS\nF tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:198] Unexpected Event status: 1\n\nCant figure out the problem. Sidenote that might help: bottlenecks generated alot faster when i used gcc 4.9 instead, but now the training crashes and i cant even run.\nEnvironment info\nOperating System:\nUbuntu 16.04\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nls: cannot access '/path/to/cuda/lib/libcud*': No such file or directory \nIt's installed in /usr/local/cuda and /usr/local/cuda-7.5 instead.\nCUDA 7.5, CuDNN v4.\nInstall steps:\nCUDA:\nbash cuda_7.5.18_linux.run --override \nCUDNN:\nTried both:\n\ntar xvzf cudnn-7.0-linux-x64-v4.0-prod.tgz\nsudo cp cuda/include/cudnn.h /usr/local/cuda-7.5/include\nsudo cp -r cuda/lib64/. /usr/local/cuda-7.5/lib64\n\n\nand from here:\nhttp://askubuntu.com/questions/767269/how-can-i-install-cudnn-on-ubuntu-16-04\nIf installed from binary pip package, provide:\n\nWhich pip package you installed.\n\n$ export TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.9.0-cp35-cp35m-linux_x86_64.whl\npip install --upgrade $TF_BINARY_URL\n\n\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n0.9.0\n\nIf installed from sources, provide the commit hash:\nSteps to reproduce\n\nbazel build -c opt --copt=-mavx tensorflow/examples/image_retraining:retrain\nbazel-bin/tensorflow/examples/image_retraining/retrain --image_dir \nscratch head\n\nWhat have you tried?\n1.literally every other stack overflow / github question. eg, #2810\n2.reinstalling cuda 7.5 and cudnn v4, running ./configure. no luck.\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment).", "body": "### Summary:\n\nTrying inceptionv3, was working fine all the way until I downgraded gcc 5+ to gcc4.9 to use Theano with keras: following this example http://deeplearning.net/software/theano/install_ubuntu.html\n\nNow hitting this error before training starts (bottlenecks generate fine) whenever i run \n\nbazel-bin/tensorflow/examples/image_retraining/retrain --image_dir <image dir>\n\n```\nE tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_MISALIGNED_ADDRESS\nF tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:198] Unexpected Event status: 1\n```\n\nCant figure out the problem. Sidenote that might help: bottlenecks generated alot faster when i used gcc 4.9 instead, but now the training crashes and i cant even run.\n### Environment info\n\nOperating System:\nUbuntu 16.04\n\nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n`ls: cannot access '/path/to/cuda/lib/libcud*': No such file or directory\n`\nIt's installed in /usr/local/cuda and /usr/local/cuda-7.5 instead.\n\nCUDA 7.5, CuDNN v4.\n\nInstall steps:\nCUDA: \n`bash cuda_7.5.18_linux.run --override\n`\nCUDNN:\nTried both:\n\n```\n\ntar xvzf cudnn-7.0-linux-x64-v4.0-prod.tgz\nsudo cp cuda/include/cudnn.h /usr/local/cuda-7.5/include\nsudo cp -r cuda/lib64/. /usr/local/cuda-7.5/lib64\n\n```\n\nand from here:\nhttp://askubuntu.com/questions/767269/how-can-i-install-cudnn-on-ubuntu-16-04\n\nIf installed from binary pip package, provide:\n1. Which pip package you installed.\n\n```\n$ export TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.9.0-cp35-cp35m-linux_x86_64.whl\npip install --upgrade $TF_BINARY_URL\n```\n1. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\n\n```\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n0.9.0\n```\n\nIf installed from sources, provide the commit hash:\n### Steps to reproduce\n1. bazel build -c opt --copt=-mavx tensorflow/examples/image_retraining:retrain\n2. bazel-bin/tensorflow/examples/image_retraining/retrain --image_dir <direc>\n3. scratch head\n### What have you tried?\n\n1.literally every other stack overflow / github question. eg, https://github.com/tensorflow/tensorflow/issues/2810\n\n2.reinstalling cuda 7.5 and cudnn v4, running ./configure. no luck.\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment).\n"}