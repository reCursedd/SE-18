{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11711", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11711/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11711/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11711/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11711", "id": 245021919, "node_id": "MDU6SXNzdWUyNDUwMjE5MTk=", "number": 11711, "title": "First time of inference very slow on iOS", "user": {"login": "buffxz", "id": 5762852, "node_id": "MDQ6VXNlcjU3NjI4NTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/5762852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/buffxz", "html_url": "https://github.com/buffxz", "followers_url": "https://api.github.com/users/buffxz/followers", "following_url": "https://api.github.com/users/buffxz/following{/other_user}", "gists_url": "https://api.github.com/users/buffxz/gists{/gist_id}", "starred_url": "https://api.github.com/users/buffxz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/buffxz/subscriptions", "organizations_url": "https://api.github.com/users/buffxz/orgs", "repos_url": "https://api.github.com/users/buffxz/repos", "events_url": "https://api.github.com/users/buffxz/events{/privacy}", "received_events_url": "https://api.github.com/users/buffxz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-24T09:31:04Z", "updated_at": "2017-10-25T01:02:18Z", "closed_at": "2017-10-25T01:02:01Z", "author_association": "NONE", "body_html": "<h3>Describe the problem</h3>\n<p>I tried to run the inference graph on iOS. However, the first run was very slow. It gets faster at the subsequent runs. My test inference graph is very simple, and just with two features as input, and run a logistic regression on it. The first run on <code>session.run(...)</code> will take about 15ms to run. The subsequent runs (starting from the second run) can go downs as low as 0.2ms.</p>\n<p>I have seen a similar issue raise here: <a href=\"https://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/PDIBnp1ftxk\" rel=\"nofollow\">https://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/PDIBnp1ftxk</a></p>\n<p>Is it a common problem on the c++ runtime? what cause this problem? Is it the lib level initialization issue or the graph level? I was not able to find any support about this on stackoverflow.</p>\n<p>Can we have an option to prepare the graph in optimized state in order to eliminate  problem with slow first run?</p>", "body_text": "Describe the problem\nI tried to run the inference graph on iOS. However, the first run was very slow. It gets faster at the subsequent runs. My test inference graph is very simple, and just with two features as input, and run a logistic regression on it. The first run on session.run(...) will take about 15ms to run. The subsequent runs (starting from the second run) can go downs as low as 0.2ms.\nI have seen a similar issue raise here: https://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/PDIBnp1ftxk\nIs it a common problem on the c++ runtime? what cause this problem? Is it the lib level initialization issue or the graph level? I was not able to find any support about this on stackoverflow.\nCan we have an option to prepare the graph in optimized state in order to eliminate  problem with slow first run?", "body": "### Describe the problem\r\nI tried to run the inference graph on iOS. However, the first run was very slow. It gets faster at the subsequent runs. My test inference graph is very simple, and just with two features as input, and run a logistic regression on it. The first run on `session.run(...)` will take about 15ms to run. The subsequent runs (starting from the second run) can go downs as low as 0.2ms.\r\n\r\nI have seen a similar issue raise here: https://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/PDIBnp1ftxk\r\n\r\nIs it a common problem on the c++ runtime? what cause this problem? Is it the lib level initialization issue or the graph level? I was not able to find any support about this on stackoverflow. \r\n\r\nCan we have an option to prepare the graph in optimized state in order to eliminate  problem with slow first run?"}