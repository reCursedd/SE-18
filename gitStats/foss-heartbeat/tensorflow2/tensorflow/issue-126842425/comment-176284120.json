{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/176284120", "html_url": "https://github.com/tensorflow/tensorflow/issues/783#issuecomment-176284120", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/783", "id": 176284120, "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjI4NDEyMA==", "user": {"login": "joshburkart", "id": 3888181, "node_id": "MDQ6VXNlcjM4ODgxODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3888181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshburkart", "html_url": "https://github.com/joshburkart", "followers_url": "https://api.github.com/users/joshburkart/followers", "following_url": "https://api.github.com/users/joshburkart/following{/other_user}", "gists_url": "https://api.github.com/users/joshburkart/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshburkart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshburkart/subscriptions", "organizations_url": "https://api.github.com/users/joshburkart/orgs", "repos_url": "https://api.github.com/users/joshburkart/repos", "events_url": "https://api.github.com/users/joshburkart/events{/privacy}", "received_events_url": "https://api.github.com/users/joshburkart/received_events", "type": "User", "site_admin": false}, "created_at": "2016-01-28T17:02:58Z", "updated_at": "2016-01-28T17:02:58Z", "author_association": "NONE", "body_html": "<p>Ahh yeah I would think only (1) is a bug. Do you think it would be better to raise separate exceptions instead of returning <code>None</code> for both (2) and (3)? Allow the user to handle them separately?</p>\n<p>One thing I could imagine is adding a <code>return_none</code> flag instead of a <code>return_zeros</code> flag, with a default value of <code>True</code>. When set to false, it raises <code>GradientOfDiscreteVariableError</code> for (2) and <code>NoImplementedGradientError</code> for (3), and returns an appropriately shaped zero Tensor for (1). When set to <code>True</code> it maintains the status quo and returns <code>None</code> in all cases. And then eventually plan to deprecate the <code>return_none=True</code> path.</p>\n<p>What do you think? Obviously I'd be happy to help out.</p>", "body_text": "Ahh yeah I would think only (1) is a bug. Do you think it would be better to raise separate exceptions instead of returning None for both (2) and (3)? Allow the user to handle them separately?\nOne thing I could imagine is adding a return_none flag instead of a return_zeros flag, with a default value of True. When set to false, it raises GradientOfDiscreteVariableError for (2) and NoImplementedGradientError for (3), and returns an appropriately shaped zero Tensor for (1). When set to True it maintains the status quo and returns None in all cases. And then eventually plan to deprecate the return_none=True path.\nWhat do you think? Obviously I'd be happy to help out.", "body": "Ahh yeah I would think only (1) is a bug. Do you think it would be better to raise separate exceptions instead of returning `None` for both (2) and (3)? Allow the user to handle them separately?\n\nOne thing I could imagine is adding a `return_none` flag instead of a `return_zeros` flag, with a default value of `True`. When set to false, it raises `GradientOfDiscreteVariableError` for (2) and `NoImplementedGradientError` for (3), and returns an appropriately shaped zero Tensor for (1). When set to `True` it maintains the status quo and returns `None` in all cases. And then eventually plan to deprecate the `return_none=True` path.\n\nWhat do you think? Obviously I'd be happy to help out.\n"}