{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/357783785", "html_url": "https://github.com/tensorflow/tensorflow/issues/15876#issuecomment-357783785", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15876", "id": 357783785, "node_id": "MDEyOklzc3VlQ29tbWVudDM1Nzc4Mzc4NQ==", "user": {"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-15T20:36:55Z", "updated_at": "2018-01-15T20:36:55Z", "author_association": "MEMBER", "body_html": "<blockquote>\n<p>Thanks, so it means tf_library is for testing only ? And thus it's expected behavior so far ?</p>\n</blockquote>\n<p>No, I meant to say that (I think) the <code>libdeepspeech_model.so</code> file you're loading is built under the assumption that all of the dependencies of the <code>tf_library</code> (which includes <code>:runtime_matmul</code>) are also going to be loaded dynamically (this mode is useful for running tests since you don't have to wait for the link step).  The tf_library rule itself is not test-only -- it generates .o files that you can link into a normal binary or a .so depending on what you want.</p>", "body_text": "Thanks, so it means tf_library is for testing only ? And thus it's expected behavior so far ?\n\nNo, I meant to say that (I think) the libdeepspeech_model.so file you're loading is built under the assumption that all of the dependencies of the tf_library (which includes :runtime_matmul) are also going to be loaded dynamically (this mode is useful for running tests since you don't have to wait for the link step).  The tf_library rule itself is not test-only -- it generates .o files that you can link into a normal binary or a .so depending on what you want.", "body": "> Thanks, so it means tf_library is for testing only ? And thus it's expected behavior so far ?\r\n\r\nNo, I meant to say that (I think) the `libdeepspeech_model.so` file you're loading is built under the assumption that all of the dependencies of the `tf_library` (which includes `:runtime_matmul`) are also going to be loaded dynamically (this mode is useful for running tests since you don't have to wait for the link step).  The tf_library rule itself is not test-only -- it generates .o files that you can link into a normal binary or a .so depending on what you want."}