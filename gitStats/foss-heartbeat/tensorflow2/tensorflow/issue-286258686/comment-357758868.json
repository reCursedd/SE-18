{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/357758868", "html_url": "https://github.com/tensorflow/tensorflow/issues/15876#issuecomment-357758868", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15876", "id": 357758868, "node_id": "MDEyOklzc3VlQ29tbWVudDM1Nzc1ODg2OA==", "user": {"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-15T18:33:00Z", "updated_at": "2018-01-15T18:33:00Z", "author_association": "MEMBER", "body_html": "<p>This is speculation -- I'm not very familiar with Bazel -- but I wonder if you need to have a tf_cc_shared_object for libdeepspeech_model.so, and the libdeepspeech_model.so you're loading right now is the one we build for testing and assumes all of its dependencies are built and loaded as SOs as well.</p>\n<p>In other words, you can either statically link in libdeepspeech_model.o and its deps (which includes matmul) into libdeepspeech.so; or you can create a \"self contained\" libdeepspeech_model.so by tf_cc_shared_object.</p>", "body_text": "This is speculation -- I'm not very familiar with Bazel -- but I wonder if you need to have a tf_cc_shared_object for libdeepspeech_model.so, and the libdeepspeech_model.so you're loading right now is the one we build for testing and assumes all of its dependencies are built and loaded as SOs as well.\nIn other words, you can either statically link in libdeepspeech_model.o and its deps (which includes matmul) into libdeepspeech.so; or you can create a \"self contained\" libdeepspeech_model.so by tf_cc_shared_object.", "body": "This is speculation -- I'm not very familiar with Bazel -- but I wonder if you need to have a tf_cc_shared_object for libdeepspeech_model.so, and the libdeepspeech_model.so you're loading right now is the one we build for testing and assumes all of its dependencies are built and loaded as SOs as well.\r\n\r\nIn other words, you can either statically link in libdeepspeech_model.o and its deps (which includes matmul) into libdeepspeech.so; or you can create a \"self contained\" libdeepspeech_model.so by tf_cc_shared_object."}