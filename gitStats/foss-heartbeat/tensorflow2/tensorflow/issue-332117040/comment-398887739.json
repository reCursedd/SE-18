{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/398887739", "html_url": "https://github.com/tensorflow/tensorflow/issues/19996#issuecomment-398887739", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19996", "id": 398887739, "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODg4NzczOQ==", "user": {"login": "josh11b", "id": 15258583, "node_id": "MDQ6VXNlcjE1MjU4NTgz", "avatar_url": "https://avatars0.githubusercontent.com/u/15258583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josh11b", "html_url": "https://github.com/josh11b", "followers_url": "https://api.github.com/users/josh11b/followers", "following_url": "https://api.github.com/users/josh11b/following{/other_user}", "gists_url": "https://api.github.com/users/josh11b/gists{/gist_id}", "starred_url": "https://api.github.com/users/josh11b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josh11b/subscriptions", "organizations_url": "https://api.github.com/users/josh11b/orgs", "repos_url": "https://api.github.com/users/josh11b/repos", "events_url": "https://api.github.com/users/josh11b/events{/privacy}", "received_events_url": "https://api.github.com/users/josh11b/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-20T20:35:17Z", "updated_at": "2018-06-20T20:46:26Z", "author_association": "MEMBER", "body_html": "<p>(For API review.) We agree this should be fixed. I think the best path forward is:</p>\n<ul>\n<li>\n<p>We change the legal values in <div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/23c218785eac5bfe737eec4f8081fd0ef8e0684d/tensorflow/python/ops/init_ops.py#L443\">tensorflow/tensorflow/python/ops/init_ops.py</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 443\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/23c218785eac5bfe737eec4f8081fd0ef8e0684d\">23c2187</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L443\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"443\"></td>\n          <td id=\"LC443\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">if</span> distribution <span class=\"pl-k\">not</span> <span class=\"pl-k\">in</span> {<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>normal<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>uniform<span class=\"pl-pds\">\"</span></span>}: </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\nto \"normal\", \"uniform\", \"truncated_normal\", \"untruncated_normal\"</p>\n</li>\n<li>\n<p>We change the default here: <div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/23c218785eac5bfe737eec4f8081fd0ef8e0684d/tensorflow/python/ops/init_ops.py#L435\">tensorflow/tensorflow/python/ops/init_ops.py</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 435\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/23c218785eac5bfe737eec4f8081fd0ef8e0684d\">23c2187</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L435\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"435\"></td>\n          <td id=\"LC435\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-smi\">distribution</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>normal<span class=\"pl-pds\">\"</span></span>, </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\nfrom \"normal\" to \"truncated_normal\" (matching current behavior, but clearer)</p>\n</li>\n<li>\n<p>We change the implementation here:<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/23c218785eac5bfe737eec4f8081fd0ef8e0684d/tensorflow/python/ops/init_ops.py#L465\">tensorflow/tensorflow/python/ops/init_ops.py</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 465\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/23c218785eac5bfe737eec4f8081fd0ef8e0684d\">23c2187</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L465\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"465\"></td>\n          <td id=\"LC465\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">if</span> <span class=\"pl-c1\">self</span>.distribution <span class=\"pl-k\">==</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>normal<span class=\"pl-pds\">\"</span></span>: </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\nto treat \"normal\" &amp; \"truncated_normal\" as the same (required for backwards-compatibility) and add a new implementation for \"untruncated_normal\"</p>\n</li>\n<li>\n<p>In the documentation here:<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/23c218785eac5bfe737eec4f8081fd0ef8e0684d/tensorflow/python/ops/init_ops.py#L421\">tensorflow/tensorflow/python/ops/init_ops.py</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 421\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/23c218785eac5bfe737eec4f8081fd0ef8e0684d\">23c2187</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L421\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"421\"></td>\n          <td id=\"LC421\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-s\">    distribution: Random distribution to use. One of \"normal\", \"uniform\".</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\nupdate the text to document the options as \"truncated_normal\", \"untruncated_normal\", and \"uniform\", and that \"normal\" is a deprecated alias for \"truncated_normal\"</p>\n</li>\n<li>\n<p>I will make a note that at 2.0, when we can break backwards compatibility, we should change \"normal\" to be an alias for \"untruncated_normal\".</p>\n</li>\n</ul>", "body_text": "(For API review.) We agree this should be fixed. I think the best path forward is:\n\n\nWe change the legal values in \n  \n    \n      tensorflow/tensorflow/python/ops/init_ops.py\n    \n    \n         Line 443\n      in\n      23c2187\n    \n    \n    \n    \n\n        \n          \n           if distribution not in {\"normal\", \"uniform\"}: \n        \n    \n  \n\n\nto \"normal\", \"uniform\", \"truncated_normal\", \"untruncated_normal\"\n\n\nWe change the default here: \n  \n    \n      tensorflow/tensorflow/python/ops/init_ops.py\n    \n    \n         Line 435\n      in\n      23c2187\n    \n    \n    \n    \n\n        \n          \n           distribution=\"normal\", \n        \n    \n  \n\n\nfrom \"normal\" to \"truncated_normal\" (matching current behavior, but clearer)\n\n\nWe change the implementation here:\n\n  \n    \n      tensorflow/tensorflow/python/ops/init_ops.py\n    \n    \n         Line 465\n      in\n      23c2187\n    \n    \n    \n    \n\n        \n          \n           if self.distribution == \"normal\": \n        \n    \n  \n\n\nto treat \"normal\" & \"truncated_normal\" as the same (required for backwards-compatibility) and add a new implementation for \"untruncated_normal\"\n\n\nIn the documentation here:\n\n  \n    \n      tensorflow/tensorflow/python/ops/init_ops.py\n    \n    \n         Line 421\n      in\n      23c2187\n    \n    \n    \n    \n\n        \n          \n               distribution: Random distribution to use. One of \"normal\", \"uniform\". \n        \n    \n  \n\n\nupdate the text to document the options as \"truncated_normal\", \"untruncated_normal\", and \"uniform\", and that \"normal\" is a deprecated alias for \"truncated_normal\"\n\n\nI will make a note that at 2.0, when we can break backwards compatibility, we should change \"normal\" to be an alias for \"untruncated_normal\".", "body": "(For API review.) We agree this should be fixed. I think the best path forward is:\r\n\r\n* We change the legal values in https://github.com/tensorflow/tensorflow/blob/23c218785eac5bfe737eec4f8081fd0ef8e0684d/tensorflow/python/ops/init_ops.py#L443\r\nto \"normal\", \"uniform\", \"truncated_normal\", \"untruncated_normal\"\r\n\r\n* We change the default here: https://github.com/tensorflow/tensorflow/blob/23c218785eac5bfe737eec4f8081fd0ef8e0684d/tensorflow/python/ops/init_ops.py#L435\r\nfrom \"normal\" to \"truncated_normal\" (matching current behavior, but clearer)\r\n\r\n* We change the implementation here:\r\nhttps://github.com/tensorflow/tensorflow/blob/23c218785eac5bfe737eec4f8081fd0ef8e0684d/tensorflow/python/ops/init_ops.py#L465\r\nto treat \"normal\" & \"truncated_normal\" as the same (required for backwards-compatibility) and add a new implementation for \"untruncated_normal\"\r\n\r\n* In the documentation here:\r\nhttps://github.com/tensorflow/tensorflow/blob/23c218785eac5bfe737eec4f8081fd0ef8e0684d/tensorflow/python/ops/init_ops.py#L421\r\nupdate the text to document the options as \"truncated_normal\", \"untruncated_normal\", and \"uniform\", and that \"normal\" is a deprecated alias for \"truncated_normal\"\r\n\r\n* I will make a note that at 2.0, when we can break backwards compatibility, we should change \"normal\" to be an alias for \"untruncated_normal\"."}