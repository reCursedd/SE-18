{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/428652676", "html_url": "https://github.com/tensorflow/tensorflow/issues/22862#issuecomment-428652676", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22862", "id": 428652676, "node_id": "MDEyOklzc3VlQ29tbWVudDQyODY1MjY3Ng==", "user": {"login": "clck", "id": 11429754, "node_id": "MDQ6VXNlcjExNDI5NzU0", "avatar_url": "https://avatars1.githubusercontent.com/u/11429754?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clck", "html_url": "https://github.com/clck", "followers_url": "https://api.github.com/users/clck/followers", "following_url": "https://api.github.com/users/clck/following{/other_user}", "gists_url": "https://api.github.com/users/clck/gists{/gist_id}", "starred_url": "https://api.github.com/users/clck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clck/subscriptions", "organizations_url": "https://api.github.com/users/clck/orgs", "repos_url": "https://api.github.com/users/clck/repos", "events_url": "https://api.github.com/users/clck/events{/privacy}", "received_events_url": "https://api.github.com/users/clck/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-10T17:06:21Z", "updated_at": "2018-10-10T17:06:21Z", "author_association": "NONE", "body_html": "<p>Hello!</p>\n<p>Think you are missing one assignment step in your setup.<br>\nIt is a subtle issue and has to do with how tf approaches data pipelines.<br>\nIn your case it has to do with the way transforms are chained together.</p>\n<p>For example in these lines of your code:</p>\n<pre><code>dataset.batch(10)\ndataset.repeat(100)\n</code></pre>\n<p>You call the batch and repeat operations yet never assign them.<br>\nThis creates a new Dataset object, and then just throws it away.<br>\nIt also why you see that dimension error since the dataset that is passed to <code>fit()</code> only yields single examples with no batch dimension.</p>\n<p>You want to do the same as the examples and assign the new dataset.<br>\nThere are a couple of options:</p>\n<pre><code>dataset = dataset.batch(10)\ndataset = dataset.repeat(100)\n</code></pre>\n<p>or</p>\n<pre><code>dataset = dataset.batch(10).repeat(100)\n</code></pre>\n<p>Hope this helps!</p>", "body_text": "Hello!\nThink you are missing one assignment step in your setup.\nIt is a subtle issue and has to do with how tf approaches data pipelines.\nIn your case it has to do with the way transforms are chained together.\nFor example in these lines of your code:\ndataset.batch(10)\ndataset.repeat(100)\n\nYou call the batch and repeat operations yet never assign them.\nThis creates a new Dataset object, and then just throws it away.\nIt also why you see that dimension error since the dataset that is passed to fit() only yields single examples with no batch dimension.\nYou want to do the same as the examples and assign the new dataset.\nThere are a couple of options:\ndataset = dataset.batch(10)\ndataset = dataset.repeat(100)\n\nor\ndataset = dataset.batch(10).repeat(100)\n\nHope this helps!", "body": "Hello!\r\n\r\nThink you are missing one assignment step in your setup.\r\nIt is a subtle issue and has to do with how tf approaches data pipelines.\r\nIn your case it has to do with the way transforms are chained together.\r\n\r\nFor example in these lines of your code:\r\n\r\n```\r\ndataset.batch(10)\r\ndataset.repeat(100)\r\n```\r\n\r\nYou call the batch and repeat operations yet never assign them.\r\nThis creates a new Dataset object, and then just throws it away.\r\nIt also why you see that dimension error since the dataset that is passed to `fit()` only yields single examples with no batch dimension.\r\n\r\n\r\nYou want to do the same as the examples and assign the new dataset. \r\nThere are a couple of options:\r\n\r\n```\r\ndataset = dataset.batch(10)\r\ndataset = dataset.repeat(100)\r\n```\r\n\r\nor \r\n\r\n```\r\ndataset = dataset.batch(10).repeat(100)\r\n```\r\n\r\nHope this helps!"}