{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/276761147", "html_url": "https://github.com/tensorflow/tensorflow/pull/7180#issuecomment-276761147", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7180", "id": 276761147, "node_id": "MDEyOklzc3VlQ29tbWVudDI3Njc2MTE0Nw==", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-01T19:46:33Z", "updated_at": "2017-02-01T19:46:33Z", "author_association": "MEMBER", "body_html": "<div class=\"email-fragment\">Id prefer either Martin's suggestion, or disabling the test. I am OK with\neither right now, as this is becoming a blocker for many contributions.\n\nOn Wed, Feb 1, 2017 at 11:00 AM, Martin Wicke &lt;notifications@github.com&gt;\nwrote:</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\"> The best thing to do would be to split this test into more manageable\n pieces, or even better, make it faster (less iterations, etc., if such a\n thing is still possible).\n\n\n On Wed, Feb 1, 2017 at 10:56 AM, Yuan (Terry) Tang &lt;\n ***@***.***\n &gt; wrote:\n\n &gt; Okay...should I change this to manual? Let me know what's the correct way\n &gt; to do it. I think it's better to document the best practices somewhere to\n &gt; avoid this back and forth conversation.\n &gt;\n &gt; On Wed, Feb 1, 2017 at 12:50 PM, gunan ***@***.***&gt; wrote:\n &gt;\n &gt; &gt; No, please do not use sharding, they can cause even worse complications\n &gt; &gt; with testinfra. Id rather we just disable this test.\n &gt; &gt;\n &gt; &gt; Large tests have 15 minute timeouts, and build phase added on top of\n that\n &gt; &gt; takes them out of our goals for presubmit time limits. Therefore we\n &gt; &gt; conciously disable large tests in our testinfra.\n &gt; &gt;\n &gt; &gt; On Feb 1, 2017 10:44 AM, \"Shanqing Cai\" ***@***.***&gt;\n &gt; wrote:\n &gt; &gt;\n &gt; &gt; &gt; <a class=\"user-mention\" href=\"https://github.com/terrytangyuan\">@terrytangyuan</a> &lt;<a href=\"https://github.com/terrytangyuan\">https://github.com/terrytangyuan</a>&gt; You are right. The\n &gt; &gt; test\n &gt; &gt; &gt; failures may be due to a BUILD file format requirement. Can you move\n &gt; the\n &gt; &gt; &gt; shard_count line after srcs and before srcs_version.\n &gt; &gt; &gt;\n &gt; &gt; &gt; \u2014\n &gt; &gt; &gt; You are receiving this because you were mentioned.\n &gt; &gt; &gt; Reply to this email directly, view it on GitHub\n &gt; &gt; &gt; &lt;<a href=\"https://github.com/tensorflow/tensorflow/pull/\">https://github.com/tensorflow/tensorflow/pull/</a>\n &gt; &gt; 7180#issuecomment-276743212&gt;,\n &gt; &gt; &gt; or mute the thread\n &gt; &gt; &gt; &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/\">https://github.com/notifications/unsubscribe-auth/</a>\n &gt; &gt; AHlCOcVdKp55mFcvCyUKpIn6doJhFc49ks5rYNJ5gaJpZM4Lzd3N&gt;\n &gt; &gt;\n &gt; &gt; &gt; .\n &gt; &gt; &gt;\n &gt; &gt;\n &gt; &gt; \u2014\n &gt; &gt; You are receiving this because you were mentioned.\n &gt; &gt; Reply to this email directly, view it on GitHub\n &gt; &gt; &lt;<a href=\"https://github.com/tensorflow/tensorflow/pull/\">https://github.com/tensorflow/tensorflow/pull/</a>\n &gt; 7180#issuecomment-276745075&gt;,\n &gt; &gt; or mute the thread\n &gt; &gt; &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/\">https://github.com/notifications/unsubscribe-auth/</a>\n &gt; AEEnSor6B6cNjoL8NAyV1XJMpU-lncNuks5rYNQRgaJpZM4Lzd3N&gt;\n &gt;\n &gt; &gt; .\n &gt; &gt;\n &gt;\n &gt; \u2014\n &gt; You are receiving this because you were mentioned.\n &gt; Reply to this email directly, view it on GitHub\n &gt; &lt;<a href=\"https://github.com/tensorflow/tensorflow/pull/\">https://github.com/tensorflow/tensorflow/pull/</a>\n 7180#issuecomment-276745954&gt;,\n &gt; or mute the thread\n &gt; &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AAjO_\">https://github.com/notifications/unsubscribe-auth/AAjO_</a>\n TYMocotuTUixZB3Ejb4x9Xpv4l0ks5rYNVfgaJpZM4Lzd3N&gt;\n\n &gt; .\n &gt;\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"204491953\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7180\" href=\"https://github.com/tensorflow/tensorflow/pull/7180#issuecomment-276747381\">#7180 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AHlCOVxOS16DMa-cdG9C1XybTXfZ3SU4ks5rYNZCgaJpZM4Lzd3N\">https://github.com/notifications/unsubscribe-auth/AHlCOVxOS16DMa-cdG9C1XybTXfZ3SU4ks5rYNZCgaJpZM4Lzd3N</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "Id prefer either Martin's suggestion, or disabling the test. I am OK with\neither right now, as this is becoming a blocker for many contributions.\n\nOn Wed, Feb 1, 2017 at 11:00 AM, Martin Wicke <notifications@github.com>\nwrote:\n\u2026\n The best thing to do would be to split this test into more manageable\n pieces, or even better, make it faster (less iterations, etc., if such a\n thing is still possible).\n\n\n On Wed, Feb 1, 2017 at 10:56 AM, Yuan (Terry) Tang <\n ***@***.***\n > wrote:\n\n > Okay...should I change this to manual? Let me know what's the correct way\n > to do it. I think it's better to document the best practices somewhere to\n > avoid this back and forth conversation.\n >\n > On Wed, Feb 1, 2017 at 12:50 PM, gunan ***@***.***> wrote:\n >\n > > No, please do not use sharding, they can cause even worse complications\n > > with testinfra. Id rather we just disable this test.\n > >\n > > Large tests have 15 minute timeouts, and build phase added on top of\n that\n > > takes them out of our goals for presubmit time limits. Therefore we\n > > conciously disable large tests in our testinfra.\n > >\n > > On Feb 1, 2017 10:44 AM, \"Shanqing Cai\" ***@***.***>\n > wrote:\n > >\n > > > @terrytangyuan <https://github.com/terrytangyuan> You are right. The\n > > test\n > > > failures may be due to a BUILD file format requirement. Can you move\n > the\n > > > shard_count line after srcs and before srcs_version.\n > > >\n > > > \u2014\n > > > You are receiving this because you were mentioned.\n > > > Reply to this email directly, view it on GitHub\n > > > <https://github.com/tensorflow/tensorflow/pull/\n > > 7180#issuecomment-276743212>,\n > > > or mute the thread\n > > > <https://github.com/notifications/unsubscribe-auth/\n > > AHlCOcVdKp55mFcvCyUKpIn6doJhFc49ks5rYNJ5gaJpZM4Lzd3N>\n > >\n > > > .\n > > >\n > >\n > > \u2014\n > > You are receiving this because you were mentioned.\n > > Reply to this email directly, view it on GitHub\n > > <https://github.com/tensorflow/tensorflow/pull/\n > 7180#issuecomment-276745075>,\n > > or mute the thread\n > > <https://github.com/notifications/unsubscribe-auth/\n > AEEnSor6B6cNjoL8NAyV1XJMpU-lncNuks5rYNQRgaJpZM4Lzd3N>\n >\n > > .\n > >\n >\n > \u2014\n > You are receiving this because you were mentioned.\n > Reply to this email directly, view it on GitHub\n > <https://github.com/tensorflow/tensorflow/pull/\n 7180#issuecomment-276745954>,\n > or mute the thread\n > <https://github.com/notifications/unsubscribe-auth/AAjO_\n TYMocotuTUixZB3Ejb4x9Xpv4l0ks5rYNVfgaJpZM4Lzd3N>\n\n > .\n >\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#7180 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/AHlCOVxOS16DMa-cdG9C1XybTXfZ3SU4ks5rYNZCgaJpZM4Lzd3N>\n .", "body": "Id prefer either Martin's suggestion, or disabling the test. I am OK with\neither right now, as this is becoming a blocker for many contributions.\n\nOn Wed, Feb 1, 2017 at 11:00 AM, Martin Wicke <notifications@github.com>\nwrote:\n\n> The best thing to do would be to split this test into more manageable\n> pieces, or even better, make it faster (less iterations, etc., if such a\n> thing is still possible).\n>\n>\n> On Wed, Feb 1, 2017 at 10:56 AM, Yuan (Terry) Tang <\n> notifications@github.com\n> > wrote:\n>\n> > Okay...should I change this to manual? Let me know what's the correct way\n> > to do it. I think it's better to document the best practices somewhere to\n> > avoid this back and forth conversation.\n> >\n> > On Wed, Feb 1, 2017 at 12:50 PM, gunan <notifications@github.com> wrote:\n> >\n> > > No, please do not use sharding, they can cause even worse complications\n> > > with testinfra. Id rather we just disable this test.\n> > >\n> > > Large tests have 15 minute timeouts, and build phase added on top of\n> that\n> > > takes them out of our goals for presubmit time limits. Therefore we\n> > > conciously disable large tests in our testinfra.\n> > >\n> > > On Feb 1, 2017 10:44 AM, \"Shanqing Cai\" <notifications@github.com>\n> > wrote:\n> > >\n> > > > @terrytangyuan <https://github.com/terrytangyuan> You are right. The\n> > > test\n> > > > failures may be due to a BUILD file format requirement. Can you move\n> > the\n> > > > shard_count line after srcs and before srcs_version.\n> > > >\n> > > > \u2014\n> > > > You are receiving this because you were mentioned.\n> > > > Reply to this email directly, view it on GitHub\n> > > > <https://github.com/tensorflow/tensorflow/pull/\n> > > 7180#issuecomment-276743212>,\n> > > > or mute the thread\n> > > > <https://github.com/notifications/unsubscribe-auth/\n> > > AHlCOcVdKp55mFcvCyUKpIn6doJhFc49ks5rYNJ5gaJpZM4Lzd3N>\n> > >\n> > > > .\n> > > >\n> > >\n> > > \u2014\n> > > You are receiving this because you were mentioned.\n> > > Reply to this email directly, view it on GitHub\n> > > <https://github.com/tensorflow/tensorflow/pull/\n> > 7180#issuecomment-276745075>,\n> > > or mute the thread\n> > > <https://github.com/notifications/unsubscribe-auth/\n> > AEEnSor6B6cNjoL8NAyV1XJMpU-lncNuks5rYNQRgaJpZM4Lzd3N>\n> >\n> > > .\n> > >\n> >\n> > \u2014\n> > You are receiving this because you were mentioned.\n> > Reply to this email directly, view it on GitHub\n> > <https://github.com/tensorflow/tensorflow/pull/\n> 7180#issuecomment-276745954>,\n> > or mute the thread\n> > <https://github.com/notifications/unsubscribe-auth/AAjO_\n> TYMocotuTUixZB3Ejb4x9Xpv4l0ks5rYNVfgaJpZM4Lzd3N>\n>\n> > .\n> >\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/pull/7180#issuecomment-276747381>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AHlCOVxOS16DMa-cdG9C1XybTXfZ3SU4ks5rYNZCgaJpZM4Lzd3N>\n> .\n>\n"}