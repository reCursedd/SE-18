{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/231939007", "html_url": "https://github.com/tensorflow/tensorflow/issues/3270#issuecomment-231939007", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3270", "id": 231939007, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTkzOTAwNw==", "user": {"login": "suraj1990", "id": 5551707, "node_id": "MDQ6VXNlcjU1NTE3MDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5551707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suraj1990", "html_url": "https://github.com/suraj1990", "followers_url": "https://api.github.com/users/suraj1990/followers", "following_url": "https://api.github.com/users/suraj1990/following{/other_user}", "gists_url": "https://api.github.com/users/suraj1990/gists{/gist_id}", "starred_url": "https://api.github.com/users/suraj1990/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suraj1990/subscriptions", "organizations_url": "https://api.github.com/users/suraj1990/orgs", "repos_url": "https://api.github.com/users/suraj1990/repos", "events_url": "https://api.github.com/users/suraj1990/events{/privacy}", "received_events_url": "https://api.github.com/users/suraj1990/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-12T05:11:48Z", "updated_at": "2016-07-12T05:11:48Z", "author_association": "NONE", "body_html": "<p>Thanks for your quick response <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=684901\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/lukaszkaiser\">@lukaszkaiser</a><br>\nmy doubts may be very trivial but I will go ahead and ask.<br>\nI have trained two models. you rightly pointed out that I have not used tf.varaible_scope during the training stage. When you say I need to rename variables that I restore from the checkpoint,</p>\n<pre><code>`ckpt = tf.train.get_checkpoint_state(FLAGS.train_dir)\n if ckpt and tf.gfile.Exists(ckpt.model_checkpoint_path):\n    print(\"Reading model parameters from %s\" % ckpt.model_checkpoint_path)\n    model.saver.restore(session, ckpt.model_checkpoint_path)\n else:\n    print(\"Created model with fresh parameters.\")\n    session.run(tf.initialize_all_variables())\nreturn model`\n</code></pre>\n<p>This is the place where the restoring is done, from the trained model cptk file. What are all the variables that I need to rename?</p>\n<p>Also by using the tf.variable_scope(), will the variables be prefixed with the string given, en_fr or fr_en automatically. ?</p>\n<p>is retraining both the models with tf.variable_scope a better option?</p>", "body_text": "Thanks for your quick response @lukaszkaiser\nmy doubts may be very trivial but I will go ahead and ask.\nI have trained two models. you rightly pointed out that I have not used tf.varaible_scope during the training stage. When you say I need to rename variables that I restore from the checkpoint,\n`ckpt = tf.train.get_checkpoint_state(FLAGS.train_dir)\n if ckpt and tf.gfile.Exists(ckpt.model_checkpoint_path):\n    print(\"Reading model parameters from %s\" % ckpt.model_checkpoint_path)\n    model.saver.restore(session, ckpt.model_checkpoint_path)\n else:\n    print(\"Created model with fresh parameters.\")\n    session.run(tf.initialize_all_variables())\nreturn model`\n\nThis is the place where the restoring is done, from the trained model cptk file. What are all the variables that I need to rename?\nAlso by using the tf.variable_scope(), will the variables be prefixed with the string given, en_fr or fr_en automatically. ?\nis retraining both the models with tf.variable_scope a better option?", "body": "Thanks for your quick response @lukaszkaiser \nmy doubts may be very trivial but I will go ahead and ask.\nI have trained two models. you rightly pointed out that I have not used tf.varaible_scope during the training stage. When you say I need to rename variables that I restore from the checkpoint, \n\n```\n`ckpt = tf.train.get_checkpoint_state(FLAGS.train_dir)\n if ckpt and tf.gfile.Exists(ckpt.model_checkpoint_path):\n    print(\"Reading model parameters from %s\" % ckpt.model_checkpoint_path)\n    model.saver.restore(session, ckpt.model_checkpoint_path)\n else:\n    print(\"Created model with fresh parameters.\")\n    session.run(tf.initialize_all_variables())\nreturn model`\n```\n\nThis is the place where the restoring is done, from the trained model cptk file. What are all the variables that I need to rename? \n\nAlso by using the tf.variable_scope(), will the variables be prefixed with the string given, en_fr or fr_en automatically. ?\n\nis retraining both the models with tf.variable_scope a better option?\n"}