{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/232322168", "html_url": "https://github.com/tensorflow/tensorflow/issues/3270#issuecomment-232322168", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3270", "id": 232322168, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjMyMjE2OA==", "user": {"login": "suraj1990", "id": 5551707, "node_id": "MDQ6VXNlcjU1NTE3MDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5551707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suraj1990", "html_url": "https://github.com/suraj1990", "followers_url": "https://api.github.com/users/suraj1990/followers", "following_url": "https://api.github.com/users/suraj1990/following{/other_user}", "gists_url": "https://api.github.com/users/suraj1990/gists{/gist_id}", "starred_url": "https://api.github.com/users/suraj1990/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suraj1990/subscriptions", "organizations_url": "https://api.github.com/users/suraj1990/orgs", "repos_url": "https://api.github.com/users/suraj1990/repos", "events_url": "https://api.github.com/users/suraj1990/events{/privacy}", "received_events_url": "https://api.github.com/users/suraj1990/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-13T10:52:41Z", "updated_at": "2016-07-13T10:54:34Z", "author_association": "NONE", "body_html": "<p>With your inputs, I made the modifications in seq2seq_model.py. Below are the lines of code I have added</p>\n<pre><code>all_vars = tf.all_variables()\nmodel_one_vars = [k for k in all_vars if k.name.startswith(\"en_fr\")]\nmodel_two_vars = [k for k in all_vars if k.name.startswith(\"fr_en\")]\n\nif not model_two_vars:\n   self.saver_en_fr = tf.train.Saver(model_one_vars)\nelse:\n   self.saver_fr_en = tf.train.Saver(model_two_vars)\n</code></pre>\n<p>in place of<br>\n<code>self.saver = tf.train.Saver(tf.all_variables())</code></p>\n<p>Things are working fine now. I have successfully loaded two models. Thanks a lot for your inputs :-)</p>", "body_text": "With your inputs, I made the modifications in seq2seq_model.py. Below are the lines of code I have added\nall_vars = tf.all_variables()\nmodel_one_vars = [k for k in all_vars if k.name.startswith(\"en_fr\")]\nmodel_two_vars = [k for k in all_vars if k.name.startswith(\"fr_en\")]\n\nif not model_two_vars:\n   self.saver_en_fr = tf.train.Saver(model_one_vars)\nelse:\n   self.saver_fr_en = tf.train.Saver(model_two_vars)\n\nin place of\nself.saver = tf.train.Saver(tf.all_variables())\nThings are working fine now. I have successfully loaded two models. Thanks a lot for your inputs :-)", "body": "With your inputs, I made the modifications in seq2seq_model.py. Below are the lines of code I have added \n\n```\nall_vars = tf.all_variables()\nmodel_one_vars = [k for k in all_vars if k.name.startswith(\"en_fr\")]\nmodel_two_vars = [k for k in all_vars if k.name.startswith(\"fr_en\")]\n\nif not model_two_vars:\n   self.saver_en_fr = tf.train.Saver(model_one_vars)\nelse:\n   self.saver_fr_en = tf.train.Saver(model_two_vars)\n```\n\nin place of \n    `self.saver = tf.train.Saver(tf.all_variables())`\n\nThings are working fine now. I have successfully loaded two models. Thanks a lot for your inputs :-)\n"}