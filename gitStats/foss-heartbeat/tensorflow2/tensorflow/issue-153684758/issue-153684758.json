{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2277", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2277/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2277/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2277/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2277", "id": 153684758, "node_id": "MDU6SXNzdWUxNTM2ODQ3NTg=", "number": 2277, "title": "Udacity assignment 4 run time error", "user": {"login": "omidb", "id": 4734340, "node_id": "MDQ6VXNlcjQ3MzQzNDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/4734340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omidb", "html_url": "https://github.com/omidb", "followers_url": "https://api.github.com/users/omidb/followers", "following_url": "https://api.github.com/users/omidb/following{/other_user}", "gists_url": "https://api.github.com/users/omidb/gists{/gist_id}", "starred_url": "https://api.github.com/users/omidb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omidb/subscriptions", "organizations_url": "https://api.github.com/users/omidb/orgs", "repos_url": "https://api.github.com/users/omidb/repos", "events_url": "https://api.github.com/users/omidb/events{/privacy}", "received_events_url": "https://api.github.com/users/omidb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "vincentvanhoucke", "id": 15737127, "node_id": "MDQ6VXNlcjE1NzM3MTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/15737127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentvanhoucke", "html_url": "https://github.com/vincentvanhoucke", "followers_url": "https://api.github.com/users/vincentvanhoucke/followers", "following_url": "https://api.github.com/users/vincentvanhoucke/following{/other_user}", "gists_url": "https://api.github.com/users/vincentvanhoucke/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentvanhoucke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentvanhoucke/subscriptions", "organizations_url": "https://api.github.com/users/vincentvanhoucke/orgs", "repos_url": "https://api.github.com/users/vincentvanhoucke/repos", "events_url": "https://api.github.com/users/vincentvanhoucke/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentvanhoucke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vincentvanhoucke", "id": 15737127, "node_id": "MDQ6VXNlcjE1NzM3MTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/15737127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentvanhoucke", "html_url": "https://github.com/vincentvanhoucke", "followers_url": "https://api.github.com/users/vincentvanhoucke/followers", "following_url": "https://api.github.com/users/vincentvanhoucke/following{/other_user}", "gists_url": "https://api.github.com/users/vincentvanhoucke/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentvanhoucke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentvanhoucke/subscriptions", "organizations_url": "https://api.github.com/users/vincentvanhoucke/orgs", "repos_url": "https://api.github.com/users/vincentvanhoucke/repos", "events_url": "https://api.github.com/users/vincentvanhoucke/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentvanhoucke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-05-09T00:01:45Z", "updated_at": "2017-05-31T18:20:27Z", "closed_at": "2016-05-11T18:40:23Z", "author_association": "NONE", "body_html": "<p>Hi, Thanks for the tutorials. I was able to run everything until now. I'm trying to run assignment 4 and in last step in the following part, I get exception which is related to \"session\" and its graph! I haven't change anything, I'm just running the code:</p>\n<div class=\"highlight highlight-source-python\"><pre>num_steps <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1001</span>\n\n<span class=\"pl-k\">with</span> tf.Session(<span class=\"pl-v\">graph</span><span class=\"pl-k\">=</span>graph) <span class=\"pl-k\">as</span> session:\n  tf.initialize_all_variables().run()\n  <span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Initialized<span class=\"pl-pds\">'</span></span>)\n  <span class=\"pl-k\">for</span> step <span class=\"pl-k\">in</span> <span class=\"pl-c1\">range</span>(num_steps):\n    offset <span class=\"pl-k\">=</span> (step <span class=\"pl-k\">*</span> batch_size) <span class=\"pl-k\">%</span> (train_labels.shape[<span class=\"pl-c1\">0</span>] <span class=\"pl-k\">-</span> batch_size)\n    batch_data <span class=\"pl-k\">=</span> train_dataset[offset:(offset <span class=\"pl-k\">+</span> batch_size), :, :, :]\n    batch_labels <span class=\"pl-k\">=</span> train_labels[offset:(offset <span class=\"pl-k\">+</span> batch_size), :]\n    feed_dict <span class=\"pl-k\">=</span> {tf_train_dataset : batch_data, tf_train_labels : batch_labels}\n    _, l, predictions <span class=\"pl-k\">=</span> session.run(\n      [optimizer, loss, train_prediction], <span class=\"pl-v\">feed_dict</span><span class=\"pl-k\">=</span>feed_dict)\n    <span class=\"pl-k\">if</span> (step <span class=\"pl-k\">%</span> <span class=\"pl-c1\">50</span> <span class=\"pl-k\">==</span> <span class=\"pl-c1\">0</span>):\n      <span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Minibatch loss at step <span class=\"pl-c1\">%d</span>: <span class=\"pl-c1\">%f</span><span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">%</span> (step, l))\n      <span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Minibatch accuracy: <span class=\"pl-c1\">%.1f%%</span><span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">%</span> accuracy(predictions, batch_labels))\n      <span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Validation accuracy: <span class=\"pl-c1\">%.1f%%</span><span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">%</span> accuracy(\n        valid_prediction.eval(), valid_labels))\n  <span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Test accuracy: <span class=\"pl-c1\">%.1f%%</span><span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">%</span> accuracy(test_prediction.eval(), test_labels))</pre></div>\n<p>and the error messages are:</p>\n<pre><code>Initialized\nMinibatch loss at step 0: 3.362968\nMinibatch accuracy: 6.2%\n\nInternalErrorTraceback (most recent call last)\n&lt;ipython-input-23-c56b394d9d7c&gt; in &lt;module&gt;()\n     15       print('Minibatch accuracy: %.1f%%' % accuracy(predictions, batch_labels))\n     16       print('Validation accuracy: %.1f%%' % accuracy(\n---&gt; 17         valid_prediction.eval(), valid_labels))\n     18   print('Test accuracy: %.1f%%' % accuracy(test_prediction.eval(), test_labels))\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.pyc in eval(self, feed_dict, session)\n    500 \n    501     \"\"\"\n--&gt; 502     return _eval_using_default_session(self, feed_dict, self.graph, session)\n    503 \n    504 \n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.pyc in _eval_using_default_session(tensors, feed_dict, graph, session)\n   3346                        \"the tensor's graph is different from the session's \"\n   3347                        \"graph.\")\n-&gt; 3348   return session.run(tensors, feed_dict)\n   3349 \n   3350 \n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in run(self, fetches, feed_dict, options, run_metadata)\n    341     try:\n    342       result = self._run(None, fetches, feed_dict, options_ptr,\n--&gt; 343                          run_metadata_ptr)\n    344       if run_metadata:\n    345         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _run(self, handle, fetches, feed_dict, options, run_metadata)\n    565     try:\n    566       results = self._do_run(handle, target_list, unique_fetches,\n--&gt; 567                              feed_dict_string, options, run_metadata)\n    568     finally:\n    569       # The movers are no longer used. Delete them.\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\n    638     if handle is None:\n    639       return self._do_call(_run_fn, self._session, feed_dict, fetch_list,\n--&gt; 640                            target_list, options, run_metadata)\n    641     else:\n    642       return self._do_call(_prun_fn, self._session, handle, feed_dict,\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _do_call(self, fn, *args)\n    660       # pylint: disable=protected-access\n    661       raise errors._make_specific_exception(node_def, op, error_message,\n--&gt; 662                                             e.code)\n    663       # pylint: enable=protected-access\n    664 \n\nInternalError: Dst tensor is not initialized.\n     [[Node: Const = Const[dtype=DT_FLOAT, value=Tensor&lt;type: float shape: [10000,28,28,1] values: -0.45294118 0.029411765 0.40588236...&gt;, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\nCaused by op u'Const', defined at:\n  File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/__main__.py\", line 3, in &lt;module&gt;\n    app.launch_new_instance()\n  File \"/usr/local/lib/python2.7/dist-packages/traitlets/config/application.py\", line 596, in launch_instance\n    app.start()\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelapp.py\", line 442, in start\n    ioloop.IOLoop.instance().start()\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/ioloop.py\", line 160, in start\n    super(ZMQIOLoop, self).start()\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/ioloop.py\", line 883, in start\n    handler_func(fd_obj, events)\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 433, in _handle_events\n    self._handle_recv()\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 465, in _handle_recv\n    self._run_callback(callback, msg)\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 407, in _run_callback\n    callback(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 276, in dispatcher\n    return self.dispatch_shell(stream, msg)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 228, in dispatch_shell\n    handler(stream, idents, msg)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 391, in execute_request\n    user_expressions, allow_stdin)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/ipkernel.py\", line 199, in do_execute\n    shell.run_cell(code, store_history=store_history, silent=silent)\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2723, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2825, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2885, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-18-aedb1ef46e04&gt;\", line 14, in &lt;module&gt;\n    tf_valid_dataset = tf.constant(valid_dataset)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/constant_op.py\", line 166, in constant\n    attrs={\"value\": tensor_value, \"dtype\": dtype_value}, name=name).outputs[0]\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2154, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1154, in __init__\n    self._traceback = _extract_stack()\n</code></pre>\n<p>Is there anything I have to do ? I can see the exception comes from <code>.eval()</code> function. I guess <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15737127\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vincentvanhoucke\">@vincentvanhoucke</a> might be right person to ping.</p>\n<p>Thanks</p>", "body_text": "Hi, Thanks for the tutorials. I was able to run everything until now. I'm trying to run assignment 4 and in last step in the following part, I get exception which is related to \"session\" and its graph! I haven't change anything, I'm just running the code:\nnum_steps = 1001\n\nwith tf.Session(graph=graph) as session:\n  tf.initialize_all_variables().run()\n  print('Initialized')\n  for step in range(num_steps):\n    offset = (step * batch_size) % (train_labels.shape[0] - batch_size)\n    batch_data = train_dataset[offset:(offset + batch_size), :, :, :]\n    batch_labels = train_labels[offset:(offset + batch_size), :]\n    feed_dict = {tf_train_dataset : batch_data, tf_train_labels : batch_labels}\n    _, l, predictions = session.run(\n      [optimizer, loss, train_prediction], feed_dict=feed_dict)\n    if (step % 50 == 0):\n      print('Minibatch loss at step %d: %f' % (step, l))\n      print('Minibatch accuracy: %.1f%%' % accuracy(predictions, batch_labels))\n      print('Validation accuracy: %.1f%%' % accuracy(\n        valid_prediction.eval(), valid_labels))\n  print('Test accuracy: %.1f%%' % accuracy(test_prediction.eval(), test_labels))\nand the error messages are:\nInitialized\nMinibatch loss at step 0: 3.362968\nMinibatch accuracy: 6.2%\n\nInternalErrorTraceback (most recent call last)\n<ipython-input-23-c56b394d9d7c> in <module>()\n     15       print('Minibatch accuracy: %.1f%%' % accuracy(predictions, batch_labels))\n     16       print('Validation accuracy: %.1f%%' % accuracy(\n---> 17         valid_prediction.eval(), valid_labels))\n     18   print('Test accuracy: %.1f%%' % accuracy(test_prediction.eval(), test_labels))\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.pyc in eval(self, feed_dict, session)\n    500 \n    501     \"\"\"\n--> 502     return _eval_using_default_session(self, feed_dict, self.graph, session)\n    503 \n    504 \n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.pyc in _eval_using_default_session(tensors, feed_dict, graph, session)\n   3346                        \"the tensor's graph is different from the session's \"\n   3347                        \"graph.\")\n-> 3348   return session.run(tensors, feed_dict)\n   3349 \n   3350 \n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in run(self, fetches, feed_dict, options, run_metadata)\n    341     try:\n    342       result = self._run(None, fetches, feed_dict, options_ptr,\n--> 343                          run_metadata_ptr)\n    344       if run_metadata:\n    345         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _run(self, handle, fetches, feed_dict, options, run_metadata)\n    565     try:\n    566       results = self._do_run(handle, target_list, unique_fetches,\n--> 567                              feed_dict_string, options, run_metadata)\n    568     finally:\n    569       # The movers are no longer used. Delete them.\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\n    638     if handle is None:\n    639       return self._do_call(_run_fn, self._session, feed_dict, fetch_list,\n--> 640                            target_list, options, run_metadata)\n    641     else:\n    642       return self._do_call(_prun_fn, self._session, handle, feed_dict,\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _do_call(self, fn, *args)\n    660       # pylint: disable=protected-access\n    661       raise errors._make_specific_exception(node_def, op, error_message,\n--> 662                                             e.code)\n    663       # pylint: enable=protected-access\n    664 \n\nInternalError: Dst tensor is not initialized.\n     [[Node: Const = Const[dtype=DT_FLOAT, value=Tensor<type: float shape: [10000,28,28,1] values: -0.45294118 0.029411765 0.40588236...>, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\nCaused by op u'Const', defined at:\n  File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/__main__.py\", line 3, in <module>\n    app.launch_new_instance()\n  File \"/usr/local/lib/python2.7/dist-packages/traitlets/config/application.py\", line 596, in launch_instance\n    app.start()\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelapp.py\", line 442, in start\n    ioloop.IOLoop.instance().start()\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/ioloop.py\", line 160, in start\n    super(ZMQIOLoop, self).start()\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/ioloop.py\", line 883, in start\n    handler_func(fd_obj, events)\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 433, in _handle_events\n    self._handle_recv()\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 465, in _handle_recv\n    self._run_callback(callback, msg)\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 407, in _run_callback\n    callback(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 276, in dispatcher\n    return self.dispatch_shell(stream, msg)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 228, in dispatch_shell\n    handler(stream, idents, msg)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 391, in execute_request\n    user_expressions, allow_stdin)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/ipkernel.py\", line 199, in do_execute\n    shell.run_cell(code, store_history=store_history, silent=silent)\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2723, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2825, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2885, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-18-aedb1ef46e04>\", line 14, in <module>\n    tf_valid_dataset = tf.constant(valid_dataset)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/constant_op.py\", line 166, in constant\n    attrs={\"value\": tensor_value, \"dtype\": dtype_value}, name=name).outputs[0]\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2154, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1154, in __init__\n    self._traceback = _extract_stack()\n\nIs there anything I have to do ? I can see the exception comes from .eval() function. I guess @vincentvanhoucke might be right person to ping.\nThanks", "body": "Hi, Thanks for the tutorials. I was able to run everything until now. I'm trying to run assignment 4 and in last step in the following part, I get exception which is related to \"session\" and its graph! I haven't change anything, I'm just running the code:\n\n``` python\nnum_steps = 1001\n\nwith tf.Session(graph=graph) as session:\n  tf.initialize_all_variables().run()\n  print('Initialized')\n  for step in range(num_steps):\n    offset = (step * batch_size) % (train_labels.shape[0] - batch_size)\n    batch_data = train_dataset[offset:(offset + batch_size), :, :, :]\n    batch_labels = train_labels[offset:(offset + batch_size), :]\n    feed_dict = {tf_train_dataset : batch_data, tf_train_labels : batch_labels}\n    _, l, predictions = session.run(\n      [optimizer, loss, train_prediction], feed_dict=feed_dict)\n    if (step % 50 == 0):\n      print('Minibatch loss at step %d: %f' % (step, l))\n      print('Minibatch accuracy: %.1f%%' % accuracy(predictions, batch_labels))\n      print('Validation accuracy: %.1f%%' % accuracy(\n        valid_prediction.eval(), valid_labels))\n  print('Test accuracy: %.1f%%' % accuracy(test_prediction.eval(), test_labels))\n```\n\nand the error messages are:\n\n```\nInitialized\nMinibatch loss at step 0: 3.362968\nMinibatch accuracy: 6.2%\n\nInternalErrorTraceback (most recent call last)\n<ipython-input-23-c56b394d9d7c> in <module>()\n     15       print('Minibatch accuracy: %.1f%%' % accuracy(predictions, batch_labels))\n     16       print('Validation accuracy: %.1f%%' % accuracy(\n---> 17         valid_prediction.eval(), valid_labels))\n     18   print('Test accuracy: %.1f%%' % accuracy(test_prediction.eval(), test_labels))\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.pyc in eval(self, feed_dict, session)\n    500 \n    501     \"\"\"\n--> 502     return _eval_using_default_session(self, feed_dict, self.graph, session)\n    503 \n    504 \n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.pyc in _eval_using_default_session(tensors, feed_dict, graph, session)\n   3346                        \"the tensor's graph is different from the session's \"\n   3347                        \"graph.\")\n-> 3348   return session.run(tensors, feed_dict)\n   3349 \n   3350 \n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in run(self, fetches, feed_dict, options, run_metadata)\n    341     try:\n    342       result = self._run(None, fetches, feed_dict, options_ptr,\n--> 343                          run_metadata_ptr)\n    344       if run_metadata:\n    345         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _run(self, handle, fetches, feed_dict, options, run_metadata)\n    565     try:\n    566       results = self._do_run(handle, target_list, unique_fetches,\n--> 567                              feed_dict_string, options, run_metadata)\n    568     finally:\n    569       # The movers are no longer used. Delete them.\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\n    638     if handle is None:\n    639       return self._do_call(_run_fn, self._session, feed_dict, fetch_list,\n--> 640                            target_list, options, run_metadata)\n    641     else:\n    642       return self._do_call(_prun_fn, self._session, handle, feed_dict,\n\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _do_call(self, fn, *args)\n    660       # pylint: disable=protected-access\n    661       raise errors._make_specific_exception(node_def, op, error_message,\n--> 662                                             e.code)\n    663       # pylint: enable=protected-access\n    664 \n\nInternalError: Dst tensor is not initialized.\n     [[Node: Const = Const[dtype=DT_FLOAT, value=Tensor<type: float shape: [10000,28,28,1] values: -0.45294118 0.029411765 0.40588236...>, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\nCaused by op u'Const', defined at:\n  File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/__main__.py\", line 3, in <module>\n    app.launch_new_instance()\n  File \"/usr/local/lib/python2.7/dist-packages/traitlets/config/application.py\", line 596, in launch_instance\n    app.start()\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelapp.py\", line 442, in start\n    ioloop.IOLoop.instance().start()\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/ioloop.py\", line 160, in start\n    super(ZMQIOLoop, self).start()\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/ioloop.py\", line 883, in start\n    handler_func(fd_obj, events)\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 433, in _handle_events\n    self._handle_recv()\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 465, in _handle_recv\n    self._run_callback(callback, msg)\n  File \"/usr/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 407, in _run_callback\n    callback(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 276, in dispatcher\n    return self.dispatch_shell(stream, msg)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 228, in dispatch_shell\n    handler(stream, idents, msg)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 391, in execute_request\n    user_expressions, allow_stdin)\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/ipkernel.py\", line 199, in do_execute\n    shell.run_cell(code, store_history=store_history, silent=silent)\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2723, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2825, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2885, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-18-aedb1ef46e04>\", line 14, in <module>\n    tf_valid_dataset = tf.constant(valid_dataset)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/constant_op.py\", line 166, in constant\n    attrs={\"value\": tensor_value, \"dtype\": dtype_value}, name=name).outputs[0]\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2154, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1154, in __init__\n    self._traceback = _extract_stack()\n```\n\nIs there anything I have to do ? I can see the exception comes from `.eval()` function. I guess @vincentvanhoucke might be right person to ping. \n\nThanks\n"}