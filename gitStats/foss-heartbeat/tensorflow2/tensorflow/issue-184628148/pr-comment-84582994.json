{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/84582994", "pull_request_review_id": 5354521, "id": 84582994, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg0NTgyOTk0", "diff_hunk": "@@ -113,29 +113,33 @@ function setup_python {\n     echo -e \"\\n\\nERROR: Problem getting python include path.  Is distutils installed?\"\n     exit 1\n   fi\n-  local python_lib_path\n-  # Split python_path into an array of paths, this allows path containing spaces\n-  IFS=','\n-  python_lib_path=($(python_path))\n-  unset IFS\n-  echo \"Found possible Python library paths:\"\n-  for x in \"${python_lib_path[@]}\"; do\n-    echo \"  $x\"\n-  done\n-  set -- \"${python_lib_path[@]}\"\n-  echo \"Please input the desired Python library path to use.  Default is [\"$1\"]\"\n-  read b || true\n-  if [ \"$b\" == \"\" ]; then\n-   python_lib=\"$(default_python_path \"${python_lib_path[0]}\")\"\n-   echo $python_lib\n-  else\n-    if test -d \"$b\" -a -x \"$b\"; then\n-      python_lib=\"$b\"\n+\n+  if [ -z \"$PYTHON_LIB_PATH\" ]; then\n+    local python_lib_path\n+    # Split python_path into an array of paths, this allows path containing spaces\n+    IFS=','\n+    python_lib_path=($(python_path))\n+    unset IFS\n+    echo \"Found possible Python library paths:\"\n+    for x in \"${python_lib_path[@]}\"; do\n+      echo \"  $x\"\n+    done\n+    set -- \"${python_lib_path[@]}\"\n+    echo \"Please input the desired Python library path to use.  Default is [\"$1\"]\"\n+    read b || true\n+    if [ \"$b\" == \"\" ]; then\n+      PYTHON_LIB_PATH=\"$(default_python_path \"${python_lib_path[0]}\")\"\n+      echo PYTHON_LIB_PATH\n     else\n-      echo -e \"\\n\\nERROR: The path you have entered does not exist.\"\n-      exit 1\n+      PYTHON_LIB_PATH=\"$b\"\n     fi\n   fi\n+  if test -d \"$PYTHON_LIB_PATH\" -a -x \"$PYTHON_LIB_PATH\"; then", "path": "util/python/python_config.sh", "position": 45, "original_position": 45, "commit_id": "ae369780ef564a5f0cf7c49e0bfe51fe565b1975", "original_commit_id": "ae369780ef564a5f0cf7c49e0bfe51fe565b1975", "user": {"login": "villasv", "id": 6609289, "node_id": "MDQ6VXNlcjY2MDkyODk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6609289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/villasv", "html_url": "https://github.com/villasv", "followers_url": "https://api.github.com/users/villasv/followers", "following_url": "https://api.github.com/users/villasv/following{/other_user}", "gists_url": "https://api.github.com/users/villasv/gists{/gist_id}", "starred_url": "https://api.github.com/users/villasv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/villasv/subscriptions", "organizations_url": "https://api.github.com/users/villasv/orgs", "repos_url": "https://api.github.com/users/villasv/repos", "events_url": "https://api.github.com/users/villasv/events{/privacy}", "received_events_url": "https://api.github.com/users/villasv/received_events", "type": "User", "site_admin": false}, "body": "The test is the same as before (it was applied to the `b` input variable. I think that should always be a single directory?)\nI made a sepparate \"if\" branch so this tests lib path both in the env var and the cmd input cases.\n", "created_at": "2016-10-22T19:01:03Z", "updated_at": "2016-10-22T19:03:44Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/5135#discussion_r84582994", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5135", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/84582994"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/5135#discussion_r84582994"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5135"}}, "body_html": "<p>The test is the same as before (it was applied to the <code>b</code> input variable. I think that should always be a single directory?)<br>\nI made a sepparate \"if\" branch so this tests lib path both in the env var and the cmd input cases.</p>", "body_text": "The test is the same as before (it was applied to the b input variable. I think that should always be a single directory?)\nI made a sepparate \"if\" branch so this tests lib path both in the env var and the cmd input cases.", "in_reply_to_id": 84581388}