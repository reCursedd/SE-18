{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/358477318", "html_url": "https://github.com/tensorflow/tensorflow/issues/12781#issuecomment-358477318", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12781", "id": 358477318, "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODQ3NzMxOA==", "user": {"login": "ryanjulian", "id": 1376219, "node_id": "MDQ6VXNlcjEzNzYyMTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryanjulian", "html_url": "https://github.com/ryanjulian", "followers_url": "https://api.github.com/users/ryanjulian/followers", "following_url": "https://api.github.com/users/ryanjulian/following{/other_user}", "gists_url": "https://api.github.com/users/ryanjulian/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryanjulian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryanjulian/subscriptions", "organizations_url": "https://api.github.com/users/ryanjulian/orgs", "repos_url": "https://api.github.com/users/ryanjulian/repos", "events_url": "https://api.github.com/users/ryanjulian/events{/privacy}", "received_events_url": "https://api.github.com/users/ryanjulian/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-17T22:55:31Z", "updated_at": "2018-01-17T22:55:31Z", "author_association": "NONE", "body_html": "<p>I have the same issue on Core i9-7900X with r1.4.1</p>\n<div class=\"highlight highlight-source-shell\"><pre>$ gcc --version\ngcc (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609</pre></div>\n<div class=\"highlight highlight-source-shell\"><pre>$ lsb_release -a\nNo LSB modules are available.\nDistributor ID:\tUbuntu\nDescription:\tUbuntu 16.04.3 LTS\nRelease:\t16.04\nCodename:\txenial</pre></div>\n<p>.tf_configure.bazelrc:</p>\n<blockquote>\n<p>build --action_env PYTHON_BIN_PATH=\"/usr/bin/python3\"<br>\nbuild --action_env PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"<br>\nbuild --define PYTHON_BIN_PATH=\"/usr/bin/python3\"<br>\nbuild --define PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"<br>\nbuild --force_python=py3<br>\nbuild --host_force_python=py3<br>\nbuild --python_path=\"/usr/bin/python3\"<br>\ntest --force_python=py3<br>\ntest --host_force_python=py3<br>\ntest --define PYTHON_BIN_PATH=\"/usr/bin/python3\"<br>\ntest --define PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"<br>\nrun --define PYTHON_BIN_PATH=\"/usr/bin/python3\"<br>\nrun --define PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"<br>\nbuild --define with_jemalloc=true<br>\nbuild --define with_gcp_support=true<br>\nbuild --define with_hdfs_support=true<br>\nbuild --define with_s3_support=true<br>\nbuild:xla --define with_xla_support=true<br>\nbuild:gdr --define with_gdr_support=true<br>\nbuild:verbs --define with_verbs_support=true<br>\nbuild --action_env TF_NEED_OPENCL=\"0\"<br>\nbuild --action_env TF_NEED_CUDA=\"1\"<br>\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"<br>\nbuild --action_env TF_CUDA_VERSION=\"9.1\"<br>\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/lib/x86_64-linux-gnu\"<br>\nbuild --action_env TF_CUDNN_VERSION=\"7.0.5\"<br>\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1,6.1,6.1\"<br>\nbuild --action_env TF_CUDA_CLANG=\"0\"<br>\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc\"<br>\nbuild --config=cuda<br>\ntest --config=cuda<br>\nbuild:opt --cxxopt=-mavx --copt=-mavx<br>\nbuild:opt --cxxopt=-mavx2 --copt=-mavx2<br>\nbuild:opt --cxxopt=-mfma --copt=-mfma<br>\nbuild:opt --cxxopt=-mfpmath=both --copt=-mfpmath=both<br>\nbuild:opt --cxxopt=-msse4.2 --copt=-msse4.2<br>\nbuild:opt --cxxopt=-msse4.1 --copt=-msse4.1<br>\nbuild:opt --cxxopt=-mavx512f --copt=-mavx512f<br>\nbuild:mkl --define using_mkl=true<br>\nbuild:mkl -c opt<br>\nbuild:mkl --copt=\"-DEIGEN_USE_VML\"<br>\nbuild:monolithic --define framework_shared_object=false<br>\nbuild --define framework_shared_object=true</p>\n</blockquote>\n<p>bazel command:</p>\n<div class=\"highlight highlight-source-shell\"><pre>$ bazel build --config=mkl --config=cuda --config=opt //tensorflow/tools/pip_package:build_pip_package --incompatible_load_argument_is_label=false</pre></div>\n<blockquote>\n<p>ERROR: /home/rjulian/.cache/bazel/_bazel_rjulian/2559b7af9a3bf764c301c93c1a3616a7/external/fft2d/BUILD.bazel:21:1: C++ compilation of rule '@fft2d//:fft2d' failed (Exit 1)<br>\nexternal/fft2d/fft/fftsg.c: In function 'cftf162':<br>\nexternal/fft2d/fft/fftsg.c:3028:1: error: insn does not satisfy its constraints:<br>\n}<br>\n^<br>\n(insn 486 485 130 2 (set (reg:DF 50 xmm13 [orig:218 D.7467 ] [218])<br>\n(plus:DF (reg:DF 50 xmm13 [orig:218 D.7467 ] [218])<br>\n(reg:DF 56 xmm19 [orig:218 D.7467 ] [218]))) external/fft2d/fft/fftsg.c:2933 796 {*fop_df_comm_mixed}<br>\n(nil))<br>\nexternal/fft2d/fft/fftsg.c:3028:1: internal compiler error: in extract_constrain_insn, at recog.c:2246<br>\nPlease submit a full bug report,<br>\nwith preprocessed source if appropriate.<br>\nSee file:///usr/share/doc/gcc-5/README.Bugs for instructions.<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.</p>\n</blockquote>", "body_text": "I have the same issue on Core i9-7900X with r1.4.1\n$ gcc --version\ngcc (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609\n$ lsb_release -a\nNo LSB modules are available.\nDistributor ID:\tUbuntu\nDescription:\tUbuntu 16.04.3 LTS\nRelease:\t16.04\nCodename:\txenial\n.tf_configure.bazelrc:\n\nbuild --action_env PYTHON_BIN_PATH=\"/usr/bin/python3\"\nbuild --action_env PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"\nbuild --define PYTHON_BIN_PATH=\"/usr/bin/python3\"\nbuild --define PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"\nbuild --force_python=py3\nbuild --host_force_python=py3\nbuild --python_path=\"/usr/bin/python3\"\ntest --force_python=py3\ntest --host_force_python=py3\ntest --define PYTHON_BIN_PATH=\"/usr/bin/python3\"\ntest --define PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"\nrun --define PYTHON_BIN_PATH=\"/usr/bin/python3\"\nrun --define PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"\nbuild --define with_jemalloc=true\nbuild --define with_gcp_support=true\nbuild --define with_hdfs_support=true\nbuild --define with_s3_support=true\nbuild:xla --define with_xla_support=true\nbuild:gdr --define with_gdr_support=true\nbuild:verbs --define with_verbs_support=true\nbuild --action_env TF_NEED_OPENCL=\"0\"\nbuild --action_env TF_NEED_CUDA=\"1\"\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_CUDA_VERSION=\"9.1\"\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/lib/x86_64-linux-gnu\"\nbuild --action_env TF_CUDNN_VERSION=\"7.0.5\"\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1,6.1,6.1\"\nbuild --action_env TF_CUDA_CLANG=\"0\"\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc\"\nbuild --config=cuda\ntest --config=cuda\nbuild:opt --cxxopt=-mavx --copt=-mavx\nbuild:opt --cxxopt=-mavx2 --copt=-mavx2\nbuild:opt --cxxopt=-mfma --copt=-mfma\nbuild:opt --cxxopt=-mfpmath=both --copt=-mfpmath=both\nbuild:opt --cxxopt=-msse4.2 --copt=-msse4.2\nbuild:opt --cxxopt=-msse4.1 --copt=-msse4.1\nbuild:opt --cxxopt=-mavx512f --copt=-mavx512f\nbuild:mkl --define using_mkl=true\nbuild:mkl -c opt\nbuild:mkl --copt=\"-DEIGEN_USE_VML\"\nbuild:monolithic --define framework_shared_object=false\nbuild --define framework_shared_object=true\n\nbazel command:\n$ bazel build --config=mkl --config=cuda --config=opt //tensorflow/tools/pip_package:build_pip_package --incompatible_load_argument_is_label=false\n\nERROR: /home/rjulian/.cache/bazel/_bazel_rjulian/2559b7af9a3bf764c301c93c1a3616a7/external/fft2d/BUILD.bazel:21:1: C++ compilation of rule '@fft2d//:fft2d' failed (Exit 1)\nexternal/fft2d/fft/fftsg.c: In function 'cftf162':\nexternal/fft2d/fft/fftsg.c:3028:1: error: insn does not satisfy its constraints:\n}\n^\n(insn 486 485 130 2 (set (reg:DF 50 xmm13 [orig:218 D.7467 ] [218])\n(plus:DF (reg:DF 50 xmm13 [orig:218 D.7467 ] [218])\n(reg:DF 56 xmm19 [orig:218 D.7467 ] [218]))) external/fft2d/fft/fftsg.c:2933 796 {*fop_df_comm_mixed}\n(nil))\nexternal/fft2d/fft/fftsg.c:3028:1: internal compiler error: in extract_constrain_insn, at recog.c:2246\nPlease submit a full bug report,\nwith preprocessed source if appropriate.\nSee file:///usr/share/doc/gcc-5/README.Bugs for instructions.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.", "body": "I have the same issue on Core i9-7900X with r1.4.1\r\n\r\n```bash\r\n$ gcc --version\r\ngcc (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609\r\n```\r\n\r\n```bash\r\n$ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 16.04.3 LTS\r\nRelease:\t16.04\r\nCodename:\txenial\r\n```\r\n\r\n.tf_configure.bazelrc:\r\n> build --action_env PYTHON_BIN_PATH=\"/usr/bin/python3\"\r\n> build --action_env PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"\r\n> build --define PYTHON_BIN_PATH=\"/usr/bin/python3\"\r\n> build --define PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"\r\n> build --force_python=py3\r\n> build --host_force_python=py3\r\n> build --python_path=\"/usr/bin/python3\"\r\n> test --force_python=py3\r\n> test --host_force_python=py3\r\n> test --define PYTHON_BIN_PATH=\"/usr/bin/python3\"\r\n> test --define PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"\r\n> run --define PYTHON_BIN_PATH=\"/usr/bin/python3\"\r\n> run --define PYTHON_LIB_PATH=\"/usr/local/lib/python3.5/dist-packages\"\r\n> build --define with_jemalloc=true\r\n> build --define with_gcp_support=true\r\n> build --define with_hdfs_support=true\r\n> build --define with_s3_support=true\r\n> build:xla --define with_xla_support=true\r\n> build:gdr --define with_gdr_support=true\r\n> build:verbs --define with_verbs_support=true\r\n> build --action_env TF_NEED_OPENCL=\"0\"\r\n> build --action_env TF_NEED_CUDA=\"1\"\r\n> build --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\r\n> build --action_env TF_CUDA_VERSION=\"9.1\"\r\n> build --action_env CUDNN_INSTALL_PATH=\"/usr/lib/x86_64-linux-gnu\"\r\n> build --action_env TF_CUDNN_VERSION=\"7.0.5\"\r\n> build --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1,6.1,6.1\"\r\n> build --action_env TF_CUDA_CLANG=\"0\"\r\n> build --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc\"\r\n> build --config=cuda\r\n> test --config=cuda\r\n> build:opt --cxxopt=-mavx --copt=-mavx\r\n> build:opt --cxxopt=-mavx2 --copt=-mavx2\r\n> build:opt --cxxopt=-mfma --copt=-mfma\r\n> build:opt --cxxopt=-mfpmath=both --copt=-mfpmath=both\r\n> build:opt --cxxopt=-msse4.2 --copt=-msse4.2\r\n> build:opt --cxxopt=-msse4.1 --copt=-msse4.1\r\n> build:opt --cxxopt=-mavx512f --copt=-mavx512f\r\n> build:mkl --define using_mkl=true\r\n> build:mkl -c opt\r\n> build:mkl --copt=\"-DEIGEN_USE_VML\"\r\n> build:monolithic --define framework_shared_object=false\r\n> build --define framework_shared_object=true\r\n> \r\n\r\nbazel command:\r\n```bash\r\n$ bazel build --config=mkl --config=cuda --config=opt //tensorflow/tools/pip_package:build_pip_package --incompatible_load_argument_is_label=false\r\n```\r\n\r\n> ERROR: /home/rjulian/.cache/bazel/_bazel_rjulian/2559b7af9a3bf764c301c93c1a3616a7/external/fft2d/BUILD.bazel:21:1: C++ compilation of rule '@fft2d//:fft2d' failed (Exit 1)\r\n> external/fft2d/fft/fftsg.c: In function 'cftf162':\r\n> external/fft2d/fft/fftsg.c:3028:1: error: insn does not satisfy its constraints:\r\n>  }\r\n>  ^\r\n> (insn 486 485 130 2 (set (reg:DF 50 xmm13 [orig:218 D.7467 ] [218])\r\n>         (plus:DF (reg:DF 50 xmm13 [orig:218 D.7467 ] [218])\r\n>             (reg:DF 56 xmm19 [orig:218 D.7467 ] [218]))) external/fft2d/fft/fftsg.c:2933 796 {*fop_df_comm_mixed}\r\n>      (nil))\r\n> external/fft2d/fft/fftsg.c:3028:1: internal compiler error: in extract_constrain_insn, at recog.c:2246\r\n> Please submit a full bug report,\r\n> with preprocessed source if appropriate.\r\n> See <file:///usr/share/doc/gcc-5/README.Bugs> for instructions.\r\n> Target //tensorflow/tools/pip_package:build_pip_package failed to build\r\n> Use --verbose_failures to see the command lines of failed build steps.\r\n"}