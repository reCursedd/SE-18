{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/351353000", "html_url": "https://github.com/tensorflow/tensorflow/issues/14039#issuecomment-351353000", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14039", "id": 351353000, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTM1MzAwMA==", "user": {"login": "Nayana-ibm", "id": 20816038, "node_id": "MDQ6VXNlcjIwODE2MDM4", "avatar_url": "https://avatars0.githubusercontent.com/u/20816038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nayana-ibm", "html_url": "https://github.com/Nayana-ibm", "followers_url": "https://api.github.com/users/Nayana-ibm/followers", "following_url": "https://api.github.com/users/Nayana-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/Nayana-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nayana-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nayana-ibm/subscriptions", "organizations_url": "https://api.github.com/users/Nayana-ibm/orgs", "repos_url": "https://api.github.com/users/Nayana-ibm/repos", "events_url": "https://api.github.com/users/Nayana-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/Nayana-ibm/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-13T10:41:04Z", "updated_at": "2017-12-13T10:41:04Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a>   As grpc dependency version is updated through <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"277913193\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14981\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/14981/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/14981\">#14981</a>,  I have tried building tensorflow master for s390x again.  I have disabled <code>Google Cloud Platform</code> and  <code>Amazon S3 File System</code> support through <code>./configure</code> options.  (answering No to s3 and gcp support question when running <code>configure.py</code> )<br>\nNow, build is successful (No error related to boringssl) however test execution failed with</p>\n<pre><code>ERROR: external/boringssl/BUILD:115:1: Couldn't build file external/boringssl/_objs/crypto/external/boringssl/src/crypto/bn_extra/bn_asn1.pic.o: C++ compilation of rule '@boringssl//:crypto' failed (Exit 1).\nIn file included from external/boringssl/src/include/openssl/bn.h:126:0,\n                 from external/boringssl/src/crypto/bn_extra/bn_asn1.c:15:\nexternal/boringssl/src/include/openssl/base.h:114:2: error: #error \"Unknown target CPU\"\n #error \"Unknown target CPU\"\n  ^\nIn file included from external/boringssl/src/crypto/bn_extra/bn_asn1.c:15:0:\nexternal/boringssl/src/include/openssl/bn.h:163:2: error: #error \"Must define either OPENSSL_32_BIT or OPENSSL_64_BIT\"\n #error \"Must define either OPENSSL_32_BIT or OPENSSL_64_BIT\"\n  ^\n</code></pre>\n<p>I guess, I need to add <code>no_big_endian</code> tag in the BUILD files to disable the tests as you mentioned in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"239712138\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/11170\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/11170/hovercard?comment_id=329252942&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/pull/11170#issuecomment-329252942\">#11170 (comment)</a><br>\nI have identified below files which may require change:</p>\n<pre><code>tensorflow/core/platform/cloud/BUILD\ntensorflow/contrib/tpu/profiler/BUILD\ntensorflow/core/platform/default/build_config.bzl\ntensorflow/core/platform/s3/BUILD\nthird_party/aws.BUILD\ntensorflow/BUILD\ntensorflow/core/platform/cloud/BUILD\ntensorflow/contrib/cloud/kernels/BUILD\nthird_party/curl.BUILD\n</code></pre>\n<p>Please correct me if I'm missing anything here.</p>", "body_text": "@gunan   As grpc dependency version is updated through #14981,  I have tried building tensorflow master for s390x again.  I have disabled Google Cloud Platform and  Amazon S3 File System support through ./configure options.  (answering No to s3 and gcp support question when running configure.py )\nNow, build is successful (No error related to boringssl) however test execution failed with\nERROR: external/boringssl/BUILD:115:1: Couldn't build file external/boringssl/_objs/crypto/external/boringssl/src/crypto/bn_extra/bn_asn1.pic.o: C++ compilation of rule '@boringssl//:crypto' failed (Exit 1).\nIn file included from external/boringssl/src/include/openssl/bn.h:126:0,\n                 from external/boringssl/src/crypto/bn_extra/bn_asn1.c:15:\nexternal/boringssl/src/include/openssl/base.h:114:2: error: #error \"Unknown target CPU\"\n #error \"Unknown target CPU\"\n  ^\nIn file included from external/boringssl/src/crypto/bn_extra/bn_asn1.c:15:0:\nexternal/boringssl/src/include/openssl/bn.h:163:2: error: #error \"Must define either OPENSSL_32_BIT or OPENSSL_64_BIT\"\n #error \"Must define either OPENSSL_32_BIT or OPENSSL_64_BIT\"\n  ^\n\nI guess, I need to add no_big_endian tag in the BUILD files to disable the tests as you mentioned in #11170 (comment)\nI have identified below files which may require change:\ntensorflow/core/platform/cloud/BUILD\ntensorflow/contrib/tpu/profiler/BUILD\ntensorflow/core/platform/default/build_config.bzl\ntensorflow/core/platform/s3/BUILD\nthird_party/aws.BUILD\ntensorflow/BUILD\ntensorflow/core/platform/cloud/BUILD\ntensorflow/contrib/cloud/kernels/BUILD\nthird_party/curl.BUILD\n\nPlease correct me if I'm missing anything here.", "body": "@gunan   As grpc dependency version is updated through #14981,  I have tried building tensorflow master for s390x again.  I have disabled `Google Cloud Platform` and  `Amazon S3 File System` support through `./configure` options.  (answering No to s3 and gcp support question when running `configure.py` )\r\nNow, build is successful (No error related to boringssl) however test execution failed with \r\n```\r\nERROR: external/boringssl/BUILD:115:1: Couldn't build file external/boringssl/_objs/crypto/external/boringssl/src/crypto/bn_extra/bn_asn1.pic.o: C++ compilation of rule '@boringssl//:crypto' failed (Exit 1).\r\nIn file included from external/boringssl/src/include/openssl/bn.h:126:0,\r\n                 from external/boringssl/src/crypto/bn_extra/bn_asn1.c:15:\r\nexternal/boringssl/src/include/openssl/base.h:114:2: error: #error \"Unknown target CPU\"\r\n #error \"Unknown target CPU\"\r\n  ^\r\nIn file included from external/boringssl/src/crypto/bn_extra/bn_asn1.c:15:0:\r\nexternal/boringssl/src/include/openssl/bn.h:163:2: error: #error \"Must define either OPENSSL_32_BIT or OPENSSL_64_BIT\"\r\n #error \"Must define either OPENSSL_32_BIT or OPENSSL_64_BIT\"\r\n  ^\r\n```\r\n\r\nI guess, I need to add `no_big_endian` tag in the BUILD files to disable the tests as you mentioned in https://github.com/tensorflow/tensorflow/pull/11170#issuecomment-329252942\r\nI have identified below files which may require change:\r\n```\r\ntensorflow/core/platform/cloud/BUILD\r\ntensorflow/contrib/tpu/profiler/BUILD\r\ntensorflow/core/platform/default/build_config.bzl\r\ntensorflow/core/platform/s3/BUILD\r\nthird_party/aws.BUILD\r\ntensorflow/BUILD\r\ntensorflow/core/platform/cloud/BUILD\r\ntensorflow/contrib/cloud/kernels/BUILD\r\nthird_party/curl.BUILD\r\n```\r\nPlease correct me if I'm missing anything here. \r\n"}