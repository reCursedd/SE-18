{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/216270382", "html_url": "https://github.com/tensorflow/tensorflow/issues/2190#issuecomment-216270382", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2190", "id": 216270382, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjI3MDM4Mg==", "user": {"login": "waTeim", "id": 5779395, "node_id": "MDQ6VXNlcjU3NzkzOTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5779395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/waTeim", "html_url": "https://github.com/waTeim", "followers_url": "https://api.github.com/users/waTeim/followers", "following_url": "https://api.github.com/users/waTeim/following{/other_user}", "gists_url": "https://api.github.com/users/waTeim/gists{/gist_id}", "starred_url": "https://api.github.com/users/waTeim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/waTeim/subscriptions", "organizations_url": "https://api.github.com/users/waTeim/orgs", "repos_url": "https://api.github.com/users/waTeim/repos", "events_url": "https://api.github.com/users/waTeim/events{/privacy}", "received_events_url": "https://api.github.com/users/waTeim/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-02T15:37:51Z", "updated_at": "2016-05-02T15:37:51Z", "author_association": "NONE", "body_html": "<p>Hmm well I just obtained cudnn on Saturday and specifically avoided v5, however cuda itself might be older; they're dated Aug 2015 (see below).  Also, previously i had cudnn v3 installed for caffe and deep dreams.  Maybe I need to reinstall (recompile) all the support packages obtained via pip?</p>\n<p>Nevertheless, here's the output (note I've modified/renamed the example)</p>\n<pre><code>jeffw@chill:~/src/tensorflow/tensorflow/examples/skflow$ CUDA_VISIBLE_DEVICES=0 python text_classification_mkp2b.py\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\nusing saved form\nTotal words: 26744\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2785\npciBusID 0000:03:00.0\nTotal memory: 4.00GiB\nFree memory: 3.91GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 980, pci bus id: 0000:03:00.0)\n\n\nlrwxrwxrwx  1 root  root       8 Nov 15 20:27 cuda -&gt; cuda-7.5\ndrwxr-xr-x 13 root  root    4096 Nov 15 20:26 cuda-7.5\nlrwxrwxrwx  1 root  root      24 Apr 30 16:22 cudnn -&gt; cudnn-7.0-linux-x64-v4.0\ndrwxr-xr-x  4 root  root    4096 Nov 15 21:00 cudnn-7.0-linux-x64-v3.0\ndrwxr-xr-x  4 root  root    4096 Apr 30 16:22 cudnn-7.0-linux-x64-v4.0\n</code></pre>\n<p>I've already cut-pasted the cudnn libs (above) here are the others</p>\n<pre><code> ls -l /usr/local/cuda/lib64/libcublas*\n-rw-r--r-- 1 root root 28585480 Aug 15  2015 /usr/local/cuda/lib64/libcublas_device.a\nlrwxrwxrwx 1 root root       16 Aug 15  2015 /usr/local/cuda/lib64/libcublas.so -&gt; libcublas.so.7.5\nlrwxrwxrwx 1 root root       19 Aug 15  2015 /usr/local/cuda/lib64/libcublas.so.7.5 -&gt; libcublas.so.7.5.18\n-rwxr-xr-x 1 root root 23938736 Aug 15  2015 /usr/local/cuda/lib64/libcublas.so.7.5.18\n-rw-r--r-- 1 root root 28220076 Aug 15  2015 /usr/local/cuda/lib64/libcublas_static.a\nls -l /usr/local/cuda/lib64/libcufft*\nlrwxrwxrwx 1 root root        15 Aug 15  2015 /usr/local/cuda/lib64/libcufft.so -&gt; libcufft.so.7.5\nlrwxrwxrwx 1 root root        18 Aug 15  2015 /usr/local/cuda/lib64/libcufft.so.7.5 -&gt; libcufft.so.7.5.18\n-rwxr-xr-x 1 root root 111231960 Aug 15  2015 /usr/local/cuda/lib64/libcufft.so.7.5.18\n-rw-r--r-- 1 root root 115104400 Aug 15  2015 /usr/local/cuda/lib64/libcufft_static.a\nlrwxrwxrwx 1 root root        16 Aug 15  2015 /usr/local/cuda/lib64/libcufftw.so -&gt; libcufftw.so.7.5\nlrwxrwxrwx 1 root root        19 Aug 15  2015 /usr/local/cuda/lib64/libcufftw.so.7.5 -&gt; libcufftw.so.7.5.18\n-rwxr-xr-x 1 root root    447664 Aug 15  2015 /usr/local/cuda/lib64/libcufftw.so.7.5.18\n-rw-r--r-- 1 root root     42206 Aug 15  2015 /usr/local/cuda/lib64/libcufftw_static.a\nls -l /usr/local/cuda/lib64/libcuda*\n-rw-r--r-- 1 root root 322936 Aug 15  2015 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.7.5\nlrwxrwxrwx 1 root root     19 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5 -&gt; libcudart.so.7.5.18\n-rwxr-xr-x 1 root root 383336 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5.18\n-rw-r--r-- 1 root root 720192 Aug 15  2015 /usr/local/cuda/lib64/libcudart_static.a\nls -l /usr/local/cuda/lib64/libcurand*\nlrwxrwxrwx 1 root root       16 Aug 15  2015 /usr/local/cuda/lib64/libcurand.so -&gt; libcurand.so.7.5\nlrwxrwxrwx 1 root root       19 Aug 15  2015 /usr/local/cuda/lib64/libcurand.so.7.5 -&gt; libcurand.so.7.5.18\n-rwxr-xr-x 1 root root 51765952 Aug 15  2015 /usr/local/cuda/lib64/libcurand.so.7.5.18\n-rw-r--r-- 1 root root 51992564 Aug 15  2015 /usr/local/cuda/lib64/libcurand_static.a\n</code></pre>", "body_text": "Hmm well I just obtained cudnn on Saturday and specifically avoided v5, however cuda itself might be older; they're dated Aug 2015 (see below).  Also, previously i had cudnn v3 installed for caffe and deep dreams.  Maybe I need to reinstall (recompile) all the support packages obtained via pip?\nNevertheless, here's the output (note I've modified/renamed the example)\njeffw@chill:~/src/tensorflow/tensorflow/examples/skflow$ CUDA_VISIBLE_DEVICES=0 python text_classification_mkp2b.py\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\nusing saved form\nTotal words: 26744\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2785\npciBusID 0000:03:00.0\nTotal memory: 4.00GiB\nFree memory: 3.91GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:03:00.0)\n\n\nlrwxrwxrwx  1 root  root       8 Nov 15 20:27 cuda -> cuda-7.5\ndrwxr-xr-x 13 root  root    4096 Nov 15 20:26 cuda-7.5\nlrwxrwxrwx  1 root  root      24 Apr 30 16:22 cudnn -> cudnn-7.0-linux-x64-v4.0\ndrwxr-xr-x  4 root  root    4096 Nov 15 21:00 cudnn-7.0-linux-x64-v3.0\ndrwxr-xr-x  4 root  root    4096 Apr 30 16:22 cudnn-7.0-linux-x64-v4.0\n\nI've already cut-pasted the cudnn libs (above) here are the others\n ls -l /usr/local/cuda/lib64/libcublas*\n-rw-r--r-- 1 root root 28585480 Aug 15  2015 /usr/local/cuda/lib64/libcublas_device.a\nlrwxrwxrwx 1 root root       16 Aug 15  2015 /usr/local/cuda/lib64/libcublas.so -> libcublas.so.7.5\nlrwxrwxrwx 1 root root       19 Aug 15  2015 /usr/local/cuda/lib64/libcublas.so.7.5 -> libcublas.so.7.5.18\n-rwxr-xr-x 1 root root 23938736 Aug 15  2015 /usr/local/cuda/lib64/libcublas.so.7.5.18\n-rw-r--r-- 1 root root 28220076 Aug 15  2015 /usr/local/cuda/lib64/libcublas_static.a\nls -l /usr/local/cuda/lib64/libcufft*\nlrwxrwxrwx 1 root root        15 Aug 15  2015 /usr/local/cuda/lib64/libcufft.so -> libcufft.so.7.5\nlrwxrwxrwx 1 root root        18 Aug 15  2015 /usr/local/cuda/lib64/libcufft.so.7.5 -> libcufft.so.7.5.18\n-rwxr-xr-x 1 root root 111231960 Aug 15  2015 /usr/local/cuda/lib64/libcufft.so.7.5.18\n-rw-r--r-- 1 root root 115104400 Aug 15  2015 /usr/local/cuda/lib64/libcufft_static.a\nlrwxrwxrwx 1 root root        16 Aug 15  2015 /usr/local/cuda/lib64/libcufftw.so -> libcufftw.so.7.5\nlrwxrwxrwx 1 root root        19 Aug 15  2015 /usr/local/cuda/lib64/libcufftw.so.7.5 -> libcufftw.so.7.5.18\n-rwxr-xr-x 1 root root    447664 Aug 15  2015 /usr/local/cuda/lib64/libcufftw.so.7.5.18\n-rw-r--r-- 1 root root     42206 Aug 15  2015 /usr/local/cuda/lib64/libcufftw_static.a\nls -l /usr/local/cuda/lib64/libcuda*\n-rw-r--r-- 1 root root 322936 Aug 15  2015 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root     19 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root 383336 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5.18\n-rw-r--r-- 1 root root 720192 Aug 15  2015 /usr/local/cuda/lib64/libcudart_static.a\nls -l /usr/local/cuda/lib64/libcurand*\nlrwxrwxrwx 1 root root       16 Aug 15  2015 /usr/local/cuda/lib64/libcurand.so -> libcurand.so.7.5\nlrwxrwxrwx 1 root root       19 Aug 15  2015 /usr/local/cuda/lib64/libcurand.so.7.5 -> libcurand.so.7.5.18\n-rwxr-xr-x 1 root root 51765952 Aug 15  2015 /usr/local/cuda/lib64/libcurand.so.7.5.18\n-rw-r--r-- 1 root root 51992564 Aug 15  2015 /usr/local/cuda/lib64/libcurand_static.a", "body": "Hmm well I just obtained cudnn on Saturday and specifically avoided v5, however cuda itself might be older; they're dated Aug 2015 (see below).  Also, previously i had cudnn v3 installed for caffe and deep dreams.  Maybe I need to reinstall (recompile) all the support packages obtained via pip?  \n\nNevertheless, here's the output (note I've modified/renamed the example) \n\n```\njeffw@chill:~/src/tensorflow/tensorflow/examples/skflow$ CUDA_VISIBLE_DEVICES=0 python text_classification_mkp2b.py\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\nusing saved form\nTotal words: 26744\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2785\npciBusID 0000:03:00.0\nTotal memory: 4.00GiB\nFree memory: 3.91GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:03:00.0)\n\n\nlrwxrwxrwx  1 root  root       8 Nov 15 20:27 cuda -> cuda-7.5\ndrwxr-xr-x 13 root  root    4096 Nov 15 20:26 cuda-7.5\nlrwxrwxrwx  1 root  root      24 Apr 30 16:22 cudnn -> cudnn-7.0-linux-x64-v4.0\ndrwxr-xr-x  4 root  root    4096 Nov 15 21:00 cudnn-7.0-linux-x64-v3.0\ndrwxr-xr-x  4 root  root    4096 Apr 30 16:22 cudnn-7.0-linux-x64-v4.0\n```\n\nI've already cut-pasted the cudnn libs (above) here are the others\n\n```\n ls -l /usr/local/cuda/lib64/libcublas*\n-rw-r--r-- 1 root root 28585480 Aug 15  2015 /usr/local/cuda/lib64/libcublas_device.a\nlrwxrwxrwx 1 root root       16 Aug 15  2015 /usr/local/cuda/lib64/libcublas.so -> libcublas.so.7.5\nlrwxrwxrwx 1 root root       19 Aug 15  2015 /usr/local/cuda/lib64/libcublas.so.7.5 -> libcublas.so.7.5.18\n-rwxr-xr-x 1 root root 23938736 Aug 15  2015 /usr/local/cuda/lib64/libcublas.so.7.5.18\n-rw-r--r-- 1 root root 28220076 Aug 15  2015 /usr/local/cuda/lib64/libcublas_static.a\nls -l /usr/local/cuda/lib64/libcufft*\nlrwxrwxrwx 1 root root        15 Aug 15  2015 /usr/local/cuda/lib64/libcufft.so -> libcufft.so.7.5\nlrwxrwxrwx 1 root root        18 Aug 15  2015 /usr/local/cuda/lib64/libcufft.so.7.5 -> libcufft.so.7.5.18\n-rwxr-xr-x 1 root root 111231960 Aug 15  2015 /usr/local/cuda/lib64/libcufft.so.7.5.18\n-rw-r--r-- 1 root root 115104400 Aug 15  2015 /usr/local/cuda/lib64/libcufft_static.a\nlrwxrwxrwx 1 root root        16 Aug 15  2015 /usr/local/cuda/lib64/libcufftw.so -> libcufftw.so.7.5\nlrwxrwxrwx 1 root root        19 Aug 15  2015 /usr/local/cuda/lib64/libcufftw.so.7.5 -> libcufftw.so.7.5.18\n-rwxr-xr-x 1 root root    447664 Aug 15  2015 /usr/local/cuda/lib64/libcufftw.so.7.5.18\n-rw-r--r-- 1 root root     42206 Aug 15  2015 /usr/local/cuda/lib64/libcufftw_static.a\nls -l /usr/local/cuda/lib64/libcuda*\n-rw-r--r-- 1 root root 322936 Aug 15  2015 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root     19 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root 383336 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5.18\n-rw-r--r-- 1 root root 720192 Aug 15  2015 /usr/local/cuda/lib64/libcudart_static.a\nls -l /usr/local/cuda/lib64/libcurand*\nlrwxrwxrwx 1 root root       16 Aug 15  2015 /usr/local/cuda/lib64/libcurand.so -> libcurand.so.7.5\nlrwxrwxrwx 1 root root       19 Aug 15  2015 /usr/local/cuda/lib64/libcurand.so.7.5 -> libcurand.so.7.5.18\n-rwxr-xr-x 1 root root 51765952 Aug 15  2015 /usr/local/cuda/lib64/libcurand.so.7.5.18\n-rw-r--r-- 1 root root 51992564 Aug 15  2015 /usr/local/cuda/lib64/libcurand_static.a\n```\n"}