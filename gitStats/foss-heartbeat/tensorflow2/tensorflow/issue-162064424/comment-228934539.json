{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/228934539", "html_url": "https://github.com/tensorflow/tensorflow/issues/3017#issuecomment-228934539", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3017", "id": 228934539, "node_id": "MDEyOklzc3VlQ29tbWVudDIyODkzNDUzOQ==", "user": {"login": "kakashidan", "id": 5554421, "node_id": "MDQ6VXNlcjU1NTQ0MjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5554421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kakashidan", "html_url": "https://github.com/kakashidan", "followers_url": "https://api.github.com/users/kakashidan/followers", "following_url": "https://api.github.com/users/kakashidan/following{/other_user}", "gists_url": "https://api.github.com/users/kakashidan/gists{/gist_id}", "starred_url": "https://api.github.com/users/kakashidan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kakashidan/subscriptions", "organizations_url": "https://api.github.com/users/kakashidan/orgs", "repos_url": "https://api.github.com/users/kakashidan/repos", "events_url": "https://api.github.com/users/kakashidan/events{/privacy}", "received_events_url": "https://api.github.com/users/kakashidan/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-28T02:52:07Z", "updated_at": "2016-06-28T02:52:07Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=575738\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/cg31\">@cg31</a> Thank you for your reply. The idea, using the ops files generated by Bazel, seems to NOT work for me.<br>\nActually, I wanna to use ops such as DecodePng, DecodeJpeg, ReadFile, etc. However, these ops are not compiled into libtensorflow-core.a and link errors below are raised.</p>\n<pre><code>main.cc:(.text+0x386): undefined reference to `tensorflow::ops::Const(tensorflow::StringPiece, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0x3b9): undefined reference to `tensorflow::ops::ReadFile(tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0x4ff): undefined reference to `tensorflow::ops::DecodePng(tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0x5fa): undefined reference to `tensorflow::ops::DecodeJpeg(tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0x6ad): undefined reference to `tensorflow::ops::Cast(tensorflow::NodeBuilder::NodeOut, tensorflow::DataType, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0x700): undefined reference to `tensorflow::ops::Const(int, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0x754): undefined reference to `tensorflow::ops::ExpandDims(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0x87f): undefined reference to `tensorflow::ops::ResizeBilinear(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0xa2d): undefined reference to `tensorflow::ops::Sub(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0xa67): undefined reference to `tensorflow::ops::Div(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.o: In function `LoadGraph(std::string, std::unique_ptr&lt;tensorflow::Session, std::default_delete&lt;tensorflow::Session&gt; &gt;*)':\nmain.cc:(.text+0x1170): undefined reference to `tensorflow::ReadBinaryProto(tensorflow::Env*, std::string const&amp;, google::protobuf::MessageLite*)'\nmain.o: In function `GetTopLabels(std::vector&lt;tensorflow::Tensor, std::allocator&lt;tensorflow::Tensor&gt; &gt; const&amp;, int, tensorflow::Tensor*, tensorflow::Tensor*)':\nmain.cc:(.text+0x1445): undefined reference to `tensorflow::ops::Const(int, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0x1490): undefined reference to `tensorflow::ops::Const(tensorflow::Tensor const&amp;, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.cc:(.text+0x14ca): undefined reference to `tensorflow::ops::TopKV2(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&amp;)'\nmain.o: In function `main':\nmain.cc:(.text+0x22ed): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x230f): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x2331): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x23e7): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x240c): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.o:main.cc:(.text+0x2456): more undefined references to `tensorflow::Flag::Flag(char const*, std::string*)' follow\nmain.o: In function `main':\nmain.cc:(.text+0x267d): undefined reference to `tensorflow::io::JoinPath(tensorflow::StringPiece, tensorflow::StringPiece)'\nmain.cc:(.text+0x279f): undefined reference to `tensorflow::io::JoinPath(tensorflow::StringPiece, tensorflow::StringPiece)'\nmain.o: In function `tensorflow::ops::Const(std::initializer_list&lt;float&gt;, tensorflow::GraphDefBuilder::Options const&amp;)':\n</code></pre>", "body_text": "@cg31 Thank you for your reply. The idea, using the ops files generated by Bazel, seems to NOT work for me.\nActually, I wanna to use ops such as DecodePng, DecodeJpeg, ReadFile, etc. However, these ops are not compiled into libtensorflow-core.a and link errors below are raised.\nmain.cc:(.text+0x386): undefined reference to `tensorflow::ops::Const(tensorflow::StringPiece, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x3b9): undefined reference to `tensorflow::ops::ReadFile(tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x4ff): undefined reference to `tensorflow::ops::DecodePng(tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x5fa): undefined reference to `tensorflow::ops::DecodeJpeg(tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x6ad): undefined reference to `tensorflow::ops::Cast(tensorflow::NodeBuilder::NodeOut, tensorflow::DataType, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x700): undefined reference to `tensorflow::ops::Const(int, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x754): undefined reference to `tensorflow::ops::ExpandDims(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x87f): undefined reference to `tensorflow::ops::ResizeBilinear(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0xa2d): undefined reference to `tensorflow::ops::Sub(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0xa67): undefined reference to `tensorflow::ops::Div(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.o: In function `LoadGraph(std::string, std::unique_ptr<tensorflow::Session, std::default_delete<tensorflow::Session> >*)':\nmain.cc:(.text+0x1170): undefined reference to `tensorflow::ReadBinaryProto(tensorflow::Env*, std::string const&, google::protobuf::MessageLite*)'\nmain.o: In function `GetTopLabels(std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> > const&, int, tensorflow::Tensor*, tensorflow::Tensor*)':\nmain.cc:(.text+0x1445): undefined reference to `tensorflow::ops::Const(int, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x1490): undefined reference to `tensorflow::ops::Const(tensorflow::Tensor const&, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x14ca): undefined reference to `tensorflow::ops::TopKV2(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.o: In function `main':\nmain.cc:(.text+0x22ed): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x230f): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x2331): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x23e7): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x240c): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.o:main.cc:(.text+0x2456): more undefined references to `tensorflow::Flag::Flag(char const*, std::string*)' follow\nmain.o: In function `main':\nmain.cc:(.text+0x267d): undefined reference to `tensorflow::io::JoinPath(tensorflow::StringPiece, tensorflow::StringPiece)'\nmain.cc:(.text+0x279f): undefined reference to `tensorflow::io::JoinPath(tensorflow::StringPiece, tensorflow::StringPiece)'\nmain.o: In function `tensorflow::ops::Const(std::initializer_list<float>, tensorflow::GraphDefBuilder::Options const&)':", "body": "@cg31 Thank you for your reply. The idea, using the ops files generated by Bazel, seems to NOT work for me.\nActually, I wanna to use ops such as DecodePng, DecodeJpeg, ReadFile, etc. However, these ops are not compiled into libtensorflow-core.a and link errors below are raised.\n\n```\nmain.cc:(.text+0x386): undefined reference to `tensorflow::ops::Const(tensorflow::StringPiece, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x3b9): undefined reference to `tensorflow::ops::ReadFile(tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x4ff): undefined reference to `tensorflow::ops::DecodePng(tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x5fa): undefined reference to `tensorflow::ops::DecodeJpeg(tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x6ad): undefined reference to `tensorflow::ops::Cast(tensorflow::NodeBuilder::NodeOut, tensorflow::DataType, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x700): undefined reference to `tensorflow::ops::Const(int, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x754): undefined reference to `tensorflow::ops::ExpandDims(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x87f): undefined reference to `tensorflow::ops::ResizeBilinear(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0xa2d): undefined reference to `tensorflow::ops::Sub(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0xa67): undefined reference to `tensorflow::ops::Div(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.o: In function `LoadGraph(std::string, std::unique_ptr<tensorflow::Session, std::default_delete<tensorflow::Session> >*)':\nmain.cc:(.text+0x1170): undefined reference to `tensorflow::ReadBinaryProto(tensorflow::Env*, std::string const&, google::protobuf::MessageLite*)'\nmain.o: In function `GetTopLabels(std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> > const&, int, tensorflow::Tensor*, tensorflow::Tensor*)':\nmain.cc:(.text+0x1445): undefined reference to `tensorflow::ops::Const(int, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x1490): undefined reference to `tensorflow::ops::Const(tensorflow::Tensor const&, tensorflow::GraphDefBuilder::Options const&)'\nmain.cc:(.text+0x14ca): undefined reference to `tensorflow::ops::TopKV2(tensorflow::NodeBuilder::NodeOut, tensorflow::NodeBuilder::NodeOut, tensorflow::GraphDefBuilder::Options const&)'\nmain.o: In function `main':\nmain.cc:(.text+0x22ed): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x230f): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x2331): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x23e7): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.cc:(.text+0x240c): undefined reference to `tensorflow::Flag::Flag(char const*, std::string*)'\nmain.o:main.cc:(.text+0x2456): more undefined references to `tensorflow::Flag::Flag(char const*, std::string*)' follow\nmain.o: In function `main':\nmain.cc:(.text+0x267d): undefined reference to `tensorflow::io::JoinPath(tensorflow::StringPiece, tensorflow::StringPiece)'\nmain.cc:(.text+0x279f): undefined reference to `tensorflow::io::JoinPath(tensorflow::StringPiece, tensorflow::StringPiece)'\nmain.o: In function `tensorflow::ops::Const(std::initializer_list<float>, tensorflow::GraphDefBuilder::Options const&)':\n```\n"}