{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15273", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15273/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15273/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15273/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15273", "id": 281004755, "node_id": "MDU6SXNzdWUyODEwMDQ3NTU=", "number": 15273, "title": "Dataset Iterator is not an iterator", "user": {"login": "ruuda", "id": 506953, "node_id": "MDQ6VXNlcjUwNjk1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/506953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruuda", "html_url": "https://github.com/ruuda", "followers_url": "https://api.github.com/users/ruuda/followers", "following_url": "https://api.github.com/users/ruuda/following{/other_user}", "gists_url": "https://api.github.com/users/ruuda/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruuda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruuda/subscriptions", "organizations_url": "https://api.github.com/users/ruuda/orgs", "repos_url": "https://api.github.com/users/ruuda/repos", "events_url": "https://api.github.com/users/ruuda/events{/privacy}", "received_events_url": "https://api.github.com/users/ruuda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-11T12:49:31Z", "updated_at": "2017-12-11T19:41:51Z", "closed_at": "2017-12-11T19:41:51Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: confidential</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: <a href=\"https://pypi.python.org/pypi/tensorflow-gpu/1.4.1\" rel=\"nofollow\">Pypi</a></li>\n<li><strong>TensorFlow version (use command below)</strong>: <code>v1.4.0-19-ga52c8d9 1.4.1</code></li>\n<li><strong>Python version</strong>: 3.5.3</li>\n<li><strong>CUDA/cuDNN version</strong>: (sensitive information replaced by <code>xxx</code>)</li>\n</ul>\n<pre><code>$ apt search cud | grep installed\nlibcublas8.0/xxx,now 8.0.44-4 amd64 [installed]\nlibcuda1/xxx,now 375.66-1 amd64 [installed,automatic]\nlibcuda1-i386/xxx,now 375.66-1 i386 [installed,automatic]\nlibcudart8.0/xxx,now 8.0.44-4 amd64 [installed]\nlibcudnn6/now 6.0.21-1+cuda8.0 amd64 [installed,local]\nlibcufft8.0/xxx,now 8.0.44-4 amd64 [installed]\nlibcurand8.0/xxx,now 8.0.44-4 amd64 [installed]\nlibnvidia-fatbinaryloader/xxx,now 375.66-1 amd64 [installed,automatic]\nlibnvidia-ptxjitcompiler/xxx,now 375.66-1 amd64 [installed,automatic]\n</code></pre>\n<ul>\n<li><strong>GPU model and memory</strong>: Quadro K1200, 4019 MiB</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nRun <a href=\"https://github.com/tensorflow/models/tree/5a5d330539dff11eef79ca2e716fb477baf13cf9/official/mnist\">convert_to_records.py</a> from the official MNIST example, then:</li>\n</ul>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> ds <span class=\"pl-k\">=</span> tf.data.TFRecordDataset([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/tmp/mnist_data<span class=\"pl-pds\">'</span></span>])\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> i  <span class=\"pl-k\">=</span> ds.make_one_shot_iterator()\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c1\">next</span>(i)\nTraceback (most recent call last):\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>&lt;stdin&gt;<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">1</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n<span class=\"pl-c1\">TypeError</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Iterator<span class=\"pl-pds\">'</span></span> <span class=\"pl-c1\">object</span> <span class=\"pl-k\">is</span> <span class=\"pl-k\">not</span> an iterator</pre></div>\n<h3>Describe the problem</h3>\n<p>The returned \"iterator\" is not an iterator, because it does not provide a <code>__next__</code> or <code>next</code> method. It does provide a <code>get_next</code> method, but that is not what Python expects.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): confidential\nTensorFlow installed from (source or binary): Pypi\nTensorFlow version (use command below): v1.4.0-19-ga52c8d9 1.4.1\nPython version: 3.5.3\nCUDA/cuDNN version: (sensitive information replaced by xxx)\n\n$ apt search cud | grep installed\nlibcublas8.0/xxx,now 8.0.44-4 amd64 [installed]\nlibcuda1/xxx,now 375.66-1 amd64 [installed,automatic]\nlibcuda1-i386/xxx,now 375.66-1 i386 [installed,automatic]\nlibcudart8.0/xxx,now 8.0.44-4 amd64 [installed]\nlibcudnn6/now 6.0.21-1+cuda8.0 amd64 [installed,local]\nlibcufft8.0/xxx,now 8.0.44-4 amd64 [installed]\nlibcurand8.0/xxx,now 8.0.44-4 amd64 [installed]\nlibnvidia-fatbinaryloader/xxx,now 375.66-1 amd64 [installed,automatic]\nlibnvidia-ptxjitcompiler/xxx,now 375.66-1 amd64 [installed,automatic]\n\n\nGPU model and memory: Quadro K1200, 4019 MiB\nExact command to reproduce:\nRun convert_to_records.py from the official MNIST example, then:\n\n>>> import tensorflow as tf\n>>> ds = tf.data.TFRecordDataset(['/tmp/mnist_data'])\n>>> i  = ds.make_one_shot_iterator()\n>>> next(i)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nTypeError: 'Iterator' object is not an iterator\nDescribe the problem\nThe returned \"iterator\" is not an iterator, because it does not provide a __next__ or next method. It does provide a get_next method, but that is not what Python expects.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: confidential\r\n- **TensorFlow installed from (source or binary)**: [Pypi](https://pypi.python.org/pypi/tensorflow-gpu/1.4.1)\r\n- **TensorFlow version (use command below)**: `v1.4.0-19-ga52c8d9 1.4.1`\r\n- **Python version**: 3.5.3\r\n- **CUDA/cuDNN version**: (sensitive information replaced by `xxx`)\r\n```\r\n$ apt search cud | grep installed\r\nlibcublas8.0/xxx,now 8.0.44-4 amd64 [installed]\r\nlibcuda1/xxx,now 375.66-1 amd64 [installed,automatic]\r\nlibcuda1-i386/xxx,now 375.66-1 i386 [installed,automatic]\r\nlibcudart8.0/xxx,now 8.0.44-4 amd64 [installed]\r\nlibcudnn6/now 6.0.21-1+cuda8.0 amd64 [installed,local]\r\nlibcufft8.0/xxx,now 8.0.44-4 amd64 [installed]\r\nlibcurand8.0/xxx,now 8.0.44-4 amd64 [installed]\r\nlibnvidia-fatbinaryloader/xxx,now 375.66-1 amd64 [installed,automatic]\r\nlibnvidia-ptxjitcompiler/xxx,now 375.66-1 amd64 [installed,automatic]\r\n```\r\n- **GPU model and memory**: Quadro K1200, 4019 MiB\r\n- **Exact command to reproduce**:\r\nRun [convert_to_records.py](https://github.com/tensorflow/models/tree/5a5d330539dff11eef79ca2e716fb477baf13cf9/official/mnist) from the official MNIST example, then:\r\n```python\r\n>>> import tensorflow as tf\r\n>>> ds = tf.data.TFRecordDataset(['/tmp/mnist_data'])\r\n>>> i  = ds.make_one_shot_iterator()\r\n>>> next(i)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nTypeError: 'Iterator' object is not an iterator\r\n```\r\n\r\n### Describe the problem\r\n\r\nThe returned \"iterator\" is not an iterator, because it does not provide a `__next__` or `next` method. It does provide a `get_next` method, but that is not what Python expects.\r\n"}