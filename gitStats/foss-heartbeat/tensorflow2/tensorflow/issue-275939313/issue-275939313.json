{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14780", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14780/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14780/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14780/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14780", "id": 275939313, "node_id": "MDU6SXNzdWUyNzU5MzkzMTM=", "number": 14780, "title": "Bazel Compile tensorflow failure", "user": {"login": "Cfq0924", "id": 28040014, "node_id": "MDQ6VXNlcjI4MDQwMDE0", "avatar_url": "https://avatars3.githubusercontent.com/u/28040014?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cfq0924", "html_url": "https://github.com/Cfq0924", "followers_url": "https://api.github.com/users/Cfq0924/followers", "following_url": "https://api.github.com/users/Cfq0924/following{/other_user}", "gists_url": "https://api.github.com/users/Cfq0924/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cfq0924/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cfq0924/subscriptions", "organizations_url": "https://api.github.com/users/Cfq0924/orgs", "repos_url": "https://api.github.com/users/Cfq0924/repos", "events_url": "https://api.github.com/users/Cfq0924/events{/privacy}", "received_events_url": "https://api.github.com/users/Cfq0924/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-11-22T04:11:34Z", "updated_at": "2018-10-24T20:59:55Z", "closed_at": "2018-10-24T20:59:55Z", "author_association": "NONE", "body_html": "<p>System information<br>\nwindows 10 64bit</p>\n<p>bazel version<br>\nBuild label: 0.7.0<br>\nBuild target: bazel-out/msvc_x64-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Wed Oct 18 14:25:56 2017 (1508336756)<br>\nBuild timestamp: 1508336756<br>\nBuild timestamp as int: 1508336756</p>\n<p>i run ./configure:<br>\nconfigure<br>\nWARNING: Running Bazel server needs to be killed, because the startup options are different.<br>\nYou have bazel 0.7.0 installed.<br>\nPlease specify the location of python. [Default is F:\\barzel\\py2.7\\python.exe]: D:/Anaconda3/python.exe<br>\nFound possible Python library paths:<br>\nD:\\Anaconda3\\lib\\site-packages<br>\nPlease input the desired Python library path to use.  Default is [D:\\Anaconda3\\lib\\site-packages]</p>\n<p>Do you wish to build TensorFlow with XLA JIT support? [y/N]: n<br>\nNo XLA JIT support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with GDR support? [y/N]: n<br>\nNo GDR support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with VERBS support? [y/N]: n<br>\nNo VERBS support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with CUDA support? [y/N]: n<br>\nNo CUDA support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with MPI support? [y/N]: n<br>\nNo MPI support will be enabled for TensorFlow.</p>\n<p>Please specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:</p>\n<p>Add \"--config=mkl\" to your bazel command to build with MKL support.<br>\nPlease note that MKL on MacOS or windows is still not supported.<br>\nIf you would like to use a local MKL instead of downloading, please set the environment variable \"TF_MKL_ROOT\" every time before build.</p>\n<p>then i run:<br>\nbazel build --verbose_failures //tensorflow:libtensorflow_cc.so</p>\n<p>ERROR: F:/barzel/tensorflow1/tensorflow-master/tensorflow/cc/BUILD:422:1: Linking of rule '//tensorflow/cc:ops/sparse_ops_gen_cc' failed (Exit 1181): link.exe failed: error executing command<br>\ncd C:/users/cfenich/appdata/local/temp/_bazel_cfenich/ku2zcbwb/execroot/org_tensorflow<br>\nSET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10240.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\shared;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\winrt;<br>\nSET LIB=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64;<br>\nSET PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TestWindow;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\VCPackages;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools\\x64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x86;C:\\Program Files (x86)\\Microsoft SDKs\\Windows\\v10.0A\\bin\\NETFX 4.6.1 Tools\\x64;;C:\\WINDOWS\\system32<br>\nSET PWD=/proc/self/cwd<br>\nSET TEMP=C:\\Users\\CFenich\\AppData\\Local\\Temp<br>\nSET TMP=C:\\Users\\CFenich\\AppData\\Local\\Temp<br>\nSET USE_LINKER=1<br>\nC:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/amd64/link.exe /nologo /OUT:bazel-out/host/bin/tensorflow/cc/ops/sparse_ops_gen_cc.exe tensorflow_framework /SUBSYSTEM:CONSOLE -Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../.. -pthread /MACHINE:X64 @bazel-out/host/bin/tensorflow/cc/ops/sparse_ops_gen_cc.exe-2.params /DEFAULTLIB:msvcrt.lib.<br>\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../..\u201d\uff1b\u5df2\u5ffd\u7565<br>\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/pthread\u201d\uff1b\u5df2\u5ffd\u7565<br>\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/lm\u201d\uff1b\u5df2\u5ffd\u7565<br>\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/lm\u201d\uff1b\u5df2\u5ffd\u7565<br>\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/lm\u201d\uff1b\u5df2\u5ffd\u7565<br>\nLINK : fatal error LNK1181: \u65e0\u6cd5\u6253\u5f00\u8f93\u5165\u6587\u4ef6\u201ctensorflow_framework.obj\u201d</p>", "body_text": "System information\nwindows 10 64bit\nbazel version\nBuild label: 0.7.0\nBuild target: bazel-out/msvc_x64-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Wed Oct 18 14:25:56 2017 (1508336756)\nBuild timestamp: 1508336756\nBuild timestamp as int: 1508336756\ni run ./configure:\nconfigure\nWARNING: Running Bazel server needs to be killed, because the startup options are different.\nYou have bazel 0.7.0 installed.\nPlease specify the location of python. [Default is F:\\barzel\\py2.7\\python.exe]: D:/Anaconda3/python.exe\nFound possible Python library paths:\nD:\\Anaconda3\\lib\\site-packages\nPlease input the desired Python library path to use.  Default is [D:\\Anaconda3\\lib\\site-packages]\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: n\nNo XLA JIT support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with GDR support? [y/N]: n\nNo GDR support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with VERBS support? [y/N]: n\nNo VERBS support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with CUDA support? [y/N]: n\nNo CUDA support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with MPI support? [y/N]: n\nNo MPI support will be enabled for TensorFlow.\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\nAdd \"--config=mkl\" to your bazel command to build with MKL support.\nPlease note that MKL on MacOS or windows is still not supported.\nIf you would like to use a local MKL instead of downloading, please set the environment variable \"TF_MKL_ROOT\" every time before build.\nthen i run:\nbazel build --verbose_failures //tensorflow:libtensorflow_cc.so\nERROR: F:/barzel/tensorflow1/tensorflow-master/tensorflow/cc/BUILD:422:1: Linking of rule '//tensorflow/cc:ops/sparse_ops_gen_cc' failed (Exit 1181): link.exe failed: error executing command\ncd C:/users/cfenich/appdata/local/temp/_bazel_cfenich/ku2zcbwb/execroot/org_tensorflow\nSET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10240.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\shared;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\winrt;\nSET LIB=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64;\nSET PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TestWindow;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\VCPackages;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools\\x64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x86;C:\\Program Files (x86)\\Microsoft SDKs\\Windows\\v10.0A\\bin\\NETFX 4.6.1 Tools\\x64;;C:\\WINDOWS\\system32\nSET PWD=/proc/self/cwd\nSET TEMP=C:\\Users\\CFenich\\AppData\\Local\\Temp\nSET TMP=C:\\Users\\CFenich\\AppData\\Local\\Temp\nSET USE_LINKER=1\nC:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/amd64/link.exe /nologo /OUT:bazel-out/host/bin/tensorflow/cc/ops/sparse_ops_gen_cc.exe tensorflow_framework /SUBSYSTEM:CONSOLE -Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../.. -pthread /MACHINE:X64 @bazel-out/host/bin/tensorflow/cc/ops/sparse_ops_gen_cc.exe-2.params /DEFAULTLIB:msvcrt.lib.\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../..\u201d\uff1b\u5df2\u5ffd\u7565\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/pthread\u201d\uff1b\u5df2\u5ffd\u7565\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/lm\u201d\uff1b\u5df2\u5ffd\u7565\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/lm\u201d\uff1b\u5df2\u5ffd\u7565\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/lm\u201d\uff1b\u5df2\u5ffd\u7565\nLINK : fatal error LNK1181: \u65e0\u6cd5\u6253\u5f00\u8f93\u5165\u6587\u4ef6\u201ctensorflow_framework.obj\u201d", "body": "System information\r\nwindows 10 64bit\r\n\r\nbazel version\r\nBuild label: 0.7.0\r\nBuild target: bazel-out/msvc_x64-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Wed Oct 18 14:25:56 2017 (1508336756)\r\nBuild timestamp: 1508336756\r\nBuild timestamp as int: 1508336756\r\n\r\ni run ./configure:\r\nconfigure\r\nWARNING: Running Bazel server needs to be killed, because the startup options are different.\r\nYou have bazel 0.7.0 installed.\r\nPlease specify the location of python. [Default is F:\\barzel\\py2.7\\python.exe]: D:/Anaconda3/python.exe\r\nFound possible Python library paths:\r\n  D:\\Anaconda3\\lib\\site-packages\r\nPlease input the desired Python library path to use.  Default is [D:\\Anaconda3\\lib\\site-packages]\r\n\r\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: n\r\nNo XLA JIT support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with GDR support? [y/N]: n\r\nNo GDR support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with VERBS support? [y/N]: n\r\nNo VERBS support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with CUDA support? [y/N]: n\r\nNo CUDA support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with MPI support? [y/N]: n\r\nNo MPI support will be enabled for TensorFlow.\r\n\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\r\n\r\n\r\nAdd \"--config=mkl\" to your bazel command to build with MKL support.\r\nPlease note that MKL on MacOS or windows is still not supported.\r\nIf you would like to use a local MKL instead of downloading, please set the environment variable \"TF_MKL_ROOT\" every time before build.\r\n\r\nthen i run:\r\nbazel build --verbose_failures //tensorflow:libtensorflow_cc.so\r\n\r\nERROR: F:/barzel/tensorflow1/tensorflow-master/tensorflow/cc/BUILD:422:1: Linking of rule '//tensorflow/cc:ops/sparse_ops_gen_cc' failed (Exit 1181): link.exe failed: error executing command\r\n  cd C:/users/cfenich/appdata/local/temp/_bazel_cfenich/ku2zcbwb/execroot/org_tensorflow\r\n  SET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10240.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\shared;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\winrt;\r\n    SET LIB=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64;\r\n    SET PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TestWindow;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\VCPackages;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools\\x64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x86;C:\\Program Files (x86)\\Microsoft SDKs\\Windows\\v10.0A\\bin\\NETFX 4.6.1 Tools\\x64\\;;C:\\WINDOWS\\system32\r\n    SET PWD=/proc/self/cwd\r\n    SET TEMP=C:\\Users\\CFenich\\AppData\\Local\\Temp\r\n    SET TMP=C:\\Users\\CFenich\\AppData\\Local\\Temp\r\n    SET USE_LINKER=1\r\n  C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/amd64/link.exe /nologo /OUT:bazel-out/host/bin/tensorflow/cc/ops/sparse_ops_gen_cc.exe tensorflow_framework /SUBSYSTEM:CONSOLE -Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../.. -pthread /MACHINE:X64 @bazel-out/host/bin/tensorflow/cc/ops/sparse_ops_gen_cc.exe-2.params /DEFAULTLIB:msvcrt.lib.\r\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../..\u201d\uff1b\u5df2\u5ffd\u7565\r\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/pthread\u201d\uff1b\u5df2\u5ffd\u7565\r\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/lm\u201d\uff1b\u5df2\u5ffd\u7565\r\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/lm\u201d\uff1b\u5df2\u5ffd\u7565\r\nLINK : warning LNK4044: \u65e0\u6cd5\u8bc6\u522b\u7684\u9009\u9879\u201c/lm\u201d\uff1b\u5df2\u5ffd\u7565\r\nLINK : fatal error LNK1181: \u65e0\u6cd5\u6253\u5f00\u8f93\u5165\u6587\u4ef6\u201ctensorflow_framework.obj\u201d\r\n"}