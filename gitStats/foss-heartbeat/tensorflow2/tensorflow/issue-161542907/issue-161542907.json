{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2983", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2983/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2983/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2983/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2983", "id": 161542907, "node_id": "MDU6SXNzdWUxNjE1NDI5MDc=", "number": 2983, "title": "Multiple CPU usage ineffective: CPU utilization only 200% on a 8 core VM", "user": {"login": "jun-z", "id": 19574537, "node_id": "MDQ6VXNlcjE5NTc0NTM3", "avatar_url": "https://avatars0.githubusercontent.com/u/19574537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jun-z", "html_url": "https://github.com/jun-z", "followers_url": "https://api.github.com/users/jun-z/followers", "following_url": "https://api.github.com/users/jun-z/following{/other_user}", "gists_url": "https://api.github.com/users/jun-z/gists{/gist_id}", "starred_url": "https://api.github.com/users/jun-z/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jun-z/subscriptions", "organizations_url": "https://api.github.com/users/jun-z/orgs", "repos_url": "https://api.github.com/users/jun-z/repos", "events_url": "https://api.github.com/users/jun-z/events{/privacy}", "received_events_url": "https://api.github.com/users/jun-z/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-21T21:23:00Z", "updated_at": "2017-05-11T13:44:52Z", "closed_at": "2016-06-21T22:10:15Z", "author_association": "NONE", "body_html": "<p>This is the same as <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"123342140\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/583\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/583/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/583\">#583</a>. Opening a new issue since CPU utilization is still low. I built tensorflow with <code>-mavx2</code> flag and ran <code>examples/tutorials/word2vec/word2vec_basic.py</code>. TensorFlow is recognizing num of cores as 8, yet still only 200% of CPU is used during training.</p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\n14.04.1-Ubuntu x86_64 GNU/Linux</p>\n<p>Installed version of CUDA and cuDNN:<br>\nNo CUDA or cuDNN installed.</p>\n<p>If installed from sources, provide the commit hash:<br>\nCommit hash:</p>\n<pre><code>840c4ac\na2d6cf7\n5b66275\n27b83b7\nb77f607\nce330a7\n2c33855\n451f18c\naf794ed\n921b709\n</code></pre>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Enable logging of <code>inter_op_parallelism_threads</code> and <code>intra_op_parallelism_threads</code>.</li>\n<li>Configure, build tensorflow with AVX2 with this command<br>\n<code>bazel build -c opt --copt=-mavx2 //tensorflow/tools/pip_package:build_pip_package</code></li>\n<li>Build wheel, install package and run <code>python examples/tutorials/word2vec/word2vec_basic.py</code>.</li>\n</ol>", "body_text": "This is the same as #583. Opening a new issue since CPU utilization is still low. I built tensorflow with -mavx2 flag and ran examples/tutorials/word2vec/word2vec_basic.py. TensorFlow is recognizing num of cores as 8, yet still only 200% of CPU is used during training.\nEnvironment info\nOperating System:\n14.04.1-Ubuntu x86_64 GNU/Linux\nInstalled version of CUDA and cuDNN:\nNo CUDA or cuDNN installed.\nIf installed from sources, provide the commit hash:\nCommit hash:\n840c4ac\na2d6cf7\n5b66275\n27b83b7\nb77f607\nce330a7\n2c33855\n451f18c\naf794ed\n921b709\n\nSteps to reproduce\n\nEnable logging of inter_op_parallelism_threads and intra_op_parallelism_threads.\nConfigure, build tensorflow with AVX2 with this command\nbazel build -c opt --copt=-mavx2 //tensorflow/tools/pip_package:build_pip_package\nBuild wheel, install package and run python examples/tutorials/word2vec/word2vec_basic.py.", "body": "This is the same as #583. Opening a new issue since CPU utilization is still low. I built tensorflow with `-mavx2` flag and ran `examples/tutorials/word2vec/word2vec_basic.py`. TensorFlow is recognizing num of cores as 8, yet still only 200% of CPU is used during training.\n### Environment info\n\nOperating System:\n14.04.1-Ubuntu x86_64 GNU/Linux\n\nInstalled version of CUDA and cuDNN: \nNo CUDA or cuDNN installed.\n\nIf installed from sources, provide the commit hash:\nCommit hash:\n\n```\n840c4ac\na2d6cf7\n5b66275\n27b83b7\nb77f607\nce330a7\n2c33855\n451f18c\naf794ed\n921b709\n```\n### Steps to reproduce\n1. Enable logging of `inter_op_parallelism_threads` and `intra_op_parallelism_threads`.\n2. Configure, build tensorflow with AVX2 with this command\n   `bazel build -c opt --copt=-mavx2 //tensorflow/tools/pip_package:build_pip_package`\n3. Build wheel, install package and run `python examples/tutorials/word2vec/word2vec_basic.py`.\n"}