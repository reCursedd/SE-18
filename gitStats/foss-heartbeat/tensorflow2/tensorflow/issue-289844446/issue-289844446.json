{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16235", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16235/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16235/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16235/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16235", "id": 289844446, "node_id": "MDU6SXNzdWUyODk4NDQ0NDY=", "number": 16235, "title": "Feature Request: Make NDLSTM use state_is_tuple=True", "user": {"login": "selcouthlyBlue", "id": 13268675, "node_id": "MDQ6VXNlcjEzMjY4Njc1", "avatar_url": "https://avatars2.githubusercontent.com/u/13268675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/selcouthlyBlue", "html_url": "https://github.com/selcouthlyBlue", "followers_url": "https://api.github.com/users/selcouthlyBlue/followers", "following_url": "https://api.github.com/users/selcouthlyBlue/following{/other_user}", "gists_url": "https://api.github.com/users/selcouthlyBlue/gists{/gist_id}", "starred_url": "https://api.github.com/users/selcouthlyBlue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/selcouthlyBlue/subscriptions", "organizations_url": "https://api.github.com/users/selcouthlyBlue/orgs", "repos_url": "https://api.github.com/users/selcouthlyBlue/repos", "events_url": "https://api.github.com/users/selcouthlyBlue/events{/privacy}", "received_events_url": "https://api.github.com/users/selcouthlyBlue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-19T02:36:34Z", "updated_at": "2018-01-25T19:27:43Z", "closed_at": "2018-01-25T19:27:43Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I have successfully used <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/ndlstm\">NDLSTM</a> (specifically lstm2d.separable_lstm) in my own project but whenever I use it, I enocunter this warning: <code>\"Using a concatenated state is slower and will soon be deprecated. use state_is_tuple=true.\"</code></p>\n<p>The warning is caused by  <code>ndlstm_base_dynamic</code> in lstm1d.py. Specifically, this line: <code>lstm_cell = rnn_cell.BasicLSTMCell(noutput, state_is_tuple=False)</code></p>\n<p>I modified the code such that the deprecation warning won't appear:</p>\n<pre><code>with variable_scope.variable_scope(scope, \"SeqLstm\", [inputs]):\n    lstm_cell = rnn_cell.BasicLSTMCell(noutput)\n    if reverse:\n      inputs = array_ops.reverse_v2(inputs, [0])\n    outputs, _ = rnn.dynamic_rnn(\n        lstm_cell, inputs, time_major=True, dtype=inputs.dtype)\n    if reverse:\n      outputs = array_ops.reverse_v2(outputs, [0])\n    return outputs\n</code></pre>\n<p>Before I make any pull requests, is there a reason why the <code>state_is_tuple</code> argument is set to <code>False</code> in the code?</p>", "body_text": "I have successfully used NDLSTM (specifically lstm2d.separable_lstm) in my own project but whenever I use it, I enocunter this warning: \"Using a concatenated state is slower and will soon be deprecated. use state_is_tuple=true.\"\nThe warning is caused by  ndlstm_base_dynamic in lstm1d.py. Specifically, this line: lstm_cell = rnn_cell.BasicLSTMCell(noutput, state_is_tuple=False)\nI modified the code such that the deprecation warning won't appear:\nwith variable_scope.variable_scope(scope, \"SeqLstm\", [inputs]):\n    lstm_cell = rnn_cell.BasicLSTMCell(noutput)\n    if reverse:\n      inputs = array_ops.reverse_v2(inputs, [0])\n    outputs, _ = rnn.dynamic_rnn(\n        lstm_cell, inputs, time_major=True, dtype=inputs.dtype)\n    if reverse:\n      outputs = array_ops.reverse_v2(outputs, [0])\n    return outputs\n\nBefore I make any pull requests, is there a reason why the state_is_tuple argument is set to False in the code?", "body": "I have successfully used [NDLSTM](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/ndlstm) (specifically lstm2d.separable_lstm) in my own project but whenever I use it, I enocunter this warning: `\"Using a concatenated state is slower and will soon be deprecated. use state_is_tuple=true.\"`\r\n\r\nThe warning is caused by  `ndlstm_base_dynamic` in lstm1d.py. Specifically, this line: `lstm_cell = rnn_cell.BasicLSTMCell(noutput, state_is_tuple=False)`\r\n\r\nI modified the code such that the deprecation warning won't appear:\r\n\r\n```\r\nwith variable_scope.variable_scope(scope, \"SeqLstm\", [inputs]):\r\n    lstm_cell = rnn_cell.BasicLSTMCell(noutput)\r\n    if reverse:\r\n      inputs = array_ops.reverse_v2(inputs, [0])\r\n    outputs, _ = rnn.dynamic_rnn(\r\n        lstm_cell, inputs, time_major=True, dtype=inputs.dtype)\r\n    if reverse:\r\n      outputs = array_ops.reverse_v2(outputs, [0])\r\n    return outputs\r\n```\r\n\r\nBefore I make any pull requests, is there a reason why the `state_is_tuple` argument is set to `False` in the code?"}