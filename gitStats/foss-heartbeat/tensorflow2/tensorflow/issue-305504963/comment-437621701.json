{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/437621701", "html_url": "https://github.com/tensorflow/tensorflow/issues/17735#issuecomment-437621701", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17735", "id": 437621701, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzYyMTcwMQ==", "user": {"login": "sajaddarabi", "id": 13500435, "node_id": "MDQ6VXNlcjEzNTAwNDM1", "avatar_url": "https://avatars3.githubusercontent.com/u/13500435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sajaddarabi", "html_url": "https://github.com/sajaddarabi", "followers_url": "https://api.github.com/users/sajaddarabi/followers", "following_url": "https://api.github.com/users/sajaddarabi/following{/other_user}", "gists_url": "https://api.github.com/users/sajaddarabi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sajaddarabi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sajaddarabi/subscriptions", "organizations_url": "https://api.github.com/users/sajaddarabi/orgs", "repos_url": "https://api.github.com/users/sajaddarabi/repos", "events_url": "https://api.github.com/users/sajaddarabi/events{/privacy}", "received_events_url": "https://api.github.com/users/sajaddarabi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-10T21:12:57Z", "updated_at": "2018-11-10T21:18:22Z", "author_association": "NONE", "body_html": "<p>You can try overriding the assign operator, perhaps something like the following:</p>\n<p><code>@tf.custom_gradient</code><br>\n<code>def mod_assign(x):</code><br>\n----<code>phi = tf.Variable(tf.zeros([1, 4], dtype='float32'), dtype='float32',  trainable=True)</code><br>\n----<code> phi = tf.assign(phi,x)</code><br>\n----<code>def grad(dy):</code><br>\n--------<code>return dy</code><br>\n----<code>return phi, grad</code></p>", "body_text": "You can try overriding the assign operator, perhaps something like the following:\n@tf.custom_gradient\ndef mod_assign(x):\n----phi = tf.Variable(tf.zeros([1, 4], dtype='float32'), dtype='float32',  trainable=True)\n---- phi = tf.assign(phi,x)\n----def grad(dy):\n--------return dy\n----return phi, grad", "body": "You can try overriding the assign operator, perhaps something like the following:\r\n\r\n`@tf.custom_gradient`\r\n`def mod_assign(x):`\r\n----`phi = tf.Variable(tf.zeros([1, 4], dtype='float32'), dtype='float32',  trainable=True)`\r\n----` phi = tf.assign(phi,x)`\r\n----`def grad(dy):`\r\n--------`return dy`\r\n----`return phi, grad`"}