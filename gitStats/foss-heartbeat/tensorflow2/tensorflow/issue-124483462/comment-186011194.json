{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/186011194", "html_url": "https://github.com/tensorflow/tensorflow/issues/658#issuecomment-186011194", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/658", "id": 186011194, "node_id": "MDEyOklzc3VlQ29tbWVudDE4NjAxMTE5NA==", "user": {"login": "mcogswell", "id": 4702889, "node_id": "MDQ6VXNlcjQ3MDI4ODk=", "avatar_url": "https://avatars2.githubusercontent.com/u/4702889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcogswell", "html_url": "https://github.com/mcogswell", "followers_url": "https://api.github.com/users/mcogswell/followers", "following_url": "https://api.github.com/users/mcogswell/following{/other_user}", "gists_url": "https://api.github.com/users/mcogswell/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcogswell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcogswell/subscriptions", "organizations_url": "https://api.github.com/users/mcogswell/orgs", "repos_url": "https://api.github.com/users/mcogswell/repos", "events_url": "https://api.github.com/users/mcogswell/events{/privacy}", "received_events_url": "https://api.github.com/users/mcogswell/received_events", "type": "User", "site_admin": false}, "created_at": "2016-02-19T02:03:04Z", "updated_at": "2016-02-19T02:03:20Z", "author_association": "NONE", "body_html": "<p>I was running in to the same issue. Specifically, I could replicate it by</p>\n<ol>\n<li>\n<p>starting a python prompt and running</p>\n<pre><code>import tensorflow as tf\nsess = tf.InteractiveSession()\n</code></pre>\n</li>\n<li>\n<p>killing the python process</p>\n</li>\n</ol>\n<p>The python process would not die and any other code that used the GPU driver (including simply running nvidia-smi) would hang on a read to /dev/nvidiactl. Setting CUDA_VISIBLE_DEVICES prevented the problem.</p>\n<p>After turning on persistence mode (as below) I no longer observed this problem.</p>\n<pre><code>$ nvidia-smi -pm 1\n</code></pre>", "body_text": "I was running in to the same issue. Specifically, I could replicate it by\n\n\nstarting a python prompt and running\nimport tensorflow as tf\nsess = tf.InteractiveSession()\n\n\n\nkilling the python process\n\n\nThe python process would not die and any other code that used the GPU driver (including simply running nvidia-smi) would hang on a read to /dev/nvidiactl. Setting CUDA_VISIBLE_DEVICES prevented the problem.\nAfter turning on persistence mode (as below) I no longer observed this problem.\n$ nvidia-smi -pm 1", "body": "I was running in to the same issue. Specifically, I could replicate it by\n1. starting a python prompt and running\n   \n   ```\n   import tensorflow as tf\n   sess = tf.InteractiveSession()\n   ```\n2. killing the python process\n\nThe python process would not die and any other code that used the GPU driver (including simply running nvidia-smi) would hang on a read to /dev/nvidiactl. Setting CUDA_VISIBLE_DEVICES prevented the problem.\n\nAfter turning on persistence mode (as below) I no longer observed this problem.\n\n```\n$ nvidia-smi -pm 1\n```\n"}