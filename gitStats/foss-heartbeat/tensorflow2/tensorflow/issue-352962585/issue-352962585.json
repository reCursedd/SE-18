{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21801", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21801/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21801/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21801/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21801", "id": 352962585, "node_id": "MDU6SXNzdWUzNTI5NjI1ODU=", "number": 21801, "title": "tensorflow-gpu failed init from systemd service", "user": {"login": "ooobelix", "id": 42610682, "node_id": "MDQ6VXNlcjQyNjEwNjgy", "avatar_url": "https://avatars1.githubusercontent.com/u/42610682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ooobelix", "html_url": "https://github.com/ooobelix", "followers_url": "https://api.github.com/users/ooobelix/followers", "following_url": "https://api.github.com/users/ooobelix/following{/other_user}", "gists_url": "https://api.github.com/users/ooobelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/ooobelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ooobelix/subscriptions", "organizations_url": "https://api.github.com/users/ooobelix/orgs", "repos_url": "https://api.github.com/users/ooobelix/repos", "events_url": "https://api.github.com/users/ooobelix/events{/privacy}", "received_events_url": "https://api.github.com/users/ooobelix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "poxvoculi", "id": 15676913, "node_id": "MDQ6VXNlcjE1Njc2OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/15676913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poxvoculi", "html_url": "https://github.com/poxvoculi", "followers_url": "https://api.github.com/users/poxvoculi/followers", "following_url": "https://api.github.com/users/poxvoculi/following{/other_user}", "gists_url": "https://api.github.com/users/poxvoculi/gists{/gist_id}", "starred_url": "https://api.github.com/users/poxvoculi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poxvoculi/subscriptions", "organizations_url": "https://api.github.com/users/poxvoculi/orgs", "repos_url": "https://api.github.com/users/poxvoculi/repos", "events_url": "https://api.github.com/users/poxvoculi/events{/privacy}", "received_events_url": "https://api.github.com/users/poxvoculi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "poxvoculi", "id": 15676913, "node_id": "MDQ6VXNlcjE1Njc2OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/15676913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poxvoculi", "html_url": "https://github.com/poxvoculi", "followers_url": "https://api.github.com/users/poxvoculi/followers", "following_url": "https://api.github.com/users/poxvoculi/following{/other_user}", "gists_url": "https://api.github.com/users/poxvoculi/gists{/gist_id}", "starred_url": "https://api.github.com/users/poxvoculi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poxvoculi/subscriptions", "organizations_url": "https://api.github.com/users/poxvoculi/orgs", "repos_url": "https://api.github.com/users/poxvoculi/repos", "events_url": "https://api.github.com/users/poxvoculi/events{/privacy}", "received_events_url": "https://api.github.com/users/poxvoculi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-08-22T13:50:20Z", "updated_at": "2018-08-27T12:32:17Z", "closed_at": "2018-08-23T15:40:41Z", "author_association": "NONE", "body_html": "<p>I have wrote an application with Java / C / Python who works well since a few weeks and executed in Bash by:<br>\n<code>source ../frozen-graph-env/bin/activate &amp;&amp; /usr/bin/java -jar test.jar --start</code></p>\n<p>pip freeze of my environment:</p>\n<blockquote>\n<p>absl-py==0.2.2<br>\nastor==0.6.2<br>\nbleach==1.5.0<br>\ngast==0.2.0<br>\ngrpcio==1.12.1<br>\nhtml5lib==0.9999999<br>\nMarkdown==2.6.11<br>\nnumpy==1.14.5<br>\npkg-resources==0.0.0<br>\nprotobuf==3.6.0<br>\nsix==1.11.0<br>\ntensorboard==1.6.0<br>\ntensorflow-gpu==1.6.0<br>\ntermcolor==1.1.0<br>\nWerkzeug==0.14.1</p>\n</blockquote>\n<p>The goal now is to execute the application with systemd:<br>\n<code>ExecStart=/bin/bash -c \"source ../frozen-graph-env/bin/activate &amp;&amp; /usr/bin/java -jar test.jar --start\"</code></p>\n<p>The Java application start then exit because tensorflow-gpu failed to be imported. I have no log in systemd / syslog to show it (not the best way to open an issue, sorry) but if I replace <em>tensorflow-gpu 1.6.0</em> by <em>tensorflow 1.6.0</em>, i.e. without GPU support, the application works well.</p>\n<p>I'm importing tensorflow in my python script with:<br>\n<code>import tensorflow as tf</code></p>\n<p>Is it the same issue of <a href=\"https://www.google.fr/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=3&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwjprca82IDdAhUhC8AKHZGVAiYQFjACegQIBxAB&amp;url=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F47429354%2Ftensorflow-gpu-failed-init-from-systemd-service&amp;usg=AOvVaw0JTtqGmcGLXHUG9f_76xBz\" rel=\"nofollow\">tensorflow gpu failed init from systemd service - Stack Overflow</a>?</p>\n<p><strong>Is there a specific way to use tensorflow-gpu with systemd? Is it an issue? How can I help to investigate?</strong></p>\n<hr>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code: yes</strong></li>\n<li><strong>OS Platform and Distribution: Linux Ubuntu 16.04</strong></li>\n<li><strong>Bazel version: NA</strong></li>\n<li><strong>CUDA/cuDNN version: NA</strong></li>\n<li><strong>GPU model and memory: NA</strong></li>\n<li><strong>Exact command to reproduce: NA</strong></li>\n<li><strong>Mobile device: NA</strong></li>\n<li><strong>TensorFlow installed from pip</strong></li>\n<li><strong>TensorFlow version: v1.6.0-0-gd2e24b6039 1.6.0</strong></li>\n<li><strong>TensorFlow GPU version: v1.6.0-0-gd2e24b6039 1.6.0</strong></li>\n</ul>", "body_text": "I have wrote an application with Java / C / Python who works well since a few weeks and executed in Bash by:\nsource ../frozen-graph-env/bin/activate && /usr/bin/java -jar test.jar --start\npip freeze of my environment:\n\nabsl-py==0.2.2\nastor==0.6.2\nbleach==1.5.0\ngast==0.2.0\ngrpcio==1.12.1\nhtml5lib==0.9999999\nMarkdown==2.6.11\nnumpy==1.14.5\npkg-resources==0.0.0\nprotobuf==3.6.0\nsix==1.11.0\ntensorboard==1.6.0\ntensorflow-gpu==1.6.0\ntermcolor==1.1.0\nWerkzeug==0.14.1\n\nThe goal now is to execute the application with systemd:\nExecStart=/bin/bash -c \"source ../frozen-graph-env/bin/activate && /usr/bin/java -jar test.jar --start\"\nThe Java application start then exit because tensorflow-gpu failed to be imported. I have no log in systemd / syslog to show it (not the best way to open an issue, sorry) but if I replace tensorflow-gpu 1.6.0 by tensorflow 1.6.0, i.e. without GPU support, the application works well.\nI'm importing tensorflow in my python script with:\nimport tensorflow as tf\nIs it the same issue of tensorflow gpu failed init from systemd service - Stack Overflow?\nIs there a specific way to use tensorflow-gpu with systemd? Is it an issue? How can I help to investigate?\n\nSystem information\n\nHave I written custom code: yes\nOS Platform and Distribution: Linux Ubuntu 16.04\nBazel version: NA\nCUDA/cuDNN version: NA\nGPU model and memory: NA\nExact command to reproduce: NA\nMobile device: NA\nTensorFlow installed from pip\nTensorFlow version: v1.6.0-0-gd2e24b6039 1.6.0\nTensorFlow GPU version: v1.6.0-0-gd2e24b6039 1.6.0", "body": "I have wrote an application with Java / C / Python who works well since a few weeks and executed in Bash by:\r\n`source ../frozen-graph-env/bin/activate && /usr/bin/java -jar test.jar --start`\r\n\r\npip freeze of my environment:\r\n\r\n> absl-py==0.2.2\r\n> astor==0.6.2\r\n> bleach==1.5.0\r\n> gast==0.2.0\r\n> grpcio==1.12.1\r\n> html5lib==0.9999999\r\n> Markdown==2.6.11\r\n> numpy==1.14.5\r\n> pkg-resources==0.0.0\r\n> protobuf==3.6.0\r\n> six==1.11.0\r\n> tensorboard==1.6.0\r\n> tensorflow-gpu==1.6.0\r\n> termcolor==1.1.0\r\n> Werkzeug==0.14.1\r\n\r\nThe goal now is to execute the application with systemd:\r\n`ExecStart=/bin/bash -c \"source ../frozen-graph-env/bin/activate && /usr/bin/java -jar test.jar --start\"`\r\n\r\nThe Java application start then exit because tensorflow-gpu failed to be imported. I have no log in systemd / syslog to show it (not the best way to open an issue, sorry) but if I replace _tensorflow-gpu 1.6.0_ by _tensorflow 1.6.0_, i.e. without GPU support, the application works well.\r\n\r\nI'm importing tensorflow in my python script with:\r\n`import tensorflow as tf`\r\n\r\nIs it the same issue of [tensorflow gpu failed init from systemd service - Stack Overflow](https://www.google.fr/url?sa=t&rct=j&q=&esrc=s&source=web&cd=3&cad=rja&uact=8&ved=2ahUKEwjprca82IDdAhUhC8AKHZGVAiYQFjACegQIBxAB&url=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F47429354%2Ftensorflow-gpu-failed-init-from-systemd-service&usg=AOvVaw0JTtqGmcGLXHUG9f_76xBz)?\r\n\r\n**Is there a specific way to use tensorflow-gpu with systemd? Is it an issue? How can I help to investigate?**\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code: yes**\r\n- **OS Platform and Distribution: Linux Ubuntu 16.04**\r\n- **Bazel version: NA**\r\n- **CUDA/cuDNN version: NA**\r\n- **GPU model and memory: NA**\r\n- **Exact command to reproduce: NA**\r\n- **Mobile device: NA**\r\n- **TensorFlow installed from pip**\r\n- **TensorFlow version: v1.6.0-0-gd2e24b6039 1.6.0**\r\n- **TensorFlow GPU version: v1.6.0-0-gd2e24b6039 1.6.0**"}