{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/283599573", "html_url": "https://github.com/tensorflow/tensorflow/issues/3009#issuecomment-283599573", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3009", "id": 283599573, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzU5OTU3Mw==", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-02T09:18:01Z", "updated_at": "2017-03-02T09:18:01Z", "author_association": "NONE", "body_html": "<p>TCMalloc also seems to suffer from page faults, but it deals with them better for some reason. You can prominently see page fault activity in the kernel using <code>perf top -p &lt;PID&gt; -g</code>. Jemalloc gets completely horked on this when training on large datasets like ImageNet, though. 50+% drop in performance, and never recovers on its own. This is <em>really bad</em> user experience. I would wager most TF users don't have the skills to diagnose or fix this. I'd much prefer something as straightforward as a data loader would work out of the box.</p>", "body_text": "TCMalloc also seems to suffer from page faults, but it deals with them better for some reason. You can prominently see page fault activity in the kernel using perf top -p <PID> -g. Jemalloc gets completely horked on this when training on large datasets like ImageNet, though. 50+% drop in performance, and never recovers on its own. This is really bad user experience. I would wager most TF users don't have the skills to diagnose or fix this. I'd much prefer something as straightforward as a data loader would work out of the box.", "body": "TCMalloc also seems to suffer from page faults, but it deals with them better for some reason. You can prominently see page fault activity in the kernel using `perf top -p <PID> -g`. Jemalloc gets completely horked on this when training on large datasets like ImageNet, though. 50+% drop in performance, and never recovers on its own. This is _really bad_ user experience. I would wager most TF users don't have the skills to diagnose or fix this. I'd much prefer something as straightforward as a data loader would work out of the box."}