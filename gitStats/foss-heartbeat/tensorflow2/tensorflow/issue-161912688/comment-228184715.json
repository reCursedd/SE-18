{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/228184715", "html_url": "https://github.com/tensorflow/tensorflow/issues/3009#issuecomment-228184715", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3009", "id": 228184715, "node_id": "MDEyOklzc3VlQ29tbWVudDIyODE4NDcxNQ==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-23T21:09:43Z", "updated_at": "2016-06-23T21:09:43Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=11547801\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/prb12\">@prb12</a>: At the very least, the DequeueMany op is going to do 64 separate Eigen slice assignments to build up the output batch. If the capacity is less than 64, it will also have the copies out of any corresponding EnqueueMany op arguments accounted to it. The most likely cause is that it's blocking, however, so it would be great if <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5536129\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tomrunia\">@tomrunia</a> could do the contrived test that you're suggesting. Otherwise using a sampling profiler might reveal a suprisingly costly copy.</p>", "body_text": "@prb12: At the very least, the DequeueMany op is going to do 64 separate Eigen slice assignments to build up the output batch. If the capacity is less than 64, it will also have the copies out of any corresponding EnqueueMany op arguments accounted to it. The most likely cause is that it's blocking, however, so it would be great if @tomrunia could do the contrived test that you're suggesting. Otherwise using a sampling profiler might reveal a suprisingly costly copy.", "body": "@prb12: At the very least, the DequeueMany op is going to do 64 separate Eigen slice assignments to build up the output batch. If the capacity is less than 64, it will also have the copies out of any corresponding EnqueueMany op arguments accounted to it. The most likely cause is that it's blocking, however, so it would be great if @tomrunia could do the contrived test that you're suggesting. Otherwise using a sampling profiler might reveal a suprisingly costly copy.\n"}