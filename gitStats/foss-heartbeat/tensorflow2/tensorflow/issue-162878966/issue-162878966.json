{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3099", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3099/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3099/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3099/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3099", "id": 162878966, "node_id": "MDU6SXNzdWUxNjI4Nzg5NjY=", "number": 3099, "title": "Building Tensorflow in armhf (olimex a20)", "user": {"login": "normads", "id": 3591654, "node_id": "MDQ6VXNlcjM1OTE2NTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/3591654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/normads", "html_url": "https://github.com/normads", "followers_url": "https://api.github.com/users/normads/followers", "following_url": "https://api.github.com/users/normads/following{/other_user}", "gists_url": "https://api.github.com/users/normads/gists{/gist_id}", "starred_url": "https://api.github.com/users/normads/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/normads/subscriptions", "organizations_url": "https://api.github.com/users/normads/orgs", "repos_url": "https://api.github.com/users/normads/repos", "events_url": "https://api.github.com/users/normads/events{/privacy}", "received_events_url": "https://api.github.com/users/normads/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2016-06-29T09:22:25Z", "updated_at": "2016-06-30T10:34:00Z", "closed_at": "2016-06-30T10:34:00Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I'm trying to build Tensorflow on an olimex A20 for an embedded NN application.<br>\nI just need to build the C++ or C session API because i'm building the graph in a different box.</p>\n<p>So far I've managed to build protobuf and bazel following this guide.<br>\n<a href=\"https://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md\">https://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md</a></p>\n<p>But compiling Tensorflow with bazel i get the following error,</p>\n<p><code>ERROR: /root/.cache/bazel/_bazel_root/8bbee47417ac55737a4a72fb4017df9b/external/highwayhash/BUILD:17:1: C++ compilation of rule '@highwayhash//:sip_hash' failed: gcc failed: error executing command (cd /root/.cache/bazel/_bazel_root/8bbee47417ac55737a4a72fb4017df9b/tensorflow &amp;&amp; \\ exec env - \\ PATH=/root/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\ /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++0x' -iquote external/highwayhash -iquote bazel-out/host/genfiles/external/highwayhash -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/highwayhash -isystem bazel-out/host/genfiles/external/highwayhash -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/host/bin/external/highwayhash/_objs/sip_hash/external/highwayhash/highwayhash/sip_hash.o' -MD -MF bazel-out/host/bin/external/highwayhash/_objs/sip_hash/external/highwayhash/highwayhash/sip_hash.d -c external/highwayhash/highwayhash/sip_hash.cc -o bazel-out/host/bin/external/highwayhash/_objs/sip_hash/external/highwayhash/highwayhash/sip_hash.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1. In file included from external/highwayhash/highwayhash/sip_hash.cc:15:0: external/highwayhash/highwayhash/sip_hash.h:31:9: error: expected nested-name-specifier before 'Key' external/highwayhash/highwayhash/sip_hash.h:31:9: error: using-declaration for non-member at class scope external/highwayhash/highwayhash/sip_hash.h:31:13: error: expected ';' before '=' token external/highwayhash/highwayhash/sip_hash.h:31:13: error: expected unqualified-id before '=' token external/highwayhash/highwayhash/sip_hash.h:34:38: error: 'Key' does not name a type external/highwayhash/highwayhash/sip_hash.h: In constructor 'highwayhash::SipHashState::SipHashState(const int&amp;)': external/highwayhash/highwayhash/sip_hash.h:35:39: error: invalid types 'const int[int]' for array subscript external/highwayhash/highwayhash/sip_hash.h:36:39: error: invalid types 'const int[int]' for array subscript external/highwayhash/highwayhash/sip_hash.h:37:39: error: invalid types 'const int[int]' for array subscript external/highwayhash/highwayhash/sip_hash.h:38:39: error: invalid types 'const int[int]' for array subscript external/highwayhash/highwayhash/sip_hash.h: At global scope: external/highwayhash/highwayhash/sip_hash.h:114:36: error: 'Key' in 'class highwayhash::SipHashState' does not name a type external/highwayhash/highwayhash/sip_hash.h: In function 'highwayhash::uint64 highwayhash::SipHash(const int&amp;, const char*, highwayhash::uint64)': external/highwayhash/highwayhash/sip_hash.h:116:52: error: no matching function for call to 'ComputeHash(const int&amp;, const char*&amp;, const uint64&amp;)' external/highwayhash/highwayhash/sip_hash.h:116:52: note: candidate is: external/highwayhash/highwayhash/state_helpers.h:63:8: note: template&lt;class State&gt; highwayhash::uint64 highwayhash::ComputeHash(const typename State::Key&amp;, const char*, highwayhash::uint64) external/highwayhash/highwayhash/sip_hash.h: At global scope: external/highwayhash/highwayhash/sip_hash.h:120:46: error: 'Key' in 'class highwayhash::SipHashState' does not name a type cc1plus: warning: unrecognized command line option \"-Wno-free-nonheap-object\" [enabled by default] Target //tensorflow/tools/pip_package:build_pip_package failed to build INFO: Elapsed time: 1577.488s, Critical Path: 22.08s</code></p>\n<p>System:<br>\nLinux version 3.4.90+ (root@debian) (gcc version 4.7.1 (Debian 4.7.1-7) )</p>\n<p>Bazel:<br>\nBuild label: 0.2.1-2016-06-28 (@447f7f3)<br>\nBuild target: bazel-out/local_linux-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Tue Jun 28 17:09:27 2016 (1467133767)<br>\nBuild timestamp: 1467133767<br>\nBuild timestamp as int: 1467133767</p>", "body_text": "I'm trying to build Tensorflow on an olimex A20 for an embedded NN application.\nI just need to build the C++ or C session API because i'm building the graph in a different box.\nSo far I've managed to build protobuf and bazel following this guide.\nhttps://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md\nBut compiling Tensorflow with bazel i get the following error,\nERROR: /root/.cache/bazel/_bazel_root/8bbee47417ac55737a4a72fb4017df9b/external/highwayhash/BUILD:17:1: C++ compilation of rule '@highwayhash//:sip_hash' failed: gcc failed: error executing command (cd /root/.cache/bazel/_bazel_root/8bbee47417ac55737a4a72fb4017df9b/tensorflow && \\ exec env - \\ PATH=/root/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\ /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++0x' -iquote external/highwayhash -iquote bazel-out/host/genfiles/external/highwayhash -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/highwayhash -isystem bazel-out/host/genfiles/external/highwayhash -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/host/bin/external/highwayhash/_objs/sip_hash/external/highwayhash/highwayhash/sip_hash.o' -MD -MF bazel-out/host/bin/external/highwayhash/_objs/sip_hash/external/highwayhash/highwayhash/sip_hash.d -c external/highwayhash/highwayhash/sip_hash.cc -o bazel-out/host/bin/external/highwayhash/_objs/sip_hash/external/highwayhash/highwayhash/sip_hash.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1. In file included from external/highwayhash/highwayhash/sip_hash.cc:15:0: external/highwayhash/highwayhash/sip_hash.h:31:9: error: expected nested-name-specifier before 'Key' external/highwayhash/highwayhash/sip_hash.h:31:9: error: using-declaration for non-member at class scope external/highwayhash/highwayhash/sip_hash.h:31:13: error: expected ';' before '=' token external/highwayhash/highwayhash/sip_hash.h:31:13: error: expected unqualified-id before '=' token external/highwayhash/highwayhash/sip_hash.h:34:38: error: 'Key' does not name a type external/highwayhash/highwayhash/sip_hash.h: In constructor 'highwayhash::SipHashState::SipHashState(const int&)': external/highwayhash/highwayhash/sip_hash.h:35:39: error: invalid types 'const int[int]' for array subscript external/highwayhash/highwayhash/sip_hash.h:36:39: error: invalid types 'const int[int]' for array subscript external/highwayhash/highwayhash/sip_hash.h:37:39: error: invalid types 'const int[int]' for array subscript external/highwayhash/highwayhash/sip_hash.h:38:39: error: invalid types 'const int[int]' for array subscript external/highwayhash/highwayhash/sip_hash.h: At global scope: external/highwayhash/highwayhash/sip_hash.h:114:36: error: 'Key' in 'class highwayhash::SipHashState' does not name a type external/highwayhash/highwayhash/sip_hash.h: In function 'highwayhash::uint64 highwayhash::SipHash(const int&, const char*, highwayhash::uint64)': external/highwayhash/highwayhash/sip_hash.h:116:52: error: no matching function for call to 'ComputeHash(const int&, const char*&, const uint64&)' external/highwayhash/highwayhash/sip_hash.h:116:52: note: candidate is: external/highwayhash/highwayhash/state_helpers.h:63:8: note: template<class State> highwayhash::uint64 highwayhash::ComputeHash(const typename State::Key&, const char*, highwayhash::uint64) external/highwayhash/highwayhash/sip_hash.h: At global scope: external/highwayhash/highwayhash/sip_hash.h:120:46: error: 'Key' in 'class highwayhash::SipHashState' does not name a type cc1plus: warning: unrecognized command line option \"-Wno-free-nonheap-object\" [enabled by default] Target //tensorflow/tools/pip_package:build_pip_package failed to build INFO: Elapsed time: 1577.488s, Critical Path: 22.08s\nSystem:\nLinux version 3.4.90+ (root@debian) (gcc version 4.7.1 (Debian 4.7.1-7) )\nBazel:\nBuild label: 0.2.1-2016-06-28 (@447f7f3)\nBuild target: bazel-out/local_linux-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Tue Jun 28 17:09:27 2016 (1467133767)\nBuild timestamp: 1467133767\nBuild timestamp as int: 1467133767", "body": "I'm trying to build Tensorflow on an olimex A20 for an embedded NN application. \nI just need to build the C++ or C session API because i'm building the graph in a different box. \n\nSo far I've managed to build protobuf and bazel following this guide. \nhttps://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md\n\nBut compiling Tensorflow with bazel i get the following error,\n\n`ERROR: /root/.cache/bazel/_bazel_root/8bbee47417ac55737a4a72fb4017df9b/external/highwayhash/BUILD:17:1: C++ compilation of rule '@highwayhash//:sip_hash' failed: gcc failed: error executing command\n  (cd /root/.cache/bazel/_bazel_root/8bbee47417ac55737a4a72fb4017df9b/tensorflow && \\\n  exec env - \\\n    PATH=/root/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n  /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++0x' -iquote external/highwayhash -iquote bazel-out/host/genfiles/external/highwayhash -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/highwayhash -isystem bazel-out/host/genfiles/external/highwayhash -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/host/bin/external/highwayhash/_objs/sip_hash/external/highwayhash/highwayhash/sip_hash.o' -MD -MF bazel-out/host/bin/external/highwayhash/_objs/sip_hash/external/highwayhash/highwayhash/sip_hash.d -c external/highwayhash/highwayhash/sip_hash.cc -o bazel-out/host/bin/external/highwayhash/_objs/sip_hash/external/highwayhash/highwayhash/sip_hash.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from external/highwayhash/highwayhash/sip_hash.cc:15:0:\nexternal/highwayhash/highwayhash/sip_hash.h:31:9: error: expected nested-name-specifier before 'Key'\nexternal/highwayhash/highwayhash/sip_hash.h:31:9: error: using-declaration for non-member at class scope\nexternal/highwayhash/highwayhash/sip_hash.h:31:13: error: expected ';' before '=' token\nexternal/highwayhash/highwayhash/sip_hash.h:31:13: error: expected unqualified-id before '=' token\nexternal/highwayhash/highwayhash/sip_hash.h:34:38: error: 'Key' does not name a type\nexternal/highwayhash/highwayhash/sip_hash.h: In constructor 'highwayhash::SipHashState::SipHashState(const int&)':\nexternal/highwayhash/highwayhash/sip_hash.h:35:39: error: invalid types 'const int[int]' for array subscript\nexternal/highwayhash/highwayhash/sip_hash.h:36:39: error: invalid types 'const int[int]' for array subscript\nexternal/highwayhash/highwayhash/sip_hash.h:37:39: error: invalid types 'const int[int]' for array subscript\nexternal/highwayhash/highwayhash/sip_hash.h:38:39: error: invalid types 'const int[int]' for array subscript\nexternal/highwayhash/highwayhash/sip_hash.h: At global scope:\nexternal/highwayhash/highwayhash/sip_hash.h:114:36: error: 'Key' in 'class highwayhash::SipHashState' does not name a type\nexternal/highwayhash/highwayhash/sip_hash.h: In function 'highwayhash::uint64 highwayhash::SipHash(const int&, const char*, highwayhash::uint64)':\nexternal/highwayhash/highwayhash/sip_hash.h:116:52: error: no matching function for call to 'ComputeHash(const int&, const char*&, const uint64&)'\nexternal/highwayhash/highwayhash/sip_hash.h:116:52: note: candidate is:\nexternal/highwayhash/highwayhash/state_helpers.h:63:8: note: template<class State> highwayhash::uint64 highwayhash::ComputeHash(const typename State::Key&, const char*, highwayhash::uint64)\nexternal/highwayhash/highwayhash/sip_hash.h: At global scope:\nexternal/highwayhash/highwayhash/sip_hash.h:120:46: error: 'Key' in 'class highwayhash::SipHashState' does not name a type\ncc1plus: warning: unrecognized command line option \"-Wno-free-nonheap-object\" [enabled by default]\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 1577.488s, Critical Path: 22.08s`\n\nSystem:\nLinux version 3.4.90+ (root@debian) (gcc version 4.7.1 (Debian 4.7.1-7) )\n\nBazel:\nBuild label: 0.2.1-2016-06-28 (@447f7f3)\nBuild target: bazel-out/local_linux-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Tue Jun 28 17:09:27 2016 (1467133767)\nBuild timestamp: 1467133767\nBuild timestamp as int: 1467133767\n"}