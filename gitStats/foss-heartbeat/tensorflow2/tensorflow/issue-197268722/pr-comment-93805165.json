{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/93805165", "pull_request_review_id": 14342043, "id": 93805165, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkzODA1MTY1", "diff_hunk": "@@ -274,50 +276,118 @@ cc_library(\n     nocopts = libjpegturbo_nocopts,\n )\n \n+expand_header_template(\n+    name = \"jconfig_win\",\n+    out = \"jconfig_win.h\",\n+    substitutions = {\n+        \"@JPEG_LIB_VERSION@\" : \"62\",\n+        \"@VERSION@\" : \"1.5.1\",\n+        \"@LIBJPEG_TURBO_VERSION_NUMBER@\" : \"1005001\",\n+        \"cmakedefine\" : \"define\",\n+        \"@BITS_IN_JSAMPLE@\" : \"8\",\n+    },\n+    template = \"win/jconfig.h.in\",\n+)\n+\n+expand_header_template(\n+    name = \"jconfigint_win\",\n+    out = \"jconfigint_win.h\",\n+    substitutions = {\n+        \"@VERSION@\" : \"1.5.1\",\n+        \"@BUILD@\" : \"20161115\",\n+        \"@CMAKE_PROJECT_NAME@\" : \"libjpeg-turbo\",\n+    },\n+    template = \"win/jconfigint.h.in\",\n+)\n+\n+jconfig_nowin_common_substitutions = {\n+    \"LIBJPEG_TURBO_VERSION 0\" : \"LIBJPEG_TURBO_VERSION 1.5.1\",\n+    \"LIBJPEG_TURBO_VERSION_NUMBER 0\" : \"LIBJPEG_TURBO_VERSION_NUMBER 1005001\",\n+    \"#undef C_ARITH_CODING_SUPPORTED\" : \"#define C_ARITH_CODING_SUPPORTED 1\",\n+    \"#undef D_ARITH_CODING_SUPPORTED\" : \"#define D_ARITH_CODING_SUPPORTED 1\",\n+    \"#undef HAVE_LOCALE_H\" : \"#define HAVE_LOCALE_H 1\",\n+    \"#undef HAVE_STDDEF_H\" : \"#define HAVE_STDDEF_H 1\",\n+    \"#undef HAVE_STDLIB_H\" : \"#define HAVE_STDLIB_H 1\",\n+    \"#undef HAVE_UNSIGNED_CHAR\" : \"#define HAVE_UNSIGNED_CHAR 1\",\n+    \"#undef HAVE_UNSIGNED_SHORT\" : \"#define HAVE_UNSIGNED_SHORT 1\",\n+    \"#undef INCOMPLETE_TYPES_BROKEN\" : \"\",\n+    \"#undef MEM_SRCDST_SUPPORTED\" : \"#define MEM_SRCDST_SUPPORTED 1\",\n+    \"#undef NEED_BSD_STRINGS\" : \"\",\n+    \"#undef NEED_SYS_TYPES_H\" : \"#define NEED_SYS_TYPES_H 1\",\n+    \"#undef __CHAR_UNSIGNED__\" : \"\",\n+    \"#undef const\" : \"\",\n+    \"#undef size_t\" : \"\",\n+    \"#undef RIGHT_SHIFT_IS_UNSIGNED\" : \"\",\n+}\n+\n+jconfig_nowin_simd_substitutions = jconfig_nowin_common_substitutions + {\n+    \"#undef WITH_SIMD\": \"#define WITH_SIMD 1\",\n+}\n+\n+jconfig_nowin_nosimd_substitutions = jconfig_nowin_common_substitutions + {\n+    \"#undef WITH_SIMD\": \"\",\n+}\n+\n+expand_header_template(\n+    name = \"jconfig_nowin_nosimd\",\n+    out = \"jconfig_nowin_nosimd.h\",\n+    substitutions = jconfig_nowin_nosimd_substitutions,\n+    template = \"jconfig.h.in\",\n+)\n+\n+expand_header_template(\n+    name = \"jconfig_nowin_simd\",\n+    out = \"jconfig_nowin_simd.h\",\n+    substitutions = jconfig_nowin_simd_substitutions,\n+    template = \"jconfig.h.in\",\n+)\n+\n+expand_header_template(\n+    name = \"jconfigint_nowin\",\n+    out = \"jconfigint_nowin.h\",\n+    substitutions = {\n+        \"#undef BUILD\" : \"#define BUILD \\\"20161115\\\"\",\n+        \"#undef inline\" : \"\",\n+        \"#undef INLINE\" : \"#define INLINE inline __attribute__((always_inline))\",\n+        \"#undef PACKAGE_NAME\" : \"#define PACKAGE_NAME \\\"libjpeg-turbo\\\"\",\n+        \"#undef VERSION\" : \"#define VERSION \\\"1.5.1\\\"\",\n+        \"#undef SIZEOF_SIZE_T\" : \"#if (__WORDSIZE==64 && !defined(__native_client__))\\n\" +\n+            \"#define SIZEOF_SIZE_T 8\\n\" +", "path": "third_party/jpeg/jpeg.BUILD", "position": null, "original_position": 89, "commit_id": "9bffde4980cbe1a9a77d6ab6962ec89293e7f5b6", "original_commit_id": "1e9ed820139f489e17fee294d72a42522e6297bf", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "body": "Done.\r\nIt modified the indentation which looks more consistent with python style.\r\nSo I am happy with what buildifier did.", "created_at": "2016-12-23T22:06:18Z", "updated_at": "2016-12-24T05:04:17Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/6462#discussion_r93805165", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6462", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/93805165"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/6462#discussion_r93805165"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6462"}}, "body_html": "<p>Done.<br>\nIt modified the indentation which looks more consistent with python style.<br>\nSo I am happy with what buildifier did.</p>", "body_text": "Done.\nIt modified the indentation which looks more consistent with python style.\nSo I am happy with what buildifier did.", "in_reply_to_id": 93798014}