{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/192403943", "html_url": "https://github.com/tensorflow/tensorflow/issues/1307#issuecomment-192403943", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1307", "id": 192403943, "node_id": "MDEyOklzc3VlQ29tbWVudDE5MjQwMzk0Mw==", "user": {"login": "digitalsword", "id": 12500045, "node_id": "MDQ6VXNlcjEyNTAwMDQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/12500045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/digitalsword", "html_url": "https://github.com/digitalsword", "followers_url": "https://api.github.com/users/digitalsword/followers", "following_url": "https://api.github.com/users/digitalsword/following{/other_user}", "gists_url": "https://api.github.com/users/digitalsword/gists{/gist_id}", "starred_url": "https://api.github.com/users/digitalsword/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/digitalsword/subscriptions", "organizations_url": "https://api.github.com/users/digitalsword/orgs", "repos_url": "https://api.github.com/users/digitalsword/repos", "events_url": "https://api.github.com/users/digitalsword/events{/privacy}", "received_events_url": "https://api.github.com/users/digitalsword/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-04T18:44:17Z", "updated_at": "2016-03-04T18:44:17Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5150559\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rdipietro\">@rdipietro</a> Thanks for your info. I guess it's an issue specific with k40m. I currently can only use CPU for training. It is interesting that the CPU speed is about half of your GPU speed. I thought GPU is much faster than CPU. My CPU is: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz</p>\n<pre><code>++ python cifar10_train.py\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so.7.5 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so.7.5 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so.4 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so.7.5 locally\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\nE tensorflow/stream_executor/cuda/cuda_driver.cc:481] failed call to cuInit: CUDA_ERROR_NO_DEVICE\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:114] retrieving CUDA diagnostic information for host: r0215.ten.osc.edu\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:121] hostname: r0215.ten.osc.edu\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:146] libcuda reported version is: 352.39\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:257] driver version file contents: \"\"\"NVRM version: NVIDIA UNIX x86_64 Kernel Module  352.39  Fri Aug 14 18:09:10 PDT 2015\nGCC version:  gcc version 4.4.7 20120313 (Red Hat 4.4.7-16) (GCC) \n\"\"\"\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:150] kernel reported version is: 352.39\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:226] kernel version seems to match DSO: 352.39\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: \n2016-03-04 13:35:25.498518: step 0, loss = 4.67 (7.9 examples/sec; 16.105 sec/batch)\n2016-03-04 13:35:32.403652: step 10, loss = 4.66 (212.1 examples/sec; 0.604 sec/batch)\n2016-03-04 13:35:38.377604: step 20, loss = 4.64 (203.0 examples/sec; 0.631 sec/batch)\n2016-03-04 13:35:44.478986: step 30, loss = 4.62 (215.6 examples/sec; 0.594 sec/batch)\n2016-03-04 13:35:50.481260: step 40, loss = 4.60 (218.4 examples/sec; 0.586 sec/batch)\n2016-03-04 13:35:56.542513: step 50, loss = 4.58 (210.5 examples/sec; 0.608 sec/batch)\n2016-03-04 13:36:02.315769: step 60, loss = 4.55 (205.9 examples/sec; 0.622 sec/batch)\n2016-03-04 13:36:08.432561: step 70, loss = 4.54 (209.7 examples/sec; 0.610 sec/batch)\n2016-03-04 13:36:14.322653: step 80, loss = 4.52 (216.5 examples/sec; 0.591 sec/batch)\n\n</code></pre>", "body_text": "@rdipietro Thanks for your info. I guess it's an issue specific with k40m. I currently can only use CPU for training. It is interesting that the CPU speed is about half of your GPU speed. I thought GPU is much faster than CPU. My CPU is: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n++ python cifar10_train.py\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so.7.5 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so.7.5 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so.4 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so.7.5 locally\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\nE tensorflow/stream_executor/cuda/cuda_driver.cc:481] failed call to cuInit: CUDA_ERROR_NO_DEVICE\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:114] retrieving CUDA diagnostic information for host: r0215.ten.osc.edu\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:121] hostname: r0215.ten.osc.edu\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:146] libcuda reported version is: 352.39\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:257] driver version file contents: \"\"\"NVRM version: NVIDIA UNIX x86_64 Kernel Module  352.39  Fri Aug 14 18:09:10 PDT 2015\nGCC version:  gcc version 4.4.7 20120313 (Red Hat 4.4.7-16) (GCC) \n\"\"\"\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:150] kernel reported version is: 352.39\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:226] kernel version seems to match DSO: 352.39\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: \n2016-03-04 13:35:25.498518: step 0, loss = 4.67 (7.9 examples/sec; 16.105 sec/batch)\n2016-03-04 13:35:32.403652: step 10, loss = 4.66 (212.1 examples/sec; 0.604 sec/batch)\n2016-03-04 13:35:38.377604: step 20, loss = 4.64 (203.0 examples/sec; 0.631 sec/batch)\n2016-03-04 13:35:44.478986: step 30, loss = 4.62 (215.6 examples/sec; 0.594 sec/batch)\n2016-03-04 13:35:50.481260: step 40, loss = 4.60 (218.4 examples/sec; 0.586 sec/batch)\n2016-03-04 13:35:56.542513: step 50, loss = 4.58 (210.5 examples/sec; 0.608 sec/batch)\n2016-03-04 13:36:02.315769: step 60, loss = 4.55 (205.9 examples/sec; 0.622 sec/batch)\n2016-03-04 13:36:08.432561: step 70, loss = 4.54 (209.7 examples/sec; 0.610 sec/batch)\n2016-03-04 13:36:14.322653: step 80, loss = 4.52 (216.5 examples/sec; 0.591 sec/batch)", "body": "@rdipietro Thanks for your info. I guess it's an issue specific with k40m. I currently can only use CPU for training. It is interesting that the CPU speed is about half of your GPU speed. I thought GPU is much faster than CPU. My CPU is: Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz\n\n```\n++ python cifar10_train.py\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so.7.5 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so.7.5 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so.4 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so.7.5 locally\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\nE tensorflow/stream_executor/cuda/cuda_driver.cc:481] failed call to cuInit: CUDA_ERROR_NO_DEVICE\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:114] retrieving CUDA diagnostic information for host: r0215.ten.osc.edu\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:121] hostname: r0215.ten.osc.edu\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:146] libcuda reported version is: 352.39\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:257] driver version file contents: \"\"\"NVRM version: NVIDIA UNIX x86_64 Kernel Module  352.39  Fri Aug 14 18:09:10 PDT 2015\nGCC version:  gcc version 4.4.7 20120313 (Red Hat 4.4.7-16) (GCC) \n\"\"\"\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:150] kernel reported version is: 352.39\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:226] kernel version seems to match DSO: 352.39\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: \n2016-03-04 13:35:25.498518: step 0, loss = 4.67 (7.9 examples/sec; 16.105 sec/batch)\n2016-03-04 13:35:32.403652: step 10, loss = 4.66 (212.1 examples/sec; 0.604 sec/batch)\n2016-03-04 13:35:38.377604: step 20, loss = 4.64 (203.0 examples/sec; 0.631 sec/batch)\n2016-03-04 13:35:44.478986: step 30, loss = 4.62 (215.6 examples/sec; 0.594 sec/batch)\n2016-03-04 13:35:50.481260: step 40, loss = 4.60 (218.4 examples/sec; 0.586 sec/batch)\n2016-03-04 13:35:56.542513: step 50, loss = 4.58 (210.5 examples/sec; 0.608 sec/batch)\n2016-03-04 13:36:02.315769: step 60, loss = 4.55 (205.9 examples/sec; 0.622 sec/batch)\n2016-03-04 13:36:08.432561: step 70, loss = 4.54 (209.7 examples/sec; 0.610 sec/batch)\n2016-03-04 13:36:14.322653: step 80, loss = 4.52 (216.5 examples/sec; 0.591 sec/batch)\n\n```\n"}