{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16735", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16735/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16735/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16735/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16735", "id": 294152541, "node_id": "MDU6SXNzdWUyOTQxNTI1NDE=", "number": 16735, "title": "incorrect logging formatting used in tensorflow / examples / image_retraining / retrain.py, causes error", "user": {"login": "MicrocontrollersAndMore", "id": 5672876, "node_id": "MDQ6VXNlcjU2NzI4NzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/5672876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MicrocontrollersAndMore", "html_url": "https://github.com/MicrocontrollersAndMore", "followers_url": "https://api.github.com/users/MicrocontrollersAndMore/followers", "following_url": "https://api.github.com/users/MicrocontrollersAndMore/following{/other_user}", "gists_url": "https://api.github.com/users/MicrocontrollersAndMore/gists{/gist_id}", "starred_url": "https://api.github.com/users/MicrocontrollersAndMore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MicrocontrollersAndMore/subscriptions", "organizations_url": "https://api.github.com/users/MicrocontrollersAndMore/orgs", "repos_url": "https://api.github.com/users/MicrocontrollersAndMore/repos", "events_url": "https://api.github.com/users/MicrocontrollersAndMore/events{/privacy}", "received_events_url": "https://api.github.com/users/MicrocontrollersAndMore/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-03T22:59:57Z", "updated_at": "2018-02-05T04:01:29Z", "closed_at": "2018-02-05T04:01:29Z", "author_association": "NONE", "body_html": "<p>In tensorflow -&gt; examples -&gt; image_retraining -&gt; retrain.py, currently lines 347 / 348 look like this:</p>\n<pre><code>tf.logging.info('Successfully downloaded', filename, statinfo.st_size,\n                    'bytes.')\n</code></pre>\n<p>This understandably causes an error since this function accepts strings and it is being fed an instance of statinfo.st_size which does not seem to be a string.  On my machine at least (TensorFlow 1.5, Windows 10) this causes the following error in function maybe_download_and_extract:</p>\n<p><code>TypeError: not all arguments converted during string formatting</code></p>\n<p>Here is a screenshot if that helps:</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/5672876/35772391-74f4433c-08f2-11e8-83d2-084605c14844.png\"><img src=\"https://user-images.githubusercontent.com/5672876/35772391-74f4433c-08f2-11e8-83d2-084605c14844.png\" alt=\"error\" style=\"max-width:100%;\"></a></p>\n<p>The line numbers are slightly different in my screenshot because I moved a few lines around, but I can assure you the line above is causing the logging error.</p>\n<p>I would suggest changing this line to the following, or similar:</p>\n<p><code>tf.logging.info('Successfully downloaded ' + str(filename) + ', statinfo.st_size = ' + str(statinfo.st_size) + ' bytes')</code></p>", "body_text": "In tensorflow -> examples -> image_retraining -> retrain.py, currently lines 347 / 348 look like this:\ntf.logging.info('Successfully downloaded', filename, statinfo.st_size,\n                    'bytes.')\n\nThis understandably causes an error since this function accepts strings and it is being fed an instance of statinfo.st_size which does not seem to be a string.  On my machine at least (TensorFlow 1.5, Windows 10) this causes the following error in function maybe_download_and_extract:\nTypeError: not all arguments converted during string formatting\nHere is a screenshot if that helps:\n\nThe line numbers are slightly different in my screenshot because I moved a few lines around, but I can assure you the line above is causing the logging error.\nI would suggest changing this line to the following, or similar:\ntf.logging.info('Successfully downloaded ' + str(filename) + ', statinfo.st_size = ' + str(statinfo.st_size) + ' bytes')", "body": "In tensorflow -> examples -> image_retraining -> retrain.py, currently lines 347 / 348 look like this:\r\n\r\n```\r\ntf.logging.info('Successfully downloaded', filename, statinfo.st_size,\r\n                    'bytes.')\r\n```\r\n\r\nThis understandably causes an error since this function accepts strings and it is being fed an instance of statinfo.st_size which does not seem to be a string.  On my machine at least (TensorFlow 1.5, Windows 10) this causes the following error in function maybe_download_and_extract:\r\n\r\n`TypeError: not all arguments converted during string formatting`\r\n\r\nHere is a screenshot if that helps:\r\n\r\n![error](https://user-images.githubusercontent.com/5672876/35772391-74f4433c-08f2-11e8-83d2-084605c14844.png)\r\n\r\nThe line numbers are slightly different in my screenshot because I moved a few lines around, but I can assure you the line above is causing the logging error.\r\n\r\nI would suggest changing this line to the following, or similar:\r\n\r\n`tf.logging.info('Successfully downloaded ' + str(filename) + ', statinfo.st_size = ' + str(statinfo.st_size) + ' bytes')`\r\n"}