{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/364667010", "html_url": "https://github.com/tensorflow/tensorflow/issues/16907#issuecomment-364667010", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16907", "id": 364667010, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDY2NzAxMA==", "user": {"login": "joeyearsley", "id": 1836025, "node_id": "MDQ6VXNlcjE4MzYwMjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1836025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joeyearsley", "html_url": "https://github.com/joeyearsley", "followers_url": "https://api.github.com/users/joeyearsley/followers", "following_url": "https://api.github.com/users/joeyearsley/following{/other_user}", "gists_url": "https://api.github.com/users/joeyearsley/gists{/gist_id}", "starred_url": "https://api.github.com/users/joeyearsley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joeyearsley/subscriptions", "organizations_url": "https://api.github.com/users/joeyearsley/orgs", "repos_url": "https://api.github.com/users/joeyearsley/repos", "events_url": "https://api.github.com/users/joeyearsley/events{/privacy}", "received_events_url": "https://api.github.com/users/joeyearsley/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-10T16:17:44Z", "updated_at": "2018-02-10T16:18:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>A few comments:</p>\n<ol>\n<li><a href=\"https://www.tensorflow.org/api_docs/python/tf/data/Dataset#shard\" rel=\"nofollow\">Shard your dataset</a></li>\n<li>Move the <em>i</em> loop to around a sess.run;<br>\nHere you are expanding your graph to a huge size, probably resulting in some minor contention (applies to both single and multi gpu).</li>\n</ol>", "body_text": "A few comments:\n\nShard your dataset\nMove the i loop to around a sess.run;\nHere you are expanding your graph to a huge size, probably resulting in some minor contention (applies to both single and multi gpu).", "body": "A few comments:\r\n1) [Shard your dataset](https://www.tensorflow.org/api_docs/python/tf/data/Dataset#shard)\r\n2) Move the _i_ loop to around a sess.run;\r\n             Here you are expanding your graph to a huge size, probably resulting in some minor contention (applies to both single and multi gpu)."}