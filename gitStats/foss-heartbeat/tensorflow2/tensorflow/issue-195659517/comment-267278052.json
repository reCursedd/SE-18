{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/267278052", "html_url": "https://github.com/tensorflow/tensorflow/issues/6319#issuecomment-267278052", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6319", "id": 267278052, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzI3ODA1Mg==", "user": {"login": "superfan89", "id": 3068249, "node_id": "MDQ6VXNlcjMwNjgyNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3068249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/superfan89", "html_url": "https://github.com/superfan89", "followers_url": "https://api.github.com/users/superfan89/followers", "following_url": "https://api.github.com/users/superfan89/following{/other_user}", "gists_url": "https://api.github.com/users/superfan89/gists{/gist_id}", "starred_url": "https://api.github.com/users/superfan89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/superfan89/subscriptions", "organizations_url": "https://api.github.com/users/superfan89/orgs", "repos_url": "https://api.github.com/users/superfan89/repos", "events_url": "https://api.github.com/users/superfan89/events{/privacy}", "received_events_url": "https://api.github.com/users/superfan89/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-15T09:22:54Z", "updated_at": "2016-12-15T09:30:54Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a></p>\n<p>I've also came across with the issue. I've implemented an online learning service using distributed TensorFlow where the training data is available through external gRPC calls (using separate implementation from the gRPC service in TF). The code works fine when we continuously feeding training data. But when stops the data feeding for a period and then resumes, session.run operation sometimes get stuck. The training service is hosted on Azure spanning 3 nodes. TF version is 0.12RC1 and OS version Ubuntu16.04.</p>\n<p>Thanks!</p>\n<pre>Traceback (most recent call last):\n  File \"/home/XXX/OnlineLearningService/python/service/dispatcher.py\", line 75, in update_explr_rate\n    current_training_step = self.session.run(self.global_step)\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 717, in run\n    run_metadata_ptr)\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 915, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 965, in _do_run\n    target_list, options, run_metadata)\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 985, in _do_call\n    raise type(e)(node_def, op, message)\nUnavailableError: {\"created\":\"@1481767018.578522717\",\"description\":\"OS Error\",\"errno\":110,\"file\":\"external/grpc/src/core/lib/iomgr/tcp_posix.c\",\"file_line\":229,\"grpc_status\":14,\"os_error\":\"Connection timed out\",\"syscall\":\"recvmsg\"}\n</pre>", "body_text": "Hi @yaroslavvb @mrry\nI've also came across with the issue. I've implemented an online learning service using distributed TensorFlow where the training data is available through external gRPC calls (using separate implementation from the gRPC service in TF). The code works fine when we continuously feeding training data. But when stops the data feeding for a period and then resumes, session.run operation sometimes get stuck. The training service is hosted on Azure spanning 3 nodes. TF version is 0.12RC1 and OS version Ubuntu16.04.\nThanks!\nTraceback (most recent call last):\n  File \"/home/XXX/OnlineLearningService/python/service/dispatcher.py\", line 75, in update_explr_rate\n    current_training_step = self.session.run(self.global_step)\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 717, in run\n    run_metadata_ptr)\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 915, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 965, in _do_run\n    target_list, options, run_metadata)\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 985, in _do_call\n    raise type(e)(node_def, op, message)\nUnavailableError: {\"created\":\"@1481767018.578522717\",\"description\":\"OS Error\",\"errno\":110,\"file\":\"external/grpc/src/core/lib/iomgr/tcp_posix.c\",\"file_line\":229,\"grpc_status\":14,\"os_error\":\"Connection timed out\",\"syscall\":\"recvmsg\"}", "body": "Hi @yaroslavvb @mrry \r\n\r\nI've also came across with the issue. I've implemented an online learning service using distributed TensorFlow where the training data is available through external gRPC calls (using separate implementation from the gRPC service in TF). The code works fine when we continuously feeding training data. But when stops the data feeding for a period and then resumes, session.run operation sometimes get stuck. The training service is hosted on Azure spanning 3 nodes. TF version is 0.12RC1 and OS version Ubuntu16.04. \r\n\r\nThanks!\r\n\r\n<pre>\r\nTraceback (most recent call last):\r\n  File \"/home/XXX/OnlineLearningService/python/service/dispatcher.py\", line 75, in update_explr_rate\r\n    current_training_step = self.session.run(self.global_step)\r\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 717, in run\r\n    run_metadata_ptr)\r\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 915, in _run\r\n    feed_dict_string, options, run_metadata)\r\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 965, in _do_run\r\n    target_list, options, run_metadata)\r\n  File \"/home/XXX/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 985, in _do_call\r\n    raise type(e)(node_def, op, message)\r\nUnavailableError: {\"created\":\"@1481767018.578522717\",\"description\":\"OS Error\",\"errno\":110,\"file\":\"external/grpc/src/core/lib/iomgr/tcp_posix.c\",\"file_line\":229,\"grpc_status\":14,\"os_error\":\"Connection timed out\",\"syscall\":\"recvmsg\"}\r\n</pre>"}