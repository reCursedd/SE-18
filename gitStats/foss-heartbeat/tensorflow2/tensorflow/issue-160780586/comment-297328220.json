{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/297328220", "html_url": "https://github.com/tensorflow/tensorflow/issues/2916#issuecomment-297328220", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2916", "id": 297328220, "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzMyODIyMA==", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-26T09:57:31Z", "updated_at": "2017-04-26T09:59:07Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22274255\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/shamoya\">@shamoya</a> tremendous work! P2P RDMA is more usefull for the majority of users who do not run Tesla. Regarding RoCE vs IB - reoccurring theme in this thread is missing the role of latency. You have calculated the bandwidth comparison based on one connection and MTU. Depending on MTU (which is tuned to NUMA/Affinity) and the number of threads/connections - that bandwidth will change. Because of latencies (overhead in establishing and replying to a connection), RoCE will always have a lower practical throughput than otherwise indicated by bandwidth measurement alone. The more frequent the data interchange - the shorter the packet size, the more performance RoCE will suffer. This is by design - as DMA and packet networks are two different technologies at core.</p>", "body_text": "@shamoya tremendous work! P2P RDMA is more usefull for the majority of users who do not run Tesla. Regarding RoCE vs IB - reoccurring theme in this thread is missing the role of latency. You have calculated the bandwidth comparison based on one connection and MTU. Depending on MTU (which is tuned to NUMA/Affinity) and the number of threads/connections - that bandwidth will change. Because of latencies (overhead in establishing and replying to a connection), RoCE will always have a lower practical throughput than otherwise indicated by bandwidth measurement alone. The more frequent the data interchange - the shorter the packet size, the more performance RoCE will suffer. This is by design - as DMA and packet networks are two different technologies at core.", "body": "@shamoya tremendous work! P2P RDMA is more usefull for the majority of users who do not run Tesla. Regarding RoCE vs IB - reoccurring theme in this thread is missing the role of latency. You have calculated the bandwidth comparison based on one connection and MTU. Depending on MTU (which is tuned to NUMA/Affinity) and the number of threads/connections - that bandwidth will change. Because of latencies (overhead in establishing and replying to a connection), RoCE will always have a lower practical throughput than otherwise indicated by bandwidth measurement alone. The more frequent the data interchange - the shorter the packet size, the more performance RoCE will suffer. This is by design - as DMA and packet networks are two different technologies at core."}