{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2536", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2536/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2536/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2536/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2536", "id": 157194221, "node_id": "MDU6SXNzdWUxNTcxOTQyMjE=", "number": 2536, "title": "zlib.h error when compiling tutorials_example_trainer, but zlib is there", "user": {"login": "ivdorelian", "id": 2019410, "node_id": "MDQ6VXNlcjIwMTk0MTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/2019410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivdorelian", "html_url": "https://github.com/ivdorelian", "followers_url": "https://api.github.com/users/ivdorelian/followers", "following_url": "https://api.github.com/users/ivdorelian/following{/other_user}", "gists_url": "https://api.github.com/users/ivdorelian/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivdorelian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivdorelian/subscriptions", "organizations_url": "https://api.github.com/users/ivdorelian/orgs", "repos_url": "https://api.github.com/users/ivdorelian/repos", "events_url": "https://api.github.com/users/ivdorelian/events{/privacy}", "received_events_url": "https://api.github.com/users/ivdorelian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "davidzchen", "id": 5283042, "node_id": "MDQ6VXNlcjUyODMwNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5283042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidzchen", "html_url": "https://github.com/davidzchen", "followers_url": "https://api.github.com/users/davidzchen/followers", "following_url": "https://api.github.com/users/davidzchen/following{/other_user}", "gists_url": "https://api.github.com/users/davidzchen/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidzchen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidzchen/subscriptions", "organizations_url": "https://api.github.com/users/davidzchen/orgs", "repos_url": "https://api.github.com/users/davidzchen/repos", "events_url": "https://api.github.com/users/davidzchen/events{/privacy}", "received_events_url": "https://api.github.com/users/davidzchen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidzchen", "id": 5283042, "node_id": "MDQ6VXNlcjUyODMwNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5283042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidzchen", "html_url": "https://github.com/davidzchen", "followers_url": "https://api.github.com/users/davidzchen/followers", "following_url": "https://api.github.com/users/davidzchen/following{/other_user}", "gists_url": "https://api.github.com/users/davidzchen/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidzchen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidzchen/subscriptions", "organizations_url": "https://api.github.com/users/davidzchen/orgs", "repos_url": "https://api.github.com/users/davidzchen/repos", "events_url": "https://api.github.com/users/davidzchen/events{/privacy}", "received_events_url": "https://api.github.com/users/davidzchen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2016-05-27T12:18:36Z", "updated_at": "2016-09-13T09:49:27Z", "closed_at": "2016-07-18T22:56:59Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Red Hat Enterprise Linux Server release 7.2</p>\n<p>Installed version of CUDA and cuDNN: CUDA 7, cuDNN 4<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<p>-rw-r--r-- 1 root root 179466 Jan 26 22:19 /usr/local/cuda/lib/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root     16 Jan 26 22:19 /usr/local/cuda/lib/libcudart.so -&gt; libcudart.so.7.0<br>\nlrwxrwxrwx 1 root root     19 Jan 26 22:19 /usr/local/cuda/lib/libcudart.so.7.0 -&gt; libcudart.so.7.0.28<br>\n-rwxr-xr-x 1 root root 303052 Jan 26 22:19 /usr/local/cuda/lib/libcudart.so.7.0.28<br>\n-rw-r--r-- 1 root root 546514 Jan 26 22:19 /usr/local/cuda/lib/libcudart_static.a</p>\n<p>cuDNN is installed for the local user only.</p>\n<p>If installed from sources, provide the commit hash:</p>\n<p><a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/b289bc7a50fc0254970c60aaeba01c33de61a728/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/b289bc7a50fc0254970c60aaeba01c33de61a728\"><tt>b289bc7</tt></a></p>\n<h3>Steps to reproduce</h3>\n<p>I have followed the instructions at: <a href=\"https://www.tensorflow.org/versions/r0.8/get_started/os_setup.html#requirements\" rel=\"nofollow\">https://www.tensorflow.org/versions/r0.8/get_started/os_setup.html#requirements</a></p>\n<p>Since I am not root, I had to install everything for the local user, but it seems to have worked.</p>\n<p>I get an error at this line:</p>\n<p>bazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer</p>\n<p>Saying:</p>\n<p>ERROR: [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/external/png_archive/BUILD:23:1: Executing genrule @png_archive//:configure failed: bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\n[...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow/external/png_archive/libpng-1.2.53 [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow<br>\n/tmp/tmp.pCUaj9eIKr [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow/external/png_archive/libpng-1.2.53 [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow</p>\n<p>... a bunch more lines until:</p>\n<p>checking for pow... no<br>\nchecking for pow in -lm... yes<br>\nchecking for zlibVersion in -lz... no<br>\n<strong>configure: error: zlib not installed</strong><br>\nTarget //tensorflow/cc:tutorials_example_trainer failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 57.196s, Critical Path: 22.12s</p>\n<h3>What have you tried?</h3>\n<p>I installed zlib, and the following program compiles with g++</p>\n<pre><code>#include &lt;cstdio&gt;\n#include &lt;zlib.h&gt;\n\nint main()\n{\n    printf(\"Hello world\");\n    return 0;\n}\n</code></pre>\n<p>I have the following in my .bashrc:</p>\n<p>export LD_LIBRARY_PATH=\"$HOME/local/cuda/lib64:$LD_LIBRARY_PATH\"<br>\nexport LD_LIBRARY_PATH=\"$HOME/bin/zlibdev/lib:$LD_LIBRARY_PATH\"<br>\nexport CPATH=\"$HOME/local/cuda/include:$CPATH\"<br>\nexport CPATH=\"$HOME/bin/zlibdev/include:$CPATH\"<br>\nexport LIBRARY_PATH=\"$HOME/local/cuda/lib64:$LIBRARY_PATH\"</p>\n<p>export PKG_CONFIG_PATH=\"$HOME/bin/zlibdev/lib/pkgconfig\"</p>\n<p>Why can't bazel / tensorflow find zlib.h? It's there and accessible.</p>", "body_text": "Environment info\nOperating System: Red Hat Enterprise Linux Server release 7.2\nInstalled version of CUDA and cuDNN: CUDA 7, cuDNN 4\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n-rw-r--r-- 1 root root 179466 Jan 26 22:19 /usr/local/cuda/lib/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Jan 26 22:19 /usr/local/cuda/lib/libcudart.so -> libcudart.so.7.0\nlrwxrwxrwx 1 root root     19 Jan 26 22:19 /usr/local/cuda/lib/libcudart.so.7.0 -> libcudart.so.7.0.28\n-rwxr-xr-x 1 root root 303052 Jan 26 22:19 /usr/local/cuda/lib/libcudart.so.7.0.28\n-rw-r--r-- 1 root root 546514 Jan 26 22:19 /usr/local/cuda/lib/libcudart_static.a\ncuDNN is installed for the local user only.\nIf installed from sources, provide the commit hash:\nb289bc7\nSteps to reproduce\nI have followed the instructions at: https://www.tensorflow.org/versions/r0.8/get_started/os_setup.html#requirements\nSince I am not root, I had to install everything for the local user, but it seems to have worked.\nI get an error at this line:\nbazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer\nSaying:\nERROR: [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/external/png_archive/BUILD:23:1: Executing genrule @png_archive//:configure failed: bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n[...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow/external/png_archive/libpng-1.2.53 [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow\n/tmp/tmp.pCUaj9eIKr [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow/external/png_archive/libpng-1.2.53 [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow\n... a bunch more lines until:\nchecking for pow... no\nchecking for pow in -lm... yes\nchecking for zlibVersion in -lz... no\nconfigure: error: zlib not installed\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 57.196s, Critical Path: 22.12s\nWhat have you tried?\nI installed zlib, and the following program compiles with g++\n#include <cstdio>\n#include <zlib.h>\n\nint main()\n{\n    printf(\"Hello world\");\n    return 0;\n}\n\nI have the following in my .bashrc:\nexport LD_LIBRARY_PATH=\"$HOME/local/cuda/lib64:$LD_LIBRARY_PATH\"\nexport LD_LIBRARY_PATH=\"$HOME/bin/zlibdev/lib:$LD_LIBRARY_PATH\"\nexport CPATH=\"$HOME/local/cuda/include:$CPATH\"\nexport CPATH=\"$HOME/bin/zlibdev/include:$CPATH\"\nexport LIBRARY_PATH=\"$HOME/local/cuda/lib64:$LIBRARY_PATH\"\nexport PKG_CONFIG_PATH=\"$HOME/bin/zlibdev/lib/pkgconfig\"\nWhy can't bazel / tensorflow find zlib.h? It's there and accessible.", "body": "### Environment info\n\nOperating System: Red Hat Enterprise Linux Server release 7.2\n\nInstalled version of CUDA and cuDNN: CUDA 7, cuDNN 4\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\n-rw-r--r-- 1 root root 179466 Jan 26 22:19 /usr/local/cuda/lib/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Jan 26 22:19 /usr/local/cuda/lib/libcudart.so -> libcudart.so.7.0\nlrwxrwxrwx 1 root root     19 Jan 26 22:19 /usr/local/cuda/lib/libcudart.so.7.0 -> libcudart.so.7.0.28\n-rwxr-xr-x 1 root root 303052 Jan 26 22:19 /usr/local/cuda/lib/libcudart.so.7.0.28\n-rw-r--r-- 1 root root 546514 Jan 26 22:19 /usr/local/cuda/lib/libcudart_static.a\n\ncuDNN is installed for the local user only.\n\nIf installed from sources, provide the commit hash:\n\nb289bc7a50fc0254970c60aaeba01c33de61a728\n### Steps to reproduce\n\nI have followed the instructions at: https://www.tensorflow.org/versions/r0.8/get_started/os_setup.html#requirements \n\nSince I am not root, I had to install everything for the local user, but it seems to have worked. \n\nI get an error at this line:\n\nbazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer\n\nSaying:\n\nERROR: [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/external/png_archive/BUILD:23:1: Executing genrule @png_archive//:configure failed: bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n[...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow/external/png_archive/libpng-1.2.53 [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow\n/tmp/tmp.pCUaj9eIKr [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow/external/png_archive/libpng-1.2.53 [...]/vlad/.cache/bazel/_bazel_vlad/6607a39fc04ec931b523fac975ff3100/tensorflow\n\n... a bunch more lines until:\n\nchecking for pow... no\nchecking for pow in -lm... yes\nchecking for zlibVersion in -lz... no\n**configure: error: zlib not installed**\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 57.196s, Critical Path: 22.12s\n### What have you tried?\n\nI installed zlib, and the following program compiles with g++\n\n```\n#include <cstdio>\n#include <zlib.h>\n\nint main()\n{\n    printf(\"Hello world\");\n    return 0;\n}\n```\n\nI have the following in my .bashrc:\n\nexport LD_LIBRARY_PATH=\"$HOME/local/cuda/lib64:$LD_LIBRARY_PATH\"\nexport LD_LIBRARY_PATH=\"$HOME/bin/zlibdev/lib:$LD_LIBRARY_PATH\"\nexport CPATH=\"$HOME/local/cuda/include:$CPATH\"\nexport CPATH=\"$HOME/bin/zlibdev/include:$CPATH\"\nexport LIBRARY_PATH=\"$HOME/local/cuda/lib64:$LIBRARY_PATH\"\n\nexport PKG_CONFIG_PATH=\"$HOME/bin/zlibdev/lib/pkgconfig\"\n\nWhy can't bazel / tensorflow find zlib.h? It's there and accessible.\n"}