{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/222513941", "html_url": "https://github.com/tensorflow/tensorflow/issues/2536#issuecomment-222513941", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2536", "id": 222513941, "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjUxMzk0MQ==", "user": {"login": "damienmg", "id": 3721087, "node_id": "MDQ6VXNlcjM3MjEwODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3721087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/damienmg", "html_url": "https://github.com/damienmg", "followers_url": "https://api.github.com/users/damienmg/followers", "following_url": "https://api.github.com/users/damienmg/following{/other_user}", "gists_url": "https://api.github.com/users/damienmg/gists{/gist_id}", "starred_url": "https://api.github.com/users/damienmg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/damienmg/subscriptions", "organizations_url": "https://api.github.com/users/damienmg/orgs", "repos_url": "https://api.github.com/users/damienmg/repos", "events_url": "https://api.github.com/users/damienmg/events{/privacy}", "received_events_url": "https://api.github.com/users/damienmg/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-30T15:21:57Z", "updated_at": "2016-05-30T15:21:57Z", "author_association": "MEMBER", "body_html": "<p>replace</p>\n<div class=\"highlight highlight-source-python\"><pre>    cmd <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pushd external/png_archive/<span class=\"pl-c1\">%s</span>; workdir=$$(mktemp -d -t tmp.XXXXXXXXXX); cp -a * $$workdir; pushd $$workdir; ./configure --enable-shared=no --with-pic=no; popd; popd; cp $$workdir/config.h $(@D); rm -rf $$workdir;<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">%</span> prefix_dir,</pre></div>\n<p>with something like:</p>\n<div class=\"highlight highlight-source-python\"><pre>    cmd <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-cce\">\\n</span><span class=\"pl-pds\">\"</span></span>.join([\n       <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>export LD_LIBRARY_PATH='<span class=\"pl-c1\">{LD_LIBRARY_PATH}</span>'<span class=\"pl-pds\">\"</span></span>,\n       <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>export CPATH='<span class=\"pl-c1\">{CPATH}</span>'<span class=\"pl-pds\">\"</span></span>,\n       <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>export LIBRARY_PATH='<span class=\"pl-c1\">{LIBRARY_PATH}</span>'<span class=\"pl-pds\">\"</span></span>,\n       <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>export PKG_CONFIG_PATH='<span class=\"pl-c1\">{PKG_CONFIG_PATH}</span>'<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pushd external/png_archive/<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> prefix_dir,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>workdir=$$(mktemp -d -t tmp.XXXXXXXXXX)<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>cp -a * $$workdir<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pushd $$workdir<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./configure --enable-shared=no --with-pic=no<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>popd<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>popd<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>cp $$workdir/config.h $(@D)<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>rm -rf $$workdir<span class=\"pl-pds\">\"</span></span>,\n    ],</pre></div>\n<p>Where you replace <code>{LD_LIBRARY_PATH}</code>, <code>{CPATH}</code>, <code>{LIBRARY_PATH}</code>, <code>{PKG_CONFIG_PATH}</code> by the values from your environment</p>", "body_text": "replace\n    cmd = \"pushd external/png_archive/%s; workdir=$$(mktemp -d -t tmp.XXXXXXXXXX); cp -a * $$workdir; pushd $$workdir; ./configure --enable-shared=no --with-pic=no; popd; popd; cp $$workdir/config.h $(@D); rm -rf $$workdir;\" % prefix_dir,\nwith something like:\n    cmd = \"\\n\".join([\n       \"export LD_LIBRARY_PATH='{LD_LIBRARY_PATH}'\",\n       \"export CPATH='{CPATH}'\",\n       \"export LIBRARY_PATH='{LIBRARY_PATH}'\",\n       \"export PKG_CONFIG_PATH='{PKG_CONFIG_PATH}'\",\n        \"pushd external/png_archive/\" + prefix_dir,\n        \"workdir=$$(mktemp -d -t tmp.XXXXXXXXXX)\",\n        \"cp -a * $$workdir\",\n        \"pushd $$workdir\",\n        \"./configure --enable-shared=no --with-pic=no\",\n        \"popd\",\n        \"popd\",\n        \"cp $$workdir/config.h $(@D)\",\n        \"rm -rf $$workdir\",\n    ],\nWhere you replace {LD_LIBRARY_PATH}, {CPATH}, {LIBRARY_PATH}, {PKG_CONFIG_PATH} by the values from your environment", "body": "replace\n\n``` python\n    cmd = \"pushd external/png_archive/%s; workdir=$$(mktemp -d -t tmp.XXXXXXXXXX); cp -a * $$workdir; pushd $$workdir; ./configure --enable-shared=no --with-pic=no; popd; popd; cp $$workdir/config.h $(@D); rm -rf $$workdir;\" % prefix_dir,\n```\n\nwith something like:\n\n``` python\n    cmd = \"\\n\".join([\n       \"export LD_LIBRARY_PATH='{LD_LIBRARY_PATH}'\",\n       \"export CPATH='{CPATH}'\",\n       \"export LIBRARY_PATH='{LIBRARY_PATH}'\",\n       \"export PKG_CONFIG_PATH='{PKG_CONFIG_PATH}'\",\n        \"pushd external/png_archive/\" + prefix_dir,\n        \"workdir=$$(mktemp -d -t tmp.XXXXXXXXXX)\",\n        \"cp -a * $$workdir\",\n        \"pushd $$workdir\",\n        \"./configure --enable-shared=no --with-pic=no\",\n        \"popd\",\n        \"popd\",\n        \"cp $$workdir/config.h $(@D)\",\n        \"rm -rf $$workdir\",\n    ],\n```\n\nWhere you replace `{LD_LIBRARY_PATH}`, `{CPATH}`, `{LIBRARY_PATH}`, `{PKG_CONFIG_PATH}` by the values from your environment\n"}