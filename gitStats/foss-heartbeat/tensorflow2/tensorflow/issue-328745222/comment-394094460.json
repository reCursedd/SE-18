{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/394094460", "html_url": "https://github.com/tensorflow/tensorflow/issues/19710#issuecomment-394094460", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19710", "id": 394094460, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDA5NDQ2MA==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-02T15:16:23Z", "updated_at": "2018-06-02T15:16:23Z", "author_association": "CONTRIBUTOR", "body_html": "<p>This should be possible using <a href=\"https://www.tensorflow.org/api_docs/python/tf/contrib/data/group_by_window\" rel=\"nofollow\"><code>tf.contrib.data.group_by_window()</code></a> to group the images into batches based on their aspect ratios, and then apply the appropriate padding for the aspect ratio in the window function. (This is the same mechanism that\u2019s used to <a href=\"https://www.tensorflow.org/api_docs/python/tf/contrib/data/bucket_by_sequence_length\" rel=\"nofollow\">bucket sequences by length</a>, and looking at the <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.8/tensorflow/contrib/data/python/ops/grouping.py#L95\">implementation</a> of that feature might be useful.)</p>", "body_text": "This should be possible using tf.contrib.data.group_by_window() to group the images into batches based on their aspect ratios, and then apply the appropriate padding for the aspect ratio in the window function. (This is the same mechanism that\u2019s used to bucket sequences by length, and looking at the implementation of that feature might be useful.)", "body": "This should be possible using [`tf.contrib.data.group_by_window()`](https://www.tensorflow.org/api_docs/python/tf/contrib/data/group_by_window) to group the images into batches based on their aspect ratios, and then apply the appropriate padding for the aspect ratio in the window function. (This is the same mechanism that\u2019s used to [bucket sequences by length](https://www.tensorflow.org/api_docs/python/tf/contrib/data/bucket_by_sequence_length), and looking at the [implementation](https://github.com/tensorflow/tensorflow/blob/r1.8/tensorflow/contrib/data/python/ops/grouping.py#L95) of that feature might be useful.)"}