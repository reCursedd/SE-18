{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/357311558", "html_url": "https://github.com/tensorflow/tensorflow/issues/16072#issuecomment-357311558", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16072", "id": 357311558, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzMxMTU1OA==", "user": {"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-12T18:05:11Z", "updated_at": "2018-01-12T18:05:11Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23573076\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/hkhatod\">@hkhatod</a> I'm no expert in bidirectional LSTMs, but the error lines about the shapes of labels and logits make me wonder if you're somehow presenting the concatenation of all sequence steps as logits (7550x2), which mismatches with much narrower labels (50x2). It's particularly interesting that 50 evenly divides 7550--might your sequence length for the first example be 151?</p>\n<p>tensorflow.python.framework.errors_impl.InvalidArgumentError: logits and labels must be same size: logits_size=[7550,2] labels_size=[50,2].</p>\n<p>Can you trace back through your code and look at the shapes of self.scores and self.h_drop, and convince yourself that they're doing the expected thing in the failing case?</p>", "body_text": "@hkhatod I'm no expert in bidirectional LSTMs, but the error lines about the shapes of labels and logits make me wonder if you're somehow presenting the concatenation of all sequence steps as logits (7550x2), which mismatches with much narrower labels (50x2). It's particularly interesting that 50 evenly divides 7550--might your sequence length for the first example be 151?\ntensorflow.python.framework.errors_impl.InvalidArgumentError: logits and labels must be same size: logits_size=[7550,2] labels_size=[50,2].\nCan you trace back through your code and look at the shapes of self.scores and self.h_drop, and convince yourself that they're doing the expected thing in the failing case?", "body": "@hkhatod I'm no expert in bidirectional LSTMs, but the error lines about the shapes of labels and logits make me wonder if you're somehow presenting the concatenation of all sequence steps as logits (7550x2), which mismatches with much narrower labels (50x2). It's particularly interesting that 50 evenly divides 7550--might your sequence length for the first example be 151?\r\n\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: logits and labels must be same size: logits_size=[7550,2] labels_size=[50,2]. \r\n\r\nCan you trace back through your code and look at the shapes of self.scores and self.h_drop, and convince yourself that they're doing the expected thing in the failing case?\r\n\r\n"}