{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/369", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/369/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/369/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/369/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/369", "id": 119270441, "node_id": "MDU6SXNzdWUxMTkyNzA0NDE=", "number": 369, "title": "reduce_mean gradient wrong", "user": {"login": "mborgerding", "id": 12561841, "node_id": "MDQ6VXNlcjEyNTYxODQx", "avatar_url": "https://avatars3.githubusercontent.com/u/12561841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mborgerding", "html_url": "https://github.com/mborgerding", "followers_url": "https://api.github.com/users/mborgerding/followers", "following_url": "https://api.github.com/users/mborgerding/following{/other_user}", "gists_url": "https://api.github.com/users/mborgerding/gists{/gist_id}", "starred_url": "https://api.github.com/users/mborgerding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mborgerding/subscriptions", "organizations_url": "https://api.github.com/users/mborgerding/orgs", "repos_url": "https://api.github.com/users/mborgerding/repos", "events_url": "https://api.github.com/users/mborgerding/events{/privacy}", "received_events_url": "https://api.github.com/users/mborgerding/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-28T04:31:26Z", "updated_at": "2015-11-28T05:42:17Z", "closed_at": "2015-11-28T05:41:00Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The <code>reduce_mean</code> code was incorrectly scaling the gradient from <code>reduce_sum</code> to adjust for the number of element in the <strong>input</strong> tensor as well as the <strong>output</strong> tensor.<br>\nThe only adjustment should be based on the number of output elements N, since mean=sum/N.</p>\n<p>Fixed in patch at <a href=\"https://tensorflow-review.googlesource.com/#/c/1153/\" rel=\"nofollow\">https://tensorflow-review.googlesource.com/#/c/1153/</a></p>", "body_text": "The reduce_mean code was incorrectly scaling the gradient from reduce_sum to adjust for the number of element in the input tensor as well as the output tensor.\nThe only adjustment should be based on the number of output elements N, since mean=sum/N.\nFixed in patch at https://tensorflow-review.googlesource.com/#/c/1153/", "body": "The `reduce_mean` code was incorrectly scaling the gradient from `reduce_sum` to adjust for the number of element in the **input** tensor as well as the **output** tensor.  \nThe only adjustment should be based on the number of output elements N, since mean=sum/N.\n\nFixed in patch at https://tensorflow-review.googlesource.com/#/c/1153/\n"}