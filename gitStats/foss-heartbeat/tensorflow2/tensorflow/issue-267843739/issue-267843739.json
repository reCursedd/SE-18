{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13930", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13930/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13930/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13930/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13930", "id": 267843739, "node_id": "MDU6SXNzdWUyNjc4NDM3Mzk=", "number": 13930, "title": "Build failure CUDA8 / cudNN8-v7", "user": {"login": "tsoernes", "id": 6782404, "node_id": "MDQ6VXNlcjY3ODI0MDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/6782404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsoernes", "html_url": "https://github.com/tsoernes", "followers_url": "https://api.github.com/users/tsoernes/followers", "following_url": "https://api.github.com/users/tsoernes/following{/other_user}", "gists_url": "https://api.github.com/users/tsoernes/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsoernes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsoernes/subscriptions", "organizations_url": "https://api.github.com/users/tsoernes/orgs", "repos_url": "https://api.github.com/users/tsoernes/repos", "events_url": "https://api.github.com/users/tsoernes/events{/privacy}", "received_events_url": "https://api.github.com/users/tsoernes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-10-23T22:58:36Z", "updated_at": "2017-10-30T23:10:12Z", "closed_at": "2017-10-25T17:20:42Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Fedora 26 x64</strong>:</li>\n<li><strong>TensorFlow installed from source</strong>:</li>\n<li><strong>TensorFlow version commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/53e7541cf7efa61ba22c9f042e07031d87c8f145/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/53e7541cf7efa61ba22c9f042e07031d87c8f145\"><tt>53e7541</tt></a> (oct 23 11:46)</strong>:</li>\n<li><strong>Python version 3.6</strong>:</li>\n<li><strong>Bazel version 0.5.4</strong>:</li>\n<li><strong>CUDA 8.0</strong></li>\n<li><strong>cuDNN 8.0 v7</strong>:</li>\n<li><strong>GPU model GTX 1060</strong>:</li>\n<li><strong>bazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package</strong>:</li>\n</ul>\n<p>Have tried <code>bazel clean</code>.</p>\n<pre><code>.....\nexternal/protobuf_archive/python/google/protobuf/pyext/message.cc: In instantiation of 'bool google::protobuf::python::CheckAndGetInteger(PyObject*, T*) [with T = long unsigned int; PyObject = _object]':\nexternal/protobuf_archive/python/google/protobuf/pyext/message.cc:698:60:   required from here\nexternal/protobuf_archive/python/google/protobuf/pyext/message.cc:635:20: warning: ISO C++ forbids converting a string constant to 'char*' [-Wwrite-strings]\nINFO: From Compiling tensorflow/core/lib/strings/numbers.cc:\ntensorflow/core/lib/strings/numbers.cc: In function 'std::__cxx11::string tensorflow::strings::HumanReadableNumBytes(tensorflow::int64)':\ntensorflow/core/lib/strings/numbers.cc:424:8: warning: '%lld' directive output may be truncated writing between 1 and 19 bytes into a region of size between 7 and 8 [-Wformat-truncation=]\n string HumanReadableNumBytes(int64 num_bytes) {\n        ^~~~~~~~~~~~~~~~~~~~~\ntensorflow/core/lib/strings/numbers.cc:424:8: note: directive argument in the range [0, 9223372036854775807]\nIn file included from /usr/include/stdio.h:939:0,\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/cstdio:42,\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/ext/string_conversions.h:43,\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/basic_string.h:6347,\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/string:52,\n                 from ./tensorflow/core/lib/strings/numbers.h:19,\n                 from tensorflow/core/lib/strings/numbers.cc:15:\n/usr/include/bits/stdio2.h:65:44: note: '__builtin_snprintf' output between 3 and 22 bytes into a destination of size 8\n        __bos (__s), __fmt, __va_arg_pack ());\n                                            ^\nINFO: From Compiling external/nccl_archive/src/all_gather.cu.cc:\n/usr/local/cuda-8.0/bin/../targets/x86_64-linux/include/math_functions.h(8897): error: cannot overload functions distinguished by return type alone\n\n/usr/local/cuda-8.0/bin/../targets/x86_64-linux/include/math_functions.h(8901): error: cannot overload functions distinguished by return type alone\n\n2 errors detected in the compilation of \"/tmp/tmpxft_00006246_00000000-7_all_gather.cu.cpp1.ii\".\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/nccl_archive/BUILD:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/all_gather.cu.pic.o' was not created.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/nccl_archive/BUILD:33:1: not all outputs were created or valid.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 186.358s, Critical Path: 25.29s\n</code></pre>", "body_text": "System information\n\nFedora 26 x64:\nTensorFlow installed from source:\nTensorFlow version commit 53e7541 (oct 23 11:46):\nPython version 3.6:\nBazel version 0.5.4:\nCUDA 8.0\ncuDNN 8.0 v7:\nGPU model GTX 1060:\nbazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package:\n\nHave tried bazel clean.\n.....\nexternal/protobuf_archive/python/google/protobuf/pyext/message.cc: In instantiation of 'bool google::protobuf::python::CheckAndGetInteger(PyObject*, T*) [with T = long unsigned int; PyObject = _object]':\nexternal/protobuf_archive/python/google/protobuf/pyext/message.cc:698:60:   required from here\nexternal/protobuf_archive/python/google/protobuf/pyext/message.cc:635:20: warning: ISO C++ forbids converting a string constant to 'char*' [-Wwrite-strings]\nINFO: From Compiling tensorflow/core/lib/strings/numbers.cc:\ntensorflow/core/lib/strings/numbers.cc: In function 'std::__cxx11::string tensorflow::strings::HumanReadableNumBytes(tensorflow::int64)':\ntensorflow/core/lib/strings/numbers.cc:424:8: warning: '%lld' directive output may be truncated writing between 1 and 19 bytes into a region of size between 7 and 8 [-Wformat-truncation=]\n string HumanReadableNumBytes(int64 num_bytes) {\n        ^~~~~~~~~~~~~~~~~~~~~\ntensorflow/core/lib/strings/numbers.cc:424:8: note: directive argument in the range [0, 9223372036854775807]\nIn file included from /usr/include/stdio.h:939:0,\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/cstdio:42,\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/ext/string_conversions.h:43,\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/basic_string.h:6347,\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/string:52,\n                 from ./tensorflow/core/lib/strings/numbers.h:19,\n                 from tensorflow/core/lib/strings/numbers.cc:15:\n/usr/include/bits/stdio2.h:65:44: note: '__builtin_snprintf' output between 3 and 22 bytes into a destination of size 8\n        __bos (__s), __fmt, __va_arg_pack ());\n                                            ^\nINFO: From Compiling external/nccl_archive/src/all_gather.cu.cc:\n/usr/local/cuda-8.0/bin/../targets/x86_64-linux/include/math_functions.h(8897): error: cannot overload functions distinguished by return type alone\n\n/usr/local/cuda-8.0/bin/../targets/x86_64-linux/include/math_functions.h(8901): error: cannot overload functions distinguished by return type alone\n\n2 errors detected in the compilation of \"/tmp/tmpxft_00006246_00000000-7_all_gather.cu.cpp1.ii\".\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/nccl_archive/BUILD:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/all_gather.cu.pic.o' was not created.\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/nccl_archive/BUILD:33:1: not all outputs were created or valid.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 186.358s, Critical Path: 25.29s", "body": "### System information\r\n- **Fedora 26 x64**:\r\n- **TensorFlow installed from source**:\r\n- **TensorFlow version commit 53e7541cf7efa61ba22c9f042e07031d87c8f145 (oct 23 11:46)**:\r\n- **Python version 3.6**: \r\n- **Bazel version 0.5.4**:\r\n- **CUDA 8.0**\r\n- **cuDNN 8.0 v7**:\r\n- **GPU model GTX 1060**:\r\n- **bazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package**:\r\n\r\nHave tried `bazel clean`.\r\n```\r\n.....\r\nexternal/protobuf_archive/python/google/protobuf/pyext/message.cc: In instantiation of 'bool google::protobuf::python::CheckAndGetInteger(PyObject*, T*) [with T = long unsigned int; PyObject = _object]':\r\nexternal/protobuf_archive/python/google/protobuf/pyext/message.cc:698:60:   required from here\r\nexternal/protobuf_archive/python/google/protobuf/pyext/message.cc:635:20: warning: ISO C++ forbids converting a string constant to 'char*' [-Wwrite-strings]\r\nINFO: From Compiling tensorflow/core/lib/strings/numbers.cc:\r\ntensorflow/core/lib/strings/numbers.cc: In function 'std::__cxx11::string tensorflow::strings::HumanReadableNumBytes(tensorflow::int64)':\r\ntensorflow/core/lib/strings/numbers.cc:424:8: warning: '%lld' directive output may be truncated writing between 1 and 19 bytes into a region of size between 7 and 8 [-Wformat-truncation=]\r\n string HumanReadableNumBytes(int64 num_bytes) {\r\n        ^~~~~~~~~~~~~~~~~~~~~\r\ntensorflow/core/lib/strings/numbers.cc:424:8: note: directive argument in the range [0, 9223372036854775807]\r\nIn file included from /usr/include/stdio.h:939:0,\r\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/cstdio:42,\r\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/ext/string_conversions.h:43,\r\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/basic_string.h:6347,\r\n                 from /usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/string:52,\r\n                 from ./tensorflow/core/lib/strings/numbers.h:19,\r\n                 from tensorflow/core/lib/strings/numbers.cc:15:\r\n/usr/include/bits/stdio2.h:65:44: note: '__builtin_snprintf' output between 3 and 22 bytes into a destination of size 8\r\n        __bos (__s), __fmt, __va_arg_pack ());\r\n                                            ^\r\nINFO: From Compiling external/nccl_archive/src/all_gather.cu.cc:\r\n/usr/local/cuda-8.0/bin/../targets/x86_64-linux/include/math_functions.h(8897): error: cannot overload functions distinguished by return type alone\r\n\r\n/usr/local/cuda-8.0/bin/../targets/x86_64-linux/include/math_functions.h(8901): error: cannot overload functions distinguished by return type alone\r\n\r\n2 errors detected in the compilation of \"/tmp/tmpxft_00006246_00000000-7_all_gather.cu.cpp1.ii\".\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/nccl_archive/BUILD:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/all_gather.cu.pic.o' was not created.\r\nERROR: /home/torstein/.cache/bazel/_bazel_torstein/1f82ba256daa7468e9c0a1514e0b9aa5/external/nccl_archive/BUILD:33:1: not all outputs were created or valid.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 186.358s, Critical Path: 25.29s\r\n```"}