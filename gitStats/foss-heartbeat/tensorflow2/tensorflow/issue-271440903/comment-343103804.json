{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/343103804", "html_url": "https://github.com/tensorflow/tensorflow/pull/14288#issuecomment-343103804", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14288", "id": 343103804, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzEwMzgwNA==", "user": {"login": "powderluv", "id": 74956, "node_id": "MDQ6VXNlcjc0OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/74956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/powderluv", "html_url": "https://github.com/powderluv", "followers_url": "https://api.github.com/users/powderluv/followers", "following_url": "https://api.github.com/users/powderluv/following{/other_user}", "gists_url": "https://api.github.com/users/powderluv/gists{/gist_id}", "starred_url": "https://api.github.com/users/powderluv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/powderluv/subscriptions", "organizations_url": "https://api.github.com/users/powderluv/orgs", "repos_url": "https://api.github.com/users/powderluv/repos", "events_url": "https://api.github.com/users/powderluv/events{/privacy}", "received_events_url": "https://api.github.com/users/powderluv/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-09T09:54:33Z", "updated_at": "2017-11-09T09:54:33Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I was running into<br>\nUndefined symbols for architecture x86_64:<br>\n\"___xla_cpu_runtime_ExpV4F32NEON\", referenced from:<br>\nxla::cpu::SimpleOrcJIT::SimpleOrcJIT(llvm::TargetOptions const&amp;, llvm::CodeGenOpt::Level, bool, bool, bool, std::__1::function&lt;tensorflow::Status (llvm::Module const&amp;)&gt;, std::__1::function&lt;tensorflow::Status (llvm::Module const&amp;)&gt;) in libsimple_orc_jit.a(simple_orc_jit.o)<br>\nxla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)<br>\n\"___xla_cpu_runtime_ExpV8F32AVX\", referenced from:<br>\nxla::cpu::SimpleOrcJIT::SimpleOrcJIT(llvm::TargetOptions const&amp;, llvm::CodeGenOpt::Level, bool, bool, bool, std::__1::function&lt;tensorflow::Status (llvm::Module const&amp;)&gt;, std::__1::function&lt;tensorflow::Status (llvm::Module const&amp;)&gt;) in libsimple_orc_jit.a(simple_orc_jit.o)<br>\nxla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)<br>\n\"___xla_cpu_runtime_LogV4F32NEON\", referenced from:<br>\nxla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)<br>\n\"___xla_cpu_runtime_LogV8F32AVX\", referenced from:<br>\nxla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)<br>\nld: symbol(s) not found for architecture x86_64<br>\nclang: error: linker command failed with exit code 1 (use -v to see invocation)<br>\nTarget //tensorflow/compiler/aot:tfcompile failed to build</p>\n<p>and had to comment out</p>\n<p>@@ -102,8 +107,8 @@ llvm::StringRef GetHostCpuName() {<br>\nCompilerFunctor::VectorIntrinsics GetAvailableIntrinsics() {<br>\nCompilerFunctor::VectorIntrinsics intrinsics;<br>\nintrinsics.sse_intrinsics = (&amp;__xla_cpu_runtime_ExpV4F32SSE != nullptr);</p>\n<ul>\n<li>intrinsics.avx_intrinsics = (&amp;__xla_cpu_runtime_ExpV8F32AVX != nullptr);</li>\n<li>intrinsics.neon_intrinsics = (&amp;__xla_cpu_runtime_ExpV4F32NEON != nullptr);</li>\n</ul>\n<ul>\n<li>//intrinsics.avx_intrinsics = (&amp;__xla_cpu_runtime_ExpV8F32AVX != nullptr);</li>\n<li>//intrinsics.neon_intrinsics = (&amp;__xla_cpu_runtime_ExpV4F32NEON != nullptr);<br>\nreturn intrinsics;<br>\n}</li>\n</ul>\n<p>and ..</p>\n<p>REGISTER_CPU_RUNTIME_SYMBOL(EigenSingleThreadedMatMulF64);</p>\n<ul>\n<li>REGISTER_CPU_RUNTIME_SYMBOL(ExpV4F32NEON);</li>\n</ul>\n<ul>\n<li>// REGISTER_CPU_RUNTIME_SYMBOL(ExpV4F32NEON);<br>\nREGISTER_CPU_RUNTIME_SYMBOL(ExpV4F32SSE);</li>\n</ul>\n<ul>\n<li>REGISTER_CPU_RUNTIME_SYMBOL(ExpV8F32AVX);</li>\n<li>REGISTER_CPU_RUNTIME_SYMBOL(LogV4F32NEON);</li>\n</ul>\n<ul>\n<li>// REGISTER_CPU_RUNTIME_SYMBOL(ExpV8F32AVX);</li>\n<li>// REGISTER_CPU_RUNTIME_SYMBOL(LogV4F32NEON);<br>\nREGISTER_CPU_RUNTIME_SYMBOL(LogV4F32SSE);</li>\n</ul>\n<ul>\n<li>REGISTER_CPU_RUNTIME_SYMBOL(LogV8F32AVX);</li>\n</ul>\n<ul>\n<li>// REGISTER_CPU_RUNTIME_SYMBOL(LogV8F32AVX);</li>\n</ul>\n<p>for it to be able to compile correctly on my 2015 13\" Macbook pro and 10.13.2 beta and xcode 9.1 (Apple LLVM version 9.0.0 (clang-900.0.38))</p>", "body_text": "I was running into\nUndefined symbols for architecture x86_64:\n\"___xla_cpu_runtime_ExpV4F32NEON\", referenced from:\nxla::cpu::SimpleOrcJIT::SimpleOrcJIT(llvm::TargetOptions const&, llvm::CodeGenOpt::Level, bool, bool, bool, std::__1::function<tensorflow::Status (llvm::Module const&)>, std::__1::function<tensorflow::Status (llvm::Module const&)>) in libsimple_orc_jit.a(simple_orc_jit.o)\nxla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)\n\"___xla_cpu_runtime_ExpV8F32AVX\", referenced from:\nxla::cpu::SimpleOrcJIT::SimpleOrcJIT(llvm::TargetOptions const&, llvm::CodeGenOpt::Level, bool, bool, bool, std::__1::function<tensorflow::Status (llvm::Module const&)>, std::__1::function<tensorflow::Status (llvm::Module const&)>) in libsimple_orc_jit.a(simple_orc_jit.o)\nxla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)\n\"___xla_cpu_runtime_LogV4F32NEON\", referenced from:\nxla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)\n\"___xla_cpu_runtime_LogV8F32AVX\", referenced from:\nxla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nTarget //tensorflow/compiler/aot:tfcompile failed to build\nand had to comment out\n@@ -102,8 +107,8 @@ llvm::StringRef GetHostCpuName() {\nCompilerFunctor::VectorIntrinsics GetAvailableIntrinsics() {\nCompilerFunctor::VectorIntrinsics intrinsics;\nintrinsics.sse_intrinsics = (&__xla_cpu_runtime_ExpV4F32SSE != nullptr);\n\nintrinsics.avx_intrinsics = (&__xla_cpu_runtime_ExpV8F32AVX != nullptr);\nintrinsics.neon_intrinsics = (&__xla_cpu_runtime_ExpV4F32NEON != nullptr);\n\n\n//intrinsics.avx_intrinsics = (&__xla_cpu_runtime_ExpV8F32AVX != nullptr);\n//intrinsics.neon_intrinsics = (&__xla_cpu_runtime_ExpV4F32NEON != nullptr);\nreturn intrinsics;\n}\n\nand ..\nREGISTER_CPU_RUNTIME_SYMBOL(EigenSingleThreadedMatMulF64);\n\nREGISTER_CPU_RUNTIME_SYMBOL(ExpV4F32NEON);\n\n\n// REGISTER_CPU_RUNTIME_SYMBOL(ExpV4F32NEON);\nREGISTER_CPU_RUNTIME_SYMBOL(ExpV4F32SSE);\n\n\nREGISTER_CPU_RUNTIME_SYMBOL(ExpV8F32AVX);\nREGISTER_CPU_RUNTIME_SYMBOL(LogV4F32NEON);\n\n\n// REGISTER_CPU_RUNTIME_SYMBOL(ExpV8F32AVX);\n// REGISTER_CPU_RUNTIME_SYMBOL(LogV4F32NEON);\nREGISTER_CPU_RUNTIME_SYMBOL(LogV4F32SSE);\n\n\nREGISTER_CPU_RUNTIME_SYMBOL(LogV8F32AVX);\n\n\n// REGISTER_CPU_RUNTIME_SYMBOL(LogV8F32AVX);\n\nfor it to be able to compile correctly on my 2015 13\" Macbook pro and 10.13.2 beta and xcode 9.1 (Apple LLVM version 9.0.0 (clang-900.0.38))", "body": "I was running into \r\nUndefined symbols for architecture x86_64:\r\n  \"___xla_cpu_runtime_ExpV4F32NEON\", referenced from:\r\n      xla::cpu::SimpleOrcJIT::SimpleOrcJIT(llvm::TargetOptions const&, llvm::CodeGenOpt::Level, bool, bool, bool, std::__1::function<tensorflow::Status (llvm::Module const&)>, std::__1::function<tensorflow::Status (llvm::Module const&)>) in libsimple_orc_jit.a(simple_orc_jit.o)\r\n      xla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)\r\n  \"___xla_cpu_runtime_ExpV8F32AVX\", referenced from:\r\n      xla::cpu::SimpleOrcJIT::SimpleOrcJIT(llvm::TargetOptions const&, llvm::CodeGenOpt::Level, bool, bool, bool, std::__1::function<tensorflow::Status (llvm::Module const&)>, std::__1::function<tensorflow::Status (llvm::Module const&)>) in libsimple_orc_jit.a(simple_orc_jit.o)\r\n      xla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)\r\n  \"___xla_cpu_runtime_LogV4F32NEON\", referenced from:\r\n      xla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)\r\n  \"___xla_cpu_runtime_LogV8F32AVX\", referenced from:\r\n      xla::cpu::(anonymous namespace)::RegisterKnownJITSymbols() in libsimple_orc_jit.a(simple_orc_jit.o)\r\nld: symbol(s) not found for architecture x86_64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nTarget //tensorflow/compiler/aot:tfcompile failed to build\r\n\r\nand had to comment out \r\n\r\n\r\n@@ -102,8 +107,8 @@ llvm::StringRef GetHostCpuName() {\r\n CompilerFunctor::VectorIntrinsics GetAvailableIntrinsics() {\r\n   CompilerFunctor::VectorIntrinsics intrinsics;\r\n   intrinsics.sse_intrinsics = (&__xla_cpu_runtime_ExpV4F32SSE != nullptr);\r\n-  intrinsics.avx_intrinsics = (&__xla_cpu_runtime_ExpV8F32AVX != nullptr);\r\n-  intrinsics.neon_intrinsics = (&__xla_cpu_runtime_ExpV4F32NEON != nullptr);\r\n+  //intrinsics.avx_intrinsics = (&__xla_cpu_runtime_ExpV8F32AVX != nullptr);\r\n+  //intrinsics.neon_intrinsics = (&__xla_cpu_runtime_ExpV4F32NEON != nullptr);\r\n   return intrinsics;\r\n }\r\n \r\nand ..\r\n\r\n   REGISTER_CPU_RUNTIME_SYMBOL(EigenSingleThreadedMatMulF64);\r\n-  REGISTER_CPU_RUNTIME_SYMBOL(ExpV4F32NEON);\r\n+ // REGISTER_CPU_RUNTIME_SYMBOL(ExpV4F32NEON);\r\n   REGISTER_CPU_RUNTIME_SYMBOL(ExpV4F32SSE);\r\n-  REGISTER_CPU_RUNTIME_SYMBOL(ExpV8F32AVX);\r\n-  REGISTER_CPU_RUNTIME_SYMBOL(LogV4F32NEON);\r\n+ // REGISTER_CPU_RUNTIME_SYMBOL(ExpV8F32AVX);\r\n+ // REGISTER_CPU_RUNTIME_SYMBOL(LogV4F32NEON);\r\n   REGISTER_CPU_RUNTIME_SYMBOL(LogV4F32SSE);\r\n-  REGISTER_CPU_RUNTIME_SYMBOL(LogV8F32AVX);\r\n+ // REGISTER_CPU_RUNTIME_SYMBOL(LogV8F32AVX);\r\n\r\n\r\nfor it to be able to compile correctly on my 2015 13\" Macbook pro and 10.13.2 beta and xcode 9.1 (Apple LLVM version 9.0.0 (clang-900.0.38))\r\n\r\n"}