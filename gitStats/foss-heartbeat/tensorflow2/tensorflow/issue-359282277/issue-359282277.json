{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22222", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22222/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22222/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22222/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22222", "id": 359282277, "node_id": "MDU6SXNzdWUzNTkyODIyNzc=", "number": 22222, "title": "The latest process of building tensorflow serving for windows", "user": {"login": "taotaolin", "id": 11807206, "node_id": "MDQ6VXNlcjExODA3MjA2", "avatar_url": "https://avatars3.githubusercontent.com/u/11807206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taotaolin", "html_url": "https://github.com/taotaolin", "followers_url": "https://api.github.com/users/taotaolin/followers", "following_url": "https://api.github.com/users/taotaolin/following{/other_user}", "gists_url": "https://api.github.com/users/taotaolin/gists{/gist_id}", "starred_url": "https://api.github.com/users/taotaolin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taotaolin/subscriptions", "organizations_url": "https://api.github.com/users/taotaolin/orgs", "repos_url": "https://api.github.com/users/taotaolin/repos", "events_url": "https://api.github.com/users/taotaolin/events{/privacy}", "received_events_url": "https://api.github.com/users/taotaolin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-09-12T01:33:05Z", "updated_at": "2018-09-14T02:51:46Z", "closed_at": "2018-09-14T02:51:46Z", "author_association": "NONE", "body_html": "<p><strong>Have I written custom code</strong>  in /tensorflow/contrib/cmake/CMakeLists.txt</p>\n<pre><code>if\uff08tensorflow_OPTIMIZE_FOR_NATIVE_ARCH\uff09\n  include\uff08CheckCXXCompilerFlag\uff09\n  CHECK_CXX_COMPILER_FLAG\uff08\u201c - march = native\u201d COMPILER_OPT_ARCH_NATIVE_SUPPORTED\uff09\n  if\uff08COMPILER_OPT_ARCH_NATIVE_SUPPORTED\uff09\n    set\uff08CMAKE_CXX_FLAGS \u201c $ {CMAKE_CXX_FLAGS} -march = native\u201d\uff09\n  endif\uff08\uff09\nendif\uff08\uff09\n</code></pre>\n<p>changed to</p>\n<pre><code>if (tensorflow_OPTIMIZE_FOR_NATIVE_ARCH)\n  include(CheckCXXCompilerFlag)\n  CHECK_CXX_COMPILER_FLAG(\"-march=native\" COMPILER_OPT_ARCH_NATIVE_SUPPORTED)\n  if (COMPILER_OPT_ARCH_NATIVE_SUPPORTED)\n    set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -march=native\")\n  else()\n    CHECK_CXX_COMPILER_FLAG(\"/arch:AVX\" COMPILER_OPT_ARCH_AVX_SUPPORTED)\n    if(COMPILER_OPT_ARCH_AVX_SUPPORTED)\n      set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} /arch:AVX\")\n    endif()\n  endif()\nendif()\n</code></pre>\n<p><strong>OS Platform and Distribution</strong>    windows7 x64<br>\n<strong>TensorFlow installed from</strong>    sourse<br>\n<strong>TensorFlow version</strong>  r1.10<br>\n<strong>Bazel version</strong> N/A<br>\n<strong>CUDA/cuDNN</strong> version 9.0/Cudnn 7.0<br>\n<strong>GPU model and memory</strong> 1080Ti / 11G<br>\n<strong>Exact command to reproduce</strong></p>\n<p><strong>1. Cmake build:</strong></p>\n<pre><code>cmake .. -A x64 -DCMAKE_BUILD_TYPE=Debug\n-T host=x64\n-DSWIG_EXECUTABLE=D:/lib/swigwin-3.0.12/swig.exe\n-DPYTHON_EXECUTABLE=C:/Users/tao/AppData/Local/Programs/Python/Python35-32/python.exe \n-DPYTHON_LIBRARIES=C:/Users/tao/AppData/Local/Programs/Python/Python35-32/libs/python35.lib \n-Dtensorflow_ENABLE_GPU=ON \n-Dtensorflow_ENABLE_GRPC_SUPPORT=OFF\n-Dtensorflow_BUILD_SHARED_LIB=ON  \n</code></pre>\n<p><strong>2. Visual studio 2015:</strong></p>\n<p><code>MSBuild /p:Configuration=Debug /p:Platform=x64 ALL_BUILD.vcxproj </code></p>\n<h3>Describe the problem</h3>\n<p>I want to use Tensorflow in my Windows C++ application. Therefore I'm trying to build in Visual studio on a Windows system.</p>\n<p>Whether to support compiling DEBUG version.</p>\n<h3>logs</h3>\n<pre><code>fatal error C1083: Cannot open include file: 'tensorflow/core/framework/device_attributes.pb_text.h': No such file or directory (compiling source file C:\\tensorflow\\tensorflow\\core\\kernels\\captured_function.cc)\n</code></pre>", "body_text": "Have I written custom code  in /tensorflow/contrib/cmake/CMakeLists.txt\nif\uff08tensorflow_OPTIMIZE_FOR_NATIVE_ARCH\uff09\n  include\uff08CheckCXXCompilerFlag\uff09\n  CHECK_CXX_COMPILER_FLAG\uff08\u201c - march = native\u201d COMPILER_OPT_ARCH_NATIVE_SUPPORTED\uff09\n  if\uff08COMPILER_OPT_ARCH_NATIVE_SUPPORTED\uff09\n    set\uff08CMAKE_CXX_FLAGS \u201c $ {CMAKE_CXX_FLAGS} -march = native\u201d\uff09\n  endif\uff08\uff09\nendif\uff08\uff09\n\nchanged to\nif (tensorflow_OPTIMIZE_FOR_NATIVE_ARCH)\n  include(CheckCXXCompilerFlag)\n  CHECK_CXX_COMPILER_FLAG(\"-march=native\" COMPILER_OPT_ARCH_NATIVE_SUPPORTED)\n  if (COMPILER_OPT_ARCH_NATIVE_SUPPORTED)\n    set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -march=native\")\n  else()\n    CHECK_CXX_COMPILER_FLAG(\"/arch:AVX\" COMPILER_OPT_ARCH_AVX_SUPPORTED)\n    if(COMPILER_OPT_ARCH_AVX_SUPPORTED)\n      set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} /arch:AVX\")\n    endif()\n  endif()\nendif()\n\nOS Platform and Distribution    windows7 x64\nTensorFlow installed from    sourse\nTensorFlow version  r1.10\nBazel version N/A\nCUDA/cuDNN version 9.0/Cudnn 7.0\nGPU model and memory 1080Ti / 11G\nExact command to reproduce\n1. Cmake build:\ncmake .. -A x64 -DCMAKE_BUILD_TYPE=Debug\n-T host=x64\n-DSWIG_EXECUTABLE=D:/lib/swigwin-3.0.12/swig.exe\n-DPYTHON_EXECUTABLE=C:/Users/tao/AppData/Local/Programs/Python/Python35-32/python.exe \n-DPYTHON_LIBRARIES=C:/Users/tao/AppData/Local/Programs/Python/Python35-32/libs/python35.lib \n-Dtensorflow_ENABLE_GPU=ON \n-Dtensorflow_ENABLE_GRPC_SUPPORT=OFF\n-Dtensorflow_BUILD_SHARED_LIB=ON  \n\n2. Visual studio 2015:\nMSBuild /p:Configuration=Debug /p:Platform=x64 ALL_BUILD.vcxproj \nDescribe the problem\nI want to use Tensorflow in my Windows C++ application. Therefore I'm trying to build in Visual studio on a Windows system.\nWhether to support compiling DEBUG version.\nlogs\nfatal error C1083: Cannot open include file: 'tensorflow/core/framework/device_attributes.pb_text.h': No such file or directory (compiling source file C:\\tensorflow\\tensorflow\\core\\kernels\\captured_function.cc)", "body": "**Have I written custom code**  in /tensorflow/contrib/cmake/CMakeLists.txt\r\n```\r\nif\uff08tensorflow_OPTIMIZE_FOR_NATIVE_ARCH\uff09\r\n  include\uff08CheckCXXCompilerFlag\uff09\r\n  CHECK_CXX_COMPILER_FLAG\uff08\u201c - march = native\u201d COMPILER_OPT_ARCH_NATIVE_SUPPORTED\uff09\r\n  if\uff08COMPILER_OPT_ARCH_NATIVE_SUPPORTED\uff09\r\n    set\uff08CMAKE_CXX_FLAGS \u201c $ {CMAKE_CXX_FLAGS} -march = native\u201d\uff09\r\n  endif\uff08\uff09\r\nendif\uff08\uff09\r\n```\r\n\r\nchanged to\r\n\r\n```\r\nif (tensorflow_OPTIMIZE_FOR_NATIVE_ARCH)\r\n  include(CheckCXXCompilerFlag)\r\n  CHECK_CXX_COMPILER_FLAG(\"-march=native\" COMPILER_OPT_ARCH_NATIVE_SUPPORTED)\r\n  if (COMPILER_OPT_ARCH_NATIVE_SUPPORTED)\r\n    set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -march=native\")\r\n  else()\r\n    CHECK_CXX_COMPILER_FLAG(\"/arch:AVX\" COMPILER_OPT_ARCH_AVX_SUPPORTED)\r\n    if(COMPILER_OPT_ARCH_AVX_SUPPORTED)\r\n      set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} /arch:AVX\")\r\n    endif()\r\n  endif()\r\nendif()\r\n```\r\n\r\n**OS Platform and Distribution**    windows7 x64\r\n**TensorFlow installed from**    sourse\r\n**TensorFlow version**  r1.10\r\n**Bazel version** N/A\r\n**CUDA/cuDNN** version 9.0/Cudnn 7.0\r\n**GPU model and memory** 1080Ti / 11G\r\n**Exact command to reproduce**\r\n\r\n**1. Cmake build:**\r\n```\r\ncmake .. -A x64 -DCMAKE_BUILD_TYPE=Debug\r\n-T host=x64\r\n-DSWIG_EXECUTABLE=D:/lib/swigwin-3.0.12/swig.exe\r\n-DPYTHON_EXECUTABLE=C:/Users/tao/AppData/Local/Programs/Python/Python35-32/python.exe \r\n-DPYTHON_LIBRARIES=C:/Users/tao/AppData/Local/Programs/Python/Python35-32/libs/python35.lib \r\n-Dtensorflow_ENABLE_GPU=ON \r\n-Dtensorflow_ENABLE_GRPC_SUPPORT=OFF\r\n-Dtensorflow_BUILD_SHARED_LIB=ON  \r\n```\r\n\r\n**2. Visual studio 2015:**\r\n\r\n`MSBuild /p:Configuration=Debug /p:Platform=x64 ALL_BUILD.vcxproj\r\n`\r\n### Describe the problem\r\n\r\nI want to use Tensorflow in my Windows C++ application. Therefore I'm trying to build in Visual studio on a Windows system.\r\n\r\nWhether to support compiling DEBUG version.\r\n### logs\r\n```\r\nfatal error C1083: Cannot open include file: 'tensorflow/core/framework/device_attributes.pb_text.h': No such file or directory (compiling source file C:\\tensorflow\\tensorflow\\core\\kernels\\captured_function.cc)\r\n```"}