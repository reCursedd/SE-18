{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/300150863", "html_url": "https://github.com/tensorflow/tensorflow/issues/9793#issuecomment-300150863", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9793", "id": 300150863, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDE1MDg2Mw==", "user": {"login": "passerbydj", "id": 20178426, "node_id": "MDQ6VXNlcjIwMTc4NDI2", "avatar_url": "https://avatars1.githubusercontent.com/u/20178426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/passerbydj", "html_url": "https://github.com/passerbydj", "followers_url": "https://api.github.com/users/passerbydj/followers", "following_url": "https://api.github.com/users/passerbydj/following{/other_user}", "gists_url": "https://api.github.com/users/passerbydj/gists{/gist_id}", "starred_url": "https://api.github.com/users/passerbydj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/passerbydj/subscriptions", "organizations_url": "https://api.github.com/users/passerbydj/orgs", "repos_url": "https://api.github.com/users/passerbydj/repos", "events_url": "https://api.github.com/users/passerbydj/events{/privacy}", "received_events_url": "https://api.github.com/users/passerbydj/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-09T12:42:39Z", "updated_at": "2017-05-09T12:42:39Z", "author_association": "NONE", "body_html": "<p>codes in \"prepare_session\" of \"SessionManager\". After \" sess.run(init_op)\", the \"wait_for_session\" nodes will get true for \"_model_ready\", but init_fn have not finished.</p>\n<pre><code>    if not is_loaded_from_checkpoint:\n      if init_op is None and not init_fn and self._local_init_op is None:\n        raise RuntimeError(\"Model is not initialized and no init_op or \"\n                           \"init_fn or local_init_op was given\")\n      if init_op is not None:\n        sess.run(init_op, feed_dict=init_feed_dict)\n      if init_fn:\n        init_fn(sess)\n\n    local_init_success, msg = self._try_run_local_init_op(sess)\n    if not local_init_success:\n      raise RuntimeError(\n          \"Init operations did not make model ready for local_init.  \"\n          \"Init op: %s, init fn: %s, error: %s\" % (_maybe_name(init_op),\n                                                   init_fn,\n                                                   msg))\n\n    is_ready, msg = self._model_ready(sess)\n    if not is_ready:\n      raise RuntimeError(\n          \"Init operations did not make model ready.  \"\n          \"Init op: %s, init fn: %s, local_init_op: %s, error: %s\" %\n          (_maybe_name(init_op), init_fn, self._local_init_op, msg))\n    return sess\n</code></pre>", "body_text": "codes in \"prepare_session\" of \"SessionManager\". After \" sess.run(init_op)\", the \"wait_for_session\" nodes will get true for \"_model_ready\", but init_fn have not finished.\n    if not is_loaded_from_checkpoint:\n      if init_op is None and not init_fn and self._local_init_op is None:\n        raise RuntimeError(\"Model is not initialized and no init_op or \"\n                           \"init_fn or local_init_op was given\")\n      if init_op is not None:\n        sess.run(init_op, feed_dict=init_feed_dict)\n      if init_fn:\n        init_fn(sess)\n\n    local_init_success, msg = self._try_run_local_init_op(sess)\n    if not local_init_success:\n      raise RuntimeError(\n          \"Init operations did not make model ready for local_init.  \"\n          \"Init op: %s, init fn: %s, error: %s\" % (_maybe_name(init_op),\n                                                   init_fn,\n                                                   msg))\n\n    is_ready, msg = self._model_ready(sess)\n    if not is_ready:\n      raise RuntimeError(\n          \"Init operations did not make model ready.  \"\n          \"Init op: %s, init fn: %s, local_init_op: %s, error: %s\" %\n          (_maybe_name(init_op), init_fn, self._local_init_op, msg))\n    return sess", "body": "codes in \"prepare_session\" of \"SessionManager\". After \" sess.run(init_op)\", the \"wait_for_session\" nodes will get true for \"_model_ready\", but init_fn have not finished.\r\n```\r\n    if not is_loaded_from_checkpoint:\r\n      if init_op is None and not init_fn and self._local_init_op is None:\r\n        raise RuntimeError(\"Model is not initialized and no init_op or \"\r\n                           \"init_fn or local_init_op was given\")\r\n      if init_op is not None:\r\n        sess.run(init_op, feed_dict=init_feed_dict)\r\n      if init_fn:\r\n        init_fn(sess)\r\n\r\n    local_init_success, msg = self._try_run_local_init_op(sess)\r\n    if not local_init_success:\r\n      raise RuntimeError(\r\n          \"Init operations did not make model ready for local_init.  \"\r\n          \"Init op: %s, init fn: %s, error: %s\" % (_maybe_name(init_op),\r\n                                                   init_fn,\r\n                                                   msg))\r\n\r\n    is_ready, msg = self._model_ready(sess)\r\n    if not is_ready:\r\n      raise RuntimeError(\r\n          \"Init operations did not make model ready.  \"\r\n          \"Init op: %s, init fn: %s, local_init_op: %s, error: %s\" %\r\n          (_maybe_name(init_op), init_fn, self._local_init_op, msg))\r\n    return sess\r\n```"}