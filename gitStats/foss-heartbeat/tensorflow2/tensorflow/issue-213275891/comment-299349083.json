{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/299349083", "html_url": "https://github.com/tensorflow/tensorflow/issues/8268#issuecomment-299349083", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8268", "id": 299349083, "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTM0OTA4Mw==", "user": {"login": "kdxtb", "id": 23332629, "node_id": "MDQ6VXNlcjIzMzMyNjI5", "avatar_url": "https://avatars1.githubusercontent.com/u/23332629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdxtb", "html_url": "https://github.com/kdxtb", "followers_url": "https://api.github.com/users/kdxtb/followers", "following_url": "https://api.github.com/users/kdxtb/following{/other_user}", "gists_url": "https://api.github.com/users/kdxtb/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdxtb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdxtb/subscriptions", "organizations_url": "https://api.github.com/users/kdxtb/orgs", "repos_url": "https://api.github.com/users/kdxtb/repos", "events_url": "https://api.github.com/users/kdxtb/events{/privacy}", "received_events_url": "https://api.github.com/users/kdxtb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-05T01:10:03Z", "updated_at": "2017-05-05T01:10:03Z", "author_association": "NONE", "body_html": "<p>hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20085789\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/satok16\">@satok16</a>,</p>\n<p>I also got some problems in using HVX accelaration.<br>\nhere are the tools and enviroments info:<br>\nHardware: Intrinsyc\u2019s Open\u2010Q\u2122 820 Development Kit<br>\nOS: Ubuntu 16.04 64bits<br>\nAndroid Version: 6.0<br>\nHexagon SDK 3.0<br>\nNDK Version: android-ndk-r10d  as tool in Hexagon SDK<br>\nI also follow the description in tensorflow/tree/master/tensorflow/contrib/hvx, running script like this 'QUALCOMM_SDK=\"/home/tff/Qualcomm/Hexagon_SDK/3.0\" NDK_ROOT=\"/home/tff/Qualcomm/Hexagon_SDK/3.0/tools/android-ndk-r10d\" ./tensorflow/contrib/makefile/samples/build_and_run_inception_hexagon.sh -p'. But it failed, what can I do to get it right?</p>\n<p>The printed log:<br>\nRunning main() from test_main.cc<br>\nNote: Google Test filter = GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime<br>\n[==========] Running 1 test from 1 test case.<br>\n[----------] Global test environment set-up.<br>\n[----------] 1 test from GraphTransferer<br>\n[ RUN      ] GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime<br>\nnative : hexagon_graph_execution_test.cc:446 Fuse and run inception v3 on hexagon with tf runtime<br>\nnative : hexagon_graph_execution_test.cc:72 Hexagon controller version is 90<br>\nnative : hexagon_graph_execution_test.cc:122 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes<br>\nnative : hexagon_graph_execution_test.cc:128 header size = 54<br>\nnative : hexagon_graph_execution_test.cc:130 image size = 40<br>\nnative : hexagon_graph_execution_test.cc:132 width = 299<br>\nnative : hexagon_graph_execution_test.cc:134 height = -299<br>\nnative : hexagon_graph_execution_test.cc:458 Ioading image finished.<br>\nnative : hexagon_graph_execution_test.cc:465 Build fused graph<br>\ncan't determine number of CPU cores: assuming 4<br>\ncan't determine number of CPU cores: assuming 4<br>\nnative : op_def_util.cc:332 Op PlaceholderV2 is deprecated. It will cease to work in GraphDef version 23. Placeholder now behaves the same as PlaceholderV2..<br>\nnative : hexagon_graph_execution_test.cc:122 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes<br>\nnative : hexagon_graph_execution_test.cc:128 header size = 54<br>\nnative : hexagon_graph_execution_test.cc:130 image size = 40<br>\nnative : hexagon_graph_execution_test.cc:132 width = 299<br>\nnative : hexagon_graph_execution_test.cc:134 height = -299<br>\nnative : hexagon_graph_execution_test.cc:262 Ioading image finished.<br>\nnative : hexagon_graph_execution_test.cc:170 Ioading image finished.<br>\nnative : hexagon_graph_execution_test.cc:174 Copy data to tensor.<br>\nnative : hexagon_graph_execution_test.cc:284 Run graph<br>\nInit hexagon with max attributes (Controller version = 91)<br>\nnative : hexagon_control_wrapper.cc:252 Setup graph completed<br>\nPrepare failed! returned 0xffffffff</p>\n<p>Execute graph!<br>\nExecution failed!<br>\nexecute got err: -1</p>\n<p>Execution failed<br>\nFailed to read data.<br>\nnative : hexagon_graph_execution_test.cc:291 Output byte size = 4032<br>\nnative : hexagon_graph_execution_test.cc:292 Output shape = [1,1008]<br>\nnative : graph_transfer_utils.cc:46 === Dump ranking ===<br>\nnative : graph_transfer_utils.cc:49 0: 1000, dumbbell, 0<br>\nnative : graph_transfer_utils.cc:49 1: 999, carbonara, 0<br>\nnative : graph_transfer_utils.cc:49 2: 998, stole, 0<br>\nnative : graph_transfer_utils.cc:49 3: 997, rubber eraser, 0<br>\nnative : graph_transfer_utils.cc:49 4: 996, coffee mug, 0<br>\nnative : graph_transfer_utils.cc:49 5: 995, flagpole, 0<br>\nnative : graph_transfer_utils.cc:49 6: 994, parallel bars, 0<br>\nnative : graph_transfer_utils.cc:49 7: 993, cheeseburger, 0<br>\nnative : graph_transfer_utils.cc:49 8: 992, bubble, 0<br>\nnative : graph_transfer_utils.cc:49 9: 991, beaker, 0<br>\nFinalize hexagon<br>\n[       OK ] GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime (6799 ms)<br>\n[----------] 1 test from GraphTransferer (6801 ms total)</p>\n<p>[----------] Global test environment tear-down<br>\n[==========] 1 test from 1 test case ran. (6803 ms total)<br>\n[  PASSED  ] 1 test.</p>", "body_text": "hi @satok16,\nI also got some problems in using HVX accelaration.\nhere are the tools and enviroments info:\nHardware: Intrinsyc\u2019s Open\u2010Q\u2122 820 Development Kit\nOS: Ubuntu 16.04 64bits\nAndroid Version: 6.0\nHexagon SDK 3.0\nNDK Version: android-ndk-r10d  as tool in Hexagon SDK\nI also follow the description in tensorflow/tree/master/tensorflow/contrib/hvx, running script like this 'QUALCOMM_SDK=\"/home/tff/Qualcomm/Hexagon_SDK/3.0\" NDK_ROOT=\"/home/tff/Qualcomm/Hexagon_SDK/3.0/tools/android-ndk-r10d\" ./tensorflow/contrib/makefile/samples/build_and_run_inception_hexagon.sh -p'. But it failed, what can I do to get it right?\nThe printed log:\nRunning main() from test_main.cc\nNote: Google Test filter = GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from GraphTransferer\n[ RUN      ] GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime\nnative : hexagon_graph_execution_test.cc:446 Fuse and run inception v3 on hexagon with tf runtime\nnative : hexagon_graph_execution_test.cc:72 Hexagon controller version is 90\nnative : hexagon_graph_execution_test.cc:122 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes\nnative : hexagon_graph_execution_test.cc:128 header size = 54\nnative : hexagon_graph_execution_test.cc:130 image size = 40\nnative : hexagon_graph_execution_test.cc:132 width = 299\nnative : hexagon_graph_execution_test.cc:134 height = -299\nnative : hexagon_graph_execution_test.cc:458 Ioading image finished.\nnative : hexagon_graph_execution_test.cc:465 Build fused graph\ncan't determine number of CPU cores: assuming 4\ncan't determine number of CPU cores: assuming 4\nnative : op_def_util.cc:332 Op PlaceholderV2 is deprecated. It will cease to work in GraphDef version 23. Placeholder now behaves the same as PlaceholderV2..\nnative : hexagon_graph_execution_test.cc:122 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes\nnative : hexagon_graph_execution_test.cc:128 header size = 54\nnative : hexagon_graph_execution_test.cc:130 image size = 40\nnative : hexagon_graph_execution_test.cc:132 width = 299\nnative : hexagon_graph_execution_test.cc:134 height = -299\nnative : hexagon_graph_execution_test.cc:262 Ioading image finished.\nnative : hexagon_graph_execution_test.cc:170 Ioading image finished.\nnative : hexagon_graph_execution_test.cc:174 Copy data to tensor.\nnative : hexagon_graph_execution_test.cc:284 Run graph\nInit hexagon with max attributes (Controller version = 91)\nnative : hexagon_control_wrapper.cc:252 Setup graph completed\nPrepare failed! returned 0xffffffff\nExecute graph!\nExecution failed!\nexecute got err: -1\nExecution failed\nFailed to read data.\nnative : hexagon_graph_execution_test.cc:291 Output byte size = 4032\nnative : hexagon_graph_execution_test.cc:292 Output shape = [1,1008]\nnative : graph_transfer_utils.cc:46 === Dump ranking ===\nnative : graph_transfer_utils.cc:49 0: 1000, dumbbell, 0\nnative : graph_transfer_utils.cc:49 1: 999, carbonara, 0\nnative : graph_transfer_utils.cc:49 2: 998, stole, 0\nnative : graph_transfer_utils.cc:49 3: 997, rubber eraser, 0\nnative : graph_transfer_utils.cc:49 4: 996, coffee mug, 0\nnative : graph_transfer_utils.cc:49 5: 995, flagpole, 0\nnative : graph_transfer_utils.cc:49 6: 994, parallel bars, 0\nnative : graph_transfer_utils.cc:49 7: 993, cheeseburger, 0\nnative : graph_transfer_utils.cc:49 8: 992, bubble, 0\nnative : graph_transfer_utils.cc:49 9: 991, beaker, 0\nFinalize hexagon\n[       OK ] GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime (6799 ms)\n[----------] 1 test from GraphTransferer (6801 ms total)\n[----------] Global test environment tear-down\n[==========] 1 test from 1 test case ran. (6803 ms total)\n[  PASSED  ] 1 test.", "body": "hi @satok16,\r\n\r\nI also got some problems in using HVX accelaration.  \r\nhere are the tools and enviroments info:\r\nHardware: Intrinsyc\u2019s Open\u2010Q\u2122 820 Development Kit\r\nOS: Ubuntu 16.04 64bits\r\nAndroid Version: 6.0\r\nHexagon SDK 3.0\r\nNDK Version: android-ndk-r10d  as tool in Hexagon SDK\r\nI also follow the description in tensorflow/tree/master/tensorflow/contrib/hvx, running script like this 'QUALCOMM_SDK=\"/home/tff/Qualcomm/Hexagon_SDK/3.0\" NDK_ROOT=\"/home/tff/Qualcomm/Hexagon_SDK/3.0/tools/android-ndk-r10d\" ./tensorflow/contrib/makefile/samples/build_and_run_inception_hexagon.sh -p'. But it failed, what can I do to get it right?\r\n\r\nThe printed log:\r\nRunning main() from test_main.cc\r\nNote: Google Test filter = GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime\r\n[==========] Running 1 test from 1 test case.\r\n[----------] Global test environment set-up.\r\n[----------] 1 test from GraphTransferer\r\n[ RUN      ] GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime\r\nnative : hexagon_graph_execution_test.cc:446 Fuse and run inception v3 on hexagon with tf runtime\r\nnative : hexagon_graph_execution_test.cc:72 Hexagon controller version is 90\r\nnative : hexagon_graph_execution_test.cc:122 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes\r\nnative : hexagon_graph_execution_test.cc:128 header size = 54\r\nnative : hexagon_graph_execution_test.cc:130 image size = 40\r\nnative : hexagon_graph_execution_test.cc:132 width = 299\r\nnative : hexagon_graph_execution_test.cc:134 height = -299\r\nnative : hexagon_graph_execution_test.cc:458 Ioading image finished.\r\nnative : hexagon_graph_execution_test.cc:465 Build fused graph\r\ncan't determine number of CPU cores: assuming 4\r\ncan't determine number of CPU cores: assuming 4\r\nnative : op_def_util.cc:332 Op PlaceholderV2 is deprecated. It will cease to work in GraphDef version 23. Placeholder now behaves the same as PlaceholderV2..\r\nnative : hexagon_graph_execution_test.cc:122 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes\r\nnative : hexagon_graph_execution_test.cc:128 header size = 54\r\nnative : hexagon_graph_execution_test.cc:130 image size = 40\r\nnative : hexagon_graph_execution_test.cc:132 width = 299\r\nnative : hexagon_graph_execution_test.cc:134 height = -299\r\nnative : hexagon_graph_execution_test.cc:262 Ioading image finished.\r\nnative : hexagon_graph_execution_test.cc:170 Ioading image finished.\r\nnative : hexagon_graph_execution_test.cc:174 Copy data to tensor.\r\nnative : hexagon_graph_execution_test.cc:284 Run graph\r\nInit hexagon with max attributes (Controller version = 91)\r\nnative : hexagon_control_wrapper.cc:252 Setup graph completed\r\nPrepare failed! returned 0xffffffff\r\n\r\nExecute graph!\r\nExecution failed!\r\nexecute got err: -1\r\n\r\nExecution failed\r\nFailed to read data.\r\nnative : hexagon_graph_execution_test.cc:291 Output byte size = 4032\r\nnative : hexagon_graph_execution_test.cc:292 Output shape = [1,1008]\r\nnative : graph_transfer_utils.cc:46 === Dump ranking ===\r\nnative : graph_transfer_utils.cc:49 0: 1000, dumbbell, 0\r\nnative : graph_transfer_utils.cc:49 1: 999, carbonara, 0\r\nnative : graph_transfer_utils.cc:49 2: 998, stole, 0\r\nnative : graph_transfer_utils.cc:49 3: 997, rubber eraser, 0\r\nnative : graph_transfer_utils.cc:49 4: 996, coffee mug, 0\r\nnative : graph_transfer_utils.cc:49 5: 995, flagpole, 0\r\nnative : graph_transfer_utils.cc:49 6: 994, parallel bars, 0\r\nnative : graph_transfer_utils.cc:49 7: 993, cheeseburger, 0\r\nnative : graph_transfer_utils.cc:49 8: 992, bubble, 0\r\nnative : graph_transfer_utils.cc:49 9: 991, beaker, 0\r\nFinalize hexagon\r\n[       OK ] GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime (6799 ms)\r\n[----------] 1 test from GraphTransferer (6801 ms total)\r\n\r\n[----------] Global test environment tear-down\r\n[==========] 1 test from 1 test case ran. (6803 ms total)\r\n[  PASSED  ] 1 test."}