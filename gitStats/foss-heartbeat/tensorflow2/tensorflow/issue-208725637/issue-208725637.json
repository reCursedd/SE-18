{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7669", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7669/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7669/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7669/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7669", "id": 208725637, "node_id": "MDU6SXNzdWUyMDg3MjU2Mzc=", "number": 7669, "title": "The tutorial \"Logging and Monitoring Basics with tf.contrib.learn\" has error.", "user": {"login": "lienhua34", "id": 1691680, "node_id": "MDQ6VXNlcjE2OTE2ODA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1691680?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lienhua34", "html_url": "https://github.com/lienhua34", "followers_url": "https://api.github.com/users/lienhua34/followers", "following_url": "https://api.github.com/users/lienhua34/following{/other_user}", "gists_url": "https://api.github.com/users/lienhua34/gists{/gist_id}", "starred_url": "https://api.github.com/users/lienhua34/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lienhua34/subscriptions", "organizations_url": "https://api.github.com/users/lienhua34/orgs", "repos_url": "https://api.github.com/users/lienhua34/repos", "events_url": "https://api.github.com/users/lienhua34/events{/privacy}", "received_events_url": "https://api.github.com/users/lienhua34/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": {"login": "xiejw", "id": 1184671, "node_id": "MDQ6VXNlcjExODQ2NzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1184671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiejw", "html_url": "https://github.com/xiejw", "followers_url": "https://api.github.com/users/xiejw/followers", "following_url": "https://api.github.com/users/xiejw/following{/other_user}", "gists_url": "https://api.github.com/users/xiejw/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiejw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiejw/subscriptions", "organizations_url": "https://api.github.com/users/xiejw/orgs", "repos_url": "https://api.github.com/users/xiejw/repos", "events_url": "https://api.github.com/users/xiejw/events{/privacy}", "received_events_url": "https://api.github.com/users/xiejw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xiejw", "id": 1184671, "node_id": "MDQ6VXNlcjExODQ2NzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1184671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiejw", "html_url": "https://github.com/xiejw", "followers_url": "https://api.github.com/users/xiejw/followers", "following_url": "https://api.github.com/users/xiejw/following{/other_user}", "gists_url": "https://api.github.com/users/xiejw/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiejw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiejw/subscriptions", "organizations_url": "https://api.github.com/users/xiejw/orgs", "repos_url": "https://api.github.com/users/xiejw/repos", "events_url": "https://api.github.com/users/xiejw/events{/privacy}", "received_events_url": "https://api.github.com/users/xiejw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 28, "created_at": "2017-02-19T15:52:17Z", "updated_at": "2018-11-15T19:00:58Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>When I used the code snippet in the section \"Customizing the Evaluation Metrics with MetricSpec\" of the tutorial <a href=\"https://www.tensorflow.org/get_started/monitors\" rel=\"nofollow\">Logging and Monitoring Basics with tf.contrib.learn</a>. the code snippet is</p>\n<div class=\"highlight highlight-source-python\"><pre>validation_metrics <span class=\"pl-k\">=</span> {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>accuracy<span class=\"pl-pds\">\"</span></span>:\n        tf.contrib.learn.metric_spec.MetricSpec(\n            <span class=\"pl-v\">metric_fn</span><span class=\"pl-k\">=</span>tf.contrib.metrics.streaming_accuracy,\n            <span class=\"pl-v\">prediction_key</span><span class=\"pl-k\">=</span>tf.contrib.learn.prediction_key.PredictionKey.\n            <span class=\"pl-c1\">CLASSES</span>),\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>precision<span class=\"pl-pds\">\"</span></span>:\n        tf.contrib.learn.metric_spec.MetricSpec(\n            <span class=\"pl-v\">metric_fn</span><span class=\"pl-k\">=</span>tf.contrib.metrics.streaming_precision,\n            <span class=\"pl-v\">prediction_key</span><span class=\"pl-k\">=</span>tf.contrib.learn.prediction_key.PredictionKey.\n            <span class=\"pl-c1\">CLASSES</span>),\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>recall<span class=\"pl-pds\">\"</span></span>:\n        tf.contrib.learn.metric_spec.MetricSpec(\n            <span class=\"pl-v\">metric_fn</span><span class=\"pl-k\">=</span>tf.contrib.metrics.streaming_recall,\n            <span class=\"pl-v\">prediction_key</span><span class=\"pl-k\">=</span>tf.contrib.learn.prediction_key.PredictionKey.\n            <span class=\"pl-c1\">CLASSES</span>)\n}</pre></div>\n<p>My tensorflow version is r1.0 . When I run my program, it print the following error:</p>\n<div class=\"highlight highlight-source-shell\"><pre>$ python iris.py \nTraceback (most recent call last):\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>iris.py<span class=\"pl-pds\">\"</span></span>, line 72, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    <span class=\"pl-en\">tf.app.run</span>()\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Library/Python/2.7/site-packages/tensorflow/python/platform/app.py<span class=\"pl-pds\">\"</span></span>, line 44, <span class=\"pl-k\">in</span> run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>iris.py<span class=\"pl-pds\">\"</span></span>, line 24, <span class=\"pl-k\">in</span> main\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>accuracy<span class=\"pl-pds\">\"</span></span>: tf.contrib.learn.metric_spec.MetricSpec(\nAttributeError: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module<span class=\"pl-pds\">'</span></span> object has no attribute <span class=\"pl-s\"><span class=\"pl-pds\">'</span>metric_spec<span class=\"pl-pds\">'</span></span></pre></div>\n<p>I found that the class <code>tf.contrib.learn.metric_spec.MetricSpec</code> has been renamed to <a href=\"https://www.tensorflow.org/api_docs/python/tf/contrib/learn/MetricSpec\" rel=\"nofollow\"><code>tf.contrib.learn.MetricSpec</code></a>.</p>\n<p>The class <code>tf.contrib.learn.prediction_key.PredictionKey</code> also has been renamed to <a href=\"https://www.tensorflow.org/api_docs/python/tf/contrib/learn/PredictionKey\" rel=\"nofollow\"><code>tf.contrib.learn.PredictionKey</code></a>.</p>", "body_text": "When I used the code snippet in the section \"Customizing the Evaluation Metrics with MetricSpec\" of the tutorial Logging and Monitoring Basics with tf.contrib.learn. the code snippet is\nvalidation_metrics = {\n    \"accuracy\":\n        tf.contrib.learn.metric_spec.MetricSpec(\n            metric_fn=tf.contrib.metrics.streaming_accuracy,\n            prediction_key=tf.contrib.learn.prediction_key.PredictionKey.\n            CLASSES),\n    \"precision\":\n        tf.contrib.learn.metric_spec.MetricSpec(\n            metric_fn=tf.contrib.metrics.streaming_precision,\n            prediction_key=tf.contrib.learn.prediction_key.PredictionKey.\n            CLASSES),\n    \"recall\":\n        tf.contrib.learn.metric_spec.MetricSpec(\n            metric_fn=tf.contrib.metrics.streaming_recall,\n            prediction_key=tf.contrib.learn.prediction_key.PredictionKey.\n            CLASSES)\n}\nMy tensorflow version is r1.0 . When I run my program, it print the following error:\n$ python iris.py \nTraceback (most recent call last):\n  File \"iris.py\", line 72, in <module>\n    tf.app.run()\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/platform/app.py\", line 44, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"iris.py\", line 24, in main\n    \"accuracy\": tf.contrib.learn.metric_spec.MetricSpec(\nAttributeError: 'module' object has no attribute 'metric_spec'\nI found that the class tf.contrib.learn.metric_spec.MetricSpec has been renamed to tf.contrib.learn.MetricSpec.\nThe class tf.contrib.learn.prediction_key.PredictionKey also has been renamed to tf.contrib.learn.PredictionKey.", "body": "When I used the code snippet in the section \"Customizing the Evaluation Metrics with MetricSpec\" of the tutorial [Logging and Monitoring Basics with tf.contrib.learn](https://www.tensorflow.org/get_started/monitors). the code snippet is \r\n\r\n```python\r\nvalidation_metrics = {\r\n    \"accuracy\":\r\n        tf.contrib.learn.metric_spec.MetricSpec(\r\n            metric_fn=tf.contrib.metrics.streaming_accuracy,\r\n            prediction_key=tf.contrib.learn.prediction_key.PredictionKey.\r\n            CLASSES),\r\n    \"precision\":\r\n        tf.contrib.learn.metric_spec.MetricSpec(\r\n            metric_fn=tf.contrib.metrics.streaming_precision,\r\n            prediction_key=tf.contrib.learn.prediction_key.PredictionKey.\r\n            CLASSES),\r\n    \"recall\":\r\n        tf.contrib.learn.metric_spec.MetricSpec(\r\n            metric_fn=tf.contrib.metrics.streaming_recall,\r\n            prediction_key=tf.contrib.learn.prediction_key.PredictionKey.\r\n            CLASSES)\r\n}\r\n```\r\n\r\nMy tensorflow version is r1.0 . When I run my program, it print the following error:\r\n\r\n```shell\r\n$ python iris.py \r\nTraceback (most recent call last):\r\n  File \"iris.py\", line 72, in <module>\r\n    tf.app.run()\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/platform/app.py\", line 44, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"iris.py\", line 24, in main\r\n    \"accuracy\": tf.contrib.learn.metric_spec.MetricSpec(\r\nAttributeError: 'module' object has no attribute 'metric_spec'\r\n```\r\n\r\nI found that the class `tf.contrib.learn.metric_spec.MetricSpec` has been renamed to [`tf.contrib.learn.MetricSpec`](https://www.tensorflow.org/api_docs/python/tf/contrib/learn/MetricSpec). \r\n\r\nThe class `tf.contrib.learn.prediction_key.PredictionKey` also has been renamed to [`tf.contrib.learn.PredictionKey`](https://www.tensorflow.org/api_docs/python/tf/contrib/learn/PredictionKey)."}