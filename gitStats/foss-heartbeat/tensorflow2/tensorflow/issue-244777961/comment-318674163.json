{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/318674163", "html_url": "https://github.com/tensorflow/tensorflow/issues/11674#issuecomment-318674163", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11674", "id": 318674163, "node_id": "MDEyOklzc3VlQ29tbWVudDMxODY3NDE2Mw==", "user": {"login": "michaelpetruzzellocivicom", "id": 12663419, "node_id": "MDQ6VXNlcjEyNjYzNDE5", "avatar_url": "https://avatars3.githubusercontent.com/u/12663419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelpetruzzellocivicom", "html_url": "https://github.com/michaelpetruzzellocivicom", "followers_url": "https://api.github.com/users/michaelpetruzzellocivicom/followers", "following_url": "https://api.github.com/users/michaelpetruzzellocivicom/following{/other_user}", "gists_url": "https://api.github.com/users/michaelpetruzzellocivicom/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelpetruzzellocivicom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelpetruzzellocivicom/subscriptions", "organizations_url": "https://api.github.com/users/michaelpetruzzellocivicom/orgs", "repos_url": "https://api.github.com/users/michaelpetruzzellocivicom/repos", "events_url": "https://api.github.com/users/michaelpetruzzellocivicom/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelpetruzzellocivicom/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-28T14:55:29Z", "updated_at": "2017-07-28T14:59:58Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8016073\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/nkashy1\">@nkashy1</a></p>\n<p>From my understanding of export_savedmodel on custom models you will need to work with feature dicts for the export to work.</p>\n<p>I came across this same issue as I just pass tensors to the model. So what I did was check to see what type of features are being passed in (straight tensors or dict of features). If it is just tensors, do the normal code. If it is the features dict, then I convert it to tensors using input_from_feature_columns.</p>\n<pre><code>logits = features\nif type(features) is dict:\n            input_layer = tensorflow.contrib.layers.input_from_feature_columns(features, self.feature_columns)\n            logits = input_layer\n</code></pre>", "body_text": "@nkashy1\nFrom my understanding of export_savedmodel on custom models you will need to work with feature dicts for the export to work.\nI came across this same issue as I just pass tensors to the model. So what I did was check to see what type of features are being passed in (straight tensors or dict of features). If it is just tensors, do the normal code. If it is the features dict, then I convert it to tensors using input_from_feature_columns.\nlogits = features\nif type(features) is dict:\n            input_layer = tensorflow.contrib.layers.input_from_feature_columns(features, self.feature_columns)\n            logits = input_layer", "body": "@nkashy1 \r\n\r\nFrom my understanding of export_savedmodel on custom models you will need to work with feature dicts for the export to work.\r\n\r\nI came across this same issue as I just pass tensors to the model. So what I did was check to see what type of features are being passed in (straight tensors or dict of features). If it is just tensors, do the normal code. If it is the features dict, then I convert it to tensors using input_from_feature_columns.\r\n```\r\nlogits = features\r\nif type(features) is dict:\r\n            input_layer = tensorflow.contrib.layers.input_from_feature_columns(features, self.feature_columns)\r\n            logits = input_layer\r\n```"}