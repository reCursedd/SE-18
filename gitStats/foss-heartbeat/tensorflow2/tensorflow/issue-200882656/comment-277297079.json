{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/277297079", "html_url": "https://github.com/tensorflow/tensorflow/pull/6864#issuecomment-277297079", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6864", "id": 277297079, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzI5NzA3OQ==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-03T16:41:04Z", "updated_at": "2017-02-03T16:42:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Yes, that's the path I meant, updated. Correct, I don't think Martin meant for you to move existing functionality to <code>contrib</code>, just the new addition.</p>\n<p>For example of existing placement consider locations of existing hooks:</p>\n<p>Official \"basic_session_run_hooks\"<br>\n<code>tensorflow/python/training/basic_session_run_hooks.py</code></p>\n<p>Unofficial hooks that should at some point be merged into file above<br>\n<code>tensorflow/contrib/learn/python/learn/basic_session_run_hooks.py </code></p>\n<p>Currently your path is <code>tensorflow/contrib/hooks/python/hooks/profiler_hook.py</code> which means that for integration it would be moved to <code>tensorflow/python/hooks/profiler_hook.py</code>, which would create a new package <code>python/hooks</code> in the TensorFlow repo.</p>\n<p>To keep hooks under <code>python/learn</code>, you could use following locations</p>\n<ol>\n<li>\n<p>Add to existing <code>learn</code> project, modify <code>basic_session_run_hooks.py</code><br>\n<code>tensorflow/contrib/learn/python/learn/basic_session_run_hooks.py </code></p>\n</li>\n<li>\n<p>Move to <code>hooks</code> project, reuse <code>basic_session_run_hooks.py</code> filename<br>\n<code>tensorflow/contrib/hooks/python/learn/basic_session_run_hooks.py </code></p>\n</li>\n<li>\n<p>Move to <code>hooks</code> project, use new filename<br>\n<code>tensorflow/contrib/hooks/python/learn/profiler_hook.py </code></p>\n</li>\n</ol>\n<p>I think your current solution is closest to 3.</p>", "body_text": "Yes, that's the path I meant, updated. Correct, I don't think Martin meant for you to move existing functionality to contrib, just the new addition.\nFor example of existing placement consider locations of existing hooks:\nOfficial \"basic_session_run_hooks\"\ntensorflow/python/training/basic_session_run_hooks.py\nUnofficial hooks that should at some point be merged into file above\ntensorflow/contrib/learn/python/learn/basic_session_run_hooks.py \nCurrently your path is tensorflow/contrib/hooks/python/hooks/profiler_hook.py which means that for integration it would be moved to tensorflow/python/hooks/profiler_hook.py, which would create a new package python/hooks in the TensorFlow repo.\nTo keep hooks under python/learn, you could use following locations\n\n\nAdd to existing learn project, modify basic_session_run_hooks.py\ntensorflow/contrib/learn/python/learn/basic_session_run_hooks.py \n\n\nMove to hooks project, reuse basic_session_run_hooks.py filename\ntensorflow/contrib/hooks/python/learn/basic_session_run_hooks.py \n\n\nMove to hooks project, use new filename\ntensorflow/contrib/hooks/python/learn/profiler_hook.py \n\n\nI think your current solution is closest to 3.", "body": "Yes, that's the path I meant, updated. Correct, I don't think Martin meant for you to move existing functionality to `contrib`, just the new addition.\r\n\r\nFor example of existing placement consider locations of existing hooks:\r\n\r\nOfficial \"basic_session_run_hooks\"\r\n`tensorflow/python/training/basic_session_run_hooks.py`\r\n\r\nUnofficial hooks that should at some point be merged into file above\r\n`tensorflow/contrib/learn/python/learn/basic_session_run_hooks.py `\r\n\r\nCurrently your path is `tensorflow/contrib/hooks/python/hooks/profiler_hook.py` which means that for integration it would be moved to `tensorflow/python/hooks/profiler_hook.py`, which would create a new package `python/hooks` in the TensorFlow repo.\r\n\r\nTo keep hooks under `python/learn`, you could use following locations\r\n\r\n1. Add to existing `learn` project, modify `basic_session_run_hooks.py`\r\n`tensorflow/contrib/learn/python/learn/basic_session_run_hooks.py `\r\n\r\n2. Move to `hooks` project, reuse `basic_session_run_hooks.py` filename\r\n`tensorflow/contrib/hooks/python/learn/basic_session_run_hooks.py `\r\n\r\n3. Move to `hooks` project, use new filename\r\n`tensorflow/contrib/hooks/python/learn/profiler_hook.py `\r\n\r\nI think your current solution is closest to 3."}