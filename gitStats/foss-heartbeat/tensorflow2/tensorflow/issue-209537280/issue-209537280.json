{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7789", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7789/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7789/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7789/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7789", "id": 209537280, "node_id": "MDU6SXNzdWUyMDk1MzcyODA=", "number": 7789, "title": "Generalize TensorFlowTestCase to handle arbitrary devices", "user": {"login": "spmckenney", "id": 13424614, "node_id": "MDQ6VXNlcjEzNDI0NjE0", "avatar_url": "https://avatars3.githubusercontent.com/u/13424614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spmckenney", "html_url": "https://github.com/spmckenney", "followers_url": "https://api.github.com/users/spmckenney/followers", "following_url": "https://api.github.com/users/spmckenney/following{/other_user}", "gists_url": "https://api.github.com/users/spmckenney/gists{/gist_id}", "starred_url": "https://api.github.com/users/spmckenney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spmckenney/subscriptions", "organizations_url": "https://api.github.com/users/spmckenney/orgs", "repos_url": "https://api.github.com/users/spmckenney/repos", "events_url": "https://api.github.com/users/spmckenney/events{/privacy}", "received_events_url": "https://api.github.com/users/spmckenney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-02-22T18:17:18Z", "updated_at": "2017-03-03T23:37:01Z", "closed_at": "2017-03-03T23:37:01Z", "author_association": "NONE", "body_html": "<p>Currently, TensorFlowTestCase can only handle CPU and GPU devices.</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">TensorFlowTestCase</span>(<span class=\"pl-e\">googletest</span>.<span class=\"pl-e\">TestCase</span>):\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_session</span>(<span class=\"pl-smi\"><span class=\"pl-smi\">self</span></span>,\n                   <span class=\"pl-smi\">graph</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">config</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">use_gpu</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">False</span>,\n                   <span class=\"pl-smi\">force_gpu</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">False</span>)</pre></div>\n<p>We are currently extending TensorFlow to run on another device and would like to update the signature to handle arbitrary devices. This could be done by changing the signature as follows, for example:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">TensorFlowTestCase</span>(<span class=\"pl-e\">googletest</span>.<span class=\"pl-e\">TestCase</span>):\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_session</span>(<span class=\"pl-smi\"><span class=\"pl-smi\">self</span></span>,\n                   <span class=\"pl-smi\">graph</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">config</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">use_device</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">force_device</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">False</span>)</pre></div>\n<p>This would certainly have some significant ripples in the test cases, so I would like like to get some feedback before I start anything.</p>\n<p>Thoughts?</p>", "body_text": "Currently, TensorFlowTestCase can only handle CPU and GPU devices.\nclass TensorFlowTestCase(googletest.TestCase):\n  def test_session(self,\n                   graph=None,\n                   config=None,\n                   use_gpu=False,\n                   force_gpu=False)\nWe are currently extending TensorFlow to run on another device and would like to update the signature to handle arbitrary devices. This could be done by changing the signature as follows, for example:\nclass TensorFlowTestCase(googletest.TestCase):\n  def test_session(self,\n                   graph=None,\n                   config=None,\n                   use_device=None,\n                   force_device=False)\nThis would certainly have some significant ripples in the test cases, so I would like like to get some feedback before I start anything.\nThoughts?", "body": "Currently, TensorFlowTestCase can only handle CPU and GPU devices.\r\n\r\n```python\r\nclass TensorFlowTestCase(googletest.TestCase):\r\n  def test_session(self,\r\n                   graph=None,\r\n                   config=None,\r\n                   use_gpu=False,\r\n                   force_gpu=False)\r\n```\r\n\r\nWe are currently extending TensorFlow to run on another device and would like to update the signature to handle arbitrary devices. This could be done by changing the signature as follows, for example:\r\n\r\n```python\r\nclass TensorFlowTestCase(googletest.TestCase):\r\n  def test_session(self,\r\n                   graph=None,\r\n                   config=None,\r\n                   use_device=None,\r\n                   force_device=False)\r\n```\r\n\r\nThis would certainly have some significant ripples in the test cases, so I would like like to get some feedback before I start anything.\r\n\r\nThoughts?\r\n"}