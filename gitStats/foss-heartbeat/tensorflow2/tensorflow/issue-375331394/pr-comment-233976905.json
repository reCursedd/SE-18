{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/233976905", "pull_request_review_id": 175516747, "id": 233976905, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzk3NjkwNQ==", "diff_hunk": "@@ -59,6 +59,23 @@ def __init__(self, weight_decay, *args, **kwargs):\n   Note that this extension decays weights BEFORE applying the update based\n   on the gradient, i.e. this extension only has the desired behaviour for\n   optimizers which do not depend on the value of'var' in the update step!\n+  \n+  Note: when applying a decay to the learning rate, be sure to manually apply\n+  the decay to the `weight_decay` as well. For example:\n+\n+  ```python\n+    decay = tf.train.piecewise_constant(tf.train.get_global_step(), \n+                                        [10000, 15000], [1e-1, 1e-2, 1e-3])\n+    lr = 1*decay", "path": "tensorflow/contrib/opt/python/training/weight_decay_optimizers.py", "position": null, "original_position": 11, "commit_id": "71ba0ec86e7cde759006f17979f71e863602182c", "original_commit_id": "59617ccaca8c5980f5418a0b612b040ac8d1afba", "user": {"login": "Ouwen", "id": 5455421, "node_id": "MDQ6VXNlcjU0NTU0MjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5455421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ouwen", "html_url": "https://github.com/Ouwen", "followers_url": "https://api.github.com/users/Ouwen/followers", "following_url": "https://api.github.com/users/Ouwen/following{/other_user}", "gists_url": "https://api.github.com/users/Ouwen/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ouwen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ouwen/subscriptions", "organizations_url": "https://api.github.com/users/Ouwen/orgs", "repos_url": "https://api.github.com/users/Ouwen/repos", "events_url": "https://api.github.com/users/Ouwen/events{/privacy}", "received_events_url": "https://api.github.com/users/Ouwen/received_events", "type": "User", "site_admin": false}, "body": "Sure thing, I can do that", "created_at": "2018-11-15T19:24:47Z", "updated_at": "2018-11-15T19:28:49Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/23363#discussion_r233976905", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23363", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/233976905"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/23363#discussion_r233976905"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23363"}}, "body_html": "<p>Sure thing, I can do that</p>", "body_text": "Sure thing, I can do that", "in_reply_to_id": 229473126}