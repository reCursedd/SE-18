{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23156", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23156/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23156/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23156/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23156", "id": 372425622, "node_id": "MDU6SXNzdWUzNzI0MjU2MjI=", "number": 23156, "title": "data_format argument for tf.spectral.fft3d (and the like)", "user": {"login": "hsgkim", "id": 34839382, "node_id": "MDQ6VXNlcjM0ODM5Mzgy", "avatar_url": "https://avatars0.githubusercontent.com/u/34839382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hsgkim", "html_url": "https://github.com/hsgkim", "followers_url": "https://api.github.com/users/hsgkim/followers", "following_url": "https://api.github.com/users/hsgkim/following{/other_user}", "gists_url": "https://api.github.com/users/hsgkim/gists{/gist_id}", "starred_url": "https://api.github.com/users/hsgkim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hsgkim/subscriptions", "organizations_url": "https://api.github.com/users/hsgkim/orgs", "repos_url": "https://api.github.com/users/hsgkim/repos", "events_url": "https://api.github.com/users/hsgkim/events{/privacy}", "received_events_url": "https://api.github.com/users/hsgkim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false}], "state": "open", "locked": false, "assignee": {"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-10-22T07:56:26Z", "updated_at": "2018-11-13T14:47:20Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p><em>Please make sure that this is a feature request. As per our <a href=\"https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md\">GitHub Policy</a>, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em></p>\n<p><strong>System information</strong></p>\n<ul>\n<li>TensorFlow version (you are using): 1.11</li>\n<li>Are you willing to contribute it (Yes/No): Yes</li>\n</ul>\n<p><strong>Describe the feature and the current behavior/state.</strong><br>\n<code>tf.spectral.fft3d</code> as of now is restricted to apply FFT to the last 3 dimensions of the input, while the majority of the operations, e.g. <code>tf.nn.conv3d</code>, handle data in NDHWC format by default. In order to circumvent this limitation, users have to permute (transpose) the data just for the FFT operation, then permute them back for other operations that follow thereafter. This not only makes the code less readable, but more importantly incurs extra overhead.</p>\n<p><strong>Will this change the current api? How?</strong><br>\nThis will add another argument <code>data_format</code> to <code>tf.spectral.fft3d</code> which lets users decide which dimensions should be used for FFT. <code>data_format</code> should be either <code>\"NDHWC\"</code> or <code>\"NCDHW\"</code>, and defaults to <code>\"NCDHW\"</code> for backward compatibility. If <code>\"NDHWC\"</code> is chosen as the <code>data_format</code>, the second, third and fourth dimensions will be used instead.</p>\n<p><strong>Who will benefit with this feature?</strong><br>\nAny users using <code>fft3d</code> are expected to benefit from this, especially when they use FFT with other convolutional layers that accept inputs in NDHWC format.</p>\n<p><strong>Any Other info.</strong><br>\nOther operations such as <code>tf.spectral.fft2d</code> may also be modified for consistency.</p>", "body_text": "Please make sure that this is a feature request. As per our GitHub Policy, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template\nSystem information\n\nTensorFlow version (you are using): 1.11\nAre you willing to contribute it (Yes/No): Yes\n\nDescribe the feature and the current behavior/state.\ntf.spectral.fft3d as of now is restricted to apply FFT to the last 3 dimensions of the input, while the majority of the operations, e.g. tf.nn.conv3d, handle data in NDHWC format by default. In order to circumvent this limitation, users have to permute (transpose) the data just for the FFT operation, then permute them back for other operations that follow thereafter. This not only makes the code less readable, but more importantly incurs extra overhead.\nWill this change the current api? How?\nThis will add another argument data_format to tf.spectral.fft3d which lets users decide which dimensions should be used for FFT. data_format should be either \"NDHWC\" or \"NCDHW\", and defaults to \"NCDHW\" for backward compatibility. If \"NDHWC\" is chosen as the data_format, the second, third and fourth dimensions will be used instead.\nWho will benefit with this feature?\nAny users using fft3d are expected to benefit from this, especially when they use FFT with other convolutional layers that accept inputs in NDHWC format.\nAny Other info.\nOther operations such as tf.spectral.fft2d may also be modified for consistency.", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 1.11\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\n`tf.spectral.fft3d` as of now is restricted to apply FFT to the last 3 dimensions of the input, while the majority of the operations, e.g. `tf.nn.conv3d`, handle data in NDHWC format by default. In order to circumvent this limitation, users have to permute (transpose) the data just for the FFT operation, then permute them back for other operations that follow thereafter. This not only makes the code less readable, but more importantly incurs extra overhead.\r\n\r\n**Will this change the current api? How?**\r\nThis will add another argument `data_format` to `tf.spectral.fft3d` which lets users decide which dimensions should be used for FFT. `data_format` should be either `\"NDHWC\"` or `\"NCDHW\"`, and defaults to `\"NCDHW\"` for backward compatibility. If `\"NDHWC\"` is chosen as the `data_format`, the second, third and fourth dimensions will be used instead. \r\n\r\n**Who will benefit with this feature?**\r\nAny users using `fft3d` are expected to benefit from this, especially when they use FFT with other convolutional layers that accept inputs in NDHWC format.\r\n\r\n**Any Other info.**\r\nOther operations such as `tf.spectral.fft2d` may also be modified for consistency.\r\n"}