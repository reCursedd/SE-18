{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/359188263", "html_url": "https://github.com/tensorflow/tensorflow/issues/16165#issuecomment-359188263", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16165", "id": 359188263, "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTE4ODI2Mw==", "user": {"login": "xd009642", "id": 3472518, "node_id": "MDQ6VXNlcjM0NzI1MTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/3472518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xd009642", "html_url": "https://github.com/xd009642", "followers_url": "https://api.github.com/users/xd009642/followers", "following_url": "https://api.github.com/users/xd009642/following{/other_user}", "gists_url": "https://api.github.com/users/xd009642/gists{/gist_id}", "starred_url": "https://api.github.com/users/xd009642/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xd009642/subscriptions", "organizations_url": "https://api.github.com/users/xd009642/orgs", "repos_url": "https://api.github.com/users/xd009642/repos", "events_url": "https://api.github.com/users/xd009642/events{/privacy}", "received_events_url": "https://api.github.com/users/xd009642/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-20T17:37:35Z", "updated_at": "2018-01-20T17:37:35Z", "author_association": "NONE", "body_html": "<p>So I've installed gcc 6.4 under the alias cuda-gcc (thanks to the negativo17 nvidia repo). Set that as the path to gcc in configure but it's still getting jammed on the template code. I think from looking at similar issues in other cuda based projects it's nvcc thinking it can compile it when it should instead forward it to gcc.</p>\n<p>With this in mind I've removed the reference to the list_kernels gpu source and I'm going to see if that means it builds. I admit I'm not familiar with bazel so if you know a better way to force the fallback to gcc feel free to chip in <g-emoji class=\"g-emoji\" alias=\"smile\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f604.png\">\ud83d\ude04</g-emoji></p>", "body_text": "So I've installed gcc 6.4 under the alias cuda-gcc (thanks to the negativo17 nvidia repo). Set that as the path to gcc in configure but it's still getting jammed on the template code. I think from looking at similar issues in other cuda based projects it's nvcc thinking it can compile it when it should instead forward it to gcc.\nWith this in mind I've removed the reference to the list_kernels gpu source and I'm going to see if that means it builds. I admit I'm not familiar with bazel so if you know a better way to force the fallback to gcc feel free to chip in \ud83d\ude04", "body": "So I've installed gcc 6.4 under the alias cuda-gcc (thanks to the negativo17 nvidia repo). Set that as the path to gcc in configure but it's still getting jammed on the template code. I think from looking at similar issues in other cuda based projects it's nvcc thinking it can compile it when it should instead forward it to gcc.\r\n\r\nWith this in mind I've removed the reference to the list_kernels gpu source and I'm going to see if that means it builds. I admit I'm not familiar with bazel so if you know a better way to force the fallback to gcc feel free to chip in :smile: "}