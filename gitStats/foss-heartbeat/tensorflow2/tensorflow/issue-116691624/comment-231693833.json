{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/231693833", "html_url": "https://github.com/tensorflow/tensorflow/issues/190#issuecomment-231693833", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/190", "id": 231693833, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTY5MzgzMw==", "user": {"login": "XingxingZhang", "id": 8507585, "node_id": "MDQ6VXNlcjg1MDc1ODU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8507585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XingxingZhang", "html_url": "https://github.com/XingxingZhang", "followers_url": "https://api.github.com/users/XingxingZhang/followers", "following_url": "https://api.github.com/users/XingxingZhang/following{/other_user}", "gists_url": "https://api.github.com/users/XingxingZhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/XingxingZhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XingxingZhang/subscriptions", "organizations_url": "https://api.github.com/users/XingxingZhang/orgs", "repos_url": "https://api.github.com/users/XingxingZhang/repos", "events_url": "https://api.github.com/users/XingxingZhang/events{/privacy}", "received_events_url": "https://api.github.com/users/XingxingZhang/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-11T10:07:02Z", "updated_at": "2016-07-11T10:07:02Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1794715\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ebrevdo\">@ebrevdo</a></p>\n<p><strong>Background</strong>:<br>\nI am installing tensorflow from source, since I am using a server where I don't have the root access.<br>\nThe default python version on that server is python 2.6 (but I have my own virtual environment with python 2.7).<br>\nThe default gcc is \"4.4.7\", but we also have a gcc \"4.9.1\" somewhere else.<br>\nI have successfully installed bazel.</p>\n<p><strong>Problems:</strong><br>\nThe bazel issue you mentioned has already been fixed in later version.<br>\nBut I still have a similar bug and here is the error message \"third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\".</p>\n<p>Besides, I have configured tensorflow to use python2.7 in tensorflow's ./configure<br>\nWhy tf get \"  from argparse import ArgumentParser<br>\nImportError: No module named argparse\"?<br>\nClearly, tf is using the default python 2.6 on our server</p>\n<pre><code>$ ../bazel/output/bazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer --verbose_failures\nINFO: Waiting for response from Bazel server (pid 6348)...\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nINFO: Found 1 target...\nERROR: /afs/inf.ed.ac.uk/user/s12/s1270921/.cache/bazel/_bazel_s1270921/84c5f700ae424d93a6550e3150808411/external/protobuf/BUILD:71:1: C++ compilation of rule '@protobuf//:protobuf_lite' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /afs/inf.ed.ac.uk/user/s12/s1270921/.cache/bazel/_bazel_s1270921/84c5f700ae424d93a6550e3150808411/execroot/tensorflow &amp;&amp; \\\n  exec env - \\\n    LD_LIBRARY_PATH=/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/lib:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/lib:/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/lib:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/lib::/afs/inf.ed.ac.uk/user/s12/s1270921/usr/kenlm/lib:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/lib:/usr/lib64/atlas:/afs/inf.ed.ac.uk/user/s12/s1270921/usr/kenlm/lib:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/lib:/usr/lib64/atlas \\\n    PATH=/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/bin:/home/s1270921/bin/:/usr/local/bin/:/opt/matlab-R2015a/bin/:/usr/local/sbin:/usr/bin:/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/bin:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/irstlm/bin:/home/52nlp/mtworkdir/irstlm/bin://home/52nlp/mtworkdir/irstlm/bin/x86_64-redhat-linux-gnu:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin/i686-m64:/afs/inf.ed.ac.uk/user/s12/s1270921/.local/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/bin:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/irstlm/bin:/home/52nlp/mtworkdir/irstlm/bin://home/52nlp/mtworkdir/irstlm/bin/x86_64-redhat-linux-gnu:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin/i686-m64:/afs/inf.ed.ac.uk/user/s12/s1270921/.local/bin \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -MD -MF bazel-out/host/bin/external/protobuf/_objs/protobuf_lite/external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.d '-frandom-seed=bazel-out/host/bin/external/protobuf/_objs/protobuf_lite/external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.o' -iquote external/protobuf -iquote bazel-out/host/genfiles/external/protobuf -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/protobuf/src -isystem bazel-out/host/genfiles/external/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -DHAVE_PTHREAD -Wall -Wwrite-strings -Woverloaded-virtual -Wno-sign-compare '-Wno-error=unused-function' -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.cc -o bazel-out/host/bin/external/protobuf/_objs/protobuf_lite/external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nTraceback (most recent call last):\n  File \"third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\", line 41, in &lt;module&gt;\n    from argparse import ArgumentParser\nImportError: No module named argparse\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 8.452s, Critical Path: 2.73s\n</code></pre>", "body_text": "Hi @ebrevdo\nBackground:\nI am installing tensorflow from source, since I am using a server where I don't have the root access.\nThe default python version on that server is python 2.6 (but I have my own virtual environment with python 2.7).\nThe default gcc is \"4.4.7\", but we also have a gcc \"4.9.1\" somewhere else.\nI have successfully installed bazel.\nProblems:\nThe bazel issue you mentioned has already been fixed in later version.\nBut I still have a similar bug and here is the error message \"third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\".\nBesides, I have configured tensorflow to use python2.7 in tensorflow's ./configure\nWhy tf get \"  from argparse import ArgumentParser\nImportError: No module named argparse\"?\nClearly, tf is using the default python 2.6 on our server\n$ ../bazel/output/bazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer --verbose_failures\nINFO: Waiting for response from Bazel server (pid 6348)...\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nINFO: Found 1 target...\nERROR: /afs/inf.ed.ac.uk/user/s12/s1270921/.cache/bazel/_bazel_s1270921/84c5f700ae424d93a6550e3150808411/external/protobuf/BUILD:71:1: C++ compilation of rule '@protobuf//:protobuf_lite' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /afs/inf.ed.ac.uk/user/s12/s1270921/.cache/bazel/_bazel_s1270921/84c5f700ae424d93a6550e3150808411/execroot/tensorflow && \\\n  exec env - \\\n    LD_LIBRARY_PATH=/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/lib:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/lib:/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/lib:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/lib::/afs/inf.ed.ac.uk/user/s12/s1270921/usr/kenlm/lib:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/lib:/usr/lib64/atlas:/afs/inf.ed.ac.uk/user/s12/s1270921/usr/kenlm/lib:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/lib:/usr/lib64/atlas \\\n    PATH=/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/bin:/home/s1270921/bin/:/usr/local/bin/:/opt/matlab-R2015a/bin/:/usr/local/sbin:/usr/bin:/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/bin:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/irstlm/bin:/home/52nlp/mtworkdir/irstlm/bin://home/52nlp/mtworkdir/irstlm/bin/x86_64-redhat-linux-gnu:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin/i686-m64:/afs/inf.ed.ac.uk/user/s12/s1270921/.local/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/bin:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/irstlm/bin:/home/52nlp/mtworkdir/irstlm/bin://home/52nlp/mtworkdir/irstlm/bin/x86_64-redhat-linux-gnu:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin/i686-m64:/afs/inf.ed.ac.uk/user/s12/s1270921/.local/bin \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -MD -MF bazel-out/host/bin/external/protobuf/_objs/protobuf_lite/external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.d '-frandom-seed=bazel-out/host/bin/external/protobuf/_objs/protobuf_lite/external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.o' -iquote external/protobuf -iquote bazel-out/host/genfiles/external/protobuf -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/protobuf/src -isystem bazel-out/host/genfiles/external/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -DHAVE_PTHREAD -Wall -Wwrite-strings -Woverloaded-virtual -Wno-sign-compare '-Wno-error=unused-function' -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.cc -o bazel-out/host/bin/external/protobuf/_objs/protobuf_lite/external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nTraceback (most recent call last):\n  File \"third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\", line 41, in <module>\n    from argparse import ArgumentParser\nImportError: No module named argparse\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 8.452s, Critical Path: 2.73s", "body": "Hi @ebrevdo \n\n**Background**:\nI am installing tensorflow from source, since I am using a server where I don't have the root access.\nThe default python version on that server is python 2.6 (but I have my own virtual environment with python 2.7).\nThe default gcc is \"4.4.7\", but we also have a gcc \"4.9.1\" somewhere else.\nI have successfully installed bazel.\n\n**Problems:**\nThe bazel issue you mentioned has already been fixed in later version.\nBut I still have a similar bug and here is the error message \"third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\".\n\nBesides, I have configured tensorflow to use python2.7 in tensorflow's ./configure\nWhy tf get \"  from argparse import ArgumentParser\nImportError: No module named argparse\"?\nClearly, tf is using the default python 2.6 on our server\n\n```\n$ ../bazel/output/bazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer --verbose_failures\nINFO: Waiting for response from Bazel server (pid 6348)...\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nINFO: Found 1 target...\nERROR: /afs/inf.ed.ac.uk/user/s12/s1270921/.cache/bazel/_bazel_s1270921/84c5f700ae424d93a6550e3150808411/external/protobuf/BUILD:71:1: C++ compilation of rule '@protobuf//:protobuf_lite' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /afs/inf.ed.ac.uk/user/s12/s1270921/.cache/bazel/_bazel_s1270921/84c5f700ae424d93a6550e3150808411/execroot/tensorflow && \\\n  exec env - \\\n    LD_LIBRARY_PATH=/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/lib:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/lib:/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/lib:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/lib::/afs/inf.ed.ac.uk/user/s12/s1270921/usr/kenlm/lib:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/lib:/usr/lib64/atlas:/afs/inf.ed.ac.uk/user/s12/s1270921/usr/kenlm/lib:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/lib:/usr/lib64/atlas \\\n    PATH=/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/torch_cudnn/install/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/torch/install/bin:/home/s1270921/bin/:/usr/local/bin/:/opt/matlab-R2015a/bin/:/usr/local/sbin:/usr/bin:/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/bin:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/irstlm/bin:/home/52nlp/mtworkdir/irstlm/bin://home/52nlp/mtworkdir/irstlm/bin/x86_64-redhat-linux-gnu:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin/i686-m64:/afs/inf.ed.ac.uk/user/s12/s1270921/.local/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/bin:/afs/inf.ed.ac.uk/group/project/img2txt/soft/usr/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/irstlm/bin:/home/52nlp/mtworkdir/irstlm/bin://home/52nlp/mtworkdir/irstlm/bin/x86_64-redhat-linux-gnu:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin:/afs/inf.ed.ac.uk/user/s12/s1270921/SRILM/bin/i686-m64:/afs/inf.ed.ac.uk/user/s12/s1270921/.local/bin \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -MD -MF bazel-out/host/bin/external/protobuf/_objs/protobuf_lite/external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.d '-frandom-seed=bazel-out/host/bin/external/protobuf/_objs/protobuf_lite/external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.o' -iquote external/protobuf -iquote bazel-out/host/genfiles/external/protobuf -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/protobuf/src -isystem bazel-out/host/genfiles/external/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -DHAVE_PTHREAD -Wall -Wwrite-strings -Woverloaded-virtual -Wno-sign-compare '-Wno-error=unused-function' -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.cc -o bazel-out/host/bin/external/protobuf/_objs/protobuf_lite/external/protobuf/src/google/protobuf/io/zero_copy_stream_impl_lite.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nTraceback (most recent call last):\n  File \"third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\", line 41, in <module>\n    from argparse import ArgumentParser\nImportError: No module named argparse\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 8.452s, Critical Path: 2.73s\n```\n"}