{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/244636243", "html_url": "https://github.com/tensorflow/tensorflow/issues/190#issuecomment-244636243", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/190", "id": 244636243, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDYzNjI0Mw==", "user": {"login": "rasmi", "id": 2267370, "node_id": "MDQ6VXNlcjIyNjczNzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/2267370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasmi", "html_url": "https://github.com/rasmi", "followers_url": "https://api.github.com/users/rasmi/followers", "following_url": "https://api.github.com/users/rasmi/following{/other_user}", "gists_url": "https://api.github.com/users/rasmi/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasmi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasmi/subscriptions", "organizations_url": "https://api.github.com/users/rasmi/orgs", "repos_url": "https://api.github.com/users/rasmi/repos", "events_url": "https://api.github.com/users/rasmi/events{/privacy}", "received_events_url": "https://api.github.com/users/rasmi/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-05T00:01:54Z", "updated_at": "2016-09-06T13:16:03Z", "author_association": "MEMBER", "body_html": "<p>Same here, except with a different error:</p>\n<pre><code>.cache/bazel/_bazel_re2300/d217f35631206796f447d50c6f1d6243/external/protobuf/BUILD:331:1: Linking of rule '@protobuf//:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /hmt/sirius1/skv0/u/4/r/re2300/.cache/bazel/_bazel_re2300/d217f35631206796f447d50c6f1d6243/execroot/tensorflow &amp;&amp; \\\n  exec env - \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/external/protobuf/protoc bazel-out/host/bin/external/protobuf/_objs/protoc/external/protobuf/src/google/protobuf/compiler/main.o bazel-out/host/bin/external/protobuf/libprotoc_lib.a bazel-out/host/bin/external/protobuf/libprotobuf.a bazel-out/host/bin/external/protobuf/libprotobuf_lite.a -lpthread -lstdc++ -B/usr/bin/ -pie -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,-S -Wl,--gc-sections): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: unrecognized option '-plugin'\n/usr/bin/ld: use the --help option for usage information\n</code></pre>\n<p>EDIT: I fixed this by adding the <code>fno-use-linker-plugin</code> flag to the compiler.</p>\n<pre><code>index 20449a1..48a4e60 100755\n--- a/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl\n+++ b/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl\n@@ -309,6 +309,7 @@ def main():\n     # TODO(eliben): rename to a more descriptive name.\n     cpu_compiler_flags.append('-D__GCUDACC_HOST__')\n\n+  cpu_compiler_flags.append('-fno-use-linker-plugin')\n   return subprocess.call([CPU_COMPILER] + cpu_compiler_flags)\n\n if __name__ == '__main__':\n</code></pre>", "body_text": "Same here, except with a different error:\n.cache/bazel/_bazel_re2300/d217f35631206796f447d50c6f1d6243/external/protobuf/BUILD:331:1: Linking of rule '@protobuf//:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /hmt/sirius1/skv0/u/4/r/re2300/.cache/bazel/_bazel_re2300/d217f35631206796f447d50c6f1d6243/execroot/tensorflow && \\\n  exec env - \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/external/protobuf/protoc bazel-out/host/bin/external/protobuf/_objs/protoc/external/protobuf/src/google/protobuf/compiler/main.o bazel-out/host/bin/external/protobuf/libprotoc_lib.a bazel-out/host/bin/external/protobuf/libprotobuf.a bazel-out/host/bin/external/protobuf/libprotobuf_lite.a -lpthread -lstdc++ -B/usr/bin/ -pie -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,-S -Wl,--gc-sections): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: unrecognized option '-plugin'\n/usr/bin/ld: use the --help option for usage information\n\nEDIT: I fixed this by adding the fno-use-linker-plugin flag to the compiler.\nindex 20449a1..48a4e60 100755\n--- a/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl\n+++ b/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl\n@@ -309,6 +309,7 @@ def main():\n     # TODO(eliben): rename to a more descriptive name.\n     cpu_compiler_flags.append('-D__GCUDACC_HOST__')\n\n+  cpu_compiler_flags.append('-fno-use-linker-plugin')\n   return subprocess.call([CPU_COMPILER] + cpu_compiler_flags)\n\n if __name__ == '__main__':", "body": "Same here, except with a different error:\n\n```\n.cache/bazel/_bazel_re2300/d217f35631206796f447d50c6f1d6243/external/protobuf/BUILD:331:1: Linking of rule '@protobuf//:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /hmt/sirius1/skv0/u/4/r/re2300/.cache/bazel/_bazel_re2300/d217f35631206796f447d50c6f1d6243/execroot/tensorflow && \\\n  exec env - \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/external/protobuf/protoc bazel-out/host/bin/external/protobuf/_objs/protoc/external/protobuf/src/google/protobuf/compiler/main.o bazel-out/host/bin/external/protobuf/libprotoc_lib.a bazel-out/host/bin/external/protobuf/libprotobuf.a bazel-out/host/bin/external/protobuf/libprotobuf_lite.a -lpthread -lstdc++ -B/usr/bin/ -pie -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,-S -Wl,--gc-sections): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: unrecognized option '-plugin'\n/usr/bin/ld: use the --help option for usage information\n```\n\nEDIT: I fixed this by adding the `fno-use-linker-plugin` flag to the compiler.\n\n```\nindex 20449a1..48a4e60 100755\n--- a/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl\n+++ b/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl\n@@ -309,6 +309,7 @@ def main():\n     # TODO(eliben): rename to a more descriptive name.\n     cpu_compiler_flags.append('-D__GCUDACC_HOST__')\n\n+  cpu_compiler_flags.append('-fno-use-linker-plugin')\n   return subprocess.call([CPU_COMPILER] + cpu_compiler_flags)\n\n if __name__ == '__main__':\n```\n"}