{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4273", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4273/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4273/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4273/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4273", "id": 175704700, "node_id": "MDU6SXNzdWUxNzU3MDQ3MDA=", "number": 4273, "title": "Crashing when parsing names with special character [] in saver.restore(): bug or expected behavior ?", "user": {"login": "jeandut", "id": 11030901, "node_id": "MDQ6VXNlcjExMDMwOTAx", "avatar_url": "https://avatars1.githubusercontent.com/u/11030901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeandut", "html_url": "https://github.com/jeandut", "followers_url": "https://api.github.com/users/jeandut/followers", "following_url": "https://api.github.com/users/jeandut/following{/other_user}", "gists_url": "https://api.github.com/users/jeandut/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeandut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeandut/subscriptions", "organizations_url": "https://api.github.com/users/jeandut/orgs", "repos_url": "https://api.github.com/users/jeandut/repos", "events_url": "https://api.github.com/users/jeandut/events{/privacy}", "received_events_url": "https://api.github.com/users/jeandut/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-08T09:19:39Z", "updated_at": "2016-09-12T11:52:19Z", "closed_at": "2016-09-09T19:15:01Z", "author_association": "NONE", "body_html": "<p>Disclaimer: I have tensorflow 0.7.0 (a bit outdated I suppose). I have not tested it on more recent versions.<br>\nWhen I try:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\nx<span class=\"pl-k\">=</span>tf.placeholder(tf.float32,[])\nw<span class=\"pl-k\">=</span>tf.Variable(<span class=\"pl-c1\">2</span>.)\ny<span class=\"pl-k\">=</span>tf.mul(x,w)\nsaver<span class=\"pl-k\">=</span>tf.train.Saver()\ninit<span class=\"pl-k\">=</span>tf.initialize_all_variables()\nsess1<span class=\"pl-k\">=</span>tf.Session()\nsess1.run(init)\nname_model<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">+</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>model<span class=\"pl-pds\">\"</span></span>\nsaver.save(sess,name_model)\nsess1.close()\nsess2<span class=\"pl-k\">=</span>tf.Session()\npath_meta<span class=\"pl-k\">=</span>name_model<span class=\"pl-k\">+</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>.meta<span class=\"pl-pds\">\"</span></span>\npath_model<span class=\"pl-k\">=</span>name_model\nnew_saver<span class=\"pl-k\">=</span>tf.train.import_meta_graph(path_meta)\nnew_saver.restore(sess2,path_model)\n<span class=\"pl-c1\">print</span> sess2.run(y, <span class=\"pl-v\">feed_dict</span><span class=\"pl-k\">=</span>{x: <span class=\"pl-c1\">1</span>.})<span class=\"pl-k\">==</span><span class=\"pl-c1\">2</span></pre></div>\n<p>It runs perfectly fine but if I change name_model to \"./model[1]\" for example it crashes with message: <code>Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./model[1].</code><br>\nI was wondering if this is expected or if it is a bug. If this is buggy what would be aworkaround ?</p>", "body_text": "Disclaimer: I have tensorflow 0.7.0 (a bit outdated I suppose). I have not tested it on more recent versions.\nWhen I try:\nimport tensorflow as tf\nx=tf.placeholder(tf.float32,[])\nw=tf.Variable(2.)\ny=tf.mul(x,w)\nsaver=tf.train.Saver()\ninit=tf.initialize_all_variables()\nsess1=tf.Session()\nsess1.run(init)\nname_model=\"./\"+\"model\"\nsaver.save(sess,name_model)\nsess1.close()\nsess2=tf.Session()\npath_meta=name_model+\".meta\"\npath_model=name_model\nnew_saver=tf.train.import_meta_graph(path_meta)\nnew_saver.restore(sess2,path_model)\nprint sess2.run(y, feed_dict={x: 1.})==2\nIt runs perfectly fine but if I change name_model to \"./model[1]\" for example it crashes with message: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./model[1].\nI was wondering if this is expected or if it is a bug. If this is buggy what would be aworkaround ?", "body": "Disclaimer: I have tensorflow 0.7.0 (a bit outdated I suppose). I have not tested it on more recent versions.\nWhen I try:\n\n``` python\nimport tensorflow as tf\nx=tf.placeholder(tf.float32,[])\nw=tf.Variable(2.)\ny=tf.mul(x,w)\nsaver=tf.train.Saver()\ninit=tf.initialize_all_variables()\nsess1=tf.Session()\nsess1.run(init)\nname_model=\"./\"+\"model\"\nsaver.save(sess,name_model)\nsess1.close()\nsess2=tf.Session()\npath_meta=name_model+\".meta\"\npath_model=name_model\nnew_saver=tf.train.import_meta_graph(path_meta)\nnew_saver.restore(sess2,path_model)\nprint sess2.run(y, feed_dict={x: 1.})==2\n```\n\nIt runs perfectly fine but if I change name_model to \"./model[1]\" for example it crashes with message: `Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./model[1].`\nI was wondering if this is expected or if it is a bug. If this is buggy what would be aworkaround ?\n"}