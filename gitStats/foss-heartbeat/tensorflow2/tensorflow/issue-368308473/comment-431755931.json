{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/431755931", "html_url": "https://github.com/tensorflow/tensorflow/issues/22843#issuecomment-431755931", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22843", "id": 431755931, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTc1NTkzMQ==", "user": {"login": "calicratis19", "id": 1763767, "node_id": "MDQ6VXNlcjE3NjM3Njc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1763767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calicratis19", "html_url": "https://github.com/calicratis19", "followers_url": "https://api.github.com/users/calicratis19/followers", "following_url": "https://api.github.com/users/calicratis19/following{/other_user}", "gists_url": "https://api.github.com/users/calicratis19/gists{/gist_id}", "starred_url": "https://api.github.com/users/calicratis19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calicratis19/subscriptions", "organizations_url": "https://api.github.com/users/calicratis19/orgs", "repos_url": "https://api.github.com/users/calicratis19/repos", "events_url": "https://api.github.com/users/calicratis19/events{/privacy}", "received_events_url": "https://api.github.com/users/calicratis19/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-22T07:05:39Z", "updated_at": "2018-10-22T07:09:31Z", "author_association": "NONE", "body_html": "<p>Facing the same issue here. My Os is Ubuntu 18.04.</p>\n<p>I'm trying to convert the xception model with graph_transform.</p>\n<pre><code>//The command\nbazel-bin/tensorflow/tools/graph_transforms/transform_graph \\\n&gt; --in_graph=xception.pb \\\n&gt; --out_graph=optimized_xception_graph.pb --inputs='ImageTensor' --outputs='SemanticPredictions' \\\n&gt; --transforms=' \\\n&gt;   strip_unused_nodes(name=ImageTensor,type=uint8, shape=\"1,-1,-1,3\") \\\n&gt;   remove_nodes(op=Identity, op=CheckNumerics) \\\n&gt;   fold_constants(ignore_errors=true) \\\n&gt;   fold_batch_norms \\\n&gt;   fold_old_batch_norms'\n\n//The Error\n2018-10-22 13:03:42.975779: E tensorflow/tools/graph_transforms/transform_graph.cc:241] Failed to parse --transform argument, error was Looking for transform name, but found \\\n  strip_unused_nodes(name=ImageTensor,type=float, shape=\"1,-1,-1,3\") \\\n  remove_nodes(op=Identity, op=CheckNumerics) \\\n  fold_constants(ignore_errors=true) \\\n  fold_batch_norms \\\n  fold_old_batch_norms\n</code></pre>\n<p>The output of graph_summarize is</p>\n<pre><code>bazel-bin/tensorflow/tools/graph_transforms/summarize_graph --in_graph=xception.pb\nFound 1 possible inputs: (name=ImageTensor, type=uint8(4), shape=[1,?,?,3]) \nNo variables spotted.\nFound 1 possible outputs: (name=SemanticPredictions, op=Identity) \nFound 41258392 (41.26M) const parameters, 0 (0) variable parameters, and 4 control_edges\nOp types used: 821 Const, 734 Identity, 146 FusedBatchNorm, 82 Relu, 79 Conv2D, 68 DepthwiseConv2dNative, 23 Add, 9 StridedSlice, 8 Sub, 6 BatchToSpaceND, 6 SpaceToBatchND, 5 ResizeBilinear, 5 Pad, 4 GreaterEqual, 4 Pack, 4 Shape, 4 Assert, 2 ExpandDims, 2 ConcatV2, 2 Cast, 2 Maximum, 2 Squeeze, 1 Slice, 1 ResizeNearestNeighbor, 1 LogicalAnd, 1 Reshape, 1 Placeholder, 1 Mul, 1 Equal, 1 BiasAdd, 1 AvgPool, 1 ArgMax\nTo use with tensorflow/tools/benchmark:benchmark_model try these arguments:\nbazel run tensorflow/tools/benchmark:benchmark_model -- --graph=xception.pb --show_flops --input_layer=ImageTensor --input_layer_type=uint8 --input_layer_shape=1,-1,-1,3 --output_layer=SemanticPredictions\n</code></pre>", "body_text": "Facing the same issue here. My Os is Ubuntu 18.04.\nI'm trying to convert the xception model with graph_transform.\n//The command\nbazel-bin/tensorflow/tools/graph_transforms/transform_graph \\\n> --in_graph=xception.pb \\\n> --out_graph=optimized_xception_graph.pb --inputs='ImageTensor' --outputs='SemanticPredictions' \\\n> --transforms=' \\\n>   strip_unused_nodes(name=ImageTensor,type=uint8, shape=\"1,-1,-1,3\") \\\n>   remove_nodes(op=Identity, op=CheckNumerics) \\\n>   fold_constants(ignore_errors=true) \\\n>   fold_batch_norms \\\n>   fold_old_batch_norms'\n\n//The Error\n2018-10-22 13:03:42.975779: E tensorflow/tools/graph_transforms/transform_graph.cc:241] Failed to parse --transform argument, error was Looking for transform name, but found \\\n  strip_unused_nodes(name=ImageTensor,type=float, shape=\"1,-1,-1,3\") \\\n  remove_nodes(op=Identity, op=CheckNumerics) \\\n  fold_constants(ignore_errors=true) \\\n  fold_batch_norms \\\n  fold_old_batch_norms\n\nThe output of graph_summarize is\nbazel-bin/tensorflow/tools/graph_transforms/summarize_graph --in_graph=xception.pb\nFound 1 possible inputs: (name=ImageTensor, type=uint8(4), shape=[1,?,?,3]) \nNo variables spotted.\nFound 1 possible outputs: (name=SemanticPredictions, op=Identity) \nFound 41258392 (41.26M) const parameters, 0 (0) variable parameters, and 4 control_edges\nOp types used: 821 Const, 734 Identity, 146 FusedBatchNorm, 82 Relu, 79 Conv2D, 68 DepthwiseConv2dNative, 23 Add, 9 StridedSlice, 8 Sub, 6 BatchToSpaceND, 6 SpaceToBatchND, 5 ResizeBilinear, 5 Pad, 4 GreaterEqual, 4 Pack, 4 Shape, 4 Assert, 2 ExpandDims, 2 ConcatV2, 2 Cast, 2 Maximum, 2 Squeeze, 1 Slice, 1 ResizeNearestNeighbor, 1 LogicalAnd, 1 Reshape, 1 Placeholder, 1 Mul, 1 Equal, 1 BiasAdd, 1 AvgPool, 1 ArgMax\nTo use with tensorflow/tools/benchmark:benchmark_model try these arguments:\nbazel run tensorflow/tools/benchmark:benchmark_model -- --graph=xception.pb --show_flops --input_layer=ImageTensor --input_layer_type=uint8 --input_layer_shape=1,-1,-1,3 --output_layer=SemanticPredictions", "body": "Facing the same issue here. My Os is Ubuntu 18.04.\r\n\r\nI'm trying to convert the xception model with graph_transform.\r\n\r\n```\r\n//The command\r\nbazel-bin/tensorflow/tools/graph_transforms/transform_graph \\\r\n> --in_graph=xception.pb \\\r\n> --out_graph=optimized_xception_graph.pb --inputs='ImageTensor' --outputs='SemanticPredictions' \\\r\n> --transforms=' \\\r\n>   strip_unused_nodes(name=ImageTensor,type=uint8, shape=\"1,-1,-1,3\") \\\r\n>   remove_nodes(op=Identity, op=CheckNumerics) \\\r\n>   fold_constants(ignore_errors=true) \\\r\n>   fold_batch_norms \\\r\n>   fold_old_batch_norms'\r\n\r\n//The Error\r\n2018-10-22 13:03:42.975779: E tensorflow/tools/graph_transforms/transform_graph.cc:241] Failed to parse --transform argument, error was Looking for transform name, but found \\\r\n  strip_unused_nodes(name=ImageTensor,type=float, shape=\"1,-1,-1,3\") \\\r\n  remove_nodes(op=Identity, op=CheckNumerics) \\\r\n  fold_constants(ignore_errors=true) \\\r\n  fold_batch_norms \\\r\n  fold_old_batch_norms\r\n```\r\n\r\nThe output of graph_summarize is\r\n\r\n```\r\nbazel-bin/tensorflow/tools/graph_transforms/summarize_graph --in_graph=xception.pb\r\nFound 1 possible inputs: (name=ImageTensor, type=uint8(4), shape=[1,?,?,3]) \r\nNo variables spotted.\r\nFound 1 possible outputs: (name=SemanticPredictions, op=Identity) \r\nFound 41258392 (41.26M) const parameters, 0 (0) variable parameters, and 4 control_edges\r\nOp types used: 821 Const, 734 Identity, 146 FusedBatchNorm, 82 Relu, 79 Conv2D, 68 DepthwiseConv2dNative, 23 Add, 9 StridedSlice, 8 Sub, 6 BatchToSpaceND, 6 SpaceToBatchND, 5 ResizeBilinear, 5 Pad, 4 GreaterEqual, 4 Pack, 4 Shape, 4 Assert, 2 ExpandDims, 2 ConcatV2, 2 Cast, 2 Maximum, 2 Squeeze, 1 Slice, 1 ResizeNearestNeighbor, 1 LogicalAnd, 1 Reshape, 1 Placeholder, 1 Mul, 1 Equal, 1 BiasAdd, 1 AvgPool, 1 ArgMax\r\nTo use with tensorflow/tools/benchmark:benchmark_model try these arguments:\r\nbazel run tensorflow/tools/benchmark:benchmark_model -- --graph=xception.pb --show_flops --input_layer=ImageTensor --input_layer_type=uint8 --input_layer_shape=1,-1,-1,3 --output_layer=SemanticPredictions\r\n```\r\n\r\n"}