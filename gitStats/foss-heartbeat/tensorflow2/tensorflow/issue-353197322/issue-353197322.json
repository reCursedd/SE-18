{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21814", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21814/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21814/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21814/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21814", "id": 353197322, "node_id": "MDU6SXNzdWUzNTMxOTczMjI=", "number": 21814, "title": "How to use GridLSTMCell or Grid3LSTMCell on image data in tensorflow?", "user": {"login": "liuxiaodong008008", "id": 31185582, "node_id": "MDQ6VXNlcjMxMTg1NTgy", "avatar_url": "https://avatars0.githubusercontent.com/u/31185582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuxiaodong008008", "html_url": "https://github.com/liuxiaodong008008", "followers_url": "https://api.github.com/users/liuxiaodong008008/followers", "following_url": "https://api.github.com/users/liuxiaodong008008/following{/other_user}", "gists_url": "https://api.github.com/users/liuxiaodong008008/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuxiaodong008008/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuxiaodong008008/subscriptions", "organizations_url": "https://api.github.com/users/liuxiaodong008008/orgs", "repos_url": "https://api.github.com/users/liuxiaodong008008/repos", "events_url": "https://api.github.com/users/liuxiaodong008008/events{/privacy}", "received_events_url": "https://api.github.com/users/liuxiaodong008008/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "robieta", "id": 13089297, "node_id": "MDQ6VXNlcjEzMDg5Mjk3", "avatar_url": "https://avatars0.githubusercontent.com/u/13089297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robieta", "html_url": "https://github.com/robieta", "followers_url": "https://api.github.com/users/robieta/followers", "following_url": "https://api.github.com/users/robieta/following{/other_user}", "gists_url": "https://api.github.com/users/robieta/gists{/gist_id}", "starred_url": "https://api.github.com/users/robieta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robieta/subscriptions", "organizations_url": "https://api.github.com/users/robieta/orgs", "repos_url": "https://api.github.com/users/robieta/repos", "events_url": "https://api.github.com/users/robieta/events{/privacy}", "received_events_url": "https://api.github.com/users/robieta/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "robieta", "id": 13089297, "node_id": "MDQ6VXNlcjEzMDg5Mjk3", "avatar_url": "https://avatars0.githubusercontent.com/u/13089297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robieta", "html_url": "https://github.com/robieta", "followers_url": "https://api.github.com/users/robieta/followers", "following_url": "https://api.github.com/users/robieta/following{/other_user}", "gists_url": "https://api.github.com/users/robieta/gists{/gist_id}", "starred_url": "https://api.github.com/users/robieta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robieta/subscriptions", "organizations_url": "https://api.github.com/users/robieta/orgs", "repos_url": "https://api.github.com/users/robieta/repos", "events_url": "https://api.github.com/users/robieta/events{/privacy}", "received_events_url": "https://api.github.com/users/robieta/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-08-23T02:29:50Z", "updated_at": "2018-09-28T21:21:47Z", "closed_at": "2018-09-28T21:21:47Z", "author_association": "NONE", "body_html": "<p>I am thinking about applying GridLSTM on image data. But I cannot figure out how to orgnize my inputs to fit the requirements of <code>GridLSTMCell</code> or <code>Grid3LSTMCell</code>. I found some example use cases for <code>GridLSTMCell</code>, such as <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/rnn/python/kernel_tests/rnn_cell_test.py\">link1 </a>and <a href=\"https://github.com/phvu/grid-lstm-tensorflow\">link2</a>. But they focus on none-image data and help little for me.</p>\n<p>By applying GridLSTM on image data with shape <code>(batch_size,38,38,64)</code> , I wish to get output with shape <code>(batch_size,38,38,num*4)</code>. Here, <code>num</code> refers to the count of units GridLSTM outputs in each position of the feature map with shape <code>(38,38)</code> starting from each feature map corner.</p>\n<p>The following is my test code, I am just not able to make it work.</p>\n<pre><code>import tensorflow as tf\nfrom tensorflow.contrib.rnn import static_rnn\nfrom tensorflow.contrib.grid_rnn import Grid3LSTMCell,Grid2LSTMCell\nimport numpy as np\n\n#tf.enable_eager_execution()\nwith tf.Session() as sess:\n    shape = (32,38,38,64)\n    inputs = tf.constant(np.ones(shape,dtype=np.float32),dtype=np.float32)\n    cell = Grid3LSTMCell(8)\n    out = static_rnn(cell,inputs,dtype=np.float32)\n    ouput = sess.run(out)\n</code></pre>\n<p>Any help is appropriated.</p>\n<p>Have I written custom code: n/a<br>\nOS Platform and Distribution: n/a<br>\nTensorFlow installed from: <a href=\"https://pypi.org/project/tensorflow/\" rel=\"nofollow\">https://pypi.org/project/tensorflow/</a><br>\nTensorFlow version: 1.7.0<br>\nBazel version: n/a<br>\nCUDA/cuDNN version: n/a<br>\nGPU model and memory: n/a<br>\nExact command to reproduce: n/a<br>\nMobile device: n/a</p>", "body_text": "I am thinking about applying GridLSTM on image data. But I cannot figure out how to orgnize my inputs to fit the requirements of GridLSTMCell or Grid3LSTMCell. I found some example use cases for GridLSTMCell, such as link1 and link2. But they focus on none-image data and help little for me.\nBy applying GridLSTM on image data with shape (batch_size,38,38,64) , I wish to get output with shape (batch_size,38,38,num*4). Here, num refers to the count of units GridLSTM outputs in each position of the feature map with shape (38,38) starting from each feature map corner.\nThe following is my test code, I am just not able to make it work.\nimport tensorflow as tf\nfrom tensorflow.contrib.rnn import static_rnn\nfrom tensorflow.contrib.grid_rnn import Grid3LSTMCell,Grid2LSTMCell\nimport numpy as np\n\n#tf.enable_eager_execution()\nwith tf.Session() as sess:\n    shape = (32,38,38,64)\n    inputs = tf.constant(np.ones(shape,dtype=np.float32),dtype=np.float32)\n    cell = Grid3LSTMCell(8)\n    out = static_rnn(cell,inputs,dtype=np.float32)\n    ouput = sess.run(out)\n\nAny help is appropriated.\nHave I written custom code: n/a\nOS Platform and Distribution: n/a\nTensorFlow installed from: https://pypi.org/project/tensorflow/\nTensorFlow version: 1.7.0\nBazel version: n/a\nCUDA/cuDNN version: n/a\nGPU model and memory: n/a\nExact command to reproduce: n/a\nMobile device: n/a", "body": "I am thinking about applying GridLSTM on image data. But I cannot figure out how to orgnize my inputs to fit the requirements of `GridLSTMCell` or `Grid3LSTMCell`. I found some example use cases for `GridLSTMCell`, such as [link1 ](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/rnn/python/kernel_tests/rnn_cell_test.py)and [link2](https://github.com/phvu/grid-lstm-tensorflow). But they focus on none-image data and help little for me.\r\n\r\nBy applying GridLSTM on image data with shape `(batch_size,38,38,64)` , I wish to get output with shape `(batch_size,38,38,num*4)`. Here, `num` refers to the count of units GridLSTM outputs in each position of the feature map with shape `(38,38)` starting from each feature map corner.\r\n\r\nThe following is my test code, I am just not able to make it work.\r\n\r\n```\r\nimport tensorflow as tf\r\nfrom tensorflow.contrib.rnn import static_rnn\r\nfrom tensorflow.contrib.grid_rnn import Grid3LSTMCell,Grid2LSTMCell\r\nimport numpy as np\r\n\r\n#tf.enable_eager_execution()\r\nwith tf.Session() as sess:\r\n    shape = (32,38,38,64)\r\n    inputs = tf.constant(np.ones(shape,dtype=np.float32),dtype=np.float32)\r\n    cell = Grid3LSTMCell(8)\r\n    out = static_rnn(cell,inputs,dtype=np.float32)\r\n    ouput = sess.run(out)\r\n```\r\nAny help is appropriated.\r\n\r\n\r\nHave I written custom code: n/a\r\nOS Platform and Distribution: n/a\r\nTensorFlow installed from: https://pypi.org/project/tensorflow/\r\nTensorFlow version: 1.7.0\r\nBazel version: n/a\r\nCUDA/cuDNN version: n/a\r\nGPU model and memory: n/a\r\nExact command to reproduce: n/a\r\nMobile device: n/a"}