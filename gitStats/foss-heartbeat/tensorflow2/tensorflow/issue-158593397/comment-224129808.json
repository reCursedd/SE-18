{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/224129808", "html_url": "https://github.com/tensorflow/tensorflow/issues/2680#issuecomment-224129808", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2680", "id": 224129808, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDEyOTgwOA==", "user": {"login": "andrewharp", "id": 3376817, "node_id": "MDQ6VXNlcjMzNzY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3376817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewharp", "html_url": "https://github.com/andrewharp", "followers_url": "https://api.github.com/users/andrewharp/followers", "following_url": "https://api.github.com/users/andrewharp/following{/other_user}", "gists_url": "https://api.github.com/users/andrewharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewharp/subscriptions", "organizations_url": "https://api.github.com/users/andrewharp/orgs", "repos_url": "https://api.github.com/users/andrewharp/repos", "events_url": "https://api.github.com/users/andrewharp/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewharp/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-07T00:36:09Z", "updated_at": "2016-06-07T00:36:09Z", "author_association": "MEMBER", "body_html": "<p>I think your problem node results from the following python:</p>\n<pre><code>    affn1 = control_flow_ops.cond(phase_train,\n                                  lambda: tf.nn.dropout(affn1, keep_probability), lambda: affn1)\n</code></pre>\n<p>The node summary from the error:<br>\n<code>Switch[T=DT_BOOL](phase_train, phase_train)]</code><br>\nimplies it's looking to instantiate a SwitchOp node taking phase_train as both inputs 1 and 2.</p>\n<p>However looking at the actual SwitchOp definition, it seems the second input must be a scalar, not a tensor as phase_train is defined to be.</p>\n<p>I may be misinterpreting something here, but does anything stand out given this?</p>", "body_text": "I think your problem node results from the following python:\n    affn1 = control_flow_ops.cond(phase_train,\n                                  lambda: tf.nn.dropout(affn1, keep_probability), lambda: affn1)\n\nThe node summary from the error:\nSwitch[T=DT_BOOL](phase_train, phase_train)]\nimplies it's looking to instantiate a SwitchOp node taking phase_train as both inputs 1 and 2.\nHowever looking at the actual SwitchOp definition, it seems the second input must be a scalar, not a tensor as phase_train is defined to be.\nI may be misinterpreting something here, but does anything stand out given this?", "body": "I think your problem node results from the following python:\n\n```\n    affn1 = control_flow_ops.cond(phase_train,\n                                  lambda: tf.nn.dropout(affn1, keep_probability), lambda: affn1)\n```\n\nThe node summary from the error: \n`Switch[T=DT_BOOL](phase_train, phase_train)]`\nimplies it's looking to instantiate a SwitchOp node taking phase_train as both inputs 1 and 2.\n\nHowever looking at the actual SwitchOp definition, it seems the second input must be a scalar, not a tensor as phase_train is defined to be.\n\nI may be misinterpreting something here, but does anything stand out given this?\n"}