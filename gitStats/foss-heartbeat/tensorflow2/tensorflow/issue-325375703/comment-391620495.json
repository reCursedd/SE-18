{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/391620495", "html_url": "https://github.com/tensorflow/tensorflow/issues/19466#issuecomment-391620495", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19466", "id": 391620495, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTYyMDQ5NQ==", "user": {"login": "cristianomalossi", "id": 5037986, "node_id": "MDQ6VXNlcjUwMzc5ODY=", "avatar_url": "https://avatars3.githubusercontent.com/u/5037986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cristianomalossi", "html_url": "https://github.com/cristianomalossi", "followers_url": "https://api.github.com/users/cristianomalossi/followers", "following_url": "https://api.github.com/users/cristianomalossi/following{/other_user}", "gists_url": "https://api.github.com/users/cristianomalossi/gists{/gist_id}", "starred_url": "https://api.github.com/users/cristianomalossi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cristianomalossi/subscriptions", "organizations_url": "https://api.github.com/users/cristianomalossi/orgs", "repos_url": "https://api.github.com/users/cristianomalossi/repos", "events_url": "https://api.github.com/users/cristianomalossi/events{/privacy}", "received_events_url": "https://api.github.com/users/cristianomalossi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-24T07:43:23Z", "updated_at": "2018-05-24T11:07:49Z", "author_association": "NONE", "body_html": "<p>Thank you for the help! I really look forward for the results of your experiments.</p>\n<p>With respect to my tests one clarification. I also had the issue during compilation and I solved it with a trick: I implemented a short script that runs in the background during the installation, and swap the libpng.a file generated by tensorflow with mine.</p>\n<pre><code># TRY TO FIX LIBPNG\nMONITORDIR=$install_path/tensorflow-git/bazel-out/ppc-py3-opt/bin/external/png_archive/\n\n# REMOVE OLD TF LIBPNG\nrm -rf $MONITORDIR/libpng.a\n\n# WAIT UNTIL TF CREATES IT AGAIN\nwhile [ ! -f $MONITORDIR/libpng.a ]\ndo\n    sleep 1\ndone\n\n# REPLACE TF LIBPNG WITH MINE\ncd $MONITORDIR\nrm -rf libpng.a\ncp -f $LIBPNG_PATH/lib/lib* .\ncd -\n</code></pre>\n<p>This helps during compilation, however during execution I end up with the issue above. So I believe that somewhere else the wrong libpng is still linked... same with 1.8.0</p>", "body_text": "Thank you for the help! I really look forward for the results of your experiments.\nWith respect to my tests one clarification. I also had the issue during compilation and I solved it with a trick: I implemented a short script that runs in the background during the installation, and swap the libpng.a file generated by tensorflow with mine.\n# TRY TO FIX LIBPNG\nMONITORDIR=$install_path/tensorflow-git/bazel-out/ppc-py3-opt/bin/external/png_archive/\n\n# REMOVE OLD TF LIBPNG\nrm -rf $MONITORDIR/libpng.a\n\n# WAIT UNTIL TF CREATES IT AGAIN\nwhile [ ! -f $MONITORDIR/libpng.a ]\ndo\n    sleep 1\ndone\n\n# REPLACE TF LIBPNG WITH MINE\ncd $MONITORDIR\nrm -rf libpng.a\ncp -f $LIBPNG_PATH/lib/lib* .\ncd -\n\nThis helps during compilation, however during execution I end up with the issue above. So I believe that somewhere else the wrong libpng is still linked... same with 1.8.0", "body": "Thank you for the help! I really look forward for the results of your experiments.\r\n\r\nWith respect to my tests one clarification. I also had the issue during compilation and I solved it with a trick: I implemented a short script that runs in the background during the installation, and swap the libpng.a file generated by tensorflow with mine. \r\n\r\n```\r\n# TRY TO FIX LIBPNG\r\nMONITORDIR=$install_path/tensorflow-git/bazel-out/ppc-py3-opt/bin/external/png_archive/\r\n\r\n# REMOVE OLD TF LIBPNG\r\nrm -rf $MONITORDIR/libpng.a\r\n\r\n# WAIT UNTIL TF CREATES IT AGAIN\r\nwhile [ ! -f $MONITORDIR/libpng.a ]\r\ndo\r\n    sleep 1\r\ndone\r\n\r\n# REPLACE TF LIBPNG WITH MINE\r\ncd $MONITORDIR\r\nrm -rf libpng.a\r\ncp -f $LIBPNG_PATH/lib/lib* .\r\ncd -\r\n``` \r\n\r\nThis helps during compilation, however during execution I end up with the issue above. So I believe that somewhere else the wrong libpng is still linked... same with 1.8.0\r\n\r\n"}