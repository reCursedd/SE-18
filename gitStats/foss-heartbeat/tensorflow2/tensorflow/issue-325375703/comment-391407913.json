{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/391407913", "html_url": "https://github.com/tensorflow/tensorflow/issues/19466#issuecomment-391407913", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19466", "id": 391407913, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTQwNzkxMw==", "user": {"login": "maxwellc-dal", "id": 28496211, "node_id": "MDQ6VXNlcjI4NDk2MjEx", "avatar_url": "https://avatars0.githubusercontent.com/u/28496211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxwellc-dal", "html_url": "https://github.com/maxwellc-dal", "followers_url": "https://api.github.com/users/maxwellc-dal/followers", "following_url": "https://api.github.com/users/maxwellc-dal/following{/other_user}", "gists_url": "https://api.github.com/users/maxwellc-dal/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxwellc-dal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxwellc-dal/subscriptions", "organizations_url": "https://api.github.com/users/maxwellc-dal/orgs", "repos_url": "https://api.github.com/users/maxwellc-dal/repos", "events_url": "https://api.github.com/users/maxwellc-dal/events{/privacy}", "received_events_url": "https://api.github.com/users/maxwellc-dal/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-23T16:17:43Z", "updated_at": "2018-05-23T16:18:41Z", "author_association": "NONE", "body_html": "<p>My preliminary comment is that we need to ask for <a href=\"https://github.com/glennrp/libpng/blob/libpng16/scripts/pnglibconf.h.prebuilt\">https://github.com/glennrp/libpng/blob/libpng16/scripts/pnglibconf.h.prebuilt</a> to be updated with<br>\n<code>+ #define PNG_POWERPC_VSX_OPT 2</code><br>\nor</p>\n<pre><code>&lt; /*#undef PNG_POWERPC_VSX_CHECK_SUPPORTED*/\n&gt; #define PNG_POWERPC_VSX_CHECK_SUPPORTED\n\n</code></pre>\n<p>But I am not sure about the propagation of that git repo into <a href=\"https://mirror.bazel.build/github.com/glennrp/libpng/archive/v1.6.34.tar.gz\" rel=\"nofollow\">https://mirror.bazel.build/github.com/glennrp/libpng/archive/v1.6.34.tar.gz</a></p>\n<p>In the mean time, I am trying out updating tensorflow/workspace.bzl to swap out the mirror.bazel... link to a local one with updated scripts/pnglibconf.h.prebuilt to see if that resolves it.   I will get back to you with the results.   (Just to be clear, I am as much a tourist to the TF and Bazel projects as you, but have almost the same environment.  So if there any TF project/Bazel natives that want to chime in, you will be much more competent at commenting on the unintended consequences of this proposed change on the x64 world or style points on the modifications to the Bazel workspace.)   Anyway I will get back to you with the results of my experiment, but in the mean time if I ultimately fail, this might give you another guidepost to follow on your setup.</p>\n<p>By the way, I am getting stalled during the compilation rather than at the python import, but it is on the same symbol so I think we are on the same road and any solutions one of us has is likely to the helpful to the other.</p>", "body_text": "My preliminary comment is that we need to ask for https://github.com/glennrp/libpng/blob/libpng16/scripts/pnglibconf.h.prebuilt to be updated with\n+ #define PNG_POWERPC_VSX_OPT 2\nor\n< /*#undef PNG_POWERPC_VSX_CHECK_SUPPORTED*/\n> #define PNG_POWERPC_VSX_CHECK_SUPPORTED\n\n\nBut I am not sure about the propagation of that git repo into https://mirror.bazel.build/github.com/glennrp/libpng/archive/v1.6.34.tar.gz\nIn the mean time, I am trying out updating tensorflow/workspace.bzl to swap out the mirror.bazel... link to a local one with updated scripts/pnglibconf.h.prebuilt to see if that resolves it.   I will get back to you with the results.   (Just to be clear, I am as much a tourist to the TF and Bazel projects as you, but have almost the same environment.  So if there any TF project/Bazel natives that want to chime in, you will be much more competent at commenting on the unintended consequences of this proposed change on the x64 world or style points on the modifications to the Bazel workspace.)   Anyway I will get back to you with the results of my experiment, but in the mean time if I ultimately fail, this might give you another guidepost to follow on your setup.\nBy the way, I am getting stalled during the compilation rather than at the python import, but it is on the same symbol so I think we are on the same road and any solutions one of us has is likely to the helpful to the other.", "body": "My preliminary comment is that we need to ask for https://github.com/glennrp/libpng/blob/libpng16/scripts/pnglibconf.h.prebuilt to be updated with\r\n`+ #define PNG_POWERPC_VSX_OPT 2`\r\nor\r\n```\r\n< /*#undef PNG_POWERPC_VSX_CHECK_SUPPORTED*/\r\n> #define PNG_POWERPC_VSX_CHECK_SUPPORTED\r\n\r\n```\r\nBut I am not sure about the propagation of that git repo into https://mirror.bazel.build/github.com/glennrp/libpng/archive/v1.6.34.tar.gz\r\n\r\nIn the mean time, I am trying out updating tensorflow/workspace.bzl to swap out the mirror.bazel... link to a local one with updated scripts/pnglibconf.h.prebuilt to see if that resolves it.   I will get back to you with the results.   (Just to be clear, I am as much a tourist to the TF and Bazel projects as you, but have almost the same environment.  So if there any TF project/Bazel natives that want to chime in, you will be much more competent at commenting on the unintended consequences of this proposed change on the x64 world or style points on the modifications to the Bazel workspace.)   Anyway I will get back to you with the results of my experiment, but in the mean time if I ultimately fail, this might give you another guidepost to follow on your setup.\r\n\r\nBy the way, I am getting stalled during the compilation rather than at the python import, but it is on the same symbol so I think we are on the same road and any solutions one of us has is likely to the helpful to the other.\r\n"}