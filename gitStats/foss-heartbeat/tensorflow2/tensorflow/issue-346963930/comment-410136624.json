{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/410136624", "html_url": "https://github.com/tensorflow/tensorflow/issues/21338#issuecomment-410136624", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21338", "id": 410136624, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDEzNjYyNA==", "user": {"login": "wrongtest", "id": 7600935, "node_id": "MDQ6VXNlcjc2MDA5MzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7600935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wrongtest", "html_url": "https://github.com/wrongtest", "followers_url": "https://api.github.com/users/wrongtest/followers", "following_url": "https://api.github.com/users/wrongtest/following{/other_user}", "gists_url": "https://api.github.com/users/wrongtest/gists{/gist_id}", "starred_url": "https://api.github.com/users/wrongtest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wrongtest/subscriptions", "organizations_url": "https://api.github.com/users/wrongtest/orgs", "repos_url": "https://api.github.com/users/wrongtest/repos", "events_url": "https://api.github.com/users/wrongtest/events{/privacy}", "received_events_url": "https://api.github.com/users/wrongtest/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-03T03:50:17Z", "updated_at": "2018-08-03T04:01:21Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1381301\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ppwwyyxx\">@ppwwyyxx</a>  Thanks for your nice notes! The error disappears after I change to NCWH.</p>\n<p>I go through some test cases and find that most of them just do a session.run() and check result with function like assertAllClose(). And rare case of cudaGetLastError() or cudaPeekAtLastError() are used directly in tf repo (Does it mean kernel error will somewhat \"broadcast\" into execution engine?).</p>\n<p>In WhereOp case, the error seems to finally get detected in nvidia cub lib <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/where_op_gpu.cu.h#L21\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/where_op_gpu.cu.h#L21</a></p>\n<p>Any idea about mechanism to do such kind of checking in python?</p>\n<h1></h1>", "body_text": "@ppwwyyxx  Thanks for your nice notes! The error disappears after I change to NCWH.\nI go through some test cases and find that most of them just do a session.run() and check result with function like assertAllClose(). And rare case of cudaGetLastError() or cudaPeekAtLastError() are used directly in tf repo (Does it mean kernel error will somewhat \"broadcast\" into execution engine?).\nIn WhereOp case, the error seems to finally get detected in nvidia cub lib https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/where_op_gpu.cu.h#L21\nAny idea about mechanism to do such kind of checking in python?", "body": "@ppwwyyxx  Thanks for your nice notes! The error disappears after I change to NCWH.\r\n\r\nI go through some test cases and find that most of them just do a session.run() and check result with function like assertAllClose(). And rare case of cudaGetLastError() or cudaPeekAtLastError() are used directly in tf repo (Does it mean kernel error will somewhat \"broadcast\" into execution engine?). \r\n\r\nIn WhereOp case, the error seems to finally get detected in nvidia cub lib https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/where_op_gpu.cu.h#L21\r\n\r\nAny idea about mechanism to do such kind of checking in python? \r\n#"}