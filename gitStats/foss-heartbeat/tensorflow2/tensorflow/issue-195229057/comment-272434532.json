{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/272434532", "html_url": "https://github.com/tensorflow/tensorflow/pull/6280#issuecomment-272434532", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6280", "id": 272434532, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjQzNDUzMg==", "user": {"login": "ppries", "id": 7548590, "node_id": "MDQ6VXNlcjc1NDg1OTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/7548590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppries", "html_url": "https://github.com/ppries", "followers_url": "https://api.github.com/users/ppries/followers", "following_url": "https://api.github.com/users/ppries/following{/other_user}", "gists_url": "https://api.github.com/users/ppries/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppries/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppries/subscriptions", "organizations_url": "https://api.github.com/users/ppries/orgs", "repos_url": "https://api.github.com/users/ppries/repos", "events_url": "https://api.github.com/users/ppries/events{/privacy}", "received_events_url": "https://api.github.com/users/ppries/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-13T12:41:27Z", "updated_at": "2017-01-13T12:41:27Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I've added a test for the case of unknown dimensions \u2013 the known dimensions case is already handled in testFlattenBatchSize, and it seems silly to add another identical test only for semantics. Let me know if you disagree.</p>\n<p>It is currently failing testInvalidRank, which I can fix by checking the length of get_shape and reverting to the previous way of asserting rank &gt; 2 (it is currently done using TF control_flow ops). This then assumes that the rank is static \u2013 I don't know enough about TF to know if that is a problem.</p>\n<p>In any case, I am already using some information from get_shape to decide whether I can propagate shape information to outputs or not, so it might not be an issue. Let me know what you think, then I'll make whatever changes are needed to pass all tests.</p>", "body_text": "I've added a test for the case of unknown dimensions \u2013 the known dimensions case is already handled in testFlattenBatchSize, and it seems silly to add another identical test only for semantics. Let me know if you disagree.\nIt is currently failing testInvalidRank, which I can fix by checking the length of get_shape and reverting to the previous way of asserting rank > 2 (it is currently done using TF control_flow ops). This then assumes that the rank is static \u2013 I don't know enough about TF to know if that is a problem.\nIn any case, I am already using some information from get_shape to decide whether I can propagate shape information to outputs or not, so it might not be an issue. Let me know what you think, then I'll make whatever changes are needed to pass all tests.", "body": "I've added a test for the case of unknown dimensions \u2013 the known dimensions case is already handled in testFlattenBatchSize, and it seems silly to add another identical test only for semantics. Let me know if you disagree.\r\n\r\nIt is currently failing testInvalidRank, which I can fix by checking the length of get_shape and reverting to the previous way of asserting rank > 2 (it is currently done using TF control_flow ops). This then assumes that the rank is static \u2013 I don't know enough about TF to know if that is a problem. \r\n\r\nIn any case, I am already using some information from get_shape to decide whether I can propagate shape information to outputs or not, so it might not be an issue. Let me know what you think, then I'll make whatever changes are needed to pass all tests."}