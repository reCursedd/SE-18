{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/388567311", "html_url": "https://github.com/tensorflow/tensorflow/issues/19246#issuecomment-388567311", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19246", "id": 388567311, "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODU2NzMxMQ==", "user": {"login": "avielas", "id": 13708541, "node_id": "MDQ6VXNlcjEzNzA4NTQx", "avatar_url": "https://avatars3.githubusercontent.com/u/13708541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avielas", "html_url": "https://github.com/avielas", "followers_url": "https://api.github.com/users/avielas/followers", "following_url": "https://api.github.com/users/avielas/following{/other_user}", "gists_url": "https://api.github.com/users/avielas/gists{/gist_id}", "starred_url": "https://api.github.com/users/avielas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avielas/subscriptions", "organizations_url": "https://api.github.com/users/avielas/orgs", "repos_url": "https://api.github.com/users/avielas/repos", "events_url": "https://api.github.com/users/avielas/events{/privacy}", "received_events_url": "https://api.github.com/users/avielas/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-12T16:39:48Z", "updated_at": "2018-05-12T16:40:36Z", "author_association": "NONE", "body_html": "<p>I solved it by re-save the model with simple_save functoin. here is the  code:</p>\n<pre><code>tf.reset_default_graph()\nsess = tf.Session()\nnew_graph = tf.Graph()\nwith tf.Session(graph=new_graph) as sess:\n    saver = tf.train.import_meta_graph('model_name.meta', clear_devices=True)\n    saver.restore(sess, \"./model_name\")\n    export_path = 'path to create the new model'\n    shutil.rmtree(export_path)\n    tf.saved_model.simple_save(sess, export_path, inputs={\"x\": x}, outputs={\"y_pred\": y_pred})\n</code></pre>", "body_text": "I solved it by re-save the model with simple_save functoin. here is the  code:\ntf.reset_default_graph()\nsess = tf.Session()\nnew_graph = tf.Graph()\nwith tf.Session(graph=new_graph) as sess:\n    saver = tf.train.import_meta_graph('model_name.meta', clear_devices=True)\n    saver.restore(sess, \"./model_name\")\n    export_path = 'path to create the new model'\n    shutil.rmtree(export_path)\n    tf.saved_model.simple_save(sess, export_path, inputs={\"x\": x}, outputs={\"y_pred\": y_pred})", "body": "I solved it by re-save the model with simple_save functoin. here is the  code:\r\n    \r\n    tf.reset_default_graph()\r\n    sess = tf.Session()\r\n    new_graph = tf.Graph()\r\n    with tf.Session(graph=new_graph) as sess:\r\n        saver = tf.train.import_meta_graph('model_name.meta', clear_devices=True)\r\n        saver.restore(sess, \"./model_name\")\r\n        export_path = 'path to create the new model'\r\n        shutil.rmtree(export_path)\r\n        tf.saved_model.simple_save(sess, export_path, inputs={\"x\": x}, outputs={\"y_pred\": y_pred})"}