{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/343125341", "html_url": "https://github.com/tensorflow/tensorflow/issues/14363#issuecomment-343125341", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14363", "id": 343125341, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzEyNTM0MQ==", "user": {"login": "ljanyst", "id": 126975, "node_id": "MDQ6VXNlcjEyNjk3NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/126975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ljanyst", "html_url": "https://github.com/ljanyst", "followers_url": "https://api.github.com/users/ljanyst/followers", "following_url": "https://api.github.com/users/ljanyst/following{/other_user}", "gists_url": "https://api.github.com/users/ljanyst/gists{/gist_id}", "starred_url": "https://api.github.com/users/ljanyst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ljanyst/subscriptions", "organizations_url": "https://api.github.com/users/ljanyst/orgs", "repos_url": "https://api.github.com/users/ljanyst/repos", "events_url": "https://api.github.com/users/ljanyst/events{/privacy}", "received_events_url": "https://api.github.com/users/ljanyst/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-09T11:20:51Z", "updated_at": "2017-11-09T11:20:51Z", "author_association": "NONE", "body_html": "<p>Thanks for the hint <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15736910\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zheng-xq\">@zheng-xq</a> ! I have had a closer look, and the offending kernel seems to be:</p>\n<pre><code>CUDA Exception: Warp Out-of-range Address\n\nThread 28 \"python\" received signal CUDA_EXCEPTION_5, Warp Out-of-range Address.\n[Switching focus to CUDA kernel 1994, grid 1995, block (0,0,0), thread (128,0,0), device 0, sm 0, warp 6, lane 0]\n0x00007ffe7ac23a50 in volta_scudnn_128x128_stridedB_splitK_xregs_large_nn_v1_LOOP&lt;&lt;&lt;(5,1,160),(256,1,1)&gt;&gt;&gt; ()\n(cuda-gdb) info cuda kernels\n  Kernel Parent Dev Grid Status   SMs Mask   GridDim  BlockDim Invocation \n*   1994      -   0 1995 Active 0xffffffff (5,1,160) (256,1,1) .text.volta_scudnn_128x128_stridedB_splitK_xregs_large_nn_v1() \n</code></pre>\n<p>I was unable to get any useful host-side stack trace because there appears to by something wrong with the DWARF symbols: <code>Unable to access DWARF register number 83886081</code>. I am not sure whether it's about the symbols in CUDA/cuDDN or in TensorFlow. Do you think that recompiling TensorFlow in debug mode will help? If so, how do I pass extra parameters to nvcc with Bazel?</p>", "body_text": "Thanks for the hint @zheng-xq ! I have had a closer look, and the offending kernel seems to be:\nCUDA Exception: Warp Out-of-range Address\n\nThread 28 \"python\" received signal CUDA_EXCEPTION_5, Warp Out-of-range Address.\n[Switching focus to CUDA kernel 1994, grid 1995, block (0,0,0), thread (128,0,0), device 0, sm 0, warp 6, lane 0]\n0x00007ffe7ac23a50 in volta_scudnn_128x128_stridedB_splitK_xregs_large_nn_v1_LOOP<<<(5,1,160),(256,1,1)>>> ()\n(cuda-gdb) info cuda kernels\n  Kernel Parent Dev Grid Status   SMs Mask   GridDim  BlockDim Invocation \n*   1994      -   0 1995 Active 0xffffffff (5,1,160) (256,1,1) .text.volta_scudnn_128x128_stridedB_splitK_xregs_large_nn_v1() \n\nI was unable to get any useful host-side stack trace because there appears to by something wrong with the DWARF symbols: Unable to access DWARF register number 83886081. I am not sure whether it's about the symbols in CUDA/cuDDN or in TensorFlow. Do you think that recompiling TensorFlow in debug mode will help? If so, how do I pass extra parameters to nvcc with Bazel?", "body": "Thanks for the hint @zheng-xq ! I have had a closer look, and the offending kernel seems to be:\r\n\r\n```\r\nCUDA Exception: Warp Out-of-range Address\r\n\r\nThread 28 \"python\" received signal CUDA_EXCEPTION_5, Warp Out-of-range Address.\r\n[Switching focus to CUDA kernel 1994, grid 1995, block (0,0,0), thread (128,0,0), device 0, sm 0, warp 6, lane 0]\r\n0x00007ffe7ac23a50 in volta_scudnn_128x128_stridedB_splitK_xregs_large_nn_v1_LOOP<<<(5,1,160),(256,1,1)>>> ()\r\n(cuda-gdb) info cuda kernels\r\n  Kernel Parent Dev Grid Status   SMs Mask   GridDim  BlockDim Invocation \r\n*   1994      -   0 1995 Active 0xffffffff (5,1,160) (256,1,1) .text.volta_scudnn_128x128_stridedB_splitK_xregs_large_nn_v1() \r\n```\r\n\r\nI was unable to get any useful host-side stack trace because there appears to by something wrong with the DWARF symbols: `Unable to access DWARF register number 83886081`. I am not sure whether it's about the symbols in CUDA/cuDDN or in TensorFlow. Do you think that recompiling TensorFlow in debug mode will help? If so, how do I pass extra parameters to nvcc with Bazel?"}