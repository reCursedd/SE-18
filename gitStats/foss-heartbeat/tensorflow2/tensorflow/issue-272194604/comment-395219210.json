{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/395219210", "html_url": "https://github.com/tensorflow/tensorflow/issues/14363#issuecomment-395219210", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14363", "id": 395219210, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTIxOTIxMA==", "user": {"login": "lcnature", "id": 7763789, "node_id": "MDQ6VXNlcjc3NjM3ODk=", "avatar_url": "https://avatars2.githubusercontent.com/u/7763789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnature", "html_url": "https://github.com/lcnature", "followers_url": "https://api.github.com/users/lcnature/followers", "following_url": "https://api.github.com/users/lcnature/following{/other_user}", "gists_url": "https://api.github.com/users/lcnature/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnature/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnature/subscriptions", "organizations_url": "https://api.github.com/users/lcnature/orgs", "repos_url": "https://api.github.com/users/lcnature/repos", "events_url": "https://api.github.com/users/lcnature/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnature/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-06T21:26:24Z", "updated_at": "2018-06-06T21:29:15Z", "author_association": "NONE", "body_html": "<p>I still encounter the same problem as others reported, with CUDA 9.0 and cudnn 7.0.2.</p>\n<p>If I tried cudnn 7.1.2, I got a different error:</p>\n<pre lang=\"File\" data-meta=\"&quot;/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python\"><code>/client/session.py\", line 1340, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InternalError: cudnn PoolForward launch \nfailed\n         [[Node: AvgPool3D_15 = AvgPool3D[T=DT_FLOAT, data_format=\"NDHWC\", ksize\n=[1, 2, 2, 2, 1], padding=\"SAME\", strides=[1, 2, 2, 2, 1], _device=\"/job:localho\nst/replica:0/task:0/device:GPU:1\"](ExpandDims_1)]]\n         [[Node: mul_29/_23 = _Recv[client_terminated=false, recv_device=\"/job:l\nocalhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/t\nask:0/device:GPU:1\", send_device_incarnation=1, tensor_name=\"edge_47_mul_29\", te\nnsor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\n\nCaused by op 'AvgPool3D_15', defined at:\n [hiding lines related to customer codes]\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 177, in avg_pool3d\n    padding=padding, data_format=data_format, name=name)\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 3290, in create_op\n    op_def=op_def)\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1654, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInternalError (see above for traceback): cudnn PoolForward launch failed\n         [[Node: AvgPool3D_15 = AvgPool3D[T=DT_FLOAT, data_format=\"NDHWC\", ksize=[1, 2, 2, 2, 1], padding=\"SAME\", strides=[1, 2, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:1\"](ExpandDims_1)]]\n         [[Node: mul_29/_23 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:1\", send_device_incarnation=1, tensor_name=\"edge_47_mul_29\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\n</code></pre>\n<p>These happen for multiple versions of tensorflow I tried, from 1.5 to 1.7</p>", "body_text": "I still encounter the same problem as others reported, with CUDA 9.0 and cudnn 7.0.2.\nIf I tried cudnn 7.1.2, I got a different error:\n/client/session.py\", line 1340, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InternalError: cudnn PoolForward launch \nfailed\n         [[Node: AvgPool3D_15 = AvgPool3D[T=DT_FLOAT, data_format=\"NDHWC\", ksize\n=[1, 2, 2, 2, 1], padding=\"SAME\", strides=[1, 2, 2, 2, 1], _device=\"/job:localho\nst/replica:0/task:0/device:GPU:1\"](ExpandDims_1)]]\n         [[Node: mul_29/_23 = _Recv[client_terminated=false, recv_device=\"/job:l\nocalhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/t\nask:0/device:GPU:1\", send_device_incarnation=1, tensor_name=\"edge_47_mul_29\", te\nnsor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\n\nCaused by op 'AvgPool3D_15', defined at:\n [hiding lines related to customer codes]\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 177, in avg_pool3d\n    padding=padding, data_format=data_format, name=name)\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 3290, in create_op\n    op_def=op_def)\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1654, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInternalError (see above for traceback): cudnn PoolForward launch failed\n         [[Node: AvgPool3D_15 = AvgPool3D[T=DT_FLOAT, data_format=\"NDHWC\", ksize=[1, 2, 2, 2, 1], padding=\"SAME\", strides=[1, 2, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:1\"](ExpandDims_1)]]\n         [[Node: mul_29/_23 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:1\", send_device_incarnation=1, tensor_name=\"edge_47_mul_29\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\n\nThese happen for multiple versions of tensorflow I tried, from 1.5 to 1.7", "body": "I still encounter the same problem as others reported, with CUDA 9.0 and cudnn 7.0.2. \r\n\r\nIf I tried cudnn 7.1.2, I got a different error:\r\n```  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python\r\n/client/session.py\", line 1340, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InternalError: cudnn PoolForward launch \r\nfailed\r\n         [[Node: AvgPool3D_15 = AvgPool3D[T=DT_FLOAT, data_format=\"NDHWC\", ksize\r\n=[1, 2, 2, 2, 1], padding=\"SAME\", strides=[1, 2, 2, 2, 1], _device=\"/job:localho\r\nst/replica:0/task:0/device:GPU:1\"](ExpandDims_1)]]\r\n         [[Node: mul_29/_23 = _Recv[client_terminated=false, recv_device=\"/job:l\r\nocalhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/t\r\nask:0/device:GPU:1\", send_device_incarnation=1, tensor_name=\"edge_47_mul_29\", te\r\nnsor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\n\r\nCaused by op 'AvgPool3D_15', defined at:\r\n [hiding lines related to customer codes]\r\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 177, in avg_pool3d\r\n    padding=padding, data_format=data_format, name=name)\r\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 3290, in create_op\r\n    op_def=op_def)\r\n  File \"/home/xxx/.conda/envs/tf2/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1654, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\nInternalError (see above for traceback): cudnn PoolForward launch failed\r\n         [[Node: AvgPool3D_15 = AvgPool3D[T=DT_FLOAT, data_format=\"NDHWC\", ksize=[1, 2, 2, 2, 1], padding=\"SAME\", strides=[1, 2, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:1\"](ExpandDims_1)]]\r\n         [[Node: mul_29/_23 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:1\", send_device_incarnation=1, tensor_name=\"edge_47_mul_29\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\n```\r\n\r\nThese happen for multiple versions of tensorflow I tried, from 1.5 to 1.7"}