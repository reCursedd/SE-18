{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/393893456", "html_url": "https://github.com/tensorflow/tensorflow/issues/14363#issuecomment-393893456", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14363", "id": 393893456, "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mzg5MzQ1Ng==", "user": {"login": "weiliu620", "id": 6721243, "node_id": "MDQ6VXNlcjY3MjEyNDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6721243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weiliu620", "html_url": "https://github.com/weiliu620", "followers_url": "https://api.github.com/users/weiliu620/followers", "following_url": "https://api.github.com/users/weiliu620/following{/other_user}", "gists_url": "https://api.github.com/users/weiliu620/gists{/gist_id}", "starred_url": "https://api.github.com/users/weiliu620/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weiliu620/subscriptions", "organizations_url": "https://api.github.com/users/weiliu620/orgs", "repos_url": "https://api.github.com/users/weiliu620/repos", "events_url": "https://api.github.com/users/weiliu620/events{/privacy}", "received_events_url": "https://api.github.com/users/weiliu620/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-01T14:13:32Z", "updated_at": "2018-06-01T14:14:14Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=10890884\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/juliebernauer\">@juliebernauer</a> so my understanding is v9.1 has the fix. but I'm having the same error</p>\n<pre><code>2018-06-01 09:49:37.379160: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties:\nname: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531\npciBusID: 0000:06:00.0\ntotalMemory: 22.38GiB freeMemory: 22.21GiB\n2018-06-01 09:49:37.379206: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\n2018-06-01 09:49:37.673924: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-06-01 09:49:37.673988: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0\n2018-06-01 09:49:37.673996: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N\n2018-06-01 09:49:37.674543: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 21559 MB memory) -&gt; physical GPU (device: 0, name: Tesla P40, pci bus id: 0000:06:00.0, compute capability: 6.1)\n2018-06-01 09:49:44.636341: E tensorflow/stream_executor/cuda/cuda_driver.cc:1080] failed to synchronize the stop event: CUDA_ERROR_ILLEGAL_ADDRESS\n2018-06-01 09:49:44.636422: E tensorflow/stream_executor/cuda/cuda_timer.cc:54] Internal: error destroying CUDA event in context 0x6ab0fb0: CUDA_ERROR_ILLEGAL_ADDRESS\n2018-06-01 09:49:44.636433: E tensorflow/stream_executor/cuda/cuda_timer.cc:59] Internal: error destroying CUDA event in context 0x6ab0fb0: CUDA_ERROR_ILLEGAL_ADDRESS\n2018-06-01 09:49:44.636483: F tensorflow/stream_executor/cuda/cuda_dnn.cc:2328] failed to set stream for cudnn handle: CUDNN_STATUS_MAPPING_ERROR\nAborted\n</code></pre>\n<p>I'm on Red hat EL 7, CUDA V9.1.85 (as seen from <code>nvcc --version</code>) and TF 1.7.</p>\n<p>Do I need to upgrade to CUDA 9.2?</p>", "body_text": "@juliebernauer so my understanding is v9.1 has the fix. but I'm having the same error\n2018-06-01 09:49:37.379160: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties:\nname: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531\npciBusID: 0000:06:00.0\ntotalMemory: 22.38GiB freeMemory: 22.21GiB\n2018-06-01 09:49:37.379206: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\n2018-06-01 09:49:37.673924: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-06-01 09:49:37.673988: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0\n2018-06-01 09:49:37.673996: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N\n2018-06-01 09:49:37.674543: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 21559 MB memory) -> physical GPU (device: 0, name: Tesla P40, pci bus id: 0000:06:00.0, compute capability: 6.1)\n2018-06-01 09:49:44.636341: E tensorflow/stream_executor/cuda/cuda_driver.cc:1080] failed to synchronize the stop event: CUDA_ERROR_ILLEGAL_ADDRESS\n2018-06-01 09:49:44.636422: E tensorflow/stream_executor/cuda/cuda_timer.cc:54] Internal: error destroying CUDA event in context 0x6ab0fb0: CUDA_ERROR_ILLEGAL_ADDRESS\n2018-06-01 09:49:44.636433: E tensorflow/stream_executor/cuda/cuda_timer.cc:59] Internal: error destroying CUDA event in context 0x6ab0fb0: CUDA_ERROR_ILLEGAL_ADDRESS\n2018-06-01 09:49:44.636483: F tensorflow/stream_executor/cuda/cuda_dnn.cc:2328] failed to set stream for cudnn handle: CUDNN_STATUS_MAPPING_ERROR\nAborted\n\nI'm on Red hat EL 7, CUDA V9.1.85 (as seen from nvcc --version) and TF 1.7.\nDo I need to upgrade to CUDA 9.2?", "body": "@juliebernauer so my understanding is v9.1 has the fix. but I'm having the same error \r\n```\r\n2018-06-01 09:49:37.379160: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties:\r\nname: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531\r\npciBusID: 0000:06:00.0\r\ntotalMemory: 22.38GiB freeMemory: 22.21GiB\r\n2018-06-01 09:49:37.379206: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\r\n2018-06-01 09:49:37.673924: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-06-01 09:49:37.673988: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0\r\n2018-06-01 09:49:37.673996: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N\r\n2018-06-01 09:49:37.674543: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 21559 MB memory) -> physical GPU (device: 0, name: Tesla P40, pci bus id: 0000:06:00.0, compute capability: 6.1)\r\n2018-06-01 09:49:44.636341: E tensorflow/stream_executor/cuda/cuda_driver.cc:1080] failed to synchronize the stop event: CUDA_ERROR_ILLEGAL_ADDRESS\r\n2018-06-01 09:49:44.636422: E tensorflow/stream_executor/cuda/cuda_timer.cc:54] Internal: error destroying CUDA event in context 0x6ab0fb0: CUDA_ERROR_ILLEGAL_ADDRESS\r\n2018-06-01 09:49:44.636433: E tensorflow/stream_executor/cuda/cuda_timer.cc:59] Internal: error destroying CUDA event in context 0x6ab0fb0: CUDA_ERROR_ILLEGAL_ADDRESS\r\n2018-06-01 09:49:44.636483: F tensorflow/stream_executor/cuda/cuda_dnn.cc:2328] failed to set stream for cudnn handle: CUDNN_STATUS_MAPPING_ERROR\r\nAborted\r\n```\r\n\r\nI'm on Red hat EL 7, CUDA V9.1.85 (as seen from `nvcc --version`) and TF 1.7. \r\n\r\nDo I need to upgrade to CUDA 9.2?"}