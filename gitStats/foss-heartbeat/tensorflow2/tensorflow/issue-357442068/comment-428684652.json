{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/428684652", "html_url": "https://github.com/tensorflow/tensorflow/issues/22102#issuecomment-428684652", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22102", "id": 428684652, "node_id": "MDEyOklzc3VlQ29tbWVudDQyODY4NDY1Mg==", "user": {"login": "vishalsubbiah", "id": 3079888, "node_id": "MDQ6VXNlcjMwNzk4ODg=", "avatar_url": "https://avatars3.githubusercontent.com/u/3079888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vishalsubbiah", "html_url": "https://github.com/vishalsubbiah", "followers_url": "https://api.github.com/users/vishalsubbiah/followers", "following_url": "https://api.github.com/users/vishalsubbiah/following{/other_user}", "gists_url": "https://api.github.com/users/vishalsubbiah/gists{/gist_id}", "starred_url": "https://api.github.com/users/vishalsubbiah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vishalsubbiah/subscriptions", "organizations_url": "https://api.github.com/users/vishalsubbiah/orgs", "repos_url": "https://api.github.com/users/vishalsubbiah/repos", "events_url": "https://api.github.com/users/vishalsubbiah/events{/privacy}", "received_events_url": "https://api.github.com/users/vishalsubbiah/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-10T18:39:04Z", "updated_at": "2018-10-10T18:42:09Z", "author_association": "NONE", "body_html": "<p>So I did try again, with xla.compile,  and it didnt work, this was my stack trace:</p>\n<pre><code>2018-10-10 11:33:05.589418: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 3311865000 Hz\n2018-10-10 11:33:05.591668: I tensorflow/compiler/xla/service/service.cc:149] XLA service 0x7f3600060dd0 executing computations on platform Host. Devices:\n2018-10-10 11:33:05.591699: I tensorflow/compiler/xla/service/service.cc:157]   StreamExecutor device (0): &lt;undefined&gt;, &lt;undefined&gt;\n2018-10-10 11:33:05.618642: W tensorflow/core/framework/op_kernel.cc:1273] OP_REQUIRES failed at xla_ops.cc:290 : Invalid argument: Detected unsupported operations when trying to compile graph cluster_7643397997199028266_f15n_0[] on XLA_CPU_JIT: _Arg (No registered '_Arg' OpKernel for XLA_CPU_JIT devices compatible with node {{node iteratortostringhandle_0_arg}} = _Arg[T=DT_STRING, index=2]()\n\t (OpKernel was found, but attributes didn't match)\n\t.  Registered:  device='XLA_CPU_JIT'; T in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT8, ..., DT_QINT32, DT_HALF, DT_UINT32, DT_UINT64, DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_STRING]\n  device='XLA_CPU'; T in [DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_UINT8, DT_QUINT8, DT_INT8, DT_QINT8, DT_INT32, DT_QINT32, DT_INT64, DT_HALF, DT_FLOAT, DT_DOUBLE, DT_COMPLEX64, DT_BOOL]\n  device='CPU'\n  device='GPU'; T in [DT_STRING]\n  device='GPU'; T in [DT_RESOURCE]\n  device='GPU'; T in [DT_INT32]\n  device='GPU'; T in [DT_BOOL]\n  device='GPU'; T in [DT_COMPLEX128]\n  device='GPU'; T in [DT_COMPLEX64]\n  device='GPU'; T in [DT_INT8]\n  device='GPU'; T in [DT_UINT8]\n  device='GPU'; T in [DT_INT16]\n  device='GPU'; T in [DT_UINT16]\n  device='GPU'; T in [DT_INT64]\n  device='GPU'; T in [DT_DOUBLE]\n  device='GPU'; T in [DT_FLOAT]\n  device='GPU'; T in [DT_BFLOAT16]\n  device='GPU'; T in [DT_HALF]\n){{node iteratortostringhandle_0_arg}}\nTraceback (most recent call last):\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1334, in _do_call\n    return fn(*args)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1319, in _run_fn\n    options, feed_dict, fetch_list, target_list, run_metadata)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1407, in _call_tf_sessionrun\n    run_metadata)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Detected unsupported operations when trying to compile graph cluster_7643397997199028266_f15n_0[] on XLA_CPU_JIT: _Arg (No registered '_Arg' OpKernel for XLA_CPU_JIT devices compatible with node {{node iteratortostringhandle_0_arg}} = _Arg[T=DT_STRING, index=2]()\n\t (OpKernel was found, but attributes didn't match)\n\t.  Registered:  device='XLA_CPU_JIT'; T in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT8, ..., DT_QINT32, DT_HALF, DT_UINT32, DT_UINT64, DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_STRING]\n  device='XLA_CPU'; T in [DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_UINT8, DT_QUINT8, DT_INT8, DT_QINT8, DT_INT32, DT_QINT32, DT_INT64, DT_HALF, DT_FLOAT, DT_DOUBLE, DT_COMPLEX64, DT_BOOL]\n  device='CPU'\n  device='GPU'; T in [DT_STRING]\n  device='GPU'; T in [DT_RESOURCE]\n  device='GPU'; T in [DT_INT32]\n  device='GPU'; T in [DT_BOOL]\n  device='GPU'; T in [DT_COMPLEX128]\n  device='GPU'; T in [DT_COMPLEX64]\n  device='GPU'; T in [DT_INT8]\n  device='GPU'; T in [DT_UINT8]\n  device='GPU'; T in [DT_INT16]\n  device='GPU'; T in [DT_UINT16]\n  device='GPU'; T in [DT_INT64]\n  device='GPU'; T in [DT_DOUBLE]\n  device='GPU'; T in [DT_FLOAT]\n  device='GPU'; T in [DT_BFLOAT16]\n  device='GPU'; T in [DT_HALF]\n){{node iteratortostringhandle_0_arg}}\n\t [[{{node cluster}} = XlaLaunch[Nresources=9, Targs=[DT_FLOAT, DT_FLOAT, DT_STRING, DT_INT64, DT_INT64, ..., DT_INT32, DT_FLOAT, DT_BOOL, DT_FLOAT, DT_FLOAT], Tconstants=[], Tresults=[DT_FLOAT, DT_INT32, DT_INT32, DT_INT32, DT_INT32, ..., DT_INT32, DT_FLOAT, DT_INT32, DT_INT32, DT_FLOAT], function=cluster_7643397997199028266_f15n_0[], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](IteratorGetNext, IteratorGetNext:1, IteratorToStringHandle, batch_size, count, drop_remainder, tensors/component_0, tensors/component_1, test_conv/func/lstm_cell/bias/Initializer/zeros, test_conv/func/lstm_cell/bias/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/bias/Read/ReadVariableOp, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/RandomUniform, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/max, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/min, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/mul, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/shape, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/sub, test_conv/func/lstm_cell/kernel/Initializer/random_uniform, test_conv/func/lstm_cell/kernel/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/kernel/Read/ReadVariableOp, test_conv/rnn_final/final_layer/bias/Initializer/zeros, test_conv/rnn_final/final_layer/bias/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/bias/Read/ReadVariableOp, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/RandomUniform, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/max, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/min, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/mul, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/shape, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/sub, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform, test_conv/rnn_final/final_layer/kernel/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/kernel/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read_1/ReadVariableOp, OneShotIterator, test_conv/func/lstm_cell/bias, test_conv/func/lstm_cell/kernel, test_conv/rnn_final/final_layer/bias, test_conv/rnn_final/final_layer/kernel, test_conv/test_conv/func/lstm_cell/bias/Momentum, test_conv/test_conv/func/lstm_cell/kernel/Momentum, test_conv/test_conv/rnn_final/final_layer/bias/Momentum, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum)]]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"basic_rnn.py\", line 241, in &lt;module&gt;\n    sess.run(result)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 929, in run\n    run_metadata_ptr)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1152, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1328, in _do_run\n    run_metadata)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1348, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Detected unsupported operations when trying to compile graph cluster_7643397997199028266_f15n_0[] on XLA_CPU_JIT: _Arg (No registered '_Arg' OpKernel for XLA_CPU_JIT devices compatible with node {{node iteratortostringhandle_0_arg}} = _Arg[T=DT_STRING, index=2]()\n\t (OpKernel was found, but attributes didn't match)\n\t.  Registered:  device='XLA_CPU_JIT'; T in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT8, ..., DT_QINT32, DT_HALF, DT_UINT32, DT_UINT64, DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_STRING]\n  device='XLA_CPU'; T in [DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_UINT8, DT_QUINT8, DT_INT8, DT_QINT8, DT_INT32, DT_QINT32, DT_INT64, DT_HALF, DT_FLOAT, DT_DOUBLE, DT_COMPLEX64, DT_BOOL]\n  device='CPU'\n  device='GPU'; T in [DT_STRING]\n  device='GPU'; T in [DT_RESOURCE]\n  device='GPU'; T in [DT_INT32]\n  device='GPU'; T in [DT_BOOL]\n  device='GPU'; T in [DT_COMPLEX128]\n  device='GPU'; T in [DT_COMPLEX64]\n  device='GPU'; T in [DT_INT8]\n  device='GPU'; T in [DT_UINT8]\n  device='GPU'; T in [DT_INT16]\n  device='GPU'; T in [DT_UINT16]\n  device='GPU'; T in [DT_INT64]\n  device='GPU'; T in [DT_DOUBLE]\n  device='GPU'; T in [DT_FLOAT]\n  device='GPU'; T in [DT_BFLOAT16]\n  device='GPU'; T in [DT_HALF]\n){{node iteratortostringhandle_0_arg}}\n\t [[{{node cluster}} = XlaLaunch[Nresources=9, Targs=[DT_FLOAT, DT_FLOAT, DT_STRING, DT_INT64, DT_INT64, ..., DT_INT32, DT_FLOAT, DT_BOOL, DT_FLOAT, DT_FLOAT], Tconstants=[], Tresults=[DT_FLOAT, DT_INT32, DT_INT32, DT_INT32, DT_INT32, ..., DT_INT32, DT_FLOAT, DT_INT32, DT_INT32, DT_FLOAT], function=cluster_7643397997199028266_f15n_0[], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](IteratorGetNext, IteratorGetNext:1, IteratorToStringHandle, batch_size, count, drop_remainder, tensors/component_0, tensors/component_1, test_conv/func/lstm_cell/bias/Initializer/zeros, test_conv/func/lstm_cell/bias/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/bias/Read/ReadVariableOp, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/RandomUniform, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/max, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/min, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/mul, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/shape, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/sub, test_conv/func/lstm_cell/kernel/Initializer/random_uniform, test_conv/func/lstm_cell/kernel/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/kernel/Read/ReadVariableOp, test_conv/rnn_final/final_layer/bias/Initializer/zeros, test_conv/rnn_final/final_layer/bias/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/bias/Read/ReadVariableOp, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/RandomUniform, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/max, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/min, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/mul, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/shape, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/sub, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform, test_conv/rnn_final/final_layer/kernel/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/kernel/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read_1/ReadVariableOp, OneShotIterator, test_conv/func/lstm_cell/bias, test_conv/func/lstm_cell/kernel, test_conv/rnn_final/final_layer/bias, test_conv/rnn_final/final_layer/kernel, test_conv/test_conv/func/lstm_cell/bias/Momentum, test_conv/test_conv/func/lstm_cell/kernel/Momentum, test_conv/test_conv/rnn_final/final_layer/bias/Momentum, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum)]]\n</code></pre>\n<p>The code of the model I am trying to run is found <a href=\"https://github.com/tensorflow/tensorflow/issues/22216\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/22216/hovercard\">here</a> (issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"359178613\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/22216\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/22216/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/22216\">#22216</a>)</p>", "body_text": "So I did try again, with xla.compile,  and it didnt work, this was my stack trace:\n2018-10-10 11:33:05.589418: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 3311865000 Hz\n2018-10-10 11:33:05.591668: I tensorflow/compiler/xla/service/service.cc:149] XLA service 0x7f3600060dd0 executing computations on platform Host. Devices:\n2018-10-10 11:33:05.591699: I tensorflow/compiler/xla/service/service.cc:157]   StreamExecutor device (0): <undefined>, <undefined>\n2018-10-10 11:33:05.618642: W tensorflow/core/framework/op_kernel.cc:1273] OP_REQUIRES failed at xla_ops.cc:290 : Invalid argument: Detected unsupported operations when trying to compile graph cluster_7643397997199028266_f15n_0[] on XLA_CPU_JIT: _Arg (No registered '_Arg' OpKernel for XLA_CPU_JIT devices compatible with node {{node iteratortostringhandle_0_arg}} = _Arg[T=DT_STRING, index=2]()\n\t (OpKernel was found, but attributes didn't match)\n\t.  Registered:  device='XLA_CPU_JIT'; T in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT8, ..., DT_QINT32, DT_HALF, DT_UINT32, DT_UINT64, DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_STRING]\n  device='XLA_CPU'; T in [DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_UINT8, DT_QUINT8, DT_INT8, DT_QINT8, DT_INT32, DT_QINT32, DT_INT64, DT_HALF, DT_FLOAT, DT_DOUBLE, DT_COMPLEX64, DT_BOOL]\n  device='CPU'\n  device='GPU'; T in [DT_STRING]\n  device='GPU'; T in [DT_RESOURCE]\n  device='GPU'; T in [DT_INT32]\n  device='GPU'; T in [DT_BOOL]\n  device='GPU'; T in [DT_COMPLEX128]\n  device='GPU'; T in [DT_COMPLEX64]\n  device='GPU'; T in [DT_INT8]\n  device='GPU'; T in [DT_UINT8]\n  device='GPU'; T in [DT_INT16]\n  device='GPU'; T in [DT_UINT16]\n  device='GPU'; T in [DT_INT64]\n  device='GPU'; T in [DT_DOUBLE]\n  device='GPU'; T in [DT_FLOAT]\n  device='GPU'; T in [DT_BFLOAT16]\n  device='GPU'; T in [DT_HALF]\n){{node iteratortostringhandle_0_arg}}\nTraceback (most recent call last):\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1334, in _do_call\n    return fn(*args)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1319, in _run_fn\n    options, feed_dict, fetch_list, target_list, run_metadata)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1407, in _call_tf_sessionrun\n    run_metadata)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Detected unsupported operations when trying to compile graph cluster_7643397997199028266_f15n_0[] on XLA_CPU_JIT: _Arg (No registered '_Arg' OpKernel for XLA_CPU_JIT devices compatible with node {{node iteratortostringhandle_0_arg}} = _Arg[T=DT_STRING, index=2]()\n\t (OpKernel was found, but attributes didn't match)\n\t.  Registered:  device='XLA_CPU_JIT'; T in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT8, ..., DT_QINT32, DT_HALF, DT_UINT32, DT_UINT64, DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_STRING]\n  device='XLA_CPU'; T in [DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_UINT8, DT_QUINT8, DT_INT8, DT_QINT8, DT_INT32, DT_QINT32, DT_INT64, DT_HALF, DT_FLOAT, DT_DOUBLE, DT_COMPLEX64, DT_BOOL]\n  device='CPU'\n  device='GPU'; T in [DT_STRING]\n  device='GPU'; T in [DT_RESOURCE]\n  device='GPU'; T in [DT_INT32]\n  device='GPU'; T in [DT_BOOL]\n  device='GPU'; T in [DT_COMPLEX128]\n  device='GPU'; T in [DT_COMPLEX64]\n  device='GPU'; T in [DT_INT8]\n  device='GPU'; T in [DT_UINT8]\n  device='GPU'; T in [DT_INT16]\n  device='GPU'; T in [DT_UINT16]\n  device='GPU'; T in [DT_INT64]\n  device='GPU'; T in [DT_DOUBLE]\n  device='GPU'; T in [DT_FLOAT]\n  device='GPU'; T in [DT_BFLOAT16]\n  device='GPU'; T in [DT_HALF]\n){{node iteratortostringhandle_0_arg}}\n\t [[{{node cluster}} = XlaLaunch[Nresources=9, Targs=[DT_FLOAT, DT_FLOAT, DT_STRING, DT_INT64, DT_INT64, ..., DT_INT32, DT_FLOAT, DT_BOOL, DT_FLOAT, DT_FLOAT], Tconstants=[], Tresults=[DT_FLOAT, DT_INT32, DT_INT32, DT_INT32, DT_INT32, ..., DT_INT32, DT_FLOAT, DT_INT32, DT_INT32, DT_FLOAT], function=cluster_7643397997199028266_f15n_0[], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](IteratorGetNext, IteratorGetNext:1, IteratorToStringHandle, batch_size, count, drop_remainder, tensors/component_0, tensors/component_1, test_conv/func/lstm_cell/bias/Initializer/zeros, test_conv/func/lstm_cell/bias/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/bias/Read/ReadVariableOp, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/RandomUniform, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/max, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/min, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/mul, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/shape, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/sub, test_conv/func/lstm_cell/kernel/Initializer/random_uniform, test_conv/func/lstm_cell/kernel/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/kernel/Read/ReadVariableOp, test_conv/rnn_final/final_layer/bias/Initializer/zeros, test_conv/rnn_final/final_layer/bias/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/bias/Read/ReadVariableOp, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/RandomUniform, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/max, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/min, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/mul, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/shape, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/sub, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform, test_conv/rnn_final/final_layer/kernel/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/kernel/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read_1/ReadVariableOp, OneShotIterator, test_conv/func/lstm_cell/bias, test_conv/func/lstm_cell/kernel, test_conv/rnn_final/final_layer/bias, test_conv/rnn_final/final_layer/kernel, test_conv/test_conv/func/lstm_cell/bias/Momentum, test_conv/test_conv/func/lstm_cell/kernel/Momentum, test_conv/test_conv/rnn_final/final_layer/bias/Momentum, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum)]]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"basic_rnn.py\", line 241, in <module>\n    sess.run(result)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 929, in run\n    run_metadata_ptr)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1152, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1328, in _do_run\n    run_metadata)\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1348, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Detected unsupported operations when trying to compile graph cluster_7643397997199028266_f15n_0[] on XLA_CPU_JIT: _Arg (No registered '_Arg' OpKernel for XLA_CPU_JIT devices compatible with node {{node iteratortostringhandle_0_arg}} = _Arg[T=DT_STRING, index=2]()\n\t (OpKernel was found, but attributes didn't match)\n\t.  Registered:  device='XLA_CPU_JIT'; T in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT8, ..., DT_QINT32, DT_HALF, DT_UINT32, DT_UINT64, DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_STRING]\n  device='XLA_CPU'; T in [DT_RESOURCE]\n  device='XLA_CPU'; T in [DT_UINT8, DT_QUINT8, DT_INT8, DT_QINT8, DT_INT32, DT_QINT32, DT_INT64, DT_HALF, DT_FLOAT, DT_DOUBLE, DT_COMPLEX64, DT_BOOL]\n  device='CPU'\n  device='GPU'; T in [DT_STRING]\n  device='GPU'; T in [DT_RESOURCE]\n  device='GPU'; T in [DT_INT32]\n  device='GPU'; T in [DT_BOOL]\n  device='GPU'; T in [DT_COMPLEX128]\n  device='GPU'; T in [DT_COMPLEX64]\n  device='GPU'; T in [DT_INT8]\n  device='GPU'; T in [DT_UINT8]\n  device='GPU'; T in [DT_INT16]\n  device='GPU'; T in [DT_UINT16]\n  device='GPU'; T in [DT_INT64]\n  device='GPU'; T in [DT_DOUBLE]\n  device='GPU'; T in [DT_FLOAT]\n  device='GPU'; T in [DT_BFLOAT16]\n  device='GPU'; T in [DT_HALF]\n){{node iteratortostringhandle_0_arg}}\n\t [[{{node cluster}} = XlaLaunch[Nresources=9, Targs=[DT_FLOAT, DT_FLOAT, DT_STRING, DT_INT64, DT_INT64, ..., DT_INT32, DT_FLOAT, DT_BOOL, DT_FLOAT, DT_FLOAT], Tconstants=[], Tresults=[DT_FLOAT, DT_INT32, DT_INT32, DT_INT32, DT_INT32, ..., DT_INT32, DT_FLOAT, DT_INT32, DT_INT32, DT_FLOAT], function=cluster_7643397997199028266_f15n_0[], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](IteratorGetNext, IteratorGetNext:1, IteratorToStringHandle, batch_size, count, drop_remainder, tensors/component_0, tensors/component_1, test_conv/func/lstm_cell/bias/Initializer/zeros, test_conv/func/lstm_cell/bias/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/bias/Read/ReadVariableOp, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/RandomUniform, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/max, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/min, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/mul, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/shape, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/sub, test_conv/func/lstm_cell/kernel/Initializer/random_uniform, test_conv/func/lstm_cell/kernel/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/kernel/Read/ReadVariableOp, test_conv/rnn_final/final_layer/bias/Initializer/zeros, test_conv/rnn_final/final_layer/bias/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/bias/Read/ReadVariableOp, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/RandomUniform, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/max, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/min, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/mul, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/shape, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/sub, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform, test_conv/rnn_final/final_layer/kernel/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/kernel/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read_1/ReadVariableOp, OneShotIterator, test_conv/func/lstm_cell/bias, test_conv/func/lstm_cell/kernel, test_conv/rnn_final/final_layer/bias, test_conv/rnn_final/final_layer/kernel, test_conv/test_conv/func/lstm_cell/bias/Momentum, test_conv/test_conv/func/lstm_cell/kernel/Momentum, test_conv/test_conv/rnn_final/final_layer/bias/Momentum, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum)]]\n\nThe code of the model I am trying to run is found here (issue #22216)", "body": "So I did try again, with xla.compile,  and it didnt work, this was my stack trace: \r\n```\r\n2018-10-10 11:33:05.589418: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 3311865000 Hz\r\n2018-10-10 11:33:05.591668: I tensorflow/compiler/xla/service/service.cc:149] XLA service 0x7f3600060dd0 executing computations on platform Host. Devices:\r\n2018-10-10 11:33:05.591699: I tensorflow/compiler/xla/service/service.cc:157]   StreamExecutor device (0): <undefined>, <undefined>\r\n2018-10-10 11:33:05.618642: W tensorflow/core/framework/op_kernel.cc:1273] OP_REQUIRES failed at xla_ops.cc:290 : Invalid argument: Detected unsupported operations when trying to compile graph cluster_7643397997199028266_f15n_0[] on XLA_CPU_JIT: _Arg (No registered '_Arg' OpKernel for XLA_CPU_JIT devices compatible with node {{node iteratortostringhandle_0_arg}} = _Arg[T=DT_STRING, index=2]()\r\n\t (OpKernel was found, but attributes didn't match)\r\n\t.  Registered:  device='XLA_CPU_JIT'; T in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT8, ..., DT_QINT32, DT_HALF, DT_UINT32, DT_UINT64, DT_RESOURCE]\r\n  device='XLA_CPU'; T in [DT_STRING]\r\n  device='XLA_CPU'; T in [DT_RESOURCE]\r\n  device='XLA_CPU'; T in [DT_UINT8, DT_QUINT8, DT_INT8, DT_QINT8, DT_INT32, DT_QINT32, DT_INT64, DT_HALF, DT_FLOAT, DT_DOUBLE, DT_COMPLEX64, DT_BOOL]\r\n  device='CPU'\r\n  device='GPU'; T in [DT_STRING]\r\n  device='GPU'; T in [DT_RESOURCE]\r\n  device='GPU'; T in [DT_INT32]\r\n  device='GPU'; T in [DT_BOOL]\r\n  device='GPU'; T in [DT_COMPLEX128]\r\n  device='GPU'; T in [DT_COMPLEX64]\r\n  device='GPU'; T in [DT_INT8]\r\n  device='GPU'; T in [DT_UINT8]\r\n  device='GPU'; T in [DT_INT16]\r\n  device='GPU'; T in [DT_UINT16]\r\n  device='GPU'; T in [DT_INT64]\r\n  device='GPU'; T in [DT_DOUBLE]\r\n  device='GPU'; T in [DT_FLOAT]\r\n  device='GPU'; T in [DT_BFLOAT16]\r\n  device='GPU'; T in [DT_HALF]\r\n){{node iteratortostringhandle_0_arg}}\r\nTraceback (most recent call last):\r\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1334, in _do_call\r\n    return fn(*args)\r\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1319, in _run_fn\r\n    options, feed_dict, fetch_list, target_list, run_metadata)\r\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1407, in _call_tf_sessionrun\r\n    run_metadata)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Detected unsupported operations when trying to compile graph cluster_7643397997199028266_f15n_0[] on XLA_CPU_JIT: _Arg (No registered '_Arg' OpKernel for XLA_CPU_JIT devices compatible with node {{node iteratortostringhandle_0_arg}} = _Arg[T=DT_STRING, index=2]()\r\n\t (OpKernel was found, but attributes didn't match)\r\n\t.  Registered:  device='XLA_CPU_JIT'; T in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT8, ..., DT_QINT32, DT_HALF, DT_UINT32, DT_UINT64, DT_RESOURCE]\r\n  device='XLA_CPU'; T in [DT_STRING]\r\n  device='XLA_CPU'; T in [DT_RESOURCE]\r\n  device='XLA_CPU'; T in [DT_UINT8, DT_QUINT8, DT_INT8, DT_QINT8, DT_INT32, DT_QINT32, DT_INT64, DT_HALF, DT_FLOAT, DT_DOUBLE, DT_COMPLEX64, DT_BOOL]\r\n  device='CPU'\r\n  device='GPU'; T in [DT_STRING]\r\n  device='GPU'; T in [DT_RESOURCE]\r\n  device='GPU'; T in [DT_INT32]\r\n  device='GPU'; T in [DT_BOOL]\r\n  device='GPU'; T in [DT_COMPLEX128]\r\n  device='GPU'; T in [DT_COMPLEX64]\r\n  device='GPU'; T in [DT_INT8]\r\n  device='GPU'; T in [DT_UINT8]\r\n  device='GPU'; T in [DT_INT16]\r\n  device='GPU'; T in [DT_UINT16]\r\n  device='GPU'; T in [DT_INT64]\r\n  device='GPU'; T in [DT_DOUBLE]\r\n  device='GPU'; T in [DT_FLOAT]\r\n  device='GPU'; T in [DT_BFLOAT16]\r\n  device='GPU'; T in [DT_HALF]\r\n){{node iteratortostringhandle_0_arg}}\r\n\t [[{{node cluster}} = XlaLaunch[Nresources=9, Targs=[DT_FLOAT, DT_FLOAT, DT_STRING, DT_INT64, DT_INT64, ..., DT_INT32, DT_FLOAT, DT_BOOL, DT_FLOAT, DT_FLOAT], Tconstants=[], Tresults=[DT_FLOAT, DT_INT32, DT_INT32, DT_INT32, DT_INT32, ..., DT_INT32, DT_FLOAT, DT_INT32, DT_INT32, DT_FLOAT], function=cluster_7643397997199028266_f15n_0[], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](IteratorGetNext, IteratorGetNext:1, IteratorToStringHandle, batch_size, count, drop_remainder, tensors/component_0, tensors/component_1, test_conv/func/lstm_cell/bias/Initializer/zeros, test_conv/func/lstm_cell/bias/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/bias/Read/ReadVariableOp, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/RandomUniform, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/max, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/min, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/mul, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/shape, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/sub, test_conv/func/lstm_cell/kernel/Initializer/random_uniform, test_conv/func/lstm_cell/kernel/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/kernel/Read/ReadVariableOp, test_conv/rnn_final/final_layer/bias/Initializer/zeros, test_conv/rnn_final/final_layer/bias/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/bias/Read/ReadVariableOp, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/RandomUniform, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/max, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/min, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/mul, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/shape, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/sub, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform, test_conv/rnn_final/final_layer/kernel/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/kernel/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read_1/ReadVariableOp, OneShotIterator, test_conv/func/lstm_cell/bias, test_conv/func/lstm_cell/kernel, test_conv/rnn_final/final_layer/bias, test_conv/rnn_final/final_layer/kernel, test_conv/test_conv/func/lstm_cell/bias/Momentum, test_conv/test_conv/func/lstm_cell/kernel/Momentum, test_conv/test_conv/rnn_final/final_layer/bias/Momentum, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum)]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"basic_rnn.py\", line 241, in <module>\r\n    sess.run(result)\r\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 929, in run\r\n    run_metadata_ptr)\r\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1152, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1328, in _do_run\r\n    run_metadata)\r\n  File \"/home/vishal/venv_master_xla/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1348, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Detected unsupported operations when trying to compile graph cluster_7643397997199028266_f15n_0[] on XLA_CPU_JIT: _Arg (No registered '_Arg' OpKernel for XLA_CPU_JIT devices compatible with node {{node iteratortostringhandle_0_arg}} = _Arg[T=DT_STRING, index=2]()\r\n\t (OpKernel was found, but attributes didn't match)\r\n\t.  Registered:  device='XLA_CPU_JIT'; T in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT8, ..., DT_QINT32, DT_HALF, DT_UINT32, DT_UINT64, DT_RESOURCE]\r\n  device='XLA_CPU'; T in [DT_STRING]\r\n  device='XLA_CPU'; T in [DT_RESOURCE]\r\n  device='XLA_CPU'; T in [DT_UINT8, DT_QUINT8, DT_INT8, DT_QINT8, DT_INT32, DT_QINT32, DT_INT64, DT_HALF, DT_FLOAT, DT_DOUBLE, DT_COMPLEX64, DT_BOOL]\r\n  device='CPU'\r\n  device='GPU'; T in [DT_STRING]\r\n  device='GPU'; T in [DT_RESOURCE]\r\n  device='GPU'; T in [DT_INT32]\r\n  device='GPU'; T in [DT_BOOL]\r\n  device='GPU'; T in [DT_COMPLEX128]\r\n  device='GPU'; T in [DT_COMPLEX64]\r\n  device='GPU'; T in [DT_INT8]\r\n  device='GPU'; T in [DT_UINT8]\r\n  device='GPU'; T in [DT_INT16]\r\n  device='GPU'; T in [DT_UINT16]\r\n  device='GPU'; T in [DT_INT64]\r\n  device='GPU'; T in [DT_DOUBLE]\r\n  device='GPU'; T in [DT_FLOAT]\r\n  device='GPU'; T in [DT_BFLOAT16]\r\n  device='GPU'; T in [DT_HALF]\r\n){{node iteratortostringhandle_0_arg}}\r\n\t [[{{node cluster}} = XlaLaunch[Nresources=9, Targs=[DT_FLOAT, DT_FLOAT, DT_STRING, DT_INT64, DT_INT64, ..., DT_INT32, DT_FLOAT, DT_BOOL, DT_FLOAT, DT_FLOAT], Tconstants=[], Tresults=[DT_FLOAT, DT_INT32, DT_INT32, DT_INT32, DT_INT32, ..., DT_INT32, DT_FLOAT, DT_INT32, DT_INT32, DT_FLOAT], function=cluster_7643397997199028266_f15n_0[], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](IteratorGetNext, IteratorGetNext:1, IteratorToStringHandle, batch_size, count, drop_remainder, tensors/component_0, tensors/component_1, test_conv/func/lstm_cell/bias/Initializer/zeros, test_conv/func/lstm_cell/bias/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/bias/Read/ReadVariableOp, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/RandomUniform, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/max, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/min, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/mul, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/shape, test_conv/func/lstm_cell/kernel/Initializer/random_uniform/sub, test_conv/func/lstm_cell/kernel/Initializer/random_uniform, test_conv/func/lstm_cell/kernel/IsInitialized/VarIsInitializedOp, test_conv/func/lstm_cell/kernel/Read/ReadVariableOp, test_conv/rnn_final/final_layer/bias/Initializer/zeros, test_conv/rnn_final/final_layer/bias/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/bias/Read/ReadVariableOp, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/RandomUniform, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/max, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/min, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/mul, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/shape, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform/sub, test_conv/rnn_final/final_layer/kernel/Initializer/random_uniform, test_conv/rnn_final/final_layer/kernel/IsInitialized/VarIsInitializedOp, test_conv/rnn_final/final_layer/kernel/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Initializer/zeros, test_conv/test_conv/func/lstm_cell/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/func/lstm_cell/kernel/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/bias/Momentum/Read_1/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/Const, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros/shape_as_tensor, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Initializer/zeros, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/IsInitialized/VarIsInitializedOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read/ReadVariableOp, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum/Read_1/ReadVariableOp, OneShotIterator, test_conv/func/lstm_cell/bias, test_conv/func/lstm_cell/kernel, test_conv/rnn_final/final_layer/bias, test_conv/rnn_final/final_layer/kernel, test_conv/test_conv/func/lstm_cell/bias/Momentum, test_conv/test_conv/func/lstm_cell/kernel/Momentum, test_conv/test_conv/rnn_final/final_layer/bias/Momentum, test_conv/test_conv/rnn_final/final_layer/kernel/Momentum)]]\r\n```\r\n\r\nThe code of the model I am trying to run is found [here](https://github.com/tensorflow/tensorflow/issues/22216) (issue #22216)"}