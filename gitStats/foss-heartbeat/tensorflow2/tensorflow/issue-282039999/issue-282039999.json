{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15361", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15361/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15361/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15361/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15361", "id": 282039999, "node_id": "MDU6SXNzdWUyODIwMzk5OTk=", "number": 15361, "title": "//tensorflow/python:bfloat16_test and //tensorflow/python:framework_dtypes_test failing on Windows", "user": {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-14T09:50:57Z", "updated_at": "2017-12-14T13:01:40Z", "closed_at": "2017-12-14T13:01:40Z", "author_association": "MEMBER", "body_html": "<p><a href=\"http://ci.tensorflow.org/job/tf-master-win-bzl/2063/console\" rel=\"nofollow\">http://ci.tensorflow.org/job/tf-master-win-bzl/2063/console</a></p>\n<pre><code>13:00:56 INFO: From Testing //py_test_dir/tensorflow/python:framework_dtypes_test:\n13:00:56 ==================== Test output for //py_test_dir/tensorflow/python:framework_dtypes_test:\n13:00:56 .........F\\\\?\\C:\\tmp\\Bazel.runfiles_fnb6t73_\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\framework\\dtypes_test.py:277: DeprecationWarning: Please use assertEqual instead.\n13:00:56   self.assertEquals(dtype.min, np.finfo(numpy_dtype).min)\n13:00:56 ......\n13:00:56 ======================================================================\n13:00:56 FAIL: testIsUnsigned (__main__.TypesTest)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_fnb6t73_\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\framework\\dtypes_test.py\", line 219, in testIsUnsigned\n13:00:56     self.assertEqual(dtypes.as_dtype(\"bfloat16\").is_unsigned, False)\n13:00:56 AssertionError: True != False\n13:00:56 \n13:00:56 ----------------------------------------------------------------------\n13:00:56 Ran 16 tests in 0.009s\n13:00:56 \n13:00:56 FAILED (failures=1)\n13:00:56 &lt;dtype: 'float32'&gt;: -3.40282e+38 - 3.40282e+38\n13:00:56 &lt;dtype: 'float64'&gt;: -1.79769313486e+308 - 1.79769313486e+308\n13:00:56 &lt;dtype: 'int32'&gt;: -2147483648 - 2147483647\n13:00:56 &lt;dtype: 'uint8'&gt;: 0 - 255\n13:00:56 &lt;dtype: 'int16'&gt;: -32768 - 32767\n13:00:56 &lt;dtype: 'int8'&gt;: -128 - 127\n13:00:56 &lt;dtype: 'int64'&gt;: -9223372036854775808 - 9223372036854775807\n13:00:56 &lt;dtype: 'bfloat16'&gt;: 0 - 0\n13:00:56 &lt;dtype: 'uint16'&gt;: 0 - 65535\n13:00:56 &lt;dtype: 'float16'&gt;: -65504.0 - 65504.0\n13:00:56 &lt;dtype: 'uint32'&gt;: 0 - 4294967295\n13:00:56 &lt;dtype: 'uint64'&gt;: 0 - 18446744073709551615\n13:00:56 &lt;dtype: 'float32_ref'&gt;: -3.40282e+38 - 3.40282e+38\n13:00:56 &lt;dtype: 'float64_ref'&gt;: -1.79769313486e+308 - 1.79769313486e+308\n13:00:56 &lt;dtype: 'int32_ref'&gt;: -2147483648 - 2147483647\n13:00:56 &lt;dtype: 'uint8_ref'&gt;: 0 - 255\n13:00:56 &lt;dtype: 'int16_ref'&gt;: -32768 - 32767\n13:00:56 &lt;dtype: 'int8_ref'&gt;: -128 - 127\n13:00:56 &lt;dtype: 'int64_ref'&gt;: -9223372036854775808 - 9223372036854775807\n13:00:56 &lt;dtype: 'bfloat16_ref'&gt;: 0 - 0\n13:00:56 &lt;dtype: 'uint16_ref'&gt;: 0 - 65535\n13:00:56 &lt;dtype: 'float16_ref'&gt;: -65504.0 - 65504.0\n13:00:56 &lt;dtype: 'uint32_ref'&gt;: 0 - 4294967295\n13:00:56 &lt;dtype: 'uint64_ref'&gt;: 0 - 18446744073709551615\n13:00:56 ================================================================================\n13:00:56 INFO: From Testing //py_test_dir/tensorflow/python:bfloat16_test:\n13:00:56 ==================== Test output for //py_test_dir/tensorflow/python:bfloat16_test:\n13:00:56 FFF.F.FFFFFFFFFFFFFFFF.\n13:00:56 ======================================================================\n13:00:56 FAIL: testAdd (__main__.Bfloat16NumPyTest)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 189, in testAdd\n13:00:56     self.assertAllClose(np.array([[5, 7, 9]]), x + y)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1083, in assertAllClose\n13:00:56     self._assertArrayLikeAllClose(a, b, rtol=rtol, atol=atol)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1053, in _assertArrayLikeAllClose\n13:00:56     np.testing.assert_allclose(a, b, rtol=rtol, atol=atol, err_msg=msg)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 1411, in assert_allclose\n13:00:56     verbose=verbose, header=header, equal_nan=equal_nan)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 796, in assert_array_compare\n13:00:56     raise AssertionError(msg)\n13:00:56 AssertionError: \n13:00:56 Not equal to tolerance rtol=1e-06, atol=1e-06\n13:00:56 None\n13:00:56 (mismatch 100.0%)\n13:00:56  x: array([[5, 7, 9]])\n13:00:56  y: array([[ 0.,  0.,  0.]], dtype=float16)\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testArray (__main__.Bfloat16NumPyTest)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 172, in testArray\n13:00:56     self.assertEqual(\"[[bfloat16(1) bfloat16(2) bfloat16(3)]]\", str(x))\n13:00:56 AssertionError: '[[bfloat16(1) bfloat16(2) bfloat16(3)]]' != '[[bfloat16(0) bfloat16(0) bfloat16(0)]]'\n13:00:56 - [[bfloat16(1) bfloat16(2) bfloat16(3)]]\n13:00:56 ?            ^           ^           ^\n13:00:56 + [[bfloat16(0) bfloat16(0) bfloat16(0)]]\n13:00:56 ?            ^           ^           ^\n13:00:56 \n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testCasts (__main__.Bfloat16NumPyTest)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 181, in testCasts\n13:00:56     self.assertTrue(np.all(x == y))\n13:00:56 AssertionError: False is not true\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testLogSumExp (__main__.Bfloat16NumPyTest)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 196, in testLogSumExp\n13:00:56     atol=2e-2)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1083, in assertAllClose\n13:00:56     self._assertArrayLikeAllClose(a, b, rtol=rtol, atol=atol)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1053, in _assertArrayLikeAllClose\n13:00:56     np.testing.assert_allclose(a, b, rtol=rtol, atol=atol, err_msg=msg)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 1411, in assert_allclose\n13:00:56     verbose=verbose, header=header, equal_nan=equal_nan)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 796, in assert_array_compare\n13:00:56     raise AssertionError(msg)\n13:00:56 AssertionError: \n13:00:56 Not equal to tolerance rtol=1e-06, atol=0.02\n13:00:56 None\n13:00:56 (mismatch 100.0%)\n13:00:56  x: array([[ 4.048587,  5.048587,  6.048587]], dtype=float32)\n13:00:56  y: array([[ 0.693359,  0.693359,  0.693359]], dtype=float16)\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testAdd (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 89, in testAdd\n13:00:56     self._assertFloatIdentical(1, float(bfloat16(1) + bfloat16(0)))\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\n13:00:56     self.assertEqual(v, w)\n13:00:56 AssertionError: 1 != 0.0\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testDiv (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 123, in testDiv\n13:00:56     self.assertTrue(math.isnan(float(bfloat16(0) / bfloat16(0))))\n13:00:56 AssertionError: False is not true\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testEqual (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 156, in testEqual\n13:00:56     self.assertEqual(v == w, bfloat16(v) == bfloat16(w))\n13:00:56 AssertionError: False != True\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testGreater (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 146, in testGreater\n13:00:56     self.assertEqual(v &gt; w, bfloat16(v) &gt; bfloat16(w))\n13:00:56 AssertionError: True != False\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testGreaterEqual (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 151, in testGreaterEqual\n13:00:56     self.assertEqual(v &gt;= w, bfloat16(v) &gt;= bfloat16(w))\n13:00:56 AssertionError: False != True\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testHash (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 79, in testHash\n13:00:56     self.assertEqual(0x3f80, hash(bfloat16(1.0)))\n13:00:56 AssertionError: 16256 != 0\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testLess (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 136, in testLess\n13:00:56     self.assertEqual(v &lt; w, bfloat16(v) &lt; bfloat16(w))\n13:00:56 AssertionError: True != False\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testLessEqual (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 141, in testLessEqual\n13:00:56     self.assertEqual(v &lt;= w, bfloat16(v) &lt;= bfloat16(w))\n13:00:56 AssertionError: False != True\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testMul (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 114, in testMul\n13:00:56     self._assertFloatIdentical(-1, float(bfloat16(1) * bfloat16(-1)))\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\n13:00:56     self.assertEqual(v, w)\n13:00:56 AssertionError: -1 != 0.0\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testNegate (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 85, in testNegate\n13:00:56     self._assertFloatIdentical(-v, float(-bfloat16(v)))\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\n13:00:56     self.assertEqual(v, w)\n13:00:56 AssertionError: -0.0 != 4.591774807899561e-41\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testNotEqual (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 161, in testNotEqual\n13:00:56     self.assertEqual(v != w, bfloat16(v) != bfloat16(w))\n13:00:56 AssertionError: True != False\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testRepr (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 69, in testRepr\n13:00:56     self.assertEqual(\"bfloat16(1)\", repr(bfloat16(1)))\n13:00:56 AssertionError: 'bfloat16(1)' != 'bfloat16(0)'\n13:00:56 - bfloat16(1)\n13:00:56 ?          ^\n13:00:56 + bfloat16(0)\n13:00:56 ?          ^\n13:00:56 \n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testRoundTripToFloat (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 52, in testRoundTripToFloat\n13:00:56     self._assertFloatIdentical(v, float(bfloat16(v)))\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\n13:00:56     self.assertEqual(v, w)\n13:00:56 AssertionError: 1.0 != 0.0\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testRoundTripToInt (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 56, in testRoundTripToInt\n13:00:56     self.assertEqual(v, int(bfloat16(v)))\n13:00:56 AssertionError: -256 != 0\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testStr (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 60, in testStr\n13:00:56     self.assertEqual(\"1\", str(bfloat16(1.0)))\n13:00:56 AssertionError: '1' != '0'\n13:00:56 - 1\n13:00:56 + 0\n13:00:56 \n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testSub (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 101, in testSub\n13:00:56     self._assertFloatIdentical(1, float(bfloat16(1) - bfloat16(0)))\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\n13:00:56     self.assertEqual(v, w)\n13:00:56 AssertionError: 1 != 0.0\n13:00:56 \n13:00:56 ----------------------------------------------------------------------\n13:00:56 Ran 23 tests in 0.014s\n13:00:56 \n13:00:56 FAILED (failures=20)\n13:00:56 not close where =  (array([0, 0, 0], dtype=int64), array([0, 1, 2], dtype=int64))\n13:00:56 not close lhs =  [5 7 9]\n13:00:56 not close rhs =  [ 0.  0.  0.]\n13:00:56 not close dif =  [ 5.  7.  9.]\n13:00:56 not close tol =  [  1.01327896e-06   1.01327896e-06   1.01327896e-06]\n13:00:56 dtype = int32, shape = (1, 3)\n13:00:56 not close where =  (array([0, 0, 0], dtype=int64), array([0, 1, 2], dtype=int64))\n13:00:56 not close lhs =  [ 4.04858732  5.04858732  6.04858732]\n13:00:56 not close rhs =  [ 0.69335938  0.69335938  0.69335938]\n13:00:56 not close dif =  [ 3.35522795  4.35522795  5.35522795]\n13:00:56 not close tol =  [ 0.02000427  0.02000427  0.02000427]\n13:00:56 dtype = float32, shape = (1, 3)\n13:00:56 ================================================================================\n</code></pre>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a></p>", "body_text": "http://ci.tensorflow.org/job/tf-master-win-bzl/2063/console\n13:00:56 INFO: From Testing //py_test_dir/tensorflow/python:framework_dtypes_test:\n13:00:56 ==================== Test output for //py_test_dir/tensorflow/python:framework_dtypes_test:\n13:00:56 .........F\\\\?\\C:\\tmp\\Bazel.runfiles_fnb6t73_\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\framework\\dtypes_test.py:277: DeprecationWarning: Please use assertEqual instead.\n13:00:56   self.assertEquals(dtype.min, np.finfo(numpy_dtype).min)\n13:00:56 ......\n13:00:56 ======================================================================\n13:00:56 FAIL: testIsUnsigned (__main__.TypesTest)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_fnb6t73_\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\framework\\dtypes_test.py\", line 219, in testIsUnsigned\n13:00:56     self.assertEqual(dtypes.as_dtype(\"bfloat16\").is_unsigned, False)\n13:00:56 AssertionError: True != False\n13:00:56 \n13:00:56 ----------------------------------------------------------------------\n13:00:56 Ran 16 tests in 0.009s\n13:00:56 \n13:00:56 FAILED (failures=1)\n13:00:56 <dtype: 'float32'>: -3.40282e+38 - 3.40282e+38\n13:00:56 <dtype: 'float64'>: -1.79769313486e+308 - 1.79769313486e+308\n13:00:56 <dtype: 'int32'>: -2147483648 - 2147483647\n13:00:56 <dtype: 'uint8'>: 0 - 255\n13:00:56 <dtype: 'int16'>: -32768 - 32767\n13:00:56 <dtype: 'int8'>: -128 - 127\n13:00:56 <dtype: 'int64'>: -9223372036854775808 - 9223372036854775807\n13:00:56 <dtype: 'bfloat16'>: 0 - 0\n13:00:56 <dtype: 'uint16'>: 0 - 65535\n13:00:56 <dtype: 'float16'>: -65504.0 - 65504.0\n13:00:56 <dtype: 'uint32'>: 0 - 4294967295\n13:00:56 <dtype: 'uint64'>: 0 - 18446744073709551615\n13:00:56 <dtype: 'float32_ref'>: -3.40282e+38 - 3.40282e+38\n13:00:56 <dtype: 'float64_ref'>: -1.79769313486e+308 - 1.79769313486e+308\n13:00:56 <dtype: 'int32_ref'>: -2147483648 - 2147483647\n13:00:56 <dtype: 'uint8_ref'>: 0 - 255\n13:00:56 <dtype: 'int16_ref'>: -32768 - 32767\n13:00:56 <dtype: 'int8_ref'>: -128 - 127\n13:00:56 <dtype: 'int64_ref'>: -9223372036854775808 - 9223372036854775807\n13:00:56 <dtype: 'bfloat16_ref'>: 0 - 0\n13:00:56 <dtype: 'uint16_ref'>: 0 - 65535\n13:00:56 <dtype: 'float16_ref'>: -65504.0 - 65504.0\n13:00:56 <dtype: 'uint32_ref'>: 0 - 4294967295\n13:00:56 <dtype: 'uint64_ref'>: 0 - 18446744073709551615\n13:00:56 ================================================================================\n13:00:56 INFO: From Testing //py_test_dir/tensorflow/python:bfloat16_test:\n13:00:56 ==================== Test output for //py_test_dir/tensorflow/python:bfloat16_test:\n13:00:56 FFF.F.FFFFFFFFFFFFFFFF.\n13:00:56 ======================================================================\n13:00:56 FAIL: testAdd (__main__.Bfloat16NumPyTest)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 189, in testAdd\n13:00:56     self.assertAllClose(np.array([[5, 7, 9]]), x + y)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1083, in assertAllClose\n13:00:56     self._assertArrayLikeAllClose(a, b, rtol=rtol, atol=atol)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1053, in _assertArrayLikeAllClose\n13:00:56     np.testing.assert_allclose(a, b, rtol=rtol, atol=atol, err_msg=msg)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 1411, in assert_allclose\n13:00:56     verbose=verbose, header=header, equal_nan=equal_nan)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 796, in assert_array_compare\n13:00:56     raise AssertionError(msg)\n13:00:56 AssertionError: \n13:00:56 Not equal to tolerance rtol=1e-06, atol=1e-06\n13:00:56 None\n13:00:56 (mismatch 100.0%)\n13:00:56  x: array([[5, 7, 9]])\n13:00:56  y: array([[ 0.,  0.,  0.]], dtype=float16)\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testArray (__main__.Bfloat16NumPyTest)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 172, in testArray\n13:00:56     self.assertEqual(\"[[bfloat16(1) bfloat16(2) bfloat16(3)]]\", str(x))\n13:00:56 AssertionError: '[[bfloat16(1) bfloat16(2) bfloat16(3)]]' != '[[bfloat16(0) bfloat16(0) bfloat16(0)]]'\n13:00:56 - [[bfloat16(1) bfloat16(2) bfloat16(3)]]\n13:00:56 ?            ^           ^           ^\n13:00:56 + [[bfloat16(0) bfloat16(0) bfloat16(0)]]\n13:00:56 ?            ^           ^           ^\n13:00:56 \n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testCasts (__main__.Bfloat16NumPyTest)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 181, in testCasts\n13:00:56     self.assertTrue(np.all(x == y))\n13:00:56 AssertionError: False is not true\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testLogSumExp (__main__.Bfloat16NumPyTest)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 196, in testLogSumExp\n13:00:56     atol=2e-2)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1083, in assertAllClose\n13:00:56     self._assertArrayLikeAllClose(a, b, rtol=rtol, atol=atol)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1053, in _assertArrayLikeAllClose\n13:00:56     np.testing.assert_allclose(a, b, rtol=rtol, atol=atol, err_msg=msg)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 1411, in assert_allclose\n13:00:56     verbose=verbose, header=header, equal_nan=equal_nan)\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 796, in assert_array_compare\n13:00:56     raise AssertionError(msg)\n13:00:56 AssertionError: \n13:00:56 Not equal to tolerance rtol=1e-06, atol=0.02\n13:00:56 None\n13:00:56 (mismatch 100.0%)\n13:00:56  x: array([[ 4.048587,  5.048587,  6.048587]], dtype=float32)\n13:00:56  y: array([[ 0.693359,  0.693359,  0.693359]], dtype=float16)\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testAdd (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 89, in testAdd\n13:00:56     self._assertFloatIdentical(1, float(bfloat16(1) + bfloat16(0)))\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\n13:00:56     self.assertEqual(v, w)\n13:00:56 AssertionError: 1 != 0.0\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testDiv (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 123, in testDiv\n13:00:56     self.assertTrue(math.isnan(float(bfloat16(0) / bfloat16(0))))\n13:00:56 AssertionError: False is not true\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testEqual (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 156, in testEqual\n13:00:56     self.assertEqual(v == w, bfloat16(v) == bfloat16(w))\n13:00:56 AssertionError: False != True\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testGreater (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 146, in testGreater\n13:00:56     self.assertEqual(v > w, bfloat16(v) > bfloat16(w))\n13:00:56 AssertionError: True != False\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testGreaterEqual (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 151, in testGreaterEqual\n13:00:56     self.assertEqual(v >= w, bfloat16(v) >= bfloat16(w))\n13:00:56 AssertionError: False != True\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testHash (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 79, in testHash\n13:00:56     self.assertEqual(0x3f80, hash(bfloat16(1.0)))\n13:00:56 AssertionError: 16256 != 0\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testLess (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 136, in testLess\n13:00:56     self.assertEqual(v < w, bfloat16(v) < bfloat16(w))\n13:00:56 AssertionError: True != False\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testLessEqual (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 141, in testLessEqual\n13:00:56     self.assertEqual(v <= w, bfloat16(v) <= bfloat16(w))\n13:00:56 AssertionError: False != True\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testMul (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 114, in testMul\n13:00:56     self._assertFloatIdentical(-1, float(bfloat16(1) * bfloat16(-1)))\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\n13:00:56     self.assertEqual(v, w)\n13:00:56 AssertionError: -1 != 0.0\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testNegate (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 85, in testNegate\n13:00:56     self._assertFloatIdentical(-v, float(-bfloat16(v)))\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\n13:00:56     self.assertEqual(v, w)\n13:00:56 AssertionError: -0.0 != 4.591774807899561e-41\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testNotEqual (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 161, in testNotEqual\n13:00:56     self.assertEqual(v != w, bfloat16(v) != bfloat16(w))\n13:00:56 AssertionError: True != False\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testRepr (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 69, in testRepr\n13:00:56     self.assertEqual(\"bfloat16(1)\", repr(bfloat16(1)))\n13:00:56 AssertionError: 'bfloat16(1)' != 'bfloat16(0)'\n13:00:56 - bfloat16(1)\n13:00:56 ?          ^\n13:00:56 + bfloat16(0)\n13:00:56 ?          ^\n13:00:56 \n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testRoundTripToFloat (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 52, in testRoundTripToFloat\n13:00:56     self._assertFloatIdentical(v, float(bfloat16(v)))\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\n13:00:56     self.assertEqual(v, w)\n13:00:56 AssertionError: 1.0 != 0.0\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testRoundTripToInt (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 56, in testRoundTripToInt\n13:00:56     self.assertEqual(v, int(bfloat16(v)))\n13:00:56 AssertionError: -256 != 0\n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testStr (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 60, in testStr\n13:00:56     self.assertEqual(\"1\", str(bfloat16(1.0)))\n13:00:56 AssertionError: '1' != '0'\n13:00:56 - 1\n13:00:56 + 0\n13:00:56 \n13:00:56 \n13:00:56 ======================================================================\n13:00:56 FAIL: testSub (__main__.Bfloat16Test)\n13:00:56 ----------------------------------------------------------------------\n13:00:56 Traceback (most recent call last):\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 101, in testSub\n13:00:56     self._assertFloatIdentical(1, float(bfloat16(1) - bfloat16(0)))\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\n13:00:56     self.assertEqual(v, w)\n13:00:56 AssertionError: 1 != 0.0\n13:00:56 \n13:00:56 ----------------------------------------------------------------------\n13:00:56 Ran 23 tests in 0.014s\n13:00:56 \n13:00:56 FAILED (failures=20)\n13:00:56 not close where =  (array([0, 0, 0], dtype=int64), array([0, 1, 2], dtype=int64))\n13:00:56 not close lhs =  [5 7 9]\n13:00:56 not close rhs =  [ 0.  0.  0.]\n13:00:56 not close dif =  [ 5.  7.  9.]\n13:00:56 not close tol =  [  1.01327896e-06   1.01327896e-06   1.01327896e-06]\n13:00:56 dtype = int32, shape = (1, 3)\n13:00:56 not close where =  (array([0, 0, 0], dtype=int64), array([0, 1, 2], dtype=int64))\n13:00:56 not close lhs =  [ 4.04858732  5.04858732  6.04858732]\n13:00:56 not close rhs =  [ 0.69335938  0.69335938  0.69335938]\n13:00:56 not close dif =  [ 3.35522795  4.35522795  5.35522795]\n13:00:56 not close tol =  [ 0.02000427  0.02000427  0.02000427]\n13:00:56 dtype = float32, shape = (1, 3)\n13:00:56 ================================================================================\n\n@gunan", "body": "http://ci.tensorflow.org/job/tf-master-win-bzl/2063/console\r\n```\r\n13:00:56 INFO: From Testing //py_test_dir/tensorflow/python:framework_dtypes_test:\r\n13:00:56 ==================== Test output for //py_test_dir/tensorflow/python:framework_dtypes_test:\r\n13:00:56 .........F\\\\?\\C:\\tmp\\Bazel.runfiles_fnb6t73_\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\framework\\dtypes_test.py:277: DeprecationWarning: Please use assertEqual instead.\r\n13:00:56   self.assertEquals(dtype.min, np.finfo(numpy_dtype).min)\r\n13:00:56 ......\r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testIsUnsigned (__main__.TypesTest)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_fnb6t73_\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\framework\\dtypes_test.py\", line 219, in testIsUnsigned\r\n13:00:56     self.assertEqual(dtypes.as_dtype(\"bfloat16\").is_unsigned, False)\r\n13:00:56 AssertionError: True != False\r\n13:00:56 \r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Ran 16 tests in 0.009s\r\n13:00:56 \r\n13:00:56 FAILED (failures=1)\r\n13:00:56 <dtype: 'float32'>: -3.40282e+38 - 3.40282e+38\r\n13:00:56 <dtype: 'float64'>: -1.79769313486e+308 - 1.79769313486e+308\r\n13:00:56 <dtype: 'int32'>: -2147483648 - 2147483647\r\n13:00:56 <dtype: 'uint8'>: 0 - 255\r\n13:00:56 <dtype: 'int16'>: -32768 - 32767\r\n13:00:56 <dtype: 'int8'>: -128 - 127\r\n13:00:56 <dtype: 'int64'>: -9223372036854775808 - 9223372036854775807\r\n13:00:56 <dtype: 'bfloat16'>: 0 - 0\r\n13:00:56 <dtype: 'uint16'>: 0 - 65535\r\n13:00:56 <dtype: 'float16'>: -65504.0 - 65504.0\r\n13:00:56 <dtype: 'uint32'>: 0 - 4294967295\r\n13:00:56 <dtype: 'uint64'>: 0 - 18446744073709551615\r\n13:00:56 <dtype: 'float32_ref'>: -3.40282e+38 - 3.40282e+38\r\n13:00:56 <dtype: 'float64_ref'>: -1.79769313486e+308 - 1.79769313486e+308\r\n13:00:56 <dtype: 'int32_ref'>: -2147483648 - 2147483647\r\n13:00:56 <dtype: 'uint8_ref'>: 0 - 255\r\n13:00:56 <dtype: 'int16_ref'>: -32768 - 32767\r\n13:00:56 <dtype: 'int8_ref'>: -128 - 127\r\n13:00:56 <dtype: 'int64_ref'>: -9223372036854775808 - 9223372036854775807\r\n13:00:56 <dtype: 'bfloat16_ref'>: 0 - 0\r\n13:00:56 <dtype: 'uint16_ref'>: 0 - 65535\r\n13:00:56 <dtype: 'float16_ref'>: -65504.0 - 65504.0\r\n13:00:56 <dtype: 'uint32_ref'>: 0 - 4294967295\r\n13:00:56 <dtype: 'uint64_ref'>: 0 - 18446744073709551615\r\n13:00:56 ================================================================================\r\n13:00:56 INFO: From Testing //py_test_dir/tensorflow/python:bfloat16_test:\r\n13:00:56 ==================== Test output for //py_test_dir/tensorflow/python:bfloat16_test:\r\n13:00:56 FFF.F.FFFFFFFFFFFFFFFF.\r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testAdd (__main__.Bfloat16NumPyTest)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 189, in testAdd\r\n13:00:56     self.assertAllClose(np.array([[5, 7, 9]]), x + y)\r\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1083, in assertAllClose\r\n13:00:56     self._assertArrayLikeAllClose(a, b, rtol=rtol, atol=atol)\r\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1053, in _assertArrayLikeAllClose\r\n13:00:56     np.testing.assert_allclose(a, b, rtol=rtol, atol=atol, err_msg=msg)\r\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 1411, in assert_allclose\r\n13:00:56     verbose=verbose, header=header, equal_nan=equal_nan)\r\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 796, in assert_array_compare\r\n13:00:56     raise AssertionError(msg)\r\n13:00:56 AssertionError: \r\n13:00:56 Not equal to tolerance rtol=1e-06, atol=1e-06\r\n13:00:56 None\r\n13:00:56 (mismatch 100.0%)\r\n13:00:56  x: array([[5, 7, 9]])\r\n13:00:56  y: array([[ 0.,  0.,  0.]], dtype=float16)\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testArray (__main__.Bfloat16NumPyTest)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 172, in testArray\r\n13:00:56     self.assertEqual(\"[[bfloat16(1) bfloat16(2) bfloat16(3)]]\", str(x))\r\n13:00:56 AssertionError: '[[bfloat16(1) bfloat16(2) bfloat16(3)]]' != '[[bfloat16(0) bfloat16(0) bfloat16(0)]]'\r\n13:00:56 - [[bfloat16(1) bfloat16(2) bfloat16(3)]]\r\n13:00:56 ?            ^           ^           ^\r\n13:00:56 + [[bfloat16(0) bfloat16(0) bfloat16(0)]]\r\n13:00:56 ?            ^           ^           ^\r\n13:00:56 \r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testCasts (__main__.Bfloat16NumPyTest)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 181, in testCasts\r\n13:00:56     self.assertTrue(np.all(x == y))\r\n13:00:56 AssertionError: False is not true\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testLogSumExp (__main__.Bfloat16NumPyTest)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 196, in testLogSumExp\r\n13:00:56     atol=2e-2)\r\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1083, in assertAllClose\r\n13:00:56     self._assertArrayLikeAllClose(a, b, rtol=rtol, atol=atol)\r\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1053, in _assertArrayLikeAllClose\r\n13:00:56     np.testing.assert_allclose(a, b, rtol=rtol, atol=atol, err_msg=msg)\r\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 1411, in assert_allclose\r\n13:00:56     verbose=verbose, header=header, equal_nan=equal_nan)\r\n13:00:56   File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\numpy\\testing\\utils.py\", line 796, in assert_array_compare\r\n13:00:56     raise AssertionError(msg)\r\n13:00:56 AssertionError: \r\n13:00:56 Not equal to tolerance rtol=1e-06, atol=0.02\r\n13:00:56 None\r\n13:00:56 (mismatch 100.0%)\r\n13:00:56  x: array([[ 4.048587,  5.048587,  6.048587]], dtype=float32)\r\n13:00:56  y: array([[ 0.693359,  0.693359,  0.693359]], dtype=float16)\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testAdd (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 89, in testAdd\r\n13:00:56     self._assertFloatIdentical(1, float(bfloat16(1) + bfloat16(0)))\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\r\n13:00:56     self.assertEqual(v, w)\r\n13:00:56 AssertionError: 1 != 0.0\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testDiv (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 123, in testDiv\r\n13:00:56     self.assertTrue(math.isnan(float(bfloat16(0) / bfloat16(0))))\r\n13:00:56 AssertionError: False is not true\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testEqual (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 156, in testEqual\r\n13:00:56     self.assertEqual(v == w, bfloat16(v) == bfloat16(w))\r\n13:00:56 AssertionError: False != True\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testGreater (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 146, in testGreater\r\n13:00:56     self.assertEqual(v > w, bfloat16(v) > bfloat16(w))\r\n13:00:56 AssertionError: True != False\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testGreaterEqual (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 151, in testGreaterEqual\r\n13:00:56     self.assertEqual(v >= w, bfloat16(v) >= bfloat16(w))\r\n13:00:56 AssertionError: False != True\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testHash (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 79, in testHash\r\n13:00:56     self.assertEqual(0x3f80, hash(bfloat16(1.0)))\r\n13:00:56 AssertionError: 16256 != 0\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testLess (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 136, in testLess\r\n13:00:56     self.assertEqual(v < w, bfloat16(v) < bfloat16(w))\r\n13:00:56 AssertionError: True != False\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testLessEqual (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 141, in testLessEqual\r\n13:00:56     self.assertEqual(v <= w, bfloat16(v) <= bfloat16(w))\r\n13:00:56 AssertionError: False != True\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testMul (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 114, in testMul\r\n13:00:56     self._assertFloatIdentical(-1, float(bfloat16(1) * bfloat16(-1)))\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\r\n13:00:56     self.assertEqual(v, w)\r\n13:00:56 AssertionError: -1 != 0.0\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testNegate (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 85, in testNegate\r\n13:00:56     self._assertFloatIdentical(-v, float(-bfloat16(v)))\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\r\n13:00:56     self.assertEqual(v, w)\r\n13:00:56 AssertionError: -0.0 != 4.591774807899561e-41\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testNotEqual (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 161, in testNotEqual\r\n13:00:56     self.assertEqual(v != w, bfloat16(v) != bfloat16(w))\r\n13:00:56 AssertionError: True != False\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testRepr (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 69, in testRepr\r\n13:00:56     self.assertEqual(\"bfloat16(1)\", repr(bfloat16(1)))\r\n13:00:56 AssertionError: 'bfloat16(1)' != 'bfloat16(0)'\r\n13:00:56 - bfloat16(1)\r\n13:00:56 ?          ^\r\n13:00:56 + bfloat16(0)\r\n13:00:56 ?          ^\r\n13:00:56 \r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testRoundTripToFloat (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 52, in testRoundTripToFloat\r\n13:00:56     self._assertFloatIdentical(v, float(bfloat16(v)))\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\r\n13:00:56     self.assertEqual(v, w)\r\n13:00:56 AssertionError: 1.0 != 0.0\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testRoundTripToInt (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 56, in testRoundTripToInt\r\n13:00:56     self.assertEqual(v, int(bfloat16(v)))\r\n13:00:56 AssertionError: -256 != 0\r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testStr (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 60, in testStr\r\n13:00:56     self.assertEqual(\"1\", str(bfloat16(1.0)))\r\n13:00:56 AssertionError: '1' != '0'\r\n13:00:56 - 1\r\n13:00:56 + 0\r\n13:00:56 \r\n13:00:56 \r\n13:00:56 ======================================================================\r\n13:00:56 FAIL: testSub (__main__.Bfloat16Test)\r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Traceback (most recent call last):\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 101, in testSub\r\n13:00:56     self._assertFloatIdentical(1, float(bfloat16(1) - bfloat16(0)))\r\n13:00:56   File \"\\\\?\\C:\\tmp\\Bazel.runfiles_5lnmqasq\\runfiles\\org_tensorflow\\py_test_dir\\tensorflow\\python\\lib\\core\\bfloat16_test.py\", line 48, in _assertFloatIdentical\r\n13:00:56     self.assertEqual(v, w)\r\n13:00:56 AssertionError: 1 != 0.0\r\n13:00:56 \r\n13:00:56 ----------------------------------------------------------------------\r\n13:00:56 Ran 23 tests in 0.014s\r\n13:00:56 \r\n13:00:56 FAILED (failures=20)\r\n13:00:56 not close where =  (array([0, 0, 0], dtype=int64), array([0, 1, 2], dtype=int64))\r\n13:00:56 not close lhs =  [5 7 9]\r\n13:00:56 not close rhs =  [ 0.  0.  0.]\r\n13:00:56 not close dif =  [ 5.  7.  9.]\r\n13:00:56 not close tol =  [  1.01327896e-06   1.01327896e-06   1.01327896e-06]\r\n13:00:56 dtype = int32, shape = (1, 3)\r\n13:00:56 not close where =  (array([0, 0, 0], dtype=int64), array([0, 1, 2], dtype=int64))\r\n13:00:56 not close lhs =  [ 4.04858732  5.04858732  6.04858732]\r\n13:00:56 not close rhs =  [ 0.69335938  0.69335938  0.69335938]\r\n13:00:56 not close dif =  [ 3.35522795  4.35522795  5.35522795]\r\n13:00:56 not close tol =  [ 0.02000427  0.02000427  0.02000427]\r\n13:00:56 dtype = float32, shape = (1, 3)\r\n13:00:56 ================================================================================\r\n```\r\n\r\n\r\n@gunan "}