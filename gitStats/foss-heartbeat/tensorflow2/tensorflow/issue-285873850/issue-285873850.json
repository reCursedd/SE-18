{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15830", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15830/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15830/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15830/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15830", "id": 285873850, "node_id": "MDU6SXNzdWUyODU4NzM4NTA=", "number": 15830, "title": "tensorflow/contrib/lite/kernels/resize_bilinear.cc:42 NumInputs(node) != 1 (2 != 1)", "user": {"login": "csuwoshikunge", "id": 17931427, "node_id": "MDQ6VXNlcjE3OTMxNDI3", "avatar_url": "https://avatars1.githubusercontent.com/u/17931427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/csuwoshikunge", "html_url": "https://github.com/csuwoshikunge", "followers_url": "https://api.github.com/users/csuwoshikunge/followers", "following_url": "https://api.github.com/users/csuwoshikunge/following{/other_user}", "gists_url": "https://api.github.com/users/csuwoshikunge/gists{/gist_id}", "starred_url": "https://api.github.com/users/csuwoshikunge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/csuwoshikunge/subscriptions", "organizations_url": "https://api.github.com/users/csuwoshikunge/orgs", "repos_url": "https://api.github.com/users/csuwoshikunge/repos", "events_url": "https://api.github.com/users/csuwoshikunge/events{/privacy}", "received_events_url": "https://api.github.com/users/csuwoshikunge/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-04T03:42:09Z", "updated_at": "2018-01-30T22:09:50Z", "closed_at": "2018-01-30T22:09:50Z", "author_association": "NONE", "body_html": "<p>###System information<br>\nHave I written custom code: Yes,<br>\nOS Platform and Distribution: Ubuntu14.04<br>\nTensorFlow installed from: source build w/ Bazel<br>\nTensorFlow version: 1.4<br>\nPython version: Anaconda 3.5.2<br>\nBazel version: 0.9.0<br>\nGCC/Compiler version (if compiling from source): gcc version 4.8.4<br>\nCUDA/cuDNN version: Not relevant<br>\nGPU model and memory: Not  relevant<br>\nExact command to reproduce: Not relevant</p>\n<h3>Describe the problem</h3>\n<p>I construct a network with only bilinear_resize operation (I use the tf.image.resize_bilinear) and add operation, and  convert it to a tflite model successfully. However,  when I run the tflite mode, it comes to the errors as follows:</p>\n<p>java.lang.NullPointerException: Can not allocate memory for the given inputs: tensorflow/contrib/lite/kernels/resize_bilinear.cc:42 NumInputs(node) != 1 (2 != 1)</p>\n<p>I find the code line in resize_bilinear.cc:42 as follows:<br>\nTF_LITE_ENSURE_EQ(context, NumInputs(node), 1);</p>\n<p>Is it right to modify the code line to :<br>\nTF_LITE_ENSURE(context, NumInputs(node) == 1 || NumInputs(node) == 2);</p>\n<h3>Source code / logs</h3>\n<p>def network():<br>\nimg = tf.placeholder(name='img', dtype=tf.float32, shape=(1,100,100,3))<br>\nimg = tf.layers.conv2d(img, 3, (3,3), padding='same', name='conv1')<br>\nimg = tf.image.resize_bilinear(img, [200,200])<br>\nvar = tf.get_variable('weights', dtype=tf.float32, shape=(1,200,200,3))<br>\nval = img + var<br>\nout = tf.identity(val, name='out')</p>", "body_text": "###System information\nHave I written custom code: Yes,\nOS Platform and Distribution: Ubuntu14.04\nTensorFlow installed from: source build w/ Bazel\nTensorFlow version: 1.4\nPython version: Anaconda 3.5.2\nBazel version: 0.9.0\nGCC/Compiler version (if compiling from source): gcc version 4.8.4\nCUDA/cuDNN version: Not relevant\nGPU model and memory: Not  relevant\nExact command to reproduce: Not relevant\nDescribe the problem\nI construct a network with only bilinear_resize operation (I use the tf.image.resize_bilinear) and add operation, and  convert it to a tflite model successfully. However,  when I run the tflite mode, it comes to the errors as follows:\njava.lang.NullPointerException: Can not allocate memory for the given inputs: tensorflow/contrib/lite/kernels/resize_bilinear.cc:42 NumInputs(node) != 1 (2 != 1)\nI find the code line in resize_bilinear.cc:42 as follows:\nTF_LITE_ENSURE_EQ(context, NumInputs(node), 1);\nIs it right to modify the code line to :\nTF_LITE_ENSURE(context, NumInputs(node) == 1 || NumInputs(node) == 2);\nSource code / logs\ndef network():\nimg = tf.placeholder(name='img', dtype=tf.float32, shape=(1,100,100,3))\nimg = tf.layers.conv2d(img, 3, (3,3), padding='same', name='conv1')\nimg = tf.image.resize_bilinear(img, [200,200])\nvar = tf.get_variable('weights', dtype=tf.float32, shape=(1,200,200,3))\nval = img + var\nout = tf.identity(val, name='out')", "body": "###System information\r\nHave I written custom code: Yes, \r\nOS Platform and Distribution: Ubuntu14.04\r\nTensorFlow installed from: source build w/ Bazel\r\nTensorFlow version: 1.4\r\nPython version: Anaconda 3.5.2\r\nBazel version: 0.9.0\r\nGCC/Compiler version (if compiling from source): gcc version 4.8.4\r\nCUDA/cuDNN version: Not relevant\r\nGPU model and memory: Not  relevant\r\nExact command to reproduce: Not relevant\r\n\r\n\r\n### Describe the problem\r\n\r\nI construct a network with only bilinear_resize operation (I use the tf.image.resize_bilinear) and add operation, and  convert it to a tflite model successfully. However,  when I run the tflite mode, it comes to the errors as follows:\r\n\r\njava.lang.NullPointerException: Can not allocate memory for the given inputs: tensorflow/contrib/lite/kernels/resize_bilinear.cc:42 NumInputs(node) != 1 (2 != 1)\r\n\r\nI find the code line in resize_bilinear.cc:42 as follows:\r\nTF_LITE_ENSURE_EQ(context, NumInputs(node), 1);\r\n\r\nIs it right to modify the code line to : \r\nTF_LITE_ENSURE(context, NumInputs(node) == 1 || NumInputs(node) == 2); \r\n   \r\n\r\n\r\n### Source code / logs\r\ndef network():\r\n      img = tf.placeholder(name='img', dtype=tf.float32, shape=(1,100,100,3))\r\n      img = tf.layers.conv2d(img, 3, (3,3), padding='same', name='conv1')\r\n      img = tf.image.resize_bilinear(img, [200,200])\r\n      var = tf.get_variable('weights', dtype=tf.float32, shape=(1,200,200,3))\r\n      val = img + var\r\n      out = tf.identity(val, name='out')\r\n\r\n\r\n  "}