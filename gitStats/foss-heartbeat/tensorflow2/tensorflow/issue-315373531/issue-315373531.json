{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18636", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18636/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18636/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18636/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18636", "id": 315373531, "node_id": "MDU6SXNzdWUzMTUzNzM1MzE=", "number": 18636, "title": "Does anyone know how to make network output int instead of float?", "user": {"login": "adaxidedakaonang", "id": 16380562, "node_id": "MDQ6VXNlcjE2MzgwNTYy", "avatar_url": "https://avatars1.githubusercontent.com/u/16380562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adaxidedakaonang", "html_url": "https://github.com/adaxidedakaonang", "followers_url": "https://api.github.com/users/adaxidedakaonang/followers", "following_url": "https://api.github.com/users/adaxidedakaonang/following{/other_user}", "gists_url": "https://api.github.com/users/adaxidedakaonang/gists{/gist_id}", "starred_url": "https://api.github.com/users/adaxidedakaonang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adaxidedakaonang/subscriptions", "organizations_url": "https://api.github.com/users/adaxidedakaonang/orgs", "repos_url": "https://api.github.com/users/adaxidedakaonang/repos", "events_url": "https://api.github.com/users/adaxidedakaonang/events{/privacy}", "received_events_url": "https://api.github.com/users/adaxidedakaonang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "michaelisard", "id": 5376757, "node_id": "MDQ6VXNlcjUzNzY3NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5376757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelisard", "html_url": "https://github.com/michaelisard", "followers_url": "https://api.github.com/users/michaelisard/followers", "following_url": "https://api.github.com/users/michaelisard/following{/other_user}", "gists_url": "https://api.github.com/users/michaelisard/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelisard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelisard/subscriptions", "organizations_url": "https://api.github.com/users/michaelisard/orgs", "repos_url": "https://api.github.com/users/michaelisard/repos", "events_url": "https://api.github.com/users/michaelisard/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelisard/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "michaelisard", "id": 5376757, "node_id": "MDQ6VXNlcjUzNzY3NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5376757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelisard", "html_url": "https://github.com/michaelisard", "followers_url": "https://api.github.com/users/michaelisard/followers", "following_url": "https://api.github.com/users/michaelisard/following{/other_user}", "gists_url": "https://api.github.com/users/michaelisard/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelisard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelisard/subscriptions", "organizations_url": "https://api.github.com/users/michaelisard/orgs", "repos_url": "https://api.github.com/users/michaelisard/repos", "events_url": "https://api.github.com/users/michaelisard/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelisard/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-04-18T08:07:17Z", "updated_at": "2018-04-19T22:17:30Z", "closed_at": "2018-04-19T22:17:30Z", "author_association": "NONE", "body_html": "<p>I try to use tf.round to make elements in tensor convert to int, but then I meet this error:</p>\n<p>ValueError: No gradients provided for any variable, check your graph for ops that do not support gradients, between variables ['Tensor(\"conv_w_0/read:0\", shape=(9, 9, 1, 64), dtype=float32)', 'Tensor(\"conv_b_0/read:0\", shape=(64,), dtype=float32)', 'Tensor(\"conv_w_1/read:0\", shape=(1, 1, 64, 32), dtype=float32)', 'Tensor(\"conv_b_1/read:0\", shape=(32,), dtype=float32)', 'Tensor(\"conv_w_2/read:0\", shape=(5, 5, 32, 1), dtype=float32)', 'Tensor(\"conv_b_2/read:0\", shape=(1,), dtype=float32)'] and loss Tensor(\"Mean:0\", shape=(), dtype=float32).</p>\n<p>And this is my  code:<br>\nLoss = tf.reduce_mean(tf.nn.l2_loss(tf.round(Train_output) * Train_tao / 2 + Train_img_LR[:,6:27,6:27,:] - Train_img_HR))</p>\n<p>I just want to transfer the elements in Train_output from float to int, Train_output is my network's output.<br>\nI have an idea is that I can add a binary_step activation to the end of my model, but I don't know how to write it, because tensor is not iterable, can anyone help me?</p>", "body_text": "I try to use tf.round to make elements in tensor convert to int, but then I meet this error:\nValueError: No gradients provided for any variable, check your graph for ops that do not support gradients, between variables ['Tensor(\"conv_w_0/read:0\", shape=(9, 9, 1, 64), dtype=float32)', 'Tensor(\"conv_b_0/read:0\", shape=(64,), dtype=float32)', 'Tensor(\"conv_w_1/read:0\", shape=(1, 1, 64, 32), dtype=float32)', 'Tensor(\"conv_b_1/read:0\", shape=(32,), dtype=float32)', 'Tensor(\"conv_w_2/read:0\", shape=(5, 5, 32, 1), dtype=float32)', 'Tensor(\"conv_b_2/read:0\", shape=(1,), dtype=float32)'] and loss Tensor(\"Mean:0\", shape=(), dtype=float32).\nAnd this is my  code:\nLoss = tf.reduce_mean(tf.nn.l2_loss(tf.round(Train_output) * Train_tao / 2 + Train_img_LR[:,6:27,6:27,:] - Train_img_HR))\nI just want to transfer the elements in Train_output from float to int, Train_output is my network's output.\nI have an idea is that I can add a binary_step activation to the end of my model, but I don't know how to write it, because tensor is not iterable, can anyone help me?", "body": "I try to use tf.round to make elements in tensor convert to int, but then I meet this error:\r\n\r\nValueError: No gradients provided for any variable, check your graph for ops that do not support gradients, between variables ['Tensor(\"conv_w_0/read:0\", shape=(9, 9, 1, 64), dtype=float32)', 'Tensor(\"conv_b_0/read:0\", shape=(64,), dtype=float32)', 'Tensor(\"conv_w_1/read:0\", shape=(1, 1, 64, 32), dtype=float32)', 'Tensor(\"conv_b_1/read:0\", shape=(32,), dtype=float32)', 'Tensor(\"conv_w_2/read:0\", shape=(5, 5, 32, 1), dtype=float32)', 'Tensor(\"conv_b_2/read:0\", shape=(1,), dtype=float32)'] and loss Tensor(\"Mean:0\", shape=(), dtype=float32).\r\n\r\nAnd this is my  code:\r\nLoss = tf.reduce_mean(tf.nn.l2_loss(tf.round(Train_output) * Train_tao / 2 + Train_img_LR[:,6:27,6:27,:] - Train_img_HR))\r\n\r\nI just want to transfer the elements in Train_output from float to int, Train_output is my network's output.\r\nI have an idea is that I can add a binary_step activation to the end of my model, but I don't know how to write it, because tensor is not iterable, can anyone help me?\r\n"}