{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/315389814", "html_url": "https://github.com/tensorflow/tensorflow/issues/8926#issuecomment-315389814", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8926", "id": 315389814, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTM4OTgxNA==", "user": {"login": "drakerehfeld", "id": 7699842, "node_id": "MDQ6VXNlcjc2OTk4NDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/7699842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drakerehfeld", "html_url": "https://github.com/drakerehfeld", "followers_url": "https://api.github.com/users/drakerehfeld/followers", "following_url": "https://api.github.com/users/drakerehfeld/following{/other_user}", "gists_url": "https://api.github.com/users/drakerehfeld/gists{/gist_id}", "starred_url": "https://api.github.com/users/drakerehfeld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drakerehfeld/subscriptions", "organizations_url": "https://api.github.com/users/drakerehfeld/orgs", "repos_url": "https://api.github.com/users/drakerehfeld/repos", "events_url": "https://api.github.com/users/drakerehfeld/events{/privacy}", "received_events_url": "https://api.github.com/users/drakerehfeld/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-14T15:30:26Z", "updated_at": "2017-07-14T15:30:26Z", "author_association": "NONE", "body_html": "<p>I know this has been briefly mentioned, but I've had great results just using <code>tf.map_fn</code>.</p>\n<pre><code>hue = lambda x: tf.image.random_hue(x, 0.5)\nhue_imgs = tf.map_fn(hue, input_imgs)\n</code></pre>\n<p>This seems to work on the whole batch.</p>\n<p>+1 to the fact that it is annoying how some ops (random_brightness) work on batches, but others (random_hue) do not :-/</p>", "body_text": "I know this has been briefly mentioned, but I've had great results just using tf.map_fn.\nhue = lambda x: tf.image.random_hue(x, 0.5)\nhue_imgs = tf.map_fn(hue, input_imgs)\n\nThis seems to work on the whole batch.\n+1 to the fact that it is annoying how some ops (random_brightness) work on batches, but others (random_hue) do not :-/", "body": "I know this has been briefly mentioned, but I've had great results just using ```tf.map_fn```.\r\n\r\n```\r\nhue = lambda x: tf.image.random_hue(x, 0.5)\r\nhue_imgs = tf.map_fn(hue, input_imgs)\r\n```\r\n\r\nThis seems to work on the whole batch. \r\n\r\n+1 to the fact that it is annoying how some ops (random_brightness) work on batches, but others (random_hue) do not :-/\r\n"}