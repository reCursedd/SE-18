{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/309553816", "html_url": "https://github.com/tensorflow/tensorflow/issues/8926#issuecomment-309553816", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8926", "id": 309553816, "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTU1MzgxNg==", "user": {"login": "zo7", "id": 3229244, "node_id": "MDQ6VXNlcjMyMjkyNDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3229244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zo7", "html_url": "https://github.com/zo7", "followers_url": "https://api.github.com/users/zo7/followers", "following_url": "https://api.github.com/users/zo7/following{/other_user}", "gists_url": "https://api.github.com/users/zo7/gists{/gist_id}", "starred_url": "https://api.github.com/users/zo7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zo7/subscriptions", "organizations_url": "https://api.github.com/users/zo7/orgs", "repos_url": "https://api.github.com/users/zo7/repos", "events_url": "https://api.github.com/users/zo7/events{/privacy}", "received_events_url": "https://api.github.com/users/zo7/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-19T19:51:25Z", "updated_at": "2017-06-19T19:51:25Z", "author_association": "NONE", "body_html": "<pre><code>&gt;&gt;&gt; import tensorflow as tf\n&gt;&gt;&gt; tf.__version__\n'1.2.0'\n&gt;&gt;&gt; x = tf.placeholder(tf.float32, [None, 32, 32, 3])\n&gt;&gt;&gt; tf.image.random_brightness(x, max_delta=0.125)\n&lt;tf.Tensor 'adjust_brightness/Identity_1:0' shape=(?, 32, 32, 3) dtype=float32&gt;\n&gt;&gt;&gt; tf.image.random_contrast(x, lower=0.5, upper=1.5)\n&lt;tf.Tensor 'adjust_contrast/Identity_1:0' shape=(?, 32, 32, 3) dtype=float32&gt;\n&gt;&gt;&gt; tf.image.random_flip_left_right(x)\n...\nValueError: 'image' (shape (?, 32, 32, 3)) must be three-dimensional.\n&gt;&gt;&gt; tf.image.random_flip_up_down(x)\n...\nValueError: 'image' (shape (?, 32, 32, 3)) must be three-dimensional.\n&gt;&gt;&gt; tf.image.random_saturation(x, lower=0.5, upper=1.5)\n...\nValueError: Shape must be rank 3 but is rank 4 for 'adjust_saturation/Slice' (op: 'Slice') with input shapes: [?,32,32,3], [3], [3].\n&gt;&gt;&gt; tf.image.random_hue(x, max_delta=0.2)\n...\nValueError: Shape must be rank 3 but is rank 4 for 'adjust_hue/Slice' (op: 'Slice') with input shapes: [?,32,32,3], [3], [3].\n</code></pre>\n<p>Not all image ops support batch still, can we reopen? I raised a separate issue about making the image module API more consistent (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"222901715\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9318\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/9318/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/9318\">#9318</a>) but closed it because this issue existed. This has been on the back of my mind to contribute to because it would benefit a model I have but I haven't had time to look into it recently.</p>", "body_text": ">>> import tensorflow as tf\n>>> tf.__version__\n'1.2.0'\n>>> x = tf.placeholder(tf.float32, [None, 32, 32, 3])\n>>> tf.image.random_brightness(x, max_delta=0.125)\n<tf.Tensor 'adjust_brightness/Identity_1:0' shape=(?, 32, 32, 3) dtype=float32>\n>>> tf.image.random_contrast(x, lower=0.5, upper=1.5)\n<tf.Tensor 'adjust_contrast/Identity_1:0' shape=(?, 32, 32, 3) dtype=float32>\n>>> tf.image.random_flip_left_right(x)\n...\nValueError: 'image' (shape (?, 32, 32, 3)) must be three-dimensional.\n>>> tf.image.random_flip_up_down(x)\n...\nValueError: 'image' (shape (?, 32, 32, 3)) must be three-dimensional.\n>>> tf.image.random_saturation(x, lower=0.5, upper=1.5)\n...\nValueError: Shape must be rank 3 but is rank 4 for 'adjust_saturation/Slice' (op: 'Slice') with input shapes: [?,32,32,3], [3], [3].\n>>> tf.image.random_hue(x, max_delta=0.2)\n...\nValueError: Shape must be rank 3 but is rank 4 for 'adjust_hue/Slice' (op: 'Slice') with input shapes: [?,32,32,3], [3], [3].\n\nNot all image ops support batch still, can we reopen? I raised a separate issue about making the image module API more consistent (#9318) but closed it because this issue existed. This has been on the back of my mind to contribute to because it would benefit a model I have but I haven't had time to look into it recently.", "body": "```\r\n>>> import tensorflow as tf\r\n>>> tf.__version__\r\n'1.2.0'\r\n>>> x = tf.placeholder(tf.float32, [None, 32, 32, 3])\r\n>>> tf.image.random_brightness(x, max_delta=0.125)\r\n<tf.Tensor 'adjust_brightness/Identity_1:0' shape=(?, 32, 32, 3) dtype=float32>\r\n>>> tf.image.random_contrast(x, lower=0.5, upper=1.5)\r\n<tf.Tensor 'adjust_contrast/Identity_1:0' shape=(?, 32, 32, 3) dtype=float32>\r\n>>> tf.image.random_flip_left_right(x)\r\n...\r\nValueError: 'image' (shape (?, 32, 32, 3)) must be three-dimensional.\r\n>>> tf.image.random_flip_up_down(x)\r\n...\r\nValueError: 'image' (shape (?, 32, 32, 3)) must be three-dimensional.\r\n>>> tf.image.random_saturation(x, lower=0.5, upper=1.5)\r\n...\r\nValueError: Shape must be rank 3 but is rank 4 for 'adjust_saturation/Slice' (op: 'Slice') with input shapes: [?,32,32,3], [3], [3].\r\n>>> tf.image.random_hue(x, max_delta=0.2)\r\n...\r\nValueError: Shape must be rank 3 but is rank 4 for 'adjust_hue/Slice' (op: 'Slice') with input shapes: [?,32,32,3], [3], [3].\r\n```\r\nNot all image ops support batch still, can we reopen? I raised a separate issue about making the image module API more consistent (#9318) but closed it because this issue existed. This has been on the back of my mind to contribute to because it would benefit a model I have but I haven't had time to look into it recently."}