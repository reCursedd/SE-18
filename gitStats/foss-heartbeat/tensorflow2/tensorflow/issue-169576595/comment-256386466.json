{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/256386466", "html_url": "https://github.com/tensorflow/tensorflow/issues/3663#issuecomment-256386466", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3663", "id": 256386466, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjM4NjQ2Ng==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-26T15:39:54Z", "updated_at": "2016-10-26T15:39:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Davit, can you post the minimal failing example?  This has worked for us<br>\nfine.  You just have to ensure your updated TensorArray objects are fed<br>\nback to the loop as outputs and you never access these temporary<br>\nTensorArray objects outside the loop_fn.</p>\n<p>On Oct 25, 2016 3:43 PM, \"Davit Buniatyan\" <a href=\"mailto:notifications@github.com\">notifications@github.com</a> wrote:</p>\n<blockquote>\n<p>Hi,</p>\n<p>I am using rnn.row_rnn() with loop_fn which reads and writes a<br>\ntensor_array of hidden states (e.g. I need more than one timestep memory)<br>\nand I get the same error. Setting parallel_iterations =1 does not help me<br>\nto move on.</p>\n<p>In case of creating a python queue (or simply an array of cell_states) in<br>\nthe loop and passing it as a loop_state will still everything work fine in<br>\na Tensor graph while computing the gradients and the rest?</p>\n<p>\u2014<br>\nYou are receiving this because you were mentioned.<br>\nReply to this email directly, view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"169576595\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/3663\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/3663/hovercard?comment_id=256199623&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/3663#issuecomment-256199623\">#3663 (comment)</a>,<br>\nor mute the thread<br>\n<a href=\"https://github.com/notifications/unsubscribe-auth/ABtimwmt3yX5_maaX8tGecRFq73aZh1wks5q3oYWgaJpZM4JdjPE\">https://github.com/notifications/unsubscribe-auth/ABtimwmt3yX5_maaX8tGecRFq73aZh1wks5q3oYWgaJpZM4JdjPE</a><br>\n.</p>\n</blockquote>", "body_text": "Davit, can you post the minimal failing example?  This has worked for us\nfine.  You just have to ensure your updated TensorArray objects are fed\nback to the loop as outputs and you never access these temporary\nTensorArray objects outside the loop_fn.\nOn Oct 25, 2016 3:43 PM, \"Davit Buniatyan\" notifications@github.com wrote:\n\nHi,\nI am using rnn.row_rnn() with loop_fn which reads and writes a\ntensor_array of hidden states (e.g. I need more than one timestep memory)\nand I get the same error. Setting parallel_iterations =1 does not help me\nto move on.\nIn case of creating a python queue (or simply an array of cell_states) in\nthe loop and passing it as a loop_state will still everything work fine in\na Tensor graph while computing the gradients and the rest?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\n#3663 (comment),\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABtimwmt3yX5_maaX8tGecRFq73aZh1wks5q3oYWgaJpZM4JdjPE\n.", "body": "Davit, can you post the minimal failing example?  This has worked for us\nfine.  You just have to ensure your updated TensorArray objects are fed\nback to the loop as outputs and you never access these temporary\nTensorArray objects outside the loop_fn.\n\nOn Oct 25, 2016 3:43 PM, \"Davit Buniatyan\" notifications@github.com wrote:\n\n> Hi,\n> \n> I am using rnn.row_rnn() with loop_fn which reads and writes a\n> tensor_array of hidden states (e.g. I need more than one timestep memory)\n> and I get the same error. Setting parallel_iterations =1 does not help me\n> to move on.\n> \n> In case of creating a python queue (or simply an array of cell_states) in\n> the loop and passing it as a loop_state will still everything work fine in\n> a Tensor graph while computing the gradients and the rest?\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/3663#issuecomment-256199623,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/ABtimwmt3yX5_maaX8tGecRFq73aZh1wks5q3oYWgaJpZM4JdjPE\n> .\n"}