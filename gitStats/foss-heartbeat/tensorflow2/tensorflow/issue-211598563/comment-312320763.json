{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/312320763", "html_url": "https://github.com/tensorflow/tensorflow/issues/8043#issuecomment-312320763", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8043", "id": 312320763, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjMyMDc2Mw==", "user": {"login": "ntvy95", "id": 13184614, "node_id": "MDQ6VXNlcjEzMTg0NjE0", "avatar_url": "https://avatars1.githubusercontent.com/u/13184614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ntvy95", "html_url": "https://github.com/ntvy95", "followers_url": "https://api.github.com/users/ntvy95/followers", "following_url": "https://api.github.com/users/ntvy95/following{/other_user}", "gists_url": "https://api.github.com/users/ntvy95/gists{/gist_id}", "starred_url": "https://api.github.com/users/ntvy95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ntvy95/subscriptions", "organizations_url": "https://api.github.com/users/ntvy95/orgs", "repos_url": "https://api.github.com/users/ntvy95/repos", "events_url": "https://api.github.com/users/ntvy95/events{/privacy}", "received_events_url": "https://api.github.com/users/ntvy95/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-30T17:01:23Z", "updated_at": "2017-07-01T01:10:22Z", "author_association": "NONE", "body_html": "<p>Hello... <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=19861701\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/honkentuber\">@honkentuber</a></p>\n<p>Tensorflow version: 1.2.1<br>\nAnaconda version: 1.6.3<br>\nOS: Windows Server R2 2008 Datacenter</p>\n<p>I also run into the same problem with DNNClassifer:</p>\n<ul>\n<li>Logging error:</li>\n</ul>\n<blockquote>\n<p>Message: 'Weights {} has shape {}, expanding to make it 2d.'<br>\nArguments: ('sample_weight', TensorShape([Dimension(60480)]))</p>\n</blockquote>\n<ul>\n<li>ValueError:</li>\n</ul>\n<blockquote>\n<p>ValueError: weights can not be broadcast to values. values.rank=1. weights.rank=2. values.shape=(60480,). weights.shape=(60480, 1).</p>\n</blockquote>\n<p>I have fixed according to your instruction but later I get this error (which I believe this is due to the fact that 'sample_weight' was forced to the shape(60480,1)):</p>\n<blockquote>\n<p>ValueError: Features are incompatible with given information. Given features: {'is_signed_out': &lt;tf.Tensor 'Const:0' shape=(60480,) dtype=bool&gt;, 'timesend_start_mapping_hour': &lt;tf.Tensor 'Const_3:0' shape=(60480,) dtype=int64&gt;, 'urls_per_cookie': &lt;tf.Tensor 'Const_8:0' shape=(60480,) dtype=int64&gt;, 'timesend_start_mapping_minute': &lt;tf.Tensor 'Const_4:0' shape=(60480,) dtype=int64&gt;, 'geoip_lon': &lt;tf.Tensor 'Const_2:0' shape=(60480,) dtype=float64&gt;, 'res_width': &lt;tf.Tensor 'Const_5:0' shape=(60480,) dtype=float64&gt;, 'sample_weight': &lt;tf.Tensor 'Reshape_1:0' shape=(60480, 1) dtype=float64&gt;, 'ua_os_family': &lt;tensorflow.python.framework.sparse_tensor.SparseTensor object at 0x000000000C7670B8&gt;, 'geoip_lat': &lt;tf.Tensor 'Const_1:0' shape=(60480,) dtype=float64&gt;, 'res_height': &lt;tf.Tensor 'Const_6:0' shape=(60480,) dtype=float64&gt;, 'urlrefs_per_cookie': &lt;tf.Tensor 'Const_7:0' shape=(60480,) dtype=float64&gt;}, required signatures: {'is_signed_out': TensorSignature(dtype=tf.bool, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'timesend_start_mapping_hour': TensorSignature(dtype=tf.int64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'geoip_lon': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'res_width': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'timesend_start_mapping_minute': TensorSignature(dtype=tf.int64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'ua_os_family': TensorSignature(dtype=tf.string, shape=None, is_sparse=True), 'geoip_lat': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'sample_weight': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'res_height': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'urls_per_cookie': TensorSignature(dtype=tf.int64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'urlrefs_per_cookie': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False)}.</p>\n</blockquote>\n<p>What should I do now?</p>\n<p>Thank you very much in advance!</p>", "body_text": "Hello... @honkentuber\nTensorflow version: 1.2.1\nAnaconda version: 1.6.3\nOS: Windows Server R2 2008 Datacenter\nI also run into the same problem with DNNClassifer:\n\nLogging error:\n\n\nMessage: 'Weights {} has shape {}, expanding to make it 2d.'\nArguments: ('sample_weight', TensorShape([Dimension(60480)]))\n\n\nValueError:\n\n\nValueError: weights can not be broadcast to values. values.rank=1. weights.rank=2. values.shape=(60480,). weights.shape=(60480, 1).\n\nI have fixed according to your instruction but later I get this error (which I believe this is due to the fact that 'sample_weight' was forced to the shape(60480,1)):\n\nValueError: Features are incompatible with given information. Given features: {'is_signed_out': <tf.Tensor 'Const:0' shape=(60480,) dtype=bool>, 'timesend_start_mapping_hour': <tf.Tensor 'Const_3:0' shape=(60480,) dtype=int64>, 'urls_per_cookie': <tf.Tensor 'Const_8:0' shape=(60480,) dtype=int64>, 'timesend_start_mapping_minute': <tf.Tensor 'Const_4:0' shape=(60480,) dtype=int64>, 'geoip_lon': <tf.Tensor 'Const_2:0' shape=(60480,) dtype=float64>, 'res_width': <tf.Tensor 'Const_5:0' shape=(60480,) dtype=float64>, 'sample_weight': <tf.Tensor 'Reshape_1:0' shape=(60480, 1) dtype=float64>, 'ua_os_family': <tensorflow.python.framework.sparse_tensor.SparseTensor object at 0x000000000C7670B8>, 'geoip_lat': <tf.Tensor 'Const_1:0' shape=(60480,) dtype=float64>, 'res_height': <tf.Tensor 'Const_6:0' shape=(60480,) dtype=float64>, 'urlrefs_per_cookie': <tf.Tensor 'Const_7:0' shape=(60480,) dtype=float64>}, required signatures: {'is_signed_out': TensorSignature(dtype=tf.bool, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'timesend_start_mapping_hour': TensorSignature(dtype=tf.int64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'geoip_lon': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'res_width': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'timesend_start_mapping_minute': TensorSignature(dtype=tf.int64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'ua_os_family': TensorSignature(dtype=tf.string, shape=None, is_sparse=True), 'geoip_lat': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'sample_weight': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'res_height': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'urls_per_cookie': TensorSignature(dtype=tf.int64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'urlrefs_per_cookie': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False)}.\n\nWhat should I do now?\nThank you very much in advance!", "body": "Hello... @honkentuber \r\n\r\nTensorflow version: 1.2.1\r\nAnaconda version: 1.6.3\r\nOS: Windows Server R2 2008 Datacenter\r\n\r\nI also run into the same problem with DNNClassifer: \r\n\r\n* Logging error:\r\n\r\n> Message: 'Weights {} has shape {}, expanding to make it 2d.'\r\n> Arguments: ('sample_weight', TensorShape([Dimension(60480)]))\r\n\r\n* ValueError:\r\n\r\n> ValueError: weights can not be broadcast to values. values.rank=1. weights.rank=2. values.shape=(60480,). weights.shape=(60480, 1).\r\n\r\nI have fixed according to your instruction but later I get this error (which I believe this is due to the fact that 'sample_weight' was forced to the shape(60480,1)):\r\n\r\n> ValueError: Features are incompatible with given information. Given features: {'is_signed_out': <tf.Tensor 'Const:0' shape=(60480,) dtype=bool>, 'timesend_start_mapping_hour': <tf.Tensor 'Const_3:0' shape=(60480,) dtype=int64>, 'urls_per_cookie': <tf.Tensor 'Const_8:0' shape=(60480,) dtype=int64>, 'timesend_start_mapping_minute': <tf.Tensor 'Const_4:0' shape=(60480,) dtype=int64>, 'geoip_lon': <tf.Tensor 'Const_2:0' shape=(60480,) dtype=float64>, 'res_width': <tf.Tensor 'Const_5:0' shape=(60480,) dtype=float64>, 'sample_weight': <tf.Tensor 'Reshape_1:0' shape=(60480, 1) dtype=float64>, 'ua_os_family': <tensorflow.python.framework.sparse_tensor.SparseTensor object at 0x000000000C7670B8>, 'geoip_lat': <tf.Tensor 'Const_1:0' shape=(60480,) dtype=float64>, 'res_height': <tf.Tensor 'Const_6:0' shape=(60480,) dtype=float64>, 'urlrefs_per_cookie': <tf.Tensor 'Const_7:0' shape=(60480,) dtype=float64>}, required signatures: {'is_signed_out': TensorSignature(dtype=tf.bool, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'timesend_start_mapping_hour': TensorSignature(dtype=tf.int64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'geoip_lon': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'res_width': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'timesend_start_mapping_minute': TensorSignature(dtype=tf.int64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'ua_os_family': TensorSignature(dtype=tf.string, shape=None, is_sparse=True), 'geoip_lat': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'sample_weight': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'res_height': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'urls_per_cookie': TensorSignature(dtype=tf.int64, shape=TensorShape([Dimension(60480)]), is_sparse=False), 'urlrefs_per_cookie': TensorSignature(dtype=tf.float64, shape=TensorShape([Dimension(60480)]), is_sparse=False)}.\r\n\r\nWhat should I do now?\r\n\r\nThank you very much in advance!"}