{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/178997742", "pull_request_review_id": 109158847, "id": 178997742, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3ODk5Nzc0Mg==", "diff_hunk": "@@ -0,0 +1,74 @@\n+load(\"@io_bazel_rules_go//go:def.bzl\", \"go_library\", \"go_test\")\n+\n+licenses([\"notice\"])  # Apache 2.0\n+\n+exports_files([\"LICENSE\"])\n+\n+sh_test(\n+    name = \"test\",\n+    size = \"small\",\n+    srcs = [\"test.sh\"],\n+    data = [\n+        \":all_files\",  # Go sources\n+        \"//tensorflow:libtensorflow.so\",  # C library\n+        \"//tensorflow/c:headers\",  # C library header\n+        \"//tensorflow/cc/saved_model:saved_model_half_plus_two\",  # Testdata for LoadSavedModel\n+    ],\n+)\n+\n+filegroup(\n+    name = \"all_files\",\n+    srcs = glob(\n+        [\"**/*\"],\n+        exclude = [\n+            \"**/METADATA\",\n+            \"**/OWNERS\",\n+        ],\n+    ),\n+    visibility = [\"//tensorflow:__subpackages__\"],\n+)\n+\n+go_library(\n+    name = \"go_default_library\",\n+    srcs = [\n+        \"doc.go\",\n+        \"graph.go\",\n+        \"lib.go\",\n+        \"operation.go\",\n+        \"saved_model.go\",\n+        \"session.go\",\n+        \"shape.go\",\n+        \"status.go\",\n+        \"tensor.go\",\n+        \"version.go\",\n+        \"//tensorflow/c:headers\",  # C library header\n+    ],\n+    cgo = True,\n+    clinkopts = [\"-L/usr/local/lib -ltensorflow\"],", "path": "tensorflow/go/BUILD.bazel", "position": null, "original_position": 47, "commit_id": "c67a92aa1fd354d4e3a428159bdbe38d8dc8093e", "original_commit_id": "b7190b44a63da4b8024bdb2d195411fd729ccc4e", "user": {"login": "akashgangil", "id": 2284560, "node_id": "MDQ6VXNlcjIyODQ1NjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/2284560?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akashgangil", "html_url": "https://github.com/akashgangil", "followers_url": "https://api.github.com/users/akashgangil/followers", "following_url": "https://api.github.com/users/akashgangil/following{/other_user}", "gists_url": "https://api.github.com/users/akashgangil/gists{/gist_id}", "starred_url": "https://api.github.com/users/akashgangil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akashgangil/subscriptions", "organizations_url": "https://api.github.com/users/akashgangil/orgs", "repos_url": "https://api.github.com/users/akashgangil/repos", "events_url": "https://api.github.com/users/akashgangil/events{/privacy}", "received_events_url": "https://api.github.com/users/akashgangil/received_events", "type": "User", "site_admin": false}, "body": "I will look into how to improve this. \r\n\r\nOn the other question as to why we are doing this, here are two similar requests:\r\n\r\nhttps://stackoverflow.com/questions/45889740/why-doesnt-tensorflows-go-subdirectory-use-go-library-from-bazel-rules-go\r\n\r\nhttps://github.com/bazelbuild/rules_go/issues/697\r\n", "created_at": "2018-04-04T00:19:39Z", "updated_at": "2018-09-11T07:22:28Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/18100#discussion_r178997742", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18100", "author_association": "NONE", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/178997742"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/18100#discussion_r178997742"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18100"}}, "body_html": "<p>I will look into how to improve this.</p>\n<p>On the other question as to why we are doing this, here are two similar requests:</p>\n<p><a href=\"https://stackoverflow.com/questions/45889740/why-doesnt-tensorflows-go-subdirectory-use-go-library-from-bazel-rules-go\" rel=\"nofollow\">https://stackoverflow.com/questions/45889740/why-doesnt-tensorflows-go-subdirectory-use-go-library-from-bazel-rules-go</a></p>\n<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"248550940\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/rules_go/issues/697\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/rules_go/issues/697/hovercard\" href=\"https://github.com/bazelbuild/rules_go/issues/697\">bazelbuild/rules_go#697</a></p>", "body_text": "I will look into how to improve this.\nOn the other question as to why we are doing this, here are two similar requests:\nhttps://stackoverflow.com/questions/45889740/why-doesnt-tensorflows-go-subdirectory-use-go-library-from-bazel-rules-go\nbazelbuild/rules_go#697", "in_reply_to_id": 178164979}