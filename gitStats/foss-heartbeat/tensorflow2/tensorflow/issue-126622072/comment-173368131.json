{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/173368131", "html_url": "https://github.com/tensorflow/tensorflow/issues/772#issuecomment-173368131", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/772", "id": 173368131, "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzM2ODEzMQ==", "user": {"login": "zer0n", "id": 3055719, "node_id": "MDQ6VXNlcjMwNTU3MTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3055719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zer0n", "html_url": "https://github.com/zer0n", "followers_url": "https://api.github.com/users/zer0n/followers", "following_url": "https://api.github.com/users/zer0n/following{/other_user}", "gists_url": "https://api.github.com/users/zer0n/gists{/gist_id}", "starred_url": "https://api.github.com/users/zer0n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zer0n/subscriptions", "organizations_url": "https://api.github.com/users/zer0n/orgs", "repos_url": "https://api.github.com/users/zer0n/repos", "events_url": "https://api.github.com/users/zer0n/events{/privacy}", "received_events_url": "https://api.github.com/users/zer0n/received_events", "type": "User", "site_admin": false}, "created_at": "2016-01-20T21:38:43Z", "updated_at": "2016-01-20T21:38:43Z", "author_association": "NONE", "body_html": "<p>+1<br>\nI run into the same problem when running</p>\n<pre><code>bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>bazel 0.1.1 and 0.1.3 give this error immediately</p>\n<pre><code>java.lang.NoClassDefFoundError: com/jcraft/jsch/JSchException\n        at org.eclipse.jgit.transport.JschConfigSessionFactory.getSession(JschConfigSessionFactory.java:109)\n        at org.eclipse.jgit.transport.SshTransport.getSession(SshTransport.java:136)\n        at org.eclipse.jgit.transport.TransportGitSsh$SshFetchConnection.&lt;init&gt;(TransportGitSsh.java:262)\n        at org.eclipse.jgit.transport.TransportGitSsh.openFetch(TransportGitSsh.java:161)\n        at org.eclipse.jgit.transport.FetchProcess.executeImp(FetchProcess.java:136)\n        at org.eclipse.jgit.transport.FetchProcess.execute(FetchProcess.java:122)\n        at org.eclipse.jgit.transport.Transport.fetch(Transport.java:1138)\n        at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:130)\n        at org.eclipse.jgit.api.CloneCommand.fetch(CloneCommand.java:193)\n        at org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:133)\n        at com.google.devtools.build.lib.bazel.repository.GitCloneFunction.compute(GitCloneFunction.java:127)\n        at com.google.devtools.build.skyframe.ParallelEvaluator$Evaluate.run(ParallelEvaluator.java:933)\n        at com.google.devtools.build.lib.concurrent.AbstractQueueVisitor$WrappedRunnable.run(AbstractQueueVisitor.java:499)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>bazel 0.1.2 fails to build protobuf.</p>\n<pre><code>INFO: Found 1 target...\nINFO: From Compiling google/protobuf/src/google/protobuf/extension_set.cc [for host]:\nsrc/main/tools/namespace-sandbox.c:633: execvp(argv[0], argv): No such file or directory\nERROR: /home/zer0n/src/tensorflow/google/protobuf/BUILD:29:1: C++ compilation of rule '//google/protobuf:protobuf_lite' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /home/zer0n/.cache/bazel/_bazel_zer0n/752539f897d4732a3a650ab733666abd/tensorflow &amp;&amp; \\\n  exec env - \\\n    PATH=/home/zer0n/src/torch/install/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -iquote . -iquote bazel-out/host/genfiles -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem google/protobuf/src -isystem bazel-out/host/genfiles/google/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -DHAVE_PTHREAD -Wall -Wwrite-strings -Woverloaded-virtual -Wno-sign-compare '-Wno-error=unused-function' -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers '-frandom-seed=bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o' -MD -MF bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.d -c google/protobuf/src/google/protobuf/extension_set.cc -o bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o): crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /home/zer0n/.cache/bazel/_bazel_zer0n/752539f897d4732a3a650ab733666abd/tensorflow &amp;&amp; \\\n  exec env - \\\n    PATH=/home/zer0n/src/torch/install/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -iquote . -iquote bazel-out/host/genfiles -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem google/protobuf/src -isystem bazel-out/host/genfiles/google/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -DHAVE_PTHREAD -Wall -Wwrite-strings -Woverloaded-virtual -Wno-sign-compare '-Wno-error=unused-function' -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers '-frandom-seed=bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o' -MD -MF bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.d -c google/protobuf/src/google/protobuf/extension_set.cc -o bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o).\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 1.338s, Critical Path: 0.33s.\n</code></pre>", "body_text": "+1\nI run into the same problem when running\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nbazel 0.1.1 and 0.1.3 give this error immediately\njava.lang.NoClassDefFoundError: com/jcraft/jsch/JSchException\n        at org.eclipse.jgit.transport.JschConfigSessionFactory.getSession(JschConfigSessionFactory.java:109)\n        at org.eclipse.jgit.transport.SshTransport.getSession(SshTransport.java:136)\n        at org.eclipse.jgit.transport.TransportGitSsh$SshFetchConnection.<init>(TransportGitSsh.java:262)\n        at org.eclipse.jgit.transport.TransportGitSsh.openFetch(TransportGitSsh.java:161)\n        at org.eclipse.jgit.transport.FetchProcess.executeImp(FetchProcess.java:136)\n        at org.eclipse.jgit.transport.FetchProcess.execute(FetchProcess.java:122)\n        at org.eclipse.jgit.transport.Transport.fetch(Transport.java:1138)\n        at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:130)\n        at org.eclipse.jgit.api.CloneCommand.fetch(CloneCommand.java:193)\n        at org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:133)\n        at com.google.devtools.build.lib.bazel.repository.GitCloneFunction.compute(GitCloneFunction.java:127)\n        at com.google.devtools.build.skyframe.ParallelEvaluator$Evaluate.run(ParallelEvaluator.java:933)\n        at com.google.devtools.build.lib.concurrent.AbstractQueueVisitor$WrappedRunnable.run(AbstractQueueVisitor.java:499)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n\nbazel 0.1.2 fails to build protobuf.\nINFO: Found 1 target...\nINFO: From Compiling google/protobuf/src/google/protobuf/extension_set.cc [for host]:\nsrc/main/tools/namespace-sandbox.c:633: execvp(argv[0], argv): No such file or directory\nERROR: /home/zer0n/src/tensorflow/google/protobuf/BUILD:29:1: C++ compilation of rule '//google/protobuf:protobuf_lite' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /home/zer0n/.cache/bazel/_bazel_zer0n/752539f897d4732a3a650ab733666abd/tensorflow && \\\n  exec env - \\\n    PATH=/home/zer0n/src/torch/install/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -iquote . -iquote bazel-out/host/genfiles -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem google/protobuf/src -isystem bazel-out/host/genfiles/google/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -DHAVE_PTHREAD -Wall -Wwrite-strings -Woverloaded-virtual -Wno-sign-compare '-Wno-error=unused-function' -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers '-frandom-seed=bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o' -MD -MF bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.d -c google/protobuf/src/google/protobuf/extension_set.cc -o bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o): crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /home/zer0n/.cache/bazel/_bazel_zer0n/752539f897d4732a3a650ab733666abd/tensorflow && \\\n  exec env - \\\n    PATH=/home/zer0n/src/torch/install/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -iquote . -iquote bazel-out/host/genfiles -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem google/protobuf/src -isystem bazel-out/host/genfiles/google/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -DHAVE_PTHREAD -Wall -Wwrite-strings -Woverloaded-virtual -Wno-sign-compare '-Wno-error=unused-function' -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers '-frandom-seed=bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o' -MD -MF bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.d -c google/protobuf/src/google/protobuf/extension_set.cc -o bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o).\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 1.338s, Critical Path: 0.33s.", "body": "+1 \nI run into the same problem when running\n\n```\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n```\n\nbazel 0.1.1 and 0.1.3 give this error immediately\n\n```\njava.lang.NoClassDefFoundError: com/jcraft/jsch/JSchException\n        at org.eclipse.jgit.transport.JschConfigSessionFactory.getSession(JschConfigSessionFactory.java:109)\n        at org.eclipse.jgit.transport.SshTransport.getSession(SshTransport.java:136)\n        at org.eclipse.jgit.transport.TransportGitSsh$SshFetchConnection.<init>(TransportGitSsh.java:262)\n        at org.eclipse.jgit.transport.TransportGitSsh.openFetch(TransportGitSsh.java:161)\n        at org.eclipse.jgit.transport.FetchProcess.executeImp(FetchProcess.java:136)\n        at org.eclipse.jgit.transport.FetchProcess.execute(FetchProcess.java:122)\n        at org.eclipse.jgit.transport.Transport.fetch(Transport.java:1138)\n        at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:130)\n        at org.eclipse.jgit.api.CloneCommand.fetch(CloneCommand.java:193)\n        at org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:133)\n        at com.google.devtools.build.lib.bazel.repository.GitCloneFunction.compute(GitCloneFunction.java:127)\n        at com.google.devtools.build.skyframe.ParallelEvaluator$Evaluate.run(ParallelEvaluator.java:933)\n        at com.google.devtools.build.lib.concurrent.AbstractQueueVisitor$WrappedRunnable.run(AbstractQueueVisitor.java:499)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n```\n\nbazel 0.1.2 fails to build protobuf. \n\n```\nINFO: Found 1 target...\nINFO: From Compiling google/protobuf/src/google/protobuf/extension_set.cc [for host]:\nsrc/main/tools/namespace-sandbox.c:633: execvp(argv[0], argv): No such file or directory\nERROR: /home/zer0n/src/tensorflow/google/protobuf/BUILD:29:1: C++ compilation of rule '//google/protobuf:protobuf_lite' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /home/zer0n/.cache/bazel/_bazel_zer0n/752539f897d4732a3a650ab733666abd/tensorflow && \\\n  exec env - \\\n    PATH=/home/zer0n/src/torch/install/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -iquote . -iquote bazel-out/host/genfiles -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem google/protobuf/src -isystem bazel-out/host/genfiles/google/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -DHAVE_PTHREAD -Wall -Wwrite-strings -Woverloaded-virtual -Wno-sign-compare '-Wno-error=unused-function' -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers '-frandom-seed=bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o' -MD -MF bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.d -c google/protobuf/src/google/protobuf/extension_set.cc -o bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o): crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /home/zer0n/.cache/bazel/_bazel_zer0n/752539f897d4732a3a650ab733666abd/tensorflow && \\\n  exec env - \\\n    PATH=/home/zer0n/src/torch/install/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -iquote . -iquote bazel-out/host/genfiles -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem google/protobuf/src -isystem bazel-out/host/genfiles/google/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -DHAVE_PTHREAD -Wall -Wwrite-strings -Woverloaded-virtual -Wno-sign-compare '-Wno-error=unused-function' -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers '-frandom-seed=bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o' -MD -MF bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.d -c google/protobuf/src/google/protobuf/extension_set.cc -o bazel-out/host/bin/google/protobuf/_objs/protobuf_lite/google/protobuf/src/google/protobuf/extension_set.o).\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 1.338s, Critical Path: 0.33s.\n```\n"}