{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/261446604", "html_url": "https://github.com/tensorflow/tensorflow/issues/5680#issuecomment-261446604", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5680", "id": 261446604, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTQ0NjYwNA==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-18T04:33:08Z", "updated_at": "2016-11-18T04:33:08Z", "author_association": "CONTRIBUTOR", "body_html": "<p>There's deliberately no way to make a tensor's shape <em>less</em> specific. This makes it safe for TensorFlow to use the current static shape of a tensor in later shape inference, and also to specialize the graph for a specific shape (see e.g. the implementation of <code>tf.shape()</code>, which returns a constant if the shape is known).</p>\n<p>However, your feeding use case is supported, using the <a href=\"https://www.tensorflow.org/versions/r0.11/api_docs/python/io_ops.html#placeholder_with_default\" rel=\"nofollow\"><code>tf.placeholder_with_default()</code></a> op, which lets you define a feed point with both (i) a default value when you don't feed it, and (ii) a less specific static shape than the default value. You could use it in your case as follows:</p>\n<div class=\"highlight highlight-source-python\"><pre>x_default <span class=\"pl-k\">=</span> tf.random_uniform([<span class=\"pl-c1\">128</span>,<span class=\"pl-c1\">10</span>])\nx <span class=\"pl-k\">=</span> tf.placeholder_with_default(x_default, <span class=\"pl-v\">shape</span><span class=\"pl-k\">=</span>[<span class=\"pl-c1\">None</span>, <span class=\"pl-c1\">10</span>])\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> other operations involving x</span></pre></div>", "body_text": "There's deliberately no way to make a tensor's shape less specific. This makes it safe for TensorFlow to use the current static shape of a tensor in later shape inference, and also to specialize the graph for a specific shape (see e.g. the implementation of tf.shape(), which returns a constant if the shape is known).\nHowever, your feeding use case is supported, using the tf.placeholder_with_default() op, which lets you define a feed point with both (i) a default value when you don't feed it, and (ii) a less specific static shape than the default value. You could use it in your case as follows:\nx_default = tf.random_uniform([128,10])\nx = tf.placeholder_with_default(x_default, shape=[None, 10])\n# other operations involving x", "body": "There's deliberately no way to make a tensor's shape _less_ specific. This makes it safe for TensorFlow to use the current static shape of a tensor in later shape inference, and also to specialize the graph for a specific shape (see e.g. the implementation of `tf.shape()`, which returns a constant if the shape is known).\n\nHowever, your feeding use case is supported, using the [`tf.placeholder_with_default()`](https://www.tensorflow.org/versions/r0.11/api_docs/python/io_ops.html#placeholder_with_default) op, which lets you define a feed point with both (i) a default value when you don't feed it, and (ii) a less specific static shape than the default value. You could use it in your case as follows:\n\n``` python\nx_default = tf.random_uniform([128,10])\nx = tf.placeholder_with_default(x_default, shape=[None, 10])\n# other operations involving x\n```\n"}