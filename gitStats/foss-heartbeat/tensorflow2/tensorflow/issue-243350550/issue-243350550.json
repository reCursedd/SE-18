{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11550", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11550/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11550/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11550/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11550", "id": 243350550, "node_id": "MDU6SXNzdWUyNDMzNTA1NTA=", "number": 11550, "title": "Segmentation fault occured when I install tensorflow r1.2  with bazel", "user": {"login": "lumiaomiao", "id": 19609285, "node_id": "MDQ6VXNlcjE5NjA5Mjg1", "avatar_url": "https://avatars2.githubusercontent.com/u/19609285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lumiaomiao", "html_url": "https://github.com/lumiaomiao", "followers_url": "https://api.github.com/users/lumiaomiao/followers", "following_url": "https://api.github.com/users/lumiaomiao/following{/other_user}", "gists_url": "https://api.github.com/users/lumiaomiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/lumiaomiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lumiaomiao/subscriptions", "organizations_url": "https://api.github.com/users/lumiaomiao/orgs", "repos_url": "https://api.github.com/users/lumiaomiao/repos", "events_url": "https://api.github.com/users/lumiaomiao/events{/privacy}", "received_events_url": "https://api.github.com/users/lumiaomiao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-07-17T10:17:48Z", "updated_at": "2017-07-25T09:03:16Z", "closed_at": "2017-07-19T01:29:18Z", "author_association": "NONE", "body_html": "<hr>\n<p>Hi, when I builded tensorflow r1.2 I got following error:<br>\n<code>tensorflow-1.2--mkl/tensorflow/contrib/framework/BUILD:108:1: Executing genrule //tensorflow/contrib/framework:gen_variable_ops_pygenrule failed: bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 11. /bin/bash: line 1: 133735 Segmentation fault      (core dumped) bazel-out/host/bin/tensorflow/contrib/framework/gen_gen_variable_ops_py_wrappers_cc 0 &gt; bazel-out/local-opt/genfiles/tensorflow/contrib/framework/python/ops/gen_variable_ops.py Target //tensorflow/tools/pip_package:build_pip_package failed to build Use --verbose_failures to see the command lines of failed build steps</code></p>\n<h3>System information</h3>\n<ul>\n<li>System: Red Hat 4.8.5</li>\n<li>Python: 2.7.5</li>\n<li>bazel: 0.5.2</li>\n<li>Tensorflow: r1.2</li>\n</ul>\n<h3>Commands:</h3>\n<pre><code>wget https://github.com/bazelbuild/bazel/releases/download/0.5.2/bazel-0.5.2-installer-linux-x86_64.sh\nchmod +x bazel-0.5.2-installer-linux-x86_64.sh\nsudo sh ./zel-0.5.2-installer-linux-x86_64.sh\n\ngit clone https://github.com/tensorflow/tensorflow/\ncd tensorflow\ngit checkout r1.2\n./configure\n \nPlease specify the location of python. [Default is /vir_tensorflow/bin/python]: \nFound possible Python library paths:\n  /vir_tensorflow/lib/python2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/vir_tensorflow/lib/python2.7/site-packages]\n\nUsing python library path: /vir_tensorflow/lib/python2.7/site-packages\nDo you wish to build TensorFlow with MKL support? [y/N] y\nMKL support will be enabled for TensorFlow\nDo you wish to download MKL LIB from the web? [Y/n] y\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \nDo you wish to use jemalloc as the malloc implementation? [Y/n] \njemalloc enabled\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] \nNo XLA support will be enabled for TensorFlow\nDo you wish to build TensorFlow with VERBS support? [y/N] \nNo VERBS support will be enabled for TensorFlow\nDo you wish to build TensorFlow with OpenCL support? [y/N] \nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] \nNo CUDA support will be enabled for TensorFlow\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\nConfiguration finished\n\nbazel build --config=opt --config=mkl --copt=\"-DEIGEN_USE_VML\" //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>Are there any mistakes ?</p>", "body_text": "Hi, when I builded tensorflow r1.2 I got following error:\ntensorflow-1.2--mkl/tensorflow/contrib/framework/BUILD:108:1: Executing genrule //tensorflow/contrib/framework:gen_variable_ops_pygenrule failed: bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 11. /bin/bash: line 1: 133735 Segmentation fault      (core dumped) bazel-out/host/bin/tensorflow/contrib/framework/gen_gen_variable_ops_py_wrappers_cc 0 > bazel-out/local-opt/genfiles/tensorflow/contrib/framework/python/ops/gen_variable_ops.py Target //tensorflow/tools/pip_package:build_pip_package failed to build Use --verbose_failures to see the command lines of failed build steps\nSystem information\n\nSystem: Red Hat 4.8.5\nPython: 2.7.5\nbazel: 0.5.2\nTensorflow: r1.2\n\nCommands:\nwget https://github.com/bazelbuild/bazel/releases/download/0.5.2/bazel-0.5.2-installer-linux-x86_64.sh\nchmod +x bazel-0.5.2-installer-linux-x86_64.sh\nsudo sh ./zel-0.5.2-installer-linux-x86_64.sh\n\ngit clone https://github.com/tensorflow/tensorflow/\ncd tensorflow\ngit checkout r1.2\n./configure\n \nPlease specify the location of python. [Default is /vir_tensorflow/bin/python]: \nFound possible Python library paths:\n  /vir_tensorflow/lib/python2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/vir_tensorflow/lib/python2.7/site-packages]\n\nUsing python library path: /vir_tensorflow/lib/python2.7/site-packages\nDo you wish to build TensorFlow with MKL support? [y/N] y\nMKL support will be enabled for TensorFlow\nDo you wish to download MKL LIB from the web? [Y/n] y\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \nDo you wish to use jemalloc as the malloc implementation? [Y/n] \njemalloc enabled\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] \nNo XLA support will be enabled for TensorFlow\nDo you wish to build TensorFlow with VERBS support? [y/N] \nNo VERBS support will be enabled for TensorFlow\nDo you wish to build TensorFlow with OpenCL support? [y/N] \nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] \nNo CUDA support will be enabled for TensorFlow\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\nConfiguration finished\n\nbazel build --config=opt --config=mkl --copt=\"-DEIGEN_USE_VML\" //tensorflow/tools/pip_package:build_pip_package\n\nAre there any mistakes ?", "body": "------------------------\r\nHi, when I builded tensorflow r1.2 I got following error:\r\n`tensorflow-1.2--mkl/tensorflow/contrib/framework/BUILD:108:1: Executing genrule //tensorflow/contrib/framework:gen_variable_ops_pygenrule failed: bash failed: error executing command /bin/bash -c ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 11.\r\n/bin/bash: line 1: 133735 Segmentation fault      (core dumped) bazel-out/host/bin/tensorflow/contrib/framework/gen_gen_variable_ops_py_wrappers_cc 0 > bazel-out/local-opt/genfiles/tensorflow/contrib/framework/python/ops/gen_variable_ops.py\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps`\r\n### System information\r\n- System: Red Hat 4.8.5\r\n- Python: 2.7.5\r\n- bazel: 0.5.2\r\n- Tensorflow: r1.2\r\n\r\n### Commands:\r\n```\r\nwget https://github.com/bazelbuild/bazel/releases/download/0.5.2/bazel-0.5.2-installer-linux-x86_64.sh\r\nchmod +x bazel-0.5.2-installer-linux-x86_64.sh\r\nsudo sh ./zel-0.5.2-installer-linux-x86_64.sh\r\n\r\ngit clone https://github.com/tensorflow/tensorflow/\r\ncd tensorflow\r\ngit checkout r1.2\r\n./configure\r\n \r\nPlease specify the location of python. [Default is /vir_tensorflow/bin/python]: \r\nFound possible Python library paths:\r\n  /vir_tensorflow/lib/python2.7/site-packages\r\nPlease input the desired Python library path to use.  Default is [/vir_tensorflow/lib/python2.7/site-packages]\r\n\r\nUsing python library path: /vir_tensorflow/lib/python2.7/site-packages\r\nDo you wish to build TensorFlow with MKL support? [y/N] y\r\nMKL support will be enabled for TensorFlow\r\nDo you wish to download MKL LIB from the web? [Y/n] y\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \r\nDo you wish to use jemalloc as the malloc implementation? [Y/n] \r\njemalloc enabled\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \r\nNo Google Cloud Platform support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \r\nNo Hadoop File System support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] \r\nNo XLA support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with VERBS support? [y/N] \r\nNo VERBS support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with OpenCL support? [y/N] \r\nNo OpenCL support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with CUDA support? [y/N] \r\nNo CUDA support will be enabled for TensorFlow\r\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\r\nConfiguration finished\r\n\r\nbazel build --config=opt --config=mkl --copt=\"-DEIGEN_USE_VML\" //tensorflow/tools/pip_package:build_pip_package\r\n```\r\nAre there any mistakes ? "}