{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17699", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17699/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17699/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17699/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17699", "id": 305008214, "node_id": "MDU6SXNzdWUzMDUwMDgyMTQ=", "number": 17699, "title": "How to convert .pb file to .ckpt file", "user": {"login": "dinglong1020", "id": 20947676, "node_id": "MDQ6VXNlcjIwOTQ3Njc2", "avatar_url": "https://avatars2.githubusercontent.com/u/20947676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dinglong1020", "html_url": "https://github.com/dinglong1020", "followers_url": "https://api.github.com/users/dinglong1020/followers", "following_url": "https://api.github.com/users/dinglong1020/following{/other_user}", "gists_url": "https://api.github.com/users/dinglong1020/gists{/gist_id}", "starred_url": "https://api.github.com/users/dinglong1020/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dinglong1020/subscriptions", "organizations_url": "https://api.github.com/users/dinglong1020/orgs", "repos_url": "https://api.github.com/users/dinglong1020/repos", "events_url": "https://api.github.com/users/dinglong1020/events{/privacy}", "received_events_url": "https://api.github.com/users/dinglong1020/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "angersson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angersson", "html_url": "https://github.com/angersson", "followers_url": "https://api.github.com/users/angersson/followers", "following_url": "https://api.github.com/users/angersson/following{/other_user}", "gists_url": "https://api.github.com/users/angersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angersson/subscriptions", "organizations_url": "https://api.github.com/users/angersson/orgs", "repos_url": "https://api.github.com/users/angersson/repos", "events_url": "https://api.github.com/users/angersson/events{/privacy}", "received_events_url": "https://api.github.com/users/angersson/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "angersson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angersson", "html_url": "https://github.com/angersson", "followers_url": "https://api.github.com/users/angersson/followers", "following_url": "https://api.github.com/users/angersson/following{/other_user}", "gists_url": "https://api.github.com/users/angersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angersson/subscriptions", "organizations_url": "https://api.github.com/users/angersson/orgs", "repos_url": "https://api.github.com/users/angersson/repos", "events_url": "https://api.github.com/users/angersson/events{/privacy}", "received_events_url": "https://api.github.com/users/angersson/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-03-14T03:10:57Z", "updated_at": "2018-10-10T04:42:39Z", "closed_at": "2018-04-03T17:09:39Z", "author_association": "NONE", "body_html": "<p>How to convert .pb file to .ckpt file??<br>\nas following code raise error:  ValueError: No variables to save</p>\n<p>#!/usr/bin/env python<br>\n#coding: utf-8</p>\n<p>import tensorflow as tf<br>\nimport argparse</p>\n<h1>Pass the filename as an argument</h1>\n<p>parser = argparse.ArgumentParser()<br>\nparser.add_argument(\"--frozen_model_filename\", default=\"frozen_inference_graph.pb\", type=str, help=\"Pb model file to import\")<br>\nargs = parser.parse_args()</p>\n<h1>We load the protobuf file from the disk and parse it to retrieve the</h1>\n<h1>unserialized graph_def</h1>\n<p>with tf.gfile.GFile(args.frozen_model_filename, \"rb\") as f:<br>\ngraph_def = tf.GraphDef()<br>\ngraph_def.ParseFromString(f.read())</p>\n<pre><code>#saver=tf.train.Saver()\nwith tf.Graph().as_default() as graph:\n\n    tf.import_graph_def(\n        graph_def,\n        input_map=None,\n        return_elements=None,\n        name=\"prefix\",\n        op_dict=None,\n        producer_op_list=None\n    )\n    sess = tf.Session(graph=graph)\n    saver = tf.train.Saver()\n    save_path = saver.save(sess, \"model.ckpt\")\n    print(\"Model saved to chkp format\")\n</code></pre>", "body_text": "How to convert .pb file to .ckpt file??\nas following code raise error:  ValueError: No variables to save\n#!/usr/bin/env python\n#coding: utf-8\nimport tensorflow as tf\nimport argparse\nPass the filename as an argument\nparser = argparse.ArgumentParser()\nparser.add_argument(\"--frozen_model_filename\", default=\"frozen_inference_graph.pb\", type=str, help=\"Pb model file to import\")\nargs = parser.parse_args()\nWe load the protobuf file from the disk and parse it to retrieve the\nunserialized graph_def\nwith tf.gfile.GFile(args.frozen_model_filename, \"rb\") as f:\ngraph_def = tf.GraphDef()\ngraph_def.ParseFromString(f.read())\n#saver=tf.train.Saver()\nwith tf.Graph().as_default() as graph:\n\n    tf.import_graph_def(\n        graph_def,\n        input_map=None,\n        return_elements=None,\n        name=\"prefix\",\n        op_dict=None,\n        producer_op_list=None\n    )\n    sess = tf.Session(graph=graph)\n    saver = tf.train.Saver()\n    save_path = saver.save(sess, \"model.ckpt\")\n    print(\"Model saved to chkp format\")", "body": "How to convert .pb file to .ckpt file??\r\n   as following code raise error:  ValueError: No variables to save\r\n\r\n#!/usr/bin/env python\r\n#coding: utf-8\r\n\r\nimport tensorflow as tf\r\nimport argparse \r\n\r\n# Pass the filename as an argument\r\nparser = argparse.ArgumentParser()\r\nparser.add_argument(\"--frozen_model_filename\", default=\"frozen_inference_graph.pb\", type=str, help=\"Pb model file to import\")\r\nargs = parser.parse_args()\r\n\r\n# We load the protobuf file from the disk and parse it to retrieve the \r\n# unserialized graph_def\r\nwith tf.gfile.GFile(args.frozen_model_filename, \"rb\") as f:\r\n    graph_def = tf.GraphDef()\r\n    graph_def.ParseFromString(f.read())\r\n\r\n    #saver=tf.train.Saver()\r\n    with tf.Graph().as_default() as graph:\r\n\r\n        tf.import_graph_def(\r\n            graph_def,\r\n            input_map=None,\r\n            return_elements=None,\r\n            name=\"prefix\",\r\n            op_dict=None,\r\n            producer_op_list=None\r\n        )\r\n        sess = tf.Session(graph=graph)\r\n        saver = tf.train.Saver()\r\n        save_path = saver.save(sess, \"model.ckpt\")\r\n        print(\"Model saved to chkp format\")"}