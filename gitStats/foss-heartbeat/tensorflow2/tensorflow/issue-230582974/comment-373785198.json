{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/373785198", "html_url": "https://github.com/tensorflow/tensorflow/issues/10125#issuecomment-373785198", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10125", "id": 373785198, "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mzc4NTE5OA==", "user": {"login": "discoveredcheck", "id": 25035016, "node_id": "MDQ6VXNlcjI1MDM1MDE2", "avatar_url": "https://avatars1.githubusercontent.com/u/25035016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/discoveredcheck", "html_url": "https://github.com/discoveredcheck", "followers_url": "https://api.github.com/users/discoveredcheck/followers", "following_url": "https://api.github.com/users/discoveredcheck/following{/other_user}", "gists_url": "https://api.github.com/users/discoveredcheck/gists{/gist_id}", "starred_url": "https://api.github.com/users/discoveredcheck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/discoveredcheck/subscriptions", "organizations_url": "https://api.github.com/users/discoveredcheck/orgs", "repos_url": "https://api.github.com/users/discoveredcheck/repos", "events_url": "https://api.github.com/users/discoveredcheck/events{/privacy}", "received_events_url": "https://api.github.com/users/discoveredcheck/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-16T17:22:34Z", "updated_at": "2018-03-16T17:22:34Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Yes, adding the weight-norm update in <code>self.build()</code> seems to be the correct pattern. It is also correct to omit out <code>with tf.control_dependencies(None)</code> compared to the RNN weight-norm code.</p>\n<p>Your link, however, revers to L152 which is inside <code>self.call()</code>. I assume you mean L132?</p>", "body_text": "Yes, adding the weight-norm update in self.build() seems to be the correct pattern. It is also correct to omit out with tf.control_dependencies(None) compared to the RNN weight-norm code.\nYour link, however, revers to L152 which is inside self.call(). I assume you mean L132?", "body": "Yes, adding the weight-norm update in `self.build()` seems to be the correct pattern. It is also correct to omit out `with tf.control_dependencies(None)` compared to the RNN weight-norm code. \r\n\r\nYour link, however, revers to L152 which is inside `self.call()`. I assume you mean L132?"}