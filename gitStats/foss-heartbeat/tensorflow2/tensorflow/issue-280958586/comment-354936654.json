{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/354936654", "html_url": "https://github.com/tensorflow/tensorflow/issues/15266#issuecomment-354936654", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15266", "id": 354936654, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDkzNjY1NA==", "user": {"login": "sandipmgiri", "id": 16284232, "node_id": "MDQ6VXNlcjE2Mjg0MjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/16284232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandipmgiri", "html_url": "https://github.com/sandipmgiri", "followers_url": "https://api.github.com/users/sandipmgiri/followers", "following_url": "https://api.github.com/users/sandipmgiri/following{/other_user}", "gists_url": "https://api.github.com/users/sandipmgiri/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandipmgiri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandipmgiri/subscriptions", "organizations_url": "https://api.github.com/users/sandipmgiri/orgs", "repos_url": "https://api.github.com/users/sandipmgiri/repos", "events_url": "https://api.github.com/users/sandipmgiri/events{/privacy}", "received_events_url": "https://api.github.com/users/sandipmgiri/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-03T04:44:38Z", "updated_at": "2018-01-03T04:44:38Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Also tried with valgrind , see below</p>\n<pre><code> $ bazel test -c opt --test_output=errors --run_under=valgrind   //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel\n\nINFO: Found 1 test target...\nFAIL: //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (shard 1 of 25) (see /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_1_of_25/test.log).\nINFO: From Testing //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (shard 1 of 25):\n==================== Test output for //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (shard 1 of 25):\n==15591== Memcheck, a memory error detector\n==15591== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.\n==15591== Using Valgrind-3.12.0 and LibVEX; rerun with -h for copyright info\n==15591== Command: tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel --xla_backend_extra_options=xla_cpu_parallel\n==15591==\nNote: This is test shard 1 of 25.\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from ArrayElementwiseOpTest\n[ RUN      ] ArrayElementwiseOpTest.IsFiniteScalarF32\n2018-01-03 04:39:48.886316: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\n2018-01-03 04:39:49.051276: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\n2018-01-03 04:39:49.119867: I tensorflow/compiler/xla/service/service.cc:187] XLA service 0xb8b9e90 executing computations on platform Host. Devices:\n2018-01-03 04:39:49.122534: I tensorflow/compiler/xla/service/service.cc:195]   StreamExecutor device (0): &lt;undefined&gt;, &lt;undefined&gt;\n \ntensorflow/compiler/xla/tests/literal_test_util.cc:159: Failure\nValue of: Equal(expected, actual)\n  Actual: false (expected: false\nactual:   true)\nExpected: true\n**expected:false vs actual:true**\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32 (6582 ms)\n[----------] 1 test from ArrayElementwiseOpTest (6593 ms total)\n\n[----------] Global test environment tear-down\n[==========] 1 test from 1 test case ran. (6632 ms total)\n[  PASSED  ] 0 tests.\n[  FAILED  ] 1 test, listed below:\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32\n\n 1 FAILED TEST\n==15591==\n==15591== HEAP SUMMARY:\n==15591==     in use at exit: 1,214,571 bytes in 9,223 blocks\n==15591==   total heap usage: 28,854 allocs, 19,631 frees, 3,839,455 bytes allocated\n==15591==\n==15591== LEAK SUMMARY:\n==15591==    definitely lost: 0 bytes in 0 blocks\n==15591==    indirectly lost: 0 bytes in 0 blocks\n==15591==      possibly lost: 21,760 bytes in 34 blocks\n==15591==    still reachable: 1,192,811 bytes in 9,189 blocks\n==15591==                       of which reachable via heuristic:\n==15591==                         stdstring          : 106,077 bytes in 2,191 blocks\n==15591==                         newarray           : 3,576 bytes in 20 blocks\n==15591==         suppressed: 0 bytes in 0 blocks\n==15591== Rerun with --leak-check=full to see details of leaked memory\n==15591==\n==15591== For counts of detected and suppressed errors, rerun with: -v\n==15591== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n================================================================================\nTarget //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel up-to-date:\n  bazel-bin/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel\nINFO: Elapsed time: 23.308s, Critical Path: 22.98s\nFAILED: //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (see /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_1_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_6_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_20_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_2_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_3_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_10_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_4_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_16_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_8_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_9_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_7_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_14_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_5_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_25_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_23_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_21_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_22_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_13_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_11_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_19_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_18_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_12_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_17_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_24_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_15_of_25/test.log)\nINFO: From Testing //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel\n==================== Test output for //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel:\n==15591== Memcheck, a memory error detector\n==15591== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.\n==15591== Using Valgrind-3.12.0 and LibVEX; rerun with -h for copyright info\n==15591== Command: tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel --xla_backend_extra_options=xla_cpu_parallel\n==15591==\nNote: This is test shard 1 of 25.\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from ArrayElementwiseOpTest\n[ RUN      ] ArrayElementwiseOpTest.IsFiniteScalarF32\n2018-01-03 04:39:48.886316: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\n2018-01-03 04:39:49.051276: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\n2018-01-03 04:39:49.119867: I tensorflow/compiler/xla/service/service.cc:187] XLA service 0xb8b9e90 executing computations on platform Host. Devices:\n2018-01-03 04:39:49.122534: I tensorflow/compiler/xla/service/service.cc:195]   StreamExecutor device (0): &lt;undefined&gt;, &lt;undefined&gt;\n\ntensorflow/compiler/xla/tests/literal_test_util.cc:159: Failure\nValue of: Equal(expected, actual)\n  Actual: false (expected: false\nactual:   true)\nExpected: true\n**expected: false    vs actual:true**\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32 (6582 ms)\n[----------] 1 test from ArrayElementwiseOpTest (6593 ms total)\n\n[----------] Global test environment tear-down\n[==========] 1 test from 1 test case ran. (6632 ms total)\n[  PASSED  ] 0 tests.\n[  FAILED  ] 1 test, listed below:\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32\n\n 1 FAILED TEST\n==15591==\n==15591== HEAP SUMMARY:\n==15591==     in use at exit: 1,214,571 bytes in 9,223 blocks\n==15591==   total heap usage: 28,854 allocs, 19,631 frees, 3,839,455 bytes allocated\n==15591==\n==15591== LEAK SUMMARY:\n==15591==    definitely lost: 0 bytes in 0 blocks\n==15591==    indirectly lost: 0 bytes in 0 blocks\n==15591==      possibly lost: 21,760 bytes in 34 blocks\n==15591==    still reachable: 1,192,811 bytes in 9,189 blocks\n==15591==                       of which reachable via heuristic:\n==15591==                         stdstring          : 106,077 bytes in 2,191 blocks\n==15591==                         newarray           : 3,576 bytes in 20 blocks\n==15591==         suppressed: 0 bytes in 0 blocks\n==15591== Rerun with --leak-check=full to see details of leaked memory\n==15591==\n==15591== For counts of detected and suppressed errors, rerun with: -v\n==15591== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n================================================================================\n//tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (24/25 cached) FAILED in 1 out of 25 in 23.0s\n  Stats over 25 runs: max = 23.0s, min = 12.3s, avg = 14.5s, dev = 1.9s\n  /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_1_of_25/test.log\n\nExecuted 1 out of 1 test: 1 fails locally.\nThere were tests whose specified size is too big. Use the --test_verbose_timeout_warnings command line option to see which ones these are.\n\n</code></pre>", "body_text": "Also tried with valgrind , see below\n $ bazel test -c opt --test_output=errors --run_under=valgrind   //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel\n\nINFO: Found 1 test target...\nFAIL: //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (shard 1 of 25) (see /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_1_of_25/test.log).\nINFO: From Testing //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (shard 1 of 25):\n==================== Test output for //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (shard 1 of 25):\n==15591== Memcheck, a memory error detector\n==15591== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.\n==15591== Using Valgrind-3.12.0 and LibVEX; rerun with -h for copyright info\n==15591== Command: tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel --xla_backend_extra_options=xla_cpu_parallel\n==15591==\nNote: This is test shard 1 of 25.\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from ArrayElementwiseOpTest\n[ RUN      ] ArrayElementwiseOpTest.IsFiniteScalarF32\n2018-01-03 04:39:48.886316: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\n2018-01-03 04:39:49.051276: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\n2018-01-03 04:39:49.119867: I tensorflow/compiler/xla/service/service.cc:187] XLA service 0xb8b9e90 executing computations on platform Host. Devices:\n2018-01-03 04:39:49.122534: I tensorflow/compiler/xla/service/service.cc:195]   StreamExecutor device (0): <undefined>, <undefined>\n \ntensorflow/compiler/xla/tests/literal_test_util.cc:159: Failure\nValue of: Equal(expected, actual)\n  Actual: false (expected: false\nactual:   true)\nExpected: true\n**expected:false vs actual:true**\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32 (6582 ms)\n[----------] 1 test from ArrayElementwiseOpTest (6593 ms total)\n\n[----------] Global test environment tear-down\n[==========] 1 test from 1 test case ran. (6632 ms total)\n[  PASSED  ] 0 tests.\n[  FAILED  ] 1 test, listed below:\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32\n\n 1 FAILED TEST\n==15591==\n==15591== HEAP SUMMARY:\n==15591==     in use at exit: 1,214,571 bytes in 9,223 blocks\n==15591==   total heap usage: 28,854 allocs, 19,631 frees, 3,839,455 bytes allocated\n==15591==\n==15591== LEAK SUMMARY:\n==15591==    definitely lost: 0 bytes in 0 blocks\n==15591==    indirectly lost: 0 bytes in 0 blocks\n==15591==      possibly lost: 21,760 bytes in 34 blocks\n==15591==    still reachable: 1,192,811 bytes in 9,189 blocks\n==15591==                       of which reachable via heuristic:\n==15591==                         stdstring          : 106,077 bytes in 2,191 blocks\n==15591==                         newarray           : 3,576 bytes in 20 blocks\n==15591==         suppressed: 0 bytes in 0 blocks\n==15591== Rerun with --leak-check=full to see details of leaked memory\n==15591==\n==15591== For counts of detected and suppressed errors, rerun with: -v\n==15591== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n================================================================================\nTarget //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel up-to-date:\n  bazel-bin/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel\nINFO: Elapsed time: 23.308s, Critical Path: 22.98s\nFAILED: //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (see /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_1_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_6_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_20_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_2_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_3_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_10_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_4_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_16_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_8_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_9_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_7_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_14_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_5_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_25_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_23_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_21_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_22_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_13_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_11_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_19_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_18_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_12_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_17_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_24_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_15_of_25/test.log)\nINFO: From Testing //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel\n==================== Test output for //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel:\n==15591== Memcheck, a memory error detector\n==15591== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.\n==15591== Using Valgrind-3.12.0 and LibVEX; rerun with -h for copyright info\n==15591== Command: tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel --xla_backend_extra_options=xla_cpu_parallel\n==15591==\nNote: This is test shard 1 of 25.\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from ArrayElementwiseOpTest\n[ RUN      ] ArrayElementwiseOpTest.IsFiniteScalarF32\n2018-01-03 04:39:48.886316: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\n2018-01-03 04:39:49.051276: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\n2018-01-03 04:39:49.119867: I tensorflow/compiler/xla/service/service.cc:187] XLA service 0xb8b9e90 executing computations on platform Host. Devices:\n2018-01-03 04:39:49.122534: I tensorflow/compiler/xla/service/service.cc:195]   StreamExecutor device (0): <undefined>, <undefined>\n\ntensorflow/compiler/xla/tests/literal_test_util.cc:159: Failure\nValue of: Equal(expected, actual)\n  Actual: false (expected: false\nactual:   true)\nExpected: true\n**expected: false    vs actual:true**\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32 (6582 ms)\n[----------] 1 test from ArrayElementwiseOpTest (6593 ms total)\n\n[----------] Global test environment tear-down\n[==========] 1 test from 1 test case ran. (6632 ms total)\n[  PASSED  ] 0 tests.\n[  FAILED  ] 1 test, listed below:\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32\n\n 1 FAILED TEST\n==15591==\n==15591== HEAP SUMMARY:\n==15591==     in use at exit: 1,214,571 bytes in 9,223 blocks\n==15591==   total heap usage: 28,854 allocs, 19,631 frees, 3,839,455 bytes allocated\n==15591==\n==15591== LEAK SUMMARY:\n==15591==    definitely lost: 0 bytes in 0 blocks\n==15591==    indirectly lost: 0 bytes in 0 blocks\n==15591==      possibly lost: 21,760 bytes in 34 blocks\n==15591==    still reachable: 1,192,811 bytes in 9,189 blocks\n==15591==                       of which reachable via heuristic:\n==15591==                         stdstring          : 106,077 bytes in 2,191 blocks\n==15591==                         newarray           : 3,576 bytes in 20 blocks\n==15591==         suppressed: 0 bytes in 0 blocks\n==15591== Rerun with --leak-check=full to see details of leaked memory\n==15591==\n==15591== For counts of detected and suppressed errors, rerun with: -v\n==15591== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n================================================================================\n//tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (24/25 cached) FAILED in 1 out of 25 in 23.0s\n  Stats over 25 runs: max = 23.0s, min = 12.3s, avg = 14.5s, dev = 1.9s\n  /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_1_of_25/test.log\n\nExecuted 1 out of 1 test: 1 fails locally.\nThere were tests whose specified size is too big. Use the --test_verbose_timeout_warnings command line option to see which ones these are.", "body": "Also tried with valgrind , see below \r\n```\r\n $ bazel test -c opt --test_output=errors --run_under=valgrind   //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel\r\n\r\nINFO: Found 1 test target...\r\nFAIL: //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (shard 1 of 25) (see /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_1_of_25/test.log).\r\nINFO: From Testing //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (shard 1 of 25):\r\n==================== Test output for //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (shard 1 of 25):\r\n==15591== Memcheck, a memory error detector\r\n==15591== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.\r\n==15591== Using Valgrind-3.12.0 and LibVEX; rerun with -h for copyright info\r\n==15591== Command: tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel --xla_backend_extra_options=xla_cpu_parallel\r\n==15591==\r\nNote: This is test shard 1 of 25.\r\n[==========] Running 1 test from 1 test case.\r\n[----------] Global test environment set-up.\r\n[----------] 1 test from ArrayElementwiseOpTest\r\n[ RUN      ] ArrayElementwiseOpTest.IsFiniteScalarF32\r\n2018-01-03 04:39:48.886316: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\r\n2018-01-03 04:39:49.051276: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\r\n2018-01-03 04:39:49.119867: I tensorflow/compiler/xla/service/service.cc:187] XLA service 0xb8b9e90 executing computations on platform Host. Devices:\r\n2018-01-03 04:39:49.122534: I tensorflow/compiler/xla/service/service.cc:195]   StreamExecutor device (0): <undefined>, <undefined>\r\n \r\ntensorflow/compiler/xla/tests/literal_test_util.cc:159: Failure\r\nValue of: Equal(expected, actual)\r\n  Actual: false (expected: false\r\nactual:   true)\r\nExpected: true\r\n**expected:false vs actual:true**\r\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32 (6582 ms)\r\n[----------] 1 test from ArrayElementwiseOpTest (6593 ms total)\r\n\r\n[----------] Global test environment tear-down\r\n[==========] 1 test from 1 test case ran. (6632 ms total)\r\n[  PASSED  ] 0 tests.\r\n[  FAILED  ] 1 test, listed below:\r\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32\r\n\r\n 1 FAILED TEST\r\n==15591==\r\n==15591== HEAP SUMMARY:\r\n==15591==     in use at exit: 1,214,571 bytes in 9,223 blocks\r\n==15591==   total heap usage: 28,854 allocs, 19,631 frees, 3,839,455 bytes allocated\r\n==15591==\r\n==15591== LEAK SUMMARY:\r\n==15591==    definitely lost: 0 bytes in 0 blocks\r\n==15591==    indirectly lost: 0 bytes in 0 blocks\r\n==15591==      possibly lost: 21,760 bytes in 34 blocks\r\n==15591==    still reachable: 1,192,811 bytes in 9,189 blocks\r\n==15591==                       of which reachable via heuristic:\r\n==15591==                         stdstring          : 106,077 bytes in 2,191 blocks\r\n==15591==                         newarray           : 3,576 bytes in 20 blocks\r\n==15591==         suppressed: 0 bytes in 0 blocks\r\n==15591== Rerun with --leak-check=full to see details of leaked memory\r\n==15591==\r\n==15591== For counts of detected and suppressed errors, rerun with: -v\r\n==15591== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\r\n================================================================================\r\nTarget //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel up-to-date:\r\n  bazel-bin/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel\r\nINFO: Elapsed time: 23.308s, Critical Path: 22.98s\r\nFAILED: //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (see /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_1_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_6_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_20_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_2_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_3_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_10_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_4_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_16_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_8_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_9_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_7_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_14_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_5_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_25_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_23_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_21_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_22_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_13_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_11_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_19_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_18_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_12_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_17_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_24_of_25/test.log /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_15_of_25/test.log)\r\nINFO: From Testing //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel\r\n==================== Test output for //tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel:\r\n==15591== Memcheck, a memory error detector\r\n==15591== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.\r\n==15591== Using Valgrind-3.12.0 and LibVEX; rerun with -h for copyright info\r\n==15591== Command: tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel --xla_backend_extra_options=xla_cpu_parallel\r\n==15591==\r\nNote: This is test shard 1 of 25.\r\n[==========] Running 1 test from 1 test case.\r\n[----------] Global test environment set-up.\r\n[----------] 1 test from ArrayElementwiseOpTest\r\n[ RUN      ] ArrayElementwiseOpTest.IsFiniteScalarF32\r\n2018-01-03 04:39:48.886316: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\r\n2018-01-03 04:39:49.051276: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\r\n2018-01-03 04:39:49.119867: I tensorflow/compiler/xla/service/service.cc:187] XLA service 0xb8b9e90 executing computations on platform Host. Devices:\r\n2018-01-03 04:39:49.122534: I tensorflow/compiler/xla/service/service.cc:195]   StreamExecutor device (0): <undefined>, <undefined>\r\n\r\ntensorflow/compiler/xla/tests/literal_test_util.cc:159: Failure\r\nValue of: Equal(expected, actual)\r\n  Actual: false (expected: false\r\nactual:   true)\r\nExpected: true\r\n**expected: false    vs actual:true**\r\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32 (6582 ms)\r\n[----------] 1 test from ArrayElementwiseOpTest (6593 ms total)\r\n\r\n[----------] Global test environment tear-down\r\n[==========] 1 test from 1 test case ran. (6632 ms total)\r\n[  PASSED  ] 0 tests.\r\n[  FAILED  ] 1 test, listed below:\r\n[  FAILED  ] ArrayElementwiseOpTest.IsFiniteScalarF32\r\n\r\n 1 FAILED TEST\r\n==15591==\r\n==15591== HEAP SUMMARY:\r\n==15591==     in use at exit: 1,214,571 bytes in 9,223 blocks\r\n==15591==   total heap usage: 28,854 allocs, 19,631 frees, 3,839,455 bytes allocated\r\n==15591==\r\n==15591== LEAK SUMMARY:\r\n==15591==    definitely lost: 0 bytes in 0 blocks\r\n==15591==    indirectly lost: 0 bytes in 0 blocks\r\n==15591==      possibly lost: 21,760 bytes in 34 blocks\r\n==15591==    still reachable: 1,192,811 bytes in 9,189 blocks\r\n==15591==                       of which reachable via heuristic:\r\n==15591==                         stdstring          : 106,077 bytes in 2,191 blocks\r\n==15591==                         newarray           : 3,576 bytes in 20 blocks\r\n==15591==         suppressed: 0 bytes in 0 blocks\r\n==15591== Rerun with --leak-check=full to see details of leaked memory\r\n==15591==\r\n==15591== For counts of detected and suppressed errors, rerun with: -v\r\n==15591== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\r\n================================================================================\r\n//tensorflow/compiler/xla/tests:array_elementwise_ops_test_cpu_parallel (24/25 cached) FAILED in 1 out of 25 in 23.0s\r\n  Stats over 25 runs: max = 23.0s, min = 12.3s, avg = 14.5s, dev = 1.9s\r\n  /root/.cache/bazel/_bazel_root/5f017a062de46af0cfc4acf7d455b107/execroot/org_tensorflow/bazel-out/local-opt/testlogs/tensorflow/compiler/xla/tests/array_elementwise_ops_test_cpu_parallel/shard_1_of_25/test.log\r\n\r\nExecuted 1 out of 1 test: 1 fails locally.\r\nThere were tests whose specified size is too big. Use the --test_verbose_timeout_warnings command line option to see which ones these are.\r\n\r\n```"}