{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2241", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2241/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2241/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2241/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2241", "id": 153291124, "node_id": "MDU6SXNzdWUxNTMyOTExMjQ=", "number": 2241, "title": "Core dumped error for specific example codes (virtualenv related?)", "user": {"login": "kglore", "id": 15327411, "node_id": "MDQ6VXNlcjE1MzI3NDEx", "avatar_url": "https://avatars3.githubusercontent.com/u/15327411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kglore", "html_url": "https://github.com/kglore", "followers_url": "https://api.github.com/users/kglore/followers", "following_url": "https://api.github.com/users/kglore/following{/other_user}", "gists_url": "https://api.github.com/users/kglore/gists{/gist_id}", "starred_url": "https://api.github.com/users/kglore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kglore/subscriptions", "organizations_url": "https://api.github.com/users/kglore/orgs", "repos_url": "https://api.github.com/users/kglore/repos", "events_url": "https://api.github.com/users/kglore/events{/privacy}", "received_events_url": "https://api.github.com/users/kglore/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-05-05T18:18:16Z", "updated_at": "2016-06-03T08:45:22Z", "closed_at": "2016-06-03T08:45:22Z", "author_association": "NONE", "body_html": "<p>Hi there,</p>\n<p>I have installed TensorFlow on my system, and was able to run some examples just fine on the gpu: (e.g. 0_multiply.py, 1_linear_regression.py, 4_modern_net.py, etc). However, when I try to run some CNN-related codes, I am getting a core-dumped error.</p>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04, TensorFlow installed in virtualenv</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<blockquote>\n<p>-rw-r--r-- 1 root root   322936 Aug 15  2015 /usr/local/cuda/lib64/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root       16 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.7.5<br>\nlrwxrwxrwx 1 root root       19 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5 -&gt; libcudart.so.7.5.18<br>\n-rwxr-xr-x 1 root root   383336 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5.18<br>\n-rw-r--r-- 1 root root   720192 Aug 15  2015 /usr/local/cuda/lib64/libcudart_static.a<br>\nlrwxrwxrwx 1 root root       13 May  5 12:48 /usr/local/cuda/lib64/libcudnn.so -&gt; libcudnn.so.5<br>\nlrwxrwxrwx 1 root root       17 May  5 12:48 /usr/local/cuda/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.0.4<br>\n-rwxrwxr-x 1 root root 59823168 Mar 21 20:37 /usr/local/cuda/lib64/libcudnn.so.5.0.4<br>\n-rwxr-xr-x 1 root root 19340472 Apr 19 09:43 /usr/local/cuda/lib64/libcudnn.so.6.5<br>\n-rwxr-xr-x 1 root root 19340472 Apr 19 09:43 /usr/local/cuda/lib64/libcudnn.so.6.5.18<br>\n-rw-rw-r-- 1 root root 58734618 Mar 21 20:37 /usr/local/cuda/lib64/libcudnn_static.a</p>\n</blockquote>\n<p>I installed TF using this page: <a href=\"https://www.tensorflow.org/versions/r0.8/get_started/os_setup.html#virtualenv-installation\" rel=\"nofollow\">https://www.tensorflow.org/versions/r0.8/get_started/os_setup.html#virtualenv-installation</a><br>\nvia virtualenv. I needed virtualenv because I don't want it to screw with my python/Theano.</p>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Running 5_convolutional_net.py will produce the log file.</li>\n</ol>\n<h3>What have you tried?</h3>\n<p>I'm using CUDA 7.5, so I tried reinstalling CUDA 7.0 and CUDA 6.5</p>\n<h3>Logs or other output that would be helpful</h3>\n<blockquote>\n<p>I tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:06:00.0)<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -&gt; (device: 1, name: GeForce GTX TITAN Black, pci bus id: 0000:03:00.0)<br>\nBuilding graph...<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:06:00.0)<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -&gt; (device: 1, name: GeForce GTX TITAN Black, pci bus id: 0000:03:00.0)<br>\nException AssertionError: AssertionError() in &lt;bound method InteractiveSession.<strong>del</strong> of &lt;tensorflow.python.client.session.InteractiveSession object at 0x7f4bf7816390&gt;&gt; ignored<br>\nF tensorflow/stream_executor/cuda/cuda_dnn.cc:204] could not find cudnnCreateTensorDescriptor in cudnn DSO; dlerror: /usr/local/lib/libcudnn.so: undefined symbol: cudnnCreateTensorDescriptor<br>\nAborted (core dumped)</p>\n</blockquote>\n<p>Thanks for your help! It was able to use my GPU fine for other codes, not particularly the ones involving CNNs.</p>", "body_text": "Hi there,\nI have installed TensorFlow on my system, and was able to run some examples just fine on the gpu: (e.g. 0_multiply.py, 1_linear_regression.py, 4_modern_net.py, etc). However, when I try to run some CNN-related codes, I am getting a core-dumped error.\nEnvironment info\nOperating System: Ubuntu 14.04, TensorFlow installed in virtualenv\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n\n-rw-r--r-- 1 root root   322936 Aug 15  2015 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root       19 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root   383336 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5.18\n-rw-r--r-- 1 root root   720192 Aug 15  2015 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 May  5 12:48 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 root root       17 May  5 12:48 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.0.4\n-rwxrwxr-x 1 root root 59823168 Mar 21 20:37 /usr/local/cuda/lib64/libcudnn.so.5.0.4\n-rwxr-xr-x 1 root root 19340472 Apr 19 09:43 /usr/local/cuda/lib64/libcudnn.so.6.5\n-rwxr-xr-x 1 root root 19340472 Apr 19 09:43 /usr/local/cuda/lib64/libcudnn.so.6.5.18\n-rw-rw-r-- 1 root root 58734618 Mar 21 20:37 /usr/local/cuda/lib64/libcudnn_static.a\n\nI installed TF using this page: https://www.tensorflow.org/versions/r0.8/get_started/os_setup.html#virtualenv-installation\nvia virtualenv. I needed virtualenv because I don't want it to screw with my python/Theano.\nSteps to reproduce\n\nRunning 5_convolutional_net.py will produce the log file.\n\nWhat have you tried?\nI'm using CUDA 7.5, so I tried reinstalling CUDA 7.0 and CUDA 6.5\nLogs or other output that would be helpful\n\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:06:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX TITAN Black, pci bus id: 0000:03:00.0)\nBuilding graph...\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:06:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX TITAN Black, pci bus id: 0000:03:00.0)\nException AssertionError: AssertionError() in <bound method InteractiveSession.del of <tensorflow.python.client.session.InteractiveSession object at 0x7f4bf7816390>> ignored\nF tensorflow/stream_executor/cuda/cuda_dnn.cc:204] could not find cudnnCreateTensorDescriptor in cudnn DSO; dlerror: /usr/local/lib/libcudnn.so: undefined symbol: cudnnCreateTensorDescriptor\nAborted (core dumped)\n\nThanks for your help! It was able to use my GPU fine for other codes, not particularly the ones involving CNNs.", "body": "Hi there,\n\nI have installed TensorFlow on my system, and was able to run some examples just fine on the gpu: (e.g. 0_multiply.py, 1_linear_regression.py, 4_modern_net.py, etc). However, when I try to run some CNN-related codes, I am getting a core-dumped error.\n### Environment info\n\nOperating System: Ubuntu 14.04, TensorFlow installed in virtualenv\n\nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\n> -rw-r--r-- 1 root root   322936 Aug 15  2015 /usr/local/cuda/lib64/libcudadevrt.a\n> lrwxrwxrwx 1 root root       16 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.7.5\n> lrwxrwxrwx 1 root root       19 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5 -> libcudart.so.7.5.18\n> -rwxr-xr-x 1 root root   383336 Aug 15  2015 /usr/local/cuda/lib64/libcudart.so.7.5.18\n> -rw-r--r-- 1 root root   720192 Aug 15  2015 /usr/local/cuda/lib64/libcudart_static.a\n> lrwxrwxrwx 1 root root       13 May  5 12:48 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\n> lrwxrwxrwx 1 root root       17 May  5 12:48 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.0.4\n> -rwxrwxr-x 1 root root 59823168 Mar 21 20:37 /usr/local/cuda/lib64/libcudnn.so.5.0.4\n> -rwxr-xr-x 1 root root 19340472 Apr 19 09:43 /usr/local/cuda/lib64/libcudnn.so.6.5\n> -rwxr-xr-x 1 root root 19340472 Apr 19 09:43 /usr/local/cuda/lib64/libcudnn.so.6.5.18\n> -rw-rw-r-- 1 root root 58734618 Mar 21 20:37 /usr/local/cuda/lib64/libcudnn_static.a\n\nI installed TF using this page: https://www.tensorflow.org/versions/r0.8/get_started/os_setup.html#virtualenv-installation\nvia virtualenv. I needed virtualenv because I don't want it to screw with my python/Theano.\n### Steps to reproduce\n1. Running 5_convolutional_net.py will produce the log file.\n### What have you tried?\n\nI'm using CUDA 7.5, so I tried reinstalling CUDA 7.0 and CUDA 6.5\n### Logs or other output that would be helpful\n\n> I tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:06:00.0)\n> I tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX TITAN Black, pci bus id: 0000:03:00.0)\n> Building graph...\n> I tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:06:00.0)\n> I tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX TITAN Black, pci bus id: 0000:03:00.0)\n> Exception AssertionError: AssertionError() in <bound method InteractiveSession.__del__ of <tensorflow.python.client.session.InteractiveSession object at 0x7f4bf7816390>> ignored\n> F tensorflow/stream_executor/cuda/cuda_dnn.cc:204] could not find cudnnCreateTensorDescriptor in cudnn DSO; dlerror: /usr/local/lib/libcudnn.so: undefined symbol: cudnnCreateTensorDescriptor\n> Aborted (core dumped)\n\nThanks for your help! It was able to use my GPU fine for other codes, not particularly the ones involving CNNs.\n"}