{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16578", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16578/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16578/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16578/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16578", "id": 292716219, "node_id": "MDU6SXNzdWUyOTI3MTYyMTk=", "number": 16578, "title": "Different result between python and C++ with same pb file and same data.", "user": {"login": "Sqrt5", "id": 3362836, "node_id": "MDQ6VXNlcjMzNjI4MzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/3362836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sqrt5", "html_url": "https://github.com/Sqrt5", "followers_url": "https://api.github.com/users/Sqrt5/followers", "following_url": "https://api.github.com/users/Sqrt5/following{/other_user}", "gists_url": "https://api.github.com/users/Sqrt5/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sqrt5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sqrt5/subscriptions", "organizations_url": "https://api.github.com/users/Sqrt5/orgs", "repos_url": "https://api.github.com/users/Sqrt5/repos", "events_url": "https://api.github.com/users/Sqrt5/events{/privacy}", "received_events_url": "https://api.github.com/users/Sqrt5/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-30T09:49:12Z", "updated_at": "2018-01-30T12:08:43Z", "closed_at": "2018-01-30T12:08:43Z", "author_association": "NONE", "body_html": "<p>I got different result between python and C++ using same pb file and same data, I print result below, the fisrt 10000 number's diff is close to zero, but it's get bigger then.</p>\n<table>\n<thead>\n<tr>\n<th>line</th>\n<th align=\"center\">C++ result</th>\n<th align=\"center\">Python result</th>\n<th align=\"center\">diff</th>\n<th align=\"center\">sum diff</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td align=\"center\">-0.010966</td>\n<td align=\"center\">-0.010966</td>\n<td align=\"center\">-0.000000</td>\n<td align=\"center\">-0.000000</td>\n</tr>\n<tr>\n<td>1</td>\n<td align=\"center\">-0.050666</td>\n<td align=\"center\">-0.050666</td>\n<td align=\"center\">0.000000</td>\n<td align=\"center\">0.000000</td>\n</tr>\n<tr>\n<td>2</td>\n<td align=\"center\">-0.007573</td>\n<td align=\"center\">-0.007573</td>\n<td align=\"center\">0.000000</td>\n<td align=\"center\">0.000000</td>\n</tr>\n<tr>\n<td>3</td>\n<td align=\"center\">-0.498266</td>\n<td align=\"center\">-0.498266</td>\n<td align=\"center\">0.000000</td>\n<td align=\"center\">0.000000</td>\n</tr>\n<tr>\n<td>4</td>\n<td align=\"center\">-0.079290</td>\n<td align=\"center\">-0.079290</td>\n<td align=\"center\">-0.000000</td>\n<td align=\"center\">0.000000</td>\n</tr>\n<tr>\n<td>5</td>\n<td align=\"center\">0.044778</td>\n<td align=\"center\">0.044778</td>\n<td align=\"center\">-0.000000</td>\n<td align=\"center\">0.000000</td>\n</tr>\n<tr>\n<td>6</td>\n<td align=\"center\">0.003472</td>\n<td align=\"center\">0.003472</td>\n<td align=\"center\">-0.000000</td>\n<td align=\"center\">0.000000</td>\n</tr>\n<tr>\n<td>7</td>\n<td align=\"center\">-0.542518</td>\n<td align=\"center\">-0.542518</td>\n<td align=\"center\">-0.000000</td>\n<td align=\"center\">-0.000000</td>\n</tr>\n<tr>\n<td>8</td>\n<td align=\"center\">-0.087951</td>\n<td align=\"center\">-0.087951</td>\n<td align=\"center\">0.000000</td>\n<td align=\"center\">-0.000000</td>\n</tr>\n<tr>\n<td>9</td>\n<td align=\"center\">-0.035723</td>\n<td align=\"center\">-0.035723</td>\n<td align=\"center\">0.000000</td>\n<td align=\"center\">-0.000000</td>\n</tr>\n<tr>\n<td>10000</td>\n<td align=\"center\">-0.041655</td>\n<td align=\"center\">-0.041655</td>\n<td align=\"center\">0.000001</td>\n<td align=\"center\">-0.000050</td>\n</tr>\n<tr>\n<td>10001</td>\n<td align=\"center\">0.059743</td>\n<td align=\"center\">0.059742</td>\n<td align=\"center\">0.000001</td>\n<td align=\"center\">-0.000049</td>\n</tr>\n<tr>\n<td>10002</td>\n<td align=\"center\">0.003410</td>\n<td align=\"center\">0.003410</td>\n<td align=\"center\">-0.000000</td>\n<td align=\"center\">-0.000049</td>\n</tr>\n<tr>\n<td>10003</td>\n<td align=\"center\">-0.671292</td>\n<td align=\"center\">-0.671294</td>\n<td align=\"center\">0.000001</td>\n<td align=\"center\">-0.000048</td>\n</tr>\n<tr>\n<td>10004</td>\n<td align=\"center\">-0.117169</td>\n<td align=\"center\">-0.117170</td>\n<td align=\"center\">0.000001</td>\n<td align=\"center\">-0.000047</td>\n</tr>\n<tr>\n<td>10005</td>\n<td align=\"center\">0.144822</td>\n<td align=\"center\">0.144821</td>\n<td align=\"center\">0.000001</td>\n<td align=\"center\">-0.000045</td>\n</tr>\n<tr>\n<td>10006</td>\n<td align=\"center\">-0.001332</td>\n<td align=\"center\">-0.001332</td>\n<td align=\"center\">0.000000</td>\n<td align=\"center\">-0.000045</td>\n</tr>\n<tr>\n<td>10007</td>\n<td align=\"center\">-0.795729</td>\n<td align=\"center\">-0.795729</td>\n<td align=\"center\">0.000001</td>\n<td align=\"center\">-0.000045</td>\n</tr>\n<tr>\n<td>10008</td>\n<td align=\"center\">-0.058562</td>\n<td align=\"center\">-0.058562</td>\n<td align=\"center\">0.000000</td>\n<td align=\"center\">-0.000045</td>\n</tr>\n<tr>\n<td>10009</td>\n<td align=\"center\">0.080222</td>\n<td align=\"center\">0.080223</td>\n<td align=\"center\">-0.000000</td>\n<td align=\"center\">-0.000045</td>\n</tr>\n<tr>\n<td>40000</td>\n<td align=\"center\">-0.056272</td>\n<td align=\"center\">0.261853</td>\n<td align=\"center\">-0.318125</td>\n<td align=\"center\">83.999641</td>\n</tr>\n<tr>\n<td>40001</td>\n<td align=\"center\">0.001396</td>\n<td align=\"center\">0.006732</td>\n<td align=\"center\">-0.005336</td>\n<td align=\"center\">83.994308</td>\n</tr>\n<tr>\n<td>40002</td>\n<td align=\"center\">0.000540</td>\n<td align=\"center\">-0.004921</td>\n<td align=\"center\">0.005461</td>\n<td align=\"center\">83.999771</td>\n</tr>\n<tr>\n<td>40003</td>\n<td align=\"center\">-0.601443</td>\n<td align=\"center\">-0.382969</td>\n<td align=\"center\">-0.218474</td>\n<td align=\"center\">83.781296</td>\n</tr>\n<tr>\n<td>40004</td>\n<td align=\"center\">-0.088934</td>\n<td align=\"center\">0.222222</td>\n<td align=\"center\">-0.311156</td>\n<td align=\"center\">83.470139</td>\n</tr>\n<tr>\n<td>40005</td>\n<td align=\"center\">0.048725</td>\n<td align=\"center\">0.100866</td>\n<td align=\"center\">-0.052141</td>\n<td align=\"center\">83.417999</td>\n</tr>\n<tr>\n<td>40006</td>\n<td align=\"center\">-0.002078</td>\n<td align=\"center\">-0.011184</td>\n<td align=\"center\">0.009106</td>\n<td align=\"center\">83.427109</td>\n</tr>\n<tr>\n<td>40007</td>\n<td align=\"center\">-0.652765</td>\n<td align=\"center\">-0.507083</td>\n<td align=\"center\">-0.145682</td>\n<td align=\"center\">83.281425</td>\n</tr>\n<tr>\n<td>40008</td>\n<td align=\"center\">-0.079999</td>\n<td align=\"center\">0.267384</td>\n<td align=\"center\">-0.347384</td>\n<td align=\"center\">82.934044</td>\n</tr>\n<tr>\n<td>40009</td>\n<td align=\"center\">-0.027125</td>\n<td align=\"center\">0.091063</td>\n<td align=\"center\">-0.118188</td>\n<td align=\"center\">82.815857</td>\n</tr>\n<tr>\n<td>64470</td>\n<td align=\"center\">-0.001395</td>\n<td align=\"center\">-0.003402</td>\n<td align=\"center\">0.002008</td>\n<td align=\"center\">673.607727</td>\n</tr>\n<tr>\n<td>64471</td>\n<td align=\"center\">-0.001808</td>\n<td align=\"center\">-0.013858</td>\n<td align=\"center\">0.012051</td>\n<td align=\"center\">673.619751</td>\n</tr>\n<tr>\n<td>64472</td>\n<td align=\"center\">0.003523</td>\n<td align=\"center\">-0.001226</td>\n<td align=\"center\">0.004749</td>\n<td align=\"center\">673.624512</td>\n</tr>\n<tr>\n<td>64473</td>\n<td align=\"center\">0.001785</td>\n<td align=\"center\">0.015721</td>\n<td align=\"center\">-0.013935</td>\n<td align=\"center\">673.610596</td>\n</tr>\n<tr>\n<td>64474</td>\n<td align=\"center\">0.001010</td>\n<td align=\"center\">-0.002219</td>\n<td align=\"center\">0.003228</td>\n<td align=\"center\">673.613831</td>\n</tr>\n<tr>\n<td>64475</td>\n<td align=\"center\">-0.000174</td>\n<td align=\"center\">-0.000121</td>\n<td align=\"center\">-0.000053</td>\n<td align=\"center\">673.613770</td>\n</tr>\n<tr>\n<td>64476</td>\n<td align=\"center\">0.002843</td>\n<td align=\"center\">0.005779</td>\n<td align=\"center\">-0.002935</td>\n<td align=\"center\">673.610840</td>\n</tr>\n<tr>\n<td>64477</td>\n<td align=\"center\">0.002199</td>\n<td align=\"center\">-0.007970</td>\n<td align=\"center\">0.010169</td>\n<td align=\"center\">673.621033</td>\n</tr>\n<tr>\n<td>64478</td>\n<td align=\"center\">-0.002163</td>\n<td align=\"center\">0.000151</td>\n<td align=\"center\">-0.002314</td>\n<td align=\"center\">673.618713</td>\n</tr>\n<tr>\n<td>64479</td>\n<td align=\"center\">0.018321</td>\n<td align=\"center\">0.215750</td>\n<td align=\"center\">-0.197428</td>\n<td align=\"center\">673.421265</td>\n</tr>\n</tbody>\n</table>", "body_text": "I got different result between python and C++ using same pb file and same data, I print result below, the fisrt 10000 number's diff is close to zero, but it's get bigger then.\n\n\n\nline\nC++ result\nPython result\ndiff\nsum diff\n\n\n\n\n0\n-0.010966\n-0.010966\n-0.000000\n-0.000000\n\n\n1\n-0.050666\n-0.050666\n0.000000\n0.000000\n\n\n2\n-0.007573\n-0.007573\n0.000000\n0.000000\n\n\n3\n-0.498266\n-0.498266\n0.000000\n0.000000\n\n\n4\n-0.079290\n-0.079290\n-0.000000\n0.000000\n\n\n5\n0.044778\n0.044778\n-0.000000\n0.000000\n\n\n6\n0.003472\n0.003472\n-0.000000\n0.000000\n\n\n7\n-0.542518\n-0.542518\n-0.000000\n-0.000000\n\n\n8\n-0.087951\n-0.087951\n0.000000\n-0.000000\n\n\n9\n-0.035723\n-0.035723\n0.000000\n-0.000000\n\n\n10000\n-0.041655\n-0.041655\n0.000001\n-0.000050\n\n\n10001\n0.059743\n0.059742\n0.000001\n-0.000049\n\n\n10002\n0.003410\n0.003410\n-0.000000\n-0.000049\n\n\n10003\n-0.671292\n-0.671294\n0.000001\n-0.000048\n\n\n10004\n-0.117169\n-0.117170\n0.000001\n-0.000047\n\n\n10005\n0.144822\n0.144821\n0.000001\n-0.000045\n\n\n10006\n-0.001332\n-0.001332\n0.000000\n-0.000045\n\n\n10007\n-0.795729\n-0.795729\n0.000001\n-0.000045\n\n\n10008\n-0.058562\n-0.058562\n0.000000\n-0.000045\n\n\n10009\n0.080222\n0.080223\n-0.000000\n-0.000045\n\n\n40000\n-0.056272\n0.261853\n-0.318125\n83.999641\n\n\n40001\n0.001396\n0.006732\n-0.005336\n83.994308\n\n\n40002\n0.000540\n-0.004921\n0.005461\n83.999771\n\n\n40003\n-0.601443\n-0.382969\n-0.218474\n83.781296\n\n\n40004\n-0.088934\n0.222222\n-0.311156\n83.470139\n\n\n40005\n0.048725\n0.100866\n-0.052141\n83.417999\n\n\n40006\n-0.002078\n-0.011184\n0.009106\n83.427109\n\n\n40007\n-0.652765\n-0.507083\n-0.145682\n83.281425\n\n\n40008\n-0.079999\n0.267384\n-0.347384\n82.934044\n\n\n40009\n-0.027125\n0.091063\n-0.118188\n82.815857\n\n\n64470\n-0.001395\n-0.003402\n0.002008\n673.607727\n\n\n64471\n-0.001808\n-0.013858\n0.012051\n673.619751\n\n\n64472\n0.003523\n-0.001226\n0.004749\n673.624512\n\n\n64473\n0.001785\n0.015721\n-0.013935\n673.610596\n\n\n64474\n0.001010\n-0.002219\n0.003228\n673.613831\n\n\n64475\n-0.000174\n-0.000121\n-0.000053\n673.613770\n\n\n64476\n0.002843\n0.005779\n-0.002935\n673.610840\n\n\n64477\n0.002199\n-0.007970\n0.010169\n673.621033\n\n\n64478\n-0.002163\n0.000151\n-0.002314\n673.618713\n\n\n64479\n0.018321\n0.215750\n-0.197428\n673.421265", "body": "I got different result between python and C++ using same pb file and same data, I print result below, the fisrt 10000 number's diff is close to zero, but it's get bigger then.\r\n\r\n|line|C++ result|Python result|diff|sum diff|\r\n|----|:----:|:----:|:----:|:----:|\r\n|0|-0.010966|-0.010966|-0.000000|-0.000000|\r\n|1|-0.050666|-0.050666|0.000000|0.000000|\r\n|2|-0.007573|-0.007573|0.000000|0.000000|\r\n|3|-0.498266|-0.498266|0.000000|0.000000|\r\n|4|-0.079290|-0.079290|-0.000000|0.000000|\r\n|5|0.044778|0.044778|-0.000000|0.000000|\r\n|6|0.003472|0.003472|-0.000000|0.000000|\r\n|7|-0.542518|-0.542518|-0.000000|-0.000000|\r\n|8|-0.087951|-0.087951|0.000000|-0.000000|\r\n|9|-0.035723|-0.035723|0.000000|-0.000000|\r\n|10000|-0.041655|-0.041655|0.000001|-0.000050|\r\n|10001|0.059743|0.059742|0.000001|-0.000049|\r\n|10002|0.003410|0.003410|-0.000000|-0.000049|\r\n|10003|-0.671292|-0.671294|0.000001|-0.000048|\r\n|10004|-0.117169|-0.117170|0.000001|-0.000047|\r\n|10005|0.144822|0.144821|0.000001|-0.000045|\r\n|10006|-0.001332|-0.001332|0.000000|-0.000045|\r\n|10007|-0.795729|-0.795729|0.000001|-0.000045|\r\n|10008|-0.058562|-0.058562|0.000000|-0.000045|\r\n|10009|0.080222|0.080223|-0.000000|-0.000045|\r\n|40000|-0.056272|0.261853|-0.318125|83.999641|\r\n|40001|0.001396|0.006732|-0.005336|83.994308|\r\n|40002|0.000540|-0.004921|0.005461|83.999771|\r\n|40003|-0.601443|-0.382969|-0.218474|83.781296|\r\n|40004|-0.088934|0.222222|-0.311156|83.470139|\r\n|40005|0.048725|0.100866|-0.052141|83.417999|\r\n|40006|-0.002078|-0.011184|0.009106|83.427109|\r\n|40007|-0.652765|-0.507083|-0.145682|83.281425|\r\n|40008|-0.079999|0.267384|-0.347384|82.934044|\r\n|40009|-0.027125|0.091063|-0.118188|82.815857|\r\n|64470|-0.001395|-0.003402|0.002008|673.607727|\r\n|64471|-0.001808|-0.013858|0.012051|673.619751|\r\n|64472|0.003523|-0.001226|0.004749|673.624512|\r\n|64473|0.001785|0.015721|-0.013935|673.610596|\r\n|64474|0.001010|-0.002219|0.003228|673.613831|\r\n|64475|-0.000174|-0.000121|-0.000053|673.613770|\r\n|64476|0.002843|0.005779|-0.002935|673.610840|\r\n|64477|0.002199|-0.007970|0.010169|673.621033|\r\n|64478|-0.002163|0.000151|-0.002314|673.618713|\r\n|64479|0.018321|0.215750|-0.197428|673.421265|"}