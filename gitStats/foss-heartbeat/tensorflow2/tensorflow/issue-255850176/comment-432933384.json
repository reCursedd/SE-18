{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/432933384", "html_url": "https://github.com/tensorflow/tensorflow/issues/12871#issuecomment-432933384", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12871", "id": 432933384, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjkzMzM4NA==", "user": {"login": "leriomaggio", "id": 1908453, "node_id": "MDQ6VXNlcjE5MDg0NTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1908453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leriomaggio", "html_url": "https://github.com/leriomaggio", "followers_url": "https://api.github.com/users/leriomaggio/followers", "following_url": "https://api.github.com/users/leriomaggio/following{/other_user}", "gists_url": "https://api.github.com/users/leriomaggio/gists{/gist_id}", "starred_url": "https://api.github.com/users/leriomaggio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leriomaggio/subscriptions", "organizations_url": "https://api.github.com/users/leriomaggio/orgs", "repos_url": "https://api.github.com/users/leriomaggio/repos", "events_url": "https://api.github.com/users/leriomaggio/events{/privacy}", "received_events_url": "https://api.github.com/users/leriomaggio/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-25T06:42:40Z", "updated_at": "2018-10-25T06:43:48Z", "author_association": "NONE", "body_html": "<blockquote>\n<p>TF_CUDNN_USE_AUTOTUNE='0' will not work, it will use cuDNN function to retrieve the best algorithm. One solution I found was to support a new environment variable TF_CUDNN_CONVOLUTION_BWD_FILTER_ALGO_DETERMINISTIC='1' such that we only use cuDNN deterministic algorithms.</p>\n</blockquote>\n<p>Unfortunately I cannot reproduce the deterministic computation you're claiming to achieve :(<br>\nFor some reason, this FLAG is not supported (yet?).</p>\n<p>I am using Python <code>3.6</code> and TensorFlow <code>1.11</code> compiled from source on <code>CUDA 10.0</code> + <code>CuDnn 7.3</code>.</p>\n<p>Any clue?</p>", "body_text": "TF_CUDNN_USE_AUTOTUNE='0' will not work, it will use cuDNN function to retrieve the best algorithm. One solution I found was to support a new environment variable TF_CUDNN_CONVOLUTION_BWD_FILTER_ALGO_DETERMINISTIC='1' such that we only use cuDNN deterministic algorithms.\n\nUnfortunately I cannot reproduce the deterministic computation you're claiming to achieve :(\nFor some reason, this FLAG is not supported (yet?).\nI am using Python 3.6 and TensorFlow 1.11 compiled from source on CUDA 10.0 + CuDnn 7.3.\nAny clue?", "body": "> TF_CUDNN_USE_AUTOTUNE='0' will not work, it will use cuDNN function to retrieve the best algorithm. One solution I found was to support a new environment variable TF_CUDNN_CONVOLUTION_BWD_FILTER_ALGO_DETERMINISTIC='1' such that we only use cuDNN deterministic algorithms.\r\n> \r\nUnfortunately I cannot reproduce the deterministic computation you're claiming to achieve :(\r\nFor some reason, this FLAG is not supported (yet?).\r\n\r\nI am using Python `3.6` and TensorFlow `1.11` compiled from source on `CUDA 10.0` + `CuDnn 7.3`.\r\n\r\nAny clue? "}