{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/342680712", "html_url": "https://github.com/tensorflow/tensorflow/pull/12943#issuecomment-342680712", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12943", "id": 342680712, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjY4MDcxMg==", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-08T01:32:21Z", "updated_at": "2017-11-08T01:32:21Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=577277\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/martinwicke\">@martinwicke</a> This PR probably is not easy to fix.</p>\n<p>On my dev machine if running bazel directly without docker (and gcc 5.4.0+ubuntu 16.04) everything is fine.</p>\n<p>However, when running inside docker (similar to what is invoked in Jenkins CI with <code>tensorflow/tools/ci_build/ci_parameterized_build.sh</code>) then build will fail.</p>\n<p>I have been investigating this issue for some time. I would guess the reason is that, certain flags are passed by bazel inside/outside container differently. And I tend to guess that <code>ptranspose</code> in Eigen might have been hidden by certain flags. However, I am still relatively new to bazel's build system and haven't been able to figure out what exactly is the issue here.</p>\n<p>Currently there are several pending issues in TF (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"256480946\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/12941\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/12941/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/12941\">#12941</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"258289281\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/13097\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/13097/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/13097\">#13097</a>) and Keras (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"239457850\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/keras-team/keras/issues/7176\" data-hovercard-type=\"issue\" data-hovercard-url=\"/keras-team/keras/issues/7176/hovercard\" href=\"https://github.com/keras-team/keras/issues/7176\">keras-team/keras#7176</a>) that is related to this PR. But I am afraid this may not be resolved soon.</p>\n<p>I think maybe this issue could be labeled as <code>stalled</code> or we could closed it for now. I will try to revisit this issue after I have a better understanding of the bazel's flags.</p>\n<p>Sorry about the inconvenience.</p>", "body_text": "@martinwicke This PR probably is not easy to fix.\nOn my dev machine if running bazel directly without docker (and gcc 5.4.0+ubuntu 16.04) everything is fine.\nHowever, when running inside docker (similar to what is invoked in Jenkins CI with tensorflow/tools/ci_build/ci_parameterized_build.sh) then build will fail.\nI have been investigating this issue for some time. I would guess the reason is that, certain flags are passed by bazel inside/outside container differently. And I tend to guess that ptranspose in Eigen might have been hidden by certain flags. However, I am still relatively new to bazel's build system and haven't been able to figure out what exactly is the issue here.\nCurrently there are several pending issues in TF (#12941 and #13097) and Keras (keras-team/keras#7176) that is related to this PR. But I am afraid this may not be resolved soon.\nI think maybe this issue could be labeled as stalled or we could closed it for now. I will try to revisit this issue after I have a better understanding of the bazel's flags.\nSorry about the inconvenience.", "body": "@martinwicke This PR probably is not easy to fix.\r\n\r\nOn my dev machine if running bazel directly without docker (and gcc 5.4.0+ubuntu 16.04) everything is fine.\r\n\r\nHowever, when running inside docker (similar to what is invoked in Jenkins CI with `tensorflow/tools/ci_build/ci_parameterized_build.sh`) then build will fail.\r\n\r\nI have been investigating this issue for some time. I would guess the reason is that, certain flags are passed by bazel inside/outside container differently. And I tend to guess that `ptranspose` in Eigen might have been hidden by certain flags. However, I am still relatively new to bazel's build system and haven't been able to figure out what exactly is the issue here.\r\n\r\nCurrently there are several pending issues in TF (#12941 and #13097) and Keras (fchollet/keras#7176) that is related to this PR. But I am afraid this may not be resolved soon.\r\n\r\nI think maybe this issue could be labeled as `stalled` or we could closed it for now. I will try to revisit this issue after I have a better understanding of the bazel's flags.\r\n\r\nSorry about the inconvenience."}