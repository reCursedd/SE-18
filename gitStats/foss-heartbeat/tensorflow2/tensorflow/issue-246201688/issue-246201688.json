{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11835", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11835/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11835/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11835/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/11835", "id": 246201688, "node_id": "MDExOlB1bGxSZXF1ZXN0MTMyODY5ODEx", "number": 11835, "title": "Ensure that TensorBoard is still available when pip installed.", "user": {"login": "decentralion", "id": 1400023, "node_id": "MDQ6VXNlcjE0MDAwMjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1400023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/decentralion", "html_url": "https://github.com/decentralion", "followers_url": "https://api.github.com/users/decentralion/followers", "following_url": "https://api.github.com/users/decentralion/following{/other_user}", "gists_url": "https://api.github.com/users/decentralion/gists{/gist_id}", "starred_url": "https://api.github.com/users/decentralion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/decentralion/subscriptions", "organizations_url": "https://api.github.com/users/decentralion/orgs", "repos_url": "https://api.github.com/users/decentralion/repos", "events_url": "https://api.github.com/users/decentralion/events{/privacy}", "received_events_url": "https://api.github.com/users/decentralion/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}, {"id": 284285184, "node_id": "MDU6TGFiZWwyODQyODUxODQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tensorboard", "name": "comp:tensorboard", "color": "0052cc", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-27T23:56:08Z", "updated_at": "2017-08-28T18:01:35Z", "closed_at": "2017-07-28T22:33:42Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/11835", "html_url": "https://github.com/tensorflow/tensorflow/pull/11835", "diff_url": "https://github.com/tensorflow/tensorflow/pull/11835.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/11835.patch"}, "body_html": "<p>Context:</p>\n<p>After r1.2, TensorBoard moved out of the TensorFlow repository, into its own<br>\nrepository and its own pip package (presently tensorflow-tensorboard, will later<br>\nswitch to just tensorboard). The new pip package specifies the <code>tensorboard</code><br>\ncommand, so I removed it from the list of console scripts forTensorFlow. I also<br>\nadded tensorflow-tensorboard as a pip dependency.</p>\n<p>However, it turns out that the pip order of operations is:</p>\n<ul>\n<li>install pip dependencies (thus getting tensorflow-tensorboard and the new<br>\ntensorboard command)</li>\n<li>remove deprecated console scripts (thus erroneously removing the new pointer<br>\nto tensorboard)</li>\n</ul>\n<p>To fix this, I returned the <code>tensorboard</code> console script to tensorflow's<br>\nsetup.py, except it now references the tensorboard package rather than the<br>\ntensorflow package. Thus, the console script declaration in tensorflow and<br>\ntensorboard are identical. We can be confident that the tensorboard package is<br>\navailable, because it is specified by the pip dependency.</p>\n<p>Test Plan:</p>\n<ul>\n<li>Create a clean virtualenv.</li>\n<li>pip install tensorflow &lt; 1.3.</li>\n<li>verify that the tensorboard command works properly</li>\n<li>pip install tensorflow 1.3 using a pip package generated with this change</li>\n<li>verify that the tensorboard command still works</li>\n</ul>\n<p>This is the fix for master. I sent a separate PR to move this fix into r1.3</p>", "body_text": "Context:\nAfter r1.2, TensorBoard moved out of the TensorFlow repository, into its own\nrepository and its own pip package (presently tensorflow-tensorboard, will later\nswitch to just tensorboard). The new pip package specifies the tensorboard\ncommand, so I removed it from the list of console scripts forTensorFlow. I also\nadded tensorflow-tensorboard as a pip dependency.\nHowever, it turns out that the pip order of operations is:\n\ninstall pip dependencies (thus getting tensorflow-tensorboard and the new\ntensorboard command)\nremove deprecated console scripts (thus erroneously removing the new pointer\nto tensorboard)\n\nTo fix this, I returned the tensorboard console script to tensorflow's\nsetup.py, except it now references the tensorboard package rather than the\ntensorflow package. Thus, the console script declaration in tensorflow and\ntensorboard are identical. We can be confident that the tensorboard package is\navailable, because it is specified by the pip dependency.\nTest Plan:\n\nCreate a clean virtualenv.\npip install tensorflow < 1.3.\nverify that the tensorboard command works properly\npip install tensorflow 1.3 using a pip package generated with this change\nverify that the tensorboard command still works\n\nThis is the fix for master. I sent a separate PR to move this fix into r1.3", "body": "Context:\r\n\r\nAfter r1.2, TensorBoard moved out of the TensorFlow repository, into its own\r\nrepository and its own pip package (presently tensorflow-tensorboard, will later\r\nswitch to just tensorboard). The new pip package specifies the `tensorboard`\r\ncommand, so I removed it from the list of console scripts forTensorFlow. I also\r\nadded tensorflow-tensorboard as a pip dependency.\r\n\r\nHowever, it turns out that the pip order of operations is:\r\n- install pip dependencies (thus getting tensorflow-tensorboard and the new\r\n  tensorboard command)\r\n- remove deprecated console scripts (thus erroneously removing the new pointer\r\n  to tensorboard)\r\n\r\nTo fix this, I returned the `tensorboard` console script to tensorflow's\r\nsetup.py, except it now references the tensorboard package rather than the\r\ntensorflow package. Thus, the console script declaration in tensorflow and\r\ntensorboard are identical. We can be confident that the tensorboard package is\r\navailable, because it is specified by the pip dependency.\r\n\r\nTest Plan:\r\n\r\n- Create a clean virtualenv.\r\n- pip install tensorflow < 1.3.\r\n- verify that the tensorboard command works properly\r\n- pip install tensorflow 1.3 using a pip package generated with this change\r\n- verify that the tensorboard command still works\r\n\r\nThis is the fix for master. I sent a separate PR to move this fix into r1.3"}