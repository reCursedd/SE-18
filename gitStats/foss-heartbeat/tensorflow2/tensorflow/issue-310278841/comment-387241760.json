{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/387241760", "html_url": "https://github.com/tensorflow/tensorflow/issues/18152#issuecomment-387241760", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18152", "id": 387241760, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzI0MTc2MA==", "user": {"login": "apolcyn", "id": 9566254, "node_id": "MDQ6VXNlcjk1NjYyNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apolcyn", "html_url": "https://github.com/apolcyn", "followers_url": "https://api.github.com/users/apolcyn/followers", "following_url": "https://api.github.com/users/apolcyn/following{/other_user}", "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions", "organizations_url": "https://api.github.com/users/apolcyn/orgs", "repos_url": "https://api.github.com/users/apolcyn/repos", "events_url": "https://api.github.com/users/apolcyn/events{/privacy}", "received_events_url": "https://api.github.com/users/apolcyn/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-07T23:56:20Z", "updated_at": "2018-05-07T23:56:35Z", "author_association": "NONE", "body_html": "<p>I'm currently trying to repro from Tensorflow's master branch (commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/714f3c4f2f901e865bfcbf830485adafb92dca48/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/714f3c4f2f901e865bfcbf830485adafb92dca48\"><tt>714f3c4</tt></a>), with ubuntu 16.04 and bazel 0.13.1 (I'll try bazel 0.11.1 next).</p>\n<p>I'm trying to follow the <a href=\"https://www.tensorflow.org/install/install_sources\" rel=\"nofollow\">instructions for install tensorflow from source</a>, but I'm stumbling on what looks like unrelated issues and I'm not able to reproduce so far. <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=528174\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fat-tire\">@fat-tire</a> can you please post more details if you have any?E.g., are you following <a href=\"https://www.tensorflow.org/install/install_sources\" rel=\"nofollow\">these source build instructions</a>, and using the <code>configure</code> defaults? Or, do we know if this is still an issue?</p>\n<p>Probably a minor issue but FWIW, after following the \"install tensorflow from source\" instructions, using python 2.7, and using all of the defaults in the <code>configure</code> script, I first ran into an issue with the <code>enum</code> module not being available (probably because I tried the python2.7 route). After installing the <code>enum</code> module, my bazel build command (<code>bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package</code>) now fails with:</p>\n<pre><code>[4,403 / 8,171] Executing genrule //tensorflow/python:framework/fast_tensor_util.pyx_cython_translation; 0s local\nERROR: /src/tensorflow/tensorflow/tools/api/generator/BUILD:27:1: Executing genrule //tensorflow/tools/api/generator:python_api_gen failed (Exit 1)\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/tools/api/generator/create_python_api.py\", line 26, in &lt;module&gt;\n    from tensorflow import python  # pylint: disable=unused-import\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/__init__.py\", line 63, in &lt;module&gt;\n    from tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/framework/framework_lib.py\", line 52, in &lt;module&gt;\n    from tensorflow.python.framework.importer import import_graph_def\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/framework/importer.py\", line 32, in &lt;module&gt;\n    from tensorflow.python.framework import function\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/framework/function.py\", line 37, in &lt;module&gt;\n    from tensorflow.python.ops import variable_scope as vs\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 197, in &lt;module&gt;\n    \"\"\"\nAttributeError: 'int' object attribute '__doc__' is read-only\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 35.977s, Critical Path: 21.32s\nINFO: 1 process, local.\nFAILED: Build did NOT complete successfully\n</code></pre>", "body_text": "I'm currently trying to repro from Tensorflow's master branch (commit 714f3c4), with ubuntu 16.04 and bazel 0.13.1 (I'll try bazel 0.11.1 next).\nI'm trying to follow the instructions for install tensorflow from source, but I'm stumbling on what looks like unrelated issues and I'm not able to reproduce so far. @fat-tire can you please post more details if you have any?E.g., are you following these source build instructions, and using the configure defaults? Or, do we know if this is still an issue?\nProbably a minor issue but FWIW, after following the \"install tensorflow from source\" instructions, using python 2.7, and using all of the defaults in the configure script, I first ran into an issue with the enum module not being available (probably because I tried the python2.7 route). After installing the enum module, my bazel build command (bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package) now fails with:\n[4,403 / 8,171] Executing genrule //tensorflow/python:framework/fast_tensor_util.pyx_cython_translation; 0s local\nERROR: /src/tensorflow/tensorflow/tools/api/generator/BUILD:27:1: Executing genrule //tensorflow/tools/api/generator:python_api_gen failed (Exit 1)\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/tools/api/generator/create_python_api.py\", line 26, in <module>\n    from tensorflow import python  # pylint: disable=unused-import\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/__init__.py\", line 63, in <module>\n    from tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/framework/framework_lib.py\", line 52, in <module>\n    from tensorflow.python.framework.importer import import_graph_def\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/framework/importer.py\", line 32, in <module>\n    from tensorflow.python.framework import function\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/framework/function.py\", line 37, in <module>\n    from tensorflow.python.ops import variable_scope as vs\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 197, in <module>\n    \"\"\"\nAttributeError: 'int' object attribute '__doc__' is read-only\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 35.977s, Critical Path: 21.32s\nINFO: 1 process, local.\nFAILED: Build did NOT complete successfully", "body": "I'm currently trying to repro from Tensorflow's master branch (commit 714f3c4f2f901e865bfcbf830485adafb92dca48), with ubuntu 16.04 and bazel 0.13.1 (I'll try bazel 0.11.1 next).\r\n\r\nI'm trying to follow the [instructions for install tensorflow from source](https://www.tensorflow.org/install/install_sources), but I'm stumbling on what looks like unrelated issues and I'm not able to reproduce so far. @fat-tire can you please post more details if you have any?E.g., are you following [these source build instructions](https://www.tensorflow.org/install/install_sources), and using the `configure` defaults? Or, do we know if this is still an issue?\r\n\r\nProbably a minor issue but FWIW, after following the \"install tensorflow from source\" instructions, using python 2.7, and using all of the defaults in the `configure` script, I first ran into an issue with the `enum` module not being available (probably because I tried the python2.7 route). After installing the `enum` module, my bazel build command (`bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package`) now fails with:\r\n\r\n```\r\n[4,403 / 8,171] Executing genrule //tensorflow/python:framework/fast_tensor_util.pyx_cython_translation; 0s local\r\nERROR: /src/tensorflow/tensorflow/tools/api/generator/BUILD:27:1: Executing genrule //tensorflow/tools/api/generator:python_api_gen failed (Exit 1)\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/tools/api/generator/create_python_api.py\", line 26, in <module>\r\n    from tensorflow import python  # pylint: disable=unused-import\r\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/__init__.py\", line 63, in <module>\r\n    from tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin\r\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/framework/framework_lib.py\", line 52, in <module>\r\n    from tensorflow.python.framework.importer import import_graph_def\r\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/framework/importer.py\", line 32, in <module>\r\n    from tensorflow.python.framework import function\r\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/framework/function.py\", line 37, in <module>\r\n    from tensorflow.python.ops import variable_scope as vs\r\n  File \"/root/.cache/bazel/_bazel_root/1c025c2968c1aa16bac5eca67aaf21d1/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 197, in <module>\r\n    \"\"\"\r\nAttributeError: 'int' object attribute '__doc__' is read-only\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 35.977s, Critical Path: 21.32s\r\nINFO: 1 process, local.\r\nFAILED: Build did NOT complete successfully\r\n```"}