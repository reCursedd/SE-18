{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/261775567", "html_url": "https://github.com/tensorflow/tensorflow/issues/5549#issuecomment-261775567", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5549", "id": 261775567, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTc3NTU2Nw==", "user": {"login": "BentouDev", "id": 1926444, "node_id": "MDQ6VXNlcjE5MjY0NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1926444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BentouDev", "html_url": "https://github.com/BentouDev", "followers_url": "https://api.github.com/users/BentouDev/followers", "following_url": "https://api.github.com/users/BentouDev/following{/other_user}", "gists_url": "https://api.github.com/users/BentouDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/BentouDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BentouDev/subscriptions", "organizations_url": "https://api.github.com/users/BentouDev/orgs", "repos_url": "https://api.github.com/users/BentouDev/repos", "events_url": "https://api.github.com/users/BentouDev/events{/privacy}", "received_events_url": "https://api.github.com/users/BentouDev/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-20T12:33:13Z", "updated_at": "2016-11-20T12:33:13Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16018\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/asimshankar\">@asimshankar</a> yeah, you were right, my bad.<br>\n<code>libtensorflow.so</code> was built on the environment I described earlier, but <code>tensorflow/go/op</code> was generated on other machine. I rearranged my setup to build everything in one place.<br>\nNow unresolved references to stl are gone, but I'm getting another error:</p>\n<pre><code>src/github.com/tensorflow/tensorflow/tensorflow/go/op/generate.go\ngo generate ../genop\n# github.com/tensorflow/tensorflow/tensorflow/go\n/tmp/go-build286363903/github.com/tensorflow/tensorflow/tensorflow/go/_obj/version.cgo2.o: In function `_cgo_bcde4d8165b9_Cfunc_TF_Version':\nsrc/github.com/tensorflow/tensorflow/tensorflow/go/version.go:60: undefined reference to `TF_Version'\ncollect2: error: ld returned 1 exit status\n../genop/main.go:15: running \"sh\": exit status 1\nsrc/github.com/tensorflow/tensorflow/tensorflow/go/op/generate.go:15: running \"go\": exit status 1\nThe command '/bin/sh -c go get github.com/tensorflow/tensorflow/tensorflow/go/op &amp; go generate -v -x github.com/tensorflow/tensorflow/tensorflow/go/op' returned a non-zero code: 1\n</code></pre>\n<p>Commit hash: <code>77bb8d4c20ecb87a3988b24cf4c3f39e6dd78a34</code></p>\n<p>New environment <code>ubuntu xenial</code> :</p>\n<pre><code>$ go env\nGOARCH=\"amd64\" GOBIN=\"\" GOEXE=\"\" GOHOSTARCH=\"amd64\" GOHOSTOS=\"linux\" GOOS=\"linux\" GOPATH=\"/go\" GORACE=\"\" GOROOT=\"/usr/local/go\" GOTOOLDIR=\"/usr/local/go/pkg/tool/linux_amd64\" CC=\"gcc\" GOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build477629842=/tmp/go-build -gno-record-gcc-switches\" CXX=\"g++\" CGO_ENABLED=\"1\"\n\n</code></pre>\n<pre><code>$ bazel version\nBuild label: 0.3.2 Build target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar Build time: Fri Oct 7 17:25:10 2016 (1475861110) Build timestamp: 1475861110 Build timestamp as int: 1475861110\n</code></pre>\n<pre><code>$ g++ --version\ng++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609 Copyright (C) 2015 Free Software Foundation, Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n</code></pre>\n<pre><code>$ g++ -v\nUsing built-in specs.\n\nCOLLECT_GCC=g++\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/5/lto-wrapper                        \nTarget: x86_64-linux-gnu                                                               \nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 5.4.0-6ubuntu1~16.04.4' --with-bugurl=file:///usr/share/doc/gcc-5/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-5 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-5-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-5-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-5-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu                 \nThread model: posix                                                                    \ngcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4) \n</code></pre>", "body_text": "@asimshankar yeah, you were right, my bad.\nlibtensorflow.so was built on the environment I described earlier, but tensorflow/go/op was generated on other machine. I rearranged my setup to build everything in one place.\nNow unresolved references to stl are gone, but I'm getting another error:\nsrc/github.com/tensorflow/tensorflow/tensorflow/go/op/generate.go\ngo generate ../genop\n# github.com/tensorflow/tensorflow/tensorflow/go\n/tmp/go-build286363903/github.com/tensorflow/tensorflow/tensorflow/go/_obj/version.cgo2.o: In function `_cgo_bcde4d8165b9_Cfunc_TF_Version':\nsrc/github.com/tensorflow/tensorflow/tensorflow/go/version.go:60: undefined reference to `TF_Version'\ncollect2: error: ld returned 1 exit status\n../genop/main.go:15: running \"sh\": exit status 1\nsrc/github.com/tensorflow/tensorflow/tensorflow/go/op/generate.go:15: running \"go\": exit status 1\nThe command '/bin/sh -c go get github.com/tensorflow/tensorflow/tensorflow/go/op & go generate -v -x github.com/tensorflow/tensorflow/tensorflow/go/op' returned a non-zero code: 1\n\nCommit hash: 77bb8d4c20ecb87a3988b24cf4c3f39e6dd78a34\nNew environment ubuntu xenial :\n$ go env\nGOARCH=\"amd64\" GOBIN=\"\" GOEXE=\"\" GOHOSTARCH=\"amd64\" GOHOSTOS=\"linux\" GOOS=\"linux\" GOPATH=\"/go\" GORACE=\"\" GOROOT=\"/usr/local/go\" GOTOOLDIR=\"/usr/local/go/pkg/tool/linux_amd64\" CC=\"gcc\" GOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build477629842=/tmp/go-build -gno-record-gcc-switches\" CXX=\"g++\" CGO_ENABLED=\"1\"\n\n\n$ bazel version\nBuild label: 0.3.2 Build target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar Build time: Fri Oct 7 17:25:10 2016 (1475861110) Build timestamp: 1475861110 Build timestamp as int: 1475861110\n\n$ g++ --version\ng++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609 Copyright (C) 2015 Free Software Foundation, Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\n$ g++ -v\nUsing built-in specs.\n\nCOLLECT_GCC=g++\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/5/lto-wrapper                        \nTarget: x86_64-linux-gnu                                                               \nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 5.4.0-6ubuntu1~16.04.4' --with-bugurl=file:///usr/share/doc/gcc-5/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-5 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-5-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-5-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-5-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu                 \nThread model: posix                                                                    \ngcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4)", "body": "@asimshankar yeah, you were right, my bad.\n`libtensorflow.so` was built on the environment I described earlier, but `tensorflow/go/op` was generated on other machine. I rearranged my setup to build everything in one place.\nNow unresolved references to stl are gone, but I'm getting another error:\n\n```\nsrc/github.com/tensorflow/tensorflow/tensorflow/go/op/generate.go\ngo generate ../genop\n# github.com/tensorflow/tensorflow/tensorflow/go\n/tmp/go-build286363903/github.com/tensorflow/tensorflow/tensorflow/go/_obj/version.cgo2.o: In function `_cgo_bcde4d8165b9_Cfunc_TF_Version':\nsrc/github.com/tensorflow/tensorflow/tensorflow/go/version.go:60: undefined reference to `TF_Version'\ncollect2: error: ld returned 1 exit status\n../genop/main.go:15: running \"sh\": exit status 1\nsrc/github.com/tensorflow/tensorflow/tensorflow/go/op/generate.go:15: running \"go\": exit status 1\nThe command '/bin/sh -c go get github.com/tensorflow/tensorflow/tensorflow/go/op & go generate -v -x github.com/tensorflow/tensorflow/tensorflow/go/op' returned a non-zero code: 1\n```\n\nCommit hash: `77bb8d4c20ecb87a3988b24cf4c3f39e6dd78a34`\n\nNew environment `ubuntu xenial` :\n\n```\n$ go env\nGOARCH=\"amd64\" GOBIN=\"\" GOEXE=\"\" GOHOSTARCH=\"amd64\" GOHOSTOS=\"linux\" GOOS=\"linux\" GOPATH=\"/go\" GORACE=\"\" GOROOT=\"/usr/local/go\" GOTOOLDIR=\"/usr/local/go/pkg/tool/linux_amd64\" CC=\"gcc\" GOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build477629842=/tmp/go-build -gno-record-gcc-switches\" CXX=\"g++\" CGO_ENABLED=\"1\"\n\n```\n\n```\n$ bazel version\nBuild label: 0.3.2 Build target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar Build time: Fri Oct 7 17:25:10 2016 (1475861110) Build timestamp: 1475861110 Build timestamp as int: 1475861110\n```\n\n```\n$ g++ --version\ng++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609 Copyright (C) 2015 Free Software Foundation, Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n```\n\n```\n$ g++ -v\nUsing built-in specs.\n\nCOLLECT_GCC=g++\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/5/lto-wrapper                        \nTarget: x86_64-linux-gnu                                                               \nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 5.4.0-6ubuntu1~16.04.4' --with-bugurl=file:///usr/share/doc/gcc-5/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-5 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-5-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-5-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-5-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu                 \nThread model: posix                                                                    \ngcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4) \n```\n"}