{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/189387508", "html_url": "https://github.com/tensorflow/tensorflow/issues/1297#issuecomment-189387508", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1297", "id": 189387508, "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTM4NzUwOA==", "user": {"login": "jyegerlehner", "id": 2138320, "node_id": "MDQ6VXNlcjIxMzgzMjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/2138320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyegerlehner", "html_url": "https://github.com/jyegerlehner", "followers_url": "https://api.github.com/users/jyegerlehner/followers", "following_url": "https://api.github.com/users/jyegerlehner/following{/other_user}", "gists_url": "https://api.github.com/users/jyegerlehner/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyegerlehner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyegerlehner/subscriptions", "organizations_url": "https://api.github.com/users/jyegerlehner/orgs", "repos_url": "https://api.github.com/users/jyegerlehner/repos", "events_url": "https://api.github.com/users/jyegerlehner/events{/privacy}", "received_events_url": "https://api.github.com/users/jyegerlehner/received_events", "type": "User", "site_admin": false}, "created_at": "2016-02-26T17:43:20Z", "updated_at": "2016-02-26T17:43:20Z", "author_association": "CONTRIBUTOR", "body_html": "<blockquote>\n<p>Does using:<br>\nwith tf.Session(graph=graph, config=tf.ConfigProto(allow_soft_placement=True)) as session: fix it?</p>\n</blockquote>\n<p>No, I get a different exception. Namely, I removed the tf.device() (shown above) so that it goes back to trying to run on the gpu, and specified the config argument you specify, and now I get this exception on the session.run() call:</p>\n<pre lang=\"InvalidArgumentError:\" data-meta=\"AttrValue must not have reference type value of float_ref\"><code>     for attr 'tensor_type'\n    ; NodeDef: Variable/Adagrad/_84 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_550_Variable/Adagrad\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](^gradients/concat_6/_86, ^gradients/concat_7/_88); Op&lt;name=_Recv; signature= -&gt; tensor:tensor_type; attr=tensor_type:type; attr=tensor_name:string; attr=send_device:string; attr=send_device_incarnation:int; attr=recv_device:string; attr=client_terminated:bool,default=false; is_stateful=true&gt;\n     [[Node: Variable/Adagrad/_84 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_550_Variable/Adagrad\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](^gradients/concat_6/_86, ^gradients/concat_7/_88)]]\n\n</code></pre>\n<pre><code></code></pre>", "body_text": "Does using:\nwith tf.Session(graph=graph, config=tf.ConfigProto(allow_soft_placement=True)) as session: fix it?\n\nNo, I get a different exception. Namely, I removed the tf.device() (shown above) so that it goes back to trying to run on the gpu, and specified the config argument you specify, and now I get this exception on the session.run() call:\n     for attr 'tensor_type'\n    ; NodeDef: Variable/Adagrad/_84 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_550_Variable/Adagrad\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](^gradients/concat_6/_86, ^gradients/concat_7/_88); Op<name=_Recv; signature= -> tensor:tensor_type; attr=tensor_type:type; attr=tensor_name:string; attr=send_device:string; attr=send_device_incarnation:int; attr=recv_device:string; attr=client_terminated:bool,default=false; is_stateful=true>\n     [[Node: Variable/Adagrad/_84 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_550_Variable/Adagrad\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](^gradients/concat_6/_86, ^gradients/concat_7/_88)]]", "body": "> Does using:\n> with tf.Session(graph=graph, config=tf.ConfigProto(allow_soft_placement=True)) as session: fix it?\n\nNo, I get a different exception. Namely, I removed the tf.device() (shown above) so that it goes back to trying to run on the gpu, and specified the config argument you specify, and now I get this exception on the session.run() call:\n\n```InvalidArgumentError: AttrValue must not have reference type value of float_ref\n     for attr 'tensor_type'\n    ; NodeDef: Variable/Adagrad/_84 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_550_Variable/Adagrad\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](^gradients/concat_6/_86, ^gradients/concat_7/_88); Op<name=_Recv; signature= -> tensor:tensor_type; attr=tensor_type:type; attr=tensor_name:string; attr=send_device:string; attr=send_device_incarnation:int; attr=recv_device:string; attr=client_terminated:bool,default=false; is_stateful=true>\n     [[Node: Variable/Adagrad/_84 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_550_Variable/Adagrad\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](^gradients/concat_6/_86, ^gradients/concat_7/_88)]]\n\n```\n```\n"}