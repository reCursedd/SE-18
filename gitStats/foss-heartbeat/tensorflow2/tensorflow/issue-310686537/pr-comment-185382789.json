{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/185382789", "pull_request_review_id": 116758614, "id": 185382789, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NTM4Mjc4OQ==", "diff_hunk": "@@ -68,8 +68,13 @@ filegroup(\n     ],\n )\n \n+# Build the gen tool as a library, as it will be linked to a core/ops binary\n+# files before making it an executable.", "path": "tensorflow/java/BUILD", "position": null, "original_position": 5, "commit_id": "3c799b44b841dc8c4e83fb3fbb61ad4146464f60", "original_commit_id": "d083215fc6f6ec8a314d7980c75a66449c474df6", "user": {"login": "karllessard", "id": 10109534, "node_id": "MDQ6VXNlcjEwMTA5NTM0", "avatar_url": "https://avatars3.githubusercontent.com/u/10109534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karllessard", "html_url": "https://github.com/karllessard", "followers_url": "https://api.github.com/users/karllessard/followers", "following_url": "https://api.github.com/users/karllessard/following{/other_user}", "gists_url": "https://api.github.com/users/karllessard/gists{/gist_id}", "starred_url": "https://api.github.com/users/karllessard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karllessard/subscriptions", "organizations_url": "https://api.github.com/users/karllessard/orgs", "repos_url": "https://api.github.com/users/karllessard/repos", "events_url": "https://api.github.com/users/karllessard/events{/privacy}", "received_events_url": "https://api.github.com/users/karllessard/received_events", "type": "User", "site_admin": false}, "body": "I think it is still safe to select explicitly the list of libraries that we want to link to when we generate the gen tool library, since some of them are more tricky to handle and have been excluded for now (e.g. `dataset_ops`).\r\n\r\nAnd we still need the `java_op_gen_lib` to be compiled separately from the binary because it is linked with generator unit tests, like `source_writer_test`\r\n\r\nBut yes, I guess the `java_op_gen_tool` binary rule could be in BUILD instead and I'll do an overall review of the comments I left there.", "created_at": "2018-05-02T02:45:59Z", "updated_at": "2018-05-06T14:11:56Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/18192#discussion_r185382789", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18192", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/185382789"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/18192#discussion_r185382789"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18192"}}, "body_html": "<p>I think it is still safe to select explicitly the list of libraries that we want to link to when we generate the gen tool library, since some of them are more tricky to handle and have been excluded for now (e.g. <code>dataset_ops</code>).</p>\n<p>And we still need the <code>java_op_gen_lib</code> to be compiled separately from the binary because it is linked with generator unit tests, like <code>source_writer_test</code></p>\n<p>But yes, I guess the <code>java_op_gen_tool</code> binary rule could be in BUILD instead and I'll do an overall review of the comments I left there.</p>", "body_text": "I think it is still safe to select explicitly the list of libraries that we want to link to when we generate the gen tool library, since some of them are more tricky to handle and have been excluded for now (e.g. dataset_ops).\nAnd we still need the java_op_gen_lib to be compiled separately from the binary because it is linked with generator unit tests, like source_writer_test\nBut yes, I guess the java_op_gen_tool binary rule could be in BUILD instead and I'll do an overall review of the comments I left there.", "in_reply_to_id": 185155768}