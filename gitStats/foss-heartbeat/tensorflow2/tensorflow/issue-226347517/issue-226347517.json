{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9669", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9669/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9669/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9669/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9669", "id": 226347517, "node_id": "MDU6SXNzdWUyMjYzNDc1MTc=", "number": 9669, "title": "Unsound GPU driver version scheme assumption in StringToDriverVersion", "user": {"login": "rgov", "id": 108767, "node_id": "MDQ6VXNlcjEwODc2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/108767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rgov", "html_url": "https://github.com/rgov", "followers_url": "https://api.github.com/users/rgov/followers", "following_url": "https://api.github.com/users/rgov/following{/other_user}", "gists_url": "https://api.github.com/users/rgov/gists{/gist_id}", "starred_url": "https://api.github.com/users/rgov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rgov/subscriptions", "organizations_url": "https://api.github.com/users/rgov/orgs", "repos_url": "https://api.github.com/users/rgov/repos", "events_url": "https://api.github.com/users/rgov/events{/privacy}", "received_events_url": "https://api.github.com/users/rgov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-04T17:06:08Z", "updated_at": "2017-10-27T02:56:19Z", "closed_at": "2017-10-27T02:56:19Z", "author_association": "NONE", "body_html": "<p>Tensorflow's <code>cuda_diagnostics.cc</code> <a href=\"https://github.com/tensorflow/tensorflow/blob/076799bdfae0057723d96f47cf78cb623c8bcd57/tensorflow/stream_executor/cuda/cuda_diagnostics.cc#L82\">here</a> assumes that the GPU driver version will match <code>%d.%d.%d</code> but that doesn't seem to be a safe assumption.</p>\n<pre><code>2017-05-04 09:48:39.543664: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:189] libcuda reported version is: Invalid argument: expected %d.%d or %d.%d.%d form for driver version; got \"378.05.05.05\"\n</code></pre>\n<p>In <code>FindDsoVersion()</code>, TF is parsing the name of the loaded libcuda library to get the version number, and the current Nvidia web driver library is:</p>\n<pre><code>/Library/Frameworks/CUDA.framework/Versions/A/Libraries/libcuda_378.05.05.05_mercury.dylib\n</code></pre>", "body_text": "Tensorflow's cuda_diagnostics.cc here assumes that the GPU driver version will match %d.%d.%d but that doesn't seem to be a safe assumption.\n2017-05-04 09:48:39.543664: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:189] libcuda reported version is: Invalid argument: expected %d.%d or %d.%d.%d form for driver version; got \"378.05.05.05\"\n\nIn FindDsoVersion(), TF is parsing the name of the loaded libcuda library to get the version number, and the current Nvidia web driver library is:\n/Library/Frameworks/CUDA.framework/Versions/A/Libraries/libcuda_378.05.05.05_mercury.dylib", "body": "Tensorflow's `cuda_diagnostics.cc` [here](https://github.com/tensorflow/tensorflow/blob/076799bdfae0057723d96f47cf78cb623c8bcd57/tensorflow/stream_executor/cuda/cuda_diagnostics.cc#L82) assumes that the GPU driver version will match `%d.%d.%d` but that doesn't seem to be a safe assumption.\r\n\r\n```\r\n2017-05-04 09:48:39.543664: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:189] libcuda reported version is: Invalid argument: expected %d.%d or %d.%d.%d form for driver version; got \"378.05.05.05\"\r\n```\r\n\r\nIn `FindDsoVersion()`, TF is parsing the name of the loaded libcuda library to get the version number, and the current Nvidia web driver library is:\r\n\r\n    /Library/Frameworks/CUDA.framework/Versions/A/Libraries/libcuda_378.05.05.05_mercury.dylib\r\n"}