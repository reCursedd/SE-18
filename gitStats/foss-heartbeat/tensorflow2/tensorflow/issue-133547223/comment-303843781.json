{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/303843781", "html_url": "https://github.com/tensorflow/tensorflow/issues/1095#issuecomment-303843781", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1095", "id": 303843781, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzg0Mzc4MQ==", "user": {"login": "IFLED", "id": 9903398, "node_id": "MDQ6VXNlcjk5MDMzOTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/9903398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IFLED", "html_url": "https://github.com/IFLED", "followers_url": "https://api.github.com/users/IFLED/followers", "following_url": "https://api.github.com/users/IFLED/following{/other_user}", "gists_url": "https://api.github.com/users/IFLED/gists{/gist_id}", "starred_url": "https://api.github.com/users/IFLED/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IFLED/subscriptions", "organizations_url": "https://api.github.com/users/IFLED/orgs", "repos_url": "https://api.github.com/users/IFLED/repos", "events_url": "https://api.github.com/users/IFLED/events{/privacy}", "received_events_url": "https://api.github.com/users/IFLED/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-24T20:35:04Z", "updated_at": "2017-05-24T20:35:18Z", "author_association": "NONE", "body_html": "<pre><code>import tensorflow as tf\nimport numpy as np\n\ndef myLayer(self, input, name):\n        with tf.variable_scope(name) as scope:\n             d_num = input.get_shape()[-1]\n             d = tf.reshape(input[0][:,:,1], [1,-1])\n             e = tf.py_func(myPyFunc, [d], [tf.float32])\n             e = tf.convert_to_tensor(e)\n             return e\n\ndef myPyFunc(input):\n        print \"===Hahaha===\"\n        return np.float32(0)\n\ninput_tensor = tf.placeholder(tf.float32, (2,2,2,2))\ninput_value = np.ones((2,2,2,2))\n\noutput_tensor = myLayer(\"asdf\", input_tensor, \"asdf\")\n\nwith tf.Session() as sess:\n    print sess.run(output_tensor, { input_tensor : input_value })\n</code></pre>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=12760396\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/CassieMai\">@CassieMai</a>, this code produces the following output:</p>\n<pre><code>===Hahaha===\n[ 0.]\n</code></pre>", "body_text": "import tensorflow as tf\nimport numpy as np\n\ndef myLayer(self, input, name):\n        with tf.variable_scope(name) as scope:\n             d_num = input.get_shape()[-1]\n             d = tf.reshape(input[0][:,:,1], [1,-1])\n             e = tf.py_func(myPyFunc, [d], [tf.float32])\n             e = tf.convert_to_tensor(e)\n             return e\n\ndef myPyFunc(input):\n        print \"===Hahaha===\"\n        return np.float32(0)\n\ninput_tensor = tf.placeholder(tf.float32, (2,2,2,2))\ninput_value = np.ones((2,2,2,2))\n\noutput_tensor = myLayer(\"asdf\", input_tensor, \"asdf\")\n\nwith tf.Session() as sess:\n    print sess.run(output_tensor, { input_tensor : input_value })\n\n@CassieMai, this code produces the following output:\n===Hahaha===\n[ 0.]", "body": "```\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\ndef myLayer(self, input, name):\r\n        with tf.variable_scope(name) as scope:\r\n             d_num = input.get_shape()[-1]\r\n             d = tf.reshape(input[0][:,:,1], [1,-1])\r\n             e = tf.py_func(myPyFunc, [d], [tf.float32])\r\n             e = tf.convert_to_tensor(e)\r\n             return e\r\n\r\ndef myPyFunc(input):\r\n        print \"===Hahaha===\"\r\n        return np.float32(0)\r\n\r\ninput_tensor = tf.placeholder(tf.float32, (2,2,2,2))\r\ninput_value = np.ones((2,2,2,2))\r\n\r\noutput_tensor = myLayer(\"asdf\", input_tensor, \"asdf\")\r\n\r\nwith tf.Session() as sess:\r\n    print sess.run(output_tensor, { input_tensor : input_value })\r\n```\r\n\r\n@CassieMai, this code produces the following output:\r\n```\r\n===Hahaha===\r\n[ 0.]\r\n```\r\n"}