{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/430472688", "html_url": "https://github.com/tensorflow/tensorflow/issues/22528#issuecomment-430472688", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22528", "id": 430472688, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDQ3MjY4OA==", "user": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-17T03:01:13Z", "updated_at": "2018-10-17T03:01:13Z", "author_association": "MEMBER", "body_html": "<p>Hi John, right now we do not have a good solution for any arbritrary model for quantized training. For graphs with Concatenation (in your case) you will need to add FakeQuant nodes (with min max variables) before and after the Concat during training (like what the contrib/quantize rewrtier tries to do) for things to work. That is why we recommend doing post_training_quantize and only resort to trying quantized training if that doesn't work well (also let us know if that doesn't work well )</p>\n<p>We are also working on better quantization tools for fully integer quantization and will keep you posted.</p>", "body_text": "Hi John, right now we do not have a good solution for any arbritrary model for quantized training. For graphs with Concatenation (in your case) you will need to add FakeQuant nodes (with min max variables) before and after the Concat during training (like what the contrib/quantize rewrtier tries to do) for things to work. That is why we recommend doing post_training_quantize and only resort to trying quantized training if that doesn't work well (also let us know if that doesn't work well )\nWe are also working on better quantization tools for fully integer quantization and will keep you posted.", "body": "Hi John, right now we do not have a good solution for any arbritrary model for quantized training. For graphs with Concatenation (in your case) you will need to add FakeQuant nodes (with min max variables) before and after the Concat during training (like what the contrib/quantize rewrtier tries to do) for things to work. That is why we recommend doing post_training_quantize and only resort to trying quantized training if that doesn't work well (also let us know if that doesn't work well )\r\n\r\nWe are also working on better quantization tools for fully integer quantization and will keep you posted."}