{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/325371561", "html_url": "https://github.com/tensorflow/tensorflow/issues/12589#issuecomment-325371561", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12589", "id": 325371561, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTM3MTU2MQ==", "user": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-28T14:36:27Z", "updated_at": "2017-08-28T14:36:27Z", "author_association": "MEMBER", "body_html": "<div class=\"email-fragment\">Right. The problem is your usage of input_map. It has the same behavior as\nfeeding, and it is not valid in tensorflow to remap a variable in the\nmetagraph's input_map.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Sat, Aug 26, 2017 at 12:26 AM, jiqiujia ***@***.***&gt; wrote:\n It fails on line\n\n saver = tf.train.import_meta_graph(latest+'.meta',\n                                    input_map={'a:0':newa},\n                                    import_scope='import')\n\n Here gives you the whole traceback\n T\n\n raceback (most recent call last):\n File \"\", line 1, in\n File \"/home/jqj/anaconda2/lib/python2.7/site-packages/spyder/utils/site/sitecustomize.py\",\n line 880, in runfile\n execfile(filename, namespace)\n File \"/home/jqj/anaconda2/lib/python2.7/site-packages/spyder/utils/site/sitecustomize.py\",\n line 94, in execfile\n builtins.execfile(filename, *where)\n File \"/home/jqj/ad/test.py\", line 163, in\n import_scope='import')\n File \"/home/jqj/anaconda2/lib/python2.7/site-packages/\n tensorflow/python/training/saver.py\", line 1686, in import_meta_graph\n **kwargs)\n File \"/home/jqj/anaconda2/lib/python2.7/site-packages/\n tensorflow/python/framework/meta_graph.py\", line 504, in\n import_scoped_meta_graph\n producer_op_list=producer_op_list)\n File \"/home/jqj/anaconda2/lib/python2.7/site-packages/\n tensorflow/python/framework/importer.py\", line 391, in import_graph_def\n node, 'Input tensor %r %s' % (input_name, te)))\n ValueError: graph_def is invalid at node u'a/Assign': Input tensor 'a:0'\n Cannot convert a tensor of type string to an input of type string_ref.\n\n \u2014\n You are receiving this because you commented.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"252849962\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/12589\" href=\"https://github.com/tensorflow/tensorflow/issues/12589#issuecomment-325083957\">#12589 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AAATxdvZ9IXHYragEkI2wnQU1CLyyH8yks5sb55egaJpZM4PCcir\">https://github.com/notifications/unsubscribe-auth/AAATxdvZ9IXHYragEkI2wnQU1CLyyH8yks5sb55egaJpZM4PCcir</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n<div class=\"email-signature-reply\">-- \n - Alex</div>\n</div>", "body_text": "Right. The problem is your usage of input_map. It has the same behavior as\nfeeding, and it is not valid in tensorflow to remap a variable in the\nmetagraph's input_map.\n\u2026\nOn Sat, Aug 26, 2017 at 12:26 AM, jiqiujia ***@***.***> wrote:\n It fails on line\n\n saver = tf.train.import_meta_graph(latest+'.meta',\n                                    input_map={'a:0':newa},\n                                    import_scope='import')\n\n Here gives you the whole traceback\n T\n\n raceback (most recent call last):\n File \"\", line 1, in\n File \"/home/jqj/anaconda2/lib/python2.7/site-packages/spyder/utils/site/sitecustomize.py\",\n line 880, in runfile\n execfile(filename, namespace)\n File \"/home/jqj/anaconda2/lib/python2.7/site-packages/spyder/utils/site/sitecustomize.py\",\n line 94, in execfile\n builtins.execfile(filename, *where)\n File \"/home/jqj/ad/test.py\", line 163, in\n import_scope='import')\n File \"/home/jqj/anaconda2/lib/python2.7/site-packages/\n tensorflow/python/training/saver.py\", line 1686, in import_meta_graph\n **kwargs)\n File \"/home/jqj/anaconda2/lib/python2.7/site-packages/\n tensorflow/python/framework/meta_graph.py\", line 504, in\n import_scoped_meta_graph\n producer_op_list=producer_op_list)\n File \"/home/jqj/anaconda2/lib/python2.7/site-packages/\n tensorflow/python/framework/importer.py\", line 391, in import_graph_def\n node, 'Input tensor %r %s' % (input_name, te)))\n ValueError: graph_def is invalid at node u'a/Assign': Input tensor 'a:0'\n Cannot convert a tensor of type string to an input of type string_ref.\n\n \u2014\n You are receiving this because you commented.\n Reply to this email directly, view it on GitHub\n <#12589 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/AAATxdvZ9IXHYragEkI2wnQU1CLyyH8yks5sb55egaJpZM4PCcir>\n .\n\n\n-- \n - Alex", "body": "Right. The problem is your usage of input_map. It has the same behavior as\nfeeding, and it is not valid in tensorflow to remap a variable in the\nmetagraph's input_map.\n\nOn Sat, Aug 26, 2017 at 12:26 AM, jiqiujia <notifications@github.com> wrote:\n\n> It fails on line\n>\n> saver = tf.train.import_meta_graph(latest+'.meta',\n>                                    input_map={'a:0':newa},\n>                                    import_scope='import')\n>\n> Here gives you the whole traceback\n> T\n>\n> raceback (most recent call last):\n> File \"\", line 1, in\n> File \"/home/jqj/anaconda2/lib/python2.7/site-packages/spyder/utils/site/sitecustomize.py\",\n> line 880, in runfile\n> execfile(filename, namespace)\n> File \"/home/jqj/anaconda2/lib/python2.7/site-packages/spyder/utils/site/sitecustomize.py\",\n> line 94, in execfile\n> builtins.execfile(filename, *where)\n> File \"/home/jqj/ad/test.py\", line 163, in\n> import_scope='import')\n> File \"/home/jqj/anaconda2/lib/python2.7/site-packages/\n> tensorflow/python/training/saver.py\", line 1686, in import_meta_graph\n> **kwargs)\n> File \"/home/jqj/anaconda2/lib/python2.7/site-packages/\n> tensorflow/python/framework/meta_graph.py\", line 504, in\n> import_scoped_meta_graph\n> producer_op_list=producer_op_list)\n> File \"/home/jqj/anaconda2/lib/python2.7/site-packages/\n> tensorflow/python/framework/importer.py\", line 391, in import_graph_def\n> node, 'Input tensor %r %s' % (input_name, te)))\n> ValueError: graph_def is invalid at node u'a/Assign': Input tensor 'a:0'\n> Cannot convert a tensor of type string to an input of type string_ref.\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/12589#issuecomment-325083957>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAATxdvZ9IXHYragEkI2wnQU1CLyyH8yks5sb55egaJpZM4PCcir>\n> .\n>\n\n\n\n-- \n - Alex\n"}