{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/333031342", "html_url": "https://github.com/tensorflow/tensorflow/issues/11144#issuecomment-333031342", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11144", "id": 333031342, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzAzMTM0Mg==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-29T05:01:05Z", "updated_at": "2017-09-29T05:01:05Z", "author_association": "CONTRIBUTOR", "body_html": "<div class=\"email-fragment\">Then add a time delta argument to the initializer of the PhasedLSTM cell;\nand possibly even an optional start time argument.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Thu, Sep 28, 2017 at 9:45 PM, bingo619 ***@***.***&gt; wrote:\n //MultiRNNCell\n def call(self, inputs, state):\n     \"\"\"Run this multi-layer cell on inputs, starting from state.\"\"\"\n     cur_state_pos = 0\n     cur_inp = inputs\n     new_states = []\n     for i, cell in enumerate(self._cells):\n       with vs.variable_scope(\"cell_%d\" % i):\n         if self._state_is_tuple:\n           if not nest.is_sequence(state):\n             raise ValueError(\n                 \"Expected state to be a tuple of length %d, but received: %s\" %\n                 (len(self.state_size), state))\n           cur_state = state[i]\n         else:\n           cur_state = array_ops.slice(state, [0, cur_state_pos],\n                                       [-1, cell.state_size])\n           cur_state_pos += cell.state_size\n         cur_inp, new_state = cell(cur_inp, cur_state)\n         new_states.append(new_state)\n\n     new_states = (tuple(new_states) if self._state_is_tuple else\n                   array_ops.concat(new_states, 1))\n\n     return cur_inp, new_states\n\n from 2nd layer the time bit is missing, can we feed that?\n\n I think your solution will work, it is just that the time delta is not\n always the same.\n\n Sorry if I understand it wrong.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"239550293\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/11144\" href=\"https://github.com/tensorflow/tensorflow/issues/11144#issuecomment-333029692\">#11144 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/ABtim8OX8rAQhVHoVOvkBMNrTU1pZPWsks5snHXWgaJpZM4OJm39\">https://github.com/notifications/unsubscribe-auth/ABtim8OX8rAQhVHoVOvkBMNrTU1pZPWsks5snHXWgaJpZM4OJm39</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "Then add a time delta argument to the initializer of the PhasedLSTM cell;\nand possibly even an optional start time argument.\n\u2026\nOn Thu, Sep 28, 2017 at 9:45 PM, bingo619 ***@***.***> wrote:\n //MultiRNNCell\n def call(self, inputs, state):\n     \"\"\"Run this multi-layer cell on inputs, starting from state.\"\"\"\n     cur_state_pos = 0\n     cur_inp = inputs\n     new_states = []\n     for i, cell in enumerate(self._cells):\n       with vs.variable_scope(\"cell_%d\" % i):\n         if self._state_is_tuple:\n           if not nest.is_sequence(state):\n             raise ValueError(\n                 \"Expected state to be a tuple of length %d, but received: %s\" %\n                 (len(self.state_size), state))\n           cur_state = state[i]\n         else:\n           cur_state = array_ops.slice(state, [0, cur_state_pos],\n                                       [-1, cell.state_size])\n           cur_state_pos += cell.state_size\n         cur_inp, new_state = cell(cur_inp, cur_state)\n         new_states.append(new_state)\n\n     new_states = (tuple(new_states) if self._state_is_tuple else\n                   array_ops.concat(new_states, 1))\n\n     return cur_inp, new_states\n\n from 2nd layer the time bit is missing, can we feed that?\n\n I think your solution will work, it is just that the time delta is not\n always the same.\n\n Sorry if I understand it wrong.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#11144 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/ABtim8OX8rAQhVHoVOvkBMNrTU1pZPWsks5snHXWgaJpZM4OJm39>\n .", "body": "Then add a time delta argument to the initializer of the PhasedLSTM cell;\nand possibly even an optional start time argument.\n\nOn Thu, Sep 28, 2017 at 9:45 PM, bingo619 <notifications@github.com> wrote:\n\n> //MultiRNNCell\n> def call(self, inputs, state):\n>     \"\"\"Run this multi-layer cell on inputs, starting from state.\"\"\"\n>     cur_state_pos = 0\n>     cur_inp = inputs\n>     new_states = []\n>     for i, cell in enumerate(self._cells):\n>       with vs.variable_scope(\"cell_%d\" % i):\n>         if self._state_is_tuple:\n>           if not nest.is_sequence(state):\n>             raise ValueError(\n>                 \"Expected state to be a tuple of length %d, but received: %s\" %\n>                 (len(self.state_size), state))\n>           cur_state = state[i]\n>         else:\n>           cur_state = array_ops.slice(state, [0, cur_state_pos],\n>                                       [-1, cell.state_size])\n>           cur_state_pos += cell.state_size\n>         cur_inp, new_state = cell(cur_inp, cur_state)\n>         new_states.append(new_state)\n>\n>     new_states = (tuple(new_states) if self._state_is_tuple else\n>                   array_ops.concat(new_states, 1))\n>\n>     return cur_inp, new_states\n>\n> from 2nd layer the time bit is missing, can we feed that?\n>\n> I think your solution will work, it is just that the time delta is not\n> always the same.\n>\n> Sorry if I understand it wrong.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/11144#issuecomment-333029692>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABtim8OX8rAQhVHoVOvkBMNrTU1pZPWsks5snHXWgaJpZM4OJm39>\n> .\n>\n"}