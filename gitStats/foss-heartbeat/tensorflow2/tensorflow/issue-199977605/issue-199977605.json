{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6778", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6778/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6778/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6778/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6778", "id": 199977605, "node_id": "MDU6SXNzdWUxOTk5Nzc2MDU=", "number": 6778, "title": "Parameter to MergeFrom() must be instance of same class: expected TensorProto got Variable. for field Value.tensor", "user": {"login": "chaitanya2692", "id": 8254695, "node_id": "MDQ6VXNlcjgyNTQ2OTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/8254695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chaitanya2692", "html_url": "https://github.com/chaitanya2692", "followers_url": "https://api.github.com/users/chaitanya2692/followers", "following_url": "https://api.github.com/users/chaitanya2692/following{/other_user}", "gists_url": "https://api.github.com/users/chaitanya2692/gists{/gist_id}", "starred_url": "https://api.github.com/users/chaitanya2692/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chaitanya2692/subscriptions", "organizations_url": "https://api.github.com/users/chaitanya2692/orgs", "repos_url": "https://api.github.com/users/chaitanya2692/repos", "events_url": "https://api.github.com/users/chaitanya2692/events{/privacy}", "received_events_url": "https://api.github.com/users/chaitanya2692/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-01-11T01:08:28Z", "updated_at": "2017-01-12T01:52:24Z", "closed_at": "2017-01-11T07:24:14Z", "author_association": "NONE", "body_html": "<p>I am trying to save variables through checkpoints to introduce fault tolerance to my program. The following is my configuration:-</p>\n<pre><code>ChiefSessionCreator = tf.train.ChiefSessionCreator(scaffold=None, master='grpc://localhost:2222', config=None, checkpoint_dir='/home/chaitanya/tensorflow/codes/checkpoints')\nsummary_hook = tf.train.SummarySaverHook(save_steps=None, save_secs=10, output_dir='/home/chaitanya/tensorflow/codes/savepoints', summary_writer=None, scaffold=None, summary_op=tf.Summary(tf.Summary.Value(tensor=y)))\nsaver = tf.train.Saver([tf.Variable(y)])\nsaver_hook = tf.train.CheckpointSaverHook(checkpoint_dir='/home/chaitanya/tensorflow/codes/checkpoints', save_secs=10, save_steps=None, saver=saver, checkpoint_basename='model.ckpt', scaffold=None)\n</code></pre>\n<p>In this, the <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/g3doc/api_docs/python/functions_and_classes/shard2/tf.train.CheckpointSaverHook.md#tftraincheckpointsaverhook__init__checkpoint_dir-save_secsnone-save_stepsnone-savernone-checkpoint_basenamemodelckpt-scaffoldnone-listenersnone-checkpointsaverhookinit\">CheckpointSaveHook</a> saves tf.Variable in saver and <a href=\"https://www.tensorflow.org/versions/master/api_docs/python/train/training_utilities?authuser=2#SummarySaverHook\" rel=\"nofollow\">SummarySaverHook</a> takes a tensor input in summary_op. The error I get is:-</p>\n<pre><code>Traceback (most recent call last):\n  File \"add_1.py\", line 35, in &lt;module&gt;\n    summary_hook = tf.train.SummarySaverHook(save_steps=None, save_secs=10, output_dir='/tensorflow/savepoints', summary_writer=None, scaffold=None, summary_op=tf.Summary(tf.Summary.Value(tensor=y)))\nTypeError: Parameter to MergeFrom() must be instance of same class: expected TensorProto got Tensor. for field Value.tensor\n</code></pre>\n<p>How do I rectify this issue?</p>", "body_text": "I am trying to save variables through checkpoints to introduce fault tolerance to my program. The following is my configuration:-\nChiefSessionCreator = tf.train.ChiefSessionCreator(scaffold=None, master='grpc://localhost:2222', config=None, checkpoint_dir='/home/chaitanya/tensorflow/codes/checkpoints')\nsummary_hook = tf.train.SummarySaverHook(save_steps=None, save_secs=10, output_dir='/home/chaitanya/tensorflow/codes/savepoints', summary_writer=None, scaffold=None, summary_op=tf.Summary(tf.Summary.Value(tensor=y)))\nsaver = tf.train.Saver([tf.Variable(y)])\nsaver_hook = tf.train.CheckpointSaverHook(checkpoint_dir='/home/chaitanya/tensorflow/codes/checkpoints', save_secs=10, save_steps=None, saver=saver, checkpoint_basename='model.ckpt', scaffold=None)\n\nIn this, the CheckpointSaveHook saves tf.Variable in saver and SummarySaverHook takes a tensor input in summary_op. The error I get is:-\nTraceback (most recent call last):\n  File \"add_1.py\", line 35, in <module>\n    summary_hook = tf.train.SummarySaverHook(save_steps=None, save_secs=10, output_dir='/tensorflow/savepoints', summary_writer=None, scaffold=None, summary_op=tf.Summary(tf.Summary.Value(tensor=y)))\nTypeError: Parameter to MergeFrom() must be instance of same class: expected TensorProto got Tensor. for field Value.tensor\n\nHow do I rectify this issue?", "body": "I am trying to save variables through checkpoints to introduce fault tolerance to my program. The following is my configuration:-\r\n\r\n```\r\nChiefSessionCreator = tf.train.ChiefSessionCreator(scaffold=None, master='grpc://localhost:2222', config=None, checkpoint_dir='/home/chaitanya/tensorflow/codes/checkpoints')\r\nsummary_hook = tf.train.SummarySaverHook(save_steps=None, save_secs=10, output_dir='/home/chaitanya/tensorflow/codes/savepoints', summary_writer=None, scaffold=None, summary_op=tf.Summary(tf.Summary.Value(tensor=y)))\r\nsaver = tf.train.Saver([tf.Variable(y)])\r\nsaver_hook = tf.train.CheckpointSaverHook(checkpoint_dir='/home/chaitanya/tensorflow/codes/checkpoints', save_secs=10, save_steps=None, saver=saver, checkpoint_basename='model.ckpt', scaffold=None)\r\n```\r\n\r\nIn this, the [CheckpointSaveHook](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/g3doc/api_docs/python/functions_and_classes/shard2/tf.train.CheckpointSaverHook.md#tftraincheckpointsaverhook__init__checkpoint_dir-save_secsnone-save_stepsnone-savernone-checkpoint_basenamemodelckpt-scaffoldnone-listenersnone-checkpointsaverhookinit) saves tf.Variable in saver and [SummarySaverHook](https://www.tensorflow.org/versions/master/api_docs/python/train/training_utilities?authuser=2#SummarySaverHook) takes a tensor input in summary_op. The error I get is:-\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"add_1.py\", line 35, in <module>\r\n    summary_hook = tf.train.SummarySaverHook(save_steps=None, save_secs=10, output_dir='/tensorflow/savepoints', summary_writer=None, scaffold=None, summary_op=tf.Summary(tf.Summary.Value(tensor=y)))\r\nTypeError: Parameter to MergeFrom() must be instance of same class: expected TensorProto got Tensor. for field Value.tensor\r\n```\r\n\r\nHow do I rectify this issue?"}