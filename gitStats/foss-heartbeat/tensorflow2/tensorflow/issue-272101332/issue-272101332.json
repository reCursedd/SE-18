{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14349", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14349/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14349/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14349/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14349", "id": 272101332, "node_id": "MDU6SXNzdWUyNzIxMDEzMzI=", "number": 14349, "title": "The efficiency of data access", "user": {"login": "adeagle", "id": 8304772, "node_id": "MDQ6VXNlcjgzMDQ3NzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8304772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adeagle", "html_url": "https://github.com/adeagle", "followers_url": "https://api.github.com/users/adeagle/followers", "following_url": "https://api.github.com/users/adeagle/following{/other_user}", "gists_url": "https://api.github.com/users/adeagle/gists{/gist_id}", "starred_url": "https://api.github.com/users/adeagle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adeagle/subscriptions", "organizations_url": "https://api.github.com/users/adeagle/orgs", "repos_url": "https://api.github.com/users/adeagle/repos", "events_url": "https://api.github.com/users/adeagle/events{/privacy}", "received_events_url": "https://api.github.com/users/adeagle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-08T07:41:42Z", "updated_at": "2017-11-08T17:53:48Z", "closed_at": "2017-11-08T17:53:48Z", "author_association": "NONE", "body_html": "<p>def test_tf():<br>\nwith  tf.Session() as sess:<br>\narray=tf.ones([1024,5],dtype=tf.float32)<br>\nt0=time.clock()<br>\nout=0<br>\nfor i in range(array.shape[0]):<br>\nout+=array[i]<br>\nout=sess.run([out])<br>\nt1=time.clock()<br>\nprint(\"test_tf:\",out,t1-t0)</p>\n<p>def test_np():<br>\narray=np.ones((1024,5),dtype=np.float32)<br>\nprint array.shape<br>\nt0=time.clock()<br>\nout=0<br>\nfor i in range(array.shape[0]):<br>\nout+=array[i]<br>\nt1=time.clock()<br>\nprint(\"test_np:\",out,t1-t0)</p>\n<p>console output:<br>\n('test_tf:', [array([ 1024.,  1024.,  1024.,  1024.,  1024.], dtype=float32)], 2.395962)<br>\n(1024, 5)<br>\n('test_np:', array([ 1024.,  1024.,  1024.,  1024.,  1024.], dtype=float32), 0.0008499999999997954)</p>\n<p>how to speed up the data access?</p>", "body_text": "def test_tf():\nwith  tf.Session() as sess:\narray=tf.ones([1024,5],dtype=tf.float32)\nt0=time.clock()\nout=0\nfor i in range(array.shape[0]):\nout+=array[i]\nout=sess.run([out])\nt1=time.clock()\nprint(\"test_tf:\",out,t1-t0)\ndef test_np():\narray=np.ones((1024,5),dtype=np.float32)\nprint array.shape\nt0=time.clock()\nout=0\nfor i in range(array.shape[0]):\nout+=array[i]\nt1=time.clock()\nprint(\"test_np:\",out,t1-t0)\nconsole output:\n('test_tf:', [array([ 1024.,  1024.,  1024.,  1024.,  1024.], dtype=float32)], 2.395962)\n(1024, 5)\n('test_np:', array([ 1024.,  1024.,  1024.,  1024.,  1024.], dtype=float32), 0.0008499999999997954)\nhow to speed up the data access?", "body": "   \r\ndef test_tf():\r\n    with  tf.Session() as sess:\r\n        array=tf.ones([1024,5],dtype=tf.float32) \r\n        t0=time.clock()\r\n        out=0\r\n        for i in range(array.shape[0]):\r\n            out+=array[i]\r\n        out=sess.run([out])\r\n        t1=time.clock()\r\n        print(\"test_tf:\",out,t1-t0)  \r\n     \r\ndef test_np():\r\n    array=np.ones((1024,5),dtype=np.float32)\r\n    print array.shape\r\n    t0=time.clock()\r\n    out=0\r\n    for i in range(array.shape[0]):\r\n        out+=array[i]\r\n    t1=time.clock()\r\n    print(\"test_np:\",out,t1-t0)  \r\n                        \r\nconsole output:\r\n('test_tf:', [array([ 1024.,  1024.,  1024.,  1024.,  1024.], dtype=float32)], 2.395962)\r\n(1024, 5)\r\n('test_np:', array([ 1024.,  1024.,  1024.,  1024.,  1024.], dtype=float32), 0.0008499999999997954)\r\n\r\nhow to speed up the data access?"}