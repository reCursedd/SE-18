{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/325806424", "html_url": "https://github.com/tensorflow/tensorflow/issues/9661#issuecomment-325806424", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9661", "id": 325806424, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTgwNjQyNA==", "user": {"login": "lissyx", "id": 1645737, "node_id": "MDQ6VXNlcjE2NDU3Mzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1645737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lissyx", "html_url": "https://github.com/lissyx", "followers_url": "https://api.github.com/users/lissyx/followers", "following_url": "https://api.github.com/users/lissyx/following{/other_user}", "gists_url": "https://api.github.com/users/lissyx/gists{/gist_id}", "starred_url": "https://api.github.com/users/lissyx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lissyx/subscriptions", "organizations_url": "https://api.github.com/users/lissyx/orgs", "repos_url": "https://api.github.com/users/lissyx/repos", "events_url": "https://api.github.com/users/lissyx/events{/privacy}", "received_events_url": "https://api.github.com/users/lissyx/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-29T21:15:05Z", "updated_at": "2017-08-29T21:16:34Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I'm not sure about your error. What does <code>file bazel-out/local-opt/genfiles/test_graph_build/test_graph_tfmatmul.o</code> says? It should be some ARM64/iOS stuff I guess. However, the error <code>\"+neon-fp-armv8' is not a recognized feature for this target (ignoring feature)</code> would indicate that you might be trying to issue some ARMv6.</p>\n<p>According to <code>tensorflow/tensorflow.bzl</code>, the <code>//tensorflow:ios</code> should be the proper way to check. The fact that you have those <code>+neon-fp-armv8</code> errors would indicate that it does not gets selected.</p>\n<p>My best bet is that you should not be using ld.gold but your arch's ld. In our case, we disable the test and benchmark binaries with <code>gen_test=False, gen_benchmark=False</code>. You should make sure you have properly configured Tensorflow for cross-compiling for iOS (you should not see the warnings about <code>+neon-fp-armv8</code>). And then you may want to disable test and benchmark binaries, in case it is still unable to properly cross-build them.</p>", "body_text": "I'm not sure about your error. What does file bazel-out/local-opt/genfiles/test_graph_build/test_graph_tfmatmul.o says? It should be some ARM64/iOS stuff I guess. However, the error \"+neon-fp-armv8' is not a recognized feature for this target (ignoring feature) would indicate that you might be trying to issue some ARMv6.\nAccording to tensorflow/tensorflow.bzl, the //tensorflow:ios should be the proper way to check. The fact that you have those +neon-fp-armv8 errors would indicate that it does not gets selected.\nMy best bet is that you should not be using ld.gold but your arch's ld. In our case, we disable the test and benchmark binaries with gen_test=False, gen_benchmark=False. You should make sure you have properly configured Tensorflow for cross-compiling for iOS (you should not see the warnings about +neon-fp-armv8). And then you may want to disable test and benchmark binaries, in case it is still unable to properly cross-build them.", "body": "I'm not sure about your error. What does `file bazel-out/local-opt/genfiles/test_graph_build/test_graph_tfmatmul.o` says? It should be some ARM64/iOS stuff I guess. However, the error `\"+neon-fp-armv8' is not a recognized feature for this target (ignoring feature)` would indicate that you might be trying to issue some ARMv6.\r\n\r\nAccording to `tensorflow/tensorflow.bzl`, the `//tensorflow:ios` should be the proper way to check. The fact that you have those `+neon-fp-armv8` errors would indicate that it does not gets selected.\r\n\r\nMy best bet is that you should not be using ld.gold but your arch's ld. In our case, we disable the test and benchmark binaries with `gen_test=False, gen_benchmark=False`. You should make sure you have properly configured Tensorflow for cross-compiling for iOS (you should not see the warnings about `+neon-fp-armv8`). And then you may want to disable test and benchmark binaries, in case it is still unable to properly cross-build them."}