{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2748", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2748/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2748/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2748/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2748", "id": 159325576, "node_id": "MDU6SXNzdWUxNTkzMjU1NzY=", "number": 2748, "title": "Skflow monitor bug?", "user": {"login": "mochenyang", "id": 9277435, "node_id": "MDQ6VXNlcjkyNzc0MzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/9277435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mochenyang", "html_url": "https://github.com/mochenyang", "followers_url": "https://api.github.com/users/mochenyang/followers", "following_url": "https://api.github.com/users/mochenyang/following{/other_user}", "gists_url": "https://api.github.com/users/mochenyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/mochenyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mochenyang/subscriptions", "organizations_url": "https://api.github.com/users/mochenyang/orgs", "repos_url": "https://api.github.com/users/mochenyang/repos", "events_url": "https://api.github.com/users/mochenyang/events{/privacy}", "received_events_url": "https://api.github.com/users/mochenyang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2016-06-09T04:23:03Z", "updated_at": "2016-08-19T13:48:49Z", "closed_at": "2016-08-15T23:30:36Z", "author_association": "NONE", "body_html": "<p>I tried to use the monitor functionality from the <a href=\"http://ci.tensorflow.org/view/Nightly/job/nightly-matrix-cpu/TF_BUILD_CONTAINER_TYPE=CPU,TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=cpu-slave/lastStableBuild/\" rel=\"nofollow\">latest build of tensorflow</a>, in order to keep track of validation loss. Here is my code:</p>\n<p>`classifier = learn.TensorFlowRNNClassifier(rnn_size=EMBEDDING_SIZE, n_classes=8, cell_type='gru', input_op_fn=input_op_fn, num_layers=3, bidirectional=False, sequence_length=None, batch_size=50, steps=2000, optimizer='Adam', learning_rate=exp_decay, continue_training=False, clip_gradients=5.0)</p>\n<p>val_monitor = learn.monitors.ValidationMonitor(X_test, y_test)</p>\n<p>classifier.fit(X_train, y_train, val_monitor, logdir='log_rnn')`</p>\n<p>Here is the error message:</p>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"/home/yangmch/Documents/FB word2vec/RNN/FB RNN.py\", line 38, in <br>\nclassifier.fit(X_train, y_train, val_monitor, logdir='log_rnn')<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 160, in fit<br>\nmonitors=monitors)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 498, in _train_model<br>\nmonitors=monitors)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/graph_actions.py\", line 225, in train<br>\nmonitor.begin(max_steps=start_step + steps)<br>\nTypeError: unsupported operand type(s) for +: 'int' and 'ValidationMonitor'</p>\n</blockquote>", "body_text": "I tried to use the monitor functionality from the latest build of tensorflow, in order to keep track of validation loss. Here is my code:\n`classifier = learn.TensorFlowRNNClassifier(rnn_size=EMBEDDING_SIZE, n_classes=8, cell_type='gru', input_op_fn=input_op_fn, num_layers=3, bidirectional=False, sequence_length=None, batch_size=50, steps=2000, optimizer='Adam', learning_rate=exp_decay, continue_training=False, clip_gradients=5.0)\nval_monitor = learn.monitors.ValidationMonitor(X_test, y_test)\nclassifier.fit(X_train, y_train, val_monitor, logdir='log_rnn')`\nHere is the error message:\n\nTraceback (most recent call last):\nFile \"/home/yangmch/Documents/FB word2vec/RNN/FB RNN.py\", line 38, in \nclassifier.fit(X_train, y_train, val_monitor, logdir='log_rnn')\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 160, in fit\nmonitors=monitors)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 498, in _train_model\nmonitors=monitors)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/graph_actions.py\", line 225, in train\nmonitor.begin(max_steps=start_step + steps)\nTypeError: unsupported operand type(s) for +: 'int' and 'ValidationMonitor'", "body": "I tried to use the monitor functionality from the [latest build of tensorflow](http://ci.tensorflow.org/view/Nightly/job/nightly-matrix-cpu/TF_BUILD_CONTAINER_TYPE=CPU,TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=cpu-slave/lastStableBuild/), in order to keep track of validation loss. Here is my code:\n\n`classifier = learn.TensorFlowRNNClassifier(rnn_size=EMBEDDING_SIZE, n_classes=8, cell_type='gru', input_op_fn=input_op_fn, num_layers=3, bidirectional=False, sequence_length=None, batch_size=50, steps=2000, optimizer='Adam', learning_rate=exp_decay, continue_training=False, clip_gradients=5.0)\n\nval_monitor = learn.monitors.ValidationMonitor(X_test, y_test)\n\nclassifier.fit(X_train, y_train, val_monitor, logdir='log_rnn')`\n\nHere is the error message:\n\n> Traceback (most recent call last):\n>   File \"/home/yangmch/Documents/FB word2vec/RNN/FB RNN.py\", line 38, in <module>\n>     classifier.fit(X_train, y_train, val_monitor, logdir='log_rnn')\n>   File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 160, in fit\n>     monitors=monitors)\n>   File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 498, in _train_model\n>     monitors=monitors)\n>   File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/graph_actions.py\", line 225, in train\n>     monitor.begin(max_steps=start_step + steps)\n> TypeError: unsupported operand type(s) for +: 'int' and 'ValidationMonitor'\n"}