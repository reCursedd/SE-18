{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6354", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6354/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6354/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6354/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/6354", "id": 195994197, "node_id": "MDExOlB1bGxSZXF1ZXN0OTgyODc0Mzk=", "number": 6354, "title": "fix cuda DNN lib path for mac", "user": {"login": "K75gTJnoDY0e", "id": 11240505, "node_id": "MDQ6VXNlcjExMjQwNTA1", "avatar_url": "https://avatars1.githubusercontent.com/u/11240505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/K75gTJnoDY0e", "html_url": "https://github.com/K75gTJnoDY0e", "followers_url": "https://api.github.com/users/K75gTJnoDY0e/followers", "following_url": "https://api.github.com/users/K75gTJnoDY0e/following{/other_user}", "gists_url": "https://api.github.com/users/K75gTJnoDY0e/gists{/gist_id}", "starred_url": "https://api.github.com/users/K75gTJnoDY0e/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/K75gTJnoDY0e/subscriptions", "organizations_url": "https://api.github.com/users/K75gTJnoDY0e/orgs", "repos_url": "https://api.github.com/users/K75gTJnoDY0e/repos", "events_url": "https://api.github.com/users/K75gTJnoDY0e/events{/privacy}", "received_events_url": "https://api.github.com/users/K75gTJnoDY0e/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2016-12-16T07:02:00Z", "updated_at": "2017-01-08T18:52:18Z", "closed_at": "2017-01-08T18:52:18Z", "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6354", "html_url": "https://github.com/tensorflow/tensorflow/pull/6354", "diff_url": "https://github.com/tensorflow/tensorflow/pull/6354.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/6354.patch"}, "body_html": "<p><a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/ddedb9e094fe3c0e942fdf9d70c21d4df87f8c35/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/ddedb9e094fe3c0e942fdf9d70c21d4df87f8c35\"><tt>ddedb9e</tt></a> introduced an error providing a non-existent lib.</p>\n<p>From the Tensorflow docs:<br>\n<a href=\"https://www.tensorflow.org/get_started/os_setup\" rel=\"nofollow\">https://www.tensorflow.org/get_started/os_setup</a> under the section: Optional: Setup GPU for Mac:</p>\n<blockquote>\n<p>Finally, you will also want to install the CUDA Deep Neural Network (cuDNN v5) library which currently requires an Accelerated Computing Developer Program account. Once you have it downloaded locally, you can unzip and move the header and libraries to your local CUDA Toolkit folder:</p>\n<pre><code>$ sudo mv include/cudnn.h /Developer/NVIDIA/CUDA-8.0/include/\n$ sudo mv lib/libcudnn* /Developer/NVIDIA/CUDA-8.0/lib\n$ sudo ln -s /Developer/NVIDIA/CUDA-8.0/lib/libcudnn* /usr/local/cuda/lib/\n</code></pre>\n</blockquote>\n<p>The cuDNN v5 library provided by Nvidia at <a href=\"https://developer.nvidia.com/rdp/cudnn-download\" rel=\"nofollow\">https://developer.nvidia.com/rdp/cudnn-download</a>, <code>cudnn-8.0-osx-x64-v5.1.tgz</code>, has <code>libcudnn.5.dylib</code>, not <code>libcudnn.5</code>.</p>\n<p>Here's the output of ./configure, run on a Macbook Pro 10.11.6:</p>\n<p>Before (buggy) version that gets stuck on specifying the cuDNN path:</p>\n<pre><code>\u279c  tensorflow git:(master) ./configure\n~/os/tensorflow ~/os/tensorflow\nPlease specify the location of python. [Default is /usr/bin/python]:\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]\nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\n  /Library/Python/2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python]\n\nUsing python library path: /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\nDo you wish to build TensorFlow with OpenCL support? [y/N]\nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] y\nCUDA support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]:\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5\nPlease specify the location where cuDNN 5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /Developer/NVIDIA/CUDA-8.0/\nInvalid path to cuDNN  toolkit. Neither of the following two files can be found:\n/Developer/NVIDIA/CUDA-8.0/lib/libcudnn.5\n/Developer/NVIDIA/CUDA-8.0/libcudnn.5\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]:\n</code></pre>\n<p>After my changes:</p>\n<pre><code>\u279c  tensorflow git:(master) ./configure\n~/os/tensorflow ~/os/tensorflow\nPlease specify the location of python. [Default is /usr/bin/python]:\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]\nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\n  /Library/Python/2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python]\n\nUsing python library path: /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\nDo you wish to build TensorFlow with OpenCL support? [y/N]\nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] y\nCUDA support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]:\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5\nPlease specify the location where cuDNN 5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /Developer/NVIDIA/CUDA-8.0/\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 3.0\n............\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\n........\n____Loading package: tensorflow\n____Loading package: tensorflow/contrib/tfprof/python/tools/tfprof\n____Downloading http://bazel-mirror.storage.googleapis.com/github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz: 157,769 bytes\n[truncated]\nConfiguration finished\n</code></pre>", "body_text": "ddedb9e introduced an error providing a non-existent lib.\nFrom the Tensorflow docs:\nhttps://www.tensorflow.org/get_started/os_setup under the section: Optional: Setup GPU for Mac:\n\nFinally, you will also want to install the CUDA Deep Neural Network (cuDNN v5) library which currently requires an Accelerated Computing Developer Program account. Once you have it downloaded locally, you can unzip and move the header and libraries to your local CUDA Toolkit folder:\n$ sudo mv include/cudnn.h /Developer/NVIDIA/CUDA-8.0/include/\n$ sudo mv lib/libcudnn* /Developer/NVIDIA/CUDA-8.0/lib\n$ sudo ln -s /Developer/NVIDIA/CUDA-8.0/lib/libcudnn* /usr/local/cuda/lib/\n\n\nThe cuDNN v5 library provided by Nvidia at https://developer.nvidia.com/rdp/cudnn-download, cudnn-8.0-osx-x64-v5.1.tgz, has libcudnn.5.dylib, not libcudnn.5.\nHere's the output of ./configure, run on a Macbook Pro 10.11.6:\nBefore (buggy) version that gets stuck on specifying the cuDNN path:\n\u279c  tensorflow git:(master) ./configure\n~/os/tensorflow ~/os/tensorflow\nPlease specify the location of python. [Default is /usr/bin/python]:\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]\nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\n  /Library/Python/2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python]\n\nUsing python library path: /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\nDo you wish to build TensorFlow with OpenCL support? [y/N]\nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] y\nCUDA support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]:\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5\nPlease specify the location where cuDNN 5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /Developer/NVIDIA/CUDA-8.0/\nInvalid path to cuDNN  toolkit. Neither of the following two files can be found:\n/Developer/NVIDIA/CUDA-8.0/lib/libcudnn.5\n/Developer/NVIDIA/CUDA-8.0/libcudnn.5\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]:\n\nAfter my changes:\n\u279c  tensorflow git:(master) ./configure\n~/os/tensorflow ~/os/tensorflow\nPlease specify the location of python. [Default is /usr/bin/python]:\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]\nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\n  /Library/Python/2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python]\n\nUsing python library path: /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\nDo you wish to build TensorFlow with OpenCL support? [y/N]\nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] y\nCUDA support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]:\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5\nPlease specify the location where cuDNN 5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /Developer/NVIDIA/CUDA-8.0/\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 3.0\n............\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\n........\n____Loading package: tensorflow\n____Loading package: tensorflow/contrib/tfprof/python/tools/tfprof\n____Downloading http://bazel-mirror.storage.googleapis.com/github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz: 157,769 bytes\n[truncated]\nConfiguration finished", "body": "https://github.com/tensorflow/tensorflow/commit/ddedb9e094fe3c0e942fdf9d70c21d4df87f8c35 introduced an error providing a non-existent lib.\r\n\r\nFrom the Tensorflow docs:\r\nhttps://www.tensorflow.org/get_started/os_setup under the section: Optional: Setup GPU for Mac:\r\n\r\n> Finally, you will also want to install the CUDA Deep Neural Network (cuDNN v5) library which currently requires an Accelerated Computing Developer Program account. Once you have it downloaded locally, you can unzip and move the header and libraries to your local CUDA Toolkit folder:\r\n> \r\n> ```\r\n> $ sudo mv include/cudnn.h /Developer/NVIDIA/CUDA-8.0/include/\r\n> $ sudo mv lib/libcudnn* /Developer/NVIDIA/CUDA-8.0/lib\r\n> $ sudo ln -s /Developer/NVIDIA/CUDA-8.0/lib/libcudnn* /usr/local/cuda/lib/\r\n> ```\r\n\r\nThe cuDNN v5 library provided by Nvidia at https://developer.nvidia.com/rdp/cudnn-download, `cudnn-8.0-osx-x64-v5.1.tgz`, has `libcudnn.5.dylib`, not `libcudnn.5`. \r\n\r\n\r\nHere's the output of ./configure, run on a Macbook Pro 10.11.6:\r\n\r\nBefore (buggy) version that gets stuck on specifying the cuDNN path: \r\n\r\n```\r\n\u279c  tensorflow git:(master) ./configure\r\n~/os/tensorflow ~/os/tensorflow\r\nPlease specify the location of python. [Default is /usr/bin/python]:\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\r\nNo Google Cloud Platform support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]\r\nNo Hadoop File System support will be enabled for TensorFlow\r\nFound possible Python library paths:\r\n  /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\r\n  /Library/Python/2.7/site-packages\r\nPlease input the desired Python library path to use.  Default is [/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python]\r\n\r\nUsing python library path: /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\r\nDo you wish to build TensorFlow with OpenCL support? [y/N]\r\nNo OpenCL support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with CUDA support? [y/N] y\r\nCUDA support will be enabled for TensorFlow\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\r\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]:\r\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\r\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5\r\nPlease specify the location where cuDNN 5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /Developer/NVIDIA/CUDA-8.0/\r\nInvalid path to cuDNN  toolkit. Neither of the following two files can be found:\r\n/Developer/NVIDIA/CUDA-8.0/lib/libcudnn.5\r\n/Developer/NVIDIA/CUDA-8.0/libcudnn.5\r\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]:\r\n```\r\n\r\nAfter my changes:\r\n\r\n\r\n```\r\n\u279c  tensorflow git:(master) ./configure\r\n~/os/tensorflow ~/os/tensorflow\r\nPlease specify the location of python. [Default is /usr/bin/python]:\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\r\nNo Google Cloud Platform support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]\r\nNo Hadoop File System support will be enabled for TensorFlow\r\nFound possible Python library paths:\r\n  /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\r\n  /Library/Python/2.7/site-packages\r\nPlease input the desired Python library path to use.  Default is [/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python]\r\n\r\nUsing python library path: /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python\r\nDo you wish to build TensorFlow with OpenCL support? [y/N]\r\nNo OpenCL support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with CUDA support? [y/N] y\r\nCUDA support will be enabled for TensorFlow\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\r\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]:\r\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\r\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5\r\nPlease specify the location where cuDNN 5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /Developer/NVIDIA/CUDA-8.0/\r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size.\r\n[Default is: \"3.5,5.2\"]: 3.0\r\n............\r\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\r\n........\r\n____Loading package: tensorflow\r\n____Loading package: tensorflow/contrib/tfprof/python/tools/tfprof\r\n____Downloading http://bazel-mirror.storage.googleapis.com/github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz: 157,769 bytes\r\n[truncated]\r\nConfiguration finished\r\n```\r\n"}