{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/326784890", "html_url": "https://github.com/tensorflow/tensorflow/pull/12771#issuecomment-326784890", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12771", "id": 326784890, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjc4NDg5MA==", "user": {"login": "ArtsiomCh", "id": 14268320, "node_id": "MDQ6VXNlcjE0MjY4MzIw", "avatar_url": "https://avatars1.githubusercontent.com/u/14268320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArtsiomCh", "html_url": "https://github.com/ArtsiomCh", "followers_url": "https://api.github.com/users/ArtsiomCh/followers", "following_url": "https://api.github.com/users/ArtsiomCh/following{/other_user}", "gists_url": "https://api.github.com/users/ArtsiomCh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArtsiomCh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArtsiomCh/subscriptions", "organizations_url": "https://api.github.com/users/ArtsiomCh/orgs", "repos_url": "https://api.github.com/users/ArtsiomCh/repos", "events_url": "https://api.github.com/users/ArtsiomCh/events{/privacy}", "received_events_url": "https://api.github.com/users/ArtsiomCh/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-03T05:12:03Z", "updated_at": "2017-09-03T05:12:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Just did force push. Looks like it solved the mess. :)<br>\nMy second commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/84218e21424d64078c5dc2102443a1d66e4233b6/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/84218e21424d64078c5dc2102443a1d66e4233b6\"><tt>84218e2</tt></a> add call of <code>startRecording()</code> for the API&lt;23. Originally it was called only at <code>onRequestPermissionsResult()</code> which is never executed when API&lt;23, so Recording thread was never invoked.<br>\nUnfortunately, even after that fix, I can see through the debugger (and injecting some additional Log output into the code) that recognition works but do not animate label at <code>labelsListView</code> on the Activity screen.<br>\nFor me it looks like the problem is somewhere inside that piece of code:</p>\n<div class=\"highlight highlight-source-java\"><pre><span class=\"pl-c1\">...</span>\n                <span class=\"pl-k\">final</span> <span class=\"pl-smi\">View</span> labelView <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">View</span>) labelsListView<span class=\"pl-k\">.</span>getChildAt(labelIndex <span class=\"pl-k\">-</span> <span class=\"pl-c1\">2</span>);\n                <span class=\"pl-smi\">ValueAnimator</span> colorAnimation <span class=\"pl-k\">=</span>\n                     <span class=\"pl-smi\">ValueAnimator</span><span class=\"pl-k\">.</span>ofArgb(<span class=\"pl-c1\">0x00b3ccff</span>, <span class=\"pl-c1\">0xffb3ccff</span>, <span class=\"pl-c1\">0x00b3ccff</span>);\n                colorAnimation<span class=\"pl-k\">.</span>setDuration(<span class=\"pl-c1\">750</span>);\n                colorAnimation<span class=\"pl-k\">.</span>addUpdateListener(\n                    <span class=\"pl-k\">new</span> <span class=\"pl-smi\">ValueAnimator</span>.<span class=\"pl-smi\">AnimatorUpdateListener</span>() {\n                      <span class=\"pl-k\">@Override</span>\n                      <span class=\"pl-k\">public</span> <span class=\"pl-k\">void</span> <span class=\"pl-en\">onAnimationUpdate</span>(<span class=\"pl-smi\">ValueAnimator</span> <span class=\"pl-v\">animator</span>) {\n                        labelView<span class=\"pl-k\">.</span>setBackgroundColor((<span class=\"pl-k\">int</span>) animator<span class=\"pl-k\">.</span>getAnimatedValue());\n                      }\n                    });\n                colorAnimation<span class=\"pl-k\">.</span>start();\n<span class=\"pl-c1\">...</span></pre></div>", "body_text": "Just did force push. Looks like it solved the mess. :)\nMy second commit 84218e2 add call of startRecording() for the API<23. Originally it was called only at onRequestPermissionsResult() which is never executed when API<23, so Recording thread was never invoked.\nUnfortunately, even after that fix, I can see through the debugger (and injecting some additional Log output into the code) that recognition works but do not animate label at labelsListView on the Activity screen.\nFor me it looks like the problem is somewhere inside that piece of code:\n...\n                final View labelView = (View) labelsListView.getChildAt(labelIndex - 2);\n                ValueAnimator colorAnimation =\n                     ValueAnimator.ofArgb(0x00b3ccff, 0xffb3ccff, 0x00b3ccff);\n                colorAnimation.setDuration(750);\n                colorAnimation.addUpdateListener(\n                    new ValueAnimator.AnimatorUpdateListener() {\n                      @Override\n                      public void onAnimationUpdate(ValueAnimator animator) {\n                        labelView.setBackgroundColor((int) animator.getAnimatedValue());\n                      }\n                    });\n                colorAnimation.start();\n...", "body": "Just did force push. Looks like it solved the mess. :)\r\nMy second commit 84218e21424d64078c5dc2102443a1d66e4233b6 add call of `startRecording()` for the API<23. Originally it was called only at `onRequestPermissionsResult()` which is never executed when API<23, so Recording thread was never invoked.\r\nUnfortunately, even after that fix, I can see through the debugger (and injecting some additional Log output into the code) that recognition works but do not animate label at `labelsListView` on the Activity screen. \r\nFor me it looks like the problem is somewhere inside that piece of code:\r\n```Java\r\n...\r\n                final View labelView = (View) labelsListView.getChildAt(labelIndex - 2);\r\n                ValueAnimator colorAnimation =\r\n                     ValueAnimator.ofArgb(0x00b3ccff, 0xffb3ccff, 0x00b3ccff);\r\n                colorAnimation.setDuration(750);\r\n                colorAnimation.addUpdateListener(\r\n                    new ValueAnimator.AnimatorUpdateListener() {\r\n                      @Override\r\n                      public void onAnimationUpdate(ValueAnimator animator) {\r\n                        labelView.setBackgroundColor((int) animator.getAnimatedValue());\r\n                      }\r\n                    });\r\n                colorAnimation.start();\r\n...\r\n```"}