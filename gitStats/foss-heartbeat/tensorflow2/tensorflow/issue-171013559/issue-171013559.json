{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3795", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3795/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3795/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3795/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3795", "id": 171013559, "node_id": "MDU6SXNzdWUxNzEwMTM1NTk=", "number": 3795, "title": "Unable to connect jupyter notebook within tensorflow container in AWS", "user": {"login": "tobegit3hub", "id": 2715000, "node_id": "MDQ6VXNlcjI3MTUwMDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/2715000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobegit3hub", "html_url": "https://github.com/tobegit3hub", "followers_url": "https://api.github.com/users/tobegit3hub/followers", "following_url": "https://api.github.com/users/tobegit3hub/following{/other_user}", "gists_url": "https://api.github.com/users/tobegit3hub/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobegit3hub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobegit3hub/subscriptions", "organizations_url": "https://api.github.com/users/tobegit3hub/orgs", "repos_url": "https://api.github.com/users/tobegit3hub/repos", "events_url": "https://api.github.com/users/tobegit3hub/events{/privacy}", "received_events_url": "https://api.github.com/users/tobegit3hub/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-08-13T15:26:48Z", "updated_at": "2016-08-15T05:11:32Z", "closed_at": "2016-08-15T05:11:32Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Currently we found that the <a href=\"https://hub.docker.com/r/tensorflow/tensorflow/\" rel=\"nofollow\">tensorflow/tensorflow</a> does not work in AWS. I can access the port and open the jupyter website but could not <code>connect to the kernel</code>.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/2715000/17644038/a3160972-61ae-11e6-8ef6-1bbca7804cc2.png\"><img src=\"https://cloud.githubusercontent.com/assets/2715000/17644038/a3160972-61ae-11e6-8ef6-1bbca7804cc2.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/2715000/17644040/a9745ed6-61ae-11e6-8cf0-c9b772cc9f0e.png\"><img src=\"https://cloud.githubusercontent.com/assets/2715000/17644040/a9745ed6-61ae-11e6-8cf0-c9b772cc9f0e.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>\n<p>The logs of that container look like these.</p>\n<pre><code>root# docker run -p 30100:8888 tensorflow/tensorflow\n[I 15:09:48.070 NotebookApp] Writing notebook server cookie secret to /root/.local/share/jupyter/runtime/notebook_cookie_secret\n/usr/local/lib/python2.7/dist-packages/widgetsnbextension/__init__.py:30: UserWarning: To use the jupyter-js-widgets nbextension, you'll need to update\n    the Jupyter notebook to version 4.2 or later.\n  the Jupyter notebook to version 4.2 or later.\"\"\")\n[W 15:09:48.114 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using encryption. This is not recommended.\n[W 15:09:48.114 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using authentication. This is highly insecure and not recommended.\n[I 15:09:48.120 NotebookApp] Serving notebooks from local directory: /notebooks\n[I 15:09:48.120 NotebookApp] 0 active kernels\n[I 15:09:48.120 NotebookApp] The Jupyter Notebook is running at: http://[all ip addresses on your system]:8888/\n[I 15:09:48.120 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).\n[I 15:09:59.446 NotebookApp] 302 GET / (10.2.201.72) 0.79ms\n[I 15:10:25.276 NotebookApp] Writing notebook-signing key to /root/.local/share/jupyter/notebook_secret\n[W 15:10:25.283 NotebookApp] Notebook 3_mnist_from_scratch.ipynb is not trusted\n[W 15:10:25.611 NotebookApp] 404 GET /nbextensions/widgets/notebook/js/extension.js?v=20160813150948 (10.2.201.72) 7.44ms referer=http://10.69.1.246:30100/notebooks/3_mnist_from_scratch.ipynb\n[I 15:10:28.037 NotebookApp] Kernel started: b2421ec2-2411-4b3a-9d49-83f4ec41a3ed\n</code></pre>\n<p>It doesn't work even if I try with <code>--net=host</code>. But it works for my local Linux server. The logs look like similar and I'm not sure if it is related to AWS's network or jupyter's configuration.</p>\n<pre><code>\u279c  sudo docker run -p 30100:8888 tensorflow/tensorflow\n[I 15:16:47.063 NotebookApp] Writing notebook server cookie secret to /root/.local/share/jupyter/runtime/notebook_cookie_secret\n/usr/local/lib/python2.7/dist-packages/widgetsnbextension/__init__.py:30: UserWarning: To use the jupyter-js-widgets nbextension, you'll need to update\n    the Jupyter notebook to version 4.2 or later.\n  the Jupyter notebook to version 4.2 or later.\"\"\")\n[W 15:16:47.100 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using encryption. This is not recommended.\n[W 15:16:47.100 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using authentication. This is highly insecure and not recommended.\n[I 15:16:47.106 NotebookApp] Serving notebooks from local directory: /notebooks\n[I 15:16:47.106 NotebookApp] 0 active kernels\n[I 15:16:47.106 NotebookApp] The Jupyter Notebook is running at: http://[all ip addresses on your system]:8888/\n[I 15:16:47.106 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).\n[I 15:17:25.033 NotebookApp] 302 GET / (10.235.212.35) 1.53ms\n[I 15:17:35.355 NotebookApp] Writing notebook-signing key to /root/.local/share/jupyter/notebook_secret\n[W 15:17:35.361 NotebookApp] Notebook 3_mnist_from_scratch.ipynb is not trusted\n[W 15:17:35.408 NotebookApp] 404 GET /nbextensions/widgets/notebook/js/extension.js?v=20160813151647 (10.235.212.35) 5.66ms referer=http://tomi:30100/notebooks/3_mnist_from_scratch.ipynb\n[I 15:17:37.307 NotebookApp] Kernel started: 952cac82-1a79-4446-b73e-728d5505d8a5\n</code></pre>\n<h3>Environment info</h3>\n<p>Operating System: AWS ubuntu 14.04</p>\n<p>TensorFlow 0.9</p>\n<h3>Steps to reproduce</h3>\n<ol>\n<li><code>docker run -p 30100:8888 tensorflow/tensorflow</code> in AWS instances</li>\n<li>Go to <code>$ip:30100</code> in the browser</li>\n<li>Click any notebook</li>\n</ol>\n<h3>What have you tried?</h3>\n<ol>\n<li>Trying in local Linux server rather than AWS instances should work.</li>\n</ol>", "body_text": "Currently we found that the tensorflow/tensorflow does not work in AWS. I can access the port and open the jupyter website but could not connect to the kernel.\n\n\nThe logs of that container look like these.\nroot# docker run -p 30100:8888 tensorflow/tensorflow\n[I 15:09:48.070 NotebookApp] Writing notebook server cookie secret to /root/.local/share/jupyter/runtime/notebook_cookie_secret\n/usr/local/lib/python2.7/dist-packages/widgetsnbextension/__init__.py:30: UserWarning: To use the jupyter-js-widgets nbextension, you'll need to update\n    the Jupyter notebook to version 4.2 or later.\n  the Jupyter notebook to version 4.2 or later.\"\"\")\n[W 15:09:48.114 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using encryption. This is not recommended.\n[W 15:09:48.114 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using authentication. This is highly insecure and not recommended.\n[I 15:09:48.120 NotebookApp] Serving notebooks from local directory: /notebooks\n[I 15:09:48.120 NotebookApp] 0 active kernels\n[I 15:09:48.120 NotebookApp] The Jupyter Notebook is running at: http://[all ip addresses on your system]:8888/\n[I 15:09:48.120 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).\n[I 15:09:59.446 NotebookApp] 302 GET / (10.2.201.72) 0.79ms\n[I 15:10:25.276 NotebookApp] Writing notebook-signing key to /root/.local/share/jupyter/notebook_secret\n[W 15:10:25.283 NotebookApp] Notebook 3_mnist_from_scratch.ipynb is not trusted\n[W 15:10:25.611 NotebookApp] 404 GET /nbextensions/widgets/notebook/js/extension.js?v=20160813150948 (10.2.201.72) 7.44ms referer=http://10.69.1.246:30100/notebooks/3_mnist_from_scratch.ipynb\n[I 15:10:28.037 NotebookApp] Kernel started: b2421ec2-2411-4b3a-9d49-83f4ec41a3ed\n\nIt doesn't work even if I try with --net=host. But it works for my local Linux server. The logs look like similar and I'm not sure if it is related to AWS's network or jupyter's configuration.\n\u279c  sudo docker run -p 30100:8888 tensorflow/tensorflow\n[I 15:16:47.063 NotebookApp] Writing notebook server cookie secret to /root/.local/share/jupyter/runtime/notebook_cookie_secret\n/usr/local/lib/python2.7/dist-packages/widgetsnbextension/__init__.py:30: UserWarning: To use the jupyter-js-widgets nbextension, you'll need to update\n    the Jupyter notebook to version 4.2 or later.\n  the Jupyter notebook to version 4.2 or later.\"\"\")\n[W 15:16:47.100 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using encryption. This is not recommended.\n[W 15:16:47.100 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using authentication. This is highly insecure and not recommended.\n[I 15:16:47.106 NotebookApp] Serving notebooks from local directory: /notebooks\n[I 15:16:47.106 NotebookApp] 0 active kernels\n[I 15:16:47.106 NotebookApp] The Jupyter Notebook is running at: http://[all ip addresses on your system]:8888/\n[I 15:16:47.106 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).\n[I 15:17:25.033 NotebookApp] 302 GET / (10.235.212.35) 1.53ms\n[I 15:17:35.355 NotebookApp] Writing notebook-signing key to /root/.local/share/jupyter/notebook_secret\n[W 15:17:35.361 NotebookApp] Notebook 3_mnist_from_scratch.ipynb is not trusted\n[W 15:17:35.408 NotebookApp] 404 GET /nbextensions/widgets/notebook/js/extension.js?v=20160813151647 (10.235.212.35) 5.66ms referer=http://tomi:30100/notebooks/3_mnist_from_scratch.ipynb\n[I 15:17:37.307 NotebookApp] Kernel started: 952cac82-1a79-4446-b73e-728d5505d8a5\n\nEnvironment info\nOperating System: AWS ubuntu 14.04\nTensorFlow 0.9\nSteps to reproduce\n\ndocker run -p 30100:8888 tensorflow/tensorflow in AWS instances\nGo to $ip:30100 in the browser\nClick any notebook\n\nWhat have you tried?\n\nTrying in local Linux server rather than AWS instances should work.", "body": "Currently we found that the [tensorflow/tensorflow](https://hub.docker.com/r/tensorflow/tensorflow/) does not work in AWS. I can access the port and open the jupyter website but could not `connect to the kernel`.\n\n![image](https://cloud.githubusercontent.com/assets/2715000/17644038/a3160972-61ae-11e6-8ef6-1bbca7804cc2.png)\n\n![image](https://cloud.githubusercontent.com/assets/2715000/17644040/a9745ed6-61ae-11e6-8cf0-c9b772cc9f0e.png)\n\nThe logs of that container look like these.\n\n```\nroot# docker run -p 30100:8888 tensorflow/tensorflow\n[I 15:09:48.070 NotebookApp] Writing notebook server cookie secret to /root/.local/share/jupyter/runtime/notebook_cookie_secret\n/usr/local/lib/python2.7/dist-packages/widgetsnbextension/__init__.py:30: UserWarning: To use the jupyter-js-widgets nbextension, you'll need to update\n    the Jupyter notebook to version 4.2 or later.\n  the Jupyter notebook to version 4.2 or later.\"\"\")\n[W 15:09:48.114 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using encryption. This is not recommended.\n[W 15:09:48.114 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using authentication. This is highly insecure and not recommended.\n[I 15:09:48.120 NotebookApp] Serving notebooks from local directory: /notebooks\n[I 15:09:48.120 NotebookApp] 0 active kernels\n[I 15:09:48.120 NotebookApp] The Jupyter Notebook is running at: http://[all ip addresses on your system]:8888/\n[I 15:09:48.120 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).\n[I 15:09:59.446 NotebookApp] 302 GET / (10.2.201.72) 0.79ms\n[I 15:10:25.276 NotebookApp] Writing notebook-signing key to /root/.local/share/jupyter/notebook_secret\n[W 15:10:25.283 NotebookApp] Notebook 3_mnist_from_scratch.ipynb is not trusted\n[W 15:10:25.611 NotebookApp] 404 GET /nbextensions/widgets/notebook/js/extension.js?v=20160813150948 (10.2.201.72) 7.44ms referer=http://10.69.1.246:30100/notebooks/3_mnist_from_scratch.ipynb\n[I 15:10:28.037 NotebookApp] Kernel started: b2421ec2-2411-4b3a-9d49-83f4ec41a3ed\n```\n\nIt doesn't work even if I try with `--net=host`. But it works for my local Linux server. The logs look like similar and I'm not sure if it is related to AWS's network or jupyter's configuration.\n\n```\n\u279c  sudo docker run -p 30100:8888 tensorflow/tensorflow\n[I 15:16:47.063 NotebookApp] Writing notebook server cookie secret to /root/.local/share/jupyter/runtime/notebook_cookie_secret\n/usr/local/lib/python2.7/dist-packages/widgetsnbextension/__init__.py:30: UserWarning: To use the jupyter-js-widgets nbextension, you'll need to update\n    the Jupyter notebook to version 4.2 or later.\n  the Jupyter notebook to version 4.2 or later.\"\"\")\n[W 15:16:47.100 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using encryption. This is not recommended.\n[W 15:16:47.100 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using authentication. This is highly insecure and not recommended.\n[I 15:16:47.106 NotebookApp] Serving notebooks from local directory: /notebooks\n[I 15:16:47.106 NotebookApp] 0 active kernels\n[I 15:16:47.106 NotebookApp] The Jupyter Notebook is running at: http://[all ip addresses on your system]:8888/\n[I 15:16:47.106 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).\n[I 15:17:25.033 NotebookApp] 302 GET / (10.235.212.35) 1.53ms\n[I 15:17:35.355 NotebookApp] Writing notebook-signing key to /root/.local/share/jupyter/notebook_secret\n[W 15:17:35.361 NotebookApp] Notebook 3_mnist_from_scratch.ipynb is not trusted\n[W 15:17:35.408 NotebookApp] 404 GET /nbextensions/widgets/notebook/js/extension.js?v=20160813151647 (10.235.212.35) 5.66ms referer=http://tomi:30100/notebooks/3_mnist_from_scratch.ipynb\n[I 15:17:37.307 NotebookApp] Kernel started: 952cac82-1a79-4446-b73e-728d5505d8a5\n```\n### Environment info\n\nOperating System: AWS ubuntu 14.04\n\nTensorFlow 0.9\n### Steps to reproduce\n1. `docker run -p 30100:8888 tensorflow/tensorflow` in AWS instances\n2. Go to `$ip:30100` in the browser\n3. Click any notebook\n### What have you tried?\n1. Trying in local Linux server rather than AWS instances should work.\n"}