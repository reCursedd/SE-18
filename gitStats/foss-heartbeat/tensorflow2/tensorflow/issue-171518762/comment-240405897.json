{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/240405897", "html_url": "https://github.com/tensorflow/tensorflow/issues/3857#issuecomment-240405897", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3857", "id": 240405897, "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDQwNTg5Nw==", "user": {"login": "michael-barrow", "id": 20428997, "node_id": "MDQ6VXNlcjIwNDI4OTk3", "avatar_url": "https://avatars1.githubusercontent.com/u/20428997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michael-barrow", "html_url": "https://github.com/michael-barrow", "followers_url": "https://api.github.com/users/michael-barrow/followers", "following_url": "https://api.github.com/users/michael-barrow/following{/other_user}", "gists_url": "https://api.github.com/users/michael-barrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/michael-barrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michael-barrow/subscriptions", "organizations_url": "https://api.github.com/users/michael-barrow/orgs", "repos_url": "https://api.github.com/users/michael-barrow/repos", "events_url": "https://api.github.com/users/michael-barrow/events{/privacy}", "received_events_url": "https://api.github.com/users/michael-barrow/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-17T13:10:43Z", "updated_at": "2016-08-17T13:10:43Z", "author_association": "NONE", "body_html": "<p>I was informed that this is an unsupported useage of tensorflow. Here is a snippet that was sent which does compile but uses tensors instead of Eigen::MatrixEigen::Qint32,X,X. Many thanks to <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6969686\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/benoitsteiner\">@benoitsteiner</a>  <g-emoji class=\"g-emoji\" alias=\"+1\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f44d.png\">\ud83d\udc4d</g-emoji></p>\n<p>\"I managed to get the following code to compile by calling gcc -I . -mavx2  test.cpp -std=c++11  -o test_contract:\"</p>\n<pre><code>#include &lt;Eigen/Dense&gt;\n#define EIGEN_VECTORIZE_AVX\n#define EIGEN_VECTORIZE_AVX2\n#include &lt;unsupported/Eigen/CXX11/Tensor&gt;\n#include &lt;unsupported/Eigen/CXX11/FixedPoint&gt;\n\nint main(int argc, char* argv[])\n{\n  Eigen::QInt8 dbg((float)1.5), dbg2((float)2.5), dbg3;\n  Eigen::Tensor&lt;Eigen::QInt8,2&gt; one;\n  Eigen::Tensor&lt;Eigen::QUInt8,2&gt; two;\n\n  Eigen::Tensor&lt;Eigen::QInt32,2&gt; three;\n  Eigen::Tensor&lt;Eigen::QInt8,2&gt; four;\n\n  dbg3 = dbg + dbg2;\n  dbg3 = dbg * dbg2;\n  dbg3 = dbg - dbg2;\n\n  Eigen::array&lt;Eigen::Tensor&lt;Eigen::QInt32,2&gt;::DimensionPair, 1&gt; contract_dims;\n  contract_dims[0] = Eigen::Tensor&lt;Eigen::QInt32,2&gt;::DimensionPair(1, 0);\n  three = one.contract(two, contract_dims);\n\n  // still doesn't work.\n  //    three = one.contract(four, contract_dims);\n\n    return 0;\n}\n</code></pre>", "body_text": "I was informed that this is an unsupported useage of tensorflow. Here is a snippet that was sent which does compile but uses tensors instead of Eigen::MatrixEigen::Qint32,X,X. Many thanks to @benoitsteiner  \ud83d\udc4d\n\"I managed to get the following code to compile by calling gcc -I . -mavx2  test.cpp -std=c++11  -o test_contract:\"\n#include <Eigen/Dense>\n#define EIGEN_VECTORIZE_AVX\n#define EIGEN_VECTORIZE_AVX2\n#include <unsupported/Eigen/CXX11/Tensor>\n#include <unsupported/Eigen/CXX11/FixedPoint>\n\nint main(int argc, char* argv[])\n{\n  Eigen::QInt8 dbg((float)1.5), dbg2((float)2.5), dbg3;\n  Eigen::Tensor<Eigen::QInt8,2> one;\n  Eigen::Tensor<Eigen::QUInt8,2> two;\n\n  Eigen::Tensor<Eigen::QInt32,2> three;\n  Eigen::Tensor<Eigen::QInt8,2> four;\n\n  dbg3 = dbg + dbg2;\n  dbg3 = dbg * dbg2;\n  dbg3 = dbg - dbg2;\n\n  Eigen::array<Eigen::Tensor<Eigen::QInt32,2>::DimensionPair, 1> contract_dims;\n  contract_dims[0] = Eigen::Tensor<Eigen::QInt32,2>::DimensionPair(1, 0);\n  three = one.contract(two, contract_dims);\n\n  // still doesn't work.\n  //    three = one.contract(four, contract_dims);\n\n    return 0;\n}", "body": "I was informed that this is an unsupported useage of tensorflow. Here is a snippet that was sent which does compile but uses tensors instead of Eigen::MatrixEigen::Qint32,X,X. Many thanks to @benoitsteiner  :+1: \n\n\"I managed to get the following code to compile by calling gcc -I . -mavx2  test.cpp -std=c++11  -o test_contract:\"\n\n```\n#include <Eigen/Dense>\n#define EIGEN_VECTORIZE_AVX\n#define EIGEN_VECTORIZE_AVX2\n#include <unsupported/Eigen/CXX11/Tensor>\n#include <unsupported/Eigen/CXX11/FixedPoint>\n\nint main(int argc, char* argv[])\n{\n  Eigen::QInt8 dbg((float)1.5), dbg2((float)2.5), dbg3;\n  Eigen::Tensor<Eigen::QInt8,2> one;\n  Eigen::Tensor<Eigen::QUInt8,2> two;\n\n  Eigen::Tensor<Eigen::QInt32,2> three;\n  Eigen::Tensor<Eigen::QInt8,2> four;\n\n  dbg3 = dbg + dbg2;\n  dbg3 = dbg * dbg2;\n  dbg3 = dbg - dbg2;\n\n  Eigen::array<Eigen::Tensor<Eigen::QInt32,2>::DimensionPair, 1> contract_dims;\n  contract_dims[0] = Eigen::Tensor<Eigen::QInt32,2>::DimensionPair(1, 0);\n  three = one.contract(two, contract_dims);\n\n  // still doesn't work.\n  //    three = one.contract(four, contract_dims);\n\n    return 0;\n}\n```\n"}