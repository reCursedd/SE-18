{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/296421843", "html_url": "https://github.com/tensorflow/tensorflow/issues/3947#issuecomment-296421843", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3947", "id": 296421843, "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjQyMTg0Mw==", "user": {"login": "soloice", "id": 8534653, "node_id": "MDQ6VXNlcjg1MzQ2NTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8534653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soloice", "html_url": "https://github.com/soloice", "followers_url": "https://api.github.com/users/soloice/followers", "following_url": "https://api.github.com/users/soloice/following{/other_user}", "gists_url": "https://api.github.com/users/soloice/gists{/gist_id}", "starred_url": "https://api.github.com/users/soloice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soloice/subscriptions", "organizations_url": "https://api.github.com/users/soloice/orgs", "repos_url": "https://api.github.com/users/soloice/repos", "events_url": "https://api.github.com/users/soloice/events{/privacy}", "received_events_url": "https://api.github.com/users/soloice/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-23T05:59:30Z", "updated_at": "2017-04-23T06:00:05Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=37837640\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Haruna1998\">@Haruna1998</a> I think there maybe a workaround.<br>\nYou can split a sparse tensor then concatenate some parts of it.<br>\nFor example:</p>\n<pre><code>indices = [[0, 0], [1,4], [2, 3], [3, 2]]\nvalues = [1.0, 2.0, 3.0, 4.0]\n# Take the first 3 rows as training set, and the last 1 row as validation set\nnum_training_samples, num_validation_samples = 3, 1\nst = tf.SparseTensor(indices, values, dense_shape=(4, 5))\nst_rows = tf.sparse_split(sp_input=st, num_split=4, axis=0)\ntraining_sparse_tensor = tf.sparse_concat(axis=0, sp_inputs=st_rows[:num_training_samples])\nvalidation_sparse_tensor = tf.sparse_concat(axis=0, sp_inputs=st_rows[-num_validation_samples:])\n</code></pre>\n<p>Note: not tested. But it should work.</p>", "body_text": "@Haruna1998 I think there maybe a workaround.\nYou can split a sparse tensor then concatenate some parts of it.\nFor example:\nindices = [[0, 0], [1,4], [2, 3], [3, 2]]\nvalues = [1.0, 2.0, 3.0, 4.0]\n# Take the first 3 rows as training set, and the last 1 row as validation set\nnum_training_samples, num_validation_samples = 3, 1\nst = tf.SparseTensor(indices, values, dense_shape=(4, 5))\nst_rows = tf.sparse_split(sp_input=st, num_split=4, axis=0)\ntraining_sparse_tensor = tf.sparse_concat(axis=0, sp_inputs=st_rows[:num_training_samples])\nvalidation_sparse_tensor = tf.sparse_concat(axis=0, sp_inputs=st_rows[-num_validation_samples:])\n\nNote: not tested. But it should work.", "body": "@haruna1998 I think there maybe a workaround.\r\nYou can split a sparse tensor then concatenate some parts of it.\r\nFor example:\r\n```\r\nindices = [[0, 0], [1,4], [2, 3], [3, 2]]\r\nvalues = [1.0, 2.0, 3.0, 4.0]\r\n# Take the first 3 rows as training set, and the last 1 row as validation set\r\nnum_training_samples, num_validation_samples = 3, 1\r\nst = tf.SparseTensor(indices, values, dense_shape=(4, 5))\r\nst_rows = tf.sparse_split(sp_input=st, num_split=4, axis=0)\r\ntraining_sparse_tensor = tf.sparse_concat(axis=0, sp_inputs=st_rows[:num_training_samples])\r\nvalidation_sparse_tensor = tf.sparse_concat(axis=0, sp_inputs=st_rows[-num_validation_samples:])\r\n```\r\nNote: not tested. But it should work."}