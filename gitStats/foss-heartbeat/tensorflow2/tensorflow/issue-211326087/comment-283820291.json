{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/283820291", "html_url": "https://github.com/tensorflow/tensorflow/issues/8003#issuecomment-283820291", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8003", "id": 283820291, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzgyMDI5MQ==", "user": {"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-02T23:48:47Z", "updated_at": "2017-03-02T23:48:47Z", "author_association": "MEMBER", "body_html": "<p>Thanks for reporting the issue <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=11813885\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fuhuamosi\">@fuhuamosi</a> !</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=17184992\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/MicaelCarvalho\">@MicaelCarvalho</a> is exactly right.  In general, it's impossible for <code>tf.case</code> to know the output shape in all scenarios.</p>\n<p>It's true that in the original example, it looks \"easy\" to infer the output shape.  But the trade-off is the additional code complexity to implement this behavior, that only works for a handful of scenarios.  In typical real usage of <code>tf.case</code>, we either won't be able to infer the output shape, or the output shape isn't actually necessary statically.</p>\n<p>Closing this out since we won't be implementing this.  If you feel I've made a mistake, feel free to comment on this issue, and I'll re-open it.  Thanks!</p>", "body_text": "Thanks for reporting the issue @fuhuamosi !\n@MicaelCarvalho is exactly right.  In general, it's impossible for tf.case to know the output shape in all scenarios.\nIt's true that in the original example, it looks \"easy\" to infer the output shape.  But the trade-off is the additional code complexity to implement this behavior, that only works for a handful of scenarios.  In typical real usage of tf.case, we either won't be able to infer the output shape, or the output shape isn't actually necessary statically.\nClosing this out since we won't be implementing this.  If you feel I've made a mistake, feel free to comment on this issue, and I'll re-open it.  Thanks!", "body": "Thanks for reporting the issue @fuhuamosi !\r\n\r\n@MicaelCarvalho is exactly right.  In general, it's impossible for `tf.case` to know the output shape in all scenarios.\r\n\r\nIt's true that in the original example, it looks \"easy\" to infer the output shape.  But the trade-off is the additional code complexity to implement this behavior, that only works for a handful of scenarios.  In typical real usage of `tf.case`, we either won't be able to infer the output shape, or the output shape isn't actually necessary statically.\r\n\r\nClosing this out since we won't be implementing this.  If you feel I've made a mistake, feel free to comment on this issue, and I'll re-open it.  Thanks!"}