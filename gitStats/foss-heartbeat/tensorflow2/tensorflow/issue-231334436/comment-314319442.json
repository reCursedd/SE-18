{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/314319442", "html_url": "https://github.com/tensorflow/tensorflow/issues/10192#issuecomment-314319442", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10192", "id": 314319442, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDMxOTQ0Mg==", "user": {"login": "JieHe96", "id": 10534493, "node_id": "MDQ6VXNlcjEwNTM0NDkz", "avatar_url": "https://avatars3.githubusercontent.com/u/10534493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JieHe96", "html_url": "https://github.com/JieHe96", "followers_url": "https://api.github.com/users/JieHe96/followers", "following_url": "https://api.github.com/users/JieHe96/following{/other_user}", "gists_url": "https://api.github.com/users/JieHe96/gists{/gist_id}", "starred_url": "https://api.github.com/users/JieHe96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JieHe96/subscriptions", "organizations_url": "https://api.github.com/users/JieHe96/orgs", "repos_url": "https://api.github.com/users/JieHe96/repos", "events_url": "https://api.github.com/users/JieHe96/events{/privacy}", "received_events_url": "https://api.github.com/users/JieHe96/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-11T04:26:45Z", "updated_at": "2017-07-11T04:26:45Z", "author_association": "NONE", "body_html": "<p>Try this:<br>\nin the (your tensorflow root)/tensorflow/contrib/makefile/Makefile<br>\nremove the line \"-D__ANDROID_TYPES_SLIM__ \" under \"# Settings for iOS.\" for all \"$(IOS_ARCH)\"<br>\nthen recompile the libtensorflow-core.a according to the modified Makefile.</p>\n<p>The reason why this happened is because:<br>\nin tensorflow/core/kernels/cwise_ops_common.h<br>\n#if defined(ANDROID_TYPES_SLIM)<br>\n// Note that ANDROID_TYPES_SLIM is also checked in the cwise_ops*.cc files.<br>\n// Normally Android TensorFlow is built with a reduced number of types (float).<br>\n// Override on the command-line \"--define ANDROID_TYPES=ANDROID_TYPES_FULL\"<br>\n// to generate a library with full type support with a consequent increase in<br>\n// code size.<br>\n#define REGISTER2(OP, D, N, F, T0, T1) REGISTER(OP, D, N, F, T0)<br>\n#define REGISTER3(OP, D, N, F, T0, T1, T2) REGISTER(OP, D, N, F, T0)<br>\n#define REGISTER4(OP, D, N, F, T0, T1, T2, T3) REGISTER(OP, D, N, F, T0)<br>\n#define REGISTER5(OP, D, N, F, T0, T1, T2, T3, T4) REGISTER(OP, D, N, F, T0)<br>\n#define REGISTER6(OP, D, N, F, T0, T1, T2, T3, T4, T5) REGISTER(OP, D, N, F, T0)<br>\n#define REGISTER7(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6)<br>\nREGISTER(OP, D, N, F, T0)<br>\n#define REGISTER8(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7)<br>\nREGISTER(OP, D, N, F, T0)<br>\n#define REGISTER9(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7, T8)<br>\nREGISTER(OP, D, N, F, T0)<br>\n#else // !defined(ANDROID_TYPES_SLIM)</p>\n<p>(ps: I also wrote a iOS_SSDMobilenet example base on the python ssd_mobilenet and ios_camera_example, and here is the github link: @<a href=\"https://github.com/JieHe96/ios_SSDMobilenet_tensorflow_example\">https://github.com/JieHe96/ios_SSDMobilenet_tensorflow_example</a>)</p>", "body_text": "Try this:\nin the (your tensorflow root)/tensorflow/contrib/makefile/Makefile\nremove the line \"-D__ANDROID_TYPES_SLIM__ \" under \"# Settings for iOS.\" for all \"$(IOS_ARCH)\"\nthen recompile the libtensorflow-core.a according to the modified Makefile.\nThe reason why this happened is because:\nin tensorflow/core/kernels/cwise_ops_common.h\n#if defined(ANDROID_TYPES_SLIM)\n// Note that ANDROID_TYPES_SLIM is also checked in the cwise_ops*.cc files.\n// Normally Android TensorFlow is built with a reduced number of types (float).\n// Override on the command-line \"--define ANDROID_TYPES=ANDROID_TYPES_FULL\"\n// to generate a library with full type support with a consequent increase in\n// code size.\n#define REGISTER2(OP, D, N, F, T0, T1) REGISTER(OP, D, N, F, T0)\n#define REGISTER3(OP, D, N, F, T0, T1, T2) REGISTER(OP, D, N, F, T0)\n#define REGISTER4(OP, D, N, F, T0, T1, T2, T3) REGISTER(OP, D, N, F, T0)\n#define REGISTER5(OP, D, N, F, T0, T1, T2, T3, T4) REGISTER(OP, D, N, F, T0)\n#define REGISTER6(OP, D, N, F, T0, T1, T2, T3, T4, T5) REGISTER(OP, D, N, F, T0)\n#define REGISTER7(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6)\nREGISTER(OP, D, N, F, T0)\n#define REGISTER8(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7)\nREGISTER(OP, D, N, F, T0)\n#define REGISTER9(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7, T8)\nREGISTER(OP, D, N, F, T0)\n#else // !defined(ANDROID_TYPES_SLIM)\n(ps: I also wrote a iOS_SSDMobilenet example base on the python ssd_mobilenet and ios_camera_example, and here is the github link: @https://github.com/JieHe96/ios_SSDMobilenet_tensorflow_example)", "body": "Try this:\r\nin the (your tensorflow root)/tensorflow/contrib/makefile/Makefile\r\nremove the line \"-D__ANDROID_TYPES_SLIM__ \" under \"# Settings for iOS.\" for all \"$(IOS_ARCH)\"\r\nthen recompile the libtensorflow-core.a according to the modified Makefile.\r\n\r\nThe reason why this happened is because:\r\nin tensorflow/core/kernels/cwise_ops_common.h\r\n#if defined(ANDROID_TYPES_SLIM)\r\n// Note that ANDROID_TYPES_SLIM is also checked in the cwise_ops*.cc files.\r\n// Normally Android TensorFlow is built with a reduced number of types (float).\r\n// Override on the command-line \"--define ANDROID_TYPES=ANDROID_TYPES_FULL\"\r\n// to generate a library with full type support with a consequent increase in\r\n// code size.\r\n#define REGISTER2(OP, D, N, F, T0, T1) REGISTER(OP, D, N, F, T0)\r\n#define REGISTER3(OP, D, N, F, T0, T1, T2) REGISTER(OP, D, N, F, T0)\r\n#define REGISTER4(OP, D, N, F, T0, T1, T2, T3) REGISTER(OP, D, N, F, T0)\r\n#define REGISTER5(OP, D, N, F, T0, T1, T2, T3, T4) REGISTER(OP, D, N, F, T0)\r\n#define REGISTER6(OP, D, N, F, T0, T1, T2, T3, T4, T5) REGISTER(OP, D, N, F, T0)\r\n#define REGISTER7(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6) \r\nREGISTER(OP, D, N, F, T0)\r\n#define REGISTER8(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7) \r\nREGISTER(OP, D, N, F, T0)\r\n#define REGISTER9(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7, T8) \r\nREGISTER(OP, D, N, F, T0)\r\n#else // !defined(ANDROID_TYPES_SLIM)\r\n\r\n(ps: I also wrote a iOS_SSDMobilenet example base on the python ssd_mobilenet and ios_camera_example, and here is the github link: @https://github.com/JieHe96/ios_SSDMobilenet_tensorflow_example)"}