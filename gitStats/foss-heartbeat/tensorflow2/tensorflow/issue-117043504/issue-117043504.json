{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/238", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/238/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/238/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/238", "id": 117043504, "node_id": "MDU6SXNzdWUxMTcwNDM1MDQ=", "number": 238, "title": "Empty input to conv2d causes floating point exception", "user": {"login": "hojonathanho", "id": 1063767, "node_id": "MDQ6VXNlcjEwNjM3Njc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1063767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hojonathanho", "html_url": "https://github.com/hojonathanho", "followers_url": "https://api.github.com/users/hojonathanho/followers", "following_url": "https://api.github.com/users/hojonathanho/following{/other_user}", "gists_url": "https://api.github.com/users/hojonathanho/gists{/gist_id}", "starred_url": "https://api.github.com/users/hojonathanho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hojonathanho/subscriptions", "organizations_url": "https://api.github.com/users/hojonathanho/orgs", "repos_url": "https://api.github.com/users/hojonathanho/repos", "events_url": "https://api.github.com/users/hojonathanho/events{/privacy}", "received_events_url": "https://api.github.com/users/hojonathanho/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-11-16T03:20:47Z", "updated_at": "2015-11-18T00:23:51Z", "closed_at": "2015-11-17T17:50:32Z", "author_association": "NONE", "body_html": "<p>When empty data is passed into conv2d, the following is displayed, and the program quits:</p>\n<pre><code>Floating point exception (core dumped)\n</code></pre>\n<p>This problem occurs on both Mac (10.9) and Linux (Ubuntu 12.04) in CPU mode (I haven't tried GPU). Here is code that reproduces the problem.</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> numpy <span class=\"pl-k\">as</span> np\n<span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\nx <span class=\"pl-k\">=</span> tf.placeholder(tf.float32, <span class=\"pl-v\">shape</span><span class=\"pl-k\">=</span>[<span class=\"pl-c1\">None</span>, <span class=\"pl-c1\">28</span>, <span class=\"pl-c1\">28</span>, <span class=\"pl-c1\">1</span>])\nconv1_weights <span class=\"pl-k\">=</span> tf.Variable(tf.truncated_normal([<span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">32</span>], <span class=\"pl-v\">stddev</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">0.1</span>))\nconv <span class=\"pl-k\">=</span> tf.nn.conv2d(x, conv1_weights, <span class=\"pl-v\">strides</span><span class=\"pl-k\">=</span>[<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>], <span class=\"pl-v\">padding</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>SAME<span class=\"pl-pds\">'</span></span>)\n\n<span class=\"pl-k\">with</span> tf.Session() <span class=\"pl-k\">as</span> sess:\n    tf.initialize_all_variables().run()\n    sess.run([conv], {x: np.empty((<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">28</span>, <span class=\"pl-c1\">28</span>, <span class=\"pl-c1\">1</span>))})</pre></div>", "body_text": "When empty data is passed into conv2d, the following is displayed, and the program quits:\nFloating point exception (core dumped)\n\nThis problem occurs on both Mac (10.9) and Linux (Ubuntu 12.04) in CPU mode (I haven't tried GPU). Here is code that reproduces the problem.\nimport numpy as np\nimport tensorflow as tf\n\nx = tf.placeholder(tf.float32, shape=[None, 28, 28, 1])\nconv1_weights = tf.Variable(tf.truncated_normal([5, 5, 1, 32], stddev=0.1))\nconv = tf.nn.conv2d(x, conv1_weights, strides=[1, 1, 1, 1], padding='SAME')\n\nwith tf.Session() as sess:\n    tf.initialize_all_variables().run()\n    sess.run([conv], {x: np.empty((0, 28, 28, 1))})", "body": "When empty data is passed into conv2d, the following is displayed, and the program quits:\n\n```\nFloating point exception (core dumped)\n```\n\nThis problem occurs on both Mac (10.9) and Linux (Ubuntu 12.04) in CPU mode (I haven't tried GPU). Here is code that reproduces the problem. \n\n``` python\nimport numpy as np\nimport tensorflow as tf\n\nx = tf.placeholder(tf.float32, shape=[None, 28, 28, 1])\nconv1_weights = tf.Variable(tf.truncated_normal([5, 5, 1, 32], stddev=0.1))\nconv = tf.nn.conv2d(x, conv1_weights, strides=[1, 1, 1, 1], padding='SAME')\n\nwith tf.Session() as sess:\n    tf.initialize_all_variables().run()\n    sess.run([conv], {x: np.empty((0, 28, 28, 1))})\n```\n"}