{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2138", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2138/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2138/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2138/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2138", "id": 151478841, "node_id": "MDU6SXNzdWUxNTE0Nzg4NDE=", "number": 2138, "title": "embedding_attention_seq2seq fails / embedding_rnn_seq2seq works", "user": {"login": "harpribot", "id": 7632939, "node_id": "MDQ6VXNlcjc2MzI5Mzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7632939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harpribot", "html_url": "https://github.com/harpribot", "followers_url": "https://api.github.com/users/harpribot/followers", "following_url": "https://api.github.com/users/harpribot/following{/other_user}", "gists_url": "https://api.github.com/users/harpribot/gists{/gist_id}", "starred_url": "https://api.github.com/users/harpribot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harpribot/subscriptions", "organizations_url": "https://api.github.com/users/harpribot/orgs", "repos_url": "https://api.github.com/users/harpribot/repos", "events_url": "https://api.github.com/users/harpribot/events{/privacy}", "received_events_url": "https://api.github.com/users/harpribot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "lukaszkaiser", "id": 684901, "node_id": "MDQ6VXNlcjY4NDkwMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/684901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukaszkaiser", "html_url": "https://github.com/lukaszkaiser", "followers_url": "https://api.github.com/users/lukaszkaiser/followers", "following_url": "https://api.github.com/users/lukaszkaiser/following{/other_user}", "gists_url": "https://api.github.com/users/lukaszkaiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukaszkaiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukaszkaiser/subscriptions", "organizations_url": "https://api.github.com/users/lukaszkaiser/orgs", "repos_url": "https://api.github.com/users/lukaszkaiser/repos", "events_url": "https://api.github.com/users/lukaszkaiser/events{/privacy}", "received_events_url": "https://api.github.com/users/lukaszkaiser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lukaszkaiser", "id": 684901, "node_id": "MDQ6VXNlcjY4NDkwMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/684901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukaszkaiser", "html_url": "https://github.com/lukaszkaiser", "followers_url": "https://api.github.com/users/lukaszkaiser/followers", "following_url": "https://api.github.com/users/lukaszkaiser/following{/other_user}", "gists_url": "https://api.github.com/users/lukaszkaiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukaszkaiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukaszkaiser/subscriptions", "organizations_url": "https://api.github.com/users/lukaszkaiser/orgs", "repos_url": "https://api.github.com/users/lukaszkaiser/repos", "events_url": "https://api.github.com/users/lukaszkaiser/events{/privacy}", "received_events_url": "https://api.github.com/users/lukaszkaiser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2016-04-27T20:08:35Z", "updated_at": "2016-08-07T18:12:55Z", "closed_at": "2016-06-28T18:56:24Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04</p>\n<p>Installed version of CUDA and cuDNN: Cuda 7.0 and CUDNN 6.5 v4</p>\n<p>So when I use a simple Embedding RNN Sequence to Sequence Model like this</p>\n<pre><code># choose RNN/GRU/LSTM cell\n        with tf.variable_scope(\"train_test\", reuse=True):\n            self.cell = rnn_cell.LSTMCell(self.memory_dim)\n\n        # embedding model\n        with tf.variable_scope(\"train_test\"):\n            self.dec_outputs, self.dec_memory = seq2seq.embedding_rnn_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length)\n        with tf.variable_scope(\"train_test\", reuse = True):\n            self.dec_outputs_tst, _ = seq2seq.embedding_rnn_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length, feed_previous=True)\n</code></pre>\n<p>The above implementation works perfectly, but when I just change the model from simple embedding seq2seq to Embedding Attention Seq2Seq, like this,</p>\n<pre><code>\n        # choose RNN/GRU/LSTM cell\n        with tf.variable_scope(\"train_test\", reuse=True):\n            self.cell = rnn_cell.LSTMCell(self.memory_dim)\n\n        with tf.variable_scope(\"train_test\"):\n            self.dec_outputs, self.dec_memory = seq2seq.embedding_attention_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length)\n        with tf.variable_scope(\"train_test\", reuse = True):\n            self.dec_outputs_tst, _ = seq2seq.embedding_attention_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length, feed_previous=True)\n\n</code></pre>\n<p>I get segmentation fault, with absolutely no information. My memory does not run out, neither my CPU, as I tried this with</p>\n<pre><code>batch_size =1 \nsee.memory_dim = 1\n</code></pre>\n<p>and still got the same segmentation fault.</p>\n<p>I get the same error, and the above configuration can certainly not eat my RAM.</p>\n<p>This is a potential bug, if I am not getting something worng. The LSTM and GRU cell just takes the size of the hidden layer as parameter, which is a scaler.</p>\n<p>THE BUG REPORT</p>\n<p>The Debug result</p>\n<pre><code>(gdb) run train_script_lstm_attn.py \nStarting program: /lusr/bin/python train_script_lstm_attn.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n[New Thread 0x7fffd7a25700 (LWP 45650)]\n[New Thread 0x7fffd7224700 (LWP 45651)]\n[New Thread 0x7fffd4a23700 (LWP 45652)]\n[New Thread 0x7fffd2222700 (LWP 45653)]\n[New Thread 0x7fffcfa21700 (LWP 45654)]\n[New Thread 0x7fffcd220700 (LWP 45655)]\n[New Thread 0x7fffcaa1f700 (LWP 45656)]\n[Thread 0x7fffcaa1f700 (LWP 45656) exited]\n[Thread 0x7fffcfa21700 (LWP 45654) exited]\n[Thread 0x7fffd7a25700 (LWP 45650) exited]\n[Thread 0x7fffd2222700 (LWP 45653) exited]\n[Thread 0x7fffd7224700 (LWP 45651) exited]\n[Thread 0x7fffcd220700 (LWP 45655) exited]\n[Thread 0x7fffd4a23700 (LWP 45652) exited]\n[New Thread 0x7fffcaa1f700 (LWP 45661)]\n[New Thread 0x7fffcd220700 (LWP 46103)]\n[New Thread 0x7fffcfa21700 (LWP 46104)]\n[New Thread 0x7fffd2222700 (LWP 46105)]\n[New Thread 0x7ffed22bf700 (LWP 46106)]\n[New Thread 0x7ffed1abe700 (LWP 46107)]\n[New Thread 0x7ffed12bd700 (LWP 46108)]\n[New Thread 0x7ffed0abc700 (LWP 46109)]\n[New Thread 0x7ffec3fff700 (LWP 46110)]\n[New Thread 0x7ffec37fe700 (LWP 46111)]\n[New Thread 0x7ffec2ffd700 (LWP 46112)]\n[New Thread 0x7ffeb77ff700 (LWP 46114)]\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX TITAN Black\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.98\npciBusID 0000:05:00.0\nTotal memory: 6.00GiB\nFree memory: 5.91GiB\n[New Thread 0x7ffeb6ffe700 (LWP 46115)]\n[New Thread 0x7ffeb67fd700 (LWP 46116)]\n[New Thread 0x7ffea2bff700 (LWP 46117)]\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: GeForce GTX TITAN Black\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.98\npciBusID 0000:42:00.0\nTotal memory: 6.00GiB\nFree memory: 5.91GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 0 to device ordinal 1\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 1 to device ordinal 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y N \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   N Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX TITAN Black, pci bus id: 0000:05:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -&gt; (device: 1, name: GeForce GTX TITAN Black, pci bus id: 0000:42:00.0)\n[New Thread 0x7ffea23fe700 (LWP 46118)]\n[New Thread 0x7ffea1bfd700 (LWP 46119)]\n[New Thread 0x7ffea13fc700 (LWP 46120)]\n[New Thread 0x7ffea0bfb700 (LWP 46121)]\n[New Thread 0x7ffe8bfff700 (LWP 46122)]\n[New Thread 0x7ffe8b7fe700 (LWP 46123)]\n[New Thread 0x7ffe8affd700 (LWP 46124)]\n[New Thread 0x7ffe8a7fc700 (LWP 46125)]\n[New Thread 0x7ffe89ffb700 (LWP 46126)]\n[New Thread 0x7ffe897fa700 (LWP 46127)]\n[New Thread 0x7ffe88ff9700 (LWP 46128)]\n[New Thread 0x7ffe7bfff700 (LWP 46129)]\n[New Thread 0x7ffe3d23c700 (LWP 46167)]\n\nProgram received signal SIGSEGV, Segmentation fault.\n__memmove_ssse3_back () at ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:2143\n2143    ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S: No such file or directory.\n</code></pre>\n<p>The Backtrace is attached below</p>\n<pre><code>(gdb) backtrace\n#0  __memmove_ssse3_back () at ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:2143\n#1  0x00007fffedd56ae1 in tensorflow::Tensor::FromProto(tensorflow::Allocator*, tensorflow::TensorProto const&amp;) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#2  0x00007fffedc4577f in tensorflow::ThreadPoolDevice::MakeTensorFromProto(tensorflow::TensorProto const&amp;, tensorflow::AllocatorAttributes, tensorflow::Tensor*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#3  0x00007fffecea4f76 in tensorflow::ConstantOp::ConstantOp(tensorflow::OpKernelConstruction*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#4  0x00007fffecea50f2 in tensorflow::{lambda(tensorflow::OpKernelConstruction*)#1}::_FUN ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#5  0x00007fffedd408bd in tensorflow::CreateOpKernel(tensorflow::DeviceType, tensorflow::DeviceBase*, tensorflow::Allocator*, tensorflow::FunctionLibraryRuntime*, tensorflow::NodeDef const&amp;, int, tensorflow::OpKernel**) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#6  0x00007fffedc1caf4 in tensorflow::CreateNonCachedKernel(tensorflow::Device*, tensorflow::FunctionLibraryRuntime*, tensorflow::NodeDef const&amp;, int, tensorflow::OpKernel**) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#7  0x00007fffedc10c97 in std::_Function_handler&lt;tensorflow::Status (tensorflow::NodeDef const&amp;, tensorflow::OpKernel**), tensorflow::DoConstantFolding(tensorflow::ConstantFoldingOptions const&amp;, tensorflow::Device*, tensorflow::Graph*)::{lambda(tensorflow::NodeDef const&amp;, tensorflow::OpKernel**)#2}&gt;::_M_invoke(std::_Any_data const&amp;, tensorflow::NodeDef const&amp;, tensorflow::OpKernel**) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#8  0x00007fffedc287de in tensorflow::(anonymous namespace)::ExecutorImpl::Initialize() ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#9  0x00007fffedc292b3 in tensorflow::NewLocalExecutor(tensorflow::LocalExecutorParams const&amp;, tensorflow::Graph const*, tensorflow::Executor**) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#10 0x00007fffedc1608d in tensorflow::DoConstantFolding(tensorflow::ConstantFoldingOptions const&amp;, tensorflow::Device*, tensorflow::Graph*) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#11 0x00007fffedc36dda in tensorflow::GraphOptimizer::Optimize(tensorflow::FunctionLibraryRuntime*, tensorflow::Device*, tensorflow::Graph**) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#12 0x00007fffeda06d9d in tensorflow::DirectSession::GetOrCreateExecutors(tensorflow::gtl::ArraySlice&lt;std::string&gt;, tensorflow::gtl::ArraySlice&lt;std::string&gt;, tensorflow::gtl::ArraySlice&lt;std::string&gt;, tensorflow::DirectSession::ExecutorsAndKeys**, tensorflow::DirectSession::RunStateArgs*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#13 0x00007fffeda07e6a in tensorflow::DirectSession::Run(tensorflow::RunOptions const&amp;, std::vector&lt;std::pair&lt;std::string, tensorflow::Tensor&gt;, std::allocator&lt;std::pair&lt;std::string, tensorflow::Tensor&gt; &gt; &gt; const&amp;, std::vector&lt;std::string, std::allocator&lt;std::string&gt; &gt; const&amp;, std::vector&lt;std::string, std::allocator&lt;std::string&gt; &gt; const&amp;, std::vector&lt;tensorflow::Tensor, std---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n::allocator&lt;tensorflow::Tensor&gt; &gt;*, tensorflow::RunMetadata*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#14 0x00007fffeda0a992 in tensorflow::DirectSession::Run(std::vector&lt;std::pair&lt;std::string, tensorflow::Tensor&gt;, std::allocator&lt;std::pair&lt;std::string, tensorflow::Tensor&gt; &gt; &gt; const&amp;, std::vector&lt;std::string, std::allocator&lt;std::string&gt; &gt; const&amp;, std::vector&lt;std::string, std::allocator&lt;std::string&gt; &gt; const&amp;, std::vector&lt;tensorflow::Tensor, std::allocator&lt;tensorflow::Tensor&gt; &gt;*) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#15 0x00007fffedc0b7c7 in TF_Run_Helper(TF_Session*, char const*, TF_Buffer const*, char const**, TF_Tensor**, int, char const**, TF_Tensor**, int, char const**, int, TF_Buffer*, TF_Status*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#16 0x00007fffedc0bc11 in TF_Run ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#17 0x00007fffece8dff5 in tensorflow::TF_Run_wrapper_helper(TF_Session*, char const*, TF_Buffer const*, tensorflow::gtl::InlinedVector&lt;std::pair&lt;char const*, tagPyArrayObject*&gt;, 8&gt; const&amp;, tensorflow::gtl::InlinedVector&lt;char const*, 8&gt; const&amp;, tensorflow::gtl::InlinedVector&lt;char const*, 8&gt; const&amp;, tensorflow::Status*, tensorflow::gtl::InlinedVector&lt;_object*, 8&gt;*, TF_Buffer*) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#18 0x00007fffece8e661 in tensorflow::TF_Run_wrapper(TF_Session*, TF_Buffer const*, tensorflow::gtl::InlinedVector&lt;std::pair&lt;char const*, tagPyArrayObject*&gt;, 8&gt; const&amp;, tensorflow::gtl::InlinedVector&lt;char const*, 8&gt; const&amp;, tensorflow::gtl::InlinedVector&lt;char const*, 8&gt; const&amp;, tensorflow::Status*, tensorflow::gtl::InlinedVector&lt;_object*, 8&gt;*, TF_Buffer*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#19 0x00007fffece7a4d7 in _wrap_TF_Run ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#20 0x000000000049968d in call_function (oparg=&lt;optimized out&gt;, pp_stack=0x7fffffffdb20) at ../Python/ceval.c:4020\n#21 PyEval_EvalFrameEx (f=f@entry=\n    Frame 0xe341a40, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 628, in _run_fn (session=&lt;SwigPyObject at remote 0x7fffb3547b70&gt;, feed_dict={}, fetch_list=[], target_list=['init'], options=None, run_metadata=&lt;TF_Buffer(this=&lt;SwigPyObject at remote 0x7ffe3d2864e0&gt;) at remote 0x7ffe496ff990&gt;), \n    throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#22 0x00000000004a1c9a in PyEval_EvalCodeEx (closure=&lt;optimized out&gt;, defcount=&lt;optimized out&gt;, defs=0x0, \n    kwcount=&lt;optimized out&gt;, kws=&lt;optimized out&gt;, argcount=238295616, args=&lt;optimized out&gt;, locals=0x0, \n    globals=&lt;optimized out&gt;, co=&lt;optimized out&gt;) at ../Python/ceval.c:3252\n#23 function_call.15337 (func=&lt;optimized out&gt;, arg=&lt;optimized out&gt;, kw=&lt;optimized out&gt;) at ../Objects/funcobject.c:526\n#24 0x0000000000505f96 in PyObject_Call (func=&lt;function at remote 0x7ffe3d39d938&gt;, arg=&lt;optimized out&gt;, kw=&lt;optimized out&gt;)\n    at ../Objects/abstract.c:2529\n#25 0x000000000049b07a in ext_do_call (nk=&lt;optimized out&gt;, na=&lt;optimized out&gt;, flags=&lt;optimized out&gt;, \n    pp_stack=0x7fffffffdd60, func=&lt;function at remote 0x7ffe3d39d938&gt;) at ../Python/ceval.c:4333\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#26 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0xe341820, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 644, in _do_call (self=&lt;InteractiveSession(_graph=&lt;Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [&lt;Variable(_variable=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;...&gt;, _control_inputs=[], _outputs=[&lt;Tensor(_consumers=[], _value_index=0, _shape=&lt;TensorShape(_dims=[&lt;Dimension(_value=130088) at remote 0x7ffea024e310&gt;, &lt;Dimension(_value=200) at remote 0x7ffea024e190&gt;]) at remote 0x7ffea024e290&gt;, _op=&lt;...&gt;, _dtype=&lt;DType(_type_enum=101) at remote 0x7fffc463a810&gt;) at remote 0x7ffea024e3d0&gt;], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '&lt;module&gt;', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': &lt;module at remote 0x7fffb442f9b8&gt;, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': &lt;module at remote 0x7ffff7f90b08&gt;, '__file__': 'train_script_lstm_attn.py', 'lstm_net': &lt;Ne...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2705\n#27 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e25330, globals=&lt;optimized out&gt;, locals=&lt;optimized out&gt;, \n    args=&lt;optimized out&gt;, argcount=&lt;optimized out&gt;, kws=&lt;optimized out&gt;, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at ../Python/ceval.c:3252\n#28 0x000000000049ab45 in fast_function (nk=0, na=8, n=&lt;optimized out&gt;, pp_stack=0x7fffffffdf50, \n    func=&lt;function at remote 0x7fffc3e28de8&gt;) at ../Python/ceval.c:4116\n#29 call_function (oparg=&lt;optimized out&gt;, pp_stack=0x7fffffffdf50) at ../Python/ceval.c:4041\n#30 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0xe3415e0, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 637, in _do_run (self=&lt;InteractiveSession(_graph=&lt;Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [&lt;Variable(_variable=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;...&gt;, _control_inputs=[], _outputs=[&lt;Tensor(_consumers=[], _value_index=0, _shape=&lt;TensorShape(_dims=[&lt;Dimension(_value=130088) at remote 0x7ffea024e310&gt;, &lt;Dimension(_value=200) at remote 0x7ffea024e190&gt;]) at remote 0x7ffea024e290&gt;, _op=&lt;...&gt;, _dtype=&lt;DType(_type_enum=101) at remote 0x7fffc463a810&gt;) at remote 0x7ffea024e3d0&gt;], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '&lt;module&gt;', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': &lt;module at remote 0x7fffb442f9b8&gt;, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': &lt;module at remote 0x7ffff7f90b08&gt;, '__file__': 'train_script_lstm_attn.py', 'lstm_net': &lt;Neu...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#31 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e25230, globals=&lt;optimized out&gt;, locals=&lt;optimized out&gt;, \n    args=&lt;optimized out&gt;, argcount=&lt;optimized out&gt;, kws=&lt;optimized out&gt;, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at ../Python/ceval.c:3252\n#32 0x000000000049ab45 in fast_function (nk=0, na=7, n=&lt;optimized out&gt;, pp_stack=0x7fffffffe140, \n    func=&lt;function at remote 0x7fffc3e28d70&gt;) at ../Python/ceval.c:4116\n#33 call_function (oparg=&lt;optimized out&gt;, pp_stack=0x7fffffffe140) at ../Python/ceval.c:4041\n#34 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0xe33d060, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 564, in _run (self=&lt;InteractiveSession(_graph=&lt;Graph(_default_original_op=None, _handle_feeders={}, _collections={'variabl---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\nes': [&lt;Variable(_variable=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;...&gt;, _control_inputs=[], _outputs=[&lt;Tensor(_consumers=[], _value_index=0, _shape=&lt;TensorShape(_dims=[&lt;Dimension(_value=130088) at remote 0x7ffea024e310&gt;, &lt;Dimension(_value=200) at remote 0x7ffea024e190&gt;]) at remote 0x7ffea024e290&gt;, _op=&lt;...&gt;, _dtype=&lt;DType(_type_enum=101) at remote 0x7fffc463a810&gt;) at remote 0x7ffea024e3d0&gt;], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '&lt;module&gt;', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': &lt;module at remote 0x7fffb442f9b8&gt;, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': &lt;module at remote 0x7ffff7f90b08&gt;, '__file__': 'train_script_lstm_attn.py', 'lstm_net': &lt;Neural...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#35 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e25030, globals=&lt;optimized out&gt;, locals=&lt;optimized out&gt;, \n    args=&lt;optimized out&gt;, argcount=&lt;optimized out&gt;, kws=&lt;optimized out&gt;, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at ../Python/ceval.c:3252\n#36 0x000000000049ab45 in fast_function (nk=0, na=6, n=&lt;optimized out&gt;, pp_stack=0x7fffffffe330, \n    func=&lt;function at remote 0x7fffc3e28cf8&gt;) at ../Python/ceval.c:4116\n#37 call_function (oparg=&lt;optimized out&gt;, pp_stack=0x7fffffffe330) at ../Python/ceval.c:4041\n#38 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0x1648a420, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 340, in run (self=&lt;InteractiveSession(_graph=&lt;Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [&lt;Variable(_variable=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;...&gt;, _control_inputs=[], _outputs=[&lt;Tensor(_consumers=[], _value_index=0, _shape=&lt;TensorShape(_dims=[&lt;Dimension(_value=130088) at remote 0x7ffea024e310&gt;, &lt;Dimension(_value=200) at remote 0x7ffea024e190&gt;]) at remote 0x7ffea024e290&gt;, _op=&lt;...&gt;, _dtype=&lt;DType(_type_enum=101) at remote 0x7fffc463a810&gt;) at remote 0x7ffea024e3d0&gt;], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '&lt;module&gt;', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': &lt;module at remote 0x7fffb442f9b8&gt;, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': &lt;module at remote 0x7ffff7f90b08&gt;, '__file__': 'train_script_lstm_attn.py', 'lstm_net': &lt;Neural...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#39 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e22a30, globals=&lt;optimized out&gt;, locals=&lt;optimized out&gt;, \n    args=&lt;optimized out&gt;, argcount=&lt;optimized out&gt;, kws=&lt;optimized out&gt;, kwcount=0, defs=0x7fffc3e24608, defcount=3, \n    closure=0x0) at ../Python/ceval.c:3252\n#40 0x0000000000499a52 in fast_function (nk=0, na=2, n=&lt;optimized out&gt;, pp_stack=0x7fffffffe520, \n    func=&lt;function at remote 0x7fffc3e28b18&gt;) at ../Python/ceval.c:4116\n#41 call_function (oparg=&lt;optimized out&gt;, pp_stack=0x7fffffffe520) at ../Python/ceval.c:4041\n#42 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0x7ffe3d280de0, for file /v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py, line 125, in __start_session (self=&lt;NeuralNet(dec_memory=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [&lt;Variable(_variable=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;...&gt;, _control_inputs=[], _outputs=[&lt;Tensor(_consumers=[], _value_index=0, _shape=&lt;TensorShape(_dims=[&lt;Dimension(_value=130088) at remote 0x7ffea024e310&gt;, &lt;Dimension(_value=200) at remote 0x7ffea024e190&gt;]) at remote 0x7ffea024e290&gt;, _op=&lt;...&gt;, _dtype=&lt;DType(_t---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\nype_enum=101) at remote 0x7fffc463a810&gt;) at remote 0x7ffea024e3d0&gt;], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '&lt;module&gt;', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': &lt;module at remote 0x7fffb442f9b8&gt;, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': &lt;module at remote 0x7ffff7f90b08&gt;, '__file__'...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#43 0x0000000000499ef2 in fast_function (nk=&lt;optimized out&gt;, na=&lt;optimized out&gt;, n=1, pp_stack=0x7fffffffe670, \n    func=&lt;function at remote 0x7fffb4449b18&gt;) at ../Python/ceval.c:4106\n#44 call_function (oparg=&lt;optimized out&gt;, pp_stack=0x7fffffffe670) at ../Python/ceval.c:4041\n#45 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0x7fffb3511050, for file /v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py, line 62, in form_model_graph (self=&lt;NeuralNet(dec_memory=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [&lt;Variable(_variable=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;...&gt;, _control_inputs=[], _outputs=[&lt;Tensor(_consumers=[], _value_index=0, _shape=&lt;TensorShape(_dims=[&lt;Dimension(_value=130088) at remote 0x7ffea024e310&gt;, &lt;Dimension(_value=200) at remote 0x7ffea024e190&gt;]) at remote 0x7ffea024e290&gt;, _op=&lt;...&gt;, _dtype=&lt;DType(_type_enum=101) at remote 0x7fffc463a810&gt;) at remote 0x7ffea024e3d0&gt;], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '&lt;module&gt;', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': &lt;module at remote 0x7fffb442f9b8&gt;, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': &lt;module at remote 0x7ffff7f90b08&gt;, '__file__'...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#46 0x0000000000499ef2 in fast_function (nk=&lt;optimized out&gt;, na=&lt;optimized out&gt;, n=1, pp_stack=0x7fffffffe7c0, \n    func=&lt;function at remote 0x7fffb4449938&gt;) at ../Python/ceval.c:4106\n#47 call_function (oparg=&lt;optimized out&gt;, pp_stack=0x7fffffffe7c0) at ../Python/ceval.c:4041\n#48 PyEval_EvalFrameEx (f=f@entry=Frame 0x7ffff7ebf7b0, for file train_script_lstm_attn.py, line 11, in &lt;module&gt; (), \n    throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#49 0x00000000004a1634 in PyEval_EvalCodeEx (closure=0x0, defcount=0, defs=0x0, kwcount=0, kws=0x0, argcount=0, args=0x0, \nPython Exception &lt;class 'UnicodeDecodeError'&gt; 'utf-8' codec can't decode byte 0x91 in position 1: invalid start byte: \n    locals=&lt;unknown at remote 0x7ffff7ebf928&gt;, globals=, co=0x7ffff7ec9130) at ../Python/ceval.c:3252\nPython Exception &lt;class 'UnicodeDecodeError'&gt; 'utf-8' codec can't decode byte 0x91 in position 1: invalid start byte: \n#50 PyEval_EvalCode (locals=&lt;unknown at remote 0x7ffff7ebf928&gt;, globals=, co=0x7ffff7ec9130) at ../Python/ceval.c:667\n#51 run_mod.42576 (mod=mod@entry=0x9c1f30, filename=filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", \n    globals=globals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': &lt;module at remote 0x7fffb442f9b8&gt;, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': &lt;module at remote 0x7ffff7f90b08&gt;, '__file__': 'train_script_lstm_attn.py', 'lstm_net': &lt;NeuralNet(dec_memory=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [&lt;Variable(_variable=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;...&gt;, _control_inputs=[], _outputs=[&lt;Tensor(_consumers=[], _value_index=0, _shape=&lt;TensorShape(_dims=[&lt;Dimension(_value=130088) at remote 0x7ffea024e310&gt;, &lt;Dimension(_value=200) at remote 0x7ffea024e190&gt;]) at remote 0x7ffea024e290&gt;, _op=&lt;...&gt;, _dtype=&lt;DType(_type_enum=101) at remote 0x7fffc463a810&gt;) at remote 0x7ffea024e3d0&gt;], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '&lt;module&gt;', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), \n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n    locals=locals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': &lt;module at remote 0x7fffb442f9b8&gt;, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': &lt;module at remote 0x7ffff7f90b08&gt;, '__file__': 'train_script_lstm_attn.py', 'lstm_net': &lt;NeuralNet(dec_memory=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [&lt;Variable(_variable=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;...&gt;, _control_inputs=[], _outputs=[&lt;Tensor(_consumers=[], _value_index=0, _shape=&lt;TensorShape(_dims=[&lt;Dimension(_value=130088) at remote 0x7ffea024e310&gt;, &lt;Dimension(_value=200) at remote 0x7ffea024e190&gt;]) at remote 0x7ffea024e290&gt;, _op=&lt;...&gt;, _dtype=&lt;DType(_type_enum=101) at remote 0x7fffc463a810&gt;) at remote 0x7ffea024e3d0&gt;], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '&lt;module&gt;', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), flags=flags@entry=0x7fffffffe970, \n    arena=arena@entry=0x9aa9c0) at ../Python/pythonrun.c:1370\n#52 0x000000000044e4a5 in PyRun_FileExFlags (fp=fp@entry=0x976cd0, \n    filename=filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", start=start@entry=257, \n    globals=globals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': &lt;module at remote 0x7fffb442f9b8&gt;, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': &lt;module at remote 0x7ffff7f90b08&gt;, '__file__': 'train_script_lstm_attn.py', 'lstm_net': &lt;NeuralNet(dec_memory=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [&lt;Variable(_variable=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;...&gt;, _control_inputs=[], _outputs=[&lt;Tensor(_consumers=[], _value_index=0, _shape=&lt;TensorShape(_dims=[&lt;Dimension(_value=130088) at remote 0x7ffea024e310&gt;, &lt;Dimension(_value=200) at remote 0x7ffea024e190&gt;]) at remote 0x7ffea024e290&gt;, _op=&lt;...&gt;, _dtype=&lt;DType(_type_enum=101) at remote 0x7fffc463a810&gt;) at remote 0x7ffea024e3d0&gt;], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '&lt;module&gt;', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), \n    locals=locals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': &lt;module at remote 0x7fffb442f9b8&gt;, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': &lt;module at remote 0x7ffff7f90b08&gt;, '__file__': 'train_script_lstm_attn.py', 'lstm_net': &lt;NeuralNet(dec_memory=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [&lt;Variable(_variable=&lt;Tensor(_consumers=[&lt;Operation(_graph=&lt;...&gt;, _control_inputs=[], _outputs=[&lt;Tensor(_consumers=[], _value_index=0, _shape=&lt;TensorShape(_dims=[&lt;Dimension(_value=130088) at remote 0x7ffea024e310&gt;, &lt;Dimension(_value=200) at remote 0x7ffea024e190&gt;]) at remote 0x7ffea024e290&gt;, _op=&lt;...&gt;, _dtype=&lt;DType(_type_enum=101) at remote 0x7fffc463a810&gt;) at remote 0x7ffea024e3d0&gt;], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '&lt;module&gt;', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), closeit=closeit@entry=1, flags=flags@entry=0x7fffffffe970)\n    at ../Python/pythonrun.c:1356\n#53 0x000000000044ec9f in PyRun_SimpleFileExFlags (fp=fp@entry=0x976cd0, filename=&lt;optimized out&gt;, \n    filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", closeit=closeit@entry=1, flags=flags@entry=0x7fffffffe970)\n    at ../Python/pythonrun.c:948\n#54 0x000000000044ed9b in PyRun_AnyFileExFlags (fp=fp@entry=0x976cd0, \n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n    filename=filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", closeit=closeit@entry=1, \n    flags=flags@entry=0x7fffffffe970) at ../Python/pythonrun.c:752\n#55 0x000000000044f904 in Py_Main (argc=&lt;optimized out&gt;, argv=0x7fffffffeb28) at ../Modules/main.c:640\n#56 0x00007ffff7818ec5 in __libc_start_main (main=0x44f9c2 &lt;main&gt;, argc=2, argv=0x7fffffffeb28, init=&lt;optimized out&gt;, \n    fini=&lt;optimized out&gt;, rtld_fini=&lt;optimized out&gt;, stack_end=0x7fffffffeb18) at libc-start.c:287\n#57 0x0000000000578c4e in _start ()\n(gdb) \n\n</code></pre>", "body_text": "Environment info\nOperating System: Ubuntu 14.04\nInstalled version of CUDA and cuDNN: Cuda 7.0 and CUDNN 6.5 v4\nSo when I use a simple Embedding RNN Sequence to Sequence Model like this\n# choose RNN/GRU/LSTM cell\n        with tf.variable_scope(\"train_test\", reuse=True):\n            self.cell = rnn_cell.LSTMCell(self.memory_dim)\n\n        # embedding model\n        with tf.variable_scope(\"train_test\"):\n            self.dec_outputs, self.dec_memory = seq2seq.embedding_rnn_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length)\n        with tf.variable_scope(\"train_test\", reuse = True):\n            self.dec_outputs_tst, _ = seq2seq.embedding_rnn_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length, feed_previous=True)\n\nThe above implementation works perfectly, but when I just change the model from simple embedding seq2seq to Embedding Attention Seq2Seq, like this,\n\n        # choose RNN/GRU/LSTM cell\n        with tf.variable_scope(\"train_test\", reuse=True):\n            self.cell = rnn_cell.LSTMCell(self.memory_dim)\n\n        with tf.variable_scope(\"train_test\"):\n            self.dec_outputs, self.dec_memory = seq2seq.embedding_attention_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length)\n        with tf.variable_scope(\"train_test\", reuse = True):\n            self.dec_outputs_tst, _ = seq2seq.embedding_attention_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length, feed_previous=True)\n\n\nI get segmentation fault, with absolutely no information. My memory does not run out, neither my CPU, as I tried this with\nbatch_size =1 \nsee.memory_dim = 1\n\nand still got the same segmentation fault.\nI get the same error, and the above configuration can certainly not eat my RAM.\nThis is a potential bug, if I am not getting something worng. The LSTM and GRU cell just takes the size of the hidden layer as parameter, which is a scaler.\nTHE BUG REPORT\nThe Debug result\n(gdb) run train_script_lstm_attn.py \nStarting program: /lusr/bin/python train_script_lstm_attn.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n[New Thread 0x7fffd7a25700 (LWP 45650)]\n[New Thread 0x7fffd7224700 (LWP 45651)]\n[New Thread 0x7fffd4a23700 (LWP 45652)]\n[New Thread 0x7fffd2222700 (LWP 45653)]\n[New Thread 0x7fffcfa21700 (LWP 45654)]\n[New Thread 0x7fffcd220700 (LWP 45655)]\n[New Thread 0x7fffcaa1f700 (LWP 45656)]\n[Thread 0x7fffcaa1f700 (LWP 45656) exited]\n[Thread 0x7fffcfa21700 (LWP 45654) exited]\n[Thread 0x7fffd7a25700 (LWP 45650) exited]\n[Thread 0x7fffd2222700 (LWP 45653) exited]\n[Thread 0x7fffd7224700 (LWP 45651) exited]\n[Thread 0x7fffcd220700 (LWP 45655) exited]\n[Thread 0x7fffd4a23700 (LWP 45652) exited]\n[New Thread 0x7fffcaa1f700 (LWP 45661)]\n[New Thread 0x7fffcd220700 (LWP 46103)]\n[New Thread 0x7fffcfa21700 (LWP 46104)]\n[New Thread 0x7fffd2222700 (LWP 46105)]\n[New Thread 0x7ffed22bf700 (LWP 46106)]\n[New Thread 0x7ffed1abe700 (LWP 46107)]\n[New Thread 0x7ffed12bd700 (LWP 46108)]\n[New Thread 0x7ffed0abc700 (LWP 46109)]\n[New Thread 0x7ffec3fff700 (LWP 46110)]\n[New Thread 0x7ffec37fe700 (LWP 46111)]\n[New Thread 0x7ffec2ffd700 (LWP 46112)]\n[New Thread 0x7ffeb77ff700 (LWP 46114)]\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX TITAN Black\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.98\npciBusID 0000:05:00.0\nTotal memory: 6.00GiB\nFree memory: 5.91GiB\n[New Thread 0x7ffeb6ffe700 (LWP 46115)]\n[New Thread 0x7ffeb67fd700 (LWP 46116)]\n[New Thread 0x7ffea2bff700 (LWP 46117)]\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: GeForce GTX TITAN Black\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.98\npciBusID 0000:42:00.0\nTotal memory: 6.00GiB\nFree memory: 5.91GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 0 to device ordinal 1\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 1 to device ordinal 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y N \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   N Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN Black, pci bus id: 0000:05:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX TITAN Black, pci bus id: 0000:42:00.0)\n[New Thread 0x7ffea23fe700 (LWP 46118)]\n[New Thread 0x7ffea1bfd700 (LWP 46119)]\n[New Thread 0x7ffea13fc700 (LWP 46120)]\n[New Thread 0x7ffea0bfb700 (LWP 46121)]\n[New Thread 0x7ffe8bfff700 (LWP 46122)]\n[New Thread 0x7ffe8b7fe700 (LWP 46123)]\n[New Thread 0x7ffe8affd700 (LWP 46124)]\n[New Thread 0x7ffe8a7fc700 (LWP 46125)]\n[New Thread 0x7ffe89ffb700 (LWP 46126)]\n[New Thread 0x7ffe897fa700 (LWP 46127)]\n[New Thread 0x7ffe88ff9700 (LWP 46128)]\n[New Thread 0x7ffe7bfff700 (LWP 46129)]\n[New Thread 0x7ffe3d23c700 (LWP 46167)]\n\nProgram received signal SIGSEGV, Segmentation fault.\n__memmove_ssse3_back () at ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:2143\n2143    ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S: No such file or directory.\n\nThe Backtrace is attached below\n(gdb) backtrace\n#0  __memmove_ssse3_back () at ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:2143\n#1  0x00007fffedd56ae1 in tensorflow::Tensor::FromProto(tensorflow::Allocator*, tensorflow::TensorProto const&) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#2  0x00007fffedc4577f in tensorflow::ThreadPoolDevice::MakeTensorFromProto(tensorflow::TensorProto const&, tensorflow::AllocatorAttributes, tensorflow::Tensor*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#3  0x00007fffecea4f76 in tensorflow::ConstantOp::ConstantOp(tensorflow::OpKernelConstruction*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#4  0x00007fffecea50f2 in tensorflow::{lambda(tensorflow::OpKernelConstruction*)#1}::_FUN ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#5  0x00007fffedd408bd in tensorflow::CreateOpKernel(tensorflow::DeviceType, tensorflow::DeviceBase*, tensorflow::Allocator*, tensorflow::FunctionLibraryRuntime*, tensorflow::NodeDef const&, int, tensorflow::OpKernel**) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#6  0x00007fffedc1caf4 in tensorflow::CreateNonCachedKernel(tensorflow::Device*, tensorflow::FunctionLibraryRuntime*, tensorflow::NodeDef const&, int, tensorflow::OpKernel**) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#7  0x00007fffedc10c97 in std::_Function_handler<tensorflow::Status (tensorflow::NodeDef const&, tensorflow::OpKernel**), tensorflow::DoConstantFolding(tensorflow::ConstantFoldingOptions const&, tensorflow::Device*, tensorflow::Graph*)::{lambda(tensorflow::NodeDef const&, tensorflow::OpKernel**)#2}>::_M_invoke(std::_Any_data const&, tensorflow::NodeDef const&, tensorflow::OpKernel**) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#8  0x00007fffedc287de in tensorflow::(anonymous namespace)::ExecutorImpl::Initialize() ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#9  0x00007fffedc292b3 in tensorflow::NewLocalExecutor(tensorflow::LocalExecutorParams const&, tensorflow::Graph const*, tensorflow::Executor**) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#10 0x00007fffedc1608d in tensorflow::DoConstantFolding(tensorflow::ConstantFoldingOptions const&, tensorflow::Device*, tensorflow::Graph*) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#11 0x00007fffedc36dda in tensorflow::GraphOptimizer::Optimize(tensorflow::FunctionLibraryRuntime*, tensorflow::Device*, tensorflow::Graph**) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#12 0x00007fffeda06d9d in tensorflow::DirectSession::GetOrCreateExecutors(tensorflow::gtl::ArraySlice<std::string>, tensorflow::gtl::ArraySlice<std::string>, tensorflow::gtl::ArraySlice<std::string>, tensorflow::DirectSession::ExecutorsAndKeys**, tensorflow::DirectSession::RunStateArgs*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#13 0x00007fffeda07e6a in tensorflow::DirectSession::Run(tensorflow::RunOptions const&, std::vector<std::pair<std::string, tensorflow::Tensor>, std::allocator<std::pair<std::string, tensorflow::Tensor> > > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<tensorflow::Tensor, std---Type <return> to continue, or q <return> to quit---\n::allocator<tensorflow::Tensor> >*, tensorflow::RunMetadata*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#14 0x00007fffeda0a992 in tensorflow::DirectSession::Run(std::vector<std::pair<std::string, tensorflow::Tensor>, std::allocator<std::pair<std::string, tensorflow::Tensor> > > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> >*) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#15 0x00007fffedc0b7c7 in TF_Run_Helper(TF_Session*, char const*, TF_Buffer const*, char const**, TF_Tensor**, int, char const**, TF_Tensor**, int, char const**, int, TF_Buffer*, TF_Status*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#16 0x00007fffedc0bc11 in TF_Run ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#17 0x00007fffece8dff5 in tensorflow::TF_Run_wrapper_helper(TF_Session*, char const*, TF_Buffer const*, tensorflow::gtl::InlinedVector<std::pair<char const*, tagPyArrayObject*>, 8> const&, tensorflow::gtl::InlinedVector<char const*, 8> const&, tensorflow::gtl::InlinedVector<char const*, 8> const&, tensorflow::Status*, tensorflow::gtl::InlinedVector<_object*, 8>*, TF_Buffer*) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#18 0x00007fffece8e661 in tensorflow::TF_Run_wrapper(TF_Session*, TF_Buffer const*, tensorflow::gtl::InlinedVector<std::pair<char const*, tagPyArrayObject*>, 8> const&, tensorflow::gtl::InlinedVector<char const*, 8> const&, tensorflow::gtl::InlinedVector<char const*, 8> const&, tensorflow::Status*, tensorflow::gtl::InlinedVector<_object*, 8>*, TF_Buffer*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#19 0x00007fffece7a4d7 in _wrap_TF_Run ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#20 0x000000000049968d in call_function (oparg=<optimized out>, pp_stack=0x7fffffffdb20) at ../Python/ceval.c:4020\n#21 PyEval_EvalFrameEx (f=f@entry=\n    Frame 0xe341a40, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 628, in _run_fn (session=<SwigPyObject at remote 0x7fffb3547b70>, feed_dict={}, fetch_list=[], target_list=['init'], options=None, run_metadata=<TF_Buffer(this=<SwigPyObject at remote 0x7ffe3d2864e0>) at remote 0x7ffe496ff990>), \n    throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#22 0x00000000004a1c9a in PyEval_EvalCodeEx (closure=<optimized out>, defcount=<optimized out>, defs=0x0, \n    kwcount=<optimized out>, kws=<optimized out>, argcount=238295616, args=<optimized out>, locals=0x0, \n    globals=<optimized out>, co=<optimized out>) at ../Python/ceval.c:3252\n#23 function_call.15337 (func=<optimized out>, arg=<optimized out>, kw=<optimized out>) at ../Objects/funcobject.c:526\n#24 0x0000000000505f96 in PyObject_Call (func=<function at remote 0x7ffe3d39d938>, arg=<optimized out>, kw=<optimized out>)\n    at ../Objects/abstract.c:2529\n#25 0x000000000049b07a in ext_do_call (nk=<optimized out>, na=<optimized out>, flags=<optimized out>, \n    pp_stack=0x7fffffffdd60, func=<function at remote 0x7ffe3d39d938>) at ../Python/ceval.c:4333\n---Type <return> to continue, or q <return> to quit---\n#26 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0xe341820, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 644, in _do_call (self=<InteractiveSession(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <Ne...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2705\n#27 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e25330, globals=<optimized out>, locals=<optimized out>, \n    args=<optimized out>, argcount=<optimized out>, kws=<optimized out>, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at ../Python/ceval.c:3252\n#28 0x000000000049ab45 in fast_function (nk=0, na=8, n=<optimized out>, pp_stack=0x7fffffffdf50, \n    func=<function at remote 0x7fffc3e28de8>) at ../Python/ceval.c:4116\n#29 call_function (oparg=<optimized out>, pp_stack=0x7fffffffdf50) at ../Python/ceval.c:4041\n#30 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0xe3415e0, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 637, in _do_run (self=<InteractiveSession(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <Neu...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#31 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e25230, globals=<optimized out>, locals=<optimized out>, \n    args=<optimized out>, argcount=<optimized out>, kws=<optimized out>, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at ../Python/ceval.c:3252\n#32 0x000000000049ab45 in fast_function (nk=0, na=7, n=<optimized out>, pp_stack=0x7fffffffe140, \n    func=<function at remote 0x7fffc3e28d70>) at ../Python/ceval.c:4116\n#33 call_function (oparg=<optimized out>, pp_stack=0x7fffffffe140) at ../Python/ceval.c:4041\n#34 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0xe33d060, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 564, in _run (self=<InteractiveSession(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variabl---Type <return> to continue, or q <return> to quit---\nes': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <Neural...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#35 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e25030, globals=<optimized out>, locals=<optimized out>, \n    args=<optimized out>, argcount=<optimized out>, kws=<optimized out>, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at ../Python/ceval.c:3252\n#36 0x000000000049ab45 in fast_function (nk=0, na=6, n=<optimized out>, pp_stack=0x7fffffffe330, \n    func=<function at remote 0x7fffc3e28cf8>) at ../Python/ceval.c:4116\n#37 call_function (oparg=<optimized out>, pp_stack=0x7fffffffe330) at ../Python/ceval.c:4041\n#38 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0x1648a420, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 340, in run (self=<InteractiveSession(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <Neural...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#39 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e22a30, globals=<optimized out>, locals=<optimized out>, \n    args=<optimized out>, argcount=<optimized out>, kws=<optimized out>, kwcount=0, defs=0x7fffc3e24608, defcount=3, \n    closure=0x0) at ../Python/ceval.c:3252\n#40 0x0000000000499a52 in fast_function (nk=0, na=2, n=<optimized out>, pp_stack=0x7fffffffe520, \n    func=<function at remote 0x7fffc3e28b18>) at ../Python/ceval.c:4116\n#41 call_function (oparg=<optimized out>, pp_stack=0x7fffffffe520) at ../Python/ceval.c:4041\n#42 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0x7ffe3d280de0, for file /v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py, line 125, in __start_session (self=<NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_t---Type <return> to continue, or q <return> to quit---\nype_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__'...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#43 0x0000000000499ef2 in fast_function (nk=<optimized out>, na=<optimized out>, n=1, pp_stack=0x7fffffffe670, \n    func=<function at remote 0x7fffb4449b18>) at ../Python/ceval.c:4106\n#44 call_function (oparg=<optimized out>, pp_stack=0x7fffffffe670) at ../Python/ceval.c:4041\n#45 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0x7fffb3511050, for file /v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py, line 62, in form_model_graph (self=<NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__'...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#46 0x0000000000499ef2 in fast_function (nk=<optimized out>, na=<optimized out>, n=1, pp_stack=0x7fffffffe7c0, \n    func=<function at remote 0x7fffb4449938>) at ../Python/ceval.c:4106\n#47 call_function (oparg=<optimized out>, pp_stack=0x7fffffffe7c0) at ../Python/ceval.c:4041\n#48 PyEval_EvalFrameEx (f=f@entry=Frame 0x7ffff7ebf7b0, for file train_script_lstm_attn.py, line 11, in <module> (), \n    throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#49 0x00000000004a1634 in PyEval_EvalCodeEx (closure=0x0, defcount=0, defs=0x0, kwcount=0, kws=0x0, argcount=0, args=0x0, \nPython Exception <class 'UnicodeDecodeError'> 'utf-8' codec can't decode byte 0x91 in position 1: invalid start byte: \n    locals=<unknown at remote 0x7ffff7ebf928>, globals=, co=0x7ffff7ec9130) at ../Python/ceval.c:3252\nPython Exception <class 'UnicodeDecodeError'> 'utf-8' codec can't decode byte 0x91 in position 1: invalid start byte: \n#50 PyEval_EvalCode (locals=<unknown at remote 0x7ffff7ebf928>, globals=, co=0x7ffff7ec9130) at ../Python/ceval.c:667\n#51 run_mod.42576 (mod=mod@entry=0x9c1f30, filename=filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", \n    globals=globals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), \n---Type <return> to continue, or q <return> to quit---\n    locals=locals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), flags=flags@entry=0x7fffffffe970, \n    arena=arena@entry=0x9aa9c0) at ../Python/pythonrun.c:1370\n#52 0x000000000044e4a5 in PyRun_FileExFlags (fp=fp@entry=0x976cd0, \n    filename=filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", start=start@entry=257, \n    globals=globals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), \n    locals=locals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), closeit=closeit@entry=1, flags=flags@entry=0x7fffffffe970)\n    at ../Python/pythonrun.c:1356\n#53 0x000000000044ec9f in PyRun_SimpleFileExFlags (fp=fp@entry=0x976cd0, filename=<optimized out>, \n    filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", closeit=closeit@entry=1, flags=flags@entry=0x7fffffffe970)\n    at ../Python/pythonrun.c:948\n#54 0x000000000044ed9b in PyRun_AnyFileExFlags (fp=fp@entry=0x976cd0, \n---Type <return> to continue, or q <return> to quit---\n    filename=filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", closeit=closeit@entry=1, \n    flags=flags@entry=0x7fffffffe970) at ../Python/pythonrun.c:752\n#55 0x000000000044f904 in Py_Main (argc=<optimized out>, argv=0x7fffffffeb28) at ../Modules/main.c:640\n#56 0x00007ffff7818ec5 in __libc_start_main (main=0x44f9c2 <main>, argc=2, argv=0x7fffffffeb28, init=<optimized out>, \n    fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffeb18) at libc-start.c:287\n#57 0x0000000000578c4e in _start ()\n(gdb)", "body": "### Environment info\n\nOperating System: Ubuntu 14.04\n\nInstalled version of CUDA and cuDNN: Cuda 7.0 and CUDNN 6.5 v4\n\nSo when I use a simple Embedding RNN Sequence to Sequence Model like this\n\n```\n# choose RNN/GRU/LSTM cell\n        with tf.variable_scope(\"train_test\", reuse=True):\n            self.cell = rnn_cell.LSTMCell(self.memory_dim)\n\n        # embedding model\n        with tf.variable_scope(\"train_test\"):\n            self.dec_outputs, self.dec_memory = seq2seq.embedding_rnn_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length)\n        with tf.variable_scope(\"train_test\", reuse = True):\n            self.dec_outputs_tst, _ = seq2seq.embedding_rnn_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length, feed_previous=True)\n```\n\nThe above implementation works perfectly, but when I just change the model from simple embedding seq2seq to Embedding Attention Seq2Seq, like this,\n\n```\n\n        # choose RNN/GRU/LSTM cell\n        with tf.variable_scope(\"train_test\", reuse=True):\n            self.cell = rnn_cell.LSTMCell(self.memory_dim)\n\n        with tf.variable_scope(\"train_test\"):\n            self.dec_outputs, self.dec_memory = seq2seq.embedding_attention_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length)\n        with tf.variable_scope(\"train_test\", reuse = True):\n            self.dec_outputs_tst, _ = seq2seq.embedding_attention_seq2seq(\\\n                            self.enc_inp, self.dec_inp, self.cell, \\\n                            self.vocab_size, self.vocab_size, self.seq_length, feed_previous=True)\n\n```\n\nI get segmentation fault, with absolutely no information. My memory does not run out, neither my CPU, as I tried this with \n\n```\nbatch_size =1 \nsee.memory_dim = 1\n```\n\nand still got the same segmentation fault. \n\nI get the same error, and the above configuration can certainly not eat my RAM.\n\nThis is a potential bug, if I am not getting something worng. The LSTM and GRU cell just takes the size of the hidden layer as parameter, which is a scaler. \n\nTHE BUG REPORT \n\nThe Debug result\n\n```\n(gdb) run train_script_lstm_attn.py \nStarting program: /lusr/bin/python train_script_lstm_attn.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n[New Thread 0x7fffd7a25700 (LWP 45650)]\n[New Thread 0x7fffd7224700 (LWP 45651)]\n[New Thread 0x7fffd4a23700 (LWP 45652)]\n[New Thread 0x7fffd2222700 (LWP 45653)]\n[New Thread 0x7fffcfa21700 (LWP 45654)]\n[New Thread 0x7fffcd220700 (LWP 45655)]\n[New Thread 0x7fffcaa1f700 (LWP 45656)]\n[Thread 0x7fffcaa1f700 (LWP 45656) exited]\n[Thread 0x7fffcfa21700 (LWP 45654) exited]\n[Thread 0x7fffd7a25700 (LWP 45650) exited]\n[Thread 0x7fffd2222700 (LWP 45653) exited]\n[Thread 0x7fffd7224700 (LWP 45651) exited]\n[Thread 0x7fffcd220700 (LWP 45655) exited]\n[Thread 0x7fffd4a23700 (LWP 45652) exited]\n[New Thread 0x7fffcaa1f700 (LWP 45661)]\n[New Thread 0x7fffcd220700 (LWP 46103)]\n[New Thread 0x7fffcfa21700 (LWP 46104)]\n[New Thread 0x7fffd2222700 (LWP 46105)]\n[New Thread 0x7ffed22bf700 (LWP 46106)]\n[New Thread 0x7ffed1abe700 (LWP 46107)]\n[New Thread 0x7ffed12bd700 (LWP 46108)]\n[New Thread 0x7ffed0abc700 (LWP 46109)]\n[New Thread 0x7ffec3fff700 (LWP 46110)]\n[New Thread 0x7ffec37fe700 (LWP 46111)]\n[New Thread 0x7ffec2ffd700 (LWP 46112)]\n[New Thread 0x7ffeb77ff700 (LWP 46114)]\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX TITAN Black\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.98\npciBusID 0000:05:00.0\nTotal memory: 6.00GiB\nFree memory: 5.91GiB\n[New Thread 0x7ffeb6ffe700 (LWP 46115)]\n[New Thread 0x7ffeb67fd700 (LWP 46116)]\n[New Thread 0x7ffea2bff700 (LWP 46117)]\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: GeForce GTX TITAN Black\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.98\npciBusID 0000:42:00.0\nTotal memory: 6.00GiB\nFree memory: 5.91GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 0 to device ordinal 1\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 1 to device ordinal 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y N \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   N Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN Black, pci bus id: 0000:05:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX TITAN Black, pci bus id: 0000:42:00.0)\n[New Thread 0x7ffea23fe700 (LWP 46118)]\n[New Thread 0x7ffea1bfd700 (LWP 46119)]\n[New Thread 0x7ffea13fc700 (LWP 46120)]\n[New Thread 0x7ffea0bfb700 (LWP 46121)]\n[New Thread 0x7ffe8bfff700 (LWP 46122)]\n[New Thread 0x7ffe8b7fe700 (LWP 46123)]\n[New Thread 0x7ffe8affd700 (LWP 46124)]\n[New Thread 0x7ffe8a7fc700 (LWP 46125)]\n[New Thread 0x7ffe89ffb700 (LWP 46126)]\n[New Thread 0x7ffe897fa700 (LWP 46127)]\n[New Thread 0x7ffe88ff9700 (LWP 46128)]\n[New Thread 0x7ffe7bfff700 (LWP 46129)]\n[New Thread 0x7ffe3d23c700 (LWP 46167)]\n\nProgram received signal SIGSEGV, Segmentation fault.\n__memmove_ssse3_back () at ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:2143\n2143    ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S: No such file or directory.\n```\n\nThe Backtrace is attached below\n\n```\n(gdb) backtrace\n#0  __memmove_ssse3_back () at ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:2143\n#1  0x00007fffedd56ae1 in tensorflow::Tensor::FromProto(tensorflow::Allocator*, tensorflow::TensorProto const&) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#2  0x00007fffedc4577f in tensorflow::ThreadPoolDevice::MakeTensorFromProto(tensorflow::TensorProto const&, tensorflow::AllocatorAttributes, tensorflow::Tensor*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#3  0x00007fffecea4f76 in tensorflow::ConstantOp::ConstantOp(tensorflow::OpKernelConstruction*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#4  0x00007fffecea50f2 in tensorflow::{lambda(tensorflow::OpKernelConstruction*)#1}::_FUN ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#5  0x00007fffedd408bd in tensorflow::CreateOpKernel(tensorflow::DeviceType, tensorflow::DeviceBase*, tensorflow::Allocator*, tensorflow::FunctionLibraryRuntime*, tensorflow::NodeDef const&, int, tensorflow::OpKernel**) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#6  0x00007fffedc1caf4 in tensorflow::CreateNonCachedKernel(tensorflow::Device*, tensorflow::FunctionLibraryRuntime*, tensorflow::NodeDef const&, int, tensorflow::OpKernel**) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#7  0x00007fffedc10c97 in std::_Function_handler<tensorflow::Status (tensorflow::NodeDef const&, tensorflow::OpKernel**), tensorflow::DoConstantFolding(tensorflow::ConstantFoldingOptions const&, tensorflow::Device*, tensorflow::Graph*)::{lambda(tensorflow::NodeDef const&, tensorflow::OpKernel**)#2}>::_M_invoke(std::_Any_data const&, tensorflow::NodeDef const&, tensorflow::OpKernel**) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#8  0x00007fffedc287de in tensorflow::(anonymous namespace)::ExecutorImpl::Initialize() ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#9  0x00007fffedc292b3 in tensorflow::NewLocalExecutor(tensorflow::LocalExecutorParams const&, tensorflow::Graph const*, tensorflow::Executor**) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#10 0x00007fffedc1608d in tensorflow::DoConstantFolding(tensorflow::ConstantFoldingOptions const&, tensorflow::Device*, tensorflow::Graph*) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#11 0x00007fffedc36dda in tensorflow::GraphOptimizer::Optimize(tensorflow::FunctionLibraryRuntime*, tensorflow::Device*, tensorflow::Graph**) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#12 0x00007fffeda06d9d in tensorflow::DirectSession::GetOrCreateExecutors(tensorflow::gtl::ArraySlice<std::string>, tensorflow::gtl::ArraySlice<std::string>, tensorflow::gtl::ArraySlice<std::string>, tensorflow::DirectSession::ExecutorsAndKeys**, tensorflow::DirectSession::RunStateArgs*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#13 0x00007fffeda07e6a in tensorflow::DirectSession::Run(tensorflow::RunOptions const&, std::vector<std::pair<std::string, tensorflow::Tensor>, std::allocator<std::pair<std::string, tensorflow::Tensor> > > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<tensorflow::Tensor, std---Type <return> to continue, or q <return> to quit---\n::allocator<tensorflow::Tensor> >*, tensorflow::RunMetadata*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#14 0x00007fffeda0a992 in tensorflow::DirectSession::Run(std::vector<std::pair<std::string, tensorflow::Tensor>, std::allocator<std::pair<std::string, tensorflow::Tensor> > > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> >*) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#15 0x00007fffedc0b7c7 in TF_Run_Helper(TF_Session*, char const*, TF_Buffer const*, char const**, TF_Tensor**, int, char const**, TF_Tensor**, int, char const**, int, TF_Buffer*, TF_Status*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#16 0x00007fffedc0bc11 in TF_Run ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#17 0x00007fffece8dff5 in tensorflow::TF_Run_wrapper_helper(TF_Session*, char const*, TF_Buffer const*, tensorflow::gtl::InlinedVector<std::pair<char const*, tagPyArrayObject*>, 8> const&, tensorflow::gtl::InlinedVector<char const*, 8> const&, tensorflow::gtl::InlinedVector<char const*, 8> const&, tensorflow::Status*, tensorflow::gtl::InlinedVector<_object*, 8>*, TF_Buffer*) () from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#18 0x00007fffece8e661 in tensorflow::TF_Run_wrapper(TF_Session*, TF_Buffer const*, tensorflow::gtl::InlinedVector<std::pair<char const*, tagPyArrayObject*>, 8> const&, tensorflow::gtl::InlinedVector<char const*, 8> const&, tensorflow::gtl::InlinedVector<char const*, 8> const&, tensorflow::Status*, tensorflow::gtl::InlinedVector<_object*, 8>*, TF_Buffer*) ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#19 0x00007fffece7a4d7 in _wrap_TF_Run ()\n   from /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so\n#20 0x000000000049968d in call_function (oparg=<optimized out>, pp_stack=0x7fffffffdb20) at ../Python/ceval.c:4020\n#21 PyEval_EvalFrameEx (f=f@entry=\n    Frame 0xe341a40, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 628, in _run_fn (session=<SwigPyObject at remote 0x7fffb3547b70>, feed_dict={}, fetch_list=[], target_list=['init'], options=None, run_metadata=<TF_Buffer(this=<SwigPyObject at remote 0x7ffe3d2864e0>) at remote 0x7ffe496ff990>), \n    throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#22 0x00000000004a1c9a in PyEval_EvalCodeEx (closure=<optimized out>, defcount=<optimized out>, defs=0x0, \n    kwcount=<optimized out>, kws=<optimized out>, argcount=238295616, args=<optimized out>, locals=0x0, \n    globals=<optimized out>, co=<optimized out>) at ../Python/ceval.c:3252\n#23 function_call.15337 (func=<optimized out>, arg=<optimized out>, kw=<optimized out>) at ../Objects/funcobject.c:526\n#24 0x0000000000505f96 in PyObject_Call (func=<function at remote 0x7ffe3d39d938>, arg=<optimized out>, kw=<optimized out>)\n    at ../Objects/abstract.c:2529\n#25 0x000000000049b07a in ext_do_call (nk=<optimized out>, na=<optimized out>, flags=<optimized out>, \n    pp_stack=0x7fffffffdd60, func=<function at remote 0x7ffe3d39d938>) at ../Python/ceval.c:4333\n---Type <return> to continue, or q <return> to quit---\n#26 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0xe341820, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 644, in _do_call (self=<InteractiveSession(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <Ne...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2705\n#27 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e25330, globals=<optimized out>, locals=<optimized out>, \n    args=<optimized out>, argcount=<optimized out>, kws=<optimized out>, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at ../Python/ceval.c:3252\n#28 0x000000000049ab45 in fast_function (nk=0, na=8, n=<optimized out>, pp_stack=0x7fffffffdf50, \n    func=<function at remote 0x7fffc3e28de8>) at ../Python/ceval.c:4116\n#29 call_function (oparg=<optimized out>, pp_stack=0x7fffffffdf50) at ../Python/ceval.c:4041\n#30 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0xe3415e0, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 637, in _do_run (self=<InteractiveSession(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <Neu...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#31 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e25230, globals=<optimized out>, locals=<optimized out>, \n    args=<optimized out>, argcount=<optimized out>, kws=<optimized out>, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at ../Python/ceval.c:3252\n#32 0x000000000049ab45 in fast_function (nk=0, na=7, n=<optimized out>, pp_stack=0x7fffffffe140, \n    func=<function at remote 0x7fffc3e28d70>) at ../Python/ceval.c:4116\n#33 call_function (oparg=<optimized out>, pp_stack=0x7fffffffe140) at ../Python/ceval.c:4041\n#34 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0xe33d060, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 564, in _run (self=<InteractiveSession(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variabl---Type <return> to continue, or q <return> to quit---\nes': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <Neural...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#35 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e25030, globals=<optimized out>, locals=<optimized out>, \n    args=<optimized out>, argcount=<optimized out>, kws=<optimized out>, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at ../Python/ceval.c:3252\n#36 0x000000000049ab45 in fast_function (nk=0, na=6, n=<optimized out>, pp_stack=0x7fffffffe330, \n    func=<function at remote 0x7fffc3e28cf8>) at ../Python/ceval.c:4116\n#37 call_function (oparg=<optimized out>, pp_stack=0x7fffffffe330) at ../Python/ceval.c:4041\n#38 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0x1648a420, for file /u/harshal/.local/lib/python2.7/site-packages/tensorflow/python/client/session.py, line 340, in run (self=<InteractiveSession(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <Neural...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#39 0x00000000004a090c in PyEval_EvalCodeEx (co=0x7fffc3e22a30, globals=<optimized out>, locals=<optimized out>, \n    args=<optimized out>, argcount=<optimized out>, kws=<optimized out>, kwcount=0, defs=0x7fffc3e24608, defcount=3, \n    closure=0x0) at ../Python/ceval.c:3252\n#40 0x0000000000499a52 in fast_function (nk=0, na=2, n=<optimized out>, pp_stack=0x7fffffffe520, \n    func=<function at remote 0x7fffc3e28b18>) at ../Python/ceval.c:4116\n#41 call_function (oparg=<optimized out>, pp_stack=0x7fffffffe520) at ../Python/ceval.c:4041\n#42 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0x7ffe3d280de0, for file /v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py, line 125, in __start_session (self=<NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_t---Type <return> to continue, or q <return> to quit---\nype_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__'...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#43 0x0000000000499ef2 in fast_function (nk=<optimized out>, na=<optimized out>, n=1, pp_stack=0x7fffffffe670, \n    func=<function at remote 0x7fffb4449b18>) at ../Python/ceval.c:4106\n#44 call_function (oparg=<optimized out>, pp_stack=0x7fffffffe670) at ../Python/ceval.c:4041\n#45 PyEval_EvalFrameEx (\n    f=f@entry=Frame 0x7fffb3511050, for file /v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py, line 62, in form_model_graph (self=<NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__'...(truncated), throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#46 0x0000000000499ef2 in fast_function (nk=<optimized out>, na=<optimized out>, n=1, pp_stack=0x7fffffffe7c0, \n    func=<function at remote 0x7fffb4449938>) at ../Python/ceval.c:4106\n#47 call_function (oparg=<optimized out>, pp_stack=0x7fffffffe7c0) at ../Python/ceval.c:4041\n#48 PyEval_EvalFrameEx (f=f@entry=Frame 0x7ffff7ebf7b0, for file train_script_lstm_attn.py, line 11, in <module> (), \n    throwflag=throwflag@entry=0) at ../Python/ceval.c:2666\n#49 0x00000000004a1634 in PyEval_EvalCodeEx (closure=0x0, defcount=0, defs=0x0, kwcount=0, kws=0x0, argcount=0, args=0x0, \nPython Exception <class 'UnicodeDecodeError'> 'utf-8' codec can't decode byte 0x91 in position 1: invalid start byte: \n    locals=<unknown at remote 0x7ffff7ebf928>, globals=, co=0x7ffff7ec9130) at ../Python/ceval.c:3252\nPython Exception <class 'UnicodeDecodeError'> 'utf-8' codec can't decode byte 0x91 in position 1: invalid start byte: \n#50 PyEval_EvalCode (locals=<unknown at remote 0x7ffff7ebf928>, globals=, co=0x7ffff7ec9130) at ../Python/ceval.c:667\n#51 run_mod.42576 (mod=mod@entry=0x9c1f30, filename=filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", \n    globals=globals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), \n---Type <return> to continue, or q <return> to quit---\n    locals=locals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), flags=flags@entry=0x7fffffffe970, \n    arena=arena@entry=0x9aa9c0) at ../Python/pythonrun.c:1370\n#52 0x000000000044e4a5 in PyRun_FileExFlags (fp=fp@entry=0x976cd0, \n    filename=filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", start=start@entry=257, \n    globals=globals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), \n    locals=locals@entry={'review_summary_file': 'extracted_data/review_summary.csv', 'gru': <module at remote 0x7fffb442f9b8>, 'out_file': 'result/test_results_lstm_with_attention.csv', '__builtins__': <module at remote 0x7ffff7f90b08>, '__file__': 'train_script_lstm_attn.py', 'lstm_net': <NeuralNet(dec_memory=<Tensor(_consumers=[<Operation(_graph=<Graph(_default_original_op=None, _handle_feeders={}, _collections={'variables': [<Variable(_variable=<Tensor(_consumers=[<Operation(_graph=<...>, _control_inputs=[], _outputs=[<Tensor(_consumers=[], _value_index=0, _shape=<TensorShape(_dims=[<Dimension(_value=130088) at remote 0x7ffea024e310>, <Dimension(_value=200) at remote 0x7ffea024e190>]) at remote 0x7ffea024e290>, _op=<...>, _dtype=<DType(_type_enum=101) at remote 0x7fffc463a810>) at remote 0x7ffea024e3d0>], _control_flow_context=None, _id_value=1022, _original_op=None, _traceback=[('train_script_lstm_attn.py', 11, '<module>', {...}), ('/v/filer4b/v20q001/harshal/NLP/Final_Project/deep-summarization/algorithms/lstm.py', 60, 'form_mo...(truncated), closeit=closeit@entry=1, flags=flags@entry=0x7fffffffe970)\n    at ../Python/pythonrun.c:1356\n#53 0x000000000044ec9f in PyRun_SimpleFileExFlags (fp=fp@entry=0x976cd0, filename=<optimized out>, \n    filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", closeit=closeit@entry=1, flags=flags@entry=0x7fffffffe970)\n    at ../Python/pythonrun.c:948\n#54 0x000000000044ed9b in PyRun_AnyFileExFlags (fp=fp@entry=0x976cd0, \n---Type <return> to continue, or q <return> to quit---\n    filename=filename@entry=0x7fffffffed54 \"train_script_lstm_attn.py\", closeit=closeit@entry=1, \n    flags=flags@entry=0x7fffffffe970) at ../Python/pythonrun.c:752\n#55 0x000000000044f904 in Py_Main (argc=<optimized out>, argv=0x7fffffffeb28) at ../Modules/main.c:640\n#56 0x00007ffff7818ec5 in __libc_start_main (main=0x44f9c2 <main>, argc=2, argv=0x7fffffffeb28, init=<optimized out>, \n    fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffeb18) at libc-start.c:287\n#57 0x0000000000578c4e in _start ()\n(gdb) \n\n```\n"}