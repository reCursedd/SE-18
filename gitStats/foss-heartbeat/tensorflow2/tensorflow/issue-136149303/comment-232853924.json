{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/232853924", "html_url": "https://github.com/tensorflow/tensorflow/issues/1277#issuecomment-232853924", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1277", "id": 232853924, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjg1MzkyNA==", "user": {"login": "hanskrupakar", "id": 17511695, "node_id": "MDQ6VXNlcjE3NTExNjk1", "avatar_url": "https://avatars3.githubusercontent.com/u/17511695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hanskrupakar", "html_url": "https://github.com/hanskrupakar", "followers_url": "https://api.github.com/users/hanskrupakar/followers", "following_url": "https://api.github.com/users/hanskrupakar/following{/other_user}", "gists_url": "https://api.github.com/users/hanskrupakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/hanskrupakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hanskrupakar/subscriptions", "organizations_url": "https://api.github.com/users/hanskrupakar/orgs", "repos_url": "https://api.github.com/users/hanskrupakar/repos", "events_url": "https://api.github.com/users/hanskrupakar/events{/privacy}", "received_events_url": "https://api.github.com/users/hanskrupakar/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-15T03:52:32Z", "updated_at": "2016-07-15T04:00:55Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6721079\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/saonim\">@saonim</a><br>\nHey, I'm using Ubuntu 16.04, CUDA 7.5, CuDNN v4, Tensorflow 0.8.0 with a single NVIDIA Geforce 650M 2GB GPU to train.</p>\n<p>I am implementing the same network with cifar100 as input instead of the cifar10 that is specified. I had the exact same error at the exact same line. If you traced the flow back to the source of the error, I think it lies in the cifar10_input.py in line number 149.</p>\n<p>Inside the distorted_inputs function in cifar10_input.py, I have changed this line to input cifar100 binary instead of cifar10.</p>\n<pre><code>filenames = [os.path.join(data_dir, 'train.bin')] \n</code></pre>\n<p>instead of</p>\n<pre><code>filenames = [os.path.join(data_dir, 'data_batch_%d.bin' % i)\nfor i in xrange(1, 6)]\n</code></pre>\n<p>The error happened for me because there was some problem with the loop back mechanism of the string_input_producer function. It doesn't go back to the start of the first file in the list <em><strong>filenames</strong></em>, upon reaching EOF of the last file in the list, as <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13385191\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/shlens\">@shlens</a> has pointed out.</p>\n<p>So, I changed the code to:</p>\n<pre><code>filenames = [os.path.join(data_dir, 'train.bin') for _ in xrange(10000)]\n</code></pre>\n<p>It works now! Try doing the same for your code.</p>", "body_text": "@saonim\nHey, I'm using Ubuntu 16.04, CUDA 7.5, CuDNN v4, Tensorflow 0.8.0 with a single NVIDIA Geforce 650M 2GB GPU to train.\nI am implementing the same network with cifar100 as input instead of the cifar10 that is specified. I had the exact same error at the exact same line. If you traced the flow back to the source of the error, I think it lies in the cifar10_input.py in line number 149.\nInside the distorted_inputs function in cifar10_input.py, I have changed this line to input cifar100 binary instead of cifar10.\nfilenames = [os.path.join(data_dir, 'train.bin')] \n\ninstead of\nfilenames = [os.path.join(data_dir, 'data_batch_%d.bin' % i)\nfor i in xrange(1, 6)]\n\nThe error happened for me because there was some problem with the loop back mechanism of the string_input_producer function. It doesn't go back to the start of the first file in the list filenames, upon reaching EOF of the last file in the list, as @shlens has pointed out.\nSo, I changed the code to:\nfilenames = [os.path.join(data_dir, 'train.bin') for _ in xrange(10000)]\n\nIt works now! Try doing the same for your code.", "body": "@saonim\nHey, I'm using Ubuntu 16.04, CUDA 7.5, CuDNN v4, Tensorflow 0.8.0 with a single NVIDIA Geforce 650M 2GB GPU to train. \n\nI am implementing the same network with cifar100 as input instead of the cifar10 that is specified. I had the exact same error at the exact same line. If you traced the flow back to the source of the error, I think it lies in the cifar10_input.py in line number 149. \n\nInside the distorted_inputs function in cifar10_input.py, I have changed this line to input cifar100 binary instead of cifar10.\n\n```\nfilenames = [os.path.join(data_dir, 'train.bin')] \n```\n\ninstead of\n\n```\nfilenames = [os.path.join(data_dir, 'data_batch_%d.bin' % i)\nfor i in xrange(1, 6)]\n```\n\nThe error happened for me because there was some problem with the loop back mechanism of the string_input_producer function. It doesn't go back to the start of the first file in the list _**filenames**_, upon reaching EOF of the last file in the list, as @shlens has pointed out.\n\nSo, I changed the code to:\n\n```\nfilenames = [os.path.join(data_dir, 'train.bin') for _ in xrange(10000)]\n```\n\nIt works now! Try doing the same for your code. \n"}