{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11541", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11541/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11541/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11541/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11541", "id": 243293192, "node_id": "MDU6SXNzdWUyNDMyOTMxOTI=", "number": 11541, "title": "tfcompile won't work with graph that has no inputs", "user": {"login": "LordPython", "id": 2464249, "node_id": "MDQ6VXNlcjI0NjQyNDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/2464249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LordPython", "html_url": "https://github.com/LordPython", "followers_url": "https://api.github.com/users/LordPython/followers", "following_url": "https://api.github.com/users/LordPython/following{/other_user}", "gists_url": "https://api.github.com/users/LordPython/gists{/gist_id}", "starred_url": "https://api.github.com/users/LordPython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LordPython/subscriptions", "organizations_url": "https://api.github.com/users/LordPython/orgs", "repos_url": "https://api.github.com/users/LordPython/repos", "events_url": "https://api.github.com/users/LordPython/events{/privacy}", "received_events_url": "https://api.github.com/users/LordPython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-07-17T04:09:43Z", "updated_at": "2018-03-07T18:57:04Z", "closed_at": null, "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.2.1 (git version v1.2.0-2140-g85d4102)</li>\n<li><strong>Python version</strong>: 3.5.2</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.5.2</li>\n<li><strong>CUDA/cuDNN version</strong>: 5.1.5</li>\n<li><strong>GPU model and memory</strong>: GeForce GTX 970 4GB</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I have been working on a char-rnn like network that is trained on a corpus of text, and then produces similar text as output. I'm trying to compile the graph, but tfcompile asserts that the list of feeds is non-empty. However, since for my network there are no inputs to specify as feeds, tfcompile fails.</p>\n<h3>Source code / logs</h3>\n<p>The configuration I tried to use looks like this:</p>\n<pre><code>fetch {\n  id { node_name: \"predictions\" }\n}\n</code></pre>\n<p>The error message:</p>\n<pre><code>INVALID ARGUMENTS: feeds and fetches must be specified\n</code></pre>\n<p>which comes from <div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/85d4102862c781af2346b4aa568054522e8946ea/tensorflow/compiler/aot/tfcompile_util.cc#L119\">tensorflow/tensorflow/compiler/aot/tfcompile_util.cc</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 119\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/85d4102862c781af2346b4aa568054522e8946ea\">85d4102</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L119\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"119\"></td>\n          <td id=\"LC119\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">return</span> <span class=\"pl-c1\">errors::InvalidArgument</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>feeds and fetches must be specified<span class=\"pl-pds\">\"</span></span>); </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<p>I don't really know anything about how the compiler works, but is this check in place because it was assumed that you'd always want to have an input, or because of some other limitation that would cause the compilation to fail with no feeds?</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.2.1 (git version v1.2.0-2140-g85d4102)\nPython version: 3.5.2\nBazel version (if compiling from source): 0.5.2\nCUDA/cuDNN version: 5.1.5\nGPU model and memory: GeForce GTX 970 4GB\n\nDescribe the problem\nI have been working on a char-rnn like network that is trained on a corpus of text, and then produces similar text as output. I'm trying to compile the graph, but tfcompile asserts that the list of feeds is non-empty. However, since for my network there are no inputs to specify as feeds, tfcompile fails.\nSource code / logs\nThe configuration I tried to use looks like this:\nfetch {\n  id { node_name: \"predictions\" }\n}\n\nThe error message:\nINVALID ARGUMENTS: feeds and fetches must be specified\n\nwhich comes from \n  \n    \n      tensorflow/tensorflow/compiler/aot/tfcompile_util.cc\n    \n    \n         Line 119\n      in\n      85d4102\n    \n    \n    \n    \n\n        \n          \n           return errors::InvalidArgument(\"feeds and fetches must be specified\"); \n        \n    \n  \n\n\nI don't really know anything about how the compiler works, but is this check in place because it was assumed that you'd always want to have an input, or because of some other limitation that would cause the compilation to fail with no feeds?", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.2.1 (git version v1.2.0-2140-g85d4102)\r\n- **Python version**: 3.5.2\r\n- **Bazel version (if compiling from source)**: 0.5.2\r\n- **CUDA/cuDNN version**: 5.1.5\r\n- **GPU model and memory**: GeForce GTX 970 4GB\r\n\r\n### Describe the problem\r\n\r\nI have been working on a char-rnn like network that is trained on a corpus of text, and then produces similar text as output. I'm trying to compile the graph, but tfcompile asserts that the list of feeds is non-empty. However, since for my network there are no inputs to specify as feeds, tfcompile fails.\r\n\r\n### Source code / logs\r\n\r\nThe configuration I tried to use looks like this:\r\n\r\n```\r\nfetch {\r\n  id { node_name: \"predictions\" }\r\n}\r\n```\r\n\r\nThe error message:\r\n```\r\nINVALID ARGUMENTS: feeds and fetches must be specified\r\n```\r\nwhich comes from https://github.com/tensorflow/tensorflow/blob/85d4102862c781af2346b4aa568054522e8946ea/tensorflow/compiler/aot/tfcompile_util.cc#L119\r\n\r\nI don't really know anything about how the compiler works, but is this check in place because it was assumed that you'd always want to have an input, or because of some other limitation that would cause the compilation to fail with no feeds?"}