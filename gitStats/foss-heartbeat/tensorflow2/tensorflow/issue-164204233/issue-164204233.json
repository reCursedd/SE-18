{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3211", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3211/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3211/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3211/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3211", "id": 164204233, "node_id": "MDU6SXNzdWUxNjQyMDQyMzM=", "number": 3211, "title": "ValueError: Shape (?, ?) must have rank 1", "user": {"login": "trunerd", "id": 19718420, "node_id": "MDQ6VXNlcjE5NzE4NDIw", "avatar_url": "https://avatars1.githubusercontent.com/u/19718420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trunerd", "html_url": "https://github.com/trunerd", "followers_url": "https://api.github.com/users/trunerd/followers", "following_url": "https://api.github.com/users/trunerd/following{/other_user}", "gists_url": "https://api.github.com/users/trunerd/gists{/gist_id}", "starred_url": "https://api.github.com/users/trunerd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trunerd/subscriptions", "organizations_url": "https://api.github.com/users/trunerd/orgs", "repos_url": "https://api.github.com/users/trunerd/repos", "events_url": "https://api.github.com/users/trunerd/events{/privacy}", "received_events_url": "https://api.github.com/users/trunerd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-07-07T00:26:26Z", "updated_at": "2016-10-13T03:13:56Z", "closed_at": "2016-07-18T18:06:46Z", "author_association": "NONE", "body_html": "<p>r9.0</p>\n<p>code:</p>\n<pre><code>tensor_shape = tf.reshape(tf.shape(tensor), shape=[2])\nindexes = tf.reshape(sparse_tensor.indices, shape=tensor_shape)\n\ntf.slice(indexes, one, two)\n// Where one and two are tensor constants\nOR\ntf.slice(sparse_tensor.indices, one, two)\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>minus_1_index = tf.slice(indexes, minus_1, one)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 251, in slice\n    return gen_array_ops._slice(input_, begin, size, name=name)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 1634, in _slice\n    name=name)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 704, in apply_op\n    op_def=op_def)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 2262, in create_op\n    set_shapes_for_outputs(ret)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 1702, in set_shapes_for_outputs\n    shapes = shape_func(op)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1054, in _SliceShape\n    input_shape.assert_has_rank(ndims)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 621, in assert_has_rank\n    raise ValueError(\"Shape %s must have rank %d\" % (self, rank))\nValueError: Shape (?, ?) must have rank 1\n</code></pre>\n<p>Obviously it does have a rank of 1 but the dim itself is unknown</p>", "body_text": "r9.0\ncode:\ntensor_shape = tf.reshape(tf.shape(tensor), shape=[2])\nindexes = tf.reshape(sparse_tensor.indices, shape=tensor_shape)\n\ntf.slice(indexes, one, two)\n// Where one and two are tensor constants\nOR\ntf.slice(sparse_tensor.indices, one, two)\n\nStack trace:\nminus_1_index = tf.slice(indexes, minus_1, one)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 251, in slice\n    return gen_array_ops._slice(input_, begin, size, name=name)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 1634, in _slice\n    name=name)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 704, in apply_op\n    op_def=op_def)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 2262, in create_op\n    set_shapes_for_outputs(ret)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 1702, in set_shapes_for_outputs\n    shapes = shape_func(op)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1054, in _SliceShape\n    input_shape.assert_has_rank(ndims)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 621, in assert_has_rank\n    raise ValueError(\"Shape %s must have rank %d\" % (self, rank))\nValueError: Shape (?, ?) must have rank 1\n\nObviously it does have a rank of 1 but the dim itself is unknown", "body": "r9.0\n\ncode:\n\n```\ntensor_shape = tf.reshape(tf.shape(tensor), shape=[2])\nindexes = tf.reshape(sparse_tensor.indices, shape=tensor_shape)\n\ntf.slice(indexes, one, two)\n// Where one and two are tensor constants\nOR\ntf.slice(sparse_tensor.indices, one, two)\n```\n\nStack trace:\n\n```\nminus_1_index = tf.slice(indexes, minus_1, one)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 251, in slice\n    return gen_array_ops._slice(input_, begin, size, name=name)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 1634, in _slice\n    name=name)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 704, in apply_op\n    op_def=op_def)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 2262, in create_op\n    set_shapes_for_outputs(ret)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 1702, in set_shapes_for_outputs\n    shapes = shape_func(op)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1054, in _SliceShape\n    input_shape.assert_has_rank(ndims)\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 621, in assert_has_rank\n    raise ValueError(\"Shape %s must have rank %d\" % (self, rank))\nValueError: Shape (?, ?) must have rank 1\n```\n\nObviously it does have a rank of 1 but the dim itself is unknown\n"}