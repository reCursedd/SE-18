{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/315681204", "html_url": "https://github.com/tensorflow/tensorflow/issues/717#issuecomment-315681204", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/717", "id": 315681204, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTY4MTIwNA==", "user": {"login": "igor0", "id": 5833231, "node_id": "MDQ6VXNlcjU4MzMyMzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5833231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igor0", "html_url": "https://github.com/igor0", "followers_url": "https://api.github.com/users/igor0/followers", "following_url": "https://api.github.com/users/igor0/following{/other_user}", "gists_url": "https://api.github.com/users/igor0/gists{/gist_id}", "starred_url": "https://api.github.com/users/igor0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igor0/subscriptions", "organizations_url": "https://api.github.com/users/igor0/orgs", "repos_url": "https://api.github.com/users/igor0/repos", "events_url": "https://api.github.com/users/igor0/events{/privacy}", "received_events_url": "https://api.github.com/users/igor0/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-17T07:07:06Z", "updated_at": "2017-07-17T07:07:06Z", "author_association": "NONE", "body_html": "<p>I hit bazel hangs on Ubuntu that looked similar. In my case, there were a bunch of \"linux-sandbox\" processes that were in uninterruptible sleep ('D' state shown in ps). Looking at stack traces, the linux-sandbox processes were hung in the kernel in the NFS client.</p>\n<p>I had a stale NFS mount pointed at a server that was no longer live. I've had the system in this state for weeks, but it didn't impact anything I was doing. I brought up an NFS server on the IP address where NFS mount was pointed to, and this allowed me to unmount. After that, bazel started running without issues.</p>\n<p>I didn't investigate further after resolving my issue, but I suspect that as a part of creating the sandbox, user namespace creation enumerates the mounts. If the system has a hung mount, this will hang bazel. This was surprising to me (the user) because the hung mount had no relation to the directory where I was running bazel.</p>", "body_text": "I hit bazel hangs on Ubuntu that looked similar. In my case, there were a bunch of \"linux-sandbox\" processes that were in uninterruptible sleep ('D' state shown in ps). Looking at stack traces, the linux-sandbox processes were hung in the kernel in the NFS client.\nI had a stale NFS mount pointed at a server that was no longer live. I've had the system in this state for weeks, but it didn't impact anything I was doing. I brought up an NFS server on the IP address where NFS mount was pointed to, and this allowed me to unmount. After that, bazel started running without issues.\nI didn't investigate further after resolving my issue, but I suspect that as a part of creating the sandbox, user namespace creation enumerates the mounts. If the system has a hung mount, this will hang bazel. This was surprising to me (the user) because the hung mount had no relation to the directory where I was running bazel.", "body": "I hit bazel hangs on Ubuntu that looked similar. In my case, there were a bunch of \"linux-sandbox\" processes that were in uninterruptible sleep ('D' state shown in ps). Looking at stack traces, the linux-sandbox processes were hung in the kernel in the NFS client.\r\n\r\nI had a stale NFS mount pointed at a server that was no longer live. I've had the system in this state for weeks, but it didn't impact anything I was doing. I brought up an NFS server on the IP address where NFS mount was pointed to, and this allowed me to unmount. After that, bazel started running without issues.\r\n\r\nI didn't investigate further after resolving my issue, but I suspect that as a part of creating the sandbox, user namespace creation enumerates the mounts. If the system has a hung mount, this will hang bazel. This was surprising to me (the user) because the hung mount had no relation to the directory where I was running bazel."}