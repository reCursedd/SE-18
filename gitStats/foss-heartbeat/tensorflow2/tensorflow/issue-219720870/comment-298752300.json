{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/298752300", "html_url": "https://github.com/tensorflow/tensorflow/pull/8999#issuecomment-298752300", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8999", "id": 298752300, "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODc1MjMwMA==", "user": {"login": "samjabrahams", "id": 11607205, "node_id": "MDQ6VXNlcjExNjA3MjA1", "avatar_url": "https://avatars0.githubusercontent.com/u/11607205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samjabrahams", "html_url": "https://github.com/samjabrahams", "followers_url": "https://api.github.com/users/samjabrahams/followers", "following_url": "https://api.github.com/users/samjabrahams/following{/other_user}", "gists_url": "https://api.github.com/users/samjabrahams/gists{/gist_id}", "starred_url": "https://api.github.com/users/samjabrahams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samjabrahams/subscriptions", "organizations_url": "https://api.github.com/users/samjabrahams/orgs", "repos_url": "https://api.github.com/users/samjabrahams/repos", "events_url": "https://api.github.com/users/samjabrahams/events{/privacy}", "received_events_url": "https://api.github.com/users/samjabrahams/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-02T20:32:11Z", "updated_at": "2017-05-02T20:32:11Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Making a bit of progress figuring out what's going wrong (at least for this leg of it). It looks like somewhere between <code>quantize_graph_test.py</code> and <code>quantize_graph.py</code>, a <code>GraphDef</code> containing two nodes with the same name is getting passed along to <code>import_graph_def()</code>. This causes an error when <code>import_graph_def()</code> attempts to find the inputs for each operation, as the inputs being assigned to the \"Dequantize\" op are those from another operation (in this case, the other operation doesn't have any inputs).</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/importer.py#L305-L313\">Relevant section of <code>import_graph_def()</code></a></p>\n<p>I'll keep poking to see where the hiccup is. In the meantime, would it be a good idea to add a check in <code>import_graph_def()</code> to make sure there aren't duplicate operation names in the <code>GraphDef</code>?</p>", "body_text": "Making a bit of progress figuring out what's going wrong (at least for this leg of it). It looks like somewhere between quantize_graph_test.py and quantize_graph.py, a GraphDef containing two nodes with the same name is getting passed along to import_graph_def(). This causes an error when import_graph_def() attempts to find the inputs for each operation, as the inputs being assigned to the \"Dequantize\" op are those from another operation (in this case, the other operation doesn't have any inputs).\nRelevant section of import_graph_def()\nI'll keep poking to see where the hiccup is. In the meantime, would it be a good idea to add a check in import_graph_def() to make sure there aren't duplicate operation names in the GraphDef?", "body": "Making a bit of progress figuring out what's going wrong (at least for this leg of it). It looks like somewhere between `quantize_graph_test.py` and `quantize_graph.py`, a `GraphDef` containing two nodes with the same name is getting passed along to `import_graph_def()`. This causes an error when `import_graph_def()` attempts to find the inputs for each operation, as the inputs being assigned to the \"Dequantize\" op are those from another operation (in this case, the other operation doesn't have any inputs).\r\n\r\n[Relevant section of `import_graph_def()`](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/importer.py#L305-L313)\r\n\r\nI'll keep poking to see where the hiccup is. In the meantime, would it be a good idea to add a check in `import_graph_def()` to make sure there aren't duplicate operation names in the `GraphDef`?"}