{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23619", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23619/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23619/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23619/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23619", "id": 379048110, "node_id": "MDU6SXNzdWUzNzkwNDgxMTA=", "number": 23619, "title": "tf.contrib.distributions.percentile didn't support eager execution", "user": {"login": "JiangKui007", "id": 19632263, "node_id": "MDQ6VXNlcjE5NjMyMjYz", "avatar_url": "https://avatars1.githubusercontent.com/u/19632263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JiangKui007", "html_url": "https://github.com/JiangKui007", "followers_url": "https://api.github.com/users/JiangKui007/followers", "following_url": "https://api.github.com/users/JiangKui007/following{/other_user}", "gists_url": "https://api.github.com/users/JiangKui007/gists{/gist_id}", "starred_url": "https://api.github.com/users/JiangKui007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JiangKui007/subscriptions", "organizations_url": "https://api.github.com/users/JiangKui007/orgs", "repos_url": "https://api.github.com/users/JiangKui007/repos", "events_url": "https://api.github.com/users/JiangKui007/events{/privacy}", "received_events_url": "https://api.github.com/users/JiangKui007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": {"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-11-09T07:12:31Z", "updated_at": "2018-11-19T19:54:23Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><em>Please make sure that this is a feature request. As per our <a href=\"https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md\">GitHub Policy</a>, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em></p>\n<p><strong>System information</strong></p>\n<ul>\n<li>TensorFlow version (you are using):tensorflow-py2-cpu API r1.1</li>\n<li>Are you willing to contribute it (Yes/No): Yes</li>\n</ul>\n<p><strong>Describe the feature and the current behavior/state.</strong><br>\nWhen I using the eager execution. I try this:</p>\n<pre><code>import tensorflow as tf\n\ntf.enable_eager_execution()\n\nx = tf.constant([1,2,3,4],dtype='float64')\ny = tf.contrib.distributions.percentile(x,q=30)\n</code></pre>\n<p>will report an error:</p>\n<blockquote>\n<p>TypeErrorTraceback</p>\n<p>(most recent call last)<br>\n in ()<br>\n4<br>\n5 x = tf.constant([1,2,3,4],dtype='float64')<br>\n----&gt; 6 y = tf.contrib.distributions.percentile(x,q=30)</p>\n<p>/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/distributions/python/ops/sample_stats.pyc in percentile(x, q, axis, interpolation, keep_dims, validate_args, name)<br>\n301                        (allowed_interpolations, interpolation))<br>\n302<br>\n--&gt; 303   with ops.name_scope(name, [x, q]):<br>\n304     x = ops.convert_to_tensor(x, name=\"x\")<br>\n305     # Double is needed here and below, else we get the wrong index if the array</p>\n<p>/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.pyc in <strong>enter</strong>(self)<br>\n5743       else:<br>\n5744         cache_key = self._name, self._old_name, self._default_name<br>\n-&gt; 5745         if cache_key in name_scope_cache:<br>\n5746           self._ctx.scope_name = name_scope_cache[cache_key]<br>\n5747           return self._ctx.scope_name</p>\n<p>TypeError: unhashable type: 'list'</p>\n</blockquote>\n<p>but when I use tf.Session() to run the same code block:</p>\n<pre><code>import tensorflow as tf\nx = tf.constant([1,2,3,4],dtype='float64')\ny = tf.contrib.distributions.percentile(x,q=30)\nwith tf.Session() as sess:\n    print sess.run(y)\n\n</code></pre>\n<p>It worked and report that I wanted:<br>\n<code>2.0</code></p>\n<p><strong>Will this change the current api? How?</strong></p>\n<p><strong>Who will benefit with this feature?</strong></p>\n<p><strong>Any Other info.</strong></p>\n<p>I'm using tensorflow to make some calculate. Eager is very help but this problem stop me to use it.</p>\n<p>Thanks for anyone will fix it.</p>", "body_text": "Please make sure that this is a feature request. As per our GitHub Policy, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template\nSystem information\n\nTensorFlow version (you are using):tensorflow-py2-cpu API r1.1\nAre you willing to contribute it (Yes/No): Yes\n\nDescribe the feature and the current behavior/state.\nWhen I using the eager execution. I try this:\nimport tensorflow as tf\n\ntf.enable_eager_execution()\n\nx = tf.constant([1,2,3,4],dtype='float64')\ny = tf.contrib.distributions.percentile(x,q=30)\n\nwill report an error:\n\nTypeErrorTraceback\n(most recent call last)\n in ()\n4\n5 x = tf.constant([1,2,3,4],dtype='float64')\n----> 6 y = tf.contrib.distributions.percentile(x,q=30)\n/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/distributions/python/ops/sample_stats.pyc in percentile(x, q, axis, interpolation, keep_dims, validate_args, name)\n301                        (allowed_interpolations, interpolation))\n302\n--> 303   with ops.name_scope(name, [x, q]):\n304     x = ops.convert_to_tensor(x, name=\"x\")\n305     # Double is needed here and below, else we get the wrong index if the array\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.pyc in enter(self)\n5743       else:\n5744         cache_key = self._name, self._old_name, self._default_name\n-> 5745         if cache_key in name_scope_cache:\n5746           self._ctx.scope_name = name_scope_cache[cache_key]\n5747           return self._ctx.scope_name\nTypeError: unhashable type: 'list'\n\nbut when I use tf.Session() to run the same code block:\nimport tensorflow as tf\nx = tf.constant([1,2,3,4],dtype='float64')\ny = tf.contrib.distributions.percentile(x,q=30)\nwith tf.Session() as sess:\n    print sess.run(y)\n\n\nIt worked and report that I wanted:\n2.0\nWill this change the current api? How?\nWho will benefit with this feature?\nAny Other info.\nI'm using tensorflow to make some calculate. Eager is very help but this problem stop me to use it.\nThanks for anyone will fix it.", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using):tensorflow-py2-cpu API r1.1\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\nWhen I using the eager execution. I try this:\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\ntf.enable_eager_execution()\r\n\r\nx = tf.constant([1,2,3,4],dtype='float64')\r\ny = tf.contrib.distributions.percentile(x,q=30)\r\n```\r\n\r\nwill report an error:\r\n\r\n> TypeErrorTraceback\r\n> \r\n>  (most recent call last)\r\n> <ipython-input-1-b7b170c83880> in <module>()\r\n>       4 \r\n>       5 x = tf.constant([1,2,3,4],dtype='float64')\r\n> ----> 6 y = tf.contrib.distributions.percentile(x,q=30)\r\n> \r\n> /usr/local/lib/python2.7/dist-packages/tensorflow/contrib/distributions/python/ops/sample_stats.pyc in percentile(x, q, axis, interpolation, keep_dims, validate_args, name)\r\n>     301                        (allowed_interpolations, interpolation))\r\n>     302 \r\n> --> 303   with ops.name_scope(name, [x, q]):\r\n>     304     x = ops.convert_to_tensor(x, name=\"x\")\r\n>     305     # Double is needed here and below, else we get the wrong index if the array\r\n> \r\n> /usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.pyc in __enter__(self)\r\n>    5743       else:\r\n>    5744         cache_key = self._name, self._old_name, self._default_name\r\n> -> 5745         if cache_key in name_scope_cache:\r\n>    5746           self._ctx.scope_name = name_scope_cache[cache_key]\r\n>    5747           return self._ctx.scope_name\r\n> \r\n> TypeError: unhashable type: 'list'\r\n\r\nbut when I use tf.Session() to run the same code block:\r\n\r\n```\r\nimport tensorflow as tf\r\nx = tf.constant([1,2,3,4],dtype='float64')\r\ny = tf.contrib.distributions.percentile(x,q=30)\r\nwith tf.Session() as sess:\r\n    print sess.run(y)\r\n\r\n```\r\nIt worked and report that I wanted:\r\n`2.0`\r\n\r\n**Will this change the current api? How?**\r\n\r\n**Who will benefit with this feature?**\r\n\r\n**Any Other info.**\r\n\r\nI'm using tensorflow to make some calculate. Eager is very help but this problem stop me to use it.\r\n\r\nThanks for anyone will fix it."}