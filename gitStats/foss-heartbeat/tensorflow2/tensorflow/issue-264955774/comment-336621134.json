{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/336621134", "html_url": "https://github.com/tensorflow/tensorflow/issues/13664#issuecomment-336621134", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13664", "id": 336621134, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjYyMTEzNA==", "user": {"login": "Leslie-Fang", "id": 16850179, "node_id": "MDQ6VXNlcjE2ODUwMTc5", "avatar_url": "https://avatars2.githubusercontent.com/u/16850179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Leslie-Fang", "html_url": "https://github.com/Leslie-Fang", "followers_url": "https://api.github.com/users/Leslie-Fang/followers", "following_url": "https://api.github.com/users/Leslie-Fang/following{/other_user}", "gists_url": "https://api.github.com/users/Leslie-Fang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Leslie-Fang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Leslie-Fang/subscriptions", "organizations_url": "https://api.github.com/users/Leslie-Fang/orgs", "repos_url": "https://api.github.com/users/Leslie-Fang/repos", "events_url": "https://api.github.com/users/Leslie-Fang/events{/privacy}", "received_events_url": "https://api.github.com/users/Leslie-Fang/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-14T08:50:30Z", "updated_at": "2017-10-14T10:07:52Z", "author_association": "NONE", "body_html": "<p>Hi, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=24963061\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mahmoud-abuzaina\">@mahmoud-abuzaina</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5453737\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tatatodd\">@tatatodd</a>  I have try build the TF in the master branch:commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/7cdd26f606b39e3e487ec15dfa6eb5c6cf63ef84/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/7cdd26f606b39e3e487ec15dfa6eb5c6cf63ef84\"><tt>7cdd26f</tt></a> with bazel 0.6.1<br>\nOS: redhat 7.4<br>\nThe build command is:<br>\n<strong>bazel build --config=mkl --copt=\"-g\" --copt=\"-DEIGEN_USE_VML\" --copt=\"-mavx2\" --copt=\"-mfma\" --copt=\"-O3\" --verbose_failures --copt=\"-L/opt/intel/gcc/lib64\" -s -c opt //tensorflow/tools/pip_package:build_pip_package</strong><br>\nIt failed with the error:<br>\n_ERROR: /root/tensorflow/tensorflow/python/BUILD:1373:1: Linking of rule '//tensorflow/python:gen_string_ops_py_wrappers_cc' failed (Exit 1): gcc failed: error executing command<br>\nbazel-out/host/bin/_solib_k8/_U_S_Stensorflow_Spython_Cgen_Ustring_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: error: undefined reference to 'tensorflow::MklCPUAllocator::kName'<br>\nbazel-out/host/bin/_solib_k8/<em>U_S_Stensorflow_Spython_Cgen_Ustring_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: error: undefined reference to 'tensorflow::MklCPUAllocator::kMaxLimitStr'</em></p>\n<p>Do you have any idea?</p>\n<p>\u300a====================\u300b<br>\nuodated 2017-10-14<br>\nsame environment build with TF-1.4.0-rc0 success<br>\nand confirm run the benchmark with TF-1.4.0-rc0 would encounter the  \"MaxPoolingOp only supports NHWC\" sighting.</p>", "body_text": "Hi, @mahmoud-abuzaina @tatatodd  I have try build the TF in the master branch:commit 7cdd26f with bazel 0.6.1\nOS: redhat 7.4\nThe build command is:\nbazel build --config=mkl --copt=\"-g\" --copt=\"-DEIGEN_USE_VML\" --copt=\"-mavx2\" --copt=\"-mfma\" --copt=\"-O3\" --verbose_failures --copt=\"-L/opt/intel/gcc/lib64\" -s -c opt //tensorflow/tools/pip_package:build_pip_package\nIt failed with the error:\n_ERROR: /root/tensorflow/tensorflow/python/BUILD:1373:1: Linking of rule '//tensorflow/python:gen_string_ops_py_wrappers_cc' failed (Exit 1): gcc failed: error executing command\nbazel-out/host/bin/_solib_k8/_U_S_Stensorflow_Spython_Cgen_Ustring_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: error: undefined reference to 'tensorflow::MklCPUAllocator::kName'\nbazel-out/host/bin/_solib_k8/U_S_Stensorflow_Spython_Cgen_Ustring_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: error: undefined reference to 'tensorflow::MklCPUAllocator::kMaxLimitStr'\nDo you have any idea?\n\u300a====================\u300b\nuodated 2017-10-14\nsame environment build with TF-1.4.0-rc0 success\nand confirm run the benchmark with TF-1.4.0-rc0 would encounter the  \"MaxPoolingOp only supports NHWC\" sighting.", "body": "Hi, @mahmoud-abuzaina @tatatodd  I have try build the TF in the master branch:commit 7cdd26f606b39e3e487ec15dfa6eb5c6cf63ef84 with bazel 0.6.1\r\nOS: redhat 7.4\r\nThe build command is:\r\n**bazel build --config=mkl --copt=\"-g\" --copt=\"-DEIGEN_USE_VML\" --copt=\"-mavx2\" --copt=\"-mfma\" --copt=\"-O3\" --verbose_failures --copt=\"-L/opt/intel/gcc/lib64\" -s -c opt //tensorflow/tools/pip_package:build_pip_package**\r\nIt failed with the error:\r\n_ERROR: /root/tensorflow/tensorflow/python/BUILD:1373:1: Linking of rule '//tensorflow/python:gen_string_ops_py_wrappers_cc' failed (Exit 1): gcc failed: error executing command\r\nbazel-out/host/bin/_solib_k8/_U_S_Stensorflow_Spython_Cgen_Ustring_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: error: undefined reference to 'tensorflow::MklCPUAllocator::kName'\r\nbazel-out/host/bin/_solib_k8/_U_S_Stensorflow_Spython_Cgen_Ustring_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: error: undefined reference to 'tensorflow::MklCPUAllocator::kMaxLimitStr'_\r\n\r\nDo you have any idea?\r\n\r\n\u300a====================\u300b\r\nuodated 2017-10-14\r\nsame environment build with TF-1.4.0-rc0 success\r\nand confirm run the benchmark with TF-1.4.0-rc0 would encounter the  \"MaxPoolingOp only supports NHWC\" sighting.\r\n"}