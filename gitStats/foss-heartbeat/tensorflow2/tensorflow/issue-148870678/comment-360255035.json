{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/360255035", "html_url": "https://github.com/tensorflow/tensorflow/issues/1984#issuecomment-360255035", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1984", "id": 360255035, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDI1NTAzNQ==", "user": {"login": "mholzel", "id": 7227349, "node_id": "MDQ6VXNlcjcyMjczNDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/7227349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mholzel", "html_url": "https://github.com/mholzel", "followers_url": "https://api.github.com/users/mholzel/followers", "following_url": "https://api.github.com/users/mholzel/following{/other_user}", "gists_url": "https://api.github.com/users/mholzel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mholzel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mholzel/subscriptions", "organizations_url": "https://api.github.com/users/mholzel/orgs", "repos_url": "https://api.github.com/users/mholzel/repos", "events_url": "https://api.github.com/users/mholzel/events{/privacy}", "received_events_url": "https://api.github.com/users/mholzel/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-24T19:58:33Z", "updated_at": "2018-01-24T19:58:33Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I could do the PR, but I still do not understand this completely myself....</p>\n<p>I think the docs should be updated with a MWE to illustrate exactly what is going on. If you have a good example which demonstrates good vs bad practice, I would appreciate it. Particularly, I think the docs need to have an example that illustrates the \"gotchas\" here, that is, the innocuous things that might be slowing down the ability to parallelize the loop.</p>\n<p>For instance, a \"while loop\" written to emulate the behavior of a \"for loop\" will have an internal counter. Will that counter limit tensorflow's ability to parallelize the loop?<br>\nExample:</p>\n<pre><code>i = tf.constant(0) \nx = ... \ncond_ix = lambda i, x: tf.less(i, 10) \n\ndef body1(i, x):\n       y = f(x)\n       return i+1, y  \ntf.while_loop(cond_ix, body1, [i, x])\n</code></pre>\n<p>A fundamental question that I cannot tease out of your statements is whether more than one call to <code>body1(x)</code> can run in parallel?</p>", "body_text": "I could do the PR, but I still do not understand this completely myself....\nI think the docs should be updated with a MWE to illustrate exactly what is going on. If you have a good example which demonstrates good vs bad practice, I would appreciate it. Particularly, I think the docs need to have an example that illustrates the \"gotchas\" here, that is, the innocuous things that might be slowing down the ability to parallelize the loop.\nFor instance, a \"while loop\" written to emulate the behavior of a \"for loop\" will have an internal counter. Will that counter limit tensorflow's ability to parallelize the loop?\nExample:\ni = tf.constant(0) \nx = ... \ncond_ix = lambda i, x: tf.less(i, 10) \n\ndef body1(i, x):\n       y = f(x)\n       return i+1, y  \ntf.while_loop(cond_ix, body1, [i, x])\n\nA fundamental question that I cannot tease out of your statements is whether more than one call to body1(x) can run in parallel?", "body": "I could do the PR, but I still do not understand this completely myself....\r\n\r\nI think the docs should be updated with a MWE to illustrate exactly what is going on. If you have a good example which demonstrates good vs bad practice, I would appreciate it. Particularly, I think the docs need to have an example that illustrates the \"gotchas\" here, that is, the innocuous things that might be slowing down the ability to parallelize the loop. \r\n\r\nFor instance, a \"while loop\" written to emulate the behavior of a \"for loop\" will have an internal counter. Will that counter limit tensorflow's ability to parallelize the loop? \r\nExample:\r\n\r\n```\r\ni = tf.constant(0) \r\nx = ... \r\ncond_ix = lambda i, x: tf.less(i, 10) \r\n\r\ndef body1(i, x):\r\n       y = f(x)\r\n       return i+1, y  \r\ntf.while_loop(cond_ix, body1, [i, x])\r\n```\r\n\r\nA fundamental question that I cannot tease out of your statements is whether more than one call to `body1(x)` can run in parallel? \r\n"}