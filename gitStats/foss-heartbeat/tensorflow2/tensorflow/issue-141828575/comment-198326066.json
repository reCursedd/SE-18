{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/198326066", "html_url": "https://github.com/tensorflow/tensorflow/issues/1542#issuecomment-198326066", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1542", "id": 198326066, "node_id": "MDEyOklzc3VlQ29tbWVudDE5ODMyNjA2Ng==", "user": {"login": "saustar", "id": 17424990, "node_id": "MDQ6VXNlcjE3NDI0OTkw", "avatar_url": "https://avatars1.githubusercontent.com/u/17424990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saustar", "html_url": "https://github.com/saustar", "followers_url": "https://api.github.com/users/saustar/followers", "following_url": "https://api.github.com/users/saustar/following{/other_user}", "gists_url": "https://api.github.com/users/saustar/gists{/gist_id}", "starred_url": "https://api.github.com/users/saustar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saustar/subscriptions", "organizations_url": "https://api.github.com/users/saustar/orgs", "repos_url": "https://api.github.com/users/saustar/repos", "events_url": "https://api.github.com/users/saustar/events{/privacy}", "received_events_url": "https://api.github.com/users/saustar/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-18T12:09:40Z", "updated_at": "2016-03-18T12:09:40Z", "author_association": "NONE", "body_html": "<p>bazel version<br>\nBuild label: 0.2.0-jdk7</p>\n<p>Android NDK r9</p>\n<p>if I comment out all the libpthread.so from BUILD files I get following<br>\nerror. I was getting this error when I used Android NDK r11:<br>\nERROR:<br>\n/home/saurabh/.cache/bazel/_bazel_saurabh/b5e3c50abcfa34dcecd4eb2855a378fe/external/re2/BUILD:9:1:<br>\nC++ compilation of rule '@re2//:re2' failed: arm-linux-androideabi-gcc<br>\nfailed: error executing command<br>\n(cd<br>\n/home/saurabh/.cache/bazel/_bazel_saurabh/b5e3c50abcfa34dcecd4eb2855a378fe/tensorflow<br>\n&amp;&amp; <br>\nexec env - \\</p>\n<p>PATH=/home/saurabh/anaconda2/bin:/home/saurabh/bin:/usr/lib/jvm/java-1.7.0-openjdk-amd64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games<br>\n\\</p>\n<p>external/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/bin/arm-linux-androideabi-gcc<br>\n-fstack-protector-strong -fpic -ffunction-sections -funwind-tables<br>\n-no-canonical-prefixes -fno-canonical-system-headers '-march=armv7-a'<br>\n'-mfpu=vfpv3-d16' '-mfloat-abi=softfp' -iquote external/re2 -iquote<br>\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2<br>\n-iquote external/bazel_tools -iquote<br>\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/bazel_tools<br>\n-isystem external/re2 -isystem<br>\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2<br>\n-isystem external/bazel_tools/tools/cpp/gcc3<br>\n'--sysroot=external/androidndk/ndk/platforms/android-21/arch-arm' -isystem<br>\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include<br>\n-isystem<br>\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include-fixed<br>\n-isystem external/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include<br>\n-isystem<br>\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/libs/armeabi-v7a/include<br>\n-isystem<br>\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include/backward<br>\n'-frandom-seed=bazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o'<br>\n-MD -MF<br>\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.d<br>\n-c external/re2/re2/bitstate.cc -o<br>\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o):<br>\narm-linux-androideabi-gcc failed: error executing command<br>\n(cd<br>\n/home/saurabh/.cache/bazel/_bazel_saurabh/b5e3c50abcfa34dcecd4eb2855a378fe/tensorflow<br>\n&amp;&amp; <br>\nexec env - \\</p>\n<p>PATH=/home/saurabh/anaconda2/bin:/home/saurabh/bin:/usr/lib/jvm/java-1.7.0-openjdk-amd64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games<br>\n\\</p>\n<p>external/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/bin/arm-linux-androideabi-gcc<br>\n-fstack-protector-strong -fpic -ffunction-sections -funwind-tables<br>\n-no-canonical-prefixes -fno-canonical-system-headers '-march=armv7-a'<br>\n'-mfpu=vfpv3-d16' '-mfloat-abi=softfp' -iquote external/re2 -iquote<br>\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2<br>\n-iquote external/bazel_tools -iquote<br>\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/bazel_tools<br>\n-isystem external/re2 -isystem<br>\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2<br>\n-isystem external/bazel_tools/tools/cpp/gcc3<br>\n'--sysroot=external/androidndk/ndk/platforms/android-21/arch-arm' -isystem<br>\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include<br>\n-isystem<br>\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include-fixed<br>\n-isystem external/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include<br>\n-isystem<br>\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/libs/armeabi-v7a/include<br>\n-isystem<br>\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include/backward<br>\n'-frandom-seed=bazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o'<br>\n-MD -MF<br>\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.d<br>\n-c external/re2/re2/bitstate.cc -o<br>\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o).<br>\nsrc/main/tools/namespace-sandbox.c:672: execvp(argv[0], argv): No such file<br>\nor directory<br>\nTarget //tensorflow/examples/android:tensorflow_demo failed to build</p>\n<p>On Fri, Mar 18, 2016 at 5:21 PM, Andrew Harp <a href=\"mailto:notifications@github.com\">notifications@github.com</a><br>\nwrote:</p>\n<blockquote>\n<p>Hi, what exact command are you using to build? What versions of Bazel and<br>\nthe Android NDK are you using?</p>\n<p>It appears you're having an issue linking in the dummy pthread target.<br>\nDoes it work if you comment out the libpthread.so dependencies in<br>\ntensorflow/examples/android/BUILD, and also remove \"-lpthread\" from<br>\nLINK_OPTS in google/protobuf/BUILD?</p>\n<p>\u2014<br>\nYou are receiving this because you authored the thread.<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"141828575\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1542\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1542/hovercard?comment_id=198321975&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/1542#issuecomment-198321975\">#1542 (comment)</a></p>\n</blockquote>\n<h2></h2>\n<p>Saurabh Gupta<br>\n+918377943044</p>", "body_text": "bazel version\nBuild label: 0.2.0-jdk7\nAndroid NDK r9\nif I comment out all the libpthread.so from BUILD files I get following\nerror. I was getting this error when I used Android NDK r11:\nERROR:\n/home/saurabh/.cache/bazel/_bazel_saurabh/b5e3c50abcfa34dcecd4eb2855a378fe/external/re2/BUILD:9:1:\nC++ compilation of rule '@re2//:re2' failed: arm-linux-androideabi-gcc\nfailed: error executing command\n(cd\n/home/saurabh/.cache/bazel/_bazel_saurabh/b5e3c50abcfa34dcecd4eb2855a378fe/tensorflow\n&& \nexec env - \\\nPATH=/home/saurabh/anaconda2/bin:/home/saurabh/bin:/usr/lib/jvm/java-1.7.0-openjdk-amd64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games\n\\\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/bin/arm-linux-androideabi-gcc\n-fstack-protector-strong -fpic -ffunction-sections -funwind-tables\n-no-canonical-prefixes -fno-canonical-system-headers '-march=armv7-a'\n'-mfpu=vfpv3-d16' '-mfloat-abi=softfp' -iquote external/re2 -iquote\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2\n-iquote external/bazel_tools -iquote\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/bazel_tools\n-isystem external/re2 -isystem\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2\n-isystem external/bazel_tools/tools/cpp/gcc3\n'--sysroot=external/androidndk/ndk/platforms/android-21/arch-arm' -isystem\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include\n-isystem\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include-fixed\n-isystem external/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include\n-isystem\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/libs/armeabi-v7a/include\n-isystem\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include/backward\n'-frandom-seed=bazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o'\n-MD -MF\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.d\n-c external/re2/re2/bitstate.cc -o\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o):\narm-linux-androideabi-gcc failed: error executing command\n(cd\n/home/saurabh/.cache/bazel/_bazel_saurabh/b5e3c50abcfa34dcecd4eb2855a378fe/tensorflow\n&& \nexec env - \\\nPATH=/home/saurabh/anaconda2/bin:/home/saurabh/bin:/usr/lib/jvm/java-1.7.0-openjdk-amd64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games\n\\\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/bin/arm-linux-androideabi-gcc\n-fstack-protector-strong -fpic -ffunction-sections -funwind-tables\n-no-canonical-prefixes -fno-canonical-system-headers '-march=armv7-a'\n'-mfpu=vfpv3-d16' '-mfloat-abi=softfp' -iquote external/re2 -iquote\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2\n-iquote external/bazel_tools -iquote\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/bazel_tools\n-isystem external/re2 -isystem\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2\n-isystem external/bazel_tools/tools/cpp/gcc3\n'--sysroot=external/androidndk/ndk/platforms/android-21/arch-arm' -isystem\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include\n-isystem\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include-fixed\n-isystem external/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include\n-isystem\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/libs/armeabi-v7a/include\n-isystem\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include/backward\n'-frandom-seed=bazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o'\n-MD -MF\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.d\n-c external/re2/re2/bitstate.cc -o\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o).\nsrc/main/tools/namespace-sandbox.c:672: execvp(argv[0], argv): No such file\nor directory\nTarget //tensorflow/examples/android:tensorflow_demo failed to build\nOn Fri, Mar 18, 2016 at 5:21 PM, Andrew Harp notifications@github.com\nwrote:\n\nHi, what exact command are you using to build? What versions of Bazel and\nthe Android NDK are you using?\nIt appears you're having an issue linking in the dummy pthread target.\nDoes it work if you comment out the libpthread.so dependencies in\ntensorflow/examples/android/BUILD, and also remove \"-lpthread\" from\nLINK_OPTS in google/protobuf/BUILD?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n#1542 (comment)\n\n\nSaurabh Gupta\n+918377943044", "body": "bazel version\nBuild label: 0.2.0-jdk7\n\nAndroid NDK r9\n\nif I comment out all the libpthread.so from BUILD files I get following\nerror. I was getting this error when I used Android NDK r11:\nERROR:\n/home/saurabh/.cache/bazel/_bazel_saurabh/b5e3c50abcfa34dcecd4eb2855a378fe/external/re2/BUILD:9:1:\nC++ compilation of rule '@re2//:re2' failed: arm-linux-androideabi-gcc\nfailed: error executing command\n  (cd\n/home/saurabh/.cache/bazel/_bazel_saurabh/b5e3c50abcfa34dcecd4eb2855a378fe/tensorflow\n&& \\\n  exec env - \\\n\nPATH=/home/saurabh/anaconda2/bin:/home/saurabh/bin:/usr/lib/jvm/java-1.7.0-openjdk-amd64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games\n\\\n\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/bin/arm-linux-androideabi-gcc\n-fstack-protector-strong -fpic -ffunction-sections -funwind-tables\n-no-canonical-prefixes -fno-canonical-system-headers '-march=armv7-a'\n'-mfpu=vfpv3-d16' '-mfloat-abi=softfp' -iquote external/re2 -iquote\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2\n-iquote external/bazel_tools -iquote\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/bazel_tools\n-isystem external/re2 -isystem\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2\n-isystem external/bazel_tools/tools/cpp/gcc3\n'--sysroot=external/androidndk/ndk/platforms/android-21/arch-arm' -isystem\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include\n-isystem\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include-fixed\n-isystem external/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include\n-isystem\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/libs/armeabi-v7a/include\n-isystem\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include/backward\n'-frandom-seed=bazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o'\n-MD -MF\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.d\n-c external/re2/re2/bitstate.cc -o\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o):\narm-linux-androideabi-gcc failed: error executing command\n  (cd\n/home/saurabh/.cache/bazel/_bazel_saurabh/b5e3c50abcfa34dcecd4eb2855a378fe/tensorflow\n&& \\\n  exec env - \\\n\nPATH=/home/saurabh/anaconda2/bin:/home/saurabh/bin:/usr/lib/jvm/java-1.7.0-openjdk-amd64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games\n\\\n\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/bin/arm-linux-androideabi-gcc\n-fstack-protector-strong -fpic -ffunction-sections -funwind-tables\n-no-canonical-prefixes -fno-canonical-system-headers '-march=armv7-a'\n'-mfpu=vfpv3-d16' '-mfloat-abi=softfp' -iquote external/re2 -iquote\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2\n-iquote external/bazel_tools -iquote\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/bazel_tools\n-isystem external/re2 -isystem\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/genfiles/external/re2\n-isystem external/bazel_tools/tools/cpp/gcc3\n'--sysroot=external/androidndk/ndk/platforms/android-21/arch-arm' -isystem\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include\n-isystem\nexternal/androidndk/ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86/lib/gcc/arm-linux-androideabi/4.9/include-fixed\n-isystem external/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include\n-isystem\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/libs/armeabi-v7a/include\n-isystem\nexternal/androidndk/ndk/sources/cxx-stl/gnu-libstdc++/4.9/include/backward\n'-frandom-seed=bazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o'\n-MD -MF\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.d\n-c external/re2/re2/bitstate.cc -o\nbazel-out/android-arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/external/re2/_objs/re2/external/re2/re2/bitstate.o).\nsrc/main/tools/namespace-sandbox.c:672: execvp(argv[0], argv): No such file\nor directory\nTarget //tensorflow/examples/android:tensorflow_demo failed to build\n\nOn Fri, Mar 18, 2016 at 5:21 PM, Andrew Harp notifications@github.com\nwrote:\n\n> Hi, what exact command are you using to build? What versions of Bazel and\n> the Android NDK are you using?\n> \n> It appears you're having an issue linking in the dummy pthread target.\n> Does it work if you comment out the libpthread.so dependencies in\n> tensorflow/examples/android/BUILD, and also remove \"-lpthread\" from\n> LINK_OPTS in google/protobuf/BUILD?\n> \n> \u2014\n> You are receiving this because you authored the thread.\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/1542#issuecomment-198321975\n\n## \n\nSaurabh Gupta\n+918377943044\n"}