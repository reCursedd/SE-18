{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4071", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4071/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4071/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4071/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4071", "id": 173569903, "node_id": "MDU6SXNzdWUxNzM1Njk5MDM=", "number": 4071, "title": "\"Default session has been garbage collected\"", "user": {"login": "tijmentieleman", "id": 19629286, "node_id": "MDQ6VXNlcjE5NjI5Mjg2", "avatar_url": "https://avatars0.githubusercontent.com/u/19629286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tijmentieleman", "html_url": "https://github.com/tijmentieleman", "followers_url": "https://api.github.com/users/tijmentieleman/followers", "following_url": "https://api.github.com/users/tijmentieleman/following{/other_user}", "gists_url": "https://api.github.com/users/tijmentieleman/gists{/gist_id}", "starred_url": "https://api.github.com/users/tijmentieleman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tijmentieleman/subscriptions", "organizations_url": "https://api.github.com/users/tijmentieleman/orgs", "repos_url": "https://api.github.com/users/tijmentieleman/repos", "events_url": "https://api.github.com/users/tijmentieleman/events{/privacy}", "received_events_url": "https://api.github.com/users/tijmentieleman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2016-08-27T01:09:54Z", "updated_at": "2017-10-30T16:07:51Z", "closed_at": "2016-08-31T23:14:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The following three lines give an error: \"RuntimeError: Default session has been garbage collected.\" One line above the line that raises the RuntimeError, there's a comment saying \"This should never happen with the current session implementations.\" Clearly, it did happen. The situation doesn't bother me greatly, and I'm only mentioning this because clearly something unintended happened here.</p>\n<p>import tensorflow as tf<br>\nwith tf.Session().as_default():<br>\ntf.get_default_session()</p>\n<p>The following four lines do not give the error:</p>\n<p>import tensorflow as tf<br>\nsess = tf.Session()<br>\nwith sess.as_default():<br>\ntf.get_default_session()</p>\n<p>This suggests that the Session.as_default() method doesn't store  in any way that keeps it from being garbage collected.</p>\n<p>NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.</p>\n<p>For general support from the community, see <a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">StackOverflow</a>.<br>\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed<br>\nout of scope for GitHub Issues and point people to StackOverflow.</p>\n<p>For bugs or installation issues, please provide the following information.<br>\nThe more information you provide, the more easily we will be able to offer<br>\nhelp and advice.</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>None.</p>\n<h3>Environment info</h3>\n<p>Operating System:</p>\n<p>Mac OS X 10.11.6</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<p>None.</p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed: I don't recall the link; I installed following the standard installation instructions.</li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<p>0.10.0rc0</p>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)</li>\n<li>The output of <code>bazel version</code></li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>See above.</p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>See above.</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>", "body_text": "The following three lines give an error: \"RuntimeError: Default session has been garbage collected.\" One line above the line that raises the RuntimeError, there's a comment saying \"This should never happen with the current session implementations.\" Clearly, it did happen. The situation doesn't bother me greatly, and I'm only mentioning this because clearly something unintended happened here.\nimport tensorflow as tf\nwith tf.Session().as_default():\ntf.get_default_session()\nThe following four lines do not give the error:\nimport tensorflow as tf\nsess = tf.Session()\nwith sess.as_default():\ntf.get_default_session()\nThis suggests that the Session.as_default() method doesn't store  in any way that keeps it from being garbage collected.\nNOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\nFor general support from the community, see StackOverflow.\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nNone.\nEnvironment info\nOperating System:\nMac OS X 10.11.6\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nNone.\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed: I don't recall the link; I installed following the standard installation instructions.\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\n0.10.0rc0\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\nThe output of bazel version\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nSee above.\nWhat other attempted solutions have you tried?\nSee above.\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).", "body": "The following three lines give an error: \"RuntimeError: Default session has been garbage collected.\" One line above the line that raises the RuntimeError, there's a comment saying \"This should never happen with the current session implementations.\" Clearly, it did happen. The situation doesn't bother me greatly, and I'm only mentioning this because clearly something unintended happened here. \n\nimport tensorflow as tf\nwith tf.Session().as_default():\n    tf.get_default_session()\n\nThe following four lines do not give the error:\n\nimport tensorflow as tf\nsess = tf.Session()\nwith sess.as_default():\n    tf.get_default_session()\n\nThis suggests that the Session.as_default() method doesn't store <self> in any way that keeps it from being garbage collected.\n\nNOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\n\nFor general support from the community, see [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\n\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\n\nNone.\n### Environment info\n\nOperating System:\n\nMac OS X 10.11.6\n\nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\nNone.\n\nIf installed from binary pip package, provide:\n1. A link to the pip package you installed: I don't recall the link; I installed following the standard installation instructions.\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\n\n0.10.0rc0\n\nIf installed from source, provide \n1. The commit hash (`git rev-parse HEAD`)\n2. The output of `bazel version`\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n\nSee above.\n### What other attempted solutions have you tried?\n\nSee above.\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment or provide link).\n"}