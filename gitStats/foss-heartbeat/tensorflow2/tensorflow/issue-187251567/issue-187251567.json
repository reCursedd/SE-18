{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5394", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5394/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5394/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5394/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5394", "id": 187251567, "node_id": "MDU6SXNzdWUxODcyNTE1Njc=", "number": 5394, "title": "Distributed training hangs", "user": {"login": "passerbyd", "id": 12813325, "node_id": "MDQ6VXNlcjEyODEzMzI1", "avatar_url": "https://avatars0.githubusercontent.com/u/12813325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/passerbyd", "html_url": "https://github.com/passerbyd", "followers_url": "https://api.github.com/users/passerbyd/followers", "following_url": "https://api.github.com/users/passerbyd/following{/other_user}", "gists_url": "https://api.github.com/users/passerbyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/passerbyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/passerbyd/subscriptions", "organizations_url": "https://api.github.com/users/passerbyd/orgs", "repos_url": "https://api.github.com/users/passerbyd/repos", "events_url": "https://api.github.com/users/passerbyd/events{/privacy}", "received_events_url": "https://api.github.com/users/passerbyd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-11-04T04:29:08Z", "updated_at": "2017-11-14T06:32:03Z", "closed_at": "2016-11-04T17:21:17Z", "author_association": "NONE", "body_html": "<p>As mentioned in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"180012856\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4651\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4651/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4651\">#4651</a>, during training with syncreplicasoptimizer, tensorflow must run into hanging(after thousands steps). This does not happen with simple network setup.<br>\nBoth workers and pses are still \"alive\", no errors/exceptions are reported. The saver thread keeps working.</p>\n<p>Environment info<br>\nthe cluster is set on 2 servers, one ps and one worker on each. And each worker works on 4 gpu cards.</p>\n<p>Operating System:<br>\nCentos (customized)</p>\n<p>Installed version of CUDA and cuDNN:<br>\nCUDA 7.5<br>\ncnDNN 5.1</p>\n<p>installed from source,<br>\nbuild on branch r0.11, and r0.10</p>\n<p>trace log after hanging<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/570595/ps0_pstack.txt\">ps0_pstack.txt</a><br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/570597/ps0_strace.txt\">ps0_strace.txt</a><br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/570598/ps1_pstack.txt\">ps1_pstack.txt</a><br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/570602/ps1_strace.txt\">ps1_strace.txt</a><br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/570601/worker0_pstack.txt\">worker0_pstack.txt</a><br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/570600/worker0_strace.txt\">worker0_strace.txt</a><br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/570596/worker1_pstack.txt\">worker1_pstack.txt</a><br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/570599/worker1_strace.txt\">worker1_strace.txt</a></p>", "body_text": "As mentioned in #4651, during training with syncreplicasoptimizer, tensorflow must run into hanging(after thousands steps). This does not happen with simple network setup.\nBoth workers and pses are still \"alive\", no errors/exceptions are reported. The saver thread keeps working.\nEnvironment info\nthe cluster is set on 2 servers, one ps and one worker on each. And each worker works on 4 gpu cards.\nOperating System:\nCentos (customized)\nInstalled version of CUDA and cuDNN:\nCUDA 7.5\ncnDNN 5.1\ninstalled from source,\nbuild on branch r0.11, and r0.10\ntrace log after hanging\nps0_pstack.txt\nps0_strace.txt\nps1_pstack.txt\nps1_strace.txt\nworker0_pstack.txt\nworker0_strace.txt\nworker1_pstack.txt\nworker1_strace.txt", "body": "As mentioned in #4651, during training with syncreplicasoptimizer, tensorflow must run into hanging(after thousands steps). This does not happen with simple network setup. \r\nBoth workers and pses are still \"alive\", no errors/exceptions are reported. The saver thread keeps working.\r\n\r\nEnvironment info\r\nthe cluster is set on 2 servers, one ps and one worker on each. And each worker works on 4 gpu cards.\r\n\r\nOperating System:\r\nCentos (customized)\r\n\r\nInstalled version of CUDA and cuDNN: \r\nCUDA 7.5\r\ncnDNN 5.1\r\n\r\ninstalled from source,  \r\nbuild on branch r0.11, and r0.10\r\n\r\ntrace log after hanging\r\n[ps0_pstack.txt](https://github.com/tensorflow/tensorflow/files/570595/ps0_pstack.txt)\r\n[ps0_strace.txt](https://github.com/tensorflow/tensorflow/files/570597/ps0_strace.txt)\r\n[ps1_pstack.txt](https://github.com/tensorflow/tensorflow/files/570598/ps1_pstack.txt)\r\n[ps1_strace.txt](https://github.com/tensorflow/tensorflow/files/570602/ps1_strace.txt)\r\n[worker0_pstack.txt](https://github.com/tensorflow/tensorflow/files/570601/worker0_pstack.txt)\r\n[worker0_strace.txt](https://github.com/tensorflow/tensorflow/files/570600/worker0_strace.txt)\r\n[worker1_pstack.txt](https://github.com/tensorflow/tensorflow/files/570596/worker1_pstack.txt)\r\n[worker1_strace.txt](https://github.com/tensorflow/tensorflow/files/570599/worker1_strace.txt)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"}