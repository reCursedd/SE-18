{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/48670521", "pull_request_review_id": null, "id": 48670521, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjcwNTIx", "diff_hunk": "@@ -78,9 +78,9 @@ $ sudo pip3 install --upgrade https://storage.googleapis.com/tensorflow/mac/tens\n ```\n \n \n-You can now [test your installation](#test_install).\n+You can now [test your installation](#test-the-tensorflow-installation).\n \n-## Virtualenv installation {#virtualenv_install}", "path": "tensorflow/g3doc/get_started/os_setup.md", "position": 42, "original_position": 42, "commit_id": "4b2e133d14b42fa2075a435eaf8a3fdb55c77b6d", "original_commit_id": "4b2e133d14b42fa2075a435eaf8a3fdb55c77b6d", "user": {"login": "samjabrahams", "id": 11607205, "node_id": "MDQ6VXNlcjExNjA3MjA1", "avatar_url": "https://avatars0.githubusercontent.com/u/11607205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samjabrahams", "html_url": "https://github.com/samjabrahams", "followers_url": "https://api.github.com/users/samjabrahams/followers", "following_url": "https://api.github.com/users/samjabrahams/following{/other_user}", "gists_url": "https://api.github.com/users/samjabrahams/gists{/gist_id}", "starred_url": "https://api.github.com/users/samjabrahams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samjabrahams/subscriptions", "organizations_url": "https://api.github.com/users/samjabrahams/orgs", "repos_url": "https://api.github.com/users/samjabrahams/repos", "events_url": "https://api.github.com/users/samjabrahams/events{/privacy}", "received_events_url": "https://api.github.com/users/samjabrahams/received_events", "type": "User", "site_admin": false}, "body": "Almost that- it includes numerics as well as hyphens/underscores: [^a-z0-9\\-], or [^\\w\\-]\n\nThis is the Python I'm using to make the header tags:\n\n``` python\ndef create_anchor_from_header(header, existingAnchors=None):\n\n    # Strip white space on the left/right and make lower case\n    out = header.strip().lower()\n\n    # Replace groups of white space with hyphens\n    out = re.sub(ur'\\s+', lambda x: \"-\", out, flags=re.UNICODE)\n\n    # Remove non-alphanumeric characters, hyphens, and spaces\n    out = re.sub(ur'[^\\w\\- ]+', lambda x: \"\", out, flags=re.UNICODE)\n\n    if existingAnchors:\n        if out in existingAnchors:\n            i = 1\n            while (out + \"-\" + str(i)) in existingAnchors and i < 100:\n                i = i + 1\n            out += \"-\" + str(i)\n    return out\n```\n\nI've got the main changes down. I'm just going through and replacing links from other files to those old headers. Should be done very soon.\n", "created_at": "2015-12-31T20:37:54Z", "updated_at": "2016-01-02T20:56:43Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/648#discussion_r48670521", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/648", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/48670521"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/648#discussion_r48670521"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/648"}}, "body_html": "<p>Almost that- it includes numerics as well as hyphens/underscores: [^a-z0-9-], or [^\\w-]</p>\n<p>This is the Python I'm using to make the header tags:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">def</span> <span class=\"pl-en\">create_anchor_from_header</span>(<span class=\"pl-smi\">header</span>, <span class=\"pl-smi\">existingAnchors</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>):\n\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span> Strip white space on the left/right and make lower case</span>\n    out <span class=\"pl-k\">=</span> header.strip().lower()\n\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span> Replace groups of white space with hyphens</span>\n    out <span class=\"pl-k\">=</span> re.sub(<span class=\"pl-sr\"><span class=\"pl-bu\">ur</span><span class=\"pl-pds\">'</span><span class=\"pl-c1\">\\s</span><span class=\"pl-k\">+</span><span class=\"pl-pds\">'</span></span>, <span class=\"pl-k\">lambda</span> <span class=\"pl-smi\">x</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-<span class=\"pl-pds\">\"</span></span>, out, <span class=\"pl-v\">flags</span><span class=\"pl-k\">=</span>re.<span class=\"pl-c1\">UNICODE</span>)\n\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span> Remove non-alphanumeric characters, hyphens, and spaces</span>\n    out <span class=\"pl-k\">=</span> re.sub(<span class=\"pl-sr\"><span class=\"pl-bu\">ur</span><span class=\"pl-pds\">'</span>[<span class=\"pl-k\">^</span><span class=\"pl-c1\">\\w</span><span class=\"pl-cce\">\\-</span><span class=\"pl-c1\"> </span>]<span class=\"pl-k\">+</span><span class=\"pl-pds\">'</span></span>, <span class=\"pl-k\">lambda</span> <span class=\"pl-smi\">x</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>, out, <span class=\"pl-v\">flags</span><span class=\"pl-k\">=</span>re.<span class=\"pl-c1\">UNICODE</span>)\n\n    <span class=\"pl-k\">if</span> existingAnchors:\n        <span class=\"pl-k\">if</span> out <span class=\"pl-k\">in</span> existingAnchors:\n            i <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1</span>\n            <span class=\"pl-k\">while</span> (out <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-c1\">str</span>(i)) <span class=\"pl-k\">in</span> existingAnchors <span class=\"pl-k\">and</span> i <span class=\"pl-k\">&lt;</span> <span class=\"pl-c1\">100</span>:\n                i <span class=\"pl-k\">=</span> i <span class=\"pl-k\">+</span> <span class=\"pl-c1\">1</span>\n            out <span class=\"pl-k\">+=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-c1\">str</span>(i)\n    <span class=\"pl-k\">return</span> out</pre></div>\n<p>I've got the main changes down. I'm just going through and replacing links from other files to those old headers. Should be done very soon.</p>", "body_text": "Almost that- it includes numerics as well as hyphens/underscores: [^a-z0-9-], or [^\\w-]\nThis is the Python I'm using to make the header tags:\ndef create_anchor_from_header(header, existingAnchors=None):\n\n    # Strip white space on the left/right and make lower case\n    out = header.strip().lower()\n\n    # Replace groups of white space with hyphens\n    out = re.sub(ur'\\s+', lambda x: \"-\", out, flags=re.UNICODE)\n\n    # Remove non-alphanumeric characters, hyphens, and spaces\n    out = re.sub(ur'[^\\w\\- ]+', lambda x: \"\", out, flags=re.UNICODE)\n\n    if existingAnchors:\n        if out in existingAnchors:\n            i = 1\n            while (out + \"-\" + str(i)) in existingAnchors and i < 100:\n                i = i + 1\n            out += \"-\" + str(i)\n    return out\nI've got the main changes down. I'm just going through and replacing links from other files to those old headers. Should be done very soon."}