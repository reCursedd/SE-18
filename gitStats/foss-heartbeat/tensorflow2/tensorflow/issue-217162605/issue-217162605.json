{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8745", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8745/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8745/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8745/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8745", "id": 217162605, "node_id": "MDU6SXNzdWUyMTcxNjI2MDU=", "number": 8745, "title": "TFRecordWriter doesn't throw an error when disk partition gets out of space", "user": {"login": "sulc", "id": 3405613, "node_id": "MDQ6VXNlcjM0MDU2MTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3405613?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sulc", "html_url": "https://github.com/sulc", "followers_url": "https://api.github.com/users/sulc/followers", "following_url": "https://api.github.com/users/sulc/following{/other_user}", "gists_url": "https://api.github.com/users/sulc/gists{/gist_id}", "starred_url": "https://api.github.com/users/sulc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sulc/subscriptions", "organizations_url": "https://api.github.com/users/sulc/orgs", "repos_url": "https://api.github.com/users/sulc/repos", "events_url": "https://api.github.com/users/sulc/events{/privacy}", "received_events_url": "https://api.github.com/users/sulc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2017-03-27T07:50:04Z", "updated_at": "2018-06-25T12:10:05Z", "closed_at": "2018-05-16T23:27:57Z", "author_association": "NONE", "body_html": "<h2>Problem</h2>\n<p>When tensorflow.python_io.TFRecordWriter(path) is initialized with a path leading to a device out of free storage space, one can still write() and close() it without receiving an error or exception. The resulting file is empty (0B).</p>\n<h2>Environment info</h2>\n<p>TF v.1.0.1 installed from pip3 (package tensorflow-gpu) with Python 3.4.2 on a Linux server.</p>\n<h2>Minimal example</h2>\n<pre><code>writer = tf.python_io.TFRecordWriter(output_file)\nfor i in files_in_shard:\n  # ....\n  # [prepare record]\n  writer.write(example.SerializeToString())\nwriter.close()\n</code></pre>\n<p>Working example e.g. <a href=\"https://github.com/tensorflow/models/blob/master/inception/inception/data/build_image_data.py\">https://github.com/tensorflow/models/blob/master/inception/inception/data/build_image_data.py</a></p>", "body_text": "Problem\nWhen tensorflow.python_io.TFRecordWriter(path) is initialized with a path leading to a device out of free storage space, one can still write() and close() it without receiving an error or exception. The resulting file is empty (0B).\nEnvironment info\nTF v.1.0.1 installed from pip3 (package tensorflow-gpu) with Python 3.4.2 on a Linux server.\nMinimal example\nwriter = tf.python_io.TFRecordWriter(output_file)\nfor i in files_in_shard:\n  # ....\n  # [prepare record]\n  writer.write(example.SerializeToString())\nwriter.close()\n\nWorking example e.g. https://github.com/tensorflow/models/blob/master/inception/inception/data/build_image_data.py", "body": "## Problem\r\nWhen tensorflow.python_io.TFRecordWriter(path) is initialized with a path leading to a device out of free storage space, one can still write() and close() it without receiving an error or exception. The resulting file is empty (0B).\r\n\r\n## Environment info\r\nTF v.1.0.1 installed from pip3 (package tensorflow-gpu) with Python 3.4.2 on a Linux server.\r\n\r\n## Minimal example\r\n    writer = tf.python_io.TFRecordWriter(output_file)\r\n    for i in files_in_shard:\r\n      # ....\r\n      # [prepare record]\r\n      writer.write(example.SerializeToString())\r\n    writer.close()\r\nWorking example e.g. https://github.com/tensorflow/models/blob/master/inception/inception/data/build_image_data.py"}