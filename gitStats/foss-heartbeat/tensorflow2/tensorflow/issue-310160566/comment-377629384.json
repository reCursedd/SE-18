{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/377629384", "html_url": "https://github.com/tensorflow/tensorflow/issues/18133#issuecomment-377629384", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18133", "id": 377629384, "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzYyOTM4NA==", "user": {"login": "zhiz21", "id": 26265105, "node_id": "MDQ6VXNlcjI2MjY1MTA1", "avatar_url": "https://avatars3.githubusercontent.com/u/26265105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhiz21", "html_url": "https://github.com/zhiz21", "followers_url": "https://api.github.com/users/zhiz21/followers", "following_url": "https://api.github.com/users/zhiz21/following{/other_user}", "gists_url": "https://api.github.com/users/zhiz21/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhiz21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhiz21/subscriptions", "organizations_url": "https://api.github.com/users/zhiz21/orgs", "repos_url": "https://api.github.com/users/zhiz21/repos", "events_url": "https://api.github.com/users/zhiz21/events{/privacy}", "received_events_url": "https://api.github.com/users/zhiz21/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-30T21:39:23Z", "updated_at": "2018-03-30T21:39:23Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a> Thank you for your reply, this is what I got with your commands, but I'm not sure whether this is what you want for traceback</p>\n<pre><code>[ec2-user@ip cifar10]$ python cifar10_train.py\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\nTraceback (most recent call last):\n  File \"cifar10_train.py\", line 127, in &lt;module&gt;\n    tf.app.run()\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 126, in run\n    _sys.exit(main(argv))\n  File \"cifar10_train.py\", line 123, in main\n    train()\n  File \"cifar10_train.py\", line 115, in train\n    mon_sess.run(train_op)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 546, in run\n    run_metadata=run_metadata)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1022, in run\n    run_metadata=run_metadata)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1113, in run\n    raise six.reraise(*original_exc_info)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1098, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1170, in run\n    run_metadata=run_metadata)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 950, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 905, in run\n    run_metadata_ptr)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1140, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1321, in _do_run\n    run_metadata)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1340, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Nan in summary histogram for: conv2/conv2/conv2/activations\n\t [[Node: conv2/conv2/conv2/activations = HistogramSummary[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](conv2/conv2/conv2/activations/tag, conv2/conv2)]]\n\nCaused by op u'conv2/conv2/conv2/activations', defined at:\n  File \"cifar10_train.py\", line 127, in &lt;module&gt;\n    tf.app.run()\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 126, in run\n    _sys.exit(main(argv))\n  File \"cifar10_train.py\", line 123, in main\n    train()\n  File \"cifar10_train.py\", line 72, in train\n    logits = cifar10.inference(images)\n  File \"/home/ec2-user/src/models/tutorials/image/cifar10/cifar10.py\", line 231, in inference\n    _activation_summary(conv2)\n  File \"/home/ec2-user/src/models/tutorials/image/cifar10/cifar10.py\", line 93, in _activation_summary\n    tf.summary.histogram(tensor_name + '/activations', x)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/summary/summary.py\", line 196, in histogram\n    tag=tag, values=values, name=scope)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/ops/gen_logging_ops.py\", line 282, in _histogram_summary\n    \"HistogramSummary\", tag=tag, values=values, name=name)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 3290, in create_op\n    op_def=op_def)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1654, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInvalidArgumentError (see above for traceback): Nan in summary histogram for: conv2/conv2/conv2/activations\n\t [[Node: conv2/conv2/conv2/activations = HistogramSummary[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](conv2/conv2/conv2/activations/tag, conv2/conv2)]]\n\n[ec2-user@ip cifar10]$ gdb python\nGNU gdb (GDB) Amazon Linux (7.6.1-64.33.amzn1)\nCopyright (C) 2013 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-amazon-linux-gnu\".\nFor bug reporting instructions, please see:\n&lt;http://www.gnu.org/software/gdb/bugs/&gt;...\nReading symbols from /usr/bin/python2.7...(no debugging symbols found)...done.\nMissing separate debuginfos, use: debuginfo-install python26-2.6.9-2.89.amzn1.x86_64 python27-2.7.13-2.122.amzn1.x86_64 python34-3.4.7-1.38.amzn1.x86_64\n(gdb) core core\n/home/ec2-user/src/models/tutorials/image/cifar10/core: No such file or directory.\n(gdb) bt\nNo stack.\n(gdb)\n</code></pre>", "body_text": "@yaroslavvb Thank you for your reply, this is what I got with your commands, but I'm not sure whether this is what you want for traceback\n[ec2-user@ip cifar10]$ python cifar10_train.py\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\nTraceback (most recent call last):\n  File \"cifar10_train.py\", line 127, in <module>\n    tf.app.run()\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 126, in run\n    _sys.exit(main(argv))\n  File \"cifar10_train.py\", line 123, in main\n    train()\n  File \"cifar10_train.py\", line 115, in train\n    mon_sess.run(train_op)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 546, in run\n    run_metadata=run_metadata)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1022, in run\n    run_metadata=run_metadata)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1113, in run\n    raise six.reraise(*original_exc_info)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1098, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1170, in run\n    run_metadata=run_metadata)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 950, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 905, in run\n    run_metadata_ptr)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1140, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1321, in _do_run\n    run_metadata)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1340, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Nan in summary histogram for: conv2/conv2/conv2/activations\n\t [[Node: conv2/conv2/conv2/activations = HistogramSummary[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](conv2/conv2/conv2/activations/tag, conv2/conv2)]]\n\nCaused by op u'conv2/conv2/conv2/activations', defined at:\n  File \"cifar10_train.py\", line 127, in <module>\n    tf.app.run()\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 126, in run\n    _sys.exit(main(argv))\n  File \"cifar10_train.py\", line 123, in main\n    train()\n  File \"cifar10_train.py\", line 72, in train\n    logits = cifar10.inference(images)\n  File \"/home/ec2-user/src/models/tutorials/image/cifar10/cifar10.py\", line 231, in inference\n    _activation_summary(conv2)\n  File \"/home/ec2-user/src/models/tutorials/image/cifar10/cifar10.py\", line 93, in _activation_summary\n    tf.summary.histogram(tensor_name + '/activations', x)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/summary/summary.py\", line 196, in histogram\n    tag=tag, values=values, name=scope)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/ops/gen_logging_ops.py\", line 282, in _histogram_summary\n    \"HistogramSummary\", tag=tag, values=values, name=name)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 3290, in create_op\n    op_def=op_def)\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1654, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInvalidArgumentError (see above for traceback): Nan in summary histogram for: conv2/conv2/conv2/activations\n\t [[Node: conv2/conv2/conv2/activations = HistogramSummary[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](conv2/conv2/conv2/activations/tag, conv2/conv2)]]\n\n[ec2-user@ip cifar10]$ gdb python\nGNU gdb (GDB) Amazon Linux (7.6.1-64.33.amzn1)\nCopyright (C) 2013 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-amazon-linux-gnu\".\nFor bug reporting instructions, please see:\n<http://www.gnu.org/software/gdb/bugs/>...\nReading symbols from /usr/bin/python2.7...(no debugging symbols found)...done.\nMissing separate debuginfos, use: debuginfo-install python26-2.6.9-2.89.amzn1.x86_64 python27-2.7.13-2.122.amzn1.x86_64 python34-3.4.7-1.38.amzn1.x86_64\n(gdb) core core\n/home/ec2-user/src/models/tutorials/image/cifar10/core: No such file or directory.\n(gdb) bt\nNo stack.\n(gdb)", "body": "@yaroslavvb Thank you for your reply, this is what I got with your commands, but I'm not sure whether this is what you want for traceback\r\n```\r\n[ec2-user@ip cifar10]$ python cifar10_train.py\r\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\r\nTraceback (most recent call last):\r\n  File \"cifar10_train.py\", line 127, in <module>\r\n    tf.app.run()\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 126, in run\r\n    _sys.exit(main(argv))\r\n  File \"cifar10_train.py\", line 123, in main\r\n    train()\r\n  File \"cifar10_train.py\", line 115, in train\r\n    mon_sess.run(train_op)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 546, in run\r\n    run_metadata=run_metadata)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1022, in run\r\n    run_metadata=run_metadata)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1113, in run\r\n    raise six.reraise(*original_exc_info)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1098, in run\r\n    return self._sess.run(*args, **kwargs)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1170, in run\r\n    run_metadata=run_metadata)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 950, in run\r\n    return self._sess.run(*args, **kwargs)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 905, in run\r\n    run_metadata_ptr)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1140, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1321, in _do_run\r\n    run_metadata)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1340, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Nan in summary histogram for: conv2/conv2/conv2/activations\r\n\t [[Node: conv2/conv2/conv2/activations = HistogramSummary[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](conv2/conv2/conv2/activations/tag, conv2/conv2)]]\r\n\r\nCaused by op u'conv2/conv2/conv2/activations', defined at:\r\n  File \"cifar10_train.py\", line 127, in <module>\r\n    tf.app.run()\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 126, in run\r\n    _sys.exit(main(argv))\r\n  File \"cifar10_train.py\", line 123, in main\r\n    train()\r\n  File \"cifar10_train.py\", line 72, in train\r\n    logits = cifar10.inference(images)\r\n  File \"/home/ec2-user/src/models/tutorials/image/cifar10/cifar10.py\", line 231, in inference\r\n    _activation_summary(conv2)\r\n  File \"/home/ec2-user/src/models/tutorials/image/cifar10/cifar10.py\", line 93, in _activation_summary\r\n    tf.summary.histogram(tensor_name + '/activations', x)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/summary/summary.py\", line 196, in histogram\r\n    tag=tag, values=values, name=scope)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/ops/gen_logging_ops.py\", line 282, in _histogram_summary\r\n    \"HistogramSummary\", tag=tag, values=values, name=name)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 3290, in create_op\r\n    op_def=op_def)\r\n  File \"/usr/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1654, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\nInvalidArgumentError (see above for traceback): Nan in summary histogram for: conv2/conv2/conv2/activations\r\n\t [[Node: conv2/conv2/conv2/activations = HistogramSummary[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](conv2/conv2/conv2/activations/tag, conv2/conv2)]]\r\n\r\n[ec2-user@ip cifar10]$ gdb python\r\nGNU gdb (GDB) Amazon Linux (7.6.1-64.33.amzn1)\r\nCopyright (C) 2013 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-amazon-linux-gnu\".\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>...\r\nReading symbols from /usr/bin/python2.7...(no debugging symbols found)...done.\r\nMissing separate debuginfos, use: debuginfo-install python26-2.6.9-2.89.amzn1.x86_64 python27-2.7.13-2.122.amzn1.x86_64 python34-3.4.7-1.38.amzn1.x86_64\r\n(gdb) core core\r\n/home/ec2-user/src/models/tutorials/image/cifar10/core: No such file or directory.\r\n(gdb) bt\r\nNo stack.\r\n(gdb)\r\n```\r\n"}