{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17210", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17210/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17210/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17210/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17210", "id": 299618647, "node_id": "MDU6SXNzdWUyOTk2MTg2NDc=", "number": 17210, "title": "NotFoundError: Op type not registered 'KafkaDataset' in binary.", "user": {"login": "MtDersvan", "id": 7069222, "node_id": "MDQ6VXNlcjcwNjkyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/7069222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MtDersvan", "html_url": "https://github.com/MtDersvan", "followers_url": "https://api.github.com/users/MtDersvan/followers", "following_url": "https://api.github.com/users/MtDersvan/following{/other_user}", "gists_url": "https://api.github.com/users/MtDersvan/gists{/gist_id}", "starred_url": "https://api.github.com/users/MtDersvan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MtDersvan/subscriptions", "organizations_url": "https://api.github.com/users/MtDersvan/orgs", "repos_url": "https://api.github.com/users/MtDersvan/repos", "events_url": "https://api.github.com/users/MtDersvan/events{/privacy}", "received_events_url": "https://api.github.com/users/MtDersvan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-02-23T07:08:55Z", "updated_at": "2018-03-08T07:22:48Z", "closed_at": "2018-03-08T07:22:48Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: -</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: ('unknown', '1.6.0-rc1')</li>\n<li><strong>Python version</strong>: 2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.8.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: 5.4.0</li>\n<li><strong>CUDA/cuDNN version</strong>: -</li>\n<li><strong>GPU model and memory</strong>: -</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">from</span> tensorflow.contrib.kafka.python.ops <span class=\"pl-k\">import</span> kafka_dataset_ops\n<span class=\"pl-k\">from</span> tensorflow.python.data.ops <span class=\"pl-k\">import</span> iterator_ops\n<span class=\"pl-k\">from</span> tensorflow.python.framework <span class=\"pl-k\">import</span> dtypes\n<span class=\"pl-k\">from</span> tensorflow.python.ops <span class=\"pl-k\">import</span> array_ops\n\ntopics <span class=\"pl-k\">=</span> array_ops.placeholder(dtypes.string, <span class=\"pl-v\">shape</span><span class=\"pl-k\">=</span>[<span class=\"pl-c1\">None</span>])\nnum_epochs <span class=\"pl-k\">=</span> array_ops.placeholder(dtypes.int64, <span class=\"pl-v\">shape</span><span class=\"pl-k\">=</span>[])\nbatch_size <span class=\"pl-k\">=</span> array_ops.placeholder(dtypes.int64, <span class=\"pl-v\">shape</span><span class=\"pl-k\">=</span>[])\n\nrepeat_dataset <span class=\"pl-k\">=</span> kafka_dataset_ops.KafkaDataset(\n    topics, <span class=\"pl-v\">group</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-v\">eof</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>).repeat(num_epochs)\nbatch_dataset <span class=\"pl-k\">=</span> repeat_dataset.batch(batch_size)\n\niterator <span class=\"pl-k\">=</span> iterator_ops.Iterator.from_structure(batch_dataset.output_types)\ninit_op <span class=\"pl-k\">=</span> iterator.make_initializer(repeat_dataset)\ninit_batch_op <span class=\"pl-k\">=</span> iterator.make_initializer(batch_dataset)\nget_next <span class=\"pl-k\">=</span> iterator.get_next()</pre></div>\n<p>ENV: <a href=\"https://pastebin.com/89aihba7\" rel=\"nofollow\">https://pastebin.com/89aihba7</a></p>\n<h3>Describe the problem</h3>\n<p>Getting <code>NotFoundError</code> even with <code>TF_NEED_KAFKA=1</code> and <code>--define with_kafka_support=true</code>:</p>\n<pre><code>NotFoundError: Op type not registered 'KafkaDataset' in binary running on 68a9f992375e. Make sure the Op and Kernel are registered in the binary running in this process.\n</code></pre>\n<p><code>KafkaDataset</code> was merged into master last month. Is there something missing that needs to be done in order to utilize the new op?</p>\n<h3>Source code / logs</h3>\n<p><a href=\"https://pastebin.com/5Vy6b6kf\" rel=\"nofollow\">https://pastebin.com/5Vy6b6kf</a></p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): -\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): ('unknown', '1.6.0-rc1')\nPython version: 2.7\nBazel version (if compiling from source): 0.8.0\nGCC/Compiler version (if compiling from source): 5.4.0\nCUDA/cuDNN version: -\nGPU model and memory: -\nExact command to reproduce:\n\nfrom tensorflow.contrib.kafka.python.ops import kafka_dataset_ops\nfrom tensorflow.python.data.ops import iterator_ops\nfrom tensorflow.python.framework import dtypes\nfrom tensorflow.python.ops import array_ops\n\ntopics = array_ops.placeholder(dtypes.string, shape=[None])\nnum_epochs = array_ops.placeholder(dtypes.int64, shape=[])\nbatch_size = array_ops.placeholder(dtypes.int64, shape=[])\n\nrepeat_dataset = kafka_dataset_ops.KafkaDataset(\n    topics, group=\"test\", eof=True).repeat(num_epochs)\nbatch_dataset = repeat_dataset.batch(batch_size)\n\niterator = iterator_ops.Iterator.from_structure(batch_dataset.output_types)\ninit_op = iterator.make_initializer(repeat_dataset)\ninit_batch_op = iterator.make_initializer(batch_dataset)\nget_next = iterator.get_next()\nENV: https://pastebin.com/89aihba7\nDescribe the problem\nGetting NotFoundError even with TF_NEED_KAFKA=1 and --define with_kafka_support=true:\nNotFoundError: Op type not registered 'KafkaDataset' in binary running on 68a9f992375e. Make sure the Op and Kernel are registered in the binary running in this process.\n\nKafkaDataset was merged into master last month. Is there something missing that needs to be done in order to utilize the new op?\nSource code / logs\nhttps://pastebin.com/5Vy6b6kf", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: - \r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: ('unknown', '1.6.0-rc1')\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**: 0.8.0\r\n- **GCC/Compiler version (if compiling from source)**: 5.4.0\r\n- **CUDA/cuDNN version**: -\r\n- **GPU model and memory**: -\r\n- **Exact command to reproduce**:\r\n\r\n~~~python\r\nfrom tensorflow.contrib.kafka.python.ops import kafka_dataset_ops\r\nfrom tensorflow.python.data.ops import iterator_ops\r\nfrom tensorflow.python.framework import dtypes\r\nfrom tensorflow.python.ops import array_ops\r\n\r\ntopics = array_ops.placeholder(dtypes.string, shape=[None])\r\nnum_epochs = array_ops.placeholder(dtypes.int64, shape=[])\r\nbatch_size = array_ops.placeholder(dtypes.int64, shape=[])\r\n\r\nrepeat_dataset = kafka_dataset_ops.KafkaDataset(\r\n    topics, group=\"test\", eof=True).repeat(num_epochs)\r\nbatch_dataset = repeat_dataset.batch(batch_size)\r\n\r\niterator = iterator_ops.Iterator.from_structure(batch_dataset.output_types)\r\ninit_op = iterator.make_initializer(repeat_dataset)\r\ninit_batch_op = iterator.make_initializer(batch_dataset)\r\nget_next = iterator.get_next()\r\n~~~\r\n\r\nENV: https://pastebin.com/89aihba7\r\n\r\n### Describe the problem\r\nGetting `NotFoundError` even with `TF_NEED_KAFKA=1` and `--define with_kafka_support=true`:\r\n~~~\r\nNotFoundError: Op type not registered 'KafkaDataset' in binary running on 68a9f992375e. Make sure the Op and Kernel are registered in the binary running in this process.\r\n~~~\r\n`KafkaDataset` was merged into master last month. Is there something missing that needs to be done in order to utilize the new op? \r\n\r\n\r\n### Source code / logs\r\nhttps://pastebin.com/5Vy6b6kf"}