{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17291", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17291/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17291/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17291/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17291", "id": 300542560, "node_id": "MDU6SXNzdWUzMDA1NDI1NjA=", "number": 17291, "title": "Screen goes black - CUDA_ERROR_UNKNOWN  on TensorFlow-GPU 1.5", "user": {"login": "fastlater", "id": 30107093, "node_id": "MDQ6VXNlcjMwMTA3MDkz", "avatar_url": "https://avatars3.githubusercontent.com/u/30107093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fastlater", "html_url": "https://github.com/fastlater", "followers_url": "https://api.github.com/users/fastlater/followers", "following_url": "https://api.github.com/users/fastlater/following{/other_user}", "gists_url": "https://api.github.com/users/fastlater/gists{/gist_id}", "starred_url": "https://api.github.com/users/fastlater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fastlater/subscriptions", "organizations_url": "https://api.github.com/users/fastlater/orgs", "repos_url": "https://api.github.com/users/fastlater/repos", "events_url": "https://api.github.com/users/fastlater/events{/privacy}", "received_events_url": "https://api.github.com/users/fastlater/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-27T08:59:41Z", "updated_at": "2018-03-08T03:01:54Z", "closed_at": "2018-03-08T03:01:54Z", "author_association": "NONE", "body_html": "<p><strong>Machine specs:</strong><br>\nOperating System: Windows 7 64 bits<br>\nTensorFlow version: 1.5.0<br>\nPython version: 3.6 (Anaconda)<br>\nCUDA/cuDNN version: CUDA 9.0, cudNN 7.0.5<br>\nGPU model and memory: Quadro K2000 2GB<br>\nNote: GPU is also driving the display.</p>\n<p>While testing, my demo runs well until the screen goes black for a short instant of time and it crashes with the following error message:</p>\n<pre><code>2018-02-27 11:45:23.275524: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructi\nons that this TensorFlow binary was not compiled to use: AVX\n2018-02-27 11:45:23.533539: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1105] Found device 0 with pro\nperties:\nname: Quadro K2000 major: 3 minor: 0 memoryClockRate(GHz): 0.954\npciBusID: 0000:01:00.0\ntotalMemory: 2.00GiB freeMemory: 1.79GiB\n2018-02-27 11:45:23.552540: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1195] Creating TensorFlow dev\nice (/device:GPU:0) -&gt; (device: 0, name: Quadro K2000, pci bus id: 0000:01:00.0,\n compute capability: 3.0)\n[I 11:45:53.864 NotebookApp] Saving file at /Mask_RCNN/demo.ipynb\n2018-02-27 11:46:41.003970: W C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\core\\common_runtime\\bfc_allocator.cc:217] Allocator (GPU_0_bfc) ran\n out of memory trying to allocate 2.07GiB. The caller indicates that this is not\n a failure, but may mean that there could be performance gains if more memory is\n available.\n2018-02-27 11:46:52.468626: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1080] failed to synchronize the\n stop event: CUDA_ERROR_UNKNOWN\n2018-02-27 11:46:52.584632: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:54] Internal: error destroying C\nUDA event in context 00000000258FE360: CUDA_ERROR_UNKNOWN\n2018-02-27 11:46:52.585632: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:59] Internal: error destroying C\nUDA event in context 00000000258FE360: CUDA_ERROR_UNKNOWN\n2018-02-27 11:46:52.585632: F C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:2289] failed to set stream for cud\nnn handle: CUDNN_STATUS_MAPPING_ERROR\n[I 11:47:24.287 NotebookApp] KernelRestarter: restarting kernel (1/5), keep rand\nom ports\nWARNING:root:kernel 134641e2-3f62-4019-9536-be72010310fa restarted\n</code></pre>\n<p>I tried for several days different ideas from different issues:<br>\nChecked carefully the video tutorial from youtube, nvidia installation manual, etc.<br>\nReinstalled cuda, cudnn<br>\nDowngrade tf, cuda, cudnn</p>\n<p>Could you suggest any method to detect what is wrong and how to solve the problem?</p>\n<p>Post-data:<br>\n<strong>Code works fine on tensorflow without GPU.</strong></p>", "body_text": "Machine specs:\nOperating System: Windows 7 64 bits\nTensorFlow version: 1.5.0\nPython version: 3.6 (Anaconda)\nCUDA/cuDNN version: CUDA 9.0, cudNN 7.0.5\nGPU model and memory: Quadro K2000 2GB\nNote: GPU is also driving the display.\nWhile testing, my demo runs well until the screen goes black for a short instant of time and it crashes with the following error message:\n2018-02-27 11:45:23.275524: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructi\nons that this TensorFlow binary was not compiled to use: AVX\n2018-02-27 11:45:23.533539: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1105] Found device 0 with pro\nperties:\nname: Quadro K2000 major: 3 minor: 0 memoryClockRate(GHz): 0.954\npciBusID: 0000:01:00.0\ntotalMemory: 2.00GiB freeMemory: 1.79GiB\n2018-02-27 11:45:23.552540: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1195] Creating TensorFlow dev\nice (/device:GPU:0) -> (device: 0, name: Quadro K2000, pci bus id: 0000:01:00.0,\n compute capability: 3.0)\n[I 11:45:53.864 NotebookApp] Saving file at /Mask_RCNN/demo.ipynb\n2018-02-27 11:46:41.003970: W C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\core\\common_runtime\\bfc_allocator.cc:217] Allocator (GPU_0_bfc) ran\n out of memory trying to allocate 2.07GiB. The caller indicates that this is not\n a failure, but may mean that there could be performance gains if more memory is\n available.\n2018-02-27 11:46:52.468626: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1080] failed to synchronize the\n stop event: CUDA_ERROR_UNKNOWN\n2018-02-27 11:46:52.584632: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:54] Internal: error destroying C\nUDA event in context 00000000258FE360: CUDA_ERROR_UNKNOWN\n2018-02-27 11:46:52.585632: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:59] Internal: error destroying C\nUDA event in context 00000000258FE360: CUDA_ERROR_UNKNOWN\n2018-02-27 11:46:52.585632: F C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\n6\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:2289] failed to set stream for cud\nnn handle: CUDNN_STATUS_MAPPING_ERROR\n[I 11:47:24.287 NotebookApp] KernelRestarter: restarting kernel (1/5), keep rand\nom ports\nWARNING:root:kernel 134641e2-3f62-4019-9536-be72010310fa restarted\n\nI tried for several days different ideas from different issues:\nChecked carefully the video tutorial from youtube, nvidia installation manual, etc.\nReinstalled cuda, cudnn\nDowngrade tf, cuda, cudnn\nCould you suggest any method to detect what is wrong and how to solve the problem?\nPost-data:\nCode works fine on tensorflow without GPU.", "body": "**Machine specs:**\r\nOperating System: Windows 7 64 bits\r\nTensorFlow version: 1.5.0 \r\nPython version: 3.6 (Anaconda)\r\nCUDA/cuDNN version: CUDA 9.0, cudNN 7.0.5\r\nGPU model and memory: Quadro K2000 2GB\r\nNote: GPU is also driving the display.\r\n\r\nWhile testing, my demo runs well until the screen goes black for a short instant of time and it crashes with the following error message:\r\n\r\n```\r\n2018-02-27 11:45:23.275524: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\r\n6\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructi\r\nons that this TensorFlow binary was not compiled to use: AVX\r\n2018-02-27 11:45:23.533539: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\r\n6\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1105] Found device 0 with pro\r\nperties:\r\nname: Quadro K2000 major: 3 minor: 0 memoryClockRate(GHz): 0.954\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 2.00GiB freeMemory: 1.79GiB\r\n2018-02-27 11:45:23.552540: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\r\n6\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1195] Creating TensorFlow dev\r\nice (/device:GPU:0) -> (device: 0, name: Quadro K2000, pci bus id: 0000:01:00.0,\r\n compute capability: 3.0)\r\n[I 11:45:53.864 NotebookApp] Saving file at /Mask_RCNN/demo.ipynb\r\n2018-02-27 11:46:41.003970: W C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\r\n6\\tensorflow\\core\\common_runtime\\bfc_allocator.cc:217] Allocator (GPU_0_bfc) ran\r\n out of memory trying to allocate 2.07GiB. The caller indicates that this is not\r\n a failure, but may mean that there could be performance gains if more memory is\r\n available.\r\n2018-02-27 11:46:52.468626: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\r\n6\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1080] failed to synchronize the\r\n stop event: CUDA_ERROR_UNKNOWN\r\n2018-02-27 11:46:52.584632: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\r\n6\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:54] Internal: error destroying C\r\nUDA event in context 00000000258FE360: CUDA_ERROR_UNKNOWN\r\n2018-02-27 11:46:52.585632: E C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\r\n6\\tensorflow\\stream_executor\\cuda\\cuda_timer.cc:59] Internal: error destroying C\r\nUDA event in context 00000000258FE360: CUDA_ERROR_UNKNOWN\r\n2018-02-27 11:46:52.585632: F C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\3\r\n6\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:2289] failed to set stream for cud\r\nnn handle: CUDNN_STATUS_MAPPING_ERROR\r\n[I 11:47:24.287 NotebookApp] KernelRestarter: restarting kernel (1/5), keep rand\r\nom ports\r\nWARNING:root:kernel 134641e2-3f62-4019-9536-be72010310fa restarted\r\n```\r\n\r\nI tried for several days different ideas from different issues:\r\nChecked carefully the video tutorial from youtube, nvidia installation manual, etc.\r\nReinstalled cuda, cudnn\r\nDowngrade tf, cuda, cudnn\r\n\r\nCould you suggest any method to detect what is wrong and how to solve the problem?\r\n\r\nPost-data:\r\n**Code works fine on tensorflow without GPU.**"}