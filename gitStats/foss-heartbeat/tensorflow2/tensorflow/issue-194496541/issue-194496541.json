{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6202", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6202/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6202/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6202/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6202", "id": 194496541, "node_id": "MDU6SXNzdWUxOTQ0OTY1NDE=", "number": 6202, "title": "Inconsistent API for ones_initializer/zeros_initializer", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "itsmeolivia", "id": 2469592, "node_id": "MDQ6VXNlcjI0Njk1OTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2469592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itsmeolivia", "html_url": "https://github.com/itsmeolivia", "followers_url": "https://api.github.com/users/itsmeolivia/followers", "following_url": "https://api.github.com/users/itsmeolivia/following{/other_user}", "gists_url": "https://api.github.com/users/itsmeolivia/gists{/gist_id}", "starred_url": "https://api.github.com/users/itsmeolivia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itsmeolivia/subscriptions", "organizations_url": "https://api.github.com/users/itsmeolivia/orgs", "repos_url": "https://api.github.com/users/itsmeolivia/repos", "events_url": "https://api.github.com/users/itsmeolivia/events{/privacy}", "received_events_url": "https://api.github.com/users/itsmeolivia/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "itsmeolivia", "id": 2469592, "node_id": "MDQ6VXNlcjI0Njk1OTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2469592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itsmeolivia", "html_url": "https://github.com/itsmeolivia", "followers_url": "https://api.github.com/users/itsmeolivia/followers", "following_url": "https://api.github.com/users/itsmeolivia/following{/other_user}", "gists_url": "https://api.github.com/users/itsmeolivia/gists{/gist_id}", "starred_url": "https://api.github.com/users/itsmeolivia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itsmeolivia/subscriptions", "organizations_url": "https://api.github.com/users/itsmeolivia/orgs", "repos_url": "https://api.github.com/users/itsmeolivia/repos", "events_url": "https://api.github.com/users/itsmeolivia/events{/privacy}", "received_events_url": "https://api.github.com/users/itsmeolivia/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2016-12-09T02:12:45Z", "updated_at": "2017-01-13T17:31:28Z", "closed_at": "2016-12-27T23:44:51Z", "author_association": "CONTRIBUTOR", "body_html": "<p>This <a href=\"https://github.com/tensorflow/tensorflow/commit/cfb2280d3f6ced298681bd1141479a59a06abde8\">cl</a> has removed <code>shape</code> argument from <code>ones_initializer</code>, however, this argument remains for <code>zeros_initializer</code>.</p>\n<p>This is a breaking change so maybe it should be mentioned in RELEASE.md with instructions on how code should transition (ie <code>ones_initializer</code> should be replaced with <code>ones_initializer()</code>). Currently older code that works in 0.11 fails in 0.12 with obscure message</p>\n<p>ie</p>\n<pre><code>    update = tf.get_variable(name=\"update\", shape=[params_size], dtype=dtype,\n                             initializer=tf.ones_initializer)\n\n</code></pre>\n<p>fails with</p>\n<pre><code>...\n    initial_value(), name=\"initial_value\", dtype=dtype)\n  File \"/home/yaroslav/.conda/envs/openai/lib/python3.5/site-packages/tensorflow/python/ops/variable_scope.py\", line 665, in &lt;lambda&gt;\n    shape.as_list(), dtype=dtype, partition_info=partition_info)\nTypeError: ones_initializer() got multiple values for argument 'dtype'\n\n</code></pre>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2469592\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/itsmeolivia\">@itsmeolivia</a></p>", "body_text": "This cl has removed shape argument from ones_initializer, however, this argument remains for zeros_initializer.\nThis is a breaking change so maybe it should be mentioned in RELEASE.md with instructions on how code should transition (ie ones_initializer should be replaced with ones_initializer()). Currently older code that works in 0.11 fails in 0.12 with obscure message\nie\n    update = tf.get_variable(name=\"update\", shape=[params_size], dtype=dtype,\n                             initializer=tf.ones_initializer)\n\n\nfails with\n...\n    initial_value(), name=\"initial_value\", dtype=dtype)\n  File \"/home/yaroslav/.conda/envs/openai/lib/python3.5/site-packages/tensorflow/python/ops/variable_scope.py\", line 665, in <lambda>\n    shape.as_list(), dtype=dtype, partition_info=partition_info)\nTypeError: ones_initializer() got multiple values for argument 'dtype'\n\n\n@itsmeolivia", "body": "This [cl](https://github.com/tensorflow/tensorflow/commit/cfb2280d3f6ced298681bd1141479a59a06abde8) has removed `shape` argument from `ones_initializer`, however, this argument remains for `zeros_initializer`.\r\n\r\nThis is a breaking change so maybe it should be mentioned in RELEASE.md with instructions on how code should transition (ie `ones_initializer` should be replaced with `ones_initializer()`). Currently older code that works in 0.11 fails in 0.12 with obscure message\r\n\r\nie\r\n\r\n```\r\n    update = tf.get_variable(name=\"update\", shape=[params_size], dtype=dtype,\r\n                             initializer=tf.ones_initializer)\r\n\r\n```\r\n\r\nfails with\r\n```\r\n...\r\n    initial_value(), name=\"initial_value\", dtype=dtype)\r\n  File \"/home/yaroslav/.conda/envs/openai/lib/python3.5/site-packages/tensorflow/python/ops/variable_scope.py\", line 665, in <lambda>\r\n    shape.as_list(), dtype=dtype, partition_info=partition_info)\r\nTypeError: ones_initializer() got multiple values for argument 'dtype'\r\n\r\n```\r\n\r\n@itsmeolivia "}