{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/411012964", "html_url": "https://github.com/tensorflow/tensorflow/issues/21332#issuecomment-411012964", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21332", "id": 411012964, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTAxMjk2NA==", "user": {"login": "psyhtest", "id": 6597818, "node_id": "MDQ6VXNlcjY1OTc4MTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/6597818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psyhtest", "html_url": "https://github.com/psyhtest", "followers_url": "https://api.github.com/users/psyhtest/followers", "following_url": "https://api.github.com/users/psyhtest/following{/other_user}", "gists_url": "https://api.github.com/users/psyhtest/gists{/gist_id}", "starred_url": "https://api.github.com/users/psyhtest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psyhtest/subscriptions", "organizations_url": "https://api.github.com/users/psyhtest/orgs", "repos_url": "https://api.github.com/users/psyhtest/repos", "events_url": "https://api.github.com/users/psyhtest/events{/privacy}", "received_events_url": "https://api.github.com/users/psyhtest/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-07T10:36:08Z", "updated_at": "2018-08-07T10:36:08Z", "author_association": "NONE", "body_html": "<p>Just a note that the above worked with Python 2.7 only. With Python 3.5 it failed:</p>\n<pre><code>INFO: From Compiling tensorflow/python/framework/fast_tensor_util.cpp:\nIn file included from bazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/ndarraytypes.h:1821:0,\n                 from bazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/ndarrayobject.h:18,\n                 from bazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/arrayobject.h:4,\n                 from bazel-out/arm-opt/genfiles/tensorflow/python/framework/fast_tensor_util.cpp:531:\nbazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/npy_1_7_deprecated_api.h:15:2: warning: #warning \"Using deprecated NumPy API, disable it by \" \"#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION\" [-Wcpp]\n #warning \"Using deprecated NumPy API, disable it by \" \\\n  ^\nERROR: /home/anton/CK_TOOLS/lib-tensorflow-src-cpu-1.9-compiler.python-3.5.2-linux-64/src/tensorflow/BUILD:541:1: Executing genrule //tensorflow:python_api_gen failed (Exit 1)\nTraceback (most recent call last):\n  File \"/home/anton/.cache/bazel/_bazel_anton/6d1d19b4e763685a94d885534baf7158/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/tools/api/generator/create_python_api.py\", line 27, in &lt;module&gt;\n    from tensorflow.python.util import tf_decorator\n  File \"/home/anton/.cache/bazel/_bazel_anton/6d1d19b4e763685a94d885534baf7158/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/__init__.py\", line 52, in &lt;module&gt;\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/home/anton/.cache/bazel/_bazel_anton/6d1d19b4e763685a94d885534baf7158/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/core/framework/graph_pb2.py\", line 6, in &lt;module&gt;\n    from google.protobuf import descriptor as _descriptor\n  File \"/usr/local/lib/python3.5/dist-packages/google/protobuf/__init__.py\", line 37, in &lt;module&gt;\n    __import__('pkg_resources').declare_namespace(__name__)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2927, in &lt;module&gt;\n    @_call_aside\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2913, in _call_aside\n    f(*args, **kwargs)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2952, in _initialize_master_working_set\n    add_activation_listener(lambda dist: dist.activate())\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 956, in subscribe\n    callback(dist)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2952, in &lt;lambda&gt;\n    add_activation_listener(lambda dist: dist.activate())\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2515, in activate\n    declare_namespace(pkg)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2097, in declare_namespace\n    _handle_ns(packageName, path_item)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2047, in _handle_ns\n    _rebuild_mod_path(path, packageName, module)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2066, in _rebuild_mod_path\n    orig_path.sort(key=position_in_sys_path)\nAttributeError: '_NamespacePath' object has no attribute 'sort'\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 36844.569s, Critical Path: 170.55s\nINFO: 4722 processes: 4722 local.\nFAILED: Build did NOT complete successfully\n</code></pre>\n<p>What's weird is that I used NumPy 1.11 with Python 2, and NumPy 1.15 with Python 3.</p>", "body_text": "Just a note that the above worked with Python 2.7 only. With Python 3.5 it failed:\nINFO: From Compiling tensorflow/python/framework/fast_tensor_util.cpp:\nIn file included from bazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/ndarraytypes.h:1821:0,\n                 from bazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/ndarrayobject.h:18,\n                 from bazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/arrayobject.h:4,\n                 from bazel-out/arm-opt/genfiles/tensorflow/python/framework/fast_tensor_util.cpp:531:\nbazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/npy_1_7_deprecated_api.h:15:2: warning: #warning \"Using deprecated NumPy API, disable it by \" \"#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION\" [-Wcpp]\n #warning \"Using deprecated NumPy API, disable it by \" \\\n  ^\nERROR: /home/anton/CK_TOOLS/lib-tensorflow-src-cpu-1.9-compiler.python-3.5.2-linux-64/src/tensorflow/BUILD:541:1: Executing genrule //tensorflow:python_api_gen failed (Exit 1)\nTraceback (most recent call last):\n  File \"/home/anton/.cache/bazel/_bazel_anton/6d1d19b4e763685a94d885534baf7158/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/tools/api/generator/create_python_api.py\", line 27, in <module>\n    from tensorflow.python.util import tf_decorator\n  File \"/home/anton/.cache/bazel/_bazel_anton/6d1d19b4e763685a94d885534baf7158/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/__init__.py\", line 52, in <module>\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/home/anton/.cache/bazel/_bazel_anton/6d1d19b4e763685a94d885534baf7158/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/core/framework/graph_pb2.py\", line 6, in <module>\n    from google.protobuf import descriptor as _descriptor\n  File \"/usr/local/lib/python3.5/dist-packages/google/protobuf/__init__.py\", line 37, in <module>\n    __import__('pkg_resources').declare_namespace(__name__)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2927, in <module>\n    @_call_aside\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2913, in _call_aside\n    f(*args, **kwargs)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2952, in _initialize_master_working_set\n    add_activation_listener(lambda dist: dist.activate())\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 956, in subscribe\n    callback(dist)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2952, in <lambda>\n    add_activation_listener(lambda dist: dist.activate())\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2515, in activate\n    declare_namespace(pkg)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2097, in declare_namespace\n    _handle_ns(packageName, path_item)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2047, in _handle_ns\n    _rebuild_mod_path(path, packageName, module)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2066, in _rebuild_mod_path\n    orig_path.sort(key=position_in_sys_path)\nAttributeError: '_NamespacePath' object has no attribute 'sort'\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 36844.569s, Critical Path: 170.55s\nINFO: 4722 processes: 4722 local.\nFAILED: Build did NOT complete successfully\n\nWhat's weird is that I used NumPy 1.11 with Python 2, and NumPy 1.15 with Python 3.", "body": "Just a note that the above worked with Python 2.7 only. With Python 3.5 it failed:\r\n```\r\nINFO: From Compiling tensorflow/python/framework/fast_tensor_util.cpp:\r\nIn file included from bazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/ndarraytypes.h:1821:0,\r\n                 from bazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/ndarrayobject.h:18,\r\n                 from bazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/arrayobject.h:4,\r\n                 from bazel-out/arm-opt/genfiles/tensorflow/python/framework/fast_tensor_util.cpp:531:\r\nbazel-out/arm-opt/genfiles/external/local_config_python/numpy_include/numpy/npy_1_7_deprecated_api.h:15:2: warning: #warning \"Using deprecated NumPy API, disable it by \" \"#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION\" [-Wcpp]\r\n #warning \"Using deprecated NumPy API, disable it by \" \\\r\n  ^\r\nERROR: /home/anton/CK_TOOLS/lib-tensorflow-src-cpu-1.9-compiler.python-3.5.2-linux-64/src/tensorflow/BUILD:541:1: Executing genrule //tensorflow:python_api_gen failed (Exit 1)\r\nTraceback (most recent call last):\r\n  File \"/home/anton/.cache/bazel/_bazel_anton/6d1d19b4e763685a94d885534baf7158/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/tools/api/generator/create_python_api.py\", line 27, in <module>\r\n    from tensorflow.python.util import tf_decorator\r\n  File \"/home/anton/.cache/bazel/_bazel_anton/6d1d19b4e763685a94d885534baf7158/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/__init__.py\", line 52, in <module>\r\n    from tensorflow.core.framework.graph_pb2 import *\r\n  File \"/home/anton/.cache/bazel/_bazel_anton/6d1d19b4e763685a94d885534baf7158/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/core/framework/graph_pb2.py\", line 6, in <module>\r\n    from google.protobuf import descriptor as _descriptor\r\n  File \"/usr/local/lib/python3.5/dist-packages/google/protobuf/__init__.py\", line 37, in <module>\r\n    __import__('pkg_resources').declare_namespace(__name__)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2927, in <module>\r\n    @_call_aside\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2913, in _call_aside\r\n    f(*args, **kwargs)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2952, in _initialize_master_working_set\r\n    add_activation_listener(lambda dist: dist.activate())\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 956, in subscribe\r\n    callback(dist)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2952, in <lambda>\r\n    add_activation_listener(lambda dist: dist.activate())\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2515, in activate\r\n    declare_namespace(pkg)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2097, in declare_namespace\r\n    _handle_ns(packageName, path_item)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2047, in _handle_ns\r\n    _rebuild_mod_path(path, packageName, module)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2066, in _rebuild_mod_path\r\n    orig_path.sort(key=position_in_sys_path)\r\nAttributeError: '_NamespacePath' object has no attribute 'sort'\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 36844.569s, Critical Path: 170.55s\r\nINFO: 4722 processes: 4722 local.\r\nFAILED: Build did NOT complete successfully\r\n```\r\nWhat's weird is that I used NumPy 1.11 with Python 2, and NumPy 1.15 with Python 3."}