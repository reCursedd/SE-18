{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/214334891", "html_url": "https://github.com/tensorflow/tensorflow/issues/2035#issuecomment-214334891", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2035", "id": 214334891, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDMzNDg5MQ==", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-25T13:45:06Z", "updated_at": "2016-04-25T16:01:11Z", "author_association": "NONE", "body_html": "<p>Forgive me for late response, In my situation app closes after showing the camera input for 1s, I have used my web cam as the emulator camera,<br>\nEmulator details:</p>\n<blockquote>\n<p>Name: Nexus_5X_API_23<br>\nCPU/ABI: Google APIs Intel Atom (x86)<br>\nPath: /home/kaushalya/.android/avd/Nexus_5X_API_23.avd<br>\nTarget: google_apis [Google APIs](API level 23)<br>\nSkin: nexus_5x<br>\nSD Card: /home/kaushalya/.android/avd/Nexus_5X_API_23.avd/sdcard.img<br>\nhw.dPad: no<br>\nruntime.network.speed: full<br>\nhw.accelerometer: yes<br>\nhw.device.name: Nexus 5X<br>\nvm.heapSize: 512<br>\nhw.device.manufacturer: Google<br>\nhw.gps: yes<br>\nimage.androidVersion.api: 23<br>\nhw.audioInput: yes<br>\nimage.sysdir.1: system-images/android-23/google_apis/x86/<br>\ntag.id: google_apis<br>\nhw.camera.back: webcam0<br>\nhw.mainKeys: no<br>\nAvdId: Nexus_5X_API_23<br>\nhw.camera.front: webcam0<br>\nhw.lcd.density: 420<br>\nruntime.scalefactor: auto<br>\navd.ini.displayname: Nexus 5X API 23<br>\nhw.gpu.mode: auto<br>\nhw.device.hash2: MD5:1be89bc42ec9644d4b77968b23474980<br>\nhw.ramSize: 2048<br>\nhw.trackBall: no<br>\nhw.battery: yes<br>\nhw.sdCard: yes<br>\ntag.display: Google APIs<br>\nruntime.network.latency: none<br>\nhw.keyboard: yes<br>\nhw.sensors.proximity: yes<br>\ndisk.dataPartition.size: 800M<br>\nhw.sensors.orientation: yes<br>\navd.ini.encoding: UTF-8<br>\nhw.gpu.enabled: yes</p>\n</blockquote>\n<p>when I open the default emulator Camera app it works fine.</p>\n<p>When I open the TensorFlow_Demo, it shows the camera input for 1s  with blue band on the top and then closes automatically (without any crash message on the emulator screen).</p>\n<p>in logcat:</p>\n<blockquote>\n<p>04-25 21:17:05.594 2497-2503/org.tensorflow.tensorflowdemo E/art: Failed sending reply to debugger: Broken pipe<br>\n04-25 19:29:20.492 3103-8992/org.tensorflow.tensorflowdemo E/BufferQueueProducer: [ImageReader-640x360f23m2-3103-5] dequeueBuffer: createGraphicBuffer failed<br>\n04-25 19:29:20.492 3103-8992/org.tensorflow.tensorflowdemo E/Legacy-CameraDevice-JNI: LegacyCameraDevice_nativeProduceFrame: Error while producing frame Invalid argument (-22).<br>\n04-25 19:29:20.550 3103-8992/org.tensorflow.tensorflowdemo E/BufferQueueProducer: [ImageReader-640x360f23m2-3103-5] dequeueBuffer: can't dequeue multiple buffers without setting the buffer count<br>\n04-25 19:29:20.550 3103-8992/org.tensorflow.tensorflowdemo E/Legacy-CameraDevice-JNI: LegacyCameraDevice_nativeProduceFrame: Error while producing frame Function not implemented (-38).<br>\n04-25 19:29:20.551 3103-8992/org.tensorflow.tensorflowdemo E/CameraDeviceGLThread-0: Received exception on GL render thread:<br>\njava.lang.UnsupportedOperationException: Unknown error -38<br>\nat android.hardware.camera2.legacy.LegacyExceptionUtils.throwOnError(LegacyExceptionUtils.java:69)<br>\nat android.hardware.camera2.legacy.LegacyCameraDevice.produceFrame(LegacyCameraDevice.java:636)<br>\nat android.hardware.camera2.legacy.SurfaceTextureRenderer.drawIntoSurfaces(SurfaceTextureRenderer.java:750)<br>\nat android.hardware.camera2.legacy.GLThreadManager$1.handleMessage(GLThreadManager.java:105)<br>\nat android.os.Handler.dispatchMessage(Handler.java:98)<br>\nat android.os.Looper.loop(Looper.java:148)<br>\nat android.os.HandlerThread.run(HandlerThread.java:61)<br>\n04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/RequestThread-0: Timed out while waiting for request to complete.<br>\n04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/CameraDeviceState: Cannot receive result while in state: 0<br>\n04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/CameraDeviceState: Cannot receive result while in state: 0<br>\n04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/CameraDeviceState: Cannot receive result while in state: 0<br>\n04-25 19:29:24.539 3103-8992/org.tensorflow.tensorflowdemo E/Surface: getSlotFromBufferLocked: unknown buffer: 0xb4095560<br>\n04-25 19:29:24.610 3103-3120/org.tensorflow.tensorflowdemo E/Surface: getSlotFromBufferLocked: unknown buffer: 0xb4093ce0</p>\n</blockquote>\n<p>What should I do? Have you tried emulator with webcam as the camera?. What was your detail configurations of the emulator in your case?</p>", "body_text": "Forgive me for late response, In my situation app closes after showing the camera input for 1s, I have used my web cam as the emulator camera,\nEmulator details:\n\nName: Nexus_5X_API_23\nCPU/ABI: Google APIs Intel Atom (x86)\nPath: /home/kaushalya/.android/avd/Nexus_5X_API_23.avd\nTarget: google_apis [Google APIs](API level 23)\nSkin: nexus_5x\nSD Card: /home/kaushalya/.android/avd/Nexus_5X_API_23.avd/sdcard.img\nhw.dPad: no\nruntime.network.speed: full\nhw.accelerometer: yes\nhw.device.name: Nexus 5X\nvm.heapSize: 512\nhw.device.manufacturer: Google\nhw.gps: yes\nimage.androidVersion.api: 23\nhw.audioInput: yes\nimage.sysdir.1: system-images/android-23/google_apis/x86/\ntag.id: google_apis\nhw.camera.back: webcam0\nhw.mainKeys: no\nAvdId: Nexus_5X_API_23\nhw.camera.front: webcam0\nhw.lcd.density: 420\nruntime.scalefactor: auto\navd.ini.displayname: Nexus 5X API 23\nhw.gpu.mode: auto\nhw.device.hash2: MD5:1be89bc42ec9644d4b77968b23474980\nhw.ramSize: 2048\nhw.trackBall: no\nhw.battery: yes\nhw.sdCard: yes\ntag.display: Google APIs\nruntime.network.latency: none\nhw.keyboard: yes\nhw.sensors.proximity: yes\ndisk.dataPartition.size: 800M\nhw.sensors.orientation: yes\navd.ini.encoding: UTF-8\nhw.gpu.enabled: yes\n\nwhen I open the default emulator Camera app it works fine.\nWhen I open the TensorFlow_Demo, it shows the camera input for 1s  with blue band on the top and then closes automatically (without any crash message on the emulator screen).\nin logcat:\n\n04-25 21:17:05.594 2497-2503/org.tensorflow.tensorflowdemo E/art: Failed sending reply to debugger: Broken pipe\n04-25 19:29:20.492 3103-8992/org.tensorflow.tensorflowdemo E/BufferQueueProducer: [ImageReader-640x360f23m2-3103-5] dequeueBuffer: createGraphicBuffer failed\n04-25 19:29:20.492 3103-8992/org.tensorflow.tensorflowdemo E/Legacy-CameraDevice-JNI: LegacyCameraDevice_nativeProduceFrame: Error while producing frame Invalid argument (-22).\n04-25 19:29:20.550 3103-8992/org.tensorflow.tensorflowdemo E/BufferQueueProducer: [ImageReader-640x360f23m2-3103-5] dequeueBuffer: can't dequeue multiple buffers without setting the buffer count\n04-25 19:29:20.550 3103-8992/org.tensorflow.tensorflowdemo E/Legacy-CameraDevice-JNI: LegacyCameraDevice_nativeProduceFrame: Error while producing frame Function not implemented (-38).\n04-25 19:29:20.551 3103-8992/org.tensorflow.tensorflowdemo E/CameraDeviceGLThread-0: Received exception on GL render thread:\njava.lang.UnsupportedOperationException: Unknown error -38\nat android.hardware.camera2.legacy.LegacyExceptionUtils.throwOnError(LegacyExceptionUtils.java:69)\nat android.hardware.camera2.legacy.LegacyCameraDevice.produceFrame(LegacyCameraDevice.java:636)\nat android.hardware.camera2.legacy.SurfaceTextureRenderer.drawIntoSurfaces(SurfaceTextureRenderer.java:750)\nat android.hardware.camera2.legacy.GLThreadManager$1.handleMessage(GLThreadManager.java:105)\nat android.os.Handler.dispatchMessage(Handler.java:98)\nat android.os.Looper.loop(Looper.java:148)\nat android.os.HandlerThread.run(HandlerThread.java:61)\n04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/RequestThread-0: Timed out while waiting for request to complete.\n04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/CameraDeviceState: Cannot receive result while in state: 0\n04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/CameraDeviceState: Cannot receive result while in state: 0\n04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/CameraDeviceState: Cannot receive result while in state: 0\n04-25 19:29:24.539 3103-8992/org.tensorflow.tensorflowdemo E/Surface: getSlotFromBufferLocked: unknown buffer: 0xb4095560\n04-25 19:29:24.610 3103-3120/org.tensorflow.tensorflowdemo E/Surface: getSlotFromBufferLocked: unknown buffer: 0xb4093ce0\n\nWhat should I do? Have you tried emulator with webcam as the camera?. What was your detail configurations of the emulator in your case?", "body": "Forgive me for late response, In my situation app closes after showing the camera input for 1s, I have used my web cam as the emulator camera,\nEmulator details:\n\n> Name: Nexus_5X_API_23\n> CPU/ABI: Google APIs Intel Atom (x86)\n> Path: /home/kaushalya/.android/avd/Nexus_5X_API_23.avd\n> Target: google_apis [Google APIs](API level 23)\n> Skin: nexus_5x\n> SD Card: /home/kaushalya/.android/avd/Nexus_5X_API_23.avd/sdcard.img\n> hw.dPad: no\n> runtime.network.speed: full\n> hw.accelerometer: yes\n> hw.device.name: Nexus 5X\n> vm.heapSize: 512\n> hw.device.manufacturer: Google\n> hw.gps: yes\n> image.androidVersion.api: 23\n> hw.audioInput: yes\n> image.sysdir.1: system-images/android-23/google_apis/x86/\n> tag.id: google_apis\n> hw.camera.back: webcam0\n> hw.mainKeys: no\n> AvdId: Nexus_5X_API_23\n> hw.camera.front: webcam0\n> hw.lcd.density: 420\n> runtime.scalefactor: auto\n> avd.ini.displayname: Nexus 5X API 23\n> hw.gpu.mode: auto\n> hw.device.hash2: MD5:1be89bc42ec9644d4b77968b23474980\n> hw.ramSize: 2048\n> hw.trackBall: no\n> hw.battery: yes\n> hw.sdCard: yes\n> tag.display: Google APIs\n> runtime.network.latency: none\n> hw.keyboard: yes\n> hw.sensors.proximity: yes\n> disk.dataPartition.size: 800M\n> hw.sensors.orientation: yes\n> avd.ini.encoding: UTF-8\n> hw.gpu.enabled: yes\n\nwhen I open the default emulator Camera app it works fine.\n\nWhen I open the TensorFlow_Demo, it shows the camera input for 1s  with blue band on the top and then closes automatically (without any crash message on the emulator screen).\n\nin logcat:\n\n> 04-25 21:17:05.594 2497-2503/org.tensorflow.tensorflowdemo E/art: Failed sending reply to debugger: Broken pipe \n> 04-25 19:29:20.492 3103-8992/org.tensorflow.tensorflowdemo E/BufferQueueProducer: [ImageReader-640x360f23m2-3103-5] dequeueBuffer: createGraphicBuffer failed\n> 04-25 19:29:20.492 3103-8992/org.tensorflow.tensorflowdemo E/Legacy-CameraDevice-JNI: LegacyCameraDevice_nativeProduceFrame: Error while producing frame Invalid argument (-22).\n> 04-25 19:29:20.550 3103-8992/org.tensorflow.tensorflowdemo E/BufferQueueProducer: [ImageReader-640x360f23m2-3103-5] dequeueBuffer: can't dequeue multiple buffers without setting the buffer count\n> 04-25 19:29:20.550 3103-8992/org.tensorflow.tensorflowdemo E/Legacy-CameraDevice-JNI: LegacyCameraDevice_nativeProduceFrame: Error while producing frame Function not implemented (-38).\n> 04-25 19:29:20.551 3103-8992/org.tensorflow.tensorflowdemo E/CameraDeviceGLThread-0: Received exception on GL render thread: \n>                                                                                      java.lang.UnsupportedOperationException: Unknown error -38\n>                                                                                          at android.hardware.camera2.legacy.LegacyExceptionUtils.throwOnError(LegacyExceptionUtils.java:69)\n>                                                                                          at android.hardware.camera2.legacy.LegacyCameraDevice.produceFrame(LegacyCameraDevice.java:636)\n>                                                                                          at android.hardware.camera2.legacy.SurfaceTextureRenderer.drawIntoSurfaces(SurfaceTextureRenderer.java:750)\n>                                                                                          at android.hardware.camera2.legacy.GLThreadManager$1.handleMessage(GLThreadManager.java:105)\n>                                                                                          at android.os.Handler.dispatchMessage(Handler.java:98)\n>                                                                                          at android.os.Looper.loop(Looper.java:148)\n>                                                                                          at android.os.HandlerThread.run(HandlerThread.java:61)\n> 04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/RequestThread-0: Timed out while waiting for request to complete.\n> 04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/CameraDeviceState: Cannot receive result while in state: 0\n> 04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/CameraDeviceState: Cannot receive result while in state: 0\n> 04-25 19:29:24.537 3103-8991/org.tensorflow.tensorflowdemo E/CameraDeviceState: Cannot receive result while in state: 0\n> 04-25 19:29:24.539 3103-8992/org.tensorflow.tensorflowdemo E/Surface: getSlotFromBufferLocked: unknown buffer: 0xb4095560\n> 04-25 19:29:24.610 3103-3120/org.tensorflow.tensorflowdemo E/Surface: getSlotFromBufferLocked: unknown buffer: 0xb4093ce0\n\nWhat should I do? Have you tried emulator with webcam as the camera?. What was your detail configurations of the emulator in your case?\n"}