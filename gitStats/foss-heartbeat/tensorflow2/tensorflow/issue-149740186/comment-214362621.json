{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/214362621", "html_url": "https://github.com/tensorflow/tensorflow/issues/2035#issuecomment-214362621", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2035", "id": 214362621, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDM2MjYyMQ==", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-25T14:34:20Z", "updated_at": "2016-04-25T16:46:25Z", "author_association": "NONE", "body_html": "<p>I tested with emulator with the config given above except this emulator uses API 21 and it gives me in logcat:</p>\n<blockquote>\n<p>04-25 19:57:18.936 2313-2382/org.tensorflow.tensorflowdemo E/EGL_emulation: tid 2382: eglCreateContext(877): error 0x3005 (EGL_BAD_CONFIG)<br>\n04-25 19:57:18.936 2313-2382/org.tensorflow.tensorflowdemo E/CameraDeviceGLThread-0: Received exception on GL render thread:<br>\njava.lang.IllegalStateException: eglCreateContext: EGL error: 0x3005<br>\nat android.hardware.camera2.legacy.SurfaceTextureRenderer.checkEglError(SurfaceTextureRenderer.java:487)<br>\nat android.hardware.camera2.legacy.SurfaceTextureRenderer.configureEGLContext(SurfaceTextureRenderer.java:386)<br>\nat android.hardware.camera2.legacy.SurfaceTextureRenderer.configureSurfaces(SurfaceTextureRenderer.java:600)<br>\nat android.hardware.camera2.legacy.GLThreadManager$1.handleMessage(GLThreadManager.java:87)<br>\nat android.os.Handler.dispatchMessage(Handler.java:98)<br>\nat android.os.Looper.loop(Looper.java:135)<br>\nat android.os.HandlerThread.run(HandlerThread.java:61)</p>\n</blockquote>\n<p>tensorflow demo app stays with empty blue band with totally black camera input area.</p>\n<p>Another thing to notice is here default camera app on the emulator crashes. with the messages given below in the emulator message view:</p>\n<blockquote>\n<p>emulator: ERROR: camera_device_start_capturing: VIDIOC_STREAMON on camera '/dev/video0' has failed: Timer expired<br>\nemulator: ERROR: _camera_client_query_start: Cannot start camera '/dev/video0' for NV21[640x480]: Inappropriate ioctl for device</p>\n</blockquote>\n<p>This <strong>Inappropriate ioctl for device</strong> is seems due to not matching my webcam resolution with the emulator resolution, If so how do I fix that? I already tried changing the max vertical, max horizontal in emulator .ini file but message still the same.<br>\nI have installed <strong>tensorflow r0.8 only CPU version</strong>. Is that have any effect on the issue I am facing?<br>\nhelp me on this? If someone can drop API level of the app to 19 I can try it on my phone?</p>", "body_text": "I tested with emulator with the config given above except this emulator uses API 21 and it gives me in logcat:\n\n04-25 19:57:18.936 2313-2382/org.tensorflow.tensorflowdemo E/EGL_emulation: tid 2382: eglCreateContext(877): error 0x3005 (EGL_BAD_CONFIG)\n04-25 19:57:18.936 2313-2382/org.tensorflow.tensorflowdemo E/CameraDeviceGLThread-0: Received exception on GL render thread:\njava.lang.IllegalStateException: eglCreateContext: EGL error: 0x3005\nat android.hardware.camera2.legacy.SurfaceTextureRenderer.checkEglError(SurfaceTextureRenderer.java:487)\nat android.hardware.camera2.legacy.SurfaceTextureRenderer.configureEGLContext(SurfaceTextureRenderer.java:386)\nat android.hardware.camera2.legacy.SurfaceTextureRenderer.configureSurfaces(SurfaceTextureRenderer.java:600)\nat android.hardware.camera2.legacy.GLThreadManager$1.handleMessage(GLThreadManager.java:87)\nat android.os.Handler.dispatchMessage(Handler.java:98)\nat android.os.Looper.loop(Looper.java:135)\nat android.os.HandlerThread.run(HandlerThread.java:61)\n\ntensorflow demo app stays with empty blue band with totally black camera input area.\nAnother thing to notice is here default camera app on the emulator crashes. with the messages given below in the emulator message view:\n\nemulator: ERROR: camera_device_start_capturing: VIDIOC_STREAMON on camera '/dev/video0' has failed: Timer expired\nemulator: ERROR: _camera_client_query_start: Cannot start camera '/dev/video0' for NV21[640x480]: Inappropriate ioctl for device\n\nThis Inappropriate ioctl for device is seems due to not matching my webcam resolution with the emulator resolution, If so how do I fix that? I already tried changing the max vertical, max horizontal in emulator .ini file but message still the same.\nI have installed tensorflow r0.8 only CPU version. Is that have any effect on the issue I am facing?\nhelp me on this? If someone can drop API level of the app to 19 I can try it on my phone?", "body": "I tested with emulator with the config given above except this emulator uses API 21 and it gives me in logcat:\n\n> 04-25 19:57:18.936 2313-2382/org.tensorflow.tensorflowdemo E/EGL_emulation: tid 2382: eglCreateContext(877): error 0x3005 (EGL_BAD_CONFIG)\n> 04-25 19:57:18.936 2313-2382/org.tensorflow.tensorflowdemo E/CameraDeviceGLThread-0: Received exception on GL render thread: \n>                                                                                      java.lang.IllegalStateException: eglCreateContext: EGL error: 0x3005\n>                                                                                          at android.hardware.camera2.legacy.SurfaceTextureRenderer.checkEglError(SurfaceTextureRenderer.java:487)\n>                                                                                          at android.hardware.camera2.legacy.SurfaceTextureRenderer.configureEGLContext(SurfaceTextureRenderer.java:386)\n>                                                                                          at android.hardware.camera2.legacy.SurfaceTextureRenderer.configureSurfaces(SurfaceTextureRenderer.java:600)\n>                                                                                          at android.hardware.camera2.legacy.GLThreadManager$1.handleMessage(GLThreadManager.java:87)\n>                                                                                          at android.os.Handler.dispatchMessage(Handler.java:98)\n>                                                                                          at android.os.Looper.loop(Looper.java:135)\n>                                                                                          at android.os.HandlerThread.run(HandlerThread.java:61)\n\ntensorflow demo app stays with empty blue band with totally black camera input area.\n\nAnother thing to notice is here default camera app on the emulator crashes. with the messages given below in the emulator message view:\n\n> emulator: ERROR: camera_device_start_capturing: VIDIOC_STREAMON on camera '/dev/video0' has failed: Timer expired\n> emulator: ERROR: _camera_client_query_start: Cannot start camera '/dev/video0' for NV21[640x480]: Inappropriate ioctl for device\n\nThis **Inappropriate ioctl for device** is seems due to not matching my webcam resolution with the emulator resolution, If so how do I fix that? I already tried changing the max vertical, max horizontal in emulator .ini file but message still the same. \nI have installed **tensorflow r0.8 only CPU version**. Is that have any effect on the issue I am facing?\nhelp me on this? If someone can drop API level of the app to 19 I can try it on my phone?\n"}