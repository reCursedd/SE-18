{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/186170267", "pull_request_review_id": 117706110, "id": 186170267, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjE3MDI2Nw==", "diff_hunk": "@@ -209,6 +210,7 @@ def tf_copts(android_optimization_level_override=\"-O2\", is_external=False):\n       + if_tensorrt([\"-DGOOGLE_TENSORRT=1\"])\n       + if_mkl([\"-DINTEL_MKL=1\", \"-DEIGEN_USE_VML\"])\n       + if_mkl_lnx_x64([\"-fopenmp\"])\n+      + if_mkl_darwin([\"-Xpreprocessor\", \"-fopenmp\"])", "path": "tensorflow/tensorflow.bzl", "position": 14, "original_position": 14, "commit_id": "ad4142da1266eaf53bca4c1dcdc56f9cb7fd6af0", "original_commit_id": "ad4142da1266eaf53bca4c1dcdc56f9cb7fd6af0", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "body": "Most people are using the default Xcode toolchain for building on macos.\r\nWe need to have this work with the default toolchain, otherwise tensorflow team has to field dozens of github issues with this workaround.\r\nTherefore, I will reject this PR, and for the lines in question, I would like to add extra preprocessor directives to avoid using `omp.h` on macos.", "created_at": "2018-05-04T18:01:31Z", "updated_at": "2018-05-04T18:01:31Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/18726#discussion_r186170267", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18726", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/186170267"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/18726#discussion_r186170267"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18726"}}, "body_html": "<p>Most people are using the default Xcode toolchain for building on macos.<br>\nWe need to have this work with the default toolchain, otherwise tensorflow team has to field dozens of github issues with this workaround.<br>\nTherefore, I will reject this PR, and for the lines in question, I would like to add extra preprocessor directives to avoid using <code>omp.h</code> on macos.</p>", "body_text": "Most people are using the default Xcode toolchain for building on macos.\nWe need to have this work with the default toolchain, otherwise tensorflow team has to field dozens of github issues with this workaround.\nTherefore, I will reject this PR, and for the lines in question, I would like to add extra preprocessor directives to avoid using omp.h on macos.", "in_reply_to_id": 185665120}