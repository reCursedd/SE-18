{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/420116876", "html_url": "https://github.com/tensorflow/tensorflow/issues/22140#issuecomment-420116876", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22140", "id": 420116876, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDExNjg3Ng==", "user": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-11T01:38:48Z", "updated_at": "2018-09-11T01:38:48Z", "author_association": "MEMBER", "body_html": "<p>I'd use <code>tf.Variable</code>:</p>\n<pre><code>&gt;&gt;&gt; m = tf.keras.Model()\n&gt;&gt;&gt; m.v = tf.Variable(1.)\n&gt;&gt;&gt; m.trainable_variables\n[&lt;tf.Variable 'Variable:0' shape=() dtype=float32, numpy=1.0&gt;]\n</code></pre>\n<p>It's fine to create new Layers in your call() method for subclassed Models. Just make sure they only get created on the first call. I think you can also define a build() method for Models if you'd like.</p>", "body_text": "I'd use tf.Variable:\n>>> m = tf.keras.Model()\n>>> m.v = tf.Variable(1.)\n>>> m.trainable_variables\n[<tf.Variable 'Variable:0' shape=() dtype=float32, numpy=1.0>]\n\nIt's fine to create new Layers in your call() method for subclassed Models. Just make sure they only get created on the first call. I think you can also define a build() method for Models if you'd like.", "body": "I'd use `tf.Variable`:\r\n\r\n```\r\n>>> m = tf.keras.Model()\r\n>>> m.v = tf.Variable(1.)\r\n>>> m.trainable_variables\r\n[<tf.Variable 'Variable:0' shape=() dtype=float32, numpy=1.0>]\r\n```\r\n\r\nIt's fine to create new Layers in your call() method for subclassed Models. Just make sure they only get created on the first call. I think you can also define a build() method for Models if you'd like."}