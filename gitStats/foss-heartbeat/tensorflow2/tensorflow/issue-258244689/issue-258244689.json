{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13083", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13083/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13083/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13083/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13083", "id": 258244689, "node_id": "MDU6SXNzdWUyNTgyNDQ2ODk=", "number": 13083, "title": "mismatch between the reported values of tt.nn.zero_fraction", "user": {"login": "amirjamez", "id": 8922398, "node_id": "MDQ6VXNlcjg5MjIzOTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8922398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirjamez", "html_url": "https://github.com/amirjamez", "followers_url": "https://api.github.com/users/amirjamez/followers", "following_url": "https://api.github.com/users/amirjamez/following{/other_user}", "gists_url": "https://api.github.com/users/amirjamez/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirjamez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirjamez/subscriptions", "organizations_url": "https://api.github.com/users/amirjamez/orgs", "repos_url": "https://api.github.com/users/amirjamez/repos", "events_url": "https://api.github.com/users/amirjamez/events{/privacy}", "received_events_url": "https://api.github.com/users/amirjamez/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-16T17:06:35Z", "updated_at": "2017-12-11T21:44:38Z", "closed_at": "2017-12-11T21:44:38Z", "author_association": "NONE", "body_html": "<p>Has anyone run into this issue before?</p>\n<p><a href=\"https://www.tensorflow.org/api_docs/python/tf/nn/zero_fraction\" rel=\"nofollow\">tt.nn.zero_fraction</a>, defined in <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.3/tensorflow/python/ops/nn_impl.py\">nn_imply.py</a> reports my convs layers in <a href=\"https://github.com/tensorflow/models/blob/master/slim/nets/mobilenet_v1.py\">MobileNet_v1 slim</a> net have around 0.5 sparsity (conv1-conv13). However, when I freeze the model's weights and look at them, there is none zero values:</p>\n<pre><code>&gt;&gt;&gt;conv=sess.run('MobilenetV1/Logits/Conv2d_1c_1x1/weights/read:0')\n&gt;&gt;&gt;numpy.count_nonzero(conv)\n5120\n&gt;&gt;&gt;numpy.count_nonzero(conv==0)\n0\n\n</code></pre>\n<p>Looking at the histogram, there are many weights' values close to zero. Does that function do approximation? Can anyone verify this?</p>", "body_text": "Has anyone run into this issue before?\ntt.nn.zero_fraction, defined in nn_imply.py reports my convs layers in MobileNet_v1 slim net have around 0.5 sparsity (conv1-conv13). However, when I freeze the model's weights and look at them, there is none zero values:\n>>>conv=sess.run('MobilenetV1/Logits/Conv2d_1c_1x1/weights/read:0')\n>>>numpy.count_nonzero(conv)\n5120\n>>>numpy.count_nonzero(conv==0)\n0\n\n\nLooking at the histogram, there are many weights' values close to zero. Does that function do approximation? Can anyone verify this?", "body": "Has anyone run into this issue before? \r\n\r\n[tt.nn.zero_fraction](https://www.tensorflow.org/api_docs/python/tf/nn/zero_fraction), defined in [nn_imply.py](https://github.com/tensorflow/tensorflow/blob/r1.3/tensorflow/python/ops/nn_impl.py) reports my convs layers in [MobileNet_v1 slim](https://github.com/tensorflow/models/blob/master/slim/nets/mobilenet_v1.py) net have around 0.5 sparsity (conv1-conv13). However, when I freeze the model's weights and look at them, there is none zero values:\r\n\r\n```\r\n>>>conv=sess.run('MobilenetV1/Logits/Conv2d_1c_1x1/weights/read:0')\r\n>>>numpy.count_nonzero(conv)\r\n5120\r\n>>>numpy.count_nonzero(conv==0)\r\n0\r\n\r\n```\r\n\r\nLooking at the histogram, there are many weights' values close to zero. Does that function do approximation? Can anyone verify this?"}