{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/242264830", "html_url": "https://github.com/tensorflow/tensorflow/issues/1888#issuecomment-242264830", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1888", "id": 242264830, "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjI2NDgzMA==", "user": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-25T02:27:42Z", "updated_at": "2016-08-25T02:27:42Z", "author_association": "CONTRIBUTOR", "body_html": "<ul>\n<li>Yeah, we can put it in something other than GPUOptions (I'm loathe to put it top level, I'd rather scope it appropriately).</li>\n<li>Because that's how CUDA_VISIBLE_DEVICES works, and I kind of wanted it to be 'familiar' to people :).  I could make it repeated too.</li>\n<li>Yes, exactly.</li>\n<li>Unfortunately I think some part of the GPU initialization is still global (held by process_state), so destroying the session would not release it.  However, if you never used it, it shouldn't establish any context.  It would be nice to have it release on session close, but it will require some work to properly refcount the currently global state.  Heck, if you wanted to work on that instead, that would be nice.</li>\n</ul>", "body_text": "Yeah, we can put it in something other than GPUOptions (I'm loathe to put it top level, I'd rather scope it appropriately).\nBecause that's how CUDA_VISIBLE_DEVICES works, and I kind of wanted it to be 'familiar' to people :).  I could make it repeated too.\nYes, exactly.\nUnfortunately I think some part of the GPU initialization is still global (held by process_state), so destroying the session would not release it.  However, if you never used it, it shouldn't establish any context.  It would be nice to have it release on session close, but it will require some work to properly refcount the currently global state.  Heck, if you wanted to work on that instead, that would be nice.", "body": "- Yeah, we can put it in something other than GPUOptions (I'm loathe to put it top level, I'd rather scope it appropriately).\n- Because that's how CUDA_VISIBLE_DEVICES works, and I kind of wanted it to be 'familiar' to people :).  I could make it repeated too.\n- Yes, exactly.\n- Unfortunately I think some part of the GPU initialization is still global (held by process_state), so destroying the session would not release it.  However, if you never used it, it shouldn't establish any context.  It would be nice to have it release on session close, but it will require some work to properly refcount the currently global state.  Heck, if you wanted to work on that instead, that would be nice.\n"}