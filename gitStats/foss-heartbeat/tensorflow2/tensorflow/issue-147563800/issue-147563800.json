{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1861", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1861/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1861/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1861/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1861", "id": 147563800, "node_id": "MDU6SXNzdWUxNDc1NjM4MDA=", "number": 1861, "title": "Bug: tf.scan loses shape information when available", "user": {"login": "rdipietro", "id": 5150559, "node_id": "MDQ6VXNlcjUxNTA1NTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/5150559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rdipietro", "html_url": "https://github.com/rdipietro", "followers_url": "https://api.github.com/users/rdipietro/followers", "following_url": "https://api.github.com/users/rdipietro/following{/other_user}", "gists_url": "https://api.github.com/users/rdipietro/gists{/gist_id}", "starred_url": "https://api.github.com/users/rdipietro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rdipietro/subscriptions", "organizations_url": "https://api.github.com/users/rdipietro/orgs", "repos_url": "https://api.github.com/users/rdipietro/repos", "events_url": "https://api.github.com/users/rdipietro/events{/privacy}", "received_events_url": "https://api.github.com/users/rdipietro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-04-11T21:43:38Z", "updated_at": "2017-02-09T22:02:17Z", "closed_at": "2016-04-18T22:01:49Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Operating System: CentOS 6.7<br>\nIf installed from sources, provide the commit hash: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/b4b276eb785f77beb226189ca1d32ba36717a588/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/b4b276eb785f77beb226189ca1d32ba36717a588\"><tt>b4b276e</tt></a></p>\n<p><code>tf.scan</code> loses shape information when available, which in turn makes it necessary to pass around shape information that could be inferred from the <code>Tensors</code> themselves.</p>\n<p>Example where we should see shape <code>[3]</code> (after conversion to list), but where we instead get a shape of <code>&lt;unknown&gt;</code>:</p>\n<pre><code>def fn(previous_output, current_input):\n    print(current_input.get_shape())\n    return current_input\n\nx = tf.constant([[1, 2, 3], [4, 5, 6]])\ninitializer = tf.constant([0, 0, 0])\n\ny = tf.scan(fn, x, initializer=initializer)\n\nwith tf.Session() as sess:\n    print(sess.run(y))\n\n# &lt;unknown&gt;\n# [[1 2 3]\n# [4 5 6]]\n</code></pre>", "body_text": "Operating System: CentOS 6.7\nIf installed from sources, provide the commit hash: b4b276e\ntf.scan loses shape information when available, which in turn makes it necessary to pass around shape information that could be inferred from the Tensors themselves.\nExample where we should see shape [3] (after conversion to list), but where we instead get a shape of <unknown>:\ndef fn(previous_output, current_input):\n    print(current_input.get_shape())\n    return current_input\n\nx = tf.constant([[1, 2, 3], [4, 5, 6]])\ninitializer = tf.constant([0, 0, 0])\n\ny = tf.scan(fn, x, initializer=initializer)\n\nwith tf.Session() as sess:\n    print(sess.run(y))\n\n# <unknown>\n# [[1 2 3]\n# [4 5 6]]", "body": "Operating System: CentOS 6.7\nIf installed from sources, provide the commit hash: b4b276e\n\n`tf.scan` loses shape information when available, which in turn makes it necessary to pass around shape information that could be inferred from the `Tensors` themselves.\n\nExample where we should see shape `[3]` (after conversion to list), but where we instead get a shape of `<unknown>`:\n\n```\ndef fn(previous_output, current_input):\n    print(current_input.get_shape())\n    return current_input\n\nx = tf.constant([[1, 2, 3], [4, 5, 6]])\ninitializer = tf.constant([0, 0, 0])\n\ny = tf.scan(fn, x, initializer=initializer)\n\nwith tf.Session() as sess:\n    print(sess.run(y))\n\n# <unknown>\n# [[1 2 3]\n# [4 5 6]]\n```\n"}