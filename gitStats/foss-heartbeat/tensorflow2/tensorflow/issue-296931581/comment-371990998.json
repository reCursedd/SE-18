{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/371990998", "html_url": "https://github.com/tensorflow/tensorflow/issues/16995#issuecomment-371990998", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16995", "id": 371990998, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTk5MDk5OA==", "user": {"login": "navsuda", "id": 34459978, "node_id": "MDQ6VXNlcjM0NDU5OTc4", "avatar_url": "https://avatars2.githubusercontent.com/u/34459978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/navsuda", "html_url": "https://github.com/navsuda", "followers_url": "https://api.github.com/users/navsuda/followers", "following_url": "https://api.github.com/users/navsuda/following{/other_user}", "gists_url": "https://api.github.com/users/navsuda/gists{/gist_id}", "starred_url": "https://api.github.com/users/navsuda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/navsuda/subscriptions", "organizations_url": "https://api.github.com/users/navsuda/orgs", "repos_url": "https://api.github.com/users/navsuda/repos", "events_url": "https://api.github.com/users/navsuda/events{/privacy}", "received_events_url": "https://api.github.com/users/navsuda/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-10T01:31:03Z", "updated_at": "2018-03-10T01:31:03Z", "author_association": "NONE", "body_html": "<p>Came across a similar error. The main reason is that fake_quant_with_min_max_vars Op is trying to \"nudge\" the quantized min, max values such that zero maps to an integer: <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/fake_quant_ops_functor.h#L139\">here</a>. Since both min,max values are positive and are <em>relatively</em> far from zero, it happened that the (nudged min,max) values are (~0, 0.05249124), which are out of range of the values in variable \"a\". Hence all values are saturated to the upper bound of 0.05249124.<br>\nSimple solution to your case is to not nudge, but the higher-level question is: will we encounter models  where min&gt;0 and (max-min)&lt;min?</p>", "body_text": "Came across a similar error. The main reason is that fake_quant_with_min_max_vars Op is trying to \"nudge\" the quantized min, max values such that zero maps to an integer: here. Since both min,max values are positive and are relatively far from zero, it happened that the (nudged min,max) values are (~0, 0.05249124), which are out of range of the values in variable \"a\". Hence all values are saturated to the upper bound of 0.05249124.\nSimple solution to your case is to not nudge, but the higher-level question is: will we encounter models  where min>0 and (max-min)<min?", "body": "Came across a similar error. The main reason is that fake_quant_with_min_max_vars Op is trying to \"nudge\" the quantized min, max values such that zero maps to an integer: [here](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/fake_quant_ops_functor.h#L139). Since both min,max values are positive and are _relatively_ far from zero, it happened that the (nudged min,max) values are (~0, 0.05249124), which are out of range of the values in variable \"a\". Hence all values are saturated to the upper bound of 0.05249124. \r\nSimple solution to your case is to not nudge, but the higher-level question is: will we encounter models  where min>0 and (max-min)<min?"}