{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/326123314", "html_url": "https://github.com/tensorflow/tensorflow/issues/12657#issuecomment-326123314", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12657", "id": 326123314, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjEyMzMxNA==", "user": {"login": "ydzhang12345", "id": 16008176, "node_id": "MDQ6VXNlcjE2MDA4MTc2", "avatar_url": "https://avatars1.githubusercontent.com/u/16008176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ydzhang12345", "html_url": "https://github.com/ydzhang12345", "followers_url": "https://api.github.com/users/ydzhang12345/followers", "following_url": "https://api.github.com/users/ydzhang12345/following{/other_user}", "gists_url": "https://api.github.com/users/ydzhang12345/gists{/gist_id}", "starred_url": "https://api.github.com/users/ydzhang12345/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ydzhang12345/subscriptions", "organizations_url": "https://api.github.com/users/ydzhang12345/orgs", "repos_url": "https://api.github.com/users/ydzhang12345/repos", "events_url": "https://api.github.com/users/ydzhang12345/events{/privacy}", "received_events_url": "https://api.github.com/users/ydzhang12345/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-30T21:23:17Z", "updated_at": "2017-08-30T21:23:53Z", "author_association": "NONE", "body_html": "<ul>\n<li>I haven't written customized code</li>\n<li><strong>OS Platform and Distribution</strong>: Linux Ubuntu 14.04</li>\n<li><strong>TensorFlow installed from</strong>: source</li>\n<li><strong>TensorFlow version</strong>: 1.3.0</li>\n<li><strong>Python version</strong>: 2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.5.3</li>\n<li><strong>CUDA:8.0 cuDNN:6.0</strong>:</li>\n<li><strong>GPU: GTX1080</strong>:</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<ol>\n<li>\n<p>built tensorflow from source</p>\n</li>\n<li>\n<p>run the tensorflow/examples/speech_commands with the default setting to train CNN model;</p>\n</li>\n<li>\n<p>use the freeze.py script inside the speech_commands dir to obtain frozen_graph.pb</p>\n</li>\n<li>\n<p>Load the graph back by using the following code:<br>\n`def load_graph(frozen_graph_filename):<br>\nwith tf.gfile.GFile(frozen_graph_filename, \"rb\") as f:<br>\ngraph_def = tf.GraphDef()<br>\ngraph_def.ParseFromString(f.read())</p>\n<p>with tf.Graph().as_default() as graph:<br>\ntf.import_graph_def(<br>\ngraph_def,<br>\ninput_map=None,<br>\nreturn_elements=None,<br>\nname=\"imported\",<br>\nop_dict=None,<br>\nproducer_op_list=None<br>\n)<br>\nreturn graph<br>\ngraph = load_graph('./test_loading_graph_back.pb')`</p>\n</li>\n</ol>\n<p>Error:<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 285, in import_graph_def<br>\nraise ValueError('No op named %s in defined operations.' % node.op)<br>\nValueError: No op named DecodeWav in defined operations.</p>", "body_text": "I haven't written customized code\nOS Platform and Distribution: Linux Ubuntu 14.04\nTensorFlow installed from: source\nTensorFlow version: 1.3.0\nPython version: 2.7\nBazel version (if compiling from source): 0.5.3\nCUDA:8.0 cuDNN:6.0:\nGPU: GTX1080:\nExact command to reproduce:\n\n\n\nbuilt tensorflow from source\n\n\nrun the tensorflow/examples/speech_commands with the default setting to train CNN model;\n\n\nuse the freeze.py script inside the speech_commands dir to obtain frozen_graph.pb\n\n\nLoad the graph back by using the following code:\n`def load_graph(frozen_graph_filename):\nwith tf.gfile.GFile(frozen_graph_filename, \"rb\") as f:\ngraph_def = tf.GraphDef()\ngraph_def.ParseFromString(f.read())\nwith tf.Graph().as_default() as graph:\ntf.import_graph_def(\ngraph_def,\ninput_map=None,\nreturn_elements=None,\nname=\"imported\",\nop_dict=None,\nproducer_op_list=None\n)\nreturn graph\ngraph = load_graph('./test_loading_graph_back.pb')`\n\n\nError:\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 285, in import_graph_def\nraise ValueError('No op named %s in defined operations.' % node.op)\nValueError: No op named DecodeWav in defined operations.", "body": "-  I haven't written customized code\r\n- **OS Platform and Distribution**: Linux Ubuntu 14.04\r\n- **TensorFlow installed from**: source\r\n- **TensorFlow version**: 1.3.0\r\n- **Python version**: 2.7 \r\n- **Bazel version (if compiling from source)**: 0.5.3\r\n- **CUDA:8.0 cuDNN:6.0**:\r\n- **GPU: GTX1080**:\r\n- **Exact command to reproduce**:\r\n\r\n1. built tensorflow from source\r\n\r\n2. run the tensorflow/examples/speech_commands with the default setting to train CNN model;\r\n\r\n3. use the freeze.py script inside the speech_commands dir to obtain frozen_graph.pb\r\n\r\n4. Load the graph back by using the following code:\r\n`def load_graph(frozen_graph_filename):\r\n    with tf.gfile.GFile(frozen_graph_filename, \"rb\") as f:\r\n        graph_def = tf.GraphDef()\r\n        graph_def.ParseFromString(f.read())\r\n\r\n    with tf.Graph().as_default() as graph:\r\n        tf.import_graph_def(\r\n            graph_def, \r\n            input_map=None, \r\n            return_elements=None, \r\n            name=\"imported\", \r\n            op_dict=None, \r\n            producer_op_list=None\r\n        )\r\n    return graph\r\ngraph = load_graph('./test_loading_graph_back.pb')`\r\n\r\nError:\r\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 285, in import_graph_def\r\nraise ValueError('No op named %s in defined operations.' % node.op)\r\nValueError: No op named DecodeWav in defined operations.\r\n\r\n\r\n"}