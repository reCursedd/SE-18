{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12657", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12657/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12657/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12657/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12657", "id": 253447422, "node_id": "MDU6SXNzdWUyNTM0NDc0MjI=", "number": 12657, "title": "Undefined op in speech_commands example", "user": {"login": "ydzhang12345", "id": 16008176, "node_id": "MDQ6VXNlcjE2MDA4MTc2", "avatar_url": "https://avatars1.githubusercontent.com/u/16008176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ydzhang12345", "html_url": "https://github.com/ydzhang12345", "followers_url": "https://api.github.com/users/ydzhang12345/followers", "following_url": "https://api.github.com/users/ydzhang12345/following{/other_user}", "gists_url": "https://api.github.com/users/ydzhang12345/gists{/gist_id}", "starred_url": "https://api.github.com/users/ydzhang12345/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ydzhang12345/subscriptions", "organizations_url": "https://api.github.com/users/ydzhang12345/orgs", "repos_url": "https://api.github.com/users/ydzhang12345/repos", "events_url": "https://api.github.com/users/ydzhang12345/events{/privacy}", "received_events_url": "https://api.github.com/users/ydzhang12345/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-08-28T20:33:42Z", "updated_at": "2017-12-20T18:28:27Z", "closed_at": "2017-12-20T05:37:12Z", "author_association": "NONE", "body_html": "<p>I am using tensorflow 1.3.0 built from source.</p>\n<p>I run the newly released speech_commands example (its in tensorflow/examples/speech_commands), following all the stuffs and all good. However, after I used the freeze.py script and generated the pb graph, I am unable to load it back. The code I used to load pb graph is:</p>\n<pre><code>def load_graph(frozen_graph_filename):\n    with tf.gfile.GFile(frozen_graph_filename, \"rb\") as f:\n        graph_def = tf.GraphDef()\n        graph_def.ParseFromString(f.read())\n\n    with tf.Graph().as_default() as graph:\n        tf.import_graph_def(\n            graph_def, \n            input_map=None, \n            return_elements=None, \n            name=\"imported\", \n            op_dict=None, \n            producer_op_list=None\n        )\n    return graph\ngraph = load_graph('./test_loading_graph_back.pb')\n</code></pre>\n<p>Error:<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 285, in import_graph_def<br>\nraise ValueError('No op named %s in defined operations.' % node.op)<br>\nValueError: No op named DecodeWav in defined operations.</p>", "body_text": "I am using tensorflow 1.3.0 built from source.\nI run the newly released speech_commands example (its in tensorflow/examples/speech_commands), following all the stuffs and all good. However, after I used the freeze.py script and generated the pb graph, I am unable to load it back. The code I used to load pb graph is:\ndef load_graph(frozen_graph_filename):\n    with tf.gfile.GFile(frozen_graph_filename, \"rb\") as f:\n        graph_def = tf.GraphDef()\n        graph_def.ParseFromString(f.read())\n\n    with tf.Graph().as_default() as graph:\n        tf.import_graph_def(\n            graph_def, \n            input_map=None, \n            return_elements=None, \n            name=\"imported\", \n            op_dict=None, \n            producer_op_list=None\n        )\n    return graph\ngraph = load_graph('./test_loading_graph_back.pb')\n\nError:\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 285, in import_graph_def\nraise ValueError('No op named %s in defined operations.' % node.op)\nValueError: No op named DecodeWav in defined operations.", "body": "I am using tensorflow 1.3.0 built from source.\r\n\r\nI run the newly released speech_commands example (its in tensorflow/examples/speech_commands), following all the stuffs and all good. However, after I used the freeze.py script and generated the pb graph, I am unable to load it back. The code I used to load pb graph is:\r\n\r\n```\r\ndef load_graph(frozen_graph_filename):\r\n    with tf.gfile.GFile(frozen_graph_filename, \"rb\") as f:\r\n        graph_def = tf.GraphDef()\r\n        graph_def.ParseFromString(f.read())\r\n\r\n    with tf.Graph().as_default() as graph:\r\n        tf.import_graph_def(\r\n            graph_def, \r\n            input_map=None, \r\n            return_elements=None, \r\n            name=\"imported\", \r\n            op_dict=None, \r\n            producer_op_list=None\r\n        )\r\n    return graph\r\ngraph = load_graph('./test_loading_graph_back.pb')\r\n```\r\n\r\nError:\r\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 285, in import_graph_def\r\n    raise ValueError('No op named %s in defined operations.' % node.op)\r\nValueError: No op named DecodeWav in defined operations."}