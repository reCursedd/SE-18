{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5484", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5484/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5484/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5484/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5484", "id": 188117827, "node_id": "MDU6SXNzdWUxODgxMTc4Mjc=", "number": 5484, "title": "\"bazel build tensorflow/python/tools:freeze_graph\" error", "user": {"login": "meisteg", "id": 45758, "node_id": "MDQ6VXNlcjQ1NzU4", "avatar_url": "https://avatars2.githubusercontent.com/u/45758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meisteg", "html_url": "https://github.com/meisteg", "followers_url": "https://api.github.com/users/meisteg/followers", "following_url": "https://api.github.com/users/meisteg/following{/other_user}", "gists_url": "https://api.github.com/users/meisteg/gists{/gist_id}", "starred_url": "https://api.github.com/users/meisteg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meisteg/subscriptions", "organizations_url": "https://api.github.com/users/meisteg/orgs", "repos_url": "https://api.github.com/users/meisteg/repos", "events_url": "https://api.github.com/users/meisteg/events{/privacy}", "received_events_url": "https://api.github.com/users/meisteg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2016-11-08T22:11:40Z", "updated_at": "2017-06-16T18:18:49Z", "closed_at": "2017-06-16T18:18:49Z", "author_association": "NONE", "body_html": "<p>When I try to build the freeze_graph tool, I see the following error:</p>\n<pre><code>ERROR: /home/xxxxxx/src/tensorflow/tensorflow/python/BUILD:1907:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow.so' failed: link_dynamic_library.sh failed: error executing command external/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored /usr/bin/gcc -shared -o bazel-out/local-fastbuild/bin/tensorflow/python/_pywrap_tensorflow.so -Wl,--version-script ... (remaining 10 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nbazel-out/local-fastbuild/bin/tensorflow/core/libversion_lib.a(version_info.pic.o): In function `tf_git_version()':\nversion_info.cc:(.text+0x0): multiple definition of `tf_git_version()'\nbazel-out/local-fastbuild/bin/tensorflow/core/libframework_internal.lo(version_info.pic.o):version_info.cc:(.text+0x0): first defined here\nbazel-out/local-fastbuild/bin/tensorflow/core/libversion_lib.a(version_info.pic.o): In function `tf_compiler_version()':\nversion_info.cc:(.text+0xd): multiple definition of `tf_compiler_version()'\nbazel-out/local-fastbuild/bin/tensorflow/core/libframework_internal.lo(version_info.pic.o):version_info.cc:(.text+0xd): first defined here\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/python/tools:freeze_graph failed to build\n</code></pre>\n<p>Any thoughts how to resolve? I thought maybe I cloned the repo at a bad time, so I fetched the latest HEAD, and it solved my issue for one build, but all subsequent builds have failed.</p>\n<pre><code>$ bazel version\nBuild label: 0.4.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Wed Nov 2 17:54:14 2016 (1478109254)\nBuild timestamp: 1478109254\nBuild timestamp as int: 1478109254\n</code></pre>", "body_text": "When I try to build the freeze_graph tool, I see the following error:\nERROR: /home/xxxxxx/src/tensorflow/tensorflow/python/BUILD:1907:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow.so' failed: link_dynamic_library.sh failed: error executing command external/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored /usr/bin/gcc -shared -o bazel-out/local-fastbuild/bin/tensorflow/python/_pywrap_tensorflow.so -Wl,--version-script ... (remaining 10 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nbazel-out/local-fastbuild/bin/tensorflow/core/libversion_lib.a(version_info.pic.o): In function `tf_git_version()':\nversion_info.cc:(.text+0x0): multiple definition of `tf_git_version()'\nbazel-out/local-fastbuild/bin/tensorflow/core/libframework_internal.lo(version_info.pic.o):version_info.cc:(.text+0x0): first defined here\nbazel-out/local-fastbuild/bin/tensorflow/core/libversion_lib.a(version_info.pic.o): In function `tf_compiler_version()':\nversion_info.cc:(.text+0xd): multiple definition of `tf_compiler_version()'\nbazel-out/local-fastbuild/bin/tensorflow/core/libframework_internal.lo(version_info.pic.o):version_info.cc:(.text+0xd): first defined here\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/python/tools:freeze_graph failed to build\n\nAny thoughts how to resolve? I thought maybe I cloned the repo at a bad time, so I fetched the latest HEAD, and it solved my issue for one build, but all subsequent builds have failed.\n$ bazel version\nBuild label: 0.4.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Wed Nov 2 17:54:14 2016 (1478109254)\nBuild timestamp: 1478109254\nBuild timestamp as int: 1478109254", "body": "When I try to build the freeze_graph tool, I see the following error:\r\n\r\n```\r\nERROR: /home/xxxxxx/src/tensorflow/tensorflow/python/BUILD:1907:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow.so' failed: link_dynamic_library.sh failed: error executing command external/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored /usr/bin/gcc -shared -o bazel-out/local-fastbuild/bin/tensorflow/python/_pywrap_tensorflow.so -Wl,--version-script ... (remaining 10 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nbazel-out/local-fastbuild/bin/tensorflow/core/libversion_lib.a(version_info.pic.o): In function `tf_git_version()':\r\nversion_info.cc:(.text+0x0): multiple definition of `tf_git_version()'\r\nbazel-out/local-fastbuild/bin/tensorflow/core/libframework_internal.lo(version_info.pic.o):version_info.cc:(.text+0x0): first defined here\r\nbazel-out/local-fastbuild/bin/tensorflow/core/libversion_lib.a(version_info.pic.o): In function `tf_compiler_version()':\r\nversion_info.cc:(.text+0xd): multiple definition of `tf_compiler_version()'\r\nbazel-out/local-fastbuild/bin/tensorflow/core/libframework_internal.lo(version_info.pic.o):version_info.cc:(.text+0xd): first defined here\r\ncollect2: error: ld returned 1 exit status\r\nTarget //tensorflow/python/tools:freeze_graph failed to build\r\n```\r\n\r\nAny thoughts how to resolve? I thought maybe I cloned the repo at a bad time, so I fetched the latest HEAD, and it solved my issue for one build, but all subsequent builds have failed.\r\n\r\n```\r\n$ bazel version\r\nBuild label: 0.4.0\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Wed Nov 2 17:54:14 2016 (1478109254)\r\nBuild timestamp: 1478109254\r\nBuild timestamp as int: 1478109254\r\n```"}