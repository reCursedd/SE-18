{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/245953788", "html_url": "https://github.com/tensorflow/tensorflow/issues/3385#issuecomment-245953788", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3385", "id": 245953788, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTk1Mzc4OA==", "user": {"login": "joel-shor", "id": 6020988, "node_id": "MDQ6VXNlcjYwMjA5ODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/6020988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joel-shor", "html_url": "https://github.com/joel-shor", "followers_url": "https://api.github.com/users/joel-shor/followers", "following_url": "https://api.github.com/users/joel-shor/following{/other_user}", "gists_url": "https://api.github.com/users/joel-shor/gists{/gist_id}", "starred_url": "https://api.github.com/users/joel-shor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joel-shor/subscriptions", "organizations_url": "https://api.github.com/users/joel-shor/orgs", "repos_url": "https://api.github.com/users/joel-shor/repos", "events_url": "https://api.github.com/users/joel-shor/events{/privacy}", "received_events_url": "https://api.github.com/users/joel-shor/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-09T15:48:55Z", "updated_at": "2016-09-09T15:48:55Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I have been able to use this Op with thousands of classes at roughly the same speed as without this Op, in certain cases. Can you copy an example of your usage?</p>\n<p>There are 3 general sources of slowness in this op:</p>\n<ol>\n<li>\n<p>Fixed cost of setting up extra Ops and Queues (small)</p>\n</li>\n<li>\n<p>Cost of rejecting examples (depends on the source and target distributions)</p>\n</li>\n<li>\n<p>Queueing delays ie enqueue Ops waiting for resources, queues being full, etc</p>\n</li>\n<li>\n<p>is controlled the value of the tensors you are passing the Op. The relevant information are the # of classes, source distribution, and target distribution. Can you share these with me to help debug?</p>\n</li>\n<li>\n<p>Is controlled by the parameters you pass at initialization (queue_capacity and threads_per_queue). Can you share these with me as well?</p>\n</li>\n</ol>", "body_text": "I have been able to use this Op with thousands of classes at roughly the same speed as without this Op, in certain cases. Can you copy an example of your usage?\nThere are 3 general sources of slowness in this op:\n\n\nFixed cost of setting up extra Ops and Queues (small)\n\n\nCost of rejecting examples (depends on the source and target distributions)\n\n\nQueueing delays ie enqueue Ops waiting for resources, queues being full, etc\n\n\nis controlled the value of the tensors you are passing the Op. The relevant information are the # of classes, source distribution, and target distribution. Can you share these with me to help debug?\n\n\nIs controlled by the parameters you pass at initialization (queue_capacity and threads_per_queue). Can you share these with me as well?", "body": "I have been able to use this Op with thousands of classes at roughly the same speed as without this Op, in certain cases. Can you copy an example of your usage?\n\nThere are 3 general sources of slowness in this op:\n1) Fixed cost of setting up extra Ops and Queues (small)\n2) Cost of rejecting examples (depends on the source and target distributions)\n3) Queueing delays ie enqueue Ops waiting for resources, queues being full, etc \n\n2) is controlled the value of the tensors you are passing the Op. The relevant information are the # of classes, source distribution, and target distribution. Can you share these with me to help debug?\n3) Is controlled by the parameters you pass at initialization (queue_capacity and threads_per_queue). Can you share these with me as well?\n"}