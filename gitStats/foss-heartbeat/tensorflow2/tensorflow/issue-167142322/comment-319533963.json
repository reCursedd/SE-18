{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/319533963", "html_url": "https://github.com/tensorflow/tensorflow/issues/3471#issuecomment-319533963", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3471", "id": 319533963, "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTUzMzk2Mw==", "user": {"login": "venuktan", "id": 3161099, "node_id": "MDQ6VXNlcjMxNjEwOTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/3161099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/venuktan", "html_url": "https://github.com/venuktan", "followers_url": "https://api.github.com/users/venuktan/followers", "following_url": "https://api.github.com/users/venuktan/following{/other_user}", "gists_url": "https://api.github.com/users/venuktan/gists{/gist_id}", "starred_url": "https://api.github.com/users/venuktan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/venuktan/subscriptions", "organizations_url": "https://api.github.com/users/venuktan/orgs", "repos_url": "https://api.github.com/users/venuktan/repos", "events_url": "https://api.github.com/users/venuktan/events{/privacy}", "received_events_url": "https://api.github.com/users/venuktan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-02T00:30:14Z", "updated_at": "2017-08-02T00:34:33Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3147213\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/lingz\">@lingz</a> I am trying to run the exported .pb file in C++ and getting errors.<br>\nThe .pb file works in python but not c++.<br>\nI am feeding it as <code>cv::Mat</code></p>\n<pre><code>cv::Mat frameC;\nstatic TF_Operation *placeholder = TF_GraphOperationByName(graph, \"batch:0\");\nstatic TF_Operation *output_op = TF_GraphOperationByName(graph, \"probability/class_idx\");\n\nfor (;;)\n    {\n        if (!capture.read(frameC))\n        {\n            std::cerr &lt;&lt; \"Failed to grab frame\" &lt;&lt; std::endl;\n            continue;\n        }\n        cv::resize(frameC, dest, cv::Size(inputWidth, inputHeight));\n        \n        TF_Tensor *tensor = TF_NewTensor(TF_FLOAT, dims, 4, dest, size, &amp;deallocator, nullptr);\n        csession.SetInputs({{placeholder, tensor}});\n        std::chrono::steady_clock::time_point beginRun = std::chrono::steady_clock::now();\n        csession.Run(s);\n\n    }\n</code></pre>\n<p>Can you point me to a how you ran it in C++ ?<br>\nThank you</p>", "body_text": "@lingz I am trying to run the exported .pb file in C++ and getting errors.\nThe .pb file works in python but not c++.\nI am feeding it as cv::Mat\ncv::Mat frameC;\nstatic TF_Operation *placeholder = TF_GraphOperationByName(graph, \"batch:0\");\nstatic TF_Operation *output_op = TF_GraphOperationByName(graph, \"probability/class_idx\");\n\nfor (;;)\n    {\n        if (!capture.read(frameC))\n        {\n            std::cerr << \"Failed to grab frame\" << std::endl;\n            continue;\n        }\n        cv::resize(frameC, dest, cv::Size(inputWidth, inputHeight));\n        \n        TF_Tensor *tensor = TF_NewTensor(TF_FLOAT, dims, 4, dest, size, &deallocator, nullptr);\n        csession.SetInputs({{placeholder, tensor}});\n        std::chrono::steady_clock::time_point beginRun = std::chrono::steady_clock::now();\n        csession.Run(s);\n\n    }\n\nCan you point me to a how you ran it in C++ ?\nThank you", "body": "@lingz I am trying to run the exported .pb file in C++ and getting errors. \r\nThe .pb file works in python but not c++.\r\nI am feeding it as `cv::Mat`\r\n```\r\ncv::Mat frameC;\r\nstatic TF_Operation *placeholder = TF_GraphOperationByName(graph, \"batch:0\");\r\nstatic TF_Operation *output_op = TF_GraphOperationByName(graph, \"probability/class_idx\");\r\n\r\nfor (;;)\r\n    {\r\n        if (!capture.read(frameC))\r\n        {\r\n            std::cerr << \"Failed to grab frame\" << std::endl;\r\n            continue;\r\n        }\r\n        cv::resize(frameC, dest, cv::Size(inputWidth, inputHeight));\r\n        \r\n        TF_Tensor *tensor = TF_NewTensor(TF_FLOAT, dims, 4, dest, size, &deallocator, nullptr);\r\n        csession.SetInputs({{placeholder, tensor}});\r\n        std::chrono::steady_clock::time_point beginRun = std::chrono::steady_clock::now();\r\n        csession.Run(s);\r\n\r\n    }\r\n```\r\nCan you point me to a how you ran it in C++ ? \r\nThank you\r\n"}