{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6808", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6808/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6808/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6808/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6808", "id": 200386659, "node_id": "MDU6SXNzdWUyMDAzODY2NTk=", "number": 6808, "title": "Wrong argument order for input_producer", "user": {"login": "ppwwyyxx", "id": 1381301, "node_id": "MDQ6VXNlcjEzODEzMDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1381301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppwwyyxx", "html_url": "https://github.com/ppwwyyxx", "followers_url": "https://api.github.com/users/ppwwyyxx/followers", "following_url": "https://api.github.com/users/ppwwyyxx/following{/other_user}", "gists_url": "https://api.github.com/users/ppwwyyxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppwwyyxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppwwyyxx/subscriptions", "organizations_url": "https://api.github.com/users/ppwwyyxx/orgs", "repos_url": "https://api.github.com/users/ppwwyyxx/repos", "events_url": "https://api.github.com/users/ppwwyyxx/events{/privacy}", "received_events_url": "https://api.github.com/users/ppwwyyxx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2017-01-12T14:51:50Z", "updated_at": "2017-01-25T01:41:29Z", "closed_at": "2017-01-25T01:41:29Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The signature of <code>input_producer</code> is:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">def</span> <span class=\"pl-en\">input_producer</span>(<span class=\"pl-smi\">input_tensor</span>,\n                   <span class=\"pl-smi\">element_shape</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">num_epochs</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">shuffle</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>,\n                   <span class=\"pl-smi\">seed</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">capacity</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">32</span>,\n                   <span class=\"pl-smi\">shared_name</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">summary_name</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">name</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                   <span class=\"pl-smi\">cancel_op</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>):\n<span class=\"pl-s\"><span class=\"pl-pds\">\"\"\"</span></span>\n<span class=\"pl-s\">    summary_name: (Optional.) If set, a scalar summary for the current queue</span>\n<span class=\"pl-s\">      size will be generated, using this name as part of the tag.</span>\n<span class=\"pl-s\"><span class=\"pl-pds\">\"\"\"</span></span></pre></div>\n<p>and this function adds scalar summary of the fraction of the queue that is full (not actually queue size), with name <code>summary_name</code>.</p>\n<p>But <code>range_input_producer</code> is calling <code>input_producer</code> like this:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">def</span> <span class=\"pl-en\">range_input_producer</span>(<span class=\"pl-smi\">limit</span>, <span class=\"pl-smi\">num_epochs</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>, <span class=\"pl-smi\">shuffle</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>, <span class=\"pl-smi\">seed</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>,\n                         <span class=\"pl-smi\">capacity</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">32</span>, <span class=\"pl-smi\">shared_name</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>, <span class=\"pl-smi\">name</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>):\n  <span class=\"pl-k\">with</span> ops.name_scope(name, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>input_producer<span class=\"pl-pds\">\"</span></span>, [limit]) <span class=\"pl-k\">as</span> name:\n    range_tensor <span class=\"pl-k\">=</span> math_ops.range(limit)\n    <span class=\"pl-k\">return</span> input_producer(\n        range_tensor, [], num_epochs, shuffle, seed, capacity,\n        shared_name, name, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>fraction_of_<span class=\"pl-c1\">%d</span>_full<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">%</span> capacity)</pre></div>\n<p>It looks like a bug to me: name and summary_name might need to swap.</p>", "body_text": "The signature of input_producer is:\ndef input_producer(input_tensor,\n                   element_shape=None,\n                   num_epochs=None,\n                   shuffle=True,\n                   seed=None,\n                   capacity=32,\n                   shared_name=None,\n                   summary_name=None,\n                   name=None,\n                   cancel_op=None):\n\"\"\"\n    summary_name: (Optional.) If set, a scalar summary for the current queue\n      size will be generated, using this name as part of the tag.\n\"\"\"\nand this function adds scalar summary of the fraction of the queue that is full (not actually queue size), with name summary_name.\nBut range_input_producer is calling input_producer like this:\ndef range_input_producer(limit, num_epochs=None, shuffle=True, seed=None,\n                         capacity=32, shared_name=None, name=None):\n  with ops.name_scope(name, \"input_producer\", [limit]) as name:\n    range_tensor = math_ops.range(limit)\n    return input_producer(\n        range_tensor, [], num_epochs, shuffle, seed, capacity,\n        shared_name, name, \"fraction_of_%d_full\" % capacity)\nIt looks like a bug to me: name and summary_name might need to swap.", "body": "The signature of `input_producer` is:\r\n```python\r\ndef input_producer(input_tensor,\r\n                   element_shape=None,\r\n                   num_epochs=None,\r\n                   shuffle=True,\r\n                   seed=None,\r\n                   capacity=32,\r\n                   shared_name=None,\r\n                   summary_name=None,\r\n                   name=None,\r\n                   cancel_op=None):\r\n\"\"\"\r\n    summary_name: (Optional.) If set, a scalar summary for the current queue\r\n      size will be generated, using this name as part of the tag.\r\n\"\"\"\r\n```\r\nand this function adds scalar summary of the fraction of the queue that is full (not actually queue size), with name `summary_name`.\r\n\r\nBut `range_input_producer` is calling `input_producer` like this:\r\n```python\r\ndef range_input_producer(limit, num_epochs=None, shuffle=True, seed=None,\r\n                         capacity=32, shared_name=None, name=None):\r\n  with ops.name_scope(name, \"input_producer\", [limit]) as name:\r\n    range_tensor = math_ops.range(limit)\r\n    return input_producer(\r\n        range_tensor, [], num_epochs, shuffle, seed, capacity,\r\n        shared_name, name, \"fraction_of_%d_full\" % capacity)\r\n```\r\nIt looks like a bug to me: name and summary_name might need to swap."}