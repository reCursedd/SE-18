{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/281943402", "html_url": "https://github.com/tensorflow/tensorflow/issues/7760#issuecomment-281943402", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7760", "id": 281943402, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTk0MzQwMg==", "user": {"login": "tobegit3hub", "id": 2715000, "node_id": "MDQ6VXNlcjI3MTUwMDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/2715000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobegit3hub", "html_url": "https://github.com/tobegit3hub", "followers_url": "https://api.github.com/users/tobegit3hub/followers", "following_url": "https://api.github.com/users/tobegit3hub/following{/other_user}", "gists_url": "https://api.github.com/users/tobegit3hub/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobegit3hub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobegit3hub/subscriptions", "organizations_url": "https://api.github.com/users/tobegit3hub/orgs", "repos_url": "https://api.github.com/users/tobegit3hub/repos", "events_url": "https://api.github.com/users/tobegit3hub/events{/privacy}", "received_events_url": "https://api.github.com/users/tobegit3hub/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-23T09:40:06Z", "updated_at": "2017-02-23T09:40:06Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think mounting the <code>/usr/lib64/nvidia/</code> in CentOS into <code>/usr/local/nvidia/lib64/</code> in Ubuntu container will work. And we should use <code>--device</code> for <code>/dev/nvidia*</code> instead of <code>-v</code>.</p>\n<p>Now this command works in <code>CentOS 7.0</code>.</p>\n<pre><code>docker run -it -v /usr/lib64/nvidia/:/usr/local/nvidia/lib64/ --device /dev/nvidia0:/dev/nvidia0 --device /dev/nvidia1:/dev/nvidia1 --device /dev/nvidia2:/dev/nvidia2 --device /dev/nvidia3:/dev/nvidia3 --device /dev/nvidiactl:/dev/nvidiactl --device /dev/nvidia-uvm:/dev/nvidia-uvm --device /dev/nvidia-uvm-tools:/dev/nvidia-uvm-tools tensorflow/tensorflow:latest-gpu bash\n</code></pre>", "body_text": "I think mounting the /usr/lib64/nvidia/ in CentOS into /usr/local/nvidia/lib64/ in Ubuntu container will work. And we should use --device for /dev/nvidia* instead of -v.\nNow this command works in CentOS 7.0.\ndocker run -it -v /usr/lib64/nvidia/:/usr/local/nvidia/lib64/ --device /dev/nvidia0:/dev/nvidia0 --device /dev/nvidia1:/dev/nvidia1 --device /dev/nvidia2:/dev/nvidia2 --device /dev/nvidia3:/dev/nvidia3 --device /dev/nvidiactl:/dev/nvidiactl --device /dev/nvidia-uvm:/dev/nvidia-uvm --device /dev/nvidia-uvm-tools:/dev/nvidia-uvm-tools tensorflow/tensorflow:latest-gpu bash", "body": "I think mounting the `/usr/lib64/nvidia/` in CentOS into `/usr/local/nvidia/lib64/` in Ubuntu container will work. And we should use `--device` for `/dev/nvidia*` instead of `-v`.\r\n\r\nNow this command works in `CentOS 7.0`.\r\n\r\n```\r\ndocker run -it -v /usr/lib64/nvidia/:/usr/local/nvidia/lib64/ --device /dev/nvidia0:/dev/nvidia0 --device /dev/nvidia1:/dev/nvidia1 --device /dev/nvidia2:/dev/nvidia2 --device /dev/nvidia3:/dev/nvidia3 --device /dev/nvidiactl:/dev/nvidiactl --device /dev/nvidia-uvm:/dev/nvidia-uvm --device /dev/nvidia-uvm-tools:/dev/nvidia-uvm-tools tensorflow/tensorflow:latest-gpu bash\r\n```"}