{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7013", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7013/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7013/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7013/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7013", "id": 202489518, "node_id": "MDU6SXNzdWUyMDI0ODk1MTg=", "number": 7013, "title": "ResourceExhaustedError while converting ImageNet dataset to TFRecord", "user": {"login": "shahparth123", "id": 9213090, "node_id": "MDQ6VXNlcjkyMTMwOTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/9213090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shahparth123", "html_url": "https://github.com/shahparth123", "followers_url": "https://api.github.com/users/shahparth123/followers", "following_url": "https://api.github.com/users/shahparth123/following{/other_user}", "gists_url": "https://api.github.com/users/shahparth123/gists{/gist_id}", "starred_url": "https://api.github.com/users/shahparth123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shahparth123/subscriptions", "organizations_url": "https://api.github.com/users/shahparth123/orgs", "repos_url": "https://api.github.com/users/shahparth123/repos", "events_url": "https://api.github.com/users/shahparth123/events{/privacy}", "received_events_url": "https://api.github.com/users/shahparth123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-01-23T10:00:01Z", "updated_at": "2017-02-10T15:49:22Z", "closed_at": "2017-02-10T15:49:22Z", "author_association": "NONE", "body_html": "<p>Determining list of input files and labels from /run/media/root/d9ecddfe-d069-4252-aade-b75fa707b3d2/imagenet-data/raw-data/train.<br>\nTraceback (most recent call last):<br>\nFile \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 704, in <br>\nFile \"/usr/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nFile \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 700, in main<br>\nFile \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 597, in _process_dataset<br>\nFile \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 513, in _find_image_files<br>\nFile \"/usr/lib/python2.7/site-packages/tensorflow/python/lib/io/file_io.py\", line 251, in get_matching_files<br>\nFile \"/usr/lib64/python2.7/contextlib.py\", line 24, in <strong>exit</strong><br>\nFile \"/usr/lib/python2.7/site-packages/tensorflow/python/framework/errors.py\", line 463, in raise_exception_on_not_ok_status<br>\ntensorflow.python.framework.errors.ResourceExhaustedError: /run/media/root/d9ecddfe-d069-4252-aade-b75fa707b3d2/imagenet-data/raw-data/train/n01440764</p>\n<p>I have tried changing different number of threads,different shard size for both training and validation. But still getting error.  There is enough RAM is free while executing this command.</p>\n<p>Is it bug or it required some configuration changes?</p>\n<p>Command used for converting:<br>\nbazel-bin/inception/download_and_preprocess_imagenet \"${DATA_DIR}\"</p>\n<p>where $DATA_DIR= /run/media/root/d9ecddfe-d069-4252-aade-b75fa707b3d2/imagenet-data/<br>\nEnvironment info:<br>\nOperating System:<br>\nCentOS 7 64bit<br>\n32GB RAM<br>\nIntel\u00ae Xeon(R) CPU E5-2630 v2 @ 2.60GHz \u00d7 12</p>\n<p>CPU only version of tensorflow<br>\nInstalled from source<br>\n[root@cgpits inception]# bazel version<br>\nBuild label: 0.3.1<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Fri Jul 29 09:09:52 2016 (1469783392)<br>\nBuild timestamp: 1469783392<br>\nBuild timestamp as int: 1469783392</p>\n<p>head for tenserflow</p>\n<p>[root@cgpits tensorflow]# git rev-parse HEAD<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/787ab22d490e79ea8c06511d60d6cddf1b2dd2c2/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/787ab22d490e79ea8c06511d60d6cddf1b2dd2c2\"><tt>787ab22</tt></a></p>\n<p>head version for tesorflow/model<br>\n[root@cgpits inception]# git rev-parse HEAD<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/82c219f24d3a7c5c48a9550aef10bde3a031520d/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/82c219f24d3a7c5c48a9550aef10bde3a031520d\"><tt>82c219f</tt></a></p>\n<p>[root@cgpits inception]# python -c \"import tensorflow; print(tensorflow.<strong>version</strong>)\"<br>\n0.11.0rc0</p>", "body_text": "Determining list of input files and labels from /run/media/root/d9ecddfe-d069-4252-aade-b75fa707b3d2/imagenet-data/raw-data/train.\nTraceback (most recent call last):\nFile \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 704, in \nFile \"/usr/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\nFile \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 700, in main\nFile \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 597, in _process_dataset\nFile \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 513, in _find_image_files\nFile \"/usr/lib/python2.7/site-packages/tensorflow/python/lib/io/file_io.py\", line 251, in get_matching_files\nFile \"/usr/lib64/python2.7/contextlib.py\", line 24, in exit\nFile \"/usr/lib/python2.7/site-packages/tensorflow/python/framework/errors.py\", line 463, in raise_exception_on_not_ok_status\ntensorflow.python.framework.errors.ResourceExhaustedError: /run/media/root/d9ecddfe-d069-4252-aade-b75fa707b3d2/imagenet-data/raw-data/train/n01440764\nI have tried changing different number of threads,different shard size for both training and validation. But still getting error.  There is enough RAM is free while executing this command.\nIs it bug or it required some configuration changes?\nCommand used for converting:\nbazel-bin/inception/download_and_preprocess_imagenet \"${DATA_DIR}\"\nwhere $DATA_DIR= /run/media/root/d9ecddfe-d069-4252-aade-b75fa707b3d2/imagenet-data/\nEnvironment info:\nOperating System:\nCentOS 7 64bit\n32GB RAM\nIntel\u00ae Xeon(R) CPU E5-2630 v2 @ 2.60GHz \u00d7 12\nCPU only version of tensorflow\nInstalled from source\n[root@cgpits inception]# bazel version\nBuild label: 0.3.1\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jul 29 09:09:52 2016 (1469783392)\nBuild timestamp: 1469783392\nBuild timestamp as int: 1469783392\nhead for tenserflow\n[root@cgpits tensorflow]# git rev-parse HEAD\n787ab22\nhead version for tesorflow/model\n[root@cgpits inception]# git rev-parse HEAD\n82c219f\n[root@cgpits inception]# python -c \"import tensorflow; print(tensorflow.version)\"\n0.11.0rc0", "body": "Determining list of input files and labels from /run/media/root/d9ecddfe-d069-4252-aade-b75fa707b3d2/imagenet-data/raw-data/train.\r\nTraceback (most recent call last):\r\n  File \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 704, in <module>\r\n  File \"/usr/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\r\n  File \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 700, in main\r\n  File \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 597, in _process_dataset\r\n  File \"/cgpit/models/inception/bazel-bin/inception/build_imagenet_data.runfiles/inception/inception/data/build_imagenet_data.py\", line 513, in _find_image_files\r\n  File \"/usr/lib/python2.7/site-packages/tensorflow/python/lib/io/file_io.py\", line 251, in get_matching_files\r\n  File \"/usr/lib64/python2.7/contextlib.py\", line 24, in __exit__\r\n  File \"/usr/lib/python2.7/site-packages/tensorflow/python/framework/errors.py\", line 463, in raise_exception_on_not_ok_status\r\ntensorflow.python.framework.errors.ResourceExhaustedError: /run/media/root/d9ecddfe-d069-4252-aade-b75fa707b3d2/imagenet-data/raw-data/train/n01440764\r\n\r\nI have tried changing different number of threads,different shard size for both training and validation. But still getting error.  There is enough RAM is free while executing this command. \r\n\r\nIs it bug or it required some configuration changes?\r\n\r\nCommand used for converting:\r\nbazel-bin/inception/download_and_preprocess_imagenet \"${DATA_DIR}\"\r\n\r\nwhere $DATA_DIR= /run/media/root/d9ecddfe-d069-4252-aade-b75fa707b3d2/imagenet-data/\r\nEnvironment info:\r\nOperating System:\r\nCentOS 7 64bit\r\n32GB RAM\r\nIntel\u00ae Xeon(R) CPU E5-2630 v2 @ 2.60GHz \u00d7 12 \r\n\r\nCPU only version of tensorflow\r\nInstalled from source\r\n[root@cgpits inception]# bazel version\r\nBuild label: 0.3.1\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Fri Jul 29 09:09:52 2016 (1469783392)\r\nBuild timestamp: 1469783392\r\nBuild timestamp as int: 1469783392\r\n\r\nhead for tenserflow\r\n\r\n[root@cgpits tensorflow]# git rev-parse HEAD\r\n787ab22d490e79ea8c06511d60d6cddf1b2dd2c2\r\n\r\nhead version for tesorflow/model\r\n[root@cgpits inception]# git rev-parse HEAD\r\n82c219f24d3a7c5c48a9550aef10bde3a031520d\r\n\r\n[root@cgpits inception]# python -c \"import tensorflow; print(tensorflow.__version__)\"\r\n0.11.0rc0\r\n"}