{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11804", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11804/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11804/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11804/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11804", "id": 245938369, "node_id": "MDU6SXNzdWUyNDU5MzgzNjk=", "number": 11804, "title": " No OpKernel was registered to support Op 'RFFT'  for CPU (running on android)", "user": {"login": "liuzqt", "id": 22358241, "node_id": "MDQ6VXNlcjIyMzU4MjQx", "avatar_url": "https://avatars0.githubusercontent.com/u/22358241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuzqt", "html_url": "https://github.com/liuzqt", "followers_url": "https://api.github.com/users/liuzqt/followers", "following_url": "https://api.github.com/users/liuzqt/following{/other_user}", "gists_url": "https://api.github.com/users/liuzqt/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuzqt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuzqt/subscriptions", "organizations_url": "https://api.github.com/users/liuzqt/orgs", "repos_url": "https://api.github.com/users/liuzqt/repos", "events_url": "https://api.github.com/users/liuzqt/events{/privacy}", "received_events_url": "https://api.github.com/users/liuzqt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-07-27T06:29:38Z", "updated_at": "2017-08-01T22:36:43Z", "closed_at": "2017-08-01T22:36:43Z", "author_association": "NONE", "body_html": "<p>I'm running tensorflow on android. and got this error:<br>\n<code>Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'RFFT' with these attrs.  Registered devices: [CPU], Registered kernels: &lt;no registered kernels&gt;</code></p>\n<p>I'm using the master branch, where the RFFT CPU verison is already supported. So I'm wondering why this problem show up.</p>\n<p>The TF version I used to build the graph(*.pb file) is also the latest master branch.<br>\nHere is to code I wrtie .pb graph:</p>\n<pre><code>    with tf.Graph().as_default(), tf.Session(config=tf.ConfigProto(\n            allow_soft_placement=True)) as session:\n        with tf.variable_scope(\"model\"):\n            model = DeployModel(config=config)\n\n        print('Graph build finished')\n        # variable_names = [n.name for n in\n        #                   tf.get_default_graph().as_graph_def().node]\n        # for n in variable_names:\n        #     print(n)\n\n        saver = tf.train.Saver()\n        saver.restore(session, save_path=path_join(self.config.model_path,\n                                                   'latest.ckpt'))\n        print(\"model restored from %s\" % config.model_path)\n\n        frozen_graph_def = graph_util.convert_variables_to_constants(\n            session, session.graph.as_graph_def(),\n            ['model/inputX', 'model/softmax', 'model/nn_outputs'])\n        tf.train.write_graph(\n            frozen_graph_def,\n            os.path.dirname(graph_path),\n            os.path.basename(graph_path),\n            as_text=False,\n        )\n</code></pre>\n<p>So maybe RFFT for CPU is still not supported on android in the latest branch?</p>", "body_text": "I'm running tensorflow on android. and got this error:\nCaused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'RFFT' with these attrs.  Registered devices: [CPU], Registered kernels: <no registered kernels>\nI'm using the master branch, where the RFFT CPU verison is already supported. So I'm wondering why this problem show up.\nThe TF version I used to build the graph(*.pb file) is also the latest master branch.\nHere is to code I wrtie .pb graph:\n    with tf.Graph().as_default(), tf.Session(config=tf.ConfigProto(\n            allow_soft_placement=True)) as session:\n        with tf.variable_scope(\"model\"):\n            model = DeployModel(config=config)\n\n        print('Graph build finished')\n        # variable_names = [n.name for n in\n        #                   tf.get_default_graph().as_graph_def().node]\n        # for n in variable_names:\n        #     print(n)\n\n        saver = tf.train.Saver()\n        saver.restore(session, save_path=path_join(self.config.model_path,\n                                                   'latest.ckpt'))\n        print(\"model restored from %s\" % config.model_path)\n\n        frozen_graph_def = graph_util.convert_variables_to_constants(\n            session, session.graph.as_graph_def(),\n            ['model/inputX', 'model/softmax', 'model/nn_outputs'])\n        tf.train.write_graph(\n            frozen_graph_def,\n            os.path.dirname(graph_path),\n            os.path.basename(graph_path),\n            as_text=False,\n        )\n\nSo maybe RFFT for CPU is still not supported on android in the latest branch?", "body": "I'm running tensorflow on android. and got this error:\r\n`Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'RFFT' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n                                                                       <no registered kernels>`\r\n\r\nI'm using the master branch, where the RFFT CPU verison is already supported. So I'm wondering why this problem show up.\r\n\r\nThe TF version I used to build the graph(*.pb file) is also the latest master branch.\r\nHere is to code I wrtie .pb graph:\r\n\r\n        with tf.Graph().as_default(), tf.Session(config=tf.ConfigProto(\r\n                allow_soft_placement=True)) as session:\r\n            with tf.variable_scope(\"model\"):\r\n                model = DeployModel(config=config)\r\n\r\n            print('Graph build finished')\r\n            # variable_names = [n.name for n in\r\n            #                   tf.get_default_graph().as_graph_def().node]\r\n            # for n in variable_names:\r\n            #     print(n)\r\n\r\n            saver = tf.train.Saver()\r\n            saver.restore(session, save_path=path_join(self.config.model_path,\r\n                                                       'latest.ckpt'))\r\n            print(\"model restored from %s\" % config.model_path)\r\n\r\n            frozen_graph_def = graph_util.convert_variables_to_constants(\r\n                session, session.graph.as_graph_def(),\r\n                ['model/inputX', 'model/softmax', 'model/nn_outputs'])\r\n            tf.train.write_graph(\r\n                frozen_graph_def,\r\n                os.path.dirname(graph_path),\r\n                os.path.basename(graph_path),\r\n                as_text=False,\r\n            )\r\n\r\nSo maybe RFFT for CPU is still not supported on android in the latest branch?\r\n"}