{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/318537227", "html_url": "https://github.com/tensorflow/tensorflow/issues/11804#issuecomment-318537227", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11804", "id": 318537227, "node_id": "MDEyOklzc3VlQ29tbWVudDMxODUzNzIyNw==", "user": {"login": "liuzqt", "id": 22358241, "node_id": "MDQ6VXNlcjIyMzU4MjQx", "avatar_url": "https://avatars0.githubusercontent.com/u/22358241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuzqt", "html_url": "https://github.com/liuzqt", "followers_url": "https://api.github.com/users/liuzqt/followers", "following_url": "https://api.github.com/users/liuzqt/following{/other_user}", "gists_url": "https://api.github.com/users/liuzqt/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuzqt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuzqt/subscriptions", "organizations_url": "https://api.github.com/users/liuzqt/orgs", "repos_url": "https://api.github.com/users/liuzqt/repos", "events_url": "https://api.github.com/users/liuzqt/events{/privacy}", "received_events_url": "https://api.github.com/users/liuzqt/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-28T02:14:02Z", "updated_at": "2017-07-28T02:35:15Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3376817\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewharp\">@andrewharp</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=326106\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aselle\">@aselle</a> adding fft_ops.cc to build file solve the problem, many thanks!  But it come up with a new problem, when running fft, raise this exception:<br>\n`                                                                      Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'ComplexAbs' with these attrs.  Registered devices: [CPU], Registered kernels:<br>\n</p>\n<pre><code>                                                                 \t [[Node: model/fft = ComplexAbs[T=DT_COMPLEX64, Tout=DT_FLOAT, _device=\"/device:CPU:0\"](model/rfft)]]\n                                                                     at org.tensorflow.Session.run(Native Method)`\n</code></pre>\n<p>and then I refer to<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/cwise_op_abs.cc\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/cwise_op_abs.cc</a><br>\nfound that<br>\n<code>#if !defined(IS_MOBILE_PLATFORM) REGISTER2(UnaryOp, CPU, \"ComplexAbs\", functor::abs, complex64, complex128); #endif</code><br>\nso it means Complex2real is not supported on android?<br>\nIf I want to implement this, how should I do? Can I just remove the \"if !defined\" to make this REGISTER compiled to android lib?</p>", "body_text": "@andrewharp @aselle adding fft_ops.cc to build file solve the problem, many thanks!  But it come up with a new problem, when running fft, raise this exception:\n`                                                                      Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'ComplexAbs' with these attrs.  Registered devices: [CPU], Registered kernels:\n\n                                                                 \t [[Node: model/fft = ComplexAbs[T=DT_COMPLEX64, Tout=DT_FLOAT, _device=\"/device:CPU:0\"](model/rfft)]]\n                                                                     at org.tensorflow.Session.run(Native Method)`\n\nand then I refer to\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/cwise_op_abs.cc\nfound that\n#if !defined(IS_MOBILE_PLATFORM) REGISTER2(UnaryOp, CPU, \"ComplexAbs\", functor::abs, complex64, complex128); #endif\nso it means Complex2real is not supported on android?\nIf I want to implement this, how should I do? Can I just remove the \"if !defined\" to make this REGISTER compiled to android lib?", "body": "@andrewharp @aselle adding fft_ops.cc to build file solve the problem, many thanks!  But it come up with a new problem, when running fft, raise this exception:\r\n`                                                                      Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'ComplexAbs' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n                                                                       <no registered kernels>\r\n                                                                     \r\n                                                                     \t [[Node: model/fft = ComplexAbs[T=DT_COMPLEX64, Tout=DT_FLOAT, _device=\"/device:CPU:0\"](model/rfft)]]\r\n                                                                         at org.tensorflow.Session.run(Native Method)`\r\nand then I refer to \r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/cwise_op_abs.cc\r\nfound that \r\n`#if !defined(IS_MOBILE_PLATFORM)\r\nREGISTER2(UnaryOp, CPU, \"ComplexAbs\", functor::abs, complex64, complex128);\r\n#endif`\r\nso it means Complex2real is not supported on android?\r\nIf I want to implement this, how should I do? Can I just remove the \"if !defined\" to make this REGISTER compiled to android lib?"}