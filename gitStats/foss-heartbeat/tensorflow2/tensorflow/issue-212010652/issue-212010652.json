{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8109", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8109/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8109/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8109/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8109", "id": 212010652, "node_id": "MDU6SXNzdWUyMTIwMTA2NTI=", "number": 8109, "title": "libxsmm build errors with Python 3", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "benoitsteiner", "id": 6969686, "node_id": "MDQ6VXNlcjY5Njk2ODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6969686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoitsteiner", "html_url": "https://github.com/benoitsteiner", "followers_url": "https://api.github.com/users/benoitsteiner/followers", "following_url": "https://api.github.com/users/benoitsteiner/following{/other_user}", "gists_url": "https://api.github.com/users/benoitsteiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoitsteiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoitsteiner/subscriptions", "organizations_url": "https://api.github.com/users/benoitsteiner/orgs", "repos_url": "https://api.github.com/users/benoitsteiner/repos", "events_url": "https://api.github.com/users/benoitsteiner/events{/privacy}", "received_events_url": "https://api.github.com/users/benoitsteiner/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benoitsteiner", "id": 6969686, "node_id": "MDQ6VXNlcjY5Njk2ODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6969686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoitsteiner", "html_url": "https://github.com/benoitsteiner", "followers_url": "https://api.github.com/users/benoitsteiner/followers", "following_url": "https://api.github.com/users/benoitsteiner/following{/other_user}", "gists_url": "https://api.github.com/users/benoitsteiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoitsteiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoitsteiner/subscriptions", "organizations_url": "https://api.github.com/users/benoitsteiner/orgs", "repos_url": "https://api.github.com/users/benoitsteiner/repos", "events_url": "https://api.github.com/users/benoitsteiner/events{/privacy}", "received_events_url": "https://api.github.com/users/benoitsteiner/received_events", "type": "User", "site_admin": false}, {"login": "tfboyd", "id": 23486130, "node_id": "MDQ6VXNlcjIzNDg2MTMw", "avatar_url": "https://avatars1.githubusercontent.com/u/23486130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tfboyd", "html_url": "https://github.com/tfboyd", "followers_url": "https://api.github.com/users/tfboyd/followers", "following_url": "https://api.github.com/users/tfboyd/following{/other_user}", "gists_url": "https://api.github.com/users/tfboyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tfboyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tfboyd/subscriptions", "organizations_url": "https://api.github.com/users/tfboyd/orgs", "repos_url": "https://api.github.com/users/tfboyd/repos", "events_url": "https://api.github.com/users/tfboyd/events{/privacy}", "received_events_url": "https://api.github.com/users/tfboyd/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2017-03-06T02:42:30Z", "updated_at": "2018-02-08T01:06:31Z", "closed_at": "2018-02-08T01:06:31Z", "author_association": "CONTRIBUTOR", "body_html": "<p>It seems like some dependencies are not Python 3 compatible.</p>\n<p>Building with <code>--define tensorflow_xsmm=1 --define tensorflow_xsmm_backward=1</code> gives following</p>\n<p>cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6969686\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/benoitsteiner\">@benoitsteiner</a></p>\n<pre><code>ERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:112:1: Co\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_utilities.py:\n Converting to Python 3: external/libxsmm_archive/scripts/libxsmm_utilities.py f\nailed: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host\n/genfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (\nremaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitSta\ntusException: Process exited with status 1.                                     ERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:130:1: Co\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_dispatch.py:\nConverting to Python 3: external/libxsmm_archive/scripts/libxsmm_dispatch.py fai\nled: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host/g\nenfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (re\nmaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatu\nsException: Process exited with status 1.                                       ERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:112:1: Co\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_specialized.p\ny: Converting to Python 3: external/libxsmm_archive/scripts/libxsmm_specialized.\npy failed: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/\nhost/genfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files .\n.. (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExi\ntStatusException: Process exited with status 1.                                 ERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:124:1: Co\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_config.py: Co\nnverting to Python 3: external/libxsmm_archive/scripts/libxsmm_config.py failed:\n 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host/genfi\nles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:118:1: Couldn't build file python3/external/libxsmm_archive/scripts/libxsmm_interface.py:\n Converting to Python 3: external/libxsmm_archive/scripts/libxsmm_interface.py f\nailed: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_to\nols/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host/genfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitSta\ntusException: Process exited with status 1.\n</code></pre>", "body_text": "It seems like some dependencies are not Python 3 compatible.\nBuilding with --define tensorflow_xsmm=1 --define tensorflow_xsmm_backward=1 gives following\ncc @benoitsteiner\nERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:112:1: Co\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_utilities.py:\n Converting to Python 3: external/libxsmm_archive/scripts/libxsmm_utilities.py f\nailed: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host\n/genfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (\nremaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitSta\ntusException: Process exited with status 1.                                     ERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:130:1: Co\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_dispatch.py:\nConverting to Python 3: external/libxsmm_archive/scripts/libxsmm_dispatch.py fai\nled: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host/g\nenfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (re\nmaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatu\nsException: Process exited with status 1.                                       ERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:112:1: Co\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_specialized.p\ny: Converting to Python 3: external/libxsmm_archive/scripts/libxsmm_specialized.\npy failed: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/\nhost/genfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files .\n.. (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExi\ntStatusException: Process exited with status 1.                                 ERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:124:1: Co\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_config.py: Co\nnverting to Python 3: external/libxsmm_archive/scripts/libxsmm_config.py failed:\n 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host/genfi\nles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:118:1: Couldn't build file python3/external/libxsmm_archive/scripts/libxsmm_interface.py:\n Converting to Python 3: external/libxsmm_archive/scripts/libxsmm_interface.py f\nailed: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_to\nols/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host/genfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitSta\ntusException: Process exited with status 1.", "body": "It seems like some dependencies are not Python 3 compatible.\r\n\r\nBuilding with `--define tensorflow_xsmm=1 --define tensorflow_xsmm_backward=1` gives following \r\n\r\ncc @benoitsteiner \r\n\r\n```\r\nERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:112:1: Co\r\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_utilities.py:\r\n Converting to Python 3: external/libxsmm_archive/scripts/libxsmm_utilities.py f\r\nailed: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host\r\n/genfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (\r\nremaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitSta\r\ntusException: Process exited with status 1.                                     ERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:130:1: Co\r\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_dispatch.py:\r\nConverting to Python 3: external/libxsmm_archive/scripts/libxsmm_dispatch.py fai\r\nled: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host/g\r\nenfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (re\r\nmaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatu\r\nsException: Process exited with status 1.                                       ERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:112:1: Co\r\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_specialized.p\r\ny: Converting to Python 3: external/libxsmm_archive/scripts/libxsmm_specialized.\r\npy failed: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/\r\nhost/genfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files .\r\n.. (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExi\r\ntStatusException: Process exited with status 1.                                 ERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:124:1: Co\r\nuldn't build file python3/external/libxsmm_archive/scripts/libxsmm_config.py: Co\r\nnverting to Python 3: external/libxsmm_archive/scripts/libxsmm_config.py failed:\r\n 2to3 failed: error executing command bazel-out/host/bin/external/bazel_tools/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host/genfi\r\nles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nERROR: /local_home/yaroslav/bazel/external/libxsmm_archive/BUILD.bazel:118:1: Couldn't build file python3/external/libxsmm_archive/scripts/libxsmm_interface.py:\r\n Converting to Python 3: external/libxsmm_archive/scripts/libxsmm_interface.py f\r\nailed: 2to3 failed: error executing command bazel-out/host/bin/external/bazel_to\r\nols/tools/python/2to3 --no-diffs --nobackups --write --output-dir bazel-out/host/genfiles/python3/external/libxsmm_archive/scripts --write-unchanged-files ... (remaining 1 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitSta\r\ntusException: Process exited with status 1.\r\n```"}