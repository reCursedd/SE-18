{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/344626765", "html_url": "https://github.com/tensorflow/tensorflow/issues/14489#issuecomment-344626765", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14489", "id": 344626765, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDYyNjc2NQ==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-15T15:25:18Z", "updated_at": "2017-11-15T15:25:18Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Indeed, it looks like the cancellation isn't propagated to the <code>WorkerService.ListDevices()</code> RPCs, which will attempt to reconnect forever if the host is unavailable. It seems reasonable to add that, and hopefully someone will volunteer to do it.</p>\n<p>Just to check though, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=12770037\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/sherrym\">@sherrym</a>: was there any reason you didn't add a timeout to this operation in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/fa07bfda6896748b747334e750763f6feea91129/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/fa07bfda6896748b747334e750763f6feea91129\"><tt>fa07bfd</tt></a>? (My recollection is that that change was to add a timeout that would mitigate run-time hangs, rather than startup hangs, for <code>SyncReplicasOptimizer</code>.)</p>\n<p>/cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1284535\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/saeta\">@saeta</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1450614\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/suharshs\">@suharshs</a> as the two people who've been in there most recently, and might enjoy implementing the feature :). I'll mark as contributions welcome in case anybody else fancies a go.</p>", "body_text": "Indeed, it looks like the cancellation isn't propagated to the WorkerService.ListDevices() RPCs, which will attempt to reconnect forever if the host is unavailable. It seems reasonable to add that, and hopefully someone will volunteer to do it.\nJust to check though, @sherrym: was there any reason you didn't add a timeout to this operation in fa07bfd? (My recollection is that that change was to add a timeout that would mitigate run-time hangs, rather than startup hangs, for SyncReplicasOptimizer.)\n/cc @saeta @suharshs as the two people who've been in there most recently, and might enjoy implementing the feature :). I'll mark as contributions welcome in case anybody else fancies a go.", "body": "Indeed, it looks like the cancellation isn't propagated to the `WorkerService.ListDevices()` RPCs, which will attempt to reconnect forever if the host is unavailable. It seems reasonable to add that, and hopefully someone will volunteer to do it.\r\n\r\nJust to check though, @sherrym: was there any reason you didn't add a timeout to this operation in fa07bfda6896748b747334e750763f6feea91129? (My recollection is that that change was to add a timeout that would mitigate run-time hangs, rather than startup hangs, for `SyncReplicasOptimizer`.)\r\n\r\n/cc @saeta @suharshs as the two people who've been in there most recently, and might enjoy implementing the feature :). I'll mark as contributions welcome in case anybody else fancies a go."}