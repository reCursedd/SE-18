{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/351990884", "html_url": "https://github.com/tensorflow/tensorflow/issues/15367#issuecomment-351990884", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15367", "id": 351990884, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTk5MDg4NA==", "user": {"login": "CasiaFan", "id": 10608984, "node_id": "MDQ6VXNlcjEwNjA4OTg0", "avatar_url": "https://avatars3.githubusercontent.com/u/10608984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CasiaFan", "html_url": "https://github.com/CasiaFan", "followers_url": "https://api.github.com/users/CasiaFan/followers", "following_url": "https://api.github.com/users/CasiaFan/following{/other_user}", "gists_url": "https://api.github.com/users/CasiaFan/gists{/gist_id}", "starred_url": "https://api.github.com/users/CasiaFan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CasiaFan/subscriptions", "organizations_url": "https://api.github.com/users/CasiaFan/orgs", "repos_url": "https://api.github.com/users/CasiaFan/repos", "events_url": "https://api.github.com/users/CasiaFan/events{/privacy}", "received_events_url": "https://api.github.com/users/CasiaFan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-15T12:09:50Z", "updated_at": "2017-12-15T12:09:50Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=710255\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fchollet\">@fchollet</a> Thanks for your reply! I try to use evaluation code in a separated script by loading pre-trained model weights, together with adding <code>K.clear_session()</code> at the end of session. But the issue still exists. <strong>But again if I use keras instead of tf.keras, it works!</strong></p>\n<p>BTW, I check the <code>K.learning_phase()</code> and <code>set_learning_phase</code> does work. So I think this issue should be about graph reusing as you said. Is there something different should be noted between keras and tf about graph usage?</p>", "body_text": "@fchollet Thanks for your reply! I try to use evaluation code in a separated script by loading pre-trained model weights, together with adding K.clear_session() at the end of session. But the issue still exists. But again if I use keras instead of tf.keras, it works!\nBTW, I check the K.learning_phase() and set_learning_phase does work. So I think this issue should be about graph reusing as you said. Is there something different should be noted between keras and tf about graph usage?", "body": "@fchollet Thanks for your reply! I try to use evaluation code in a separated script by loading pre-trained model weights, together with adding `K.clear_session()` at the end of session. But the issue still exists. **But again if I use keras instead of tf.keras, it works!** \r\n\r\nBTW, I check the `K.learning_phase()` and `set_learning_phase` does work. So I think this issue should be about graph reusing as you said. Is there something different should be noted between keras and tf about graph usage?"}