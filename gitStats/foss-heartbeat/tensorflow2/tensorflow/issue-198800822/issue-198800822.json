{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6640", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6640/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6640/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6640/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6640", "id": 198800822, "node_id": "MDU6SXNzdWUxOTg4MDA4MjI=", "number": 6640, "title": "not registered 'TensorArrayV2' on 12.1 on MacOS CPU", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-01-04T20:17:25Z", "updated_at": "2017-01-07T17:26:22Z", "closed_at": "2017-01-07T04:46:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I'm getting<br>\n<code>tensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'TensorArrayV2' </code> after upgrading to 0.12.1 on MacOS. Same code works on 0.11 on Mac and 0.12.1 on Ubuntu CPU</p>\n<p>This op seems to be created by dynamic RNN code</p>\n<pre><code>node {\n  name: \"global/RNN/TensorArray_1\"\n  op: \"TensorArrayV2\"\n  input: \"global/RNN/strided_slice_2\"\n  device: \"/cpu:0\"\n  attr {\n    key: \"clear_after_read\"\n    value {\n      b: true\n    }\n  }\n  attr {\n    key: \"dtype\"\n    value {\n      type: DT_FLOAT\n    }\n  }\n  attr {\n    key: \"dynamic_size\"\n    value {\n      b: false\n    }\n  }\n  attr {\n    key: \"tensor_array_name\"\n    value {\n      s: \"global/RNN/dynamic_rnn/input_0\"\n    }\n  }\n\n\n</code></pre>\n<p>Sorry don't have a shorter repro atm, but a long repro is to follow install instructions on <a href=\"https://github.com/openai/universe-starter-agent\">https://github.com/openai/universe-starter-agent</a> and run it with Mac CPU tensorflow</p>\n<pre><code>export TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-0.12.1-py3-none-any.whl\npip install -I --upgrade setuptools\npip install --upgrade $TF_BINARY_URL\npython train.py --num-workers 2 --env-id PongDeterministic-v3 --log-dir /tmp/pong\n</code></pre>", "body_text": "I'm getting\ntensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'TensorArrayV2'  after upgrading to 0.12.1 on MacOS. Same code works on 0.11 on Mac and 0.12.1 on Ubuntu CPU\nThis op seems to be created by dynamic RNN code\nnode {\n  name: \"global/RNN/TensorArray_1\"\n  op: \"TensorArrayV2\"\n  input: \"global/RNN/strided_slice_2\"\n  device: \"/cpu:0\"\n  attr {\n    key: \"clear_after_read\"\n    value {\n      b: true\n    }\n  }\n  attr {\n    key: \"dtype\"\n    value {\n      type: DT_FLOAT\n    }\n  }\n  attr {\n    key: \"dynamic_size\"\n    value {\n      b: false\n    }\n  }\n  attr {\n    key: \"tensor_array_name\"\n    value {\n      s: \"global/RNN/dynamic_rnn/input_0\"\n    }\n  }\n\n\n\nSorry don't have a shorter repro atm, but a long repro is to follow install instructions on https://github.com/openai/universe-starter-agent and run it with Mac CPU tensorflow\nexport TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-0.12.1-py3-none-any.whl\npip install -I --upgrade setuptools\npip install --upgrade $TF_BINARY_URL\npython train.py --num-workers 2 --env-id PongDeterministic-v3 --log-dir /tmp/pong", "body": "I'm getting\r\n`tensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'TensorArrayV2'\r\n` after upgrading to 0.12.1 on MacOS. Same code works on 0.11 on Mac and 0.12.1 on Ubuntu CPU\r\n\r\nThis op seems to be created by dynamic RNN code\r\n\r\n```\r\nnode {\r\n  name: \"global/RNN/TensorArray_1\"\r\n  op: \"TensorArrayV2\"\r\n  input: \"global/RNN/strided_slice_2\"\r\n  device: \"/cpu:0\"\r\n  attr {\r\n    key: \"clear_after_read\"\r\n    value {\r\n      b: true\r\n    }\r\n  }\r\n  attr {\r\n    key: \"dtype\"\r\n    value {\r\n      type: DT_FLOAT\r\n    }\r\n  }\r\n  attr {\r\n    key: \"dynamic_size\"\r\n    value {\r\n      b: false\r\n    }\r\n  }\r\n  attr {\r\n    key: \"tensor_array_name\"\r\n    value {\r\n      s: \"global/RNN/dynamic_rnn/input_0\"\r\n    }\r\n  }\r\n\r\n\r\n```\r\nSorry don't have a shorter repro atm, but a long repro is to follow install instructions on https://github.com/openai/universe-starter-agent and run it with Mac CPU tensorflow        \r\n\r\n```\r\nexport TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-0.12.1-py3-none-any.whl\r\npip install -I --upgrade setuptools\r\npip install --upgrade $TF_BINARY_URL\r\npython train.py --num-workers 2 --env-id PongDeterministic-v3 --log-dir /tmp/pong\r\n```\r\n\r\n"}