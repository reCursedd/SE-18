{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11666", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11666/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11666/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11666/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11666", "id": 244653306, "node_id": "MDU6SXNzdWUyNDQ2NTMzMDY=", "number": 11666, "title": "Different behavior tf.contrib.data.Dataset.unbatch() TF ver. 1.2.1 and ver 1.3.0-rc0", "user": {"login": "vbystricky", "id": 6037768, "node_id": "MDQ6VXNlcjYwMzc3Njg=", "avatar_url": "https://avatars2.githubusercontent.com/u/6037768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vbystricky", "html_url": "https://github.com/vbystricky", "followers_url": "https://api.github.com/users/vbystricky/followers", "following_url": "https://api.github.com/users/vbystricky/following{/other_user}", "gists_url": "https://api.github.com/users/vbystricky/gists{/gist_id}", "starred_url": "https://api.github.com/users/vbystricky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vbystricky/subscriptions", "organizations_url": "https://api.github.com/users/vbystricky/orgs", "repos_url": "https://api.github.com/users/vbystricky/repos", "events_url": "https://api.github.com/users/vbystricky/events{/privacy}", "received_events_url": "https://api.github.com/users/vbystricky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-07-21T12:23:54Z", "updated_at": "2017-07-24T18:56:29Z", "closed_at": "2017-07-24T18:56:29Z", "author_association": "NONE", "body_html": "<p>Code for reproduce problem:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n<span class=\"pl-c1\">print</span>(tf.<span class=\"pl-c1\">__version__</span>)\ndataset <span class=\"pl-k\">=</span> (tf.contrib.data.Dataset.range(<span class=\"pl-c1\">10</span>)\n           .batch(<span class=\"pl-c1\">5</span>)\n           .unbatch())\niterator <span class=\"pl-k\">=</span> dataset.make_initializable_iterator()\n<span class=\"pl-c1\">print</span>(iterator.get_next())</pre></div>\n<p>results in TF ver. 1.2.1:</p>\n<pre><code>1.2.1                                                  \nTensor(\"IteratorGetNext:0\", shape=(), dtype=int64)     \n</code></pre>\n<p>results in TF ver. 1.3.0-rc0:</p>\n<pre><code>1.3.0-rc0\n(&lt;tf.Tensor 'IteratorGetNext:0' shape=() dtype=int64&gt;,)\n</code></pre>", "body_text": "Code for reproduce problem:\nimport tensorflow as tf\nprint(tf.__version__)\ndataset = (tf.contrib.data.Dataset.range(10)\n           .batch(5)\n           .unbatch())\niterator = dataset.make_initializable_iterator()\nprint(iterator.get_next())\nresults in TF ver. 1.2.1:\n1.2.1                                                  \nTensor(\"IteratorGetNext:0\", shape=(), dtype=int64)     \n\nresults in TF ver. 1.3.0-rc0:\n1.3.0-rc0\n(<tf.Tensor 'IteratorGetNext:0' shape=() dtype=int64>,)", "body": "Code for reproduce problem:\r\n```python\r\nimport tensorflow as tf\r\nprint(tf.__version__)\r\ndataset = (tf.contrib.data.Dataset.range(10)\r\n           .batch(5)\r\n           .unbatch())\r\niterator = dataset.make_initializable_iterator()\r\nprint(iterator.get_next())\r\n```\r\n\r\nresults in TF ver. 1.2.1:\r\n```\r\n1.2.1                                                  \r\nTensor(\"IteratorGetNext:0\", shape=(), dtype=int64)     \r\n```\r\n\r\nresults in TF ver. 1.3.0-rc0:\r\n```\r\n1.3.0-rc0\r\n(<tf.Tensor 'IteratorGetNext:0' shape=() dtype=int64>,)\r\n```\r\n"}