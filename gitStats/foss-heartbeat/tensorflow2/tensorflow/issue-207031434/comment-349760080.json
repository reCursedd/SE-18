{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/349760080", "html_url": "https://github.com/tensorflow/tensorflow/issues/7449#issuecomment-349760080", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7449", "id": 349760080, "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTc2MDA4MA==", "user": {"login": "David-Levinthal", "id": 8728143, "node_id": "MDQ6VXNlcjg3MjgxNDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8728143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/David-Levinthal", "html_url": "https://github.com/David-Levinthal", "followers_url": "https://api.github.com/users/David-Levinthal/followers", "following_url": "https://api.github.com/users/David-Levinthal/following{/other_user}", "gists_url": "https://api.github.com/users/David-Levinthal/gists{/gist_id}", "starred_url": "https://api.github.com/users/David-Levinthal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/David-Levinthal/subscriptions", "organizations_url": "https://api.github.com/users/David-Levinthal/orgs", "repos_url": "https://api.github.com/users/David-Levinthal/repos", "events_url": "https://api.github.com/users/David-Levinthal/events{/privacy}", "received_events_url": "https://api.github.com/users/David-Levinthal/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-06T20:11:11Z", "updated_at": "2017-12-06T20:11:11Z", "author_association": "NONE", "body_html": "<p>see the same kind of issue on SKX if I use -march=native during configure<br>\nubuntu 16.04 and history output below shows the installation</p>\n<p>2004  git clone <a href=\"https://github.com/tensorflow/tensorflow\">https://github.com/tensorflow/tensorflow</a><br>\n2005  cd tensorflow<br>\n2006  git checkout r1.4<br>\n2007  sudo apt-get install openjdk-8-jdk<br>\n2008  sudo echo \"deb [arch=amd64] <a href=\"http://storage.googleapis.com/bazel-apt\" rel=\"nofollow\">http://storage.googleapis.com/bazel-apt</a> stable jdk1.8\" | sudo tee /etc/apt/sources.list.d/bazel.list<br>\n2009  curl <a href=\"https://bazel.build/bazel-release.pub.gpg\" rel=\"nofollow\">https://bazel.build/bazel-release.pub.gpg</a> | sudo apt-key add -<br>\n2010  sudo apt-get update &amp;&amp; sudo apt-get install bazel<br>\n2011  sudo apt-get upgrade bazel<br>\n2012  sudo apt-get install python-numpy python-dev python-pip python-wheel<br>\n2013  ./configure<br>\n2014  bazel build --config=mkl -c opt -c opt //tensorflow/tools/pip_package:build_pip_package &gt; tf_build.log 2&gt;&amp;1<br>\n2015  vi tf_build.log<br>\n2016  mkdir ../tf_r1.4_mkl<br>\n2017  sudo bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg<br>\n2018  ls /tmp/tensorflow_pkg/<br>\n2019  sudo pip install /tmp/tensorflow_pkg/tensorflow-1.4.1-cp27-cp27mu-linux_x86_64.whl -t ~/tf_r1.4_mkl/<br>\n2020  cp /tmp/tensorflow_pkg/tensorflow-1.4.1-cp27-cp27mu-linux_x86_64.whl <del>/tf_r1.4_mkl/<br>\nThread model: posix<br>\ngcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1</del>16.04.5)<br>\n2025  export OMP_NUM_THREADS=52<br>\n2026  python tf_cnn_benchmarks.py --device=cpu --mkl=True --kmp_settings=1 --batch_size=64 --model=alexnet --forward_only=True --num_warmup_batches=10  --num_inter_threads 2 --num_intra_threads 56 &gt; alexnet_skx_thr.log 2&gt;&amp;1<br>\ntop of alexnet_skx_thr.log<br>\n2017-12-02 11:17:35.612237: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA</p>", "body_text": "see the same kind of issue on SKX if I use -march=native during configure\nubuntu 16.04 and history output below shows the installation\n2004  git clone https://github.com/tensorflow/tensorflow\n2005  cd tensorflow\n2006  git checkout r1.4\n2007  sudo apt-get install openjdk-8-jdk\n2008  sudo echo \"deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8\" | sudo tee /etc/apt/sources.list.d/bazel.list\n2009  curl https://bazel.build/bazel-release.pub.gpg | sudo apt-key add -\n2010  sudo apt-get update && sudo apt-get install bazel\n2011  sudo apt-get upgrade bazel\n2012  sudo apt-get install python-numpy python-dev python-pip python-wheel\n2013  ./configure\n2014  bazel build --config=mkl -c opt -c opt //tensorflow/tools/pip_package:build_pip_package > tf_build.log 2>&1\n2015  vi tf_build.log\n2016  mkdir ../tf_r1.4_mkl\n2017  sudo bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\n2018  ls /tmp/tensorflow_pkg/\n2019  sudo pip install /tmp/tensorflow_pkg/tensorflow-1.4.1-cp27-cp27mu-linux_x86_64.whl -t ~/tf_r1.4_mkl/\n2020  cp /tmp/tensorflow_pkg/tensorflow-1.4.1-cp27-cp27mu-linux_x86_64.whl /tf_r1.4_mkl/\nThread model: posix\ngcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu116.04.5)\n2025  export OMP_NUM_THREADS=52\n2026  python tf_cnn_benchmarks.py --device=cpu --mkl=True --kmp_settings=1 --batch_size=64 --model=alexnet --forward_only=True --num_warmup_batches=10  --num_inter_threads 2 --num_intra_threads 56 > alexnet_skx_thr.log 2>&1\ntop of alexnet_skx_thr.log\n2017-12-02 11:17:35.612237: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA", "body": "see the same kind of issue on SKX if I use -march=native during configure\r\nubuntu 16.04 and history output below shows the installation\r\n\r\n2004  git clone https://github.com/tensorflow/tensorflow \r\n 2005  cd tensorflow\r\n 2006  git checkout r1.4\r\n 2007  sudo apt-get install openjdk-8-jdk\r\n 2008  sudo echo \"deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8\" | sudo tee /etc/apt/sources.list.d/bazel.list\r\n 2009  curl https://bazel.build/bazel-release.pub.gpg | sudo apt-key add -\r\n 2010  sudo apt-get update && sudo apt-get install bazel\r\n 2011  sudo apt-get upgrade bazel\r\n 2012  sudo apt-get install python-numpy python-dev python-pip python-wheel\r\n 2013  ./configure \r\n 2014  bazel build --config=mkl -c opt -c opt //tensorflow/tools/pip_package:build_pip_package > tf_build.log 2>&1\r\n 2015  vi tf_build.log \r\n 2016  mkdir ../tf_r1.4_mkl\r\n 2017  sudo bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\r\n 2018  ls /tmp/tensorflow_pkg/\r\n 2019  sudo pip install /tmp/tensorflow_pkg/tensorflow-1.4.1-cp27-cp27mu-linux_x86_64.whl -t ~/tf_r1.4_mkl/\r\n 2020  cp /tmp/tensorflow_pkg/tensorflow-1.4.1-cp27-cp27mu-linux_x86_64.whl ~/tf_r1.4_mkl/\r\nThread model: posix\r\ngcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.5) \r\n 2025  export OMP_NUM_THREADS=52\r\n 2026  python tf_cnn_benchmarks.py --device=cpu --mkl=True --kmp_settings=1 --batch_size=64 --model=alexnet --forward_only=True --num_warmup_batches=10  --num_inter_threads 2 --num_intra_threads 56 > alexnet_skx_thr.log 2>&1\r\ntop of alexnet_skx_thr.log\r\n2017-12-02 11:17:35.612237: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA\r\n"}