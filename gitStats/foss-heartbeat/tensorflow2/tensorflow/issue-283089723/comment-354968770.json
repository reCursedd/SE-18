{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/354968770", "html_url": "https://github.com/tensorflow/tensorflow/pull/15466#issuecomment-354968770", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15466", "id": 354968770, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDk2ODc3MA==", "user": {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-03T09:30:22Z", "updated_at": "2018-01-03T09:30:22Z", "author_association": "MEMBER", "body_html": "<p>The CROSSTOOL for Windows GPU is still on Bazel side, but I'm planing to move it to TF repo just like Unix one.<br>\nI'd like to see TF has its own CPU CROSSTOOL as well. There is no way to directly inherit from the default one in Bazel, but we can reuse the MSVC detect mechanism from Bazel, see <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/bazelbuild/bazel/commit/ff12a22fde96a28d6ad1279b60a421163e772aa6/hovercard\" href=\"https://github.com/bazelbuild/bazel/commit/ff12a22fde96a28d6ad1279b60a421163e772aa6\">bazelbuild/bazel@<tt>ff12a22</tt></a></p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a> but I don't quite understand how does having TF's own CROSSTOOL solve this exact problem.<br>\nIIUC, we want <code>-DTF_COMPILE_LIBRARY</code> passed for some targets, but not for all. However, adding it to CROSSTOOL will apply it to every compilation.</p>", "body_text": "The CROSSTOOL for Windows GPU is still on Bazel side, but I'm planing to move it to TF repo just like Unix one.\nI'd like to see TF has its own CPU CROSSTOOL as well. There is no way to directly inherit from the default one in Bazel, but we can reuse the MSVC detect mechanism from Bazel, see bazelbuild/bazel@ff12a22\n@gunan but I don't quite understand how does having TF's own CROSSTOOL solve this exact problem.\nIIUC, we want -DTF_COMPILE_LIBRARY passed for some targets, but not for all. However, adding it to CROSSTOOL will apply it to every compilation.", "body": "The CROSSTOOL for Windows GPU is still on Bazel side, but I'm planing to move it to TF repo just like Unix one.\r\nI'd like to see TF has its own CPU CROSSTOOL as well. There is no way to directly inherit from the default one in Bazel, but we can reuse the MSVC detect mechanism from Bazel, see https://github.com/bazelbuild/bazel/commit/ff12a22fde96a28d6ad1279b60a421163e772aa6\r\n\r\n@gunan but I don't quite understand how does having TF's own CROSSTOOL solve this exact problem.\r\nIIUC, we want `-DTF_COMPILE_LIBRARY` passed for some targets, but not for all. However, adding it to CROSSTOOL will apply it to every compilation.\r\n"}