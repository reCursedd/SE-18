{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15529", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15529/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15529/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15529/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15529", "id": 283679574, "node_id": "MDU6SXNzdWUyODM2Nzk1NzQ=", "number": 15529, "title": "Sample Distorted Bounding Box Bug", "user": {"login": "wagonhelm", "id": 18343189, "node_id": "MDQ6VXNlcjE4MzQzMTg5", "avatar_url": "https://avatars2.githubusercontent.com/u/18343189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wagonhelm", "html_url": "https://github.com/wagonhelm", "followers_url": "https://api.github.com/users/wagonhelm/followers", "following_url": "https://api.github.com/users/wagonhelm/following{/other_user}", "gists_url": "https://api.github.com/users/wagonhelm/gists{/gist_id}", "starred_url": "https://api.github.com/users/wagonhelm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wagonhelm/subscriptions", "organizations_url": "https://api.github.com/users/wagonhelm/orgs", "repos_url": "https://api.github.com/users/wagonhelm/repos", "events_url": "https://api.github.com/users/wagonhelm/events{/privacy}", "received_events_url": "https://api.github.com/users/wagonhelm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "fef2c0", "default": false}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-20T20:03:22Z", "updated_at": "2018-01-25T01:22:28Z", "closed_at": "2018-01-25T01:22:28Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nStock Example</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\n16.04.3 LTS</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\nSource</li>\n<li><strong>TensorFlow version (use command below)</strong>:<br>\n1.4.0</li>\n<li><strong>Python version</strong>:<br>\nPython 3.5.2</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\n0.7.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:<br>\n5.4.0</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\ncuda_9.0.176_384.81 / cudnn 7</li>\n<li><strong>GPU model and memory</strong>:<br>\nGTX 755M 2gb Memory x2</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nbegin, size, bbox_for_draw = tf.image.sample_distorted_bounding_box(<br>\ntf.shape(image),<br>\nbounding_boxes=bounding_boxes)</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>When using the tf.image.sample_distorted_bounding_box() function the parameter min_object_covered seems to default to value None which causes an error (ValueError: None values not supported.)  If you give an argument for min_object_covered it seems to work fine.</p>\n<p>There seems to be two versions of this function in the source <a href=\"https://github.com/tensorflow/tensorflow/blob/fc49f43817e363e50df3ff2fd7a4870ace13ea13/tensorflow/core/ops/image_ops.cc#L930\">v2 which takes min_object_covered</a> as a argument and a <a href=\"https://github.com/tensorflow/tensorflow/blob/fc49f43817e363e50df3ff2fd7a4870ace13ea13/tensorflow/core/ops/image_ops.cc#L844\">v1</a> which has the default value of 0.1 as an attribute.  It appears v2 is the one <a href=\"https://github.com/tensorflow/tensorflow/blob/73658420db2498ad7f07363bfa72cba6e2d9fdd2/tensorflow/python/ops/image_ops_impl.py#L1536\">being used</a>.  Not sure what approach is best to take for fixing this bug but believe the root of the issue is coming from tensorflow/core/ops/image_ops.cc</p>\n<h3>Source code / logs</h3>\n<p>Attached<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/1576836/boundingbox.txt\">boundingbox.txt</a></p>\n<p>Examples of code being implemented <a href=\"https://github.com/wagonhelm/image_augment/blob/master/DataAug.ipynb\">here</a>.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nStock Example\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\n16.04.3 LTS\nTensorFlow installed from (source or binary):\nSource\nTensorFlow version (use command below):\n1.4.0\nPython version:\nPython 3.5.2\nBazel version (if compiling from source):\n0.7.0\nGCC/Compiler version (if compiling from source):\n5.4.0\nCUDA/cuDNN version:\ncuda_9.0.176_384.81 / cudnn 7\nGPU model and memory:\nGTX 755M 2gb Memory x2\nExact command to reproduce:\nbegin, size, bbox_for_draw = tf.image.sample_distorted_bounding_box(\ntf.shape(image),\nbounding_boxes=bounding_boxes)\n\nDescribe the problem\nWhen using the tf.image.sample_distorted_bounding_box() function the parameter min_object_covered seems to default to value None which causes an error (ValueError: None values not supported.)  If you give an argument for min_object_covered it seems to work fine.\nThere seems to be two versions of this function in the source v2 which takes min_object_covered as a argument and a v1 which has the default value of 0.1 as an attribute.  It appears v2 is the one being used.  Not sure what approach is best to take for fixing this bug but believe the root of the issue is coming from tensorflow/core/ops/image_ops.cc\nSource code / logs\nAttached\nboundingbox.txt\nExamples of code being implemented here.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nStock Example\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n16.04.3 LTS\r\n- **TensorFlow installed from (source or binary)**:\r\nSource\r\n- **TensorFlow version (use command below)**:\r\n1.4.0\r\n- **Python version**: \r\nPython 3.5.2\r\n- **Bazel version (if compiling from source)**:\r\n0.7.0\r\n- **GCC/Compiler version (if compiling from source)**:\r\n5.4.0\r\n- **CUDA/cuDNN version**:\r\ncuda_9.0.176_384.81 / cudnn 7\r\n- **GPU model and memory**:\r\nGTX 755M 2gb Memory x2\r\n- **Exact command to reproduce**:\r\nbegin, size, bbox_for_draw = tf.image.sample_distorted_bounding_box(\r\n        tf.shape(image),\r\n        bounding_boxes=bounding_boxes)\r\n\r\n\r\n### Describe the problem\r\nWhen using the tf.image.sample_distorted_bounding_box() function the parameter min_object_covered seems to default to value None which causes an error (ValueError: None values not supported.)  If you give an argument for min_object_covered it seems to work fine.\r\n\r\nThere seems to be two versions of this function in the source [v2 which takes min_object_covered](https://github.com/tensorflow/tensorflow/blob/fc49f43817e363e50df3ff2fd7a4870ace13ea13/tensorflow/core/ops/image_ops.cc#L930) as a argument and a [v1](https://github.com/tensorflow/tensorflow/blob/fc49f43817e363e50df3ff2fd7a4870ace13ea13/tensorflow/core/ops/image_ops.cc#L844) which has the default value of 0.1 as an attribute.  It appears v2 is the one [being used](https://github.com/tensorflow/tensorflow/blob/73658420db2498ad7f07363bfa72cba6e2d9fdd2/tensorflow/python/ops/image_ops_impl.py#L1536).  Not sure what approach is best to take for fixing this bug but believe the root of the issue is coming from tensorflow/core/ops/image_ops.cc\r\n\r\n### Source code / logs\r\nAttached\r\n[boundingbox.txt](https://github.com/tensorflow/tensorflow/files/1576836/boundingbox.txt)\r\n\r\nExamples of code being implemented [here](https://github.com/wagonhelm/image_augment/blob/master/DataAug.ipynb).\r\n\r\n"}