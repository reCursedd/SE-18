{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12500", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12500/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12500/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12500/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12500", "id": 252063236, "node_id": "MDU6SXNzdWUyNTIwNjMyMzY=", "number": 12500, "title": "Tensorflow Debugger crashes on tab complete", "user": {"login": "alanhdu", "id": 1914111, "node_id": "MDQ6VXNlcjE5MTQxMTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1914111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alanhdu", "html_url": "https://github.com/alanhdu", "followers_url": "https://api.github.com/users/alanhdu/followers", "following_url": "https://api.github.com/users/alanhdu/following{/other_user}", "gists_url": "https://api.github.com/users/alanhdu/gists{/gist_id}", "starred_url": "https://api.github.com/users/alanhdu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alanhdu/subscriptions", "organizations_url": "https://api.github.com/users/alanhdu/orgs", "repos_url": "https://api.github.com/users/alanhdu/repos", "events_url": "https://api.github.com/users/alanhdu/events{/privacy}", "received_events_url": "https://api.github.com/users/alanhdu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-08-22T19:25:32Z", "updated_at": "2018-03-28T15:02:59Z", "closed_at": "2018-03-28T15:02:58Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Binary (pip wheel)</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.3</li>\n<li><strong>Python version</strong>:  3.5</li>\n<li><strong>GPU model and memory</strong>: (CPU only)</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Sometimes when using <code>tfdbg</code>, tab-completing on <code>pt</code> will crash the debugger (unfortunately, I haven't figured out how to reproduce this consistently yet) and my terminal will look like:</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/1914111/29582837-2a0cd4d8-874c-11e7-899d-8430575ce1ba.png\"><img src=\"https://user-images.githubusercontent.com/1914111/29582837-2a0cd4d8-874c-11e7-899d-8430575ce1ba.png\" alt=\"screenshot from 2017-08-22 14-44-11\" style=\"max-width:100%;\"></a></p>\n<p>the terminal will be unresponsive, and scrolling + regular mouse selection will be disabled (although <code>SHIFT</code> + mouse selection will work).</p>\n<h3>Source code / logs</h3>\n<p>Reconstructing the traceback:</p>\n<pre><code>Traceback (most recent call last):\nFile \"GenerativeLSTM.py\", line 151, in &lt;module&gt;\n    m.train(klabels, config={\"epochs\": 30, \"batch_size\": 1})\nFile \"GenerativeLSTM.py\", line 140, in train\n    [next_batch, (train_step, merged)], feed_dict)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/wrappers/framework.py\", line 532, in run\n    run_end_resp = self.on_run_end(run_end_req)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 338, in on_run_end\n    self._run_start_response = self._launch_cli()\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 429, in _launch_cli\n        title_color=self._title_color)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 502, in run_ui\n    exit_token = self._ui_loop()\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 578, in _ui_loop\n    tab_completed = self._tab_complete(command)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 1507, in _tab_complete\n    self._display_candidates(candidates)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 1554, in _display_candidates\n    pad, _, _ = self._display_lines(candidates_output, 0)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 1130, in _display_lines\n    pad = self._screen_new_output_pad(rows, cols)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 978, in _screen_new_output_pad\n    return curses.newpad(rows, cols)\n_curses.error: curses function returned NULL\n</code></pre>\n<p>As I said, I unfortunately have not figured out how to reproduce this regularly -- this happens every once in a while when I'm working on the LSTM from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"251801054\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/12465\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/12465/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/12465\">#12465</a>. I'll try to create a minimal reproducible test case later, but I figured I'd file this ticket first.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary): Binary (pip wheel)\nTensorFlow version (use command below): 1.3\nPython version:  3.5\nGPU model and memory: (CPU only)\n\nDescribe the problem\nSometimes when using tfdbg, tab-completing on pt will crash the debugger (unfortunately, I haven't figured out how to reproduce this consistently yet) and my terminal will look like:\n\nthe terminal will be unresponsive, and scrolling + regular mouse selection will be disabled (although SHIFT + mouse selection will work).\nSource code / logs\nReconstructing the traceback:\nTraceback (most recent call last):\nFile \"GenerativeLSTM.py\", line 151, in <module>\n    m.train(klabels, config={\"epochs\": 30, \"batch_size\": 1})\nFile \"GenerativeLSTM.py\", line 140, in train\n    [next_batch, (train_step, merged)], feed_dict)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/wrappers/framework.py\", line 532, in run\n    run_end_resp = self.on_run_end(run_end_req)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 338, in on_run_end\n    self._run_start_response = self._launch_cli()\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 429, in _launch_cli\n        title_color=self._title_color)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 502, in run_ui\n    exit_token = self._ui_loop()\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 578, in _ui_loop\n    tab_completed = self._tab_complete(command)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 1507, in _tab_complete\n    self._display_candidates(candidates)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 1554, in _display_candidates\n    pad, _, _ = self._display_lines(candidates_output, 0)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 1130, in _display_lines\n    pad = self._screen_new_output_pad(rows, cols)\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 978, in _screen_new_output_pad\n    return curses.newpad(rows, cols)\n_curses.error: curses function returned NULL\n\nAs I said, I unfortunately have not figured out how to reproduce this regularly -- this happens every once in a while when I'm working on the LSTM from #12465. I'll try to create a minimal reproducible test case later, but I figured I'd file this ticket first.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: Binary (pip wheel)\r\n- **TensorFlow version (use command below)**: 1.3\r\n- **Python version**:  3.5\r\n- **GPU model and memory**: (CPU only)\r\n\r\n### Describe the problem\r\nSometimes when using `tfdbg`, tab-completing on `pt` will crash the debugger (unfortunately, I haven't figured out how to reproduce this consistently yet) and my terminal will look like:\r\n\r\n![screenshot from 2017-08-22 14-44-11](https://user-images.githubusercontent.com/1914111/29582837-2a0cd4d8-874c-11e7-899d-8430575ce1ba.png)\r\n\r\nthe terminal will be unresponsive, and scrolling + regular mouse selection will be disabled (although `SHIFT` + mouse selection will work).\r\n\r\n### Source code / logs\r\n\r\nReconstructing the traceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\nFile \"GenerativeLSTM.py\", line 151, in <module>\r\n    m.train(klabels, config={\"epochs\": 30, \"batch_size\": 1})\r\nFile \"GenerativeLSTM.py\", line 140, in train\r\n    [next_batch, (train_step, merged)], feed_dict)\r\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/wrappers/framework.py\", line 532, in run\r\n    run_end_resp = self.on_run_end(run_end_req)\r\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 338, in on_run_end\r\n    self._run_start_response = self._launch_cli()\r\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 429, in _launch_cli\r\n        title_color=self._title_color)\r\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 502, in run_ui\r\n    exit_token = self._ui_loop()\r\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 578, in _ui_loop\r\n    tab_completed = self._tab_complete(command)\r\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 1507, in _tab_complete\r\n    self._display_candidates(candidates)\r\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 1554, in _display_candidates\r\n    pad, _, _ = self._display_lines(candidates_output, 0)\r\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 1130, in _display_lines\r\n    pad = self._screen_new_output_pad(rows, cols)\r\nFile \"/home/alan/workspace/cognescent/py3.venv/lib/python3.5/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 978, in _screen_new_output_pad\r\n    return curses.newpad(rows, cols)\r\n_curses.error: curses function returned NULL\r\n```\r\n\r\nAs I said, I unfortunately have not figured out how to reproduce this regularly -- this happens every once in a while when I'm working on the LSTM from #12465. I'll try to create a minimal reproducible test case later, but I figured I'd file this ticket first."}