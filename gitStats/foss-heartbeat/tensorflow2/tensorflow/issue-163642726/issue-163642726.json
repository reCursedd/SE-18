{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3181", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3181/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3181/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3181/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3181", "id": 163642726, "node_id": "MDU6SXNzdWUxNjM2NDI3MjY=", "number": 3181, "title": "tf.initialize_variables fails on missing Tensor initializer attribute", "user": {"login": "sjperkins", "id": 3530212, "node_id": "MDQ6VXNlcjM1MzAyMTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3530212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjperkins", "html_url": "https://github.com/sjperkins", "followers_url": "https://api.github.com/users/sjperkins/followers", "following_url": "https://api.github.com/users/sjperkins/following{/other_user}", "gists_url": "https://api.github.com/users/sjperkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjperkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjperkins/subscriptions", "organizations_url": "https://api.github.com/users/sjperkins/orgs", "repos_url": "https://api.github.com/users/sjperkins/repos", "events_url": "https://api.github.com/users/sjperkins/events{/privacy}", "received_events_url": "https://api.github.com/users/sjperkins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-04T09:56:30Z", "updated_at": "2016-07-04T10:05:20Z", "closed_at": "2016-07-04T10:05:20Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>Environment info</h3>\n<p>Operating System: <code>Ubuntu 14.04.4</code></p>\n<p>Installed version of CUDA and cuDNN:  CUDA 7.5 and cuDNN 4.0.7<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<div class=\"highlight highlight-source-shell\"><pre>ls -l /usr/local/cuda-7.5/lib64/libcud<span class=\"pl-k\">*</span>\n-rw-r--r-- 1 root root    322936 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root        16 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart.so -<span class=\"pl-k\">&gt;</span> libcudart.so.7.5\nlrwxrwxrwx 1 root root        19 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart.so.7.5 -<span class=\"pl-k\">&gt;</span> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root    383336 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart.so.7.5.18\n-rw-r--r-- 1 root root    720192 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart_static.a\nlrwxrwxrwx 1 3319 users       13 Feb  9 19:48 /usr/local/cuda-7.5/lib64/libcudnn.so -<span class=\"pl-k\">&gt;</span> libcudnn.so.4\nlrwxrwxrwx 1 3319 users       17 Feb  9 19:48 /usr/local/cuda-7.5/lib64/libcudnn.so.4 -<span class=\"pl-k\">&gt;</span> libcudnn.so.4.0.7\n-rwxrwxr-x 1 3319 users 61453024 Feb  9 00:12 /usr/local/cuda-7.5/lib64/libcudnn.so.4.0.7\n-rw-rw-r-- 1 3319 users 62025862 Feb  9 00:12 /usr/local/cuda-7.5/lib64/libcudnn_static.a</pre></div>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>Which pip package you installed. Nightly build, Ubuntu/Linux 64-bit, GPU enabled, Python 2.7</li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<div class=\"highlight highlight-source-shell\"><pre>$ python -c <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>import tensorflow; print(tensorflow.__version__)<span class=\"pl-pds\">\"</span></span>\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n0.9.0</pre></div>\n<p>If installed from sources, provide the commit hash:</p>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Running the following python script</li>\n</ol>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\n<span class=\"pl-k\">with</span> tf.Session() <span class=\"pl-k\">as</span> S:\n    V <span class=\"pl-k\">=</span> tf.linspace(<span class=\"pl-c1\">0</span>., <span class=\"pl-c1\">100</span>., <span class=\"pl-c1\">10</span>)\n    S.run(tf.initialize_variables([V]))</pre></div>\n<p>produces the following output:</p>\n<div class=\"highlight highlight-source-python\"><pre>I tensorflow<span class=\"pl-k\">/</span>stream_executor<span class=\"pl-k\">/</span>dso_loader.cc:<span class=\"pl-c1\">108</span>] successfully opened <span class=\"pl-c1\">CUDA</span> library libcublas.so locally\nI tensorflow<span class=\"pl-k\">/</span>stream_executor<span class=\"pl-k\">/</span>dso_loader.cc:<span class=\"pl-c1\">108</span>] successfully opened <span class=\"pl-c1\">CUDA</span> library libcudnn.so locally\nI tensorflow<span class=\"pl-k\">/</span>stream_executor<span class=\"pl-k\">/</span>dso_loader.cc:<span class=\"pl-c1\">108</span>] successfully opened <span class=\"pl-c1\">CUDA</span> library libcufft.so locally\nI tensorflow<span class=\"pl-k\">/</span>stream_executor<span class=\"pl-k\">/</span>dso_loader.cc:<span class=\"pl-c1\">108</span>] successfully opened <span class=\"pl-c1\">CUDA</span> library libcuda.so locally\nI tensorflow<span class=\"pl-k\">/</span>stream_executor<span class=\"pl-k\">/</span>dso_loader.cc:<span class=\"pl-c1\">108</span>] successfully opened <span class=\"pl-c1\">CUDA</span> library libcurand.so locally\nI tensorflow<span class=\"pl-k\">/</span>stream_executor<span class=\"pl-k\">/</span>cuda<span class=\"pl-k\">/</span>cuda_gpu_executor.cc:<span class=\"pl-c1\">924</span>] successful <span class=\"pl-c1\">NUMA</span> node read <span class=\"pl-k\">from</span> SysFS had negative value (<span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span>), but there must be at least one <span class=\"pl-c1\">NUMA</span> node, so returning <span class=\"pl-c1\">NUMA</span> node zero\nI tensorflow<span class=\"pl-k\">/</span>core<span class=\"pl-k\">/</span>common_runtime<span class=\"pl-k\">/</span>gpu<span class=\"pl-k\">/</span>gpu_init.cc:<span class=\"pl-c1\">102</span>] Found device <span class=\"pl-c1\">0</span> <span class=\"pl-k\">with</span> properties: \nname: GeForce <span class=\"pl-c1\">GTX</span> <span class=\"pl-ii\">850M</span>\nmajor: <span class=\"pl-c1\">5</span> minor: <span class=\"pl-c1\">0</span> memoryClockRate (GHz) <span class=\"pl-c1\">0.9015</span>\npciBusID <span class=\"pl-c1\">0000</span>:<span class=\"pl-c1\">0<span class=\"pl-ii\">1</span></span>:<span class=\"pl-c1\">00.0</span>\nTotal memory: <span class=\"pl-c1\">4.</span><span class=\"pl-ii\">00GiB</span>\nFree memory: <span class=\"pl-c1\">3.</span><span class=\"pl-ii\">56GiB</span>\nI tensorflow<span class=\"pl-k\">/</span>core<span class=\"pl-k\">/</span>common_runtime<span class=\"pl-k\">/</span>gpu<span class=\"pl-k\">/</span>gpu_init.cc:<span class=\"pl-c1\">126</span>] <span class=\"pl-c1\">DMA</span>: <span class=\"pl-c1\">0</span> \nI tensorflow<span class=\"pl-k\">/</span>core<span class=\"pl-k\">/</span>common_runtime<span class=\"pl-k\">/</span>gpu<span class=\"pl-k\">/</span>gpu_init.cc:<span class=\"pl-c1\">136</span>] <span class=\"pl-c1\">0</span>:   Y \nI tensorflow<span class=\"pl-k\">/</span>core<span class=\"pl-k\">/</span>common_runtime<span class=\"pl-k\">/</span>gpu<span class=\"pl-k\">/</span>gpu_device.cc:<span class=\"pl-c1\">806</span>] Creating TensorFlow device (<span class=\"pl-k\">/</span>gpu:<span class=\"pl-c1\">0</span>) <span class=\"pl-ii\">-&gt;</span> (device: <span class=\"pl-c1\">0</span>, name: GeForce <span class=\"pl-c1\">GTX</span> <span class=\"pl-ii\">850M</span>, pci bus <span class=\"pl-c1\">id</span>: <span class=\"pl-c1\">0000</span>:<span class=\"pl-c1\">0<span class=\"pl-ii\">1</span></span>:<span class=\"pl-c1\">00.0</span>)\nTraceback (most recent call last):\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test_init_fail.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">5</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    S.run(tf.initialize_variables([V]))\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/foobar/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">907</span>, <span class=\"pl-k\">in</span> initialize_variables\n    <span class=\"pl-k\">*</span>[v.initializer <span class=\"pl-k\">for</span> v <span class=\"pl-k\">in</span> var_list], name<span class=\"pl-k\">=</span>name)\n<span class=\"pl-c1\">AttributeError</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Tensor<span class=\"pl-pds\">'</span></span> <span class=\"pl-c1\">object</span> has no attribute <span class=\"pl-s\"><span class=\"pl-pds\">'</span>initializer<span class=\"pl-pds\">'</span></span>\n</pre></div>\n<h3>What have you tried?</h3>\n<ol>\n<li>See above</li>\n</ol>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment).</p>", "body_text": "Environment info\nOperating System: Ubuntu 14.04.4\nInstalled version of CUDA and cuDNN:  CUDA 7.5 and cuDNN 4.0.7\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nls -l /usr/local/cuda-7.5/lib64/libcud*\n-rw-r--r-- 1 root root    322936 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root        16 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root        19 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root    383336 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart.so.7.5.18\n-rw-r--r-- 1 root root    720192 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart_static.a\nlrwxrwxrwx 1 3319 users       13 Feb  9 19:48 /usr/local/cuda-7.5/lib64/libcudnn.so -> libcudnn.so.4\nlrwxrwxrwx 1 3319 users       17 Feb  9 19:48 /usr/local/cuda-7.5/lib64/libcudnn.so.4 -> libcudnn.so.4.0.7\n-rwxrwxr-x 1 3319 users 61453024 Feb  9 00:12 /usr/local/cuda-7.5/lib64/libcudnn.so.4.0.7\n-rw-rw-r-- 1 3319 users 62025862 Feb  9 00:12 /usr/local/cuda-7.5/lib64/libcudnn_static.a\nIf installed from binary pip package, provide:\n\nWhich pip package you installed. Nightly build, Ubuntu/Linux 64-bit, GPU enabled, Python 2.7\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\n$ python -c \"import tensorflow; print(tensorflow.__version__)\"\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n0.9.0\nIf installed from sources, provide the commit hash:\nSteps to reproduce\n\nRunning the following python script\n\nimport tensorflow as tf\n\nwith tf.Session() as S:\n    V = tf.linspace(0., 100., 10)\n    S.run(tf.initialize_variables([V]))\nproduces the following output:\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:924] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 850M\nmajor: 5 minor: 0 memoryClockRate (GHz) 0.9015\npciBusID 0000:01:00.0\nTotal memory: 4.00GiB\nFree memory: 3.56GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:806] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 850M, pci bus id: 0000:01:00.0)\nTraceback (most recent call last):\n  File \"test_init_fail.py\", line 5, in <module>\n    S.run(tf.initialize_variables([V]))\n  File \"/home/foobar/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 907, in initialize_variables\n    *[v.initializer for v in var_list], name=name)\nAttributeError: 'Tensor' object has no attribute 'initializer'\n\nWhat have you tried?\n\nSee above\n\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment).", "body": "### Environment info\n\nOperating System: `Ubuntu 14.04.4`\n\nInstalled version of CUDA and cuDNN:  CUDA 7.5 and cuDNN 4.0.7\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\n``` bash\nls -l /usr/local/cuda-7.5/lib64/libcud*\n-rw-r--r-- 1 root root    322936 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root        16 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root        19 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root    383336 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart.so.7.5.18\n-rw-r--r-- 1 root root    720192 Aug 15  2015 /usr/local/cuda-7.5/lib64/libcudart_static.a\nlrwxrwxrwx 1 3319 users       13 Feb  9 19:48 /usr/local/cuda-7.5/lib64/libcudnn.so -> libcudnn.so.4\nlrwxrwxrwx 1 3319 users       17 Feb  9 19:48 /usr/local/cuda-7.5/lib64/libcudnn.so.4 -> libcudnn.so.4.0.7\n-rwxrwxr-x 1 3319 users 61453024 Feb  9 00:12 /usr/local/cuda-7.5/lib64/libcudnn.so.4.0.7\n-rw-rw-r-- 1 3319 users 62025862 Feb  9 00:12 /usr/local/cuda-7.5/lib64/libcudnn_static.a\n```\n\nIf installed from binary pip package, provide:\n1. Which pip package you installed. Nightly build, Ubuntu/Linux 64-bit, GPU enabled, Python 2.7 \n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\n\n``` bash\n$ python -c \"import tensorflow; print(tensorflow.__version__)\"\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\n0.9.0\n```\n\nIf installed from sources, provide the commit hash:\n### Steps to reproduce\n1. Running the following python script\n\n``` python\nimport tensorflow as tf\n\nwith tf.Session() as S:\n    V = tf.linspace(0., 100., 10)\n    S.run(tf.initialize_variables([V]))\n```\n\nproduces the following output:\n\n``` python\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:924] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 850M\nmajor: 5 minor: 0 memoryClockRate (GHz) 0.9015\npciBusID 0000:01:00.0\nTotal memory: 4.00GiB\nFree memory: 3.56GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:806] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 850M, pci bus id: 0000:01:00.0)\nTraceback (most recent call last):\n  File \"test_init_fail.py\", line 5, in <module>\n    S.run(tf.initialize_variables([V]))\n  File \"/home/foobar/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 907, in initialize_variables\n    *[v.initializer for v in var_list], name=name)\nAttributeError: 'Tensor' object has no attribute 'initializer'\n\n```\n### What have you tried?\n1. See above\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment).\n"}