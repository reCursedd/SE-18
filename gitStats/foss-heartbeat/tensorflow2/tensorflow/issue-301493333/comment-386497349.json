{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/386497349", "html_url": "https://github.com/tensorflow/tensorflow/issues/17364#issuecomment-386497349", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17364", "id": 386497349, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjQ5NzM0OQ==", "user": {"login": "FishermanZzhang", "id": 13829695, "node_id": "MDQ6VXNlcjEzODI5Njk1", "avatar_url": "https://avatars1.githubusercontent.com/u/13829695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FishermanZzhang", "html_url": "https://github.com/FishermanZzhang", "followers_url": "https://api.github.com/users/FishermanZzhang/followers", "following_url": "https://api.github.com/users/FishermanZzhang/following{/other_user}", "gists_url": "https://api.github.com/users/FishermanZzhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/FishermanZzhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FishermanZzhang/subscriptions", "organizations_url": "https://api.github.com/users/FishermanZzhang/orgs", "repos_url": "https://api.github.com/users/FishermanZzhang/repos", "events_url": "https://api.github.com/users/FishermanZzhang/events{/privacy}", "received_events_url": "https://api.github.com/users/FishermanZzhang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-04T03:25:27Z", "updated_at": "2018-05-04T03:25:27Z", "author_association": "NONE", "body_html": "<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-c\"><span class=\"pl-c\">#</span> Preprocess 4 files concurrently.</span>\nfilenames <span class=\"pl-k\">=</span> tf.data.Dataset.list_files(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/path/to/data/train*.tfrecords<span class=\"pl-pds\">\"</span></span>)\ndataset <span class=\"pl-k\">=</span> filenames.apply(\n    tf.contrib.data.parallel_interleave(\n        <span class=\"pl-k\">lambda</span> <span class=\"pl-smi\">filename</span>: tf.data.TFRecordDataset(filename),\n        <span class=\"pl-v\">cycle_length</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">4</span>))</pre></div>\n<p><a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/data/python/ops/interleave_ops.py#L35\">parallel_interleave</a><br>\n<a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/utils/dataset_util.py#L106\">read_dataset</a></p>", "body_text": "# Preprocess 4 files concurrently.\nfilenames = tf.data.Dataset.list_files(\"/path/to/data/train*.tfrecords\")\ndataset = filenames.apply(\n    tf.contrib.data.parallel_interleave(\n        lambda filename: tf.data.TFRecordDataset(filename),\n        cycle_length=4))\nparallel_interleave\nread_dataset", "body": "  ```python\r\n  # Preprocess 4 files concurrently.\r\n  filenames = tf.data.Dataset.list_files(\"/path/to/data/train*.tfrecords\")\r\n  dataset = filenames.apply(\r\n      tf.contrib.data.parallel_interleave(\r\n          lambda filename: tf.data.TFRecordDataset(filename),\r\n          cycle_length=4))\r\n  ```\r\n[parallel_interleave](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/data/python/ops/interleave_ops.py#L35)\r\n[read_dataset](https://github.com/tensorflow/models/blob/master/research/object_detection/utils/dataset_util.py#L106)"}