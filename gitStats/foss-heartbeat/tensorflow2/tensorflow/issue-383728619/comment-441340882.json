{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/441340882", "html_url": "https://github.com/tensorflow/tensorflow/issues/23935#issuecomment-441340882", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23935", "id": 441340882, "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTM0MDg4Mg==", "user": {"login": "KylePiira", "id": 17210104, "node_id": "MDQ6VXNlcjE3MjEwMTA0", "avatar_url": "https://avatars2.githubusercontent.com/u/17210104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KylePiira", "html_url": "https://github.com/KylePiira", "followers_url": "https://api.github.com/users/KylePiira/followers", "following_url": "https://api.github.com/users/KylePiira/following{/other_user}", "gists_url": "https://api.github.com/users/KylePiira/gists{/gist_id}", "starred_url": "https://api.github.com/users/KylePiira/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KylePiira/subscriptions", "organizations_url": "https://api.github.com/users/KylePiira/orgs", "repos_url": "https://api.github.com/users/KylePiira/repos", "events_url": "https://api.github.com/users/KylePiira/events{/privacy}", "received_events_url": "https://api.github.com/users/KylePiira/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-24T03:35:16Z", "updated_at": "2018-11-24T03:44:29Z", "author_association": "NONE", "body_html": "<p>I tried</p>\n<ul>\n<li>reinstalling the Nvidia driver with <code>sudo apt install nvidia-driver --reinstall</code></li>\n<li>installing a older version with <code>sudo apt install nvidia-legacy-390xx-driver</code>.</li>\n</ul>\n<p>However, neither of those solutions worked.</p>\n<p>Since this is likely an issue specific to Debian's build of the 390.x driver series and hopefully will be fixed in a future update, I've decided to implement a quick hack on my end.</p>\n<p>At boot systemd will run the following bash script as root. This fixes the issue for all users on the system.</p>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"><span class=\"pl-c\">#!</span>/bin/bash</span>\n<span class=\"pl-k\">export</span> LD_LIBRARY_PATH=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">$LD_LIBRARY_PATH</span>:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> CUDA_HOME=/usr/local/cuda\npython -c <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>import tensorflow as tf; tf.Session()<span class=\"pl-pds\">\"</span></span></pre></div>", "body_text": "I tried\n\nreinstalling the Nvidia driver with sudo apt install nvidia-driver --reinstall\ninstalling a older version with sudo apt install nvidia-legacy-390xx-driver.\n\nHowever, neither of those solutions worked.\nSince this is likely an issue specific to Debian's build of the 390.x driver series and hopefully will be fixed in a future update, I've decided to implement a quick hack on my end.\nAt boot systemd will run the following bash script as root. This fixes the issue for all users on the system.\n#!/bin/bash\nexport LD_LIBRARY_PATH=\"$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64\"\nexport CUDA_HOME=/usr/local/cuda\npython -c \"import tensorflow as tf; tf.Session()\"", "body": "I tried \r\n* reinstalling the Nvidia driver with `sudo apt install nvidia-driver --reinstall` \r\n* installing a older version with `sudo apt install nvidia-legacy-390xx-driver`. \r\n\r\nHowever, neither of those solutions worked. \r\n\r\nSince this is likely an issue specific to Debian's build of the 390.x driver series and hopefully will be fixed in a future update, I've decided to implement a quick hack on my end. \r\n\r\nAt boot systemd will run the following bash script as root. This fixes the issue for all users on the system.\r\n```bash\r\n#!/bin/bash\r\nexport LD_LIBRARY_PATH=\"$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64\"\r\nexport CUDA_HOME=/usr/local/cuda\r\npython -c \"import tensorflow as tf; tf.Session()\"\r\n```"}