{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6783", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6783/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6783/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6783/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6783", "id": 200019454, "node_id": "MDU6SXNzdWUyMDAwMTk0NTQ=", "number": 6783, "title": "TensorFlow GPU, CUDA_ERROR_LAUNCH_FAILED on tf.one_hot()", "user": {"login": "luzi82", "id": 48815, "node_id": "MDQ6VXNlcjQ4ODE1", "avatar_url": "https://avatars1.githubusercontent.com/u/48815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luzi82", "html_url": "https://github.com/luzi82", "followers_url": "https://api.github.com/users/luzi82/followers", "following_url": "https://api.github.com/users/luzi82/following{/other_user}", "gists_url": "https://api.github.com/users/luzi82/gists{/gist_id}", "starred_url": "https://api.github.com/users/luzi82/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luzi82/subscriptions", "organizations_url": "https://api.github.com/users/luzi82/orgs", "repos_url": "https://api.github.com/users/luzi82/repos", "events_url": "https://api.github.com/users/luzi82/events{/privacy}", "received_events_url": "https://api.github.com/users/luzi82/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-11T07:11:20Z", "updated_at": "2017-01-13T23:17:07Z", "closed_at": "2017-01-13T22:10:19Z", "author_association": "NONE", "body_html": "<p>Use tf.one_hot() on Windows 10, GPU, Nvidia 970.  Error CUDA_ERROR_LAUNCH_FAILED happens.</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>I have post an issue in <a href=\"http://stackoverflow.com/questions/41115476/tensorflow-gpu-cuda-error-launch-failed-on-tf-one-hot\" rel=\"nofollow\">http://stackoverflow.com/questions/41115476/tensorflow-gpu-cuda-error-launch-failed-on-tf-one-hot</a> .  No solution found.  More people report the same issue.</p>\n<h3>Environment info</h3>\n<ul>\n<li>TensorFlow 0.12.0-rc1</li>\n<li>Python 3.5</li>\n<li>CUDA 8.0</li>\n<li>cuDNN 5.1</li>\n<li>OS: Windows 10</li>\n<li>GPU: GeForce GTX 970</li>\n</ul>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<pre><code>import tensorflow as tf\nidx_0 = tf.placeholder(tf.int64, [None])\nmask = tf.one_hot(idx_0, 3, axis=-1)\nsess = tf.Session()\nsess.run(tf.global_variables_initializer())\na = sess.run([mask],feed_dict={idx_0:[0,1,2]})\nprint(a)\n</code></pre>\n<h3>What other attempted solutions have you tried?</h3>\n<ol>\n<li>Run the code in same machine, Linux, GPU.  No error.</li>\n<li>Run the code in same machine, Windows, CPU.  No error.</li>\n</ol>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>\n<pre><code>E c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1177] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_FAILED :: No stack trace available\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_FAILED\nF c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_util.cc:370] GPU sync failed\n</code></pre>", "body_text": "Use tf.one_hot() on Windows 10, GPU, Nvidia 970.  Error CUDA_ERROR_LAUNCH_FAILED happens.\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nI have post an issue in http://stackoverflow.com/questions/41115476/tensorflow-gpu-cuda-error-launch-failed-on-tf-one-hot .  No solution found.  More people report the same issue.\nEnvironment info\n\nTensorFlow 0.12.0-rc1\nPython 3.5\nCUDA 8.0\ncuDNN 5.1\nOS: Windows 10\nGPU: GeForce GTX 970\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nimport tensorflow as tf\nidx_0 = tf.placeholder(tf.int64, [None])\nmask = tf.one_hot(idx_0, 3, axis=-1)\nsess = tf.Session()\nsess.run(tf.global_variables_initializer())\na = sess.run([mask],feed_dict={idx_0:[0,1,2]})\nprint(a)\n\nWhat other attempted solutions have you tried?\n\nRun the code in same machine, Linux, GPU.  No error.\nRun the code in same machine, Windows, CPU.  No error.\n\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1177] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_FAILED :: No stack trace available\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_FAILED\nF c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_util.cc:370] GPU sync failed", "body": "Use tf.one_hot() on Windows 10, GPU, Nvidia 970.  Error CUDA_ERROR_LAUNCH_FAILED happens.\r\n\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\r\nI have post an issue in http://stackoverflow.com/questions/41115476/tensorflow-gpu-cuda-error-launch-failed-on-tf-one-hot .  No solution found.  More people report the same issue.\r\n\r\n### Environment info\r\n\r\n- TensorFlow 0.12.0-rc1\r\n- Python 3.5\r\n- CUDA 8.0\r\n- cuDNN 5.1\r\n- OS: Windows 10\r\n- GPU: GeForce GTX 970\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\n\r\n```\r\nimport tensorflow as tf\r\nidx_0 = tf.placeholder(tf.int64, [None])\r\nmask = tf.one_hot(idx_0, 3, axis=-1)\r\nsess = tf.Session()\r\nsess.run(tf.global_variables_initializer())\r\na = sess.run([mask],feed_dict={idx_0:[0,1,2]})\r\nprint(a)\r\n```\r\n\r\n### What other attempted solutions have you tried?\r\n\r\n1. Run the code in same machine, Linux, GPU.  No error.\r\n2. Run the code in same machine, Windows, CPU.  No error.\r\n\r\n### Logs or other output that would be helpful\r\n(If logs are large, please upload as attachment or provide link).\r\n\r\n```\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_driver.cc:1177] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_FAILED :: No stack trace available\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_FAILED\r\nF c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_util.cc:370] GPU sync failed\r\n```"}