{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11210", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11210/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11210/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11210/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11210", "id": 239975171, "node_id": "MDU6SXNzdWUyMzk5NzUxNzE=", "number": 11210, "title": "Tensorflow execution with HVX failed on Qualcomm 820 Board", "user": {"login": "amirjamez", "id": 8922398, "node_id": "MDQ6VXNlcjg5MjIzOTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8922398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirjamez", "html_url": "https://github.com/amirjamez", "followers_url": "https://api.github.com/users/amirjamez/followers", "following_url": "https://api.github.com/users/amirjamez/following{/other_user}", "gists_url": "https://api.github.com/users/amirjamez/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirjamez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirjamez/subscriptions", "organizations_url": "https://api.github.com/users/amirjamez/orgs", "repos_url": "https://api.github.com/users/amirjamez/repos", "events_url": "https://api.github.com/users/amirjamez/events{/privacy}", "received_events_url": "https://api.github.com/users/amirjamez/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-07-01T22:10:32Z", "updated_at": "2017-07-05T17:23:15Z", "closed_at": "2017-07-05T17:23:15Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20085789\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/satok16\">@satok16</a> could you have a look at this error?</p>\n<p>I have built the libs and am using Intrinsys 820 Qualcomm board. Tried your troubleshooting procedure to sign as well and put the .so file in <code>/system/lib/rfsa/adsp/</code>. Running hexagon graph gives me the same error :</p>\n<pre><code>WARNING: linker: Warning: unable to normalize \"\"\nRunning main() from test_main.cc\nNote: Google Test filter = GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from GraphTransferer\n[ RUN      ] GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime\nnative : hexagon_graph_execution_test.cc:445 Fuse and run inception v3 on hexagon with tf runtime\ntensorflow/core/kernels/hexagon/hexagon_graph_execution_test.cc:72: Failure\nExpected: (version) &gt;= (1), actual: 0 vs 1\nnative : hexagon_graph_execution_test.cc:123 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes\nnative : hexagon_graph_execution_test.cc:129 header size = 54\nnative : hexagon_graph_execution_test.cc:131 image size = 40\nnative : hexagon_graph_execution_test.cc:133 width = 299\nnative : hexagon_graph_execution_test.cc:135 height = -299\nnative : hexagon_graph_execution_test.cc:457 Ioading image finished.\nnative : hexagon_graph_execution_test.cc:464 Build fused graph\ncan't determine number of CPU cores: assuming 4\ncan't determine number of CPU cores: assuming 4\nnative : hexagon_graph_execution_test.cc:123 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes\nnative : hexagon_graph_execution_test.cc:129 header size = 54\nnative : hexagon_graph_execution_test.cc:131 image size = 40\nnative : hexagon_graph_execution_test.cc:133 width = 299\nnative : hexagon_graph_execution_test.cc:135 height = -299\nnative : hexagon_graph_execution_test.cc:263 Ioading image finished.\nnative : hexagon_graph_execution_test.cc:171 Ioading image finished.\nnative : hexagon_graph_execution_test.cc:175 Copy data to tensor.\nnative : hexagon_graph_execution_test.cc:284 Run graph\nInit hexagon with max attributes (Controller version = 92)\nFailed to disable DSP DCVS: ffffffff\n\nFailed to append const node 65538\nFailed to append const node 65538\nFailed to append const node 65539\nFailed to append const node 65539\n\n</code></pre>\n<p><code>... </code></p>\n<pre><code>Failed to append const node 66640\nnative : hexagon_control_wrapper.cc:252 Setup graph completed\nPrepare failed! returned 0xffffffff\n\nDUMP HEXAGON LOG: \nExecute graph!\nExecution failed!\nexecute got err: -1\n\nExecution failed\nnative : hexagon_control_wrapper.cc:312 Check failed: output_tensor-&gt;TotalBytes() &gt;= std::get&lt;1&gt;(output) 4032, 2152910848\nAborted \n\n</code></pre>\n<p>I have attached my adblogcat output as well here. Thanks.<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/1117450/logcat.txt\">logcat.txt</a></p>", "body_text": "@satok16 could you have a look at this error?\nI have built the libs and am using Intrinsys 820 Qualcomm board. Tried your troubleshooting procedure to sign as well and put the .so file in /system/lib/rfsa/adsp/. Running hexagon graph gives me the same error :\nWARNING: linker: Warning: unable to normalize \"\"\nRunning main() from test_main.cc\nNote: Google Test filter = GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from GraphTransferer\n[ RUN      ] GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime\nnative : hexagon_graph_execution_test.cc:445 Fuse and run inception v3 on hexagon with tf runtime\ntensorflow/core/kernels/hexagon/hexagon_graph_execution_test.cc:72: Failure\nExpected: (version) >= (1), actual: 0 vs 1\nnative : hexagon_graph_execution_test.cc:123 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes\nnative : hexagon_graph_execution_test.cc:129 header size = 54\nnative : hexagon_graph_execution_test.cc:131 image size = 40\nnative : hexagon_graph_execution_test.cc:133 width = 299\nnative : hexagon_graph_execution_test.cc:135 height = -299\nnative : hexagon_graph_execution_test.cc:457 Ioading image finished.\nnative : hexagon_graph_execution_test.cc:464 Build fused graph\ncan't determine number of CPU cores: assuming 4\ncan't determine number of CPU cores: assuming 4\nnative : hexagon_graph_execution_test.cc:123 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes\nnative : hexagon_graph_execution_test.cc:129 header size = 54\nnative : hexagon_graph_execution_test.cc:131 image size = 40\nnative : hexagon_graph_execution_test.cc:133 width = 299\nnative : hexagon_graph_execution_test.cc:135 height = -299\nnative : hexagon_graph_execution_test.cc:263 Ioading image finished.\nnative : hexagon_graph_execution_test.cc:171 Ioading image finished.\nnative : hexagon_graph_execution_test.cc:175 Copy data to tensor.\nnative : hexagon_graph_execution_test.cc:284 Run graph\nInit hexagon with max attributes (Controller version = 92)\nFailed to disable DSP DCVS: ffffffff\n\nFailed to append const node 65538\nFailed to append const node 65538\nFailed to append const node 65539\nFailed to append const node 65539\n\n\n... \nFailed to append const node 66640\nnative : hexagon_control_wrapper.cc:252 Setup graph completed\nPrepare failed! returned 0xffffffff\n\nDUMP HEXAGON LOG: \nExecute graph!\nExecution failed!\nexecute got err: -1\n\nExecution failed\nnative : hexagon_control_wrapper.cc:312 Check failed: output_tensor->TotalBytes() >= std::get<1>(output) 4032, 2152910848\nAborted \n\n\nI have attached my adblogcat output as well here. Thanks.\nlogcat.txt", "body": "@satok16 could you have a look at this error? \r\n\r\nI have built the libs and am using Intrinsys 820 Qualcomm board. Tried your troubleshooting procedure to sign as well and put the .so file in `/system/lib/rfsa/adsp/`. Running hexagon graph gives me the same error : \r\n\r\n```\r\nWARNING: linker: Warning: unable to normalize \"\"\r\nRunning main() from test_main.cc\r\nNote: Google Test filter = GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime\r\n[==========] Running 1 test from 1 test case.\r\n[----------] Global test environment set-up.\r\n[----------] 1 test from GraphTransferer\r\n[ RUN      ] GraphTransferer.RunInceptionV3OnHexagonExampleWithTfRuntime\r\nnative : hexagon_graph_execution_test.cc:445 Fuse and run inception v3 on hexagon with tf runtime\r\ntensorflow/core/kernels/hexagon/hexagon_graph_execution_test.cc:72: Failure\r\nExpected: (version) >= (1), actual: 0 vs 1\r\nnative : hexagon_graph_execution_test.cc:123 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes\r\nnative : hexagon_graph_execution_test.cc:129 header size = 54\r\nnative : hexagon_graph_execution_test.cc:131 image size = 40\r\nnative : hexagon_graph_execution_test.cc:133 width = 299\r\nnative : hexagon_graph_execution_test.cc:135 height = -299\r\nnative : hexagon_graph_execution_test.cc:457 Ioading image finished.\r\nnative : hexagon_graph_execution_test.cc:464 Build fused graph\r\ncan't determine number of CPU cores: assuming 4\r\ncan't determine number of CPU cores: assuming 4\r\nnative : hexagon_graph_execution_test.cc:123 Read /data/local/tmp/img_299x299.bmp, size = 269156bytes\r\nnative : hexagon_graph_execution_test.cc:129 header size = 54\r\nnative : hexagon_graph_execution_test.cc:131 image size = 40\r\nnative : hexagon_graph_execution_test.cc:133 width = 299\r\nnative : hexagon_graph_execution_test.cc:135 height = -299\r\nnative : hexagon_graph_execution_test.cc:263 Ioading image finished.\r\nnative : hexagon_graph_execution_test.cc:171 Ioading image finished.\r\nnative : hexagon_graph_execution_test.cc:175 Copy data to tensor.\r\nnative : hexagon_graph_execution_test.cc:284 Run graph\r\nInit hexagon with max attributes (Controller version = 92)\r\nFailed to disable DSP DCVS: ffffffff\r\n\r\nFailed to append const node 65538\r\nFailed to append const node 65538\r\nFailed to append const node 65539\r\nFailed to append const node 65539\r\n\r\n```\r\n`...\r\n`\r\n```\r\nFailed to append const node 66640\r\nnative : hexagon_control_wrapper.cc:252 Setup graph completed\r\nPrepare failed! returned 0xffffffff\r\n\r\nDUMP HEXAGON LOG: \r\nExecute graph!\r\nExecution failed!\r\nexecute got err: -1\r\n\r\nExecution failed\r\nnative : hexagon_control_wrapper.cc:312 Check failed: output_tensor->TotalBytes() >= std::get<1>(output) 4032, 2152910848\r\nAborted \r\n\r\n```\r\nI have attached my adblogcat output as well here. Thanks.\r\n[logcat.txt](https://github.com/tensorflow/tensorflow/files/1117450/logcat.txt)\r\n\r\n"}