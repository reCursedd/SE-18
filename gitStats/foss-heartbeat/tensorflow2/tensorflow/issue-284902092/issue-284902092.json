{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15689", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15689/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15689/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15689/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15689", "id": 284902092, "node_id": "MDU6SXNzdWUyODQ5MDIwOTI=", "number": 15689, "title": "TensorFlowInferenceInterface: readNodeFloat error", "user": {"login": "shreyas-7", "id": 27310144, "node_id": "MDQ6VXNlcjI3MzEwMTQ0", "avatar_url": "https://avatars2.githubusercontent.com/u/27310144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shreyas-7", "html_url": "https://github.com/shreyas-7", "followers_url": "https://api.github.com/users/shreyas-7/followers", "following_url": "https://api.github.com/users/shreyas-7/following{/other_user}", "gists_url": "https://api.github.com/users/shreyas-7/gists{/gist_id}", "starred_url": "https://api.github.com/users/shreyas-7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shreyas-7/subscriptions", "organizations_url": "https://api.github.com/users/shreyas-7/orgs", "repos_url": "https://api.github.com/users/shreyas-7/repos", "events_url": "https://api.github.com/users/shreyas-7/events{/privacy}", "received_events_url": "https://api.github.com/users/shreyas-7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-28T12:08:09Z", "updated_at": "2017-12-29T02:56:55Z", "closed_at": "2017-12-29T02:56:55Z", "author_association": "NONE", "body_html": "<p>This is part of my Tensorflow frozen graph, I have named the input and output nodes.</p>\n<pre><code>&gt;&gt;&gt; g.ParseFromString(open('frozen_graph.pb','rb').read())\n&gt;&gt;&gt; g\nnode {\n  name: \"input\"\n  op: \"Placeholder\"\n  attr {\n    key: \"dtype\"\n    value {\n      type: DT_FLOAT\n    }\n  }\n  attr {\n    key: \"shape\"\n    value {\n      shape {\n        dim {\n          size: -1\n        }\n        dim {\n          size: 68\n        }\n      }\n    }\n  }\n}\n...\nnode {\n  name: \"output\"\n  op: \"Softmax\"\n  input: \"add\"\n  attr {\n    key: \"T\"\n    value {\n      type: DT_FLOAT\n    }\n  }\n}\n</code></pre>\n<p>I ran this model by the following code<br>\n(CELL is name of directory where my file is located)</p>\n<pre><code>final String MODEL_FILE = \"file:///android_asset/\" + CELL + \"/optimized_graph.pb\" ;\nfinal String INPUT_NODE = \"input\" ;\nfinal String OUTPUT_NODE = \"output\" ;\nfinal int[] INPUT_SIZE = {1,68} ;\nfloat[] RESULT = new float[8];\n\ninferenceInterface = new TensorFlowInferenceInterface();\ninferenceInterface.initializeTensorFlow(getAssets(),MODEL_FILE) ;\ninferenceInterface.fillNodeFloat(INPUT_NODE,INPUT_SIZE,input);\n</code></pre>\n<p>and finally</p>\n<pre><code>inferenceInterface.readNodeFloat(OUTPUT_NODE,RESULT);\n</code></pre>\n<p>But I get this error in Log</p>\n<pre><code>12-28 16:42:48.622 9890-12178/com.getfocus.signalsimilarity I/native: tensorflow_inference_jni.cc:151 Initialization done in 52.275ms\n12-28 16:42:51.048 9890-12178/com.getfocus.signalsimilarity E/native: tensorflow_inference_jni.cc:170 Output [output] not found, aborting!\n</code></pre>\n<p>I have searched a lot for the solution but nothing seems to solve this. Thanks in advance</p>", "body_text": "This is part of my Tensorflow frozen graph, I have named the input and output nodes.\n>>> g.ParseFromString(open('frozen_graph.pb','rb').read())\n>>> g\nnode {\n  name: \"input\"\n  op: \"Placeholder\"\n  attr {\n    key: \"dtype\"\n    value {\n      type: DT_FLOAT\n    }\n  }\n  attr {\n    key: \"shape\"\n    value {\n      shape {\n        dim {\n          size: -1\n        }\n        dim {\n          size: 68\n        }\n      }\n    }\n  }\n}\n...\nnode {\n  name: \"output\"\n  op: \"Softmax\"\n  input: \"add\"\n  attr {\n    key: \"T\"\n    value {\n      type: DT_FLOAT\n    }\n  }\n}\n\nI ran this model by the following code\n(CELL is name of directory where my file is located)\nfinal String MODEL_FILE = \"file:///android_asset/\" + CELL + \"/optimized_graph.pb\" ;\nfinal String INPUT_NODE = \"input\" ;\nfinal String OUTPUT_NODE = \"output\" ;\nfinal int[] INPUT_SIZE = {1,68} ;\nfloat[] RESULT = new float[8];\n\ninferenceInterface = new TensorFlowInferenceInterface();\ninferenceInterface.initializeTensorFlow(getAssets(),MODEL_FILE) ;\ninferenceInterface.fillNodeFloat(INPUT_NODE,INPUT_SIZE,input);\n\nand finally\ninferenceInterface.readNodeFloat(OUTPUT_NODE,RESULT);\n\nBut I get this error in Log\n12-28 16:42:48.622 9890-12178/com.getfocus.signalsimilarity I/native: tensorflow_inference_jni.cc:151 Initialization done in 52.275ms\n12-28 16:42:51.048 9890-12178/com.getfocus.signalsimilarity E/native: tensorflow_inference_jni.cc:170 Output [output] not found, aborting!\n\nI have searched a lot for the solution but nothing seems to solve this. Thanks in advance", "body": "This is part of my Tensorflow frozen graph, I have named the input and output nodes.\r\n\r\n    >>> g.ParseFromString(open('frozen_graph.pb','rb').read())\r\n    >>> g\r\n    node {\r\n      name: \"input\"\r\n      op: \"Placeholder\"\r\n      attr {\r\n        key: \"dtype\"\r\n        value {\r\n          type: DT_FLOAT\r\n        }\r\n      }\r\n      attr {\r\n        key: \"shape\"\r\n        value {\r\n          shape {\r\n            dim {\r\n              size: -1\r\n            }\r\n            dim {\r\n              size: 68\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    ...\r\n    node {\r\n      name: \"output\"\r\n      op: \"Softmax\"\r\n      input: \"add\"\r\n      attr {\r\n        key: \"T\"\r\n        value {\r\n          type: DT_FLOAT\r\n        }\r\n      }\r\n    }\r\n\r\nI ran this model by the following code\r\n(CELL is name of directory where my file is located)\r\n\r\n    final String MODEL_FILE = \"file:///android_asset/\" + CELL + \"/optimized_graph.pb\" ;\r\n    final String INPUT_NODE = \"input\" ;\r\n    final String OUTPUT_NODE = \"output\" ;\r\n    final int[] INPUT_SIZE = {1,68} ;\r\n    float[] RESULT = new float[8];\r\n    \r\n    inferenceInterface = new TensorFlowInferenceInterface();\r\n    inferenceInterface.initializeTensorFlow(getAssets(),MODEL_FILE) ;\r\n    inferenceInterface.fillNodeFloat(INPUT_NODE,INPUT_SIZE,input);\r\n\r\nand finally\r\n\r\n    inferenceInterface.readNodeFloat(OUTPUT_NODE,RESULT);\r\n\r\n\r\nBut I get this error in Log\r\n\r\n    12-28 16:42:48.622 9890-12178/com.getfocus.signalsimilarity I/native: tensorflow_inference_jni.cc:151 Initialization done in 52.275ms\r\n    12-28 16:42:51.048 9890-12178/com.getfocus.signalsimilarity E/native: tensorflow_inference_jni.cc:170 Output [output] not found, aborting!\r\n\r\n\r\nI have searched a lot for the solution but nothing seems to solve this. Thanks in advance"}