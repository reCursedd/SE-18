{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4296", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4296/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4296/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4296/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4296", "id": 175994966, "node_id": "MDU6SXNzdWUxNzU5OTQ5NjY=", "number": 4296, "title": "Grid RNN Cell does not support dynamic batch sizes", "user": {"login": "StefOe", "id": 22097918, "node_id": "MDQ6VXNlcjIyMDk3OTE4", "avatar_url": "https://avatars3.githubusercontent.com/u/22097918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StefOe", "html_url": "https://github.com/StefOe", "followers_url": "https://api.github.com/users/StefOe/followers", "following_url": "https://api.github.com/users/StefOe/following{/other_user}", "gists_url": "https://api.github.com/users/StefOe/gists{/gist_id}", "starred_url": "https://api.github.com/users/StefOe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StefOe/subscriptions", "organizations_url": "https://api.github.com/users/StefOe/orgs", "repos_url": "https://api.github.com/users/StefOe/repos", "events_url": "https://api.github.com/users/StefOe/events{/privacy}", "received_events_url": "https://api.github.com/users/StefOe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-09-09T12:16:08Z", "updated_at": "2017-04-26T18:51:15Z", "closed_at": "2017-04-26T18:51:15Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p><a href=\"http://stackoverflow.com/questions/38442025/tensorflow-grid-lstm-rnn-typeerror\" rel=\"nofollow\">http://stackoverflow.com/questions/38442025/tensorflow-grid-lstm-rnn-typeerror</a></p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nUbuntu 16.04 LTS (GNU/Linux 4.4.0-31-generic x86_64)</p>\n<p>Installed version of CUDA and cuDNN:<br>\n-rw-r--r-- 1 root root   322936 Sep 19  2015 /usr/lib/x86_64-linux-gnu/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root       16 M\u00e4r 30 14:25 /usr/lib/x86_64-linux-gnu/libcudart.so -&gt; libcudart.so.7.5<br>\nlrwxrwxrwx 1 root root       19 M\u00e4r 30 14:25 /usr/lib/x86_64-linux-gnu/libcudart.so.7.5 -&gt; libcudart.so.7.5.18<br>\n-rw-r--r-- 1 root root   383336 Sep 19  2015 /usr/lib/x86_64-linux-gnu/libcudart.so.7.5.18<br>\n-rw-r--r-- 1 root root   720192 Sep 19  2015 /usr/lib/x86_64-linux-gnu/libcudart_static.a<br>\nlrwxrwxrwx 1 root root       12 Apr 14 17:53 /usr/lib/x86_64-linux-gnu/libcuda.so -&gt; libcuda.so.1<br>\nlrwxrwxrwx 1 root root       17 Apr 14 17:53 /usr/lib/x86_64-linux-gnu/libcuda.so.1 -&gt; libcuda.so.361.42<br>\n-rw-r--r-- 1 root root 16881416 M\u00e4r 23 01:42 /usr/lib/x86_64-linux-gnu/libcuda.so.361.42<br>\nlrwxrwxrwx 1 root root       13 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn.so -&gt; libcudnn.so.4<br>\nlrwxrwxrwx 1 root root       17 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn.so.4 -&gt; libcudnn.so.4.0.7<br>\n-rwxr-xr-x 1 root root 61453024 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn.so.4.0.7<br>\n-rw-r--r-- 1 root root 62025862 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn_static.a</p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed:<br>\n<a href=\"https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp35-cp35m-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp35-cp35m-linux_x86_64.whl</a></li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>: '0.10.0rc0'</li>\n</ol>\n<h3>What other attempted solutions have you tried?</h3>\n<p>changed file tensorflow/tensorflow/contrib/grid_rnn/python/ops/grid_rnn_cell.py:</p>\n<pre><code>  # project input\n  if inputs is not None and sum(inputs.get_shape().as_list()) &gt; 0 and len(\n      conf.inputs) &gt; 0:\n</code></pre>\n<p>to:</p>\n<pre><code>  # project input\n  if inputs is not None and inputs.get_shape()[1] &gt; 0 and len(\n      conf.inputs) &gt; 0:\n</code></pre>\n<p>fixed the issue, but I'm not sure if it is the intended behavior</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>if not changed the following error occurs:</p>\n<p>*** TypeError: unsupported operand type(s) for +: 'int' and 'NoneType'</p>\n<p>-&gt; probably because of sum(inputs.get_shape().as_list())</p>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nhttp://stackoverflow.com/questions/38442025/tensorflow-grid-lstm-rnn-typeerror\nEnvironment info\nOperating System:\nUbuntu 16.04 LTS (GNU/Linux 4.4.0-31-generic x86_64)\nInstalled version of CUDA and cuDNN:\n-rw-r--r-- 1 root root   322936 Sep 19  2015 /usr/lib/x86_64-linux-gnu/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 M\u00e4r 30 14:25 /usr/lib/x86_64-linux-gnu/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root       19 M\u00e4r 30 14:25 /usr/lib/x86_64-linux-gnu/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rw-r--r-- 1 root root   383336 Sep 19  2015 /usr/lib/x86_64-linux-gnu/libcudart.so.7.5.18\n-rw-r--r-- 1 root root   720192 Sep 19  2015 /usr/lib/x86_64-linux-gnu/libcudart_static.a\nlrwxrwxrwx 1 root root       12 Apr 14 17:53 /usr/lib/x86_64-linux-gnu/libcuda.so -> libcuda.so.1\nlrwxrwxrwx 1 root root       17 Apr 14 17:53 /usr/lib/x86_64-linux-gnu/libcuda.so.1 -> libcuda.so.361.42\n-rw-r--r-- 1 root root 16881416 M\u00e4r 23 01:42 /usr/lib/x86_64-linux-gnu/libcuda.so.361.42\nlrwxrwxrwx 1 root root       13 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn.so -> libcudnn.so.4\nlrwxrwxrwx 1 root root       17 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn.so.4 -> libcudnn.so.4.0.7\n-rwxr-xr-x 1 root root 61453024 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn.so.4.0.7\n-rw-r--r-- 1 root root 62025862 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn_static.a\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed:\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp35-cp35m-linux_x86_64.whl\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\": '0.10.0rc0'\n\nWhat other attempted solutions have you tried?\nchanged file tensorflow/tensorflow/contrib/grid_rnn/python/ops/grid_rnn_cell.py:\n  # project input\n  if inputs is not None and sum(inputs.get_shape().as_list()) > 0 and len(\n      conf.inputs) > 0:\n\nto:\n  # project input\n  if inputs is not None and inputs.get_shape()[1] > 0 and len(\n      conf.inputs) > 0:\n\nfixed the issue, but I'm not sure if it is the intended behavior\nLogs or other output that would be helpful\nif not changed the following error occurs:\n*** TypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\n-> probably because of sum(inputs.get_shape().as_list())", "body": "### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\n\nhttp://stackoverflow.com/questions/38442025/tensorflow-grid-lstm-rnn-typeerror\n### Environment info\n\nOperating System: \nUbuntu 16.04 LTS (GNU/Linux 4.4.0-31-generic x86_64)\n\nInstalled version of CUDA and cuDNN: \n-rw-r--r-- 1 root root   322936 Sep 19  2015 /usr/lib/x86_64-linux-gnu/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 M\u00e4r 30 14:25 /usr/lib/x86_64-linux-gnu/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root       19 M\u00e4r 30 14:25 /usr/lib/x86_64-linux-gnu/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rw-r--r-- 1 root root   383336 Sep 19  2015 /usr/lib/x86_64-linux-gnu/libcudart.so.7.5.18\n-rw-r--r-- 1 root root   720192 Sep 19  2015 /usr/lib/x86_64-linux-gnu/libcudart_static.a\nlrwxrwxrwx 1 root root       12 Apr 14 17:53 /usr/lib/x86_64-linux-gnu/libcuda.so -> libcuda.so.1\nlrwxrwxrwx 1 root root       17 Apr 14 17:53 /usr/lib/x86_64-linux-gnu/libcuda.so.1 -> libcuda.so.361.42\n-rw-r--r-- 1 root root 16881416 M\u00e4r 23 01:42 /usr/lib/x86_64-linux-gnu/libcuda.so.361.42\nlrwxrwxrwx 1 root root       13 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn.so -> libcudnn.so.4\nlrwxrwxrwx 1 root root       17 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn.so.4 -> libcudnn.so.4.0.7\n-rwxr-xr-x 1 root root 61453024 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn.so.4.0.7\n-rw-r--r-- 1 root root 62025862 Aug 31 13:32 /usr/lib/x86_64-linux-gnu/libcudnn_static.a\n\nIf installed from binary pip package, provide:\n1. A link to the pip package you installed:\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp35-cp35m-linux_x86_64.whl\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`: '0.10.0rc0'\n### What other attempted solutions have you tried?\n\nchanged file tensorflow/tensorflow/contrib/grid_rnn/python/ops/grid_rnn_cell.py:\n\n```\n  # project input\n  if inputs is not None and sum(inputs.get_shape().as_list()) > 0 and len(\n      conf.inputs) > 0:\n```\n\nto:\n\n```\n  # project input\n  if inputs is not None and inputs.get_shape()[1] > 0 and len(\n      conf.inputs) > 0:\n```\n\nfixed the issue, but I'm not sure if it is the intended behavior\n### Logs or other output that would be helpful\n\nif not changed the following error occurs:\n\n**\\* TypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\n\n-> probably because of sum(inputs.get_shape().as_list())\n"}