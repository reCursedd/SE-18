{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/219768342", "html_url": "https://github.com/tensorflow/tensorflow/pull/1759#issuecomment-219768342", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1759", "id": 219768342, "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTc2ODM0Mg==", "user": {"login": "lukemetz", "id": 1248454, "node_id": "MDQ6VXNlcjEyNDg0NTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1248454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukemetz", "html_url": "https://github.com/lukemetz", "followers_url": "https://api.github.com/users/lukemetz/followers", "following_url": "https://api.github.com/users/lukemetz/following{/other_user}", "gists_url": "https://api.github.com/users/lukemetz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukemetz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukemetz/subscriptions", "organizations_url": "https://api.github.com/users/lukemetz/orgs", "repos_url": "https://api.github.com/users/lukemetz/repos", "events_url": "https://api.github.com/users/lukemetz/events{/privacy}", "received_events_url": "https://api.github.com/users/lukemetz/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-17T16:09:16Z", "updated_at": "2016-05-17T16:23:47Z", "author_association": "NONE", "body_html": "<p>Thanks for trying this out <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22658588\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/MetaP\">@MetaP</a>. Sorry things didn't go so well. I guess I was a little to hasty in my latest update...</p>\n<ol>\n<li>Yep forgot to update doc string and will proof.</li>\n<li>noted and will fix.</li>\n<li>cudnn only supports large-ish (1e-4) epsilon. There should be check for this in the op but as to the actual value that is out of my control.</li>\n<li>Not sure what is going on here. My guess is my miss use of the temporary memory allocator when allocating temp variables for running_mean and running_inv_var. I will look into it.</li>\n</ol>\n<p>Finally, about the gradients, I thought I had a test in place to ensure that they were correct. I guess I assumed that there gradient testing utilities were a bit too magical. Are the gradients incorrect or are they just Nones?</p>", "body_text": "Thanks for trying this out @MetaP. Sorry things didn't go so well. I guess I was a little to hasty in my latest update...\n\nYep forgot to update doc string and will proof.\nnoted and will fix.\ncudnn only supports large-ish (1e-4) epsilon. There should be check for this in the op but as to the actual value that is out of my control.\nNot sure what is going on here. My guess is my miss use of the temporary memory allocator when allocating temp variables for running_mean and running_inv_var. I will look into it.\n\nFinally, about the gradients, I thought I had a test in place to ensure that they were correct. I guess I assumed that there gradient testing utilities were a bit too magical. Are the gradients incorrect or are they just Nones?", "body": "Thanks for trying this out @metap. Sorry things didn't go so well. I guess I was a little to hasty in my latest update...\n1. Yep forgot to update doc string and will proof.\n2. noted and will fix.\n3. cudnn only supports large-ish (1e-4) epsilon. There should be check for this in the op but as to the actual value that is out of my control.\n4. Not sure what is going on here. My guess is my miss use of the temporary memory allocator when allocating temp variables for running_mean and running_inv_var. I will look into it.\n\nFinally, about the gradients, I thought I had a test in place to ensure that they were correct. I guess I assumed that there gradient testing utilities were a bit too magical. Are the gradients incorrect or are they just Nones?\n"}