{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/395933663", "html_url": "https://github.com/tensorflow/tensorflow/issues/18102#issuecomment-395933663", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18102", "id": 395933663, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTkzMzY2Mw==", "user": {"login": "rjpower", "id": 607207, "node_id": "MDQ6VXNlcjYwNzIwNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/607207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjpower", "html_url": "https://github.com/rjpower", "followers_url": "https://api.github.com/users/rjpower/followers", "following_url": "https://api.github.com/users/rjpower/following{/other_user}", "gists_url": "https://api.github.com/users/rjpower/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjpower/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjpower/subscriptions", "organizations_url": "https://api.github.com/users/rjpower/orgs", "repos_url": "https://api.github.com/users/rjpower/repos", "events_url": "https://api.github.com/users/rjpower/events{/privacy}", "received_events_url": "https://api.github.com/users/rjpower/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-09T02:38:27Z", "updated_at": "2018-06-09T02:38:27Z", "author_association": "CONTRIBUTOR", "body_html": "<p>This behavior is expected for TPUs.  The XLA compiler (which is used to compile TPU programs), requires all tensors in a graph to have static shapes.  In this case, the default Keras RNN behavior results in a loop with dynamic shape since TensorFlow cannot, in general, infer the number of iterations taken by a while loop.</p>\n<p>(The error message can likely be improved)</p>\n<p>In TF 1.9, you can specify a maximum input length using the <code>input_length</code> argument to your RNN/LSTM instead of unrolling the network.</p>", "body_text": "This behavior is expected for TPUs.  The XLA compiler (which is used to compile TPU programs), requires all tensors in a graph to have static shapes.  In this case, the default Keras RNN behavior results in a loop with dynamic shape since TensorFlow cannot, in general, infer the number of iterations taken by a while loop.\n(The error message can likely be improved)\nIn TF 1.9, you can specify a maximum input length using the input_length argument to your RNN/LSTM instead of unrolling the network.", "body": "This behavior is expected for TPUs.  The XLA compiler (which is used to compile TPU programs), requires all tensors in a graph to have static shapes.  In this case, the default Keras RNN behavior results in a loop with dynamic shape since TensorFlow cannot, in general, infer the number of iterations taken by a while loop.\r\n\r\n(The error message can likely be improved)\r\n\r\nIn TF 1.9, you can specify a maximum input length using the `input_length` argument to your RNN/LSTM instead of unrolling the network."}