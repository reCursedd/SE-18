{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/388915559", "html_url": "https://github.com/tensorflow/tensorflow/issues/19268#issuecomment-388915559", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19268", "id": 388915559, "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODkxNTU1OQ==", "user": {"login": "achalshah20", "id": 9772589, "node_id": "MDQ6VXNlcjk3NzI1ODk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9772589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achalshah20", "html_url": "https://github.com/achalshah20", "followers_url": "https://api.github.com/users/achalshah20/followers", "following_url": "https://api.github.com/users/achalshah20/following{/other_user}", "gists_url": "https://api.github.com/users/achalshah20/gists{/gist_id}", "starred_url": "https://api.github.com/users/achalshah20/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achalshah20/subscriptions", "organizations_url": "https://api.github.com/users/achalshah20/orgs", "repos_url": "https://api.github.com/users/achalshah20/repos", "events_url": "https://api.github.com/users/achalshah20/events{/privacy}", "received_events_url": "https://api.github.com/users/achalshah20/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-14T18:24:45Z", "updated_at": "2018-05-21T18:49:51Z", "author_association": "CONTRIBUTOR", "body_html": "<p>It seems like your checkpoint files are corrupted. You can save again or try this out. I have been using below code for freezing my models.</p>\n<pre><code>import sys\nimport tensorflow as tf\nfrom tensorflow.python.tools import freeze_graph\n\nMODEL_NAME = 'your_model'\n\n# Freeze the graph\n\ninput_graph_path = MODEL_NAME+'.pbtxt'\ncheckpoint_path = 'checkpoint/model.ckpt' # From checkpoint.txt\ninput_saver_def_path = \"\"\ninput_binary = False\noutput_node_names = \"outnode\" #output node name\nrestore_op_name = \"save/restore_all\"\nfilename_tensor_name = \"save/Const:0\"\noutput_frozen_graph_name = 'frozen_'+MODEL_NAME+'.pb'\nclear_devices = True\n\n\nfreeze_graph.freeze_graph(input_graph_path, input_saver_def_path,\n                          input_binary, checkpoint_path, output_node_names,\n                          restore_op_name, filename_tensor_name,\n                          output_frozen_graph_name, clear_devices, \"\")\n</code></pre>", "body_text": "It seems like your checkpoint files are corrupted. You can save again or try this out. I have been using below code for freezing my models.\nimport sys\nimport tensorflow as tf\nfrom tensorflow.python.tools import freeze_graph\n\nMODEL_NAME = 'your_model'\n\n# Freeze the graph\n\ninput_graph_path = MODEL_NAME+'.pbtxt'\ncheckpoint_path = 'checkpoint/model.ckpt' # From checkpoint.txt\ninput_saver_def_path = \"\"\ninput_binary = False\noutput_node_names = \"outnode\" #output node name\nrestore_op_name = \"save/restore_all\"\nfilename_tensor_name = \"save/Const:0\"\noutput_frozen_graph_name = 'frozen_'+MODEL_NAME+'.pb'\nclear_devices = True\n\n\nfreeze_graph.freeze_graph(input_graph_path, input_saver_def_path,\n                          input_binary, checkpoint_path, output_node_names,\n                          restore_op_name, filename_tensor_name,\n                          output_frozen_graph_name, clear_devices, \"\")", "body": "It seems like your checkpoint files are corrupted. You can save again or try this out. I have been using below code for freezing my models. \r\n\r\n```\r\nimport sys\r\nimport tensorflow as tf\r\nfrom tensorflow.python.tools import freeze_graph\r\n\r\nMODEL_NAME = 'your_model'\r\n\r\n# Freeze the graph\r\n\r\ninput_graph_path = MODEL_NAME+'.pbtxt'\r\ncheckpoint_path = 'checkpoint/model.ckpt' # From checkpoint.txt\r\ninput_saver_def_path = \"\"\r\ninput_binary = False\r\noutput_node_names = \"outnode\" #output node name\r\nrestore_op_name = \"save/restore_all\"\r\nfilename_tensor_name = \"save/Const:0\"\r\noutput_frozen_graph_name = 'frozen_'+MODEL_NAME+'.pb'\r\nclear_devices = True\r\n\r\n\r\nfreeze_graph.freeze_graph(input_graph_path, input_saver_def_path,\r\n                          input_binary, checkpoint_path, output_node_names,\r\n                          restore_op_name, filename_tensor_name,\r\n                          output_frozen_graph_name, clear_devices, \"\")\r\n```\r\n"}