{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/346222931", "html_url": "https://github.com/tensorflow/tensorflow/issues/14688#issuecomment-346222931", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14688", "id": 346222931, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjIyMjkzMQ==", "user": {"login": "huanyingjun", "id": 29744812, "node_id": "MDQ6VXNlcjI5NzQ0ODEy", "avatar_url": "https://avatars3.githubusercontent.com/u/29744812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huanyingjun", "html_url": "https://github.com/huanyingjun", "followers_url": "https://api.github.com/users/huanyingjun/followers", "following_url": "https://api.github.com/users/huanyingjun/following{/other_user}", "gists_url": "https://api.github.com/users/huanyingjun/gists{/gist_id}", "starred_url": "https://api.github.com/users/huanyingjun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huanyingjun/subscriptions", "organizations_url": "https://api.github.com/users/huanyingjun/orgs", "repos_url": "https://api.github.com/users/huanyingjun/repos", "events_url": "https://api.github.com/users/huanyingjun/events{/privacy}", "received_events_url": "https://api.github.com/users/huanyingjun/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-22T02:18:21Z", "updated_at": "2017-11-22T02:18:21Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5521465\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/shaurya0\">@shaurya0</a><br>\nI tried with your method, I can successfully build the libtensorflow-lite.a.<br>\nBut when I link libtensorflow-lite.a with my test binary, a lot of errors</p>\n<p>[armeabi-v7a] Executable     : test_tflite<br>\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::FindOp(char const*) const: error: undefined reference to 'std::_Hash_bytes(void const*, unsigned int, unsigned int)'<br>\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::BuiltinOpResolver(): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_next_bkt(unsigned int) const'<br>\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::BuiltinOpResolver(): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_next_bkt(unsigned int) const'<br>\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::AddCustom(char const*, TfLiteRegistration*): error: undefined reference to 'std::_Hash_bytes(void const*, unsigned int, unsigned int)'<br>\njni/libtensorflow-lite.a(register.o):register.cc:function std::_Hashtable&lt;tflite::BuiltinOperator, std::pair&lt;tflite::BuiltinOperator const, TfLiteRegistration*&gt;, std::allocator&lt;std::pair&lt;tflite::BuiltinOperator const, TfLiteRegistration*&gt; &gt;, std::__detail::_Select1st, std::equal_totflite::BuiltinOperator, tflite::ops::builtin::BuiltinOpResolver::BuiltinOperatorHasher, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;true, false, true&gt; &gt;::_M_insert_unique_node(unsigned int, unsigned int, std::__detail::_Hash_node&lt;std::pair&lt;tflite::BuiltinOperator const, TfLiteRegistration*&gt;, true&gt;<em>): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_need_rehash(unsigned int, unsigned int, unsigned int) const'<br>\njni/libtensorflow-lite.a(register.o):register.cc:function std::_Hashtable&lt;std::string, std::pair&lt;std::string const, TfLiteRegistration</em>&gt;, std::allocator&lt;std::pair&lt;std::string const, TfLiteRegistration*&gt; &gt;, std::__detail::_Select1st, std::equal_tostd::string, std::hashstd::string, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;true, false, true&gt; &gt;::_M_insert_unique_node(unsigned int, unsigned int, std::__detail::_Hash_node&lt;std::pair&lt;std::string const, TfLiteRegistration*&gt;, true&gt;<em>): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_need_rehash(unsigned int, unsigned int, unsigned int) const'<br>\njni/libtensorflow-lite.a(svdf.o):svdf.cc:function _GLOBAL__sub_I_svdf.cc: error: undefined reference to 'std::ios_base::Init::Init()'<br>\njni/libtensorflow-lite.a(svdf.o):svdf.cc:function _GLOBAL__sub_I_svdf.cc: error: undefined reference to 'std::ios_base::Init::~Init()'<br>\njni/libtensorflow-lite.a(nnapi_delegate.o):nnapi_delegate.cc:function tflite::addTensorOperands(tflite::Interpreter</em>, ANeuralNetworksModel*): error: undefined reference to '__dynamic_cast'<br>\njni/libtensorflow-lite.a(simple_memory_arena.o):simple_memory_arena.cc:function tflite::SimpleMemoryArena::Allocate(TfLiteContext*, unsigned int, unsigned int, tflite::ArenaAlloc*): error: undefined reference to 'std::__detail::_List_node_base::_M_hook(std::__detail::_List_node_base*)'<br>\njni/libtensorflow-lite.a(simple_memory_arena.o):simple_memory_arena.cc:function tflite::SimpleMemoryArena::Deallocate(TfLiteContext*, tflite::ArenaAlloc const&amp;): error: undefined reference to 'std::__detail::_List_node_base::_M_unhook()'<br>\njni/libtensorflow-lite.a(embedding_lookup.o):embedding_lookup.cc:function _GLOBAL__sub_I_embedding_lookup.cc: error: undefined reference to 'std::ios_base::Init::Init()'<br>\njni/libtensorflow-lite.a(embedding_lookup.o):embedding_lookup.cc:function _GLOBAL__sub_I_embedding_lookup.cc: error: undefined reference to 'std::ios_base::Init::~Init()'<br>\njni/libtensorflow-lite.a(hashtable_lookup.o):hashtable_lookup.cc:function _GLOBAL__sub_I_hashtable_lookup.cc: error: undefined reference to 'std::ios_base::Init::Init()'<br>\njni/libtensorflow-lite.a(hashtable_lookup.o):hashtable_lookup.cc:function _GLOBAL__sub_I_hashtable_lookup.cc: error: undefined reference to 'std::ios_base::Init::~Init()'<br>\njni/libtensorflow-lite.a(lstm.o):lstm.cc:function _GLOBAL__sub_I_lstm.cc: error: undefined reference to 'std::ios_base::Init::Init()'<br>\njni/libtensorflow-lite.a(lstm.o):lstm.cc:function _GLOBAL__sub_I_lstm.cc: error: undefined reference to 'std::ios_base::Init::~Init()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::Barrier::Notify() [clone .part.60]: error: undefined reference to 'std::condition_variable::notify_all()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::Barrier::Notify() [clone .part.60]: error: undefined reference to 'std::condition_variable::notify_all()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::condition_variable()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::condition_variable()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::~condition_variable()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::thread::_M_start_thread(std::shared_ptrstd::thread::_Impl_base)'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::~condition_variable()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function std::_Function_handler&lt;void (int, int), EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&amp;, std::function&lt;int (int)&gt;, std::function&lt;void (int, int)&gt;) const::{lambda(int, int)<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a>}&gt;::_M_invoke(std::_Any_data const&amp;, int, int): error: undefined reference to 'std::condition_variable::notify_all()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function std::_Function_handler&lt;void (int, int), EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&amp;, std::function&lt;int (int)&gt;, std::function&lt;void (int, int)&gt;) const::{lambda(int, int)<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a>}&gt;::_M_invoke(std::_Any_data const&amp;, int, int): error: undefined reference to 'std::condition_variable::notify_all()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::EventCount::Unpark(EigenForTFLite::EventCount::Waiter*) [clone .isra.58]: error: undefined reference to 'std::condition_variable::notify_one()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTemplEigenForTFLite::StlThreadEnvironment::~NonBlockingThreadPoolTempl(): error: undefined reference to 'std::thread::join()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTemplEigenForTFLite::StlThreadEnvironment::~NonBlockingThreadPoolTempl(): error: undefined reference to 'std::condition_variable::~condition_variable()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::Barrier::Wait(): error: undefined reference to 'std::condition_variable::wait(std::unique_lockstd::mutex&amp;)'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&amp;, std::function&lt;int (int)&gt;, std::function&lt;void (int, int)&gt;) const: error: undefined reference to 'std::condition_variable::condition_variable()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&amp;, std::function&lt;int (int)&gt;, std::function&lt;void (int, int)&gt;) const: error: undefined reference to 'std::condition_variable::~condition_variable()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTemplEigenForTFLite::StlThreadEnvironment::WaitForWork(EigenForTFLite::EventCount::Waiter*, EigenForTFLite::StlThreadEnvironment::Task*): error: undefined reference to 'std::condition_variable::wait(std::unique_lockstd::mutex&amp;)'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTemplEigenForTFLite::StlThreadEnvironment::WorkerLoop(int): error: undefined reference to 'std::_Hash_bytes(void const*, unsigned int, unsigned int)'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:function void EigenForTFLite::TensorEvaluator&lt;EigenForTFLite::TensorContractionOp&lt;std::array&lt;EigenForTFLite::IndexPair, 1u&gt; const, EigenForTFLite::TensorMap&lt;EigenForTFLite::Tensor&lt;float const, 2, 1, int&gt;, 16, EigenForTFLite::MakePointer&gt; const, EigenForTFLite::TensorMap&lt;EigenForTFLite::Tensor&lt;float const, 2, 1, int&gt;, 16, EigenForTFLite::MakePointer&gt; const&gt; const, EigenForTFLite::ThreadPoolDevice&gt;::evalProduct&lt;true, true, false, 0&gt;(float*) const: error: undefined reference to 'std::condition_variable::condition_variable()'<br>\njni/libtensorflow-lite.a(conv.o):conv.cc:typeinfo for int (int): error: undefined reference to 'vtable for __cxxabiv1::__function_type_info'</p>", "body_text": "@shaurya0\nI tried with your method, I can successfully build the libtensorflow-lite.a.\nBut when I link libtensorflow-lite.a with my test binary, a lot of errors\n[armeabi-v7a] Executable     : test_tflite\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::FindOp(char const*) const: error: undefined reference to 'std::_Hash_bytes(void const*, unsigned int, unsigned int)'\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::BuiltinOpResolver(): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_next_bkt(unsigned int) const'\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::BuiltinOpResolver(): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_next_bkt(unsigned int) const'\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::AddCustom(char const*, TfLiteRegistration*): error: undefined reference to 'std::_Hash_bytes(void const*, unsigned int, unsigned int)'\njni/libtensorflow-lite.a(register.o):register.cc:function std::_Hashtable<tflite::BuiltinOperator, std::pair<tflite::BuiltinOperator const, TfLiteRegistration*>, std::allocator<std::pair<tflite::BuiltinOperator const, TfLiteRegistration*> >, std::__detail::_Select1st, std::equal_totflite::BuiltinOperator, tflite::ops::builtin::BuiltinOpResolver::BuiltinOperatorHasher, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_insert_unique_node(unsigned int, unsigned int, std::__detail::_Hash_node<std::pair<tflite::BuiltinOperator const, TfLiteRegistration*>, true>): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_need_rehash(unsigned int, unsigned int, unsigned int) const'\njni/libtensorflow-lite.a(register.o):register.cc:function std::_Hashtable<std::string, std::pair<std::string const, TfLiteRegistration>, std::allocator<std::pair<std::string const, TfLiteRegistration*> >, std::__detail::_Select1st, std::equal_tostd::string, std::hashstd::string, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_insert_unique_node(unsigned int, unsigned int, std::__detail::_Hash_node<std::pair<std::string const, TfLiteRegistration*>, true>): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_need_rehash(unsigned int, unsigned int, unsigned int) const'\njni/libtensorflow-lite.a(svdf.o):svdf.cc:function _GLOBAL__sub_I_svdf.cc: error: undefined reference to 'std::ios_base::Init::Init()'\njni/libtensorflow-lite.a(svdf.o):svdf.cc:function _GLOBAL__sub_I_svdf.cc: error: undefined reference to 'std::ios_base::Init::~Init()'\njni/libtensorflow-lite.a(nnapi_delegate.o):nnapi_delegate.cc:function tflite::addTensorOperands(tflite::Interpreter, ANeuralNetworksModel*): error: undefined reference to '__dynamic_cast'\njni/libtensorflow-lite.a(simple_memory_arena.o):simple_memory_arena.cc:function tflite::SimpleMemoryArena::Allocate(TfLiteContext*, unsigned int, unsigned int, tflite::ArenaAlloc*): error: undefined reference to 'std::__detail::_List_node_base::_M_hook(std::__detail::_List_node_base*)'\njni/libtensorflow-lite.a(simple_memory_arena.o):simple_memory_arena.cc:function tflite::SimpleMemoryArena::Deallocate(TfLiteContext*, tflite::ArenaAlloc const&): error: undefined reference to 'std::__detail::_List_node_base::_M_unhook()'\njni/libtensorflow-lite.a(embedding_lookup.o):embedding_lookup.cc:function _GLOBAL__sub_I_embedding_lookup.cc: error: undefined reference to 'std::ios_base::Init::Init()'\njni/libtensorflow-lite.a(embedding_lookup.o):embedding_lookup.cc:function _GLOBAL__sub_I_embedding_lookup.cc: error: undefined reference to 'std::ios_base::Init::~Init()'\njni/libtensorflow-lite.a(hashtable_lookup.o):hashtable_lookup.cc:function _GLOBAL__sub_I_hashtable_lookup.cc: error: undefined reference to 'std::ios_base::Init::Init()'\njni/libtensorflow-lite.a(hashtable_lookup.o):hashtable_lookup.cc:function _GLOBAL__sub_I_hashtable_lookup.cc: error: undefined reference to 'std::ios_base::Init::~Init()'\njni/libtensorflow-lite.a(lstm.o):lstm.cc:function _GLOBAL__sub_I_lstm.cc: error: undefined reference to 'std::ios_base::Init::Init()'\njni/libtensorflow-lite.a(lstm.o):lstm.cc:function _GLOBAL__sub_I_lstm.cc: error: undefined reference to 'std::ios_base::Init::~Init()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::Barrier::Notify() [clone .part.60]: error: undefined reference to 'std::condition_variable::notify_all()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::Barrier::Notify() [clone .part.60]: error: undefined reference to 'std::condition_variable::notify_all()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::condition_variable()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::condition_variable()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::~condition_variable()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::thread::_M_start_thread(std::shared_ptrstd::thread::_Impl_base)'\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::~condition_variable()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function std::_Function_handler<void (int, int), EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&, std::function<int (int)>, std::function<void (int, int)>) const::{lambda(int, int)#1}>::_M_invoke(std::_Any_data const&, int, int): error: undefined reference to 'std::condition_variable::notify_all()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function std::_Function_handler<void (int, int), EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&, std::function<int (int)>, std::function<void (int, int)>) const::{lambda(int, int)#1}>::_M_invoke(std::_Any_data const&, int, int): error: undefined reference to 'std::condition_variable::notify_all()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::EventCount::Unpark(EigenForTFLite::EventCount::Waiter*) [clone .isra.58]: error: undefined reference to 'std::condition_variable::notify_one()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTemplEigenForTFLite::StlThreadEnvironment::~NonBlockingThreadPoolTempl(): error: undefined reference to 'std::thread::join()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTemplEigenForTFLite::StlThreadEnvironment::~NonBlockingThreadPoolTempl(): error: undefined reference to 'std::condition_variable::~condition_variable()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::Barrier::Wait(): error: undefined reference to 'std::condition_variable::wait(std::unique_lockstd::mutex&)'\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&, std::function<int (int)>, std::function<void (int, int)>) const: error: undefined reference to 'std::condition_variable::condition_variable()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&, std::function<int (int)>, std::function<void (int, int)>) const: error: undefined reference to 'std::condition_variable::~condition_variable()'\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTemplEigenForTFLite::StlThreadEnvironment::WaitForWork(EigenForTFLite::EventCount::Waiter*, EigenForTFLite::StlThreadEnvironment::Task*): error: undefined reference to 'std::condition_variable::wait(std::unique_lockstd::mutex&)'\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTemplEigenForTFLite::StlThreadEnvironment::WorkerLoop(int): error: undefined reference to 'std::_Hash_bytes(void const*, unsigned int, unsigned int)'\njni/libtensorflow-lite.a(conv.o):conv.cc:function void EigenForTFLite::TensorEvaluator<EigenForTFLite::TensorContractionOp<std::array<EigenForTFLite::IndexPair, 1u> const, EigenForTFLite::TensorMap<EigenForTFLite::Tensor<float const, 2, 1, int>, 16, EigenForTFLite::MakePointer> const, EigenForTFLite::TensorMap<EigenForTFLite::Tensor<float const, 2, 1, int>, 16, EigenForTFLite::MakePointer> const> const, EigenForTFLite::ThreadPoolDevice>::evalProduct<true, true, false, 0>(float*) const: error: undefined reference to 'std::condition_variable::condition_variable()'\njni/libtensorflow-lite.a(conv.o):conv.cc:typeinfo for int (int): error: undefined reference to 'vtable for __cxxabiv1::__function_type_info'", "body": "@shaurya0  \r\nI tried with your method, I can successfully build the libtensorflow-lite.a.\r\nBut when I link libtensorflow-lite.a with my test binary, a lot of errors\r\n\r\n\r\n[armeabi-v7a] Executable     : test_tflite\r\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::FindOp(char const*) const: error: undefined reference to 'std::_Hash_bytes(void const*, unsigned int, unsigned int)'\r\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::BuiltinOpResolver(): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_next_bkt(unsigned int) const'\r\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::BuiltinOpResolver(): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_next_bkt(unsigned int) const'\r\njni/libtensorflow-lite.a(register.o):register.cc:function tflite::ops::builtin::BuiltinOpResolver::AddCustom(char const*, TfLiteRegistration*): error: undefined reference to 'std::_Hash_bytes(void const*, unsigned int, unsigned int)'\r\njni/libtensorflow-lite.a(register.o):register.cc:function std::_Hashtable<tflite::BuiltinOperator, std::pair<tflite::BuiltinOperator const, TfLiteRegistration*>, std::allocator<std::pair<tflite::BuiltinOperator const, TfLiteRegistration*> >, std::__detail::_Select1st, std::equal_to<tflite::BuiltinOperator>, tflite::ops::builtin::BuiltinOpResolver::BuiltinOperatorHasher, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_insert_unique_node(unsigned int, unsigned int, std::__detail::_Hash_node<std::pair<tflite::BuiltinOperator const, TfLiteRegistration*>, true>*): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_need_rehash(unsigned int, unsigned int, unsigned int) const'\r\njni/libtensorflow-lite.a(register.o):register.cc:function std::_Hashtable<std::string, std::pair<std::string const, TfLiteRegistration*>, std::allocator<std::pair<std::string const, TfLiteRegistration*> >, std::__detail::_Select1st, std::equal_to<std::string>, std::hash<std::string>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_insert_unique_node(unsigned int, unsigned int, std::__detail::_Hash_node<std::pair<std::string const, TfLiteRegistration*>, true>*): error: undefined reference to 'std::__detail::_Prime_rehash_policy::_M_need_rehash(unsigned int, unsigned int, unsigned int) const'\r\njni/libtensorflow-lite.a(svdf.o):svdf.cc:function _GLOBAL__sub_I_svdf.cc: error: undefined reference to 'std::ios_base::Init::Init()'\r\njni/libtensorflow-lite.a(svdf.o):svdf.cc:function _GLOBAL__sub_I_svdf.cc: error: undefined reference to 'std::ios_base::Init::~Init()'\r\njni/libtensorflow-lite.a(nnapi_delegate.o):nnapi_delegate.cc:function tflite::addTensorOperands(tflite::Interpreter*, ANeuralNetworksModel*): error: undefined reference to '__dynamic_cast'\r\njni/libtensorflow-lite.a(simple_memory_arena.o):simple_memory_arena.cc:function tflite::SimpleMemoryArena::Allocate(TfLiteContext*, unsigned int, unsigned int, tflite::ArenaAlloc*): error: undefined reference to 'std::__detail::_List_node_base::_M_hook(std::__detail::_List_node_base*)'\r\njni/libtensorflow-lite.a(simple_memory_arena.o):simple_memory_arena.cc:function tflite::SimpleMemoryArena::Deallocate(TfLiteContext*, tflite::ArenaAlloc const&): error: undefined reference to 'std::__detail::_List_node_base::_M_unhook()'\r\njni/libtensorflow-lite.a(embedding_lookup.o):embedding_lookup.cc:function _GLOBAL__sub_I_embedding_lookup.cc: error: undefined reference to 'std::ios_base::Init::Init()'\r\njni/libtensorflow-lite.a(embedding_lookup.o):embedding_lookup.cc:function _GLOBAL__sub_I_embedding_lookup.cc: error: undefined reference to 'std::ios_base::Init::~Init()'\r\njni/libtensorflow-lite.a(hashtable_lookup.o):hashtable_lookup.cc:function _GLOBAL__sub_I_hashtable_lookup.cc: error: undefined reference to 'std::ios_base::Init::Init()'\r\njni/libtensorflow-lite.a(hashtable_lookup.o):hashtable_lookup.cc:function _GLOBAL__sub_I_hashtable_lookup.cc: error: undefined reference to 'std::ios_base::Init::~Init()'\r\njni/libtensorflow-lite.a(lstm.o):lstm.cc:function _GLOBAL__sub_I_lstm.cc: error: undefined reference to 'std::ios_base::Init::Init()'\r\njni/libtensorflow-lite.a(lstm.o):lstm.cc:function _GLOBAL__sub_I_lstm.cc: error: undefined reference to 'std::ios_base::Init::~Init()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::Barrier::Notify() [clone .part.60]: error: undefined reference to 'std::condition_variable::notify_all()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::Barrier::Notify() [clone .part.60]: error: undefined reference to 'std::condition_variable::notify_all()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::condition_variable()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::condition_variable()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::~condition_variable()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::thread::_M_start_thread(std::shared_ptr<std::thread::_Impl_base>)'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function tflite::multithreaded_ops::GetThreadPoolDevice(): error: undefined reference to 'std::condition_variable::~condition_variable()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function std::_Function_handler<void (int, int), EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&, std::function<int (int)>, std::function<void (int, int)>) const::{lambda(int, int)#1}>::_M_invoke(std::_Any_data const&, int, int): error: undefined reference to 'std::condition_variable::notify_all()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function std::_Function_handler<void (int, int), EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&, std::function<int (int)>, std::function<void (int, int)>) const::{lambda(int, int)#1}>::_M_invoke(std::_Any_data const&, int, int): error: undefined reference to 'std::condition_variable::notify_all()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::EventCount::Unpark(EigenForTFLite::EventCount::Waiter*) [clone .isra.58]: error: undefined reference to 'std::condition_variable::notify_one()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTempl<EigenForTFLite::StlThreadEnvironment>::~NonBlockingThreadPoolTempl(): error: undefined reference to 'std::thread::join()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTempl<EigenForTFLite::StlThreadEnvironment>::~NonBlockingThreadPoolTempl(): error: undefined reference to 'std::condition_variable::~condition_variable()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::Barrier::Wait(): error: undefined reference to 'std::condition_variable::wait(std::unique_lock<std::mutex>&)'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&, std::function<int (int)>, std::function<void (int, int)>) const: error: undefined reference to 'std::condition_variable::condition_variable()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::ThreadPoolDevice::parallelFor(int, EigenForTFLite::TensorOpCost const&, std::function<int (int)>, std::function<void (int, int)>) const: error: undefined reference to 'std::condition_variable::~condition_variable()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTempl<EigenForTFLite::StlThreadEnvironment>::WaitForWork(EigenForTFLite::EventCount::Waiter*, EigenForTFLite::StlThreadEnvironment::Task*): error: undefined reference to 'std::condition_variable::wait(std::unique_lock<std::mutex>&)'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function EigenForTFLite::NonBlockingThreadPoolTempl<EigenForTFLite::StlThreadEnvironment>::WorkerLoop(int): error: undefined reference to 'std::_Hash_bytes(void const*, unsigned int, unsigned int)'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:function void EigenForTFLite::TensorEvaluator<EigenForTFLite::TensorContractionOp<std::array<EigenForTFLite::IndexPair<int>, 1u> const, EigenForTFLite::TensorMap<EigenForTFLite::Tensor<float const, 2, 1, int>, 16, EigenForTFLite::MakePointer> const, EigenForTFLite::TensorMap<EigenForTFLite::Tensor<float const, 2, 1, int>, 16, EigenForTFLite::MakePointer> const> const, EigenForTFLite::ThreadPoolDevice>::evalProduct<true, true, false, 0>(float*) const: error: undefined reference to 'std::condition_variable::condition_variable()'\r\njni/libtensorflow-lite.a(conv.o):conv.cc:typeinfo for int (int): error: undefined reference to 'vtable for __cxxabiv1::__function_type_info'\r\n"}