{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/318701108", "html_url": "https://github.com/tensorflow/tensorflow/issues/11803#issuecomment-318701108", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11803", "id": 318701108, "node_id": "MDEyOklzc3VlQ29tbWVudDMxODcwMTEwOA==", "user": {"login": "prb12", "id": 11547801, "node_id": "MDQ6VXNlcjExNTQ3ODAx", "avatar_url": "https://avatars1.githubusercontent.com/u/11547801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prb12", "html_url": "https://github.com/prb12", "followers_url": "https://api.github.com/users/prb12/followers", "following_url": "https://api.github.com/users/prb12/following{/other_user}", "gists_url": "https://api.github.com/users/prb12/gists{/gist_id}", "starred_url": "https://api.github.com/users/prb12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prb12/subscriptions", "organizations_url": "https://api.github.com/users/prb12/orgs", "repos_url": "https://api.github.com/users/prb12/repos", "events_url": "https://api.github.com/users/prb12/events{/privacy}", "received_events_url": "https://api.github.com/users/prb12/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-28T16:32:14Z", "updated_at": "2017-07-28T16:32:14Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1290076\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/laket\">@laket</a> Thanks for the issue report and the clear investigation.  I agree that it looks like the tracing buffers aren't getting flushed.</p>\n<p>The docs on <code>cuptiActivtyFlushAll</code> are a bit vague about what those flags mean and we have been running without <code>CUPTI_ACTIVITY_FLAG_FLUSH_FORCED</code> for a long time without seeing this issue.  I guess something has changed in recent driver versions,</p>\n<p>I don't see a description of what <code>CUPTI_ACTIVITY_FLAG_FORCE_INT</code> does, only a definition as <code>0x7fffffff</code>.   Internal?  Interrupt?</p>\n<p>Does this work for you with the \"documented\" flag?</p>", "body_text": "@laket Thanks for the issue report and the clear investigation.  I agree that it looks like the tracing buffers aren't getting flushed.\nThe docs on cuptiActivtyFlushAll are a bit vague about what those flags mean and we have been running without CUPTI_ACTIVITY_FLAG_FLUSH_FORCED for a long time without seeing this issue.  I guess something has changed in recent driver versions,\nI don't see a description of what CUPTI_ACTIVITY_FLAG_FORCE_INT does, only a definition as 0x7fffffff.   Internal?  Interrupt?\nDoes this work for you with the \"documented\" flag?", "body": "@laket Thanks for the issue report and the clear investigation.  I agree that it looks like the tracing buffers aren't getting flushed.\r\n\r\nThe docs on `cuptiActivtyFlushAll` are a bit vague about what those flags mean and we have been running without `CUPTI_ACTIVITY_FLAG_FLUSH_FORCED` for a long time without seeing this issue.  I guess something has changed in recent driver versions, \r\n\r\nI don't see a description of what `CUPTI_ACTIVITY_FLAG_FORCE_INT` does, only a definition as `0x7fffffff`.   Internal?  Interrupt? \r\n\r\nDoes this work for you with the \"documented\" flag?  "}