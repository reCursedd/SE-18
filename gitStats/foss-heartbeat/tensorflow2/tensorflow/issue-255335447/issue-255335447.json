{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12824", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12824/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12824/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12824/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12824", "id": 255335447, "node_id": "MDU6SXNzdWUyNTUzMzU0NDc=", "number": 12824, "title": "Apparent Segmentation Violation with Go API", "user": {"login": "jamiebaggott", "id": 12777748, "node_id": "MDQ6VXNlcjEyNzc3NzQ4", "avatar_url": "https://avatars2.githubusercontent.com/u/12777748?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamiebaggott", "html_url": "https://github.com/jamiebaggott", "followers_url": "https://api.github.com/users/jamiebaggott/followers", "following_url": "https://api.github.com/users/jamiebaggott/following{/other_user}", "gists_url": "https://api.github.com/users/jamiebaggott/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamiebaggott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamiebaggott/subscriptions", "organizations_url": "https://api.github.com/users/jamiebaggott/orgs", "repos_url": "https://api.github.com/users/jamiebaggott/repos", "events_url": "https://api.github.com/users/jamiebaggott/events{/privacy}", "received_events_url": "https://api.github.com/users/jamiebaggott/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-09-05T16:25:36Z", "updated_at": "2018-03-20T18:47:48Z", "closed_at": "2018-03-20T18:47:48Z", "author_association": "NONE", "body_html": "<p>Hi, I am trying to build a project that will take multiple URLs, download their images, and then use TensorFlow and the InceptionV3 pre-trained model to perform image recognition. For this, I am using the Go API. Most of the time, this process occurs without an issue, but every now and again an error occurs. I think this may be caused by a bug in TensorFlow as it appears to being thrown from the c code.</p>\n<p>A sample of the code that I am using is below. In case it is relevant, I run ProcessImage from different workers concurrently. This obviously means that the tfSession variable is shared between different threads. However, I don't think this is the problem as I have tried having each worker create and use its own session, and the error still occurs.</p>\n<div class=\"highlight highlight-source-go\"><pre><span class=\"pl-k\">var</span> <span class=\"pl-smi\">tfSession</span> *tf.<span class=\"pl-smi\">Session</span>\n<span class=\"pl-k\">var</span> <span class=\"pl-smi\">modelGraph</span>, <span class=\"pl-smi\">normaliseGraph</span> *tf.<span class=\"pl-smi\">Graph</span>\n<span class=\"pl-k\">var</span> <span class=\"pl-smi\">normaliseInput</span>, <span class=\"pl-smi\">normaliseOutput</span> tf.<span class=\"pl-smi\">Output</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\"> * Sets up resources that can be shared by each request.</span>\n<span class=\"pl-c\"> <span class=\"pl-c\">*/</span></span>\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">init</span>() {\n  <span class=\"pl-smi\">model</span>, <span class=\"pl-smi\">_</span> <span class=\"pl-k\">:=</span> ioutil.<span class=\"pl-c1\">ReadFile</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>inception3/inception_v3_2016_08_28_frozen.pb<span class=\"pl-pds\">\"</span></span>)\n  modelGraph = tf.<span class=\"pl-c1\">NewGraph</span>()\n  modelGraph.<span class=\"pl-c1\">Import</span>(model, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>)\n  tfSession, _ = tf.<span class=\"pl-c1\">NewSession</span>(modelGraph, <span class=\"pl-c1\">nil</span>)\n  normaliseGraph, normaliseInput, normaliseOutput = <span class=\"pl-c1\">ConstructNormaliseGraph</span>()\n}\n\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\"> * Processes the image and returns the probabilities of each label.</span>\n<span class=\"pl-c\"> <span class=\"pl-c\">*/</span></span>\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">ProcessImage</span>(<span class=\"pl-v\">url</span> <span class=\"pl-v\">string</span>) []<span class=\"pl-v\">float32</span> {\n  <span class=\"pl-smi\">tensor</span>, <span class=\"pl-smi\">okay</span> <span class=\"pl-k\">:=</span> <span class=\"pl-c1\">MakeTensorFromImage</span>(url)\n  <span class=\"pl-k\">if</span> !okay {\n    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">nil</span>\n  }\n\n  <span class=\"pl-smi\">output</span>, <span class=\"pl-smi\">err</span> <span class=\"pl-k\">:=</span> tfSession.<span class=\"pl-c1\">Run</span>(\n    <span class=\"pl-k\">map</span>[tf.<span class=\"pl-smi\">Output</span>]*tf.<span class=\"pl-smi\">Tensor</span>{\n      modelGraph.<span class=\"pl-c1\">Operation</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>input<span class=\"pl-pds\">\"</span></span>).<span class=\"pl-c1\">Output</span>(<span class=\"pl-c1\">0</span>): tensor,\n    },\n    []tf.<span class=\"pl-smi\">Output</span>{\n      modelGraph.<span class=\"pl-c1\">Operation</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>InceptionV3/Predictions/Reshape_1<span class=\"pl-pds\">\"</span></span>).<span class=\"pl-c1\">Output</span>(<span class=\"pl-c1\">0</span>),\n    },\n    <span class=\"pl-c1\">nil</span>)\n  <span class=\"pl-k\">if</span> err != <span class=\"pl-c1\">nil</span> {\n    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">nil</span>\n  }\n\n  <span class=\"pl-k\">return</span> output[<span class=\"pl-c1\">0</span>].<span class=\"pl-c1\">Value</span>().([][]<span class=\"pl-k\">float32</span>)[<span class=\"pl-c1\">0</span>]\n}\n\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\"> * Constructs graph used to normalise image to required dimensions.</span>\n<span class=\"pl-c\"> <span class=\"pl-c\">*/</span></span>\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">ConstructNormaliseGraph</span>() (<span class=\"pl-v\">graph</span> *<span class=\"pl-v\">tf</span>.<span class=\"pl-v\">Graph</span>, <span class=\"pl-v\">input</span>, <span class=\"pl-v\">output</span> <span class=\"pl-v\">tf</span>.<span class=\"pl-v\">Output</span>) {\n  <span class=\"pl-smi\">s</span> <span class=\"pl-k\">:=</span> op.<span class=\"pl-c1\">NewScope</span>()\n  input = op.<span class=\"pl-c1\">Placeholder</span>(s, tf.<span class=\"pl-smi\">String</span>)\n  output = op.<span class=\"pl-c1\">Div</span>(s,\n\t\top.<span class=\"pl-c1\">Sub</span>(s,\n\t\t\top.<span class=\"pl-c1\">ResizeBilinear</span>(s,\n\t\t\t\top.<span class=\"pl-c1\">ExpandDims</span>(s,\n\t\t\t\t\top.<span class=\"pl-c1\">Cast</span>(s,\n\t\t\t\t\t\top.<span class=\"pl-c1\">DecodeJpeg</span>(s, input, op.<span class=\"pl-c1\">DecodeJpegChannels</span>(<span class=\"pl-c1\">3</span>)), tf.<span class=\"pl-smi\">Float</span>),\n\t\t\t\t\top.<span class=\"pl-c1\">Const</span>(s.<span class=\"pl-c1\">SubScope</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>make_batch<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-c1\">int32</span>(<span class=\"pl-c1\">0</span>))),\n\t\t\t\top.<span class=\"pl-c1\">Const</span>(s.<span class=\"pl-c1\">SubScope</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>size<span class=\"pl-pds\">\"</span></span>), []<span class=\"pl-k\">int32</span>{<span class=\"pl-c1\">299</span>, <span class=\"pl-c1\">299</span>})),\n\t\t\top.<span class=\"pl-c1\">Const</span>(s.<span class=\"pl-c1\">SubScope</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>mean<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-c1\">float32</span>(<span class=\"pl-c1\">0</span>))),\n\t\top.<span class=\"pl-c1\">Const</span>(s.<span class=\"pl-c1\">SubScope</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>scale<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-c1\">float32</span>(<span class=\"pl-c1\">255</span>)))\n\tgraph, _ = s.<span class=\"pl-c1\">Finalize</span>()\n  <span class=\"pl-k\">return</span>\n}\n\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\"> * Creates a Tensor from the given image url.</span>\n<span class=\"pl-c\"> <span class=\"pl-c\">*/</span></span>\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">MakeTensorFromImage</span>(<span class=\"pl-v\">url</span> <span class=\"pl-v\">string</span>) (*<span class=\"pl-v\">tf</span>.<span class=\"pl-v\">Tensor</span>, <span class=\"pl-v\">bool</span>) {\n  <span class=\"pl-smi\">r</span>, <span class=\"pl-smi\">err</span> <span class=\"pl-k\">:=</span> client.<span class=\"pl-c1\">Get</span>(url)\n  <span class=\"pl-k\">if</span> err != <span class=\"pl-c1\">nil</span> {\n    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">nil</span>, <span class=\"pl-c1\">false</span>\n  }\n  <span class=\"pl-smi\">bytes</span>, <span class=\"pl-smi\">_</span> <span class=\"pl-k\">:=</span> ioutil.<span class=\"pl-c1\">ReadAll</span>(r.<span class=\"pl-smi\">Body</span>)\n  r.<span class=\"pl-smi\">Body</span>.<span class=\"pl-c1\">Close</span>()\n\n  <span class=\"pl-smi\">stringBytes</span> <span class=\"pl-k\">:=</span> <span class=\"pl-c1\">string</span>(bytes)\n  <span class=\"pl-k\">if</span> stringBytes == <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Content not found<span class=\"pl-pds\">\"</span></span> {\n    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">nil</span>, <span class=\"pl-c1\">false</span>\n  }\n  <span class=\"pl-smi\">tensor</span>, <span class=\"pl-smi\">_</span> <span class=\"pl-k\">:=</span> tf.<span class=\"pl-c1\">NewTensor</span>(stringBytes)\n\n  <span class=\"pl-smi\">session</span>, <span class=\"pl-smi\">_</span> <span class=\"pl-k\">:=</span> tf.<span class=\"pl-c1\">NewSession</span>(normaliseGraph, <span class=\"pl-c1\">nil</span>)\n  <span class=\"pl-k\">defer</span> session.<span class=\"pl-c1\">Close</span>()\n\n  <span class=\"pl-smi\">normalized</span>, <span class=\"pl-smi\">err</span> <span class=\"pl-k\">:=</span> session.<span class=\"pl-c1\">Run</span>(\n    <span class=\"pl-k\">map</span>[tf.<span class=\"pl-smi\">Output</span>]*tf.<span class=\"pl-smi\">Tensor</span>{normaliseInput: tensor},\n    []tf.<span class=\"pl-smi\">Output</span>{normaliseOutput},\n    <span class=\"pl-c1\">nil</span>)\n  <span class=\"pl-k\">if</span> err != <span class=\"pl-c1\">nil</span> {\n    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">nil</span>, <span class=\"pl-c1\">false</span>\n  }\n  <span class=\"pl-k\">return</span> normalized[<span class=\"pl-c1\">0</span>], <span class=\"pl-c1\">true</span>\n}</pre></div>\n<p>I'm using macOS Sierra, but this error also exists when I compile the project for Linux. I have included both of these Go environments below. On Sierra, I installed TensorFlow using Homebrew, and on Linux, I installed it using the instructions <a href=\"https://www.tensorflow.org/install/install_go\" rel=\"nofollow\">here</a>.</p>\n<pre><code>GOARCH=\"amd64\"\nGOBIN=\"\"\nGOEXE=\"\"\nGOHOSTARCH=\"amd64\"\nGOHOSTOS=\"darwin\"\nGOOS=\"darwin\"\nGOPATH=\"/Users/Jamie/Documents/Go\"\nGORACE=\"\"\nGOROOT=\"/usr/local/Cellar/go/1.9/libexec\"\nGOTOOLDIR=\"/usr/local/Cellar/go/1.9/libexec/pkg/tool/darwin_amd64\"\nGCCGO=\"gccgo\"\nCC=\"clang\"\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/var/folders/qq/c31qf27j2mng1xxhvk0b6b6c0000gn/T/go-build437606594=/tmp/go-build -gno-record-gcc-switches -fno-common\"\nCXX=\"clang++\"\nCGO_ENABLED=\"1\"\nCGO_CFLAGS=\"-g -O2\"\nCGO_CPPFLAGS=\"\"\nCGO_CXXFLAGS=\"-g -O2\"\nCGO_FFLAGS=\"-g -O2\"\nCGO_LDFLAGS=\"-g -O2\"\nPKG_CONFIG=\"pkg-config\"\n</code></pre>\n<pre><code>GOARCH=\"amd64\"\nGOBIN=\"\"\nGOEXE=\"\"\nGOHOSTARCH=\"amd64\"\nGOHOSTOS=\"linux\"\nGOOS=\"linux\"\nGOPATH=\"/home/ec2-user/go\"\nGORACE=\"\"\nGOROOT=\"/usr/local/go\"\nGOTOOLDIR=\"/usr/local/go/pkg/tool/linux_amd64\"\nGCCGO=\"gccgo\"\nCC=\"gcc\"\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build126220137=/tmp/go-build -gno-record-gcc-switches\"\nCXX=\"g++\"\nCGO_ENABLED=\"1\"\nPKG_CONFIG=\"pkg-config\"\nCGO_CFLAGS=\"-g -O2\"\nCGO_CPPFLAGS=\"\"\nCGO_CXXFLAGS=\"-g -O2\"\nCGO_FFLAGS=\"-g -O2\"\nCGO_LDFLAGS=\"-g -O2\"\n</code></pre>\n<p>The error I am getting is below. For your information, image.go line 99 is the line that contains <code>output, err := tfSession.Run(</code> in the ProcessImage function above.</p>\n<pre><code>fatal error: unexpected signal during runtime execution\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x0]\n\nruntime stack:\nruntime.throw(0x436cbee, 0x2a)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/panic.go:605 +0x95\nruntime.sigpanic()\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/signal_unix.go:351 +0x2b8\n\ngoroutine 12 [syscall, locked to thread]:\nruntime.cgocall(0x42aedc0, 0xc425d31cd8, 0x4310100)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/cgocall.go:132 +0xe4 fp=0xc425d31c90 sp=0xc425d31c50 pc=0x40044d4\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc425d69550, 0xc4200fe0e0, 0x1, 0xc425d69540, 0xc4200fe0d8, 0xc400000001, 0x0, 0x0, ...)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45 fp=0xc425d31cd8 sp=0xc425d31c90 pc=0x419af45\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc425d69550, 0xc4200fe0e0, 0x1, 0xc425d69540, 0xc4200fe0d8, 0xc400000001, 0x0, 0xc400000000, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a fp=0xc425d31d48 sp=0xc425d31cd8 pc=0x41a56ca\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc4200fd770, 0xc425d31e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f fp=0xc425d31de0 sp=0xc425d31d48 pc=0x419efff\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2b60, 0x6d, 0xc420080301, 0x0, 0x0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214 fp=0xc425d31ea8 sp=0xc425d31de0 pc=0x42a8f94\ngithub.com/jamiebaggott/vision.ImageWorker()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c fp=0xc425d31fe0 sp=0xc425d31ea8 pc=0x42a9a3c\nruntime.goexit()\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/asm_amd64.s:2337 +0x1 fp=0xc425d31fe8 sp=0xc425d31fe0 pc=0x4059781\ncreated by github.com/jamiebaggott/vision.init.1\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\n\ngoroutine 1 [IO wait, 2 minutes]:\ninternal/poll.runtime_pollWait(0x46adeb0, 0x72, 0xffffffffffffffff)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc420108118, 0x72, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc420108118, 0xffffffffffffff00, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Accept(0xc420108100, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:334 +0x1e2\nnet.(*netFD).accept(0xc420108100, 0x4376820, 0xc425ce1d98, 0x400439b)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:238 +0x42\nnet.(*TCPListener).accept(0xc4201440b0, 0x42f7d80, 0xc425ce1dc8, 0x4003137)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/tcpsock_posix.go:136 +0x2e\nnet.(*TCPListener).AcceptTCP(0xc4201440b0, 0xc425ce1e10, 0xc425ce1e18, 0xc425ce1e08)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/tcpsock.go:234 +0x49\nnet/http.tcpKeepAliveListener.Accept(0xc4201440b0, 0x43761e8, 0xc42019c000, 0x44dfda0, 0xc4201365d0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:3120 +0x2f\nnet/http.(*Server).Serve(0xc420160270, 0x44df960, 0xc4201440b0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:2695 +0x1b2\nnet/http.(*Server).ListenAndServe(0xc420160270, 0xc420160270, 0x7)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:2636 +0xa9\nnet/http.ListenAndServe(0x43608c9, 0x5, 0x0, 0x0, 0xc42004df70, 0x42ae572)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:2882 +0x7f\nmain.main()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:18 +0x96\n\ngoroutine 5 [sleep]:\ntime.Sleep(0x1dcd6500)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngopkg.in/mgo%2ev2.(*mongoCluster).syncServersLoop(0xc4200f6000)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/cluster.go:368 +0x424\ncreated by gopkg.in/mgo%2ev2.newCluster\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/cluster.go:78 +0x181\n\ngoroutine 24 [sleep, 1 minutes]:\ntime.Sleep(0x37e11d600)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngopkg.in/mgo%2ev2.(*mongoServer).pinger(0xc420146000, 0xc420039e01)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/server.go:301 +0x4fd\ncreated by gopkg.in/mgo%2ev2.newServer\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/server.go:89 +0x13c\n\ngoroutine 6 [IO wait]:\ninternal/poll.runtime_pollWait(0x46adf70, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc420108218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc420108218, 0xc420154000, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc420108200, 0xc420154000, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc420108200, 0xc420154000, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc42000e038, 0xc420154000, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc42000e038, 0xc420154000, 0x24, 0x24, 0x0, 0x18)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc4200f80e0)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 10 [syscall, locked to thread]:\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc420188120, 0xc4200fe058, 0x1, 0xc420188110, 0xc4200fe050, 0xc400000001, 0x0, 0x0, ...)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc420188120, 0xc4200fe058, 0x1, 0xc420188110, 0xc4200fe050, 0xc400000001, 0x0, 0xc400000000, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc42038a0f0, 0xc420385e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2770, 0x6d, 0xc420080101, 0x0, 0x0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\ngithub.com/jamiebaggott/vision.ImageWorker()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\ncreated by github.com/jamiebaggott/vision.init.1\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\n\ngoroutine 11 [syscall, locked to thread]:\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc420188260, 0xc4200fe0b8, 0x1, 0xc420188240, 0xc4200fe0b0, 0xc400000001, 0x0, 0x0, ...)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc420188260, 0xc4200fe0b8, 0x1, 0xc420188240, 0xc4200fe0b0, 0xc400000001, 0x0, 0xc400000000, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc42038a270, 0xc420389e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f25b0, 0x6d, 0xc42016e101, 0x417abd5, 0xc4200f6000)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\ngithub.com/jamiebaggott/vision.ImageWorker()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\ncreated by github.com/jamiebaggott/vision.init.1\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\n\ngoroutine 13 [syscall, locked to thread]:\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc425d69680, 0xc4200fe130, 0x1, 0xc425d69670, 0xc4200fe128, 0xc400000001, 0x0, 0x0, ...)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc425d69680, 0xc4200fe130, 0x1, 0xc425d69670, 0xc4200fe128, 0xc400000001, 0x0, 0xc400000000, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc4200fd950, 0xc425cdfe78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2d20, 0x6e, 0xc420080601, 0x0, 0x0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\ngithub.com/jamiebaggott/vision.ImageWorker()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\ncreated by github.com/jamiebaggott/vision.init.1\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\n\ngoroutine 14 [syscall, locked to thread]:\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc425d69700, 0xc4200fe180, 0x1, 0xc425d696f0, 0xc4200fe178, 0xc400000001, 0x0, 0x0, ...)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc425d69700, 0xc4200fe180, 0x1, 0xc425d696f0, 0xc4200fe178, 0xc400000001, 0x0, 0xc400000000, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc4200fd9e0, 0xc425d35e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2930, 0x6c, 0xc42016e301, 0x0, 0x0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\ngithub.com/jamiebaggott/vision.ImageWorker()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\ncreated by github.com/jamiebaggott/vision.init.1\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\n\ngoroutine 43 [IO wait]:\ninternal/poll.runtime_pollWait(0x46addf0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc425cfc218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc425cfc218, 0xc420154000, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc425cfc200, 0xc420154090, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc425cfc200, 0xc420154090, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc4200fe010, 0xc420154090, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc4200fe010, 0xc420154090, 0x24, 0x24, 0x0, 0x18)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc4200f8ee0)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 66 [sleep]:\ntime.Sleep(0x2aea5400)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngithub.com/jamiebaggott/vision.GetRequest(0xc42005a000, 0x6b, 0x1, 0x2, 0x42d6a20, 0xc425ceebe0, 0xe, 0xc420154e40)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\ngithub.com/jamiebaggott/vision.GetUsers(0xc420154e40, 0x30, 0xc42013c720, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\ngithub.com/jamiebaggott/vision.Run(0xc42013c720, 0x1b, 0xc420084aa0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\ncreated by main.handler\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\n\ngoroutine 405 [chan receive, 1 minutes]:\ngithub.com/jamiebaggott/vision.ProcessImages(0xc42013c720, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\ncreated by github.com/jamiebaggott/vision.Run\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\n\ngoroutine 29 [sleep]:\ntime.Sleep(0x2aea5400)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngithub.com/jamiebaggott/vision.GetRequest(0xc42005bd50, 0x6c, 0x1, 0x2, 0x42d6a20, 0xc425d9aa20, 0xe, 0xc4200181c0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\ngithub.com/jamiebaggott/vision.GetUsers(0xc4200181c0, 0x32, 0xc420158860, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\ngithub.com/jamiebaggott/vision.Run(0xc420158860, 0x1b, 0xc4200846e0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\ncreated by main.handler\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\n\ngoroutine 69 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ada30, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc42025a118, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc42025a118, 0xc420244b00, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc42025a100, 0xc420244ba0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc42025a100, 0xc420244ba0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420286018, 0xc420244ba0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420286018, 0xc420244ba0, 0x24, 0x24, 0x0, 0x18)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425e4b420)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 33 [IO wait]:\ninternal/poll.runtime_pollWait(0x46adbb0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc425e1c218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc425e1c218, 0xc420244a00, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc425e1c200, 0xc420244ae0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc425e1c200, 0xc420244ae0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420144078, 0xc420244ae0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420144078, 0xc420244ae0, 0x24, 0x24, 0x0, 0x339cc)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc420146620)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 439 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ad670, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc42025a298, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc42025a298, 0xc42008b000, 0x1000, 0x1000)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc42025a280, 0xc42008b000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc42025a280, 0xc42008b000, 0x1000, 0x1000, 0x0, 0x8, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420286078, 0xc42008b000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ncrypto/tls.(*block).readFromUntil(0xc42038b710, 0xb4640e8, 0xc420286078, 0x5, 0xc420286078, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:488 +0x95\ncrypto/tls.(*Conn).readRecord(0xc420120380, 0x4376817, 0xc4201204a0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:590 +0xe0\ncrypto/tls.(*Conn).Read(0xc420120380, 0xc420342000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:1134 +0x110\nbufio.(*Reader).Read(0xc420328b40, 0xc4201e8e38, 0x9, 0x9, 0xc425d2bc70, 0x402b956, 0x4376820)\n\t/usr/local/Cellar/go/1.9/libexec/src/bufio/bufio.go:213 +0x30b\nio.ReadAtLeast(0x44daa60, 0xc420328b40, 0xc4201e8e38, 0x9, 0x9, 0x9, 0xc425d2bcd0, 0xc425d2bcd0, 0x4007d52)\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:309 +0x86\nio.ReadFull(0x44daa60, 0xc420328b40, 0xc4201e8e38, 0x9, 0x9, 0xc420113b00, 0xc425d2bd08, 0xc400000001)\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:327 +0x58\nnet/http.http2readFrameHeader(0xc4201e8e38, 0x9, 0x9, 0x44daa60, 0xc420328b40, 0x0, 0xc400000000, 0xc425d2bdf0, 0x4266459)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1516 +0x7b\nnet/http.(*http2Framer).ReadFrame(0xc4201e8e00, 0xc4200fc180, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1774 +0xa4\nnet/http.(*http2clientConnReadLoop).run(0xc425d2bfb0, 0x4376220, 0xc42033cfb0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7862 +0x92\nnet/http.(*http2ClientConn).readLoop(0xc42016eb60)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7788 +0x9d\ncreated by net/http.(*http2Transport).newClientConn\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7053 +0x6b9\n\ngoroutine 67 [IO wait]:\ninternal/poll.runtime_pollWait(0x46adaf0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc420108798, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc420108798, 0xc420155200, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc420108780, 0xc420155200, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc420108780, 0xc420155200, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420286008, 0xc420155200, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420286008, 0xc420155200, 0x24, 0x24, 0x0, 0x18)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425e4a1c0)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 56 [sleep]:\ntime.Sleep(0x2aea5400)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngithub.com/jamiebaggott/vision.GetRequest(0xc420345ab0, 0x6c, 0x1, 0x2, 0x42d6a20, 0xc4200e1ae0, 0xe, 0xc425e04200)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\ngithub.com/jamiebaggott/vision.GetUsers(0xc425e04200, 0x32, 0xc4201589a0, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\ngithub.com/jamiebaggott/vision.Run(0xc4201589a0, 0x1b, 0xc425dc08c0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\ncreated by main.handler\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\n\ngoroutine 85 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ad970, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc42025a598, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc42025a598, 0xc420155500, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc42025a580, 0xc420155530, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc42025a580, 0xc420155530, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420144098, 0xc420155530, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420144098, 0xc420155530, 0x24, 0x24, 0x0, 0x339cc)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc420147960)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 59 [sleep]:\ntime.Sleep(0x2aea5400)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngithub.com/jamiebaggott/vision.GetRequest(0xc425cf4000, 0x6d, 0x1, 0x2, 0x42d6a20, 0xc425d8a800, 0xe, 0xc4200185c0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\ngithub.com/jamiebaggott/vision.GetUsers(0xc4200185c0, 0x33, 0xc42013cb40, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\ngithub.com/jamiebaggott/vision.Run(0xc42013cb40, 0x1b, 0xc425e205a0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\ncreated by main.handler\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\n\ngoroutine 446 [IO wait]:\ninternal/poll.runtime_pollWait(0x46add30, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc425e1c498, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc425e1c498, 0xc4200ae800, 0x400, 0x400)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc425e1c480, 0xc4200ae800, 0x400, 0x400, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc425e1c480, 0xc4200ae800, 0x400, 0x400, 0xc420420a00, 0x158f2dd4a2167001, 0xc42003f870)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc42000e048, 0xc4200ae800, 0x400, 0x400, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ncrypto/tls.(*block).readFromUntil(0xc42024a090, 0xb4640e8, 0xc42000e048, 0x5, 0xc42000e048, 0xc42051c2c5)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:488 +0x95\ncrypto/tls.(*Conn).readRecord(0xc420130000, 0x4376817, 0xc420130120, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:590 +0xe0\ncrypto/tls.(*Conn).Read(0xc420130000, 0xc425d7d000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:1134 +0x110\nbufio.(*Reader).Read(0xc420328360, 0xc425decc78, 0x9, 0x9, 0xc42003fc70, 0x402b956, 0x4376820)\n\t/usr/local/Cellar/go/1.9/libexec/src/bufio/bufio.go:213 +0x30b\nio.ReadAtLeast(0x44daa60, 0xc420328360, 0xc425decc78, 0x9, 0x9, 0x9, 0xc42003fcd0, 0xc42003fcd0, 0x4007d52)\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:309 +0x86\nio.ReadFull(0x44daa60, 0xc420328360, 0xc425decc78, 0x9, 0x9, 0xc4203283c0, 0xc42003fd08, 0xc400000001)\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:327 +0x58\nnet/http.http2readFrameHeader(0xc425decc78, 0x9, 0x9, 0x44daa60, 0xc420328360, 0x0, 0xc400000000, 0xc42003fdf0, 0x4266459)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1516 +0x7b\nnet/http.(*http2Framer).ReadFrame(0xc425decc40, 0xc42024ac00, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1774 +0xa4\nnet/http.(*http2clientConnReadLoop).run(0xc42003ffb0, 0x4376220, 0xc4203397b0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7862 +0x92\nnet/http.(*http2ClientConn).readLoop(0xc420080b60)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7788 +0x9d\ncreated by net/http.(*http2Transport).newClientConn\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7053 +0x6b9\n\ngoroutine 482 [chan receive]:\ngithub.com/jamiebaggott/vision.ProcessImages(0xc42013cb40, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\ncreated by github.com/jamiebaggott/vision.Run\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\n\ngoroutine 449 [chan receive]:\ngithub.com/jamiebaggott/vision.ProcessImages(0xc420158860, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\ncreated by github.com/jamiebaggott/vision.Run\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\n\ngoroutine 392 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ad8b0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc42025a198, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc42025a198, 0xc425d8ce00, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc42025a180, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc42025a180, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420144008, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420144008, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x339cc)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc420246e00)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 462 [chan receive]:\ngithub.com/jamiebaggott/vision.ProcessImages(0xc4201589a0, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\ncreated by github.com/jamiebaggott/vision.Run\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\n\ngoroutine 364 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ad7f0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc425e1c118, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc425e1c118, 0xc42001c700, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc425e1c100, 0xc42001c7b0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc425e1c100, 0xc42001c7b0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420286000, 0xc42001c7b0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420286000, 0xc42001c7b0, 0x24, 0x24, 0x0, 0xa9)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425e4a2a0)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 483 [chan send]:\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d02960, 0xc4204f20c0, 0xc4200e1ba0, 0xc420345b20, 0xc42013cb40, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\ncreated by github.com/jamiebaggott/vision.ProcessImages\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\n\ngoroutine 394 [IO wait]:\ninternal/poll.runtime_pollWait(0x46adc70, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc425cfd218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc425cfd218, 0xc420245800, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc425cfd200, 0xc420245800, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc425cfd200, 0xc420245800, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc4200fe028, 0xc420245800, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc4200fe028, 0xc420245800, 0x24, 0x24, 0x0, 0x339cc)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425dec000)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 385 [chan send]:\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d020f0, 0xc420119b00, 0xc425d049c0, 0xc4202f3ea0, 0xc42013c720, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\ncreated by github.com/jamiebaggott/vision.ProcessImages\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\n\ngoroutine 461 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ad4f0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc420108d98, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc420108d98, 0xc420244e00, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc420108d80, 0xc420244e70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc420108d80, 0xc420244e70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc4200fe1a0, 0xc420244e70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc4200fe1a0, 0xc420244e70, 0x24, 0x24, 0x0, 0x1e7)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc4201e8540)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 463 [chan send]:\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d6c2d0, 0xc42038ad80, 0xc425d83820, 0xc42005a150, 0xc4201589a0, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\ncreated by github.com/jamiebaggott/vision.ProcessImages\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\n\ngoroutine 464 [chan send]:\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d6c3c0, 0xc42038ae40, 0xc425d83960, 0xc42005a1c0, 0xc420158860, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\ncreated by github.com/jamiebaggott/vision.ProcessImages\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\n</code></pre>", "body_text": "Hi, I am trying to build a project that will take multiple URLs, download their images, and then use TensorFlow and the InceptionV3 pre-trained model to perform image recognition. For this, I am using the Go API. Most of the time, this process occurs without an issue, but every now and again an error occurs. I think this may be caused by a bug in TensorFlow as it appears to being thrown from the c code.\nA sample of the code that I am using is below. In case it is relevant, I run ProcessImage from different workers concurrently. This obviously means that the tfSession variable is shared between different threads. However, I don't think this is the problem as I have tried having each worker create and use its own session, and the error still occurs.\nvar tfSession *tf.Session\nvar modelGraph, normaliseGraph *tf.Graph\nvar normaliseInput, normaliseOutput tf.Output\n\n/*\n * Sets up resources that can be shared by each request.\n */\nfunc init() {\n  model, _ := ioutil.ReadFile(\"inception3/inception_v3_2016_08_28_frozen.pb\")\n  modelGraph = tf.NewGraph()\n  modelGraph.Import(model, \"\")\n  tfSession, _ = tf.NewSession(modelGraph, nil)\n  normaliseGraph, normaliseInput, normaliseOutput = ConstructNormaliseGraph()\n}\n\n/*\n * Processes the image and returns the probabilities of each label.\n */\nfunc ProcessImage(url string) []float32 {\n  tensor, okay := MakeTensorFromImage(url)\n  if !okay {\n    return nil\n  }\n\n  output, err := tfSession.Run(\n    map[tf.Output]*tf.Tensor{\n      modelGraph.Operation(\"input\").Output(0): tensor,\n    },\n    []tf.Output{\n      modelGraph.Operation(\"InceptionV3/Predictions/Reshape_1\").Output(0),\n    },\n    nil)\n  if err != nil {\n    return nil\n  }\n\n  return output[0].Value().([][]float32)[0]\n}\n\n/*\n * Constructs graph used to normalise image to required dimensions.\n */\nfunc ConstructNormaliseGraph() (graph *tf.Graph, input, output tf.Output) {\n  s := op.NewScope()\n  input = op.Placeholder(s, tf.String)\n  output = op.Div(s,\n\t\top.Sub(s,\n\t\t\top.ResizeBilinear(s,\n\t\t\t\top.ExpandDims(s,\n\t\t\t\t\top.Cast(s,\n\t\t\t\t\t\top.DecodeJpeg(s, input, op.DecodeJpegChannels(3)), tf.Float),\n\t\t\t\t\top.Const(s.SubScope(\"make_batch\"), int32(0))),\n\t\t\t\top.Const(s.SubScope(\"size\"), []int32{299, 299})),\n\t\t\top.Const(s.SubScope(\"mean\"), float32(0))),\n\t\top.Const(s.SubScope(\"scale\"), float32(255)))\n\tgraph, _ = s.Finalize()\n  return\n}\n\n/*\n * Creates a Tensor from the given image url.\n */\nfunc MakeTensorFromImage(url string) (*tf.Tensor, bool) {\n  r, err := client.Get(url)\n  if err != nil {\n    return nil, false\n  }\n  bytes, _ := ioutil.ReadAll(r.Body)\n  r.Body.Close()\n\n  stringBytes := string(bytes)\n  if stringBytes == \"Content not found\" {\n    return nil, false\n  }\n  tensor, _ := tf.NewTensor(stringBytes)\n\n  session, _ := tf.NewSession(normaliseGraph, nil)\n  defer session.Close()\n\n  normalized, err := session.Run(\n    map[tf.Output]*tf.Tensor{normaliseInput: tensor},\n    []tf.Output{normaliseOutput},\n    nil)\n  if err != nil {\n    return nil, false\n  }\n  return normalized[0], true\n}\nI'm using macOS Sierra, but this error also exists when I compile the project for Linux. I have included both of these Go environments below. On Sierra, I installed TensorFlow using Homebrew, and on Linux, I installed it using the instructions here.\nGOARCH=\"amd64\"\nGOBIN=\"\"\nGOEXE=\"\"\nGOHOSTARCH=\"amd64\"\nGOHOSTOS=\"darwin\"\nGOOS=\"darwin\"\nGOPATH=\"/Users/Jamie/Documents/Go\"\nGORACE=\"\"\nGOROOT=\"/usr/local/Cellar/go/1.9/libexec\"\nGOTOOLDIR=\"/usr/local/Cellar/go/1.9/libexec/pkg/tool/darwin_amd64\"\nGCCGO=\"gccgo\"\nCC=\"clang\"\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/var/folders/qq/c31qf27j2mng1xxhvk0b6b6c0000gn/T/go-build437606594=/tmp/go-build -gno-record-gcc-switches -fno-common\"\nCXX=\"clang++\"\nCGO_ENABLED=\"1\"\nCGO_CFLAGS=\"-g -O2\"\nCGO_CPPFLAGS=\"\"\nCGO_CXXFLAGS=\"-g -O2\"\nCGO_FFLAGS=\"-g -O2\"\nCGO_LDFLAGS=\"-g -O2\"\nPKG_CONFIG=\"pkg-config\"\n\nGOARCH=\"amd64\"\nGOBIN=\"\"\nGOEXE=\"\"\nGOHOSTARCH=\"amd64\"\nGOHOSTOS=\"linux\"\nGOOS=\"linux\"\nGOPATH=\"/home/ec2-user/go\"\nGORACE=\"\"\nGOROOT=\"/usr/local/go\"\nGOTOOLDIR=\"/usr/local/go/pkg/tool/linux_amd64\"\nGCCGO=\"gccgo\"\nCC=\"gcc\"\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build126220137=/tmp/go-build -gno-record-gcc-switches\"\nCXX=\"g++\"\nCGO_ENABLED=\"1\"\nPKG_CONFIG=\"pkg-config\"\nCGO_CFLAGS=\"-g -O2\"\nCGO_CPPFLAGS=\"\"\nCGO_CXXFLAGS=\"-g -O2\"\nCGO_FFLAGS=\"-g -O2\"\nCGO_LDFLAGS=\"-g -O2\"\n\nThe error I am getting is below. For your information, image.go line 99 is the line that contains output, err := tfSession.Run( in the ProcessImage function above.\nfatal error: unexpected signal during runtime execution\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x0]\n\nruntime stack:\nruntime.throw(0x436cbee, 0x2a)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/panic.go:605 +0x95\nruntime.sigpanic()\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/signal_unix.go:351 +0x2b8\n\ngoroutine 12 [syscall, locked to thread]:\nruntime.cgocall(0x42aedc0, 0xc425d31cd8, 0x4310100)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/cgocall.go:132 +0xe4 fp=0xc425d31c90 sp=0xc425d31c50 pc=0x40044d4\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc425d69550, 0xc4200fe0e0, 0x1, 0xc425d69540, 0xc4200fe0d8, 0xc400000001, 0x0, 0x0, ...)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45 fp=0xc425d31cd8 sp=0xc425d31c90 pc=0x419af45\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc425d69550, 0xc4200fe0e0, 0x1, 0xc425d69540, 0xc4200fe0d8, 0xc400000001, 0x0, 0xc400000000, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a fp=0xc425d31d48 sp=0xc425d31cd8 pc=0x41a56ca\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc4200fd770, 0xc425d31e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f fp=0xc425d31de0 sp=0xc425d31d48 pc=0x419efff\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2b60, 0x6d, 0xc420080301, 0x0, 0x0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214 fp=0xc425d31ea8 sp=0xc425d31de0 pc=0x42a8f94\ngithub.com/jamiebaggott/vision.ImageWorker()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c fp=0xc425d31fe0 sp=0xc425d31ea8 pc=0x42a9a3c\nruntime.goexit()\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/asm_amd64.s:2337 +0x1 fp=0xc425d31fe8 sp=0xc425d31fe0 pc=0x4059781\ncreated by github.com/jamiebaggott/vision.init.1\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\n\ngoroutine 1 [IO wait, 2 minutes]:\ninternal/poll.runtime_pollWait(0x46adeb0, 0x72, 0xffffffffffffffff)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc420108118, 0x72, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc420108118, 0xffffffffffffff00, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Accept(0xc420108100, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:334 +0x1e2\nnet.(*netFD).accept(0xc420108100, 0x4376820, 0xc425ce1d98, 0x400439b)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:238 +0x42\nnet.(*TCPListener).accept(0xc4201440b0, 0x42f7d80, 0xc425ce1dc8, 0x4003137)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/tcpsock_posix.go:136 +0x2e\nnet.(*TCPListener).AcceptTCP(0xc4201440b0, 0xc425ce1e10, 0xc425ce1e18, 0xc425ce1e08)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/tcpsock.go:234 +0x49\nnet/http.tcpKeepAliveListener.Accept(0xc4201440b0, 0x43761e8, 0xc42019c000, 0x44dfda0, 0xc4201365d0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:3120 +0x2f\nnet/http.(*Server).Serve(0xc420160270, 0x44df960, 0xc4201440b0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:2695 +0x1b2\nnet/http.(*Server).ListenAndServe(0xc420160270, 0xc420160270, 0x7)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:2636 +0xa9\nnet/http.ListenAndServe(0x43608c9, 0x5, 0x0, 0x0, 0xc42004df70, 0x42ae572)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:2882 +0x7f\nmain.main()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:18 +0x96\n\ngoroutine 5 [sleep]:\ntime.Sleep(0x1dcd6500)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngopkg.in/mgo%2ev2.(*mongoCluster).syncServersLoop(0xc4200f6000)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/cluster.go:368 +0x424\ncreated by gopkg.in/mgo%2ev2.newCluster\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/cluster.go:78 +0x181\n\ngoroutine 24 [sleep, 1 minutes]:\ntime.Sleep(0x37e11d600)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngopkg.in/mgo%2ev2.(*mongoServer).pinger(0xc420146000, 0xc420039e01)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/server.go:301 +0x4fd\ncreated by gopkg.in/mgo%2ev2.newServer\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/server.go:89 +0x13c\n\ngoroutine 6 [IO wait]:\ninternal/poll.runtime_pollWait(0x46adf70, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc420108218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc420108218, 0xc420154000, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc420108200, 0xc420154000, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc420108200, 0xc420154000, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc42000e038, 0xc420154000, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc42000e038, 0xc420154000, 0x24, 0x24, 0x0, 0x18)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc4200f80e0)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 10 [syscall, locked to thread]:\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc420188120, 0xc4200fe058, 0x1, 0xc420188110, 0xc4200fe050, 0xc400000001, 0x0, 0x0, ...)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc420188120, 0xc4200fe058, 0x1, 0xc420188110, 0xc4200fe050, 0xc400000001, 0x0, 0xc400000000, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc42038a0f0, 0xc420385e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2770, 0x6d, 0xc420080101, 0x0, 0x0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\ngithub.com/jamiebaggott/vision.ImageWorker()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\ncreated by github.com/jamiebaggott/vision.init.1\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\n\ngoroutine 11 [syscall, locked to thread]:\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc420188260, 0xc4200fe0b8, 0x1, 0xc420188240, 0xc4200fe0b0, 0xc400000001, 0x0, 0x0, ...)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc420188260, 0xc4200fe0b8, 0x1, 0xc420188240, 0xc4200fe0b0, 0xc400000001, 0x0, 0xc400000000, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc42038a270, 0xc420389e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f25b0, 0x6d, 0xc42016e101, 0x417abd5, 0xc4200f6000)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\ngithub.com/jamiebaggott/vision.ImageWorker()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\ncreated by github.com/jamiebaggott/vision.init.1\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\n\ngoroutine 13 [syscall, locked to thread]:\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc425d69680, 0xc4200fe130, 0x1, 0xc425d69670, 0xc4200fe128, 0xc400000001, 0x0, 0x0, ...)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc425d69680, 0xc4200fe130, 0x1, 0xc425d69670, 0xc4200fe128, 0xc400000001, 0x0, 0xc400000000, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc4200fd950, 0xc425cdfe78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2d20, 0x6e, 0xc420080601, 0x0, 0x0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\ngithub.com/jamiebaggott/vision.ImageWorker()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\ncreated by github.com/jamiebaggott/vision.init.1\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\n\ngoroutine 14 [syscall, locked to thread]:\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc425d69700, 0xc4200fe180, 0x1, 0xc425d696f0, 0xc4200fe178, 0xc400000001, 0x0, 0x0, ...)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc425d69700, 0xc4200fe180, 0x1, 0xc425d696f0, 0xc4200fe178, 0xc400000001, 0x0, 0xc400000000, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc4200fd9e0, 0xc425d35e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2930, 0x6c, 0xc42016e301, 0x0, 0x0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\ngithub.com/jamiebaggott/vision.ImageWorker()\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\ncreated by github.com/jamiebaggott/vision.init.1\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\n\ngoroutine 43 [IO wait]:\ninternal/poll.runtime_pollWait(0x46addf0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc425cfc218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc425cfc218, 0xc420154000, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc425cfc200, 0xc420154090, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc425cfc200, 0xc420154090, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc4200fe010, 0xc420154090, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc4200fe010, 0xc420154090, 0x24, 0x24, 0x0, 0x18)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc4200f8ee0)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 66 [sleep]:\ntime.Sleep(0x2aea5400)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngithub.com/jamiebaggott/vision.GetRequest(0xc42005a000, 0x6b, 0x1, 0x2, 0x42d6a20, 0xc425ceebe0, 0xe, 0xc420154e40)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\ngithub.com/jamiebaggott/vision.GetUsers(0xc420154e40, 0x30, 0xc42013c720, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\ngithub.com/jamiebaggott/vision.Run(0xc42013c720, 0x1b, 0xc420084aa0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\ncreated by main.handler\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\n\ngoroutine 405 [chan receive, 1 minutes]:\ngithub.com/jamiebaggott/vision.ProcessImages(0xc42013c720, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\ncreated by github.com/jamiebaggott/vision.Run\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\n\ngoroutine 29 [sleep]:\ntime.Sleep(0x2aea5400)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngithub.com/jamiebaggott/vision.GetRequest(0xc42005bd50, 0x6c, 0x1, 0x2, 0x42d6a20, 0xc425d9aa20, 0xe, 0xc4200181c0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\ngithub.com/jamiebaggott/vision.GetUsers(0xc4200181c0, 0x32, 0xc420158860, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\ngithub.com/jamiebaggott/vision.Run(0xc420158860, 0x1b, 0xc4200846e0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\ncreated by main.handler\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\n\ngoroutine 69 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ada30, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc42025a118, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc42025a118, 0xc420244b00, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc42025a100, 0xc420244ba0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc42025a100, 0xc420244ba0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420286018, 0xc420244ba0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420286018, 0xc420244ba0, 0x24, 0x24, 0x0, 0x18)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425e4b420)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 33 [IO wait]:\ninternal/poll.runtime_pollWait(0x46adbb0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc425e1c218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc425e1c218, 0xc420244a00, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc425e1c200, 0xc420244ae0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc425e1c200, 0xc420244ae0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420144078, 0xc420244ae0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420144078, 0xc420244ae0, 0x24, 0x24, 0x0, 0x339cc)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc420146620)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 439 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ad670, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc42025a298, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc42025a298, 0xc42008b000, 0x1000, 0x1000)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc42025a280, 0xc42008b000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc42025a280, 0xc42008b000, 0x1000, 0x1000, 0x0, 0x8, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420286078, 0xc42008b000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ncrypto/tls.(*block).readFromUntil(0xc42038b710, 0xb4640e8, 0xc420286078, 0x5, 0xc420286078, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:488 +0x95\ncrypto/tls.(*Conn).readRecord(0xc420120380, 0x4376817, 0xc4201204a0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:590 +0xe0\ncrypto/tls.(*Conn).Read(0xc420120380, 0xc420342000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:1134 +0x110\nbufio.(*Reader).Read(0xc420328b40, 0xc4201e8e38, 0x9, 0x9, 0xc425d2bc70, 0x402b956, 0x4376820)\n\t/usr/local/Cellar/go/1.9/libexec/src/bufio/bufio.go:213 +0x30b\nio.ReadAtLeast(0x44daa60, 0xc420328b40, 0xc4201e8e38, 0x9, 0x9, 0x9, 0xc425d2bcd0, 0xc425d2bcd0, 0x4007d52)\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:309 +0x86\nio.ReadFull(0x44daa60, 0xc420328b40, 0xc4201e8e38, 0x9, 0x9, 0xc420113b00, 0xc425d2bd08, 0xc400000001)\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:327 +0x58\nnet/http.http2readFrameHeader(0xc4201e8e38, 0x9, 0x9, 0x44daa60, 0xc420328b40, 0x0, 0xc400000000, 0xc425d2bdf0, 0x4266459)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1516 +0x7b\nnet/http.(*http2Framer).ReadFrame(0xc4201e8e00, 0xc4200fc180, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1774 +0xa4\nnet/http.(*http2clientConnReadLoop).run(0xc425d2bfb0, 0x4376220, 0xc42033cfb0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7862 +0x92\nnet/http.(*http2ClientConn).readLoop(0xc42016eb60)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7788 +0x9d\ncreated by net/http.(*http2Transport).newClientConn\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7053 +0x6b9\n\ngoroutine 67 [IO wait]:\ninternal/poll.runtime_pollWait(0x46adaf0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc420108798, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc420108798, 0xc420155200, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc420108780, 0xc420155200, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc420108780, 0xc420155200, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420286008, 0xc420155200, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420286008, 0xc420155200, 0x24, 0x24, 0x0, 0x18)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425e4a1c0)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 56 [sleep]:\ntime.Sleep(0x2aea5400)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngithub.com/jamiebaggott/vision.GetRequest(0xc420345ab0, 0x6c, 0x1, 0x2, 0x42d6a20, 0xc4200e1ae0, 0xe, 0xc425e04200)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\ngithub.com/jamiebaggott/vision.GetUsers(0xc425e04200, 0x32, 0xc4201589a0, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\ngithub.com/jamiebaggott/vision.Run(0xc4201589a0, 0x1b, 0xc425dc08c0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\ncreated by main.handler\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\n\ngoroutine 85 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ad970, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc42025a598, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc42025a598, 0xc420155500, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc42025a580, 0xc420155530, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc42025a580, 0xc420155530, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420144098, 0xc420155530, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420144098, 0xc420155530, 0x24, 0x24, 0x0, 0x339cc)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc420147960)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 59 [sleep]:\ntime.Sleep(0x2aea5400)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\ngithub.com/jamiebaggott/vision.GetRequest(0xc425cf4000, 0x6d, 0x1, 0x2, 0x42d6a20, 0xc425d8a800, 0xe, 0xc4200185c0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\ngithub.com/jamiebaggott/vision.GetUsers(0xc4200185c0, 0x33, 0xc42013cb40, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\ngithub.com/jamiebaggott/vision.Run(0xc42013cb40, 0x1b, 0xc425e205a0)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\ncreated by main.handler\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\n\ngoroutine 446 [IO wait]:\ninternal/poll.runtime_pollWait(0x46add30, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc425e1c498, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc425e1c498, 0xc4200ae800, 0x400, 0x400)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc425e1c480, 0xc4200ae800, 0x400, 0x400, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc425e1c480, 0xc4200ae800, 0x400, 0x400, 0xc420420a00, 0x158f2dd4a2167001, 0xc42003f870)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc42000e048, 0xc4200ae800, 0x400, 0x400, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ncrypto/tls.(*block).readFromUntil(0xc42024a090, 0xb4640e8, 0xc42000e048, 0x5, 0xc42000e048, 0xc42051c2c5)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:488 +0x95\ncrypto/tls.(*Conn).readRecord(0xc420130000, 0x4376817, 0xc420130120, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:590 +0xe0\ncrypto/tls.(*Conn).Read(0xc420130000, 0xc425d7d000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:1134 +0x110\nbufio.(*Reader).Read(0xc420328360, 0xc425decc78, 0x9, 0x9, 0xc42003fc70, 0x402b956, 0x4376820)\n\t/usr/local/Cellar/go/1.9/libexec/src/bufio/bufio.go:213 +0x30b\nio.ReadAtLeast(0x44daa60, 0xc420328360, 0xc425decc78, 0x9, 0x9, 0x9, 0xc42003fcd0, 0xc42003fcd0, 0x4007d52)\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:309 +0x86\nio.ReadFull(0x44daa60, 0xc420328360, 0xc425decc78, 0x9, 0x9, 0xc4203283c0, 0xc42003fd08, 0xc400000001)\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:327 +0x58\nnet/http.http2readFrameHeader(0xc425decc78, 0x9, 0x9, 0x44daa60, 0xc420328360, 0x0, 0xc400000000, 0xc42003fdf0, 0x4266459)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1516 +0x7b\nnet/http.(*http2Framer).ReadFrame(0xc425decc40, 0xc42024ac00, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1774 +0xa4\nnet/http.(*http2clientConnReadLoop).run(0xc42003ffb0, 0x4376220, 0xc4203397b0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7862 +0x92\nnet/http.(*http2ClientConn).readLoop(0xc420080b60)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7788 +0x9d\ncreated by net/http.(*http2Transport).newClientConn\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7053 +0x6b9\n\ngoroutine 482 [chan receive]:\ngithub.com/jamiebaggott/vision.ProcessImages(0xc42013cb40, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\ncreated by github.com/jamiebaggott/vision.Run\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\n\ngoroutine 449 [chan receive]:\ngithub.com/jamiebaggott/vision.ProcessImages(0xc420158860, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\ncreated by github.com/jamiebaggott/vision.Run\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\n\ngoroutine 392 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ad8b0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc42025a198, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc42025a198, 0xc425d8ce00, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc42025a180, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc42025a180, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420144008, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420144008, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x339cc)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc420246e00)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 462 [chan receive]:\ngithub.com/jamiebaggott/vision.ProcessImages(0xc4201589a0, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\ncreated by github.com/jamiebaggott/vision.Run\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\n\ngoroutine 364 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ad7f0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc425e1c118, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc425e1c118, 0xc42001c700, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc425e1c100, 0xc42001c7b0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc425e1c100, 0xc42001c7b0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc420286000, 0xc42001c7b0, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420286000, 0xc42001c7b0, 0x24, 0x24, 0x0, 0xa9)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425e4a2a0)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 483 [chan send]:\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d02960, 0xc4204f20c0, 0xc4200e1ba0, 0xc420345b20, 0xc42013cb40, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\ncreated by github.com/jamiebaggott/vision.ProcessImages\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\n\ngoroutine 394 [IO wait]:\ninternal/poll.runtime_pollWait(0x46adc70, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc425cfd218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc425cfd218, 0xc420245800, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc425cfd200, 0xc420245800, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc425cfd200, 0xc420245800, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc4200fe028, 0xc420245800, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc4200fe028, 0xc420245800, 0x24, 0x24, 0x0, 0x339cc)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425dec000)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 385 [chan send]:\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d020f0, 0xc420119b00, 0xc425d049c0, 0xc4202f3ea0, 0xc42013c720, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\ncreated by github.com/jamiebaggott/vision.ProcessImages\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\n\ngoroutine 461 [IO wait]:\ninternal/poll.runtime_pollWait(0x46ad4f0, 0x72, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\ninternal/poll.(*pollDesc).wait(0xc420108d98, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\ninternal/poll.(*pollDesc).waitRead(0xc420108d98, 0xc420244e00, 0x24, 0x24)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\ninternal/poll.(*FD).Read(0xc420108d80, 0xc420244e70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\nnet.(*netFD).Read(0xc420108d80, 0xc420244e70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\nnet.(*conn).Read(0xc4200fe1a0, 0xc420244e70, 0x24, 0x24, 0x0, 0x0, 0x0)\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc4200fe1a0, 0xc420244e70, 0x24, 0x24, 0x0, 0x1e7)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc4201e8540)\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\ncreated by gopkg.in/mgo%2ev2.newSocket\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\n\ngoroutine 463 [chan send]:\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d6c2d0, 0xc42038ad80, 0xc425d83820, 0xc42005a150, 0xc4201589a0, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\ncreated by github.com/jamiebaggott/vision.ProcessImages\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\n\ngoroutine 464 [chan send]:\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d6c3c0, 0xc42038ae40, 0xc425d83960, 0xc42005a1c0, 0xc420158860, 0x1b)\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\ncreated by github.com/jamiebaggott/vision.ProcessImages\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327", "body": "Hi, I am trying to build a project that will take multiple URLs, download their images, and then use TensorFlow and the InceptionV3 pre-trained model to perform image recognition. For this, I am using the Go API. Most of the time, this process occurs without an issue, but every now and again an error occurs. I think this may be caused by a bug in TensorFlow as it appears to being thrown from the c code.\r\n\r\nA sample of the code that I am using is below. In case it is relevant, I run ProcessImage from different workers concurrently. This obviously means that the tfSession variable is shared between different threads. However, I don't think this is the problem as I have tried having each worker create and use its own session, and the error still occurs.\r\n\r\n```go\r\nvar tfSession *tf.Session\r\nvar modelGraph, normaliseGraph *tf.Graph\r\nvar normaliseInput, normaliseOutput tf.Output\r\n\r\n/*\r\n * Sets up resources that can be shared by each request.\r\n */\r\nfunc init() {\r\n  model, _ := ioutil.ReadFile(\"inception3/inception_v3_2016_08_28_frozen.pb\")\r\n  modelGraph = tf.NewGraph()\r\n  modelGraph.Import(model, \"\")\r\n  tfSession, _ = tf.NewSession(modelGraph, nil)\r\n  normaliseGraph, normaliseInput, normaliseOutput = ConstructNormaliseGraph()\r\n}\r\n\r\n/*\r\n * Processes the image and returns the probabilities of each label.\r\n */\r\nfunc ProcessImage(url string) []float32 {\r\n  tensor, okay := MakeTensorFromImage(url)\r\n  if !okay {\r\n    return nil\r\n  }\r\n\r\n  output, err := tfSession.Run(\r\n    map[tf.Output]*tf.Tensor{\r\n      modelGraph.Operation(\"input\").Output(0): tensor,\r\n    },\r\n    []tf.Output{\r\n      modelGraph.Operation(\"InceptionV3/Predictions/Reshape_1\").Output(0),\r\n    },\r\n    nil)\r\n  if err != nil {\r\n    return nil\r\n  }\r\n\r\n  return output[0].Value().([][]float32)[0]\r\n}\r\n\r\n/*\r\n * Constructs graph used to normalise image to required dimensions.\r\n */\r\nfunc ConstructNormaliseGraph() (graph *tf.Graph, input, output tf.Output) {\r\n  s := op.NewScope()\r\n  input = op.Placeholder(s, tf.String)\r\n  output = op.Div(s,\r\n\t\top.Sub(s,\r\n\t\t\top.ResizeBilinear(s,\r\n\t\t\t\top.ExpandDims(s,\r\n\t\t\t\t\top.Cast(s,\r\n\t\t\t\t\t\top.DecodeJpeg(s, input, op.DecodeJpegChannels(3)), tf.Float),\r\n\t\t\t\t\top.Const(s.SubScope(\"make_batch\"), int32(0))),\r\n\t\t\t\top.Const(s.SubScope(\"size\"), []int32{299, 299})),\r\n\t\t\top.Const(s.SubScope(\"mean\"), float32(0))),\r\n\t\top.Const(s.SubScope(\"scale\"), float32(255)))\r\n\tgraph, _ = s.Finalize()\r\n  return\r\n}\r\n\r\n/*\r\n * Creates a Tensor from the given image url.\r\n */\r\nfunc MakeTensorFromImage(url string) (*tf.Tensor, bool) {\r\n  r, err := client.Get(url)\r\n  if err != nil {\r\n    return nil, false\r\n  }\r\n  bytes, _ := ioutil.ReadAll(r.Body)\r\n  r.Body.Close()\r\n\r\n  stringBytes := string(bytes)\r\n  if stringBytes == \"Content not found\" {\r\n    return nil, false\r\n  }\r\n  tensor, _ := tf.NewTensor(stringBytes)\r\n\r\n  session, _ := tf.NewSession(normaliseGraph, nil)\r\n  defer session.Close()\r\n\r\n  normalized, err := session.Run(\r\n    map[tf.Output]*tf.Tensor{normaliseInput: tensor},\r\n    []tf.Output{normaliseOutput},\r\n    nil)\r\n  if err != nil {\r\n    return nil, false\r\n  }\r\n  return normalized[0], true\r\n}\r\n```\r\n\r\nI'm using macOS Sierra, but this error also exists when I compile the project for Linux. I have included both of these Go environments below. On Sierra, I installed TensorFlow using Homebrew, and on Linux, I installed it using the instructions [here](https://www.tensorflow.org/install/install_go).\r\n\r\n```\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"darwin\"\r\nGOOS=\"darwin\"\r\nGOPATH=\"/Users/Jamie/Documents/Go\"\r\nGORACE=\"\"\r\nGOROOT=\"/usr/local/Cellar/go/1.9/libexec\"\r\nGOTOOLDIR=\"/usr/local/Cellar/go/1.9/libexec/pkg/tool/darwin_amd64\"\r\nGCCGO=\"gccgo\"\r\nCC=\"clang\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/var/folders/qq/c31qf27j2mng1xxhvk0b6b6c0000gn/T/go-build437606594=/tmp/go-build -gno-record-gcc-switches -fno-common\"\r\nCXX=\"clang++\"\r\nCGO_ENABLED=\"1\"\r\nCGO_CFLAGS=\"-g -O2\"\r\nCGO_CPPFLAGS=\"\"\r\nCGO_CXXFLAGS=\"-g -O2\"\r\nCGO_FFLAGS=\"-g -O2\"\r\nCGO_LDFLAGS=\"-g -O2\"\r\nPKG_CONFIG=\"pkg-config\"\r\n```\r\n\r\n```\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"linux\"\r\nGOOS=\"linux\"\r\nGOPATH=\"/home/ec2-user/go\"\r\nGORACE=\"\"\r\nGOROOT=\"/usr/local/go\"\r\nGOTOOLDIR=\"/usr/local/go/pkg/tool/linux_amd64\"\r\nGCCGO=\"gccgo\"\r\nCC=\"gcc\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build126220137=/tmp/go-build -gno-record-gcc-switches\"\r\nCXX=\"g++\"\r\nCGO_ENABLED=\"1\"\r\nPKG_CONFIG=\"pkg-config\"\r\nCGO_CFLAGS=\"-g -O2\"\r\nCGO_CPPFLAGS=\"\"\r\nCGO_CXXFLAGS=\"-g -O2\"\r\nCGO_FFLAGS=\"-g -O2\"\r\nCGO_LDFLAGS=\"-g -O2\"\r\n```\r\n\r\nThe error I am getting is below. For your information, image.go line 99 is the line that contains `output, err := tfSession.Run(` in the ProcessImage function above.\r\n\r\n```\r\nfatal error: unexpected signal during runtime execution\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x0]\r\n\r\nruntime stack:\r\nruntime.throw(0x436cbee, 0x2a)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/panic.go:605 +0x95\r\nruntime.sigpanic()\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/signal_unix.go:351 +0x2b8\r\n\r\ngoroutine 12 [syscall, locked to thread]:\r\nruntime.cgocall(0x42aedc0, 0xc425d31cd8, 0x4310100)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/cgocall.go:132 +0xe4 fp=0xc425d31c90 sp=0xc425d31c50 pc=0x40044d4\r\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc425d69550, 0xc4200fe0e0, 0x1, 0xc425d69540, 0xc4200fe0d8, 0xc400000001, 0x0, 0x0, ...)\r\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45 fp=0xc425d31cd8 sp=0xc425d31c90 pc=0x419af45\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc425d69550, 0xc4200fe0e0, 0x1, 0xc425d69540, 0xc4200fe0d8, 0xc400000001, 0x0, 0xc400000000, ...)\r\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a fp=0xc425d31d48 sp=0xc425d31cd8 pc=0x41a56ca\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc4200fd770, 0xc425d31e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f fp=0xc425d31de0 sp=0xc425d31d48 pc=0x419efff\r\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2b60, 0x6d, 0xc420080301, 0x0, 0x0)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214 fp=0xc425d31ea8 sp=0xc425d31de0 pc=0x42a8f94\r\ngithub.com/jamiebaggott/vision.ImageWorker()\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c fp=0xc425d31fe0 sp=0xc425d31ea8 pc=0x42a9a3c\r\nruntime.goexit()\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/asm_amd64.s:2337 +0x1 fp=0xc425d31fe8 sp=0xc425d31fe0 pc=0x4059781\r\ncreated by github.com/jamiebaggott/vision.init.1\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\r\n\r\ngoroutine 1 [IO wait, 2 minutes]:\r\ninternal/poll.runtime_pollWait(0x46adeb0, 0x72, 0xffffffffffffffff)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc420108118, 0x72, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc420108118, 0xffffffffffffff00, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Accept(0xc420108100, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:334 +0x1e2\r\nnet.(*netFD).accept(0xc420108100, 0x4376820, 0xc425ce1d98, 0x400439b)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:238 +0x42\r\nnet.(*TCPListener).accept(0xc4201440b0, 0x42f7d80, 0xc425ce1dc8, 0x4003137)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/tcpsock_posix.go:136 +0x2e\r\nnet.(*TCPListener).AcceptTCP(0xc4201440b0, 0xc425ce1e10, 0xc425ce1e18, 0xc425ce1e08)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/tcpsock.go:234 +0x49\r\nnet/http.tcpKeepAliveListener.Accept(0xc4201440b0, 0x43761e8, 0xc42019c000, 0x44dfda0, 0xc4201365d0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:3120 +0x2f\r\nnet/http.(*Server).Serve(0xc420160270, 0x44df960, 0xc4201440b0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:2695 +0x1b2\r\nnet/http.(*Server).ListenAndServe(0xc420160270, 0xc420160270, 0x7)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:2636 +0xa9\r\nnet/http.ListenAndServe(0x43608c9, 0x5, 0x0, 0x0, 0xc42004df70, 0x42ae572)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/server.go:2882 +0x7f\r\nmain.main()\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:18 +0x96\r\n\r\ngoroutine 5 [sleep]:\r\ntime.Sleep(0x1dcd6500)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\r\ngopkg.in/mgo%2ev2.(*mongoCluster).syncServersLoop(0xc4200f6000)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/cluster.go:368 +0x424\r\ncreated by gopkg.in/mgo%2ev2.newCluster\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/cluster.go:78 +0x181\r\n\r\ngoroutine 24 [sleep, 1 minutes]:\r\ntime.Sleep(0x37e11d600)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\r\ngopkg.in/mgo%2ev2.(*mongoServer).pinger(0xc420146000, 0xc420039e01)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/server.go:301 +0x4fd\r\ncreated by gopkg.in/mgo%2ev2.newServer\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/server.go:89 +0x13c\r\n\r\ngoroutine 6 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46adf70, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc420108218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc420108218, 0xc420154000, 0x24, 0x24)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc420108200, 0xc420154000, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc420108200, 0xc420154000, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc42000e038, 0xc420154000, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc42000e038, 0xc420154000, 0x24, 0x24, 0x0, 0x18)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\r\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc4200f80e0)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\r\ncreated by gopkg.in/mgo%2ev2.newSocket\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\r\n\r\ngoroutine 10 [syscall, locked to thread]:\r\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc420188120, 0xc4200fe058, 0x1, 0xc420188110, 0xc4200fe050, 0xc400000001, 0x0, 0x0, ...)\r\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc420188120, 0xc4200fe058, 0x1, 0xc420188110, 0xc4200fe050, 0xc400000001, 0x0, 0xc400000000, ...)\r\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc42038a0f0, 0xc420385e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\r\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2770, 0x6d, 0xc420080101, 0x0, 0x0)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\r\ngithub.com/jamiebaggott/vision.ImageWorker()\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\r\ncreated by github.com/jamiebaggott/vision.init.1\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\r\n\r\ngoroutine 11 [syscall, locked to thread]:\r\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc420188260, 0xc4200fe0b8, 0x1, 0xc420188240, 0xc4200fe0b0, 0xc400000001, 0x0, 0x0, ...)\r\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc420188260, 0xc4200fe0b8, 0x1, 0xc420188240, 0xc4200fe0b0, 0xc400000001, 0x0, 0xc400000000, ...)\r\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc42038a270, 0xc420389e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\r\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f25b0, 0x6d, 0xc42016e101, 0x417abd5, 0xc4200f6000)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\r\ngithub.com/jamiebaggott/vision.ImageWorker()\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\r\ncreated by github.com/jamiebaggott/vision.init.1\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\r\n\r\ngoroutine 13 [syscall, locked to thread]:\r\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc425d69680, 0xc4200fe130, 0x1, 0xc425d69670, 0xc4200fe128, 0xc400000001, 0x0, 0x0, ...)\r\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc425d69680, 0xc4200fe130, 0x1, 0xc425d69670, 0xc4200fe128, 0xc400000001, 0x0, 0xc400000000, ...)\r\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc4200fd950, 0xc425cdfe78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\r\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2d20, 0x6e, 0xc420080601, 0x0, 0x0)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\r\ngithub.com/jamiebaggott/vision.ImageWorker()\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\r\ncreated by github.com/jamiebaggott/vision.init.1\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\r\n\r\ngoroutine 14 [syscall, locked to thread]:\r\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SessionRun(0xb250860, 0x0, 0xc425d69700, 0xc4200fe180, 0x1, 0xc425d696f0, 0xc4200fe178, 0xc400000001, 0x0, 0x0, ...)\r\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_obj/_cgo_gotypes.go:705 +0x45\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run.func1(0xb250860, 0x0, 0xc425d69700, 0xc4200fe180, 0x1, 0xc425d696f0, 0xc4200fe178, 0xc400000001, 0x0, 0xc400000000, ...)\r\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23a\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Session).Run(0xc42000c0a0, 0xc4200fd9e0, 0xc425d35e78, 0x1, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n\t/Users/Jamie/Documents/Go/src/github.com/tensorflow/tensorflow/tensorflow/go/session.go:87 +0x23f\r\ngithub.com/jamiebaggott/vision.ProcessImage(0xc4202f2930, 0x6c, 0xc42016e301, 0x0, 0x0)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:99 +0x214\r\ngithub.com/jamiebaggott/vision.ImageWorker()\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:174 +0x10c\r\ncreated by github.com/jamiebaggott/vision.init.1\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:38 +0x37c\r\n\r\ngoroutine 43 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46addf0, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc425cfc218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc425cfc218, 0xc420154000, 0x24, 0x24)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc425cfc200, 0xc420154090, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc425cfc200, 0xc420154090, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc4200fe010, 0xc420154090, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc4200fe010, 0xc420154090, 0x24, 0x24, 0x0, 0x18)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\r\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc4200f8ee0)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\r\ncreated by gopkg.in/mgo%2ev2.newSocket\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\r\n\r\ngoroutine 66 [sleep]:\r\ntime.Sleep(0x2aea5400)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\r\ngithub.com/jamiebaggott/vision.GetRequest(0xc42005a000, 0x6b, 0x1, 0x2, 0x42d6a20, 0xc425ceebe0, 0xe, 0xc420154e40)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\r\ngithub.com/jamiebaggott/vision.GetUsers(0xc420154e40, 0x30, 0xc42013c720, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\r\ngithub.com/jamiebaggott/vision.Run(0xc42013c720, 0x1b, 0xc420084aa0)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\r\ncreated by main.handler\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\r\n\r\ngoroutine 405 [chan receive, 1 minutes]:\r\ngithub.com/jamiebaggott/vision.ProcessImages(0xc42013c720, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\r\ncreated by github.com/jamiebaggott/vision.Run\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\r\n\r\ngoroutine 29 [sleep]:\r\ntime.Sleep(0x2aea5400)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\r\ngithub.com/jamiebaggott/vision.GetRequest(0xc42005bd50, 0x6c, 0x1, 0x2, 0x42d6a20, 0xc425d9aa20, 0xe, 0xc4200181c0)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\r\ngithub.com/jamiebaggott/vision.GetUsers(0xc4200181c0, 0x32, 0xc420158860, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\r\ngithub.com/jamiebaggott/vision.Run(0xc420158860, 0x1b, 0xc4200846e0)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\r\ncreated by main.handler\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\r\n\r\ngoroutine 69 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46ada30, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc42025a118, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc42025a118, 0xc420244b00, 0x24, 0x24)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc42025a100, 0xc420244ba0, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc42025a100, 0xc420244ba0, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc420286018, 0xc420244ba0, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420286018, 0xc420244ba0, 0x24, 0x24, 0x0, 0x18)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\r\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425e4b420)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\r\ncreated by gopkg.in/mgo%2ev2.newSocket\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\r\n\r\ngoroutine 33 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46adbb0, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc425e1c218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc425e1c218, 0xc420244a00, 0x24, 0x24)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc425e1c200, 0xc420244ae0, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc425e1c200, 0xc420244ae0, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc420144078, 0xc420244ae0, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420144078, 0xc420244ae0, 0x24, 0x24, 0x0, 0x339cc)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\r\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc420146620)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\r\ncreated by gopkg.in/mgo%2ev2.newSocket\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\r\n\r\ngoroutine 439 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46ad670, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc42025a298, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc42025a298, 0xc42008b000, 0x1000, 0x1000)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc42025a280, 0xc42008b000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc42025a280, 0xc42008b000, 0x1000, 0x1000, 0x0, 0x8, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc420286078, 0xc42008b000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ncrypto/tls.(*block).readFromUntil(0xc42038b710, 0xb4640e8, 0xc420286078, 0x5, 0xc420286078, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:488 +0x95\r\ncrypto/tls.(*Conn).readRecord(0xc420120380, 0x4376817, 0xc4201204a0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:590 +0xe0\r\ncrypto/tls.(*Conn).Read(0xc420120380, 0xc420342000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:1134 +0x110\r\nbufio.(*Reader).Read(0xc420328b40, 0xc4201e8e38, 0x9, 0x9, 0xc425d2bc70, 0x402b956, 0x4376820)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/bufio/bufio.go:213 +0x30b\r\nio.ReadAtLeast(0x44daa60, 0xc420328b40, 0xc4201e8e38, 0x9, 0x9, 0x9, 0xc425d2bcd0, 0xc425d2bcd0, 0x4007d52)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:309 +0x86\r\nio.ReadFull(0x44daa60, 0xc420328b40, 0xc4201e8e38, 0x9, 0x9, 0xc420113b00, 0xc425d2bd08, 0xc400000001)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:327 +0x58\r\nnet/http.http2readFrameHeader(0xc4201e8e38, 0x9, 0x9, 0x44daa60, 0xc420328b40, 0x0, 0xc400000000, 0xc425d2bdf0, 0x4266459)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1516 +0x7b\r\nnet/http.(*http2Framer).ReadFrame(0xc4201e8e00, 0xc4200fc180, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1774 +0xa4\r\nnet/http.(*http2clientConnReadLoop).run(0xc425d2bfb0, 0x4376220, 0xc42033cfb0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7862 +0x92\r\nnet/http.(*http2ClientConn).readLoop(0xc42016eb60)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7788 +0x9d\r\ncreated by net/http.(*http2Transport).newClientConn\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7053 +0x6b9\r\n\r\ngoroutine 67 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46adaf0, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc420108798, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc420108798, 0xc420155200, 0x24, 0x24)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc420108780, 0xc420155200, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc420108780, 0xc420155200, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc420286008, 0xc420155200, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420286008, 0xc420155200, 0x24, 0x24, 0x0, 0x18)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\r\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425e4a1c0)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\r\ncreated by gopkg.in/mgo%2ev2.newSocket\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\r\n\r\ngoroutine 56 [sleep]:\r\ntime.Sleep(0x2aea5400)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\r\ngithub.com/jamiebaggott/vision.GetRequest(0xc420345ab0, 0x6c, 0x1, 0x2, 0x42d6a20, 0xc4200e1ae0, 0xe, 0xc425e04200)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\r\ngithub.com/jamiebaggott/vision.GetUsers(0xc425e04200, 0x32, 0xc4201589a0, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\r\ngithub.com/jamiebaggott/vision.Run(0xc4201589a0, 0x1b, 0xc425dc08c0)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\r\ncreated by main.handler\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\r\n\r\ngoroutine 85 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46ad970, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc42025a598, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc42025a598, 0xc420155500, 0x24, 0x24)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc42025a580, 0xc420155530, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc42025a580, 0xc420155530, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc420144098, 0xc420155530, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420144098, 0xc420155530, 0x24, 0x24, 0x0, 0x339cc)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\r\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc420147960)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\r\ncreated by gopkg.in/mgo%2ev2.newSocket\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\r\n\r\ngoroutine 59 [sleep]:\r\ntime.Sleep(0x2aea5400)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/time.go:65 +0x130\r\ngithub.com/jamiebaggott/vision.GetRequest(0xc425cf4000, 0x6d, 0x1, 0x2, 0x42d6a20, 0xc425d8a800, 0xe, 0xc4200185c0)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:23 +0x53e\r\ngithub.com/jamiebaggott/vision.GetUsers(0xc4200185c0, 0x33, 0xc42013cb40, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/request.go:151 +0x4ce\r\ngithub.com/jamiebaggott/vision.Run(0xc42013cb40, 0x1b, 0xc425e205a0)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:119 +0x10b\r\ncreated by main.handler\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/main/hashtag.go:66 +0x4e1\r\n\r\ngoroutine 446 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46add30, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc425e1c498, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc425e1c498, 0xc4200ae800, 0x400, 0x400)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc425e1c480, 0xc4200ae800, 0x400, 0x400, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc425e1c480, 0xc4200ae800, 0x400, 0x400, 0xc420420a00, 0x158f2dd4a2167001, 0xc42003f870)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc42000e048, 0xc4200ae800, 0x400, 0x400, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ncrypto/tls.(*block).readFromUntil(0xc42024a090, 0xb4640e8, 0xc42000e048, 0x5, 0xc42000e048, 0xc42051c2c5)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:488 +0x95\r\ncrypto/tls.(*Conn).readRecord(0xc420130000, 0x4376817, 0xc420130120, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:590 +0xe0\r\ncrypto/tls.(*Conn).Read(0xc420130000, 0xc425d7d000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/crypto/tls/conn.go:1134 +0x110\r\nbufio.(*Reader).Read(0xc420328360, 0xc425decc78, 0x9, 0x9, 0xc42003fc70, 0x402b956, 0x4376820)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/bufio/bufio.go:213 +0x30b\r\nio.ReadAtLeast(0x44daa60, 0xc420328360, 0xc425decc78, 0x9, 0x9, 0x9, 0xc42003fcd0, 0xc42003fcd0, 0x4007d52)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:309 +0x86\r\nio.ReadFull(0x44daa60, 0xc420328360, 0xc425decc78, 0x9, 0x9, 0xc4203283c0, 0xc42003fd08, 0xc400000001)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/io/io.go:327 +0x58\r\nnet/http.http2readFrameHeader(0xc425decc78, 0x9, 0x9, 0x44daa60, 0xc420328360, 0x0, 0xc400000000, 0xc42003fdf0, 0x4266459)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1516 +0x7b\r\nnet/http.(*http2Framer).ReadFrame(0xc425decc40, 0xc42024ac00, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:1774 +0xa4\r\nnet/http.(*http2clientConnReadLoop).run(0xc42003ffb0, 0x4376220, 0xc4203397b0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7862 +0x92\r\nnet/http.(*http2ClientConn).readLoop(0xc420080b60)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7788 +0x9d\r\ncreated by net/http.(*http2Transport).newClientConn\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/http/h2_bundle.go:7053 +0x6b9\r\n\r\ngoroutine 482 [chan receive]:\r\ngithub.com/jamiebaggott/vision.ProcessImages(0xc42013cb40, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\r\ncreated by github.com/jamiebaggott/vision.Run\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\r\n\r\ngoroutine 449 [chan receive]:\r\ngithub.com/jamiebaggott/vision.ProcessImages(0xc420158860, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\r\ncreated by github.com/jamiebaggott/vision.Run\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\r\n\r\ngoroutine 392 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46ad8b0, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc42025a198, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc42025a198, 0xc425d8ce00, 0x24, 0x24)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc42025a180, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc42025a180, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc420144008, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420144008, 0xc425d8ce70, 0x24, 0x24, 0x0, 0x339cc)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\r\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc420246e00)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\r\ncreated by gopkg.in/mgo%2ev2.newSocket\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\r\n\r\ngoroutine 462 [chan receive]:\r\ngithub.com/jamiebaggott/vision.ProcessImages(0xc4201589a0, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:81 +0x35b\r\ncreated by github.com/jamiebaggott/vision.Run\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/database.go:118 +0xdc\r\n\r\ngoroutine 364 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46ad7f0, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc425e1c118, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc425e1c118, 0xc42001c700, 0x24, 0x24)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc425e1c100, 0xc42001c7b0, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc425e1c100, 0xc42001c7b0, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc420286000, 0xc42001c7b0, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc420286000, 0xc42001c7b0, 0x24, 0x24, 0x0, 0xa9)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\r\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425e4a2a0)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\r\ncreated by gopkg.in/mgo%2ev2.newSocket\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\r\n\r\ngoroutine 483 [chan send]:\r\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d02960, 0xc4204f20c0, 0xc4200e1ba0, 0xc420345b20, 0xc42013cb40, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\r\ncreated by github.com/jamiebaggott/vision.ProcessImages\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\r\n\r\ngoroutine 394 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46adc70, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc425cfd218, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc425cfd218, 0xc420245800, 0x24, 0x24)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc425cfd200, 0xc420245800, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc425cfd200, 0xc420245800, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc4200fe028, 0xc420245800, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc4200fe028, 0xc420245800, 0x24, 0x24, 0x0, 0x339cc)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\r\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc425dec000)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\r\ncreated by gopkg.in/mgo%2ev2.newSocket\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\r\n\r\ngoroutine 385 [chan send]:\r\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d020f0, 0xc420119b00, 0xc425d049c0, 0xc4202f3ea0, 0xc42013c720, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\r\ncreated by github.com/jamiebaggott/vision.ProcessImages\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\r\n\r\ngoroutine 461 [IO wait]:\r\ninternal/poll.runtime_pollWait(0x46ad4f0, 0x72, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/runtime/netpoll.go:173 +0x57\r\ninternal/poll.(*pollDesc).wait(0xc420108d98, 0x72, 0xffffffffffffff00, 0x44dd020, 0x44d9690)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:85 +0xae\r\ninternal/poll.(*pollDesc).waitRead(0xc420108d98, 0xc420244e00, 0x24, 0x24)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\ninternal/poll.(*FD).Read(0xc420108d80, 0xc420244e70, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/internal/poll/fd_unix.go:125 +0x18a\r\nnet.(*netFD).Read(0xc420108d80, 0xc420244e70, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/fd_unix.go:202 +0x52\r\nnet.(*conn).Read(0xc4200fe1a0, 0xc420244e70, 0x24, 0x24, 0x0, 0x0, 0x0)\r\n\t/usr/local/Cellar/go/1.9/libexec/src/net/net.go:176 +0x6d\r\ngopkg.in/mgo%2ev2.fill(0x44e1700, 0xc4200fe1a0, 0xc420244e70, 0x24, 0x24, 0x0, 0x1e7)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:535 +0x53\r\ngopkg.in/mgo%2ev2.(*mongoSocket).readLoop(0xc4201e8540)\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:551 +0x658\r\ncreated by gopkg.in/mgo%2ev2.newSocket\r\n\t/Users/Jamie/Documents/Go/src/gopkg.in/mgo.v2/socket.go:194 +0x23f\r\n\r\ngoroutine 463 [chan send]:\r\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d6c2d0, 0xc42038ad80, 0xc425d83820, 0xc42005a150, 0xc4201589a0, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\r\ncreated by github.com/jamiebaggott/vision.ProcessImages\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\r\n\r\ngoroutine 464 [chan send]:\r\ngithub.com/jamiebaggott/vision.ProcessImages.func1(0xc425d6c3c0, 0xc42038ae40, 0xc425d83960, 0xc42005a1c0, 0xc420158860, 0x1b)\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:62 +0x1a3\r\ncreated by github.com/jamiebaggott/vision.ProcessImages\r\n\t/Users/Jamie/Documents/Go/src/github.com/jamiebaggott/vision/image.go:57 +0x327\r\n```"}