{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13963", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13963/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13963/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13963/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13963", "id": 268250190, "node_id": "MDU6SXNzdWUyNjgyNTAxOTA=", "number": 13963, "title": "Tensorflow crashes when importing certain modules before tensorflow", "user": {"login": "jeherr", "id": 17952097, "node_id": "MDQ6VXNlcjE3OTUyMDk3", "avatar_url": "https://avatars0.githubusercontent.com/u/17952097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeherr", "html_url": "https://github.com/jeherr", "followers_url": "https://api.github.com/users/jeherr/followers", "following_url": "https://api.github.com/users/jeherr/following{/other_user}", "gists_url": "https://api.github.com/users/jeherr/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeherr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeherr/subscriptions", "organizations_url": "https://api.github.com/users/jeherr/orgs", "repos_url": "https://api.github.com/users/jeherr/repos", "events_url": "https://api.github.com/users/jeherr/events{/privacy}", "received_events_url": "https://api.github.com/users/jeherr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-10-25T02:53:56Z", "updated_at": "2018-04-11T02:13:18Z", "closed_at": "2018-04-11T02:13:18Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>\n<p><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nUbuntu 16.04</p>\n</li>\n<li>\n<p><strong>TensorFlow installed from (source or binary)</strong>:<br>\nbinary both from conda-forge and from pip install using the tfBinaryURL</p>\n</li>\n<li>\n<p><strong>TensorFlow version (use command below)</strong>:<br>\n1.3.0</p>\n</li>\n<li>\n<p><strong>Python version</strong>:<br>\n3.6.2 from Anaconda</p>\n</li>\n<li>\n<p><strong>CUDA/cuDNN version</strong>:<br>\nCUDA 8.0 cuDNN 6.0</p>\n</li>\n<li>\n<p><strong>GPU model and memory</strong>:<br>\nGTX 1060 6 GB RAM</p>\n</li>\n<li>\n<p><strong>Exact command to reproduce</strong>:</p>\n</li>\n</ul>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> psi4\n<span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\nhello <span class=\"pl-k\">=</span> tf.constant(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello, TensorFlow!<span class=\"pl-pds\">'</span></span>)\nsess <span class=\"pl-k\">=</span> tf.Session()\n<span class=\"pl-c1\">print</span>(sess.run(hello))</pre></div>\n<h3>Describe the problem</h3>\n<p>Running the above code produces the following error</p>\n<pre><code>2017-10-24 22:17:35.570620: F tensorflow/core/framework/op.cc:165] Non-OK-status: RegisterAlreadyLocked(deferred_[i]) status: Invalid argument: Could not parse default value '4000' from Attr(\"upper_frequency_limit: float = 4000\") for Op Mfcc\nCould not parse default value '20' from Attr(\"lower_frequency_limit: float = 20\") for Op Mfcc\nforrtl: error (76): Abort trap signal\n</code></pre>\n<p>Strangely if tensorflow is imported before psi4 then the same error does not occur. Also, the error seems to be related to one of the Ops in tensorflow/tensorflow/core/kernels/mfcc.h which as far as I can tell is not an Op that I'm even using.</p>\n<p>This issue occurs with at least two different python modules that I know of, psi4 as I have run into, and lycon which has their own issue open regarding this same error <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"256504120\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/ethereon/lycon/issues/3\" data-hovercard-type=\"issue\" data-hovercard-url=\"/ethereon/lycon/issues/3/hovercard\" href=\"https://github.com/ethereon/lycon/issues/3\">ethereon/lycon#3</a>. In the linked issue it seems that this error occurs for others on python 2 and 3.5 with Ubuntu 16.04 both with and without GPU support for tensorflow, but another user states that this did not occur for him on Ubuntu 14.04 or on macOS 10.13. It seems like this may be an issue specific to at least Ubuntu 16.04 then.</p>\n<h3>Source code / logs</h3>\n<p>Full output from the error</p>\n<pre><code>2017-10-24 22:17:35.570620: F tensorflow/core/framework/op.cc:165] Non-OK-status: RegisterAlreadyLocked(deferred_[i]) status: Invalid argument: Could not parse default value '4000' from Attr(\"upper_frequency_limit: float = 4000\") for Op Mfcc\nCould not parse default value '20' from Attr(\"lower_frequency_limit: float = 20\") for Op Mfcc\nforrtl: error (76): Abort trap signal\nImage              PC                Routine            Line        Source             \nlibpcm.so.1        00007FCA4B14A725  Unknown               Unknown  Unknown\nlibpcm.so.1        00007FCA4B148347  Unknown               Unknown  Unknown\nlibpcm.so.1        00007FCA4B05FAA2  Unknown               Unknown  Unknown\nlibpcm.so.1        00007FCA4B05F8F6  Unknown               Unknown  Unknown\nlibpcm.so.1        00007FCA4B02DEFD  Unknown               Unknown  Unknown\nlibpcm.so.1        00007FCA4B031ABF  Unknown               Unknown  Unknown\nlibpthread.so.0    00007FCA5609F390  Unknown               Unknown  Unknown\nlibc.so.6          00007FCA55CF9428  Unknown               Unknown  Unknown\nlibc.so.6          00007FCA55CFB02A  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0DA71B94  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D94AAFE  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D94B21A  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D924199  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D946EFE  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D934760  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D68F8D7  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D62136E  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D621488  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D621876  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0B615970  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0B434177  Unknown               Unknown  Unknown\npython             000055BE1E6850C6  Unknown               Unknown  Unknown\npython             000055BE1E7181DC  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E711FEB  Unknown               Unknown  Unknown\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E713116  Unknown               Unknown  Unknown\npython             000055BE1E713B84  Unknown               Unknown  Unknown\npython             000055BE1E684F8E  Unknown               Unknown  Unknown\npython             000055BE1E73AF74  Unknown               Unknown  Unknown\npython             000055BE1E711334  Unknown               Unknown  Unknown\npython             000055BE1E712221  Unknown               Unknown  Unknown\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E711908  Unknown               Unknown  Unknown\npython             000055BE1E712221  Unknown               Unknown  Unknown\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E711FEB  Unknown               Unknown  Unknown\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E711334  Unknown               Unknown  Unknown\npython             000055BE1E712221  Unknown               Unknown  Unknown\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E712D58  Unknown               Unknown  Unknown\npython             000055BE1E713B0C  Unknown               Unknown  Unknown\npython             000055BE1E78DF04  Unknown               Unknown  Unknown\npython             000055BE1E65475A  Unknown               Unknown  Unknown\npython             000055BE1E6548FD  Unknown               Unknown  Unknown\npython             000055BE1E65495E  Unknown               Unknown  Unknown\npython             000055BE1E656B65  Unknown               Unknown  Unknown\npython             000055BE1E65951E  Unknown               Unknown  Unknown\nlibc.so.6          00007FCA55CE4830  Unknown               Unknown  Unknown\npython             000055BE1E7403D9  Unknown               Unknown  Unknown\nAborted (core dumped)\n</code></pre>", "body_text": "System information\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nUbuntu 16.04\n\n\nTensorFlow installed from (source or binary):\nbinary both from conda-forge and from pip install using the tfBinaryURL\n\n\nTensorFlow version (use command below):\n1.3.0\n\n\nPython version:\n3.6.2 from Anaconda\n\n\nCUDA/cuDNN version:\nCUDA 8.0 cuDNN 6.0\n\n\nGPU model and memory:\nGTX 1060 6 GB RAM\n\n\nExact command to reproduce:\n\n\nimport psi4\nimport tensorflow as tf\nhello = tf.constant('Hello, TensorFlow!')\nsess = tf.Session()\nprint(sess.run(hello))\nDescribe the problem\nRunning the above code produces the following error\n2017-10-24 22:17:35.570620: F tensorflow/core/framework/op.cc:165] Non-OK-status: RegisterAlreadyLocked(deferred_[i]) status: Invalid argument: Could not parse default value '4000' from Attr(\"upper_frequency_limit: float = 4000\") for Op Mfcc\nCould not parse default value '20' from Attr(\"lower_frequency_limit: float = 20\") for Op Mfcc\nforrtl: error (76): Abort trap signal\n\nStrangely if tensorflow is imported before psi4 then the same error does not occur. Also, the error seems to be related to one of the Ops in tensorflow/tensorflow/core/kernels/mfcc.h which as far as I can tell is not an Op that I'm even using.\nThis issue occurs with at least two different python modules that I know of, psi4 as I have run into, and lycon which has their own issue open regarding this same error ethereon/lycon#3. In the linked issue it seems that this error occurs for others on python 2 and 3.5 with Ubuntu 16.04 both with and without GPU support for tensorflow, but another user states that this did not occur for him on Ubuntu 14.04 or on macOS 10.13. It seems like this may be an issue specific to at least Ubuntu 16.04 then.\nSource code / logs\nFull output from the error\n2017-10-24 22:17:35.570620: F tensorflow/core/framework/op.cc:165] Non-OK-status: RegisterAlreadyLocked(deferred_[i]) status: Invalid argument: Could not parse default value '4000' from Attr(\"upper_frequency_limit: float = 4000\") for Op Mfcc\nCould not parse default value '20' from Attr(\"lower_frequency_limit: float = 20\") for Op Mfcc\nforrtl: error (76): Abort trap signal\nImage              PC                Routine            Line        Source             \nlibpcm.so.1        00007FCA4B14A725  Unknown               Unknown  Unknown\nlibpcm.so.1        00007FCA4B148347  Unknown               Unknown  Unknown\nlibpcm.so.1        00007FCA4B05FAA2  Unknown               Unknown  Unknown\nlibpcm.so.1        00007FCA4B05F8F6  Unknown               Unknown  Unknown\nlibpcm.so.1        00007FCA4B02DEFD  Unknown               Unknown  Unknown\nlibpcm.so.1        00007FCA4B031ABF  Unknown               Unknown  Unknown\nlibpthread.so.0    00007FCA5609F390  Unknown               Unknown  Unknown\nlibc.so.6          00007FCA55CF9428  Unknown               Unknown  Unknown\nlibc.so.6          00007FCA55CFB02A  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0DA71B94  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D94AAFE  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D94B21A  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D924199  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D946EFE  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D934760  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D68F8D7  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D62136E  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D621488  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0D621876  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0B615970  Unknown               Unknown  Unknown\n_pywrap_tensorflo  00007FCA0B434177  Unknown               Unknown  Unknown\npython             000055BE1E6850C6  Unknown               Unknown  Unknown\npython             000055BE1E7181DC  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E711FEB  Unknown               Unknown  Unknown\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E713116  Unknown               Unknown  Unknown\npython             000055BE1E713B84  Unknown               Unknown  Unknown\npython             000055BE1E684F8E  Unknown               Unknown  Unknown\npython             000055BE1E73AF74  Unknown               Unknown  Unknown\npython             000055BE1E711334  Unknown               Unknown  Unknown\npython             000055BE1E712221  Unknown               Unknown  Unknown\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E711908  Unknown               Unknown  Unknown\npython             000055BE1E712221  Unknown               Unknown  Unknown\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E711FEB  Unknown               Unknown  Unknown\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E711334  Unknown               Unknown  Unknown\npython             000055BE1E712221  Unknown               Unknown  Unknown\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\npython             000055BE1E712D58  Unknown               Unknown  Unknown\npython             000055BE1E713B0C  Unknown               Unknown  Unknown\npython             000055BE1E78DF04  Unknown               Unknown  Unknown\npython             000055BE1E65475A  Unknown               Unknown  Unknown\npython             000055BE1E6548FD  Unknown               Unknown  Unknown\npython             000055BE1E65495E  Unknown               Unknown  Unknown\npython             000055BE1E656B65  Unknown               Unknown  Unknown\npython             000055BE1E65951E  Unknown               Unknown  Unknown\nlibc.so.6          00007FCA55CE4830  Unknown               Unknown  Unknown\npython             000055BE1E7403D9  Unknown               Unknown  Unknown\nAborted (core dumped)", "body": "### System information\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nUbuntu 16.04\r\n\r\n- **TensorFlow installed from (source or binary)**:\r\nbinary both from conda-forge and from pip install using the tfBinaryURL\r\n\r\n- **TensorFlow version (use command below)**:\r\n1.3.0\r\n\r\n- **Python version**:\r\n3.6.2 from Anaconda\r\n\r\n- **CUDA/cuDNN version**:\r\nCUDA 8.0 cuDNN 6.0\r\n\r\n- **GPU model and memory**:\r\nGTX 1060 6 GB RAM\r\n\r\n- **Exact command to reproduce**:\r\n```python\r\nimport psi4\r\nimport tensorflow as tf\r\nhello = tf.constant('Hello, TensorFlow!')\r\nsess = tf.Session()\r\nprint(sess.run(hello))\r\n```\r\n\r\n### Describe the problem\r\nRunning the above code produces the following error\r\n\r\n```\r\n2017-10-24 22:17:35.570620: F tensorflow/core/framework/op.cc:165] Non-OK-status: RegisterAlreadyLocked(deferred_[i]) status: Invalid argument: Could not parse default value '4000' from Attr(\"upper_frequency_limit: float = 4000\") for Op Mfcc\r\nCould not parse default value '20' from Attr(\"lower_frequency_limit: float = 20\") for Op Mfcc\r\nforrtl: error (76): Abort trap signal\r\n```\r\n\r\nStrangely if tensorflow is imported before psi4 then the same error does not occur. Also, the error seems to be related to one of the Ops in tensorflow/tensorflow/core/kernels/mfcc.h which as far as I can tell is not an Op that I'm even using.\r\n\r\nThis issue occurs with at least two different python modules that I know of, psi4 as I have run into, and lycon which has their own issue open regarding this same error ethereon/lycon#3. In the linked issue it seems that this error occurs for others on python 2 and 3.5 with Ubuntu 16.04 both with and without GPU support for tensorflow, but another user states that this did not occur for him on Ubuntu 14.04 or on macOS 10.13. It seems like this may be an issue specific to at least Ubuntu 16.04 then.\r\n\r\n### Source code / logs\r\nFull output from the error\r\n\r\n```\r\n2017-10-24 22:17:35.570620: F tensorflow/core/framework/op.cc:165] Non-OK-status: RegisterAlreadyLocked(deferred_[i]) status: Invalid argument: Could not parse default value '4000' from Attr(\"upper_frequency_limit: float = 4000\") for Op Mfcc\r\nCould not parse default value '20' from Attr(\"lower_frequency_limit: float = 20\") for Op Mfcc\r\nforrtl: error (76): Abort trap signal\r\nImage              PC                Routine            Line        Source             \r\nlibpcm.so.1        00007FCA4B14A725  Unknown               Unknown  Unknown\r\nlibpcm.so.1        00007FCA4B148347  Unknown               Unknown  Unknown\r\nlibpcm.so.1        00007FCA4B05FAA2  Unknown               Unknown  Unknown\r\nlibpcm.so.1        00007FCA4B05F8F6  Unknown               Unknown  Unknown\r\nlibpcm.so.1        00007FCA4B02DEFD  Unknown               Unknown  Unknown\r\nlibpcm.so.1        00007FCA4B031ABF  Unknown               Unknown  Unknown\r\nlibpthread.so.0    00007FCA5609F390  Unknown               Unknown  Unknown\r\nlibc.so.6          00007FCA55CF9428  Unknown               Unknown  Unknown\r\nlibc.so.6          00007FCA55CFB02A  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0DA71B94  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0D94AAFE  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0D94B21A  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0D924199  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0D946EFE  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0D934760  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0D68F8D7  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0D62136E  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0D621488  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0D621876  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0B615970  Unknown               Unknown  Unknown\r\n_pywrap_tensorflo  00007FCA0B434177  Unknown               Unknown  Unknown\r\npython             000055BE1E6850C6  Unknown               Unknown  Unknown\r\npython             000055BE1E7181DC  Unknown               Unknown  Unknown\r\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\r\npython             000055BE1E711FEB  Unknown               Unknown  Unknown\r\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\r\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\r\npython             000055BE1E713116  Unknown               Unknown  Unknown\r\npython             000055BE1E713B84  Unknown               Unknown  Unknown\r\npython             000055BE1E684F8E  Unknown               Unknown  Unknown\r\npython             000055BE1E73AF74  Unknown               Unknown  Unknown\r\npython             000055BE1E711334  Unknown               Unknown  Unknown\r\npython             000055BE1E712221  Unknown               Unknown  Unknown\r\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\r\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\r\npython             000055BE1E711908  Unknown               Unknown  Unknown\r\npython             000055BE1E712221  Unknown               Unknown  Unknown\r\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\r\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\r\npython             000055BE1E711FEB  Unknown               Unknown  Unknown\r\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\r\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\r\npython             000055BE1E711334  Unknown               Unknown  Unknown\r\npython             000055BE1E712221  Unknown               Unknown  Unknown\r\npython             000055BE1E7182B5  Unknown               Unknown  Unknown\r\npython             000055BE1E7398BA  Unknown               Unknown  Unknown\r\npython             000055BE1E712D58  Unknown               Unknown  Unknown\r\npython             000055BE1E713B0C  Unknown               Unknown  Unknown\r\npython             000055BE1E78DF04  Unknown               Unknown  Unknown\r\npython             000055BE1E65475A  Unknown               Unknown  Unknown\r\npython             000055BE1E6548FD  Unknown               Unknown  Unknown\r\npython             000055BE1E65495E  Unknown               Unknown  Unknown\r\npython             000055BE1E656B65  Unknown               Unknown  Unknown\r\npython             000055BE1E65951E  Unknown               Unknown  Unknown\r\nlibc.so.6          00007FCA55CE4830  Unknown               Unknown  Unknown\r\npython             000055BE1E7403D9  Unknown               Unknown  Unknown\r\nAborted (core dumped)\r\n```\r\n"}