{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4999", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4999/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4999/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4999/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4999", "id": 183289459, "node_id": "MDU6SXNzdWUxODMyODk0NTk=", "number": 4999, "title": "[bugs] TensorFlow ci_build docker bazel extration error", "user": {"login": "alrojo", "id": 12167999, "node_id": "MDQ6VXNlcjEyMTY3OTk5", "avatar_url": "https://avatars1.githubusercontent.com/u/12167999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alrojo", "html_url": "https://github.com/alrojo", "followers_url": "https://api.github.com/users/alrojo/followers", "following_url": "https://api.github.com/users/alrojo/following{/other_user}", "gists_url": "https://api.github.com/users/alrojo/gists{/gist_id}", "starred_url": "https://api.github.com/users/alrojo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alrojo/subscriptions", "organizations_url": "https://api.github.com/users/alrojo/orgs", "repos_url": "https://api.github.com/users/alrojo/repos", "events_url": "https://api.github.com/users/alrojo/events{/privacy}", "received_events_url": "https://api.github.com/users/alrojo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-16T20:28:10Z", "updated_at": "2016-10-18T15:15:37Z", "closed_at": "2016-10-17T04:21:59Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Within the past week I started getting a bazel extraction error when trying to build my docker image for testing.<br>\nBelow is a reproducible description of the error.</p>\n<p>Generic Ubuntu 14.04 on AWS (c4.4xlarge)</p>\n<pre><code>$uname -r\n3.13.0-91-generic\n</code></pre>\n<p>Install docker according to installation instructions at <a href=\"https://docs.docker.com/engine/installation/linux/ubuntulinux/\" rel=\"nofollow\">docker ubuntu</a> with a docker group added to the default user.</p>\n<pre><code>$sudo apt-get install git\n$git clone https://github.com/tensorflow/tensorflow.git\n$cd tensorflow\n$tensorflow/tools/ci_build/ci_build.sh CPU bazel test //tensorflow/...\n</code></pre>\n<p>I then receive the following error</p>\n<pre><code>Step 10 : RUN /install/install_buildifier.sh\n ---&gt; Running in f38c73826642\nCloning into 'buildifier'...\n/buildifier /\nExtracting Bazel installation...\n.\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Encountered error while reading extension file 'go/def.bzl': no such package '@io_bazel_rules_go//go': Error cloning repository: https://github.com/bazelbuild/rules_go.git: cannot open git-upload-pack caused by https://github.com/bazelbuild/rules_go.git: cannot open git-upload-pack caused by java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty caused by Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty caused by the trustAnchors parameter must be non-empty.\n____Elapsed time: 1.730s\nThe command '/bin/sh -c /install/install_buildifier.sh' returned a non-zero code: 1\nERROR: docker build failed. Dockerfile is at /home/ubuntu/tensorflow/tensorflow/tools/ci_build/Dockerfile.cpu\n</code></pre>", "body_text": "Within the past week I started getting a bazel extraction error when trying to build my docker image for testing.\nBelow is a reproducible description of the error.\nGeneric Ubuntu 14.04 on AWS (c4.4xlarge)\n$uname -r\n3.13.0-91-generic\n\nInstall docker according to installation instructions at docker ubuntu with a docker group added to the default user.\n$sudo apt-get install git\n$git clone https://github.com/tensorflow/tensorflow.git\n$cd tensorflow\n$tensorflow/tools/ci_build/ci_build.sh CPU bazel test //tensorflow/...\n\nI then receive the following error\nStep 10 : RUN /install/install_buildifier.sh\n ---> Running in f38c73826642\nCloning into 'buildifier'...\n/buildifier /\nExtracting Bazel installation...\n.\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Encountered error while reading extension file 'go/def.bzl': no such package '@io_bazel_rules_go//go': Error cloning repository: https://github.com/bazelbuild/rules_go.git: cannot open git-upload-pack caused by https://github.com/bazelbuild/rules_go.git: cannot open git-upload-pack caused by java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty caused by Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty caused by the trustAnchors parameter must be non-empty.\n____Elapsed time: 1.730s\nThe command '/bin/sh -c /install/install_buildifier.sh' returned a non-zero code: 1\nERROR: docker build failed. Dockerfile is at /home/ubuntu/tensorflow/tensorflow/tools/ci_build/Dockerfile.cpu", "body": "Within the past week I started getting a bazel extraction error when trying to build my docker image for testing.\nBelow is a reproducible description of the error.\n\nGeneric Ubuntu 14.04 on AWS (c4.4xlarge)\n\n```\n$uname -r\n3.13.0-91-generic\n```\n\nInstall docker according to installation instructions at [docker ubuntu](https://docs.docker.com/engine/installation/linux/ubuntulinux/) with a docker group added to the default user.\n\n```\n$sudo apt-get install git\n$git clone https://github.com/tensorflow/tensorflow.git\n$cd tensorflow\n$tensorflow/tools/ci_build/ci_build.sh CPU bazel test //tensorflow/...\n```\n\nI then receive the following error\n\n```\nStep 10 : RUN /install/install_buildifier.sh\n ---> Running in f38c73826642\nCloning into 'buildifier'...\n/buildifier /\nExtracting Bazel installation...\n.\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Encountered error while reading extension file 'go/def.bzl': no such package '@io_bazel_rules_go//go': Error cloning repository: https://github.com/bazelbuild/rules_go.git: cannot open git-upload-pack caused by https://github.com/bazelbuild/rules_go.git: cannot open git-upload-pack caused by java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty caused by Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty caused by the trustAnchors parameter must be non-empty.\n____Elapsed time: 1.730s\nThe command '/bin/sh -c /install/install_buildifier.sh' returned a non-zero code: 1\nERROR: docker build failed. Dockerfile is at /home/ubuntu/tensorflow/tensorflow/tools/ci_build/Dockerfile.cpu\n```\n"}