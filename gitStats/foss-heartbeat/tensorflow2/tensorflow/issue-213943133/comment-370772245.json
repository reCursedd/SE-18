{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/370772245", "html_url": "https://github.com/tensorflow/tensorflow/issues/8375#issuecomment-370772245", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8375", "id": 370772245, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDc3MjI0NQ==", "user": {"login": "muayyad-alsadi", "id": 1312683, "node_id": "MDQ6VXNlcjEzMTI2ODM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1312683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muayyad-alsadi", "html_url": "https://github.com/muayyad-alsadi", "followers_url": "https://api.github.com/users/muayyad-alsadi/followers", "following_url": "https://api.github.com/users/muayyad-alsadi/following{/other_user}", "gists_url": "https://api.github.com/users/muayyad-alsadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/muayyad-alsadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muayyad-alsadi/subscriptions", "organizations_url": "https://api.github.com/users/muayyad-alsadi/orgs", "repos_url": "https://api.github.com/users/muayyad-alsadi/repos", "events_url": "https://api.github.com/users/muayyad-alsadi/events{/privacy}", "received_events_url": "https://api.github.com/users/muayyad-alsadi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-06T12:54:26Z", "updated_at": "2018-03-06T12:54:26Z", "author_association": "NONE", "body_html": "<p>From what I see, tensorflow's recall and precision do not mean what they are supposed to mean</p>\n<p>modified from this example from <a href=\"https://github.com/tensorflow/models/blob/master/research/slim/eval_image_classifier.py\">here</a></p>\n<pre><code>    predictions = tf.argmax(logits, 1)\n    labels = tf.squeeze(labels)\n    names_to_values, names_to_updates = slim.metrics.aggregate_metric_map({\n        'Accuracy': slim.metrics.streaming_accuracy(predictions, labels),\n        'Precision': slim.metrics.streaming_precision(predictions, labels),\n        'Recall': slim.metrics.streaming_recall(predictions, labels),\n        'Recall_5': slim.metrics.streaming_recall_at_k(logits, labels, 5),\n        'Recall_3': slim.metrics.streaming_recall_at_k(logits, labels, 3),\n        'Recall_1': slim.metrics.streaming_recall_at_k(logits, labels, 1),\n        })\n</code></pre>\n<pre><code>2018-03-06 12:45:43.520961: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall_1[0.664843738]\n2018-03-06 12:45:43.521368: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall[0.990521312]\n2018-03-06 12:45:43.521429: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall_5[0.857031226]\n2018-03-06 12:45:43.521487: I tensorflow/core/kernels/logging_ops.cc:79] eval/Precision[0.996820331]\n2018-03-06 12:45:43.521537: I tensorflow/core/kernels/logging_ops.cc:79] eval/Accuracy[0.664843738]\n2018-03-06 12:45:43.521584: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall_3[0.809375]\n</code></pre>\n<p>how come both streaming_recall and streaming_precision are 99% while accuracy and top 1 recall are 66%.</p>\n<p>something seriously is different than the known meaning of <a href=\"https://en.wikipedia.org/wiki/Precision_and_recall\" rel=\"nofollow\">recall and precision</a><br>\nwe know.  and why accuracy is same as recall_1 and why recall and recall_1 are different?</p>", "body_text": "From what I see, tensorflow's recall and precision do not mean what they are supposed to mean\nmodified from this example from here\n    predictions = tf.argmax(logits, 1)\n    labels = tf.squeeze(labels)\n    names_to_values, names_to_updates = slim.metrics.aggregate_metric_map({\n        'Accuracy': slim.metrics.streaming_accuracy(predictions, labels),\n        'Precision': slim.metrics.streaming_precision(predictions, labels),\n        'Recall': slim.metrics.streaming_recall(predictions, labels),\n        'Recall_5': slim.metrics.streaming_recall_at_k(logits, labels, 5),\n        'Recall_3': slim.metrics.streaming_recall_at_k(logits, labels, 3),\n        'Recall_1': slim.metrics.streaming_recall_at_k(logits, labels, 1),\n        })\n\n2018-03-06 12:45:43.520961: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall_1[0.664843738]\n2018-03-06 12:45:43.521368: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall[0.990521312]\n2018-03-06 12:45:43.521429: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall_5[0.857031226]\n2018-03-06 12:45:43.521487: I tensorflow/core/kernels/logging_ops.cc:79] eval/Precision[0.996820331]\n2018-03-06 12:45:43.521537: I tensorflow/core/kernels/logging_ops.cc:79] eval/Accuracy[0.664843738]\n2018-03-06 12:45:43.521584: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall_3[0.809375]\n\nhow come both streaming_recall and streaming_precision are 99% while accuracy and top 1 recall are 66%.\nsomething seriously is different than the known meaning of recall and precision\nwe know.  and why accuracy is same as recall_1 and why recall and recall_1 are different?", "body": "From what I see, tensorflow's recall and precision do not mean what they are supposed to mean\r\n\r\nmodified from this example from [here](https://github.com/tensorflow/models/blob/master/research/slim/eval_image_classifier.py)\r\n\r\n```\r\n    predictions = tf.argmax(logits, 1)\r\n    labels = tf.squeeze(labels)\r\n    names_to_values, names_to_updates = slim.metrics.aggregate_metric_map({\r\n        'Accuracy': slim.metrics.streaming_accuracy(predictions, labels),\r\n        'Precision': slim.metrics.streaming_precision(predictions, labels),\r\n        'Recall': slim.metrics.streaming_recall(predictions, labels),\r\n        'Recall_5': slim.metrics.streaming_recall_at_k(logits, labels, 5),\r\n        'Recall_3': slim.metrics.streaming_recall_at_k(logits, labels, 3),\r\n        'Recall_1': slim.metrics.streaming_recall_at_k(logits, labels, 1),\r\n        })\r\n```\r\n\r\n```\r\n2018-03-06 12:45:43.520961: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall_1[0.664843738]\r\n2018-03-06 12:45:43.521368: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall[0.990521312]\r\n2018-03-06 12:45:43.521429: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall_5[0.857031226]\r\n2018-03-06 12:45:43.521487: I tensorflow/core/kernels/logging_ops.cc:79] eval/Precision[0.996820331]\r\n2018-03-06 12:45:43.521537: I tensorflow/core/kernels/logging_ops.cc:79] eval/Accuracy[0.664843738]\r\n2018-03-06 12:45:43.521584: I tensorflow/core/kernels/logging_ops.cc:79] eval/Recall_3[0.809375]\r\n```\r\n\r\nhow come both streaming_recall and streaming_precision are 99% while accuracy and top 1 recall are 66%.\r\n\r\nsomething seriously is different than the known meaning of [recall and precision](https://en.wikipedia.org/wiki/Precision_and_recall)\r\nwe know.  and why accuracy is same as recall_1 and why recall and recall_1 are different?\r\n"}