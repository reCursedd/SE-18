{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/439855918", "html_url": "https://github.com/tensorflow/tensorflow/issues/23562#issuecomment-439855918", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23562", "id": 439855918, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTg1NTkxOA==", "user": {"login": "Keno", "id": 1291671, "node_id": "MDQ6VXNlcjEyOTE2NzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1291671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keno", "html_url": "https://github.com/Keno", "followers_url": "https://api.github.com/users/Keno/followers", "following_url": "https://api.github.com/users/Keno/following{/other_user}", "gists_url": "https://api.github.com/users/Keno/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keno/subscriptions", "organizations_url": "https://api.github.com/users/Keno/orgs", "repos_url": "https://api.github.com/users/Keno/repos", "events_url": "https://api.github.com/users/Keno/events{/privacy}", "received_events_url": "https://api.github.com/users/Keno/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-19T11:06:54Z", "updated_at": "2018-11-19T11:06:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p>There also something broken with the memory overview on OOM:</p>\n<pre><code>Tensorflow error: Status: Attempting to allocate 235.02M. That was not possible. There are 446.86M free. Due to fragmentation, the largest contiguous region of free memory is 234.77M.;\nHBM capacity 8.00G:\n       Top-of-Memory reserved:  528.00M (     553,648,128 bytes)\n          Currently allocated:  212.71M (     223,038,464 bytes)\n         Requested allocation:  235.02M (     246,431,744 bytes)\n                               ------------\n      Available after request:    7.05G (   7,566,816,256 bytes)\n\n\n\t [[{{node XRTExecute}}]]\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\n</code></pre>\n<p>Seems like those 7G are actually allocated, but missing from the overview.</p>", "body_text": "There also something broken with the memory overview on OOM:\nTensorflow error: Status: Attempting to allocate 235.02M. That was not possible. There are 446.86M free. Due to fragmentation, the largest contiguous region of free memory is 234.77M.;\nHBM capacity 8.00G:\n       Top-of-Memory reserved:  528.00M (     553,648,128 bytes)\n          Currently allocated:  212.71M (     223,038,464 bytes)\n         Requested allocation:  235.02M (     246,431,744 bytes)\n                               ------------\n      Available after request:    7.05G (   7,566,816,256 bytes)\n\n\n\t [[{{node XRTExecute}}]]\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\n\nSeems like those 7G are actually allocated, but missing from the overview.", "body": "There also something broken with the memory overview on OOM:\r\n```\r\nTensorflow error: Status: Attempting to allocate 235.02M. That was not possible. There are 446.86M free. Due to fragmentation, the largest contiguous region of free memory is 234.77M.;\r\nHBM capacity 8.00G:\r\n       Top-of-Memory reserved:  528.00M (     553,648,128 bytes)\r\n          Currently allocated:  212.71M (     223,038,464 bytes)\r\n         Requested allocation:  235.02M (     246,431,744 bytes)\r\n                               ------------\r\n      Available after request:    7.05G (   7,566,816,256 bytes)\r\n\r\n\r\n\t [[{{node XRTExecute}}]]\r\nHint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.\r\n```\r\nSeems like those 7G are actually allocated, but missing from the overview."}