{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/213162944", "html_url": "https://github.com/tensorflow/tensorflow/issues/2055#issuecomment-213162944", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2055", "id": 213162944, "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzE2Mjk0NA==", "user": {"login": "codingyourlife", "id": 10122382, "node_id": "MDQ6VXNlcjEwMTIyMzgy", "avatar_url": "https://avatars2.githubusercontent.com/u/10122382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codingyourlife", "html_url": "https://github.com/codingyourlife", "followers_url": "https://api.github.com/users/codingyourlife/followers", "following_url": "https://api.github.com/users/codingyourlife/following{/other_user}", "gists_url": "https://api.github.com/users/codingyourlife/gists{/gist_id}", "starred_url": "https://api.github.com/users/codingyourlife/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codingyourlife/subscriptions", "organizations_url": "https://api.github.com/users/codingyourlife/orgs", "repos_url": "https://api.github.com/users/codingyourlife/repos", "events_url": "https://api.github.com/users/codingyourlife/events{/privacy}", "received_events_url": "https://api.github.com/users/codingyourlife/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-21T23:51:05Z", "updated_at": "2016-04-22T00:01:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I tried but got an error. Did it again to write down the error but it doesn't say much:<br>\n/home/administrator/TensorFlow/tensorflow/tensorflow/examples/android/BUILD:12:1: output 'tensorflow/examples/android/libtensorflow_demo.so' was not created.</p>\n<p>tensorflow/examples/android/BUILD file:</p>\n<pre><code># Description:\n#   Tensorflow camera demo app for Android.\n\npackage(default_visibility = [\"//visibility:public\"])\n\nlicenses([\"notice\"])  # Apache 2.0\n\nload(\"//tensorflow:tensorflow.bzl\", \"tf_copts\")\n\nexports_files([\"LICENSE\"])\n\ncc_binary(\n    name = \"libtensorflow_demo.so\",\n    srcs = glob([\n        \"jni/**/*.cc\",\n        \"jni/**/*.h\",\n    ]),# + [\":libpthread.so\"],\n    copts = tf_copts(),\n    linkopts = [\n        \"-landroid\",\n        \"-ljnigraphics\",\n        \"-llog\",\n        \"-lm\",\n        \"-z defs\",\n        \"-s\",\n        \"-Wl,--icf=all\",  # Identical Code Folding\n        \"-Wl,--exclude-libs,ALL\",  # Exclude syms in all libs from auto export\n    ],\n    linkshared = 1,\n    linkstatic = 1,\n    tags = [\n        \"manual\",\n        \"notap\",\n    ],\n    deps = [\"//tensorflow/core:android_tensorflow_lib\"],\n)\n\n# This library only exists as a workaround to satisfy dependencies\n# that declare -lpthread in their linkopts. Although Android supports\n# pthreads, it does not provide it as a separate library.\n#cc_binary(\n#    name = \"libpthread.so\",\n#    srcs = [],\n#    linkopts = [\"-shared\"],\n#    tags = [\n#        \"manual\",\n#        \"notap\",\n#    ],\n#)\n\ncc_library(\n    name = \"tensorflow_native_libs\",\n    srcs = [\n        #\":libpthread.so\",\n        \":libtensorflow_demo.so\",\n    ],\n    tags = [\n        \"manual\",\n        \"notap\",\n    ],\n)\n\nandroid_binary(\n    name = \"tensorflow_demo\",\n    srcs = glob([\n        \"src/**/*.java\",\n    ]),\n    assets = glob([\"assets/**\"]),\n    assets_dir = \"assets\",\n    custom_package = \"org.tensorflow.demo\",\n    inline_constants = 1,\n    manifest = \"AndroidManifest.xml\",\n    resource_files = glob([\"res/**\"]),\n    tags = [\n        \"manual\",\n        \"notap\",\n    ],\n    deps = [\n        \":tensorflow_native_libs\",\n    ],\n)\n\nfilegroup(\n    name = \"all_files\",\n    srcs = glob(\n        [\"**/*\"],\n        exclude = [\n            \"**/METADATA\",\n            \"**/OWNERS\",\n            \"bin/**\",\n            \"gen/**\",\n        ],\n    ),\n    visibility = [\"//tensorflow:__subpackages__\"],\n)\n\nfilegroup(\n    name = \"java_files\",\n    srcs = glob([\"src/**/*.java\"]),\n)\n\nfilegroup(\n    name = \"jni_files\",\n    srcs = glob([\n        \"jni/**/*.cc\",\n        \"jni/**/*.h\",\n    ]),\n)\n\nfilegroup(\n    name = \"resource_files\",\n    srcs = glob([\"res/**\"]),\n)\n\nexports_files([\"AndroidManifest.xml\"])\n</code></pre>", "body_text": "I tried but got an error. Did it again to write down the error but it doesn't say much:\n/home/administrator/TensorFlow/tensorflow/tensorflow/examples/android/BUILD:12:1: output 'tensorflow/examples/android/libtensorflow_demo.so' was not created.\ntensorflow/examples/android/BUILD file:\n# Description:\n#   Tensorflow camera demo app for Android.\n\npackage(default_visibility = [\"//visibility:public\"])\n\nlicenses([\"notice\"])  # Apache 2.0\n\nload(\"//tensorflow:tensorflow.bzl\", \"tf_copts\")\n\nexports_files([\"LICENSE\"])\n\ncc_binary(\n    name = \"libtensorflow_demo.so\",\n    srcs = glob([\n        \"jni/**/*.cc\",\n        \"jni/**/*.h\",\n    ]),# + [\":libpthread.so\"],\n    copts = tf_copts(),\n    linkopts = [\n        \"-landroid\",\n        \"-ljnigraphics\",\n        \"-llog\",\n        \"-lm\",\n        \"-z defs\",\n        \"-s\",\n        \"-Wl,--icf=all\",  # Identical Code Folding\n        \"-Wl,--exclude-libs,ALL\",  # Exclude syms in all libs from auto export\n    ],\n    linkshared = 1,\n    linkstatic = 1,\n    tags = [\n        \"manual\",\n        \"notap\",\n    ],\n    deps = [\"//tensorflow/core:android_tensorflow_lib\"],\n)\n\n# This library only exists as a workaround to satisfy dependencies\n# that declare -lpthread in their linkopts. Although Android supports\n# pthreads, it does not provide it as a separate library.\n#cc_binary(\n#    name = \"libpthread.so\",\n#    srcs = [],\n#    linkopts = [\"-shared\"],\n#    tags = [\n#        \"manual\",\n#        \"notap\",\n#    ],\n#)\n\ncc_library(\n    name = \"tensorflow_native_libs\",\n    srcs = [\n        #\":libpthread.so\",\n        \":libtensorflow_demo.so\",\n    ],\n    tags = [\n        \"manual\",\n        \"notap\",\n    ],\n)\n\nandroid_binary(\n    name = \"tensorflow_demo\",\n    srcs = glob([\n        \"src/**/*.java\",\n    ]),\n    assets = glob([\"assets/**\"]),\n    assets_dir = \"assets\",\n    custom_package = \"org.tensorflow.demo\",\n    inline_constants = 1,\n    manifest = \"AndroidManifest.xml\",\n    resource_files = glob([\"res/**\"]),\n    tags = [\n        \"manual\",\n        \"notap\",\n    ],\n    deps = [\n        \":tensorflow_native_libs\",\n    ],\n)\n\nfilegroup(\n    name = \"all_files\",\n    srcs = glob(\n        [\"**/*\"],\n        exclude = [\n            \"**/METADATA\",\n            \"**/OWNERS\",\n            \"bin/**\",\n            \"gen/**\",\n        ],\n    ),\n    visibility = [\"//tensorflow:__subpackages__\"],\n)\n\nfilegroup(\n    name = \"java_files\",\n    srcs = glob([\"src/**/*.java\"]),\n)\n\nfilegroup(\n    name = \"jni_files\",\n    srcs = glob([\n        \"jni/**/*.cc\",\n        \"jni/**/*.h\",\n    ]),\n)\n\nfilegroup(\n    name = \"resource_files\",\n    srcs = glob([\"res/**\"]),\n)\n\nexports_files([\"AndroidManifest.xml\"])", "body": "I tried but got an error. Did it again to write down the error but it doesn't say much:\n/home/administrator/TensorFlow/tensorflow/tensorflow/examples/android/BUILD:12:1: output 'tensorflow/examples/android/libtensorflow_demo.so' was not created.\n\ntensorflow/examples/android/BUILD file:\n\n```\n# Description:\n#   Tensorflow camera demo app for Android.\n\npackage(default_visibility = [\"//visibility:public\"])\n\nlicenses([\"notice\"])  # Apache 2.0\n\nload(\"//tensorflow:tensorflow.bzl\", \"tf_copts\")\n\nexports_files([\"LICENSE\"])\n\ncc_binary(\n    name = \"libtensorflow_demo.so\",\n    srcs = glob([\n        \"jni/**/*.cc\",\n        \"jni/**/*.h\",\n    ]),# + [\":libpthread.so\"],\n    copts = tf_copts(),\n    linkopts = [\n        \"-landroid\",\n        \"-ljnigraphics\",\n        \"-llog\",\n        \"-lm\",\n        \"-z defs\",\n        \"-s\",\n        \"-Wl,--icf=all\",  # Identical Code Folding\n        \"-Wl,--exclude-libs,ALL\",  # Exclude syms in all libs from auto export\n    ],\n    linkshared = 1,\n    linkstatic = 1,\n    tags = [\n        \"manual\",\n        \"notap\",\n    ],\n    deps = [\"//tensorflow/core:android_tensorflow_lib\"],\n)\n\n# This library only exists as a workaround to satisfy dependencies\n# that declare -lpthread in their linkopts. Although Android supports\n# pthreads, it does not provide it as a separate library.\n#cc_binary(\n#    name = \"libpthread.so\",\n#    srcs = [],\n#    linkopts = [\"-shared\"],\n#    tags = [\n#        \"manual\",\n#        \"notap\",\n#    ],\n#)\n\ncc_library(\n    name = \"tensorflow_native_libs\",\n    srcs = [\n        #\":libpthread.so\",\n        \":libtensorflow_demo.so\",\n    ],\n    tags = [\n        \"manual\",\n        \"notap\",\n    ],\n)\n\nandroid_binary(\n    name = \"tensorflow_demo\",\n    srcs = glob([\n        \"src/**/*.java\",\n    ]),\n    assets = glob([\"assets/**\"]),\n    assets_dir = \"assets\",\n    custom_package = \"org.tensorflow.demo\",\n    inline_constants = 1,\n    manifest = \"AndroidManifest.xml\",\n    resource_files = glob([\"res/**\"]),\n    tags = [\n        \"manual\",\n        \"notap\",\n    ],\n    deps = [\n        \":tensorflow_native_libs\",\n    ],\n)\n\nfilegroup(\n    name = \"all_files\",\n    srcs = glob(\n        [\"**/*\"],\n        exclude = [\n            \"**/METADATA\",\n            \"**/OWNERS\",\n            \"bin/**\",\n            \"gen/**\",\n        ],\n    ),\n    visibility = [\"//tensorflow:__subpackages__\"],\n)\n\nfilegroup(\n    name = \"java_files\",\n    srcs = glob([\"src/**/*.java\"]),\n)\n\nfilegroup(\n    name = \"jni_files\",\n    srcs = glob([\n        \"jni/**/*.cc\",\n        \"jni/**/*.h\",\n    ]),\n)\n\nfilegroup(\n    name = \"resource_files\",\n    srcs = glob([\"res/**\"]),\n)\n\nexports_files([\"AndroidManifest.xml\"])\n```\n"}