{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/214750702", "html_url": "https://github.com/tensorflow/tensorflow/issues/2034#issuecomment-214750702", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2034", "id": 214750702, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDc1MDcwMg==", "user": {"login": "tmsimont", "id": 1643712, "node_id": "MDQ6VXNlcjE2NDM3MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1643712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmsimont", "html_url": "https://github.com/tmsimont", "followers_url": "https://api.github.com/users/tmsimont/followers", "following_url": "https://api.github.com/users/tmsimont/following{/other_user}", "gists_url": "https://api.github.com/users/tmsimont/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmsimont/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmsimont/subscriptions", "organizations_url": "https://api.github.com/users/tmsimont/orgs", "repos_url": "https://api.github.com/users/tmsimont/repos", "events_url": "https://api.github.com/users/tmsimont/events{/privacy}", "received_events_url": "https://api.github.com/users/tmsimont/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-26T13:47:51Z", "updated_at": "2016-04-26T13:47:51Z", "author_association": "NONE", "body_html": "<p>I noticed something potentially relevant here:</p>\n<pre><code>INFO: From Compiling tensorflow/python/lib/core/py_func.cc:\nIn file included from third_party/py/numpy/numpy_include/numpy/ndarraytypes.h:17\n77:0,\n                 from third_party/py/numpy/numpy_include/numpy/ndarrayobject.h:1\n8,\n                 from third_party/py/numpy/numpy_include/numpy/arrayobject.h:4,\n                 from tensorflow/python/lib/core/py_func.cc:19:\nthird_party/py/numpy/numpy_include/numpy/npy_1_7_deprecated_api.h:15:2: warning:\n #warning \"Using deprecated NumPy API, disable it by \" \"#defining NPY_NO_DEPRECA\nTED_API NPY_1_7_API_VERSION\" [-Wcpp]\n #warning \"Using deprecated NumPy API, disable it by \" \\\n  ^\n</code></pre>\n<p>There's a warning about the numpy include using deprecated NumPy API.</p>\n<p>I tried to use <code>#define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION</code> as it is used in other TensorFlow headers, but then the project fails to compile:</p>\n<pre><code>tensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::{anonymous}::ConvertNdarrayToTensor(PyObject*, tensorflow::Tensor*)':\ntensorflow/python/lib/core/py_func.cc:235:50: error: 'PyArrayObject' has no member named 'data'\n       memcpy(const_cast&lt;char*&gt;(p.data()), input-&gt;data, p.size());\n                                                  ^\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::ConvertTensorToNdarray(const tensorflow::Tensor&amp;, PyObject**)':\ntensorflow/python/lib/core/py_func.cc:330:61: error: 'PyArrayObject' has no member named 'data'\n     PyObject** out = reinterpret_cast&lt;PyObject**&gt;(np_array-&gt;data);\n                                                             ^\ntensorflow/python/lib/core/py_func.cc:345:22: error: 'PyArrayObject' has no member named 'data'\n     memcpy(np_array-&gt;data, p.data(), p.size());\n                      ^\n</code></pre>\n<p>Is TensorFlow trying to use two different versions of the NumPy API?</p>", "body_text": "I noticed something potentially relevant here:\nINFO: From Compiling tensorflow/python/lib/core/py_func.cc:\nIn file included from third_party/py/numpy/numpy_include/numpy/ndarraytypes.h:17\n77:0,\n                 from third_party/py/numpy/numpy_include/numpy/ndarrayobject.h:1\n8,\n                 from third_party/py/numpy/numpy_include/numpy/arrayobject.h:4,\n                 from tensorflow/python/lib/core/py_func.cc:19:\nthird_party/py/numpy/numpy_include/numpy/npy_1_7_deprecated_api.h:15:2: warning:\n #warning \"Using deprecated NumPy API, disable it by \" \"#defining NPY_NO_DEPRECA\nTED_API NPY_1_7_API_VERSION\" [-Wcpp]\n #warning \"Using deprecated NumPy API, disable it by \" \\\n  ^\n\nThere's a warning about the numpy include using deprecated NumPy API.\nI tried to use #define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION as it is used in other TensorFlow headers, but then the project fails to compile:\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::{anonymous}::ConvertNdarrayToTensor(PyObject*, tensorflow::Tensor*)':\ntensorflow/python/lib/core/py_func.cc:235:50: error: 'PyArrayObject' has no member named 'data'\n       memcpy(const_cast<char*>(p.data()), input->data, p.size());\n                                                  ^\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::ConvertTensorToNdarray(const tensorflow::Tensor&, PyObject**)':\ntensorflow/python/lib/core/py_func.cc:330:61: error: 'PyArrayObject' has no member named 'data'\n     PyObject** out = reinterpret_cast<PyObject**>(np_array->data);\n                                                             ^\ntensorflow/python/lib/core/py_func.cc:345:22: error: 'PyArrayObject' has no member named 'data'\n     memcpy(np_array->data, p.data(), p.size());\n                      ^\n\nIs TensorFlow trying to use two different versions of the NumPy API?", "body": "I noticed something potentially relevant here:\n\n```\nINFO: From Compiling tensorflow/python/lib/core/py_func.cc:\nIn file included from third_party/py/numpy/numpy_include/numpy/ndarraytypes.h:17\n77:0,\n                 from third_party/py/numpy/numpy_include/numpy/ndarrayobject.h:1\n8,\n                 from third_party/py/numpy/numpy_include/numpy/arrayobject.h:4,\n                 from tensorflow/python/lib/core/py_func.cc:19:\nthird_party/py/numpy/numpy_include/numpy/npy_1_7_deprecated_api.h:15:2: warning:\n #warning \"Using deprecated NumPy API, disable it by \" \"#defining NPY_NO_DEPRECA\nTED_API NPY_1_7_API_VERSION\" [-Wcpp]\n #warning \"Using deprecated NumPy API, disable it by \" \\\n  ^\n```\n\nThere's a warning about the numpy include using deprecated NumPy API.\n\nI tried to use `#define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION` as it is used in other TensorFlow headers, but then the project fails to compile:\n\n```\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::{anonymous}::ConvertNdarrayToTensor(PyObject*, tensorflow::Tensor*)':\ntensorflow/python/lib/core/py_func.cc:235:50: error: 'PyArrayObject' has no member named 'data'\n       memcpy(const_cast<char*>(p.data()), input->data, p.size());\n                                                  ^\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::ConvertTensorToNdarray(const tensorflow::Tensor&, PyObject**)':\ntensorflow/python/lib/core/py_func.cc:330:61: error: 'PyArrayObject' has no member named 'data'\n     PyObject** out = reinterpret_cast<PyObject**>(np_array->data);\n                                                             ^\ntensorflow/python/lib/core/py_func.cc:345:22: error: 'PyArrayObject' has no member named 'data'\n     memcpy(np_array->data, p.data(), p.size());\n                      ^\n```\n\nIs TensorFlow trying to use two different versions of the NumPy API?\n"}