{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/214776280", "html_url": "https://github.com/tensorflow/tensorflow/issues/2034#issuecomment-214776280", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2034", "id": 214776280, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDc3NjI4MA==", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-26T15:06:54Z", "updated_at": "2016-04-26T15:06:54Z", "author_association": "MEMBER", "body_html": "<p>It does look like an old numpy is creeping in from somewhere.<br>\nOn Tue, Apr 26, 2016 at 06:48 Trevor Simonton <a href=\"mailto:notifications@github.com\">notifications@github.com</a><br>\nwrote:</p>\n<blockquote>\n<p>I noticed something potentially relevant here:</p>\n<p>INFO: From Compiling tensorflow/python/lib/core/py_func.cc:<br>\nIn file included from third_party/py/numpy/numpy_include/numpy/ndarraytypes.h:17<br>\n77:0,<br>\nfrom third_party/py/numpy/numpy_include/numpy/ndarrayobject.h:1<br>\n8,<br>\nfrom third_party/py/numpy/numpy_include/numpy/arrayobject.h:4,<br>\nfrom tensorflow/python/lib/core/py_func.cc:19:<br>\nthird_party/py/numpy/numpy_include/numpy/npy_1_7_deprecated_api.h:15:2: warning:<br>\n#warning \"Using deprecated NumPy API, disable it by \" \"#defining NPY_NO_DEPRECA<br>\nTED_API NPY_1_7_API_VERSION\" [-Wcpp]<br>\n#warning \"Using deprecated NumPy API, disable it by \" <br>\n^</p>\n<p>There's a warning about the numpy include using deprecated NumPy API.</p>\n<p>I tried to use #define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION as it is<br>\nused in other TensorFlow headers, but then the project fails to compile:</p>\n<p>tensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::{anonymous}::ConvertNdarrayToTensor(PyObject_, tensorflow::Tensor_)':<br>\ntensorflow/python/lib/core/py_func.cc:235:50: error: 'PyArrayObject' has no member named 'data'<br>\nmemcpy(const_cast&lt;char*&gt;(p.data()), input-&gt;data, p.size());<br>\n^<br>\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::ConvertTensorToNdarray(const tensorflow::Tensor&amp;, PyObject**)':<br>\ntensorflow/python/lib/core/py_func.cc:330:61: error: 'PyArrayObject' has no member named 'data'<br>\nPyObject** out = reinterpret_cast&lt;PyObject**&gt;(np_array-&gt;data);<br>\n^<br>\ntensorflow/python/lib/core/py_func.cc:345:22: error: 'PyArrayObject' has no member named 'data'<br>\nmemcpy(np_array-&gt;data, p.data(), p.size());<br>\n^</p>\n<p>Is TensorFlow trying to use two different versions of the NumPy API?</p>\n<p>\u2014<br>\nYou are receiving this because you were mentioned.<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"149698972\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2034\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2034/hovercard?comment_id=214750702&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/2034#issuecomment-214750702\">#2034 (comment)</a></p>\n</blockquote>", "body_text": "It does look like an old numpy is creeping in from somewhere.\nOn Tue, Apr 26, 2016 at 06:48 Trevor Simonton notifications@github.com\nwrote:\n\nI noticed something potentially relevant here:\nINFO: From Compiling tensorflow/python/lib/core/py_func.cc:\nIn file included from third_party/py/numpy/numpy_include/numpy/ndarraytypes.h:17\n77:0,\nfrom third_party/py/numpy/numpy_include/numpy/ndarrayobject.h:1\n8,\nfrom third_party/py/numpy/numpy_include/numpy/arrayobject.h:4,\nfrom tensorflow/python/lib/core/py_func.cc:19:\nthird_party/py/numpy/numpy_include/numpy/npy_1_7_deprecated_api.h:15:2: warning:\n#warning \"Using deprecated NumPy API, disable it by \" \"#defining NPY_NO_DEPRECA\nTED_API NPY_1_7_API_VERSION\" [-Wcpp]\n#warning \"Using deprecated NumPy API, disable it by \" \n^\nThere's a warning about the numpy include using deprecated NumPy API.\nI tried to use #define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION as it is\nused in other TensorFlow headers, but then the project fails to compile:\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::{anonymous}::ConvertNdarrayToTensor(PyObject_, tensorflow::Tensor_)':\ntensorflow/python/lib/core/py_func.cc:235:50: error: 'PyArrayObject' has no member named 'data'\nmemcpy(const_cast<char*>(p.data()), input->data, p.size());\n^\ntensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::ConvertTensorToNdarray(const tensorflow::Tensor&, PyObject**)':\ntensorflow/python/lib/core/py_func.cc:330:61: error: 'PyArrayObject' has no member named 'data'\nPyObject** out = reinterpret_cast<PyObject**>(np_array->data);\n^\ntensorflow/python/lib/core/py_func.cc:345:22: error: 'PyArrayObject' has no member named 'data'\nmemcpy(np_array->data, p.data(), p.size());\n^\nIs TensorFlow trying to use two different versions of the NumPy API?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\n#2034 (comment)", "body": "It does look like an old numpy is creeping in from somewhere.\nOn Tue, Apr 26, 2016 at 06:48 Trevor Simonton notifications@github.com\nwrote:\n\n> I noticed something potentially relevant here:\n> \n> INFO: From Compiling tensorflow/python/lib/core/py_func.cc:\n> In file included from third_party/py/numpy/numpy_include/numpy/ndarraytypes.h:17\n> 77:0,\n>                  from third_party/py/numpy/numpy_include/numpy/ndarrayobject.h:1\n> 8,\n>                  from third_party/py/numpy/numpy_include/numpy/arrayobject.h:4,\n>                  from tensorflow/python/lib/core/py_func.cc:19:\n> third_party/py/numpy/numpy_include/numpy/npy_1_7_deprecated_api.h:15:2: warning:\n>  #warning \"Using deprecated NumPy API, disable it by \" \"#defining NPY_NO_DEPRECA\n> TED_API NPY_1_7_API_VERSION\" [-Wcpp]\n>  #warning \"Using deprecated NumPy API, disable it by \" \\\n>   ^\n> \n> There's a warning about the numpy include using deprecated NumPy API.\n> \n> I tried to use #define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION as it is\n> used in other TensorFlow headers, but then the project fails to compile:\n> \n> tensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::{anonymous}::ConvertNdarrayToTensor(PyObject_, tensorflow::Tensor_)':\n> tensorflow/python/lib/core/py_func.cc:235:50: error: 'PyArrayObject' has no member named 'data'\n>        memcpy(const_cast<char*>(p.data()), input->data, p.size());\n>                                                   ^\n> tensorflow/python/lib/core/py_func.cc: In function 'tensorflow::Status tensorflow::ConvertTensorToNdarray(const tensorflow::Tensor&, PyObject**)':\n> tensorflow/python/lib/core/py_func.cc:330:61: error: 'PyArrayObject' has no member named 'data'\n>      PyObject** out = reinterpret_cast<PyObject**>(np_array->data);\n>                                                              ^\n> tensorflow/python/lib/core/py_func.cc:345:22: error: 'PyArrayObject' has no member named 'data'\n>      memcpy(np_array->data, p.data(), p.size());\n>                       ^\n> \n> Is TensorFlow trying to use two different versions of the NumPy API?\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/2034#issuecomment-214750702\n"}