{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/263543011", "html_url": "https://github.com/tensorflow/tensorflow/issues/2034#issuecomment-263543011", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2034", "id": 263543011, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzU0MzAxMQ==", "user": {"login": "varundmishra", "id": 4353038, "node_id": "MDQ6VXNlcjQzNTMwMzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/4353038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varundmishra", "html_url": "https://github.com/varundmishra", "followers_url": "https://api.github.com/users/varundmishra/followers", "following_url": "https://api.github.com/users/varundmishra/following{/other_user}", "gists_url": "https://api.github.com/users/varundmishra/gists{/gist_id}", "starred_url": "https://api.github.com/users/varundmishra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varundmishra/subscriptions", "organizations_url": "https://api.github.com/users/varundmishra/orgs", "repos_url": "https://api.github.com/users/varundmishra/repos", "events_url": "https://api.github.com/users/varundmishra/events{/privacy}", "received_events_url": "https://api.github.com/users/varundmishra/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-29T11:11:05Z", "updated_at": "2016-11-29T11:11:05Z", "author_association": "NONE", "body_html": "<p>For everyone using RHEL/Centos 6.x, you might have to build tensorflow from source by installing bazel first.<br>\nHere's how I got past this issue on RHEL 6.8:</p>\n<h1>TensorFlow (Installation on RHEL/Centos 6.x):</h1>\n<h2>1) Enable Repos for Installing python2.7</h2>\n<p>CentOS 6 <code>yum install centos-release-scl-rh</code><br>\nRHEL 6\t<code>yum-config-manager --enable rhel-server-rhscl-6-rpms</code></p>\n<p>Install Software Collections in Scientific Linux 6Shell</p>\n<p><code>yum install \"http://ftp.scientificlinux.org/linux/scientific/6/external_products/softwarecollections/yum-conf-softwarecollections-1.0-1.el6.noarch.rpm\"</code></p>\n<p>Set <code>gpgcheck=0</code> in /etc/yum.repos.d/softwarecollections.repo</p>\n<h2>2) Install python2.7</h2>\n<p><code>yum install python27 python27-numpy swig python27-python-devel python27-python-wheel python27-pip</code></p>\n<h2>3) Install Developer Toolset</h2>\n<p><code>yum install devtoolset-4 </code></p>\n<h2>4) Build and Install Bazel</h2>\n<p>Enter Software Collection environment with Developer Toolset.<br>\n<code>scl enable devtoolset-4 bash </code><br>\nPrepare Source Code<br>\nclone source code repository</p>\n<pre><code>git clone https://github.com/bazelbuild/bazel.git\ncd bazel\n</code></pre>\n<p>select version<br>\n<code>git checkout 0.3.1 </code><br>\nBuild and Install</p>\n<p>compile<br>\n<code>./compile.sh </code><br>\ninstall</p>\n<pre><code>mkdir -p ~/bin\ncp output/bazel ~/bin/\n</code></pre>\n<p>exit from Software Collection environment<br>\n<code>exit</code></p>\n<h2>5) Build TensorFlow with Bazel</h2>\n<p>Enter Build Environment<br>\n<code>scl enable devtoolset-4 python27 bash</code><br>\nPrepare Source Code<br>\nclone source code repository</p>\n<pre><code>git clone https://github.com/tensorflow/tensorflow.git\ncd tensorflow\n</code></pre>\n<p>select version<br>\n<code>git checkout v0.10.0</code></p>\n<h2>6) Since GNU C library version in CentOS 6 is less than 2.17, a slight modification needs to be applied before compilation.</h2>\n<p>Modify <strong>tf_extension_linkopts</strong> function in <strong>tensorflow/tensorflow.bzl</strong> <strong>FROM</strong></p>\n<pre><code>def tf_extension_linkopts():\n  return []  # No extension link opts\n</code></pre>\n<p><strong>TO</strong></p>\n<pre><code>def tf_extension_linkopts():\n  return [\"-lrt\"]\n</code></pre>\n<h2>7) Build</h2>\n<p>configure workspace, just leave everything as default<br>\n<code>./configure</code><br>\nbuild</p>\n<pre><code>~/bin/bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\n</code></pre>\n<p>exit from Software Collection environment<br>\n<code>exit </code></p>\n<h2>8) Install tensorflow via pip_package</h2>\n<pre><code>cd /tmp/tensorflow_pkg\npip install --upgrade tensorflow-0.10.0-cp27-none-linux_x86_64.whl\n</code></pre>\n<h2>9) Test tensorflow</h2>\n<pre><code>python2.7\nPython 2.7.12 (default, Jun 28 2016, 17:49:40)\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-17)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import tensorflow as tf\n\nexit()\n</code></pre>\n<p>Hope this helps!!!</p>", "body_text": "For everyone using RHEL/Centos 6.x, you might have to build tensorflow from source by installing bazel first.\nHere's how I got past this issue on RHEL 6.8:\nTensorFlow (Installation on RHEL/Centos 6.x):\n1) Enable Repos for Installing python2.7\nCentOS 6 yum install centos-release-scl-rh\nRHEL 6\tyum-config-manager --enable rhel-server-rhscl-6-rpms\nInstall Software Collections in Scientific Linux 6Shell\nyum install \"http://ftp.scientificlinux.org/linux/scientific/6/external_products/softwarecollections/yum-conf-softwarecollections-1.0-1.el6.noarch.rpm\"\nSet gpgcheck=0 in /etc/yum.repos.d/softwarecollections.repo\n2) Install python2.7\nyum install python27 python27-numpy swig python27-python-devel python27-python-wheel python27-pip\n3) Install Developer Toolset\nyum install devtoolset-4 \n4) Build and Install Bazel\nEnter Software Collection environment with Developer Toolset.\nscl enable devtoolset-4 bash \nPrepare Source Code\nclone source code repository\ngit clone https://github.com/bazelbuild/bazel.git\ncd bazel\n\nselect version\ngit checkout 0.3.1 \nBuild and Install\ncompile\n./compile.sh \ninstall\nmkdir -p ~/bin\ncp output/bazel ~/bin/\n\nexit from Software Collection environment\nexit\n5) Build TensorFlow with Bazel\nEnter Build Environment\nscl enable devtoolset-4 python27 bash\nPrepare Source Code\nclone source code repository\ngit clone https://github.com/tensorflow/tensorflow.git\ncd tensorflow\n\nselect version\ngit checkout v0.10.0\n6) Since GNU C library version in CentOS 6 is less than 2.17, a slight modification needs to be applied before compilation.\nModify tf_extension_linkopts function in tensorflow/tensorflow.bzl FROM\ndef tf_extension_linkopts():\n  return []  # No extension link opts\n\nTO\ndef tf_extension_linkopts():\n  return [\"-lrt\"]\n\n7) Build\nconfigure workspace, just leave everything as default\n./configure\nbuild\n~/bin/bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\n\nexit from Software Collection environment\nexit \n8) Install tensorflow via pip_package\ncd /tmp/tensorflow_pkg\npip install --upgrade tensorflow-0.10.0-cp27-none-linux_x86_64.whl\n\n9) Test tensorflow\npython2.7\nPython 2.7.12 (default, Jun 28 2016, 17:49:40)\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-17)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tensorflow as tf\n\nexit()\n\nHope this helps!!!", "body": "For everyone using RHEL/Centos 6.x, you might have to build tensorflow from source by installing bazel first.\r\nHere's how I got past this issue on RHEL 6.8:\r\n\r\n# TensorFlow (Installation on RHEL/Centos 6.x):\r\n## 1) Enable Repos for Installing python2.7\r\n CentOS 6 `yum install centos-release-scl-rh`\r\n RHEL 6\t`yum-config-manager --enable rhel-server-rhscl-6-rpms`\r\n\r\nInstall Software Collections in Scientific Linux 6Shell\r\n\r\n`yum install \"http://ftp.scientificlinux.org/linux/scientific/6/external_products/softwarecollections/yum-conf-softwarecollections-1.0-1.el6.noarch.rpm\"`\r\n\r\nSet `gpgcheck=0` in /etc/yum.repos.d/softwarecollections.repo\r\n\r\n## 2) Install python2.7\r\n`yum install python27 python27-numpy swig python27-python-devel python27-python-wheel python27-pip`\r\n\r\n## 3) Install Developer Toolset\r\n`yum install devtoolset-4\r\n`\r\n## 4) Build and Install Bazel\r\nEnter Software Collection environment with Developer Toolset.\r\n`scl enable devtoolset-4 bash\r\n`\r\nPrepare Source Code\r\nclone source code repository\r\n```\r\ngit clone https://github.com/bazelbuild/bazel.git\r\ncd bazel\r\n```\r\nselect version\r\n`git checkout 0.3.1\r\n`\r\nBuild and Install\r\n\r\ncompile\r\n`./compile.sh\r\n`\r\ninstall\r\n```\r\nmkdir -p ~/bin\r\ncp output/bazel ~/bin/\r\n```\r\n\r\n exit from Software Collection environment\r\n`exit`\r\n## 5) Build TensorFlow with Bazel\r\nEnter Build Environment\r\n`scl enable devtoolset-4 python27 bash`\r\nPrepare Source Code\r\n clone source code repository\r\n```\r\ngit clone https://github.com/tensorflow/tensorflow.git\r\ncd tensorflow\r\n```\r\nselect version \r\n`git checkout v0.10.0`\r\n\r\n## 6) Since GNU C library version in CentOS 6 is less than 2.17, a slight modification needs to be applied before compilation.\r\n\r\nModify **tf_extension_linkopts** function in **tensorflow/tensorflow.bzl** **FROM**\r\n\r\n```\r\ndef tf_extension_linkopts():\r\n  return []  # No extension link opts\r\n```\r\n **TO**\r\n```\r\ndef tf_extension_linkopts():\r\n  return [\"-lrt\"]\r\n```\r\n\r\n## 7) Build\r\n configure workspace, just leave everything as default\r\n`./configure`\r\n build\r\n```\r\n~/bin/bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\r\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\r\n```\r\n exit from Software Collection environment\r\n`exit\r\n`\r\n## 8) Install tensorflow via pip_package\r\n```\r\ncd /tmp/tensorflow_pkg\r\npip install --upgrade tensorflow-0.10.0-cp27-none-linux_x86_64.whl\r\n```\r\n## 9) Test tensorflow\r\n```\r\npython2.7\r\nPython 2.7.12 (default, Jun 28 2016, 17:49:40)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-17)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow as tf\r\n\r\nexit()\r\n```\r\nHope this helps!!!"}