{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/321448809", "html_url": "https://github.com/tensorflow/tensorflow/issues/12065#issuecomment-321448809", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12065", "id": 321448809, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTQ0ODgwOQ==", "user": {"login": "RylanSchaeffer", "id": 8942987, "node_id": "MDQ6VXNlcjg5NDI5ODc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8942987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RylanSchaeffer", "html_url": "https://github.com/RylanSchaeffer", "followers_url": "https://api.github.com/users/RylanSchaeffer/followers", "following_url": "https://api.github.com/users/RylanSchaeffer/following{/other_user}", "gists_url": "https://api.github.com/users/RylanSchaeffer/gists{/gist_id}", "starred_url": "https://api.github.com/users/RylanSchaeffer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RylanSchaeffer/subscriptions", "organizations_url": "https://api.github.com/users/RylanSchaeffer/orgs", "repos_url": "https://api.github.com/users/RylanSchaeffer/repos", "events_url": "https://api.github.com/users/RylanSchaeffer/events{/privacy}", "received_events_url": "https://api.github.com/users/RylanSchaeffer/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-10T04:37:29Z", "updated_at": "2017-08-10T04:37:29Z", "author_association": "NONE", "body_html": "<p>One mistake I'm making (I think) is that <code>finished = math_ops.equal(outputs, self._end_tensor)</code> operates element-wise, which means <code>finished</code> will be a tensor of shape <code>[batch size, ...]</code> and should instead be a tensor of shape <code>[batch size]</code>. I believe a statement is <code>finished = math_ops.reduce_all(math_ops.equal(outputs, self._end_tensor), axis=1)</code>, but I'm not sure if this generalizes to tensors of higher dimensions.</p>", "body_text": "One mistake I'm making (I think) is that finished = math_ops.equal(outputs, self._end_tensor) operates element-wise, which means finished will be a tensor of shape [batch size, ...] and should instead be a tensor of shape [batch size]. I believe a statement is finished = math_ops.reduce_all(math_ops.equal(outputs, self._end_tensor), axis=1), but I'm not sure if this generalizes to tensors of higher dimensions.", "body": "One mistake I'm making (I think) is that `finished = math_ops.equal(outputs, self._end_tensor)` operates element-wise, which means `finished` will be a tensor of shape `[batch size, ...]` and should instead be a tensor of shape `[batch size]`. I believe a statement is `finished = math_ops.reduce_all(math_ops.equal(outputs, self._end_tensor), axis=1)`, but I'm not sure if this generalizes to tensors of higher dimensions."}