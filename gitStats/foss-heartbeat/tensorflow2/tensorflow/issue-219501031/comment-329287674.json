{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/329287674", "html_url": "https://github.com/tensorflow/tensorflow/issues/8972#issuecomment-329287674", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8972", "id": 329287674, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTI4NzY3NA==", "user": {"login": "hannah-rae", "id": 6354180, "node_id": "MDQ6VXNlcjYzNTQxODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6354180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannah-rae", "html_url": "https://github.com/hannah-rae", "followers_url": "https://api.github.com/users/hannah-rae/followers", "following_url": "https://api.github.com/users/hannah-rae/following{/other_user}", "gists_url": "https://api.github.com/users/hannah-rae/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannah-rae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannah-rae/subscriptions", "organizations_url": "https://api.github.com/users/hannah-rae/orgs", "repos_url": "https://api.github.com/users/hannah-rae/repos", "events_url": "https://api.github.com/users/hannah-rae/events{/privacy}", "received_events_url": "https://api.github.com/users/hannah-rae/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-13T20:29:48Z", "updated_at": "2017-09-13T20:29:48Z", "author_association": "NONE", "body_html": "<p>I am still having this issue with the current version of TensorFlow. For the code below, the print statement returns:</p>\n<p>(?, 7, 7, 32)<br>\n(?, ?, ?, ?)</p>\n<pre><code>h1 = tf.nn.relu(conv_transpose(z_matrix, [tf.shape(self.images)[0], 14, 14, 16], name=\"g_h1\"))\nh2 = conv_transpose(h1, [tf.shape(self.images)[0], 28, 28, 1], name=\"g_h2\")\n</code></pre>\n<pre><code>\ndef conv_transpose(x, outputShape, name):\n    with tf.variable_scope(name):\n        print x.get_shape()\n        w = tf.get_variable(\"w\",[5,5, outputShape[-1], x.get_shape()[-1]], initializer=tf.truncated_normal_initializer(stddev=0.02))\n        b = tf.get_variable(\"b\",[outputShape[-1]], initializer=tf.constant_initializer(0.0))\n        deconv_shape = tf.stack(outputShape)\n        convt = tf.nn.conv2d_transpose(x, w, output_shape=deconv_shape, strides=[1,2,2,1])\n        return convt`\n</code></pre>", "body_text": "I am still having this issue with the current version of TensorFlow. For the code below, the print statement returns:\n(?, 7, 7, 32)\n(?, ?, ?, ?)\nh1 = tf.nn.relu(conv_transpose(z_matrix, [tf.shape(self.images)[0], 14, 14, 16], name=\"g_h1\"))\nh2 = conv_transpose(h1, [tf.shape(self.images)[0], 28, 28, 1], name=\"g_h2\")\n\n\ndef conv_transpose(x, outputShape, name):\n    with tf.variable_scope(name):\n        print x.get_shape()\n        w = tf.get_variable(\"w\",[5,5, outputShape[-1], x.get_shape()[-1]], initializer=tf.truncated_normal_initializer(stddev=0.02))\n        b = tf.get_variable(\"b\",[outputShape[-1]], initializer=tf.constant_initializer(0.0))\n        deconv_shape = tf.stack(outputShape)\n        convt = tf.nn.conv2d_transpose(x, w, output_shape=deconv_shape, strides=[1,2,2,1])\n        return convt`", "body": "I am still having this issue with the current version of TensorFlow. For the code below, the print statement returns: \r\n\r\n(?, 7, 7, 32)\r\n(?, ?, ?, ?)\r\n\r\n```\r\nh1 = tf.nn.relu(conv_transpose(z_matrix, [tf.shape(self.images)[0], 14, 14, 16], name=\"g_h1\"))\r\nh2 = conv_transpose(h1, [tf.shape(self.images)[0], 28, 28, 1], name=\"g_h2\")\r\n```\r\n```\r\n\r\ndef conv_transpose(x, outputShape, name):\r\n    with tf.variable_scope(name):\r\n        print x.get_shape()\r\n        w = tf.get_variable(\"w\",[5,5, outputShape[-1], x.get_shape()[-1]], initializer=tf.truncated_normal_initializer(stddev=0.02))\r\n        b = tf.get_variable(\"b\",[outputShape[-1]], initializer=tf.constant_initializer(0.0))\r\n        deconv_shape = tf.stack(outputShape)\r\n        convt = tf.nn.conv2d_transpose(x, w, output_shape=deconv_shape, strides=[1,2,2,1])\r\n        return convt`\r\n```"}