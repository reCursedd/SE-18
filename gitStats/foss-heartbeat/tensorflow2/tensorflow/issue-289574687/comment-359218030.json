{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/359218030", "html_url": "https://github.com/tensorflow/tensorflow/issues/16219#issuecomment-359218030", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16219", "id": 359218030, "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTIxODAzMA==", "user": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-21T02:07:52Z", "updated_at": "2018-01-21T02:07:52Z", "author_association": "MEMBER", "body_html": "<p>Could you provide demo.cpp? TO get a separate linkable Dso, you need to make a separate cc_binary rule in tensorflow/contrib/lite/BUILD i.e.</p>\n<div class=\"highlight highlight-source-python\"><pre>cc_binary(\n    <span class=\"pl-v\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>libtflite.so<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-v\">deps</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>:framework<span class=\"pl-pds\">\"</span></span>],\n    <span class=\"pl-v\">linkshared</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span>\n)</pre></div>\n<p>Then you can do</p>\n<pre><code>g++ --std=c++11 -Itensorflow/contrib/lite -I. /tmp/foo.cpp -Lbazel-bin/tensorflow/contrib/lite -ltflite\n</code></pre>\n<p>Good luck!</p>", "body_text": "Could you provide demo.cpp? TO get a separate linkable Dso, you need to make a separate cc_binary rule in tensorflow/contrib/lite/BUILD i.e.\ncc_binary(\n    name = \"libtflite.so\",\n    deps = [\":framework\"],\n    linkshared=1\n)\nThen you can do\ng++ --std=c++11 -Itensorflow/contrib/lite -I. /tmp/foo.cpp -Lbazel-bin/tensorflow/contrib/lite -ltflite\n\nGood luck!", "body": "Could you provide demo.cpp? TO get a separate linkable Dso, you need to make a separate cc_binary rule in tensorflow/contrib/lite/BUILD i.e.\r\n\r\n```python\r\ncc_binary(\r\n    name = \"libtflite.so\",\r\n    deps = [\":framework\"],\r\n    linkshared=1\r\n)\r\n```\r\nThen you can do\r\n\r\n```\r\ng++ --std=c++11 -Itensorflow/contrib/lite -I. /tmp/foo.cpp -Lbazel-bin/tensorflow/contrib/lite -ltflite\r\n```\r\n\r\nGood luck!"}