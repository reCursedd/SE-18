{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/353551257", "html_url": "https://github.com/tensorflow/tensorflow/issues/15537#issuecomment-353551257", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15537", "id": 353551257, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzU1MTI1Nw==", "user": {"login": "guoxiaolu", "id": 11783180, "node_id": "MDQ6VXNlcjExNzgzMTgw", "avatar_url": "https://avatars0.githubusercontent.com/u/11783180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoxiaolu", "html_url": "https://github.com/guoxiaolu", "followers_url": "https://api.github.com/users/guoxiaolu/followers", "following_url": "https://api.github.com/users/guoxiaolu/following{/other_user}", "gists_url": "https://api.github.com/users/guoxiaolu/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoxiaolu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoxiaolu/subscriptions", "organizations_url": "https://api.github.com/users/guoxiaolu/orgs", "repos_url": "https://api.github.com/users/guoxiaolu/repos", "events_url": "https://api.github.com/users/guoxiaolu/events{/privacy}", "received_events_url": "https://api.github.com/users/guoxiaolu/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-22T08:45:35Z", "updated_at": "2017-12-22T08:45:35Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=28546240\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tensorflowbutler\">@tensorflowbutler</a><br>\nIt works well when use the tensorflow/android example, but not correct when tensorflow lite.</p>\n<ol>\n<li>Have I written custom code: yes, I used keras mobile-net (it uses custom layer). Then I converted it to freezed graph. Finally, tried to use it by tf-lite.</li>\n<li>OS Platform and Distribution: OS 10.11.6</li>\n<li>TensorFlow installed from: git clone latest version</li>\n<li>TensorFlow version: 1.4.0</li>\n<li>Bazel version: 0.9.0-homebrew<br>\nI tested in cpu-only machine.</li>\n<li>Exact command to reproduce: I just build \"toco\" and not build \"freeze_graph\", I also test the tf official mobilenet freezed graph by bazel-bin/tensorflow/contrib/lite/toco/toco, it was also not correct. so I finally used \"bazel run\" and the tf official mobilenet freezed graph generated correct lite file and work well in lite example, but my model generated empty file with no error.</li>\n</ol>\n<p>I have also noticed some instruction of custom code, I don't know whether it is related.<br>\nIf needed, the \"pb\" model can be supported for test.<br>\nWish it is helpful. Thank you~</p>", "body_text": "@tensorflowbutler\nIt works well when use the tensorflow/android example, but not correct when tensorflow lite.\n\nHave I written custom code: yes, I used keras mobile-net (it uses custom layer). Then I converted it to freezed graph. Finally, tried to use it by tf-lite.\nOS Platform and Distribution: OS 10.11.6\nTensorFlow installed from: git clone latest version\nTensorFlow version: 1.4.0\nBazel version: 0.9.0-homebrew\nI tested in cpu-only machine.\nExact command to reproduce: I just build \"toco\" and not build \"freeze_graph\", I also test the tf official mobilenet freezed graph by bazel-bin/tensorflow/contrib/lite/toco/toco, it was also not correct. so I finally used \"bazel run\" and the tf official mobilenet freezed graph generated correct lite file and work well in lite example, but my model generated empty file with no error.\n\nI have also noticed some instruction of custom code, I don't know whether it is related.\nIf needed, the \"pb\" model can be supported for test.\nWish it is helpful. Thank you~", "body": "@tensorflowbutler \r\nIt works well when use the tensorflow/android example, but not correct when tensorflow lite.\r\n\r\n1. Have I written custom code: yes, I used keras mobile-net (it uses custom layer). Then I converted it to freezed graph. Finally, tried to use it by tf-lite.\r\n2. OS Platform and Distribution: OS 10.11.6\r\n3. TensorFlow installed from: git clone latest version\r\n4. TensorFlow version: 1.4.0\r\n5. Bazel version: 0.9.0-homebrew\r\nI tested in cpu-only machine.\r\n6. Exact command to reproduce: I just build \"toco\" and not build \"freeze_graph\", I also test the tf official mobilenet freezed graph by bazel-bin/tensorflow/contrib/lite/toco/toco, it was also not correct. so I finally used \"bazel run\" and the tf official mobilenet freezed graph generated correct lite file and work well in lite example, but my model generated empty file with no error.\r\n\r\nI have also noticed some instruction of custom code, I don't know whether it is related.\r\nIf needed, the \"pb\" model can be supported for test.\r\nWish it is helpful. Thank you~"}