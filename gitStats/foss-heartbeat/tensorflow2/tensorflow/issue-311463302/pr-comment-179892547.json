{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/179892547", "pull_request_review_id": 110228695, "id": 179892547, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTg5MjU0Nw==", "diff_hunk": "@@ -1001,70 +1085,111 @@ def convolution(inputs,\n     ValueError: If `data_format` is invalid.\n     ValueError: Both 'rate' and `stride` are not uniformly 1.\n   \"\"\"\n-  if data_format not in [None, 'NWC', 'NCW', 'NHWC', 'NCHW', 'NDHWC', 'NCDHW']:\n-    raise ValueError('Invalid data_format: %r' % (data_format,))\n+  return _convolution(inputs,", "path": "tensorflow/contrib/layers/python/layers/layers.py", "position": null, "original_position": 97, "commit_id": "0e59cfdc4ecf179d4d48ab607f74c3f168aa0685", "original_commit_id": "bc6128be953fa4163743dad63686d64fdfe720b8", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "body": "@sguada Thanks for the review. The `_convolution` has one additional args of `dims=None` (compared to `convolution`) and has the following logic added:\r\nhttps://github.com/yongtang/tensorflow/blob/bc6128be953fa4163743dad63686d64fdfe720b8/tensorflow/contrib/layers/python/layers/layers.py#L948-L950\r\n\r\nIn this way, `convolution` will call `_convolution` with `dims=None`, `convolution2d` will call `_convolution` with `dims=2`, and `convolution2d` will call `_convolution` with `dims=3`.\r\n\r\nThe idea is to leave the api of `convolution/convolution2d/convolution3d` intact, while at the same time only check dims on `convolution2d/convolution3d`", "created_at": "2018-04-06T22:47:37Z", "updated_at": "2018-04-09T01:57:38Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/18251#discussion_r179892547", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18251", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/179892547"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/18251#discussion_r179892547"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18251"}}, "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1766524\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/sguada\">@sguada</a> Thanks for the review. The <code>_convolution</code> has one additional args of <code>dims=None</code> (compared to <code>convolution</code>) and has the following logic added:<br>\n<a href=\"https://github.com/yongtang/tensorflow/blob/bc6128be953fa4163743dad63686d64fdfe720b8/tensorflow/contrib/layers/python/layers/layers.py#L948-L950\">https://github.com/yongtang/tensorflow/blob/bc6128be953fa4163743dad63686d64fdfe720b8/tensorflow/contrib/layers/python/layers/layers.py#L948-L950</a></p>\n<p>In this way, <code>convolution</code> will call <code>_convolution</code> with <code>dims=None</code>, <code>convolution2d</code> will call <code>_convolution</code> with <code>dims=2</code>, and <code>convolution2d</code> will call <code>_convolution</code> with <code>dims=3</code>.</p>\n<p>The idea is to leave the api of <code>convolution/convolution2d/convolution3d</code> intact, while at the same time only check dims on <code>convolution2d/convolution3d</code></p>", "body_text": "@sguada Thanks for the review. The _convolution has one additional args of dims=None (compared to convolution) and has the following logic added:\nhttps://github.com/yongtang/tensorflow/blob/bc6128be953fa4163743dad63686d64fdfe720b8/tensorflow/contrib/layers/python/layers/layers.py#L948-L950\nIn this way, convolution will call _convolution with dims=None, convolution2d will call _convolution with dims=2, and convolution2d will call _convolution with dims=3.\nThe idea is to leave the api of convolution/convolution2d/convolution3d intact, while at the same time only check dims on convolution2d/convolution3d", "in_reply_to_id": 179887071}