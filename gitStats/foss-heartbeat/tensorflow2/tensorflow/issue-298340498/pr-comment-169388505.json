{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/169388505", "pull_request_review_id": 97907156, "id": 169388505, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2OTM4ODUwNQ==", "diff_hunk": "@@ -71,12 +73,32 @@ def __init__(self,\n     self.input_statistics_generator = input_statistics_generator\n     self._name = name\n \n-  def _train_ops(self, features):\n-    \"\"\"Add training ops to the graph.\"\"\"\n-    with variable_scope.variable_scope(\"model\"):\n+  @property\n+  def name(self):\n+    return self._name\n+\n+  # TODO(terrytangyuan): consolidate `model_outputs` and `_Head.LossSpec`\n+  # once `_Head.create_loss` becomes extendable\n+  def create_loss(self, features, mode, logits=None, labels=None):\n+    \"\"\"See `_Head`.\"\"\"\n+    with variable_scope.variable_scope(\n+        \"model\", reuse=variable_scope.AUTO_REUSE):", "path": "tensorflow/contrib/timeseries/python/timeseries/head.py", "position": null, "original_position": 32, "commit_id": "422dcdacc46d3319baf0c87b25b47da0550a78b1", "original_commit_id": "7193af53a38017df9b617be60c4f44414b73bcb4", "user": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "body": "Is AUTO_REUSE necessary? The model should be defined from scratch in a new graph each time this is used.", "created_at": "2018-02-20T17:01:12Z", "updated_at": "2018-02-20T18:47:01Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/17134#discussion_r169388505", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/17134", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/169388505"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/17134#discussion_r169388505"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/17134"}}, "body_html": "<p>Is AUTO_REUSE necessary? The model should be defined from scratch in a new graph each time this is used.</p>", "body_text": "Is AUTO_REUSE necessary? The model should be defined from scratch in a new graph each time this is used."}