{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20974", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20974/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20974/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20974/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20974", "id": 342787220, "node_id": "MDU6SXNzdWUzNDI3ODcyMjA=", "number": 20974, "title": "object detection api tflite export_tflite_ssd_graph  error ", "user": {"login": "rickragv", "id": 6717323, "node_id": "MDQ6VXNlcjY3MTczMjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6717323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rickragv", "html_url": "https://github.com/rickragv", "followers_url": "https://api.github.com/users/rickragv/followers", "following_url": "https://api.github.com/users/rickragv/following{/other_user}", "gists_url": "https://api.github.com/users/rickragv/gists{/gist_id}", "starred_url": "https://api.github.com/users/rickragv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rickragv/subscriptions", "organizations_url": "https://api.github.com/users/rickragv/orgs", "repos_url": "https://api.github.com/users/rickragv/repos", "events_url": "https://api.github.com/users/rickragv/events{/privacy}", "received_events_url": "https://api.github.com/users/rickragv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "achowdhery", "id": 4723042, "node_id": "MDQ6VXNlcjQ3MjMwNDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4723042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achowdhery", "html_url": "https://github.com/achowdhery", "followers_url": "https://api.github.com/users/achowdhery/followers", "following_url": "https://api.github.com/users/achowdhery/following{/other_user}", "gists_url": "https://api.github.com/users/achowdhery/gists{/gist_id}", "starred_url": "https://api.github.com/users/achowdhery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achowdhery/subscriptions", "organizations_url": "https://api.github.com/users/achowdhery/orgs", "repos_url": "https://api.github.com/users/achowdhery/repos", "events_url": "https://api.github.com/users/achowdhery/events{/privacy}", "received_events_url": "https://api.github.com/users/achowdhery/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "achowdhery", "id": 4723042, "node_id": "MDQ6VXNlcjQ3MjMwNDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4723042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achowdhery", "html_url": "https://github.com/achowdhery", "followers_url": "https://api.github.com/users/achowdhery/followers", "following_url": "https://api.github.com/users/achowdhery/following{/other_user}", "gists_url": "https://api.github.com/users/achowdhery/gists{/gist_id}", "starred_url": "https://api.github.com/users/achowdhery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achowdhery/subscriptions", "organizations_url": "https://api.github.com/users/achowdhery/orgs", "repos_url": "https://api.github.com/users/achowdhery/repos", "events_url": "https://api.github.com/users/achowdhery/events{/privacy}", "received_events_url": "https://api.github.com/users/achowdhery/received_events", "type": "User", "site_admin": false}, {"login": "pkulzc", "id": 35853368, "node_id": "MDQ6VXNlcjM1ODUzMzY4", "avatar_url": "https://avatars3.githubusercontent.com/u/35853368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkulzc", "html_url": "https://github.com/pkulzc", "followers_url": "https://api.github.com/users/pkulzc/followers", "following_url": "https://api.github.com/users/pkulzc/following{/other_user}", "gists_url": "https://api.github.com/users/pkulzc/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkulzc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkulzc/subscriptions", "organizations_url": "https://api.github.com/users/pkulzc/orgs", "repos_url": "https://api.github.com/users/pkulzc/repos", "events_url": "https://api.github.com/users/pkulzc/events{/privacy}", "received_events_url": "https://api.github.com/users/pkulzc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-07-19T15:48:47Z", "updated_at": "2018-07-20T19:55:30Z", "closed_at": "2018-07-20T19:55:29Z", "author_association": "NONE", "body_html": "<p>when i ran above SSD model</p>\n<p>xport CONFIG_FILE=<del>/<strong>ssd_mobilenet_v1_0.75_depth_quantized_300x300_coco14_sync_2018_07_03</strong>/pipeline.config<br>\nexport CHECKPOINT_PATH=</del>/ssd_mobilenet_v1_0.75_depth_quantized_300x300_coco14_sync_2018_07_03/model.ckpt</p>\n<p>python object_detection/export_tflite_ssd_graph.py \\</p>\n<blockquote>\n<p>\u200a\u2014\u200apipeline_config_path=$CONFIG_FILE \\</p>\n</blockquote>\n<blockquote>\n<p>\u200a\u2014\u200atrained_checkpoint_prefix=$CHECKPOINT_PATH \\</p>\n</blockquote>\n<blockquote>\n<p>\u200a\u2014\u200aoutput_directory=$OUTPUT_DIR \\</p>\n</blockquote>\n<blockquote>\n<p>\u200a\u2014\u200aadd_postprocessing_op=true</p>\n</blockquote>\n<p>/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/h5py/<strong>init</strong>.py:36: FutureWarning: Conversion of the second argument of issubdtype from <code>float</code> to <code>np.floating</code> is deprecated. In future, it will be treated as <code>np.float64 == np.dtype(float).type</code>.</p>\n<p>from ._conv import register_converters as _register_converters</p>\n<p>OMP: Warning <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"116612675\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/181\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/181/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/181\">#181</a>: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined</p>\n<p>2018\u201307\u201319 15:44:19.888752: I tensorflow/core/common_runtime/process_util.cc:63] Creating new thread pool with default inter op setting: 2. Tune using inter_op_parallelism_threads for best performance.</p>\n<p>2018\u201307\u201319 15:44:22.853028: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Not found: Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint</p>\n<p>Traceback (most recent call last):</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1322, in _do_call</p>\n<p>return fn(*args)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1307, in _run_fn</p>\n<p>options, feed_dict, fetch_list, target_list, run_metadata)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1409, in _call_tf_sessionrun</p>\n<p>run_metadata)</p>\n<p>tensorflow.python.framework.errors_impl.NotFoundError: Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint</p>\n<p>[[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, \u2026, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\u201d/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):</p>\n<p>File \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 137, in </p>\n<p>tf.app.run(main)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/platform/app.py\u201d, line 126, in run</p>\n<p>_sys.exit(main(argv))</p>\n<p>File \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 133, in main</p>\n<p>FLAGS.max_classes_per_detection)</p>\n<p>File \u201c/home/ubuntu/models/research/object_detection/export_tflite_ssd_graph_lib.py\u201d, line 261, in export_tflite_graph</p>\n<p>initializer_nodes=\u2019\u2019)</p>\n<p>File \u201c/home/ubuntu/models/research/object_detection/exporter.py\u201d, line 72, in freeze_graph_with_def_protos</p>\n<p>saver.restore(sess, input_checkpoint)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/training/saver.py\u201d, line 1802, in restore</p>\n<p>{self.saver_def.filename_tensor_name: save_path})</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 900, in run</p>\n<p>run_metadata_ptr)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1135, in _run</p>\n<p>feed_dict_tensor, options, run_metadata)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1316, in _do_run</p>\n<p>run_metadata)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1335, in _do_call</p>\n<p>raise type(e)(node_def, op, message)</p>\n<p>tensorflow.python.framework.errors_impl.NotFoundError: Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint</p>\n<p>[[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, \u2026, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\u201d/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]</p>\n<p>Caused by op \u2018save/RestoreV2\u2019, defined at:</p>\n<p>File \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 137, in </p>\n<p>tf.app.run(main)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/platform/app.py\u201d, line 126, in run</p>\n<p>_sys.exit(main(argv))</p>\n<p>File \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 133, in main</p>\n<p>FLAGS.max_classes_per_detection)</p>\n<p>File \u201c/home/ubuntu/models/research/object_detection/export_tflite_ssd_graph_lib.py\u201d, line 261, in export_tflite_graph</p>\n<p>initializer_nodes=\u2019\u2019)</p>\n<p>File \u201c/home/ubuntu/models/research/object_detection/exporter.py\u201d, line 67, in freeze_graph_with_def_protos</p>\n<p>tf.import_graph_def(input_graph_def, name=\u2019\u2019)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/util/deprecation.py\u201d, line 432, in new_func</p>\n<p>return func(*args, **kwargs)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\u201d, line 513, in import_graph_def</p>\n<p>_ProcessNewOps(graph)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\u201d, line 303, in _ProcessNewOps</p>\n<p>for new_op in graph._add_new_tf_operations(compute_devices=False): # pylint: disable=protected-access</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 3540, in _add_new_tf_operations</p>\n<p>for c_op in c_api_util.new_tf_operations(self)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 3540, in </p>\n<p>for c_op in c_api_util.new_tf_operations(self)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 3428, in _create_op_from_tf_operation</p>\n<p>ret = Operation(c_op, self)</p>\n<p>File \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 1718, in <strong>init</strong></p>\n<p>self._traceback = self._graph._extract_stack() # pylint: disable=protected-access</p>\n<p>NotFoundError (see above for traceback): Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint</p>\n<p>[[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, \u2026, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\u201d/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]</p>", "body_text": "when i ran above SSD model\nxport CONFIG_FILE=/ssd_mobilenet_v1_0.75_depth_quantized_300x300_coco14_sync_2018_07_03/pipeline.config\nexport CHECKPOINT_PATH=/ssd_mobilenet_v1_0.75_depth_quantized_300x300_coco14_sync_2018_07_03/model.ckpt\npython object_detection/export_tflite_ssd_graph.py \\\n\n\u200a\u2014\u200apipeline_config_path=$CONFIG_FILE \\\n\n\n\u200a\u2014\u200atrained_checkpoint_prefix=$CHECKPOINT_PATH \\\n\n\n\u200a\u2014\u200aoutput_directory=$OUTPUT_DIR \\\n\n\n\u200a\u2014\u200aadd_postprocessing_op=true\n\n/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/h5py/init.py:36: FutureWarning: Conversion of the second argument of issubdtype from float to np.floating is deprecated. In future, it will be treated as np.float64 == np.dtype(float).type.\nfrom ._conv import register_converters as _register_converters\nOMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined\n2018\u201307\u201319 15:44:19.888752: I tensorflow/core/common_runtime/process_util.cc:63] Creating new thread pool with default inter op setting: 2. Tune using inter_op_parallelism_threads for best performance.\n2018\u201307\u201319 15:44:22.853028: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Not found: Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint\nTraceback (most recent call last):\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1322, in _do_call\nreturn fn(*args)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1307, in _run_fn\noptions, feed_dict, fetch_list, target_list, run_metadata)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1409, in _call_tf_sessionrun\nrun_metadata)\ntensorflow.python.framework.errors_impl.NotFoundError: Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint\n[[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, \u2026, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\u201d/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 137, in \ntf.app.run(main)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/platform/app.py\u201d, line 126, in run\n_sys.exit(main(argv))\nFile \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 133, in main\nFLAGS.max_classes_per_detection)\nFile \u201c/home/ubuntu/models/research/object_detection/export_tflite_ssd_graph_lib.py\u201d, line 261, in export_tflite_graph\ninitializer_nodes=\u2019\u2019)\nFile \u201c/home/ubuntu/models/research/object_detection/exporter.py\u201d, line 72, in freeze_graph_with_def_protos\nsaver.restore(sess, input_checkpoint)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/training/saver.py\u201d, line 1802, in restore\n{self.saver_def.filename_tensor_name: save_path})\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 900, in run\nrun_metadata_ptr)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1135, in _run\nfeed_dict_tensor, options, run_metadata)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1316, in _do_run\nrun_metadata)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1335, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.NotFoundError: Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint\n[[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, \u2026, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\u201d/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\nCaused by op \u2018save/RestoreV2\u2019, defined at:\nFile \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 137, in \ntf.app.run(main)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/platform/app.py\u201d, line 126, in run\n_sys.exit(main(argv))\nFile \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 133, in main\nFLAGS.max_classes_per_detection)\nFile \u201c/home/ubuntu/models/research/object_detection/export_tflite_ssd_graph_lib.py\u201d, line 261, in export_tflite_graph\ninitializer_nodes=\u2019\u2019)\nFile \u201c/home/ubuntu/models/research/object_detection/exporter.py\u201d, line 67, in freeze_graph_with_def_protos\ntf.import_graph_def(input_graph_def, name=\u2019\u2019)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/util/deprecation.py\u201d, line 432, in new_func\nreturn func(*args, **kwargs)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\u201d, line 513, in import_graph_def\n_ProcessNewOps(graph)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\u201d, line 303, in _ProcessNewOps\nfor new_op in graph._add_new_tf_operations(compute_devices=False): # pylint: disable=protected-access\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 3540, in _add_new_tf_operations\nfor c_op in c_api_util.new_tf_operations(self)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 3540, in \nfor c_op in c_api_util.new_tf_operations(self)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 3428, in _create_op_from_tf_operation\nret = Operation(c_op, self)\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 1718, in init\nself._traceback = self._graph._extract_stack() # pylint: disable=protected-access\nNotFoundError (see above for traceback): Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint\n[[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, \u2026, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\u201d/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]", "body": "when i ran above SSD model\r\n\r\nxport CONFIG_FILE=~/**ssd_mobilenet_v1_0.75_depth_quantized_300x300_coco14_sync_2018_07_03**/pipeline.config\r\nexport CHECKPOINT_PATH=~/ssd_mobilenet_v1_0.75_depth_quantized_300x300_coco14_sync_2018_07_03/model.ckpt\r\n\r\npython object_detection/export_tflite_ssd_graph.py \\\r\n\r\n>\u200a\u2014\u200apipeline_config_path=$CONFIG_FILE \\\r\n\r\n>\u200a\u2014\u200atrained_checkpoint_prefix=$CHECKPOINT_PATH \\\r\n\r\n>\u200a\u2014\u200aoutput_directory=$OUTPUT_DIR \\\r\n\r\n>\u200a\u2014\u200aadd_postprocessing_op=true\r\n\r\n/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n\r\nfrom ._conv import register_converters as _register_converters\r\n\r\nOMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined\r\n\r\n2018\u201307\u201319 15:44:19.888752: I tensorflow/core/common_runtime/process_util.cc:63] Creating new thread pool with default inter op setting: 2. Tune using inter_op_parallelism_threads for best performance.\r\n\r\n2018\u201307\u201319 15:44:22.853028: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Not found: Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint\r\n\r\nTraceback (most recent call last):\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1322, in _do_call\r\n\r\nreturn fn(*args)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1307, in _run_fn\r\n\r\noptions, feed_dict, fetch_list, target_list, run_metadata)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1409, in _call_tf_sessionrun\r\n\r\nrun_metadata)\r\n\r\ntensorflow.python.framework.errors_impl.NotFoundError: Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint\r\n\r\n[[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, \u2026, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\u201d/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n\r\nFile \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 137, in <module>\r\n\r\ntf.app.run(main)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/platform/app.py\u201d, line 126, in run\r\n\r\n_sys.exit(main(argv))\r\n\r\nFile \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 133, in main\r\n\r\nFLAGS.max_classes_per_detection)\r\n\r\nFile \u201c/home/ubuntu/models/research/object_detection/export_tflite_ssd_graph_lib.py\u201d, line 261, in export_tflite_graph\r\n\r\ninitializer_nodes=\u2019\u2019)\r\n\r\nFile \u201c/home/ubuntu/models/research/object_detection/exporter.py\u201d, line 72, in freeze_graph_with_def_protos\r\n\r\nsaver.restore(sess, input_checkpoint)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/training/saver.py\u201d, line 1802, in restore\r\n\r\n{self.saver_def.filename_tensor_name: save_path})\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 900, in run\r\n\r\nrun_metadata_ptr)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1135, in _run\r\n\r\nfeed_dict_tensor, options, run_metadata)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1316, in _do_run\r\n\r\nrun_metadata)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/client/session.py\u201d, line 1335, in _do_call\r\n\r\nraise type(e)(node_def, op, message)\r\n\r\ntensorflow.python.framework.errors_impl.NotFoundError: Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint\r\n\r\n[[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, \u2026, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\u201d/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\r\n\r\nCaused by op \u2018save/RestoreV2\u2019, defined at:\r\n\r\nFile \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 137, in <module>\r\n\r\ntf.app.run(main)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/platform/app.py\u201d, line 126, in run\r\n\r\n_sys.exit(main(argv))\r\n\r\nFile \u201cobject_detection/export_tflite_ssd_graph.py\u201d, line 133, in main\r\n\r\nFLAGS.max_classes_per_detection)\r\n\r\nFile \u201c/home/ubuntu/models/research/object_detection/export_tflite_ssd_graph_lib.py\u201d, line 261, in export_tflite_graph\r\n\r\ninitializer_nodes=\u2019\u2019)\r\n\r\nFile \u201c/home/ubuntu/models/research/object_detection/exporter.py\u201d, line 67, in freeze_graph_with_def_protos\r\n\r\ntf.import_graph_def(input_graph_def, name=\u2019\u2019)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/util/deprecation.py\u201d, line 432, in new_func\r\n\r\nreturn func(*args, **kwargs)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\u201d, line 513, in import_graph_def\r\n\r\n_ProcessNewOps(graph)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\u201d, line 303, in _ProcessNewOps\r\n\r\nfor new_op in graph._add_new_tf_operations(compute_devices=False): # pylint: disable=protected-access\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 3540, in _add_new_tf_operations\r\n\r\nfor c_op in c_api_util.new_tf_operations(self)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 3540, in <listcomp>\r\n\r\nfor c_op in c_api_util.new_tf_operations(self)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 3428, in _create_op_from_tf_operation\r\n\r\nret = Operation(c_op, self)\r\n\r\nFile \u201c/home/ubuntu/anaconda3/envs/tensorflow_p36/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\u201d, line 1718, in __init__\r\n\r\nself._traceback = self._graph._extract_stack() # pylint: disable=protected-access\r\n\r\nNotFoundError (see above for traceback): Key BoxPredictor_0/BoxEncodingPredictor/act_quant/max not found in checkpoint\r\n\r\n[[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, \u2026, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\u201d/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]"}