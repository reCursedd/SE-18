{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16763", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16763/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16763/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16763/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/16763", "id": 294262500, "node_id": "MDExOlB1bGxSZXF1ZXN0MTY3MDQ5OTQ1", "number": 16763, "title": "CMake (Windows): Added support for ninja build and some fixes/changes", "user": {"login": "ChaseOxide", "id": 15276837, "node_id": "MDQ6VXNlcjE1Mjc2ODM3", "avatar_url": "https://avatars3.githubusercontent.com/u/15276837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChaseOxide", "html_url": "https://github.com/ChaseOxide", "followers_url": "https://api.github.com/users/ChaseOxide/followers", "following_url": "https://api.github.com/users/ChaseOxide/following{/other_user}", "gists_url": "https://api.github.com/users/ChaseOxide/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChaseOxide/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChaseOxide/subscriptions", "organizations_url": "https://api.github.com/users/ChaseOxide/orgs", "repos_url": "https://api.github.com/users/ChaseOxide/repos", "events_url": "https://api.github.com/users/ChaseOxide/events{/privacy}", "received_events_url": "https://api.github.com/users/ChaseOxide/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-02-05T03:18:32Z", "updated_at": "2018-02-08T00:25:49Z", "closed_at": "2018-02-08T00:25:49Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/16763", "html_url": "https://github.com/tensorflow/tensorflow/pull/16763", "diff_url": "https://github.com/tensorflow/tensorflow/pull/16763.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/16763.patch"}, "body_html": "<p>Most changes have comments stuck with them, but here's the summary of it.</p>\n<p>Changes made:</p>\n<ul>\n<li>Added EXACT flag on find_package CUDA to clarify it is building for exactly that version, the output \"minimum required\" can be misleading</li>\n<li>Tests if the compiler is compatible with CUDA before it starts building</li>\n<li>BYPRODUCTS/BUILD_BYPRODUCTS are added for Ninja to search for dependency, otherwise it will output the error shown below<br>\n<code>ninja: error: 'zlib/install/lib/zlibstatic.lib', needed by 'proto_text.exe', missing and no known rule to make it</code></li>\n<li>Visual Studio is the only generator with that will output under $(Configuration) directory, thus removed if it is not Visual Studio</li>\n<li>Fixed CONFIGURE_COMMAND causing some CMake versions to break (it resets to default generator, the <a href=\"https://cmake.org/files/v3.6/cmake-3.6.3-win64-x64.zip\" rel=\"nofollow\">CMake</a> I tried uses NMake Makefiles as default, which causes the output below\n<pre><code>...\nSubmodule path 'third_party/benchmark': checked out '360e66c1c4777c99402cf8cd535aa510fee16573'\nPerforming update step for 'protobuf'\nNo patch step for 'protobuf'\nPerforming configure step for 'protobuf'\nCMake Error at CMakeLists.txt:12 (project):\n  Generator\n\n    NMake Makefiles\n\n  does not support platform specification, but platform\n\n    x64\n\n  was specified.\n\n-- Building for: NMake Makefiles\n-- Configuring incomplete, errors occurred!\n...\n</code></pre>\n</li>\n</ul>\n<p>Additional Info: The current version of CMake has a problem with its ninja generator, as it may produce an error below<br>\n<code>ninja: fatal: CreateProcess: The filename or extension is too long.</code><br>\nThe CMake with its ninja generator improved can be found <a href=\"https://gitlab.kitware.com/cmake/cmake/merge_requests/1604\" rel=\"nofollow\">here</a></p>", "body_text": "Most changes have comments stuck with them, but here's the summary of it.\nChanges made:\n\nAdded EXACT flag on find_package CUDA to clarify it is building for exactly that version, the output \"minimum required\" can be misleading\nTests if the compiler is compatible with CUDA before it starts building\nBYPRODUCTS/BUILD_BYPRODUCTS are added for Ninja to search for dependency, otherwise it will output the error shown below\nninja: error: 'zlib/install/lib/zlibstatic.lib', needed by 'proto_text.exe', missing and no known rule to make it\nVisual Studio is the only generator with that will output under $(Configuration) directory, thus removed if it is not Visual Studio\nFixed CONFIGURE_COMMAND causing some CMake versions to break (it resets to default generator, the CMake I tried uses NMake Makefiles as default, which causes the output below\n...\nSubmodule path 'third_party/benchmark': checked out '360e66c1c4777c99402cf8cd535aa510fee16573'\nPerforming update step for 'protobuf'\nNo patch step for 'protobuf'\nPerforming configure step for 'protobuf'\nCMake Error at CMakeLists.txt:12 (project):\n  Generator\n\n    NMake Makefiles\n\n  does not support platform specification, but platform\n\n    x64\n\n  was specified.\n\n-- Building for: NMake Makefiles\n-- Configuring incomplete, errors occurred!\n...\n\n\n\nAdditional Info: The current version of CMake has a problem with its ninja generator, as it may produce an error below\nninja: fatal: CreateProcess: The filename or extension is too long.\nThe CMake with its ninja generator improved can be found here", "body": "Most changes have comments stuck with them, but here's the summary of it.  \r\n\r\nChanges made:\r\n- Added EXACT flag on find_package CUDA to clarify it is building for exactly that version, the output \"minimum required\" can be misleading\r\n- Tests if the compiler is compatible with CUDA before it starts building\r\n- BYPRODUCTS/BUILD_BYPRODUCTS are added for Ninja to search for dependency, otherwise it will output the error shown below  \r\n`ninja: error: 'zlib/install/lib/zlibstatic.lib', needed by 'proto_text.exe', missing and no known rule to make it`\r\n- Visual Studio is the only generator with that will output under $(Configuration) directory, thus removed if it is not Visual Studio\r\n- Fixed CONFIGURE_COMMAND causing some CMake versions to break (it resets to default generator, the [CMake](https://cmake.org/files/v3.6/cmake-3.6.3-win64-x64.zip) I tried uses NMake Makefiles as default, which causes the output below  \r\n  ```\r\n  ...\r\n  Submodule path 'third_party/benchmark': checked out '360e66c1c4777c99402cf8cd535aa510fee16573'\r\n  Performing update step for 'protobuf'\r\n  No patch step for 'protobuf'\r\n  Performing configure step for 'protobuf'\r\n  CMake Error at CMakeLists.txt:12 (project):\r\n    Generator\r\n\r\n      NMake Makefiles\r\n\r\n    does not support platform specification, but platform\r\n\r\n      x64\r\n\r\n    was specified.\r\n\r\n  -- Building for: NMake Makefiles\r\n  -- Configuring incomplete, errors occurred!\r\n  ...\r\n  ```\r\n\r\nAdditional Info: The current version of CMake has a problem with its ninja generator, as it may produce an error below  \r\n`ninja: fatal: CreateProcess: The filename or extension is too long.`  \r\nThe CMake with its ninja generator improved can be found [here](https://gitlab.kitware.com/cmake/cmake/merge_requests/1604)\r\n"}