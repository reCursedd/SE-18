{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/100897008", "pull_request_review_id": 21613675, "id": 100897008, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDg5NzAwOA==", "diff_hunk": "@@ -456,7 +456,7 @@ while true; do\n   fi\n \n   if is_linux; then\n-    CUDNN_PATH_FROM_LDCONFIG=\"$(ldconfig -p | sed -n 's/.*libcudnn.so .* => \\(.*\\)/\\1/p')\"\n+    CUDNN_PATH_FROM_LDCONFIG=\"$(/sbin/ldconfig -p | sed -n 's/.*libcudnn.so .* => \\(.*\\)/\\1/p')\"", "path": "configure", "position": null, "original_position": 5, "commit_id": "f6a624876e92ac2f6268a74835b59c9583ac0f80", "original_commit_id": "e9f89f0199d042bb3f86baf384def1ac9981aa0a", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "body": "I feel like we need to be compatible with the previous case, where ldconfig is not under `/sbin`, but is in `PATH`.\r\nFor example, I have a centos system which is happy the way things are right now, but will break with this change as ldconfig resides in `/usr/sbin/ldconfig`\r\nCan we modify these lines to say:\r\n```\r\nif ! type ldconfig > /dev/null; then\r\n  LDCONFIG_BIN=/sbin/ldconfig\r\nelse\r\n  LDCONFIG_BIN=ldconfig\r\nfi\r\nCUDNN_PATH_FROM_LDCONFIG=\"$($LDCONFIG_BIN -p | ......\r\n```", "created_at": "2017-02-13T21:02:28Z", "updated_at": "2017-02-14T10:52:09Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/7279#discussion_r100897008", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7279", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/100897008"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/7279#discussion_r100897008"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7279"}}, "body_html": "<p>I feel like we need to be compatible with the previous case, where ldconfig is not under <code>/sbin</code>, but is in <code>PATH</code>.<br>\nFor example, I have a centos system which is happy the way things are right now, but will break with this change as ldconfig resides in <code>/usr/sbin/ldconfig</code><br>\nCan we modify these lines to say:</p>\n<pre><code>if ! type ldconfig &gt; /dev/null; then\n  LDCONFIG_BIN=/sbin/ldconfig\nelse\n  LDCONFIG_BIN=ldconfig\nfi\nCUDNN_PATH_FROM_LDCONFIG=\"$($LDCONFIG_BIN -p | ......\n</code></pre>", "body_text": "I feel like we need to be compatible with the previous case, where ldconfig is not under /sbin, but is in PATH.\nFor example, I have a centos system which is happy the way things are right now, but will break with this change as ldconfig resides in /usr/sbin/ldconfig\nCan we modify these lines to say:\nif ! type ldconfig > /dev/null; then\n  LDCONFIG_BIN=/sbin/ldconfig\nelse\n  LDCONFIG_BIN=ldconfig\nfi\nCUDNN_PATH_FROM_LDCONFIG=\"$($LDCONFIG_BIN -p | ......"}