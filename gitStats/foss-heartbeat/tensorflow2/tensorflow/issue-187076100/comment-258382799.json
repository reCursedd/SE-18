{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/258382799", "html_url": "https://github.com/tensorflow/tensorflow/issues/5379#issuecomment-258382799", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5379", "id": 258382799, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODM4Mjc5OQ==", "user": {"login": "beniz", "id": 3530657, "node_id": "MDQ6VXNlcjM1MzA2NTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3530657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beniz", "html_url": "https://github.com/beniz", "followers_url": "https://api.github.com/users/beniz/followers", "following_url": "https://api.github.com/users/beniz/following{/other_user}", "gists_url": "https://api.github.com/users/beniz/gists{/gist_id}", "starred_url": "https://api.github.com/users/beniz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beniz/subscriptions", "organizations_url": "https://api.github.com/users/beniz/orgs", "repos_url": "https://api.github.com/users/beniz/repos", "events_url": "https://api.github.com/users/beniz/events{/privacy}", "received_events_url": "https://api.github.com/users/beniz/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-04T09:35:16Z", "updated_at": "2016-11-04T16:17:53Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=326106\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aselle\">@aselle</a> hi, see the initial report, there's no error when no call is made to <code>SetDefaultDevice</code>.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=463737\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vrv\">@vrv</a> hi, I can certify we are not touching anything within the <code>ConfigProto</code> in our code (it's here actually <a href=\"https://github.com/beniz/deepdetect/blob/tf/src/tflib.cc#L199\">https://github.com/beniz/deepdetect/blob/tf/src/tflib.cc#L199</a>) besides the <code>set_allow_growth</code> option that is set to <code>true</code>.<br>\nI believe I understand what <code>SetDefaultDevice</code> does and that <code>visible_device_list</code> is outside its scope but if you look at the initial report you can see the initial parsing error can be avoided by setting up the device to <code>0</code> instead of <code>/gpu:0</code> and that with the parsing code <code>strings::safe_strto32(gpu_id_str, &amp;gpu_id)</code> looks suspicious to me.</p>\n<p>Please let me know if I can run tests somehow to drive closer to the root of the problem here.</p>\n<p>EDIT: could it be at graph <code>.pb</code> creation ?</p>", "body_text": "@aselle hi, see the initial report, there's no error when no call is made to SetDefaultDevice.\n@vrv hi, I can certify we are not touching anything within the ConfigProto in our code (it's here actually https://github.com/beniz/deepdetect/blob/tf/src/tflib.cc#L199) besides the set_allow_growth option that is set to true.\nI believe I understand what SetDefaultDevice does and that visible_device_list is outside its scope but if you look at the initial report you can see the initial parsing error can be avoided by setting up the device to 0 instead of /gpu:0 and that with the parsing code strings::safe_strto32(gpu_id_str, &gpu_id) looks suspicious to me.\nPlease let me know if I can run tests somehow to drive closer to the root of the problem here.\nEDIT: could it be at graph .pb creation ?", "body": "@aselle hi, see the initial report, there's no error when no call is made to `SetDefaultDevice`.\n\n@vrv hi, I can certify we are not touching anything within the `ConfigProto` in our code (it's here actually https://github.com/beniz/deepdetect/blob/tf/src/tflib.cc#L199) besides the `set_allow_growth` option that is set to `true`. \nI believe I understand what `SetDefaultDevice` does and that `visible_device_list` is outside its scope but if you look at the initial report you can see the initial parsing error can be avoided by setting up the device to `0` instead of `/gpu:0` and that with the parsing code `strings::safe_strto32(gpu_id_str, &gpu_id)` looks suspicious to me.\n\nPlease let me know if I can run tests somehow to drive closer to the root of the problem here.\n\nEDIT: could it be at graph `.pb` creation ?\n"}