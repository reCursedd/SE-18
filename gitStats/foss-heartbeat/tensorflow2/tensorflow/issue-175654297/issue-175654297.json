{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4265", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4265/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4265/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4265/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4265", "id": 175654297, "node_id": "MDU6SXNzdWUxNzU2NTQyOTc=", "number": 4265, "title": "ERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.", "user": {"login": "hanamizukigakki", "id": 20624668, "node_id": "MDQ6VXNlcjIwNjI0NjY4", "avatar_url": "https://avatars2.githubusercontent.com/u/20624668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hanamizukigakki", "html_url": "https://github.com/hanamizukigakki", "followers_url": "https://api.github.com/users/hanamizukigakki/followers", "following_url": "https://api.github.com/users/hanamizukigakki/following{/other_user}", "gists_url": "https://api.github.com/users/hanamizukigakki/gists{/gist_id}", "starred_url": "https://api.github.com/users/hanamizukigakki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hanamizukigakki/subscriptions", "organizations_url": "https://api.github.com/users/hanamizukigakki/orgs", "repos_url": "https://api.github.com/users/hanamizukigakki/repos", "events_url": "https://api.github.com/users/hanamizukigakki/events{/privacy}", "received_events_url": "https://api.github.com/users/hanamizukigakki/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-08T03:03:30Z", "updated_at": "2016-09-08T11:33:09Z", "closed_at": "2016-09-08T06:44:05Z", "author_association": "NONE", "body_html": "<p>Operating System:<br>\nUbuntu 16.04</p>\n<p>Installed version of CUDA and cuDNN:<br>\nserver@server:~$ ls -l /usr/local/cuda/lib64/libcud*<br>\n-rw-r--r-- 1 root root 560184 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root     16 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.8.0<br>\nlrwxrwxrwx 1 root root     19 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.27<br>\n-rwxr-xr-x 1 root root 394472 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart.so.8.0.27<br>\n-rw-r--r-- 1 root root 737516 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart_static.a</p>\n<p>The commit hash (<code>git rev-parse HEAD</code>)<br>\nserver@server:~/tensorflow$ git rev-parse HEAD<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/2ab7e6326296987ea0ce975afb3434a16d1aa21a/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/2ab7e6326296987ea0ce975afb3434a16d1aa21a\"><tt>2ab7e63</tt></a></p>\n<p>The output of <code>bazel version</code><br>\nserver@server:~$ bazel version<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Thu Jan 01 00:00:00 1970 (0)<br>\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)<br>\nBuild timestamp as int: 0</p>\n<p>Here is my bazel build result:<br>\nINFO: From Compiling tensorflow/core/kernels/tile_ops_gpu.cu.cc:<br>\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.<br>\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.<br>\nINFO: From Compiling tensorflow/core/kernels/tile_ops_gpu.cu.cc:<br>\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.<br>\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.<br>\nTarget //tensorflow/cc:tutorials_example_trainer up-to-date:<br>\nbazel-bin/tensorflow/cc/tutorials_example_trainer<br>\nINFO: Elapsed time: 985.075s, Critical Path: 952.03s</p>\n<p>Here is my bazel-bin result:<br>\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000007/000009 lambda = 39.000000 x = [3.605551 -0.000000] y = [10.816654 -3.605551]<br>\n000006/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000001/000002 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000002/000006 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000006/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000004/000004 lambda = 1.200000 x = [-0.894427 0.447214] y = [-0.894427 0.894427]<br>\n000006/000007 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000005/000005 lambda = 249281724416.000000 x = [0.894427 -0.447214] y = [278705438720.000000 -130.000000]<br>\n000008/000003 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000007/000009 lambda = 2.400000 x = [0.948683 -0.316228] y = [2.213594 -0.948683]<br>\n000008/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000003/000009 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000000/000004 lambda = 2.255962 x = [0.930408 -0.366524] y = [2.058176 -0.930408]<br>\n000001/000002 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000004/000004 lambda =      nan x = [     nan 0.707107] y = [     nan      nan]<br>\n000008/000000 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000003/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000006/000007 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000007/000009 lambda = 2.172414 x = [0.919145 -0.393919] y = [1.969597 -0.919145]<br>\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000008/000003 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000002/000006 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000000/000004 lambda = 2.115613 x = [0.911220 -0.411921] y = [1.909816 -0.911220]<br>\n000003/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000008/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000003/000009 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000006/000006 lambda = 1786627917493567488.000000 x = [715827904.000000 348406848.000000] y = [2844297216.000000 -715827904.000000]<br>\n000008/000000 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000007/000009 lambda = 2.080292 x = [0.906183 -0.422885] y = [1.872779 -0.906183]<br>\n000008/000003 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000003/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000008/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000006/000007 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000004/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000005/000005 lambda = 3.000000 x = [1.000000 -0.000000] y = [3.000000 -1.000000]<br>\n000003/000009 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000008/000000 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]<br>\n000006/000006 lambda = 2.584623 x = [0.969760 -0.244061] y = [2.421158 -0.969760]<br>\n000004/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]<br>\n000007/000009 lambda = 2.038786 x = [0.900159 -0.435561] y = [1.829356 -0.900159]</p>\n<p>I've searched the nan problem, according to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"149814648\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2037\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2037/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2037\">#2037</a>, i've tried \"--num_concurrent_sessions=1\" and \"--num_concurrent_steps=1\", and it seems to be fine<br>\nHere is the output:<br>\nserver@server:~/tensorflow$ bazel-bin/tensorflow/cc/tutorials_example_trainer --use_gpu --num_concurrent_sessions=1 --num_concurrent_steps=1<br>\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] Couldn't open CUDA library libcudnn.so.5. LD_LIBRARY_PATH: /usr/local/cuda-8.0/lib64:<br>\nI tensorflow/stream_executor/cuda/cuda_dnn.cc:3304] Unable to load cuDNN DSO<br>\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally<br>\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:<br>\nname: GeForce GTX TITAN X<br>\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.076<br>\npciBusID 0000:02:00.0<br>\nTotal memory: 11.92GiB<br>\nFree memory: 11.40GiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:02:00.0)<br>\n000000/000000 lambda = 1.841570 x = [0.669396 0.742906] y = [3.493999 -0.669396]<br>\n000000/000000 lambda = 2.708984 x = [0.982138 -0.188162] y = [2.570089 -0.982138]<br>\n000000/000000 lambda = 2.284280 x = [0.934118 -0.356965] y = [2.088423 -0.934118]<br>\n000000/000000 lambda = 2.127152 x = [0.912847 -0.408302] y = [1.921937 -0.912847]<br>\n000000/000000 lambda = 2.060266 x = [0.903291 -0.429029] y = [1.851815 -0.903291]<br>\n000000/000000 lambda = 2.029356 x = [0.898775 -0.438410] y = [1.819504 -0.898775]<br>\n000000/000000 lambda = 2.014491 x = [0.896580 -0.442881] y = [1.803979 -0.896580]<br>\n000000/000000 lambda = 2.007199 x = [0.895499 -0.445064] y = [1.796367 -0.895499]<br>\n000000/000000 lambda = 2.003588 x = [0.894962 -0.446143] y = [1.792599 -0.894962]<br>\n000000/000000 lambda = 2.001791 x = [0.894694 -0.446679] y = [1.790724 -0.894694]<br>\n000000/000000 lambda = 2.000895 x = [0.894561 -0.446947] y = [1.789788 -0.894561]<br>\n000000/000000 lambda = 2.000447 x = [0.894494 -0.447080] y = [1.789321 -0.894494]<br>\n000000/000000 lambda = 2.000224 x = [0.894460 -0.447147] y = [1.789088 -0.894460]<br>\n000000/000000 lambda = 2.000112 x = [0.894444 -0.447180] y = [1.788971 -0.894444]<br>\n000000/000000 lambda = 2.000056 x = [0.894436 -0.447197] y = [1.788913 -0.894436]<br>\n000000/000000 lambda = 2.000028 x = [0.894431 -0.447205] y = [1.788883 -0.894431]<br>\n000000/000000 lambda = 2.000014 x = [0.894429 -0.447209] y = [1.788869 -0.894429]</p>\n<p>When I build the pip-packages. i got another error.<br>\nHere is the output:<br>\nserver@server:~/tensorflow$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package<br>\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.<br>\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.<br>\nINFO: Elapsed time: 0.037s</p>\n<p>Where am I wrong?</p>", "body_text": "Operating System:\nUbuntu 16.04\nInstalled version of CUDA and cuDNN:\nserver@server:~$ ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root 560184 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root     19 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.27\n-rwxr-xr-x 1 root root 394472 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart.so.8.0.27\n-rw-r--r-- 1 root root 737516 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart_static.a\nThe commit hash (git rev-parse HEAD)\nserver@server:~/tensorflow$ git rev-parse HEAD\n2ab7e63\nThe output of bazel version\nserver@server:~$ bazel version\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp as int: 0\nHere is my bazel build result:\nINFO: From Compiling tensorflow/core/kernels/tile_ops_gpu.cu.cc:\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.\nINFO: From Compiling tensorflow/core/kernels/tile_ops_gpu.cu.cc:\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.\nTarget //tensorflow/cc:tutorials_example_trainer up-to-date:\nbazel-bin/tensorflow/cc/tutorials_example_trainer\nINFO: Elapsed time: 985.075s, Critical Path: 952.03s\nHere is my bazel-bin result:\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000007/000009 lambda = 39.000000 x = [3.605551 -0.000000] y = [10.816654 -3.605551]\n000006/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000001/000002 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000002/000006 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000006/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000004/000004 lambda = 1.200000 x = [-0.894427 0.447214] y = [-0.894427 0.894427]\n000006/000007 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000005/000005 lambda = 249281724416.000000 x = [0.894427 -0.447214] y = [278705438720.000000 -130.000000]\n000008/000003 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000007/000009 lambda = 2.400000 x = [0.948683 -0.316228] y = [2.213594 -0.948683]\n000008/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000003/000009 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000000/000004 lambda = 2.255962 x = [0.930408 -0.366524] y = [2.058176 -0.930408]\n000001/000002 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000004/000004 lambda =      nan x = [     nan 0.707107] y = [     nan      nan]\n000008/000000 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000003/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000006/000007 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000007/000009 lambda = 2.172414 x = [0.919145 -0.393919] y = [1.969597 -0.919145]\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000008/000003 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000002/000006 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000000/000004 lambda = 2.115613 x = [0.911220 -0.411921] y = [1.909816 -0.911220]\n000003/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000008/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000003/000009 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000006/000006 lambda = 1786627917493567488.000000 x = [715827904.000000 348406848.000000] y = [2844297216.000000 -715827904.000000]\n000008/000000 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000007/000009 lambda = 2.080292 x = [0.906183 -0.422885] y = [1.872779 -0.906183]\n000008/000003 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000003/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000008/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000006/000007 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000004/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000005/000005 lambda = 3.000000 x = [1.000000 -0.000000] y = [3.000000 -1.000000]\n000003/000009 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000008/000000 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000006/000006 lambda = 2.584623 x = [0.969760 -0.244061] y = [2.421158 -0.969760]\n000004/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000007/000009 lambda = 2.038786 x = [0.900159 -0.435561] y = [1.829356 -0.900159]\nI've searched the nan problem, according to #2037, i've tried \"--num_concurrent_sessions=1\" and \"--num_concurrent_steps=1\", and it seems to be fine\nHere is the output:\nserver@server:~/tensorflow$ bazel-bin/tensorflow/cc/tutorials_example_trainer --use_gpu --num_concurrent_sessions=1 --num_concurrent_steps=1\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:105] Couldn't open CUDA library libcudnn.so.5. LD_LIBRARY_PATH: /usr/local/cuda-8.0/lib64:\nI tensorflow/stream_executor/cuda/cuda_dnn.cc:3304] Unable to load cuDNN DSO\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\nname: GeForce GTX TITAN X\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.076\npciBusID 0000:02:00.0\nTotal memory: 11.92GiB\nFree memory: 11.40GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:02:00.0)\n000000/000000 lambda = 1.841570 x = [0.669396 0.742906] y = [3.493999 -0.669396]\n000000/000000 lambda = 2.708984 x = [0.982138 -0.188162] y = [2.570089 -0.982138]\n000000/000000 lambda = 2.284280 x = [0.934118 -0.356965] y = [2.088423 -0.934118]\n000000/000000 lambda = 2.127152 x = [0.912847 -0.408302] y = [1.921937 -0.912847]\n000000/000000 lambda = 2.060266 x = [0.903291 -0.429029] y = [1.851815 -0.903291]\n000000/000000 lambda = 2.029356 x = [0.898775 -0.438410] y = [1.819504 -0.898775]\n000000/000000 lambda = 2.014491 x = [0.896580 -0.442881] y = [1.803979 -0.896580]\n000000/000000 lambda = 2.007199 x = [0.895499 -0.445064] y = [1.796367 -0.895499]\n000000/000000 lambda = 2.003588 x = [0.894962 -0.446143] y = [1.792599 -0.894962]\n000000/000000 lambda = 2.001791 x = [0.894694 -0.446679] y = [1.790724 -0.894694]\n000000/000000 lambda = 2.000895 x = [0.894561 -0.446947] y = [1.789788 -0.894561]\n000000/000000 lambda = 2.000447 x = [0.894494 -0.447080] y = [1.789321 -0.894494]\n000000/000000 lambda = 2.000224 x = [0.894460 -0.447147] y = [1.789088 -0.894460]\n000000/000000 lambda = 2.000112 x = [0.894444 -0.447180] y = [1.788971 -0.894444]\n000000/000000 lambda = 2.000056 x = [0.894436 -0.447197] y = [1.788913 -0.894436]\n000000/000000 lambda = 2.000028 x = [0.894431 -0.447205] y = [1.788883 -0.894431]\n000000/000000 lambda = 2.000014 x = [0.894429 -0.447209] y = [1.788869 -0.894429]\nWhen I build the pip-packages. i got another error.\nHere is the output:\nserver@server:~/tensorflow$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\nINFO: Elapsed time: 0.037s\nWhere am I wrong?", "body": "Operating System: \nUbuntu 16.04\n\nInstalled version of CUDA and cuDNN: \nserver@server:~$ ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root 560184 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root     19 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.27\n-rwxr-xr-x 1 root root 394472 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart.so.8.0.27\n-rw-r--r-- 1 root root 737516 9\u6708   7 09:56 /usr/local/cuda/lib64/libcudart_static.a\n\nThe commit hash (`git rev-parse HEAD`)\nserver@server:~/tensorflow$ git rev-parse HEAD\n2ab7e6326296987ea0ce975afb3434a16d1aa21a\n\nThe output of `bazel version`\nserver@server:~$ bazel version\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp as int: 0\n\nHere is my bazel build result:\nINFO: From Compiling tensorflow/core/kernels/tile_ops_gpu.cu.cc:\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.\nINFO: From Compiling tensorflow/core/kernels/tile_ops_gpu.cu.cc:\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.\nnvcc warning : option '--relaxed-constexpr' has been deprecated and replaced by option '--expt-relaxed-constexpr'.\nTarget //tensorflow/cc:tutorials_example_trainer up-to-date:\nbazel-bin/tensorflow/cc/tutorials_example_trainer\nINFO: Elapsed time: 985.075s, Critical Path: 952.03s\n\nHere is my bazel-bin result:\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000007/000009 lambda = 39.000000 x = [3.605551 -0.000000] y = [10.816654 -3.605551]\n000006/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000001/000002 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000002/000006 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000006/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000004/000004 lambda = 1.200000 x = [-0.894427 0.447214] y = [-0.894427 0.894427]\n000006/000007 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000005/000005 lambda = 249281724416.000000 x = [0.894427 -0.447214] y = [278705438720.000000 -130.000000]\n000008/000003 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000007/000009 lambda = 2.400000 x = [0.948683 -0.316228] y = [2.213594 -0.948683]\n000008/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000003/000009 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000000/000004 lambda = 2.255962 x = [0.930408 -0.366524] y = [2.058176 -0.930408]\n000001/000002 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000004/000004 lambda =      nan x = [     nan 0.707107] y = [     nan      nan]\n000008/000000 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000003/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000006/000007 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000007/000009 lambda = 2.172414 x = [0.919145 -0.393919] y = [1.969597 -0.919145]\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000008/000003 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000002/000006 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000000/000004 lambda = 2.115613 x = [0.911220 -0.411921] y = [1.909816 -0.911220]\n000003/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000008/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000003/000009 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000006/000006 lambda = 1786627917493567488.000000 x = [715827904.000000 348406848.000000] y = [2844297216.000000 -715827904.000000]\n000008/000000 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000007/000009 lambda = 2.080292 x = [0.906183 -0.422885] y = [1.872779 -0.906183]\n000008/000003 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000003/000008 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000008/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000006/000007 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000004/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000005/000005 lambda = 3.000000 x = [1.000000 -0.000000] y = [3.000000 -1.000000]\n000003/000009 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000008/000000 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000008/000006 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]\n000006/000006 lambda = 2.584623 x = [0.969760 -0.244061] y = [2.421158 -0.969760]\n000004/000004 lambda =      nan x = [     nan      nan] y = [     nan      nan]\n000007/000009 lambda = 2.038786 x = [0.900159 -0.435561] y = [1.829356 -0.900159]\n\nI've searched the nan problem, according to https://github.com/tensorflow/tensorflow/issues/2037, i've tried \"--num_concurrent_sessions=1\" and \"--num_concurrent_steps=1\", and it seems to be fine\nHere is the output:\nserver@server:~/tensorflow$ bazel-bin/tensorflow/cc/tutorials_example_trainer --use_gpu --num_concurrent_sessions=1 --num_concurrent_steps=1\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:105] Couldn't open CUDA library libcudnn.so.5. LD_LIBRARY_PATH: /usr/local/cuda-8.0/lib64:\nI tensorflow/stream_executor/cuda/cuda_dnn.cc:3304] Unable to load cuDNN DSO\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties: \nname: GeForce GTX TITAN X\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.076\npciBusID 0000:02:00.0\nTotal memory: 11.92GiB\nFree memory: 11.40GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:02:00.0)\n000000/000000 lambda = 1.841570 x = [0.669396 0.742906] y = [3.493999 -0.669396]\n000000/000000 lambda = 2.708984 x = [0.982138 -0.188162] y = [2.570089 -0.982138]\n000000/000000 lambda = 2.284280 x = [0.934118 -0.356965] y = [2.088423 -0.934118]\n000000/000000 lambda = 2.127152 x = [0.912847 -0.408302] y = [1.921937 -0.912847]\n000000/000000 lambda = 2.060266 x = [0.903291 -0.429029] y = [1.851815 -0.903291]\n000000/000000 lambda = 2.029356 x = [0.898775 -0.438410] y = [1.819504 -0.898775]\n000000/000000 lambda = 2.014491 x = [0.896580 -0.442881] y = [1.803979 -0.896580]\n000000/000000 lambda = 2.007199 x = [0.895499 -0.445064] y = [1.796367 -0.895499]\n000000/000000 lambda = 2.003588 x = [0.894962 -0.446143] y = [1.792599 -0.894962]\n000000/000000 lambda = 2.001791 x = [0.894694 -0.446679] y = [1.790724 -0.894694]\n000000/000000 lambda = 2.000895 x = [0.894561 -0.446947] y = [1.789788 -0.894561]\n000000/000000 lambda = 2.000447 x = [0.894494 -0.447080] y = [1.789321 -0.894494]\n000000/000000 lambda = 2.000224 x = [0.894460 -0.447147] y = [1.789088 -0.894460]\n000000/000000 lambda = 2.000112 x = [0.894444 -0.447180] y = [1.788971 -0.894444]\n000000/000000 lambda = 2.000056 x = [0.894436 -0.447197] y = [1.788913 -0.894436]\n000000/000000 lambda = 2.000028 x = [0.894431 -0.447205] y = [1.788883 -0.894431]\n000000/000000 lambda = 2.000014 x = [0.894429 -0.447209] y = [1.788869 -0.894429]\n\nWhen I build the pip-packages. i got another error.\nHere is the output:\nserver@server:~/tensorflow$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\nINFO: Elapsed time: 0.037s\n\nWhere am I wrong?\n"}