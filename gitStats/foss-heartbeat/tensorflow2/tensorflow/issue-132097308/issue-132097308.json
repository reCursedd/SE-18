{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1015", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1015/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1015/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1015/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1015", "id": 132097308, "node_id": "MDU6SXNzdWUxMzIwOTczMDg=", "number": 1015, "title": "Error when feeding model", "user": {"login": "Jacobh2", "id": 6471372, "node_id": "MDQ6VXNlcjY0NzEzNzI=", "avatar_url": "https://avatars0.githubusercontent.com/u/6471372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jacobh2", "html_url": "https://github.com/Jacobh2", "followers_url": "https://api.github.com/users/Jacobh2/followers", "following_url": "https://api.github.com/users/Jacobh2/following{/other_user}", "gists_url": "https://api.github.com/users/Jacobh2/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jacobh2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jacobh2/subscriptions", "organizations_url": "https://api.github.com/users/Jacobh2/orgs", "repos_url": "https://api.github.com/users/Jacobh2/repos", "events_url": "https://api.github.com/users/Jacobh2/events{/privacy}", "received_events_url": "https://api.github.com/users/Jacobh2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-02-08T10:00:38Z", "updated_at": "2016-06-06T20:50:59Z", "closed_at": "2016-06-06T20:50:59Z", "author_association": "NONE", "body_html": "<p>Hi!</p>\n<p>I have downloaded and tried the <a href=\"https://www.tensorflow.org/versions/0.6.0/tutorials/recurrent/index.html\" rel=\"nofollow\">RNN tutorial</a>, it works great and I want to mod it to use it for another project.</p>\n<p>I have managed to write my own \"reader\" which uses my desired data and training the model seems to work, somewhat, I think. I feed my model the following dict:</p>\n<pre><code>feed_dict = {m.input_data: x, m.targets: y, m.initial_state: state}\ncost, state, _ = session.run([m.cost, m.final_state, eval_op], feed_dict=feed_dict)\n</code></pre>\n<p>where <code>x</code> and <code>y</code> are the outputs from the <code>reader.iterator</code> method (the one I wrote, but nearly identical to the ptb_iterator used in the tutorial).</p>\n<p>I have also created a \"runner\" module which only imports a already trained model and runs it. But I am unable to run this code. I import a saved checkpoint into my session using the saver.restore method and that seems to work. But for the \"runner\" code I changed the <code>feed_dict</code> to be:<br>\n<code>feed_dict = {m.input_data: input_id_list, m.initial_state: state}</code><br>\nsince I do not have an output this time, this is what I want the network to come up with.<br>\nI also have this in the session.run:<br>\n<code>session.run([m.cost, m.targets, eval_op], feed_dict=feed_dict)</code><br>\nSo this time (in contrast to the \"trainer\" code) I want to have the output of <code>m.targets</code>.</p>\n<p>But when I try to run the \"runner\" code, I get this output:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/121384/log.txt\">log.txt</a></p>\n<p>I have checked so the shape of <code>input_id_list</code> is (1, 4). That is also what is printed on the first line in the log file. And from the error message I can see that the Tensorflow placeholder is of shape (1,4) as well. All this makes sense since my config is set to <code>batch_size=1</code> and <code>num_steps=4</code>.</p>\n<p>It also mentions that the input is of wrong type, not a int32, but it is the same input as when I run the \"trainer\" version of the code, so why would it work then but not now?</p>\n<p>Thank you for all help and feedback! Let me know if I should submit more code/logs/etc!</p>", "body_text": "Hi!\nI have downloaded and tried the RNN tutorial, it works great and I want to mod it to use it for another project.\nI have managed to write my own \"reader\" which uses my desired data and training the model seems to work, somewhat, I think. I feed my model the following dict:\nfeed_dict = {m.input_data: x, m.targets: y, m.initial_state: state}\ncost, state, _ = session.run([m.cost, m.final_state, eval_op], feed_dict=feed_dict)\n\nwhere x and y are the outputs from the reader.iterator method (the one I wrote, but nearly identical to the ptb_iterator used in the tutorial).\nI have also created a \"runner\" module which only imports a already trained model and runs it. But I am unable to run this code. I import a saved checkpoint into my session using the saver.restore method and that seems to work. But for the \"runner\" code I changed the feed_dict to be:\nfeed_dict = {m.input_data: input_id_list, m.initial_state: state}\nsince I do not have an output this time, this is what I want the network to come up with.\nI also have this in the session.run:\nsession.run([m.cost, m.targets, eval_op], feed_dict=feed_dict)\nSo this time (in contrast to the \"trainer\" code) I want to have the output of m.targets.\nBut when I try to run the \"runner\" code, I get this output:\nlog.txt\nI have checked so the shape of input_id_list is (1, 4). That is also what is printed on the first line in the log file. And from the error message I can see that the Tensorflow placeholder is of shape (1,4) as well. All this makes sense since my config is set to batch_size=1 and num_steps=4.\nIt also mentions that the input is of wrong type, not a int32, but it is the same input as when I run the \"trainer\" version of the code, so why would it work then but not now?\nThank you for all help and feedback! Let me know if I should submit more code/logs/etc!", "body": "Hi!\n\nI have downloaded and tried the [RNN tutorial](https://www.tensorflow.org/versions/0.6.0/tutorials/recurrent/index.html), it works great and I want to mod it to use it for another project.\n\nI have managed to write my own \"reader\" which uses my desired data and training the model seems to work, somewhat, I think. I feed my model the following dict:\n\n```\nfeed_dict = {m.input_data: x, m.targets: y, m.initial_state: state}\ncost, state, _ = session.run([m.cost, m.final_state, eval_op], feed_dict=feed_dict)\n```\n\nwhere `x` and `y` are the outputs from the `reader.iterator` method (the one I wrote, but nearly identical to the ptb_iterator used in the tutorial).\n\nI have also created a \"runner\" module which only imports a already trained model and runs it. But I am unable to run this code. I import a saved checkpoint into my session using the saver.restore method and that seems to work. But for the \"runner\" code I changed the `feed_dict` to be:\n`feed_dict = {m.input_data: input_id_list, m.initial_state: state}`\nsince I do not have an output this time, this is what I want the network to come up with.\nI also have this in the session.run:\n`session.run([m.cost, m.targets, eval_op], feed_dict=feed_dict)`\nSo this time (in contrast to the \"trainer\" code) I want to have the output of `m.targets`.\n\nBut when I try to run the \"runner\" code, I get this output:\n[log.txt](https://github.com/tensorflow/tensorflow/files/121384/log.txt)\n\nI have checked so the shape of `input_id_list` is (1, 4). That is also what is printed on the first line in the log file. And from the error message I can see that the Tensorflow placeholder is of shape (1,4) as well. All this makes sense since my config is set to `batch_size=1` and `num_steps=4`.\n\nIt also mentions that the input is of wrong type, not a int32, but it is the same input as when I run the \"trainer\" version of the code, so why would it work then but not now?\n\nThank you for all help and feedback! Let me know if I should submit more code/logs/etc!\n"}