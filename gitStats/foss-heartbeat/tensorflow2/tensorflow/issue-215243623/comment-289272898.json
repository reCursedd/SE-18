{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/289272898", "html_url": "https://github.com/tensorflow/tensorflow/issues/8527#issuecomment-289272898", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8527", "id": 289272898, "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTI3Mjg5OA==", "user": {"login": "phvu", "id": 1087992, "node_id": "MDQ6VXNlcjEwODc5OTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1087992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phvu", "html_url": "https://github.com/phvu", "followers_url": "https://api.github.com/users/phvu/followers", "following_url": "https://api.github.com/users/phvu/following{/other_user}", "gists_url": "https://api.github.com/users/phvu/gists{/gist_id}", "starred_url": "https://api.github.com/users/phvu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phvu/subscriptions", "organizations_url": "https://api.github.com/users/phvu/orgs", "repos_url": "https://api.github.com/users/phvu/repos", "events_url": "https://api.github.com/users/phvu/events{/privacy}", "received_events_url": "https://api.github.com/users/phvu/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-26T11:03:52Z", "updated_at": "2017-03-26T11:03:52Z", "author_association": "CONTRIBUTOR", "body_html": "<p>When the default isn't good enough, you can also set the variables before running <code>./configure</code>. I used something similar to this to compile TF in Docker:</p>\n<pre><code>ENV TF_NEED_CUDA=1 \\\n GCC_HOST_COMPILER_PATH=/usr/bin/gcc \\\n TF_CUDA_VERSION=8.0 \\\n CUDA_TOOLKIT_PATH=/usr/local/cuda \\\n TF_CUDNN_VERSION=5.1.10 \\\n CUDNN_INSTALL_PATH=/usr/local/cuda \\\n TF_CUDA_COMPUTE_CAPABILITIES=3.5,3.7,5.2,6.0 \\\n CC_OPT_FLAGS=\"--copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-msse4.2 --copt=-mfpmath=both --config=cuda\" \\\n PYTHON_BIN_PATH=\"/usr/bin/python\" \\\n USE_DEFAULT_PYTHON_LIB_PATH=1 \\\n TF_NEED_JEMALLOC=1 \\\n TF_NEED_GCP=0 \\\n TF_NEED_HDFS=0 \\\n TF_ENABLE_XLA=0 \\\n TF_NEED_OPENCL=0\n\nRUN ./configure &amp;&amp; \\\n  ......\n</code></pre>", "body_text": "When the default isn't good enough, you can also set the variables before running ./configure. I used something similar to this to compile TF in Docker:\nENV TF_NEED_CUDA=1 \\\n GCC_HOST_COMPILER_PATH=/usr/bin/gcc \\\n TF_CUDA_VERSION=8.0 \\\n CUDA_TOOLKIT_PATH=/usr/local/cuda \\\n TF_CUDNN_VERSION=5.1.10 \\\n CUDNN_INSTALL_PATH=/usr/local/cuda \\\n TF_CUDA_COMPUTE_CAPABILITIES=3.5,3.7,5.2,6.0 \\\n CC_OPT_FLAGS=\"--copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-msse4.2 --copt=-mfpmath=both --config=cuda\" \\\n PYTHON_BIN_PATH=\"/usr/bin/python\" \\\n USE_DEFAULT_PYTHON_LIB_PATH=1 \\\n TF_NEED_JEMALLOC=1 \\\n TF_NEED_GCP=0 \\\n TF_NEED_HDFS=0 \\\n TF_ENABLE_XLA=0 \\\n TF_NEED_OPENCL=0\n\nRUN ./configure && \\\n  ......", "body": "When the default isn't good enough, you can also set the variables before running `./configure`. I used something similar to this to compile TF in Docker:\r\n```\r\nENV TF_NEED_CUDA=1 \\\r\n GCC_HOST_COMPILER_PATH=/usr/bin/gcc \\\r\n TF_CUDA_VERSION=8.0 \\\r\n CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n TF_CUDNN_VERSION=5.1.10 \\\r\n CUDNN_INSTALL_PATH=/usr/local/cuda \\\r\n TF_CUDA_COMPUTE_CAPABILITIES=3.5,3.7,5.2,6.0 \\\r\n CC_OPT_FLAGS=\"--copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-msse4.2 --copt=-mfpmath=both --config=cuda\" \\\r\n PYTHON_BIN_PATH=\"/usr/bin/python\" \\\r\n USE_DEFAULT_PYTHON_LIB_PATH=1 \\\r\n TF_NEED_JEMALLOC=1 \\\r\n TF_NEED_GCP=0 \\\r\n TF_NEED_HDFS=0 \\\r\n TF_ENABLE_XLA=0 \\\r\n TF_NEED_OPENCL=0\r\n\r\nRUN ./configure && \\\r\n  ......\r\n```"}