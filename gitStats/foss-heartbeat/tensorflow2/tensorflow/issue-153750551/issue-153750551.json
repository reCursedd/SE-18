{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2288", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2288/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2288/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2288/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2288", "id": 153750551, "node_id": "MDU6SXNzdWUxNTM3NTA1NTE=", "number": 2288, "title": "NaN checker does not check outputs of optimizers", "user": {"login": "sesse", "id": 238700, "node_id": "MDQ6VXNlcjIzODcwMA==", "avatar_url": "https://avatars0.githubusercontent.com/u/238700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sesse", "html_url": "https://github.com/sesse", "followers_url": "https://api.github.com/users/sesse/followers", "following_url": "https://api.github.com/users/sesse/following{/other_user}", "gists_url": "https://api.github.com/users/sesse/gists{/gist_id}", "starred_url": "https://api.github.com/users/sesse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sesse/subscriptions", "organizations_url": "https://api.github.com/users/sesse/orgs", "repos_url": "https://api.github.com/users/sesse/repos", "events_url": "https://api.github.com/users/sesse/events{/privacy}", "received_events_url": "https://api.github.com/users/sesse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "keveman", "id": 229914, "node_id": "MDQ6VXNlcjIyOTkxNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/229914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keveman", "html_url": "https://github.com/keveman", "followers_url": "https://api.github.com/users/keveman/followers", "following_url": "https://api.github.com/users/keveman/following{/other_user}", "gists_url": "https://api.github.com/users/keveman/gists{/gist_id}", "starred_url": "https://api.github.com/users/keveman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keveman/subscriptions", "organizations_url": "https://api.github.com/users/keveman/orgs", "repos_url": "https://api.github.com/users/keveman/repos", "events_url": "https://api.github.com/users/keveman/events{/privacy}", "received_events_url": "https://api.github.com/users/keveman/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "keveman", "id": 229914, "node_id": "MDQ6VXNlcjIyOTkxNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/229914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keveman", "html_url": "https://github.com/keveman", "followers_url": "https://api.github.com/users/keveman/followers", "following_url": "https://api.github.com/users/keveman/following{/other_user}", "gists_url": "https://api.github.com/users/keveman/gists{/gist_id}", "starred_url": "https://api.github.com/users/keveman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keveman/subscriptions", "organizations_url": "https://api.github.com/users/keveman/orgs", "repos_url": "https://api.github.com/users/keveman/repos", "events_url": "https://api.github.com/users/keveman/events{/privacy}", "received_events_url": "https://api.github.com/users/keveman/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-05-09T10:51:43Z", "updated_at": "2017-02-09T22:02:15Z", "closed_at": "2017-01-24T00:28:47Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>I noticed this while debugging fp16 support for the Adam optimizer, so I thought I'd write it down here before it was forgotten.</p>\n<p>I had problems with NaNs in my pipeline, but couldn't really figure out where they came from. So I called tf.add_check_numerics_ops(), but it turns out that if the Adam optimizer creates a NaN (in my case, because the default epsilon of 1e-8 was too small for fp16), it is not actually checked.</p>\n<p>Instead, you get the error on a later Read op (when the NaN is attempted used), which can be very confusing, especially since there's a lot of Read ops and it's not always easy to figure out which one the error message is about.</p>", "body_text": "Hi,\nI noticed this while debugging fp16 support for the Adam optimizer, so I thought I'd write it down here before it was forgotten.\nI had problems with NaNs in my pipeline, but couldn't really figure out where they came from. So I called tf.add_check_numerics_ops(), but it turns out that if the Adam optimizer creates a NaN (in my case, because the default epsilon of 1e-8 was too small for fp16), it is not actually checked.\nInstead, you get the error on a later Read op (when the NaN is attempted used), which can be very confusing, especially since there's a lot of Read ops and it's not always easy to figure out which one the error message is about.", "body": "Hi,\n\nI noticed this while debugging fp16 support for the Adam optimizer, so I thought I'd write it down here before it was forgotten.\n\nI had problems with NaNs in my pipeline, but couldn't really figure out where they came from. So I called tf.add_check_numerics_ops(), but it turns out that if the Adam optimizer creates a NaN (in my case, because the default epsilon of 1e-8 was too small for fp16), it is not actually checked.\n\nInstead, you get the error on a later Read op (when the NaN is attempted used), which can be very confusing, especially since there's a lot of Read ops and it's not always easy to figure out which one the error message is about.\n"}