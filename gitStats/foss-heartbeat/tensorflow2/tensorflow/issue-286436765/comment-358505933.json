{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/358505933", "html_url": "https://github.com/tensorflow/tensorflow/issues/15897#issuecomment-358505933", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15897", "id": 358505933, "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODUwNTkzMw==", "user": {"login": "yzhwang", "id": 1002405, "node_id": "MDQ6VXNlcjEwMDI0MDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1002405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzhwang", "html_url": "https://github.com/yzhwang", "followers_url": "https://api.github.com/users/yzhwang/followers", "following_url": "https://api.github.com/users/yzhwang/following{/other_user}", "gists_url": "https://api.github.com/users/yzhwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzhwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzhwang/subscriptions", "organizations_url": "https://api.github.com/users/yzhwang/orgs", "repos_url": "https://api.github.com/users/yzhwang/repos", "events_url": "https://api.github.com/users/yzhwang/events{/privacy}", "received_events_url": "https://api.github.com/users/yzhwang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-18T01:21:08Z", "updated_at": "2018-01-18T01:21:08Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Currently TensorFlow assumes NCHW as the better data format to present tensors for convolution on the GPU. For Volta and later generation of GPUs, this may not be true any more. From my benchmark running on Volta machine with cudnn7, NHWC's performance is only shown to be better than NCHW for float32 with SAME padding, and the gap gets larger when number of channel gets larger.<br>\nWe will work on adding autotune feature to choose between the better data format when doing convolution.</p>", "body_text": "Currently TensorFlow assumes NCHW as the better data format to present tensors for convolution on the GPU. For Volta and later generation of GPUs, this may not be true any more. From my benchmark running on Volta machine with cudnn7, NHWC's performance is only shown to be better than NCHW for float32 with SAME padding, and the gap gets larger when number of channel gets larger.\nWe will work on adding autotune feature to choose between the better data format when doing convolution.", "body": "Currently TensorFlow assumes NCHW as the better data format to present tensors for convolution on the GPU. For Volta and later generation of GPUs, this may not be true any more. From my benchmark running on Volta machine with cudnn7, NHWC's performance is only shown to be better than NCHW for float32 with SAME padding, and the gap gets larger when number of channel gets larger.\r\nWe will work on adding autotune feature to choose between the better data format when doing convolution."}