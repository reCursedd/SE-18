{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23323", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23323/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23323/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23323/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23323", "id": 374717362, "node_id": "MDU6SXNzdWUzNzQ3MTczNjI=", "number": 23323, "title": "i encounter very strange and serious Bug with dataset feeding \uff08Emergency\uff09", "user": {"login": "henryatman", "id": 5210789, "node_id": "MDQ6VXNlcjUyMTA3ODk=", "avatar_url": "https://avatars1.githubusercontent.com/u/5210789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/henryatman", "html_url": "https://github.com/henryatman", "followers_url": "https://api.github.com/users/henryatman/followers", "following_url": "https://api.github.com/users/henryatman/following{/other_user}", "gists_url": "https://api.github.com/users/henryatman/gists{/gist_id}", "starred_url": "https://api.github.com/users/henryatman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/henryatman/subscriptions", "organizations_url": "https://api.github.com/users/henryatman/orgs", "repos_url": "https://api.github.com/users/henryatman/repos", "events_url": "https://api.github.com/users/henryatman/events{/privacy}", "received_events_url": "https://api.github.com/users/henryatman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "skye", "id": 88808, "node_id": "MDQ6VXNlcjg4ODA4", "avatar_url": "https://avatars1.githubusercontent.com/u/88808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skye", "html_url": "https://github.com/skye", "followers_url": "https://api.github.com/users/skye/followers", "following_url": "https://api.github.com/users/skye/following{/other_user}", "gists_url": "https://api.github.com/users/skye/gists{/gist_id}", "starred_url": "https://api.github.com/users/skye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skye/subscriptions", "organizations_url": "https://api.github.com/users/skye/orgs", "repos_url": "https://api.github.com/users/skye/repos", "events_url": "https://api.github.com/users/skye/events{/privacy}", "received_events_url": "https://api.github.com/users/skye/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skye", "id": 88808, "node_id": "MDQ6VXNlcjg4ODA4", "avatar_url": "https://avatars1.githubusercontent.com/u/88808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skye", "html_url": "https://github.com/skye", "followers_url": "https://api.github.com/users/skye/followers", "following_url": "https://api.github.com/users/skye/following{/other_user}", "gists_url": "https://api.github.com/users/skye/gists{/gist_id}", "starred_url": "https://api.github.com/users/skye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skye/subscriptions", "organizations_url": "https://api.github.com/users/skye/orgs", "repos_url": "https://api.github.com/users/skye/repos", "events_url": "https://api.github.com/users/skye/events{/privacy}", "received_events_url": "https://api.github.com/users/skye/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-10-28T04:55:10Z", "updated_at": "2018-11-22T18:50:40Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><em>Please make sure that this is a feature request. As per our <a href=\"https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md\">GitHub Policy</a>, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em></p>\n<p><strong>System information</strong> MAC OS 10.14 And Ubuntu 18 either</p>\n<ul>\n<li>TensorFlow version (you are using): 1.11.0</li>\n</ul>\n<p>My model is LSTM + DNN, dataset structure is:</p>\n<p>[<br>\n[ [1,2,3],4,5,6 ],<br>\n[ [11,22,33],44,55,66 ],<br>\n[ [4,5,6],7,8,9 ],<br>\n]</p>\n<p>convert to Dict is</p>\n<p>{<br>\na: [ [1,2,3], [11,22,33], [4,5,6] ]<br>\nb: [4,44,7]<br>\nc: [5,55,8]<br>\nd: [6,66,9]<br>\n}</p>\n<p>it's work well but when LSTM exceed 31 step, i will reshape feature \"a\" to (time_step, columns) for LSTM input, when time_step more than 31, like 32, 33..., software will crash, and show bug info below:</p>\n<p><code>Retval[0] does not have value</code></p>\n<pre><code>Traceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1295, in _do_call\n    return fn(*args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1277, in _run_fn\n    options, feed_dict, fetch_list, target_list, run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1375, in _call_tf_sessionrun\n    run_metadata)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Retval[0] does not have value\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"estimator.py\", line 340, in &lt;module&gt;\n    tf.app.run(main)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\n    _sys.exit(main(argv))\n  File \"estimator.py\", line 275, in main\n    steps=args.train_steps\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 356, in train\n    loss = self._train_model(input_fn, hooks, saving_listeners)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 1181, in _train_model\n    return self._train_model_default(input_fn, hooks, saving_listeners)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 1215, in _train_model_default\n    saving_listeners)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 1409, in _train_with_estimator_spec\n    _, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 671, in run\n    run_metadata=run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1148, in run\n    run_metadata=run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1239, in run\n    raise six.reraise(*original_exc_info)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/six.py\", line 693, in reraise\n    raise value\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1224, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1296, in run\n    run_metadata=run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1076, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 887, in run\n    run_metadata_ptr)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1110, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1286, in _do_run\n    run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1314, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Retval[0] does not have value\n</code></pre>\n<p>i'm first think reason is data too long\uff0cso i change and reduce columns (32, 50) to (32, 30), (32, 10), (32, 1), it's can't work, but i change and reduce shape to (31, 50), (31, 30), (31, 60), (32, 1), (16, 60), (2, 16) it's work well, just say, when LSTM time step exceed 31, Tensorflow can't work,</p>\n<p><strong>Who will benefit with this fix?</strong></p>\n<p>every one</p>\n<p><strong>Any Other info.</strong></p>\n<p>i use tech beblow:</p>\n<ol>\n<li>tensorflow estimator + dataset,</li>\n<li>RNN ( LSTM + MUILTI + Dynamic),</li>\n<li>DNN( fully connected layer )</li>\n</ol>\n<p>it's strange Bug and important Bug, even cause i can't running completely now\uff0chope official can fix Bug as soon as possible\uff0cvery thanks</p>", "body_text": "Please make sure that this is a feature request. As per our GitHub Policy, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template\nSystem information MAC OS 10.14 And Ubuntu 18 either\n\nTensorFlow version (you are using): 1.11.0\n\nMy model is LSTM + DNN, dataset structure is:\n[\n[ [1,2,3],4,5,6 ],\n[ [11,22,33],44,55,66 ],\n[ [4,5,6],7,8,9 ],\n]\nconvert to Dict is\n{\na: [ [1,2,3], [11,22,33], [4,5,6] ]\nb: [4,44,7]\nc: [5,55,8]\nd: [6,66,9]\n}\nit's work well but when LSTM exceed 31 step, i will reshape feature \"a\" to (time_step, columns) for LSTM input, when time_step more than 31, like 32, 33..., software will crash, and show bug info below:\nRetval[0] does not have value\nTraceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1295, in _do_call\n    return fn(*args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1277, in _run_fn\n    options, feed_dict, fetch_list, target_list, run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1375, in _call_tf_sessionrun\n    run_metadata)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Retval[0] does not have value\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"estimator.py\", line 340, in <module>\n    tf.app.run(main)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\n    _sys.exit(main(argv))\n  File \"estimator.py\", line 275, in main\n    steps=args.train_steps\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 356, in train\n    loss = self._train_model(input_fn, hooks, saving_listeners)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 1181, in _train_model\n    return self._train_model_default(input_fn, hooks, saving_listeners)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 1215, in _train_model_default\n    saving_listeners)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 1409, in _train_with_estimator_spec\n    _, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 671, in run\n    run_metadata=run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1148, in run\n    run_metadata=run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1239, in run\n    raise six.reraise(*original_exc_info)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/six.py\", line 693, in reraise\n    raise value\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1224, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1296, in run\n    run_metadata=run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1076, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 887, in run\n    run_metadata_ptr)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1110, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1286, in _do_run\n    run_metadata)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1314, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Retval[0] does not have value\n\ni'm first think reason is data too long\uff0cso i change and reduce columns (32, 50) to (32, 30), (32, 10), (32, 1), it's can't work, but i change and reduce shape to (31, 50), (31, 30), (31, 60), (32, 1), (16, 60), (2, 16) it's work well, just say, when LSTM time step exceed 31, Tensorflow can't work,\nWho will benefit with this fix?\nevery one\nAny Other info.\ni use tech beblow:\n\ntensorflow estimator + dataset,\nRNN ( LSTM + MUILTI + Dynamic),\nDNN( fully connected layer )\n\nit's strange Bug and important Bug, even cause i can't running completely now\uff0chope official can fix Bug as soon as possible\uff0cvery thanks", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n**System information** MAC OS 10.14 And Ubuntu 18 either\r\n- TensorFlow version (you are using): 1.11.0\r\n\r\nMy model is LSTM + DNN, dataset structure is:\r\n\r\n[\r\n    [ [1,2,3],4,5,6 ],\r\n    [ [11,22,33],44,55,66 ],\r\n    [ [4,5,6],7,8,9 ],\r\n]\r\n\r\nconvert to Dict is\r\n\r\n{\r\n    a: [ [1,2,3], [11,22,33], [4,5,6] ]\r\n    b: [4,44,7]\r\n    c: [5,55,8]\r\n    d: [6,66,9]\r\n}\r\n\r\nit's work well but when LSTM exceed 31 step, i will reshape feature \"a\" to (time_step, columns) for LSTM input, when time_step more than 31, like 32, 33..., software will crash, and show bug info below:\r\n\r\n`Retval[0] does not have value`\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1295, in _do_call\r\n    return fn(*args)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1277, in _run_fn\r\n    options, feed_dict, fetch_list, target_list, run_metadata)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1375, in _call_tf_sessionrun\r\n    run_metadata)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Retval[0] does not have value\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"estimator.py\", line 340, in <module>\r\n    tf.app.run(main)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"estimator.py\", line 275, in main\r\n    steps=args.train_steps\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 356, in train\r\n    loss = self._train_model(input_fn, hooks, saving_listeners)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 1181, in _train_model\r\n    return self._train_model_default(input_fn, hooks, saving_listeners)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 1215, in _train_model_default\r\n    saving_listeners)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 1409, in _train_with_estimator_spec\r\n    _, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 671, in run\r\n    run_metadata=run_metadata)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1148, in run\r\n    run_metadata=run_metadata)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1239, in run\r\n    raise six.reraise(*original_exc_info)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/six.py\", line 693, in reraise\r\n    raise value\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1224, in run\r\n    return self._sess.run(*args, **kwargs)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1296, in run\r\n    run_metadata=run_metadata)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1076, in run\r\n    return self._sess.run(*args, **kwargs)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 887, in run\r\n    run_metadata_ptr)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1110, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1286, in _do_run\r\n    run_metadata)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1314, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Retval[0] does not have value\r\n``` \r\n\r\ni'm first think reason is data too long\uff0cso i change and reduce columns (32, 50) to (32, 30), (32, 10), (32, 1), it's can't work, but i change and reduce shape to (31, 50), (31, 30), (31, 60), (32, 1), (16, 60), (2, 16) it's work well, just say, when LSTM time step exceed 31, Tensorflow can't work,\r\n\r\n**Who will benefit with this fix?**\r\n\r\nevery one\r\n\r\n**Any Other info.**\r\n\r\ni use tech beblow:\r\n\r\n1. tensorflow estimator + dataset,\r\n2. RNN ( LSTM + MUILTI + Dynamic),\r\n3. DNN( fully connected layer )\r\n\r\nit's strange Bug and important Bug, even cause i can't running completely now\uff0chope official can fix Bug as soon as possible\uff0cvery thanks\r\n\r\n\r\n\r\n"}