{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20088", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20088/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20088/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20088/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20088", "id": 333122041, "node_id": "MDU6SXNzdWUzMzMxMjIwNDE=", "number": 20088, "title": "Tensorflow 1.8.0, GPU Build fails with error C2872: 'GPUDevice': ambiguous symbol", "user": {"login": "nehaljwani", "id": 1779189, "node_id": "MDQ6VXNlcjE3NzkxODk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1779189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nehaljwani", "html_url": "https://github.com/nehaljwani", "followers_url": "https://api.github.com/users/nehaljwani/followers", "following_url": "https://api.github.com/users/nehaljwani/following{/other_user}", "gists_url": "https://api.github.com/users/nehaljwani/gists{/gist_id}", "starred_url": "https://api.github.com/users/nehaljwani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nehaljwani/subscriptions", "organizations_url": "https://api.github.com/users/nehaljwani/orgs", "repos_url": "https://api.github.com/users/nehaljwani/repos", "events_url": "https://api.github.com/users/nehaljwani/events{/privacy}", "received_events_url": "https://api.github.com/users/nehaljwani/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "tatianashp", "id": 986732, "node_id": "MDQ6VXNlcjk4NjczMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/986732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatianashp", "html_url": "https://github.com/tatianashp", "followers_url": "https://api.github.com/users/tatianashp/followers", "following_url": "https://api.github.com/users/tatianashp/following{/other_user}", "gists_url": "https://api.github.com/users/tatianashp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatianashp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatianashp/subscriptions", "organizations_url": "https://api.github.com/users/tatianashp/orgs", "repos_url": "https://api.github.com/users/tatianashp/repos", "events_url": "https://api.github.com/users/tatianashp/events{/privacy}", "received_events_url": "https://api.github.com/users/tatianashp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tatianashp", "id": 986732, "node_id": "MDQ6VXNlcjk4NjczMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/986732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatianashp", "html_url": "https://github.com/tatianashp", "followers_url": "https://api.github.com/users/tatianashp/followers", "following_url": "https://api.github.com/users/tatianashp/following{/other_user}", "gists_url": "https://api.github.com/users/tatianashp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatianashp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatianashp/subscriptions", "organizations_url": "https://api.github.com/users/tatianashp/orgs", "repos_url": "https://api.github.com/users/tatianashp/repos", "events_url": "https://api.github.com/users/tatianashp/events{/privacy}", "received_events_url": "https://api.github.com/users/tatianashp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-06-18T03:16:51Z", "updated_at": "2018-06-29T06:00:55Z", "closed_at": "2018-06-29T06:00:55Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>Describe the problem</h3>\n<p>Trying to compile Tensorflow 1.8.0 with GPU support using CUDA 9.0 and CUDNN 7.1 on Windows. Compilation fails.</p>\n<h3>Source code / logs</h3>\n<pre><code>ERROR: C:/l/tensorflow-gpu-base_1529265306395/work/tensorflow/contrib/fused_conv/BUILD:82:1: C++ compilation of rule '//tensorflow/contrib/fused_conv:python/ops/_fused_conv2d_bias_activation_op.so' failed (Exit 2): msvc_cl.bat failed: error executing command\n  cd C:/t/_bazel_nwani/0uz4ee68/execroot/org_tensorflow\n  SET CUDA_COMPUTE_CAPABILITIE=None\n    SET CUDA_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\n    SET CUDA_TOOLKIT_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\n    SET CUDNN_INSTALL_PATH=C:/Users/nwani/Downloads/cudnn-9.0-windows10-x64-v7.1/cuda\n    SET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10240.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\shared;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\winrt;\n    SET LIB=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64;\n    SET NO_WHOLE_ARCHIVE_OPTION=1\n    SET PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0/bin;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TestWindow;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\WINDOWS\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\VCPackages;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools\\x64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x86;C:\\Program Files (x86)\\Microsoft SDKs\\Windows\\v10.0A\\bin\\NETFX 4.6.1 Tools\\x64\\;;C:\\WINDOWS\\system32\n    SET PWD=/proc/self/cwd\n    SET PYTHON_BIN_PATH=C:/l/tensorflow-gpu-base_1529265306395/_h_env/python.exe\n    SET PYTHON_LIB_PATH=C:/l/tensorflow-gpu-base_1529265306395/_h_env/Lib/site-packages\n    SET TEMP=C:\\Users\\nwani\\AppData\\Local\\Temp\n    SET TF_CUDA_CLANG=0\n    SET TF_CUDA_COMPUTE_CAPABILITIES=3.0,3.5,5.2,6.0,6.1,7.0\n    SET TF_CUDA_VERSION=9.0\n    SET TF_CUDNN_VERSION=7\n    SET TF_NEED_CUDA=1\n    SET TF_NEED_OPENCL_SYCL=0\n    SET TMP=C:\\Users\\nwani\\AppData\\Local\\Temp\n  external/local_config_cc/wrapper/bin/msvc_cl.bat /c tensorflow/contrib/fused_conv/kernels/fused_conv2d_bias_activation_op.cc /Fobazel-out/x64_windows-py3-opt/bin/tensorflow/contrib/fused_conv/_objs/python/ops/_fused_conv2d_bias_activation_op.so/tensorflow/contrib/fused_conv/kernels/fused_conv2d_bias_activation_op.o /nologo /DCOMPILER_MSVC /DNOMINMAX /D_WIN32_WINNT=0x0600 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_SECURE_NO_WARNINGS /D_SILENCE_STDEXT_HASH_DEPRECATION_WARNINGS /bigobj /Zm500 /J /Gy /GF /EHsc /wd4351 /wd4291 /wd4250 /wd4996 -Xcompilation-mode=opt -DGEMMLOWP_ALLOW_SLOW_SCALAR_FALLBACK -w /I. /Ibazel-out/x64_windows-py3-opt/genfiles /Iexternal/protobuf_archive /Ibazel-out/x64_windows-py3-opt/genfiles/external/protobuf_archive /Iexternal/bazel_tools /Ibazel-out/x64_windows-py3-opt/genfiles/external/bazel_tools /Iexternal/eigen_archive /Ibazel-out/x64_windows-py3-opt/genfiles/external/eigen_archive /Iexternal/local_config_sycl /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_sycl /Iexternal/local_config_cuda /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda /Iexternal/protobuf_archive/src /Ibazel-out/x64_windows-py3-opt/genfiles/external/protobuf_archive/src /Iexternal/eigen_archive /Ibazel-out/x64_windows-py3-opt/genfiles/external/eigen_archive /Iexternal/local_config_cuda/cuda /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda/cuda /Iexternal/local_config_cuda/cuda/cuda/include /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda/cuda/cuda/include /Iexternal/local_config_cuda/cuda/cuda/include/crt /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda/cuda/cuda/include/crt /DEIGEN_MPL2_ONLY /showIncludes /MD /O2 /DNDEBUG -DGOOGLE_CUDA=1 -DTENSORFLOW_MONOLITHIC_BUILD /D__VERSION__=\"MSVC\" /DPLATFORM_WINDOWS /DEIGEN_HAS_C99_MATH /DTENSORFLOW_USE_EIGEN_THREADPOOL /DEIGEN_AVOID_STL_ARRAY /Iexternal/gemmlowp /wd4018 /U_HAS_EXCEPTIONS /D_HAS_EXCEPTIONS=1 /EHsc /DNOGDI /UTF_COMPILE_LIBRARY\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(305): error C2872: 'GPUDevice': ambiguous symbol\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(631): error C2872: 'GPUDevice': ambiguous symbol\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(632): error C2872: 'GPUDevice': ambiguous symbol\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(645): error C2872: 'GPUDevice': ambiguous symbol\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(654): error C2872: 'GPUDevice': ambiguous symbol\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 1314.928s, Critical Path: 343.16s\nFAILED: Build did NOT complete successfully\n+ exit 1\n</code></pre>", "body_text": "Describe the problem\nTrying to compile Tensorflow 1.8.0 with GPU support using CUDA 9.0 and CUDNN 7.1 on Windows. Compilation fails.\nSource code / logs\nERROR: C:/l/tensorflow-gpu-base_1529265306395/work/tensorflow/contrib/fused_conv/BUILD:82:1: C++ compilation of rule '//tensorflow/contrib/fused_conv:python/ops/_fused_conv2d_bias_activation_op.so' failed (Exit 2): msvc_cl.bat failed: error executing command\n  cd C:/t/_bazel_nwani/0uz4ee68/execroot/org_tensorflow\n  SET CUDA_COMPUTE_CAPABILITIE=None\n    SET CUDA_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\n    SET CUDA_TOOLKIT_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\n    SET CUDNN_INSTALL_PATH=C:/Users/nwani/Downloads/cudnn-9.0-windows10-x64-v7.1/cuda\n    SET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10240.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\shared;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\winrt;\n    SET LIB=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64;\n    SET NO_WHOLE_ARCHIVE_OPTION=1\n    SET PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0/bin;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TestWindow;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\WINDOWS\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\VCPackages;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools\\x64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x86;C:\\Program Files (x86)\\Microsoft SDKs\\Windows\\v10.0A\\bin\\NETFX 4.6.1 Tools\\x64\\;;C:\\WINDOWS\\system32\n    SET PWD=/proc/self/cwd\n    SET PYTHON_BIN_PATH=C:/l/tensorflow-gpu-base_1529265306395/_h_env/python.exe\n    SET PYTHON_LIB_PATH=C:/l/tensorflow-gpu-base_1529265306395/_h_env/Lib/site-packages\n    SET TEMP=C:\\Users\\nwani\\AppData\\Local\\Temp\n    SET TF_CUDA_CLANG=0\n    SET TF_CUDA_COMPUTE_CAPABILITIES=3.0,3.5,5.2,6.0,6.1,7.0\n    SET TF_CUDA_VERSION=9.0\n    SET TF_CUDNN_VERSION=7\n    SET TF_NEED_CUDA=1\n    SET TF_NEED_OPENCL_SYCL=0\n    SET TMP=C:\\Users\\nwani\\AppData\\Local\\Temp\n  external/local_config_cc/wrapper/bin/msvc_cl.bat /c tensorflow/contrib/fused_conv/kernels/fused_conv2d_bias_activation_op.cc /Fobazel-out/x64_windows-py3-opt/bin/tensorflow/contrib/fused_conv/_objs/python/ops/_fused_conv2d_bias_activation_op.so/tensorflow/contrib/fused_conv/kernels/fused_conv2d_bias_activation_op.o /nologo /DCOMPILER_MSVC /DNOMINMAX /D_WIN32_WINNT=0x0600 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_SECURE_NO_WARNINGS /D_SILENCE_STDEXT_HASH_DEPRECATION_WARNINGS /bigobj /Zm500 /J /Gy /GF /EHsc /wd4351 /wd4291 /wd4250 /wd4996 -Xcompilation-mode=opt -DGEMMLOWP_ALLOW_SLOW_SCALAR_FALLBACK -w /I. /Ibazel-out/x64_windows-py3-opt/genfiles /Iexternal/protobuf_archive /Ibazel-out/x64_windows-py3-opt/genfiles/external/protobuf_archive /Iexternal/bazel_tools /Ibazel-out/x64_windows-py3-opt/genfiles/external/bazel_tools /Iexternal/eigen_archive /Ibazel-out/x64_windows-py3-opt/genfiles/external/eigen_archive /Iexternal/local_config_sycl /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_sycl /Iexternal/local_config_cuda /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda /Iexternal/protobuf_archive/src /Ibazel-out/x64_windows-py3-opt/genfiles/external/protobuf_archive/src /Iexternal/eigen_archive /Ibazel-out/x64_windows-py3-opt/genfiles/external/eigen_archive /Iexternal/local_config_cuda/cuda /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda/cuda /Iexternal/local_config_cuda/cuda/cuda/include /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda/cuda/cuda/include /Iexternal/local_config_cuda/cuda/cuda/include/crt /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda/cuda/cuda/include/crt /DEIGEN_MPL2_ONLY /showIncludes /MD /O2 /DNDEBUG -DGOOGLE_CUDA=1 -DTENSORFLOW_MONOLITHIC_BUILD /D__VERSION__=\"MSVC\" /DPLATFORM_WINDOWS /DEIGEN_HAS_C99_MATH /DTENSORFLOW_USE_EIGEN_THREADPOOL /DEIGEN_AVOID_STL_ARRAY /Iexternal/gemmlowp /wd4018 /U_HAS_EXCEPTIONS /D_HAS_EXCEPTIONS=1 /EHsc /DNOGDI /UTF_COMPILE_LIBRARY\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(305): error C2872: 'GPUDevice': ambiguous symbol\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(631): error C2872: 'GPUDevice': ambiguous symbol\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(632): error C2872: 'GPUDevice': ambiguous symbol\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(645): error C2872: 'GPUDevice': ambiguous symbol\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(654): error C2872: 'GPUDevice': ambiguous symbol\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 1314.928s, Critical Path: 343.16s\nFAILED: Build did NOT complete successfully\n+ exit 1", "body": "### Describe the problem\r\nTrying to compile Tensorflow 1.8.0 with GPU support using CUDA 9.0 and CUDNN 7.1 on Windows. Compilation fails.\r\n\r\n### Source code / logs\r\n```\r\nERROR: C:/l/tensorflow-gpu-base_1529265306395/work/tensorflow/contrib/fused_conv/BUILD:82:1: C++ compilation of rule '//tensorflow/contrib/fused_conv:python/ops/_fused_conv2d_bias_activation_op.so' failed (Exit 2): msvc_cl.bat failed: error executing command\r\n  cd C:/t/_bazel_nwani/0uz4ee68/execroot/org_tensorflow\r\n  SET CUDA_COMPUTE_CAPABILITIE=None\r\n    SET CUDA_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\r\n    SET CUDA_TOOLKIT_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\r\n    SET CUDNN_INSTALL_PATH=C:/Users/nwani/Downloads/cudnn-9.0-windows10-x64-v7.1/cuda\r\n    SET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10240.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\shared;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\um;C:\\Program Files (x86)\\Windows Kits\\8.1\\include\\\\winrt;\r\n    SET LIB=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64;\r\n    SET NO_WHOLE_ARCHIVE_OPTION=1\r\n    SET PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0/bin;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TestWindow;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\WINDOWS\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\VCPackages;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools\\x64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Team Tools\\Performance Tools;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x86;C:\\Program Files (x86)\\Microsoft SDKs\\Windows\\v10.0A\\bin\\NETFX 4.6.1 Tools\\x64\\;;C:\\WINDOWS\\system32\r\n    SET PWD=/proc/self/cwd\r\n    SET PYTHON_BIN_PATH=C:/l/tensorflow-gpu-base_1529265306395/_h_env/python.exe\r\n    SET PYTHON_LIB_PATH=C:/l/tensorflow-gpu-base_1529265306395/_h_env/Lib/site-packages\r\n    SET TEMP=C:\\Users\\nwani\\AppData\\Local\\Temp\r\n    SET TF_CUDA_CLANG=0\r\n    SET TF_CUDA_COMPUTE_CAPABILITIES=3.0,3.5,5.2,6.0,6.1,7.0\r\n    SET TF_CUDA_VERSION=9.0\r\n    SET TF_CUDNN_VERSION=7\r\n    SET TF_NEED_CUDA=1\r\n    SET TF_NEED_OPENCL_SYCL=0\r\n    SET TMP=C:\\Users\\nwani\\AppData\\Local\\Temp\r\n  external/local_config_cc/wrapper/bin/msvc_cl.bat /c tensorflow/contrib/fused_conv/kernels/fused_conv2d_bias_activation_op.cc /Fobazel-out/x64_windows-py3-opt/bin/tensorflow/contrib/fused_conv/_objs/python/ops/_fused_conv2d_bias_activation_op.so/tensorflow/contrib/fused_conv/kernels/fused_conv2d_bias_activation_op.o /nologo /DCOMPILER_MSVC /DNOMINMAX /D_WIN32_WINNT=0x0600 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_SECURE_NO_WARNINGS /D_SILENCE_STDEXT_HASH_DEPRECATION_WARNINGS /bigobj /Zm500 /J /Gy /GF /EHsc /wd4351 /wd4291 /wd4250 /wd4996 -Xcompilation-mode=opt -DGEMMLOWP_ALLOW_SLOW_SCALAR_FALLBACK -w /I. /Ibazel-out/x64_windows-py3-opt/genfiles /Iexternal/protobuf_archive /Ibazel-out/x64_windows-py3-opt/genfiles/external/protobuf_archive /Iexternal/bazel_tools /Ibazel-out/x64_windows-py3-opt/genfiles/external/bazel_tools /Iexternal/eigen_archive /Ibazel-out/x64_windows-py3-opt/genfiles/external/eigen_archive /Iexternal/local_config_sycl /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_sycl /Iexternal/local_config_cuda /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda /Iexternal/protobuf_archive/src /Ibazel-out/x64_windows-py3-opt/genfiles/external/protobuf_archive/src /Iexternal/eigen_archive /Ibazel-out/x64_windows-py3-opt/genfiles/external/eigen_archive /Iexternal/local_config_cuda/cuda /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda/cuda /Iexternal/local_config_cuda/cuda/cuda/include /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda/cuda/cuda/include /Iexternal/local_config_cuda/cuda/cuda/include/crt /Ibazel-out/x64_windows-py3-opt/genfiles/external/local_config_cuda/cuda/cuda/include/crt /DEIGEN_MPL2_ONLY /showIncludes /MD /O2 /DNDEBUG -DGOOGLE_CUDA=1 -DTENSORFLOW_MONOLITHIC_BUILD /D__VERSION__=\"MSVC\" /DPLATFORM_WINDOWS /DEIGEN_HAS_C99_MATH /DTENSORFLOW_USE_EIGEN_THREADPOOL /DEIGEN_AVOID_STL_ARRAY /Iexternal/gemmlowp /wd4018 /U_HAS_EXCEPTIONS /D_HAS_EXCEPTIONS=1 /EHsc /DNOGDI /UTF_COMPILE_LIBRARY\r\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(305): error C2872: 'GPUDevice': ambiguous symbol\r\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\r\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\r\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(631): error C2872: 'GPUDevice': ambiguous symbol\r\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\r\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\r\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(632): error C2872: 'GPUDevice': ambiguous symbol\r\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\r\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\r\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(645): error C2872: 'GPUDevice': ambiguous symbol\r\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\r\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\r\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(654): error C2872: 'GPUDevice': ambiguous symbol\r\n.\\tensorflow/core/kernels/conv_ops_gpu.h(181): note: could be 'Eigen::GpuDevice tensorflow::GPUDevice'\r\nC:\\t\\_bazel_nwani\\0uz4ee68\\execroot\\org_tensorflow\\tensorflow\\contrib\\fused_conv\\kernels\\fused_conv2d_bias_activation_op.cc(46): note: or       'tensorflow::`anonymous-namespace'::GPUDevice'\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 1314.928s, Critical Path: 343.16s\r\nFAILED: Build did NOT complete successfully\r\n+ exit 1\r\n```"}