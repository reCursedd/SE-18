{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/256147229", "html_url": "https://github.com/tensorflow/tensorflow/issues/5200#issuecomment-256147229", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5200", "id": 256147229, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjE0NzIyOQ==", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-25T19:16:45Z", "updated_at": "2016-10-25T19:16:45Z", "author_association": "NONE", "body_html": "<p>Just managed to build it successfully with slight code changes. I don't know C++ but I followed errors and fixed it one by one. It seems that this commit broke things: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/20c02ffe0e6b8af4902487f852e15daa16caa523#diff-48887acc98c15e53f942842ecd65190f/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/20c02ffe0e6b8af4902487f852e15daa16caa523#diff-48887acc98c15e53f942842ecd65190f\"><tt>20c02ff</tt>#diff-48887acc98c15e53f942842ecd65190f</a></p>\n<p>So what I did was:</p>\n<p>Open label_image.cc and do this:</p>\n<p>Add:<br>\n<code>#include &lt;stdio.h&gt;</code><br>\nbefore<br>\n<code>include &lt;jpeglib.h&gt;</code></p>\n<p>Find:<br>\n<code>vector tensorflow::Flag &gt; flag_list = {</code> around line 320 and change it to:<br>\n<code>std::vector&lt;tensorflow::Flag&gt; flag_list = {</code></p>\n<p>Last thing, just couple lines after last change:<br>\n<code>tensorflow::port::InitMain(usage, &amp;argc, &amp;argv);</code> change it to:<br>\n<code>tensorflow::port::InitMain(argv[0], &amp;argc, &amp;argv);</code></p>\n<p>That's it, now just run:<br>\n<code>make -f tensorflow/contrib/pi_examples/label_image/Makefile</code><br>\nand wait a minute while it finishes, you can then run example by running:<br>\n<code>tensorflow/contrib/pi_examples/label_image/gen/bin/label_image</code></p>\n<p>Could anyone help me understand what happened in this diff that broke things and how it got merged to master? Also, I'm not really sure last change is the right thing to do, but it compiles and builds so it is a quickfix for me.</p>", "body_text": "Just managed to build it successfully with slight code changes. I don't know C++ but I followed errors and fixed it one by one. It seems that this commit broke things: 20c02ff#diff-48887acc98c15e53f942842ecd65190f\nSo what I did was:\nOpen label_image.cc and do this:\nAdd:\n#include <stdio.h>\nbefore\ninclude <jpeglib.h>\nFind:\nvector tensorflow::Flag > flag_list = { around line 320 and change it to:\nstd::vector<tensorflow::Flag> flag_list = {\nLast thing, just couple lines after last change:\ntensorflow::port::InitMain(usage, &argc, &argv); change it to:\ntensorflow::port::InitMain(argv[0], &argc, &argv);\nThat's it, now just run:\nmake -f tensorflow/contrib/pi_examples/label_image/Makefile\nand wait a minute while it finishes, you can then run example by running:\ntensorflow/contrib/pi_examples/label_image/gen/bin/label_image\nCould anyone help me understand what happened in this diff that broke things and how it got merged to master? Also, I'm not really sure last change is the right thing to do, but it compiles and builds so it is a quickfix for me.", "body": "Just managed to build it successfully with slight code changes. I don't know C++ but I followed errors and fixed it one by one. It seems that this commit broke things: https://github.com/tensorflow/tensorflow/commit/20c02ffe0e6b8af4902487f852e15daa16caa523#diff-48887acc98c15e53f942842ecd65190f\n\nSo what I did was:\n\nOpen label_image.cc and do this:\n\nAdd:\n`#include <stdio.h>`\nbefore \n`include <jpeglib.h>`\n\nFind:\n`vector tensorflow::Flag > flag_list = {` around line 320 and change it to:\n`std::vector<tensorflow::Flag> flag_list = {`\n\nLast thing, just couple lines after last change:\n`tensorflow::port::InitMain(usage, &argc, &argv);` change it to:\n`tensorflow::port::InitMain(argv[0], &argc, &argv);`\n\nThat's it, now just run:\n`make -f tensorflow/contrib/pi_examples/label_image/Makefile`\nand wait a minute while it finishes, you can then run example by running:\n`tensorflow/contrib/pi_examples/label_image/gen/bin/label_image`\n\nCould anyone help me understand what happened in this diff that broke things and how it got merged to master? Also, I'm not really sure last change is the right thing to do, but it compiles and builds so it is a quickfix for me.\n"}