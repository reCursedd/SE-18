{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16170", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16170/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16170/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16170/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16170", "id": 289036405, "node_id": "MDU6SXNzdWUyODkwMzY0MDU=", "number": 16170, "title": "tf.train.latest_checkpoint fails when paths have \"//\" ", "user": {"login": "pramodkaushik", "id": 27796676, "node_id": "MDQ6VXNlcjI3Nzk2Njc2", "avatar_url": "https://avatars3.githubusercontent.com/u/27796676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pramodkaushik", "html_url": "https://github.com/pramodkaushik", "followers_url": "https://api.github.com/users/pramodkaushik/followers", "following_url": "https://api.github.com/users/pramodkaushik/following{/other_user}", "gists_url": "https://api.github.com/users/pramodkaushik/gists{/gist_id}", "starred_url": "https://api.github.com/users/pramodkaushik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pramodkaushik/subscriptions", "organizations_url": "https://api.github.com/users/pramodkaushik/orgs", "repos_url": "https://api.github.com/users/pramodkaushik/repos", "events_url": "https://api.github.com/users/pramodkaushik/events{/privacy}", "received_events_url": "https://api.github.com/users/pramodkaushik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-01-16T19:56:52Z", "updated_at": "2018-06-02T07:21:12Z", "closed_at": "2018-06-02T07:06:09Z", "author_association": "NONE", "body_html": "<p><code>tf.train.latest_checkpoint</code> returns the error</p>\n<pre><code>ERROR:tensorflow:Couldn't match files for checkpoint\n</code></pre>\n<p>when paths in the \"checkpoint\" file have \"//\" instead of \"/\". Usually, good practice of using <code>os.path.join</code> will help avoid this situation, but I believe TensorFlow should account for '//'s in paths as several developers do not use <code>os.path.join</code></p>\n<h3>To reproduce this error</h3>\n<ul>\n<li>Create directory <code>/home/user/model</code></li>\n<li>Create file <code>/home/user/model/checkpoint</code> whose contents are</li>\n</ul>\n<pre><code>model_checkpoint_path: \"/home/user/model//model_1\"\nall_model_checkpoint_paths: \"/home/user/model//model_0\"\nall_model_checkpoint_paths: \"/home/user/model//model_1\"\n</code></pre>\n<ul>\n<li>Create empty files <code>model/model_1.data-00000-of-00001</code>, <code>model/model_1.index</code>, <code>model/model_1.meta</code></li>\n<li>Run <code>tf.train.latest_checkpoint('/home/user/model')</code>.<br>\nExpected output is <code>u'/home/user/model//model_1'</code>, but TF returns an error <code>ERROR:tensorflow:Couldn't match files for checkpoint /home/user/model//model_1</code></li>\n</ul>\n<h3>System information</h3>\n<ul>\n<li>OS: Ubuntu 16.04</li>\n<li>TF installed via <code>pip install tensorflow-gpu</code></li>\n<li>TF version: 1.4.1</li>\n<li>Python version: 2.7</li>\n<li>CUDA/cuDNN version: 8.0</li>\n<li>GPU model and memory: GeForce GTX 1080, 8GB</li>\n</ul>\n<h3>Have I written custom code</h3>\n<p>Yes</p>\n<h3>OS Platform and Distribution</h3>\n<p>Ubuntu 16.04</p>\n<h3>TensorFlow installed from</h3>\n<p>Installed thru <code>pip install tensorflow-gpu</code></p>\n<h3>TensorFlow version</h3>\n<p>1.4.1</p>\n<h3>Bazel version</h3>\n<p>N/A</p>\n<h3>Exact command to reproduce</h3>\n<p>N/A</p>", "body_text": "tf.train.latest_checkpoint returns the error\nERROR:tensorflow:Couldn't match files for checkpoint\n\nwhen paths in the \"checkpoint\" file have \"//\" instead of \"/\". Usually, good practice of using os.path.join will help avoid this situation, but I believe TensorFlow should account for '//'s in paths as several developers do not use os.path.join\nTo reproduce this error\n\nCreate directory /home/user/model\nCreate file /home/user/model/checkpoint whose contents are\n\nmodel_checkpoint_path: \"/home/user/model//model_1\"\nall_model_checkpoint_paths: \"/home/user/model//model_0\"\nall_model_checkpoint_paths: \"/home/user/model//model_1\"\n\n\nCreate empty files model/model_1.data-00000-of-00001, model/model_1.index, model/model_1.meta\nRun tf.train.latest_checkpoint('/home/user/model').\nExpected output is u'/home/user/model//model_1', but TF returns an error ERROR:tensorflow:Couldn't match files for checkpoint /home/user/model//model_1\n\nSystem information\n\nOS: Ubuntu 16.04\nTF installed via pip install tensorflow-gpu\nTF version: 1.4.1\nPython version: 2.7\nCUDA/cuDNN version: 8.0\nGPU model and memory: GeForce GTX 1080, 8GB\n\nHave I written custom code\nYes\nOS Platform and Distribution\nUbuntu 16.04\nTensorFlow installed from\nInstalled thru pip install tensorflow-gpu\nTensorFlow version\n1.4.1\nBazel version\nN/A\nExact command to reproduce\nN/A", "body": "```tf.train.latest_checkpoint``` returns the error \r\n```\r\nERROR:tensorflow:Couldn't match files for checkpoint\r\n``` \r\nwhen paths in the \"checkpoint\" file have \"//\" instead of \"/\". Usually, good practice of using ```os.path.join``` will help avoid this situation, but I believe TensorFlow should account for '//'s in paths as several developers do not use ```os.path.join```\r\n\r\n### To reproduce this error\r\n- Create directory ```/home/user/model```\r\n- Create file ```/home/user/model/checkpoint``` whose contents are \r\n\r\n```\r\nmodel_checkpoint_path: \"/home/user/model//model_1\"\r\nall_model_checkpoint_paths: \"/home/user/model//model_0\"\r\nall_model_checkpoint_paths: \"/home/user/model//model_1\"\r\n```\r\n- Create empty files ```model/model_1.data-00000-of-00001```, ```model/model_1.index```, ```model/model_1.meta```\r\n- Run ```tf.train.latest_checkpoint('/home/user/model')```. \r\nExpected output is ```u'/home/user/model//model_1'```, but TF returns an error ```ERROR:tensorflow:Couldn't match files for checkpoint /home/user/model//model_1```\r\n\r\n\r\n\r\n\r\n### System information\r\n- OS: Ubuntu 16.04\r\n- TF installed via ```pip install tensorflow-gpu```\r\n- TF version: 1.4.1\r\n- Python version: 2.7 \r\n- CUDA/cuDNN version: 8.0\r\n- GPU model and memory: GeForce GTX 1080, 8GB\r\n\r\n### Have I written custom code\r\nYes\r\n\r\n### OS Platform and Distribution\r\nUbuntu 16.04\r\n\r\n### TensorFlow installed from\r\nInstalled thru ```pip install tensorflow-gpu```\r\n\r\n### TensorFlow version\r\n1.4.1\r\n\r\n### Bazel version\r\nN/A\r\n\r\n### Exact command to reproduce\r\nN/A\r\n\r\n\r\n"}