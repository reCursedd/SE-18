{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14278", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14278/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14278/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14278/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14278", "id": 271382817, "node_id": "MDU6SXNzdWUyNzEzODI4MTc=", "number": 14278, "title": "depthwise_ops build incorrect on MSVC debug mode", "user": {"login": "snnn", "id": 856316, "node_id": "MDQ6VXNlcjg1NjMxNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/856316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snnn", "html_url": "https://github.com/snnn", "followers_url": "https://api.github.com/users/snnn/followers", "following_url": "https://api.github.com/users/snnn/following{/other_user}", "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}", "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snnn/subscriptions", "organizations_url": "https://api.github.com/users/snnn/orgs", "repos_url": "https://api.github.com/users/snnn/repos", "events_url": "https://api.github.com/users/snnn/events{/privacy}", "received_events_url": "https://api.github.com/users/snnn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "chsigg", "id": 7523982, "node_id": "MDQ6VXNlcjc1MjM5ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/7523982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chsigg", "html_url": "https://github.com/chsigg", "followers_url": "https://api.github.com/users/chsigg/followers", "following_url": "https://api.github.com/users/chsigg/following{/other_user}", "gists_url": "https://api.github.com/users/chsigg/gists{/gist_id}", "starred_url": "https://api.github.com/users/chsigg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chsigg/subscriptions", "organizations_url": "https://api.github.com/users/chsigg/orgs", "repos_url": "https://api.github.com/users/chsigg/repos", "events_url": "https://api.github.com/users/chsigg/events{/privacy}", "received_events_url": "https://api.github.com/users/chsigg/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "chsigg", "id": 7523982, "node_id": "MDQ6VXNlcjc1MjM5ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/7523982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chsigg", "html_url": "https://github.com/chsigg", "followers_url": "https://api.github.com/users/chsigg/followers", "following_url": "https://api.github.com/users/chsigg/following{/other_user}", "gists_url": "https://api.github.com/users/chsigg/gists{/gist_id}", "starred_url": "https://api.github.com/users/chsigg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chsigg/subscriptions", "organizations_url": "https://api.github.com/users/chsigg/orgs", "repos_url": "https://api.github.com/users/chsigg/repos", "events_url": "https://api.github.com/users/chsigg/events{/privacy}", "received_events_url": "https://api.github.com/users/chsigg/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2017-11-06T07:35:32Z", "updated_at": "2018-06-11T05:32:58Z", "closed_at": "2018-06-11T05:32:58Z", "author_association": "CONTRIBUTOR", "body_html": "<hr>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nNo</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nWindows 10</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\nSource</li>\n<li><strong>TensorFlow version (use command below)</strong>:<br>\n1.4</li>\n<li><strong>Python version</strong>:<br>\n3.5.4</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\n0.7.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:<br>\nVS 2017</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\nNone</li>\n<li><strong>GPU model and memory</strong>:<br>\nNone</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nbazel --output_base C:\\os\\t build --config=monolithic --incompatible_disallow_set_constructor=false --action_env=USE_DYNAMIC_CRT=1  --color=no --compilation_mode fastbuild --verbose_failures --experimental_ui  //tensorflow/tools/pip_package:build_pip_package</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Compile tensorflow in fastbuild mode( release mode,but without any optimization) failed.</p>\n<h3>Source code / logs</h3>\n<p><a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/848123e61c95b030a5034b2cdaa504870ebf7da6/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/848123e61c95b030a5034b2cdaa504870ebf7da6\"><tt>848123e</tt></a> is a dirty hack for this problem.  First,  you shouldn't simply remove the double type kernel in Windows Debug build, it will make some unitests fail.   Second, this fix doesn't fit for the \"fastbuild\" mode, as \"_DEBUG\" is not defined.</p>\n<p>The root cause is VC cannot eliminate the dead code which is introduced by std::is_same. This problem also exists in tensorflow/core/kernels/depthtospace_op.cc and tensorflow/core/kernels/spacetodepth_op.cc.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nNo\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nWindows 10\nTensorFlow installed from (source or binary):\nSource\nTensorFlow version (use command below):\n1.4\nPython version:\n3.5.4\nBazel version (if compiling from source):\n0.7.0\nGCC/Compiler version (if compiling from source):\nVS 2017\nCUDA/cuDNN version:\nNone\nGPU model and memory:\nNone\nExact command to reproduce:\nbazel --output_base C:\\os\\t build --config=monolithic --incompatible_disallow_set_constructor=false --action_env=USE_DYNAMIC_CRT=1  --color=no --compilation_mode fastbuild --verbose_failures --experimental_ui  //tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nCompile tensorflow in fastbuild mode( release mode,but without any optimization) failed.\nSource code / logs\n848123e is a dirty hack for this problem.  First,  you shouldn't simply remove the double type kernel in Windows Debug build, it will make some unitests fail.   Second, this fix doesn't fit for the \"fastbuild\" mode, as \"_DEBUG\" is not defined.\nThe root cause is VC cannot eliminate the dead code which is introduced by std::is_same. This problem also exists in tensorflow/core/kernels/depthtospace_op.cc and tensorflow/core/kernels/spacetodepth_op.cc.", "body": "------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nNo\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nWindows 10\r\n- **TensorFlow installed from (source or binary)**:\r\nSource\r\n- **TensorFlow version (use command below)**:\r\n1.4\r\n- **Python version**: \r\n3.5.4\r\n- **Bazel version (if compiling from source)**:\r\n0.7.0\r\n- **GCC/Compiler version (if compiling from source)**:\r\nVS 2017\r\n- **CUDA/cuDNN version**:\r\nNone\r\n- **GPU model and memory**:\r\nNone\r\n- **Exact command to reproduce**:\r\nbazel --output_base C:\\os\\t build --config=monolithic --incompatible_disallow_set_constructor=false --action_env=USE_DYNAMIC_CRT=1  --color=no --compilation_mode fastbuild --verbose_failures --experimental_ui  //tensorflow/tools/pip_package:build_pip_package\r\n\r\n### Describe the problem\r\nCompile tensorflow in fastbuild mode( release mode,but without any optimization) failed.\r\n\r\n### Source code / logs\r\n848123e61c95b030a5034b2cdaa504870ebf7da6 is a dirty hack for this problem.  First,  you shouldn't simply remove the double type kernel in Windows Debug build, it will make some unitests fail.   Second, this fix doesn't fit for the \"fastbuild\" mode, as \"_DEBUG\" is not defined.\r\n\r\nThe root cause is VC cannot eliminate the dead code which is introduced by std::is_same. This problem also exists in tensorflow/core/kernels/depthtospace_op.cc and tensorflow/core/kernels/spacetodepth_op.cc.\r\n\r\n"}