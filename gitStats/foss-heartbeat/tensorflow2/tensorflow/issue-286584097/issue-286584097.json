{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15929", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15929/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15929/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15929/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15929", "id": 286584097, "node_id": "MDU6SXNzdWUyODY1ODQwOTc=", "number": 15929, "title": "C API, SIGABRT abort, Non-OK-status: RegisterAlreadyLocked, Invalid name.", "user": {"login": "VolodymyrPavliukevych", "id": 1786378, "node_id": "MDQ6VXNlcjE3ODYzNzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1786378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VolodymyrPavliukevych", "html_url": "https://github.com/VolodymyrPavliukevych", "followers_url": "https://api.github.com/users/VolodymyrPavliukevych/followers", "following_url": "https://api.github.com/users/VolodymyrPavliukevych/following{/other_user}", "gists_url": "https://api.github.com/users/VolodymyrPavliukevych/gists{/gist_id}", "starred_url": "https://api.github.com/users/VolodymyrPavliukevych/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VolodymyrPavliukevych/subscriptions", "organizations_url": "https://api.github.com/users/VolodymyrPavliukevych/orgs", "repos_url": "https://api.github.com/users/VolodymyrPavliukevych/repos", "events_url": "https://api.github.com/users/VolodymyrPavliukevych/events{/privacy}", "received_events_url": "https://api.github.com/users/VolodymyrPavliukevych/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-07T17:15:42Z", "updated_at": "2018-01-09T16:06:20Z", "closed_at": "2018-01-09T16:06:20Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nWorking with public C API.</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nMacOS 10.13.2 (17C88)</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\nbinary</li>\n<li><strong>TensorFlow version (use command below)</strong>:</li>\n<li>libtensorflow 1.4.1 (from brew package)</li>\n<li><strong>Python version</strong>:<br>\nnon</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\nnon</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:<br>\nApple Swift version 4.0.3 (swiftlang-900.0.74.1 clang-900.0.39.2), lldb-900.0.64, Swift-4.0</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\nnon</li>\n<li><strong>GPU model and memory</strong>:<br>\nnon</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nUsing swift code as example (<a href=\"https://github.com/Octadero/Example\">https://github.com/Octadero/Example</a>).</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Dear TensorFlow community,<br>\nIt is really strange issue, from time to time at the same code, I have SIGABRT crash.</p>\n<pre><code>2018-01-05 21:03:55.627002: F tensorflow/core/framework/op.cc:165] Non-OK-status: RegisterAlreadyLocked(deferred_[i]) status: Invalid argument: Invalid name: {\\242\t\ufffd\n(lldb) bt\n* thread #1, queue = 'com.apple.main-thread', stop reason = signal SIGABRT\n    frame #0: 0x00007fff528f7e3e libsystem_kernel.dylib`__pthread_kill + 10\n    frame #1: 0x0000000108cd41b4 libsystem_pthread.dylib`pthread_kill + 333\n    frame #2: 0x00007fff52854312 libsystem_c.dylib`abort + 127\n    frame #3: 0x0000000108e600c0 libtensorflow_framework.so`tensorflow::internal::LogMessageFatal::~LogMessageFatal() + 32\n    frame #4: 0x0000000108e600d0 libtensorflow_framework.so`tensorflow::internal::LogMessageFatal::~LogMessageFatal() + 16\n    frame #5: 0x0000000108d28676 libtensorflow_framework.so`tensorflow::OpRegistry::MustCallDeferred() const + 406\n    frame #6: 0x0000000108d2819d libtensorflow_framework.so`tensorflow::OpRegistry::LookUp(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;, tensorflow::OpRegistrationData const**) const + 61\n    frame #7: 0x0000000108d0c875 libtensorflow_framework.so`tensorflow::FunctionLibraryDefinition::LookUp(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;, tensorflow::OpRegistrationData const**) const + 117\n    frame #8: 0x0000000108d27b0a libtensorflow_framework.so`tensorflow::OpRegistryInterface::LookUpOpDef(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;, tensorflow::OpDef const**) const + 42\n    frame #9: 0x0000000108d81b65 libtensorflow_framework.so`tensorflow::Graph::AddNode(tensorflow::NodeDef const&amp;, tensorflow::Status*) + 69\n    frame #10: 0x0000000108d8177a libtensorflow_framework.so`tensorflow::Graph::Graph(tensorflow::OpRegistryInterface const*) + 458\n    frame #11: 0x00000001004f7d73 libtensorflow.so`TF_NewGraph + 51\n  * frame #12: 0x00000001066b739d CAPI`newGraph() at Graph.swift:26\n    frame #13: 0x00000001063021b3 TensorFlowKit`Graph.init() at Graph.swift:36\n    frame #14: 0x000000010630214a TensorFlowKit`Graph.__allocating_init() at Graph.swift:0\n    frame #15: 0x0000000106500f2d TensorFlowKit`static SavedModel.load(exportPath=\"/Users/Volodymyr/Projects/Examples/03_Reinforcement/Resources/save/\", tags=1 value, options=0x00000001098e35d0, self=TensorFlowKit.SavedModel) at SavedModel.swift:221\n    frame #16: 0x00000001000069f4 03_Reinforcement`static Network.loadGraph(self=_3_Reinforcement.Network) at Network.swift:146\n    frame #17: 0x0000000100003428 03_Reinforcement`Network.init() at Network.swift:73\n    frame #18: 0x0000000100002e4c 03_Reinforcement`Network.__allocating_init() at Network.swift:0\n    frame #19: 0x0000000100008656 03_Reinforcement`main at main.swift:32\n    frame #20: 0x00007fff527a8115 libdyld.dylib`start + 1\n    frame #21: 0x00007fff527a8115 libdyld.dylib`start + 1\n</code></pre>\n<p>Sanitizer options can't help to resolve that issue. List of libs loaded in attached file.<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/1609977/dyld_log.txt\">dyld_log.txt</a></p>\n<h3>Source code / logs</h3>\n<p>Using C API I am alloc <a href=\"https://github.com/Octadero/TensorFlow/blob/34addfc80cb7f220a7d9afa310f8a9845dba0d36/Sources/CAPI/Graph.swift#L26\">new Graph by TF_NewGraph()</a></p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nWorking with public C API.\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nMacOS 10.13.2 (17C88)\nTensorFlow installed from (source or binary):\nbinary\nTensorFlow version (use command below):\nlibtensorflow 1.4.1 (from brew package)\nPython version:\nnon\nBazel version (if compiling from source):\nnon\nGCC/Compiler version (if compiling from source):\nApple Swift version 4.0.3 (swiftlang-900.0.74.1 clang-900.0.39.2), lldb-900.0.64, Swift-4.0\nCUDA/cuDNN version:\nnon\nGPU model and memory:\nnon\nExact command to reproduce:\nUsing swift code as example (https://github.com/Octadero/Example).\n\nDescribe the problem\nDear TensorFlow community,\nIt is really strange issue, from time to time at the same code, I have SIGABRT crash.\n2018-01-05 21:03:55.627002: F tensorflow/core/framework/op.cc:165] Non-OK-status: RegisterAlreadyLocked(deferred_[i]) status: Invalid argument: Invalid name: {\\242\t\ufffd\n(lldb) bt\n* thread #1, queue = 'com.apple.main-thread', stop reason = signal SIGABRT\n    frame #0: 0x00007fff528f7e3e libsystem_kernel.dylib`__pthread_kill + 10\n    frame #1: 0x0000000108cd41b4 libsystem_pthread.dylib`pthread_kill + 333\n    frame #2: 0x00007fff52854312 libsystem_c.dylib`abort + 127\n    frame #3: 0x0000000108e600c0 libtensorflow_framework.so`tensorflow::internal::LogMessageFatal::~LogMessageFatal() + 32\n    frame #4: 0x0000000108e600d0 libtensorflow_framework.so`tensorflow::internal::LogMessageFatal::~LogMessageFatal() + 16\n    frame #5: 0x0000000108d28676 libtensorflow_framework.so`tensorflow::OpRegistry::MustCallDeferred() const + 406\n    frame #6: 0x0000000108d2819d libtensorflow_framework.so`tensorflow::OpRegistry::LookUp(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, tensorflow::OpRegistrationData const**) const + 61\n    frame #7: 0x0000000108d0c875 libtensorflow_framework.so`tensorflow::FunctionLibraryDefinition::LookUp(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, tensorflow::OpRegistrationData const**) const + 117\n    frame #8: 0x0000000108d27b0a libtensorflow_framework.so`tensorflow::OpRegistryInterface::LookUpOpDef(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, tensorflow::OpDef const**) const + 42\n    frame #9: 0x0000000108d81b65 libtensorflow_framework.so`tensorflow::Graph::AddNode(tensorflow::NodeDef const&, tensorflow::Status*) + 69\n    frame #10: 0x0000000108d8177a libtensorflow_framework.so`tensorflow::Graph::Graph(tensorflow::OpRegistryInterface const*) + 458\n    frame #11: 0x00000001004f7d73 libtensorflow.so`TF_NewGraph + 51\n  * frame #12: 0x00000001066b739d CAPI`newGraph() at Graph.swift:26\n    frame #13: 0x00000001063021b3 TensorFlowKit`Graph.init() at Graph.swift:36\n    frame #14: 0x000000010630214a TensorFlowKit`Graph.__allocating_init() at Graph.swift:0\n    frame #15: 0x0000000106500f2d TensorFlowKit`static SavedModel.load(exportPath=\"/Users/Volodymyr/Projects/Examples/03_Reinforcement/Resources/save/\", tags=1 value, options=0x00000001098e35d0, self=TensorFlowKit.SavedModel) at SavedModel.swift:221\n    frame #16: 0x00000001000069f4 03_Reinforcement`static Network.loadGraph(self=_3_Reinforcement.Network) at Network.swift:146\n    frame #17: 0x0000000100003428 03_Reinforcement`Network.init() at Network.swift:73\n    frame #18: 0x0000000100002e4c 03_Reinforcement`Network.__allocating_init() at Network.swift:0\n    frame #19: 0x0000000100008656 03_Reinforcement`main at main.swift:32\n    frame #20: 0x00007fff527a8115 libdyld.dylib`start + 1\n    frame #21: 0x00007fff527a8115 libdyld.dylib`start + 1\n\nSanitizer options can't help to resolve that issue. List of libs loaded in attached file.\ndyld_log.txt\nSource code / logs\nUsing C API I am alloc new Graph by TF_NewGraph()", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nWorking with public C API.\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nMacOS 10.13.2 (17C88)\r\n- **TensorFlow installed from (source or binary)**:\r\nbinary\r\n- **TensorFlow version (use command below)**:\r\n- libtensorflow 1.4.1 (from brew package)\r\n- **Python version**: \r\nnon\r\n- **Bazel version (if compiling from source)**:\r\nnon\r\n- **GCC/Compiler version (if compiling from source)**:\r\nApple Swift version 4.0.3 (swiftlang-900.0.74.1 clang-900.0.39.2), lldb-900.0.64, Swift-4.0\r\n- **CUDA/cuDNN version**:\r\nnon\r\n- **GPU model and memory**:\r\nnon\r\n- **Exact command to reproduce**:\r\nUsing swift code as example (https://github.com/Octadero/Example).\r\n\r\n### Describe the problem\r\nDear TensorFlow community, \r\nIt is really strange issue, from time to time at the same code, I have SIGABRT crash.\r\n```\r\n2018-01-05 21:03:55.627002: F tensorflow/core/framework/op.cc:165] Non-OK-status: RegisterAlreadyLocked(deferred_[i]) status: Invalid argument: Invalid name: {\\242\t\u0001\r\n(lldb) bt\r\n* thread #1, queue = 'com.apple.main-thread', stop reason = signal SIGABRT\r\n    frame #0: 0x00007fff528f7e3e libsystem_kernel.dylib`__pthread_kill + 10\r\n    frame #1: 0x0000000108cd41b4 libsystem_pthread.dylib`pthread_kill + 333\r\n    frame #2: 0x00007fff52854312 libsystem_c.dylib`abort + 127\r\n    frame #3: 0x0000000108e600c0 libtensorflow_framework.so`tensorflow::internal::LogMessageFatal::~LogMessageFatal() + 32\r\n    frame #4: 0x0000000108e600d0 libtensorflow_framework.so`tensorflow::internal::LogMessageFatal::~LogMessageFatal() + 16\r\n    frame #5: 0x0000000108d28676 libtensorflow_framework.so`tensorflow::OpRegistry::MustCallDeferred() const + 406\r\n    frame #6: 0x0000000108d2819d libtensorflow_framework.so`tensorflow::OpRegistry::LookUp(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, tensorflow::OpRegistrationData const**) const + 61\r\n    frame #7: 0x0000000108d0c875 libtensorflow_framework.so`tensorflow::FunctionLibraryDefinition::LookUp(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, tensorflow::OpRegistrationData const**) const + 117\r\n    frame #8: 0x0000000108d27b0a libtensorflow_framework.so`tensorflow::OpRegistryInterface::LookUpOpDef(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, tensorflow::OpDef const**) const + 42\r\n    frame #9: 0x0000000108d81b65 libtensorflow_framework.so`tensorflow::Graph::AddNode(tensorflow::NodeDef const&, tensorflow::Status*) + 69\r\n    frame #10: 0x0000000108d8177a libtensorflow_framework.so`tensorflow::Graph::Graph(tensorflow::OpRegistryInterface const*) + 458\r\n    frame #11: 0x00000001004f7d73 libtensorflow.so`TF_NewGraph + 51\r\n  * frame #12: 0x00000001066b739d CAPI`newGraph() at Graph.swift:26\r\n    frame #13: 0x00000001063021b3 TensorFlowKit`Graph.init() at Graph.swift:36\r\n    frame #14: 0x000000010630214a TensorFlowKit`Graph.__allocating_init() at Graph.swift:0\r\n    frame #15: 0x0000000106500f2d TensorFlowKit`static SavedModel.load(exportPath=\"/Users/Volodymyr/Projects/Examples/03_Reinforcement/Resources/save/\", tags=1 value, options=0x00000001098e35d0, self=TensorFlowKit.SavedModel) at SavedModel.swift:221\r\n    frame #16: 0x00000001000069f4 03_Reinforcement`static Network.loadGraph(self=_3_Reinforcement.Network) at Network.swift:146\r\n    frame #17: 0x0000000100003428 03_Reinforcement`Network.init() at Network.swift:73\r\n    frame #18: 0x0000000100002e4c 03_Reinforcement`Network.__allocating_init() at Network.swift:0\r\n    frame #19: 0x0000000100008656 03_Reinforcement`main at main.swift:32\r\n    frame #20: 0x00007fff527a8115 libdyld.dylib`start + 1\r\n    frame #21: 0x00007fff527a8115 libdyld.dylib`start + 1\r\n```\r\nSanitizer options can't help to resolve that issue. List of libs loaded in attached file.\r\n[dyld_log.txt](https://github.com/tensorflow/tensorflow/files/1609977/dyld_log.txt)\r\n\r\n\r\n### Source code / logs\r\nUsing C API I am alloc [new Graph by TF_NewGraph()](https://github.com/Octadero/TensorFlow/blob/34addfc80cb7f220a7d9afa310f8a9845dba0d36/Sources/CAPI/Graph.swift#L26)"}