{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10190", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10190/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10190/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10190/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10190", "id": 231296352, "node_id": "MDU6SXNzdWUyMzEyOTYzNTI=", "number": 10190, "title": "tf.contrib.keras Conv2DTranspose output shape undefined", "user": {"login": "divamgupta", "id": 1890549, "node_id": "MDQ6VXNlcjE4OTA1NDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1890549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/divamgupta", "html_url": "https://github.com/divamgupta", "followers_url": "https://api.github.com/users/divamgupta/followers", "following_url": "https://api.github.com/users/divamgupta/following{/other_user}", "gists_url": "https://api.github.com/users/divamgupta/gists{/gist_id}", "starred_url": "https://api.github.com/users/divamgupta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/divamgupta/subscriptions", "organizations_url": "https://api.github.com/users/divamgupta/orgs", "repos_url": "https://api.github.com/users/divamgupta/repos", "events_url": "https://api.github.com/users/divamgupta/events{/privacy}", "received_events_url": "https://api.github.com/users/divamgupta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-25T10:03:39Z", "updated_at": "2017-09-08T04:56:13Z", "closed_at": "2017-09-08T04:56:13Z", "author_association": "NONE", "body_html": "<p>The output shape for Conv2DTranspose is not fixed even when the input shape is fixed. The output shape for simple convolutioncomes to be correct.</p>\n<pre><code>import tensorflow as tf\nL = tf.contrib.keras.layers.Conv2DTranspose( 512, (4,4), strides=(4, 4), padding='valid', data_format='channels_first' )\nL2 = tf.contrib.keras.layers.Conv2D( 512, (4,4), strides=(4, 4), padding='valid', data_format='channels_first' )\n\nimg = tf.placeholder(tf.float32, shape=( 16 , 3 , 64 , 64 ))\n\nx1 = L(img)\nx2 = L2(img)\n\nprint x1.get_shape() # why ???\nprint x2.get_shape() # this is fine\n</code></pre>\n<p>Outputs :</p>\n<pre><code>(?, 512, ?, ?)\n(16, 512, 16, 16)\n</code></pre>", "body_text": "The output shape for Conv2DTranspose is not fixed even when the input shape is fixed. The output shape for simple convolutioncomes to be correct.\nimport tensorflow as tf\nL = tf.contrib.keras.layers.Conv2DTranspose( 512, (4,4), strides=(4, 4), padding='valid', data_format='channels_first' )\nL2 = tf.contrib.keras.layers.Conv2D( 512, (4,4), strides=(4, 4), padding='valid', data_format='channels_first' )\n\nimg = tf.placeholder(tf.float32, shape=( 16 , 3 , 64 , 64 ))\n\nx1 = L(img)\nx2 = L2(img)\n\nprint x1.get_shape() # why ???\nprint x2.get_shape() # this is fine\n\nOutputs :\n(?, 512, ?, ?)\n(16, 512, 16, 16)", "body": "The output shape for Conv2DTranspose is not fixed even when the input shape is fixed. The output shape for simple convolutioncomes to be correct.\r\n\r\n```\r\nimport tensorflow as tf\r\nL = tf.contrib.keras.layers.Conv2DTranspose( 512, (4,4), strides=(4, 4), padding='valid', data_format='channels_first' )\r\nL2 = tf.contrib.keras.layers.Conv2D( 512, (4,4), strides=(4, 4), padding='valid', data_format='channels_first' )\r\n\r\nimg = tf.placeholder(tf.float32, shape=( 16 , 3 , 64 , 64 ))\r\n\r\nx1 = L(img)\r\nx2 = L2(img)\r\n\r\nprint x1.get_shape() # why ???\r\nprint x2.get_shape() # this is fine\r\n```\r\nOutputs : \r\n```\r\n(?, 512, ?, ?)\r\n(16, 512, 16, 16)\r\n```"}