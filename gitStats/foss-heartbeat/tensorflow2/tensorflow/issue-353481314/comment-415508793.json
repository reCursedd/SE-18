{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/415508793", "html_url": "https://github.com/tensorflow/tensorflow/issues/21833#issuecomment-415508793", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21833", "id": 415508793, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTUwODc5Mw==", "user": {"login": "wdirons", "id": 22967383, "node_id": "MDQ6VXNlcjIyOTY3Mzgz", "avatar_url": "https://avatars3.githubusercontent.com/u/22967383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wdirons", "html_url": "https://github.com/wdirons", "followers_url": "https://api.github.com/users/wdirons/followers", "following_url": "https://api.github.com/users/wdirons/following{/other_user}", "gists_url": "https://api.github.com/users/wdirons/gists{/gist_id}", "starred_url": "https://api.github.com/users/wdirons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wdirons/subscriptions", "organizations_url": "https://api.github.com/users/wdirons/orgs", "repos_url": "https://api.github.com/users/wdirons/repos", "events_url": "https://api.github.com/users/wdirons/events{/privacy}", "received_events_url": "https://api.github.com/users/wdirons/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-23T17:48:19Z", "updated_at": "2018-08-23T17:48:19Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I had read online that ScatterAddNdim had no GPU support, I looked at <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/tensor_forest/BUILD#L460-L465\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/tensor_forest/BUILD#L460-L465</a>, and see the testcase has a tag 'no-pip-gpu'. So I believe this test shouldn't run in a GPU unit test, but the unit test only exclude the test matching the tag no-gpu.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a> - Can I get your opinion on how to fix it. I see three ways:</p>\n<ol>\n<li>Add no-gpu tag to the testcase in tensor_forest/BUILD</li>\n<li>Add -no-pip-gpu to the test_tag_filters parameter in bazel for the GPU unit test.</li>\n<li>I noticed linux/gpu doesn't have a test defined for contrib like linux/cpu , should gpu test not test contrib?</li>\n</ol>\n<p>CC <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8660918\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jayfurmanek\">@jayfurmanek</a>, He would prefer to test as much as possible in the GPU test.</p>", "body_text": "I had read online that ScatterAddNdim had no GPU support, I looked at https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/tensor_forest/BUILD#L460-L465, and see the testcase has a tag 'no-pip-gpu'. So I believe this test shouldn't run in a GPU unit test, but the unit test only exclude the test matching the tag no-gpu.\n@gunan - Can I get your opinion on how to fix it. I see three ways:\n\nAdd no-gpu tag to the testcase in tensor_forest/BUILD\nAdd -no-pip-gpu to the test_tag_filters parameter in bazel for the GPU unit test.\nI noticed linux/gpu doesn't have a test defined for contrib like linux/cpu , should gpu test not test contrib?\n\nCC @jayfurmanek, He would prefer to test as much as possible in the GPU test.", "body": "I had read online that ScatterAddNdim had no GPU support, I looked at https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/tensor_forest/BUILD#L460-L465, and see the testcase has a tag 'no-pip-gpu'. So I believe this test shouldn't run in a GPU unit test, but the unit test only exclude the test matching the tag no-gpu.\r\n\r\n@gunan - Can I get your opinion on how to fix it. I see three ways:\r\n1. Add no-gpu tag to the testcase in tensor_forest/BUILD\r\n2. Add -no-pip-gpu to the test_tag_filters parameter in bazel for the GPU unit test.\r\n3. I noticed linux/gpu doesn't have a test defined for contrib like linux/cpu , should gpu test not test contrib?\r\n\r\nCC @jayfurmanek, He would prefer to test as much as possible in the GPU test."}