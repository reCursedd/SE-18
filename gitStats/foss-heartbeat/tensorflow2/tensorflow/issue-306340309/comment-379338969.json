{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/379338969", "html_url": "https://github.com/tensorflow/tensorflow/issues/17816#issuecomment-379338969", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17816", "id": 379338969, "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTMzODk2OQ==", "user": {"login": "xingao267", "id": 10503762, "node_id": "MDQ6VXNlcjEwNTAzNzYy", "avatar_url": "https://avatars3.githubusercontent.com/u/10503762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xingao267", "html_url": "https://github.com/xingao267", "followers_url": "https://api.github.com/users/xingao267/followers", "following_url": "https://api.github.com/users/xingao267/following{/other_user}", "gists_url": "https://api.github.com/users/xingao267/gists{/gist_id}", "starred_url": "https://api.github.com/users/xingao267/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xingao267/subscriptions", "organizations_url": "https://api.github.com/users/xingao267/orgs", "repos_url": "https://api.github.com/users/xingao267/repos", "events_url": "https://api.github.com/users/xingao267/events{/privacy}", "received_events_url": "https://api.github.com/users/xingao267/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-06T18:32:23Z", "updated_at": "2018-04-06T18:32:23Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>I'm seeing this failure with Bazel 0.12.0rc2 (probably Bazel head as well). Here is my build info:</p>\n<p>System information<br>\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):<br>\nNo<br>\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):<br>\nDebian 8<br>\nTensorFlow installed from (source or binary):<br>\nSource<br>\nTensorFlow version (use command below):<br>\ncommit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/7535f6beb7ba95bf54e1513b0c2c51b844a7a49f/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/7535f6beb7ba95bf54e1513b0c2c51b844a7a49f\"><tt>7535f6b</tt></a><br>\nPython version:<br>\n2.7.9<br>\nBazel version (if compiling from source):<br>\n0.12.0rc2 (<a href=\"https://releases.bazel.build/0.12.0/rc2/index.html\" rel=\"nofollow\">https://releases.bazel.build/0.12.0/rc2/index.html</a>)<br>\nGCC/Compiler version (if compiling from source):<br>\ndoes not matter<br>\nCUDA/cuDNN version:<br>\nn/a<br>\nGPU model and memory:<br>\nn/a<br>\nExact command to reproduce:<br>\nbazel test -- //tensorflow/... -//tensorflow/compiler/... -//tensorflow/contrib/... -//tensorflow/core:platform_setround_test -//tensorflow/go:test -//tensorflow/java:pom -//tensorflow/python/estimator:export_test</p>\n<p>Describe the problem<br>\nBazel tried to build @mkl_dnn and source code is not found.</p>\n<p>Source code / logs<br>\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/mkl_dnn/BUILD:11:1: C++ compilation of rule '@mkl_dnn//:mkl_dnn' failed (Exit 1)<br>\nIn file included from external/mkl_dnn/src/cpu/jit_avx2_convolution.cpp:20:<br>\nIn file included from external/mkl_dnn/src/cpu/jit_avx2_convolution.hpp:23:<br>\nIn file included from external/mkl_dnn/src/cpu/cpu_reducer.hpp:23:<br>\nexternal/mkl_dnn/src/common/mkldnn_thread.hpp:23:10: fatal error: 'omp.h' file not found<br>\n#include &lt;omp.h&gt;<br>\n^~~~~~~<br>\n1 error generated.<br>\nINFO: Elapsed time: 4.468s, Critical Path: 1.82s<br>\nFAILED: Build did NOT complete successfully</p>\n<p>Can someone try this with Bazel 0.12.0rc2?</p>", "body_text": "Hi,\nI'm seeing this failure with Bazel 0.12.0rc2 (probably Bazel head as well). Here is my build info:\nSystem information\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nNo\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nDebian 8\nTensorFlow installed from (source or binary):\nSource\nTensorFlow version (use command below):\ncommit 7535f6b\nPython version:\n2.7.9\nBazel version (if compiling from source):\n0.12.0rc2 (https://releases.bazel.build/0.12.0/rc2/index.html)\nGCC/Compiler version (if compiling from source):\ndoes not matter\nCUDA/cuDNN version:\nn/a\nGPU model and memory:\nn/a\nExact command to reproduce:\nbazel test -- //tensorflow/... -//tensorflow/compiler/... -//tensorflow/contrib/... -//tensorflow/core:platform_setround_test -//tensorflow/go:test -//tensorflow/java:pom -//tensorflow/python/estimator:export_test\nDescribe the problem\nBazel tried to build @mkl_dnn and source code is not found.\nSource code / logs\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/mkl_dnn/BUILD:11:1: C++ compilation of rule '@mkl_dnn//:mkl_dnn' failed (Exit 1)\nIn file included from external/mkl_dnn/src/cpu/jit_avx2_convolution.cpp:20:\nIn file included from external/mkl_dnn/src/cpu/jit_avx2_convolution.hpp:23:\nIn file included from external/mkl_dnn/src/cpu/cpu_reducer.hpp:23:\nexternal/mkl_dnn/src/common/mkldnn_thread.hpp:23:10: fatal error: 'omp.h' file not found\n#include <omp.h>\n^~~~~~~\n1 error generated.\nINFO: Elapsed time: 4.468s, Critical Path: 1.82s\nFAILED: Build did NOT complete successfully\nCan someone try this with Bazel 0.12.0rc2?", "body": "Hi,\r\n\r\nI'm seeing this failure with Bazel 0.12.0rc2 (probably Bazel head as well). Here is my build info:\r\n\r\nSystem information\r\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nNo\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nDebian 8\r\nTensorFlow installed from (source or binary):\r\nSource\r\nTensorFlow version (use command below):\r\ncommit 7535f6beb7ba95bf54e1513b0c2c51b844a7a49f\r\nPython version:\r\n2.7.9\r\nBazel version (if compiling from source):\r\n0.12.0rc2 (https://releases.bazel.build/0.12.0/rc2/index.html)\r\nGCC/Compiler version (if compiling from source):\r\ndoes not matter\r\nCUDA/cuDNN version:\r\nn/a\r\nGPU model and memory:\r\nn/a\r\nExact command to reproduce:\r\nbazel test -- //tensorflow/... -//tensorflow/compiler/... -//tensorflow/contrib/... -//tensorflow/core:platform_setround_test -//tensorflow/go:test -//tensorflow/java:pom -//tensorflow/python/estimator:export_test\r\n\r\nDescribe the problem\r\nBazel tried to build @mkl_dnn and source code is not found.\r\n\r\nSource code / logs\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/mkl_dnn/BUILD:11:1: C++ compilation of rule '@mkl_dnn//:mkl_dnn' failed (Exit 1)\r\nIn file included from external/mkl_dnn/src/cpu/jit_avx2_convolution.cpp:20:\r\nIn file included from external/mkl_dnn/src/cpu/jit_avx2_convolution.hpp:23:\r\nIn file included from external/mkl_dnn/src/cpu/cpu_reducer.hpp:23:\r\nexternal/mkl_dnn/src/common/mkldnn_thread.hpp:23:10: fatal error: 'omp.h' file not found\r\n#include <omp.h>\r\n         ^~~~~~~\r\n1 error generated.\r\nINFO: Elapsed time: 4.468s, Critical Path: 1.82s\r\nFAILED: Build did NOT complete successfully\r\n\r\nCan someone try this with Bazel 0.12.0rc2?"}