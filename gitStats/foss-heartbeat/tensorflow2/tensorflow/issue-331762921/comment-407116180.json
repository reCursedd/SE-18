{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/407116180", "html_url": "https://github.com/tensorflow/tensorflow/issues/19957#issuecomment-407116180", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19957", "id": 407116180, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzExNjE4MA==", "user": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-23T16:19:53Z", "updated_at": "2018-07-23T16:19:53Z", "author_association": "MEMBER", "body_html": "<p>No, num_partitions is an attribute which means it cannot be driven by a tensor.  See the op_def below:</p>\n<pre lang=\"op\" data-meta=\"{\"><code>  name: \"DynamicPartition\"\n  input_arg {\n    name: \"data\"\n    type_attr: \"T\"\n  }\n  input_arg {\n    name: \"partitions\"\n    type: DT_INT32\n  }\n  output_arg {\n    name: \"outputs\"\n    type_attr: \"T\"\n    number_attr: \"num_partitions\"\n  }\n  attr {\n    name: \"num_partitions\"\n    type: \"int\"\n    has_minimum: true\n    minimum: 1\n  }\n  attr {\n    name: \"T\"\n    type: \"type\"\n  }\n} \n</code></pre>\n<p>If you can't work around it, you could certainly make a DynamicPartitionV2 that takes tensors and not attributes, but there is usually a cost to this in terms of shape inference. This is why there is a separation between the two.</p>", "body_text": "No, num_partitions is an attribute which means it cannot be driven by a tensor.  See the op_def below:\n  name: \"DynamicPartition\"\n  input_arg {\n    name: \"data\"\n    type_attr: \"T\"\n  }\n  input_arg {\n    name: \"partitions\"\n    type: DT_INT32\n  }\n  output_arg {\n    name: \"outputs\"\n    type_attr: \"T\"\n    number_attr: \"num_partitions\"\n  }\n  attr {\n    name: \"num_partitions\"\n    type: \"int\"\n    has_minimum: true\n    minimum: 1\n  }\n  attr {\n    name: \"T\"\n    type: \"type\"\n  }\n} \n\nIf you can't work around it, you could certainly make a DynamicPartitionV2 that takes tensors and not attributes, but there is usually a cost to this in terms of shape inference. This is why there is a separation between the two.", "body": "No, num_partitions is an attribute which means it cannot be driven by a tensor.  See the op_def below:\r\n```op {\r\n  name: \"DynamicPartition\"\r\n  input_arg {\r\n    name: \"data\"\r\n    type_attr: \"T\"\r\n  }\r\n  input_arg {\r\n    name: \"partitions\"\r\n    type: DT_INT32\r\n  }\r\n  output_arg {\r\n    name: \"outputs\"\r\n    type_attr: \"T\"\r\n    number_attr: \"num_partitions\"\r\n  }\r\n  attr {\r\n    name: \"num_partitions\"\r\n    type: \"int\"\r\n    has_minimum: true\r\n    minimum: 1\r\n  }\r\n  attr {\r\n    name: \"T\"\r\n    type: \"type\"\r\n  }\r\n} \r\n```\r\nIf you can't work around it, you could certainly make a DynamicPartitionV2 that takes tensors and not attributes, but there is usually a cost to this in terms of shape inference. This is why there is a separation between the two."}