{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16931", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16931/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16931/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16931/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16931", "id": 296180416, "node_id": "MDU6SXNzdWUyOTYxODA0MTY=", "number": 16931, "title": "how do `TensorFlowInferenceInterface` process image whose height not equal to width", "user": {"login": "shartoo", "id": 5716282, "node_id": "MDQ6VXNlcjU3MTYyODI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5716282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shartoo", "html_url": "https://github.com/shartoo", "followers_url": "https://api.github.com/users/shartoo/followers", "following_url": "https://api.github.com/users/shartoo/following{/other_user}", "gists_url": "https://api.github.com/users/shartoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/shartoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shartoo/subscriptions", "organizations_url": "https://api.github.com/users/shartoo/orgs", "repos_url": "https://api.github.com/users/shartoo/repos", "events_url": "https://api.github.com/users/shartoo/events{/privacy}", "received_events_url": "https://api.github.com/users/shartoo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-11T10:47:30Z", "updated_at": "2018-03-03T18:06:34Z", "closed_at": "2018-03-03T18:06:34Z", "author_association": "NONE", "body_html": "<p>I'm writing a java service using Spring boot and my tensorflow predict model was trained by python Tensorflo Object Detection API. The model is FasterRCNN (coco-resnet),the model can accept any shape(whose height not equal to width,such as  600x800,1280x720) of image in python while thing cannot be done like this in Java.</p>\n<p>I read an example code written in Java from <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/src/org/tensorflow/demo/TensorFlowImageClassifier.java\">TensorFlowImageClassifier.java</a>,the pre-allocate buffers is  $inputSize * inputSize$. If i changed that to <strong>inputHeight*inputWidth</strong> and some other nessary code, the inference process still went fine but recognize accuracy decrease dramatically.</p>\n<p>Can anybody give some tips?</p>\n<p>Here is my coding envirnoment:</p>\n<ul>\n<li>Window 10</li>\n<li>Tensorflow 1.5 build from whl</li>\n<li>CUDA 8.0 with cudnn 5.1</li>\n<li>GPU  nvidia 1080 ti</li>\n<li>16GB Memory</li>\n</ul>", "body_text": "I'm writing a java service using Spring boot and my tensorflow predict model was trained by python Tensorflo Object Detection API. The model is FasterRCNN (coco-resnet),the model can accept any shape(whose height not equal to width,such as  600x800,1280x720) of image in python while thing cannot be done like this in Java.\nI read an example code written in Java from TensorFlowImageClassifier.java,the pre-allocate buffers is  $inputSize * inputSize$. If i changed that to inputHeight*inputWidth and some other nessary code, the inference process still went fine but recognize accuracy decrease dramatically.\nCan anybody give some tips?\nHere is my coding envirnoment:\n\nWindow 10\nTensorflow 1.5 build from whl\nCUDA 8.0 with cudnn 5.1\nGPU  nvidia 1080 ti\n16GB Memory", "body": "I'm writing a java service using Spring boot and my tensorflow predict model was trained by python Tensorflo Object Detection API. The model is FasterRCNN (coco-resnet),the model can accept any shape(whose height not equal to width,such as  600x800,1280x720) of image in python while thing cannot be done like this in Java. \r\n\r\nI read an example code written in Java from [TensorFlowImageClassifier.java](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/src/org/tensorflow/demo/TensorFlowImageClassifier.java),the pre-allocate buffers is  $inputSize \\* inputSize$. If i changed that to **inputHeight\\*inputWidth** and some other nessary code, the inference process still went fine but recognize accuracy decrease dramatically.\r\n\r\nCan anybody give some tips?\r\n\r\nHere is my coding envirnoment:\r\n\r\n+ Window 10\r\n+ Tensorflow 1.5 build from whl \r\n+ CUDA 8.0 with cudnn 5.1\r\n+ GPU  nvidia 1080 ti \r\n+ 16GB Memory\r\n\r\n\r\n"}