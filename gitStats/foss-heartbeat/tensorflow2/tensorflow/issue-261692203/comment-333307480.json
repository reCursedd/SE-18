{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/333307480", "html_url": "https://github.com/tensorflow/tensorflow/pull/13382#issuecomment-333307480", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13382", "id": 333307480, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzMwNzQ4MA==", "user": {"login": "dantkz", "id": 5220571, "node_id": "MDQ6VXNlcjUyMjA1NzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5220571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dantkz", "html_url": "https://github.com/dantkz", "followers_url": "https://api.github.com/users/dantkz/followers", "following_url": "https://api.github.com/users/dantkz/following{/other_user}", "gists_url": "https://api.github.com/users/dantkz/gists{/gist_id}", "starred_url": "https://api.github.com/users/dantkz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dantkz/subscriptions", "organizations_url": "https://api.github.com/users/dantkz/orgs", "repos_url": "https://api.github.com/users/dantkz/repos", "events_url": "https://api.github.com/users/dantkz/events{/privacy}", "received_events_url": "https://api.github.com/users/dantkz/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-30T13:09:19Z", "updated_at": "2017-09-30T13:09:19Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1794715\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ebrevdo\">@ebrevdo</a> The master branch on tensorflow doesn't have int32/int64 support yet: <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.cc#L34\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.cc#L34</a></p>\n<p>After going through the tests I've discovered unrelated bug:<br>\ngather/gather_nd operations that have bad indices raise errors on CPU, but on GPU they silently fetch zeros as output. This is mentioned in <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.h#L108\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.h#L108</a><br>\nSo, I had to split the corresponding tests to separately run on CPU and GPU, and disabled the GPU tests for now.</p>", "body_text": "@ebrevdo The master branch on tensorflow doesn't have int32/int64 support yet: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.cc#L34\nAfter going through the tests I've discovered unrelated bug:\ngather/gather_nd operations that have bad indices raise errors on CPU, but on GPU they silently fetch zeros as output. This is mentioned in https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.h#L108\nSo, I had to split the corresponding tests to separately run on CPU and GPU, and disabled the GPU tests for now.", "body": "@ebrevdo The master branch on tensorflow doesn't have int32/int64 support yet: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.cc#L34\r\n\r\nAfter going through the tests I've discovered unrelated bug: \r\ngather/gather_nd operations that have bad indices raise errors on CPU, but on GPU they silently fetch zeros as output. This is mentioned in https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.h#L108\r\nSo, I had to split the corresponding tests to separately run on CPU and GPU, and disabled the GPU tests for now. \r\n"}