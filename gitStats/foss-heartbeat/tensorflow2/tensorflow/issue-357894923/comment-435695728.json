{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/435695728", "html_url": "https://github.com/tensorflow/tensorflow/issues/22134#issuecomment-435695728", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22134", "id": 435695728, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTY5NTcyOA==", "user": {"login": "rishi-rranjan", "id": 5673695, "node_id": "MDQ6VXNlcjU2NzM2OTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/5673695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rishi-rranjan", "html_url": "https://github.com/rishi-rranjan", "followers_url": "https://api.github.com/users/rishi-rranjan/followers", "following_url": "https://api.github.com/users/rishi-rranjan/following{/other_user}", "gists_url": "https://api.github.com/users/rishi-rranjan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rishi-rranjan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rishi-rranjan/subscriptions", "organizations_url": "https://api.github.com/users/rishi-rranjan/orgs", "repos_url": "https://api.github.com/users/rishi-rranjan/repos", "events_url": "https://api.github.com/users/rishi-rranjan/events{/privacy}", "received_events_url": "https://api.github.com/users/rishi-rranjan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-04T18:55:31Z", "updated_at": "2018-11-04T18:55:31Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=986732\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tatianashp\">@tatianashp</a> I tried this with r1.12 but I still see same issue. Please note that I am using CUDA 10.0 with r 1.12.</p>\n<p>`2018-11-04 10:53:31.772782: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0<br>\n2018-11-04 10:53:32.225588: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:<br>\n2018-11-04 10:53:32.225607: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0<br>\n2018-11-04 10:53:32.225612: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N<br>\n2018-11-04 10:53:32.225778: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 3293 MB memory) -&gt; physical GPU (device: 0, name: GeForce GTX 970, pci bus id: 0000:01:00.0, compute capability: 5.2)<br>\n**** EPOCH 000 ****<br>\n2018-11-04 10:53:34.929683<br>\n2018-11-04 10:53:35.282864: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.<br>\n2018-11-04 10:53:35.314713: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.<br>\n2018-11-04 10:53:35.524664: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.<br>\n2018-11-04 10:53:35.556079: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.<br>\n2018-11-04 10:53:35.586546: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.<br>\n2018-11-04 10:53:43.540498: E tensorflow/core/common_runtime/executor.cc:623] Executor failed to create kernel. Not found: No registered '_CopyFromGpuToHost' OpKernel for CPU devices compatible with node {{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost<a href=\"fa_layer3/truediv_2/_91\">T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"</a><br>\n.  Registered:  device='GPU'</p>\n<pre><code> [[{{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/truediv_2/_91)]]\n</code></pre>\n<p>Traceback (most recent call last):<br>\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1334, in _do_call<br>\nreturn fn(*args)<br>\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1319, in _run_fn<br>\noptions, feed_dict, fetch_list, target_list, run_metadata)<br>\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1407, in _call_tf_sessionrun<br>\nrun_metadata)<br>\ntensorflow.python.framework.errors_impl.NotFoundError: No registered '_CopyFromGpuToHost' OpKernel for CPU devices compatible with node {{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost<a href=\"fa_layer3/truediv_2/_91\">T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"</a><br>\n.  Registered:  device='GPU'</p>\n<pre><code> [[{{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/truediv_2/_91)]]\n</code></pre>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):<br>\nFile \"train/train.py\", line 376, in <br>\ntrain()<br>\nFile \"train/train.py\", line 201, in train<br>\ntrain_one_epoch(sess, ops, train_writer)<br>\nFile \"train/train.py\", line 256, in train_one_epoch<br>\nfeed_dict=feed_dict)<br>\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 929, in run<br>\nrun_metadata_ptr)<br>\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1152, in _run<br>\nfeed_dict_tensor, options, run_metadata)<br>\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1328, in _do_run<br>\nrun_metadata)<br>\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1348, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors_impl.NotFoundError: No registered '_CopyFromGpuToHost' OpKernel for CPU devices compatible with node {{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost<a href=\"fa_layer3/truediv_2/_91\">T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"</a><br>\n.  Registered:  device='GPU'</p>\n<pre><code> [[{{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/tr`\n</code></pre>", "body_text": "@tatianashp I tried this with r1.12 but I still see same issue. Please note that I am using CUDA 10.0 with r 1.12.\n`2018-11-04 10:53:31.772782: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0\n2018-11-04 10:53:32.225588: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-11-04 10:53:32.225607: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0\n2018-11-04 10:53:32.225612: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N\n2018-11-04 10:53:32.225778: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 3293 MB memory) -> physical GPU (device: 0, name: GeForce GTX 970, pci bus id: 0000:01:00.0, compute capability: 5.2)\n**** EPOCH 000 ****\n2018-11-04 10:53:34.929683\n2018-11-04 10:53:35.282864: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.\n2018-11-04 10:53:35.314713: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.\n2018-11-04 10:53:35.524664: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.\n2018-11-04 10:53:35.556079: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.\n2018-11-04 10:53:35.586546: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.\n2018-11-04 10:53:43.540498: E tensorflow/core/common_runtime/executor.cc:623] Executor failed to create kernel. Not found: No registered '_CopyFromGpuToHost' OpKernel for CPU devices compatible with node {{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHostT=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"\n.  Registered:  device='GPU'\n [[{{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/truediv_2/_91)]]\n\nTraceback (most recent call last):\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1334, in _do_call\nreturn fn(*args)\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1319, in _run_fn\noptions, feed_dict, fetch_list, target_list, run_metadata)\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1407, in _call_tf_sessionrun\nrun_metadata)\ntensorflow.python.framework.errors_impl.NotFoundError: No registered '_CopyFromGpuToHost' OpKernel for CPU devices compatible with node {{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHostT=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"\n.  Registered:  device='GPU'\n [[{{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/truediv_2/_91)]]\n\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"train/train.py\", line 376, in \ntrain()\nFile \"train/train.py\", line 201, in train\ntrain_one_epoch(sess, ops, train_writer)\nFile \"train/train.py\", line 256, in train_one_epoch\nfeed_dict=feed_dict)\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 929, in run\nrun_metadata_ptr)\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1152, in _run\nfeed_dict_tensor, options, run_metadata)\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1328, in _do_run\nrun_metadata)\nFile \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1348, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.NotFoundError: No registered '_CopyFromGpuToHost' OpKernel for CPU devices compatible with node {{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHostT=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"\n.  Registered:  device='GPU'\n [[{{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/tr`", "body": "\r\n@tatianashp I tried this with r1.12 but I still see same issue. Please note that I am using CUDA 10.0 with r 1.12. \r\n\r\n`2018-11-04 10:53:31.772782: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0\r\n2018-11-04 10:53:32.225588: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-11-04 10:53:32.225607: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 \r\n2018-11-04 10:53:32.225612: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N \r\n2018-11-04 10:53:32.225778: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 3293 MB memory) -> physical GPU (device: 0, name: GeForce GTX 970, pci bus id: 0000:01:00.0, compute capability: 5.2)\r\n**** EPOCH 000 ****\r\n2018-11-04 10:53:34.929683\r\n2018-11-04 10:53:35.282864: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.\r\n2018-11-04 10:53:35.314713: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.\r\n2018-11-04 10:53:35.524664: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.\r\n2018-11-04 10:53:35.556079: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.\r\n2018-11-04 10:53:35.586546: W tensorflow/core/framework/allocator.cc:122] Allocation of 100663296 exceeds 10% of system memory.\r\n2018-11-04 10:53:43.540498: E tensorflow/core/common_runtime/executor.cc:623] Executor failed to create kernel. Not found: No registered '_CopyFromGpuToHost' OpKernel for CPU devices compatible with node {{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/truediv_2/_91)\r\n\t.  Registered:  device='GPU'\r\n\r\n\t [[{{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/truediv_2/_91)]]\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1334, in _do_call\r\n    return fn(*args)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1319, in _run_fn\r\n    options, feed_dict, fetch_list, target_list, run_metadata)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1407, in _call_tf_sessionrun\r\n    run_metadata)\r\ntensorflow.python.framework.errors_impl.NotFoundError: No registered '_CopyFromGpuToHost' OpKernel for CPU devices compatible with node {{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/truediv_2/_91)\r\n\t.  Registered:  device='GPU'\r\n\r\n\t [[{{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/truediv_2/_91)]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"train/train.py\", line 376, in <module>\r\n    train()\r\n  File \"train/train.py\", line 201, in train\r\n    train_one_epoch(sess, ops, train_writer)\r\n  File \"train/train.py\", line 256, in train_one_epoch\r\n    feed_dict=feed_dict)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 929, in run\r\n    run_metadata_ptr)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1152, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1328, in _do_run\r\n    run_metadata)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow/python/client/session.py\", line 1348, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.NotFoundError: No registered '_CopyFromGpuToHost' OpKernel for CPU devices compatible with node {{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/truediv_2/_91)\r\n\t.  Registered:  device='GPU'\r\n\r\n\t [[{{node swap_out_fa_layer3/ThreeInterpolate_2}} = _CopyFromGpuToHost[T=DT_FLOAT, _class=[\"loc@fa_layer3/ThreeInterpolate_2\"], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](fa_layer3/tr`"}