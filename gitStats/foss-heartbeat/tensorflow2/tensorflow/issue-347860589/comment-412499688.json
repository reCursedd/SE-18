{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/412499688", "html_url": "https://github.com/tensorflow/tensorflow/issues/21403#issuecomment-412499688", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21403", "id": 412499688, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjQ5OTY4OA==", "user": {"login": "Wuppus", "id": 13062737, "node_id": "MDQ6VXNlcjEzMDYyNzM3", "avatar_url": "https://avatars1.githubusercontent.com/u/13062737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wuppus", "html_url": "https://github.com/Wuppus", "followers_url": "https://api.github.com/users/Wuppus/followers", "following_url": "https://api.github.com/users/Wuppus/following{/other_user}", "gists_url": "https://api.github.com/users/Wuppus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wuppus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wuppus/subscriptions", "organizations_url": "https://api.github.com/users/Wuppus/orgs", "repos_url": "https://api.github.com/users/Wuppus/repos", "events_url": "https://api.github.com/users/Wuppus/events{/privacy}", "received_events_url": "https://api.github.com/users/Wuppus/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-13T12:21:46Z", "updated_at": "2018-08-13T12:35:51Z", "author_association": "NONE", "body_html": "<p>It didn't work for me.  (using Python 3.6, tf 1.8, Anaconda 3)</p>\n<p><strong>NotFoundError:</strong> Failed to create a directory: E:/VGNE/Estimators/batch_version\\export\\model_1d_bv_fn\\temp-1534163718; No such file or directory<br>\n[edit:copied wrong error message]</p>\n<p>This is after I applied the following changes (I took the changes from the code shown here <a href=\"https://github.com/tensorflow/tensorflow/pull/21426/files\">https://github.com/tensorflow/tensorflow/pull/21426/files</a>):</p>\n<p><strong>File changed:</strong><br>\nD:\\Anaconda3\\envs\\py36\\Lib\\site-packages\\tensorflow\\python\\estimator\\export\\export.py</p>\n<p><strong>From:</strong></p>\n<pre><code>def get_temp_export_dir(timestamped_export_dir):\n    (dirname, basename) = os.path.split(timestamped_export_dir)\n    temp_export_dir = os.path.join(\n        compat.as_bytes(dirname), compat.as_bytes('temp-{}'.format(basename)))\n</code></pre>\n<p><strong>To:</strong></p>\n<pre><code>def get_temp_export_dir(timestamped_export_dir):\n    (dirname, basename) = os.path.split(timestamped_export_dir)\n    temp_export_dir = os.path.join(\n        compat.as_bytes(dirname),\n        compat.as_bytes('temp-') + compat.as_bytes(basename))\n</code></pre>\n<p><strong><em>I'm currently using the following workaround, which succeeds:-</em></strong></p>\n<p><strong>File changed:</strong>  D:\\Anaconda3\\envs\\py36\\Lib\\site-packages\\tensorflow\\python\\lib\\io\\file_io.py</p>\n<p><strong>From:</strong></p>\n<pre><code>def recursive_create_dir(dirname):\n    with errors.raise_exception_on_not_ok_status() as status:\n        pywrap_tensorflow.RecursivelyCreateDir(compat.as_bytes(dirname), status)\n</code></pre>\n<p><strong>To:</strong></p>\n<pre><code>def recursive_create_dir(dirname):\n    with errors.raise_exception_on_not_ok_status() as status:\n        os.makedirs(dirname, exist_ok=True)\n</code></pre>\n<p>It worked both with and without applying the <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"348145949\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/21426\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/21426/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/21426\">#21426</a> suggested fix. I don't handle errors though in this workaround</p>", "body_text": "It didn't work for me.  (using Python 3.6, tf 1.8, Anaconda 3)\nNotFoundError: Failed to create a directory: E:/VGNE/Estimators/batch_version\\export\\model_1d_bv_fn\\temp-1534163718; No such file or directory\n[edit:copied wrong error message]\nThis is after I applied the following changes (I took the changes from the code shown here https://github.com/tensorflow/tensorflow/pull/21426/files):\nFile changed:\nD:\\Anaconda3\\envs\\py36\\Lib\\site-packages\\tensorflow\\python\\estimator\\export\\export.py\nFrom:\ndef get_temp_export_dir(timestamped_export_dir):\n    (dirname, basename) = os.path.split(timestamped_export_dir)\n    temp_export_dir = os.path.join(\n        compat.as_bytes(dirname), compat.as_bytes('temp-{}'.format(basename)))\n\nTo:\ndef get_temp_export_dir(timestamped_export_dir):\n    (dirname, basename) = os.path.split(timestamped_export_dir)\n    temp_export_dir = os.path.join(\n        compat.as_bytes(dirname),\n        compat.as_bytes('temp-') + compat.as_bytes(basename))\n\nI'm currently using the following workaround, which succeeds:-\nFile changed:  D:\\Anaconda3\\envs\\py36\\Lib\\site-packages\\tensorflow\\python\\lib\\io\\file_io.py\nFrom:\ndef recursive_create_dir(dirname):\n    with errors.raise_exception_on_not_ok_status() as status:\n        pywrap_tensorflow.RecursivelyCreateDir(compat.as_bytes(dirname), status)\n\nTo:\ndef recursive_create_dir(dirname):\n    with errors.raise_exception_on_not_ok_status() as status:\n        os.makedirs(dirname, exist_ok=True)\n\nIt worked both with and without applying the #21426 suggested fix. I don't handle errors though in this workaround", "body": "It didn't work for me.  (using Python 3.6, tf 1.8, Anaconda 3) \r\n\r\n**NotFoundError:** Failed to create a directory: E:/VGNE/Estimators/batch_version\\export\\model_1d_bv_fn\\temp-1534163718; No such file or directory\r\n[edit:copied wrong error message]\r\n\r\nThis is after I applied the following changes (I took the changes from the code shown here https://github.com/tensorflow/tensorflow/pull/21426/files):\r\n\r\n**File changed:**\r\nD:\\Anaconda3\\envs\\py36\\Lib\\site-packages\\tensorflow\\python\\estimator\\export\\export.py \r\n\r\n**From:**\r\n```\r\ndef get_temp_export_dir(timestamped_export_dir):\r\n    (dirname, basename) = os.path.split(timestamped_export_dir)\r\n    temp_export_dir = os.path.join(\r\n        compat.as_bytes(dirname), compat.as_bytes('temp-{}'.format(basename)))\r\n```\r\n**To:**\r\n```\r\ndef get_temp_export_dir(timestamped_export_dir):\r\n    (dirname, basename) = os.path.split(timestamped_export_dir)\r\n    temp_export_dir = os.path.join(\r\n        compat.as_bytes(dirname),\r\n        compat.as_bytes('temp-') + compat.as_bytes(basename))\r\n```\r\n\r\n**_I'm currently using the following workaround, which succeeds:-_**\r\n\r\n**File changed:**  D:\\Anaconda3\\envs\\py36\\Lib\\site-packages\\tensorflow\\python\\lib\\io\\file_io.py\r\n\r\n**From:**\r\n```\r\ndef recursive_create_dir(dirname):\r\n    with errors.raise_exception_on_not_ok_status() as status:\r\n        pywrap_tensorflow.RecursivelyCreateDir(compat.as_bytes(dirname), status)\r\n```\r\n**To:**\r\n```\r\ndef recursive_create_dir(dirname):\r\n    with errors.raise_exception_on_not_ok_status() as status:\r\n        os.makedirs(dirname, exist_ok=True)\r\n```\r\nIt worked both with and without applying the #21426 suggested fix. I don't handle errors though in this workaround"}