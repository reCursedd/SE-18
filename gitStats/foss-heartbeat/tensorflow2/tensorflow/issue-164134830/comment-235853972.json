{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/235853972", "html_url": "https://github.com/tensorflow/tensorflow/issues/3208#issuecomment-235853972", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3208", "id": 235853972, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTg1Mzk3Mg==", "user": {"login": "rifatmahmud", "id": 5104472, "node_id": "MDQ6VXNlcjUxMDQ0NzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5104472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rifatmahmud", "html_url": "https://github.com/rifatmahmud", "followers_url": "https://api.github.com/users/rifatmahmud/followers", "following_url": "https://api.github.com/users/rifatmahmud/following{/other_user}", "gists_url": "https://api.github.com/users/rifatmahmud/gists{/gist_id}", "starred_url": "https://api.github.com/users/rifatmahmud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rifatmahmud/subscriptions", "organizations_url": "https://api.github.com/users/rifatmahmud/orgs", "repos_url": "https://api.github.com/users/rifatmahmud/repos", "events_url": "https://api.github.com/users/rifatmahmud/events{/privacy}", "received_events_url": "https://api.github.com/users/rifatmahmud/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-28T10:06:06Z", "updated_at": "2016-07-28T10:06:06Z", "author_association": "NONE", "body_html": "<p>The error is also occurring when restoring a model trained using layers.stack with a Estimator class(providing as  model directory where the model is saved, and model_fn as the conv_model written in skflow mnist example).<br>\n<code>File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 394, in predict as_iterable=as_iterable) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 663, in _infer_model predictions = self._get_predict_ops(features) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 897, in _get_predict_ops predictions, _, _ = self._call_model_fn(features, targets, ModeKeys.INFER) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 806, in _call_model_fn return self._model_fn(features, targets) File \"test.py\", line 34, in conv_model return learn.models.logistic_regression(h_fc1, y) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/models.py\", line 137, in logistic_regression logging_ops.histogram_summary('%s.y' % vs.get_variable_scope().name, y) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/logging_ops.py\", line 125, in histogram_summary tag=tag, values=values, name=scope) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/gen_logging_ops.py\", line 100, in _histogram_summary name=name) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/op_def_library.py\", line 458, in apply_op as_ref=input_arg.is_ref).dtype.name File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 621, in convert_to_tensor ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/constant_op.py\", line 180, in _constant_tensor_conversion_function return constant(v, dtype=dtype, name=name) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/constant_op.py\", line 163, in constant tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape)) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/tensor_util.py\", line 346, in make_tensor_proto raise ValueError(\"None values not supported.\") ValueError: None values not supported. </code></p>", "body_text": "The error is also occurring when restoring a model trained using layers.stack with a Estimator class(providing as  model directory where the model is saved, and model_fn as the conv_model written in skflow mnist example).\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 394, in predict as_iterable=as_iterable) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 663, in _infer_model predictions = self._get_predict_ops(features) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 897, in _get_predict_ops predictions, _, _ = self._call_model_fn(features, targets, ModeKeys.INFER) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 806, in _call_model_fn return self._model_fn(features, targets) File \"test.py\", line 34, in conv_model return learn.models.logistic_regression(h_fc1, y) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/models.py\", line 137, in logistic_regression logging_ops.histogram_summary('%s.y' % vs.get_variable_scope().name, y) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/logging_ops.py\", line 125, in histogram_summary tag=tag, values=values, name=scope) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/gen_logging_ops.py\", line 100, in _histogram_summary name=name) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/op_def_library.py\", line 458, in apply_op as_ref=input_arg.is_ref).dtype.name File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 621, in convert_to_tensor ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/constant_op.py\", line 180, in _constant_tensor_conversion_function return constant(v, dtype=dtype, name=name) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/constant_op.py\", line 163, in constant tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape)) File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/tensor_util.py\", line 346, in make_tensor_proto raise ValueError(\"None values not supported.\") ValueError: None values not supported.", "body": "The error is also occurring when restoring a model trained using layers.stack with a Estimator class(providing as  model directory where the model is saved, and model_fn as the conv_model written in skflow mnist example).\n`File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 394, in predict\n    as_iterable=as_iterable)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 663, in _infer_model\n    predictions = self._get_predict_ops(features)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 897, in _get_predict_ops\n    predictions, _, _ = self._call_model_fn(features, targets, ModeKeys.INFER)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 806, in _call_model_fn\n    return self._model_fn(features, targets)\n  File \"test.py\", line 34, in conv_model\n    return learn.models.logistic_regression(h_fc1, y)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/learn/python/learn/models.py\", line 137, in logistic_regression\n    logging_ops.histogram_summary('%s.y' % vs.get_variable_scope().name, y)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/logging_ops.py\", line 125, in histogram_summary\n    tag=tag, values=values, name=scope)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/ops/gen_logging_ops.py\", line 100, in _histogram_summary\n    name=name)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/op_def_library.py\", line 458, in apply_op\n    as_ref=input_arg.is_ref).dtype.name\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 621, in convert_to_tensor\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/constant_op.py\", line 180, in _constant_tensor_conversion_function\n    return constant(v, dtype=dtype, name=name)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/constant_op.py\", line 163, in constant\n    tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape))\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/tensor_util.py\", line 346, in make_tensor_proto\n    raise ValueError(\"None values not supported.\")\nValueError: None values not supported.\n`\n"}