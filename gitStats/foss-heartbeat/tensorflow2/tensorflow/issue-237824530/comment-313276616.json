{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/313276616", "html_url": "https://github.com/tensorflow/tensorflow/issues/10982#issuecomment-313276616", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10982", "id": 313276616, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMzI3NjYxNg==", "user": {"login": "zhangdingfei", "id": 20080419, "node_id": "MDQ6VXNlcjIwMDgwNDE5", "avatar_url": "https://avatars0.githubusercontent.com/u/20080419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangdingfei", "html_url": "https://github.com/zhangdingfei", "followers_url": "https://api.github.com/users/zhangdingfei/followers", "following_url": "https://api.github.com/users/zhangdingfei/following{/other_user}", "gists_url": "https://api.github.com/users/zhangdingfei/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangdingfei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangdingfei/subscriptions", "organizations_url": "https://api.github.com/users/zhangdingfei/orgs", "repos_url": "https://api.github.com/users/zhangdingfei/repos", "events_url": "https://api.github.com/users/zhangdingfei/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangdingfei/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-06T02:16:34Z", "updated_at": "2017-07-06T02:16:34Z", "author_association": "NONE", "body_html": "<p>I tried with one GPU, but got the same failure.</p>\n<p>linux-swfm:~/workarea&gt; CUDA_VISIBLE_DEVICES=0 python3  mnist_softmax_xla.py<br>\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz<br>\n2017-07-06 10:07:08.126795: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.<br>\n2017-07-06 10:07:08.126848: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.<br>\n2017-07-06 10:07:08.126862: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.<br>\n2017-07-06 10:07:08.126872: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.<br>\n2017-07-06 10:07:08.126886: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.<br>\n2017-07-06 10:07:12.868401: I tensorflow/core/common_runtime/gpu/gpu_device.cc:887] Found device 0 with properties:<br>\nname: Tesla K40m<br>\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.745<br>\npciBusID 0000:04:00.0<br>\nTotal memory: 11.25GiB<br>\nFree memory: 11.15GiB<br>\n2017-07-06 10:07:12.868480: I tensorflow/core/common_runtime/gpu/gpu_device.cc:908] DMA: 0<br>\n2017-07-06 10:07:12.868498: I tensorflow/core/common_runtime/gpu/gpu_device.cc:918] 0:   Y<br>\n2017-07-06 10:07:12.868534: I tensorflow/core/common_runtime/gpu/gpu_device.cc:977] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: Tesla K40m, pci bus id: 0000:04:00.0)<br>\n2017-07-06 10:07:13.073789: I tensorflow/compiler/xla/service/platform_util.cc:58] platform CUDA present with 1 visible devices<br>\n2017-07-06 10:07:13.074631: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 72 visible devices<br>\n2017-07-06 10:07:13.086519: I tensorflow/compiler/xla/service/service.cc:183] XLA service 0x7f96e89c4d40 executing computations on platform Host. Devices:<br>\n2017-07-06 10:07:13.086559: I tensorflow/compiler/xla/service/service.cc:191]   StreamExecutor device (0): , <br>\n2017-07-06 10:07:13.086943: I tensorflow/compiler/xla/service/platform_util.cc:58] platform CUDA present with 1 visible devices<br>\n2017-07-06 10:07:13.087747: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 72 visible devices<br>\n2017-07-06 10:07:13.099575: I tensorflow/compiler/xla/service/service.cc:183] XLA service 0x7f96e8c4a370 executing computations on platform CUDA. Devices:<br>\n2017-07-06 10:07:13.099606: I tensorflow/compiler/xla/service/service.cc:191]   StreamExecutor device (0): Tesla K40m, Compute Capability 3.5<br>\n2017-07-06 10:07:17.919040: F tensorflow/compiler/xla/service/algebraic_simplifier.cc:768] Check failed: user-&gt;operand(reshape_or_broadcast_operand_index) == reshape_or_broadcast (0x7f96e8c6dc70 vs. 0x7f96e8c9f6b0)<br>\nAborted</p>", "body_text": "I tried with one GPU, but got the same failure.\nlinux-swfm:~/workarea> CUDA_VISIBLE_DEVICES=0 python3  mnist_softmax_xla.py\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\n2017-07-06 10:07:08.126795: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\n2017-07-06 10:07:08.126848: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-07-06 10:07:08.126862: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2017-07-06 10:07:08.126872: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-07-06 10:07:08.126886: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\n2017-07-06 10:07:12.868401: I tensorflow/core/common_runtime/gpu/gpu_device.cc:887] Found device 0 with properties:\nname: Tesla K40m\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.745\npciBusID 0000:04:00.0\nTotal memory: 11.25GiB\nFree memory: 11.15GiB\n2017-07-06 10:07:12.868480: I tensorflow/core/common_runtime/gpu/gpu_device.cc:908] DMA: 0\n2017-07-06 10:07:12.868498: I tensorflow/core/common_runtime/gpu/gpu_device.cc:918] 0:   Y\n2017-07-06 10:07:12.868534: I tensorflow/core/common_runtime/gpu/gpu_device.cc:977] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Tesla K40m, pci bus id: 0000:04:00.0)\n2017-07-06 10:07:13.073789: I tensorflow/compiler/xla/service/platform_util.cc:58] platform CUDA present with 1 visible devices\n2017-07-06 10:07:13.074631: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 72 visible devices\n2017-07-06 10:07:13.086519: I tensorflow/compiler/xla/service/service.cc:183] XLA service 0x7f96e89c4d40 executing computations on platform Host. Devices:\n2017-07-06 10:07:13.086559: I tensorflow/compiler/xla/service/service.cc:191]   StreamExecutor device (0): , \n2017-07-06 10:07:13.086943: I tensorflow/compiler/xla/service/platform_util.cc:58] platform CUDA present with 1 visible devices\n2017-07-06 10:07:13.087747: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 72 visible devices\n2017-07-06 10:07:13.099575: I tensorflow/compiler/xla/service/service.cc:183] XLA service 0x7f96e8c4a370 executing computations on platform CUDA. Devices:\n2017-07-06 10:07:13.099606: I tensorflow/compiler/xla/service/service.cc:191]   StreamExecutor device (0): Tesla K40m, Compute Capability 3.5\n2017-07-06 10:07:17.919040: F tensorflow/compiler/xla/service/algebraic_simplifier.cc:768] Check failed: user->operand(reshape_or_broadcast_operand_index) == reshape_or_broadcast (0x7f96e8c6dc70 vs. 0x7f96e8c9f6b0)\nAborted", "body": "I tried with one GPU, but got the same failure.\r\n\r\nlinux-swfm:~/workarea> CUDA_VISIBLE_DEVICES=0 python3  mnist_softmax_xla.py\r\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\r\n2017-07-06 10:07:08.126795: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-07-06 10:07:08.126848: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-07-06 10:07:08.126862: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-07-06 10:07:08.126872: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-07-06 10:07:08.126886: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-07-06 10:07:12.868401: I tensorflow/core/common_runtime/gpu/gpu_device.cc:887] Found device 0 with properties: \r\nname: Tesla K40m\r\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.745\r\npciBusID 0000:04:00.0\r\nTotal memory: 11.25GiB\r\nFree memory: 11.15GiB\r\n2017-07-06 10:07:12.868480: I tensorflow/core/common_runtime/gpu/gpu_device.cc:908] DMA: 0 \r\n2017-07-06 10:07:12.868498: I tensorflow/core/common_runtime/gpu/gpu_device.cc:918] 0:   Y \r\n2017-07-06 10:07:12.868534: I tensorflow/core/common_runtime/gpu/gpu_device.cc:977] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Tesla K40m, pci bus id: 0000:04:00.0)\r\n2017-07-06 10:07:13.073789: I tensorflow/compiler/xla/service/platform_util.cc:58] platform CUDA present with 1 visible devices\r\n2017-07-06 10:07:13.074631: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 72 visible devices\r\n2017-07-06 10:07:13.086519: I tensorflow/compiler/xla/service/service.cc:183] XLA service 0x7f96e89c4d40 executing computations on platform Host. Devices:\r\n2017-07-06 10:07:13.086559: I tensorflow/compiler/xla/service/service.cc:191]   StreamExecutor device (0): <undefined>, <undefined>\r\n2017-07-06 10:07:13.086943: I tensorflow/compiler/xla/service/platform_util.cc:58] platform CUDA present with 1 visible devices\r\n2017-07-06 10:07:13.087747: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 72 visible devices\r\n2017-07-06 10:07:13.099575: I tensorflow/compiler/xla/service/service.cc:183] XLA service 0x7f96e8c4a370 executing computations on platform CUDA. Devices:\r\n2017-07-06 10:07:13.099606: I tensorflow/compiler/xla/service/service.cc:191]   StreamExecutor device (0): Tesla K40m, Compute Capability 3.5\r\n2017-07-06 10:07:17.919040: F tensorflow/compiler/xla/service/algebraic_simplifier.cc:768] Check failed: user->operand(reshape_or_broadcast_operand_index) == reshape_or_broadcast (0x7f96e8c6dc70 vs. 0x7f96e8c9f6b0)\r\nAborted"}