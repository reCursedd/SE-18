{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/304253855", "html_url": "https://github.com/tensorflow/tensorflow/issues/10021#issuecomment-304253855", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10021", "id": 304253855, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDI1Mzg1NQ==", "user": {"login": "foxik", "id": 560016, "node_id": "MDQ6VXNlcjU2MDAxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/560016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/foxik", "html_url": "https://github.com/foxik", "followers_url": "https://api.github.com/users/foxik/followers", "following_url": "https://api.github.com/users/foxik/following{/other_user}", "gists_url": "https://api.github.com/users/foxik/gists{/gist_id}", "starred_url": "https://api.github.com/users/foxik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/foxik/subscriptions", "organizations_url": "https://api.github.com/users/foxik/orgs", "repos_url": "https://api.github.com/users/foxik/repos", "events_url": "https://api.github.com/users/foxik/events{/privacy}", "received_events_url": "https://api.github.com/users/foxik/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-26T10:57:53Z", "updated_at": "2017-05-26T10:57:53Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Personally I am opposed to such an extension -- the <code>weights</code> argument of <code>tf.losses.softmax_cross_entropy</code> can easily achieve class weighting (by using <code>tf.gather</code> on the class weights and class indices), using one additional line of code.</p>\n<p>Yes, the <code>tf.gather</code> requires additional time and space, but linear in size of the output layer -- most networks spend several orders of magnitude more time in the computations before the output layer, so the effect of the suggested optimalization is minor (while requiring API change).</p>", "body_text": "Personally I am opposed to such an extension -- the weights argument of tf.losses.softmax_cross_entropy can easily achieve class weighting (by using tf.gather on the class weights and class indices), using one additional line of code.\nYes, the tf.gather requires additional time and space, but linear in size of the output layer -- most networks spend several orders of magnitude more time in the computations before the output layer, so the effect of the suggested optimalization is minor (while requiring API change).", "body": "Personally I am opposed to such an extension -- the ``weights`` argument of ``tf.losses.softmax_cross_entropy`` can easily achieve class weighting (by using `tf.gather` on the class weights and class indices), using one additional line of code.\r\n\r\nYes, the `tf.gather` requires additional time and space, but linear in size of the output layer -- most networks spend several orders of magnitude more time in the computations before the output layer, so the effect of the suggested optimalization is minor (while requiring API change)."}