{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15144", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15144/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15144/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15144/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15144", "id": 279625376, "node_id": "MDU6SXNzdWUyNzk2MjUzNzY=", "number": 15144, "title": "Error_Converting_TliteFormat", "user": {"login": "himsikha123", "id": 33569217, "node_id": "MDQ6VXNlcjMzNTY5MjE3", "avatar_url": "https://avatars0.githubusercontent.com/u/33569217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himsikha123", "html_url": "https://github.com/himsikha123", "followers_url": "https://api.github.com/users/himsikha123/followers", "following_url": "https://api.github.com/users/himsikha123/following{/other_user}", "gists_url": "https://api.github.com/users/himsikha123/gists{/gist_id}", "starred_url": "https://api.github.com/users/himsikha123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himsikha123/subscriptions", "organizations_url": "https://api.github.com/users/himsikha123/orgs", "repos_url": "https://api.github.com/users/himsikha123/repos", "events_url": "https://api.github.com/users/himsikha123/events{/privacy}", "received_events_url": "https://api.github.com/users/himsikha123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 31, "created_at": "2017-12-06T04:44:00Z", "updated_at": "2018-04-19T08:21:33Z", "closed_at": "2018-04-19T08:21:33Z", "author_association": "NONE", "body_html": "<p>.....................................................## System information##........................................................................<br>\n-Python -2.7.12<br>\n-OS -Ubuntu 16.04<br>\n-Tensorflow version-1.4.0<br>\n-Bazel version-0.8.0<br>\n......................................................##Description ###...............................................................</p>\n<ol>\n<li>\n<p>I went through the following link and<br>\n=&gt;<a href=\"https://codelabs.developers.google.com/codelabs/tensorflow-for-poets/#3\" rel=\"nofollow\">https://codelabs.developers.google.com/codelabs/tensorflow-for-poets/#3</a><br>\nand successfully retrained the last layer of the model.</p>\n</li>\n<li>\n<p>Now i was trying to use that retrained.pb file and convert into.tlite format.<br>\n=&gt;<a href=\"https://github.com/tensorflow/tensorflow\">https://github.com/tensorflow/tensorflow</a><br>\n--Downloaded the tensorflow-master directory.<br>\n--Install Bazel (0.8.0)<br>\n--Then, using the retrained.pb file,trying to do model format conversion<br>\n--Downloaded the checkpoints from<br>\n=&gt;<a href=\"https://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet_v1.md\">https://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet_v1.md</a><br>\nBut got stucked while running the command for conversion.[bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=/home/ee210201/tensorflow-for-poets-2/tf_files/retrained_graph.pb --input_checkpoint=/tmp/checkpoints/mobilenet_v1_0.50_224.ckpt.data-00000-of-00001 --input_binary=true --output_graph=/tmp/checkpoints/frozen_mobilenet.pb  --output_node_names=Softmax}</p>\n</li>\n</ol>\n<p>.........................................................### Source code ##..........................................................................................<br>\n1.<br>\n(tensorflow) root@pcz-ee210201:/u/tensorflow-master# bazel build -c opt --copt=-msse4.1 --copt=-msse4.2 tensorflow/python/tools:freeze_graph</p>\n<p>=&gt;INFO: Elapsed time: 1057.269s, Critical Path: 44.92s<br>\nINFO: Build completed successfully, 2109 total actions<br>\n.................................................................................................................................</p>\n<ol start=\"2\">\n<li>But while running the below script [To convert into .tlite format] ,i was unable to resolved the following error?<br>\n(tensorflow) root@pcz-ee210201:/u/tensorflow-master# bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=/home/ee210201/tensorflow-for-poets-2/tf_files/retrained_graph.pb --input_checkpoint=/tmp/checkpoints/mobilenet_v1_0.50_224.ckpt.data-00000-of-00001 --input_binary=true --output_graph=/tmp/checkpoints/frozen_mobilenet.pb  --output_node_names=Softmax</li>\n</ol>\n<p>Error:::::::::::::::::::::::::::::::::::::::::</p>\n<pre><code>Traceback (most recent call last):\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 56, in &lt;module&gt;\n    from tensorflow.python.tools import saved_model_utils\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/saved_model_utils.py\", line 21, in &lt;module&gt;\n    from tensorflow.contrib.saved_model.python.saved_model import reader\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/__init__.py\", line 82, in &lt;module&gt;\n    from tensorflow.contrib.eager.python import tfe as eager\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/eager/python/tfe.py\", line 75, in &lt;module&gt;\n    from tensorflow.contrib.eager.python.datasets import Iterator\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/eager/python/datasets.py\", line 23, in &lt;module&gt;\n    from tensorflow.contrib.data.python.ops import prefetching_ops\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/prefetching_ops.py\", line 25, in &lt;module&gt;\n    resource_loader.get_path_to_datafile(\"../../_prefetching_ops.so\"))\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/util/loader.py\", line 55, in load_op_library\n    ret = load_library.load_op_library(path)\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/load_library.py\", line 56, in load_op_library\n    lib_handle = py_tf.TF_LoadLibrary(library_filename, status)\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/errors_impl.py\", line 473, in __exit__\n    c_api.TF_GetCode(self.status.status))\n\n=&gt;tensorflow.python.framework.errors_impl.NotFoundError: /u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/../../_prefetching_ops.so: undefined symbol: _ZN6google8protobuf8internal26fixed_address_empty_stringB5cxx11E\n.........................................................................................................................\n</code></pre>\n<p>Please let me know what does above error<br>\n--(tensorflow.python.framework.errors_impl.NotFoundError: --_ZN6google8protobuf8internal26fixed_address_empty_stringB5cxx11E)<br>\nmeans and how to solved it.</p>", "body_text": ".....................................................## System information##........................................................................\n-Python -2.7.12\n-OS -Ubuntu 16.04\n-Tensorflow version-1.4.0\n-Bazel version-0.8.0\n......................................................##Description ###...............................................................\n\n\nI went through the following link and\n=>https://codelabs.developers.google.com/codelabs/tensorflow-for-poets/#3\nand successfully retrained the last layer of the model.\n\n\nNow i was trying to use that retrained.pb file and convert into.tlite format.\n=>https://github.com/tensorflow/tensorflow\n--Downloaded the tensorflow-master directory.\n--Install Bazel (0.8.0)\n--Then, using the retrained.pb file,trying to do model format conversion\n--Downloaded the checkpoints from\n=>https://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet_v1.md\nBut got stucked while running the command for conversion.[bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=/home/ee210201/tensorflow-for-poets-2/tf_files/retrained_graph.pb --input_checkpoint=/tmp/checkpoints/mobilenet_v1_0.50_224.ckpt.data-00000-of-00001 --input_binary=true --output_graph=/tmp/checkpoints/frozen_mobilenet.pb  --output_node_names=Softmax}\n\n\n.........................................................### Source code ##..........................................................................................\n1.\n(tensorflow) root@pcz-ee210201:/u/tensorflow-master# bazel build -c opt --copt=-msse4.1 --copt=-msse4.2 tensorflow/python/tools:freeze_graph\n=>INFO: Elapsed time: 1057.269s, Critical Path: 44.92s\nINFO: Build completed successfully, 2109 total actions\n.................................................................................................................................\n\nBut while running the below script [To convert into .tlite format] ,i was unable to resolved the following error?\n(tensorflow) root@pcz-ee210201:/u/tensorflow-master# bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=/home/ee210201/tensorflow-for-poets-2/tf_files/retrained_graph.pb --input_checkpoint=/tmp/checkpoints/mobilenet_v1_0.50_224.ckpt.data-00000-of-00001 --input_binary=true --output_graph=/tmp/checkpoints/frozen_mobilenet.pb  --output_node_names=Softmax\n\nError:::::::::::::::::::::::::::::::::::::::::\nTraceback (most recent call last):\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 56, in <module>\n    from tensorflow.python.tools import saved_model_utils\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/saved_model_utils.py\", line 21, in <module>\n    from tensorflow.contrib.saved_model.python.saved_model import reader\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/__init__.py\", line 82, in <module>\n    from tensorflow.contrib.eager.python import tfe as eager\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/eager/python/tfe.py\", line 75, in <module>\n    from tensorflow.contrib.eager.python.datasets import Iterator\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/eager/python/datasets.py\", line 23, in <module>\n    from tensorflow.contrib.data.python.ops import prefetching_ops\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/prefetching_ops.py\", line 25, in <module>\n    resource_loader.get_path_to_datafile(\"../../_prefetching_ops.so\"))\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/util/loader.py\", line 55, in load_op_library\n    ret = load_library.load_op_library(path)\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/load_library.py\", line 56, in load_op_library\n    lib_handle = py_tf.TF_LoadLibrary(library_filename, status)\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/errors_impl.py\", line 473, in __exit__\n    c_api.TF_GetCode(self.status.status))\n\n=>tensorflow.python.framework.errors_impl.NotFoundError: /u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/../../_prefetching_ops.so: undefined symbol: _ZN6google8protobuf8internal26fixed_address_empty_stringB5cxx11E\n.........................................................................................................................\n\nPlease let me know what does above error\n--(tensorflow.python.framework.errors_impl.NotFoundError: --_ZN6google8protobuf8internal26fixed_address_empty_stringB5cxx11E)\nmeans and how to solved it.", "body": "  .....................................................## System information##........................................................................\r\n-Python -2.7.12\r\n-OS -Ubuntu 16.04\r\n-Tensorflow version-1.4.0\r\n-Bazel version-0.8.0\r\n     ......................................................##Description ###...............................................................\r\n1. I went through the following link and \r\n=>https://codelabs.developers.google.com/codelabs/tensorflow-for-poets/#3\r\nand successfully retrained the last layer of the model.\r\n\r\n2. Now i was trying to use that retrained.pb file and convert into.tlite format.\r\n=>https://github.com/tensorflow/tensorflow\r\n--Downloaded the tensorflow-master directory.\r\n--Install Bazel (0.8.0)\r\n--Then, using the retrained.pb file,trying to do model format conversion\r\n--Downloaded the checkpoints from \r\n=>https://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet_v1.md\r\nBut got stucked while running the command for conversion.[bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=/home/ee210201/tensorflow-for-poets-2/tf_files/retrained_graph.pb --input_checkpoint=/tmp/checkpoints/mobilenet_v1_0.50_224.ckpt.data-00000-of-00001 --input_binary=true --output_graph=/tmp/checkpoints/frozen_mobilenet.pb  --output_node_names=Softmax}\r\n\r\n\r\n\r\n.........................................................### Source code ##..........................................................................................\r\n1. \r\n(tensorflow) root@pcz-ee210201:/u/tensorflow-master# bazel build -c opt --copt=-msse4.1 --copt=-msse4.2 tensorflow/python/tools:freeze_graph\r\n\r\n=>INFO: Elapsed time: 1057.269s, Critical Path: 44.92s\r\nINFO: Build completed successfully, 2109 total actions\r\n.................................................................................................................................\r\n\r\n2. But while running the below script [To convert into .tlite format] ,i was unable to resolved the following error?\r\n(tensorflow) root@pcz-ee210201:/u/tensorflow-master# bazel-bin/tensorflow/python/tools/freeze_graph --input_graph=/home/ee210201/tensorflow-for-poets-2/tf_files/retrained_graph.pb --input_checkpoint=/tmp/checkpoints/mobilenet_v1_0.50_224.ckpt.data-00000-of-00001 --input_binary=true --output_graph=/tmp/checkpoints/frozen_mobilenet.pb  --output_node_names=Softmax\r\n\r\nError:::::::::::::::::::::::::::::::::::::::::\r\n```\r\nTraceback (most recent call last):\r\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 56, in <module>\r\n    from tensorflow.python.tools import saved_model_utils\r\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/saved_model_utils.py\", line 21, in <module>\r\n    from tensorflow.contrib.saved_model.python.saved_model import reader\r\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/__init__.py\", line 82, in <module>\r\n    from tensorflow.contrib.eager.python import tfe as eager\r\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/eager/python/tfe.py\", line 75, in <module>\r\n    from tensorflow.contrib.eager.python.datasets import Iterator\r\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/eager/python/datasets.py\", line 23, in <module>\r\n    from tensorflow.contrib.data.python.ops import prefetching_ops\r\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/prefetching_ops.py\", line 25, in <module>\r\n    resource_loader.get_path_to_datafile(\"../../_prefetching_ops.so\"))\r\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/util/loader.py\", line 55, in load_op_library\r\n    ret = load_library.load_op_library(path)\r\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/load_library.py\", line 56, in load_op_library\r\n    lib_handle = py_tf.TF_LoadLibrary(library_filename, status)\r\n  File \"/u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/errors_impl.py\", line 473, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\n\r\n=>tensorflow.python.framework.errors_impl.NotFoundError: /u/tensorflow-master/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/../../_prefetching_ops.so: undefined symbol: _ZN6google8protobuf8internal26fixed_address_empty_stringB5cxx11E\r\n.........................................................................................................................\r\n```\r\nPlease let me know what does above error\r\n--(tensorflow.python.framework.errors_impl.NotFoundError: --_ZN6google8protobuf8internal26fixed_address_empty_stringB5cxx11E)\r\nmeans and how to solved it.\r\n\r\n"}