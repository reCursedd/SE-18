{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/373454754", "html_url": "https://github.com/tensorflow/tensorflow/issues/15144#issuecomment-373454754", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15144", "id": 373454754, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzQ1NDc1NA==", "user": {"login": "xtr33me", "id": 1653419, "node_id": "MDQ6VXNlcjE2NTM0MTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1653419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xtr33me", "html_url": "https://github.com/xtr33me", "followers_url": "https://api.github.com/users/xtr33me/followers", "following_url": "https://api.github.com/users/xtr33me/following{/other_user}", "gists_url": "https://api.github.com/users/xtr33me/gists{/gist_id}", "starred_url": "https://api.github.com/users/xtr33me/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xtr33me/subscriptions", "organizations_url": "https://api.github.com/users/xtr33me/orgs", "repos_url": "https://api.github.com/users/xtr33me/repos", "events_url": "https://api.github.com/users/xtr33me/events{/privacy}", "received_events_url": "https://api.github.com/users/xtr33me/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-15T17:16:28Z", "updated_at": "2018-03-15T17:16:28Z", "author_association": "NONE", "body_html": "<p>I have tried on both r1.5 and r1.6 and I am getting the same error when trying to run my client.  I tried to build r1.4 but was dealing with a number of bazel related issues that had answers online aligned with upgrading to the newer versions of TF. Going to try running my model in docker to see if I have any better luck.</p>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/tf_serving/tensorflow_serving/example/sentiment_client.py\", line 107, in <br>\ntf.app.run()<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run<br>\n_sys.exit(main(argv))<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/tf_serving/tensorflow_serving/example/sentiment_client.py\", line 97, in main<br>\ntf.contrib.util.make_tensor_proto(tf.convert_to_tensor(\"This is awesome\"), shape=[1]))<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/util/lazy_loader.py\", line 53, in <strong>getattr</strong><br>\nmodule = self._load()<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/util/lazy_loader.py\", line 42, in _load<br>\nmodule = importlib.import_module(self.<strong>name</strong>)<br>\nFile \"/usr/lib/python2.7/importlib/<strong>init</strong>.py\", line 37, in import_module<br>\n<strong>import</strong>(name)<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/<strong>init</strong>.py\", line 84, in <br>\nfrom tensorflow.contrib.eager.python import tfe as eager<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/eager/python/tfe.py\", line 78, in <br>\nfrom tensorflow.contrib.eager.python.datasets import Iterator<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/eager/python/datasets.py\", line 23, in <br>\nfrom tensorflow.contrib.data.python.ops import prefetching_ops<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/prefetching_ops.py\", line 25, in <br>\nresource_loader.get_path_to_datafile(\"../../_prefetching_ops.so\"))<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/util/loader.py\", line 55, in load_op_library<br>\nret = load_library.load_op_library(path)<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/framework/load_library.py\", line 58, in load_op_library<br>\nlib_handle = py_tf.TF_LoadLibrary(library_filename, status)<br>\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/framework/errors_impl.py\", line 516, in <strong>exit</strong><br>\nc_api.TF_GetCode(self.status.status))<br>\ntensorflow.python.framework.errors_impl.NotFoundError: /media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/../../_prefetching_ops.so: undefined symbol: _ZN6google8protobuf8internal9ArenaImpl10AddCleanupEPvPFvS3_E</p>\n</blockquote>", "body_text": "I have tried on both r1.5 and r1.6 and I am getting the same error when trying to run my client.  I tried to build r1.4 but was dealing with a number of bazel related issues that had answers online aligned with upgrading to the newer versions of TF. Going to try running my model in docker to see if I have any better luck.\n\nTraceback (most recent call last):\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/tf_serving/tensorflow_serving/example/sentiment_client.py\", line 107, in \ntf.app.run()\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run\n_sys.exit(main(argv))\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/tf_serving/tensorflow_serving/example/sentiment_client.py\", line 97, in main\ntf.contrib.util.make_tensor_proto(tf.convert_to_tensor(\"This is awesome\"), shape=[1]))\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/util/lazy_loader.py\", line 53, in getattr\nmodule = self._load()\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/util/lazy_loader.py\", line 42, in _load\nmodule = importlib.import_module(self.name)\nFile \"/usr/lib/python2.7/importlib/init.py\", line 37, in import_module\nimport(name)\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/init.py\", line 84, in \nfrom tensorflow.contrib.eager.python import tfe as eager\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/eager/python/tfe.py\", line 78, in \nfrom tensorflow.contrib.eager.python.datasets import Iterator\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/eager/python/datasets.py\", line 23, in \nfrom tensorflow.contrib.data.python.ops import prefetching_ops\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/prefetching_ops.py\", line 25, in \nresource_loader.get_path_to_datafile(\"../../_prefetching_ops.so\"))\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/util/loader.py\", line 55, in load_op_library\nret = load_library.load_op_library(path)\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/framework/load_library.py\", line 58, in load_op_library\nlib_handle = py_tf.TF_LoadLibrary(library_filename, status)\nFile \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/framework/errors_impl.py\", line 516, in exit\nc_api.TF_GetCode(self.status.status))\ntensorflow.python.framework.errors_impl.NotFoundError: /media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/../../_prefetching_ops.so: undefined symbol: _ZN6google8protobuf8internal9ArenaImpl10AddCleanupEPvPFvS3_E", "body": "I have tried on both r1.5 and r1.6 and I am getting the same error when trying to run my client.  I tried to build r1.4 but was dealing with a number of bazel related issues that had answers online aligned with upgrading to the newer versions of TF. Going to try running my model in docker to see if I have any better luck.\r\n\r\n> Traceback (most recent call last):\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/tf_serving/tensorflow_serving/example/sentiment_client.py\", line 107, in <module>\r\n>     tf.app.run()\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run\r\n>     _sys.exit(main(argv))\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/tf_serving/tensorflow_serving/example/sentiment_client.py\", line 97, in main\r\n>     tf.contrib.util.make_tensor_proto(tf.convert_to_tensor(\"This is awesome\"), shape=[1]))\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\r\n>     module = self._load()\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/util/lazy_loader.py\", line 42, in _load\r\n>     module = importlib.import_module(self.__name__)\r\n>   File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n>     __import__(name)\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/__init__.py\", line 84, in <module>\r\n>     from tensorflow.contrib.eager.python import tfe as eager\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/eager/python/tfe.py\", line 78, in <module>\r\n>     from tensorflow.contrib.eager.python.datasets import Iterator\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/eager/python/datasets.py\", line 23, in <module>\r\n>     from tensorflow.contrib.data.python.ops import prefetching_ops\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/prefetching_ops.py\", line 25, in <module>\r\n>     resource_loader.get_path_to_datafile(\"../../_prefetching_ops.so\"))\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/util/loader.py\", line 55, in load_op_library\r\n>     ret = load_library.load_op_library(path)\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/framework/load_library.py\", line 58, in load_op_library\r\n>     lib_handle = py_tf.TF_LoadLibrary(library_filename, status)\r\n>   File \"/media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/python/framework/errors_impl.py\", line 516, in __exit__\r\n>     c_api.TF_GetCode(self.status.status))\r\n> tensorflow.python.framework.errors_impl.NotFoundError: /media/daniel/Data/serving/bazel-bin/tensorflow_serving/example/sentiment_client.runfiles/org_tensorflow/tensorflow/contrib/data/python/ops/../../_prefetching_ops.so: undefined symbol: _ZN6google8protobuf8internal9ArenaImpl10AddCleanupEPvPFvS3_E"}