{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/352955195", "html_url": "https://github.com/tensorflow/tensorflow/issues/15144#issuecomment-352955195", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15144", "id": 352955195, "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mjk1NTE5NQ==", "user": {"login": "himsikha123", "id": 33569217, "node_id": "MDQ6VXNlcjMzNTY5MjE3", "avatar_url": "https://avatars0.githubusercontent.com/u/33569217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himsikha123", "html_url": "https://github.com/himsikha123", "followers_url": "https://api.github.com/users/himsikha123/followers", "following_url": "https://api.github.com/users/himsikha123/following{/other_user}", "gists_url": "https://api.github.com/users/himsikha123/gists{/gist_id}", "starred_url": "https://api.github.com/users/himsikha123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himsikha123/subscriptions", "organizations_url": "https://api.github.com/users/himsikha123/orgs", "repos_url": "https://api.github.com/users/himsikha123/repos", "events_url": "https://api.github.com/users/himsikha123/events{/privacy}", "received_events_url": "https://api.github.com/users/himsikha123/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-20T03:30:45Z", "updated_at": "2017-12-20T03:30:45Z", "author_association": "NONE", "body_html": "<p>I am following the below steps from [https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/lite] and obtained the retrrained.pb file by retraining the model(tensorflow for poets) and now wanted to convert .pb to .tlite format so that i can used in android phone.</p>\n<p>Step 2. Model format conversion:<br>\nFreeze Graph</p>\n<p>To use this .pb GraphDef file within TensorFlow Lite, the application developer will need checkpoints containing trained weight parameters. The .pb contains only the structure of the graph. The process of merging the checkpoint values with the graph structure is known as \"freezing\" the graph.</p>\n<p>The developer should know where the checkpoints folder is present or checkpoints can also be downloaded for a pre-trained model (Example: Here is a link to the MobileNets).</p>\n<p>Graph freezing can be done using the command below (and modifying the arguments appropriately)</p>\n<p>bazel build tensorflow/python/tools:freeze_graph</p>\n<p>bazel-bin/tensorflow/python/tools/freeze_graph<br>\n--input_graph=/tmp/mobilenet_v1_224.pb <br>\n--input_checkpoint=/tmp/checkpoints/mobilenet-10202.ckpt <br>\n--input_binary=true --output_graph=/tmp/frozen_mobilenet_v1_224.pb <br>\n--output_node_names=MobileNet/Predictions/Reshape_1</p>", "body_text": "I am following the below steps from [https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/lite] and obtained the retrrained.pb file by retraining the model(tensorflow for poets) and now wanted to convert .pb to .tlite format so that i can used in android phone.\nStep 2. Model format conversion:\nFreeze Graph\nTo use this .pb GraphDef file within TensorFlow Lite, the application developer will need checkpoints containing trained weight parameters. The .pb contains only the structure of the graph. The process of merging the checkpoint values with the graph structure is known as \"freezing\" the graph.\nThe developer should know where the checkpoints folder is present or checkpoints can also be downloaded for a pre-trained model (Example: Here is a link to the MobileNets).\nGraph freezing can be done using the command below (and modifying the arguments appropriately)\nbazel build tensorflow/python/tools:freeze_graph\nbazel-bin/tensorflow/python/tools/freeze_graph\n--input_graph=/tmp/mobilenet_v1_224.pb \n--input_checkpoint=/tmp/checkpoints/mobilenet-10202.ckpt \n--input_binary=true --output_graph=/tmp/frozen_mobilenet_v1_224.pb \n--output_node_names=MobileNet/Predictions/Reshape_1", "body": "I am following the below steps from [https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/lite] and obtained the retrrained.pb file by retraining the model(tensorflow for poets) and now wanted to convert .pb to .tlite format so that i can used in android phone.\r\n\r\nStep 2. Model format conversion:\r\nFreeze Graph\r\n\r\nTo use this .pb GraphDef file within TensorFlow Lite, the application developer will need checkpoints containing trained weight parameters. The .pb contains only the structure of the graph. The process of merging the checkpoint values with the graph structure is known as \"freezing\" the graph.\r\n\r\nThe developer should know where the checkpoints folder is present or checkpoints can also be downloaded for a pre-trained model (Example: Here is a link to the MobileNets).\r\n\r\nGraph freezing can be done using the command below (and modifying the arguments appropriately)\r\n\r\nbazel build tensorflow/python/tools:freeze_graph\r\n\r\nbazel-bin/tensorflow/python/tools/freeze_graph\\\r\n    --input_graph=/tmp/mobilenet_v1_224.pb \\\r\n    --input_checkpoint=/tmp/checkpoints/mobilenet-10202.ckpt \\\r\n    --input_binary=true --output_graph=/tmp/frozen_mobilenet_v1_224.pb \\\r\n    --output_node_names=MobileNet/Predictions/Reshape_1\r\n\r\n\r\n"}