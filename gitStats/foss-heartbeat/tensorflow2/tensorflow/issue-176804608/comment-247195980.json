{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/247195980", "html_url": "https://github.com/tensorflow/tensorflow/issues/4371#issuecomment-247195980", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4371", "id": 247195980, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzE5NTk4MA==", "user": {"login": "kamal94", "id": 7926046, "node_id": "MDQ6VXNlcjc5MjYwNDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/7926046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kamal94", "html_url": "https://github.com/kamal94", "followers_url": "https://api.github.com/users/kamal94/followers", "following_url": "https://api.github.com/users/kamal94/following{/other_user}", "gists_url": "https://api.github.com/users/kamal94/gists{/gist_id}", "starred_url": "https://api.github.com/users/kamal94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kamal94/subscriptions", "organizations_url": "https://api.github.com/users/kamal94/orgs", "repos_url": "https://api.github.com/users/kamal94/repos", "events_url": "https://api.github.com/users/kamal94/events{/privacy}", "received_events_url": "https://api.github.com/users/kamal94/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-15T00:17:50Z", "updated_at": "2016-09-15T00:17:50Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4576329\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/xpe\">@xpe</a> I tried installing bazel from source from your repository and it still didn't work, same error. I think it might have something to do with bazel fetching protobuf from github.</p>\n<p>However, this is really confusing because protobuf <a href=\"https://github.com/google/protobuf/pull/2100\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/protocolbuffers/protobuf/pull/2100/hovercard\">fixed their cfg flags</a>, and they don't have any HOST_CFG in their code base anymore. So I don't see why bazel would get a version of protobuf.bzl that has HOST_CFG in it. Maybe it's not pulling from the most recent github version?</p>\n<p>To make this clearer, look at the file where the error occurs, for me it is:<br>\n/home/kamal/.cache/bazel/_bazel_kamal/f9ae4eca457b390bb2ebe780caca64e0/external/protobuf/protobuf.bzl<br>\nfor you it seems to be (at least in your most recent posted error message):<br>\n/home/xpe/.cache/bazel/_bazel_xpe/641dfc594d651643762f515addd22118/external/protobuf/protobuf.bzl</p>\n<p>This file contains the cfg = HOST_CFG, while the <a href=\"https://github.com/google/protobuf/blob/master/protobuf.bzl\">protobuf.bzl</a> in the head of protobuf contains \"host\"</p>\n<p>Am i getting something wrong? Why isn't bazel downloading from master/head? if it says it's cloning it.</p>", "body_text": "@xpe I tried installing bazel from source from your repository and it still didn't work, same error. I think it might have something to do with bazel fetching protobuf from github.\nHowever, this is really confusing because protobuf fixed their cfg flags, and they don't have any HOST_CFG in their code base anymore. So I don't see why bazel would get a version of protobuf.bzl that has HOST_CFG in it. Maybe it's not pulling from the most recent github version?\nTo make this clearer, look at the file where the error occurs, for me it is:\n/home/kamal/.cache/bazel/_bazel_kamal/f9ae4eca457b390bb2ebe780caca64e0/external/protobuf/protobuf.bzl\nfor you it seems to be (at least in your most recent posted error message):\n/home/xpe/.cache/bazel/_bazel_xpe/641dfc594d651643762f515addd22118/external/protobuf/protobuf.bzl\nThis file contains the cfg = HOST_CFG, while the protobuf.bzl in the head of protobuf contains \"host\"\nAm i getting something wrong? Why isn't bazel downloading from master/head? if it says it's cloning it.", "body": "@xpe I tried installing bazel from source from your repository and it still didn't work, same error. I think it might have something to do with bazel fetching protobuf from github.\n\nHowever, this is really confusing because protobuf [fixed their cfg flags](https://github.com/google/protobuf/pull/2100), and they don't have any HOST_CFG in their code base anymore. So I don't see why bazel would get a version of protobuf.bzl that has HOST_CFG in it. Maybe it's not pulling from the most recent github version?\n\nTo make this clearer, look at the file where the error occurs, for me it is:\n /home/kamal/.cache/bazel/_bazel_kamal/f9ae4eca457b390bb2ebe780caca64e0/external/protobuf/protobuf.bzl\nfor you it seems to be (at least in your most recent posted error message):\n/home/xpe/.cache/bazel/_bazel_xpe/641dfc594d651643762f515addd22118/external/protobuf/protobuf.bzl\n\nThis file contains the cfg = HOST_CFG, while the [protobuf.bzl](https://github.com/google/protobuf/blob/master/protobuf.bzl) in the head of protobuf contains \"host\"\n\nAm i getting something wrong? Why isn't bazel downloading from master/head? if it says it's cloning it.\n"}