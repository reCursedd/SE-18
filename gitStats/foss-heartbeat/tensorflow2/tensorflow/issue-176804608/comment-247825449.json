{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/247825449", "html_url": "https://github.com/tensorflow/tensorflow/issues/4371#issuecomment-247825449", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4371", "id": 247825449, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzgyNTQ0OQ==", "user": {"login": "kamal94", "id": 7926046, "node_id": "MDQ6VXNlcjc5MjYwNDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/7926046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kamal94", "html_url": "https://github.com/kamal94", "followers_url": "https://api.github.com/users/kamal94/followers", "following_url": "https://api.github.com/users/kamal94/following{/other_user}", "gists_url": "https://api.github.com/users/kamal94/gists{/gist_id}", "starred_url": "https://api.github.com/users/kamal94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kamal94/subscriptions", "organizations_url": "https://api.github.com/users/kamal94/orgs", "repos_url": "https://api.github.com/users/kamal94/repos", "events_url": "https://api.github.com/users/kamal94/events{/privacy}", "received_events_url": "https://api.github.com/users/kamal94/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-18T04:52:28Z", "updated_at": "2016-09-18T04:52:28Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15696327\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andydavis1\">@andydavis1</a> This is still an issue. Even the bazel fix didn't do it for me. For some reason, it is till cloning an old version of Bazel evertyime it runs <code>bazel fetch //...</code> in the .config file.</p>\n<p>it <strong>should</strong> be pulling <a href=\"https://github.com/google/protobuf/blob/master/protobuf.bzl\">this file</a> but it is not! It is pulling a similar (older) file with flag set to HOST_CFG.</p>\n<p>Is there a way to change this so that bazel clones the most recent (and therefore non-deprecated) version of protobuf?</p>\n<p>The only manual solution I could come up with was running the config file, and when bazel crashed because of the above error, i manually changed the file at the specified cache location (for me this was /home/<em>myname</em>/.cache/bazel/_bazel_kamal/f9ae4eca457b390bb2ebe780caca64e0/external/protobuf/protobuf.bzl) and replaced all occurrences of HOST_CFG to \"host\".</p>\n<p>The installation runs well after that until I run into <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176152825\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4312\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4312/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4312\">#4312</a></p>", "body_text": "@andydavis1 This is still an issue. Even the bazel fix didn't do it for me. For some reason, it is till cloning an old version of Bazel evertyime it runs bazel fetch //... in the .config file.\nit should be pulling this file but it is not! It is pulling a similar (older) file with flag set to HOST_CFG.\nIs there a way to change this so that bazel clones the most recent (and therefore non-deprecated) version of protobuf?\nThe only manual solution I could come up with was running the config file, and when bazel crashed because of the above error, i manually changed the file at the specified cache location (for me this was /home/myname/.cache/bazel/_bazel_kamal/f9ae4eca457b390bb2ebe780caca64e0/external/protobuf/protobuf.bzl) and replaced all occurrences of HOST_CFG to \"host\".\nThe installation runs well after that until I run into #4312", "body": "@andydavis1 This is still an issue. Even the bazel fix didn't do it for me. For some reason, it is till cloning an old version of Bazel evertyime it runs `bazel fetch //...` in the .config file.\n\nit **should** be pulling [this file](https://github.com/google/protobuf/blob/master/protobuf.bzl) but it is not! It is pulling a similar (older) file with flag set to HOST_CFG.\n\nIs there a way to change this so that bazel clones the most recent (and therefore non-deprecated) version of protobuf?\n\nThe only manual solution I could come up with was running the config file, and when bazel crashed because of the above error, i manually changed the file at the specified cache location (for me this was /home/_myname_/.cache/bazel/_bazel_kamal/f9ae4eca457b390bb2ebe780caca64e0/external/protobuf/protobuf.bzl) and replaced all occurrences of HOST_CFG to \"host\".\n\nThe installation runs well after that until I run into #4312\n"}