{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/249340251", "html_url": "https://github.com/tensorflow/tensorflow/issues/4371#issuecomment-249340251", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4371", "id": 249340251, "node_id": "MDEyOklzc3VlQ29tbWVudDI0OTM0MDI1MQ==", "user": {"login": "kamal94", "id": 7926046, "node_id": "MDQ6VXNlcjc5MjYwNDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/7926046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kamal94", "html_url": "https://github.com/kamal94", "followers_url": "https://api.github.com/users/kamal94/followers", "following_url": "https://api.github.com/users/kamal94/following{/other_user}", "gists_url": "https://api.github.com/users/kamal94/gists{/gist_id}", "starred_url": "https://api.github.com/users/kamal94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kamal94/subscriptions", "organizations_url": "https://api.github.com/users/kamal94/orgs", "repos_url": "https://api.github.com/users/kamal94/repos", "events_url": "https://api.github.com/users/kamal94/events{/privacy}", "received_events_url": "https://api.github.com/users/kamal94/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-24T02:37:25Z", "updated_at": "2016-09-24T02:37:25Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4576329\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/xpe\">@xpe</a> I was able to trace the error.<br>\nIt was in the <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/workspace.bzl#L101\">bazel workplace installation file</a> and it pulled an older archive of protobuf. This old version had HOST_CFG instead of \"host\".</p>\n<p>To fix this, I replaced the lines</p>\n<pre><code>native.http_archive(\n    name = \"protobuf\",\n    url = \"http://github.com/google/protobuf/archive/v3.0.2.tar.gz\",\n    sha256 = \"b700647e11556b643ccddffd1f41d8cb7704ed02090af54cc517d44d912d11c1\",\n    strip_prefix = \"protobuf-3.0.2\",\n  )\n</code></pre>\n<p>with</p>\n<pre><code>  native.git_repository(\n      name = \"protobuf\",\n      remote = \"https://github.com/google/protobuf/\",\n      commit = \"a289d43\"\n  )\n</code></pre>", "body_text": "@xpe I was able to trace the error.\nIt was in the bazel workplace installation file and it pulled an older archive of protobuf. This old version had HOST_CFG instead of \"host\".\nTo fix this, I replaced the lines\nnative.http_archive(\n    name = \"protobuf\",\n    url = \"http://github.com/google/protobuf/archive/v3.0.2.tar.gz\",\n    sha256 = \"b700647e11556b643ccddffd1f41d8cb7704ed02090af54cc517d44d912d11c1\",\n    strip_prefix = \"protobuf-3.0.2\",\n  )\n\nwith\n  native.git_repository(\n      name = \"protobuf\",\n      remote = \"https://github.com/google/protobuf/\",\n      commit = \"a289d43\"\n  )", "body": "@xpe I was able to trace the error.\nIt was in the [bazel workplace installation file](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/workspace.bzl#L101) and it pulled an older archive of protobuf. This old version had HOST_CFG instead of \"host\".\n\nTo fix this, I replaced the lines\n\n```\nnative.http_archive(\n    name = \"protobuf\",\n    url = \"http://github.com/google/protobuf/archive/v3.0.2.tar.gz\",\n    sha256 = \"b700647e11556b643ccddffd1f41d8cb7704ed02090af54cc517d44d912d11c1\",\n    strip_prefix = \"protobuf-3.0.2\",\n  )\n```\n\nwith \n\n```\n  native.git_repository(\n      name = \"protobuf\",\n      remote = \"https://github.com/google/protobuf/\",\n      commit = \"a289d43\"\n  )\n```\n"}