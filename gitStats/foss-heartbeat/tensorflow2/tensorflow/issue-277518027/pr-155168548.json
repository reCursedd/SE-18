{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14953", "id": 155168548, "node_id": "MDExOlB1bGxSZXF1ZXN0MTU1MTY4NTQ4", "html_url": "https://github.com/tensorflow/tensorflow/pull/14953", "diff_url": "https://github.com/tensorflow/tensorflow/pull/14953.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/14953.patch", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14953", "number": 14953, "state": "closed", "locked": false, "title": "Tensor roll op implementation", "user": {"login": "kobejean", "id": 3527868, "node_id": "MDQ6VXNlcjM1Mjc4Njg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3527868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kobejean", "html_url": "https://github.com/kobejean", "followers_url": "https://api.github.com/users/kobejean/followers", "following_url": "https://api.github.com/users/kobejean/following{/other_user}", "gists_url": "https://api.github.com/users/kobejean/gists{/gist_id}", "starred_url": "https://api.github.com/users/kobejean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kobejean/subscriptions", "organizations_url": "https://api.github.com/users/kobejean/orgs", "repos_url": "https://api.github.com/users/kobejean/repos", "events_url": "https://api.github.com/users/kobejean/events{/privacy}", "received_events_url": "https://api.github.com/users/kobejean/received_events", "type": "User", "site_admin": false}, "body": "Closes #10761\r\nAdded a tf.manip.roll op that works similarly to numpy's np.roll. This was a feature requested in #10761 and was marked as contributions welcome.\r\n\r\n### Usage:\r\n\r\nRolls the elements of a tensor by the offsets of `shift` along the dimensions\r\nof `axis`. Elements that roll passed the last position will wrap around\r\nto the first.\r\nFor example:\r\n```\r\n# 't' is [0, 1, 2, 3, 4]\r\nroll(t, shift=2, axis=0) ==> [3, 4, 0, 1, 2]\r\n# shifting along multiple dimensions\r\n# 't' is [[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]]\r\nroll(t, shift=[1, -2], axis=[0, 1]) ==> [[7, 8, 9, 5, 6], [2, 3, 4, 0, 1]]\r\n# shifting along the same axis multiple times\r\n# 't' is [[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]]\r\nroll(t, shift=[2, -3], axis=[1, 1]) ==> [[1, 2, 3, 4, 0], [6, 7, 8, 9, 5]]\r\n```\r\nshift: `shift[i]` specifies the number of places by which elements are shifted\r\n  along the dimension specified by `axis[i]`. Negative shifts will roll the\r\n  elements in the opposite direction.\r\naxis: `axis[i]` specifies the dimension that the shift `shift[i]` should occur.\r\n  if the same axis is referenced more than once, the total shift for that axis\r\n  will be the sum of all the shifts that belong to that axis.\r\noutput: Has the same shape and size as the input. The elements are shifted by\r\n  the offsets of `shift` along the dimensions of `axis`.\r\n\r\n### Unit tests:\r\n```\r\n[==========] Running 24 tests from 1 test case.\r\n[----------] Global test environment set-up.\r\n[----------] 24 tests from RollOpTest\r\n[ RUN      ] RollOpTest.ScalarIndices\r\n[       OK ] RollOpTest.ScalarIndices (5 ms)\r\n[ RUN      ] RollOpTest.ScalarIndices_NoMemcpy\r\n[       OK ] RollOpTest.ScalarIndices_NoMemcpy (0 ms)\r\n[ RUN      ] RollOpTest.ScalarIndices_Complex\r\n[       OK ] RollOpTest.ScalarIndices_Complex (0 ms)\r\n[ RUN      ] RollOpTest.Simple_TwoD32\r\n[       OK ] RollOpTest.Simple_TwoD32 (0 ms)\r\n[ RUN      ] RollOpTest.Simple_TwoD32_NoMemcpy\r\n[       OK ] RollOpTest.Simple_TwoD32_NoMemcpy (0 ms)\r\n[ RUN      ] RollOpTest.Simple_ThreeD32\r\n[       OK ] RollOpTest.Simple_ThreeD32 (1 ms)\r\n[ RUN      ] RollOpTest.Simple_ThreeD32_NoMemcpy\r\n[       OK ] RollOpTest.Simple_ThreeD32_NoMemcpy (0 ms)\r\n[ RUN      ] RollOpTest.Simple_TwoD64\r\n[       OK ] RollOpTest.Simple_TwoD64 (0 ms)\r\n[ RUN      ] RollOpTest.Simple_TwoD64_NoMemcpy\r\n[       OK ] RollOpTest.Simple_TwoD64_NoMemcpy (0 ms)\r\n[ RUN      ] RollOpTest.Simple_ThreeD64\r\n[       OK ] RollOpTest.Simple_ThreeD64 (0 ms)\r\n[ RUN      ] RollOpTest.Simple_ThreeD64_NoMemcpy\r\n[       OK ] RollOpTest.Simple_ThreeD64_NoMemcpy (0 ms)\r\n[ RUN      ] RollOpTest.ZeroShift_ThreeD32\r\n[       OK ] RollOpTest.ZeroShift_ThreeD32 (0 ms)\r\n[ RUN      ] RollOpTest.ZeroShift_ThreeD32_NoMemcpy\r\n[       OK ] RollOpTest.ZeroShift_ThreeD32_NoMemcpy (0 ms)\r\n[ RUN      ] RollOpTest.ZeroSize_ThreeD32\r\n[       OK ] RollOpTest.ZeroSize_ThreeD32 (0 ms)\r\n[ RUN      ] RollOpTest.ZeroSize_ThreeD32_NoMemcpy\r\n[       OK ] RollOpTest.ZeroSize_ThreeD32_NoMemcpy (0 ms)\r\n[ RUN      ] RollOpTest.OneSize_ThreeD32\r\n[       OK ] RollOpTest.OneSize_ThreeD32 (1 ms)\r\n[ RUN      ] RollOpTest.OneSize_ThreeD32_NoMemcpy\r\n[       OK ] RollOpTest.OneSize_ThreeD32_NoMemcpy (0 ms)\r\n[ RUN      ] RollOpTest.DuplicateShifts_TwoD32\r\n[       OK ] RollOpTest.DuplicateShifts_TwoD32 (0 ms)\r\n[ RUN      ] RollOpTest.DuplicateShifts_TwoD32_NoMemcpy\r\n[       OK ] RollOpTest.DuplicateShifts_TwoD32_NoMemcpy (0 ms)\r\n[ RUN      ] RollOpTest.Error_InputMustBeVectorOrHigher\r\n[       OK ] RollOpTest.Error_InputMustBeVectorOrHigher (0 ms)\r\n[ RUN      ] RollOpTest.Error_AxisMustBeScalarOrVector\r\n[       OK ] RollOpTest.Error_AxisMustBeScalarOrVector (0 ms)\r\n[ RUN      ] RollOpTest.Error_ShiftMustBeScalarOrVector\r\n[       OK ] RollOpTest.Error_ShiftMustBeScalarOrVector (0 ms)\r\n[ RUN      ] RollOpTest.Error_ShiftAndAxisMustBeSameSize\r\n[       OK ] RollOpTest.Error_ShiftAndAxisMustBeSameSize (0 ms)\r\n[ RUN      ] RollOpTest.Error_AxisOutOfRange\r\n[       OK ] RollOpTest.Error_AxisOutOfRange (0 ms)\r\n[----------] 24 tests from RollOpTest (7 ms total)\r\n\r\n[----------] Global test environment tear-down\r\n[==========] 24 tests from 1 test case ran. (8 ms total)\r\n[  PASSED  ] 24 tests.\r\n```\r\n\r\n```\r\n//tensorflow/python/kernel_tests:manip_ops_test                          PASSED in 0.9s\r\n```\r\n\r\n### Benchmarks:\r\n```\r\nRunning main() from test_main.cc\r\nBenchmark                     Time(ns) Iterations\r\n-------------------------------------------------\r\nBM_cpu_roll_outer/256/256        46739      16065\t 5608.7MB/s 1402.2M items/s\r\nBM_cpu_roll_outer/512/512       124247       5135\t 8439.5MB/s 2109.9M items/s\r\nBM_cpu_roll_outer/1024/1024     638245       1149\t 6571.6MB/s 1642.9M items/s\r\nBM_cpu_roll_outer/2048/2048    5261260        100\t 3188.8MB/s 797.2M items/s\r\nBM_cpu_roll_all/256/256         135631       5353\t 1932.8MB/s 483.2M items/s\r\nBM_cpu_roll_all/512/512         286927       2263\t 3654.5MB/s 913.6M items/s\r\nBM_cpu_roll_all/1024/1024       981417        727\t 4273.7MB/s 1068.4M items/s\r\nBM_cpu_roll_all/2048/2048      4549074        149\t 3688.1MB/s 922.0M items/s\r\n```\r\n\r\nI had made a pull request for this before but accidentally closed it", "created_at": "2017-11-28T19:57:27Z", "updated_at": "2018-01-30T00:14:39Z", "closed_at": "2018-01-30T00:03:32Z", "merged_at": "2018-01-30T00:03:32Z", "merge_commit_sha": "4ab2d8531c461169cd6a33bc0fef1129b419e9df", "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "milestone": null, "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14953/commits", "review_comments_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14953/comments", "review_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14953/comments", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/70fc4c06e907b5578d3345a08967714bfd96f0de", "head": {"label": "kobejean:master", "ref": "master", "sha": "70fc4c06e907b5578d3345a08967714bfd96f0de", "user": {"login": "kobejean", "id": 3527868, "node_id": "MDQ6VXNlcjM1Mjc4Njg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3527868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kobejean", "html_url": "https://github.com/kobejean", "followers_url": "https://api.github.com/users/kobejean/followers", "following_url": "https://api.github.com/users/kobejean/following{/other_user}", "gists_url": "https://api.github.com/users/kobejean/gists{/gist_id}", "starred_url": "https://api.github.com/users/kobejean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kobejean/subscriptions", "organizations_url": "https://api.github.com/users/kobejean/orgs", "repos_url": "https://api.github.com/users/kobejean/repos", "events_url": "https://api.github.com/users/kobejean/events{/privacy}", "received_events_url": "https://api.github.com/users/kobejean/received_events", "type": "User", "site_admin": false}, "repo": {"id": 98827368, "node_id": "MDEwOlJlcG9zaXRvcnk5ODgyNzM2OA==", "name": "tensorflow", "full_name": "kobejean/tensorflow", "private": false, "owner": {"login": "kobejean", "id": 3527868, "node_id": "MDQ6VXNlcjM1Mjc4Njg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3527868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kobejean", "html_url": "https://github.com/kobejean", "followers_url": "https://api.github.com/users/kobejean/followers", "following_url": "https://api.github.com/users/kobejean/following{/other_user}", "gists_url": "https://api.github.com/users/kobejean/gists{/gist_id}", "starred_url": "https://api.github.com/users/kobejean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kobejean/subscriptions", "organizations_url": "https://api.github.com/users/kobejean/orgs", "repos_url": "https://api.github.com/users/kobejean/repos", "events_url": "https://api.github.com/users/kobejean/events{/privacy}", "received_events_url": "https://api.github.com/users/kobejean/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/kobejean/tensorflow", "description": "Computation using data flow graphs for scalable machine learning", "fork": true, "url": "https://api.github.com/repos/kobejean/tensorflow", "forks_url": "https://api.github.com/repos/kobejean/tensorflow/forks", "keys_url": "https://api.github.com/repos/kobejean/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/kobejean/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/kobejean/tensorflow/teams", "hooks_url": "https://api.github.com/repos/kobejean/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/kobejean/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/kobejean/tensorflow/events", "assignees_url": "https://api.github.com/repos/kobejean/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/kobejean/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/kobejean/tensorflow/tags", "blobs_url": "https://api.github.com/repos/kobejean/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/kobejean/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/kobejean/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/kobejean/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/kobejean/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/kobejean/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/kobejean/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/kobejean/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/kobejean/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/kobejean/tensorflow/subscription", "commits_url": "https://api.github.com/repos/kobejean/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/kobejean/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/kobejean/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/kobejean/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/kobejean/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/kobejean/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/kobejean/tensorflow/merges", "archive_url": "https://api.github.com/repos/kobejean/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/kobejean/tensorflow/downloads", "issues_url": "https://api.github.com/repos/kobejean/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/kobejean/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/kobejean/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/kobejean/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/kobejean/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/kobejean/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/kobejean/tensorflow/deployments", "created_at": "2017-07-30T22:04:31Z", "updated_at": "2018-10-02T20:31:45Z", "pushed_at": "2018-10-02T20:31:40Z", "git_url": "git://github.com/kobejean/tensorflow.git", "ssh_url": "git@github.com:kobejean/tensorflow.git", "clone_url": "https://github.com/kobejean/tensorflow.git", "svn_url": "https://github.com/kobejean/tensorflow", "homepage": "http://tensorflow.org", "size": 261303, "stargazers_count": 0, "watchers_count": 0, "language": "C++", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 0, "mirror_url": null, "archived": false, "open_issues_count": 0, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "tensorflow:master", "ref": "master", "sha": "6743031da633d1ce284a606c49eb00e793c1d729", "user": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 45717250, "node_id": "MDEwOlJlcG9zaXRvcnk0NTcxNzI1MA==", "name": "tensorflow", "full_name": "tensorflow/tensorflow", "private": false, "owner": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/tensorflow/tensorflow", "description": "An Open Source Machine Learning Framework for Everyone", "fork": false, "url": "https://api.github.com/repos/tensorflow/tensorflow", "forks_url": "https://api.github.com/repos/tensorflow/tensorflow/forks", "keys_url": "https://api.github.com/repos/tensorflow/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/tensorflow/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/tensorflow/tensorflow/teams", "hooks_url": "https://api.github.com/repos/tensorflow/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/events", "assignees_url": "https://api.github.com/repos/tensorflow/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/tensorflow/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/tensorflow/tensorflow/tags", "blobs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/tensorflow/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/tensorflow/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/tensorflow/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/tensorflow/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/tensorflow/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/tensorflow/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/tensorflow/tensorflow/subscription", "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/tensorflow/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/tensorflow/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/tensorflow/tensorflow/merges", "archive_url": "https://api.github.com/repos/tensorflow/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/tensorflow/tensorflow/downloads", "issues_url": "https://api.github.com/repos/tensorflow/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/tensorflow/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/tensorflow/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/tensorflow/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/tensorflow/tensorflow/deployments", "created_at": "2015-11-07T01:19:20Z", "updated_at": "2018-11-24T20:25:08Z", "pushed_at": "2018-11-24T18:40:19Z", "git_url": "git://github.com/tensorflow/tensorflow.git", "ssh_url": "git@github.com:tensorflow/tensorflow.git", "clone_url": "https://github.com/tensorflow/tensorflow.git", "svn_url": "https://github.com/tensorflow/tensorflow", "homepage": "https://tensorflow.org", "size": 284546, "stargazers_count": 115177, "watchers_count": 115177, "language": "C++", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 69947, "mirror_url": null, "archived": false, "open_issues_count": 1759, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 69947, "open_issues": 1759, "watchers": 115177, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14953"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/14953"}, "issue": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/14953"}, "comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/14953/comments"}, "review_comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14953/comments"}, "review_comment": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14953/commits"}, "statuses": {"href": "https://api.github.com/repos/tensorflow/tensorflow/statuses/70fc4c06e907b5578d3345a08967714bfd96f0de"}}, "author_association": "CONTRIBUTOR", "body_html": "<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #10761.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"236454067\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/10761\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/10761/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/10761\">#10761</a><br>\nAdded a tf.manip.roll op that works similarly to numpy's np.roll. This was a feature requested in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"236454067\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/10761\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/10761/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/10761\">#10761</a> and was marked as contributions welcome.</p>\n<h3>Usage:</h3>\n<p>Rolls the elements of a tensor by the offsets of <code>shift</code> along the dimensions<br>\nof <code>axis</code>. Elements that roll passed the last position will wrap around<br>\nto the first.<br>\nFor example:</p>\n<pre><code># 't' is [0, 1, 2, 3, 4]\nroll(t, shift=2, axis=0) ==&gt; [3, 4, 0, 1, 2]\n# shifting along multiple dimensions\n# 't' is [[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]]\nroll(t, shift=[1, -2], axis=[0, 1]) ==&gt; [[7, 8, 9, 5, 6], [2, 3, 4, 0, 1]]\n# shifting along the same axis multiple times\n# 't' is [[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]]\nroll(t, shift=[2, -3], axis=[1, 1]) ==&gt; [[1, 2, 3, 4, 0], [6, 7, 8, 9, 5]]\n</code></pre>\n<p>shift: <code>shift[i]</code> specifies the number of places by which elements are shifted<br>\nalong the dimension specified by <code>axis[i]</code>. Negative shifts will roll the<br>\nelements in the opposite direction.<br>\naxis: <code>axis[i]</code> specifies the dimension that the shift <code>shift[i]</code> should occur.<br>\nif the same axis is referenced more than once, the total shift for that axis<br>\nwill be the sum of all the shifts that belong to that axis.<br>\noutput: Has the same shape and size as the input. The elements are shifted by<br>\nthe offsets of <code>shift</code> along the dimensions of <code>axis</code>.</p>\n<h3>Unit tests:</h3>\n<pre><code>[==========] Running 24 tests from 1 test case.\n[----------] Global test environment set-up.\n[----------] 24 tests from RollOpTest\n[ RUN      ] RollOpTest.ScalarIndices\n[       OK ] RollOpTest.ScalarIndices (5 ms)\n[ RUN      ] RollOpTest.ScalarIndices_NoMemcpy\n[       OK ] RollOpTest.ScalarIndices_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.ScalarIndices_Complex\n[       OK ] RollOpTest.ScalarIndices_Complex (0 ms)\n[ RUN      ] RollOpTest.Simple_TwoD32\n[       OK ] RollOpTest.Simple_TwoD32 (0 ms)\n[ RUN      ] RollOpTest.Simple_TwoD32_NoMemcpy\n[       OK ] RollOpTest.Simple_TwoD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.Simple_ThreeD32\n[       OK ] RollOpTest.Simple_ThreeD32 (1 ms)\n[ RUN      ] RollOpTest.Simple_ThreeD32_NoMemcpy\n[       OK ] RollOpTest.Simple_ThreeD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.Simple_TwoD64\n[       OK ] RollOpTest.Simple_TwoD64 (0 ms)\n[ RUN      ] RollOpTest.Simple_TwoD64_NoMemcpy\n[       OK ] RollOpTest.Simple_TwoD64_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.Simple_ThreeD64\n[       OK ] RollOpTest.Simple_ThreeD64 (0 ms)\n[ RUN      ] RollOpTest.Simple_ThreeD64_NoMemcpy\n[       OK ] RollOpTest.Simple_ThreeD64_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.ZeroShift_ThreeD32\n[       OK ] RollOpTest.ZeroShift_ThreeD32 (0 ms)\n[ RUN      ] RollOpTest.ZeroShift_ThreeD32_NoMemcpy\n[       OK ] RollOpTest.ZeroShift_ThreeD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.ZeroSize_ThreeD32\n[       OK ] RollOpTest.ZeroSize_ThreeD32 (0 ms)\n[ RUN      ] RollOpTest.ZeroSize_ThreeD32_NoMemcpy\n[       OK ] RollOpTest.ZeroSize_ThreeD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.OneSize_ThreeD32\n[       OK ] RollOpTest.OneSize_ThreeD32 (1 ms)\n[ RUN      ] RollOpTest.OneSize_ThreeD32_NoMemcpy\n[       OK ] RollOpTest.OneSize_ThreeD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.DuplicateShifts_TwoD32\n[       OK ] RollOpTest.DuplicateShifts_TwoD32 (0 ms)\n[ RUN      ] RollOpTest.DuplicateShifts_TwoD32_NoMemcpy\n[       OK ] RollOpTest.DuplicateShifts_TwoD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.Error_InputMustBeVectorOrHigher\n[       OK ] RollOpTest.Error_InputMustBeVectorOrHigher (0 ms)\n[ RUN      ] RollOpTest.Error_AxisMustBeScalarOrVector\n[       OK ] RollOpTest.Error_AxisMustBeScalarOrVector (0 ms)\n[ RUN      ] RollOpTest.Error_ShiftMustBeScalarOrVector\n[       OK ] RollOpTest.Error_ShiftMustBeScalarOrVector (0 ms)\n[ RUN      ] RollOpTest.Error_ShiftAndAxisMustBeSameSize\n[       OK ] RollOpTest.Error_ShiftAndAxisMustBeSameSize (0 ms)\n[ RUN      ] RollOpTest.Error_AxisOutOfRange\n[       OK ] RollOpTest.Error_AxisOutOfRange (0 ms)\n[----------] 24 tests from RollOpTest (7 ms total)\n\n[----------] Global test environment tear-down\n[==========] 24 tests from 1 test case ran. (8 ms total)\n[  PASSED  ] 24 tests.\n</code></pre>\n<pre><code>//tensorflow/python/kernel_tests:manip_ops_test                          PASSED in 0.9s\n</code></pre>\n<h3>Benchmarks:</h3>\n<pre><code>Running main() from test_main.cc\nBenchmark                     Time(ns) Iterations\n-------------------------------------------------\nBM_cpu_roll_outer/256/256        46739      16065\t 5608.7MB/s 1402.2M items/s\nBM_cpu_roll_outer/512/512       124247       5135\t 8439.5MB/s 2109.9M items/s\nBM_cpu_roll_outer/1024/1024     638245       1149\t 6571.6MB/s 1642.9M items/s\nBM_cpu_roll_outer/2048/2048    5261260        100\t 3188.8MB/s 797.2M items/s\nBM_cpu_roll_all/256/256         135631       5353\t 1932.8MB/s 483.2M items/s\nBM_cpu_roll_all/512/512         286927       2263\t 3654.5MB/s 913.6M items/s\nBM_cpu_roll_all/1024/1024       981417        727\t 4273.7MB/s 1068.4M items/s\nBM_cpu_roll_all/2048/2048      4549074        149\t 3688.1MB/s 922.0M items/s\n</code></pre>\n<p>I had made a pull request for this before but accidentally closed it</p>", "body_text": "Closes #10761\nAdded a tf.manip.roll op that works similarly to numpy's np.roll. This was a feature requested in #10761 and was marked as contributions welcome.\nUsage:\nRolls the elements of a tensor by the offsets of shift along the dimensions\nof axis. Elements that roll passed the last position will wrap around\nto the first.\nFor example:\n# 't' is [0, 1, 2, 3, 4]\nroll(t, shift=2, axis=0) ==> [3, 4, 0, 1, 2]\n# shifting along multiple dimensions\n# 't' is [[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]]\nroll(t, shift=[1, -2], axis=[0, 1]) ==> [[7, 8, 9, 5, 6], [2, 3, 4, 0, 1]]\n# shifting along the same axis multiple times\n# 't' is [[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]]\nroll(t, shift=[2, -3], axis=[1, 1]) ==> [[1, 2, 3, 4, 0], [6, 7, 8, 9, 5]]\n\nshift: shift[i] specifies the number of places by which elements are shifted\nalong the dimension specified by axis[i]. Negative shifts will roll the\nelements in the opposite direction.\naxis: axis[i] specifies the dimension that the shift shift[i] should occur.\nif the same axis is referenced more than once, the total shift for that axis\nwill be the sum of all the shifts that belong to that axis.\noutput: Has the same shape and size as the input. The elements are shifted by\nthe offsets of shift along the dimensions of axis.\nUnit tests:\n[==========] Running 24 tests from 1 test case.\n[----------] Global test environment set-up.\n[----------] 24 tests from RollOpTest\n[ RUN      ] RollOpTest.ScalarIndices\n[       OK ] RollOpTest.ScalarIndices (5 ms)\n[ RUN      ] RollOpTest.ScalarIndices_NoMemcpy\n[       OK ] RollOpTest.ScalarIndices_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.ScalarIndices_Complex\n[       OK ] RollOpTest.ScalarIndices_Complex (0 ms)\n[ RUN      ] RollOpTest.Simple_TwoD32\n[       OK ] RollOpTest.Simple_TwoD32 (0 ms)\n[ RUN      ] RollOpTest.Simple_TwoD32_NoMemcpy\n[       OK ] RollOpTest.Simple_TwoD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.Simple_ThreeD32\n[       OK ] RollOpTest.Simple_ThreeD32 (1 ms)\n[ RUN      ] RollOpTest.Simple_ThreeD32_NoMemcpy\n[       OK ] RollOpTest.Simple_ThreeD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.Simple_TwoD64\n[       OK ] RollOpTest.Simple_TwoD64 (0 ms)\n[ RUN      ] RollOpTest.Simple_TwoD64_NoMemcpy\n[       OK ] RollOpTest.Simple_TwoD64_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.Simple_ThreeD64\n[       OK ] RollOpTest.Simple_ThreeD64 (0 ms)\n[ RUN      ] RollOpTest.Simple_ThreeD64_NoMemcpy\n[       OK ] RollOpTest.Simple_ThreeD64_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.ZeroShift_ThreeD32\n[       OK ] RollOpTest.ZeroShift_ThreeD32 (0 ms)\n[ RUN      ] RollOpTest.ZeroShift_ThreeD32_NoMemcpy\n[       OK ] RollOpTest.ZeroShift_ThreeD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.ZeroSize_ThreeD32\n[       OK ] RollOpTest.ZeroSize_ThreeD32 (0 ms)\n[ RUN      ] RollOpTest.ZeroSize_ThreeD32_NoMemcpy\n[       OK ] RollOpTest.ZeroSize_ThreeD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.OneSize_ThreeD32\n[       OK ] RollOpTest.OneSize_ThreeD32 (1 ms)\n[ RUN      ] RollOpTest.OneSize_ThreeD32_NoMemcpy\n[       OK ] RollOpTest.OneSize_ThreeD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.DuplicateShifts_TwoD32\n[       OK ] RollOpTest.DuplicateShifts_TwoD32 (0 ms)\n[ RUN      ] RollOpTest.DuplicateShifts_TwoD32_NoMemcpy\n[       OK ] RollOpTest.DuplicateShifts_TwoD32_NoMemcpy (0 ms)\n[ RUN      ] RollOpTest.Error_InputMustBeVectorOrHigher\n[       OK ] RollOpTest.Error_InputMustBeVectorOrHigher (0 ms)\n[ RUN      ] RollOpTest.Error_AxisMustBeScalarOrVector\n[       OK ] RollOpTest.Error_AxisMustBeScalarOrVector (0 ms)\n[ RUN      ] RollOpTest.Error_ShiftMustBeScalarOrVector\n[       OK ] RollOpTest.Error_ShiftMustBeScalarOrVector (0 ms)\n[ RUN      ] RollOpTest.Error_ShiftAndAxisMustBeSameSize\n[       OK ] RollOpTest.Error_ShiftAndAxisMustBeSameSize (0 ms)\n[ RUN      ] RollOpTest.Error_AxisOutOfRange\n[       OK ] RollOpTest.Error_AxisOutOfRange (0 ms)\n[----------] 24 tests from RollOpTest (7 ms total)\n\n[----------] Global test environment tear-down\n[==========] 24 tests from 1 test case ran. (8 ms total)\n[  PASSED  ] 24 tests.\n\n//tensorflow/python/kernel_tests:manip_ops_test                          PASSED in 0.9s\n\nBenchmarks:\nRunning main() from test_main.cc\nBenchmark                     Time(ns) Iterations\n-------------------------------------------------\nBM_cpu_roll_outer/256/256        46739      16065\t 5608.7MB/s 1402.2M items/s\nBM_cpu_roll_outer/512/512       124247       5135\t 8439.5MB/s 2109.9M items/s\nBM_cpu_roll_outer/1024/1024     638245       1149\t 6571.6MB/s 1642.9M items/s\nBM_cpu_roll_outer/2048/2048    5261260        100\t 3188.8MB/s 797.2M items/s\nBM_cpu_roll_all/256/256         135631       5353\t 1932.8MB/s 483.2M items/s\nBM_cpu_roll_all/512/512         286927       2263\t 3654.5MB/s 913.6M items/s\nBM_cpu_roll_all/1024/1024       981417        727\t 4273.7MB/s 1068.4M items/s\nBM_cpu_roll_all/2048/2048      4549074        149\t 3688.1MB/s 922.0M items/s\n\nI had made a pull request for this before but accidentally closed it", "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "comments": 7, "review_comments": 31, "maintainer_can_modify": false, "commits": 36, "additions": 1237, "deletions": 1, "changed_files": 22}