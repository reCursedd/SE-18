{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/243061539", "html_url": "https://github.com/tensorflow/tensorflow/issues/3545#issuecomment-243061539", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3545", "id": 243061539, "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzA2MTUzOQ==", "user": {"login": "npanpaliya", "id": 14196089, "node_id": "MDQ6VXNlcjE0MTk2MDg5", "avatar_url": "https://avatars3.githubusercontent.com/u/14196089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/npanpaliya", "html_url": "https://github.com/npanpaliya", "followers_url": "https://api.github.com/users/npanpaliya/followers", "following_url": "https://api.github.com/users/npanpaliya/following{/other_user}", "gists_url": "https://api.github.com/users/npanpaliya/gists{/gist_id}", "starred_url": "https://api.github.com/users/npanpaliya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/npanpaliya/subscriptions", "organizations_url": "https://api.github.com/users/npanpaliya/orgs", "repos_url": "https://api.github.com/users/npanpaliya/repos", "events_url": "https://api.github.com/users/npanpaliya/events{/privacy}", "received_events_url": "https://api.github.com/users/npanpaliya/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-29T08:19:57Z", "updated_at": "2016-08-29T08:19:57Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=17578177\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/cwhipkey\">@cwhipkey</a> , we tested the recent commit referred by you. With macro change from <strong>linux to __linux</strong>, that recent commit worked well. We see better performance with this commit which is equally comparable with what we got using physical core size. Hence, for power, what we need is</p>\n<ol>\n<li>Changing <strong>linux to __linux</strong> in port.cc where we call get_schedaffinity so that the function is called even on power</li>\n<li>This recent commit that reduces the amount of thread switching in GPU mode.</li>\n</ol>\n<p>Thanks for making the 1st change in the repo and fixing the 2nd one. We can close the issue now.</p>", "body_text": "@cwhipkey , we tested the recent commit referred by you. With macro change from linux to __linux, that recent commit worked well. We see better performance with this commit which is equally comparable with what we got using physical core size. Hence, for power, what we need is\n\nChanging linux to __linux in port.cc where we call get_schedaffinity so that the function is called even on power\nThis recent commit that reduces the amount of thread switching in GPU mode.\n\nThanks for making the 1st change in the repo and fixing the 2nd one. We can close the issue now.", "body": "@cwhipkey , we tested the recent commit referred by you. With macro change from **linux to __linux**, that recent commit worked well. We see better performance with this commit which is equally comparable with what we got using physical core size. Hence, for power, what we need is \n1. Changing **linux to __linux** in port.cc where we call get_schedaffinity so that the function is called even on power\n2. This recent commit that reduces the amount of thread switching in GPU mode.\n\nThanks for making the 1st change in the repo and fixing the 2nd one. We can close the issue now.\n"}