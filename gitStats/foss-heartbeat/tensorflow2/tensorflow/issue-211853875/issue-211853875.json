{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8073", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8073/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8073/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8073/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8073", "id": 211853875, "node_id": "MDU6SXNzdWUyMTE4NTM4NzU=", "number": 8073, "title": "Invalid value with \"sigmoid_cross_entropy_with_logits\"", "user": {"login": "genk1", "id": 8629766, "node_id": "MDQ6VXNlcjg2Mjk3NjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/8629766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/genk1", "html_url": "https://github.com/genk1", "followers_url": "https://api.github.com/users/genk1/followers", "following_url": "https://api.github.com/users/genk1/following{/other_user}", "gists_url": "https://api.github.com/users/genk1/gists{/gist_id}", "starred_url": "https://api.github.com/users/genk1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/genk1/subscriptions", "organizations_url": "https://api.github.com/users/genk1/orgs", "repos_url": "https://api.github.com/users/genk1/repos", "events_url": "https://api.github.com/users/genk1/events{/privacy}", "received_events_url": "https://api.github.com/users/genk1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-04T04:22:15Z", "updated_at": "2017-03-04T05:31:43Z", "closed_at": "2017-03-04T05:31:43Z", "author_association": "NONE", "body_html": "<h2>Hello, I started learning tensorflow and trying to solve a lot of sample program and lessons,<br>\nThen I faced the problem with \"sigmoid_cross_entropy_with_logits\" methods,<br>\nI attached the error &amp; code which I used.<br>\nPlease help me to figure out this,,, Thank you very much in advance.</h2>\n<p>import numpy as np<br>\nimport matplotlib.pyplot as plt<br>\nimport tensorflow as tf</p>\n<p>#placeholders of input &amp; output<br>\nx = tf.placeholder(tf.float32, shape=(None,2), name=\"x\")<br>\ny_ = tf.placeholder(tf.float32, shape=(None,1), name=\"y\")</p>\n<p>#model parameter<br>\na = tf.Variable(-10 * tf.ones((2,1)), name=\"a\")<br>\nb = tf.Variable(200., name=\"b\")</p>\n<p>#model function<br>\nu = tf.matmul(x, a) + b<br>\ny = tf.sigmoid(u)</p>\n<p>loss = tf.reduce_mean(tf.nn.sigmoid_cross_entropy_with_logits(u, y_))</p>\n<p>train_step = tf.train.GradientDescentOptimizer(0.1).minimize(loss)</p>\n<p>train_x = np.array([[2.,3.], [0., 16.], [3., 1.][2., 8.]])<br>\ntrain_y = np.array([1.,1.,0.,0.]).reshape(4,1)<br>\nprint(\"x=\", train_x)<br>\nprint(\"y=\", train_y)</p>\n<p>sess = tf.Session()<br>\ninit = tf.global_variables_initializer()<br>\nsess.run(init)</p>\n<p>for i in range(1000):<br>\n<em>, l, a</em>, b_ = sess.run([train_step, loss, a, b], feed_dict={x:train_x, y:train_y})<br>\nif (i+1) % 100 == 0:<br>\nprint(\"Step=%3d, a1=%6.2f, a2=%6.2f, b=%6.2f, loss=%.2f\" % (i+1, a_[0], a_[1], b_, l))</p>\n<h2>est_a, est_b = sess.run([a, b], feed_dict={x: train_x, y_: train_y})<br>\nprint(\"Estimated: a1=%6.2f, a2=%6.2f, b=%6.2f\" % (est_a[0], est_a[1], est_b))</h2>\n<p>ValueError                                Traceback (most recent call last)<br>\n in ()<br>\n15 y = tf.sigmoid(u)<br>\n16<br>\n---&gt; 17 loss = tf.reduce_mean(tf.nn.sigmoid_cross_entropy_with_logits(u, y_))<br>\n18<br>\n19 train_step = tf.train.GradientDescentOptimizer(0.1).minimize(loss)</p>\n<p>/Users/GenkiA/.pyenv/versions/3.5.2/lib/python3.5/site-packages/tensorflow/python/ops/nn_impl.py in sigmoid_cross_entropy_with_logits(_sentinel, labels, logits, name)<br>\n144   # pylint: disable=protected-access<br>\n145   nn_ops._ensure_xent_args(\"sigmoid_cross_entropy_with_logits\",<br>\n--&gt; 146                            _sentinel, labels, logits)<br>\n147   # pylint: enable=protected-access<br>\n148</p>\n<p>/Users/GenkiA/.pyenv/versions/3.5.2/lib/python3.5/site-packages/tensorflow/python/ops/nn_ops.py in _ensure_xent_args(name, sentinel, labels, logits)<br>\n1531   if sentinel is not None:<br>\n1532     raise ValueError(\"Only call <code>%s</code> with \"<br>\n-&gt; 1533                      \"named arguments (labels=..., logits=..., ...)\" % name)<br>\n1534   if labels is None or logits is None:<br>\n1535     raise ValueError(\"Both labels and logits must be provided.\")</p>\n<p>ValueError: Only call <code>sigmoid_cross_entropy_with_logits</code> with named arguments (labels=..., logits=..., ...)</p>", "body_text": "Hello, I started learning tensorflow and trying to solve a lot of sample program and lessons,\nThen I faced the problem with \"sigmoid_cross_entropy_with_logits\" methods,\nI attached the error & code which I used.\nPlease help me to figure out this,,, Thank you very much in advance.\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport tensorflow as tf\n#placeholders of input & output\nx = tf.placeholder(tf.float32, shape=(None,2), name=\"x\")\ny_ = tf.placeholder(tf.float32, shape=(None,1), name=\"y\")\n#model parameter\na = tf.Variable(-10 * tf.ones((2,1)), name=\"a\")\nb = tf.Variable(200., name=\"b\")\n#model function\nu = tf.matmul(x, a) + b\ny = tf.sigmoid(u)\nloss = tf.reduce_mean(tf.nn.sigmoid_cross_entropy_with_logits(u, y_))\ntrain_step = tf.train.GradientDescentOptimizer(0.1).minimize(loss)\ntrain_x = np.array([[2.,3.], [0., 16.], [3., 1.][2., 8.]])\ntrain_y = np.array([1.,1.,0.,0.]).reshape(4,1)\nprint(\"x=\", train_x)\nprint(\"y=\", train_y)\nsess = tf.Session()\ninit = tf.global_variables_initializer()\nsess.run(init)\nfor i in range(1000):\n, l, a, b_ = sess.run([train_step, loss, a, b], feed_dict={x:train_x, y:train_y})\nif (i+1) % 100 == 0:\nprint(\"Step=%3d, a1=%6.2f, a2=%6.2f, b=%6.2f, loss=%.2f\" % (i+1, a_[0], a_[1], b_, l))\nest_a, est_b = sess.run([a, b], feed_dict={x: train_x, y_: train_y})\nprint(\"Estimated: a1=%6.2f, a2=%6.2f, b=%6.2f\" % (est_a[0], est_a[1], est_b))\nValueError                                Traceback (most recent call last)\n in ()\n15 y = tf.sigmoid(u)\n16\n---> 17 loss = tf.reduce_mean(tf.nn.sigmoid_cross_entropy_with_logits(u, y_))\n18\n19 train_step = tf.train.GradientDescentOptimizer(0.1).minimize(loss)\n/Users/GenkiA/.pyenv/versions/3.5.2/lib/python3.5/site-packages/tensorflow/python/ops/nn_impl.py in sigmoid_cross_entropy_with_logits(_sentinel, labels, logits, name)\n144   # pylint: disable=protected-access\n145   nn_ops._ensure_xent_args(\"sigmoid_cross_entropy_with_logits\",\n--> 146                            _sentinel, labels, logits)\n147   # pylint: enable=protected-access\n148\n/Users/GenkiA/.pyenv/versions/3.5.2/lib/python3.5/site-packages/tensorflow/python/ops/nn_ops.py in _ensure_xent_args(name, sentinel, labels, logits)\n1531   if sentinel is not None:\n1532     raise ValueError(\"Only call %s with \"\n-> 1533                      \"named arguments (labels=..., logits=..., ...)\" % name)\n1534   if labels is None or logits is None:\n1535     raise ValueError(\"Both labels and logits must be provided.\")\nValueError: Only call sigmoid_cross_entropy_with_logits with named arguments (labels=..., logits=..., ...)", "body": "Hello, I started learning tensorflow and trying to solve a lot of sample program and lessons, \r\nThen I faced the problem with \"sigmoid_cross_entropy_with_logits\" methods,\r\nI attached the error & code which I used.\r\nPlease help me to figure out this,,, Thank you very much in advance.\r\n--------\r\nimport numpy as np\r\nimport matplotlib.pyplot as plt\r\nimport tensorflow as tf\r\n\r\n#placeholders of input & output\r\nx = tf.placeholder(tf.float32, shape=(None,2), name=\"x\")\r\ny_ = tf.placeholder(tf.float32, shape=(None,1), name=\"y\")\r\n\r\n#model parameter\r\na = tf.Variable(-10 * tf.ones((2,1)), name=\"a\")\r\nb = tf.Variable(200., name=\"b\")\r\n\r\n#model function\r\nu = tf.matmul(x, a) + b\r\ny = tf.sigmoid(u)\r\n\r\nloss = tf.reduce_mean(tf.nn.sigmoid_cross_entropy_with_logits(u, y_))\r\n\r\ntrain_step = tf.train.GradientDescentOptimizer(0.1).minimize(loss)\r\n\r\ntrain_x = np.array([[2.,3.], [0., 16.], [3., 1.][2., 8.]])\r\ntrain_y = np.array([1.,1.,0.,0.]).reshape(4,1)\r\nprint(\"x=\", train_x)\r\nprint(\"y=\", train_y)\r\n\r\nsess = tf.Session()\r\ninit = tf.global_variables_initializer()\r\nsess.run(init)\r\n\r\nfor i in range(1000):\r\n    _, l, a_, b_ = sess.run([train_step, loss, a, b], feed_dict={x:train_x, y:train_y})\r\n    if (i+1) % 100 == 0:\r\n        print(\"Step=%3d, a1=%6.2f, a2=%6.2f, b=%6.2f, loss=%.2f\" % (i+1, a_[0], a_[1], b_, l))\r\n\r\n        \r\nest_a, est_b = sess.run([a, b], feed_dict={x: train_x, y_: train_y})\r\nprint(\"Estimated: a1=%6.2f, a2=%6.2f, b=%6.2f\" % (est_a[0], est_a[1], est_b))\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-4-2a36f4933eac> in <module>()\r\n     15 y = tf.sigmoid(u)\r\n     16 \r\n---> 17 loss = tf.reduce_mean(tf.nn.sigmoid_cross_entropy_with_logits(u, y_))\r\n     18 \r\n     19 train_step = tf.train.GradientDescentOptimizer(0.1).minimize(loss)\r\n\r\n/Users/GenkiA/.pyenv/versions/3.5.2/lib/python3.5/site-packages/tensorflow/python/ops/nn_impl.py in sigmoid_cross_entropy_with_logits(_sentinel, labels, logits, name)\r\n    144   # pylint: disable=protected-access\r\n    145   nn_ops._ensure_xent_args(\"sigmoid_cross_entropy_with_logits\",\r\n--> 146                            _sentinel, labels, logits)\r\n    147   # pylint: enable=protected-access\r\n    148 \r\n\r\n/Users/GenkiA/.pyenv/versions/3.5.2/lib/python3.5/site-packages/tensorflow/python/ops/nn_ops.py in _ensure_xent_args(name, sentinel, labels, logits)\r\n   1531   if sentinel is not None:\r\n   1532     raise ValueError(\"Only call `%s` with \"\r\n-> 1533                      \"named arguments (labels=..., logits=..., ...)\" % name)\r\n   1534   if labels is None or logits is None:\r\n   1535     raise ValueError(\"Both labels and logits must be provided.\")\r\n\r\nValueError: Only call `sigmoid_cross_entropy_with_logits` with named arguments (labels=..., logits=..., ...)"}