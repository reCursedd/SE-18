{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/409664798", "html_url": "https://github.com/tensorflow/tensorflow/issues/20739#issuecomment-409664798", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20739", "id": 409664798, "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTY2NDc5OA==", "user": {"login": "raghuraman-k", "id": 34699873, "node_id": "MDQ6VXNlcjM0Njk5ODcz", "avatar_url": "https://avatars2.githubusercontent.com/u/34699873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raghuraman-k", "html_url": "https://github.com/raghuraman-k", "followers_url": "https://api.github.com/users/raghuraman-k/followers", "following_url": "https://api.github.com/users/raghuraman-k/following{/other_user}", "gists_url": "https://api.github.com/users/raghuraman-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/raghuraman-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raghuraman-k/subscriptions", "organizations_url": "https://api.github.com/users/raghuraman-k/orgs", "repos_url": "https://api.github.com/users/raghuraman-k/repos", "events_url": "https://api.github.com/users/raghuraman-k/events{/privacy}", "received_events_url": "https://api.github.com/users/raghuraman-k/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-01T17:56:32Z", "updated_at": "2018-08-01T17:56:32Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Good points, The latest version of TOCO should have this issue fixed. There was an error in the way NarrowRange was interpreted in toco, but things should be consistent with this  <a href=\"https://github.com/tensorflow/tensorflow/commit/9ba6943a1dbbc415b72835517ad58808ca6a6a3d#diff-3d2a7c9d6afe08caa50425e7cb9d234e\">submission</a>.</p>\n<p>Your points regarding calculating min/max values using the eval graph is valid. However, this can be done only for the case of quantization post training. We have a tool in the works that does this and will update when it is ready.  Please note that eval_graph does not use fixed fake quantization. The values used are the ones that were learnt during training.</p>\n<p>So far we havent observed any difference in accuracy due to quantizing biases to int32 and therefore did not implement support for quantized biases. Can you provide an example where the difference is noticeable?</p>", "body_text": "Good points, The latest version of TOCO should have this issue fixed. There was an error in the way NarrowRange was interpreted in toco, but things should be consistent with this  submission.\nYour points regarding calculating min/max values using the eval graph is valid. However, this can be done only for the case of quantization post training. We have a tool in the works that does this and will update when it is ready.  Please note that eval_graph does not use fixed fake quantization. The values used are the ones that were learnt during training.\nSo far we havent observed any difference in accuracy due to quantizing biases to int32 and therefore did not implement support for quantized biases. Can you provide an example where the difference is noticeable?", "body": "Good points, The latest version of TOCO should have this issue fixed. There was an error in the way NarrowRange was interpreted in toco, but things should be consistent with this  [submission](https://github.com/tensorflow/tensorflow/commit/9ba6943a1dbbc415b72835517ad58808ca6a6a3d#diff-3d2a7c9d6afe08caa50425e7cb9d234e). \r\n\r\nYour points regarding calculating min/max values using the eval graph is valid. However, this can be done only for the case of quantization post training. We have a tool in the works that does this and will update when it is ready.  Please note that eval_graph does not use fixed fake quantization. The values used are the ones that were learnt during training.  \r\n\r\nSo far we havent observed any difference in accuracy due to quantizing biases to int32 and therefore did not implement support for quantized biases. Can you provide an example where the difference is noticeable?\r\n"}