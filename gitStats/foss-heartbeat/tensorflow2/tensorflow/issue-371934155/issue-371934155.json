{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23102", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23102/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23102/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23102/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23102", "id": 371934155, "node_id": "MDU6SXNzdWUzNzE5MzQxNTU=", "number": 23102, "title": "compile from source fails", "user": {"login": "C0NTRIBUTE", "id": 39023769, "node_id": "MDQ6VXNlcjM5MDIzNzY5", "avatar_url": "https://avatars2.githubusercontent.com/u/39023769?v=4", "gravatar_id": "", "url": "https://api.github.com/users/C0NTRIBUTE", "html_url": "https://github.com/C0NTRIBUTE", "followers_url": "https://api.github.com/users/C0NTRIBUTE/followers", "following_url": "https://api.github.com/users/C0NTRIBUTE/following{/other_user}", "gists_url": "https://api.github.com/users/C0NTRIBUTE/gists{/gist_id}", "starred_url": "https://api.github.com/users/C0NTRIBUTE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/C0NTRIBUTE/subscriptions", "organizations_url": "https://api.github.com/users/C0NTRIBUTE/orgs", "repos_url": "https://api.github.com/users/C0NTRIBUTE/repos", "events_url": "https://api.github.com/users/C0NTRIBUTE/events{/privacy}", "received_events_url": "https://api.github.com/users/C0NTRIBUTE/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-10-19T12:20:40Z", "updated_at": "2018-11-10T17:40:13Z", "closed_at": "2018-11-10T17:40:13Z", "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>Ubuntu 18.04</li>\n<li>From source / r1.12</li>\n<li>TensorFlow version:</li>\n<li>Python 3.6.6</li>\n<li>Inside virtualenv</li>\n<li>Bazel 0.18.0</li>\n<li>gcc 6.4.0</li>\n<li>Cuda 9 / Cudnn 7</li>\n</ul>\n<p><strong>The problem</strong><br>\nBuilding from source, I end up with:</p>\n<pre><code>ERROR: /home/dev/tensorflow/tensorflow/core/BUILD:319:1: undeclared inclusion(s) in rule '//tensorflow/core:platform_base':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/platform/env_time.cc':\n  '/usr/lib/gcc/x86_64-linux-gnu/6/include/stdint.h'\n  '/usr/lib/gcc/x86_64-linux-gnu/6/include/stddef.h'\n  '/usr/lib/gcc/x86_64-linux-gnu/6/include/stdarg.h'\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 0.460s, Critical Path: 0.26s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully\n</code></pre>\n<p>This is when I run:</p>\n<p><code>bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</code></p>\n<p>Also note that if I repeat the command several times, I don't always get the same error message. After I do <code>bazel clean</code> I get:</p>\n<pre><code>ERROR: /home/.cache/bazel/_bazel_nnnnn/75c0d842b4eca8fbdb48dc37e31275de/external/protobuf_archive/BUILD:659:1: C++ compilation of rule '@protobuf_archive//:python/google/protobuf/pyext/_message.so' failed (Exit 1)\nIn file included from external/protobuf_archive/python/google/protobuf/pyext/map_container.cc:33:0:\nexternal/protobuf_archive/python/google/protobuf/pyext/map_container.h:34:20: fatal error: Python.h: No such file or directory\n #include &lt;Python.h&gt;\n                    ^\ncompilation terminated.\n\n</code></pre>", "body_text": "System information\n\nUbuntu 18.04\nFrom source / r1.12\nTensorFlow version:\nPython 3.6.6\nInside virtualenv\nBazel 0.18.0\ngcc 6.4.0\nCuda 9 / Cudnn 7\n\nThe problem\nBuilding from source, I end up with:\nERROR: /home/dev/tensorflow/tensorflow/core/BUILD:319:1: undeclared inclusion(s) in rule '//tensorflow/core:platform_base':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/platform/env_time.cc':\n  '/usr/lib/gcc/x86_64-linux-gnu/6/include/stdint.h'\n  '/usr/lib/gcc/x86_64-linux-gnu/6/include/stddef.h'\n  '/usr/lib/gcc/x86_64-linux-gnu/6/include/stdarg.h'\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 0.460s, Critical Path: 0.26s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully\n\nThis is when I run:\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nAlso note that if I repeat the command several times, I don't always get the same error message. After I do bazel clean I get:\nERROR: /home/.cache/bazel/_bazel_nnnnn/75c0d842b4eca8fbdb48dc37e31275de/external/protobuf_archive/BUILD:659:1: C++ compilation of rule '@protobuf_archive//:python/google/protobuf/pyext/_message.so' failed (Exit 1)\nIn file included from external/protobuf_archive/python/google/protobuf/pyext/map_container.cc:33:0:\nexternal/protobuf_archive/python/google/protobuf/pyext/map_container.h:34:20: fatal error: Python.h: No such file or directory\n #include <Python.h>\n                    ^\ncompilation terminated.", "body": "**System information**\r\n- Ubuntu 18.04\r\n- From source / r1.12\r\n- TensorFlow version:\r\n- Python 3.6.6\r\n- Inside virtualenv\r\n- Bazel 0.18.0\r\n- gcc 6.4.0\r\n- Cuda 9 / Cudnn 7\r\n\r\n**The problem**\r\nBuilding from source, I end up with: \r\n\r\n```\r\nERROR: /home/dev/tensorflow/tensorflow/core/BUILD:319:1: undeclared inclusion(s) in rule '//tensorflow/core:platform_base':\r\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/platform/env_time.cc':\r\n  '/usr/lib/gcc/x86_64-linux-gnu/6/include/stdint.h'\r\n  '/usr/lib/gcc/x86_64-linux-gnu/6/include/stddef.h'\r\n  '/usr/lib/gcc/x86_64-linux-gnu/6/include/stdarg.h'\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 0.460s, Critical Path: 0.26s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully\r\n```\r\nThis is when I run: \r\n\r\n`bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package`\r\n\r\nAlso note that if I repeat the command several times, I don't always get the same error message. After I do `bazel clean` I get: \r\n\r\n```\r\nERROR: /home/.cache/bazel/_bazel_nnnnn/75c0d842b4eca8fbdb48dc37e31275de/external/protobuf_archive/BUILD:659:1: C++ compilation of rule '@protobuf_archive//:python/google/protobuf/pyext/_message.so' failed (Exit 1)\r\nIn file included from external/protobuf_archive/python/google/protobuf/pyext/map_container.cc:33:0:\r\nexternal/protobuf_archive/python/google/protobuf/pyext/map_container.h:34:20: fatal error: Python.h: No such file or directory\r\n #include <Python.h>\r\n                    ^\r\ncompilation terminated.\r\n\r\n```\r\n"}