{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15151", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15151/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15151/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15151/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15151", "id": 279716693, "node_id": "MDU6SXNzdWUyNzk3MTY2OTM=", "number": 15151, "title": " model.fit crash ( keras example mnist) TensorFlow1.4", "user": {"login": "EVA-wu", "id": 23496226, "node_id": "MDQ6VXNlcjIzNDk2MjI2", "avatar_url": "https://avatars2.githubusercontent.com/u/23496226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EVA-wu", "html_url": "https://github.com/EVA-wu", "followers_url": "https://api.github.com/users/EVA-wu/followers", "following_url": "https://api.github.com/users/EVA-wu/following{/other_user}", "gists_url": "https://api.github.com/users/EVA-wu/gists{/gist_id}", "starred_url": "https://api.github.com/users/EVA-wu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EVA-wu/subscriptions", "organizations_url": "https://api.github.com/users/EVA-wu/orgs", "repos_url": "https://api.github.com/users/EVA-wu/repos", "events_url": "https://api.github.com/users/EVA-wu/events{/privacy}", "received_events_url": "https://api.github.com/users/EVA-wu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-12-06T11:21:26Z", "updated_at": "2017-12-08T01:40:37Z", "closed_at": "2017-12-08T01:40:37Z", "author_association": "NONE", "body_html": "<p>I run example : <a href=\"https://github.com/fchollet/keras/blob/master/examples/mnist_cnn.py\">https://github.com/fchollet/keras/blob/master/examples/mnist_cnn.py</a><br>\nbut it crashed when train, namely model.fit</p>\n<p>The error is :<br>\nAn error ocurred while starting the kernel<br>\n\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructions that thisTensorFlow binary was not compiled to use: AVX AVX2<br>\n\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1030] Found device 0 with properties:<br>\n\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) \u2011&gt; (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:04:00.0, compute capability: 6.1)<br>\ntensorflow\\stream_executor\\cuda\\cuda_dnn.cc:385] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR<br>\ntensorflow\\stream_executor\\cuda\\cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM<br>\n\\tensorflow\\core\\kernels\\conv_ops.cc:667] Check failed: stream\u2011&gt;parent()\u2011&gt;GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo(), &amp;algorithms)</p>\n<p>And I run another example it crashed too when run at  model.fit, but the error is not the same:<br>\nAn error ocurred while starting the kernel<br>\n\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) \u2011&gt; (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:04:00.0, compute capability: 6.1)<br>\n\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:385] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR<br>\ntensorflow\\stream_executor\\cuda\\cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM<br>\n\\tensorflow\\core\\kernels\\conv_ops.cc:667] Check failed: stream\u2011&gt;parent()\u2011&gt;GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo(), &amp;algorithms)</p>\n<h1>My environment:</h1>\n<p>win7<br>\ntensorflow-gpu 1.4<br>\ncuda 8.0<br>\ncudnn6.0<br>\nGeForce GTX 1080 Ti</p>\n<p>I really appreciate your help\uff01</p>", "body_text": "I run example : https://github.com/fchollet/keras/blob/master/examples/mnist_cnn.py\nbut it crashed when train, namely model.fit\nThe error is :\nAn error ocurred while starting the kernel\n\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructions that thisTensorFlow binary was not compiled to use: AVX AVX2\n\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1030] Found device 0 with properties:\n\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) \u2011> (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:04:00.0, compute capability: 6.1)\ntensorflow\\stream_executor\\cuda\\cuda_dnn.cc:385] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\ntensorflow\\stream_executor\\cuda\\cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\n\\tensorflow\\core\\kernels\\conv_ops.cc:667] Check failed: stream\u2011>parent()\u2011>GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo(), &algorithms)\nAnd I run another example it crashed too when run at  model.fit, but the error is not the same:\nAn error ocurred while starting the kernel\n\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) \u2011> (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:04:00.0, compute capability: 6.1)\n\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:385] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\ntensorflow\\stream_executor\\cuda\\cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\n\\tensorflow\\core\\kernels\\conv_ops.cc:667] Check failed: stream\u2011>parent()\u2011>GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo(), &algorithms)\nMy environment:\nwin7\ntensorflow-gpu 1.4\ncuda 8.0\ncudnn6.0\nGeForce GTX 1080 Ti\nI really appreciate your help\uff01", "body": " I run example : https://github.com/fchollet/keras/blob/master/examples/mnist_cnn.py\r\nbut it crashed when train, namely model.fit\r\n\r\n\r\nThe error is :\r\nAn error ocurred while starting the kernel\r\n\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructions that thisTensorFlow binary was not compiled to use: AVX AVX2\r\n\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1030] Found device 0 with properties: \r\n\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) \u2011> (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:04:00.0, compute capability: 6.1)\r\ntensorflow\\stream_executor\\cuda\\cuda_dnn.cc:385] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\ntensorflow\\stream_executor\\cuda\\cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\r\n\\tensorflow\\core\\kernels\\conv_ops.cc:667] Check failed: stream\u2011>parent()\u2011>GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo(), &algorithms) \r\n\r\nAnd I run another example it crashed too when run at  model.fit, but the error is not the same:\r\nAn error ocurred while starting the kernel\r\n\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) \u2011> (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:04:00.0, compute capability: 6.1)\r\n \\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:385] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\ntensorflow\\stream_executor\\cuda\\cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\r\n \\tensorflow\\core\\kernels\\conv_ops.cc:667] Check failed: stream\u2011>parent()\u2011>GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo(), &algorithms) \r\n \r\n\r\n# My environment:\r\nwin7\r\ntensorflow-gpu 1.4\r\ncuda 8.0 \r\ncudnn6.0 \r\nGeForce GTX 1080 Ti \r\n\r\nI really appreciate your help\uff01"}