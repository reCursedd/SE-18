{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/387591988", "html_url": "https://github.com/tensorflow/tensorflow/issues/19142#issuecomment-387591988", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19142", "id": 387591988, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzU5MTk4OA==", "user": {"login": "MacwinWin", "id": 2640539, "node_id": "MDQ6VXNlcjI2NDA1Mzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/2640539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MacwinWin", "html_url": "https://github.com/MacwinWin", "followers_url": "https://api.github.com/users/MacwinWin/followers", "following_url": "https://api.github.com/users/MacwinWin/following{/other_user}", "gists_url": "https://api.github.com/users/MacwinWin/gists{/gist_id}", "starred_url": "https://api.github.com/users/MacwinWin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MacwinWin/subscriptions", "organizations_url": "https://api.github.com/users/MacwinWin/orgs", "repos_url": "https://api.github.com/users/MacwinWin/repos", "events_url": "https://api.github.com/users/MacwinWin/events{/privacy}", "received_events_url": "https://api.github.com/users/MacwinWin/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-09T01:29:47Z", "updated_at": "2018-05-09T01:29:47Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=10539540\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/samikama\">@samikama</a> I build the environment follow the instruction below.</p>\n<p><strong>1. Install CUDA 9.0\\CuDNN 7.1.3 from runfile and tar file</strong></p>\n<ul>\n<li>After install CUDA in /usr/local/cuda, add<br>\n<code>export PATH=/usr/local/cuda/bin${PATH:+:${PATH}}</code><br>\n<code>export LD_LIBRARY_PATH=/usr/local/cuda/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}</code><br>\n<code>export CUDA_HOME=/usr/local/cuda</code><br>\nto ~/.bashrc</li>\n<li>Move the target files from extracted cudnn file to /usr/local/cuda, and create soft links.</li>\n</ul>\n<p><strong>2. Install TensorRT from tar file</strong></p>\n<ul>\n<li>Extract the tar file to my home directory, and add<br>\n<code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/micro/TensorRT-4.0.0.3/lib</code><br>\nto ~/.bashrc</li>\n<li>Make the samples, and run well.</li>\n</ul>\n<p><strong>3. Install TensorFlow r1.8.0 from source follow the <a href=\"https://www.tensorflow.org/install/install_sources\" rel=\"nofollow\">official instruction</a></strong></p>\n<ul>\n<li>Bazel version 0.10.1, GCC version 4.8.5</li>\n<li>execution of the configure script<br>\n<code>...</code><br>\n<code>Do you wish to build TensorFlow with CUDA support? [y/N]: y</code><br>\n<code>CUDA support will be enabled for TensorFlow.</code><br>\n<code>Please specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 9.0]: 9.0</code><br>\n<code>Please specify the location where CUDA 9.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: </code><br>\n<code>Please specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7.0]: 7.1</code><br>\n<code>Please specify the location where cuDNN 7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:</code><br>\n<code>Do you wish to build TensorFlow with TensorRT support? [y/N]: y</code><br>\n<code>TensorRT support will be enabled for TensorFlow.</code><br>\n<code>Please specify the location where TensorRT is installed. [Default is /usr/lib/x86_64-linux-gnu]:/home/micro/TensorRT-4.0.0.3</code><br>\n<code>...</code></li>\n</ul>\n<p><strong>I wonder if it is possible that TensorFlow can not find TensorRT. Because when I remove the TensorRT-4.0.0.3 directory, I got the same logs:</strong><br>\n<code>munmap_chunk(): invalid pointer</code><br>\n<code>Aborted (core dumped)</code></p>\n<p>Can anyone help me:)</p>", "body_text": "@samikama I build the environment follow the instruction below.\n1. Install CUDA 9.0\\CuDNN 7.1.3 from runfile and tar file\n\nAfter install CUDA in /usr/local/cuda, add\nexport PATH=/usr/local/cuda/bin${PATH:+:${PATH}}\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}\nexport CUDA_HOME=/usr/local/cuda\nto ~/.bashrc\nMove the target files from extracted cudnn file to /usr/local/cuda, and create soft links.\n\n2. Install TensorRT from tar file\n\nExtract the tar file to my home directory, and add\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/micro/TensorRT-4.0.0.3/lib\nto ~/.bashrc\nMake the samples, and run well.\n\n3. Install TensorFlow r1.8.0 from source follow the official instruction\n\nBazel version 0.10.1, GCC version 4.8.5\nexecution of the configure script\n...\nDo you wish to build TensorFlow with CUDA support? [y/N]: y\nCUDA support will be enabled for TensorFlow.\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 9.0]: 9.0\nPlease specify the location where CUDA 9.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7.0]: 7.1\nPlease specify the location where cuDNN 7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nDo you wish to build TensorFlow with TensorRT support? [y/N]: y\nTensorRT support will be enabled for TensorFlow.\nPlease specify the location where TensorRT is installed. [Default is /usr/lib/x86_64-linux-gnu]:/home/micro/TensorRT-4.0.0.3\n...\n\nI wonder if it is possible that TensorFlow can not find TensorRT. Because when I remove the TensorRT-4.0.0.3 directory, I got the same logs:\nmunmap_chunk(): invalid pointer\nAborted (core dumped)\nCan anyone help me:)", "body": "@samikama I build the environment follow the instruction below.\r\n\r\n **1. Install CUDA 9.0\\CuDNN 7.1.3 from runfile and tar file**\r\n\r\n- After install CUDA in /usr/local/cuda, add \r\n`export PATH=/usr/local/cuda/bin${PATH:+:${PATH}}`\r\n`export LD_LIBRARY_PATH=/usr/local/cuda/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}`\r\n`export CUDA_HOME=/usr/local/cuda`\r\nto ~/.bashrc\r\n- Move the target files from extracted cudnn file to /usr/local/cuda, and create soft links.\r\n\r\n **2. Install TensorRT from tar file**\r\n\r\n- Extract the tar file to my home directory, and add\r\n`export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/micro/TensorRT-4.0.0.3/lib`\r\nto ~/.bashrc\r\n- Make the samples, and run well.\r\n\r\n **3. Install TensorFlow r1.8.0 from source follow the [official instruction](https://www.tensorflow.org/install/install_sources)**\r\n\r\n- Bazel version 0.10.1, GCC version 4.8.5\r\n-  execution of the configure script\r\n`...`\r\n`Do you wish to build TensorFlow with CUDA support? [y/N]: y`\r\n`CUDA support will be enabled for TensorFlow.`\r\n`Please specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 9.0]: 9.0`\r\n`Please specify the location where CUDA 9.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: `\r\n`Please specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7.0]: 7.1`\r\n`Please specify the location where cuDNN 7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:`\r\n`Do you wish to build TensorFlow with TensorRT support? [y/N]: y`\r\n`TensorRT support will be enabled for TensorFlow.`\r\n`Please specify the location where TensorRT is installed. [Default is /usr/lib/x86_64-linux-gnu]:/home/micro/TensorRT-4.0.0.3` \r\n`...`\r\n\r\n**I wonder if it is possible that TensorFlow can not find TensorRT. Because when I remove the TensorRT-4.0.0.3 directory, I got the same logs:**\r\n`munmap_chunk(): invalid pointer`\r\n`Aborted (core dumped)`\r\n\r\nCan anyone help me:)"}