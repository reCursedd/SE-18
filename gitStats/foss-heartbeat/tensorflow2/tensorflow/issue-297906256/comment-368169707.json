{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/368169707", "html_url": "https://github.com/tensorflow/tensorflow/pull/17074#issuecomment-368169707", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17074", "id": 368169707, "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODE2OTcwNw==", "user": {"login": "StanislawAntol", "id": 1846231, "node_id": "MDQ6VXNlcjE4NDYyMzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1846231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StanislawAntol", "html_url": "https://github.com/StanislawAntol", "followers_url": "https://api.github.com/users/StanislawAntol/followers", "following_url": "https://api.github.com/users/StanislawAntol/following{/other_user}", "gists_url": "https://api.github.com/users/StanislawAntol/gists{/gist_id}", "starred_url": "https://api.github.com/users/StanislawAntol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StanislawAntol/subscriptions", "organizations_url": "https://api.github.com/users/StanislawAntol/orgs", "repos_url": "https://api.github.com/users/StanislawAntol/repos", "events_url": "https://api.github.com/users/StanislawAntol/events{/privacy}", "received_events_url": "https://api.github.com/users/StanislawAntol/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-23T23:33:42Z", "updated_at": "2018-02-24T00:39:28Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2533174\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ekelsen\">@ekelsen</a> , I have tried to update it and am currently running the tests, but it seems to be failing to due some other recent changes with <code>make_lstm_tests</code> (i.e., I just tried the same test on the <code>tensorflow/tensorflow</code> master banch):</p>\n<pre><code>Traceback (most recent call last):\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 1950, in &lt;module&gt;\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run\n    _sys.exit(main(argv))\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 1936, in main\n    dispatch[out](_path(out))\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 1839, in make_lstm_tests\n    use_frozen_graph=True)\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 494, in make_zip_of_tests\n    \"Found %d errors while generating toco models\" % toco_errors)\nRuntimeError: Found 1 errors while generating toco models\nTarget //tensorflow/contrib/lite/testing:generated_examples_zip_test failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 366.084s, Critical Path: 92.76s\nFAILED: Build did NOT complete successfully\n\nExecuted 0 out of 1 test: 1 fails to build.\n</code></pre>\n<h2>Edit</h2>\n<p>Buried between a bunch of warning messages, I found the actual error output:</p>\n<pre><code>Warning: cgi.escape is deprecated, use html.escape instead\n  fp.write(\"  &lt;td&gt;%s&lt;/td&gt;\\n\" % cgi.escape(repr(params[p]), quote=True))\n/home/s.antol/.cache/bazel/_bazel_s.antol/3aa07abb655104a7d2d10105ebf2a120/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples_report.py:48: DeprecationWarning: cgi.escape is deprecated, use html.escape instead\n  s = cgi.escape(repr(x), quote=True)\n/home/s.antol/.cache/bazel/_bazel_s.antol/3aa07abb655104a7d2d10105ebf2a120/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples_report.py:48: DeprecationWarning: cgi.escape is deprecated, use html.escape instead\n  s = cgi.escape(repr(x), quote=True)\nERROR: /home/s.antol/tools/tensorflow/tensorflow/contrib/lite/testing/BUILD:16:1: Executing genrule //tensorflow/contrib/lite/testing:optest_lstm.zip.files failed (Exit 1)\nConverted 2 variables to const ops.\n-----------------\ntoco error!\nbazel-out/host/bin/tensorflow/contrib/lite/toco/toco --input_file=/tmp/tmpglb5uq8u --output_file=/tmp/tmpnuxkzqr4  --input_data_types=FLOAT --inference_type=FLOAT --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --input_arrays=split_0 --input_shapes=1,3 --output_arrays=rnn/basic_lstm_cell/Mul_2 --rnn_states='{state_array:rnn/BasicLSTMCellZeroState/zeros,back_edge_source_array:rnn/basic_lstm_cell/Add_1,size:4},{state_array:rnn/BasicLSTMCellZeroState/zeros_1,back_edge_source_array:rnn/basic_lstm_cell/Mul_2,size:4}' &gt; /tmp/tmp5h5b4t7r 2&gt;&amp;1exited with code 34304\n------------------\n./tensorflow/contrib/lite/toco/args.h:170 StringMapList arguments not supported\nAborted (core dumped)\n\n-----------------\n\n/home/s.antol/.cache/bazel/_bazel_s.antol/3aa07abb655104a7d2d10105ebf2a120/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/python/util/tf_inspect.py:45: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() instead\n</code></pre>\n<hr>\n<p>Any suggestions?</p>", "body_text": "@ekelsen , I have tried to update it and am currently running the tests, but it seems to be failing to due some other recent changes with make_lstm_tests (i.e., I just tried the same test on the tensorflow/tensorflow master banch):\nTraceback (most recent call last):\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 1950, in <module>\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run\n    _sys.exit(main(argv))\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 1936, in main\n    dispatch[out](_path(out))\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 1839, in make_lstm_tests\n    use_frozen_graph=True)\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 494, in make_zip_of_tests\n    \"Found %d errors while generating toco models\" % toco_errors)\nRuntimeError: Found 1 errors while generating toco models\nTarget //tensorflow/contrib/lite/testing:generated_examples_zip_test failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 366.084s, Critical Path: 92.76s\nFAILED: Build did NOT complete successfully\n\nExecuted 0 out of 1 test: 1 fails to build.\n\nEdit\nBuried between a bunch of warning messages, I found the actual error output:\nWarning: cgi.escape is deprecated, use html.escape instead\n  fp.write(\"  <td>%s</td>\\n\" % cgi.escape(repr(params[p]), quote=True))\n/home/s.antol/.cache/bazel/_bazel_s.antol/3aa07abb655104a7d2d10105ebf2a120/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples_report.py:48: DeprecationWarning: cgi.escape is deprecated, use html.escape instead\n  s = cgi.escape(repr(x), quote=True)\n/home/s.antol/.cache/bazel/_bazel_s.antol/3aa07abb655104a7d2d10105ebf2a120/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples_report.py:48: DeprecationWarning: cgi.escape is deprecated, use html.escape instead\n  s = cgi.escape(repr(x), quote=True)\nERROR: /home/s.antol/tools/tensorflow/tensorflow/contrib/lite/testing/BUILD:16:1: Executing genrule //tensorflow/contrib/lite/testing:optest_lstm.zip.files failed (Exit 1)\nConverted 2 variables to const ops.\n-----------------\ntoco error!\nbazel-out/host/bin/tensorflow/contrib/lite/toco/toco --input_file=/tmp/tmpglb5uq8u --output_file=/tmp/tmpnuxkzqr4  --input_data_types=FLOAT --inference_type=FLOAT --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --input_arrays=split_0 --input_shapes=1,3 --output_arrays=rnn/basic_lstm_cell/Mul_2 --rnn_states='{state_array:rnn/BasicLSTMCellZeroState/zeros,back_edge_source_array:rnn/basic_lstm_cell/Add_1,size:4},{state_array:rnn/BasicLSTMCellZeroState/zeros_1,back_edge_source_array:rnn/basic_lstm_cell/Mul_2,size:4}' > /tmp/tmp5h5b4t7r 2>&1exited with code 34304\n------------------\n./tensorflow/contrib/lite/toco/args.h:170 StringMapList arguments not supported\nAborted (core dumped)\n\n-----------------\n\n/home/s.antol/.cache/bazel/_bazel_s.antol/3aa07abb655104a7d2d10105ebf2a120/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/python/util/tf_inspect.py:45: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() instead\n\n\nAny suggestions?", "body": "@ekelsen , I have tried to update it and am currently running the tests, but it seems to be failing to due some other recent changes with `make_lstm_tests` (i.e., I just tried the same test on the `tensorflow/tensorflow` master banch):\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 1950, in <module>\r\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run\r\n    _sys.exit(main(argv))\r\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 1936, in main\r\n    dispatch[out](_path(out))\r\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 1839, in make_lstm_tests\r\n    use_frozen_graph=True)\r\n  File \"/home/s.antol/.cache/bazel/_bazel_s.antol/d5f2817d0f58daa7ca384d9ca065c3f9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples.py\", line 494, in make_zip_of_tests\r\n    \"Found %d errors while generating toco models\" % toco_errors)\r\nRuntimeError: Found 1 errors while generating toco models\r\nTarget //tensorflow/contrib/lite/testing:generated_examples_zip_test failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 366.084s, Critical Path: 92.76s\r\nFAILED: Build did NOT complete successfully\r\n\r\nExecuted 0 out of 1 test: 1 fails to build.\r\n```\r\nEdit\r\n---\r\nBuried between a bunch of warning messages, I found the actual error output:\r\n```\r\nWarning: cgi.escape is deprecated, use html.escape instead\r\n  fp.write(\"  <td>%s</td>\\n\" % cgi.escape(repr(params[p]), quote=True))\r\n/home/s.antol/.cache/bazel/_bazel_s.antol/3aa07abb655104a7d2d10105ebf2a120/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples_report.py:48: DeprecationWarning: cgi.escape is deprecated, use html.escape instead\r\n  s = cgi.escape(repr(x), quote=True)\r\n/home/s.antol/.cache/bazel/_bazel_s.antol/3aa07abb655104a7d2d10105ebf2a120/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/contrib/lite/testing/generate_examples_report.py:48: DeprecationWarning: cgi.escape is deprecated, use html.escape instead\r\n  s = cgi.escape(repr(x), quote=True)\r\nERROR: /home/s.antol/tools/tensorflow/tensorflow/contrib/lite/testing/BUILD:16:1: Executing genrule //tensorflow/contrib/lite/testing:optest_lstm.zip.files failed (Exit 1)\r\nConverted 2 variables to const ops.\r\n-----------------\r\ntoco error!\r\nbazel-out/host/bin/tensorflow/contrib/lite/toco/toco --input_file=/tmp/tmpglb5uq8u --output_file=/tmp/tmpnuxkzqr4  --input_data_types=FLOAT --inference_type=FLOAT --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --input_arrays=split_0 --input_shapes=1,3 --output_arrays=rnn/basic_lstm_cell/Mul_2 --rnn_states='{state_array:rnn/BasicLSTMCellZeroState/zeros,back_edge_source_array:rnn/basic_lstm_cell/Add_1,size:4},{state_array:rnn/BasicLSTMCellZeroState/zeros_1,back_edge_source_array:rnn/basic_lstm_cell/Mul_2,size:4}' > /tmp/tmp5h5b4t7r 2>&1exited with code 34304\r\n------------------\r\n./tensorflow/contrib/lite/toco/args.h:170 StringMapList arguments not supported\r\nAborted (core dumped)\r\n\r\n-----------------\r\n\r\n/home/s.antol/.cache/bazel/_bazel_s.antol/3aa07abb655104a7d2d10105ebf2a120/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/contrib/lite/testing/generate_examples.runfiles/org_tensorflow/tensorflow/python/util/tf_inspect.py:45: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() instead\r\n```\r\n---\r\n\r\nAny suggestions?"}