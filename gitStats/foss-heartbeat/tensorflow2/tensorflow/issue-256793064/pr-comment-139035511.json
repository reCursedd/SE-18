{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/139035511", "pull_request_review_id": 62914873, "id": 139035511, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTAzNTUxMQ==", "diff_hunk": "@@ -752,7 +752,8 @@ def assertArrayNear(self, farray1, farray2, err):\n     \"\"\"\n     self.assertEqual(len(farray1), len(farray2))\n     for f1, f2 in zip(farray1, farray2):\n-      self.assertNear(float(f1), float(f2), err)\n+      if float(f1) != float(f2):", "path": "tensorflow/python/framework/test_util.py", "position": null, "original_position": 5, "commit_id": "91af6c5d45059a72aaa9d18eeb5728694743f284", "original_commit_id": "99b427868e6aa76c778509b5cb3fcdc64037c240", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "body": "@drpngx The purpose for checking `f1 == f2` is for the case where `f1, f2 = inf, inf`. `assertNear` used `math.abs(f1-f2)` which will not cover `inf, inf` case. \r\n\r\nI have moved the `f1 == f2` checking to `assertNear` with comments added, so that it is easy to see the intention.", "created_at": "2017-09-14T23:34:11Z", "updated_at": "2017-10-13T02:59:18Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/12976#discussion_r139035511", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12976", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/139035511"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/12976#discussion_r139035511"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12976"}}, "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20959853\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drpngx\">@drpngx</a> The purpose for checking <code>f1 == f2</code> is for the case where <code>f1, f2 = inf, inf</code>. <code>assertNear</code> used <code>math.abs(f1-f2)</code> which will not cover <code>inf, inf</code> case.</p>\n<p>I have moved the <code>f1 == f2</code> checking to <code>assertNear</code> with comments added, so that it is easy to see the intention.</p>", "body_text": "@drpngx The purpose for checking f1 == f2 is for the case where f1, f2 = inf, inf. assertNear used math.abs(f1-f2) which will not cover inf, inf case.\nI have moved the f1 == f2 checking to assertNear with comments added, so that it is easy to see the intention.", "in_reply_to_id": 138204567}