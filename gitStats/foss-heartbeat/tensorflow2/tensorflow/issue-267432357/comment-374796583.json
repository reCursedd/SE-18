{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/374796583", "html_url": "https://github.com/tensorflow/tensorflow/issues/13895#issuecomment-374796583", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13895", "id": 374796583, "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc5NjU4Mw==", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-20T23:53:47Z", "updated_at": "2018-03-20T23:53:47Z", "author_association": "MEMBER", "body_html": "<p>You are correct, the information about the local run behavior for evaluation is missing from the <code>train_and_evaluate</code> docstring (and also from the EvalSpec docstring; <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1184671\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/xiejw\">@xiejw</a> FYI, we should add this).</p>\n<p><code>train_and_evaluate</code> will evaluate every <code>eval_spec.throttle_sec</code> seconds. It will stop after <code>train_spec.max_steps</code>.</p>\n<p>I am still surprised a small model takes long to load (how long is \"forever\"?). Could it be your Python code? I.e. does it also take long before it starts the first iteration, before there is a checkpoint? It will create the graph using its Python code, not load it from the checkpoint, so that can be a source of slowness.</p>", "body_text": "You are correct, the information about the local run behavior for evaluation is missing from the train_and_evaluate docstring (and also from the EvalSpec docstring; @xiejw FYI, we should add this).\ntrain_and_evaluate will evaluate every eval_spec.throttle_sec seconds. It will stop after train_spec.max_steps.\nI am still surprised a small model takes long to load (how long is \"forever\"?). Could it be your Python code? I.e. does it also take long before it starts the first iteration, before there is a checkpoint? It will create the graph using its Python code, not load it from the checkpoint, so that can be a source of slowness.", "body": "You are correct, the information about the local run behavior for evaluation is missing from the `train_and_evaluate` docstring (and also from the EvalSpec docstring; @xiejw FYI, we should add this). \r\n\r\n`train_and_evaluate` will evaluate every `eval_spec.throttle_sec` seconds. It will stop after `train_spec.max_steps`. \r\n\r\nI am still surprised a small model takes long to load (how long is \"forever\"?). Could it be your Python code? I.e. does it also take long before it starts the first iteration, before there is a checkpoint? It will create the graph using its Python code, not load it from the checkpoint, so that can be a source of slowness. \r\n"}