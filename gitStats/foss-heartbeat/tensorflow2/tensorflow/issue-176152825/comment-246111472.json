{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/246111472", "html_url": "https://github.com/tensorflow/tensorflow/issues/4312#issuecomment-246111472", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4312", "id": 246111472, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjExMTQ3Mg==", "user": {"login": "ibab", "id": 890531, "node_id": "MDQ6VXNlcjg5MDUzMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/890531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibab", "html_url": "https://github.com/ibab", "followers_url": "https://api.github.com/users/ibab/followers", "following_url": "https://api.github.com/users/ibab/following{/other_user}", "gists_url": "https://api.github.com/users/ibab/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibab/subscriptions", "organizations_url": "https://api.github.com/users/ibab/orgs", "repos_url": "https://api.github.com/users/ibab/repos", "events_url": "https://api.github.com/users/ibab/events{/privacy}", "received_events_url": "https://api.github.com/users/ibab/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-10T13:21:20Z", "updated_at": "2016-09-10T13:21:20Z", "author_association": "CONTRIBUTOR", "body_html": "<p>You don't need to remove them from the call to <code>load</code> at the top of the file, but instead each time they are used, like this:</p>\n<div class=\"highlight highlight-source-python\"><pre>cc_library(\n    <span class=\"pl-v\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>session_bundle<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-v\">srcs</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>session_bundle.cc<span class=\"pl-pds\">\"</span></span>],\n    <span class=\"pl-v\">hdrs</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>session_bundle.h<span class=\"pl-pds\">\"</span></span>],\n    <span class=\"pl-v\">copts</span> <span class=\"pl-k\">=</span> if_ios([<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-DGOOGLE_LOGGING<span class=\"pl-pds\">\"</span></span>]),\n    <span class=\"pl-v\">visibility</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>//visibility:public<span class=\"pl-pds\">\"</span></span>],\n    <span class=\"pl-v\">deps</span> <span class=\"pl-k\">=</span> [\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>:signature<span class=\"pl-pds\">\"</span></span>,\n    ] <span class=\"pl-k\">+</span> if_not_mobile([\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>:manifest_proto_cc<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>//tensorflow/core:core_cpu<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>//tensorflow/core:framework<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>//tensorflow/core:lib<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>//tensorflow/core:protos_all_cc<span class=\"pl-pds\">\"</span></span>,\n    ]) <span class=\"pl-c\"><span class=\"pl-c\">#</span>+ if_mobile([</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span>    \":manifest_portable_proto\",</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span>    \"//tensorflow/core:meta_graph_portable_proto\",</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span>]) + if_android([</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span>    \"//tensorflow/core:android_lib_lite\",</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span>]) + if_ios([</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span>    \"//tensorflow/core:ios_tensorflow_lib\",</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span>]),</span>\n)</pre></div>", "body_text": "You don't need to remove them from the call to load at the top of the file, but instead each time they are used, like this:\ncc_library(\n    name = \"session_bundle\",\n    srcs = [\"session_bundle.cc\"],\n    hdrs = [\"session_bundle.h\"],\n    copts = if_ios([\"-DGOOGLE_LOGGING\"]),\n    visibility = [\"//visibility:public\"],\n    deps = [\n        \":signature\",\n    ] + if_not_mobile([\n        \":manifest_proto_cc\",\n        \"//tensorflow/core:core_cpu\",\n        \"//tensorflow/core:framework\",\n        \"//tensorflow/core:lib\",\n        \"//tensorflow/core:protos_all_cc\",\n    ]) #+ if_mobile([\n    #    \":manifest_portable_proto\",\n    #    \"//tensorflow/core:meta_graph_portable_proto\",\n    #]) + if_android([\n    #    \"//tensorflow/core:android_lib_lite\",\n    #]) + if_ios([\n    #    \"//tensorflow/core:ios_tensorflow_lib\",\n    #]),\n)", "body": "You don't need to remove them from the call to `load` at the top of the file, but instead each time they are used, like this:\n\n``` python\ncc_library(\n    name = \"session_bundle\",\n    srcs = [\"session_bundle.cc\"],\n    hdrs = [\"session_bundle.h\"],\n    copts = if_ios([\"-DGOOGLE_LOGGING\"]),\n    visibility = [\"//visibility:public\"],\n    deps = [\n        \":signature\",\n    ] + if_not_mobile([\n        \":manifest_proto_cc\",\n        \"//tensorflow/core:core_cpu\",\n        \"//tensorflow/core:framework\",\n        \"//tensorflow/core:lib\",\n        \"//tensorflow/core:protos_all_cc\",\n    ]) #+ if_mobile([\n    #    \":manifest_portable_proto\",\n    #    \"//tensorflow/core:meta_graph_portable_proto\",\n    #]) + if_android([\n    #    \"//tensorflow/core:android_lib_lite\",\n    #]) + if_ios([\n    #    \"//tensorflow/core:ios_tensorflow_lib\",\n    #]),\n)\n```\n"}