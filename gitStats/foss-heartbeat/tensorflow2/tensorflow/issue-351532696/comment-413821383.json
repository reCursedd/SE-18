{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/413821383", "html_url": "https://github.com/tensorflow/tensorflow/issues/21676#issuecomment-413821383", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21676", "id": 413821383, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzgyMTM4Mw==", "user": {"login": "markdryan", "id": 984073, "node_id": "MDQ6VXNlcjk4NDA3Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/984073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markdryan", "html_url": "https://github.com/markdryan", "followers_url": "https://api.github.com/users/markdryan/followers", "following_url": "https://api.github.com/users/markdryan/following{/other_user}", "gists_url": "https://api.github.com/users/markdryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/markdryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markdryan/subscriptions", "organizations_url": "https://api.github.com/users/markdryan/orgs", "repos_url": "https://api.github.com/users/markdryan/repos", "events_url": "https://api.github.com/users/markdryan/events{/privacy}", "received_events_url": "https://api.github.com/users/markdryan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-17T10:12:34Z", "updated_at": "2018-08-17T10:12:34Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I've submitted a <a href=\"https://github.com/tensorflow/tensorflow/pull/21677\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/21677/hovercard\">PR</a> that fixes the issue.  The underlying problem is that the existing code expects the results of two different floating point computations to match exactly.  In AVX512 builds one of the computations uses an optimised  Eigen algorithm for computing the square roots of vectors of doubles and this algorithm can produce slightly different results from the unoptimised version.  These differences cause the exact match to fail.  The PR fixes the issue by modifying the test case so that the results of the two computations only need to be close to each other, rather than matching exactly.</p>", "body_text": "I've submitted a PR that fixes the issue.  The underlying problem is that the existing code expects the results of two different floating point computations to match exactly.  In AVX512 builds one of the computations uses an optimised  Eigen algorithm for computing the square roots of vectors of doubles and this algorithm can produce slightly different results from the unoptimised version.  These differences cause the exact match to fail.  The PR fixes the issue by modifying the test case so that the results of the two computations only need to be close to each other, rather than matching exactly.", "body": "I've submitted a [PR](https://github.com/tensorflow/tensorflow/pull/21677) that fixes the issue.  The underlying problem is that the existing code expects the results of two different floating point computations to match exactly.  In AVX512 builds one of the computations uses an optimised  Eigen algorithm for computing the square roots of vectors of doubles and this algorithm can produce slightly different results from the unoptimised version.  These differences cause the exact match to fail.  The PR fixes the issue by modifying the test case so that the results of the two computations only need to be close to each other, rather than matching exactly."}