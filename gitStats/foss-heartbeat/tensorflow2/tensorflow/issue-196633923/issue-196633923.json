{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6417", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6417/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6417/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6417/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6417", "id": 196633923, "node_id": "MDU6SXNzdWUxOTY2MzM5MjM=", "number": 6417, "title": "Saver can't handle filename only ", "user": {"login": "HWiese1980", "id": 743912, "node_id": "MDQ6VXNlcjc0MzkxMg==", "avatar_url": "https://avatars3.githubusercontent.com/u/743912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HWiese1980", "html_url": "https://github.com/HWiese1980", "followers_url": "https://api.github.com/users/HWiese1980/followers", "following_url": "https://api.github.com/users/HWiese1980/following{/other_user}", "gists_url": "https://api.github.com/users/HWiese1980/gists{/gist_id}", "starred_url": "https://api.github.com/users/HWiese1980/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HWiese1980/subscriptions", "organizations_url": "https://api.github.com/users/HWiese1980/orgs", "repos_url": "https://api.github.com/users/HWiese1980/repos", "events_url": "https://api.github.com/users/HWiese1980/events{/privacy}", "received_events_url": "https://api.github.com/users/HWiese1980/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2016-12-20T10:13:40Z", "updated_at": "2018-03-22T21:00:21Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Hey everyone,</p>\n<p>it seems to me like - at least on Windows - the <code>tf</code> saver can't save model files whose path consists only of the file's name with no parent path, relative nor absolute. The issue lies at or around <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/saver.py#L1363\">saver.py:1363</a> where it tries to check whether the parent directory of the file is actually a directory. There is no parent directory given (i.e. an empty string) and as such <code>gFile.IsDirectory</code> can't check anything. It fails and raises a ValueError that the parent directory does not exist.</p>\n<p>Expected behavior <em>in my opinion</em> would be that the current working directory is used as the parent path when using no path/just a filename (i.e. a relative path).</p>\n<h2>Some details about my system specs:</h2>\n<ul>\n<li>Windows 10</li>\n<li>Python 3.5.2</li>\n<li>TF 0.12.0 (in a virtual environment; <code>pip install tensorflow --upgrade</code> just executed; issue persists)</li>\n</ul>\n<p>So, I'm wondering whether this is an expected behavior and how to deal with it or if it is an actual bug that needs to be addressed.</p>", "body_text": "Hey everyone,\nit seems to me like - at least on Windows - the tf saver can't save model files whose path consists only of the file's name with no parent path, relative nor absolute. The issue lies at or around saver.py:1363 where it tries to check whether the parent directory of the file is actually a directory. There is no parent directory given (i.e. an empty string) and as such gFile.IsDirectory can't check anything. It fails and raises a ValueError that the parent directory does not exist.\nExpected behavior in my opinion would be that the current working directory is used as the parent path when using no path/just a filename (i.e. a relative path).\nSome details about my system specs:\n\nWindows 10\nPython 3.5.2\nTF 0.12.0 (in a virtual environment; pip install tensorflow --upgrade just executed; issue persists)\n\nSo, I'm wondering whether this is an expected behavior and how to deal with it or if it is an actual bug that needs to be addressed.", "body": "Hey everyone,\r\n\r\nit seems to me like - at least on Windows - the `tf` saver can't save model files whose path consists only of the file's name with no parent path, relative nor absolute. The issue lies at or around [saver.py:1363](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/saver.py#L1363) where it tries to check whether the parent directory of the file is actually a directory. There is no parent directory given (i.e. an empty string) and as such `gFile.IsDirectory` can't check anything. It fails and raises a ValueError that the parent directory does not exist. \r\n\r\nExpected behavior _in my opinion_ would be that the current working directory is used as the parent path when using no path/just a filename (i.e. a relative path). \r\n\r\n## Some details about my system specs:\r\n\r\n* Windows 10\r\n* Python 3.5.2\r\n* TF 0.12.0 (in a virtual environment; `pip install tensorflow --upgrade` just executed; issue persists)\r\n\r\n\r\nSo, I'm wondering whether this is an expected behavior and how to deal with it or if it is an actual bug that needs to be addressed."}