{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23319", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23319/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23319/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23319/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23319", "id": 374677142, "node_id": "MDU6SXNzdWUzNzQ2NzcxNDI=", "number": 23319, "title": "tflite_convert - ValueError: Invalid tensors 'input' were found.", "user": {"login": "ramtin2080", "id": 16141443, "node_id": "MDQ6VXNlcjE2MTQxNDQz", "avatar_url": "https://avatars1.githubusercontent.com/u/16141443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ramtin2080", "html_url": "https://github.com/ramtin2080", "followers_url": "https://api.github.com/users/ramtin2080/followers", "following_url": "https://api.github.com/users/ramtin2080/following{/other_user}", "gists_url": "https://api.github.com/users/ramtin2080/gists{/gist_id}", "starred_url": "https://api.github.com/users/ramtin2080/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ramtin2080/subscriptions", "organizations_url": "https://api.github.com/users/ramtin2080/orgs", "repos_url": "https://api.github.com/users/ramtin2080/repos", "events_url": "https://api.github.com/users/ramtin2080/events{/privacy}", "received_events_url": "https://api.github.com/users/ramtin2080/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-10-27T18:56:42Z", "updated_at": "2018-11-07T16:28:24Z", "closed_at": "2018-11-07T16:28:24Z", "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>Have I written custom code (as opposed to using a stock example script provided in TensorFlow):<br>\nNo</li>\n<li>OS Platform and Distribution (e.g., Linux Ubuntu 16.04):<br>\nLinux Ubuntu 18.04</li>\n<li>TensorFlow installed from (source or binary):<br>\nInstalled from binary.</li>\n<li>TensorFlow version: Apparently this problem exists in all versions.  The versions I have tested: 1.5 | 1.11 | 1.12.0-rc2 | tf-nightly</li>\n<li>Python version: 3.6</li>\n<li>CUDA/cuDNN version: I have the CPU version.</li>\n<li>GPU model and memory: I have the CPU version.</li>\n</ul>\n<p><strong>Describe the current behavior</strong><br>\nI want to convert Mobilenet_0.50_224 frozen graph using tflite_convert or toco to a TensorFlow Lite model, but I get the following error:<br>\n<code>2018-10-27 21:31:49.213953: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 Traceback (most recent call last): File \"/home/ramtin/Desktop/Model/venv/bin/tflite_convert\", line 11, in &lt;module&gt; sys.exit(main()) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 412, in main app.run(main=run_main, argv=sys.argv[:1]) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run _sys.exit(main(argv)) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 408, in run_main _convert_model(tflite_flags) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 100, in _convert_model converter = _get_toco_converter(flags) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 87, in _get_toco_converter return converter_fn(**converter_kwargs) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/lite.py\", line 283, in from_frozen_graph sess.graph, input_arrays) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/convert_saved_model.py\", line 189, in get_tensors_from_tensor_names \",\".join(invalid_tensors))) ValueError: Invalid tensors 'input' were found. </code><br>\n<strong>Describe the expected behavior</strong><br>\ntflite_convert could be able to convert the frozen graph to a tflite model successfully.<br>\n<strong>Code to reproduce the issue</strong><br>\nI run the following command:</p>\n<pre><code>tflite_convert \\\n  --output_file=foo.tflite \\\n  --graph_def_file=frozen_graph.pb \\\n  --input_arrays=input \\\n  --output_arrays=MobilenetV1/Predictions/Reshape_1\n</code></pre>\n<p><strong>Other info / logs</strong><br>\nI have tried this on both the default Mobilenet_0.50_224 frozen graph and the retrained graph which is the output of retrain.py script from <a href=\"https://github.com/googlecodelabs/tensorflow-for-poets-2/blob/master/scripts/retrain.py\">Tensorflow for poets 2</a>.<br>\nI also tried to use toco, but the result was the same.<br>\nHowever, I can optimize the graph for Tensorflow Mobile without any  problem.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nNo\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nLinux Ubuntu 18.04\nTensorFlow installed from (source or binary):\nInstalled from binary.\nTensorFlow version: Apparently this problem exists in all versions.  The versions I have tested: 1.5 | 1.11 | 1.12.0-rc2 | tf-nightly\nPython version: 3.6\nCUDA/cuDNN version: I have the CPU version.\nGPU model and memory: I have the CPU version.\n\nDescribe the current behavior\nI want to convert Mobilenet_0.50_224 frozen graph using tflite_convert or toco to a TensorFlow Lite model, but I get the following error:\n2018-10-27 21:31:49.213953: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 Traceback (most recent call last): File \"/home/ramtin/Desktop/Model/venv/bin/tflite_convert\", line 11, in <module> sys.exit(main()) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 412, in main app.run(main=run_main, argv=sys.argv[:1]) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run _sys.exit(main(argv)) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 408, in run_main _convert_model(tflite_flags) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 100, in _convert_model converter = _get_toco_converter(flags) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 87, in _get_toco_converter return converter_fn(**converter_kwargs) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/lite.py\", line 283, in from_frozen_graph sess.graph, input_arrays) File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/convert_saved_model.py\", line 189, in get_tensors_from_tensor_names \",\".join(invalid_tensors))) ValueError: Invalid tensors 'input' were found. \nDescribe the expected behavior\ntflite_convert could be able to convert the frozen graph to a tflite model successfully.\nCode to reproduce the issue\nI run the following command:\ntflite_convert \\\n  --output_file=foo.tflite \\\n  --graph_def_file=frozen_graph.pb \\\n  --input_arrays=input \\\n  --output_arrays=MobilenetV1/Predictions/Reshape_1\n\nOther info / logs\nI have tried this on both the default Mobilenet_0.50_224 frozen graph and the retrained graph which is the output of retrain.py script from Tensorflow for poets 2.\nI also tried to use toco, but the result was the same.\nHowever, I can optimize the graph for Tensorflow Mobile without any  problem.", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nNo\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nLinux Ubuntu 18.04\r\n- TensorFlow installed from (source or binary):\r\nInstalled from binary.\r\n- TensorFlow version: Apparently this problem exists in all versions.  The versions I have tested: 1.5 | 1.11 | 1.12.0-rc2 | tf-nightly\r\n- Python version: 3.6\r\n- CUDA/cuDNN version: I have the CPU version.\r\n- GPU model and memory: I have the CPU version.\r\n\r\n**Describe the current behavior**\r\nI want to convert Mobilenet_0.50_224 frozen graph using tflite_convert or toco to a TensorFlow Lite model, but I get the following error:\r\n`2018-10-27 21:31:49.213953: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\r\nTraceback (most recent call last):\r\n  File \"/home/ramtin/Desktop/Model/venv/bin/tflite_convert\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 412, in main\r\n    app.run(main=run_main, argv=sys.argv[:1])\r\n  File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 408, in run_main\r\n    _convert_model(tflite_flags)\r\n  File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 100, in _convert_model\r\n    converter = _get_toco_converter(flags)\r\n  File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 87, in _get_toco_converter\r\n    return converter_fn(**converter_kwargs)\r\n  File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/lite.py\", line 283, in from_frozen_graph\r\n    sess.graph, input_arrays)\r\n  File \"/home/ramtin/Desktop/Model/venv/lib/python3.6/site-packages/tensorflow/contrib/lite/python/convert_saved_model.py\", line 189, in get_tensors_from_tensor_names\r\n    \",\".join(invalid_tensors)))\r\nValueError: Invalid tensors 'input' were found.\r\n`\r\n**Describe the expected behavior**\r\n tflite_convert could be able to convert the frozen graph to a tflite model successfully.\r\n**Code to reproduce the issue**\r\nI run the following command:\r\n```\r\ntflite_convert \\\r\n  --output_file=foo.tflite \\\r\n  --graph_def_file=frozen_graph.pb \\\r\n  --input_arrays=input \\\r\n  --output_arrays=MobilenetV1/Predictions/Reshape_1\r\n```\r\n\r\n**Other info / logs**\r\nI have tried this on both the default Mobilenet_0.50_224 frozen graph and the retrained graph which is the output of retrain.py script from [Tensorflow for poets 2](https://github.com/googlecodelabs/tensorflow-for-poets-2/blob/master/scripts/retrain.py).\r\nI also tried to use toco, but the result was the same.\r\nHowever, I can optimize the graph for Tensorflow Mobile without any  problem.\r\n"}