{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/186123767", "html_url": "https://github.com/tensorflow/tensorflow/pull/588#issuecomment-186123767", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/588", "id": 186123767, "node_id": "MDEyOklzc3VlQ29tbWVudDE4NjEyMzc2Nw==", "user": {"login": "panmari", "id": 719020, "node_id": "MDQ6VXNlcjcxOTAyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/719020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/panmari", "html_url": "https://github.com/panmari", "followers_url": "https://api.github.com/users/panmari/followers", "following_url": "https://api.github.com/users/panmari/following{/other_user}", "gists_url": "https://api.github.com/users/panmari/gists{/gist_id}", "starred_url": "https://api.github.com/users/panmari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/panmari/subscriptions", "organizations_url": "https://api.github.com/users/panmari/orgs", "repos_url": "https://api.github.com/users/panmari/repos", "events_url": "https://api.github.com/users/panmari/events{/privacy}", "received_events_url": "https://api.github.com/users/panmari/received_events", "type": "User", "site_admin": false}, "created_at": "2016-02-19T09:07:31Z", "updated_at": "2016-02-19T09:07:31Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=463737\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vrv\">@vrv</a> in the test where I compare the cpu resizing with the gpu resizing, I get completely different results there even though the other tests pass</p>\n<pre><code>FAIL: testCompareNearestNeighbor (__main__.ResizeImagesTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/panmari/.cache/bazel/_bazel_panmari/52e003c51984ee00b8d04ed6ebb99872/tensorflow/bazel-out/local_linux-opt/bin/tensorflow/python/image_ops_test.runfiles/tensorflow/python/ops/image_ops_test.py\", line 990, in testCompareNearestNeighbor\n    self.assertAllClose(cpu_val, gpu_val, rtol=1e-5, atol=1e-5)\n  File \"/home/panmari/.cache/bazel/_bazel_panmari/52e003c51984ee00b8d04ed6ebb99872/tensorflow/bazel-out/local_linux-opt/bin/tensorflow/python/image_ops_test.runfiles/tensorflow/python/framework/test_util.py\", line 435, in assertAllClose\n    np.testing.assert_allclose(a, b, rtol=rtol, atol=atol)\n  File \"/usr/local/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 1359, in assert_allclose\n    verbose=verbose, header=header)\n  File \"/usr/local/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 713, in assert_array_compare\n    raise AssertionError(msg)\nAssertionError: \nNot equal to tolerance rtol=1e-05, atol=1e-05\n\n(mismatch 100.0%)\n x: array([[[[  0.,   1.,   2.],\n         [  0.,   1.,   2.],\n         [  3.,   4.,   5.],...\n y: array([[[[  5.903004e+20,   1.406543e+01,   4.097450e-34],\n         [  5.903004e+20,   1.406543e+01,   4.097450e-34],\n         [  5.903004e+20,   1.406543e+01,   4.097450e-34],...\n\n----------------------------------------------------------------------\nRan 16 tests in 0.759s\n\nFAILED (failures=1)\n   1.50654290e-04   9.99999975e-06\n   5.90300359e+15   1.50654290e-04   9.99999975e-06   5.90300359e+15\n   1.50654290e-04   9.99999975e-06   5.90300359e+15   1.50654290e-04\n   9.99999975e-06   5.90300359e+15   1.50654290e-04   9.99999975e-06\n   5.90300359e+15   1.50654290e-04   9.99999975e-06   5.90300359e+15\n   1.50654290e-04   9.99999975e-06   5.90300359e+15   1.50654290e-04\n   9.99999975e-06   5.90300359e+15   1.50654290e-04   9.99999975e-06\n   5.90300359e+15   1.50654290e-04   9.99999975e-06   5.90300359e+15\n   1.50654290e-04   9.99999975e-06   5.90300359e+15   1.50654290e-04\n   9.99999975e-06   5.90300359e+15   1.50654290e-04   9.99999975e-06]\narea_ratio_hist  [ 70  73  90 100 133 154 162  95  80  43]\n</code></pre>", "body_text": "@vrv in the test where I compare the cpu resizing with the gpu resizing, I get completely different results there even though the other tests pass\nFAIL: testCompareNearestNeighbor (__main__.ResizeImagesTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/panmari/.cache/bazel/_bazel_panmari/52e003c51984ee00b8d04ed6ebb99872/tensorflow/bazel-out/local_linux-opt/bin/tensorflow/python/image_ops_test.runfiles/tensorflow/python/ops/image_ops_test.py\", line 990, in testCompareNearestNeighbor\n    self.assertAllClose(cpu_val, gpu_val, rtol=1e-5, atol=1e-5)\n  File \"/home/panmari/.cache/bazel/_bazel_panmari/52e003c51984ee00b8d04ed6ebb99872/tensorflow/bazel-out/local_linux-opt/bin/tensorflow/python/image_ops_test.runfiles/tensorflow/python/framework/test_util.py\", line 435, in assertAllClose\n    np.testing.assert_allclose(a, b, rtol=rtol, atol=atol)\n  File \"/usr/local/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 1359, in assert_allclose\n    verbose=verbose, header=header)\n  File \"/usr/local/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 713, in assert_array_compare\n    raise AssertionError(msg)\nAssertionError: \nNot equal to tolerance rtol=1e-05, atol=1e-05\n\n(mismatch 100.0%)\n x: array([[[[  0.,   1.,   2.],\n         [  0.,   1.,   2.],\n         [  3.,   4.,   5.],...\n y: array([[[[  5.903004e+20,   1.406543e+01,   4.097450e-34],\n         [  5.903004e+20,   1.406543e+01,   4.097450e-34],\n         [  5.903004e+20,   1.406543e+01,   4.097450e-34],...\n\n----------------------------------------------------------------------\nRan 16 tests in 0.759s\n\nFAILED (failures=1)\n   1.50654290e-04   9.99999975e-06\n   5.90300359e+15   1.50654290e-04   9.99999975e-06   5.90300359e+15\n   1.50654290e-04   9.99999975e-06   5.90300359e+15   1.50654290e-04\n   9.99999975e-06   5.90300359e+15   1.50654290e-04   9.99999975e-06\n   5.90300359e+15   1.50654290e-04   9.99999975e-06   5.90300359e+15\n   1.50654290e-04   9.99999975e-06   5.90300359e+15   1.50654290e-04\n   9.99999975e-06   5.90300359e+15   1.50654290e-04   9.99999975e-06\n   5.90300359e+15   1.50654290e-04   9.99999975e-06   5.90300359e+15\n   1.50654290e-04   9.99999975e-06   5.90300359e+15   1.50654290e-04\n   9.99999975e-06   5.90300359e+15   1.50654290e-04   9.99999975e-06]\narea_ratio_hist  [ 70  73  90 100 133 154 162  95  80  43]", "body": "@vrv in the test where I compare the cpu resizing with the gpu resizing, I get completely different results there even though the other tests pass\n\n```\nFAIL: testCompareNearestNeighbor (__main__.ResizeImagesTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/panmari/.cache/bazel/_bazel_panmari/52e003c51984ee00b8d04ed6ebb99872/tensorflow/bazel-out/local_linux-opt/bin/tensorflow/python/image_ops_test.runfiles/tensorflow/python/ops/image_ops_test.py\", line 990, in testCompareNearestNeighbor\n    self.assertAllClose(cpu_val, gpu_val, rtol=1e-5, atol=1e-5)\n  File \"/home/panmari/.cache/bazel/_bazel_panmari/52e003c51984ee00b8d04ed6ebb99872/tensorflow/bazel-out/local_linux-opt/bin/tensorflow/python/image_ops_test.runfiles/tensorflow/python/framework/test_util.py\", line 435, in assertAllClose\n    np.testing.assert_allclose(a, b, rtol=rtol, atol=atol)\n  File \"/usr/local/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 1359, in assert_allclose\n    verbose=verbose, header=header)\n  File \"/usr/local/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 713, in assert_array_compare\n    raise AssertionError(msg)\nAssertionError: \nNot equal to tolerance rtol=1e-05, atol=1e-05\n\n(mismatch 100.0%)\n x: array([[[[  0.,   1.,   2.],\n         [  0.,   1.,   2.],\n         [  3.,   4.,   5.],...\n y: array([[[[  5.903004e+20,   1.406543e+01,   4.097450e-34],\n         [  5.903004e+20,   1.406543e+01,   4.097450e-34],\n         [  5.903004e+20,   1.406543e+01,   4.097450e-34],...\n\n----------------------------------------------------------------------\nRan 16 tests in 0.759s\n\nFAILED (failures=1)\n   1.50654290e-04   9.99999975e-06\n   5.90300359e+15   1.50654290e-04   9.99999975e-06   5.90300359e+15\n   1.50654290e-04   9.99999975e-06   5.90300359e+15   1.50654290e-04\n   9.99999975e-06   5.90300359e+15   1.50654290e-04   9.99999975e-06\n   5.90300359e+15   1.50654290e-04   9.99999975e-06   5.90300359e+15\n   1.50654290e-04   9.99999975e-06   5.90300359e+15   1.50654290e-04\n   9.99999975e-06   5.90300359e+15   1.50654290e-04   9.99999975e-06\n   5.90300359e+15   1.50654290e-04   9.99999975e-06   5.90300359e+15\n   1.50654290e-04   9.99999975e-06   5.90300359e+15   1.50654290e-04\n   9.99999975e-06   5.90300359e+15   1.50654290e-04   9.99999975e-06]\narea_ratio_hist  [ 70  73  90 100 133 154 162  95  80  43]\n```\n"}