{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/355428954", "html_url": "https://github.com/tensorflow/tensorflow/issues/15840#issuecomment-355428954", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15840", "id": 355428954, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTQyODk1NA==", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-04T23:27:42Z", "updated_at": "2018-01-05T00:51:32Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=28546240\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tensorflowbutler\">@tensorflowbutler</a>: This was regarding the build process from sources only. I cannot edit the previous post as I had deleted that account unfortunately.</p>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Win 7 64bit</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.3.1</li>\n<li><strong>Python version</strong>: N/A</li>\n<li><strong>Bazel version (if compiling from source)</strong>: N/A</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: Visual Studio 2015.</li>\n<li><strong>CUDA/cuDNN version</strong>: 8.0/7</li>\n<li><strong>GPU model and memory</strong>: N/A</li>\n<li><strong>Exact command to reproduce</strong>: Cmake-build</li>\n</ul>\n<p>I used Cmake-gui with GPU enabled and all other default-set e.g. gRPC enabled, etc.</p>\n<p>I found that my problem was in the VS project \"<strong>pywrap_tensorflow_internal</strong>\".  When I was building this particular project, there was a \"<strong>pywrap_tensorflow_internal.def</strong>\" definition file (which I didn't notice from where it was created) in the 'cmake-build' folder that was being used to generate the DLL file \"<strong>pywrap_tensorflow_internal.dll</strong>\".  However, it seemed to me that there were these extra (maybe erroneous) function names in the .def file that were actually not present in the intermediate \".lib\" file generated by this project. And thus the above unresolved linking errors.</p>\n<p>What I later went on doing is the following:</p>\n<ul>\n<li>I simply deleted this definition file \"<strong>pywrap_tensorflow_internal.def</strong>\"  and also removed from the VS project configuration that was originally present as</li>\n</ul>\n<pre><code>&lt;Link&gt;\n&lt;ModuleDefinitionFile&gt;\npath/tensorflow-1.3.1/tensorflow/contrib/cmake/build/pywrap_tensorflow.def\n&lt;/ModuleDefinitionFile&gt;\n&lt;/Link&gt;.\n</code></pre>\n<p>(Had I known how this  .def was generated, I would have regenerated it and tested without this manual modification of the project configuration.)</p>\n<p>However, after this only, it successfully exported the functions into the final DLL file \"<strong>pywrap_tensorflow_internal.dll</strong>\".</p>", "body_text": "@tensorflowbutler: This was regarding the build process from sources only. I cannot edit the previous post as I had deleted that account unfortunately.\nSystem information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Win 7 64bit\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.3.1\nPython version: N/A\nBazel version (if compiling from source): N/A\nGCC/Compiler version (if compiling from source): Visual Studio 2015.\nCUDA/cuDNN version: 8.0/7\nGPU model and memory: N/A\nExact command to reproduce: Cmake-build\n\nI used Cmake-gui with GPU enabled and all other default-set e.g. gRPC enabled, etc.\nI found that my problem was in the VS project \"pywrap_tensorflow_internal\".  When I was building this particular project, there was a \"pywrap_tensorflow_internal.def\" definition file (which I didn't notice from where it was created) in the 'cmake-build' folder that was being used to generate the DLL file \"pywrap_tensorflow_internal.dll\".  However, it seemed to me that there were these extra (maybe erroneous) function names in the .def file that were actually not present in the intermediate \".lib\" file generated by this project. And thus the above unresolved linking errors.\nWhat I later went on doing is the following:\n\nI simply deleted this definition file \"pywrap_tensorflow_internal.def\"  and also removed from the VS project configuration that was originally present as\n\n<Link>\n<ModuleDefinitionFile>\npath/tensorflow-1.3.1/tensorflow/contrib/cmake/build/pywrap_tensorflow.def\n</ModuleDefinitionFile>\n</Link>.\n\n(Had I known how this  .def was generated, I would have regenerated it and tested without this manual modification of the project configuration.)\nHowever, after this only, it successfully exported the functions into the final DLL file \"pywrap_tensorflow_internal.dll\".", "body": "@tensorflowbutler: This was regarding the build process from sources only. I cannot edit the previous post as I had deleted that account unfortunately.\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Win 7 64bit\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.3.1\r\n- **Python version**: N/A\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **GCC/Compiler version (if compiling from source)**: Visual Studio 2015.\r\n- **CUDA/cuDNN version**: 8.0/7\r\n- **GPU model and memory**: N/A\r\n- **Exact command to reproduce**: Cmake-build\r\n\r\nI used Cmake-gui with GPU enabled and all other default-set e.g. gRPC enabled, etc.\r\n \r\nI found that my problem was in the VS project \"**pywrap_tensorflow_internal**\".  When I was building this particular project, there was a \"**pywrap_tensorflow_internal.def**\" definition file (which I didn't notice from where it was created) in the 'cmake-build' folder that was being used to generate the DLL file \"**pywrap_tensorflow_internal.dll**\".  However, it seemed to me that there were these extra (maybe erroneous) function names in the .def file that were actually not present in the intermediate \".lib\" file generated by this project. And thus the above unresolved linking errors.\r\n\r\nWhat I later went on doing is the following:\r\n-  I simply deleted this definition file \"**pywrap_tensorflow_internal.def**\"  and also removed from the VS project configuration that was originally present as \r\n```\r\n<Link>\r\n<ModuleDefinitionFile>\r\npath/tensorflow-1.3.1/tensorflow/contrib/cmake/build/pywrap_tensorflow.def\r\n</ModuleDefinitionFile>\r\n</Link>.\r\n```\r\n\r\n(Had I known how this  .def was generated, I would have regenerated it and tested without this manual modification of the project configuration.)\r\n\r\nHowever, after this only, it successfully exported the functions into the final DLL file \"**pywrap_tensorflow_internal.dll**\". \r\n\r\n  \r\n  "}