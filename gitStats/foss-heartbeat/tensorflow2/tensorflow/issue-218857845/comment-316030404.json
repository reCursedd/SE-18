{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/316030404", "html_url": "https://github.com/tensorflow/tensorflow/issues/8919#issuecomment-316030404", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8919", "id": 316030404, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjAzMDQwNA==", "user": {"login": "DeepakDonde", "id": 14233168, "node_id": "MDQ6VXNlcjE0MjMzMTY4", "avatar_url": "https://avatars2.githubusercontent.com/u/14233168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DeepakDonde", "html_url": "https://github.com/DeepakDonde", "followers_url": "https://api.github.com/users/DeepakDonde/followers", "following_url": "https://api.github.com/users/DeepakDonde/following{/other_user}", "gists_url": "https://api.github.com/users/DeepakDonde/gists{/gist_id}", "starred_url": "https://api.github.com/users/DeepakDonde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DeepakDonde/subscriptions", "organizations_url": "https://api.github.com/users/DeepakDonde/orgs", "repos_url": "https://api.github.com/users/DeepakDonde/repos", "events_url": "https://api.github.com/users/DeepakDonde/events{/privacy}", "received_events_url": "https://api.github.com/users/DeepakDonde/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-18T11:02:19Z", "updated_at": "2017-07-18T11:02:19Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4171702\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/meteorcloudy\">@meteorcloudy</a><br>\n<strong>So, This is what i tried:</strong><br>\n1)Download tensorflow using <code>git clone --recurse-submodules  https://github.com/tensorflow/tensorflow.git</code><br>\n2)Edit <code>WORKSPACE </code>file to set android SDK and NDK path.<br>\n3)Download and install  <code>bazel</code> using <a href=\"https://chocolatey.org/install\" rel=\"nofollow\">chocolatey</a><br>\n4)Go to msys64 directory, open msys2.exe and execute <code>pacman -Syuu --noconfirm patch</code> command<br>\n5)Go to tensorflow directory and execute <code>bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so  --crosstool_top=//external:android/crosstool  --host_crosstool_top=@bazel_tools//tools/cpp:toolchain  --cpu=armeabi-v7a</code> command using cmd</p>\n<p>After this command I get following issue:<br>\n<code>ERROR: D:/ocr/tensorflow/tensorflow/contrib/android/BUILD:72:1: error loading pa ckage 'tensorflow/core': Encountered error while reading extension file 'protobu f.bzl': no such package '@protobuf//': Traceback (most recent call last): File \"D:/ocr/tensorflow/tensorflow/workspace.bzl\", line 116 _apply_patch(repo_ctx, repo_ctx.attr.patch_file) File \"D:/ocr/tensorflow/tensorflow/workspace.bzl\", line 107, in _apply_p atch _execute_and_check_ret_code(repo_ctx, cmd) File \"D:/ocr/tensorflow/tensorflow/workspace.bzl\", line 91, in _execute_ and_check_ret_code fail(\"Non-zero return code({1}) when ..., &lt;2 more arguments&gt;)) Non-zero return code(127) when executing 'c:/tools/msys64/usr/bin/bash.exe -c pa tch -p1 -d C:/users/deepakd/appdata/local/temp/_bazel_deepakd/rqaligb5/external/ protobuf -i D:/ocr/tensorflow/third_party/protobuf/add_noinlines.patch': Stdout: Stderr: /usr/bin/bash: patch: command not found and referenced by '//tensorflow/contrib/android:libtensorflow_inference.so'. ERROR: Analysis of target '//tensorflow/contrib/android:libtensorflow_inference. so' failed; build aborted.</code></p>\n<p>I tried to run <code>patch</code> command in msys2 but it gives no output and the console remains blank.</p>\n<p><strong>System Configuration:</strong><br>\nWindow 7 - 64 bit<br>\nJDK version -1.8.0_60<br>\nNDK version -r14b</p>\n<p><strong>P.S:</strong> I followed <a href=\"https://blog.mindorks.com/android-tensorflow-machine-learning-example-ff0e9b2654cc\" rel=\"nofollow\">this tutorial</a></p>", "body_text": "@meteorcloudy\nSo, This is what i tried:\n1)Download tensorflow using git clone --recurse-submodules  https://github.com/tensorflow/tensorflow.git\n2)Edit WORKSPACE file to set android SDK and NDK path.\n3)Download and install  bazel using chocolatey\n4)Go to msys64 directory, open msys2.exe and execute pacman -Syuu --noconfirm patch command\n5)Go to tensorflow directory and execute bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so  --crosstool_top=//external:android/crosstool  --host_crosstool_top=@bazel_tools//tools/cpp:toolchain  --cpu=armeabi-v7a command using cmd\nAfter this command I get following issue:\nERROR: D:/ocr/tensorflow/tensorflow/contrib/android/BUILD:72:1: error loading pa ckage 'tensorflow/core': Encountered error while reading extension file 'protobu f.bzl': no such package '@protobuf//': Traceback (most recent call last): File \"D:/ocr/tensorflow/tensorflow/workspace.bzl\", line 116 _apply_patch(repo_ctx, repo_ctx.attr.patch_file) File \"D:/ocr/tensorflow/tensorflow/workspace.bzl\", line 107, in _apply_p atch _execute_and_check_ret_code(repo_ctx, cmd) File \"D:/ocr/tensorflow/tensorflow/workspace.bzl\", line 91, in _execute_ and_check_ret_code fail(\"Non-zero return code({1}) when ..., <2 more arguments>)) Non-zero return code(127) when executing 'c:/tools/msys64/usr/bin/bash.exe -c pa tch -p1 -d C:/users/deepakd/appdata/local/temp/_bazel_deepakd/rqaligb5/external/ protobuf -i D:/ocr/tensorflow/third_party/protobuf/add_noinlines.patch': Stdout: Stderr: /usr/bin/bash: patch: command not found and referenced by '//tensorflow/contrib/android:libtensorflow_inference.so'. ERROR: Analysis of target '//tensorflow/contrib/android:libtensorflow_inference. so' failed; build aborted.\nI tried to run patch command in msys2 but it gives no output and the console remains blank.\nSystem Configuration:\nWindow 7 - 64 bit\nJDK version -1.8.0_60\nNDK version -r14b\nP.S: I followed this tutorial", "body": "@meteorcloudy \r\n**So, This is what i tried:**\r\n1)Download tensorflow using `git clone --recurse-submodules  https://github.com/tensorflow/tensorflow.git`\r\n2)Edit `WORKSPACE `file to set android SDK and NDK path.\r\n3)Download and install  `bazel` using [chocolatey](https://chocolatey.org/install)\r\n4)Go to msys64 directory, open msys2.exe and execute `pacman -Syuu --noconfirm patch` command\r\n5)Go to tensorflow directory and execute `bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so \r\n   --crosstool_top=//external:android/crosstool \r\n   --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \r\n   --cpu=armeabi-v7a` command using cmd\r\n\r\nAfter this command I get following issue:\r\n`ERROR: D:/ocr/tensorflow/tensorflow/contrib/android/BUILD:72:1: error loading pa\r\nckage 'tensorflow/core': Encountered error while reading extension file 'protobu\r\nf.bzl': no such package '@protobuf//': Traceback (most recent call last):\r\n        File \"D:/ocr/tensorflow/tensorflow/workspace.bzl\", line 116\r\n                _apply_patch(repo_ctx, repo_ctx.attr.patch_file)\r\n        File \"D:/ocr/tensorflow/tensorflow/workspace.bzl\", line 107, in _apply_p\r\natch\r\n                _execute_and_check_ret_code(repo_ctx, cmd)\r\n        File \"D:/ocr/tensorflow/tensorflow/workspace.bzl\", line 91, in _execute_\r\nand_check_ret_code\r\n                fail(\"Non-zero return code({1}) when ..., <2 more arguments>))\r\nNon-zero return code(127) when executing 'c:/tools/msys64/usr/bin/bash.exe -c pa\r\ntch -p1 -d C:/users/deepakd/appdata/local/temp/_bazel_deepakd/rqaligb5/external/\r\nprotobuf -i D:/ocr/tensorflow/third_party/protobuf/add_noinlines.patch':\r\nStdout:\r\nStderr: /usr/bin/bash: patch: command not found\r\n and referenced by '//tensorflow/contrib/android:libtensorflow_inference.so'.\r\nERROR: Analysis of target '//tensorflow/contrib/android:libtensorflow_inference.\r\nso' failed; build aborted.`\r\n\r\nI tried to run `patch` command in msys2 but it gives no output and the console remains blank.\r\n\r\n**System Configuration:**\r\nWindow 7 - 64 bit\r\nJDK version -1.8.0_60\r\nNDK version -r14b\r\n\r\n**P.S:** I followed [this tutorial](https://blog.mindorks.com/android-tensorflow-machine-learning-example-ff0e9b2654cc)"}