{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4898", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4898/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4898/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4898/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4898", "id": 182348872, "node_id": "MDU6SXNzdWUxODIzNDg4NzI=", "number": 4898, "title": "Dequeue op loses TensorShape", "user": {"login": "xiayandi", "id": 11317896, "node_id": "MDQ6VXNlcjExMzE3ODk2", "avatar_url": "https://avatars1.githubusercontent.com/u/11317896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiayandi", "html_url": "https://github.com/xiayandi", "followers_url": "https://api.github.com/users/xiayandi/followers", "following_url": "https://api.github.com/users/xiayandi/following{/other_user}", "gists_url": "https://api.github.com/users/xiayandi/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiayandi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiayandi/subscriptions", "organizations_url": "https://api.github.com/users/xiayandi/orgs", "repos_url": "https://api.github.com/users/xiayandi/repos", "events_url": "https://api.github.com/users/xiayandi/events{/privacy}", "received_events_url": "https://api.github.com/users/xiayandi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-10-11T19:12:23Z", "updated_at": "2016-10-12T21:24:29Z", "closed_at": "2016-10-12T21:24:29Z", "author_association": "NONE", "body_html": "<p>I am not able to find related issues online.</p>\n<p>Operating System:<br>\nUbuntu, Mac OSX</p>\n<p>Installed version of CUDA and cuDNN:<br>\nCUDA 7.5, cuDNN v5.1</p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed:<br>\n<code>TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc0-cp27-none-linux_x86_64.whl</code></li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.<br>\n<code>I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so locally</code><br>\n<code>I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so locally</code><br>\n<code>I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so locally</code><br>\n<code>I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally</code><br>\n<code>I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so locally</code><br>\n<code>0.11.0rc0</code></li>\n</ol>\n<p>To reproduce the problem:</p>\n<p><code>a = tf.placeholder(dtype=tf.int32, shape=[None, 10])</code><br>\n<code>print a.get_shape()</code><br>\n<code>queue = tf.FIFOQueue(20, dtypes=[tf.int32])</code><br>\n<code>queue.enqueue([a])</code><br>\n<code>b = queue.dequeue()</code><br>\n<code>print b.get_shape()</code></p>\n<p>The first print output &lt;?, 10&gt;, which is OK, and there is a TensorShape for a.<br>\nBut the second print output is , and there is no TensorShape for b.</p>\n<p>TensorShape information is lost after dequeue operation.</p>\n<p>And this TensorShape is required in LSTM cell class.</p>\n<p>Can we add this TensorShape information back to the dequeued tensors?</p>\n<p>Thanks.</p>", "body_text": "I am not able to find related issues online.\nOperating System:\nUbuntu, Mac OSX\nInstalled version of CUDA and cuDNN:\nCUDA 7.5, cuDNN v5.1\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed:\nTF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc0-cp27-none-linux_x86_64.whl\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so locally\n0.11.0rc0\n\nTo reproduce the problem:\na = tf.placeholder(dtype=tf.int32, shape=[None, 10])\nprint a.get_shape()\nqueue = tf.FIFOQueue(20, dtypes=[tf.int32])\nqueue.enqueue([a])\nb = queue.dequeue()\nprint b.get_shape()\nThe first print output <?, 10>, which is OK, and there is a TensorShape for a.\nBut the second print output is , and there is no TensorShape for b.\nTensorShape information is lost after dequeue operation.\nAnd this TensorShape is required in LSTM cell class.\nCan we add this TensorShape information back to the dequeued tensors?\nThanks.", "body": "I am not able to find related issues online.\n\nOperating System:\nUbuntu, Mac OSX\n\nInstalled version of CUDA and cuDNN: \nCUDA 7.5, cuDNN v5.1\n\nIf installed from binary pip package, provide:\n1. A link to the pip package you installed:\n`TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc0-cp27-none-linux_x86_64.whl`\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\n`I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so locally`\n`I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so locally`\n`I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so locally`\n`I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally`\n`I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so locally`\n`0.11.0rc0`\n\nTo reproduce the problem:\n\n`a = tf.placeholder(dtype=tf.int32, shape=[None, 10])`\n`print a.get_shape()`\n`queue = tf.FIFOQueue(20, dtypes=[tf.int32])`\n`queue.enqueue([a])`\n`b = queue.dequeue()`\n`print b.get_shape()`\n\nThe first print output <?, 10>, which is OK, and there is a TensorShape for a.\nBut the second print output is <unknown>, and there is no TensorShape for b.\n\nTensorShape information is lost after dequeue operation.\n\nAnd this TensorShape is required in LSTM cell class.\n\nCan we add this TensorShape information back to the dequeued tensors?\n\nThanks.\n"}