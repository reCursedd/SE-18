{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20614", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20614/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20614/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20614/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20614", "id": 339145308, "node_id": "MDU6SXNzdWUzMzkxNDUzMDg=", "number": 20614, "title": "Cuda Configuration Error: Cannot find libdevice.10.bc under /usr/local/cuda-8.0", "user": {"login": "TonyTangYu", "id": 35730902, "node_id": "MDQ6VXNlcjM1NzMwOTAy", "avatar_url": "https://avatars1.githubusercontent.com/u/35730902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TonyTangYu", "html_url": "https://github.com/TonyTangYu", "followers_url": "https://api.github.com/users/TonyTangYu/followers", "following_url": "https://api.github.com/users/TonyTangYu/following{/other_user}", "gists_url": "https://api.github.com/users/TonyTangYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/TonyTangYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TonyTangYu/subscriptions", "organizations_url": "https://api.github.com/users/TonyTangYu/orgs", "repos_url": "https://api.github.com/users/TonyTangYu/repos", "events_url": "https://api.github.com/users/TonyTangYu/events{/privacy}", "received_events_url": "https://api.github.com/users/TonyTangYu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-07-07T13:15:36Z", "updated_at": "2018-07-09T17:44:29Z", "closed_at": "2018-07-09T17:44:29Z", "author_association": "NONE", "body_html": "<p>I want to install TensorFlow through compiling from source. After I finished the configure, I run the command <code>bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</code>. But some errors occurs. Here are the info:</p>\n<pre><code>WARNING: The following configs were expanded more than once: [cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1166\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1001, in _create_local_cuda_repository\n\t\t_find_nvvm_libdevice_dir(repository_ctx, cuda_config)\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 724, in _find_nvvm_libdevice_dir\n\t\tauto_configure_fail((\"Cannot find libdevice.10.bc un...))\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 210, in auto_configure_fail\n\t\tfail((\"\\n%sCuda Configuration Error:%...)))\n\nCuda Configuration Error: Cannot find libdevice.10.bc under /usr/local/cuda-8.0\nWARNING: Target pattern parsing failed.\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1166\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1001, in _create_local_cuda_repository\n\t\t_find_nvvm_libdevice_dir(repository_ctx, cuda_config)\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 724, in _find_nvvm_libdevice_dir\n\t\tauto_configure_fail((\"Cannot find libdevice.10.bc un...))\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 210, in auto_configure_fail\n\t\tfail((\"\\n%sCuda Configuration Error:%...)))\n\nCuda Configuration Error: Cannot find libdevice.10.bc under /usr/local/cuda-8.0\n</code></pre>\n<p>I tried the solution on this <a href=\"https://github.com/tensorflow/tensorflow/issues/17801\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17801/hovercard\">link</a>. But it didn't work.<br>\nThe following are the info about my PC.</p>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code</strong>: No</li>\n<li><strong>OS Platform and Distribution</strong>:Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:source</li>\n<li><strong>TensorFlow version (use command below)</strong>:bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</li>\n<li><strong>Python version</strong>:3.6</li>\n<li><strong>Bazel version</strong>:0.15.0</li>\n<li><strong>GCC/Compiler version</strong>:5.5.0</li>\n<li><strong>CUDA/cuDNN version</strong>:8.0/5.1.10</li>\n<li><strong>GPU model and memory</strong>:N/A</li>\n<li><strong>Exact command to reproduce</strong>:N/A</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I want to install TensorFlow on my system. But I tried plenty of ways, none of them works. It took me a lot of time. Can anybody help me out or provide me a useful way?<br>\nThanks a lot!</p>", "body_text": "I want to install TensorFlow through compiling from source. After I finished the configure, I run the command bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package. But some errors occurs. Here are the info:\nWARNING: The following configs were expanded more than once: [cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1166\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1001, in _create_local_cuda_repository\n\t\t_find_nvvm_libdevice_dir(repository_ctx, cuda_config)\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 724, in _find_nvvm_libdevice_dir\n\t\tauto_configure_fail((\"Cannot find libdevice.10.bc un...))\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 210, in auto_configure_fail\n\t\tfail((\"\\n%sCuda Configuration Error:%...)))\n\nCuda Configuration Error: Cannot find libdevice.10.bc under /usr/local/cuda-8.0\nWARNING: Target pattern parsing failed.\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1166\n\t\t_create_local_cuda_repository(repository_ctx)\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1001, in _create_local_cuda_repository\n\t\t_find_nvvm_libdevice_dir(repository_ctx, cuda_config)\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 724, in _find_nvvm_libdevice_dir\n\t\tauto_configure_fail((\"Cannot find libdevice.10.bc un...))\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 210, in auto_configure_fail\n\t\tfail((\"\\n%sCuda Configuration Error:%...)))\n\nCuda Configuration Error: Cannot find libdevice.10.bc under /usr/local/cuda-8.0\n\nI tried the solution on this link. But it didn't work.\nThe following are the info about my PC.\nSystem information\n\nHave I written custom code: No\nOS Platform and Distribution:Linux Ubuntu 16.04\nTensorFlow installed from (source or binary):source\nTensorFlow version (use command below):bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nPython version:3.6\nBazel version:0.15.0\nGCC/Compiler version:5.5.0\nCUDA/cuDNN version:8.0/5.1.10\nGPU model and memory:N/A\nExact command to reproduce:N/A\n\nDescribe the problem\nI want to install TensorFlow on my system. But I tried plenty of ways, none of them works. It took me a lot of time. Can anybody help me out or provide me a useful way?\nThanks a lot!", "body": "I want to install TensorFlow through compiling from source. After I finished the configure, I run the command `bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package`. But some errors occurs. Here are the info:\r\n```\r\nWARNING: The following configs were expanded more than once: [cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\r\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1166\r\n\t\t_create_local_cuda_repository(repository_ctx)\r\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1001, in _create_local_cuda_repository\r\n\t\t_find_nvvm_libdevice_dir(repository_ctx, cuda_config)\r\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 724, in _find_nvvm_libdevice_dir\r\n\t\tauto_configure_fail((\"Cannot find libdevice.10.bc un...))\r\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 210, in auto_configure_fail\r\n\t\tfail((\"\\n%sCuda Configuration Error:%...)))\r\n\r\nCuda Configuration Error: Cannot find libdevice.10.bc under /usr/local/cuda-8.0\r\nWARNING: Target pattern parsing failed.\r\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1166\r\n\t\t_create_local_cuda_repository(repository_ctx)\r\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 1001, in _create_local_cuda_repository\r\n\t\t_find_nvvm_libdevice_dir(repository_ctx, cuda_config)\r\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 724, in _find_nvvm_libdevice_dir\r\n\t\tauto_configure_fail((\"Cannot find libdevice.10.bc un...))\r\n\tFile \"/home/cxt/tensorflow/third_party/gpus/cuda_configure.bzl\", line 210, in auto_configure_fail\r\n\t\tfail((\"\\n%sCuda Configuration Error:%...)))\r\n\r\nCuda Configuration Error: Cannot find libdevice.10.bc under /usr/local/cuda-8.0\r\n```\r\nI tried the solution on this [link](https://github.com/tensorflow/tensorflow/issues/17801). But it didn't work. \r\nThe following are the info about my PC.\r\n### System information\r\n- **Have I written custom code**: No\r\n- **OS Platform and Distribution**:Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**:source\r\n- **TensorFlow version (use command below)**:bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n- **Python version**:3.6 \r\n- **Bazel version**:0.15.0\r\n- **GCC/Compiler version**:5.5.0\r\n- **CUDA/cuDNN version**:8.0/5.1.10\r\n- **GPU model and memory**:N/A\r\n- **Exact command to reproduce**:N/A\r\n\r\n### Describe the problem\r\nI want to install TensorFlow on my system. But I tried plenty of ways, none of them works. It took me a lot of time. Can anybody help me out or provide me a useful way?\r\nThanks a lot!\r\n"}