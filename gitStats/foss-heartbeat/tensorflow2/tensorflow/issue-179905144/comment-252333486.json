{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/252333486", "html_url": "https://github.com/tensorflow/tensorflow/issues/4640#issuecomment-252333486", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4640", "id": 252333486, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MjMzMzQ4Ng==", "user": {"login": "alphamule", "id": 31959, "node_id": "MDQ6VXNlcjMxOTU5", "avatar_url": "https://avatars0.githubusercontent.com/u/31959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alphamule", "html_url": "https://github.com/alphamule", "followers_url": "https://api.github.com/users/alphamule/followers", "following_url": "https://api.github.com/users/alphamule/following{/other_user}", "gists_url": "https://api.github.com/users/alphamule/gists{/gist_id}", "starred_url": "https://api.github.com/users/alphamule/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alphamule/subscriptions", "organizations_url": "https://api.github.com/users/alphamule/orgs", "repos_url": "https://api.github.com/users/alphamule/repos", "events_url": "https://api.github.com/users/alphamule/events{/privacy}", "received_events_url": "https://api.github.com/users/alphamule/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-07T18:57:23Z", "updated_at": "2016-10-07T18:57:23Z", "author_association": "NONE", "body_html": "<p>You must also make similar changes to <code>tensorflow/contrib/makefile/compile_ios_tensorflow.sh</code> to avoid building the X86_64 library and then also to avoid linking into the final artifact.</p>\n<p>This is perhaps an easier split view of the necessary work-around changes:</p>\n<p><a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/alphamule/tensorflow/commit/672da4fef637c5511fd2cf78a4ac8e710d0efbda?diff=split/hovercard\" href=\"https://github.com/alphamule/tensorflow/commit/672da4fef637c5511fd2cf78a4ac8e710d0efbda?diff=split\">alphamule@<tt>672da4f</tt>?diff=split</a></p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=14352842\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/arundasan91\">@arundasan91</a> I am also of the opinion that this is an OS issue.  My best guess is that, in the upgrade to Sierra, now when you link against the ios simulator libraries (sorry if this is the wrong nomenclature---I'm new to iOS dev) the resulting binary is not executable, whereas I presume it was in El Cap.  Even using old simulator versions does not fix the problem.  When I compile the same test binary as <code>./configure</code> but don't use the simulator for <code>-isysroot</code>, the binary runs fine.</p>\n<p>The only links to the mach-o error message from <code>config.log</code> I could find are:</p>\n<p><a href=\"https://curl.haxx.se/mail/lib-2016-09/0079.html\" rel=\"nofollow\">https://curl.haxx.se/mail/lib-2016-09/0079.html</a><br>\n<a href=\"http://stack1.ocim.top/39762289/issue-with-executing-a-out-file-c-macos-sierra-10-12-1.html\" rel=\"nofollow\">http://stack1.ocim.top/39762289/issue-with-executing-a-out-file-c-macos-sierra-10-12-1.html</a><br>\n<a href=\"http://stackoverflow.com/questions/39762289/issue-with-executing-a-out-file-c-macos-sierra-10-12-1\" rel=\"nofollow\">http://stackoverflow.com/questions/39762289/issue-with-executing-a-out-file-c-macos-sierra-10-12-1</a></p>\n<p>But none seem to have satisfactory answers here.</p>", "body_text": "You must also make similar changes to tensorflow/contrib/makefile/compile_ios_tensorflow.sh to avoid building the X86_64 library and then also to avoid linking into the final artifact.\nThis is perhaps an easier split view of the necessary work-around changes:\nalphamule@672da4f?diff=split\n@arundasan91 I am also of the opinion that this is an OS issue.  My best guess is that, in the upgrade to Sierra, now when you link against the ios simulator libraries (sorry if this is the wrong nomenclature---I'm new to iOS dev) the resulting binary is not executable, whereas I presume it was in El Cap.  Even using old simulator versions does not fix the problem.  When I compile the same test binary as ./configure but don't use the simulator for -isysroot, the binary runs fine.\nThe only links to the mach-o error message from config.log I could find are:\nhttps://curl.haxx.se/mail/lib-2016-09/0079.html\nhttp://stack1.ocim.top/39762289/issue-with-executing-a-out-file-c-macos-sierra-10-12-1.html\nhttp://stackoverflow.com/questions/39762289/issue-with-executing-a-out-file-c-macos-sierra-10-12-1\nBut none seem to have satisfactory answers here.", "body": "You must also make similar changes to `tensorflow/contrib/makefile/compile_ios_tensorflow.sh` to avoid building the X86_64 library and then also to avoid linking into the final artifact.\n\nThis is perhaps an easier split view of the necessary work-around changes:\n\nhttps://github.com/alphamule/tensorflow/commit/672da4fef637c5511fd2cf78a4ac8e710d0efbda?diff=split\n\n@arundasan91 I am also of the opinion that this is an OS issue.  My best guess is that, in the upgrade to Sierra, now when you link against the ios simulator libraries (sorry if this is the wrong nomenclature---I'm new to iOS dev) the resulting binary is not executable, whereas I presume it was in El Cap.  Even using old simulator versions does not fix the problem.  When I compile the same test binary as `./configure` but don't use the simulator for `-isysroot`, the binary runs fine.\n\nThe only links to the mach-o error message from `config.log` I could find are:\n\nhttps://curl.haxx.se/mail/lib-2016-09/0079.html\nhttp://stack1.ocim.top/39762289/issue-with-executing-a-out-file-c-macos-sierra-10-12-1.html\nhttp://stackoverflow.com/questions/39762289/issue-with-executing-a-out-file-c-macos-sierra-10-12-1\n\nBut none seem to have satisfactory answers here.\n"}