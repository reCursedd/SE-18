{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/374199652", "html_url": "https://github.com/tensorflow/tensorflow/issues/17237#issuecomment-374199652", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17237", "id": 374199652, "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDE5OTY1Mg==", "user": {"login": "freedomtan", "id": 3395998, "node_id": "MDQ6VXNlcjMzOTU5OTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3395998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/freedomtan", "html_url": "https://github.com/freedomtan", "followers_url": "https://api.github.com/users/freedomtan/followers", "following_url": "https://api.github.com/users/freedomtan/following{/other_user}", "gists_url": "https://api.github.com/users/freedomtan/gists{/gist_id}", "starred_url": "https://api.github.com/users/freedomtan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/freedomtan/subscriptions", "organizations_url": "https://api.github.com/users/freedomtan/orgs", "repos_url": "https://api.github.com/users/freedomtan/repos", "events_url": "https://api.github.com/users/freedomtan/events{/privacy}", "received_events_url": "https://api.github.com/users/freedomtan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-19T12:47:06Z", "updated_at": "2018-03-19T12:47:06Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4441724\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/GPhilo\">@GPhilo</a> Apparently, GNU ld doesn't support <code>--icf=all</code>, which is a <a href=\"https://en.wikipedia.org/wiki/Gold_(linker)\" rel=\"nofollow\">gold</a> specific option. Quick solution is to remove it.</p>\n<pre><code>diff --git a/tensorflow/contrib/lite/build_def.bzl b/tensorflow/contrib/lite/build_def.bzl\nindex 2813d1c347..2e3a9cfac5 100644\n--- a/tensorflow/contrib/lite/build_def.bzl\n+++ b/tensorflow/contrib/lite/build_def.bzl\n@@ -50,7 +50,6 @@ def tflite_linkopts_unstripped():\n       \"//tensorflow/contrib/lite:mips\": [],\n       \"//tensorflow/contrib/lite:mips64\": [],\n       \"//conditions:default\": [\n-          \"-Wl,--icf=all\",  # Identical code folding.\n       ],\n   })\n</code></pre>", "body_text": "@GPhilo Apparently, GNU ld doesn't support --icf=all, which is a gold specific option. Quick solution is to remove it.\ndiff --git a/tensorflow/contrib/lite/build_def.bzl b/tensorflow/contrib/lite/build_def.bzl\nindex 2813d1c347..2e3a9cfac5 100644\n--- a/tensorflow/contrib/lite/build_def.bzl\n+++ b/tensorflow/contrib/lite/build_def.bzl\n@@ -50,7 +50,6 @@ def tflite_linkopts_unstripped():\n       \"//tensorflow/contrib/lite:mips\": [],\n       \"//tensorflow/contrib/lite:mips64\": [],\n       \"//conditions:default\": [\n-          \"-Wl,--icf=all\",  # Identical code folding.\n       ],\n   })", "body": "@GPhilo Apparently, GNU ld doesn't support `--icf=all`, which is a [gold](https://en.wikipedia.org/wiki/Gold_(linker)) specific option. Quick solution is to remove it.\r\n```\r\ndiff --git a/tensorflow/contrib/lite/build_def.bzl b/tensorflow/contrib/lite/build_def.bzl\r\nindex 2813d1c347..2e3a9cfac5 100644\r\n--- a/tensorflow/contrib/lite/build_def.bzl\r\n+++ b/tensorflow/contrib/lite/build_def.bzl\r\n@@ -50,7 +50,6 @@ def tflite_linkopts_unstripped():\r\n       \"//tensorflow/contrib/lite:mips\": [],\r\n       \"//tensorflow/contrib/lite:mips64\": [],\r\n       \"//conditions:default\": [\r\n-          \"-Wl,--icf=all\",  # Identical code folding.\r\n       ],\r\n   })\r\n```"}