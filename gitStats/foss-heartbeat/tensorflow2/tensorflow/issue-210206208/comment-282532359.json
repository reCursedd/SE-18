{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/282532359", "html_url": "https://github.com/tensorflow/tensorflow/issues/7871#issuecomment-282532359", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7871", "id": 282532359, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjUzMjM1OQ==", "user": {"login": "Carmezim", "id": 16518410, "node_id": "MDQ6VXNlcjE2NTE4NDEw", "avatar_url": "https://avatars0.githubusercontent.com/u/16518410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Carmezim", "html_url": "https://github.com/Carmezim", "followers_url": "https://api.github.com/users/Carmezim/followers", "following_url": "https://api.github.com/users/Carmezim/following{/other_user}", "gists_url": "https://api.github.com/users/Carmezim/gists{/gist_id}", "starred_url": "https://api.github.com/users/Carmezim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Carmezim/subscriptions", "organizations_url": "https://api.github.com/users/Carmezim/orgs", "repos_url": "https://api.github.com/users/Carmezim/repos", "events_url": "https://api.github.com/users/Carmezim/events{/privacy}", "received_events_url": "https://api.github.com/users/Carmezim/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-26T04:32:18Z", "updated_at": "2017-02-26T05:49:16Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Interesting, I just ran into the same issue when building from source and as shown in the log I configured for GPU support.<br>\nEarlier I wasn't having this problem, I did have <a href=\"https://github.com/bazelbuild/bazel/issues/2594\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/2594/hovercard\">this</a> though.</p>\n<pre><code>$ ./configure\nPlease specify the location of python. [Default is /c/Users/Adriano/AppData/Local/Programs/Python/Python35/python]:\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] Y\nXLA JIT support will be enabled for TensorFlow\nFound possible Python library paths:\n  C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\n  C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\nPlease input the desired Python library path to use.  Default is [C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35]\n\nUsing python library path: C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\nJunction created for util\\python\\python_include &lt;&lt;===&gt;&gt; C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\\include\nJunction created for util\\python\\python_lib &lt;&lt;===&gt;&gt; C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\nJunction created for third_party\\py\\numpy\\numpy_include &lt;&lt;===&gt;&gt; C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\numpy\\core\\include\nDo you wish to build TensorFlow with CUDA support? [y/N] Y\nCUDA support will be enabled for TensorFlow\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v8.0]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5.1\nPlease specify the location where cuDNN 5.1 library is installed. Refer to README.md for more details. [Default is C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v8.0]:\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 5.0\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n\nAdriano@Adriano MSYS /c/Users/Adriano/Documents/tensorflow\n$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nERROR: C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\n        File \"C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/BUILD\", line 4\n                error_gpu_disabled()\n        File \"C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\n                fail(\"ERROR: Building with --config=c...\")\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\nERROR: no such target '@local_config_cuda//crosstool:toolchain': target 'toolchain' not declared in package 'crosstool' defined by C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/BUILD.\nINFO: Elapsed time: 1.494s\n</code></pre>\n<p>cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a><br>\n<strong>UPDATE:</strong> I cloned the repository again and it works now.</p>", "body_text": "Interesting, I just ran into the same issue when building from source and as shown in the log I configured for GPU support.\nEarlier I wasn't having this problem, I did have this though.\n$ ./configure\nPlease specify the location of python. [Default is /c/Users/Adriano/AppData/Local/Programs/Python/Python35/python]:\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] Y\nXLA JIT support will be enabled for TensorFlow\nFound possible Python library paths:\n  C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\n  C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\nPlease input the desired Python library path to use.  Default is [C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35]\n\nUsing python library path: C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\nJunction created for util\\python\\python_include <<===>> C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\\include\nJunction created for util\\python\\python_lib <<===>> C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\nJunction created for third_party\\py\\numpy\\numpy_include <<===>> C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\numpy\\core\\include\nDo you wish to build TensorFlow with CUDA support? [y/N] Y\nCUDA support will be enabled for TensorFlow\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v8.0]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5.1\nPlease specify the location where cuDNN 5.1 library is installed. Refer to README.md for more details. [Default is C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v8.0]:\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 5.0\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n\nAdriano@Adriano MSYS /c/Users/Adriano/Documents/tensorflow\n$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nERROR: C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\n        File \"C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/BUILD\", line 4\n                error_gpu_disabled()\n        File \"C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\n                fail(\"ERROR: Building with --config=c...\")\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\nERROR: no such target '@local_config_cuda//crosstool:toolchain': target 'toolchain' not declared in package 'crosstool' defined by C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/BUILD.\nINFO: Elapsed time: 1.494s\n\ncc @gunan\nUPDATE: I cloned the repository again and it works now.", "body": "Interesting, I just ran into the same issue when building from source and as shown in the log I configured for GPU support. \r\nEarlier I wasn't having this problem, I did have [this](https://github.com/bazelbuild/bazel/issues/2594) though.\r\n```\r\n$ ./configure\r\nPlease specify the location of python. [Default is /c/Users/Adriano/AppData/Local/Programs/Python/Python35/python]:\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\r\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] Y\r\nXLA JIT support will be enabled for TensorFlow\r\nFound possible Python library paths:\r\n  C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\r\n  C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\r\nPlease input the desired Python library path to use.  Default is [C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35]\r\n\r\nUsing python library path: C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\r\nJunction created for util\\python\\python_include <<===>> C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\\include\r\nJunction created for util\\python\\python_lib <<===>> C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\r\nJunction created for third_party\\py\\numpy\\numpy_include <<===>> C:\\Users\\Adriano\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\numpy\\core\\include\r\nDo you wish to build TensorFlow with CUDA support? [y/N] Y\r\nCUDA support will be enabled for TensorFlow\r\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\r\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v8.0]:\r\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5.1\r\nPlease specify the location where cuDNN 5.1 library is installed. Refer to README.md for more details. [Default is C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v8.0]:\r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size.\r\n[Default is: \"3.5,5.2\"]: 5.0\r\nINFO: All external dependencies fetched successfully.\r\nConfiguration finished\r\n\r\nAdriano@Adriano MSYS /c/Users/Adriano/Documents/tensorflow\r\n$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\nERROR: C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\r\n        File \"C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/BUILD\", line 4\r\n                error_gpu_disabled()\r\n        File \"C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\r\n                fail(\"ERROR: Building with --config=c...\")\r\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\r\nERROR: no such target '@local_config_cuda//crosstool:toolchain': target 'toolchain' not declared in package 'crosstool' defined by C:/tools/msys64/tmp/_bazel_Adriano/t5f2Q_w8/external/local_config_cuda/crosstool/BUILD.\r\nINFO: Elapsed time: 1.494s\r\n```\r\ncc @gunan\r\n**UPDATE:** I cloned the repository again and it works now."}