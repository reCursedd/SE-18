{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/72031498", "pull_request_review_id": null, "id": 72031498, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcyMDMxNDk4", "diff_hunk": "@@ -68,251 +68,7 @@ echo \"$SWIG_PATH\" > tensorflow/tools/swig/swig_path\n # Invoke python_config and set up symlinks to python includes\n (./util/python/python_config.sh --setup \"$PYTHON_BIN_PATH\";) || exit -1\n \n-## Set up Cuda-related environment settings\n-\n-while [ \"$TF_NEED_CUDA\" == \"\" ]; do", "path": "configure", "position": null, "original_position": 6, "commit_id": "353235e0b2b35f3df43f42ef84ca00ccda7a3a6d", "original_commit_id": "d744bfcabe598d7940a0d3bccf2d1b20feb229fe", "user": {"login": "davidzchen", "id": 5283042, "node_id": "MDQ6VXNlcjUyODMwNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5283042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidzchen", "html_url": "https://github.com/davidzchen", "followers_url": "https://api.github.com/users/davidzchen/followers", "following_url": "https://api.github.com/users/davidzchen/following{/other_user}", "gists_url": "https://api.github.com/users/davidzchen/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidzchen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidzchen/subscriptions", "organizations_url": "https://api.github.com/users/davidzchen/orgs", "repos_url": "https://api.github.com/users/davidzchen/repos", "events_url": "https://api.github.com/users/davidzchen/events{/privacy}", "received_events_url": "https://api.github.com/users/davidzchen/received_events", "type": "User", "site_admin": false}, "body": "One thing I noticed is that after running `CUDA_VERSION=7.5 bazel fetch --config=cuda //...` (which I put in the `./configure` script), the `local_config_cuda` external repository does not show up in `bazel-tensorflow/external` until after building certain targets.\n\nFurther, I found that I need to add `CUDA_VERSION=7.5` to the `bazel build` invocation in order for the `@local_config_cuda` to be configured with the `CUDA_VERSION=7.5`, which seems to suggest that `@local_config_cuda` wasn't fetched by `bazel fetch //...`. Is this a bug or is the `bazel fetch` invocation incorrect here?\n", "created_at": "2016-07-25T09:11:42Z", "updated_at": "2016-08-20T09:45:57Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/3269#discussion_r72031498", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3269", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/72031498"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/3269#discussion_r72031498"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3269"}}, "body_html": "<p>One thing I noticed is that after running <code>CUDA_VERSION=7.5 bazel fetch --config=cuda //...</code> (which I put in the <code>./configure</code> script), the <code>local_config_cuda</code> external repository does not show up in <code>bazel-tensorflow/external</code> until after building certain targets.</p>\n<p>Further, I found that I need to add <code>CUDA_VERSION=7.5</code> to the <code>bazel build</code> invocation in order for the <code>@local_config_cuda</code> to be configured with the <code>CUDA_VERSION=7.5</code>, which seems to suggest that <code>@local_config_cuda</code> wasn't fetched by <code>bazel fetch //...</code>. Is this a bug or is the <code>bazel fetch</code> invocation incorrect here?</p>", "body_text": "One thing I noticed is that after running CUDA_VERSION=7.5 bazel fetch --config=cuda //... (which I put in the ./configure script), the local_config_cuda external repository does not show up in bazel-tensorflow/external until after building certain targets.\nFurther, I found that I need to add CUDA_VERSION=7.5 to the bazel build invocation in order for the @local_config_cuda to be configured with the CUDA_VERSION=7.5, which seems to suggest that @local_config_cuda wasn't fetched by bazel fetch //.... Is this a bug or is the bazel fetch invocation incorrect here?"}