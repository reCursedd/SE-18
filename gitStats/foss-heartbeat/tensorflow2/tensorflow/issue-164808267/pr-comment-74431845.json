{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/74431845", "pull_request_review_id": null, "id": 74431845, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc0NDMxODQ1", "diff_hunk": "@@ -68,251 +68,7 @@ echo \"$SWIG_PATH\" > tensorflow/tools/swig/swig_path\n # Invoke python_config and set up symlinks to python includes\n (./util/python/python_config.sh --setup \"$PYTHON_BIN_PATH\";) || exit -1\n \n-## Set up Cuda-related environment settings\n-\n-while [ \"$TF_NEED_CUDA\" == \"\" ]; do", "path": "configure", "position": null, "original_position": 6, "commit_id": "353235e0b2b35f3df43f42ef84ca00ccda7a3a6d", "original_commit_id": "d744bfcabe598d7940a0d3bccf2d1b20feb229fe", "user": {"login": "damienmg", "id": 3721087, "node_id": "MDQ6VXNlcjM3MjEwODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3721087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/damienmg", "html_url": "https://github.com/damienmg", "followers_url": "https://api.github.com/users/damienmg/followers", "following_url": "https://api.github.com/users/damienmg/following{/other_user}", "gists_url": "https://api.github.com/users/damienmg/gists{/gist_id}", "starred_url": "https://api.github.com/users/damienmg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/damienmg/subscriptions", "organizations_url": "https://api.github.com/users/damienmg/orgs", "repos_url": "https://api.github.com/users/damienmg/repos", "events_url": "https://api.github.com/users/damienmg/events{/privacy}", "received_events_url": "https://api.github.com/users/damienmg/received_events", "type": "User", "site_admin": false}, "body": "Sorry, missed this.  So, there are a couple problems with having fetch\ncreate output dir symlinks. bazel-<workspace-name> is a sylink to the\nexecution root, which is created right before execution (not during the\nloading phase, which is all that fetch runs). Also, it's sort of an\naccident that the external repos are under bazel-<workspace-name> at all,\nhopefully one that will be corrected in the next couple of days!\n\nHowever, the point stands, it would be nice to see what the heck fetch\ndid.  I could see a couple possible options:\n1. fetch could print paths to the repositories it fetched (that might be a\n   bit weird, because I think it would have to print their transitive closure\n   which might include repositories the user wasn't aware of).\n2. Bazel could generally create a convenience symlink to external.\n\nOn Thu, Jul 28, 2016 at 5:07 AM, Damien Martin-guillerez <\ndmarting@google.com> wrote:\n\n> +Kristina Chodorow kchodorow@google.com to answer that question.\n> \n> On Thu, Jul 28, 2016 at 11:04 AM David Z. Chen notifications@github.com\n> wrote:\n> \n> > In configure\n> > https://github.com/tensorflow/tensorflow/pull/3269#discussion_r72587457\n> > :\n> > \n> > > @@ -68,251 +68,7 @@ echo \"$SWIG_PATH\" > tensorflow/tools/swig/swig_path\n> > >  # Invoke python_config and set up symlinks to python includes\n> > >  (./util/python/python_config.sh --setup \"$PYTHON_BIN_PATH\";) || exit -1\n> > > \n> > > ## -## Set up Cuda-related environment settings\n> > > \n> > > -while [ \"$TF_NEED_CUDA\" == \"\" ]; do\n> > \n> > Working on fixing these two issues.\n> > \n> > By the way, is there a reason why the fetch command doesn't create any\n> > Bazel output dir symlinks? Seems that it might be useful to create the\n> > bazel-<workspace-name> symlink at least so that we can look at the\n> > external repositories that were fetched.\n> > \n> > \u2014\n> > You are receiving this because you were mentioned.\n> > Reply to this email directly, view it on GitHub\n> > https://github.com/tensorflow/tensorflow/pull/3269/files/d744bfcabe598d7940a0d3bccf2d1b20feb229fe#r72587457,\n> > or mute the thread\n> > https://github.com/notifications/unsubscribe-auth/ADjHfz8aFtMMQCkQ8dY6IX9ZyuOjLpRwks5qaHCogaJpZM4JJPRy\n> > .\n", "created_at": "2016-08-11T14:25:50Z", "updated_at": "2016-08-20T09:45:57Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/3269#discussion_r74431845", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3269", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/74431845"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/3269#discussion_r74431845"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3269"}}, "body_html": "<p>Sorry, missed this.  So, there are a couple problems with having fetch<br>\ncreate output dir symlinks. bazel- is a sylink to the<br>\nexecution root, which is created right before execution (not during the<br>\nloading phase, which is all that fetch runs). Also, it's sort of an<br>\naccident that the external repos are under bazel- at all,<br>\nhopefully one that will be corrected in the next couple of days!</p>\n<p>However, the point stands, it would be nice to see what the heck fetch<br>\ndid.  I could see a couple possible options:</p>\n<ol>\n<li>fetch could print paths to the repositories it fetched (that might be a<br>\nbit weird, because I think it would have to print their transitive closure<br>\nwhich might include repositories the user wasn't aware of).</li>\n<li>Bazel could generally create a convenience symlink to external.</li>\n</ol>\n<p>On Thu, Jul 28, 2016 at 5:07 AM, Damien Martin-guillerez &lt;<br>\n<a href=\"mailto:dmarting@google.com\">dmarting@google.com</a>&gt; wrote:</p>\n<blockquote>\n<p>+Kristina Chodorow <a href=\"mailto:kchodorow@google.com\">kchodorow@google.com</a> to answer that question.</p>\n<p>On Thu, Jul 28, 2016 at 11:04 AM David Z. Chen <a href=\"mailto:notifications@github.com\">notifications@github.com</a><br>\nwrote:</p>\n<blockquote>\n<p>In configure<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"164808267\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/3269\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/3269/hovercard?comment_id=72587457&amp;comment_type=review_comment\" href=\"https://github.com/tensorflow/tensorflow/pull/3269#discussion_r72587457\">#3269 (comment)</a><br>\n:</p>\n<blockquote>\n<p>@@ -68,251 +68,7 @@ echo \"$SWIG_PATH\" &gt; tensorflow/tools/swig/swig_path</p>\n<h1>Invoke python_config and set up symlinks to python includes</h1>\n<p>(./util/python/python_config.sh --setup \"$PYTHON_BIN_PATH\";) || exit -1</p>\n<h2>-## Set up Cuda-related environment settings</h2>\n<p>-while [ \"$TF_NEED_CUDA\" == \"\" ]; do</p>\n</blockquote>\n<p>Working on fixing these two issues.</p>\n<p>By the way, is there a reason why the fetch command doesn't create any<br>\nBazel output dir symlinks? Seems that it might be useful to create the<br>\nbazel- symlink at least so that we can look at the<br>\nexternal repositories that were fetched.</p>\n<p>\u2014<br>\nYou are receiving this because you were mentioned.<br>\nReply to this email directly, view it on GitHub<br>\n<a href=\"https://github.com/tensorflow/tensorflow/pull/3269/files/d744bfcabe598d7940a0d3bccf2d1b20feb229fe#r72587457\">https://github.com/tensorflow/tensorflow/pull/3269/files/d744bfcabe598d7940a0d3bccf2d1b20feb229fe#r72587457</a>,<br>\nor mute the thread<br>\n<a href=\"https://github.com/notifications/unsubscribe-auth/ADjHfz8aFtMMQCkQ8dY6IX9ZyuOjLpRwks5qaHCogaJpZM4JJPRy\">https://github.com/notifications/unsubscribe-auth/ADjHfz8aFtMMQCkQ8dY6IX9ZyuOjLpRwks5qaHCogaJpZM4JJPRy</a><br>\n.</p>\n</blockquote>\n</blockquote>", "body_text": "Sorry, missed this.  So, there are a couple problems with having fetch\ncreate output dir symlinks. bazel- is a sylink to the\nexecution root, which is created right before execution (not during the\nloading phase, which is all that fetch runs). Also, it's sort of an\naccident that the external repos are under bazel- at all,\nhopefully one that will be corrected in the next couple of days!\nHowever, the point stands, it would be nice to see what the heck fetch\ndid.  I could see a couple possible options:\n\nfetch could print paths to the repositories it fetched (that might be a\nbit weird, because I think it would have to print their transitive closure\nwhich might include repositories the user wasn't aware of).\nBazel could generally create a convenience symlink to external.\n\nOn Thu, Jul 28, 2016 at 5:07 AM, Damien Martin-guillerez <\ndmarting@google.com> wrote:\n\n+Kristina Chodorow kchodorow@google.com to answer that question.\nOn Thu, Jul 28, 2016 at 11:04 AM David Z. Chen notifications@github.com\nwrote:\n\nIn configure\n#3269 (comment)\n:\n\n@@ -68,251 +68,7 @@ echo \"$SWIG_PATH\" > tensorflow/tools/swig/swig_path\nInvoke python_config and set up symlinks to python includes\n(./util/python/python_config.sh --setup \"$PYTHON_BIN_PATH\";) || exit -1\n-## Set up Cuda-related environment settings\n-while [ \"$TF_NEED_CUDA\" == \"\" ]; do\n\nWorking on fixing these two issues.\nBy the way, is there a reason why the fetch command doesn't create any\nBazel output dir symlinks? Seems that it might be useful to create the\nbazel- symlink at least so that we can look at the\nexternal repositories that were fetched.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/tensorflow/tensorflow/pull/3269/files/d744bfcabe598d7940a0d3bccf2d1b20feb229fe#r72587457,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADjHfz8aFtMMQCkQ8dY6IX9ZyuOjLpRwks5qaHCogaJpZM4JJPRy\n."}