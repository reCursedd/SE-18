{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/240017829", "html_url": "https://github.com/tensorflow/tensorflow/pull/3269#issuecomment-240017829", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3269", "id": 240017829, "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDAxNzgyOQ==", "user": {"login": "davidzchen", "id": 5283042, "node_id": "MDQ6VXNlcjUyODMwNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5283042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidzchen", "html_url": "https://github.com/davidzchen", "followers_url": "https://api.github.com/users/davidzchen/followers", "following_url": "https://api.github.com/users/davidzchen/following{/other_user}", "gists_url": "https://api.github.com/users/davidzchen/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidzchen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidzchen/subscriptions", "organizations_url": "https://api.github.com/users/davidzchen/orgs", "repos_url": "https://api.github.com/users/davidzchen/repos", "events_url": "https://api.github.com/users/davidzchen/events{/privacy}", "received_events_url": "https://api.github.com/users/davidzchen/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-16T06:50:57Z", "updated_at": "2016-08-16T07:12:41Z", "author_association": "MEMBER", "body_html": "<p>I see. Also, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3645581\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/flx42\">@flx42</a> just <a href=\"https://github.com/NVIDIA/nvidia-docker/issues/172#issuecomment-240015793\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NVIDIA/nvidia-docker/issues/172/hovercard\">confirmed</a> on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171334755\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/NVIDIA/nvidia-docker/issues/172\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NVIDIA/nvidia-docker/issues/172/hovercard\" href=\"https://github.com/NVIDIA/nvidia-docker/issues/172\">NVIDIA/nvidia-docker#172</a> that <code>/usr/lib/x86_64-linux-gnu</code> is, in fact, the correct install location for <code>libcudnn.so</code>.</p>\n<p>In that case, is the <code>ENV CUDNN_INSTALL_PATH</code> line in <code>Dockerfile.gpu</code> is incorrect then?</p>\n<p>It is still unclear to me why the CI GPU builds for the existing code is not failing due to this <del>since the existing code <a href=\"https://github.com/tensorflow/tensorflow/blob/master/third_party/gpus/cuda/cuda_config.sh#L127\">searches for <code>libcudnn.so</code> under a <code>$CUDNN_INSTALL_BASEDIR/lib64</code> directory</a></del>.</p>\n<p><strong>Edit:</strong> It seems that the case where <code>libcudnn.so</code> is installed under <code>/usr/lib/x86_64-linux-gnu</code> is the reason why we have <code>CUDA_DNN_LIB_ALT_PATH</code>, though it is still unclear how the test was able to find <code>libcudnn.so</code> since <code>CUDNN_INSTALL_PATH</code> was set to <code>/usr/local/cuda</code>.</p>", "body_text": "I see. Also, @flx42 just confirmed on NVIDIA/nvidia-docker#172 that /usr/lib/x86_64-linux-gnu is, in fact, the correct install location for libcudnn.so.\nIn that case, is the ENV CUDNN_INSTALL_PATH line in Dockerfile.gpu is incorrect then?\nIt is still unclear to me why the CI GPU builds for the existing code is not failing due to this since the existing code searches for libcudnn.so under a $CUDNN_INSTALL_BASEDIR/lib64 directory.\nEdit: It seems that the case where libcudnn.so is installed under /usr/lib/x86_64-linux-gnu is the reason why we have CUDA_DNN_LIB_ALT_PATH, though it is still unclear how the test was able to find libcudnn.so since CUDNN_INSTALL_PATH was set to /usr/local/cuda.", "body": "I see. Also, @flx42 just [confirmed](https://github.com/NVIDIA/nvidia-docker/issues/172#issuecomment-240015793) on NVIDIA/nvidia-docker#172 that `/usr/lib/x86_64-linux-gnu` is, in fact, the correct install location for `libcudnn.so`.\n\nIn that case, is the `ENV CUDNN_INSTALL_PATH` line in `Dockerfile.gpu` is incorrect then?\n\nIt is still unclear to me why the CI GPU builds for the existing code is not failing due to this ~~since the existing code [searches for `libcudnn.so` under a `$CUDNN_INSTALL_BASEDIR/lib64` directory](https://github.com/tensorflow/tensorflow/blob/master/third_party/gpus/cuda/cuda_config.sh#L127)~~.\n\n**Edit:** It seems that the case where `libcudnn.so` is installed under `/usr/lib/x86_64-linux-gnu` is the reason why we have `CUDA_DNN_LIB_ALT_PATH`, though it is still unclear how the test was able to find `libcudnn.so` since `CUDNN_INSTALL_PATH` was set to `/usr/local/cuda`.\n"}