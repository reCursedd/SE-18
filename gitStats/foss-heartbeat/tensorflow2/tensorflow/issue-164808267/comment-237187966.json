{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/237187966", "html_url": "https://github.com/tensorflow/tensorflow/pull/3269#issuecomment-237187966", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3269", "id": 237187966, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzE4Nzk2Ng==", "user": {"login": "davidzchen", "id": 5283042, "node_id": "MDQ6VXNlcjUyODMwNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5283042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidzchen", "html_url": "https://github.com/davidzchen", "followers_url": "https://api.github.com/users/davidzchen/followers", "following_url": "https://api.github.com/users/davidzchen/following{/other_user}", "gists_url": "https://api.github.com/users/davidzchen/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidzchen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidzchen/subscriptions", "organizations_url": "https://api.github.com/users/davidzchen/orgs", "repos_url": "https://api.github.com/users/davidzchen/repos", "events_url": "https://api.github.com/users/davidzchen/events{/privacy}", "received_events_url": "https://api.github.com/users/davidzchen/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-03T09:23:50Z", "updated_at": "2016-08-03T09:23:50Z", "author_association": "MEMBER", "body_html": "<p>Making good progress. All of the CI build are passing except for the Linux GPU PIP build.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=567848\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jendap\">@jendap</a> - The Linux GPU PIP build is failing due to the following:</p>\n<pre><code>ERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n    File \"/workspace/third_party/gpus/cuda_configure.bzl\", line 381\n        _create_cuda_repository(repository_ctx)\n    File \"/workspace/third_party/gpus/cuda_configure.bzl\", line 337, in _create_cuda_repository\n        repository_ctx.symlink(cudnn_header_dir + \"/cudnn.h\", \"cu...\")\njava.io.IOException: Could not create symlink from /usr/include/cudnn.h to /opt/jenkins/workspace/tensorflow-pull-requests-gpu_pip/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/external/local_config_cuda/cuda/include/cudnn.h: /opt/jenkins/workspace/tensorflow-pull-requests-gpu_pip/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/external/local_config_cuda/cuda/include/cudnn.h (Permission denied).\nConfiguration finished\n</code></pre>\n<p>It seems that there is a permission error when <code>cuda_configure</code> attempts to create the symlinks for the CUDA toolkit files. Do we need to make some changes to the CI scripts to get this to work?</p>", "body_text": "Making good progress. All of the CI build are passing except for the Linux GPU PIP build.\n@jendap - The Linux GPU PIP build is failing due to the following:\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n    File \"/workspace/third_party/gpus/cuda_configure.bzl\", line 381\n        _create_cuda_repository(repository_ctx)\n    File \"/workspace/third_party/gpus/cuda_configure.bzl\", line 337, in _create_cuda_repository\n        repository_ctx.symlink(cudnn_header_dir + \"/cudnn.h\", \"cu...\")\njava.io.IOException: Could not create symlink from /usr/include/cudnn.h to /opt/jenkins/workspace/tensorflow-pull-requests-gpu_pip/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/external/local_config_cuda/cuda/include/cudnn.h: /opt/jenkins/workspace/tensorflow-pull-requests-gpu_pip/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/external/local_config_cuda/cuda/include/cudnn.h (Permission denied).\nConfiguration finished\n\nIt seems that there is a permission error when cuda_configure attempts to create the symlinks for the CUDA toolkit files. Do we need to make some changes to the CI scripts to get this to work?", "body": "Making good progress. All of the CI build are passing except for the Linux GPU PIP build.\n\n@jendap - The Linux GPU PIP build is failing due to the following:\n\n```\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n    File \"/workspace/third_party/gpus/cuda_configure.bzl\", line 381\n        _create_cuda_repository(repository_ctx)\n    File \"/workspace/third_party/gpus/cuda_configure.bzl\", line 337, in _create_cuda_repository\n        repository_ctx.symlink(cudnn_header_dir + \"/cudnn.h\", \"cu...\")\njava.io.IOException: Could not create symlink from /usr/include/cudnn.h to /opt/jenkins/workspace/tensorflow-pull-requests-gpu_pip/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/external/local_config_cuda/cuda/include/cudnn.h: /opt/jenkins/workspace/tensorflow-pull-requests-gpu_pip/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/external/local_config_cuda/cuda/include/cudnn.h (Permission denied).\nConfiguration finished\n```\n\nIt seems that there is a permission error when `cuda_configure` attempts to create the symlinks for the CUDA toolkit files. Do we need to make some changes to the CI scripts to get this to work?\n"}