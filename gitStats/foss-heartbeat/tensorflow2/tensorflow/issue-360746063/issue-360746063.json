{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22309", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22309/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22309/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22309/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22309", "id": 360746063, "node_id": "MDU6SXNzdWUzNjA3NDYwNjM=", "number": 22309, "title": "About partitioned variable is Disabled in DistributionStrategy", "user": {"login": "wangsiyu", "id": 5387343, "node_id": "MDQ6VXNlcjUzODczNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5387343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangsiyu", "html_url": "https://github.com/wangsiyu", "followers_url": "https://api.github.com/users/wangsiyu/followers", "following_url": "https://api.github.com/users/wangsiyu/following{/other_user}", "gists_url": "https://api.github.com/users/wangsiyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangsiyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangsiyu/subscriptions", "organizations_url": "https://api.github.com/users/wangsiyu/orgs", "repos_url": "https://api.github.com/users/wangsiyu/repos", "events_url": "https://api.github.com/users/wangsiyu/events{/privacy}", "received_events_url": "https://api.github.com/users/wangsiyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "yuefengz", "id": 1647833, "node_id": "MDQ6VXNlcjE2NDc4MzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1647833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuefengz", "html_url": "https://github.com/yuefengz", "followers_url": "https://api.github.com/users/yuefengz/followers", "following_url": "https://api.github.com/users/yuefengz/following{/other_user}", "gists_url": "https://api.github.com/users/yuefengz/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuefengz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuefengz/subscriptions", "organizations_url": "https://api.github.com/users/yuefengz/orgs", "repos_url": "https://api.github.com/users/yuefengz/repos", "events_url": "https://api.github.com/users/yuefengz/events{/privacy}", "received_events_url": "https://api.github.com/users/yuefengz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yuefengz", "id": 1647833, "node_id": "MDQ6VXNlcjE2NDc4MzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1647833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuefengz", "html_url": "https://github.com/yuefengz", "followers_url": "https://api.github.com/users/yuefengz/followers", "following_url": "https://api.github.com/users/yuefengz/following{/other_user}", "gists_url": "https://api.github.com/users/yuefengz/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuefengz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuefengz/subscriptions", "organizations_url": "https://api.github.com/users/yuefengz/orgs", "repos_url": "https://api.github.com/users/yuefengz/repos", "events_url": "https://api.github.com/users/yuefengz/events{/privacy}", "received_events_url": "https://api.github.com/users/yuefengz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-09-17T07:10:29Z", "updated_at": "2018-11-09T02:22:38Z", "closed_at": "2018-11-09T02:22:38Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<p>Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No<br>\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): CentOS<br>\nTensorFlow installed from (source or binary): source<br>\nTensorFlow version (use command below): master<br>\nPython version: 2.7<br>\nBazel version (if compiling from source):<br>\nGCC/Compiler version (if compiling from source):<br>\nCUDA/cuDNN version:<br>\nGPU model and memory:<br>\nExact command to reproduce:</p>\n<h3>Describe the problem</h3>\n<p>I noticed that the partitioned variable is disabled in base class <code>DistributionStrategy</code> in current master branch. However, some subclasses like ParameterServerStrategy is okay to use partitioner in current architecture.  So I want to know the reason for  disabling the partitioner in base class? Does MirroredValue can use that partitioner?</p>\n<p>And I want to do some code change in base class <code>DistributionStrategy</code> to make a pull request: To rename the  function <code>disable_partitioned_variables</code> to <code>distributed_custom_getter</code> in base class and move them out of  function <code>scope</code> to be a member function of <code>DistributionStrategy</code>. The subclasses should override this function to control the custom getter. Do you think this is a reasonable design ? If it is Okay, I will make a code review.</p>", "body_text": "System information\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): CentOS\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): master\nPython version: 2.7\nBazel version (if compiling from source):\nGCC/Compiler version (if compiling from source):\nCUDA/cuDNN version:\nGPU model and memory:\nExact command to reproduce:\nDescribe the problem\nI noticed that the partitioned variable is disabled in base class DistributionStrategy in current master branch. However, some subclasses like ParameterServerStrategy is okay to use partitioner in current architecture.  So I want to know the reason for  disabling the partitioner in base class? Does MirroredValue can use that partitioner?\nAnd I want to do some code change in base class DistributionStrategy to make a pull request: To rename the  function disable_partitioned_variables to distributed_custom_getter in base class and move them out of  function scope to be a member function of DistributionStrategy. The subclasses should override this function to control the custom getter. Do you think this is a reasonable design ? If it is Okay, I will make a code review.", "body": "### System information\r\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): CentOS\r\nTensorFlow installed from (source or binary): source\r\nTensorFlow version (use command below): master\r\nPython version: 2.7\r\nBazel version (if compiling from source):\r\nGCC/Compiler version (if compiling from source):\r\nCUDA/cuDNN version:\r\nGPU model and memory:\r\nExact command to reproduce:\r\n\r\n### Describe the problem\r\n\r\nI noticed that the partitioned variable is disabled in base class `DistributionStrategy` in current master branch. However, some subclasses like ParameterServerStrategy is okay to use partitioner in current architecture.  So I want to know the reason for  disabling the partitioner in base class? Does MirroredValue can use that partitioner?\r\n\r\nAnd I want to do some code change in base class `DistributionStrategy` to make a pull request: To rename the  function `disable_partitioned_variables` to `distributed_custom_getter` in base class and move them out of  function `scope` to be a member function of `DistributionStrategy`. The subclasses should override this function to control the custom getter. Do you think this is a reasonable design ? If it is Okay, I will make a code review."}