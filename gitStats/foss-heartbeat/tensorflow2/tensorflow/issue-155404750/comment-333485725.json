{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/333485725", "html_url": "https://github.com/tensorflow/tensorflow/issues/2412#issuecomment-333485725", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2412", "id": 333485725, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzQ4NTcyNQ==", "user": {"login": "dcastelltort-tabmo", "id": 31617806, "node_id": "MDQ6VXNlcjMxNjE3ODA2", "avatar_url": "https://avatars2.githubusercontent.com/u/31617806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcastelltort-tabmo", "html_url": "https://github.com/dcastelltort-tabmo", "followers_url": "https://api.github.com/users/dcastelltort-tabmo/followers", "following_url": "https://api.github.com/users/dcastelltort-tabmo/following{/other_user}", "gists_url": "https://api.github.com/users/dcastelltort-tabmo/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcastelltort-tabmo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcastelltort-tabmo/subscriptions", "organizations_url": "https://api.github.com/users/dcastelltort-tabmo/orgs", "repos_url": "https://api.github.com/users/dcastelltort-tabmo/repos", "events_url": "https://api.github.com/users/dcastelltort-tabmo/events{/privacy}", "received_events_url": "https://api.github.com/users/dcastelltort-tabmo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-02T09:34:12Z", "updated_at": "2017-10-02T09:34:12Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>Since I need to be able to package the C/C++ libtensorflow as debian packages for development/deployment, I worked on adding bazel rules to build:</p>\n<ul>\n<li>libtensorflow deb package that contains both c and cc CPU lib</li>\n<li>libtensorflow-dev deb package that contains necessary headers to build and link against libtensorflow in C++</li>\n</ul>\n<p>You can find the changes here(fork+branch against r1.3): <a href=\"https://github.com/tabmo/tensorflow/tree/issue2412\">https://github.com/tabmo/tensorflow/tree/issue2412</a><br>\nI've tried to 'fit in', feedback is welcome since it's my first time tinkering with Bazel.<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16018\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/asimshankar\">@asimshankar</a> , I tried to followup on your comment, let me know about guidance/changes. Depending on priorities, I can work on it If this can make its way as a contribution at some point as I have a need to maintain this on my side anyway.<br>\nIt seems related to issue 720 as well but it would be a much larger scope: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"125463134\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/720\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/720/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/720\">#720</a></p>\n<p>If you are using bazel 0.6.0 (released very recently), specify --incompatible_disallow_set_constructor=false, since it breaks tensorflow build currently.</p>\n<p>to get only the lib do:<br>\n$bazel build //tensorflow:libtensorflow_deb</p>\n<p>if you want the headers as well:</p>\n<p>$bazel build //tensorflow:libtensorflow-dev_deb<br>\nNote: libtensorflow-dev debian package depends on libtensorflow being installed on the system as well, so you need both for development (the lib only can be used for deployment).</p>", "body_text": "Hi,\nSince I need to be able to package the C/C++ libtensorflow as debian packages for development/deployment, I worked on adding bazel rules to build:\n\nlibtensorflow deb package that contains both c and cc CPU lib\nlibtensorflow-dev deb package that contains necessary headers to build and link against libtensorflow in C++\n\nYou can find the changes here(fork+branch against r1.3): https://github.com/tabmo/tensorflow/tree/issue2412\nI've tried to 'fit in', feedback is welcome since it's my first time tinkering with Bazel.\n@asimshankar , I tried to followup on your comment, let me know about guidance/changes. Depending on priorities, I can work on it If this can make its way as a contribution at some point as I have a need to maintain this on my side anyway.\nIt seems related to issue 720 as well but it would be a much larger scope: #720\nIf you are using bazel 0.6.0 (released very recently), specify --incompatible_disallow_set_constructor=false, since it breaks tensorflow build currently.\nto get only the lib do:\n$bazel build //tensorflow:libtensorflow_deb\nif you want the headers as well:\n$bazel build //tensorflow:libtensorflow-dev_deb\nNote: libtensorflow-dev debian package depends on libtensorflow being installed on the system as well, so you need both for development (the lib only can be used for deployment).", "body": "Hi,\r\n\r\nSince I need to be able to package the C/C++ libtensorflow as debian packages for development/deployment, I worked on adding bazel rules to build:\r\n- libtensorflow deb package that contains both c and cc CPU lib\r\n- libtensorflow-dev deb package that contains necessary headers to build and link against libtensorflow in C++\r\n\r\nYou can find the changes here(fork+branch against r1.3): https://github.com/tabmo/tensorflow/tree/issue2412\r\nI've tried to 'fit in', feedback is welcome since it's my first time tinkering with Bazel.\r\n@asimshankar , I tried to followup on your comment, let me know about guidance/changes. Depending on priorities, I can work on it If this can make its way as a contribution at some point as I have a need to maintain this on my side anyway.\r\nIt seems related to issue 720 as well but it would be a much larger scope: https://github.com/tensorflow/tensorflow/issues/720\r\n\r\nIf you are using bazel 0.6.0 (released very recently), specify --incompatible_disallow_set_constructor=false, since it breaks tensorflow build currently.\r\n\r\nto get only the lib do:\r\n$bazel build //tensorflow:libtensorflow_deb \r\n\r\nif you want the headers as well:\r\n\r\n$bazel build //tensorflow:libtensorflow-dev_deb\r\nNote: libtensorflow-dev debian package depends on libtensorflow being installed on the system as well, so you need both for development (the lib only can be used for deployment).\r\n\r\n"}