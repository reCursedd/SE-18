{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17752", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17752/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17752/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17752/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17752", "id": 305780859, "node_id": "MDU6SXNzdWUzMDU3ODA4NTk=", "number": 17752, "title": "Error:  Executor failed to create kernel. No registered 'Snapshot' OpKernel for GPU devices,while running image label example", "user": {"login": "GilesCJ", "id": 13750472, "node_id": "MDQ6VXNlcjEzNzUwNDcy", "avatar_url": "https://avatars3.githubusercontent.com/u/13750472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GilesCJ", "html_url": "https://github.com/GilesCJ", "followers_url": "https://api.github.com/users/GilesCJ/followers", "following_url": "https://api.github.com/users/GilesCJ/following{/other_user}", "gists_url": "https://api.github.com/users/GilesCJ/gists{/gist_id}", "starred_url": "https://api.github.com/users/GilesCJ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GilesCJ/subscriptions", "organizations_url": "https://api.github.com/users/GilesCJ/orgs", "repos_url": "https://api.github.com/users/GilesCJ/repos", "events_url": "https://api.github.com/users/GilesCJ/events{/privacy}", "received_events_url": "https://api.github.com/users/GilesCJ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, {"login": "yifeif", "id": 1192265, "node_id": "MDQ6VXNlcjExOTIyNjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1192265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yifeif", "html_url": "https://github.com/yifeif", "followers_url": "https://api.github.com/users/yifeif/followers", "following_url": "https://api.github.com/users/yifeif/following{/other_user}", "gists_url": "https://api.github.com/users/yifeif/gists{/gist_id}", "starred_url": "https://api.github.com/users/yifeif/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yifeif/subscriptions", "organizations_url": "https://api.github.com/users/yifeif/orgs", "repos_url": "https://api.github.com/users/yifeif/repos", "events_url": "https://api.github.com/users/yifeif/events{/privacy}", "received_events_url": "https://api.github.com/users/yifeif/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2018-03-16T02:21:23Z", "updated_at": "2018-03-31T02:52:08Z", "closed_at": "2018-03-31T02:52:08Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>OS Platform: Windows10</li>\n<li>TensorFlow installed from source  (GPU support)</li>\n<li>Python version: 3.5</li>\n<li>Compiler version : Microsoft Visual Studio 2015 x64</li>\n<li>CUDA/cuDNN version:CUDA9.0/cuDNN7.0</li>\n<li>GPU: GTX 1070 8G<br>\n-CMake settings:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/13750472/37500096-84403974-2902-11e8-8e1d-2a540d3a03b5.png\"><img src=\"https://user-images.githubusercontent.com/13750472/37500096-84403974-2902-11e8-8e1d-2a540d3a03b5.png\" alt=\"image\" style=\"max-width:100%;\"></a></li>\n</ul>\n<h3>Problem</h3>\n<p>I successfully built tensorflow.lib and tensorflow.dll, then I linked these to my visual studio project.Everything goes well when I run the example code which does matrix multiplication (the example code on:<a href=\"https://joe-antognini.github.io/machine-learning/windows-tf-project\" rel=\"nofollow\">https://joe-antognini.github.io/machine-learning/windows-tf-project</a>)<br>\nBut when I tried to run the Label_Image example code(<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/label_image/main.cc\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/label_image/main.cc</a>), I got the error:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/13750472/37500237-47decb84-2903-11e8-8bcd-670f4976fb66.png\"><img src=\"https://user-images.githubusercontent.com/13750472/37500237-47decb84-2903-11e8-8bcd-670f4976fb66.png\" alt=\"image\" style=\"max-width:100%;\"></a><br>\n<code>E C:\\tensorflow_gpu\\tensorflow\\tensorflow\\core\\common_runtime\\executor.cc:644] Executor failed to create kernel. Not found: No registered 'Snapshot' OpKernel for GPU devices compatible with node Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear) .  Registered:  device='CPU'; T in [DT_INT64]device='CPU'; T in [DT_INT32] device='CPU'; T in [DT_UINT16] device='CPU'; T in [DT_INT16] device='CPU'; T in [DT_UINT8] device='CPU'; T in [DT_INT8] device='CPU'; T in [DT_HALF] device='CPU'; T in [DT_BFLOAT16] device='CPU'; T in [DT_FLOAT] device='CPU'; T in [DT_DOUBLE] device='CPU'; T in [DT_COMPLEX64] device='CPU'; T in [DT_COMPLEX128] device='CPU'; T in [DT_BOOL] [[Node: Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear)]] 2018-03-14 17:13:05.408206: E Image_Label.cpp:385] Not found: No registered 'Snapshot' OpKernel for GPU devices compatible with node Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear) .  Registered:  device='CPU'; T in [DT_INT64] device='CPU'; T in [DT_INT32] device='CPU'; T in [DT_UINT16] device='CPU'; T in [DT_INT16] device='CPU'; T in [DT_UINT8] device='CPU'; T in [DT_INT8] device='CPU'; T in [DT_HALF] device='CPU'; T in [DT_BFLOAT16] device='CPU'; T in [DT_FLOAT] device='CPU'; T in [DT_DOUBLE] device='CPU'; T in [DT_COMPLEX64] device='CPU'; T in [DT_COMPLEX128] device='CPU'; T in [DT_BOOL] [[Node: Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear)]]</code></p>\n<p>I found out the code stopped at:<br>\n<code>TF_RETURN_IF_ERROR(session-&gt;Run({ inputs }, { output_name }, {}, out_tensors));</code><br>\nin<br>\n<code>Status ReadTensorFromImageFile(const string&amp; file_name, const int input_height, const int input_width, const float input_mean, const float input_std, std::vector&lt;Tensor&gt;* out_tensors)</code></p>\n<p>Does anyone know how to fix this problem??</p>", "body_text": "System information\n\nOS Platform: Windows10\nTensorFlow installed from source  (GPU support)\nPython version: 3.5\nCompiler version : Microsoft Visual Studio 2015 x64\nCUDA/cuDNN version:CUDA9.0/cuDNN7.0\nGPU: GTX 1070 8G\n-CMake settings:\n\n\nProblem\nI successfully built tensorflow.lib and tensorflow.dll, then I linked these to my visual studio project.Everything goes well when I run the example code which does matrix multiplication (the example code on:https://joe-antognini.github.io/machine-learning/windows-tf-project)\nBut when I tried to run the Label_Image example code(https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/label_image/main.cc), I got the error:\n\nE C:\\tensorflow_gpu\\tensorflow\\tensorflow\\core\\common_runtime\\executor.cc:644] Executor failed to create kernel. Not found: No registered 'Snapshot' OpKernel for GPU devices compatible with node Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear) .  Registered:  device='CPU'; T in [DT_INT64]device='CPU'; T in [DT_INT32] device='CPU'; T in [DT_UINT16] device='CPU'; T in [DT_INT16] device='CPU'; T in [DT_UINT8] device='CPU'; T in [DT_INT8] device='CPU'; T in [DT_HALF] device='CPU'; T in [DT_BFLOAT16] device='CPU'; T in [DT_FLOAT] device='CPU'; T in [DT_DOUBLE] device='CPU'; T in [DT_COMPLEX64] device='CPU'; T in [DT_COMPLEX128] device='CPU'; T in [DT_BOOL] [[Node: Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear)]] 2018-03-14 17:13:05.408206: E Image_Label.cpp:385] Not found: No registered 'Snapshot' OpKernel for GPU devices compatible with node Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear) .  Registered:  device='CPU'; T in [DT_INT64] device='CPU'; T in [DT_INT32] device='CPU'; T in [DT_UINT16] device='CPU'; T in [DT_INT16] device='CPU'; T in [DT_UINT8] device='CPU'; T in [DT_INT8] device='CPU'; T in [DT_HALF] device='CPU'; T in [DT_BFLOAT16] device='CPU'; T in [DT_FLOAT] device='CPU'; T in [DT_DOUBLE] device='CPU'; T in [DT_COMPLEX64] device='CPU'; T in [DT_COMPLEX128] device='CPU'; T in [DT_BOOL] [[Node: Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear)]]\nI found out the code stopped at:\nTF_RETURN_IF_ERROR(session->Run({ inputs }, { output_name }, {}, out_tensors));\nin\nStatus ReadTensorFromImageFile(const string& file_name, const int input_height, const int input_width, const float input_mean, const float input_std, std::vector<Tensor>* out_tensors)\nDoes anyone know how to fix this problem??", "body": "### System information\r\n- OS Platform: Windows10\r\n- TensorFlow installed from source  (GPU support)\r\n- Python version: 3.5\r\n- Compiler version : Microsoft Visual Studio 2015 x64\r\n- CUDA/cuDNN version:CUDA9.0/cuDNN7.0\r\n- GPU: GTX 1070 8G\r\n-CMake settings:  \r\n![image](https://user-images.githubusercontent.com/13750472/37500096-84403974-2902-11e8-8e1d-2a540d3a03b5.png)\r\n\r\n### Problem\r\n  I successfully built tensorflow.lib and tensorflow.dll, then I linked these to my visual studio project.Everything goes well when I run the example code which does matrix multiplication (the example code on:https://joe-antognini.github.io/machine-learning/windows-tf-project)\r\n  But when I tried to run the Label_Image example code(https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/label_image/main.cc), I got the error:\r\n![image](https://user-images.githubusercontent.com/13750472/37500237-47decb84-2903-11e8-8bcd-670f4976fb66.png)\r\n`E C:\\tensorflow_gpu\\tensorflow\\tensorflow\\core\\common_runtime\\executor.cc:644] Executor failed to create kernel. Not found: No registered 'Snapshot' OpKernel for GPU devices compatible with node Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear)\r\n    .  Registered:  device='CPU'; T in [DT_INT64]device='CPU'; T in [DT_INT32]\r\ndevice='CPU'; T in [DT_UINT16]\r\ndevice='CPU'; T in [DT_INT16]\r\ndevice='CPU'; T in [DT_UINT8]\r\ndevice='CPU'; T in [DT_INT8]\r\ndevice='CPU'; T in [DT_HALF]\r\ndevice='CPU'; T in [DT_BFLOAT16]\r\ndevice='CPU'; T in [DT_FLOAT]\r\ndevice='CPU'; T in [DT_DOUBLE]\r\ndevice='CPU'; T in [DT_COMPLEX64]\r\ndevice='CPU'; T in [DT_COMPLEX128]\r\ndevice='CPU'; T in [DT_BOOL]\r\n     [[Node: Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear)]]\r\n2018-03-14 17:13:05.408206: E Image_Label.cpp:385] Not found: No registered 'Snapshot' OpKernel for GPU devices compatible with node Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear)\r\n    .  Registered:  device='CPU'; T in [DT_INT64]\r\ndevice='CPU'; T in [DT_INT32]\r\ndevice='CPU'; T in [DT_UINT16]\r\ndevice='CPU'; T in [DT_INT16]\r\ndevice='CPU'; T in [DT_UINT8]\r\ndevice='CPU'; T in [DT_INT8]\r\ndevice='CPU'; T in [DT_HALF]\r\ndevice='CPU'; T in [DT_BFLOAT16]\r\ndevice='CPU'; T in [DT_FLOAT]\r\ndevice='CPU'; T in [DT_DOUBLE]\r\ndevice='CPU'; T in [DT_COMPLEX64]\r\ndevice='CPU'; T in [DT_COMPLEX128]\r\ndevice='CPU'; T in [DT_BOOL]\r\n     [[Node: Subtract = Snapshot[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](ResizeBilinear)]]`\r\n\r\nI found out the code stopped at:\r\n`TF_RETURN_IF_ERROR(session->Run({ inputs }, { output_name }, {}, out_tensors));`\r\nin\r\n`Status ReadTensorFromImageFile(const string& file_name, const int input_height,\r\n    const int input_width, const float input_mean,\r\n    const float input_std,\r\n    std::vector<Tensor>* out_tensors)`\r\n\r\nDoes anyone know how to fix this problem??\r\n\r\n"}