{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/332", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/332/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/332/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/332/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/332", "id": 118348052, "node_id": "MDU6SXNzdWUxMTgzNDgwNTI=", "number": 332, "title": "Link error using c api: undefined reference to symbol 'powf@@GLIBC_2.2.5'", "user": {"login": "chenghuige", "id": 6323467, "node_id": "MDQ6VXNlcjYzMjM0Njc=", "avatar_url": "https://avatars0.githubusercontent.com/u/6323467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenghuige", "html_url": "https://github.com/chenghuige", "followers_url": "https://api.github.com/users/chenghuige/followers", "following_url": "https://api.github.com/users/chenghuige/following{/other_user}", "gists_url": "https://api.github.com/users/chenghuige/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenghuige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenghuige/subscriptions", "organizations_url": "https://api.github.com/users/chenghuige/orgs", "repos_url": "https://api.github.com/users/chenghuige/repos", "events_url": "https://api.github.com/users/chenghuige/events{/privacy}", "received_events_url": "https://api.github.com/users/chenghuige/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-11-23T09:52:41Z", "updated_at": "2015-12-07T22:58:49Z", "closed_at": "2015-12-07T22:58:49Z", "author_association": "NONE", "body_html": "<p><a href=\"http://theyoungcoder.com/loading-a-tensorflow-graph-with-the-c-api/\" rel=\"nofollow\">http://theyoungcoder.com/loading-a-tensorflow-graph-with-the-c-api/</a><br>\nI followed this acticle.</p>\n<p>1   cc_binary(<br>\n2   name = \"loader\",<br>\n3   srcs = [\"loader.cc\"],<br>\n4   deps = [<br>\n5   \"//tensorflow/core:tensorflow\",<br>\n6   ]<br>\n7   )<br>\nHere\u2019s the final directory structure:<br>\n\u2022 tensorflow/tensorflow/loader/<br>\n\u2022 tensorflow/tensorflow/loader/loader.cc<br>\n\u2022 tensorflow/tensorflow/loader/BUILD<br>\nCompile &amp; Run<br>\n\u2022 From inside the project folder call\u00a0bazel build\u00a0:loader.<br>\n\u2022 From the repository root, go into\u00a0bazel-bin/tensorflow/loader.<br>\n\u2022 Copy the graph protobuf to\u00a0models/train.pb.</p>\n<p>Then run\u00a0./loader\u00a0and check the output!</p>\n<p>But when building I got link error<br>\nSlow read: a 551318010-byte read from /home/users/chenghuige/.cache/bazel/_bazel_chenghuige/56e262ed5e70da1d7ac42e55562c6970/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow/core/libkernels.lo took 6143ms.<br>\nINFO: From Linking tensorflow/loader/loader:<br>\n/usr/bin/ld: bazel-out/local_linux-fastbuild/bin/tensorflow/core/libkernels.lo(cwise_op_pow.pic.o): undefined reference to symbol 'powf@@GLIBC_2.2.5'<br>\n/usr/bin/ld: note: 'powf@@GLIBC_2.2.5' is defined in DSO /top/lib/libm.so.6 so try adding it to the linker command line<br>\n/top/lib/libm.so.6: could not read symbols: Invalid operation<br>\ncollect2: error: ld returned 1 exit status<br>\nERROR: /home/users/chenghuige/other/tensorflow/tensorflow/loader/BUILD:1:1: Linking of rule '//tensorflow/loader:loader' failed: gcc failed: error executing command /usr/bin/gcc -o bazel-out/local_linux-fastbuild/bin/tensorflow/loader/loader bazel-out/local_linux-fastbuild/bin/tensorflow/loader/_objs/loader/tensorflow/loader/loader.pic.o -Wl,-whole-archive ... (remaining 45 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\nTarget //tensorflow/loader:loader failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.</p>", "body_text": "http://theyoungcoder.com/loading-a-tensorflow-graph-with-the-c-api/\nI followed this acticle.\n1   cc_binary(\n2   name = \"loader\",\n3   srcs = [\"loader.cc\"],\n4   deps = [\n5   \"//tensorflow/core:tensorflow\",\n6   ]\n7   )\nHere\u2019s the final directory structure:\n\u2022 tensorflow/tensorflow/loader/\n\u2022 tensorflow/tensorflow/loader/loader.cc\n\u2022 tensorflow/tensorflow/loader/BUILD\nCompile & Run\n\u2022 From inside the project folder call\u00a0bazel build\u00a0:loader.\n\u2022 From the repository root, go into\u00a0bazel-bin/tensorflow/loader.\n\u2022 Copy the graph protobuf to\u00a0models/train.pb.\nThen run\u00a0./loader\u00a0and check the output!\nBut when building I got link error\nSlow read: a 551318010-byte read from /home/users/chenghuige/.cache/bazel/_bazel_chenghuige/56e262ed5e70da1d7ac42e55562c6970/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow/core/libkernels.lo took 6143ms.\nINFO: From Linking tensorflow/loader/loader:\n/usr/bin/ld: bazel-out/local_linux-fastbuild/bin/tensorflow/core/libkernels.lo(cwise_op_pow.pic.o): undefined reference to symbol 'powf@@GLIBC_2.2.5'\n/usr/bin/ld: note: 'powf@@GLIBC_2.2.5' is defined in DSO /top/lib/libm.so.6 so try adding it to the linker command line\n/top/lib/libm.so.6: could not read symbols: Invalid operation\ncollect2: error: ld returned 1 exit status\nERROR: /home/users/chenghuige/other/tensorflow/tensorflow/loader/BUILD:1:1: Linking of rule '//tensorflow/loader:loader' failed: gcc failed: error executing command /usr/bin/gcc -o bazel-out/local_linux-fastbuild/bin/tensorflow/loader/loader bazel-out/local_linux-fastbuild/bin/tensorflow/loader/_objs/loader/tensorflow/loader/loader.pic.o -Wl,-whole-archive ... (remaining 45 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nTarget //tensorflow/loader:loader failed to build\nUse --verbose_failures to see the command lines of failed build steps.", "body": "http://theyoungcoder.com/loading-a-tensorflow-graph-with-the-c-api/\nI followed this acticle. \n\n1   cc_binary(\n2   name = \"loader\",\n3   srcs = [\"loader.cc\"],\n4   deps = [\n5   \"//tensorflow/core:tensorflow\",\n6   ]\n7   )\nHere\u2019s the final directory structure:\n\u2022 tensorflow/tensorflow/loader/\n\u2022 tensorflow/tensorflow/loader/loader.cc\n\u2022 tensorflow/tensorflow/loader/BUILD\nCompile & Run\n\u2022 From inside the project folder call\u00a0bazel build\u00a0:loader.\n\u2022 From the repository root, go into\u00a0bazel-bin/tensorflow/loader.\n\u2022 Copy the graph protobuf to\u00a0models/train.pb.\n\nThen run\u00a0./loader\u00a0and check the output!\n\nBut when building I got link error\nSlow read: a 551318010-byte read from /home/users/chenghuige/.cache/bazel/_bazel_chenghuige/56e262ed5e70da1d7ac42e55562c6970/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow/core/libkernels.lo took 6143ms.\nINFO: From Linking tensorflow/loader/loader:\n/usr/bin/ld: bazel-out/local_linux-fastbuild/bin/tensorflow/core/libkernels.lo(cwise_op_pow.pic.o): undefined reference to symbol 'powf@@GLIBC_2.2.5'\n/usr/bin/ld: note: 'powf@@GLIBC_2.2.5' is defined in DSO /top/lib/libm.so.6 so try adding it to the linker command line\n/top/lib/libm.so.6: could not read symbols: Invalid operation\ncollect2: error: ld returned 1 exit status\nERROR: /home/users/chenghuige/other/tensorflow/tensorflow/loader/BUILD:1:1: Linking of rule '//tensorflow/loader:loader' failed: gcc failed: error executing command /usr/bin/gcc -o bazel-out/local_linux-fastbuild/bin/tensorflow/loader/loader bazel-out/local_linux-fastbuild/bin/tensorflow/loader/_objs/loader/tensorflow/loader/loader.pic.o -Wl,-whole-archive ... (remaining 45 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nTarget //tensorflow/loader:loader failed to build\nUse --verbose_failures to see the command lines of failed build steps.\n"}