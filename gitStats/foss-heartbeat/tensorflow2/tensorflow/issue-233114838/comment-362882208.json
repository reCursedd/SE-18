{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/362882208", "html_url": "https://github.com/tensorflow/tensorflow/issues/10389#issuecomment-362882208", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10389", "id": 362882208, "node_id": "MDEyOklzc3VlQ29tbWVudDM2Mjg4MjIwOA==", "user": {"login": "sguada", "id": 1766524, "node_id": "MDQ6VXNlcjE3NjY1MjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1766524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sguada", "html_url": "https://github.com/sguada", "followers_url": "https://api.github.com/users/sguada/followers", "following_url": "https://api.github.com/users/sguada/following{/other_user}", "gists_url": "https://api.github.com/users/sguada/gists{/gist_id}", "starred_url": "https://api.github.com/users/sguada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sguada/subscriptions", "organizations_url": "https://api.github.com/users/sguada/orgs", "repos_url": "https://api.github.com/users/sguada/repos", "events_url": "https://api.github.com/users/sguada/events{/privacy}", "received_events_url": "https://api.github.com/users/sguada/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-04T05:27:01Z", "updated_at": "2018-02-04T05:27:13Z", "author_association": "MEMBER", "body_html": "<p>Not sure why that happens, can you try the following to verify the shape information is propagated.</p>\n<pre><code>import tensorflow as tf\nslim = tf.contrib.slim\ndata_format='NCHW'\n\ninput = tf.placeholder(dtype=tf.float32, shape=[2, 4, None, None])\nnet = slim.conv2d(input, 4, kernel_size=3, stride=1, padding='SAME', rate=2, data_format=data_format)\nprint(net.shape)\n</code></pre>\n<p>If the shape is not well defined then try:</p>\n<pre><code>input = tf.placeholder(dtype=tf.float32, shape=[2, 4, None, None])\nnet = tf.layers.convolution2d(input, 4, kernel_size=3, stride=1, padding='SAME', rate=2, data_format='channels_first')\nprint(net.shape)\n</code></pre>", "body_text": "Not sure why that happens, can you try the following to verify the shape information is propagated.\nimport tensorflow as tf\nslim = tf.contrib.slim\ndata_format='NCHW'\n\ninput = tf.placeholder(dtype=tf.float32, shape=[2, 4, None, None])\nnet = slim.conv2d(input, 4, kernel_size=3, stride=1, padding='SAME', rate=2, data_format=data_format)\nprint(net.shape)\n\nIf the shape is not well defined then try:\ninput = tf.placeholder(dtype=tf.float32, shape=[2, 4, None, None])\nnet = tf.layers.convolution2d(input, 4, kernel_size=3, stride=1, padding='SAME', rate=2, data_format='channels_first')\nprint(net.shape)", "body": "Not sure why that happens, can you try the following to verify the shape information is propagated.\r\n\r\n\r\n```\r\nimport tensorflow as tf\r\nslim = tf.contrib.slim\r\ndata_format='NCHW'\r\n\r\ninput = tf.placeholder(dtype=tf.float32, shape=[2, 4, None, None])\r\nnet = slim.conv2d(input, 4, kernel_size=3, stride=1, padding='SAME', rate=2, data_format=data_format)\r\nprint(net.shape)\r\n```\r\n\r\nIf the shape is not well defined then try:\r\n\r\n```\r\ninput = tf.placeholder(dtype=tf.float32, shape=[2, 4, None, None])\r\nnet = tf.layers.convolution2d(input, 4, kernel_size=3, stride=1, padding='SAME', rate=2, data_format='channels_first')\r\nprint(net.shape)\r\n```"}