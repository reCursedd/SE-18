{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5118", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5118/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5118/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5118/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5118", "id": 184530617, "node_id": "MDU6SXNzdWUxODQ1MzA2MTc=", "number": 5118, "title": "seq2seq tutorial example not working for python 3.4/3.5", "user": {"login": "briangoodness", "id": 2949027, "node_id": "MDQ6VXNlcjI5NDkwMjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/2949027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/briangoodness", "html_url": "https://github.com/briangoodness", "followers_url": "https://api.github.com/users/briangoodness/followers", "following_url": "https://api.github.com/users/briangoodness/following{/other_user}", "gists_url": "https://api.github.com/users/briangoodness/gists{/gist_id}", "starred_url": "https://api.github.com/users/briangoodness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/briangoodness/subscriptions", "organizations_url": "https://api.github.com/users/briangoodness/orgs", "repos_url": "https://api.github.com/users/briangoodness/repos", "events_url": "https://api.github.com/users/briangoodness/events{/privacy}", "received_events_url": "https://api.github.com/users/briangoodness/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2016-10-21T17:00:29Z", "updated_at": "2017-02-10T18:47:39Z", "closed_at": "2017-02-10T18:47:39Z", "author_association": "NONE", "body_html": "<p>I am trying to get the sequence-to-sequence Tensorflow tutorial (<a href=\"https://www.tensorflow.org/versions/r0.11/tutorials/seq2seq/index.html\" rel=\"nofollow\">https://www.tensorflow.org/versions/r0.11/tutorials/seq2seq/index.html</a>) up and running, but after downloading the WMT data, I am facing an error upon creating the vocabulary:</p>\n<pre><code>&gt;&gt; python3 translate.py --data_dir ~/tf-data/\nPreparing WMT data in /home/user/tf-data/\nCreating vocabulary /home/user/tf-data/vocab40000.fr from data /home/user/tf-data/giga-fren.release2.fixed.fr\nTraceback (most recent call last):\n  File \"translate.py\", line 290, in &lt;module&gt;\n    tf.app.run()\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\n  File \"translate.py\", line 287, in main\n    train()\n  File \"translate.py\", line 147, in train\n    FLAGS.data_dir, FLAGS.en_vocab_size, FLAGS.fr_vocab_size)\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/models/rnn/translate/data_utils.py\", line 271, in prepare_wmt_data\n    create_vocabulary(fr_vocab_path, train_path + \".fr\", fr_vocabulary_size, tokenizer)\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/models/rnn/translate/data_utils.py\", line 140, in create_vocabulary\n    tokens = tokenizer(line) if tokenizer else basic_tokenizer(line)\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/models/rnn/translate/data_utils.py\", line 109, in basic_tokenizer\n    words.extend(_WORD_SPLIT.split(space_separated_fragment))\nTypeError: cannot use a bytes pattern on a string-like object\n</code></pre>\n<p>Operating System: Ubuntu 16.04.1 LTS</p>\n<p>I tried running on two different systems (Python 3.4.3, Python 3.5.2), and the same error arises.</p>\n<p>I am running an up-to-date, CPU-only version of Tensorflow 0.11.0rc0 (for the appropriate version of Python 3.4/3.5) in a virtualenv, with an up-to-date version of the github repository.</p>\n<p>My hunch is that this is related to a similar issue (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"139299554\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1432\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1432/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1432\">#1432</a>) that had been previously fixed, but this error is not identical, so am not sure if this is new.</p>\n<p>Any insight would be much appreciated!</p>", "body_text": "I am trying to get the sequence-to-sequence Tensorflow tutorial (https://www.tensorflow.org/versions/r0.11/tutorials/seq2seq/index.html) up and running, but after downloading the WMT data, I am facing an error upon creating the vocabulary:\n>> python3 translate.py --data_dir ~/tf-data/\nPreparing WMT data in /home/user/tf-data/\nCreating vocabulary /home/user/tf-data/vocab40000.fr from data /home/user/tf-data/giga-fren.release2.fixed.fr\nTraceback (most recent call last):\n  File \"translate.py\", line 290, in <module>\n    tf.app.run()\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\n  File \"translate.py\", line 287, in main\n    train()\n  File \"translate.py\", line 147, in train\n    FLAGS.data_dir, FLAGS.en_vocab_size, FLAGS.fr_vocab_size)\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/models/rnn/translate/data_utils.py\", line 271, in prepare_wmt_data\n    create_vocabulary(fr_vocab_path, train_path + \".fr\", fr_vocabulary_size, tokenizer)\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/models/rnn/translate/data_utils.py\", line 140, in create_vocabulary\n    tokens = tokenizer(line) if tokenizer else basic_tokenizer(line)\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/models/rnn/translate/data_utils.py\", line 109, in basic_tokenizer\n    words.extend(_WORD_SPLIT.split(space_separated_fragment))\nTypeError: cannot use a bytes pattern on a string-like object\n\nOperating System: Ubuntu 16.04.1 LTS\nI tried running on two different systems (Python 3.4.3, Python 3.5.2), and the same error arises.\nI am running an up-to-date, CPU-only version of Tensorflow 0.11.0rc0 (for the appropriate version of Python 3.4/3.5) in a virtualenv, with an up-to-date version of the github repository.\nMy hunch is that this is related to a similar issue (#1432) that had been previously fixed, but this error is not identical, so am not sure if this is new.\nAny insight would be much appreciated!", "body": "I am trying to get the sequence-to-sequence Tensorflow tutorial (https://www.tensorflow.org/versions/r0.11/tutorials/seq2seq/index.html) up and running, but after downloading the WMT data, I am facing an error upon creating the vocabulary: \n\n```\n>> python3 translate.py --data_dir ~/tf-data/\nPreparing WMT data in /home/user/tf-data/\nCreating vocabulary /home/user/tf-data/vocab40000.fr from data /home/user/tf-data/giga-fren.release2.fixed.fr\nTraceback (most recent call last):\n  File \"translate.py\", line 290, in <module>\n    tf.app.run()\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\n  File \"translate.py\", line 287, in main\n    train()\n  File \"translate.py\", line 147, in train\n    FLAGS.data_dir, FLAGS.en_vocab_size, FLAGS.fr_vocab_size)\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/models/rnn/translate/data_utils.py\", line 271, in prepare_wmt_data\n    create_vocabulary(fr_vocab_path, train_path + \".fr\", fr_vocabulary_size, tokenizer)\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/models/rnn/translate/data_utils.py\", line 140, in create_vocabulary\n    tokens = tokenizer(line) if tokenizer else basic_tokenizer(line)\n  File \"/home/user/tensorflow3/lib/python3.5/site-packages/tensorflow/models/rnn/translate/data_utils.py\", line 109, in basic_tokenizer\n    words.extend(_WORD_SPLIT.split(space_separated_fragment))\nTypeError: cannot use a bytes pattern on a string-like object\n```\n\nOperating System: Ubuntu 16.04.1 LTS\n\nI tried running on two different systems (Python 3.4.3, Python 3.5.2), and the same error arises.\n\nI am running an up-to-date, CPU-only version of Tensorflow 0.11.0rc0 (for the appropriate version of Python 3.4/3.5) in a virtualenv, with an up-to-date version of the github repository.\n\nMy hunch is that this is related to a similar issue (https://github.com/tensorflow/tensorflow/issues/1432) that had been previously fixed, but this error is not identical, so am not sure if this is new.\n\nAny insight would be much appreciated!\n"}