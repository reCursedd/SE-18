{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/406720572", "html_url": "https://github.com/tensorflow/tensorflow/issues/20980#issuecomment-406720572", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20980", "id": 406720572, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjcyMDU3Mg==", "user": {"login": "shashishekhar", "id": 1162712, "node_id": "MDQ6VXNlcjExNjI3MTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1162712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shashishekhar", "html_url": "https://github.com/shashishekhar", "followers_url": "https://api.github.com/users/shashishekhar/followers", "following_url": "https://api.github.com/users/shashishekhar/following{/other_user}", "gists_url": "https://api.github.com/users/shashishekhar/gists{/gist_id}", "starred_url": "https://api.github.com/users/shashishekhar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shashishekhar/subscriptions", "organizations_url": "https://api.github.com/users/shashishekhar/orgs", "repos_url": "https://api.github.com/users/shashishekhar/repos", "events_url": "https://api.github.com/users/shashishekhar/events{/privacy}", "received_events_url": "https://api.github.com/users/shashishekhar/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-20T20:39:35Z", "updated_at": "2018-07-20T20:39:35Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5951281\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jbuisson1\">@jbuisson1</a> : My suspicion without looking at the images will be that images fed to classifier are not correct or not in the same format as during the training. You can try doing a sanity check of images that you are feeding to the classifier.<br>\nTry dumping the images to sdcard after you do<br>\nbitmap.getPixels(...) in convertBitmapToByteBuffer.  Check if they match with the images during the training phase after pre-processing.<br>\nLet me know if that helps. You can also try running the non-TFLite model on Android and check if there is an accuracy loss. I suspect you will see a loss there as well, which would mean an error in the pre-processing phase.</p>", "body_text": "@jbuisson1 : My suspicion without looking at the images will be that images fed to classifier are not correct or not in the same format as during the training. You can try doing a sanity check of images that you are feeding to the classifier.\nTry dumping the images to sdcard after you do\nbitmap.getPixels(...) in convertBitmapToByteBuffer.  Check if they match with the images during the training phase after pre-processing.\nLet me know if that helps. You can also try running the non-TFLite model on Android and check if there is an accuracy loss. I suspect you will see a loss there as well, which would mean an error in the pre-processing phase.", "body": "@jbuisson1 : My suspicion without looking at the images will be that images fed to classifier are not correct or not in the same format as during the training. You can try doing a sanity check of images that you are feeding to the classifier.\r\nTry dumping the images to sdcard after you do \r\nbitmap.getPixels(...) in convertBitmapToByteBuffer.  Check if they match with the images during the training phase after pre-processing.\r\nLet me know if that helps. You can also try running the non-TFLite model on Android and check if there is an accuracy loss. I suspect you will see a loss there as well, which would mean an error in the pre-processing phase.\r\n"}