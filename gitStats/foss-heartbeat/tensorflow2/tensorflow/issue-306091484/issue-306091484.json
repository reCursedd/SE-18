{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17784", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17784/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17784/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17784/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17784", "id": 306091484, "node_id": "MDU6SXNzdWUzMDYwOTE0ODQ=", "number": 17784, "title": "tensorflow.python.framework.errors_impl.InvalidArgumentError", "user": {"login": "ashigirl96", "id": 29683674, "node_id": "MDQ6VXNlcjI5NjgzNjc0", "avatar_url": "https://avatars0.githubusercontent.com/u/29683674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashigirl96", "html_url": "https://github.com/ashigirl96", "followers_url": "https://api.github.com/users/ashigirl96/followers", "following_url": "https://api.github.com/users/ashigirl96/following{/other_user}", "gists_url": "https://api.github.com/users/ashigirl96/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashigirl96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashigirl96/subscriptions", "organizations_url": "https://api.github.com/users/ashigirl96/orgs", "repos_url": "https://api.github.com/users/ashigirl96/repos", "events_url": "https://api.github.com/users/ashigirl96/events{/privacy}", "received_events_url": "https://api.github.com/users/ashigirl96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-03-16T22:10:12Z", "updated_at": "2018-05-09T05:00:36Z", "closed_at": "2018-05-09T05:00:36Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>Have I written custom code: Yes</li>\n<li>OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04</li>\n<li>TensorFlow installed from (source or binary): pip</li>\n<li>TensorFlow version (use command below): 1.6.0</li>\n<li>Bazel version: Build label: 0.11.1</li>\n<li>CUDA/cuDNN version: 9.0</li>\n<li>GPU model and memory:</li>\n</ul>\n<pre><code>== nvidia-smi ===================================================\nSun Mar 18 02:30:17 2018\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 390.30                 Driver Version: 390.30                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Quadro P400         Off  | 00000000:01:00.0 Off |                  N/A |\n| 34%   35C    P0    N/A /  N/A |     35MiB /  1999MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  Quadro GP100        Off  | 00000000:02:00.0 Off |                  Off |\n| 26%   42C    P0    35W / 235W |  15483MiB / 16278MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n</code></pre>\n<h3>Describe the problem</h3>\n<p>How can I use <code>tf.scatter_update</code> with <code>tf.bool</code>  in the eager mode?</p>\n<pre><code>tensorflow.python.framework.errors_impl.InvalidArgumentError: Value for attr 'dtype' of bool is not in the list of allowed values: float, double, int32, uint8, int16, int8, complex64, int64, qint8, quint8, qint32, bfloat16, uint16, complex128, half, uint32, uint64\n\t; NodeDef: ResourceScatterUpdate = ResourceScatterUpdate[Tindices=DT_INT32, dtype=DT_BOOL](dummy_input, dummy_input, dummy_input); Op&lt;name=ResourceScatterUpdate; signature=resource:resource, indices:Tindices, updates:dtype -&gt; ; attr=dtype:type,allowed=[DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT16, ..., DT_UINT16, DT_COMPLEX128, DT_HALF, DT_UINT32, DT_UINT64]; attr=Tindices:type,allowed=[DT_INT32, DT_INT64]; is_stateful=true&gt; [Op:ResourceScatterUpdate]\n</code></pre>\n<h3>Source code / logs</h3>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">from</span> tensorflow.contrib.eager.python <span class=\"pl-k\">import</span> tfe\n<span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\n\n<span class=\"pl-k\">def</span> <span class=\"pl-en\">main</span>(<span class=\"pl-smi\">_</span>):\n\tref <span class=\"pl-k\">=</span> tfe.Variable([<span class=\"pl-c1\">False</span>, <span class=\"pl-c1\">True</span>, <span class=\"pl-c1\">False</span>], <span class=\"pl-v\">trainable</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">False</span>)\n\tindices <span class=\"pl-k\">=</span> tf.range(<span class=\"pl-c1\">3</span>)\n\tupdates <span class=\"pl-k\">=</span> tf.constant([<span class=\"pl-c1\">True</span>, <span class=\"pl-c1\">True</span>, <span class=\"pl-c1\">True</span>])\n\t_update <span class=\"pl-k\">=</span> tf.scatter_update(ref, indices, updates)\n\n\n<span class=\"pl-k\">if</span> <span class=\"pl-c1\">__name__</span> <span class=\"pl-k\">==</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>__main__<span class=\"pl-pds\">'</span></span>:\n\ttfe.enable_eager_execution()\n\ttf.app.run()</pre></div>", "body_text": "System information\n\nHave I written custom code: Yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nTensorFlow installed from (source or binary): pip\nTensorFlow version (use command below): 1.6.0\nBazel version: Build label: 0.11.1\nCUDA/cuDNN version: 9.0\nGPU model and memory:\n\n== nvidia-smi ===================================================\nSun Mar 18 02:30:17 2018\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 390.30                 Driver Version: 390.30                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Quadro P400         Off  | 00000000:01:00.0 Off |                  N/A |\n| 34%   35C    P0    N/A /  N/A |     35MiB /  1999MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  Quadro GP100        Off  | 00000000:02:00.0 Off |                  Off |\n| 26%   42C    P0    35W / 235W |  15483MiB / 16278MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n\nDescribe the problem\nHow can I use tf.scatter_update with tf.bool  in the eager mode?\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Value for attr 'dtype' of bool is not in the list of allowed values: float, double, int32, uint8, int16, int8, complex64, int64, qint8, quint8, qint32, bfloat16, uint16, complex128, half, uint32, uint64\n\t; NodeDef: ResourceScatterUpdate = ResourceScatterUpdate[Tindices=DT_INT32, dtype=DT_BOOL](dummy_input, dummy_input, dummy_input); Op<name=ResourceScatterUpdate; signature=resource:resource, indices:Tindices, updates:dtype -> ; attr=dtype:type,allowed=[DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT16, ..., DT_UINT16, DT_COMPLEX128, DT_HALF, DT_UINT32, DT_UINT64]; attr=Tindices:type,allowed=[DT_INT32, DT_INT64]; is_stateful=true> [Op:ResourceScatterUpdate]\n\nSource code / logs\nfrom tensorflow.contrib.eager.python import tfe\nimport tensorflow as tf\n\n\ndef main(_):\n\tref = tfe.Variable([False, True, False], trainable=False)\n\tindices = tf.range(3)\n\tupdates = tf.constant([True, True, True])\n\t_update = tf.scatter_update(ref, indices, updates)\n\n\nif __name__ == '__main__':\n\ttfe.enable_eager_execution()\n\ttf.app.run()", "body": "### System information\r\n\r\n-    Have I written custom code: Yes\r\n-    OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\r\n-   TensorFlow installed from (source or binary): pip\r\n-    TensorFlow version (use command below): 1.6.0\r\n- Bazel version: Build label: 0.11.1\r\n- CUDA/cuDNN version: 9.0\r\n- GPU model and memory:\r\n\r\n```\r\n== nvidia-smi ===================================================\r\nSun Mar 18 02:30:17 2018\r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 390.30                 Driver Version: 390.30                    |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  Quadro P400         Off  | 00000000:01:00.0 Off |                  N/A |\r\n| 34%   35C    P0    N/A /  N/A |     35MiB /  1999MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   1  Quadro GP100        Off  | 00000000:02:00.0 Off |                  Off |\r\n| 26%   42C    P0    35W / 235W |  15483MiB / 16278MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n```\r\n\r\n\r\n### Describe the problem\r\n\r\nHow can I use `tf.scatter_update` with `tf.bool`  in the eager mode?\r\n\r\n\r\n```\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Value for attr 'dtype' of bool is not in the list of allowed values: float, double, int32, uint8, int16, int8, complex64, int64, qint8, quint8, qint32, bfloat16, uint16, complex128, half, uint32, uint64\r\n\t; NodeDef: ResourceScatterUpdate = ResourceScatterUpdate[Tindices=DT_INT32, dtype=DT_BOOL](dummy_input, dummy_input, dummy_input); Op<name=ResourceScatterUpdate; signature=resource:resource, indices:Tindices, updates:dtype -> ; attr=dtype:type,allowed=[DT_FLOAT, DT_DOUBLE, DT_INT32, DT_UINT8, DT_INT16, ..., DT_UINT16, DT_COMPLEX128, DT_HALF, DT_UINT32, DT_UINT64]; attr=Tindices:type,allowed=[DT_INT32, DT_INT64]; is_stateful=true> [Op:ResourceScatterUpdate]\r\n```\r\n\r\n### Source code / logs\r\n\r\n```python\r\nfrom tensorflow.contrib.eager.python import tfe\r\nimport tensorflow as tf\r\n\r\n\r\ndef main(_):\r\n\tref = tfe.Variable([False, True, False], trainable=False)\r\n\tindices = tf.range(3)\r\n\tupdates = tf.constant([True, True, True])\r\n\t_update = tf.scatter_update(ref, indices, updates)\r\n\r\n\r\nif __name__ == '__main__':\r\n\ttfe.enable_eager_execution()\r\n\ttf.app.run()\r\n```\r\n\r\n"}