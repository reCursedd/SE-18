{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/305969578", "html_url": "https://github.com/tensorflow/tensorflow/issues/2938#issuecomment-305969578", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2938", "id": 305969578, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTk2OTU3OA==", "user": {"login": "sleighsoft", "id": 9438971, "node_id": "MDQ6VXNlcjk0Mzg5NzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/9438971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sleighsoft", "html_url": "https://github.com/sleighsoft", "followers_url": "https://api.github.com/users/sleighsoft/followers", "following_url": "https://api.github.com/users/sleighsoft/following{/other_user}", "gists_url": "https://api.github.com/users/sleighsoft/gists{/gist_id}", "starred_url": "https://api.github.com/users/sleighsoft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sleighsoft/subscriptions", "organizations_url": "https://api.github.com/users/sleighsoft/orgs", "repos_url": "https://api.github.com/users/sleighsoft/repos", "events_url": "https://api.github.com/users/sleighsoft/events{/privacy}", "received_events_url": "https://api.github.com/users/sleighsoft/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-03T11:38:03Z", "updated_at": "2017-06-03T11:38:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I am facing a similar problem with a tensor <code>features</code> coming from a shuffle_batch queue.</p>\n<pre><code>(Pdb) features.shape\nTensorShape([Dimension(5), Dimension(10)])\n(Pdb) features\n&lt;tf.Tensor 'shuffle_batch:0' shape=(5, 10) dtype=int32&gt;\n(Pdb) tf.shape(features)\n&lt;tf.Tensor 'Shape_3:0' shape=(2,) dtype=int32&gt;\n(Pdb) tf.shape(features)[0]\n&lt;tf.Tensor 'strided_slice_1:0' shape=() dtype=int32&gt;\n(Pdb) tf.shape(features)[0].shape\nTensorShape([])\n</code></pre>\n<p><code>features.shape</code> shows the correct TensorShape but when using <code>tf.shape(features)[0]</code> the output is wrong or empty.</p>", "body_text": "I am facing a similar problem with a tensor features coming from a shuffle_batch queue.\n(Pdb) features.shape\nTensorShape([Dimension(5), Dimension(10)])\n(Pdb) features\n<tf.Tensor 'shuffle_batch:0' shape=(5, 10) dtype=int32>\n(Pdb) tf.shape(features)\n<tf.Tensor 'Shape_3:0' shape=(2,) dtype=int32>\n(Pdb) tf.shape(features)[0]\n<tf.Tensor 'strided_slice_1:0' shape=() dtype=int32>\n(Pdb) tf.shape(features)[0].shape\nTensorShape([])\n\nfeatures.shape shows the correct TensorShape but when using tf.shape(features)[0] the output is wrong or empty.", "body": "I am facing a similar problem with a tensor `features` coming from a shuffle_batch queue.\r\n```\r\n(Pdb) features.shape\r\nTensorShape([Dimension(5), Dimension(10)])\r\n(Pdb) features\r\n<tf.Tensor 'shuffle_batch:0' shape=(5, 10) dtype=int32>\r\n(Pdb) tf.shape(features)\r\n<tf.Tensor 'Shape_3:0' shape=(2,) dtype=int32>\r\n(Pdb) tf.shape(features)[0]\r\n<tf.Tensor 'strided_slice_1:0' shape=() dtype=int32>\r\n(Pdb) tf.shape(features)[0].shape\r\nTensorShape([])\r\n```\r\n\r\n`features.shape` shows the correct TensorShape but when using `tf.shape(features)[0]` the output is wrong or empty."}