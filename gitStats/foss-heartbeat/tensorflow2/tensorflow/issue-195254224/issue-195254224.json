{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6285", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6285/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6285/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6285/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6285", "id": 195254224, "node_id": "MDU6SXNzdWUxOTUyNTQyMjQ=", "number": 6285, "title": "in debug mode, got Assertion `cudaGetLastError() == cudaSuccess' failed", "user": {"login": "aseuteurideu", "id": 15900258, "node_id": "MDQ6VXNlcjE1OTAwMjU4", "avatar_url": "https://avatars0.githubusercontent.com/u/15900258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aseuteurideu", "html_url": "https://github.com/aseuteurideu", "followers_url": "https://api.github.com/users/aseuteurideu/followers", "following_url": "https://api.github.com/users/aseuteurideu/following{/other_user}", "gists_url": "https://api.github.com/users/aseuteurideu/gists{/gist_id}", "starred_url": "https://api.github.com/users/aseuteurideu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aseuteurideu/subscriptions", "organizations_url": "https://api.github.com/users/aseuteurideu/orgs", "repos_url": "https://api.github.com/users/aseuteurideu/repos", "events_url": "https://api.github.com/users/aseuteurideu/events{/privacy}", "received_events_url": "https://api.github.com/users/aseuteurideu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 284463744, "node_id": "MDU6TGFiZWwyODQ0NjM3NDQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cuda", "name": "cuda", "color": "f7c6c7", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-12-13T13:34:33Z", "updated_at": "2017-03-03T03:15:28Z", "closed_at": "2017-03-03T03:15:28Z", "author_association": "NONE", "body_html": "<p>Environment: Ubuntu 14.04, CUDA 8, CuDNN 5.1, Tensorflow r0.12<br>\nBuild command<br>\n<code>bazel build -c opt --config cuda -c dbg --strip=never  //tensorflow/tools/pip_package:build_pip_package</code></p>\n<p>previously, following the installation of tensorflow (not in debug mode), my code works well. But, after I rebuild with above command, it shows this error in the middle of running the session.</p>\n<blockquote>\n<p>I tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcupti.so.8.0 locally<br>\npython: external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:262: static void Eigen::internal::TensorExecutor&lt;Expression, Eigen::GpuDevice, Vectorizable&gt;::run(const Expression&amp;, const Eigen::GpuDevice&amp;) [with Expression = const Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;float, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;, const Eigen::TensorCwiseBinaryOp&lt;Eigen::internal::scalar_max_op&lt;const float, const float&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const float, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;, const Eigen::TensorCwiseNullaryOp&lt;Eigen::internal::scalar_constant_op, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const float, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt; &gt; &gt;; bool Vectorizable = true]: Assertion `cudaGetLastError() == cudaSuccess' failed.</p>\n</blockquote>\n<p>the backtrace result from gdb when the error comes (seems from ReLU operator):</p>\n<blockquote>\n<p>(gdb) bt<br>\n#0  0x00007ff450df6c37 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a>  0x00007ff450dfa028 in __GI_abort () at abort.c:89<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115894138\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2\">#2</a>  0x00007ff450defbf6 in __assert_fail_base (<br>\nfmt=0x7ff450f403b8 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\",<br>\nassertion=assertion@entry=0x7ff42dc57260 \"cudaGetLastError() == cudaSuccess\",<br>\nfile=file@entry=0x7ff42dc57210 \"external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h\", line=line@entry=262,<br>\nfunction=function@entry=0x7ff42dc58f80 &lt;Eigen::internal::TensorExecutor&lt;Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;float, 1, 1, long&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorCwiseBinaryOp&lt;Eigen::internal::scalar_max_op&lt;float const, float const&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const, Eigen::TensorCwiseNullaryOp&lt;Eigen::internal::scalar_constant_op, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const&gt; const&gt; const&gt; const, Eigen::GpuDevice, true&gt;::run(Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;float, 1, 1, long&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorCwiseBinaryOp&lt;Eigen::internal::scalar_max_op&lt;float const, float const&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const, Eigen::TensorCwiseNullaryOp&lt;Eigen::internal::scalar_constant_op, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const&gt; const&gt; const&gt; const&amp;, Eigen::GpuDevice const&amp;)::<strong>PRETTY_FUNCTION</strong>&gt; \"static void Eigen::internal::TensorExecutor&lt;Expression, Eigen::GpuDevice, Vectorizable&gt;::run(const Expression&amp;, const Eigen::GpuDevice&amp;) [with Expression = const Eigen::TensorAssignOp&lt;Eigen::TensorMap\"...) at assert.c:92<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115896656\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/3\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/3/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/3\">#3</a>  0x00007ff450defca2 in __GI___assert_fail (<br>\nassertion=0x7ff42dc57260 \"cudaGetLastError() == cudaSuccess\",<br>\nfile=0x7ff42dc57210 \"external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h\", line=262,<br>\nfunction=0x7ff42dc58f80 &lt;Eigen::internal::TensorExecutor&lt;Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;float, 1, 1, long&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorCwiseBinaryOp&lt;Eigen::internal::scalar_max_op&lt;float const, float const&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const, Eigen::TensorCwiseNullaryOp&lt;Eigen::internal::scalar_constant_op, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const&gt; const&gt; const&gt; const, Eigen::GpuDevice, true&gt;::run(Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;float, 1, 1, long&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorCwiseBinaryOp&lt;Eigen::internal::scalar_max_op&lt;float const, float const&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const, Eigen::TensorCwiseNullaryOp&lt;Eigen::internal::scalar_constant_op, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const&gt; const&gt; const&gt; const&amp;, Eigen::GpuDevice const&amp;)::<strong>PRETTY_FUNCTION</strong>&gt; \"static void Eigen::internal::TensorExecutor&lt;Expression, Eigen::GpuDevice, Vectorizable&gt;::run(const Expression&amp;, const Eigen::GpuDevice&amp;) [with Expression = const Eigen::TensorAssignOp&lt;Eigen::TensorMap\"...) at assert.c:101<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115898449\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4\">#4</a>  0x00007ff42ad39672 in Eigen::internal::TensorExecutor&lt;Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;float, 1, 1, long&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorCwiseBinaryOp&lt;Eigen::internal::scalar_max_op&lt;float const, float const&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const, Eigen::TensorCwiseNullaryOp&lt;Eigen::internal::scalar_constant_op, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const&gt; const&gt; const&gt; const, Eigen::GpuDevice, true&gt;::run (expr=..., device=...)<br>\nat external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:260<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115910900\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5\">#5</a>  0x00007ff42ad37a6b in Eigen::TensorDevice&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;float, 1, 1, long&gt;, 16, Eigen::MakePointer&gt;, Eigen::GpuDevice&gt;::operator=&lt;Eigen::TensorCwiseBinaryOp&lt;Eigen::internal::scalar_max_op&lt;float const, float const&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const, Eigen::TensorCwiseNullaryOp&lt;Eigen::internal::scalar_constant_op, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 1, 1, long&gt;, 16, Eigen::MakePointer&gt; const&gt; const&gt; &gt; (<br>\nthis=0x7ff35b7fcfe0, other=...)<br>\nat external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115911735\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/6\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/6/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/6\">#6</a>  0x00007ff42ad36cb0 in tensorflow::functor::Relu&lt;Eigen::GpuDevice, float&gt;::operator() (<br>\nthis=0x7ff35b7fd04f, d=..., features=..., activations=...)<br>\nat ./tensorflow/core/kernels/relu_op_functor.h:35<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115912111\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/7/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/7\">#7</a>  0x00007ff42acf48c1 in tensorflow::ReluOp&lt;Eigen::GpuDevice, float&gt;::Operate (this=0x59fde00,<br>\ncontext=0x7ff35b7fd8f0, input=..., output=0x7ff23ce68390)<br>\nat ./tensorflow/core/kernels/relu_op.h:40<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914495\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/8/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/8\">#8</a>  0x00007ff42acee479 in tensorflow::UnaryElementWiseOp&lt;float, tensorflow::ReluOp&lt;Eigen::GpuDevice, float&gt; &gt;::Compute (this=0x59fde00, context=0x7ff35b7fd8f0)<br>\nat ./tensorflow/core/framework/numeric_op.h:62<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914691\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/9/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/9\">#9</a>  0x00007ff42c18523c in tensorflow::BaseGPUDevice::Compute (this=0x5964560, op_kernel=0x59fde00,<br>\ncontext=0x7ff35b7fd8f0) at tensorflow/core/common_runtime/gpu/gpu_device.cc:385<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914766\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/10\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/10/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/10\">#10</a> 0x00007ff42c402c39 in tensorflow::(anonymous namespace)::ExecutorState::Process (<br>\nthis=0x3d553c80, tagged_node=..., scheduled_usec=1481634999542636)<br>\nat tensorflow/core/common_runtime/executor.cc:1364<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914813\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/11\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/11/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/11\">#11</a> 0x00007ff42c404881 in tensorflow::(anonymous namespace)::ExecutorState::__lambda4::operator() (<br>\n__closure=0x3d557a70) at tensorflow/core/common_runtime/executor.cc:1746<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115915395\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/12\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/12/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/12\">#12</a> 0x00007ff42c40ada4 in std::_Function_handler&lt;void(), tensorflow::(anonymous namespace)::ExecutorState::ScheduleReady(const TaggedNodeSeq&amp;, tensorflow::(anonymous namespace)::ExecutorState::TaggedNodeReadyQueue*)::__lambda4&gt;::_M_invoke(const std::_Any_data &amp;) (__functor=...)<br>\nat /usr/include/c++/4.8/functional:2071<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115918299\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/13\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/13/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/13\">#13</a> 0x00007ff428bcc7a8 in std::function&lt;void ()&gt;::operator()() const (this=0x3d557ab0)<br>\nat /usr/include/c++/4.8/functional:2471<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115918464\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/14/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/14\">#14</a> 0x00007ff42c6f0b80 in tensorflow::thread::EigenEnvironment::ExecuteTask (this=0x59921a8, t=...)<br>\nat tensorflow/core/lib/core/threadpool.cc:82<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115922135\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/15\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/15/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/15\">#15</a> 0x00007ff42c6f29fb in Eigen::NonBlockingThreadPoolTempltensorflow::thread::EigenEnvironment::WorkerLoop (this=0x59921a0, thread_id=7)<br>\nat external/eigen_archive/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:167<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115925923\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/16\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/16/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/16\">#16</a> 0x00007ff42c6f1508 in Eigen::NonBlockingThreadPoolTempltensorflow::thread::EigenEnvironment::NonBlockingThreadPoolTempl(int, tensorflow::thread::EigenEnvironment)::{lambda()<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a>}::operator()() const<br>\n() at external/eigen_archive/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:58<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115925964\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/17\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/17\">#17</a> 0x00007ff42c6f3927 in std::_Function_handler&lt;void (), Eigen::NonBlockingThreadPoolTempltensorflow::thread::EigenEnvironment::NonBlockingThreadPoolTempl(int, tensorflow::thread::EigenEnvironment)::{lambda()<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a>}&gt;::_M_invoke(std::_Any_data const&amp;) (__functor=...) at /usr/include/c++/4.8/functional:2071<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115926208\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/18\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/18/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/18\">#18</a> 0x00007ff428bcc7a8 in std::function&lt;void ()&gt;::operator()() const (this=0x59c3bf0)</p>\n</blockquote>\n<p>I haven't tried anything as I don't have any idea about this error. I tried with other architecture, it was working. The difference between this and other architecture is this architecture (the one with error) has depthwise layer and the other (the one without error) doesn't have depthwise layer. Seems not connected with the error from relu layer, so I don't have any idea. Both architectures were working in the non-debugging mode</p>", "body_text": "Environment: Ubuntu 14.04, CUDA 8, CuDNN 5.1, Tensorflow r0.12\nBuild command\nbazel build -c opt --config cuda -c dbg --strip=never  //tensorflow/tools/pip_package:build_pip_package\npreviously, following the installation of tensorflow (not in debug mode), my code works well. But, after I rebuild with above command, it shows this error in the middle of running the session.\n\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcupti.so.8.0 locally\npython: external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:262: static void Eigen::internal::TensorExecutor<Expression, Eigen::GpuDevice, Vectorizable>::run(const Expression&, const Eigen::GpuDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<const float, const float>, const Eigen::TensorMap<Eigen::Tensor<const float, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op, const Eigen::TensorMap<Eigen::Tensor<const float, 1, 1, long int>, 16, Eigen::MakePointer> > > >; bool Vectorizable = true]: Assertion `cudaGetLastError() == cudaSuccess' failed.\n\nthe backtrace result from gdb when the error comes (seems from ReLU operator):\n\n(gdb) bt\n#0  0x00007ff450df6c37 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ff450dfa028 in __GI_abort () at abort.c:89\n#2  0x00007ff450defbf6 in __assert_fail_base (\nfmt=0x7ff450f403b8 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\",\nassertion=assertion@entry=0x7ff42dc57260 \"cudaGetLastError() == cudaSuccess\",\nfile=file@entry=0x7ff42dc57210 \"external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h\", line=line@entry=262,\nfunction=function@entry=0x7ff42dc58f80 <Eigen::internal::TensorExecutor<Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> const> const, Eigen::GpuDevice, true>::run(Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> const> const&, Eigen::GpuDevice const&)::PRETTY_FUNCTION> \"static void Eigen::internal::TensorExecutor<Expression, Eigen::GpuDevice, Vectorizable>::run(const Expression&, const Eigen::GpuDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap\"...) at assert.c:92\n#3  0x00007ff450defca2 in __GI___assert_fail (\nassertion=0x7ff42dc57260 \"cudaGetLastError() == cudaSuccess\",\nfile=0x7ff42dc57210 \"external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h\", line=262,\nfunction=0x7ff42dc58f80 <Eigen::internal::TensorExecutor<Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> const> const, Eigen::GpuDevice, true>::run(Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> const> const&, Eigen::GpuDevice const&)::PRETTY_FUNCTION> \"static void Eigen::internal::TensorExecutor<Expression, Eigen::GpuDevice, Vectorizable>::run(const Expression&, const Eigen::GpuDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap\"...) at assert.c:101\n#4  0x00007ff42ad39672 in Eigen::internal::TensorExecutor<Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> const> const, Eigen::GpuDevice, true>::run (expr=..., device=...)\nat external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:260\n#5  0x00007ff42ad37a6b in Eigen::TensorDevice<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::GpuDevice>::operator=<Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> > (\nthis=0x7ff35b7fcfe0, other=...)\nat external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35\n#6  0x00007ff42ad36cb0 in tensorflow::functor::Relu<Eigen::GpuDevice, float>::operator() (\nthis=0x7ff35b7fd04f, d=..., features=..., activations=...)\nat ./tensorflow/core/kernels/relu_op_functor.h:35\n#7  0x00007ff42acf48c1 in tensorflow::ReluOp<Eigen::GpuDevice, float>::Operate (this=0x59fde00,\ncontext=0x7ff35b7fd8f0, input=..., output=0x7ff23ce68390)\nat ./tensorflow/core/kernels/relu_op.h:40\n#8  0x00007ff42acee479 in tensorflow::UnaryElementWiseOp<float, tensorflow::ReluOp<Eigen::GpuDevice, float> >::Compute (this=0x59fde00, context=0x7ff35b7fd8f0)\nat ./tensorflow/core/framework/numeric_op.h:62\n#9  0x00007ff42c18523c in tensorflow::BaseGPUDevice::Compute (this=0x5964560, op_kernel=0x59fde00,\ncontext=0x7ff35b7fd8f0) at tensorflow/core/common_runtime/gpu/gpu_device.cc:385\n#10 0x00007ff42c402c39 in tensorflow::(anonymous namespace)::ExecutorState::Process (\nthis=0x3d553c80, tagged_node=..., scheduled_usec=1481634999542636)\nat tensorflow/core/common_runtime/executor.cc:1364\n#11 0x00007ff42c404881 in tensorflow::(anonymous namespace)::ExecutorState::__lambda4::operator() (\n__closure=0x3d557a70) at tensorflow/core/common_runtime/executor.cc:1746\n#12 0x00007ff42c40ada4 in std::_Function_handler<void(), tensorflow::(anonymous namespace)::ExecutorState::ScheduleReady(const TaggedNodeSeq&, tensorflow::(anonymous namespace)::ExecutorState::TaggedNodeReadyQueue*)::__lambda4>::_M_invoke(const std::_Any_data &) (__functor=...)\nat /usr/include/c++/4.8/functional:2071\n#13 0x00007ff428bcc7a8 in std::function<void ()>::operator()() const (this=0x3d557ab0)\nat /usr/include/c++/4.8/functional:2471\n#14 0x00007ff42c6f0b80 in tensorflow::thread::EigenEnvironment::ExecuteTask (this=0x59921a8, t=...)\nat tensorflow/core/lib/core/threadpool.cc:82\n#15 0x00007ff42c6f29fb in Eigen::NonBlockingThreadPoolTempltensorflow::thread::EigenEnvironment::WorkerLoop (this=0x59921a0, thread_id=7)\nat external/eigen_archive/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:167\n#16 0x00007ff42c6f1508 in Eigen::NonBlockingThreadPoolTempltensorflow::thread::EigenEnvironment::NonBlockingThreadPoolTempl(int, tensorflow::thread::EigenEnvironment)::{lambda()#1}::operator()() const\n() at external/eigen_archive/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:58\n#17 0x00007ff42c6f3927 in std::_Function_handler<void (), Eigen::NonBlockingThreadPoolTempltensorflow::thread::EigenEnvironment::NonBlockingThreadPoolTempl(int, tensorflow::thread::EigenEnvironment)::{lambda()#1}>::_M_invoke(std::_Any_data const&) (__functor=...) at /usr/include/c++/4.8/functional:2071\n#18 0x00007ff428bcc7a8 in std::function<void ()>::operator()() const (this=0x59c3bf0)\n\nI haven't tried anything as I don't have any idea about this error. I tried with other architecture, it was working. The difference between this and other architecture is this architecture (the one with error) has depthwise layer and the other (the one without error) doesn't have depthwise layer. Seems not connected with the error from relu layer, so I don't have any idea. Both architectures were working in the non-debugging mode", "body": "Environment: Ubuntu 14.04, CUDA 8, CuDNN 5.1, Tensorflow r0.12\r\nBuild command\r\n`bazel build -c opt --config cuda -c dbg --strip=never  //tensorflow/tools/pip_package:build_pip_package`\r\n\r\npreviously, following the installation of tensorflow (not in debug mode), my code works well. But, after I rebuild with above command, it shows this error in the middle of running the session.\r\n\r\n> I tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcupti.so.8.0 locally\r\n> python: external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:262: static void Eigen::internal::TensorExecutor<Expression, Eigen::GpuDevice, Vectorizable>::run(const Expression&, const Eigen::GpuDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<const float, const float>, const Eigen::TensorMap<Eigen::Tensor<const float, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op<const float>, const Eigen::TensorMap<Eigen::Tensor<const float, 1, 1, long int>, 16, Eigen::MakePointer> > > >; bool Vectorizable = true]: Assertion `cudaGetLastError() == cudaSuccess' failed.\r\n\r\nthe backtrace result from gdb when the error comes (seems from ReLU operator):\r\n> (gdb) bt\r\n> #0  0x00007ff450df6c37 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\r\n> #1  0x00007ff450dfa028 in __GI_abort () at abort.c:89\r\n> #2  0x00007ff450defbf6 in __assert_fail_base (\r\n>     fmt=0x7ff450f403b8 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\", \r\n>     assertion=assertion@entry=0x7ff42dc57260 \"cudaGetLastError() == cudaSuccess\", \r\n>     file=file@entry=0x7ff42dc57210 \"external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h\", line=line@entry=262, \r\n>     function=function@entry=0x7ff42dc58f80 <Eigen::internal::TensorExecutor<Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op<float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> const> const, Eigen::GpuDevice, true>::run(Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op<float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> const> const&, Eigen::GpuDevice const&)::__PRETTY_FUNCTION__> \"static void Eigen::internal::TensorExecutor<Expression, Eigen::GpuDevice, Vectorizable>::run(const Expression&, const Eigen::GpuDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap\"...) at assert.c:92\r\n> #3  0x00007ff450defca2 in __GI___assert_fail (\r\n>     assertion=0x7ff42dc57260 \"cudaGetLastError() == cudaSuccess\", \r\n>     file=0x7ff42dc57210 \"external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h\", line=262, \r\n>     function=0x7ff42dc58f80 <Eigen::internal::TensorExecutor<Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op<float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> const> const, Eigen::GpuDevice, true>::run(Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op<float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> const> const&, Eigen::GpuDevice const&)::__PRETTY_FUNCTION__> \"static void Eigen::internal::TensorExecutor<Expression, Eigen::GpuDevice, Vectorizable>::run(const Expression&, const Eigen::GpuDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap\"...) at assert.c:101\r\n> #4  0x00007ff42ad39672 in Eigen::internal::TensorExecutor<Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op<float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> const> const, Eigen::GpuDevice, true>::run (expr=..., device=...)\r\n>     at external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:260\r\n> #5  0x00007ff42ad37a6b in Eigen::TensorDevice<Eigen::TensorMap<Eigen::Tensor<float, 1, 1, long>, 16, Eigen::MakePointer>, Eigen::GpuDevice>::operator=<Eigen::TensorCwiseBinaryOp<Eigen::internal::scalar_max_op<float const, float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const, Eigen::TensorCwiseNullaryOp<Eigen::internal::scalar_constant_op<float const>, Eigen::TensorMap<Eigen::Tensor<float const, 1, 1, long>, 16, Eigen::MakePointer> const> const> > (\r\n>     this=0x7ff35b7fcfe0, other=...)\r\n>     at external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35\r\n> #6  0x00007ff42ad36cb0 in tensorflow::functor::Relu<Eigen::GpuDevice, float>::operator() (\r\n>     this=0x7ff35b7fd04f, d=..., features=..., activations=...)\r\n>     at ./tensorflow/core/kernels/relu_op_functor.h:35\r\n> #7  0x00007ff42acf48c1 in tensorflow::ReluOp<Eigen::GpuDevice, float>::Operate (this=0x59fde00, \r\n>     context=0x7ff35b7fd8f0, input=..., output=0x7ff23ce68390)\r\n>     at ./tensorflow/core/kernels/relu_op.h:40\r\n> #8  0x00007ff42acee479 in tensorflow::UnaryElementWiseOp<float, tensorflow::ReluOp<Eigen::GpuDevice, float> >::Compute (this=0x59fde00, context=0x7ff35b7fd8f0)\r\n>     at ./tensorflow/core/framework/numeric_op.h:62\r\n> #9  0x00007ff42c18523c in tensorflow::BaseGPUDevice::Compute (this=0x5964560, op_kernel=0x59fde00, \r\n>     context=0x7ff35b7fd8f0) at tensorflow/core/common_runtime/gpu/gpu_device.cc:385\r\n> #10 0x00007ff42c402c39 in tensorflow::(anonymous namespace)::ExecutorState::Process (\r\n>     this=0x3d553c80, tagged_node=..., scheduled_usec=1481634999542636)\r\n>     at tensorflow/core/common_runtime/executor.cc:1364\r\n> #11 0x00007ff42c404881 in tensorflow::(anonymous namespace)::ExecutorState::__lambda4::operator() (\r\n>     __closure=0x3d557a70) at tensorflow/core/common_runtime/executor.cc:1746\r\n> #12 0x00007ff42c40ada4 in std::_Function_handler<void(), tensorflow::(anonymous namespace)::ExecutorState::ScheduleReady(const TaggedNodeSeq&, tensorflow::(anonymous namespace)::ExecutorState::TaggedNodeReadyQueue*)::__lambda4>::_M_invoke(const std::_Any_data &) (__functor=...)\r\n>     at /usr/include/c++/4.8/functional:2071\r\n> #13 0x00007ff428bcc7a8 in std::function<void ()>::operator()() const (this=0x3d557ab0)\r\n>     at /usr/include/c++/4.8/functional:2471\r\n> #14 0x00007ff42c6f0b80 in tensorflow::thread::EigenEnvironment::ExecuteTask (this=0x59921a8, t=...)\r\n>     at tensorflow/core/lib/core/threadpool.cc:82\r\n> #15 0x00007ff42c6f29fb in Eigen::NonBlockingThreadPoolTempl<tensorflow::thread::EigenEnvironment>::WorkerLoop (this=0x59921a0, thread_id=7)\r\n>     at external/eigen_archive/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:167\r\n> #16 0x00007ff42c6f1508 in Eigen::NonBlockingThreadPoolTempl<tensorflow::thread::EigenEnvironment>::NonBlockingThreadPoolTempl(int, tensorflow::thread::EigenEnvironment)::{lambda()#1}::operator()() const\r\n>     () at external/eigen_archive/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:58\r\n> #17 0x00007ff42c6f3927 in std::_Function_handler<void (), Eigen::NonBlockingThreadPoolTempl<tensorflow::thread::EigenEnvironment>::NonBlockingThreadPoolTempl(int, tensorflow::thread::EigenEnvironment)::{lambda()#1}>::_M_invoke(std::_Any_data const&) (__functor=...) at /usr/include/c++/4.8/functional:2071\r\n> #18 0x00007ff428bcc7a8 in std::function<void ()>::operator()() const (this=0x59c3bf0)\r\n\r\nI haven't tried anything as I don't have any idea about this error. I tried with other architecture, it was working. The difference between this and other architecture is this architecture (the one with error) has depthwise layer and the other (the one without error) doesn't have depthwise layer. Seems not connected with the error from relu layer, so I don't have any idea. Both architectures were working in the non-debugging mode"}