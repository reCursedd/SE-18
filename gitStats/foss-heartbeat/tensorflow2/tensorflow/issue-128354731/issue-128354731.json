{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/856", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/856/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/856/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/856/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/856", "id": 128354731, "node_id": "MDU6SXNzdWUxMjgzNTQ3MzE=", "number": 856, "title": "How to invoke tf.initialize_all_variables() in C++?", "user": {"login": "parilo", "id": 1348124, "node_id": "MDQ6VXNlcjEzNDgxMjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1348124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parilo", "html_url": "https://github.com/parilo", "followers_url": "https://api.github.com/users/parilo/followers", "following_url": "https://api.github.com/users/parilo/following{/other_user}", "gists_url": "https://api.github.com/users/parilo/gists{/gist_id}", "starred_url": "https://api.github.com/users/parilo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parilo/subscriptions", "organizations_url": "https://api.github.com/users/parilo/orgs", "repos_url": "https://api.github.com/users/parilo/repos", "events_url": "https://api.github.com/users/parilo/events{/privacy}", "received_events_url": "https://api.github.com/users/parilo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-23T21:48:46Z", "updated_at": "2017-02-09T22:37:37Z", "closed_at": "2016-01-25T05:42:57Z", "author_association": "NONE", "body_html": "<p>Hi, and thank you for your job)<br>\nI'm newbie in tensorflow.<br>\nBtw, how to execute ops in C++ such as tf.initialize_all_variables() or some ops returned by optimizers<br>\nself.train_op = self.optimizer.apply_gradients(gradients)<br>\n?</p>\n<p>I've tried<br>\ninit_all_vars_op = tf.initialize_variables(tf.all_variables(), name='init_all_vars_op')<br>\n...<br>\ntf.train.write_graph(session.graph_def, 'models/', 'graph.pb', as_text=False)<br>\nin python and then in C++:</p>\n<pre><code>    status = session-&gt;Run(inputs, {\"init_all_vars_op\"}, {}, &amp;outputs);\n    if (!status.ok()) {\n        std::cout &lt;&lt; \"tf error: \" &lt;&lt; status.ToString() &lt;&lt; \"\\n\";\n        return;\n    }\n</code></pre>\n<p>so I got</p>\n<p>tf error: Invalid argument: FetchOutputs init_all_vars_op: output index too large, must be &lt; 0</p>\n<p>here is stackowerflow question<br>\n<a href=\"http://stackoverflow.com/questions/34975884/how-to-invoke-tf-initialize-all-variables-in-c-tensorflow\" rel=\"nofollow\">http://stackoverflow.com/questions/34975884/how-to-invoke-tf-initialize-all-variables-in-c-tensorflow</a></p>", "body_text": "Hi, and thank you for your job)\nI'm newbie in tensorflow.\nBtw, how to execute ops in C++ such as tf.initialize_all_variables() or some ops returned by optimizers\nself.train_op = self.optimizer.apply_gradients(gradients)\n?\nI've tried\ninit_all_vars_op = tf.initialize_variables(tf.all_variables(), name='init_all_vars_op')\n...\ntf.train.write_graph(session.graph_def, 'models/', 'graph.pb', as_text=False)\nin python and then in C++:\n    status = session->Run(inputs, {\"init_all_vars_op\"}, {}, &outputs);\n    if (!status.ok()) {\n        std::cout << \"tf error: \" << status.ToString() << \"\\n\";\n        return;\n    }\n\nso I got\ntf error: Invalid argument: FetchOutputs init_all_vars_op: output index too large, must be < 0\nhere is stackowerflow question\nhttp://stackoverflow.com/questions/34975884/how-to-invoke-tf-initialize-all-variables-in-c-tensorflow", "body": "Hi, and thank you for your job)\nI'm newbie in tensorflow.\nBtw, how to execute ops in C++ such as tf.initialize_all_variables() or some ops returned by optimizers\nself.train_op = self.optimizer.apply_gradients(gradients)\n?\n\nI've tried \ninit_all_vars_op = tf.initialize_variables(tf.all_variables(), name='init_all_vars_op')\n...\ntf.train.write_graph(session.graph_def, 'models/', 'graph.pb', as_text=False)\nin python and then in C++:\n\n```\n    status = session->Run(inputs, {\"init_all_vars_op\"}, {}, &outputs);\n    if (!status.ok()) {\n        std::cout << \"tf error: \" << status.ToString() << \"\\n\";\n        return;\n    }\n```\n\nso I got\n\ntf error: Invalid argument: FetchOutputs init_all_vars_op: output index too large, must be < 0\n\nhere is stackowerflow question\nhttp://stackoverflow.com/questions/34975884/how-to-invoke-tf-initialize-all-variables-in-c-tensorflow\n"}