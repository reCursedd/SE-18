{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/310", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/310/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/310/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/310", "id": 118091205, "node_id": "MDU6SXNzdWUxMTgwOTEyMDU=", "number": 310, "title": "Fast python protocol buffers?", "user": {"login": "skearnes", "id": 952729, "node_id": "MDQ6VXNlcjk1MjcyOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/952729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skearnes", "html_url": "https://github.com/skearnes", "followers_url": "https://api.github.com/users/skearnes/followers", "following_url": "https://api.github.com/users/skearnes/following{/other_user}", "gists_url": "https://api.github.com/users/skearnes/gists{/gist_id}", "starred_url": "https://api.github.com/users/skearnes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skearnes/subscriptions", "organizations_url": "https://api.github.com/users/skearnes/orgs", "repos_url": "https://api.github.com/users/skearnes/repos", "events_url": "https://api.github.com/users/skearnes/events{/privacy}", "received_events_url": "https://api.github.com/users/skearnes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 22, "created_at": "2015-11-20T17:49:21Z", "updated_at": "2018-01-06T19:50:31Z", "closed_at": "2018-01-06T19:50:31Z", "author_association": "NONE", "body_html": "<p>This might be a better question for the protobuf team, but is there any way to get <a href=\"https://developers.google.com/protocol-buffers/docs/reference/python-generated#cpp_impl\" rel=\"nofollow\">fast python protocol buffers</a> with TensorFlow? I have tried <code>bazel build --copt=-DPYTHON_PROTO2_CPP_IMPL_V2</code> but running with <code>PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION='cpp'</code> gives the following error:</p>\n<div class=\"highlight highlight-source-python\"><pre>Traceback (most recent call last):\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/kearnes/git/tensorflow/bazel-bin/deaps/test.runfiles/deaps/test.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">21</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    <span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/kearnes/git/tensorflow/bazel-bin/deaps/test.runfiles/tensorflow/__init__.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">8</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    <span class=\"pl-k\">from</span> tensorflow.python <span class=\"pl-k\">import</span> <span class=\"pl-k\">*</span>\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/kearnes/git/tensorflow/bazel-bin/deaps/test.runfiles/tensorflow/python/__init__.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">24</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    <span class=\"pl-k\">raise</span> <span class=\"pl-c1\">ImportError</span>(msg)\n<span class=\"pl-c1\">ImportError</span>: Error importing tensorflow: you should <span class=\"pl-k\">not</span> <span class=\"pl-k\">try</span> to <span class=\"pl-k\">import</span>\n  tensorflow <span class=\"pl-k\">from</span> its source directory; please <span class=\"pl-c1\">exit</span> the tensorflow source tree,\n  <span class=\"pl-k\">and</span> relaunch your python interpreter <span class=\"pl-k\">from</span> there.\n  Original <span class=\"pl-c1\">ImportError</span>: cannot <span class=\"pl-k\">import</span> name _message</pre></div>", "body_text": "This might be a better question for the protobuf team, but is there any way to get fast python protocol buffers with TensorFlow? I have tried bazel build --copt=-DPYTHON_PROTO2_CPP_IMPL_V2 but running with PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION='cpp' gives the following error:\nTraceback (most recent call last):\n  File \"/home/kearnes/git/tensorflow/bazel-bin/deaps/test.runfiles/deaps/test.py\", line 21, in <module>\n    import tensorflow as tf\n  File \"/home/kearnes/git/tensorflow/bazel-bin/deaps/test.runfiles/tensorflow/__init__.py\", line 8, in <module>\n    from tensorflow.python import *\n  File \"/home/kearnes/git/tensorflow/bazel-bin/deaps/test.runfiles/tensorflow/python/__init__.py\", line 24, in <module>\n    raise ImportError(msg)\nImportError: Error importing tensorflow: you should not try to import\n  tensorflow from its source directory; please exit the tensorflow source tree,\n  and relaunch your python interpreter from there.\n  Original ImportError: cannot import name _message", "body": "This might be a better question for the protobuf team, but is there any way to get [fast python protocol buffers](https://developers.google.com/protocol-buffers/docs/reference/python-generated#cpp_impl) with TensorFlow? I have tried `bazel build --copt=-DPYTHON_PROTO2_CPP_IMPL_V2` but running with `PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION='cpp'` gives the following error:\n\n``` python\nTraceback (most recent call last):\n  File \"/home/kearnes/git/tensorflow/bazel-bin/deaps/test.runfiles/deaps/test.py\", line 21, in <module>\n    import tensorflow as tf\n  File \"/home/kearnes/git/tensorflow/bazel-bin/deaps/test.runfiles/tensorflow/__init__.py\", line 8, in <module>\n    from tensorflow.python import *\n  File \"/home/kearnes/git/tensorflow/bazel-bin/deaps/test.runfiles/tensorflow/python/__init__.py\", line 24, in <module>\n    raise ImportError(msg)\nImportError: Error importing tensorflow: you should not try to import\n  tensorflow from its source directory; please exit the tensorflow source tree,\n  and relaunch your python interpreter from there.\n  Original ImportError: cannot import name _message\n```\n"}