{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6766", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6766/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6766/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6766/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6766", "id": 199804310, "node_id": "MDU6SXNzdWUxOTk4MDQzMTA=", "number": 6766, "title": "softmax_cross_entropy_with_logits aborts the process, if a tensor with zero first dimension is passed as an argument", "user": {"login": "jrosti", "id": 696047, "node_id": "MDQ6VXNlcjY5NjA0Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/696047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrosti", "html_url": "https://github.com/jrosti", "followers_url": "https://api.github.com/users/jrosti/followers", "following_url": "https://api.github.com/users/jrosti/following{/other_user}", "gists_url": "https://api.github.com/users/jrosti/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrosti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrosti/subscriptions", "organizations_url": "https://api.github.com/users/jrosti/orgs", "repos_url": "https://api.github.com/users/jrosti/repos", "events_url": "https://api.github.com/users/jrosti/events{/privacy}", "received_events_url": "https://api.github.com/users/jrosti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-01-10T12:06:06Z", "updated_at": "2018-01-23T21:12:41Z", "closed_at": "2018-01-23T21:12:41Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Ubuntu 16.04<br>\nInstalled version of CUDA and cuDNN: CUDA-8.0, CUDNN 5.1.5</p>\n<p>Tensorflow version: 0.12.1 installed from<br>\n<a href=\"https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.1-cp35-cp35m-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.1-cp35-cp35m-linux_x86_64.whl</a></p>\n<p>Reproduced also using tf-0.11.0, CUDA-7.5, CUDNN-5.1.3</p>\n<h3>Minimal reproducible example</h3>\n<pre><code>import tensorflow as tf\ny = tf.placeholder(\"int64\", [None], \"y\")\none_hot_y=tf.one_hot(y,10)\nce = tf.nn.softmax_cross_entropy_with_logits(one_hot_y, one_hot_y)\nsess = tf.Session()\nsess.run(ce, {y: []})\n</code></pre>\n<p>Result on GPU:</p>\n<pre><code>E tensorflow/core/common_runtime/bfc_allocator.cc:244] tried to allocate 0 bytes\nW tensorflow/core/common_runtime/allocator_retry.cc:32] Request to allocate 0 bytes\nF tensorflow/core/common_runtime/gpu/gpu_device.cc:104] EigenAllocator for GPU ran out of memory when allocating 0. See error logs for more detailed info.\nAborted (core dumped)\n</code></pre>\n<p>Result on CPU:</p>\n<pre><code>array([], dtype=float32)\n</code></pre>", "body_text": "Environment info\nOperating System: Ubuntu 16.04\nInstalled version of CUDA and cuDNN: CUDA-8.0, CUDNN 5.1.5\nTensorflow version: 0.12.1 installed from\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.1-cp35-cp35m-linux_x86_64.whl\nReproduced also using tf-0.11.0, CUDA-7.5, CUDNN-5.1.3\nMinimal reproducible example\nimport tensorflow as tf\ny = tf.placeholder(\"int64\", [None], \"y\")\none_hot_y=tf.one_hot(y,10)\nce = tf.nn.softmax_cross_entropy_with_logits(one_hot_y, one_hot_y)\nsess = tf.Session()\nsess.run(ce, {y: []})\n\nResult on GPU:\nE tensorflow/core/common_runtime/bfc_allocator.cc:244] tried to allocate 0 bytes\nW tensorflow/core/common_runtime/allocator_retry.cc:32] Request to allocate 0 bytes\nF tensorflow/core/common_runtime/gpu/gpu_device.cc:104] EigenAllocator for GPU ran out of memory when allocating 0. See error logs for more detailed info.\nAborted (core dumped)\n\nResult on CPU:\narray([], dtype=float32)", "body": "### Environment info\r\n\r\nOperating System: Ubuntu 16.04\r\nInstalled version of CUDA and cuDNN: CUDA-8.0, CUDNN 5.1.5 \r\n\r\nTensorflow version: 0.12.1 installed from\r\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.1-cp35-cp35m-linux_x86_64.whl\r\n\r\nReproduced also using tf-0.11.0, CUDA-7.5, CUDNN-5.1.3\r\n\r\n### Minimal reproducible example \r\n\r\n```\r\nimport tensorflow as tf\r\ny = tf.placeholder(\"int64\", [None], \"y\")\r\none_hot_y=tf.one_hot(y,10)\r\nce = tf.nn.softmax_cross_entropy_with_logits(one_hot_y, one_hot_y)\r\nsess = tf.Session()\r\nsess.run(ce, {y: []})\r\n```\r\nResult on GPU: \r\n```\r\nE tensorflow/core/common_runtime/bfc_allocator.cc:244] tried to allocate 0 bytes\r\nW tensorflow/core/common_runtime/allocator_retry.cc:32] Request to allocate 0 bytes\r\nF tensorflow/core/common_runtime/gpu/gpu_device.cc:104] EigenAllocator for GPU ran out of memory when allocating 0. See error logs for more detailed info.\r\nAborted (core dumped)\r\n```\r\nResult on CPU: \r\n```\r\narray([], dtype=float32)\r\n```"}