{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11984", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11984/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11984/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11984/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11984", "id": 247580754, "node_id": "MDU6SXNzdWUyNDc1ODA3NTQ=", "number": 11984, "title": "Save seq2seq model error (tensowflow 1.0.0)", "user": {"login": "litchiyj", "id": 22990938, "node_id": "MDQ6VXNlcjIyOTkwOTM4", "avatar_url": "https://avatars3.githubusercontent.com/u/22990938?v=4", "gravatar_id": "", "url": "https://api.github.com/users/litchiyj", "html_url": "https://github.com/litchiyj", "followers_url": "https://api.github.com/users/litchiyj/followers", "following_url": "https://api.github.com/users/litchiyj/following{/other_user}", "gists_url": "https://api.github.com/users/litchiyj/gists{/gist_id}", "starred_url": "https://api.github.com/users/litchiyj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/litchiyj/subscriptions", "organizations_url": "https://api.github.com/users/litchiyj/orgs", "repos_url": "https://api.github.com/users/litchiyj/repos", "events_url": "https://api.github.com/users/litchiyj/events{/privacy}", "received_events_url": "https://api.github.com/users/litchiyj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-03T03:16:02Z", "updated_at": "2017-08-28T03:24:43Z", "closed_at": "2017-08-28T03:24:43Z", "author_association": "NONE", "body_html": "<ol>\n<li>I had trained a seq2seq model with tensorflow 1.0.0 (cpu version)</li>\n</ol>\n<p>install: pip install --ignore-installed --upgrade <a href=\"https://storage.googleapis.com/tensorflow/windows/cpu/tensorflow-1.0.0-cp35-cp35m-win_amd64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/windows/cpu/tensorflow-1.0.0-cp35-cp35m-win_amd64.whl</a></p>\n<ol start=\"2\">\n<li>\n<p>Save the model.<br>\nsave_path = saver.save(session, 'model/model.ckpt')</p>\n</li>\n<li>\n<p>load the model.<br>\nnew_saver = tf.train.import_meta_graph('model/model.ckpt.meta')</p>\n</li>\n</ol>\n<p>when I load the model,there is a error as follows:</p>\n<p>File \"D:\\python3.5.2\\lib\\site-packages\\tensorflow\\python\\training\\saver.py\", line 1577, in import_meta_graph**kwargs)<br>\nFile \"D:\\python3.5.2\\lib\\site-packages\\tensorflow\\python\\framework\\meta_graph.py\", line 498, in import_scoped_meta_graphproducer_op_list=producer_op_list)<br>\nFile \"D:\\python3.5.2\\lib\\site-packages\\tensorflow\\python\\framework\\importer.py\", line 259, in import_graph_def raise ValueError('No op named %s in defined operations.' % node.op) ValueError: No op named attn_mul_fun_f32f32 in defined operations.<br>\nwhat's the reason for the error?</p>\n<p>I found the function(attn_mul_fun) from the file D:\\python3.5.2\\Lib\\site-packages\\tensorflow\\contrib\\seq2seq\\python\\ops\\attention_decoder_fn.py</p>\n<p>I don't know what's the connection between attn_mul_fun_f32f32 and attn_mul_fun, how to fix the error when loading the model?</p>", "body_text": "I had trained a seq2seq model with tensorflow 1.0.0 (cpu version)\n\ninstall: pip install --ignore-installed --upgrade https://storage.googleapis.com/tensorflow/windows/cpu/tensorflow-1.0.0-cp35-cp35m-win_amd64.whl\n\n\nSave the model.\nsave_path = saver.save(session, 'model/model.ckpt')\n\n\nload the model.\nnew_saver = tf.train.import_meta_graph('model/model.ckpt.meta')\n\n\nwhen I load the model,there is a error as follows:\nFile \"D:\\python3.5.2\\lib\\site-packages\\tensorflow\\python\\training\\saver.py\", line 1577, in import_meta_graph**kwargs)\nFile \"D:\\python3.5.2\\lib\\site-packages\\tensorflow\\python\\framework\\meta_graph.py\", line 498, in import_scoped_meta_graphproducer_op_list=producer_op_list)\nFile \"D:\\python3.5.2\\lib\\site-packages\\tensorflow\\python\\framework\\importer.py\", line 259, in import_graph_def raise ValueError('No op named %s in defined operations.' % node.op) ValueError: No op named attn_mul_fun_f32f32 in defined operations.\nwhat's the reason for the error?\nI found the function(attn_mul_fun) from the file D:\\python3.5.2\\Lib\\site-packages\\tensorflow\\contrib\\seq2seq\\python\\ops\\attention_decoder_fn.py\nI don't know what's the connection between attn_mul_fun_f32f32 and attn_mul_fun, how to fix the error when loading the model?", "body": "1. I had trained a seq2seq model with tensorflow 1.0.0 (cpu version)\r\n\r\n  install: pip install --ignore-installed --upgrade https://storage.googleapis.com/tensorflow/windows/cpu/tensorflow-1.0.0-cp35-cp35m-win_amd64.whl \r\n\r\n2. Save the model. \r\nsave_path = saver.save(session, 'model/model.ckpt')\r\n\r\n3. load the model. \r\nnew_saver = tf.train.import_meta_graph('model/model.ckpt.meta')\r\n\r\n\r\nwhen I load the model,there is a error as follows:\r\n\r\nFile \"D:\\python3.5.2\\lib\\site-packages\\tensorflow\\python\\training\\saver.py\", line 1577, in import_meta_graph**kwargs)\r\nFile \"D:\\python3.5.2\\lib\\site-packages\\tensorflow\\python\\framework\\meta_graph.py\", line 498, in import_scoped_meta_graphproducer_op_list=producer_op_list)\r\nFile \"D:\\python3.5.2\\lib\\site-packages\\tensorflow\\python\\framework\\importer.py\", line 259, in import_graph_def raise ValueError('No op named %s in defined operations.' % node.op) ValueError: No op named attn_mul_fun_f32f32 in defined operations.\r\nwhat's the reason for the error?\r\n\r\nI found the function(attn_mul_fun) from the file D:\\python3.5.2\\Lib\\site-packages\\tensorflow\\contrib\\seq2seq\\python\\ops\\attention_decoder_fn.py\r\n\r\nI don't know what's the connection between attn_mul_fun_f32f32 and attn_mul_fun, how to fix the error when loading the model?"}