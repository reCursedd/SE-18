{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/371353870", "html_url": "https://github.com/tensorflow/tensorflow/issues/17497#issuecomment-371353870", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17497", "id": 371353870, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTM1Mzg3MA==", "user": {"login": "BKZero", "id": 18680778, "node_id": "MDQ6VXNlcjE4NjgwNzc4", "avatar_url": "https://avatars2.githubusercontent.com/u/18680778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BKZero", "html_url": "https://github.com/BKZero", "followers_url": "https://api.github.com/users/BKZero/followers", "following_url": "https://api.github.com/users/BKZero/following{/other_user}", "gists_url": "https://api.github.com/users/BKZero/gists{/gist_id}", "starred_url": "https://api.github.com/users/BKZero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BKZero/subscriptions", "organizations_url": "https://api.github.com/users/BKZero/orgs", "repos_url": "https://api.github.com/users/BKZero/repos", "events_url": "https://api.github.com/users/BKZero/events{/privacy}", "received_events_url": "https://api.github.com/users/BKZero/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-08T02:08:38Z", "updated_at": "2018-03-08T02:09:36Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=28546240\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tensorflowbutler\">@tensorflowbutler</a></p>\n<p><strong>System information</strong></p>\n<p>Have I written custom code: yes, the model definition in the attach files:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/1791589/models.zip\">models.zip</a><br>\nOS Platform and Distribution (Linux Ubuntu 14.04):<br>\nTensorFlow installed from (build from source):<br>\nTensorFlow version (r1.5):<br>\nBazel version(0.8.1)<br>\nGPU model and memory: CPU only</p>\n<p><strong>Exact command to reproduce</strong><br>\ni train the model with tf.slim, then freeze with the python script :<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/1791587/python-script.zip\">python-script.zip</a><br>\nthen i got a pb file and converting it to the .tflite format:</p>\n<pre><code>./bazel-bin/tensorflow/contrib/lite/toco/toco --input_file=../test.pb --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --output_file=litev1.tflite --inference_type=FLOAT --input_type=FLOAT --input_arrays=lite_v1/InputPlaceholder --output_arrays=lite_v1/Output --input_shapes=1,35,35,1\n</code></pre>", "body_text": "@tensorflowbutler\nSystem information\nHave I written custom code: yes, the model definition in the attach files:\nmodels.zip\nOS Platform and Distribution (Linux Ubuntu 14.04):\nTensorFlow installed from (build from source):\nTensorFlow version (r1.5):\nBazel version(0.8.1)\nGPU model and memory: CPU only\nExact command to reproduce\ni train the model with tf.slim, then freeze with the python script :\npython-script.zip\nthen i got a pb file and converting it to the .tflite format:\n./bazel-bin/tensorflow/contrib/lite/toco/toco --input_file=../test.pb --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --output_file=litev1.tflite --inference_type=FLOAT --input_type=FLOAT --input_arrays=lite_v1/InputPlaceholder --output_arrays=lite_v1/Output --input_shapes=1,35,35,1", "body": "@tensorflowbutler \r\n\r\n**System information**\r\n\r\nHave I written custom code: yes, the model definition in the attach files: \r\n[models.zip](https://github.com/tensorflow/tensorflow/files/1791589/models.zip)\r\nOS Platform and Distribution (Linux Ubuntu 14.04):\r\nTensorFlow installed from (build from source):\r\nTensorFlow version (r1.5):\r\nBazel version(0.8.1)\r\nGPU model and memory: CPU only\r\n\r\n**Exact command to reproduce**\r\ni train the model with tf.slim, then freeze with the python script : \r\n[python-script.zip](https://github.com/tensorflow/tensorflow/files/1791587/python-script.zip)\r\nthen i got a pb file and converting it to the .tflite format:\r\n```\r\n./bazel-bin/tensorflow/contrib/lite/toco/toco --input_file=../test.pb --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --output_file=litev1.tflite --inference_type=FLOAT --input_type=FLOAT --input_arrays=lite_v1/InputPlaceholder --output_arrays=lite_v1/Output --input_shapes=1,35,35,1\r\n```"}