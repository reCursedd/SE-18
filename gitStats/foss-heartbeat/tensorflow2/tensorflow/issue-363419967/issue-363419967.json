{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22490", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22490/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22490/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22490/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22490", "id": 363419967, "node_id": "MDU6SXNzdWUzNjM0MTk5Njc=", "number": 22490, "title": "failed to build tensorfolow lite demo via both bazel and AndroidStudio", "user": {"login": "benshi001", "id": 24586233, "node_id": "MDQ6VXNlcjI0NTg2MjMz", "avatar_url": "https://avatars1.githubusercontent.com/u/24586233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benshi001", "html_url": "https://github.com/benshi001", "followers_url": "https://api.github.com/users/benshi001/followers", "following_url": "https://api.github.com/users/benshi001/following{/other_user}", "gists_url": "https://api.github.com/users/benshi001/gists{/gist_id}", "starred_url": "https://api.github.com/users/benshi001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benshi001/subscriptions", "organizations_url": "https://api.github.com/users/benshi001/orgs", "repos_url": "https://api.github.com/users/benshi001/repos", "events_url": "https://api.github.com/users/benshi001/events{/privacy}", "received_events_url": "https://api.github.com/users/benshi001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-09-25T05:52:38Z", "updated_at": "2018-09-27T07:26:48Z", "closed_at": "2018-09-27T07:26:48Z", "author_association": "NONE", "body_html": "<p>I tried to build the tflite demo apk via bazel.</p>\n<pre><code>INFO: SHA256 (https://github.com/bazelbuild/rules_python/archive/8b5d0683a7d878b28fffe464779c8a53659fc645.tar.gz) = 8b32d2dbb0b0dca02e0410da81499eef8ff051dad167d6931a92579e3b2a1d48\nERROR: error loading package '': Encountered error while reading extension file 'requirements.bzl': no such package '@pip_deps//': Traceback (most recent call last):\n  File \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 26\n  repository_ctx.execute([\"python\", repository_ctx.path(r...(\"\")])\nFile \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 29, in repository_ctx.execute\n  repository_ctx.path(repository_ctx.attr.requirements)\nNot a regular file: /home/local/SPREADTRUM/ben.shi/Desktop/tensorflow/tensorflow/requirements.txt\nERROR: error loading package '': Encountered error while reading extension file 'requirements.bzl': no such package '@pip_deps//': Traceback (most recent call last):\n  File \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 26\n  repository_ctx.execute([\"python\", repository_ctx.path(r...(\"\")])\nFile \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 29, in repository_ctx.execute\n  repository_ctx.path(repository_ctx.attr.requirements)\nNot a regular file: /home/local/SPREADTRUM/ben.shi/Desktop/tensorflow/tensorflow/requirements.txt\nINFO: Elapsed time: 96.822s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully (0 packages loaded)\n</code></pre>\n<p>My steps</p>\n<ol>\n<li>git checkout remotes/origin/r1.9</li>\n<li>bazel build --cxxopt=--std=c++11 //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo --config=android_arm64 --cpu=arm64-v8a --fat_apk_cpu=arm64-v8a</li>\n</ol>\n<p>I explicitly set NDK and SDK in WORKSPACE as</p>\n<pre><code>android_sdk_repository(\n    name = \"androidsdk\",\n    api_level = 26,\n    # Ensure that you have the build_tools_version below installed in the\n    # SDK manager as it updates periodically.\n    build_tools_version = \"27.0.3\",\n    # Replace with path to Android SDK on your system\n    path = \"/home/local/SPREADTRUM/ben.shi/android/sdk\"\n)\nandroid_ndk_repository(\n    name=\"androidndk\",\n    path=\"/home/local/SPREADTRUM/ben.shi/android/android-ndk-r16b\",\n    # This needs to be 14 or higher to compile TensorFlow.\n    # Please specify API level to &gt;= 21 to build for 64-bit\n    # archtectures or the Android NDK will automatically select biggest\n    # API level that it supports without notice.\n    # Note that the NDK version is not the API level.\n    api_level=28\n)\n</code></pre>", "body_text": "I tried to build the tflite demo apk via bazel.\nINFO: SHA256 (https://github.com/bazelbuild/rules_python/archive/8b5d0683a7d878b28fffe464779c8a53659fc645.tar.gz) = 8b32d2dbb0b0dca02e0410da81499eef8ff051dad167d6931a92579e3b2a1d48\nERROR: error loading package '': Encountered error while reading extension file 'requirements.bzl': no such package '@pip_deps//': Traceback (most recent call last):\n  File \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 26\n  repository_ctx.execute([\"python\", repository_ctx.path(r...(\"\")])\nFile \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 29, in repository_ctx.execute\n  repository_ctx.path(repository_ctx.attr.requirements)\nNot a regular file: /home/local/SPREADTRUM/ben.shi/Desktop/tensorflow/tensorflow/requirements.txt\nERROR: error loading package '': Encountered error while reading extension file 'requirements.bzl': no such package '@pip_deps//': Traceback (most recent call last):\n  File \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 26\n  repository_ctx.execute([\"python\", repository_ctx.path(r...(\"\")])\nFile \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 29, in repository_ctx.execute\n  repository_ctx.path(repository_ctx.attr.requirements)\nNot a regular file: /home/local/SPREADTRUM/ben.shi/Desktop/tensorflow/tensorflow/requirements.txt\nINFO: Elapsed time: 96.822s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully (0 packages loaded)\n\nMy steps\n\ngit checkout remotes/origin/r1.9\nbazel build --cxxopt=--std=c++11 //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo --config=android_arm64 --cpu=arm64-v8a --fat_apk_cpu=arm64-v8a\n\nI explicitly set NDK and SDK in WORKSPACE as\nandroid_sdk_repository(\n    name = \"androidsdk\",\n    api_level = 26,\n    # Ensure that you have the build_tools_version below installed in the\n    # SDK manager as it updates periodically.\n    build_tools_version = \"27.0.3\",\n    # Replace with path to Android SDK on your system\n    path = \"/home/local/SPREADTRUM/ben.shi/android/sdk\"\n)\nandroid_ndk_repository(\n    name=\"androidndk\",\n    path=\"/home/local/SPREADTRUM/ben.shi/android/android-ndk-r16b\",\n    # This needs to be 14 or higher to compile TensorFlow.\n    # Please specify API level to >= 21 to build for 64-bit\n    # archtectures or the Android NDK will automatically select biggest\n    # API level that it supports without notice.\n    # Note that the NDK version is not the API level.\n    api_level=28\n)", "body": "I tried to build the tflite demo apk via bazel.\r\n\r\n\tINFO: SHA256 (https://github.com/bazelbuild/rules_python/archive/8b5d0683a7d878b28fffe464779c8a53659fc645.tar.gz) = 8b32d2dbb0b0dca02e0410da81499eef8ff051dad167d6931a92579e3b2a1d48\r\n\tERROR: error loading package '': Encountered error while reading extension file 'requirements.bzl': no such package '@pip_deps//': Traceback (most recent call last):\r\n\t  File \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 26\r\n\t  repository_ctx.execute([\"python\", repository_ctx.path(r...(\"\")])\r\n\tFile \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 29, in repository_ctx.execute\r\n\t  repository_ctx.path(repository_ctx.attr.requirements)\r\n\tNot a regular file: /home/local/SPREADTRUM/ben.shi/Desktop/tensorflow/tensorflow/requirements.txt\r\n\tERROR: error loading package '': Encountered error while reading extension file 'requirements.bzl': no such package '@pip_deps//': Traceback (most recent call last):\r\n\t  File \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 26\r\n\t  repository_ctx.execute([\"python\", repository_ctx.path(r...(\"\")])\r\n\tFile \"/home/local/SPREADTRUM/ben.shi/.cache/bazel/_bazel_spreadtrum.com/1ebbfeac35eb8d759797bb7ba5198a8a/external/io_bazel_rules_python/python/pip.bzl\", line 29, in repository_ctx.execute\r\n\t  repository_ctx.path(repository_ctx.attr.requirements)\r\n\tNot a regular file: /home/local/SPREADTRUM/ben.shi/Desktop/tensorflow/tensorflow/requirements.txt\r\n\tINFO: Elapsed time: 96.822s\r\n\tINFO: 0 processes.\r\n\tFAILED: Build did NOT complete successfully (0 packages loaded)\r\n\r\nMy steps\r\n1. git checkout remotes/origin/r1.9\r\n2. bazel build --cxxopt=--std=c++11 //tensorflow/contrib/lite/java/demo/app/src/main:TfLiteCameraDemo --config=android_arm64 --cpu=arm64-v8a --fat_apk_cpu=arm64-v8a\r\n\t\r\nI explicitly set NDK and SDK in WORKSPACE as \r\n\r\n\tandroid_sdk_repository(\r\n\t    name = \"androidsdk\",\r\n\t    api_level = 26,\r\n\t    # Ensure that you have the build_tools_version below installed in the\r\n\t    # SDK manager as it updates periodically.\r\n\t    build_tools_version = \"27.0.3\",\r\n\t    # Replace with path to Android SDK on your system\r\n\t    path = \"/home/local/SPREADTRUM/ben.shi/android/sdk\"\r\n\t)\r\n\tandroid_ndk_repository(\r\n\t    name=\"androidndk\",\r\n\t    path=\"/home/local/SPREADTRUM/ben.shi/android/android-ndk-r16b\",\r\n\t    # This needs to be 14 or higher to compile TensorFlow.\r\n\t    # Please specify API level to >= 21 to build for 64-bit\r\n\t    # archtectures or the Android NDK will automatically select biggest\r\n\t    # API level that it supports without notice.\r\n\t    # Note that the NDK version is not the API level.\r\n\t    api_level=28\r\n\t)\r\n"}