{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/282562838", "html_url": "https://github.com/tensorflow/tensorflow/issues/7835#issuecomment-282562838", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7835", "id": 282562838, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjU2MjgzOA==", "user": {"login": "gitmcdull", "id": 17263464, "node_id": "MDQ6VXNlcjE3MjYzNDY0", "avatar_url": "https://avatars2.githubusercontent.com/u/17263464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gitmcdull", "html_url": "https://github.com/gitmcdull", "followers_url": "https://api.github.com/users/gitmcdull/followers", "following_url": "https://api.github.com/users/gitmcdull/following{/other_user}", "gists_url": "https://api.github.com/users/gitmcdull/gists{/gist_id}", "starred_url": "https://api.github.com/users/gitmcdull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gitmcdull/subscriptions", "organizations_url": "https://api.github.com/users/gitmcdull/orgs", "repos_url": "https://api.github.com/users/gitmcdull/repos", "events_url": "https://api.github.com/users/gitmcdull/events{/privacy}", "received_events_url": "https://api.github.com/users/gitmcdull/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-26T15:17:46Z", "updated_at": "2017-02-26T15:43:41Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a> Thanks a lot for you advices.</p>\n<p>I tried to install tensorflow-gpu V1.0.0 using 2 approaches.</p>\n<ol>\n<li>build from source code followed the instructions on <a href=\"https://github.com/tensorflow/tensorflow/blob/v1.0.0/tensorflow/g3doc/get_started/os_setup.md\">https://github.com/tensorflow/tensorflow/blob/v1.0.0/tensorflow/g3doc/get_started/os_setup.md</a>;</li>\n<li>sudo pip install --upgrade tensorflow-gpu<br>\nBoth of these approaches give rise to the same error I mentioned earlier when trying Nvidia's official instructions on running inception V3 jobs (<a href=\"http://www.nvidia.com/object/gpu-accelerated-applications-tensorflow-running-jobs.html\" rel=\"nofollow\">http://www.nvidia.com/object/gpu-accelerated-applications-tensorflow-running-jobs.html</a>).</li>\n</ol>\n<p>omnisky@omnisky:~/data/tensorflow-models/inception$ bazel-bin/inception/flowers_train --train_dir=$FLOWERS_DIR/train --data_dir=$FLOWERS_DIR/data --pretrained_model_checkpoint_path=$INCEPTION_DIR/inception-v3/model.ckpt-157585 --fine_tune=True --initial_learning_rate=0.001 -input_queue_memory_factor=1 --max_steps=500 --num_gpus 1 --batch_size=64<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally<br>\nTraceback (most recent call last):<br>\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/flowers_train.py\", line 41, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run<br>\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))<br>\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/flowers_train.py\", line 37, in main<br>\ninception_train.train(dataset)<br>\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/inception_train.py\", line 217, in train<br>\nnum_preprocess_threads=num_preprocess_threads)<br>\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/image_processing.py\", line 136, in distorted_inputs<br>\nnum_readers=FLAGS.num_readers)<br>\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/image_processing.py\", line 490, in batch_inputs<br>\nexample_serialized)<br>\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/image_processing.py\", line 397, in parse_example_proto<br>\nbbox = tf.concat(0, [ymin, xmin, ymax, xmax])<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/array_ops.py\", line 1047, in concat<br>\ndtype=dtypes.int32).get_shape(<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 651, in convert_to_tensor<br>\nas_ref=False)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 716, in internal_convert_to_tensor<br>\nret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/constant_op.py\", line 176, in _constant_tensor_conversion_function<br>\nreturn constant(v, dtype=dtype, name=name)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/constant_op.py\", line 165, in constant<br>\ntensor_util.make_tensor_proto(value, dtype=dtype, shape=shape, verify_shape=verify_shape))<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_util.py\", line 367, in make_tensor_proto<br>\n_AssertCompatible(values, dtype)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_util.py\", line 302, in _AssertCompatible<br>\n(dtype.name, repr(mismatch), type(mismatch).<strong>name</strong>))<br>\nTypeError: Expected int32, got list containing Tensors of type '_Message' instead.</p>", "body_text": "@yaroslavvb Thanks a lot for you advices.\nI tried to install tensorflow-gpu V1.0.0 using 2 approaches.\n\nbuild from source code followed the instructions on https://github.com/tensorflow/tensorflow/blob/v1.0.0/tensorflow/g3doc/get_started/os_setup.md;\nsudo pip install --upgrade tensorflow-gpu\nBoth of these approaches give rise to the same error I mentioned earlier when trying Nvidia's official instructions on running inception V3 jobs (http://www.nvidia.com/object/gpu-accelerated-applications-tensorflow-running-jobs.html).\n\nomnisky@omnisky:~/data/tensorflow-models/inception$ bazel-bin/inception/flowers_train --train_dir=$FLOWERS_DIR/train --data_dir=$FLOWERS_DIR/data --pretrained_model_checkpoint_path=$INCEPTION_DIR/inception-v3/model.ckpt-157585 --fine_tune=True --initial_learning_rate=0.001 -input_queue_memory_factor=1 --max_steps=500 --num_gpus 1 --batch_size=64\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\nTraceback (most recent call last):\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/flowers_train.py\", line 41, in \ntf.app.run()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/flowers_train.py\", line 37, in main\ninception_train.train(dataset)\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/inception_train.py\", line 217, in train\nnum_preprocess_threads=num_preprocess_threads)\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/image_processing.py\", line 136, in distorted_inputs\nnum_readers=FLAGS.num_readers)\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/image_processing.py\", line 490, in batch_inputs\nexample_serialized)\nFile \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/image_processing.py\", line 397, in parse_example_proto\nbbox = tf.concat(0, [ymin, xmin, ymax, xmax])\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/array_ops.py\", line 1047, in concat\ndtype=dtypes.int32).get_shape(\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 651, in convert_to_tensor\nas_ref=False)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 716, in internal_convert_to_tensor\nret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/constant_op.py\", line 176, in _constant_tensor_conversion_function\nreturn constant(v, dtype=dtype, name=name)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/constant_op.py\", line 165, in constant\ntensor_util.make_tensor_proto(value, dtype=dtype, shape=shape, verify_shape=verify_shape))\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_util.py\", line 367, in make_tensor_proto\n_AssertCompatible(values, dtype)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_util.py\", line 302, in _AssertCompatible\n(dtype.name, repr(mismatch), type(mismatch).name))\nTypeError: Expected int32, got list containing Tensors of type '_Message' instead.", "body": "@yaroslavvb Thanks a lot for you advices. \r\n\r\nI tried to install tensorflow-gpu V1.0.0 using 2 approaches. \r\n1. build from source code followed the instructions on https://github.com/tensorflow/tensorflow/blob/v1.0.0/tensorflow/g3doc/get_started/os_setup.md;\r\n2. sudo pip install --upgrade tensorflow-gpu\r\nBoth of these approaches give rise to the same error I mentioned earlier when trying Nvidia's official instructions on running inception V3 jobs (http://www.nvidia.com/object/gpu-accelerated-applications-tensorflow-running-jobs.html). \r\n\r\nomnisky@omnisky:~/data/tensorflow-models/inception$ bazel-bin/inception/flowers_train --train_dir=$FLOWERS_DIR/train --data_dir=$FLOWERS_DIR/data --pretrained_model_checkpoint_path=$INCEPTION_DIR/inception-v3/model.ckpt-157585 --fine_tune=True --initial_learning_rate=0.001 -input_queue_memory_factor=1 --max_steps=500 --num_gpus 1 --batch_size=64\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\r\nTraceback (most recent call last):\r\n  File \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/flowers_train.py\", line 41, in <module>\r\n    tf.app.run()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/flowers_train.py\", line 37, in main\r\n    inception_train.train(dataset)\r\n  File \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/inception_train.py\", line 217, in train\r\n    num_preprocess_threads=num_preprocess_threads)\r\n  File \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/image_processing.py\", line 136, in distorted_inputs\r\n    num_readers=FLAGS.num_readers)\r\n  File \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/image_processing.py\", line 490, in batch_inputs\r\n    example_serialized)\r\n  File \"/home/omnisky/data/tensorflow-models/inception/bazel-bin/inception/flowers_train.runfiles/inception/inception/image_processing.py\", line 397, in parse_example_proto\r\n    bbox = tf.concat(0, [ymin, xmin, ymax, xmax])\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/array_ops.py\", line 1047, in concat\r\n    dtype=dtypes.int32).get_shape(\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 651, in convert_to_tensor\r\n    as_ref=False)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 716, in internal_convert_to_tensor\r\n    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/constant_op.py\", line 176, in _constant_tensor_conversion_function\r\n    return constant(v, dtype=dtype, name=name)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/constant_op.py\", line 165, in constant\r\n    tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape, verify_shape=verify_shape))\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_util.py\", line 367, in make_tensor_proto\r\n    _AssertCompatible(values, dtype)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_util.py\", line 302, in _AssertCompatible\r\n    (dtype.name, repr(mismatch), type(mismatch).__name__))\r\nTypeError: Expected int32, got list containing Tensors of type '_Message' instead."}