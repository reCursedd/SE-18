{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/357749385", "html_url": "https://github.com/tensorflow/tensorflow/issues/14452#issuecomment-357749385", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14452", "id": 357749385, "node_id": "MDEyOklzc3VlQ29tbWVudDM1Nzc0OTM4NQ==", "user": {"login": "Tauranis", "id": 9088856, "node_id": "MDQ6VXNlcjkwODg4NTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/9088856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tauranis", "html_url": "https://github.com/Tauranis", "followers_url": "https://api.github.com/users/Tauranis/followers", "following_url": "https://api.github.com/users/Tauranis/following{/other_user}", "gists_url": "https://api.github.com/users/Tauranis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tauranis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tauranis/subscriptions", "organizations_url": "https://api.github.com/users/Tauranis/orgs", "repos_url": "https://api.github.com/users/Tauranis/repos", "events_url": "https://api.github.com/users/Tauranis/events{/privacy}", "received_events_url": "https://api.github.com/users/Tauranis/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-15T17:45:34Z", "updated_at": "2018-01-15T18:35:36Z", "author_association": "NONE", "body_html": "<p>Same as <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=35379988\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/dratini6\">@dratini6</a> .<br>\nI've solved this issue by adding \"global_step\" in the black list on tf.graph_util.convert_variables_to_constants method.</p>\n<div class=\"highlight highlight-source-python\"><pre>output_graph_def <span class=\"pl-k\">=</span> tf.graph_util.convert_variables_to_constants(\n            sess, <span class=\"pl-c\"><span class=\"pl-c\">#</span> The session is used to retrieve the weights</span>\n            tf.get_default_graph().as_graph_def(), <span class=\"pl-c\"><span class=\"pl-c\">#</span> The graph_def is used to retrieve the nodes </span>\n            output_node_names.split(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>,<span class=\"pl-pds\">\"</span></span>), <span class=\"pl-c\"><span class=\"pl-c\">#</span> The output node names are used to select the usefull nodes</span>\n            <span class=\"pl-v\">variable_names_blacklist</span><span class=\"pl-k\">=</span>[<span class=\"pl-s\"><span class=\"pl-pds\">'</span>global_step<span class=\"pl-pds\">'</span></span>]) </pre></div>", "body_text": "Same as @dratini6 .\nI've solved this issue by adding \"global_step\" in the black list on tf.graph_util.convert_variables_to_constants method.\noutput_graph_def = tf.graph_util.convert_variables_to_constants(\n            sess, # The session is used to retrieve the weights\n            tf.get_default_graph().as_graph_def(), # The graph_def is used to retrieve the nodes \n            output_node_names.split(\",\"), # The output node names are used to select the usefull nodes\n            variable_names_blacklist=['global_step'])", "body": "Same as @dratini6 .\r\nI've solved this issue by adding \"global_step\" in the black list on tf.graph_util.convert_variables_to_constants method.\r\n```python\r\noutput_graph_def = tf.graph_util.convert_variables_to_constants(\r\n            sess, # The session is used to retrieve the weights\r\n            tf.get_default_graph().as_graph_def(), # The graph_def is used to retrieve the nodes \r\n            output_node_names.split(\",\"), # The output node names are used to select the usefull nodes\r\n            variable_names_blacklist=['global_step']) \r\n```"}