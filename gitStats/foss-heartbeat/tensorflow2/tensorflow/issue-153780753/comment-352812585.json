{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/352812585", "html_url": "https://github.com/tensorflow/tensorflow/issues/2292#issuecomment-352812585", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2292", "id": 352812585, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjgxMjU4NQ==", "user": {"login": "adler-j", "id": 2202312, "node_id": "MDQ6VXNlcjIyMDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2202312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adler-j", "html_url": "https://github.com/adler-j", "followers_url": "https://api.github.com/users/adler-j/followers", "following_url": "https://api.github.com/users/adler-j/following{/other_user}", "gists_url": "https://api.github.com/users/adler-j/gists{/gist_id}", "starred_url": "https://api.github.com/users/adler-j/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adler-j/subscriptions", "organizations_url": "https://api.github.com/users/adler-j/orgs", "repos_url": "https://api.github.com/users/adler-j/repos", "events_url": "https://api.github.com/users/adler-j/events{/privacy}", "received_events_url": "https://api.github.com/users/adler-j/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-19T16:33:02Z", "updated_at": "2017-12-19T16:33:02Z", "author_association": "NONE", "body_html": "<p>I was not getting this issue with TensorFlow 1.1, but after an upgrade to 1.4 I keep getting this issue (running the exact same file).</p>\n<p>If i use <code>allow_soft_placement=True</code> I get a new error:</p>\n<pre><code>InvalidArgumentError: AttrValue must not have reference type value of float_ref\n\t for attr 'tensor_type'\n\t; NodeDef: Conv/weights/Adam_1/_515 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_3091_Conv/weights/Adam_1\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](^optimizer/beta1_power/read/_281, ^optimizer/beta2_power/read/_283, ^optimizer/learning_rate/mul_2/_285, ^optimizer/Adam/beta1/_287, ^optimizer/Adam/beta2/_289, ^optimizer/Adam/epsilon/_291, ^optimizer/gradients/AddN_40/_517); Op&lt;name=_Recv; signature= -&gt; tensor:tensor_type; attr=tensor_type:type; attr=tensor_name:string; attr=send_device:string; attr=send_device_incarnation:int; attr=recv_device:string; attr=client_terminated:bool,default=false; is_stateful=true&gt;\n\t [[Node: Conv/weights/Adam_1/_515 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_3091_Conv/weights/Adam_1\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](^optimizer/beta1_power/read/_281, ^optimizer/beta2_power/read/_283, ^optimizer/learning_rate/mul_2/_285, ^optimizer/Adam/beta1/_287, ^optimizer/Adam/beta2/_289, ^optimizer/Adam/epsilon/_291, ^optimizer/gradients/AddN_40/_517)]]\n</code></pre>", "body_text": "I was not getting this issue with TensorFlow 1.1, but after an upgrade to 1.4 I keep getting this issue (running the exact same file).\nIf i use allow_soft_placement=True I get a new error:\nInvalidArgumentError: AttrValue must not have reference type value of float_ref\n\t for attr 'tensor_type'\n\t; NodeDef: Conv/weights/Adam_1/_515 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_3091_Conv/weights/Adam_1\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](^optimizer/beta1_power/read/_281, ^optimizer/beta2_power/read/_283, ^optimizer/learning_rate/mul_2/_285, ^optimizer/Adam/beta1/_287, ^optimizer/Adam/beta2/_289, ^optimizer/Adam/epsilon/_291, ^optimizer/gradients/AddN_40/_517); Op<name=_Recv; signature= -> tensor:tensor_type; attr=tensor_type:type; attr=tensor_name:string; attr=send_device:string; attr=send_device_incarnation:int; attr=recv_device:string; attr=client_terminated:bool,default=false; is_stateful=true>\n\t [[Node: Conv/weights/Adam_1/_515 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_3091_Conv/weights/Adam_1\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](^optimizer/beta1_power/read/_281, ^optimizer/beta2_power/read/_283, ^optimizer/learning_rate/mul_2/_285, ^optimizer/Adam/beta1/_287, ^optimizer/Adam/beta2/_289, ^optimizer/Adam/epsilon/_291, ^optimizer/gradients/AddN_40/_517)]]", "body": "I was not getting this issue with TensorFlow 1.1, but after an upgrade to 1.4 I keep getting this issue (running the exact same file).\r\n\r\nIf i use `allow_soft_placement=True` I get a new error:\r\n\r\n```\r\nInvalidArgumentError: AttrValue must not have reference type value of float_ref\r\n\t for attr 'tensor_type'\r\n\t; NodeDef: Conv/weights/Adam_1/_515 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_3091_Conv/weights/Adam_1\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](^optimizer/beta1_power/read/_281, ^optimizer/beta2_power/read/_283, ^optimizer/learning_rate/mul_2/_285, ^optimizer/Adam/beta1/_287, ^optimizer/Adam/beta2/_289, ^optimizer/Adam/epsilon/_291, ^optimizer/gradients/AddN_40/_517); Op<name=_Recv; signature= -> tensor:tensor_type; attr=tensor_type:type; attr=tensor_name:string; attr=send_device:string; attr=send_device_incarnation:int; attr=recv_device:string; attr=client_terminated:bool,default=false; is_stateful=true>\r\n\t [[Node: Conv/weights/Adam_1/_515 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_3091_Conv/weights/Adam_1\", tensor_type=DT_FLOAT_REF, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](^optimizer/beta1_power/read/_281, ^optimizer/beta2_power/read/_283, ^optimizer/learning_rate/mul_2/_285, ^optimizer/Adam/beta1/_287, ^optimizer/Adam/beta2/_289, ^optimizer/Adam/epsilon/_291, ^optimizer/gradients/AddN_40/_517)]]\r\n```"}