{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/298380987", "html_url": "https://github.com/tensorflow/tensorflow/issues/9505#issuecomment-298380987", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9505", "id": 298380987, "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODM4MDk4Nw==", "user": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-01T17:29:35Z", "updated_at": "2017-05-01T17:29:35Z", "author_association": "MEMBER", "body_html": "<p>I can reproduce at head with a single real_valued_column:</p>\n<pre><code>import tensorflow as tf\n\ndef input_fn():\n    feature_cols = {'age': tf.zeros([4]),\n                    'example_id': tf.constant(['1', '2', '3', '4'])}\n    label = tf.constant([0, 1, 1, 0])\n    return feature_cols, label\n\nmodel = tf.contrib.learn.SVM(\n    example_id_column='example_id', \n    feature_columns=[tf.contrib.layers.real_valued_column('age')])\nmodel.fit(input_fn=input_fn, steps=10)\n</code></pre>\n<p>Apparently the error is indicating that only vectors are supported for real_valued_columns. A similar CHECK failure pops up if the column is a matrix (<code>tf.zero([4, 1, 1])</code>). So you can get your code working by adding a dummy second dimension to your real_valued_columns.</p>\n<p>We, however, need to work on our argument checking. Thank you for the report!</p>", "body_text": "I can reproduce at head with a single real_valued_column:\nimport tensorflow as tf\n\ndef input_fn():\n    feature_cols = {'age': tf.zeros([4]),\n                    'example_id': tf.constant(['1', '2', '3', '4'])}\n    label = tf.constant([0, 1, 1, 0])\n    return feature_cols, label\n\nmodel = tf.contrib.learn.SVM(\n    example_id_column='example_id', \n    feature_columns=[tf.contrib.layers.real_valued_column('age')])\nmodel.fit(input_fn=input_fn, steps=10)\n\nApparently the error is indicating that only vectors are supported for real_valued_columns. A similar CHECK failure pops up if the column is a matrix (tf.zero([4, 1, 1])). So you can get your code working by adding a dummy second dimension to your real_valued_columns.\nWe, however, need to work on our argument checking. Thank you for the report!", "body": "I can reproduce at head with a single real_valued_column:\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\ndef input_fn():\r\n    feature_cols = {'age': tf.zeros([4]),\r\n                    'example_id': tf.constant(['1', '2', '3', '4'])}\r\n    label = tf.constant([0, 1, 1, 0])\r\n    return feature_cols, label\r\n\r\nmodel = tf.contrib.learn.SVM(\r\n    example_id_column='example_id', \r\n    feature_columns=[tf.contrib.layers.real_valued_column('age')])\r\nmodel.fit(input_fn=input_fn, steps=10)\r\n```\r\n\r\nApparently the error is indicating that only vectors are supported for real_valued_columns. A similar CHECK failure pops up if the column is a matrix (`tf.zero([4, 1, 1])`). So you can get your code working by adding a dummy second dimension to your real_valued_columns.\r\n\r\nWe, however, need to work on our argument checking. Thank you for the report!"}