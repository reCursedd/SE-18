{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6541", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6541/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6541/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6541/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6541", "id": 197875208, "node_id": "MDU6SXNzdWUxOTc4NzUyMDg=", "number": 6541, "title": "Why fft implementation in tensorflow is so slow?", "user": {"login": "diggerdu", "id": 5636045, "node_id": "MDQ6VXNlcjU2MzYwNDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/5636045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diggerdu", "html_url": "https://github.com/diggerdu", "followers_url": "https://api.github.com/users/diggerdu/followers", "following_url": "https://api.github.com/users/diggerdu/following{/other_user}", "gists_url": "https://api.github.com/users/diggerdu/gists{/gist_id}", "starred_url": "https://api.github.com/users/diggerdu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diggerdu/subscriptions", "organizations_url": "https://api.github.com/users/diggerdu/orgs", "repos_url": "https://api.github.com/users/diggerdu/repos", "events_url": "https://api.github.com/users/diggerdu/events{/privacy}", "received_events_url": "https://api.github.com/users/diggerdu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-28T16:00:15Z", "updated_at": "2017-06-01T09:03:19Z", "closed_at": "2017-01-17T19:18:34Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nUbuntu 16.04 LTS 64bit</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\n<code>-rw-r--r-- 1 root root   558720 9\u6708  15 07:02 libcudadevrt.a lrwxrwxrwx 1 root root       16 9\u6708  15 07:05 libcudart.so -&gt; libcudart.so.8.0 lrwxrwxrwx 1 root root       19 9\u6708  15 07:05 libcudart.so.8.0 -&gt; libcudart.so.8.0.44 -rw-r--r-- 1 root root   415432 9\u6708  15 07:02 libcudart.so.8.0.44 -rw-r--r-- 1 root root   775162 9\u6708  15 07:02 libcudart_static.a -rwxr-xr-x 1 root root 79337624 10\u6708 27 23:13 libcudnn.so -rwxr-xr-x 1 root root 79337624 10\u6708 27 23:13 libcudnn.so.5 -rwxr-xr-x 1 root root 79337624 10\u6708 27 23:13 libcudnn.so.5.1.5 -rw-r--r-- 1 root root 69756172 10\u6708 27 23:13 libcudnn_static.a</code><br>\nIf installed from binary pip package, provide:</p>\n<ol>\n<li>\n<p>A link to the pip package you installed:</p>\n</li>\n<li>\n<p>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.<br>\n<code>0.12.head</code><br>\nIf installed from source, provide</p>\n</li>\n<li>\n<p>The commit hash (<code>git rev-parse HEAD</code>)</p>\n</li>\n<li>\n<p>The output of <code>bazel version</code></p>\n</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<pre><code>import numpy as np\nimport tensorflow as tf\nimport time\n\nwav = np.random.random_sample((1024,))\nspec = np.fft.fft(wav)[:513]\n\n\nx = tf.placeholder(dtype=tf.complex64, shape=[513])\nresult = tf.ifft(x) \nsess = tf.Session()\n\nstart = time.time()\nfor i in range(10000):\n    something = sess.run(result, feed_dict={x:spec})\nprint 'tensorflow:{}s'.format(time.time()-start)\n\nstart = time.time()\nfor i in range(10000):\n   \tsomething = np.fft.ifft(spec)\nprint 'numpy:{}s'.format(time.time() - start)\n\n</code></pre>\n<pre><code>tensorflow:25.7219519615s\nnumpy:0.391902923584s\n</code></pre>\n<h3>What other attempted solutions have you tried?</h3>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nEnvironment info\nOperating System:\nUbuntu 16.04 LTS 64bit\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n-rw-r--r-- 1 root root   558720 9\u6708  15 07:02 libcudadevrt.a lrwxrwxrwx 1 root root       16 9\u6708  15 07:05 libcudart.so -> libcudart.so.8.0 lrwxrwxrwx 1 root root       19 9\u6708  15 07:05 libcudart.so.8.0 -> libcudart.so.8.0.44 -rw-r--r-- 1 root root   415432 9\u6708  15 07:02 libcudart.so.8.0.44 -rw-r--r-- 1 root root   775162 9\u6708  15 07:02 libcudart_static.a -rwxr-xr-x 1 root root 79337624 10\u6708 27 23:13 libcudnn.so -rwxr-xr-x 1 root root 79337624 10\u6708 27 23:13 libcudnn.so.5 -rwxr-xr-x 1 root root 79337624 10\u6708 27 23:13 libcudnn.so.5.1.5 -rw-r--r-- 1 root root 69756172 10\u6708 27 23:13 libcudnn_static.a\nIf installed from binary pip package, provide:\n\n\nA link to the pip package you installed:\n\n\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n0.12.head\nIf installed from source, provide\n\n\nThe commit hash (git rev-parse HEAD)\n\n\nThe output of bazel version\n\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nimport numpy as np\nimport tensorflow as tf\nimport time\n\nwav = np.random.random_sample((1024,))\nspec = np.fft.fft(wav)[:513]\n\n\nx = tf.placeholder(dtype=tf.complex64, shape=[513])\nresult = tf.ifft(x) \nsess = tf.Session()\n\nstart = time.time()\nfor i in range(10000):\n    something = sess.run(result, feed_dict={x:spec})\nprint 'tensorflow:{}s'.format(time.time()-start)\n\nstart = time.time()\nfor i in range(10000):\n   \tsomething = np.fft.ifft(spec)\nprint 'numpy:{}s'.format(time.time() - start)\n\n\ntensorflow:25.7219519615s\nnumpy:0.391902923584s\n\nWhat other attempted solutions have you tried?\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).", "body": "### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\r\n### Environment info\r\nOperating System:\r\nUbuntu 16.04 LTS 64bit\r\n\r\nInstalled version of CUDA and cuDNN: \r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\n`\r\n-rw-r--r-- 1 root root   558720 9\u6708  15 07:02 libcudadevrt.a\r\nlrwxrwxrwx 1 root root       16 9\u6708  15 07:05 libcudart.so -> libcudart.so.8.0\r\nlrwxrwxrwx 1 root root       19 9\u6708  15 07:05 libcudart.so.8.0 -> libcudart.so.8.0.44\r\n-rw-r--r-- 1 root root   415432 9\u6708  15 07:02 libcudart.so.8.0.44\r\n-rw-r--r-- 1 root root   775162 9\u6708  15 07:02 libcudart_static.a\r\n-rwxr-xr-x 1 root root 79337624 10\u6708 27 23:13 libcudnn.so\r\n-rwxr-xr-x 1 root root 79337624 10\u6708 27 23:13 libcudnn.so.5\r\n-rwxr-xr-x 1 root root 79337624 10\u6708 27 23:13 libcudnn.so.5.1.5\r\n-rw-r--r-- 1 root root 69756172 10\u6708 27 23:13 libcudnn_static.a\r\n`\r\nIf installed from binary pip package, provide:\r\n\r\n1. A link to the pip package you installed:\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\n`0.12.head`\r\nIf installed from source, provide \r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\n2. The output of `bazel version`\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\n\r\n\r\n```\r\nimport numpy as np\r\nimport tensorflow as tf\r\nimport time\r\n\r\nwav = np.random.random_sample((1024,))\r\nspec = np.fft.fft(wav)[:513]\r\n\r\n\r\nx = tf.placeholder(dtype=tf.complex64, shape=[513])\r\nresult = tf.ifft(x) \r\nsess = tf.Session()\r\n\r\nstart = time.time()\r\nfor i in range(10000):\r\n    something = sess.run(result, feed_dict={x:spec})\r\nprint 'tensorflow:{}s'.format(time.time()-start)\r\n\r\nstart = time.time()\r\nfor i in range(10000):\r\n   \tsomething = np.fft.ifft(spec)\r\nprint 'numpy:{}s'.format(time.time() - start)\r\n\r\n```\r\n```\r\ntensorflow:25.7219519615s\r\nnumpy:0.391902923584s\r\n```\r\n### What other attempted solutions have you tried?\r\n\r\n\r\n### Logs or other output that would be helpful\r\n(If logs are large, please upload as attachment or provide link).\r\n"}