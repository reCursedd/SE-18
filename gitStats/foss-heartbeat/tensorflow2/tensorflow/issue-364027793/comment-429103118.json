{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/429103118", "html_url": "https://github.com/tensorflow/tensorflow/issues/22535#issuecomment-429103118", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22535", "id": 429103118, "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTEwMzExOA==", "user": {"login": "GQYYY", "id": 11818862, "node_id": "MDQ6VXNlcjExODE4ODYy", "avatar_url": "https://avatars3.githubusercontent.com/u/11818862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GQYYY", "html_url": "https://github.com/GQYYY", "followers_url": "https://api.github.com/users/GQYYY/followers", "following_url": "https://api.github.com/users/GQYYY/following{/other_user}", "gists_url": "https://api.github.com/users/GQYYY/gists{/gist_id}", "starred_url": "https://api.github.com/users/GQYYY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GQYYY/subscriptions", "organizations_url": "https://api.github.com/users/GQYYY/orgs", "repos_url": "https://api.github.com/users/GQYYY/repos", "events_url": "https://api.github.com/users/GQYYY/events{/privacy}", "received_events_url": "https://api.github.com/users/GQYYY/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-11T20:17:00Z", "updated_at": "2018-10-11T20:17:00Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=11333107\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/minizon\">@minizon</a>  Hello, I met the same problem with you. After reading your communication contents with  listed above, I saw a promising solution. But when I tried in practice, there still existed problems, which confused me long. Therefore, I wonder whether you could share your experience in fixing the problem?  And, how on earth to conduct the quantization using the command tool TOCO? Could you give me some detailed tips? Thank you very much!</p>\n<p>My conversion is as follows,and the conversion process failed:</p>\n<p>IMAGE_SIZE=28<br>\ntoco <br>\n--graph_def_file=./lenet5.pb <br>\n--output_file=./lenet5_qt_uint8.lite <br>\n--input_format=TENSORFLOW_GRAPHDEF <br>\n--output_format=TFLITE <br>\n--input_shape=1,${IMAGE_SIZE},${IMAGE_SIZE},1 <br>\n--input_array=conv2d_1_input <br>\n--output_array=output_node0 <br>\n--inference_type=QUANTIZED_UINT8 <br>\n--inference_input_type=QUANTIZED_UINT8 <br>\n--post_training_quantize</p>\n<p>Also thanks to <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3395998\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/freedomtan\">@freedomtan</a> for your instructions! I would appreciate it if you gave me some detailed tips fixing this bug.</p>", "body_text": "@minizon  Hello, I met the same problem with you. After reading your communication contents with  listed above, I saw a promising solution. But when I tried in practice, there still existed problems, which confused me long. Therefore, I wonder whether you could share your experience in fixing the problem?  And, how on earth to conduct the quantization using the command tool TOCO? Could you give me some detailed tips? Thank you very much!\nMy conversion is as follows,and the conversion process failed:\nIMAGE_SIZE=28\ntoco \n--graph_def_file=./lenet5.pb \n--output_file=./lenet5_qt_uint8.lite \n--input_format=TENSORFLOW_GRAPHDEF \n--output_format=TFLITE \n--input_shape=1,${IMAGE_SIZE},${IMAGE_SIZE},1 \n--input_array=conv2d_1_input \n--output_array=output_node0 \n--inference_type=QUANTIZED_UINT8 \n--inference_input_type=QUANTIZED_UINT8 \n--post_training_quantize\nAlso thanks to @freedomtan for your instructions! I would appreciate it if you gave me some detailed tips fixing this bug.", "body": "@minizon  Hello, I met the same problem with you. After reading your communication contents with  listed above, I saw a promising solution. But when I tried in practice, there still existed problems, which confused me long. Therefore, I wonder whether you could share your experience in fixing the problem?  And, how on earth to conduct the quantization using the command tool TOCO? Could you give me some detailed tips? Thank you very much! \r\n\r\nMy conversion is as follows,and the conversion process failed:\r\n\r\nIMAGE_SIZE=28\r\ntoco \\\r\n  --graph_def_file=./lenet5.pb \\\r\n  --output_file=./lenet5_qt_uint8.lite \\\r\n  --input_format=TENSORFLOW_GRAPHDEF \\\r\n  --output_format=TFLITE \\\r\n  --input_shape=1,${IMAGE_SIZE},${IMAGE_SIZE},1 \\\r\n  --input_array=conv2d_1_input \\\r\n  --output_array=output_node0 \\\r\n  --inference_type=QUANTIZED_UINT8 \\\r\n  --inference_input_type=QUANTIZED_UINT8 \\\r\n  --post_training_quantize\r\n\r\nAlso thanks to @freedomtan for your instructions! I would appreciate it if you gave me some detailed tips fixing this bug."}