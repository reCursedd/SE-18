{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19940", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19940/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19940/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19940/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19940", "id": 331580865, "node_id": "MDU6SXNzdWUzMzE1ODA4NjU=", "number": 19940, "title": "Bazel compilation issue", "user": {"login": "lmontigny", "id": 29160791, "node_id": "MDQ6VXNlcjI5MTYwNzkx", "avatar_url": "https://avatars0.githubusercontent.com/u/29160791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmontigny", "html_url": "https://github.com/lmontigny", "followers_url": "https://api.github.com/users/lmontigny/followers", "following_url": "https://api.github.com/users/lmontigny/following{/other_user}", "gists_url": "https://api.github.com/users/lmontigny/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmontigny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmontigny/subscriptions", "organizations_url": "https://api.github.com/users/lmontigny/orgs", "repos_url": "https://api.github.com/users/lmontigny/repos", "events_url": "https://api.github.com/users/lmontigny/events{/privacy}", "received_events_url": "https://api.github.com/users/lmontigny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-06-12T13:10:11Z", "updated_at": "2018-08-06T21:21:40Z", "closed_at": "2018-08-06T21:21:40Z", "author_association": "NONE", "body_html": "<p>I am trying to compile TF with bazel release 0.14.1 using gcc 6.4.0 (and gcc 7.2.0) with Python 3.6 from Anaconda on CentOS 7, using only Jemalloc support.</p>\n<p><code>/usr/bin/bazel build --config=mkl  --copt=\"-mfma\" --copt=\"-mavx2\" --copt=\"-march=broadwell\" --copt=\"-O3\" -s -c opt //tensorflow/tools/pip_package:build_pip_package -j 64</code></p>\n<p>I observed the following error:</p>\n<blockquote>\n<p>ERROR: /home/tensorflow/tensorflow/contrib/lite/kernels/internal/BUILD:339:1: C++ compilation of rule '//tensorflow/contrib/lite/kernels/internal:audio_utils' failed (Exit 1)<br>\n/scratch/gcc/6.4.0/libexec/gcc/x86_64-pc-linux-gnu/6.4.0/cc1plus: error while loading shared libraries: libisl.so.15: cannot open shared object file: No such file or directory</p>\n</blockquote>\n<p>The same error is reported here:<br>\n<a href=\"https://stackoverflow.com/questions/50548504/unable-to-find-libisl-so-15\" rel=\"nofollow\">https://stackoverflow.com/questions/50548504/unable-to-find-libisl-so-15</a></p>\n<p>Using gcc 4.8.5 and TF branch r1.7, I had instead:<br>\n(following <a href=\"https://www.tensorflow.org/versions/master/install/install_sources\" rel=\"nofollow\">https://www.tensorflow.org/versions/master/install/install_sources</a>)</p>\n<blockquote>\n<p>ERROR: /home/lmontigny/tensorflow/tensorflow/contrib/lite/BUILD:78:1: C++ compilation of rule '//tensorflow/contrib/lite:simple_memory_arena' failed (Exit 1)<br>\ntensorflow/contrib/lite/simple_memory_arena.cc:1:0: error: bad value (broadwell) for -march= switch</p>\n</blockquote>", "body_text": "I am trying to compile TF with bazel release 0.14.1 using gcc 6.4.0 (and gcc 7.2.0) with Python 3.6 from Anaconda on CentOS 7, using only Jemalloc support.\n/usr/bin/bazel build --config=mkl  --copt=\"-mfma\" --copt=\"-mavx2\" --copt=\"-march=broadwell\" --copt=\"-O3\" -s -c opt //tensorflow/tools/pip_package:build_pip_package -j 64\nI observed the following error:\n\nERROR: /home/tensorflow/tensorflow/contrib/lite/kernels/internal/BUILD:339:1: C++ compilation of rule '//tensorflow/contrib/lite/kernels/internal:audio_utils' failed (Exit 1)\n/scratch/gcc/6.4.0/libexec/gcc/x86_64-pc-linux-gnu/6.4.0/cc1plus: error while loading shared libraries: libisl.so.15: cannot open shared object file: No such file or directory\n\nThe same error is reported here:\nhttps://stackoverflow.com/questions/50548504/unable-to-find-libisl-so-15\nUsing gcc 4.8.5 and TF branch r1.7, I had instead:\n(following https://www.tensorflow.org/versions/master/install/install_sources)\n\nERROR: /home/lmontigny/tensorflow/tensorflow/contrib/lite/BUILD:78:1: C++ compilation of rule '//tensorflow/contrib/lite:simple_memory_arena' failed (Exit 1)\ntensorflow/contrib/lite/simple_memory_arena.cc:1:0: error: bad value (broadwell) for -march= switch", "body": "I am trying to compile TF with bazel release 0.14.1 using gcc 6.4.0 (and gcc 7.2.0) with Python 3.6 from Anaconda on CentOS 7, using only Jemalloc support. \r\n\r\n`/usr/bin/bazel build --config=mkl  --copt=\"-mfma\" --copt=\"-mavx2\" --copt=\"-march=broadwell\" --copt=\"-O3\" -s -c opt //tensorflow/tools/pip_package:build_pip_package -j 64`\r\n\r\nI observed the following error:\r\n\r\n> ERROR: /home/tensorflow/tensorflow/contrib/lite/kernels/internal/BUILD:339:1: C++ compilation of rule '//tensorflow/contrib/lite/kernels/internal:audio_utils' failed (Exit 1)\r\n> /scratch/gcc/6.4.0/libexec/gcc/x86_64-pc-linux-gnu/6.4.0/cc1plus: error while loading shared libraries: libisl.so.15: cannot open shared object file: No such file or directory\r\n\r\nThe same error is reported here:\r\nhttps://stackoverflow.com/questions/50548504/unable-to-find-libisl-so-15\r\n\r\nUsing gcc 4.8.5 and TF branch r1.7, I had instead:\r\n(following https://www.tensorflow.org/versions/master/install/install_sources)\r\n\r\n> ERROR: /home/lmontigny/tensorflow/tensorflow/contrib/lite/BUILD:78:1: C++ compilation of rule '//tensorflow/contrib/lite:simple_memory_arena' failed (Exit 1)\r\n> tensorflow/contrib/lite/simple_memory_arena.cc:1:0: error: bad value (broadwell) for -march= switch\r\n> \r\n"}