{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/340329139", "html_url": "https://github.com/tensorflow/tensorflow/issues/13220#issuecomment-340329139", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13220", "id": 340329139, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDMyOTEzOQ==", "user": {"login": "zhiyzuo", "id": 7501149, "node_id": "MDQ6VXNlcjc1MDExNDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/7501149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhiyzuo", "html_url": "https://github.com/zhiyzuo", "followers_url": "https://api.github.com/users/zhiyzuo/followers", "following_url": "https://api.github.com/users/zhiyzuo/following{/other_user}", "gists_url": "https://api.github.com/users/zhiyzuo/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhiyzuo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhiyzuo/subscriptions", "organizations_url": "https://api.github.com/users/zhiyzuo/orgs", "repos_url": "https://api.github.com/users/zhiyzuo/repos", "events_url": "https://api.github.com/users/zhiyzuo/events{/privacy}", "received_events_url": "https://api.github.com/users/zhiyzuo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-30T02:40:00Z", "updated_at": "2017-10-30T02:40:00Z", "author_association": "NONE", "body_html": "<p>I later tried again with <code>v1.4.0rc1</code> and it worked. One extra thing I did was installing <code>grpc</code> due to some error when building from source: <a href=\"https://github.com/grpc/homebrew-grpc\">https://github.com/grpc/homebrew-grpc</a></p>\n<p>Thank you so much!</p>\n<p>Sum up:</p>\n<ol>\n<li>Add the following to <code>/Library/Developer/CommandLineTools/usr/include/c++/v1/__threading_support</code></li>\n</ol>\n<div class=\"highlight highlight-source-c\"><pre>#<span class=\"pl-k\">ifndef</span> _MACH_PORT_T\n#<span class=\"pl-k\">define</span> <span class=\"pl-en\">_MACH_PORT_T</span>\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">&lt;</span>sys/_types.h<span class=\"pl-pds\">&gt;</span></span> <span class=\"pl-c\"><span class=\"pl-c\">/*</span> __darwin_mach_port_t <span class=\"pl-c\">*/</span></span>\n<span class=\"pl-k\">typedef</span> <span class=\"pl-c1\">__darwin_mach_port_t</span> <span class=\"pl-c1\">mach_port_t</span>;\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">&lt;</span>pthread.h<span class=\"pl-pds\">&gt;</span></span>\n<span class=\"pl-c1\">mach_port_t</span> <span class=\"pl-en\">pthread_mach_thread_np</span>(<span class=\"pl-c1\">pthread_t</span>);\n#<span class=\"pl-k\">endif</span> <span class=\"pl-c\"><span class=\"pl-c\">/*</span> _MACH_PORT_T <span class=\"pl-c\">*/</span></span></pre></div>\n<ol start=\"2\">\n<li>\n<p>Get the most recent <code>nsync</code>: <a href=\"https://github.com/google/nsync\">https://github.com/google/nsync</a></p>\n</li>\n<li>\n<p>Installing <code>grpc</code> using <code>brew</code>: <a href=\"https://github.com/grpc/homebrew-grpc\">https://github.com/grpc/homebrew-grpc</a></p>\n</li>\n</ol>", "body_text": "I later tried again with v1.4.0rc1 and it worked. One extra thing I did was installing grpc due to some error when building from source: https://github.com/grpc/homebrew-grpc\nThank you so much!\nSum up:\n\nAdd the following to /Library/Developer/CommandLineTools/usr/include/c++/v1/__threading_support\n\n#ifndef _MACH_PORT_T\n#define _MACH_PORT_T\n#include <sys/_types.h> /* __darwin_mach_port_t */\ntypedef __darwin_mach_port_t mach_port_t;\n#include <pthread.h>\nmach_port_t pthread_mach_thread_np(pthread_t);\n#endif /* _MACH_PORT_T */\n\n\nGet the most recent nsync: https://github.com/google/nsync\n\n\nInstalling grpc using brew: https://github.com/grpc/homebrew-grpc", "body": "I later tried again with `v1.4.0rc1` and it worked. One extra thing I did was installing `grpc` due to some error when building from source: https://github.com/grpc/homebrew-grpc\r\n\r\nThank you so much!\r\n\r\nSum up:\r\n\r\n1. Add the following to `/Library/Developer/CommandLineTools/usr/include/c++/v1/__threading_support`\r\n\r\n```C\r\n#ifndef _MACH_PORT_T\r\n#define _MACH_PORT_T\r\n#include <sys/_types.h> /* __darwin_mach_port_t */\r\ntypedef __darwin_mach_port_t mach_port_t;\r\n#include <pthread.h>\r\nmach_port_t pthread_mach_thread_np(pthread_t);\r\n#endif /* _MACH_PORT_T */\r\n```\r\n\r\n2. Get the most recent `nsync`: https://github.com/google/nsync\r\n\r\n3. Installing `grpc` using `brew`: https://github.com/grpc/homebrew-grpc  "}