{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/339997415", "html_url": "https://github.com/tensorflow/tensorflow/issues/13220#issuecomment-339997415", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13220", "id": 339997415, "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTk5NzQxNQ==", "user": {"login": "zhiyzuo", "id": 7501149, "node_id": "MDQ6VXNlcjc1MDExNDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/7501149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhiyzuo", "html_url": "https://github.com/zhiyzuo", "followers_url": "https://api.github.com/users/zhiyzuo/followers", "following_url": "https://api.github.com/users/zhiyzuo/following{/other_user}", "gists_url": "https://api.github.com/users/zhiyzuo/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhiyzuo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhiyzuo/subscriptions", "organizations_url": "https://api.github.com/users/zhiyzuo/orgs", "repos_url": "https://api.github.com/users/zhiyzuo/repos", "events_url": "https://api.github.com/users/zhiyzuo/events{/privacy}", "received_events_url": "https://api.github.com/users/zhiyzuo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-27T15:04:02Z", "updated_at": "2017-10-27T15:04:02Z", "author_association": "NONE", "body_html": "<p>I tried to add</p>\n<div class=\"highlight highlight-source-c\"><pre>#<span class=\"pl-k\">ifndef</span> _MACH_PORT_T\n#<span class=\"pl-k\">define</span> <span class=\"pl-en\">_MACH_PORT_T</span>\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">&lt;</span>sys/_types.h<span class=\"pl-pds\">&gt;</span></span> <span class=\"pl-c\"><span class=\"pl-c\">/*</span> __darwin_mach_port_t <span class=\"pl-c\">*/</span></span>\n<span class=\"pl-k\">typedef</span> <span class=\"pl-c1\">__darwin_mach_port_t</span> <span class=\"pl-c1\">mach_port_t</span>;\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">&lt;</span>pthread.h<span class=\"pl-pds\">&gt;</span></span>\n<span class=\"pl-c1\">mach_port_t</span> <span class=\"pl-en\">pthread_mach_thread_np</span>(<span class=\"pl-c1\">pthread_t</span>);\n#<span class=\"pl-k\">endif</span> <span class=\"pl-c\"><span class=\"pl-c\">/*</span> _MACH_PORT_T <span class=\"pl-c\">*/</span></span></pre></div>\n<p>to the top of <code>/Library/Developer/CommandLineTools/usr/include/c++/v1/__threading_support</code> but still got</p>\n<pre><code>ERROR: /private/var/tmp/_bazel_zhiyzuo/c6ab565d8235ea2aeef2da37c98dc58b/external/nsync/BUILD:397:1: C++ compilation of rule '@nsync//:nsync_cpp' failed (Exit 1).\nIn file included from external/nsync/internal/note.c:16:\nIn file included from ./external/nsync//platform/c++11/platform.h:29:\nIn file included from /Library/Developer/CommandLineTools/usr/include/c++/v1/mutex:189:\nIn file included from /Library/Developer/CommandLineTools/usr/include/c++/v1/__mutex_base:17:\n/Library/Developer/CommandLineTools/usr/include/c++/v1/__threading_support:15:36: error: unknown type name 'pthread_t'\nmach_port_t pthread_mach_thread_np(pthread_t);\n                                   ^\n1 error generated.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n</code></pre>\n<p>Any advice? -Also a CPU only config.</p>", "body_text": "I tried to add\n#ifndef _MACH_PORT_T\n#define _MACH_PORT_T\n#include <sys/_types.h> /* __darwin_mach_port_t */\ntypedef __darwin_mach_port_t mach_port_t;\n#include <pthread.h>\nmach_port_t pthread_mach_thread_np(pthread_t);\n#endif /* _MACH_PORT_T */\nto the top of /Library/Developer/CommandLineTools/usr/include/c++/v1/__threading_support but still got\nERROR: /private/var/tmp/_bazel_zhiyzuo/c6ab565d8235ea2aeef2da37c98dc58b/external/nsync/BUILD:397:1: C++ compilation of rule '@nsync//:nsync_cpp' failed (Exit 1).\nIn file included from external/nsync/internal/note.c:16:\nIn file included from ./external/nsync//platform/c++11/platform.h:29:\nIn file included from /Library/Developer/CommandLineTools/usr/include/c++/v1/mutex:189:\nIn file included from /Library/Developer/CommandLineTools/usr/include/c++/v1/__mutex_base:17:\n/Library/Developer/CommandLineTools/usr/include/c++/v1/__threading_support:15:36: error: unknown type name 'pthread_t'\nmach_port_t pthread_mach_thread_np(pthread_t);\n                                   ^\n1 error generated.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n\nAny advice? -Also a CPU only config.", "body": "I tried to add \r\n\r\n```c\r\n#ifndef _MACH_PORT_T\r\n#define _MACH_PORT_T\r\n#include <sys/_types.h> /* __darwin_mach_port_t */\r\ntypedef __darwin_mach_port_t mach_port_t;\r\n#include <pthread.h>\r\nmach_port_t pthread_mach_thread_np(pthread_t);\r\n#endif /* _MACH_PORT_T */\r\n```\r\n\r\nto the top of `/Library/Developer/CommandLineTools/usr/include/c++/v1/__threading_support` but still got \r\n\r\n```\r\nERROR: /private/var/tmp/_bazel_zhiyzuo/c6ab565d8235ea2aeef2da37c98dc58b/external/nsync/BUILD:397:1: C++ compilation of rule '@nsync//:nsync_cpp' failed (Exit 1).\r\nIn file included from external/nsync/internal/note.c:16:\r\nIn file included from ./external/nsync//platform/c++11/platform.h:29:\r\nIn file included from /Library/Developer/CommandLineTools/usr/include/c++/v1/mutex:189:\r\nIn file included from /Library/Developer/CommandLineTools/usr/include/c++/v1/__mutex_base:17:\r\n/Library/Developer/CommandLineTools/usr/include/c++/v1/__threading_support:15:36: error: unknown type name 'pthread_t'\r\nmach_port_t pthread_mach_thread_np(pthread_t);\r\n                                   ^\r\n1 error generated.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\n```\r\n\r\nAny advice? -Also a CPU only config."}