{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/386164076", "html_url": "https://github.com/tensorflow/tensorflow/issues/17568#issuecomment-386164076", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17568", "id": 386164076, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjE2NDA3Ng==", "user": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-03T00:47:54Z", "updated_at": "2018-05-03T00:47:54Z", "author_association": "MEMBER", "body_html": "<p>It's not actually a workaround. Tensors are edges and Ops are nodes. Control dependencies are for nodes. Construction of nodes  within the \"with block\" depends on nodes in the control list. Control_dependencies is not a conditional.  You can't really have control dependencies over the edges/tensors.</p>\n<p>I agree it's a bit confusing to allow tensors in the control inputs. But when control input is a tensor, it will depend on tensor.op, which is the <code>Operation</code> that produces this tensor as an output (tf.add in your example).<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/ops.py#L4648\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/ops.py#L4648</a></p>", "body_text": "It's not actually a workaround. Tensors are edges and Ops are nodes. Control dependencies are for nodes. Construction of nodes  within the \"with block\" depends on nodes in the control list. Control_dependencies is not a conditional.  You can't really have control dependencies over the edges/tensors.\nI agree it's a bit confusing to allow tensors in the control inputs. But when control input is a tensor, it will depend on tensor.op, which is the Operation that produces this tensor as an output (tf.add in your example).\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/ops.py#L4648", "body": "It's not actually a workaround. Tensors are edges and Ops are nodes. Control dependencies are for nodes. Construction of nodes  within the \"with block\" depends on nodes in the control list. Control_dependencies is not a conditional.  You can't really have control dependencies over the edges/tensors. \r\n\r\nI agree it's a bit confusing to allow tensors in the control inputs. But when control input is a tensor, it will depend on tensor.op, which is the `Operation` that produces this tensor as an output (tf.add in your example).\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/ops.py#L4648\r\n\r\n"}