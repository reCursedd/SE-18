{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2622", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2622/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2622/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2622/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/2622", "id": 158135858, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIzNDI1Mzg=", "number": 2622, "title": "Work on strings instead of binary in Python3", "user": {"login": "jespersm", "id": 664940, "node_id": "MDQ6VXNlcjY2NDk0MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/664940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jespersm", "html_url": "https://github.com/jespersm", "followers_url": "https://api.github.com/users/jespersm/followers", "following_url": "https://api.github.com/users/jespersm/following{/other_user}", "gists_url": "https://api.github.com/users/jespersm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jespersm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jespersm/subscriptions", "organizations_url": "https://api.github.com/users/jespersm/orgs", "repos_url": "https://api.github.com/users/jespersm/repos", "events_url": "https://api.github.com/users/jespersm/events{/privacy}", "received_events_url": "https://api.github.com/users/jespersm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-06-02T13:05:30Z", "updated_at": "2016-06-03T08:11:01Z", "closed_at": "2016-06-03T08:11:01Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2622", "html_url": "https://github.com/tensorflow/tensorflow/pull/2622", "diff_url": "https://github.com/tensorflow/tensorflow/pull/2622.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/2622.patch"}, "body_html": "<p>Running word2vec_basic on Python3 gives silly byte-ish output since it reads the sentences as binary:</p>\n<pre><code>$ python3 word2vec_basic.py \nFound and verified text8.zip\nData size 17005207\nMost common words (+UNK) [['UNK', 418391], (b'the', 1061396), (b'of', 593677), (b'and', 416629), (b'one', 411764)]\nSample data [5237, 3084, 12, 6, 195, 2, 3137, 46, 59, 156] [b'anarchism', b'originated', b'as', b'a', b'term', b'of', b'abuse', b'first', b'used', b'against']\n3084 b'originated' -&gt; 12 b'as'\n3084 b'originated' -&gt; 5237 b'anarchism'\n12 b'as' -&gt; 3084 b'originated'\n12 b'as' -&gt; 6 b'a'\n6 b'a' -&gt; 12 b'as'\n6 b'a' -&gt; 195 b'term'\n195 b'term' -&gt; 2 b'of'\n195 b'term' -&gt; 6 b'a'\n</code></pre>\n<p>... etc.</p>\n<p>This patch uses the 'compat' to_str() as a sane way to read the text in either Pyhton 2.x or 3.x.</p>", "body_text": "Running word2vec_basic on Python3 gives silly byte-ish output since it reads the sentences as binary:\n$ python3 word2vec_basic.py \nFound and verified text8.zip\nData size 17005207\nMost common words (+UNK) [['UNK', 418391], (b'the', 1061396), (b'of', 593677), (b'and', 416629), (b'one', 411764)]\nSample data [5237, 3084, 12, 6, 195, 2, 3137, 46, 59, 156] [b'anarchism', b'originated', b'as', b'a', b'term', b'of', b'abuse', b'first', b'used', b'against']\n3084 b'originated' -> 12 b'as'\n3084 b'originated' -> 5237 b'anarchism'\n12 b'as' -> 3084 b'originated'\n12 b'as' -> 6 b'a'\n6 b'a' -> 12 b'as'\n6 b'a' -> 195 b'term'\n195 b'term' -> 2 b'of'\n195 b'term' -> 6 b'a'\n\n... etc.\nThis patch uses the 'compat' to_str() as a sane way to read the text in either Pyhton 2.x or 3.x.", "body": "Running word2vec_basic on Python3 gives silly byte-ish output since it reads the sentences as binary:\n\n```\n$ python3 word2vec_basic.py \nFound and verified text8.zip\nData size 17005207\nMost common words (+UNK) [['UNK', 418391], (b'the', 1061396), (b'of', 593677), (b'and', 416629), (b'one', 411764)]\nSample data [5237, 3084, 12, 6, 195, 2, 3137, 46, 59, 156] [b'anarchism', b'originated', b'as', b'a', b'term', b'of', b'abuse', b'first', b'used', b'against']\n3084 b'originated' -> 12 b'as'\n3084 b'originated' -> 5237 b'anarchism'\n12 b'as' -> 3084 b'originated'\n12 b'as' -> 6 b'a'\n6 b'a' -> 12 b'as'\n6 b'a' -> 195 b'term'\n195 b'term' -> 2 b'of'\n195 b'term' -> 6 b'a'\n```\n\n... etc.\n\nThis patch uses the 'compat' to_str() as a sane way to read the text in either Pyhton 2.x or 3.x.\n"}