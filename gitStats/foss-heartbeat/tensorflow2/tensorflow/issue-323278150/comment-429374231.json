{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/429374231", "html_url": "https://github.com/tensorflow/tensorflow/issues/19295#issuecomment-429374231", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19295", "id": 429374231, "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTM3NDIzMQ==", "user": {"login": "lenlen", "id": 2477675, "node_id": "MDQ6VXNlcjI0Nzc2NzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2477675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lenlen", "html_url": "https://github.com/lenlen", "followers_url": "https://api.github.com/users/lenlen/followers", "following_url": "https://api.github.com/users/lenlen/following{/other_user}", "gists_url": "https://api.github.com/users/lenlen/gists{/gist_id}", "starred_url": "https://api.github.com/users/lenlen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lenlen/subscriptions", "organizations_url": "https://api.github.com/users/lenlen/orgs", "repos_url": "https://api.github.com/users/lenlen/repos", "events_url": "https://api.github.com/users/lenlen/events{/privacy}", "received_events_url": "https://api.github.com/users/lenlen/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-12T15:56:27Z", "updated_at": "2018-10-12T15:56:27Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15220929\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tanzhenyu\">@tanzhenyu</a> I've tried the option 1 with the nightly. I used  <code>model.load_weights</code>  with my trained model to use the saved tensorflow checkpoint, but I got the error</p>\n<pre><code>  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/checkpointable/util.py\", line 888, in streaming_restore\n    \"Streaming restore not supported from name-based checkpoints. File a \"\n</code></pre>\n<p>I think that <code>model.load_weights</code> only works if the checkpoint is saved with only weights and not for the whole model.<br>\nTo  simulate the warm start I have to create the estimator from the old model, <code>model.save_weights</code> from it, then create a new model and <code>model.loads_weights</code> for weights saved before.<br>\nIs there an option to load weights from a saved tensorflow checkpoints, without the double model instantiation?</p>", "body_text": "@tanzhenyu I've tried the option 1 with the nightly. I used  model.load_weights  with my trained model to use the saved tensorflow checkpoint, but I got the error\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/checkpointable/util.py\", line 888, in streaming_restore\n    \"Streaming restore not supported from name-based checkpoints. File a \"\n\nI think that model.load_weights only works if the checkpoint is saved with only weights and not for the whole model.\nTo  simulate the warm start I have to create the estimator from the old model, model.save_weights from it, then create a new model and model.loads_weights for weights saved before.\nIs there an option to load weights from a saved tensorflow checkpoints, without the double model instantiation?", "body": "@tanzhenyu I've tried the option 1 with the nightly. I used  `model.load_weights`  with my trained model to use the saved tensorflow checkpoint, but I got the error\r\n\r\n```\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/checkpointable/util.py\", line 888, in streaming_restore\r\n    \"Streaming restore not supported from name-based checkpoints. File a \"\r\n```\r\nI think that `model.load_weights` only works if the checkpoint is saved with only weights and not for the whole model.\r\nTo  simulate the warm start I have to create the estimator from the old model, `model.save_weights` from it, then create a new model and `model.loads_weights` for weights saved before.\r\nIs there an option to load weights from a saved tensorflow checkpoints, without the double model instantiation?\r\n \r\n"}