{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21669", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21669/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21669/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21669/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21669", "id": 351470745, "node_id": "MDU6SXNzdWUzNTE0NzA3NDU=", "number": 21669, "title": "no device type supports both of those nodes and the other nodes colocated with them.", "user": {"login": "hwong39", "id": 33884770, "node_id": "MDQ6VXNlcjMzODg0Nzcw", "avatar_url": "https://avatars1.githubusercontent.com/u/33884770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hwong39", "html_url": "https://github.com/hwong39", "followers_url": "https://api.github.com/users/hwong39/followers", "following_url": "https://api.github.com/users/hwong39/following{/other_user}", "gists_url": "https://api.github.com/users/hwong39/gists{/gist_id}", "starred_url": "https://api.github.com/users/hwong39/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hwong39/subscriptions", "organizations_url": "https://api.github.com/users/hwong39/orgs", "repos_url": "https://api.github.com/users/hwong39/repos", "events_url": "https://api.github.com/users/hwong39/events{/privacy}", "received_events_url": "https://api.github.com/users/hwong39/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "robieta", "id": 13089297, "node_id": "MDQ6VXNlcjEzMDg5Mjk3", "avatar_url": "https://avatars0.githubusercontent.com/u/13089297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robieta", "html_url": "https://github.com/robieta", "followers_url": "https://api.github.com/users/robieta/followers", "following_url": "https://api.github.com/users/robieta/following{/other_user}", "gists_url": "https://api.github.com/users/robieta/gists{/gist_id}", "starred_url": "https://api.github.com/users/robieta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robieta/subscriptions", "organizations_url": "https://api.github.com/users/robieta/orgs", "repos_url": "https://api.github.com/users/robieta/repos", "events_url": "https://api.github.com/users/robieta/events{/privacy}", "received_events_url": "https://api.github.com/users/robieta/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "robieta", "id": 13089297, "node_id": "MDQ6VXNlcjEzMDg5Mjk3", "avatar_url": "https://avatars0.githubusercontent.com/u/13089297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robieta", "html_url": "https://github.com/robieta", "followers_url": "https://api.github.com/users/robieta/followers", "following_url": "https://api.github.com/users/robieta/following{/other_user}", "gists_url": "https://api.github.com/users/robieta/gists{/gist_id}", "starred_url": "https://api.github.com/users/robieta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robieta/subscriptions", "organizations_url": "https://api.github.com/users/robieta/orgs", "repos_url": "https://api.github.com/users/robieta/repos", "events_url": "https://api.github.com/users/robieta/events{/privacy}", "received_events_url": "https://api.github.com/users/robieta/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-08-17T06:19:58Z", "updated_at": "2018-09-13T09:36:36Z", "closed_at": "2018-08-24T00:44:13Z", "author_association": "NONE", "body_html": "<pre><code>clipped_gradients, _ = tf.clip_by_global_norm(gradients, 1.0)\n</code></pre>\n<p>File \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\ops\\clip_ops.py\", line 222, in clip_by_global_norm<br>\nuse_norm = global_norm(t_list, name)<br>\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\ops\\clip_ops.py\", line 161, in global_norm<br>\nhalf_squared_norms.append(gen_nn_ops.l2_loss(v))<br>\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 4662, in l2_loss<br>\n\"L2Loss\", t=t, name=name)<br>\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper<br>\nop_def=op_def)<br>\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 3290, in create_op<br>\nop_def=op_def)<br>\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1654, in <strong>init</strong><br>\nself._traceback = self._graph._extract_stack()  # pylint: disable=protected-access</p>\n<p>InvalidArgumentError (see above for traceback): Cannot colocate nodes 'model/optimizer/global_norm/L2Loss_17' and 'model/optimizer/gradients/model/inference/CudnnRNN_1_grad/CudnnRNNBackprop' because no device type supports both of those nodes and the other nodes colocated with them.<br>\nColocation Debug Info:<br>\nColocation group had the following types and devices:<br>\nCudnnRNNBackprop: GPU<br>\nIdentity:<br>\nL2Loss: CPU</p>\n<p>Colocation members and user-requested devices:<br>\nmodel/optimizer/gradients/model/inference/CudnnRNN_1_grad/CudnnRNNBackprop (CudnnRNNBackprop)<br>\nmodel/optimizer/gradients/model/inference/CudnnRNN_1_grad/tuple/control_dependency_3 (Identity)<br>\nmodel/optimizer/global_norm/L2Loss_17 (L2Loss)</p>\n<pre><code>     [[Node: model/optimizer/global_norm/L2Loss_17 = L2Loss[T=DT_FLOAT, _class=[\"loc:@model/optimizer/gradients/model/inference/CudnnRNN_1_grad/CudnnRNNBackprop\"]](model/optimizer/gradients/model/inference/CudnnRNN_1_grad/tuple/control_dependency_3)]]\n</code></pre>\n<p>Why? and how to fix it, thanks</p>", "body_text": "clipped_gradients, _ = tf.clip_by_global_norm(gradients, 1.0)\n\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\ops\\clip_ops.py\", line 222, in clip_by_global_norm\nuse_norm = global_norm(t_list, name)\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\ops\\clip_ops.py\", line 161, in global_norm\nhalf_squared_norms.append(gen_nn_ops.l2_loss(v))\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 4662, in l2_loss\n\"L2Loss\", t=t, name=name)\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\nop_def=op_def)\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 3290, in create_op\nop_def=op_def)\nFile \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1654, in init\nself._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\nInvalidArgumentError (see above for traceback): Cannot colocate nodes 'model/optimizer/global_norm/L2Loss_17' and 'model/optimizer/gradients/model/inference/CudnnRNN_1_grad/CudnnRNNBackprop' because no device type supports both of those nodes and the other nodes colocated with them.\nColocation Debug Info:\nColocation group had the following types and devices:\nCudnnRNNBackprop: GPU\nIdentity:\nL2Loss: CPU\nColocation members and user-requested devices:\nmodel/optimizer/gradients/model/inference/CudnnRNN_1_grad/CudnnRNNBackprop (CudnnRNNBackprop)\nmodel/optimizer/gradients/model/inference/CudnnRNN_1_grad/tuple/control_dependency_3 (Identity)\nmodel/optimizer/global_norm/L2Loss_17 (L2Loss)\n     [[Node: model/optimizer/global_norm/L2Loss_17 = L2Loss[T=DT_FLOAT, _class=[\"loc:@model/optimizer/gradients/model/inference/CudnnRNN_1_grad/CudnnRNNBackprop\"]](model/optimizer/gradients/model/inference/CudnnRNN_1_grad/tuple/control_dependency_3)]]\n\nWhy? and how to fix it, thanks", "body": "    clipped_gradients, _ = tf.clip_by_global_norm(gradients, 1.0)\r\n  File \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\ops\\clip_ops.py\", line 222, in clip_by_global_norm\r\n    use_norm = global_norm(t_list, name)\r\n  File \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\ops\\clip_ops.py\", line 161, in global_norm\r\n    half_squared_norms.append(gen_nn_ops.l2_loss(v))\r\n  File \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 4662, in l2_loss\r\n    \"L2Loss\", t=t, name=name)\r\n  File \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 3290, in create_op\r\n    op_def=op_def)\r\n  File \"D:\\anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1654, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\n\r\nInvalidArgumentError (see above for traceback): Cannot colocate nodes 'model/optimizer/global_norm/L2Loss_17' and 'model/optimizer/gradients/model/inference/CudnnRNN_1_grad/CudnnRNNBackprop' because no device type supports both of those nodes and the other nodes colocated with them.\r\nColocation Debug Info:\r\nColocation group had the following types and devices:\r\nCudnnRNNBackprop: GPU\r\nIdentity:\r\nL2Loss: CPU\r\n\r\nColocation members and user-requested devices:\r\n  model/optimizer/gradients/model/inference/CudnnRNN_1_grad/CudnnRNNBackprop (CudnnRNNBackprop)\r\n  model/optimizer/gradients/model/inference/CudnnRNN_1_grad/tuple/control_dependency_3 (Identity)\r\n  model/optimizer/global_norm/L2Loss_17 (L2Loss)\r\n\r\n         [[Node: model/optimizer/global_norm/L2Loss_17 = L2Loss[T=DT_FLOAT, _class=[\"loc:@model/optimizer/gradients/model/inference/CudnnRNN_1_grad/CudnnRNNBackprop\"]](model/optimizer/gradients/model/inference/CudnnRNN_1_grad/tuple/control_dependency_3)]]\r\n\r\nWhy? and how to fix it, thanks\r\n"}