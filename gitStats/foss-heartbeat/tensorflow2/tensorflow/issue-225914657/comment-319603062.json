{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/319603062", "html_url": "https://github.com/tensorflow/tensorflow/issues/9619#issuecomment-319603062", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9619", "id": 319603062, "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTYwMzA2Mg==", "user": {"login": "dung38tn", "id": 12169323, "node_id": "MDQ6VXNlcjEyMTY5MzIz", "avatar_url": "https://avatars3.githubusercontent.com/u/12169323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dung38tn", "html_url": "https://github.com/dung38tn", "followers_url": "https://api.github.com/users/dung38tn/followers", "following_url": "https://api.github.com/users/dung38tn/following{/other_user}", "gists_url": "https://api.github.com/users/dung38tn/gists{/gist_id}", "starred_url": "https://api.github.com/users/dung38tn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dung38tn/subscriptions", "organizations_url": "https://api.github.com/users/dung38tn/orgs", "repos_url": "https://api.github.com/users/dung38tn/repos", "events_url": "https://api.github.com/users/dung38tn/events{/privacy}", "received_events_url": "https://api.github.com/users/dung38tn/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-02T08:20:45Z", "updated_at": "2017-08-02T08:21:49Z", "author_association": "NONE", "body_html": "<p>There are a little differences in using android interface API between tensorflow version.<br>\nIf you go with old version (build num. 44 on Feb. 17, 2017) the code for feeding, running will be exactly as you did<br>\nBut you have new version (build num 164 on June 15, 2017) the code should be like this:<br>\nRefer this videos for comprehensive info.<br>\n<a href=\"https://www.youtube.com/watch?v=SSGp06uFhhU&amp;t=25s\" rel=\"nofollow\">https://www.youtube.com/watch?v=SSGp06uFhhU&amp;t=25s</a><br>\n<a href=\"https://www.youtube.com/watch?v=_gVn0vpkHYg&amp;t=25s\" rel=\"nofollow\">https://www.youtube.com/watch?v=_gVn0vpkHYg&amp;t=25s</a></p>\n<p>btnProcess.setOnClickListener(new View.OnClickListener() {<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=27325127\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/override\">@override</a><br>\npublic void onClick(View v) {<br>\nfloat[] outputs = new float[2];<br>\nString str;<br>\nfloat[] pixels = getPixelData(bitmap);<br>\n// feed<br>\ninferenceInterface.feed(INPUT_NODE, pixels, 1, IMAGE_SIZE, IMAGE_SIZE, 3);<br>\n//run<br>\ninferenceInterface.run(new String[] {OUTPUT_NODE});<br>\n// fetch<br>\ninferenceInterface.fetch(OUTPUT_NODE, outputs);<br>\nif (outputs[0] &gt; outputs[1])<br>\nstr = \"fake\";<br>\nelse<br>\nstr = \"live\";<br>\nString str1 = \"fake: \" + Float.toString(outputs[0]*100) + \"  live: \" + Float.toString(outputs[1]*100);<br>\nresult1.setTextColor(Color.BLUE);<br>\nresult2.setTextColor(Color.BLUE);<br>\nresult1.setText(str1);<br>\nresult2.setText(\"This is \" + str + \" fingerprint.\");<br>\n}<br>\n});</p>", "body_text": "There are a little differences in using android interface API between tensorflow version.\nIf you go with old version (build num. 44 on Feb. 17, 2017) the code for feeding, running will be exactly as you did\nBut you have new version (build num 164 on June 15, 2017) the code should be like this:\nRefer this videos for comprehensive info.\nhttps://www.youtube.com/watch?v=SSGp06uFhhU&t=25s\nhttps://www.youtube.com/watch?v=_gVn0vpkHYg&t=25s\nbtnProcess.setOnClickListener(new View.OnClickListener() {\n@override\npublic void onClick(View v) {\nfloat[] outputs = new float[2];\nString str;\nfloat[] pixels = getPixelData(bitmap);\n// feed\ninferenceInterface.feed(INPUT_NODE, pixels, 1, IMAGE_SIZE, IMAGE_SIZE, 3);\n//run\ninferenceInterface.run(new String[] {OUTPUT_NODE});\n// fetch\ninferenceInterface.fetch(OUTPUT_NODE, outputs);\nif (outputs[0] > outputs[1])\nstr = \"fake\";\nelse\nstr = \"live\";\nString str1 = \"fake: \" + Float.toString(outputs[0]*100) + \"  live: \" + Float.toString(outputs[1]*100);\nresult1.setTextColor(Color.BLUE);\nresult2.setTextColor(Color.BLUE);\nresult1.setText(str1);\nresult2.setText(\"This is \" + str + \" fingerprint.\");\n}\n});", "body": "There are a little differences in using android interface API between tensorflow version.\r\nIf you go with old version (build num. 44 on Feb. 17, 2017) the code for feeding, running will be exactly as you did\r\nBut you have new version (build num 164 on June 15, 2017) the code should be like this:\r\nRefer this videos for comprehensive info.\r\nhttps://www.youtube.com/watch?v=SSGp06uFhhU&t=25s\r\nhttps://www.youtube.com/watch?v=_gVn0vpkHYg&t=25s\r\n\r\nbtnProcess.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                float[] outputs = new float[2];\r\n                String str;\r\n                float[] pixels = getPixelData(bitmap);\r\n                // feed\r\n                inferenceInterface.feed(INPUT_NODE, pixels, 1, IMAGE_SIZE, IMAGE_SIZE, 3);\r\n                //run\r\n                inferenceInterface.run(new String[] {OUTPUT_NODE});\r\n                // fetch\r\n                inferenceInterface.fetch(OUTPUT_NODE, outputs);\r\n                if (outputs[0] > outputs[1])\r\n                    str = \"fake\";\r\n                else\r\n                    str = \"live\";\r\n                String str1 = \"fake: \" + Float.toString(outputs[0]*100) + \"  live: \" + Float.toString(outputs[1]*100);\r\n                result1.setTextColor(Color.BLUE);\r\n                result2.setTextColor(Color.BLUE);\r\n                result1.setText(str1);\r\n                result2.setText(\"This is \" + str + \" fingerprint.\");\r\n            }\r\n        });"}