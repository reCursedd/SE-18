{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/279666783", "html_url": "https://github.com/tensorflow/tensorflow/issues/7378#issuecomment-279666783", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7378", "id": 279666783, "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTY2Njc4Mw==", "user": {"login": "mkabra", "id": 1234275, "node_id": "MDQ6VXNlcjEyMzQyNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1234275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkabra", "html_url": "https://github.com/mkabra", "followers_url": "https://api.github.com/users/mkabra/followers", "following_url": "https://api.github.com/users/mkabra/following{/other_user}", "gists_url": "https://api.github.com/users/mkabra/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkabra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkabra/subscriptions", "organizations_url": "https://api.github.com/users/mkabra/orgs", "repos_url": "https://api.github.com/users/mkabra/repos", "events_url": "https://api.github.com/users/mkabra/events{/privacy}", "received_events_url": "https://api.github.com/users/mkabra/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-14T10:20:43Z", "updated_at": "2017-02-14T10:20:43Z", "author_association": "NONE", "body_html": "<p>Importing tensorflow first didn't help. But (de-)setting CUDA_VISIBLE_DEVICES or OPENCV_OPENCL_RUNTIME individually worked. If this is an accepted solution, then feel free to close the bug.</p>\n<p>Thanks!</p>\n<p>And here is the stack trace if that helps:</p>\n<p>Core was generated by `python test_warpaffine.py'.<br>\nProgram terminated with signal SIGSEGV, Segmentation fault.<br>\n#0 __GI___pthread_mutex_lock (mutex=0x0) at ../nptl/pthread_mutex_lock.c:66<br>\n66 ../nptl/pthread_mutex_lock.c: No such file or directory.<br>\n#0 __GI___pthread_mutex_lock (mutex=0x0) at ../nptl/pthread_mutex_lock.c:66<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> 0x00007fd68579e008 in ?? ()<br>\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115894138\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2\">#2</a> 0x00007fd685852671 in ?? ()<br>\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115896656\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/3\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/3/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/3\">#3</a> 0x00007fd6858527e5 in ?? ()<br>\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115898449\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4\">#4</a> 0x00007fd6857a3cb4 in ?? ()<br>\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115910900\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5\">#5</a> 0x00007fd6857a54e7 in ?? ()<br>\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115911735\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/6\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/6/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/6\">#6</a> 0x00007fd685778c66 in ?? ()<br>\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115912111\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/7/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/7\">#7</a> 0x00007fd685677f3d in ?? ()<br>\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914495\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/8/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/8\">#8</a> 0x00007fd685677ed8 in ?? ()<br>\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1<br>\n---Type to continue, or q to quit---<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914691\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/9/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/9\">#9</a> 0x00007fd69c1fa022 in ?? () from /usr/local/cuda/lib64/libOpenCL.so<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914766\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/10\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/10/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/10\">#10</a> 0x00007fd69c1fbd42 in ?? () from /usr/local/cuda/lib64/libOpenCL.so<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115914813\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/11\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/11/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/11\">#11</a> 0x00007fd69c1fb4d0 in clGetPlatformIDs ()<br>\nfrom /usr/local/cuda/lib64/libOpenCL.so<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115915395\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/12\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/12/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/12\">#12</a> 0x00007fd7139e4635 in (anonymous namespace)::opencl_fn3&lt;58, int, unsigned int, _cl_platform_id**, unsigned int*&gt;::switch_fn(unsigned int, _cl_platform_id**, unsigned int*) ()<br>\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_core.so.3.1<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115918299\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/13\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/13/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/13\">#13</a> 0x00007fd71393ebf3 in cv::ocl::haveOpenCL() ()<br>\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_core.so.3.1<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115918464\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/14/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/14\">#14</a> 0x00007fd71394ace5 in cv::ocl::useOpenCL() ()<br>\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_core.so.3.1<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115922135\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/15\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/15/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/15\">#15</a> 0x00007fd711c8273a in cv::warpAffine(cv::_InputArray const&amp;, cv::OutputArray const&amp;, cv::InputArray const&amp;, cv::Size, int, int, cv::Scalar const&amp;) ()<br>\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_imgproc.so.3.1<br>\n---Type to continue, or q to quit---<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115925923\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/16\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/16/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/16\">#16</a> 0x00007fd714a7bd03 in pyopencv_cv_warpAffine(_object*, _object*, _object*) () from /localhome/kwaki/theano-env/local/lib/python2.7/site-packages/cv2.so<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115925964\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/17\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/17\">#17</a> 0x000000000049968d in PyEval_EvalFrameEx ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115926208\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/18\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/18/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/18\">#18</a> 0x00000000004a1634 in ?? ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115926362\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/19\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/19/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/19\">#19</a> 0x000000000044e4a5 in PyRun_FileExFlags ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115927762\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/20\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/20/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/20\">#20</a> 0x000000000044ec9f in PyRun_SimpleFileExFlags ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115927987\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/21\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/21/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/21\">#21</a> 0x000000000044f904 in Py_Main ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115928097\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/22\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/22/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/22\">#22</a> 0x00007fd715963f45 in __libc_start_main (main=0x44f9c2<br>\n, argc=2,<br>\nargv=0x7ffd98ead878, init=, fini=,<br>\nrtld_fini=, stack_end=0x7ffd98ead868) at libc-start.c:287<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115928832\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/23\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/23/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/23\">#23</a> 0x0000000000578c4e in _start ()</p>", "body_text": "Importing tensorflow first didn't help. But (de-)setting CUDA_VISIBLE_DEVICES or OPENCV_OPENCL_RUNTIME individually worked. If this is an accepted solution, then feel free to close the bug.\nThanks!\nAnd here is the stack trace if that helps:\nCore was generated by `python test_warpaffine.py'.\nProgram terminated with signal SIGSEGV, Segmentation fault.\n#0 __GI___pthread_mutex_lock (mutex=0x0) at ../nptl/pthread_mutex_lock.c:66\n66 ../nptl/pthread_mutex_lock.c: No such file or directory.\n#0 __GI___pthread_mutex_lock (mutex=0x0) at ../nptl/pthread_mutex_lock.c:66\n#1 0x00007fd68579e008 in ?? ()\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\n#2 0x00007fd685852671 in ?? ()\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\n#3 0x00007fd6858527e5 in ?? ()\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\n#4 0x00007fd6857a3cb4 in ?? ()\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\n#5 0x00007fd6857a54e7 in ?? ()\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\n#6 0x00007fd685778c66 in ?? ()\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\n#7 0x00007fd685677f3d in ?? ()\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\n#8 0x00007fd685677ed8 in ?? ()\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\n---Type to continue, or q to quit---\n#9 0x00007fd69c1fa022 in ?? () from /usr/local/cuda/lib64/libOpenCL.so\n#10 0x00007fd69c1fbd42 in ?? () from /usr/local/cuda/lib64/libOpenCL.so\n#11 0x00007fd69c1fb4d0 in clGetPlatformIDs ()\nfrom /usr/local/cuda/lib64/libOpenCL.so\n#12 0x00007fd7139e4635 in (anonymous namespace)::opencl_fn3<58, int, unsigned int, _cl_platform_id**, unsigned int*>::switch_fn(unsigned int, _cl_platform_id**, unsigned int*) ()\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_core.so.3.1\n#13 0x00007fd71393ebf3 in cv::ocl::haveOpenCL() ()\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_core.so.3.1\n#14 0x00007fd71394ace5 in cv::ocl::useOpenCL() ()\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_core.so.3.1\n#15 0x00007fd711c8273a in cv::warpAffine(cv::_InputArray const&, cv::OutputArray const&, cv::InputArray const&, cv::Size, int, int, cv::Scalar const&) ()\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_imgproc.so.3.1\n---Type to continue, or q to quit---\n#16 0x00007fd714a7bd03 in pyopencv_cv_warpAffine(_object*, _object*, _object*) () from /localhome/kwaki/theano-env/local/lib/python2.7/site-packages/cv2.so\n#17 0x000000000049968d in PyEval_EvalFrameEx ()\n#18 0x00000000004a1634 in ?? ()\n#19 0x000000000044e4a5 in PyRun_FileExFlags ()\n#20 0x000000000044ec9f in PyRun_SimpleFileExFlags ()\n#21 0x000000000044f904 in Py_Main ()\n#22 0x00007fd715963f45 in __libc_start_main (main=0x44f9c2\n, argc=2,\nargv=0x7ffd98ead878, init=, fini=,\nrtld_fini=, stack_end=0x7ffd98ead868) at libc-start.c:287\n#23 0x0000000000578c4e in _start ()", "body": "Importing tensorflow first didn't help. But (de-)setting CUDA_VISIBLE_DEVICES or OPENCV_OPENCL_RUNTIME individually worked. If this is an accepted solution, then feel free to close the bug.\r\n\r\nThanks!\r\n\r\nAnd here is the stack trace if that helps:\r\n\r\nCore was generated by `python test_warpaffine.py'.\r\nProgram terminated with signal SIGSEGV, Segmentation fault.\r\n#0 __GI___pthread_mutex_lock (mutex=0x0) at ../nptl/pthread_mutex_lock.c:66\r\n66 ../nptl/pthread_mutex_lock.c: No such file or directory.\r\n#0 __GI___pthread_mutex_lock (mutex=0x0) at ../nptl/pthread_mutex_lock.c:66\r\n#1 0x00007fd68579e008 in ?? ()\r\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\r\n#2 0x00007fd685852671 in ?? ()\r\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\r\n#3 0x00007fd6858527e5 in ?? ()\r\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\r\n#4 0x00007fd6857a3cb4 in ?? ()\r\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\r\n#5 0x00007fd6857a54e7 in ?? ()\r\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\r\n#6 0x00007fd685778c66 in ?? ()\r\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\r\n#7 0x00007fd685677f3d in ?? ()\r\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\r\n#8 0x00007fd685677ed8 in ?? ()\r\nfrom /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.1\r\n---Type to continue, or q to quit---\r\n#9 0x00007fd69c1fa022 in ?? () from /usr/local/cuda/lib64/libOpenCL.so\r\n#10 0x00007fd69c1fbd42 in ?? () from /usr/local/cuda/lib64/libOpenCL.so\r\n#11 0x00007fd69c1fb4d0 in clGetPlatformIDs ()\r\nfrom /usr/local/cuda/lib64/libOpenCL.so\r\n#12 0x00007fd7139e4635 in (anonymous namespace)::opencl_fn3<58, int, unsigned int, _cl_platform_id**, unsigned int*>::switch_fn(unsigned int, _cl_platform_id**, unsigned int*) ()\r\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_core.so.3.1\r\n#13 0x00007fd71393ebf3 in cv::ocl::haveOpenCL() ()\r\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_core.so.3.1\r\n#14 0x00007fd71394ace5 in cv::ocl::useOpenCL() ()\r\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_core.so.3.1\r\n#15 0x00007fd711c8273a in cv::warpAffine(cv::_InputArray const&, cv::OutputArray const&, cv::InputArray const&, cv::Size, int, int, cv::Scalar const&) ()\r\nfrom /localhome/kwaki/theano-env/extras/opencv-3.1.0/build/lib/libopencv_imgproc.so.3.1\r\n---Type to continue, or q to quit---\r\n#16 0x00007fd714a7bd03 in pyopencv_cv_warpAffine(_object*, _object*, _object*) () from /localhome/kwaki/theano-env/local/lib/python2.7/site-packages/cv2.so\r\n#17 0x000000000049968d in PyEval_EvalFrameEx ()\r\n#18 0x00000000004a1634 in ?? ()\r\n#19 0x000000000044e4a5 in PyRun_FileExFlags ()\r\n#20 0x000000000044ec9f in PyRun_SimpleFileExFlags ()\r\n#21 0x000000000044f904 in Py_Main ()\r\n#22 0x00007fd715963f45 in __libc_start_main (main=0x44f9c2\r\n, argc=2,\r\nargv=0x7ffd98ead878, init=, fini=,\r\nrtld_fini=, stack_end=0x7ffd98ead868) at libc-start.c:287\r\n#23 0x0000000000578c4e in _start ()\r\n"}