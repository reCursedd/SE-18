{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7378", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7378/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7378/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7378/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7378", "id": 206420215, "node_id": "MDU6SXNzdWUyMDY0MjAyMTU=", "number": 7378, "title": "Seg fault when using tf session with opencv 3", "user": {"login": "mkabra", "id": 1234275, "node_id": "MDQ6VXNlcjEyMzQyNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1234275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkabra", "html_url": "https://github.com/mkabra", "followers_url": "https://api.github.com/users/mkabra/followers", "following_url": "https://api.github.com/users/mkabra/following{/other_user}", "gists_url": "https://api.github.com/users/mkabra/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkabra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkabra/subscriptions", "organizations_url": "https://api.github.com/users/mkabra/orgs", "repos_url": "https://api.github.com/users/mkabra/repos", "events_url": "https://api.github.com/users/mkabra/events{/privacy}", "received_events_url": "https://api.github.com/users/mkabra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 24, "created_at": "2017-02-09T06:49:37Z", "updated_at": "2018-09-04T12:17:47Z", "closed_at": "2018-06-02T07:04:44Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>We noticed that when we try to use tensorflow with opencv 3, it consistently seg faults and crashes. The commands are:</p>\n<pre><code>import cv2\nimport numpy as np\nimport tensorflow as tf\n\nwith tf.Session() as sess:\n    img = cv2.imread('messi5.jpg', 0)\n    rows, cols = img.shape\n    M = np.float32([[1, 0, 100], [0, 1, 50]])\n    dst = cv2.warpAffine(img, M, (cols, rows))\n    cv2.imshow('img', dst)\n    cv2.waitKey(0)\n    cv2.destroyAllWindows()\n</code></pre>\n<p>Assuming you have a messi5.jpg in the folder (<a href=\"https://raw.githubusercontent.com/abidrahmank/OpenCV2-Python-Tutorials/master/data/messi5.jpg\" rel=\"nofollow\">https://raw.githubusercontent.com/abidrahmank/OpenCV2-Python-Tutorials/master/data/messi5.jpg</a>)</p>\n<p>We see this issue when we use tensorflow 0.12 GPU enabled, opencv 3.2.0 and python 2.7.6, CUDA 8.0 and CuDNN 5.1.5 . We did not observe this issue with opencv version 2.4.13 or 2.4.9.</p>\n<p>We will also filed a bug report on opencv (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"206420713\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/opencv/opencv/issues/8155\" data-hovercard-type=\"issue\" data-hovercard-url=\"/opencv/opencv/issues/8155/hovercard\" href=\"https://github.com/opencv/opencv/issues/8155\">opencv/opencv#8155</a>)</p>", "body_text": "Hi,\nWe noticed that when we try to use tensorflow with opencv 3, it consistently seg faults and crashes. The commands are:\nimport cv2\nimport numpy as np\nimport tensorflow as tf\n\nwith tf.Session() as sess:\n    img = cv2.imread('messi5.jpg', 0)\n    rows, cols = img.shape\n    M = np.float32([[1, 0, 100], [0, 1, 50]])\n    dst = cv2.warpAffine(img, M, (cols, rows))\n    cv2.imshow('img', dst)\n    cv2.waitKey(0)\n    cv2.destroyAllWindows()\n\nAssuming you have a messi5.jpg in the folder (https://raw.githubusercontent.com/abidrahmank/OpenCV2-Python-Tutorials/master/data/messi5.jpg)\nWe see this issue when we use tensorflow 0.12 GPU enabled, opencv 3.2.0 and python 2.7.6, CUDA 8.0 and CuDNN 5.1.5 . We did not observe this issue with opencv version 2.4.13 or 2.4.9.\nWe will also filed a bug report on opencv (opencv/opencv#8155)", "body": "Hi, \r\n\r\nWe noticed that when we try to use tensorflow with opencv 3, it consistently seg faults and crashes. The commands are:\r\n\r\n```\r\nimport cv2\r\nimport numpy as np\r\nimport tensorflow as tf\r\n\r\nwith tf.Session() as sess:\r\n    img = cv2.imread('messi5.jpg', 0)\r\n    rows, cols = img.shape\r\n    M = np.float32([[1, 0, 100], [0, 1, 50]])\r\n    dst = cv2.warpAffine(img, M, (cols, rows))\r\n    cv2.imshow('img', dst)\r\n    cv2.waitKey(0)\r\n    cv2.destroyAllWindows()\r\n```\r\n\r\nAssuming you have a messi5.jpg in the folder (https://raw.githubusercontent.com/abidrahmank/OpenCV2-Python-Tutorials/master/data/messi5.jpg)\r\n\r\nWe see this issue when we use tensorflow 0.12 GPU enabled, opencv 3.2.0 and python 2.7.6, CUDA 8.0 and CuDNN 5.1.5 . We did not observe this issue with opencv version 2.4.13 or 2.4.9.\r\n\r\nWe will also filed a bug report on opencv (https://github.com/opencv/opencv/issues/8155)\r\n\r\n"}