{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7360", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7360/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7360/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7360/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/7360", "id": 206235109, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA1MjQyNzg2", "number": 7360, "title": "Fix unsorted_segment_max for negative floats", "user": {"login": "PhilJd", "id": 16101605, "node_id": "MDQ6VXNlcjE2MTAxNjA1", "avatar_url": "https://avatars2.githubusercontent.com/u/16101605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PhilJd", "html_url": "https://github.com/PhilJd", "followers_url": "https://api.github.com/users/PhilJd/followers", "following_url": "https://api.github.com/users/PhilJd/following{/other_user}", "gists_url": "https://api.github.com/users/PhilJd/gists{/gist_id}", "starred_url": "https://api.github.com/users/PhilJd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PhilJd/subscriptions", "organizations_url": "https://api.github.com/users/PhilJd/orgs", "repos_url": "https://api.github.com/users/PhilJd/repos", "events_url": "https://api.github.com/users/PhilJd/events{/privacy}", "received_events_url": "https://api.github.com/users/PhilJd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "benoitsteiner", "id": 6969686, "node_id": "MDQ6VXNlcjY5Njk2ODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6969686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoitsteiner", "html_url": "https://github.com/benoitsteiner", "followers_url": "https://api.github.com/users/benoitsteiner/followers", "following_url": "https://api.github.com/users/benoitsteiner/following{/other_user}", "gists_url": "https://api.github.com/users/benoitsteiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoitsteiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoitsteiner/subscriptions", "organizations_url": "https://api.github.com/users/benoitsteiner/orgs", "repos_url": "https://api.github.com/users/benoitsteiner/repos", "events_url": "https://api.github.com/users/benoitsteiner/events{/privacy}", "received_events_url": "https://api.github.com/users/benoitsteiner/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benoitsteiner", "id": 6969686, "node_id": "MDQ6VXNlcjY5Njk2ODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6969686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoitsteiner", "html_url": "https://github.com/benoitsteiner", "followers_url": "https://api.github.com/users/benoitsteiner/followers", "following_url": "https://api.github.com/users/benoitsteiner/following{/other_user}", "gists_url": "https://api.github.com/users/benoitsteiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoitsteiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoitsteiner/subscriptions", "organizations_url": "https://api.github.com/users/benoitsteiner/orgs", "repos_url": "https://api.github.com/users/benoitsteiner/repos", "events_url": "https://api.github.com/users/benoitsteiner/events{/privacy}", "received_events_url": "https://api.github.com/users/benoitsteiner/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2017-02-08T15:42:51Z", "updated_at": "2017-02-10T00:15:15Z", "closed_at": "2017-02-10T00:15:15Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7360", "html_url": "https://github.com/tensorflow/tensorflow/pull/7360", "diff_url": "https://github.com/tensorflow/tensorflow/pull/7360.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/7360.patch"}, "body_html": "<p>Fixes the following bug due to std::numeric_limits::min() returning the smallest positive value of a float.</p>\n<pre><code>with tf.Session() as sess:\n    x = tf.constant([-1.0, -2.0, -3.0, -4.0])\n    segment_ids = tf.constant([0, 1, 2, 3])\n    unsorted_seg_max = tf.unsorted_segment_max(x, segment_ids, 4)\n    print(sess.run(unsorted_seg_max))\n&gt;&gt;&gt; [  1.17549435e-38   1.17549435e-38   1.17549435e-38   1.17549435e-38]\n</code></pre>", "body_text": "Fixes the following bug due to std::numeric_limits::min() returning the smallest positive value of a float.\nwith tf.Session() as sess:\n    x = tf.constant([-1.0, -2.0, -3.0, -4.0])\n    segment_ids = tf.constant([0, 1, 2, 3])\n    unsorted_seg_max = tf.unsorted_segment_max(x, segment_ids, 4)\n    print(sess.run(unsorted_seg_max))\n>>> [  1.17549435e-38   1.17549435e-38   1.17549435e-38   1.17549435e-38]", "body": "Fixes the following bug due to std::numeric_limits<float>::min() returning the smallest positive value of a float.\r\n\r\n```\r\nwith tf.Session() as sess:\r\n    x = tf.constant([-1.0, -2.0, -3.0, -4.0])\r\n    segment_ids = tf.constant([0, 1, 2, 3])\r\n    unsorted_seg_max = tf.unsorted_segment_max(x, segment_ids, 4)\r\n    print(sess.run(unsorted_seg_max))\r\n>>> [  1.17549435e-38   1.17549435e-38   1.17549435e-38   1.17549435e-38]\r\n```\r\n"}