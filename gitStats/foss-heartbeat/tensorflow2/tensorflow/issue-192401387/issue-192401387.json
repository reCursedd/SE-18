{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5951", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5951/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5951/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5951/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5951", "id": 192401387, "node_id": "MDU6SXNzdWUxOTI0MDEzODc=", "number": 5951, "title": "possible bug for saver.restore not compact with previous version of tensorflow in tensorflow r-0.12", "user": {"login": "sufengniu", "id": 2965176, "node_id": "MDQ6VXNlcjI5NjUxNzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/2965176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sufengniu", "html_url": "https://github.com/sufengniu", "followers_url": "https://api.github.com/users/sufengniu/followers", "following_url": "https://api.github.com/users/sufengniu/following{/other_user}", "gists_url": "https://api.github.com/users/sufengniu/gists{/gist_id}", "starred_url": "https://api.github.com/users/sufengniu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sufengniu/subscriptions", "organizations_url": "https://api.github.com/users/sufengniu/orgs", "repos_url": "https://api.github.com/users/sufengniu/repos", "events_url": "https://api.github.com/users/sufengniu/events{/privacy}", "received_events_url": "https://api.github.com/users/sufengniu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "concretevitamin", "id": 592670, "node_id": "MDQ6VXNlcjU5MjY3MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/592670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/concretevitamin", "html_url": "https://github.com/concretevitamin", "followers_url": "https://api.github.com/users/concretevitamin/followers", "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}", "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}", "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions", "organizations_url": "https://api.github.com/users/concretevitamin/orgs", "repos_url": "https://api.github.com/users/concretevitamin/repos", "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}", "received_events_url": "https://api.github.com/users/concretevitamin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "concretevitamin", "id": 592670, "node_id": "MDQ6VXNlcjU5MjY3MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/592670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/concretevitamin", "html_url": "https://github.com/concretevitamin", "followers_url": "https://api.github.com/users/concretevitamin/followers", "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}", "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}", "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions", "organizations_url": "https://api.github.com/users/concretevitamin/orgs", "repos_url": "https://api.github.com/users/concretevitamin/repos", "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}", "received_events_url": "https://api.github.com/users/concretevitamin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2016-11-29T21:16:30Z", "updated_at": "2016-11-30T16:57:40Z", "closed_at": "2016-11-30T02:33:52Z", "author_association": "NONE", "body_html": "<p>NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.</p>\n<p>For general support from the community, see <a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">StackOverflow</a>.<br>\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed<br>\nout of scope for GitHub Issues and point people to StackOverflow.</p>\n<p>For bugs or installation issues, please provide the following information.<br>\nThe more information you provide, the more easily we will be able to offer<br>\nhelp and advice.</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu 16.04.1 LTS</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\n<code>rw-r--r-- 1 root root   558720 Sep 14 19:02 /usr/local/cuda-8.0/lib64/libcudadevrt.a lrwxrwxrwx 1 root root       16 Sep 14 19:05 /usr/local/cuda-8.0/lib64/libcudart.so -&gt; libcudart.so.8.0 lrwxrwxrwx 1 root root       19 Sep 14 19:05 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.44 -rw-r--r-- 1 root root   415432 Sep 14 19:02 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.44 -rw-r--r-- 1 root root   775162 Sep 14 19:02 /usr/local/cuda-8.0/lib64/libcudart_static.a lrwxrwxrwx 1 root root       13 Oct 13 23:19 /usr/local/cuda-8.0/lib64/libcudnn.so -&gt; libcudnn.so.5 lrwxrwxrwx 1 root root       17 Oct 13 23:19 /usr/local/cuda-8.0/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.1.5 -rw-r--r-- 1 root root 79337624 Oct 13 23:17 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1.5 -rw-r--r-- 1 root root 69756172 Oct 13 23:17 /usr/local/cuda-8.0/lib64/libcudnn_static.a</code></p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed: <a href=\"https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.0rc0-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.0rc0-cp27-none-linux_x86_64.whl</a></li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.<br>\n0.12.0-rc0</li>\n</ol>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)</li>\n<li>The output of <code>bazel version</code></li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>I have a model which saved by tensorflow-0.11, for example:</p>\n<pre><code>import tensorflow as tf\nimport numpy as np\nx_data = np.random.rand(100).astype(np.float32)\ny_data = x_data * 0.1 + 0.3\n\nW = tf.Variable(tf.random_uniform([1], -1.0, 1.0))\nb = tf.Variable(tf.zeros([1]))\ny = W * x_data + b\nall_vars = tf.trainable_variables()\nsess=tf.InteractiveSession()\ntf.initialize_all_variables().run()\nsaver = tf.train.Saver(all_vars)\n\nsaver.save(sess,\"./model.ckpt\")\n\nsess.close()\n</code></pre>\n<p>after update to tensorflow 0.12 version, and when I load the model by:</p>\n<pre><code>import tensorflow as tf\nimport numpy as np\nx_data = np.random.rand(100).astype(np.float32)\ny_data = x_data * 0.1 + 0.3\nW = tf.Variable(tf.random_uniform([1], -1.0, 1.0))\nb = tf.Variable(tf.zeros([1]))\ny = W * x_data + b\nall_vars = tf.trainable_variables()\nsess=tf.InteractiveSession()\ntf.initialize_all_variables().run()\nsaver = tf.train.Saver(all_vars)\n\nsaver.restore(sess,\"model.ckpt\")\n\nsess.close()\n</code></pre>\n<p>the error rises, log output as follows</p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>I have no problem to restore it in tensorflow 0.11</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>\n<pre><code>W tensorflow/core/framework/op_kernel.cc:975] Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\nW tensorflow/core/framework/op_kernel.cc:975] Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\n---------------------------------------------------------------------------\nNotFoundError                             Traceback (most recent call last)\n&lt;ipython-input-3-debe9897f9a0&gt; in &lt;module&gt;()\n----&gt; 1 saver.restore(sess,\"model.ckpt\")\n\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.pyc in restore(self, sess, save_path)\n   1386       return\n   1387     sess.run(self.saver_def.restore_op_name,\n-&gt; 1388              {self.saver_def.filename_tensor_name: save_path})\n   1389 \n   1390   @staticmethod\n\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in run(self, fetches, feed_dict, options, run_metadata)\n    764     try:\n    765       result = self._run(None, fetches, feed_dict, options_ptr,\n--&gt; 766                          run_metadata_ptr)\n    767       if run_metadata:\n    768         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _run(self, handle, fetches, feed_dict, options, run_metadata)\n    962     if final_fetches or final_targets:\n    963       results = self._do_run(handle, final_targets, final_fetches,\n--&gt; 964                              feed_dict_string, options, run_metadata)\n    965     else:\n    966       results = []\n\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\n   1012     if handle is None:\n   1013       return self._do_call(_run_fn, self._session, feed_dict, fetch_list,\n-&gt; 1014                            target_list, options, run_metadata)\n   1015     else:\n   1016       return self._do_call(_prun_fn, self._session, handle, feed_dict,\n\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_call(self, fn, *args)\n   1032         except KeyError:\n   1033           pass\n-&gt; 1034       raise type(e)(node_def, op, message)\n   1035 \n   1036   def _extend_graph(self):\n\nNotFoundError: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\n\t [[Node: save/RestoreV2_1/_1 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_9_save/RestoreV2_1\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\n\nCaused by op u'save/RestoreV2_1', defined at:\n  File \"/usr/bin/ipython\", line 5, in &lt;module&gt;\n    start_ipython()\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/__init__.py\", line 119, in start_ipython\n    return launch_new_instance(argv=argv, **kwargs)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/traitlets/config/application.py\", line 658, in launch_instance\n    app.start()\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/terminal/ipapp.py\", line 348, in start\n    self.shell.mainloop()\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 440, in mainloop\n    self.interact()\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 431, in interact\n    self.run_cell(code, store_history=True)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2717, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2821, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2881, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-2-ba9a814a49ca&gt;\", line 1, in &lt;module&gt;\n    saver = tf.train.Saver(all_vars)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1000, in __init__\n    self.build()\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1030, in build\n    restore_sequentially=self._restore_sequentially)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 624, in build\n    restore_sequentially, reshape)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 361, in _AddRestoreOps\n    tensors = self.restore_op(filename_tensor, saveable, preferred_shard)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 200, in restore_op\n    [spec.tensor.dtype])[0])\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/ops/gen_io_ops.py\", line 441, in restore_v2\n    dtypes=dtypes, name=name)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 759, in apply_op\n    op_def=op_def)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1128, in __init__\n    self._traceback = _extract_stack()\n\nNotFoundError (see above for traceback): Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\n\t [[Node: save/RestoreV2_1/_1 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_9_save/RestoreV2_1\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\n\n</code></pre>", "body_text": "NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\nFor general support from the community, see StackOverflow.\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nEnvironment info\nOperating System: Ubuntu 16.04.1 LTS\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nrw-r--r-- 1 root root   558720 Sep 14 19:02 /usr/local/cuda-8.0/lib64/libcudadevrt.a lrwxrwxrwx 1 root root       16 Sep 14 19:05 /usr/local/cuda-8.0/lib64/libcudart.so -> libcudart.so.8.0 lrwxrwxrwx 1 root root       19 Sep 14 19:05 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44 -rw-r--r-- 1 root root   415432 Sep 14 19:02 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.44 -rw-r--r-- 1 root root   775162 Sep 14 19:02 /usr/local/cuda-8.0/lib64/libcudart_static.a lrwxrwxrwx 1 root root       13 Oct 13 23:19 /usr/local/cuda-8.0/lib64/libcudnn.so -> libcudnn.so.5 lrwxrwxrwx 1 root root       17 Oct 13 23:19 /usr/local/cuda-8.0/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5 -rw-r--r-- 1 root root 79337624 Oct 13 23:17 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1.5 -rw-r--r-- 1 root root 69756172 Oct 13 23:17 /usr/local/cuda-8.0/lib64/libcudnn_static.a\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed: https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.0rc0-cp27-none-linux_x86_64.whl\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n0.12.0-rc0\n\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\nThe output of bazel version\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nI have a model which saved by tensorflow-0.11, for example:\nimport tensorflow as tf\nimport numpy as np\nx_data = np.random.rand(100).astype(np.float32)\ny_data = x_data * 0.1 + 0.3\n\nW = tf.Variable(tf.random_uniform([1], -1.0, 1.0))\nb = tf.Variable(tf.zeros([1]))\ny = W * x_data + b\nall_vars = tf.trainable_variables()\nsess=tf.InteractiveSession()\ntf.initialize_all_variables().run()\nsaver = tf.train.Saver(all_vars)\n\nsaver.save(sess,\"./model.ckpt\")\n\nsess.close()\n\nafter update to tensorflow 0.12 version, and when I load the model by:\nimport tensorflow as tf\nimport numpy as np\nx_data = np.random.rand(100).astype(np.float32)\ny_data = x_data * 0.1 + 0.3\nW = tf.Variable(tf.random_uniform([1], -1.0, 1.0))\nb = tf.Variable(tf.zeros([1]))\ny = W * x_data + b\nall_vars = tf.trainable_variables()\nsess=tf.InteractiveSession()\ntf.initialize_all_variables().run()\nsaver = tf.train.Saver(all_vars)\n\nsaver.restore(sess,\"model.ckpt\")\n\nsess.close()\n\nthe error rises, log output as follows\nWhat other attempted solutions have you tried?\nI have no problem to restore it in tensorflow 0.11\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nW tensorflow/core/framework/op_kernel.cc:975] Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\nW tensorflow/core/framework/op_kernel.cc:975] Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\n---------------------------------------------------------------------------\nNotFoundError                             Traceback (most recent call last)\n<ipython-input-3-debe9897f9a0> in <module>()\n----> 1 saver.restore(sess,\"model.ckpt\")\n\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.pyc in restore(self, sess, save_path)\n   1386       return\n   1387     sess.run(self.saver_def.restore_op_name,\n-> 1388              {self.saver_def.filename_tensor_name: save_path})\n   1389 \n   1390   @staticmethod\n\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in run(self, fetches, feed_dict, options, run_metadata)\n    764     try:\n    765       result = self._run(None, fetches, feed_dict, options_ptr,\n--> 766                          run_metadata_ptr)\n    767       if run_metadata:\n    768         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _run(self, handle, fetches, feed_dict, options, run_metadata)\n    962     if final_fetches or final_targets:\n    963       results = self._do_run(handle, final_targets, final_fetches,\n--> 964                              feed_dict_string, options, run_metadata)\n    965     else:\n    966       results = []\n\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\n   1012     if handle is None:\n   1013       return self._do_call(_run_fn, self._session, feed_dict, fetch_list,\n-> 1014                            target_list, options, run_metadata)\n   1015     else:\n   1016       return self._do_call(_prun_fn, self._session, handle, feed_dict,\n\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_call(self, fn, *args)\n   1032         except KeyError:\n   1033           pass\n-> 1034       raise type(e)(node_def, op, message)\n   1035 \n   1036   def _extend_graph(self):\n\nNotFoundError: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\n\t [[Node: save/RestoreV2_1/_1 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_9_save/RestoreV2_1\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\n\nCaused by op u'save/RestoreV2_1', defined at:\n  File \"/usr/bin/ipython\", line 5, in <module>\n    start_ipython()\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/__init__.py\", line 119, in start_ipython\n    return launch_new_instance(argv=argv, **kwargs)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/traitlets/config/application.py\", line 658, in launch_instance\n    app.start()\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/terminal/ipapp.py\", line 348, in start\n    self.shell.mainloop()\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 440, in mainloop\n    self.interact()\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 431, in interact\n    self.run_cell(code, store_history=True)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2717, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2821, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2881, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-2-ba9a814a49ca>\", line 1, in <module>\n    saver = tf.train.Saver(all_vars)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1000, in __init__\n    self.build()\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1030, in build\n    restore_sequentially=self._restore_sequentially)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 624, in build\n    restore_sequentially, reshape)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 361, in _AddRestoreOps\n    tensors = self.restore_op(filename_tensor, saveable, preferred_shard)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 200, in restore_op\n    [spec.tensor.dtype])[0])\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/ops/gen_io_ops.py\", line 441, in restore_v2\n    dtypes=dtypes, name=name)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 759, in apply_op\n    op_def=op_def)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1128, in __init__\n    self._traceback = _extract_stack()\n\nNotFoundError (see above for traceback): Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\n\t [[Node: save/RestoreV2_1/_1 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_9_save/RestoreV2_1\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]", "body": "NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\r\n\r\nFor general support from the community, see [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\r\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\r\nout of scope for GitHub Issues and point people to StackOverflow.\r\n\r\nFor bugs or installation issues, please provide the following information.\r\nThe more information you provide, the more easily we will be able to offer\r\nhelp and advice.\r\n\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\r\n### Environment info\r\nOperating System: Ubuntu 16.04.1 LTS\r\n\r\nInstalled version of CUDA and cuDNN: \r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\n`rw-r--r-- 1 root root   558720 Sep 14 19:02 /usr/local/cuda-8.0/lib64/libcudadevrt.a\r\nlrwxrwxrwx 1 root root       16 Sep 14 19:05 /usr/local/cuda-8.0/lib64/libcudart.so -> libcudart.so.8.0\r\nlrwxrwxrwx 1 root root       19 Sep 14 19:05 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44\r\n-rw-r--r-- 1 root root   415432 Sep 14 19:02 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.44\r\n-rw-r--r-- 1 root root   775162 Sep 14 19:02 /usr/local/cuda-8.0/lib64/libcudart_static.a\r\nlrwxrwxrwx 1 root root       13 Oct 13 23:19 /usr/local/cuda-8.0/lib64/libcudnn.so -> libcudnn.so.5\r\nlrwxrwxrwx 1 root root       17 Oct 13 23:19 /usr/local/cuda-8.0/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5\r\n-rw-r--r-- 1 root root 79337624 Oct 13 23:17 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1.5\r\n-rw-r--r-- 1 root root 69756172 Oct 13 23:17 /usr/local/cuda-8.0/lib64/libcudnn_static.a`\r\n\r\nIf installed from binary pip package, provide:\r\n\r\n1. A link to the pip package you installed: https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.0rc0-cp27-none-linux_x86_64.whl\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\n0.12.0-rc0\r\n\r\nIf installed from source, provide \r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\n2. The output of `bazel version`\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\nI have a model which saved by tensorflow-0.11, for example:\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\nx_data = np.random.rand(100).astype(np.float32)\r\ny_data = x_data * 0.1 + 0.3\r\n\r\nW = tf.Variable(tf.random_uniform([1], -1.0, 1.0))\r\nb = tf.Variable(tf.zeros([1]))\r\ny = W * x_data + b\r\nall_vars = tf.trainable_variables()\r\nsess=tf.InteractiveSession()\r\ntf.initialize_all_variables().run()\r\nsaver = tf.train.Saver(all_vars)\r\n\r\nsaver.save(sess,\"./model.ckpt\")\r\n\r\nsess.close()\r\n```\r\nafter update to tensorflow 0.12 version, and when I load the model by:\r\n\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\nx_data = np.random.rand(100).astype(np.float32)\r\ny_data = x_data * 0.1 + 0.3\r\nW = tf.Variable(tf.random_uniform([1], -1.0, 1.0))\r\nb = tf.Variable(tf.zeros([1]))\r\ny = W * x_data + b\r\nall_vars = tf.trainable_variables()\r\nsess=tf.InteractiveSession()\r\ntf.initialize_all_variables().run()\r\nsaver = tf.train.Saver(all_vars)\r\n\r\nsaver.restore(sess,\"model.ckpt\")\r\n\r\nsess.close()\r\n```\r\nthe error rises, log output as follows \r\n\r\n### What other attempted solutions have you tried?\r\nI have no problem to restore it in tensorflow 0.11\r\n\r\n### Logs or other output that would be helpful\r\n(If logs are large, please upload as attachment or provide link).\r\n```\r\nW tensorflow/core/framework/op_kernel.cc:975] Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\r\nW tensorflow/core/framework/op_kernel.cc:975] Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\r\n---------------------------------------------------------------------------\r\nNotFoundError                             Traceback (most recent call last)\r\n<ipython-input-3-debe9897f9a0> in <module>()\r\n----> 1 saver.restore(sess,\"model.ckpt\")\r\n\r\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.pyc in restore(self, sess, save_path)\r\n   1386       return\r\n   1387     sess.run(self.saver_def.restore_op_name,\r\n-> 1388              {self.saver_def.filename_tensor_name: save_path})\r\n   1389 \r\n   1390   @staticmethod\r\n\r\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in run(self, fetches, feed_dict, options, run_metadata)\r\n    764     try:\r\n    765       result = self._run(None, fetches, feed_dict, options_ptr,\r\n--> 766                          run_metadata_ptr)\r\n    767       if run_metadata:\r\n    768         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\r\n\r\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _run(self, handle, fetches, feed_dict, options, run_metadata)\r\n    962     if final_fetches or final_targets:\r\n    963       results = self._do_run(handle, final_targets, final_fetches,\r\n--> 964                              feed_dict_string, options, run_metadata)\r\n    965     else:\r\n    966       results = []\r\n\r\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\r\n   1012     if handle is None:\r\n   1013       return self._do_call(_run_fn, self._session, feed_dict, fetch_list,\r\n-> 1014                            target_list, options, run_metadata)\r\n   1015     else:\r\n   1016       return self._do_call(_prun_fn, self._session, handle, feed_dict,\r\n\r\n/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_call(self, fn, *args)\r\n   1032         except KeyError:\r\n   1033           pass\r\n-> 1034       raise type(e)(node_def, op, message)\r\n   1035 \r\n   1036   def _extend_graph(self):\r\n\r\nNotFoundError: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\r\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\r\n\t [[Node: save/RestoreV2_1/_1 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_9_save/RestoreV2_1\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\r\n\r\nCaused by op u'save/RestoreV2_1', defined at:\r\n  File \"/usr/bin/ipython\", line 5, in <module>\r\n    start_ipython()\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/__init__.py\", line 119, in start_ipython\r\n    return launch_new_instance(argv=argv, **kwargs)\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/traitlets/config/application.py\", line 658, in launch_instance\r\n    app.start()\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/terminal/ipapp.py\", line 348, in start\r\n    self.shell.mainloop()\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 440, in mainloop\r\n    self.interact()\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 431, in interact\r\n    self.run_cell(code, store_history=True)\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2717, in run_cell\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2821, in run_ast_nodes\r\n    if self.run_code(code, result):\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2881, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-2-ba9a814a49ca>\", line 1, in <module>\r\n    saver = tf.train.Saver(all_vars)\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1000, in __init__\r\n    self.build()\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1030, in build\r\n    restore_sequentially=self._restore_sequentially)\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 624, in build\r\n    restore_sequentially, reshape)\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 361, in _AddRestoreOps\r\n    tensors = self.restore_op(filename_tensor, saveable, preferred_shard)\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 200, in restore_op\r\n    [spec.tensor.dtype])[0])\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/ops/gen_io_ops.py\", line 441, in restore_v2\r\n    dtypes=dtypes, name=name)\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 759, in apply_op\r\n    op_def=op_def)\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/home/fctl/.local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1128, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nNotFoundError (see above for traceback): Unsuccessful TensorSliceReader constructor: Failed to find any matching files for model.ckpt\r\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\r\n\t [[Node: save/RestoreV2_1/_1 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_9_save/RestoreV2_1\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\r\n\r\n```"}