{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16553", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16553/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16553/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16553/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16553", "id": 292511371, "node_id": "MDU6SXNzdWUyOTI1MTEzNzE=", "number": 16553, "title": "Any way to pass a feedable placeholder for num_spectrogram_bins  in linear_to_mel_weight_matrix?", "user": {"login": "siryog90", "id": 8366121, "node_id": "MDQ6VXNlcjgzNjYxMjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/8366121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siryog90", "html_url": "https://github.com/siryog90", "followers_url": "https://api.github.com/users/siryog90/followers", "following_url": "https://api.github.com/users/siryog90/following{/other_user}", "gists_url": "https://api.github.com/users/siryog90/gists{/gist_id}", "starred_url": "https://api.github.com/users/siryog90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siryog90/subscriptions", "organizations_url": "https://api.github.com/users/siryog90/orgs", "repos_url": "https://api.github.com/users/siryog90/repos", "events_url": "https://api.github.com/users/siryog90/events{/privacy}", "received_events_url": "https://api.github.com/users/siryog90/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-01-29T18:26:09Z", "updated_at": "2018-04-12T20:01:06Z", "closed_at": "2018-04-12T20:01:06Z", "author_association": "NONE", "body_html": "<p>I need to run <code>auido-&gt;spectrogram-&gt;mel</code> graph for three different frame sizes. Ideally, I would have <code>frame_size</code> input tensor of the <code>stft</code> function be a placeholder and feed it in a loop. However, when computing the mel scale, tf does a value check for the number of bins, which according to my understanding, means that the number of bins needs to be specified during the graph construction.<br>\nAny suggestions?</p>\n<p>Below is the link to the problematic code<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/f7cbb757cf51143a1c7d9db5a812ac165941adf4/tensorflow/contrib/signal/python/ops/mel_ops.py#L72\">tensorflow/tensorflow/contrib/signal/python/ops/mel_ops.py</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 72\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/f7cbb757cf51143a1c7d9db5a812ac165941adf4\">f7cbb75</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L72\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"72\"></td>\n          <td id=\"LC72\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">if</span> num_spectrogram_bins <span class=\"pl-k\">&lt;=</span> <span class=\"pl-c1\">0</span>: </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<p><strong>Edit</strong>: I am referencing the official tutorial.<br>\n<a href=\"https://www.tensorflow.org/api_guides/python/contrib.signal#Computing_log_mel_spectrograms\" rel=\"nofollow\">https://www.tensorflow.org/api_guides/python/contrib.signal#Computing_log_mel_spectrograms</a><br>\nThe very first line essentially begins the problem chain.</p>\n<p><strong>Edit</strong>: I just commented out the line below that initiates the value checks, and everything ran smoothly. I was able to feed in <code>frame_length</code>.<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/f7cbb757cf51143a1c7d9db5a812ac165941adf4/tensorflow/contrib/signal/python/ops/mel_ops.py#L151\">tensorflow/tensorflow/contrib/signal/python/ops/mel_ops.py</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 151\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/f7cbb757cf51143a1c7d9db5a812ac165941adf4\">f7cbb75</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L151\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"151\"></td>\n          <td id=\"LC151\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> _validate_arguments(num_mel_bins, num_spectrogram_bins, sample_rate, </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>", "body_text": "I need to run auido->spectrogram->mel graph for three different frame sizes. Ideally, I would have frame_size input tensor of the stft function be a placeholder and feed it in a loop. However, when computing the mel scale, tf does a value check for the number of bins, which according to my understanding, means that the number of bins needs to be specified during the graph construction.\nAny suggestions?\nBelow is the link to the problematic code\n\n  \n    \n      tensorflow/tensorflow/contrib/signal/python/ops/mel_ops.py\n    \n    \n         Line 72\n      in\n      f7cbb75\n    \n    \n    \n    \n\n        \n          \n           if num_spectrogram_bins <= 0: \n        \n    \n  \n\n\nEdit: I am referencing the official tutorial.\nhttps://www.tensorflow.org/api_guides/python/contrib.signal#Computing_log_mel_spectrograms\nThe very first line essentially begins the problem chain.\nEdit: I just commented out the line below that initiates the value checks, and everything ran smoothly. I was able to feed in frame_length.\n\n  \n    \n      tensorflow/tensorflow/contrib/signal/python/ops/mel_ops.py\n    \n    \n         Line 151\n      in\n      f7cbb75\n    \n    \n    \n    \n\n        \n          \n           _validate_arguments(num_mel_bins, num_spectrogram_bins, sample_rate,", "body": "I need to run `auido->spectrogram->mel` graph for three different frame sizes. Ideally, I would have `frame_size` input tensor of the `stft` function be a placeholder and feed it in a loop. However, when computing the mel scale, tf does a value check for the number of bins, which according to my understanding, means that the number of bins needs to be specified during the graph construction.\r\nAny suggestions?\r\n\r\nBelow is the link to the problematic code\r\nhttps://github.com/tensorflow/tensorflow/blob/f7cbb757cf51143a1c7d9db5a812ac165941adf4/tensorflow/contrib/signal/python/ops/mel_ops.py#L72\r\n\r\n**Edit**: I am referencing the official tutorial.\r\nhttps://www.tensorflow.org/api_guides/python/contrib.signal#Computing_log_mel_spectrograms\r\nThe very first line essentially begins the problem chain. \r\n\r\n**Edit**: I just commented out the line below that initiates the value checks, and everything ran smoothly. I was able to feed in `frame_length`. \r\nhttps://github.com/tensorflow/tensorflow/blob/f7cbb757cf51143a1c7d9db5a812ac165941adf4/tensorflow/contrib/signal/python/ops/mel_ops.py#L151\r\n"}