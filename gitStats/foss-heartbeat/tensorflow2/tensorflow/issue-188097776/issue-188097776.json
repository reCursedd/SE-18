{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5480", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5480/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5480/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5480/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5480", "id": 188097776, "node_id": "MDU6SXNzdWUxODgwOTc3NzY=", "number": 5480, "title": "Creating TensorFlow device issue and perfromance drop", "user": {"login": "civilman628", "id": 8059551, "node_id": "MDQ6VXNlcjgwNTk1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8059551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/civilman628", "html_url": "https://github.com/civilman628", "followers_url": "https://api.github.com/users/civilman628/followers", "following_url": "https://api.github.com/users/civilman628/following{/other_user}", "gists_url": "https://api.github.com/users/civilman628/gists{/gist_id}", "starred_url": "https://api.github.com/users/civilman628/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/civilman628/subscriptions", "organizations_url": "https://api.github.com/users/civilman628/orgs", "repos_url": "https://api.github.com/users/civilman628/repos", "events_url": "https://api.github.com/users/civilman628/events{/privacy}", "received_events_url": "https://api.github.com/users/civilman628/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 34, "created_at": "2016-11-08T20:40:17Z", "updated_at": "2017-01-16T02:29:15Z", "closed_at": "2016-11-16T20:56:29Z", "author_association": "NONE", "body_html": "<p>Now I have 4 GeForce GTX TITAN X on my server. I want to run 4 tensor flow app independently on different GPU. I use the following code to assign GPU for different app, such as the 1st app use gpu:0 and 2nd app use gpu:1.</p>\n<p><strong>tf.device('/gpu:0')</strong></p>\n<p>However, whenever i run any app individually or all apps at same time, each app CMD window still outputs as below. Each creates 4 devices no matter other one(s) use these device or not.</p>\n<p>After starting 3 apps, which are assigned the first 3 GPU (0,1,2) for each of them, then i start the 4th app for GPU:3, which is the 4th GPU, the app has dramatic performance drop.</p>\n<p>Now i am using <strong>Ubuntu 16.04, cuda 8 + cuDNN 5.1.</strong> I do not know why this happen. I am not clear about if each app could run separately on different GPU on the same machine.</p>\n<p><strong>I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:0a:00.0)<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:1) -&gt; (device: 1, name: GeForce GTX TITAN X, pci bus id: 0000:09:00.0)<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:2) -&gt; (device: 2, name: GeForce GTX TITAN X, pci bus id: 0000:06:00.0)<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:3) -&gt; (device: 3, name: GeForce GTX TITAN X, pci bus id: 0000:05:00.0)</strong></p>", "body_text": "Now I have 4 GeForce GTX TITAN X on my server. I want to run 4 tensor flow app independently on different GPU. I use the following code to assign GPU for different app, such as the 1st app use gpu:0 and 2nd app use gpu:1.\ntf.device('/gpu:0')\nHowever, whenever i run any app individually or all apps at same time, each app CMD window still outputs as below. Each creates 4 devices no matter other one(s) use these device or not.\nAfter starting 3 apps, which are assigned the first 3 GPU (0,1,2) for each of them, then i start the 4th app for GPU:3, which is the 4th GPU, the app has dramatic performance drop.\nNow i am using Ubuntu 16.04, cuda 8 + cuDNN 5.1. I do not know why this happen. I am not clear about if each app could run separately on different GPU on the same machine.\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:0a:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX TITAN X, pci bus id: 0000:09:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:2) -> (device: 2, name: GeForce GTX TITAN X, pci bus id: 0000:06:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:3) -> (device: 3, name: GeForce GTX TITAN X, pci bus id: 0000:05:00.0)", "body": "Now I have 4 GeForce GTX TITAN X on my server. I want to run 4 tensor flow app independently on different GPU. I use the following code to assign GPU for different app, such as the 1st app use gpu:0 and 2nd app use gpu:1.\r\n\r\n**tf.device('/gpu:0')**\r\n\r\nHowever, whenever i run any app individually or all apps at same time, each app CMD window still outputs as below. Each creates 4 devices no matter other one(s) use these device or not.\r\n\r\nAfter starting 3 apps, which are assigned the first 3 GPU (0,1,2) for each of them, then i start the 4th app for GPU:3, which is the 4th GPU, the app has dramatic performance drop.\r\n\r\nNow i am using **Ubuntu 16.04, cuda 8 + cuDNN 5.1.** I do not know why this happen. I am not clear about if each app could run separately on different GPU on the same machine. \r\n\r\n\r\n\r\n**I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:0a:00.0)\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX TITAN X, pci bus id: 0000:09:00.0)\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:2) -> (device: 2, name: GeForce GTX TITAN X, pci bus id: 0000:06:00.0)\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:3) -> (device: 3, name: GeForce GTX TITAN X, pci bus id: 0000:05:00.0)**\r\n"}