{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/376860288", "html_url": "https://github.com/tensorflow/tensorflow/issues/17790#issuecomment-376860288", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17790", "id": 376860288, "node_id": "MDEyOklzc3VlQ29tbWVudDM3Njg2MDI4OA==", "user": {"login": "Lexicographical", "id": 24856195, "node_id": "MDQ6VXNlcjI0ODU2MTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/24856195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lexicographical", "html_url": "https://github.com/Lexicographical", "followers_url": "https://api.github.com/users/Lexicographical/followers", "following_url": "https://api.github.com/users/Lexicographical/following{/other_user}", "gists_url": "https://api.github.com/users/Lexicographical/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lexicographical/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lexicographical/subscriptions", "organizations_url": "https://api.github.com/users/Lexicographical/orgs", "repos_url": "https://api.github.com/users/Lexicographical/repos", "events_url": "https://api.github.com/users/Lexicographical/events{/privacy}", "received_events_url": "https://api.github.com/users/Lexicographical/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-28T11:56:11Z", "updated_at": "2018-03-28T11:56:47Z", "author_association": "NONE", "body_html": "<p>I changed alwayslink = 1 and tried rebuilding but it fails with the following error (I added the --verbose_failures option):<br>\n<code>ERROR: /home/pi/Desktop/tensorflow/tensorflow/contrib/lite/toco/BUILD:391:1: Linking of rule '//tensorflow/contrib/lite/toco:toco' failed (Exit 1): gcc failed: error executing command (cd /home/pi/.cache/bazel/_bazel_pi/0a9cb2a29ff2847422358ab74afe8d8d/execroot/org_tensorflow &amp;&amp; \\ exec env - \\ PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games \\ PWD=/proc/self/cwd \\ PYTHON_BIN_PATH=/usr/bin/python3 \\ PYTHON_LIB_PATH=/usr/local/lib/python3.5/dist-packages \\ TF_DOWNLOAD_CLANG=0 \\ TF_NEED_CUDA=0 \\ TF_NEED_OPENCL_SYCL=0 \\ /usr/bin/gcc -o bazel-out/arm-py3-opt/bin/tensorflow/contrib/lite/toco/toco '-Wl,-rpath,$ORIGIN/../../../../_solib_arm/_U_S_Stensorflow_Scontrib_Slite_Stoco_Ctoco___Utensorflow' -Lbazel-out/arm-py3-opt/bin/_solib_arm/_U_S_Stensorflow_Scontrib_Slite_Stoco_Ctoco___Utensorflow '-Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../..,-rpath,$ORIGIN/../../..' -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -pthread '-fuse-ld=gold' -Wl,-no-as-needed -Wl,-z,relro,-z,now -B/usr/bin -B/usr/bin -pass-exit-codes -Wl,--gc-sections -Wl,@bazel-out/arm-py3-opt/bin/tensorflow/contrib/lite/toco/toco-2.params) bazel-out/arm-py3-opt/bin/tensorflow/core/kernels/_objs/list_kernels/tensorflow/core/kernels/list_kernels.o:list_kernels.cc:function tensorflow::TensorListStack&lt;Eigen::ThreadPoolDevice, tensorflow::bfloat16&gt;::Compute(tensorflow::OpKernelContext*): error: undefined reference to 'void tensorflow::ConcatCPU&lt;tensorflow::bfloat16&gt;(tensorflow::DeviceBase*, std::vector&lt;std::unique_ptr&lt;tensorflow::TTypes&lt;tensorflow::bfloat16, 2, int&gt;::ConstMatrix, std::default_delete&lt;tensorflow::TTypes&lt;tensorflow::bfloat16, 2, int&gt;::ConstMatrix&gt; &gt;, std::allocator&lt;std::unique_ptr&lt;tensorflow::TTypes&lt;tensorflow::bfloat16, 2, int&gt;::ConstMatrix, std::default_delete&lt;tensorflow::TTypes&lt;tensorflow::bfloat16, 2, int&gt;::ConstMatrix&gt; &gt; &gt; &gt; const&amp;, tensorflow::TTypes&lt;tensorflow::bfloat16, 2, int&gt;::Matrix*)' collect2: error: ld returned 1 exit status Target //tensorflow/tools/pip_package:build_pip_package failed to build INFO: Elapsed time: 1766.182s, Critical Path: 275.26s FAILED: Build did NOT complete successfully</code></p>", "body_text": "I changed alwayslink = 1 and tried rebuilding but it fails with the following error (I added the --verbose_failures option):\nERROR: /home/pi/Desktop/tensorflow/tensorflow/contrib/lite/toco/BUILD:391:1: Linking of rule '//tensorflow/contrib/lite/toco:toco' failed (Exit 1): gcc failed: error executing command (cd /home/pi/.cache/bazel/_bazel_pi/0a9cb2a29ff2847422358ab74afe8d8d/execroot/org_tensorflow && \\ exec env - \\ PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games \\ PWD=/proc/self/cwd \\ PYTHON_BIN_PATH=/usr/bin/python3 \\ PYTHON_LIB_PATH=/usr/local/lib/python3.5/dist-packages \\ TF_DOWNLOAD_CLANG=0 \\ TF_NEED_CUDA=0 \\ TF_NEED_OPENCL_SYCL=0 \\ /usr/bin/gcc -o bazel-out/arm-py3-opt/bin/tensorflow/contrib/lite/toco/toco '-Wl,-rpath,$ORIGIN/../../../../_solib_arm/_U_S_Stensorflow_Scontrib_Slite_Stoco_Ctoco___Utensorflow' -Lbazel-out/arm-py3-opt/bin/_solib_arm/_U_S_Stensorflow_Scontrib_Slite_Stoco_Ctoco___Utensorflow '-Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../..,-rpath,$ORIGIN/../../..' -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -pthread '-fuse-ld=gold' -Wl,-no-as-needed -Wl,-z,relro,-z,now -B/usr/bin -B/usr/bin -pass-exit-codes -Wl,--gc-sections -Wl,@bazel-out/arm-py3-opt/bin/tensorflow/contrib/lite/toco/toco-2.params) bazel-out/arm-py3-opt/bin/tensorflow/core/kernels/_objs/list_kernels/tensorflow/core/kernels/list_kernels.o:list_kernels.cc:function tensorflow::TensorListStack<Eigen::ThreadPoolDevice, tensorflow::bfloat16>::Compute(tensorflow::OpKernelContext*): error: undefined reference to 'void tensorflow::ConcatCPU<tensorflow::bfloat16>(tensorflow::DeviceBase*, std::vector<std::unique_ptr<tensorflow::TTypes<tensorflow::bfloat16, 2, int>::ConstMatrix, std::default_delete<tensorflow::TTypes<tensorflow::bfloat16, 2, int>::ConstMatrix> >, std::allocator<std::unique_ptr<tensorflow::TTypes<tensorflow::bfloat16, 2, int>::ConstMatrix, std::default_delete<tensorflow::TTypes<tensorflow::bfloat16, 2, int>::ConstMatrix> > > > const&, tensorflow::TTypes<tensorflow::bfloat16, 2, int>::Matrix*)' collect2: error: ld returned 1 exit status Target //tensorflow/tools/pip_package:build_pip_package failed to build INFO: Elapsed time: 1766.182s, Critical Path: 275.26s FAILED: Build did NOT complete successfully", "body": "I changed alwayslink = 1 and tried rebuilding but it fails with the following error (I added the --verbose_failures option):\r\n`ERROR: /home/pi/Desktop/tensorflow/tensorflow/contrib/lite/toco/BUILD:391:1: Linking of rule '//tensorflow/contrib/lite/toco:toco' failed (Exit 1): gcc failed: error executing command\r\n  (cd /home/pi/.cache/bazel/_bazel_pi/0a9cb2a29ff2847422358ab74afe8d8d/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python3 \\\r\n    PYTHON_LIB_PATH=/usr/local/lib/python3.5/dist-packages \\\r\n    TF_DOWNLOAD_CLANG=0 \\\r\n    TF_NEED_CUDA=0 \\\r\n    TF_NEED_OPENCL_SYCL=0 \\\r\n  /usr/bin/gcc -o bazel-out/arm-py3-opt/bin/tensorflow/contrib/lite/toco/toco '-Wl,-rpath,$ORIGIN/../../../../_solib_arm/_U_S_Stensorflow_Scontrib_Slite_Stoco_Ctoco___Utensorflow' -Lbazel-out/arm-py3-opt/bin/_solib_arm/_U_S_Stensorflow_Scontrib_Slite_Stoco_Ctoco___Utensorflow '-Wl,-rpath,$ORIGIN/,-rpath,$ORIGIN/..,-rpath,$ORIGIN/../..,-rpath,$ORIGIN/../../..' -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -Wl,-z,notext -pthread '-fuse-ld=gold' -Wl,-no-as-needed -Wl,-z,relro,-z,now -B/usr/bin -B/usr/bin -pass-exit-codes -Wl,--gc-sections -Wl,@bazel-out/arm-py3-opt/bin/tensorflow/contrib/lite/toco/toco-2.params)\r\nbazel-out/arm-py3-opt/bin/tensorflow/core/kernels/_objs/list_kernels/tensorflow/core/kernels/list_kernels.o:list_kernels.cc:function tensorflow::TensorListStack<Eigen::ThreadPoolDevice, tensorflow::bfloat16>::Compute(tensorflow::OpKernelContext*): error: undefined reference to 'void tensorflow::ConcatCPU<tensorflow::bfloat16>(tensorflow::DeviceBase*, std::vector<std::unique_ptr<tensorflow::TTypes<tensorflow::bfloat16, 2, int>::ConstMatrix, std::default_delete<tensorflow::TTypes<tensorflow::bfloat16, 2, int>::ConstMatrix> >, std::allocator<std::unique_ptr<tensorflow::TTypes<tensorflow::bfloat16, 2, int>::ConstMatrix, std::default_delete<tensorflow::TTypes<tensorflow::bfloat16, 2, int>::ConstMatrix> > > > const&, tensorflow::TTypes<tensorflow::bfloat16, 2, int>::Matrix*)'\r\ncollect2: error: ld returned 1 exit status\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 1766.182s, Critical Path: 275.26s\r\nFAILED: Build did NOT complete successfully`"}