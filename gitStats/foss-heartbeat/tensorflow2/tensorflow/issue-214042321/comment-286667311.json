{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/286667311", "html_url": "https://github.com/tensorflow/tensorflow/issues/8392#issuecomment-286667311", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8392", "id": 286667311, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjY2NzMxMQ==", "user": {"login": "maydaygmail", "id": 3124643, "node_id": "MDQ6VXNlcjMxMjQ2NDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3124643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maydaygmail", "html_url": "https://github.com/maydaygmail", "followers_url": "https://api.github.com/users/maydaygmail/followers", "following_url": "https://api.github.com/users/maydaygmail/following{/other_user}", "gists_url": "https://api.github.com/users/maydaygmail/gists{/gist_id}", "starred_url": "https://api.github.com/users/maydaygmail/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maydaygmail/subscriptions", "organizations_url": "https://api.github.com/users/maydaygmail/orgs", "repos_url": "https://api.github.com/users/maydaygmail/repos", "events_url": "https://api.github.com/users/maydaygmail/events{/privacy}", "received_events_url": "https://api.github.com/users/maydaygmail/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-15T07:58:45Z", "updated_at": "2017-03-15T07:58:45Z", "author_association": "NONE", "body_html": "<p>Thanks. I add anothermatmul_op to BUILD,  bazel build and install. But the  gen_math_ops.py cannot be updated.</p>\n<ol>\n<li>run bazel build tensorflow/python:math_ops_gen, and a new gen_math_ops.py is generated in bazel-genfiles/tensorflow/python/ops/, which can find the new op another_mat_mul.</li>\n<li>cp bazel-genfiles/tensorflow/python/ops/gen_math_ops.py util/python/python_lib/tensorflow/python/ops/gen_math_ops.py</li>\n<li>add a function def another_matmul: gen_math_ops.another_mat_mul to util/python/python_lib/tensorflow/python/ops/math_ops.py</li>\n<li>when call tf.another_matmul, get error:tensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'AnotherMatMul'</li>\n</ol>\n<p>however, I have add REGISTER_OP(\"AnotherMatMul\") to tensorflow/core/ops/math_ops.cc</p>\n<p>how to add a new op?<br>\nThanks in advance.</p>", "body_text": "Thanks. I add anothermatmul_op to BUILD,  bazel build and install. But the  gen_math_ops.py cannot be updated.\n\nrun bazel build tensorflow/python:math_ops_gen, and a new gen_math_ops.py is generated in bazel-genfiles/tensorflow/python/ops/, which can find the new op another_mat_mul.\ncp bazel-genfiles/tensorflow/python/ops/gen_math_ops.py util/python/python_lib/tensorflow/python/ops/gen_math_ops.py\nadd a function def another_matmul: gen_math_ops.another_mat_mul to util/python/python_lib/tensorflow/python/ops/math_ops.py\nwhen call tf.another_matmul, get error:tensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'AnotherMatMul'\n\nhowever, I have add REGISTER_OP(\"AnotherMatMul\") to tensorflow/core/ops/math_ops.cc\nhow to add a new op?\nThanks in advance.", "body": "Thanks. I add anothermatmul_op to BUILD,  bazel build and install. But the  gen_math_ops.py cannot be updated. \r\n1. run bazel build tensorflow/python:math_ops_gen, and a new gen_math_ops.py is generated in bazel-genfiles/tensorflow/python/ops/, which can find the new op another_mat_mul.\r\n2. cp bazel-genfiles/tensorflow/python/ops/gen_math_ops.py util/python/python_lib/tensorflow/python/ops/gen_math_ops.py\r\n3. add a function def another_matmul: gen_math_ops.another_mat_mul to util/python/python_lib/tensorflow/python/ops/math_ops.py\r\n4. when call tf.another_matmul, get error:tensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'AnotherMatMul'\r\n\r\nhowever, I have add REGISTER_OP(\"AnotherMatMul\") to tensorflow/core/ops/math_ops.cc\r\n\r\nhow to add a new op?\r\nThanks in advance.\r\n"}