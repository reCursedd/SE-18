{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16283", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16283/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16283/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16283/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16283", "id": 290416185, "node_id": "MDU6SXNzdWUyOTA0MTYxODU=", "number": 16283, "title": "tf.edit_distance work wrang", "user": {"login": "zh794390558", "id": 3038472, "node_id": "MDQ6VXNlcjMwMzg0NzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3038472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zh794390558", "html_url": "https://github.com/zh794390558", "followers_url": "https://api.github.com/users/zh794390558/followers", "following_url": "https://api.github.com/users/zh794390558/following{/other_user}", "gists_url": "https://api.github.com/users/zh794390558/gists{/gist_id}", "starred_url": "https://api.github.com/users/zh794390558/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zh794390558/subscriptions", "organizations_url": "https://api.github.com/users/zh794390558/orgs", "repos_url": "https://api.github.com/users/zh794390558/repos", "events_url": "https://api.github.com/users/zh794390558/events{/privacy}", "received_events_url": "https://api.github.com/users/zh794390558/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-22T10:28:53Z", "updated_at": "2018-01-22T10:58:11Z", "closed_at": "2018-01-22T10:58:11Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<p>== cat /etc/issue ===============================================<br>\nLinux asr-eval 4.4.77-1.el7.elrepo.x86_64 <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP Sat Jul 15 11:17:37 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux<br>\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"<br>\nVERSION_ID=\"16.04\"<br>\nVERSION_CODENAME=xenial</p>\n<p>== are we in docker =============================================<br>\nNo</p>\n<p>== compiler =====================================================<br>\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609<br>\nCopyright (C) 2015 Free Software Foundation, Inc.<br>\nThis is free software; see the source for copying conditions.  There is NO<br>\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>\n<p>== uname -a =====================================================<br>\nLinux asr-eval 4.4.77-1.el7.elrepo.x86_64 <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP Sat Jul 15 11:17:37 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux</p>\n<p>== check pips ===================================================<br>\nnumpy (1.14.0)<br>\nprotobuf (3.5.1)<br>\ntensorflow-gpu (1.5.0rc1)<br>\ntensorflow-tensorboard (0.4.0rc3)</p>\n<p>== check for virtualenv =========================================<br>\nFalse</p>\n<p>== tensorflow import ============================================<br>\ntf.VERSION = 1.5.0-rc1<br>\ntf.GIT_VERSION = v1.5.0-rc0-8-gc678970<br>\ntf.COMPILER_VERSION = v1.5.0-rc0-8-gc678970<br>\nSanity check: array([1], dtype=int32)<br>\n/usr/local/lib/python2.7/dist-packages/h5py/<strong>init</strong>.py:36: FutureWarning: Conversion of the second argument of issubdtype from <code>float</code> to <code>np.floating</code> is deprecated. In future, it will be treated as <code>np.float64 == np.dtype(float).type</code>.<br>\nfrom ._conv import register_converters as _register_converters</p>\n<p>== env ==========================================================<br>\nLD_LIBRARY_PATH /usr/local/nvidia/lib64:/usr/local/lib:/usr/local/cuda/extras/CUPTI/lib64:/usr/local/nvidia/lib:/usr/local/nvidia/lib64<br>\nDYLD_LIBRARY_PATH is unset</p>\n<p>== nvidia-smi ===================================================<br>\nMon Jan 22 10:28:25 2018<br>\n+-----------------------------------------------------------------------------+<br>\n| NVIDIA-SMI 384.98                 Driver Version: 384.98                    |<br>\n|-------------------------------+----------------------+----------------------+<br>\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |<br>\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |<br>\n|===============================+======================+======================|<br>\n|   0  TITAN Xp            Off  | 00000000:0C:00.0 Off |                  N/A |<br>\n| 23%   29C    P0    68W / 250W |     10MiB / 12189MiB |      0%      Default |<br>\n+-------------------------------+----------------------+----------------------+</p>\n<p>+-----------------------------------------------------------------------------+<br>\n| Processes:                                                       GPU Memory |<br>\n|  GPU       PID   Type   Process name                             Usage      |<br>\n|=============================================================================|<br>\n|  No running processes found                                                 |<br>\n+-----------------------------------------------------------------------------+</p>\n<p>== cuda libs  ===================================================<br>\n/usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart.so.9.0.176</p>\n<p>You can obtain the TensorFlow version with</p>\n<p>('v1.5.0-rc0-8-gc678970', '1.5.0-rc1')</p>\n<h3>Describe the problem</h3>\n<pre><code>(&lt;tf.Tensor: id=1, shape=(2, 7), dtype=int32, numpy=\n array([[1, 2, 3, 4, 5, 0, 0],\n        [2, 2, 3, 5, 4, 0, 0]], dtype=int32)&gt;,\n &lt;tf.Tensor: id=81, shape=(2, 7), dtype=int32, numpy=\n array([[1, 2, 1, 3, 4, 0, 0],\n        [2, 2, 1, 2, 3, 0, 0]], dtype=int32)&gt;)\n\nIn [160]: edit\nOut[160]: &lt;tf.Tensor: id=154, shape=(2,), dtype=float32, numpy=array([2., 3.], dtype=float32)&gt;\n</code></pre>\n<p>The truth must [3, 3]</p>\n<h3>Source code / logs</h3>\n<pre><code>t: (&lt;tf.Tensor: id=1, shape=(2, 7), dtype=int32, numpy=\n array([[1, 2, 3, 4, 5, 0, 0],\n        [2, 2, 3, 5, 4, 0, 0]], dtype=int32)&gt;,\nl: &lt;tf.Tensor: id=81, shape=(2, 7), dtype=int32, numpy=\n array([[1, 2, 1, 3, 4, 0, 0],\n        [2, 2, 1, 2, 3, 0, 0]], dtype=int32)&gt;)\n\nedit = tf.edit_distance(st, sl, normalize=False)\n\nIn [160]: edit\nOut[160]: &lt;tf.Tensor: id=154, shape=(2,), dtype=float32, numpy=array([2., 3.], dtype=float32)&gt;\n</code></pre>", "body_text": "System information\n== cat /etc/issue ===============================================\nLinux asr-eval 4.4.77-1.el7.elrepo.x86_64 #1 SMP Sat Jul 15 11:17:37 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\nVERSION_ID=\"16.04\"\nVERSION_CODENAME=xenial\n== are we in docker =============================================\nNo\n== compiler =====================================================\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609\nCopyright (C) 2015 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n== uname -a =====================================================\nLinux asr-eval 4.4.77-1.el7.elrepo.x86_64 #1 SMP Sat Jul 15 11:17:37 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux\n== check pips ===================================================\nnumpy (1.14.0)\nprotobuf (3.5.1)\ntensorflow-gpu (1.5.0rc1)\ntensorflow-tensorboard (0.4.0rc3)\n== check for virtualenv =========================================\nFalse\n== tensorflow import ============================================\ntf.VERSION = 1.5.0-rc1\ntf.GIT_VERSION = v1.5.0-rc0-8-gc678970\ntf.COMPILER_VERSION = v1.5.0-rc0-8-gc678970\nSanity check: array([1], dtype=int32)\n/usr/local/lib/python2.7/dist-packages/h5py/init.py:36: FutureWarning: Conversion of the second argument of issubdtype from float to np.floating is deprecated. In future, it will be treated as np.float64 == np.dtype(float).type.\nfrom ._conv import register_converters as _register_converters\n== env ==========================================================\nLD_LIBRARY_PATH /usr/local/nvidia/lib64:/usr/local/lib:/usr/local/cuda/extras/CUPTI/lib64:/usr/local/nvidia/lib:/usr/local/nvidia/lib64\nDYLD_LIBRARY_PATH is unset\n== nvidia-smi ===================================================\nMon Jan 22 10:28:25 2018\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 384.98                 Driver Version: 384.98                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  TITAN Xp            Off  | 00000000:0C:00.0 Off |                  N/A |\n| 23%   29C    P0    68W / 250W |     10MiB / 12189MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID   Type   Process name                             Usage      |\n|=============================================================================|\n|  No running processes found                                                 |\n+-----------------------------------------------------------------------------+\n== cuda libs  ===================================================\n/usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart.so.9.0.176\nYou can obtain the TensorFlow version with\n('v1.5.0-rc0-8-gc678970', '1.5.0-rc1')\nDescribe the problem\n(<tf.Tensor: id=1, shape=(2, 7), dtype=int32, numpy=\n array([[1, 2, 3, 4, 5, 0, 0],\n        [2, 2, 3, 5, 4, 0, 0]], dtype=int32)>,\n <tf.Tensor: id=81, shape=(2, 7), dtype=int32, numpy=\n array([[1, 2, 1, 3, 4, 0, 0],\n        [2, 2, 1, 2, 3, 0, 0]], dtype=int32)>)\n\nIn [160]: edit\nOut[160]: <tf.Tensor: id=154, shape=(2,), dtype=float32, numpy=array([2., 3.], dtype=float32)>\n\nThe truth must [3, 3]\nSource code / logs\nt: (<tf.Tensor: id=1, shape=(2, 7), dtype=int32, numpy=\n array([[1, 2, 3, 4, 5, 0, 0],\n        [2, 2, 3, 5, 4, 0, 0]], dtype=int32)>,\nl: <tf.Tensor: id=81, shape=(2, 7), dtype=int32, numpy=\n array([[1, 2, 1, 3, 4, 0, 0],\n        [2, 2, 1, 2, 3, 0, 0]], dtype=int32)>)\n\nedit = tf.edit_distance(st, sl, normalize=False)\n\nIn [160]: edit\nOut[160]: <tf.Tensor: id=154, shape=(2,), dtype=float32, numpy=array([2., 3.], dtype=float32)>", "body": "### System information\r\n\r\n== cat /etc/issue ===============================================\r\nLinux asr-eval 4.4.77-1.el7.elrepo.x86_64 #1 SMP Sat Jul 15 11:17:37 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux\r\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\r\nVERSION_ID=\"16.04\"\r\nVERSION_CODENAME=xenial\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609\r\nCopyright (C) 2015 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n\r\n== uname -a =====================================================\r\nLinux asr-eval 4.4.77-1.el7.elrepo.x86_64 #1 SMP Sat Jul 15 11:17:37 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n== check pips ===================================================\r\nnumpy (1.14.0)\r\nprotobuf (3.5.1)\r\ntensorflow-gpu (1.5.0rc1)\r\ntensorflow-tensorboard (0.4.0rc3)\r\n\r\n== check for virtualenv =========================================\r\nFalse\r\n\r\n== tensorflow import ============================================\r\ntf.VERSION = 1.5.0-rc1\r\ntf.GIT_VERSION = v1.5.0-rc0-8-gc678970\r\ntf.COMPILER_VERSION = v1.5.0-rc0-8-gc678970\r\nSanity check: array([1], dtype=int32)\r\n/usr/local/lib/python2.7/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH /usr/local/nvidia/lib64:/usr/local/lib:/usr/local/cuda/extras/CUPTI/lib64:/usr/local/nvidia/lib:/usr/local/nvidia/lib64\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\nMon Jan 22 10:28:25 2018       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 384.98                 Driver Version: 384.98                    |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  TITAN Xp            Off  | 00000000:0C:00.0 Off |                  N/A |\r\n| 23%   29C    P0    68W / 250W |     10MiB / 12189MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|  No running processes found                                                 |\r\n+-----------------------------------------------------------------------------+\r\n\r\n== cuda libs  ===================================================\r\n/usr/local/cuda-9.0/targets/x86_64-linux/lib/libcudart.so.9.0.176\r\n\r\n\r\nYou can obtain the TensorFlow version with\r\n\r\n('v1.5.0-rc0-8-gc678970', '1.5.0-rc1')\r\n\r\n### Describe the problem\r\n```\r\n(<tf.Tensor: id=1, shape=(2, 7), dtype=int32, numpy=\r\n array([[1, 2, 3, 4, 5, 0, 0],\r\n        [2, 2, 3, 5, 4, 0, 0]], dtype=int32)>,\r\n <tf.Tensor: id=81, shape=(2, 7), dtype=int32, numpy=\r\n array([[1, 2, 1, 3, 4, 0, 0],\r\n        [2, 2, 1, 2, 3, 0, 0]], dtype=int32)>)\r\n\r\nIn [160]: edit\r\nOut[160]: <tf.Tensor: id=154, shape=(2,), dtype=float32, numpy=array([2., 3.], dtype=float32)>\r\n```\r\nThe truth must [3, 3]\r\n\r\n### Source code / logs\r\n```\r\nt: (<tf.Tensor: id=1, shape=(2, 7), dtype=int32, numpy=\r\n array([[1, 2, 3, 4, 5, 0, 0],\r\n        [2, 2, 3, 5, 4, 0, 0]], dtype=int32)>,\r\nl: <tf.Tensor: id=81, shape=(2, 7), dtype=int32, numpy=\r\n array([[1, 2, 1, 3, 4, 0, 0],\r\n        [2, 2, 1, 2, 3, 0, 0]], dtype=int32)>)\r\n\r\nedit = tf.edit_distance(st, sl, normalize=False)\r\n\r\nIn [160]: edit\r\nOut[160]: <tf.Tensor: id=154, shape=(2,), dtype=float32, numpy=array([2., 3.], dtype=float32)>\r\n```"}