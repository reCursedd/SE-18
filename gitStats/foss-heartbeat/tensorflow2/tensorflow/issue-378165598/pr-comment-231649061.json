{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/231649061", "pull_request_review_id": 172664311, "id": 231649061, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTY0OTA2MQ==", "diff_hunk": "@@ -244,6 +244,15 @@ void RpcRemoteRendezvous::RecvFromRemoteAsync(\n   // Record \"call\" in active_ so that it can be aborted cleanly.\n   RegisterCall(call);\n \n+  // RendezvousMgr already aborted, shouldn't send RPC call any more\n+  if (!call->status().ok()) {\n+    session()->worker_cache->ReleaseWorker(call->src_worker_, call->wi_);", "path": "tensorflow/core/distributed_runtime/rpc/rpc_rendezvous_mgr.cc", "position": null, "original_position": 6, "commit_id": "2ee1c5a0d6b99574f48e7f0de9b94559d824b022", "original_commit_id": "3baf2117cbf946a8dc18118cf2d5315bff7b31f5", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "body": "Can you please swap this line with the one below it, to match the order of statements on L264 and L265 and make it clearer that they follow the same logic?", "created_at": "2018-11-07T19:38:04Z", "updated_at": "2018-11-09T02:46:07Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/23580#discussion_r231649061", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23580", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/231649061"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/23580#discussion_r231649061"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23580"}}, "body_html": "<p>Can you please swap this line with the one below it, to match the order of statements on L264 and L265 and make it clearer that they follow the same logic?</p>", "body_text": "Can you please swap this line with the one below it, to match the order of statements on L264 and L265 and make it clearer that they follow the same logic?"}