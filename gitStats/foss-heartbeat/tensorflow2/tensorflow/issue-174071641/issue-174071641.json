{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4103", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4103/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4103/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4103/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4103", "id": 174071641, "node_id": "MDU6SXNzdWUxNzQwNzE2NDE=", "number": 4103, "title": "Build failure while following TensorFlow from source following TF documentation", "user": {"login": "mkolod", "id": 476135, "node_id": "MDQ6VXNlcjQ3NjEzNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/476135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkolod", "html_url": "https://github.com/mkolod", "followers_url": "https://api.github.com/users/mkolod/followers", "following_url": "https://api.github.com/users/mkolod/following{/other_user}", "gists_url": "https://api.github.com/users/mkolod/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkolod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkolod/subscriptions", "organizations_url": "https://api.github.com/users/mkolod/orgs", "repos_url": "https://api.github.com/users/mkolod/repos", "events_url": "https://api.github.com/users/mkolod/events{/privacy}", "received_events_url": "https://api.github.com/users/mkolod/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-08-30T16:58:35Z", "updated_at": "2016-09-09T23:47:40Z", "closed_at": "2016-09-09T23:47:40Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>Problem</h3>\n<p>TensorFlow build  of the pip package with CUDA support using the following command, taken from the <a href=\"https://www.tensorflow.org/versions/r0.10/get_started/os_setup.html#installing-from-sources\" rel=\"nofollow\">TensorFlow documentation</a>, fails:</p>\n<p><code>bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</code></p>\n<h3>Error message</h3>\n<pre><code>/usr/include/string.h: In function 'void* __mempcpy_inline(void*, const void*, size_t)':\n/usr/include/string.h:652:42: error: 'memcpy' was not declared in this scope\n   return (char *) memcpy (__dest, __src, __n) + __n;\n                                          ^\nERROR: /home/marek/src/tensorflow/tensorflow/contrib/rnn/BUILD:63:1: output 'tensorflow/contrib/rnn/_objs/python/ops/_gru_ops_gpu/tensorflow/contrib/rnn/kernels/gru_ops_gpu.cu.pic.o' was not created.\nERROR: /home/marek/src/tensorflow/tensorflow/contrib/rnn/BUILD:63:1: not all outputs were created.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n</code></pre>\n<h3>Environment</h3>\n<ul>\n<li>OS: Ubuntu 16.04 (64-bit)</li>\n<li>CUDA 8.0</li>\n<li>GCC 4.9.3</li>\n<li>Java 1.8 (r101_b13)</li>\n<li>Python 2.7.12 (Anaconda 4.1.1)</li>\n<li>Bazel 0.3.1</li>\n</ul>\n<h3>Related problems for CUDA-based frameworks reported on StackOverflow and Github</h3>\n<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"137662453\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1346\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1346/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1346\">#1346</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"152452073\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/torch/torch7/issues/670\" data-hovercard-type=\"issue\" data-hovercard-url=\"/torch/torch7/issues/670/hovercard\" href=\"https://github.com/torch/torch7/issues/670\">torch/torch7#670</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"151135972\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/BVLC/caffe/issues/4046\" data-hovercard-type=\"issue\" data-hovercard-url=\"/BVLC/caffe/issues/4046/hovercard\" href=\"https://github.com/BVLC/caffe/issues/4046\">BVLC/caffe#4046</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"152966521\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/opencv/opencv/issues/6500\" data-hovercard-type=\"issue\" data-hovercard-url=\"/opencv/opencv/issues/6500/hovercard\" href=\"https://github.com/opencv/opencv/issues/6500\">opencv/opencv#6500</a></p>\n<h3>Solutions tried (none of them worked)</h3>\n<ul>\n<li>downgrading to CUDA 7.5 and CUDNN 4</li>\n<li>changing downgrading and upgrading GCC away from 4.9.3</li>\n<li>changing GCC and cmake options to include <code>-D_FORCE_INLINES</code> flag (see related Github issues above)</li>\n</ul>\n<h3>Solution that worked</h3>\n<p>Build succeeds when the <code>-c opt</code> option is removed from the Bazel build command. That is, the final command should be</p>\n<p><code>bazel build --config=cuda //tensorflow/tools/pip_package:build_pip_package</code></p>", "body_text": "Problem\nTensorFlow build  of the pip package with CUDA support using the following command, taken from the TensorFlow documentation, fails:\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nError message\n/usr/include/string.h: In function 'void* __mempcpy_inline(void*, const void*, size_t)':\n/usr/include/string.h:652:42: error: 'memcpy' was not declared in this scope\n   return (char *) memcpy (__dest, __src, __n) + __n;\n                                          ^\nERROR: /home/marek/src/tensorflow/tensorflow/contrib/rnn/BUILD:63:1: output 'tensorflow/contrib/rnn/_objs/python/ops/_gru_ops_gpu/tensorflow/contrib/rnn/kernels/gru_ops_gpu.cu.pic.o' was not created.\nERROR: /home/marek/src/tensorflow/tensorflow/contrib/rnn/BUILD:63:1: not all outputs were created.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n\nEnvironment\n\nOS: Ubuntu 16.04 (64-bit)\nCUDA 8.0\nGCC 4.9.3\nJava 1.8 (r101_b13)\nPython 2.7.12 (Anaconda 4.1.1)\nBazel 0.3.1\n\nRelated problems for CUDA-based frameworks reported on StackOverflow and Github\n#1346\ntorch/torch7#670\nBVLC/caffe#4046\nopencv/opencv#6500\nSolutions tried (none of them worked)\n\ndowngrading to CUDA 7.5 and CUDNN 4\nchanging downgrading and upgrading GCC away from 4.9.3\nchanging GCC and cmake options to include -D_FORCE_INLINES flag (see related Github issues above)\n\nSolution that worked\nBuild succeeds when the -c opt option is removed from the Bazel build command. That is, the final command should be\nbazel build --config=cuda //tensorflow/tools/pip_package:build_pip_package", "body": "### Problem\n\nTensorFlow build  of the pip package with CUDA support using the following command, taken from the [TensorFlow documentation](https://www.tensorflow.org/versions/r0.10/get_started/os_setup.html#installing-from-sources), fails:\n\n`bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package`\n### Error message\n\n```\n/usr/include/string.h: In function 'void* __mempcpy_inline(void*, const void*, size_t)':\n/usr/include/string.h:652:42: error: 'memcpy' was not declared in this scope\n   return (char *) memcpy (__dest, __src, __n) + __n;\n                                          ^\nERROR: /home/marek/src/tensorflow/tensorflow/contrib/rnn/BUILD:63:1: output 'tensorflow/contrib/rnn/_objs/python/ops/_gru_ops_gpu/tensorflow/contrib/rnn/kernels/gru_ops_gpu.cu.pic.o' was not created.\nERROR: /home/marek/src/tensorflow/tensorflow/contrib/rnn/BUILD:63:1: not all outputs were created.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n```\n### Environment\n- OS: Ubuntu 16.04 (64-bit)\n- CUDA 8.0\n- GCC 4.9.3\n- Java 1.8 (r101_b13)\n- Python 2.7.12 (Anaconda 4.1.1)\n- Bazel 0.3.1\n### Related problems for CUDA-based frameworks reported on StackOverflow and Github\n\nhttps://github.com/tensorflow/tensorflow/issues/1346\nhttps://github.com/torch/torch7/issues/670\nhttps://github.com/BVLC/caffe/issues/4046\nhttps://github.com/opencv/opencv/issues/6500\n### Solutions tried (none of them worked)\n- downgrading to CUDA 7.5 and CUDNN 4\n- changing downgrading and upgrading GCC away from 4.9.3\n- changing GCC and cmake options to include `-D_FORCE_INLINES` flag (see related Github issues above)\n### Solution that worked\n\nBuild succeeds when the `-c opt` option is removed from the Bazel build command. That is, the final command should be\n\n`bazel build --config=cuda //tensorflow/tools/pip_package:build_pip_package`\n"}