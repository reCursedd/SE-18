{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/288855163", "html_url": "https://github.com/tensorflow/tensorflow/issues/8560#issuecomment-288855163", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8560", "id": 288855163, "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODg1NTE2Mw==", "user": {"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-23T20:48:33Z", "updated_at": "2017-03-23T20:48:53Z", "author_association": "CONTRIBUTOR", "body_html": "<p>There is an internal CL that tries to switch to BFCAllocator all together. We can only do it after verifying it is safe to do by default. We will update when that happens.</p>\n<p>For the brave souls, these are the pending changes. We might add an environment variable to control which one to use in the transitional period. In the long term, one of them will stay.</p>\n<pre><code>tensorflow/core/common_runtime/gpu/process_state.cc:\n+        new BFCAllocator(new BasicCPUAllocator(), true /*allow_growth*/,\n+                         \"bfc_cpu_allocator_for_gpu\" /*name*/);\n-        new PoolAllocator(100 /*pool_size_limit*/, true /*auto_resize*/,\n-                          new BasicCPUAllocator(), new NoopRounder, \"cpu_pool\")\n\n</code></pre>", "body_text": "There is an internal CL that tries to switch to BFCAllocator all together. We can only do it after verifying it is safe to do by default. We will update when that happens.\nFor the brave souls, these are the pending changes. We might add an environment variable to control which one to use in the transitional period. In the long term, one of them will stay.\ntensorflow/core/common_runtime/gpu/process_state.cc:\n+        new BFCAllocator(new BasicCPUAllocator(), true /*allow_growth*/,\n+                         \"bfc_cpu_allocator_for_gpu\" /*name*/);\n-        new PoolAllocator(100 /*pool_size_limit*/, true /*auto_resize*/,\n-                          new BasicCPUAllocator(), new NoopRounder, \"cpu_pool\")", "body": "There is an internal CL that tries to switch to BFCAllocator all together. We can only do it after verifying it is safe to do by default. We will update when that happens.\r\n\r\nFor the brave souls, these are the pending changes. We might add an environment variable to control which one to use in the transitional period. In the long term, one of them will stay.\r\n\r\n```\r\ntensorflow/core/common_runtime/gpu/process_state.cc:\r\n+        new BFCAllocator(new BasicCPUAllocator(), true /*allow_growth*/,\r\n+                         \"bfc_cpu_allocator_for_gpu\" /*name*/);\r\n-        new PoolAllocator(100 /*pool_size_limit*/, true /*auto_resize*/,\r\n-                          new BasicCPUAllocator(), new NoopRounder, \"cpu_pool\")\r\n\r\n```"}