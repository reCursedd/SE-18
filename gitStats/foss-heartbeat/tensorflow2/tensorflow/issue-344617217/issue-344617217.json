{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21134", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21134/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21134/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21134/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21134", "id": 344617217, "node_id": "MDU6SXNzdWUzNDQ2MTcyMTc=", "number": 21134, "title": "apply_gradients does not work with var_list", "user": {"login": "arnaghizadeh", "id": 3886854, "node_id": "MDQ6VXNlcjM4ODY4NTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3886854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arnaghizadeh", "html_url": "https://github.com/arnaghizadeh", "followers_url": "https://api.github.com/users/arnaghizadeh/followers", "following_url": "https://api.github.com/users/arnaghizadeh/following{/other_user}", "gists_url": "https://api.github.com/users/arnaghizadeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/arnaghizadeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arnaghizadeh/subscriptions", "organizations_url": "https://api.github.com/users/arnaghizadeh/orgs", "repos_url": "https://api.github.com/users/arnaghizadeh/repos", "events_url": "https://api.github.com/users/arnaghizadeh/events{/privacy}", "received_events_url": "https://api.github.com/users/arnaghizadeh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-07-25T21:39:31Z", "updated_at": "2018-09-15T18:49:56Z", "closed_at": "2018-09-15T18:30:21Z", "author_association": "NONE", "body_html": "<p>I use Windows 10, Tensorflow 1.9.0rc0, Python 3 with latest pycharm.</p>\n<p>In a project I want to use compute_gradients and apply_gradients. I'm actually following this example <a href=\"https://gist.github.com/tillahoffmann/c04dd6ca9259ef68f743e44c74e3d095\">https://gist.github.com/tillahoffmann/c04dd6ca9259ef68f743e44c74e3d095</a> to solve this problem <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"199189836\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/6692\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/6692/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/6692\">#6692</a>. The problem is that the solution does not work when we want to use  var_list with compute_gradients a simple example is<br>\n`</p>\n<pre><code>loss = tf.reduce_mean(tf.pow(y_true - y_pred, 2))\noptimizer = tf.train.RMSPropOptimizer(learning_rate)\ngrads = optimizer.compute_gradients(loss, var_list=[w])    \ntrain_op = optimizer.apply_gradients(grads)\n</code></pre>\n<p>`<br>\nwhich gives me the following error, unless I remove the var_list which is a critical part of my network design.</p>\n<p><code>File \"G:\\python-venv\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 602, in apply_gradients update_ops.append(processor.update_op(self, grad)) File \"G:\\python-venv\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 188, in update_op raise NotImplementedError(\"Trying to update a Tensor \", self._v) NotImplementedError: ('Trying to update a Tensor ', &lt;tf.Tensor 'mul:0' shape=(2560, 256) dtype=float32&gt;)</code></p>", "body_text": "I use Windows 10, Tensorflow 1.9.0rc0, Python 3 with latest pycharm.\nIn a project I want to use compute_gradients and apply_gradients. I'm actually following this example https://gist.github.com/tillahoffmann/c04dd6ca9259ef68f743e44c74e3d095 to solve this problem #6692. The problem is that the solution does not work when we want to use  var_list with compute_gradients a simple example is\n`\nloss = tf.reduce_mean(tf.pow(y_true - y_pred, 2))\noptimizer = tf.train.RMSPropOptimizer(learning_rate)\ngrads = optimizer.compute_gradients(loss, var_list=[w])    \ntrain_op = optimizer.apply_gradients(grads)\n\n`\nwhich gives me the following error, unless I remove the var_list which is a critical part of my network design.\nFile \"G:\\python-venv\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 602, in apply_gradients update_ops.append(processor.update_op(self, grad)) File \"G:\\python-venv\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 188, in update_op raise NotImplementedError(\"Trying to update a Tensor \", self._v) NotImplementedError: ('Trying to update a Tensor ', <tf.Tensor 'mul:0' shape=(2560, 256) dtype=float32>)", "body": "I use Windows 10, Tensorflow 1.9.0rc0, Python 3 with latest pycharm.\r\n\r\nIn a project I want to use compute_gradients and apply_gradients. I'm actually following this example https://gist.github.com/tillahoffmann/c04dd6ca9259ef68f743e44c74e3d095 to solve this problem https://github.com/tensorflow/tensorflow/issues/6692. The problem is that the solution does not work when we want to use  var_list with compute_gradients a simple example is\r\n`\r\n\r\n    loss = tf.reduce_mean(tf.pow(y_true - y_pred, 2))\r\n    optimizer = tf.train.RMSPropOptimizer(learning_rate)\r\n    grads = optimizer.compute_gradients(loss, var_list=[w])    \r\n    train_op = optimizer.apply_gradients(grads)\r\n`\r\nwhich gives me the following error, unless I remove the var_list which is a critical part of my network design.\r\n\r\n`File \"G:\\python-venv\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 602, in apply_gradients\r\n    update_ops.append(processor.update_op(self, grad))\r\n  File \"G:\\python-venv\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 188, in update_op\r\n    raise NotImplementedError(\"Trying to update a Tensor \", self._v)\r\nNotImplementedError: ('Trying to update a Tensor ', <tf.Tensor 'mul:0' shape=(2560, 256) dtype=float32>)`\r\n\r\n\r\n"}