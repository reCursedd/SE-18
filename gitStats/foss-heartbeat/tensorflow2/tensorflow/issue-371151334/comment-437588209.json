{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/437588209", "html_url": "https://github.com/tensorflow/tensorflow/issues/23050#issuecomment-437588209", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23050", "id": 437588209, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzU4ODIwOQ==", "user": {"login": "ccurro", "id": 44445, "node_id": "MDQ6VXNlcjQ0NDQ1", "avatar_url": "https://avatars1.githubusercontent.com/u/44445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccurro", "html_url": "https://github.com/ccurro", "followers_url": "https://api.github.com/users/ccurro/followers", "following_url": "https://api.github.com/users/ccurro/following{/other_user}", "gists_url": "https://api.github.com/users/ccurro/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccurro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccurro/subscriptions", "organizations_url": "https://api.github.com/users/ccurro/orgs", "repos_url": "https://api.github.com/users/ccurro/repos", "events_url": "https://api.github.com/users/ccurro/events{/privacy}", "received_events_url": "https://api.github.com/users/ccurro/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-10T14:37:18Z", "updated_at": "2018-11-10T14:37:18Z", "author_association": "NONE", "body_html": "<p>Please look at the test phase of algorithm 1 in the <a href=\"https://arxiv.org/pdf/1705.08741.pdf\" rel=\"nofollow\">ghost norm paper</a>. The test phase requires the learned gamma and beta, whose shape are independent of the batch size. The moving statistics mu_run, and sigma_run are calculated \"on the side\" from the full batches during train time, and are otherwise not used during train time. Their size/shape is independent of the batch size. Only mu_run, sigma_run, gamma, and beta are used at test/inference phase, and are not dependent on the test/inference training examples. Test/inference should be able to happen for any batch_size.</p>\n<p>Your suggestion implies that test inputs would not be treated independently, i.e. that it matters what they are batched with, which is not fundamentally sound.</p>", "body_text": "Please look at the test phase of algorithm 1 in the ghost norm paper. The test phase requires the learned gamma and beta, whose shape are independent of the batch size. The moving statistics mu_run, and sigma_run are calculated \"on the side\" from the full batches during train time, and are otherwise not used during train time. Their size/shape is independent of the batch size. Only mu_run, sigma_run, gamma, and beta are used at test/inference phase, and are not dependent on the test/inference training examples. Test/inference should be able to happen for any batch_size.\nYour suggestion implies that test inputs would not be treated independently, i.e. that it matters what they are batched with, which is not fundamentally sound.", "body": "Please look at the test phase of algorithm 1 in the [ghost norm paper](https://arxiv.org/pdf/1705.08741.pdf). The test phase requires the learned gamma and beta, whose shape are independent of the batch size. The moving statistics mu_run, and sigma_run are calculated \"on the side\" from the full batches during train time, and are otherwise not used during train time. Their size/shape is independent of the batch size. Only mu_run, sigma_run, gamma, and beta are used at test/inference phase, and are not dependent on the test/inference training examples. Test/inference should be able to happen for any batch_size.\r\n\r\nYour suggestion implies that test inputs would not be treated independently, i.e. that it matters what they are batched with, which is not fundamentally sound. "}