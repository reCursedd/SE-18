{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/413244994", "html_url": "https://github.com/tensorflow/tensorflow/pull/20155#issuecomment-413244994", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20155", "id": 413244994, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzI0NDk5NA==", "user": {"login": "jayfurmanek", "id": 8660918, "node_id": "MDQ6VXNlcjg2NjA5MTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/8660918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayfurmanek", "html_url": "https://github.com/jayfurmanek", "followers_url": "https://api.github.com/users/jayfurmanek/followers", "following_url": "https://api.github.com/users/jayfurmanek/following{/other_user}", "gists_url": "https://api.github.com/users/jayfurmanek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayfurmanek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayfurmanek/subscriptions", "organizations_url": "https://api.github.com/users/jayfurmanek/orgs", "repos_url": "https://api.github.com/users/jayfurmanek/repos", "events_url": "https://api.github.com/users/jayfurmanek/events{/privacy}", "received_events_url": "https://api.github.com/users/jayfurmanek/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-15T16:00:57Z", "updated_at": "2018-08-15T16:03:26Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Well, when looking for <code>libnccl.so.2</code> there are two scenarios:</p>\n<ul>\n<li>\n<p>ldconfig is properly set up and knows the location<br>\nIf ldconifg knows the location, this PR just retrieves it and continues. There is no need to prompt the user and therefore no need for a default.</p>\n</li>\n<li>\n<p>ldconfig is not aware of nccl<br>\nIf ldconfig does not know the location, then the user is prompted and the default location is <code>CUDA_TOOLKIT_PATH</code> which should give us a good chance of finding libnccl assuming it was put in the proper location.</p>\n</li>\n</ul>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a> can you share any error messages from the internal builds?</p>", "body_text": "Well, when looking for libnccl.so.2 there are two scenarios:\n\n\nldconfig is properly set up and knows the location\nIf ldconifg knows the location, this PR just retrieves it and continues. There is no need to prompt the user and therefore no need for a default.\n\n\nldconfig is not aware of nccl\nIf ldconfig does not know the location, then the user is prompted and the default location is CUDA_TOOLKIT_PATH which should give us a good chance of finding libnccl assuming it was put in the proper location.\n\n\n@gunan can you share any error messages from the internal builds?", "body": "Well, when looking for `libnccl.so.2` there are two scenarios:\r\n - ldconfig is properly set up and knows the location\r\nIf ldconifg knows the location, this PR just retrieves it and continues. There is no need to prompt the user and therefore no need for a default.\r\n\r\n - ldconfig is not aware of nccl\r\nIf ldconfig does not know the location, then the user is prompted and the default location is `CUDA_TOOLKIT_PATH` which should give us a good chance of finding libnccl assuming it was put in the proper location.\r\n\r\n@gunan can you share any error messages from the internal builds?"}