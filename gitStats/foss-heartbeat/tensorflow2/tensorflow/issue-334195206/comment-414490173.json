{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/414490173", "html_url": "https://github.com/tensorflow/tensorflow/pull/20155#issuecomment-414490173", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20155", "id": 414490173, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDQ5MDE3Mw==", "user": {"login": "tfboyd", "id": 23486130, "node_id": "MDQ6VXNlcjIzNDg2MTMw", "avatar_url": "https://avatars1.githubusercontent.com/u/23486130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tfboyd", "html_url": "https://github.com/tfboyd", "followers_url": "https://api.github.com/users/tfboyd/followers", "following_url": "https://api.github.com/users/tfboyd/following{/other_user}", "gists_url": "https://api.github.com/users/tfboyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tfboyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tfboyd/subscriptions", "organizations_url": "https://api.github.com/users/tfboyd/orgs", "repos_url": "https://api.github.com/users/tfboyd/repos", "events_url": "https://api.github.com/users/tfboyd/events{/privacy}", "received_events_url": "https://api.github.com/users/tfboyd/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-20T22:56:14Z", "updated_at": "2018-08-20T22:57:13Z", "author_association": "MEMBER", "body_html": "<p>You will want to see my comment.  I updated all of the builds for NCCL2, it is a mess because we mixed tgz and apt-get and NVIDIA packaged NCCL oddly (put the header in /usr/local/header or something crazy like that) and maybe since has fixed it.  We can 100% make this PR work and it will be better.  It will just take some testing.  I am in the middle of a bunch of benchmark tests or I would have jumped in already.</p>\n<p>If you want to work through it yourself:</p>\n<ul>\n<li>try to do a build where you unzip the package to a directory and have the ./configure still work if you point to the root directory where you unzipped that has /lib /header.</li>\n<li>Then try it with the apt-get install where it just finds it in the path.</li>\n</ul>\n<p>And the person that did the build script was Christian Sigg, but we do not need him to fix this, he left the comment about wanting to do ldconfig, which I found amusing as not having it was killing me while trying to roll this out.</p>", "body_text": "You will want to see my comment.  I updated all of the builds for NCCL2, it is a mess because we mixed tgz and apt-get and NVIDIA packaged NCCL oddly (put the header in /usr/local/header or something crazy like that) and maybe since has fixed it.  We can 100% make this PR work and it will be better.  It will just take some testing.  I am in the middle of a bunch of benchmark tests or I would have jumped in already.\nIf you want to work through it yourself:\n\ntry to do a build where you unzip the package to a directory and have the ./configure still work if you point to the root directory where you unzipped that has /lib /header.\nThen try it with the apt-get install where it just finds it in the path.\n\nAnd the person that did the build script was Christian Sigg, but we do not need him to fix this, he left the comment about wanting to do ldconfig, which I found amusing as not having it was killing me while trying to roll this out.", "body": "You will want to see my comment.  I updated all of the builds for NCCL2, it is a mess because we mixed tgz and apt-get and NVIDIA packaged NCCL oddly (put the header in /usr/local/header or something crazy like that) and maybe since has fixed it.  We can 100% make this PR work and it will be better.  It will just take some testing.  I am in the middle of a bunch of benchmark tests or I would have jumped in already.  \r\n\r\nIf you want to work through it yourself:\r\n   * try to do a build where you unzip the package to a directory and have the ./configure still work if you point to the root directory where you unzipped that has /lib /header.  \r\n   * Then try it with the apt-get install where it just finds it in the path.  \r\n\r\nAnd the person that did the build script was Christian Sigg, but we do not need him to fix this, he left the comment about wanting to do ldconfig, which I found amusing as not having it was killing me while trying to roll this out.  "}