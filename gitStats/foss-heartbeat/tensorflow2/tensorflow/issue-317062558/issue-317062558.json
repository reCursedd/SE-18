{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18815", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18815/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18815/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18815/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18815", "id": 317062558, "node_id": "MDU6SXNzdWUzMTcwNjI1NTg=", "number": 18815, "title": "tf.image.extract_glimpse not work as expected", "user": {"login": "YantianZha", "id": 9017839, "node_id": "MDQ6VXNlcjkwMTc4Mzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9017839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YantianZha", "html_url": "https://github.com/YantianZha", "followers_url": "https://api.github.com/users/YantianZha/followers", "following_url": "https://api.github.com/users/YantianZha/following{/other_user}", "gists_url": "https://api.github.com/users/YantianZha/gists{/gist_id}", "starred_url": "https://api.github.com/users/YantianZha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YantianZha/subscriptions", "organizations_url": "https://api.github.com/users/YantianZha/orgs", "repos_url": "https://api.github.com/users/YantianZha/repos", "events_url": "https://api.github.com/users/YantianZha/events{/privacy}", "received_events_url": "https://api.github.com/users/YantianZha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-04-24T04:02:37Z", "updated_at": "2018-05-10T00:35:15Z", "closed_at": "2018-05-10T00:35:15Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Y</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: r1.8</li>\n<li><strong>Python version</strong>: 2.7.14</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: 5.4</li>\n<li><strong>CUDA/cuDNN version</strong>: 8.0/7.0</li>\n<li><strong>GPU model and memory</strong>: GTX1080, 8G</li>\n<li><strong>Bazel version</strong>: N/A</li>\n<li><strong>Exact command to reproduce</strong>: python test_script.py</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>The output for the code below, is not correct. To me, the correct output should be: [0.   1.    2.    3.   4.  ]. The offset is [0, 0], and the centered is false, so the starting point is at the most upper left pixel (with the value 0). And the glimpse height is 1 and width is 5, so the glimpse should be the first row.</p>\n<h3>Source code / logs</h3>\n<p>import tensorflow as tf<br>\nimport numpy as np</p>\n<p>input_img = np.float32(np.arange(25).reshape((5, 5)))<br>\nprint input_img</p>\n<p>input_img = tf.expand_dims(input_img, 0)<br>\ninput_img = tf.expand_dims(input_img, -1)</p>\n<p>offset_ = tf.expand_dims([0.0, 0.0], 0)<br>\nfirst_glimpse = tf.image.extract_glimpse(input_img, [1, 5], offset_,<br>\ncentered=False, normalized=False, uniform_noise=False)<br>\nfirst_glimpse = tf.squeeze(first_glimpse)<br>\nsess = tf.Session()<br>\nprint first_glimpse.eval(session=sess)</p>\n<p>Output:<br>\n[[ 0.  1.  2.  3.  4.]<br>\n[ 5.  6.  7.  8.  9.]<br>\n[10. 11. 12. 13. 14.]<br>\n[15. 16. 17. 18. 19.]<br>\n[20. 21. 22. 23. 24.]]<br>\n[16.995655 12.920303  0.        1.        2.      ]</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Y\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary): binary\nTensorFlow version (use command below): r1.8\nPython version: 2.7.14\nGCC/Compiler version (if compiling from source): 5.4\nCUDA/cuDNN version: 8.0/7.0\nGPU model and memory: GTX1080, 8G\nBazel version: N/A\nExact command to reproduce: python test_script.py\n\nDescribe the problem\nThe output for the code below, is not correct. To me, the correct output should be: [0.   1.    2.    3.   4.  ]. The offset is [0, 0], and the centered is false, so the starting point is at the most upper left pixel (with the value 0). And the glimpse height is 1 and width is 5, so the glimpse should be the first row.\nSource code / logs\nimport tensorflow as tf\nimport numpy as np\ninput_img = np.float32(np.arange(25).reshape((5, 5)))\nprint input_img\ninput_img = tf.expand_dims(input_img, 0)\ninput_img = tf.expand_dims(input_img, -1)\noffset_ = tf.expand_dims([0.0, 0.0], 0)\nfirst_glimpse = tf.image.extract_glimpse(input_img, [1, 5], offset_,\ncentered=False, normalized=False, uniform_noise=False)\nfirst_glimpse = tf.squeeze(first_glimpse)\nsess = tf.Session()\nprint first_glimpse.eval(session=sess)\nOutput:\n[[ 0.  1.  2.  3.  4.]\n[ 5.  6.  7.  8.  9.]\n[10. 11. 12. 13. 14.]\n[15. 16. 17. 18. 19.]\n[20. 21. 22. 23. 24.]]\n[16.995655 12.920303  0.        1.        2.      ]", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Y\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: r1.8\r\n- **Python version**: 2.7.14\r\n- **GCC/Compiler version (if compiling from source)**: 5.4\r\n- **CUDA/cuDNN version**: 8.0/7.0\r\n- **GPU model and memory**: GTX1080, 8G\r\n- **Bazel version**: N/A\r\n- **Exact command to reproduce**: python test_script.py\r\n\r\n### Describe the problem\r\nThe output for the code below, is not correct. To me, the correct output should be: [0.   1.    2.    3.   4.  ]. The offset is [0, 0], and the centered is false, so the starting point is at the most upper left pixel (with the value 0). And the glimpse height is 1 and width is 5, so the glimpse should be the first row. \r\n\r\n### Source code / logs\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\ninput_img = np.float32(np.arange(25).reshape((5, 5)))\r\nprint input_img\r\n\r\ninput_img = tf.expand_dims(input_img, 0)\r\ninput_img = tf.expand_dims(input_img, -1)\r\n\r\noffset_ = tf.expand_dims([0.0, 0.0], 0)\r\nfirst_glimpse = tf.image.extract_glimpse(input_img, [1, 5], offset_,\r\n                                    centered=False, normalized=False, uniform_noise=False)\r\nfirst_glimpse = tf.squeeze(first_glimpse)\r\nsess = tf.Session()\r\nprint first_glimpse.eval(session=sess)\r\n\r\nOutput:\r\n[[ 0.  1.  2.  3.  4.]\r\n [ 5.  6.  7.  8.  9.]\r\n [10. 11. 12. 13. 14.]\r\n [15. 16. 17. 18. 19.]\r\n [20. 21. 22. 23. 24.]]\r\n[16.995655 12.920303  0.        1.        2.      ]\r\n"}