{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/322659131", "html_url": "https://github.com/tensorflow/tensorflow/pull/12304#issuecomment-322659131", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12304", "id": 322659131, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjY1OTEzMQ==", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-16T03:44:14Z", "updated_at": "2017-08-16T03:44:14Z", "author_association": "MEMBER", "body_html": "<div class=\"email-fragment\">We will deprecate contrib and eventually delete it. I don't plan on syncing\nchanges.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Aug 15, 2017 19:37, \"Yuan (Terry) Tang\" ***@***.***&gt; wrote:\n ***@***.**** commented on this pull request.\n ------------------------------\n\n In tensorflow/contrib/learn/python/learn/estimators/estimator.py\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"250422383\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/12304\" href=\"https://github.com/tensorflow/tensorflow/pull/12304#discussion_r133347596\">#12304 (comment)</a>&gt;\n :\n\n &gt;      elif (isinstance(dictionary[key], np.int64) or\n            isinstance(dictionary[key], np.int32) or\n            isinstance(dictionary[key], int)):\n -      value.simple_value = int(dictionary[key])\n +      summary_proto.value.add(tag=key, simple_value=int(dictionary[key]))\n +    elif isinstance(dictionary[key], six.string_types):\n +      try:\n +        summ = summary_pb2.Summary.FromString(dictionary[key])\n +        for i, _ in enumerate(summ.value):\n +          summ.value[i].tag = key\n +        summary_proto.value.extend(summ.value)\n +      except message.DecodeError:\n +        logging.warn('Skipping summary for %s, cannot parse string to Summary.',\n +                     key)\n +        continue\n\n <a class=\"user-mention\" href=\"https://github.com/martinwicke\">@martinwicke</a> &lt;<a href=\"https://github.com/martinwicke\">https://github.com/martinwicke</a>&gt; How are you planning to\n sync changes from contrib and to core? (trying to track all the changes\n related to estimators)\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"250422383\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/12304\" href=\"https://github.com/tensorflow/tensorflow/pull/12304#pullrequestreview-56517998\">#12304 (review)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AAjO_czv7-5tgSXlNIsBwT1no-6DqWPCks5sYlXdgaJpZM4O4C6e\">https://github.com/notifications/unsubscribe-auth/AAjO_czv7-5tgSXlNIsBwT1no-6DqWPCks5sYlXdgaJpZM4O4C6e</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "We will deprecate contrib and eventually delete it. I don't plan on syncing\nchanges.\n\u2026\nOn Aug 15, 2017 19:37, \"Yuan (Terry) Tang\" ***@***.***> wrote:\n ***@***.**** commented on this pull request.\n ------------------------------\n\n In tensorflow/contrib/learn/python/learn/estimators/estimator.py\n <#12304 (comment)>\n :\n\n >      elif (isinstance(dictionary[key], np.int64) or\n            isinstance(dictionary[key], np.int32) or\n            isinstance(dictionary[key], int)):\n -      value.simple_value = int(dictionary[key])\n +      summary_proto.value.add(tag=key, simple_value=int(dictionary[key]))\n +    elif isinstance(dictionary[key], six.string_types):\n +      try:\n +        summ = summary_pb2.Summary.FromString(dictionary[key])\n +        for i, _ in enumerate(summ.value):\n +          summ.value[i].tag = key\n +        summary_proto.value.extend(summ.value)\n +      except message.DecodeError:\n +        logging.warn('Skipping summary for %s, cannot parse string to Summary.',\n +                     key)\n +        continue\n\n @martinwicke <https://github.com/martinwicke> How are you planning to\n sync changes from contrib and to core? (trying to track all the changes\n related to estimators)\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#12304 (review)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/AAjO_czv7-5tgSXlNIsBwT1no-6DqWPCks5sYlXdgaJpZM4O4C6e>\n .", "body": "We will deprecate contrib and eventually delete it. I don't plan on syncing\nchanges.\n\nOn Aug 15, 2017 19:37, \"Yuan (Terry) Tang\" <notifications@github.com> wrote:\n\n> *@terrytangyuan* commented on this pull request.\n> ------------------------------\n>\n> In tensorflow/contrib/learn/python/learn/estimators/estimator.py\n> <https://github.com/tensorflow/tensorflow/pull/12304#discussion_r133347596>\n> :\n>\n> >      elif (isinstance(dictionary[key], np.int64) or\n>            isinstance(dictionary[key], np.int32) or\n>            isinstance(dictionary[key], int)):\n> -      value.simple_value = int(dictionary[key])\n> +      summary_proto.value.add(tag=key, simple_value=int(dictionary[key]))\n> +    elif isinstance(dictionary[key], six.string_types):\n> +      try:\n> +        summ = summary_pb2.Summary.FromString(dictionary[key])\n> +        for i, _ in enumerate(summ.value):\n> +          summ.value[i].tag = key\n> +        summary_proto.value.extend(summ.value)\n> +      except message.DecodeError:\n> +        logging.warn('Skipping summary for %s, cannot parse string to Summary.',\n> +                     key)\n> +        continue\n>\n> @martinwicke <https://github.com/martinwicke> How are you planning to\n> sync changes from contrib and to core? (trying to track all the changes\n> related to estimators)\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/pull/12304#pullrequestreview-56517998>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAjO_czv7-5tgSXlNIsBwT1no-6DqWPCks5sYlXdgaJpZM4O4C6e>\n> .\n>\n"}