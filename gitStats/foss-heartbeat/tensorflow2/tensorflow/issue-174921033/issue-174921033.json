{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4190", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4190/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4190/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4190/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4190", "id": 174921033, "node_id": "MDU6SXNzdWUxNzQ5MjEwMzM=", "number": 4190, "title": "ERROR: undeclared inclusion(s) in rule '//tensorflow/core/kernels:multinomial_op_gpu'", "user": {"login": "FlorinAndrei", "id": 901867, "node_id": "MDQ6VXNlcjkwMTg2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/901867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FlorinAndrei", "html_url": "https://github.com/FlorinAndrei", "followers_url": "https://api.github.com/users/FlorinAndrei/followers", "following_url": "https://api.github.com/users/FlorinAndrei/following{/other_user}", "gists_url": "https://api.github.com/users/FlorinAndrei/gists{/gist_id}", "starred_url": "https://api.github.com/users/FlorinAndrei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FlorinAndrei/subscriptions", "organizations_url": "https://api.github.com/users/FlorinAndrei/orgs", "repos_url": "https://api.github.com/users/FlorinAndrei/repos", "events_url": "https://api.github.com/users/FlorinAndrei/events{/privacy}", "received_events_url": "https://api.github.com/users/FlorinAndrei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-09-03T22:31:52Z", "updated_at": "2016-09-06T06:28:13Z", "closed_at": "2016-09-06T06:28:08Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>none</p>\n<h3>Environment info</h3>\n<p>Operating System:</p>\n<p>Ubuntu 16.04 64bit with all updates applied</p>\n<p>Installed version of CUDA and cuDNN:</p>\n<p>I've downloaded these from Nvidia and installed them per \"official\" instructions:</p>\n<ul>\n<li>cuda_8.0.27_linux.run</li>\n<li>cuda_8.0.27.1_linux.run</li>\n<li>cudnn-8.0-linux-x64-v5.1.tgz</li>\n</ul>\n<p>(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<pre><code># ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root   560184 Sep  3 21:37 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Sep  3 21:37 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Sep  3 21:37 /usr/local/cuda/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.27\n-rwxr-xr-x 1 root root   394472 Sep  3 21:37 /usr/local/cuda/lib64/libcudart.so.8.0.27\n-rw-r--r-- 1 root root   737516 Sep  3 21:37 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn.so -&gt; libcudnn.so.5\nlrwxrwxrwx 1 root root       17 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn_static.a\n</code></pre>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)</li>\n</ol>\n<pre><code># git rev-parse HEAD\n3c177a54cf48efdab49d716ee27936ead31c3388\n</code></pre>\n<ol>\n<li>The output of <code>bazel version</code></li>\n</ol>\n<pre><code># bazel version     \nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp as int: 0\n</code></pre>\n<p>It's bazel 0.3.1 actually. No idea why the output from version is so useless. I've installed it from the official deb repo.</p>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<pre><code>git clone https://github.com/tensorflow/tensorflow.git\ncd tensorflow\n./configure\n\n# Hit ENTER on every question except:\n# Do you wish to build TensorFlow with GPU support? (answer: y)\n# Please specify a list of comma-separated Cuda compute capabilities you want to build with. (answer: 6.1)\n\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>It's actually a bit more complicated, as the first attempt fails to even begin to compile. So I delete the TF repo, clone again, and configure/build again. It begins to compile, keeps chugging along for a few minutes, and then I get the error shown in the title.</p>\n<p>More details here (you'll find there a fully automated procedure to completely reproduce the environment and build process):</p>\n<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174105608\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4105\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4105/hovercard?comment_id=244573108&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-244573108\">#4105 (comment)</a></p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>Tried to google around, hoping it's a known issue. Could not find anything related.</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>\n<p>This is the end of the build messages:</p>\n<p><a href=\"https://gist.github.com/FlorinAndrei/b378e45709185ef40808e7537a3df4e8\">https://gist.github.com/FlorinAndrei/b378e45709185ef40808e7537a3df4e8</a></p>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nnone\nEnvironment info\nOperating System:\nUbuntu 16.04 64bit with all updates applied\nInstalled version of CUDA and cuDNN:\nI've downloaded these from Nvidia and installed them per \"official\" instructions:\n\ncuda_8.0.27_linux.run\ncuda_8.0.27.1_linux.run\ncudnn-8.0-linux-x64-v5.1.tgz\n\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n# ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root   560184 Sep  3 21:37 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Sep  3 21:37 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Sep  3 21:37 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.27\n-rwxr-xr-x 1 root root   394472 Sep  3 21:37 /usr/local/cuda/lib64/libcudart.so.8.0.27\n-rw-r--r-- 1 root root   737516 Sep  3 21:37 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 root root       17 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn_static.a\n\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\n\n# git rev-parse HEAD\n3c177a54cf48efdab49d716ee27936ead31c3388\n\n\nThe output of bazel version\n\n# bazel version     \nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp as int: 0\n\nIt's bazel 0.3.1 actually. No idea why the output from version is so useless. I've installed it from the official deb repo.\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\ngit clone https://github.com/tensorflow/tensorflow.git\ncd tensorflow\n./configure\n\n# Hit ENTER on every question except:\n# Do you wish to build TensorFlow with GPU support? (answer: y)\n# Please specify a list of comma-separated Cuda compute capabilities you want to build with. (answer: 6.1)\n\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nIt's actually a bit more complicated, as the first attempt fails to even begin to compile. So I delete the TF repo, clone again, and configure/build again. It begins to compile, keeps chugging along for a few minutes, and then I get the error shown in the title.\nMore details here (you'll find there a fully automated procedure to completely reproduce the environment and build process):\n#4105 (comment)\nWhat other attempted solutions have you tried?\nTried to google around, hoping it's a known issue. Could not find anything related.\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nThis is the end of the build messages:\nhttps://gist.github.com/FlorinAndrei/b378e45709185ef40808e7537a3df4e8", "body": "### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\n\nnone\n### Environment info\n\nOperating System:\n\nUbuntu 16.04 64bit with all updates applied\n\nInstalled version of CUDA and cuDNN: \n\nI've downloaded these from Nvidia and installed them per \"official\" instructions:\n- cuda_8.0.27_linux.run\n- cuda_8.0.27.1_linux.run\n- cudnn-8.0-linux-x64-v5.1.tgz\n\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\n```\n# ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root   560184 Sep  3 21:37 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Sep  3 21:37 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Sep  3 21:37 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.27\n-rwxr-xr-x 1 root root   394472 Sep  3 21:37 /usr/local/cuda/lib64/libcudart.so.8.0.27\n-rw-r--r-- 1 root root   737516 Sep  3 21:37 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 root root       17 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Sep  3 21:37 /usr/local/cuda/lib64/libcudnn_static.a\n```\n\nIf installed from source, provide \n1. The commit hash (`git rev-parse HEAD`)\n\n```\n# git rev-parse HEAD\n3c177a54cf48efdab49d716ee27936ead31c3388\n```\n1. The output of `bazel version`\n\n```\n# bazel version     \nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp as int: 0\n```\n\nIt's bazel 0.3.1 actually. No idea why the output from version is so useless. I've installed it from the official deb repo.\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n\n```\ngit clone https://github.com/tensorflow/tensorflow.git\ncd tensorflow\n./configure\n\n# Hit ENTER on every question except:\n# Do you wish to build TensorFlow with GPU support? (answer: y)\n# Please specify a list of comma-separated Cuda compute capabilities you want to build with. (answer: 6.1)\n\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n```\n\nIt's actually a bit more complicated, as the first attempt fails to even begin to compile. So I delete the TF repo, clone again, and configure/build again. It begins to compile, keeps chugging along for a few minutes, and then I get the error shown in the title.\n\nMore details here (you'll find there a fully automated procedure to completely reproduce the environment and build process):\n\nhttps://github.com/tensorflow/tensorflow/issues/4105#issuecomment-244573108\n### What other attempted solutions have you tried?\n\nTried to google around, hoping it's a known issue. Could not find anything related.\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment or provide link).\n\nThis is the end of the build messages:\n\nhttps://gist.github.com/FlorinAndrei/b378e45709185ef40808e7537a3df4e8\n"}