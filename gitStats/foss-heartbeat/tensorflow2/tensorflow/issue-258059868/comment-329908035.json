{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/329908035", "html_url": "https://github.com/tensorflow/tensorflow/issues/13065#issuecomment-329908035", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13065", "id": 329908035, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTkwODAzNQ==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-15T21:26:03Z", "updated_at": "2017-09-15T21:26:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The problem seems to come from <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/c14550a38308a7f516e83f5c8e21748ad76bf972/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/c14550a38308a7f516e83f5c8e21748ad76bf972\"><tt>c14550a</tt></a>, which added a <code>DT_QINT8</code> kernel registration for the <code>\"MaxPool\"</code> op, but there isn't a corresponding functor implementation for that type.</p>\n<p>At a guess, maybe the problem stems from <a href=\"https://github.com/tensorflow/tensorflow/commit/c14550a38308a7f516e83f5c8e21748ad76bf972#diff-4b4334a33322a74e2afdb75d174a1d6fR405\">this <code>if (std::is_same&lt;T, qint8&gt;::value)</code> check</a>. Maybe MSVC isn't as aggressive at dead code elimination as GCC/Clang, and it's trying to instantiate the (unimplemented) template in the <code>else</code> branch, or elsewhere in that class?</p>", "body_text": "The problem seems to come from c14550a, which added a DT_QINT8 kernel registration for the \"MaxPool\" op, but there isn't a corresponding functor implementation for that type.\nAt a guess, maybe the problem stems from this if (std::is_same<T, qint8>::value) check. Maybe MSVC isn't as aggressive at dead code elimination as GCC/Clang, and it's trying to instantiate the (unimplemented) template in the else branch, or elsewhere in that class?", "body": "The problem seems to come from c14550a38308a7f516e83f5c8e21748ad76bf972, which added a `DT_QINT8` kernel registration for the `\"MaxPool\"` op, but there isn't a corresponding functor implementation for that type.\r\n\r\nAt a guess, maybe the problem stems from [this `if (std::is_same<T, qint8>::value)` check](https://github.com/tensorflow/tensorflow/commit/c14550a38308a7f516e83f5c8e21748ad76bf972#diff-4b4334a33322a74e2afdb75d174a1d6fR405). Maybe MSVC isn't as aggressive at dead code elimination as GCC/Clang, and it's trying to instantiate the (unimplemented) template in the `else` branch, or elsewhere in that class?"}