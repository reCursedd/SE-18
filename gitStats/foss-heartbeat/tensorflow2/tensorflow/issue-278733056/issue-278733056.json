{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15066", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15066/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15066/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15066/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15066", "id": 278733056, "node_id": "MDU6SXNzdWUyNzg3MzMwNTY=", "number": 15066, "title": "Failing to retrieve AWS credentials running in ECS with the s3 provider", "user": {"login": "stefansedich", "id": 141908, "node_id": "MDQ6VXNlcjE0MTkwOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/141908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefansedich", "html_url": "https://github.com/stefansedich", "followers_url": "https://api.github.com/users/stefansedich/followers", "following_url": "https://api.github.com/users/stefansedich/following{/other_user}", "gists_url": "https://api.github.com/users/stefansedich/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefansedich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefansedich/subscriptions", "organizations_url": "https://api.github.com/users/stefansedich/orgs", "repos_url": "https://api.github.com/users/stefansedich/repos", "events_url": "https://api.github.com/users/stefansedich/events{/privacy}", "received_events_url": "https://api.github.com/users/stefansedich/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-03T00:58:17Z", "updated_at": "2017-12-04T02:38:19Z", "closed_at": "2017-12-04T02:38:19Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: master</li>\n<li><strong>Python version</strong>: 3.6.0</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.5.4</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: 5.4.0</li>\n<li><strong>CUDA/cuDNN version</strong>: None</li>\n<li><strong>GPU model and memory</strong>: None</li>\n<li><strong>Exact command to reproduce</strong>: None</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>When using the S3 file system provider within an ECS container I am finding that even though my task has been assigned a task role that provides access to my S3 bucket it is unable to access it successfully.</p>\n<p>Everything works fine if I supply the credentials manually using the AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY environment variables.</p>\n<p>After some extensive head-desking I have found that the version of aws-sdk-cpp that is used (1.0.90) appears to have been released before the ECS support was added to the sdk (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/aws/aws-sdk-cpp/commit/786666db02f5ac7918642c1ee056b822e37a6f30/hovercard\" href=\"https://github.com/aws/aws-sdk-cpp/commit/786666db02f5ac7918642c1ee056b822e37a6f30\">aws/aws-sdk-cpp@<tt>786666d</tt></a>), at a minimum I think we would want 1.0.97 so that everything works as expected.</p>\n<p>I had originally tried to bump the version but it appears that the bazel mirror has nothing but 1.0.90 available.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): master\nPython version: 3.6.0\nBazel version (if compiling from source): 0.5.4\nGCC/Compiler version (if compiling from source): 5.4.0\nCUDA/cuDNN version: None\nGPU model and memory: None\nExact command to reproduce: None\n\nDescribe the problem\nWhen using the S3 file system provider within an ECS container I am finding that even though my task has been assigned a task role that provides access to my S3 bucket it is unable to access it successfully.\nEverything works fine if I supply the credentials manually using the AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY environment variables.\nAfter some extensive head-desking I have found that the version of aws-sdk-cpp that is used (1.0.90) appears to have been released before the ECS support was added to the sdk (aws/aws-sdk-cpp@786666d), at a minimum I think we would want 1.0.97 so that everything works as expected.\nI had originally tried to bump the version but it appears that the bazel mirror has nothing but 1.0.90 available.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: master\r\n- **Python version**: 3.6.0\r\n- **Bazel version (if compiling from source)**: 0.5.4\r\n- **GCC/Compiler version (if compiling from source)**: 5.4.0\r\n- **CUDA/cuDNN version**: None\r\n- **GPU model and memory**: None\r\n- **Exact command to reproduce**: None\r\n\r\n### Describe the problem\r\nWhen using the S3 file system provider within an ECS container I am finding that even though my task has been assigned a task role that provides access to my S3 bucket it is unable to access it successfully.\r\n\r\nEverything works fine if I supply the credentials manually using the AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY environment variables.\r\n\r\nAfter some extensive head-desking I have found that the version of aws-sdk-cpp that is used (1.0.90) appears to have been released before the ECS support was added to the sdk (https://github.com/aws/aws-sdk-cpp/commit/786666db02f5ac7918642c1ee056b822e37a6f30), at a minimum I think we would want 1.0.97 so that everything works as expected.\r\n\r\nI had originally tried to bump the version but it appears that the bazel mirror has nothing but 1.0.90 available."}