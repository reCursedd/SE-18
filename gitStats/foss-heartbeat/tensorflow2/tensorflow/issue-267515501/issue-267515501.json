{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13910", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13910/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13910/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13910/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13910", "id": 267515501, "node_id": "MDU6SXNzdWUyNjc1MTU1MDE=", "number": 13910, "title": "Feature Request: Getting a collection of variable from specific Graph", "user": {"login": "ultrons", "id": 15708499, "node_id": "MDQ6VXNlcjE1NzA4NDk5", "avatar_url": "https://avatars3.githubusercontent.com/u/15708499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ultrons", "html_url": "https://github.com/ultrons", "followers_url": "https://api.github.com/users/ultrons/followers", "following_url": "https://api.github.com/users/ultrons/following{/other_user}", "gists_url": "https://api.github.com/users/ultrons/gists{/gist_id}", "starred_url": "https://api.github.com/users/ultrons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ultrons/subscriptions", "organizations_url": "https://api.github.com/users/ultrons/orgs", "repos_url": "https://api.github.com/users/ultrons/repos", "events_url": "https://api.github.com/users/ultrons/events{/privacy}", "received_events_url": "https://api.github.com/users/ultrons/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-23T01:09:38Z", "updated_at": "2017-10-23T01:14:45Z", "closed_at": "2017-10-23T01:14:45Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>For debug purposes, I need to create a collection variables from a specific graph.<br>\nI have defined my model in a predefined graph using something like:</p>\n<p>pg=tf.Graph()<br>\nwith pg.as_default():<br>\n...</p>\n<p>I define my session as:</p>\n<p>sess = tf.Session(config=config, graph=pg)<br>\nIf I need to create a collection of trainable variable in graph pg, I try to use:<br>\ntf.get_collection(tf.GraphKeys.TRAINABLE_VARIABLES) or simply tf.trainable_variables(), It doesn't return anything .</p>\n<p>If I do the same experiment, using the default 'default graph', and without using 'with', constructs, I am able to get the collection of variables.</p>\n<p>I suspect, tf.get_variables is not looking in pg, I believe a method for extracting collection of variables from a given graph, or device would be useful for everybody.</p>\n<p>If the feature already exist, please accept my apology for wasting your precious time.<br>\nI did check on stack overflow and other avenues suggested by Google.</p>\n<p>-Regards</p>", "body_text": "Hi,\nFor debug purposes, I need to create a collection variables from a specific graph.\nI have defined my model in a predefined graph using something like:\npg=tf.Graph()\nwith pg.as_default():\n...\nI define my session as:\nsess = tf.Session(config=config, graph=pg)\nIf I need to create a collection of trainable variable in graph pg, I try to use:\ntf.get_collection(tf.GraphKeys.TRAINABLE_VARIABLES) or simply tf.trainable_variables(), It doesn't return anything .\nIf I do the same experiment, using the default 'default graph', and without using 'with', constructs, I am able to get the collection of variables.\nI suspect, tf.get_variables is not looking in pg, I believe a method for extracting collection of variables from a given graph, or device would be useful for everybody.\nIf the feature already exist, please accept my apology for wasting your precious time.\nI did check on stack overflow and other avenues suggested by Google.\n-Regards", "body": "Hi,\r\n\r\nFor debug purposes, I need to create a collection variables from a specific graph.\r\nI have defined my model in a predefined graph using something like:\r\n\r\npg=tf.Graph()\r\nwith pg.as_default():\r\n    ...\r\n\r\nI define my session as:\r\n\r\nsess = tf.Session(config=config, graph=pg)\r\nIf I need to create a collection of trainable variable in graph pg, I try to use:\r\ntf.get_collection(tf.GraphKeys.TRAINABLE_VARIABLES) or simply tf.trainable_variables(), It doesn't return anything .\r\n\r\nIf I do the same experiment, using the default 'default graph', and without using 'with', constructs, I am able to get the collection of variables.\r\n\r\nI suspect, tf.get_variables is not looking in pg, I believe a method for extracting collection of variables from a given graph, or device would be useful for everybody.\r\n\r\nIf the feature already exist, please accept my apology for wasting your precious time.\r\nI did check on stack overflow and other avenues suggested by Google.\r\n\r\n\r\n-Regards"}