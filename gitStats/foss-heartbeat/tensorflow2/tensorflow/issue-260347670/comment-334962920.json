{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/334962920", "html_url": "https://github.com/tensorflow/tensorflow/issues/13295#issuecomment-334962920", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13295", "id": 334962920, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDk2MjkyMA==", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-07T20:15:28Z", "updated_at": "2017-10-07T20:15:28Z", "author_association": "MEMBER", "body_html": "<p>I remember several years ago we were facing similar situation. Need to keep symbol table but have to release a smaller binary.</p>\n<p>At the end we use <code>-g</code> during the build for symbols. Then we use <code>strip</code> command on Linux and MacOSX to get the stripped version without symbols. We keep both copy on record but only release the stripped (smaller) version. The symbol version was used for debugging with gdb.</p>\n<p>I am not familiar with <code>bazel</code> though maybe it is possible to do it similarly as well?</p>", "body_text": "I remember several years ago we were facing similar situation. Need to keep symbol table but have to release a smaller binary.\nAt the end we use -g during the build for symbols. Then we use strip command on Linux and MacOSX to get the stripped version without symbols. We keep both copy on record but only release the stripped (smaller) version. The symbol version was used for debugging with gdb.\nI am not familiar with bazel though maybe it is possible to do it similarly as well?", "body": "I remember several years ago we were facing similar situation. Need to keep symbol table but have to release a smaller binary.\r\n\r\nAt the end we use `-g` during the build for symbols. Then we use `strip` command on Linux and MacOSX to get the stripped version without symbols. We keep both copy on record but only release the stripped (smaller) version. The symbol version was used for debugging with gdb.\r\n\r\nI am not familiar with `bazel` though maybe it is possible to do it similarly as well?"}