{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/251936456", "html_url": "https://github.com/tensorflow/tensorflow/issues/4728#issuecomment-251936456", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4728", "id": 251936456, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTkzNjQ1Ng==", "user": {"login": "tripiana", "id": 15154681, "node_id": "MDQ6VXNlcjE1MTU0Njgx", "avatar_url": "https://avatars1.githubusercontent.com/u/15154681?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tripiana", "html_url": "https://github.com/tripiana", "followers_url": "https://api.github.com/users/tripiana/followers", "following_url": "https://api.github.com/users/tripiana/following{/other_user}", "gists_url": "https://api.github.com/users/tripiana/gists{/gist_id}", "starred_url": "https://api.github.com/users/tripiana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tripiana/subscriptions", "organizations_url": "https://api.github.com/users/tripiana/orgs", "repos_url": "https://api.github.com/users/tripiana/repos", "events_url": "https://api.github.com/users/tripiana/events{/privacy}", "received_events_url": "https://api.github.com/users/tripiana/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-06T11:30:17Z", "updated_at": "2016-10-06T17:11:34Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6969686\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/benoitsteiner\">@benoitsteiner</a> this is the complete compilation error:</p>\n<pre><code>/apps/.GCC/6.2.0/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=0' -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -g0 -DNDEBUG -pipe -DMKL_LP64 -DEIGEN_USE_MKL_ALL -I/usr/include/ncurses -I/apps/INTEL/2017.0-035/mkl/include -I/apps/PYTHON/3.5.2_ML/include/python3.5m -m64 '-march=native' '-mtune=native' -Ofast -s -fmath-errno -fno-unsafe-math-optimizations -fno-finite-math-only -fno-cx-limited-range -freciprocal-math -ftree-vectorize -fomit-frame-pointer -fno-stack-protector -ffunction-sections -fdata-sections -flto -fuse-linker-plugin -Wl,--as-needed -L/apps/.GLIBC/2.24/lib -L/apps/INTEL/2017.0-035/mkl/lib/intel64 -lmkl_rt -lpthread -lm -ldl -Wl,--gc-sections -Wl,-rpath,/apps/.GLIBC/2.24/lib -Wl,-rpath,/apps/.GCC/6.2.0/lib64 -Wl,-rpath,/apps/.GCC/6.2.0/lib -Wl,-rpath,/apps/INTEL/2017.0-035/mkl/lib/intel64 -Wl,--dynamic-linker,/apps/.GLIBC/2.24/lib/ld-linux-x86-64.so.2 '-std=c++11' -MD -MF bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/_objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.d '-frandom-seed=bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/_objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.o' -fPIC -DEIGEN_MPL2_ONLY -iquote . -iquote bazel-out/local_mn-py3-opt/genfiles -iquote external/bazel_tools -iquote bazel-out/local_mn-py3-opt/genfiles/external/bazel_tools -iquote external/eigen_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/eigen_archive -iquote external/protobuf -iquote bazel-out/local_mn-py3-opt/genfiles/external/protobuf -iquote external/com_googlesource_code_re2 -iquote bazel-out/local_mn-py3-opt/genfiles/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/farmhash_archive -iquote external/gif_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/gif_archive -iquote external/highwayhash -iquote bazel-out/local_mn-py3-opt/genfiles/external/highwayhash -iquote external/jpeg_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/jpeg_archive -iquote external/png_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/png_archive -iquote external/zlib_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/zlib_archive -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/eigen_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/eigen_archive -isystem external/protobuf/src -isystem bazel-out/local_mn-py3-opt/genfiles/external/protobuf/src -isystem external/farmhash_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/farmhash_archive -isystem external/gif_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/gif_archive -isystem external/highwayhash -isystem bazel-out/local_mn-py3-opt/genfiles/external/highwayhash -isystem external/jpeg_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/jpeg_archive -isystem external/png_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/png_archive -isystem external/zlib_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/zlib_archive -fno-exceptions -DEIGEN_AVOID_STL_ARRAY -pthread '--sysroot=/apps/.GLIBC/2.24' -c tensorflow/core/kernels/batch_matmul_op_real.cc -o bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/_objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.o -ftemplate-backtrace-limit=0\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:331:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/batch_matmul_op_impl.h:21,\n                 from tensorflow/core/kernels/batch_matmul_op_real.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h: In instantiation of \u2018typename Eigen::internal::unpacket_traits&lt;T&gt;::type Eigen::internal::predux(const Packet&amp;) [with Packet = Eigen::internal::Packet8h; typename Eigen::internal::unpacket_traits&lt;T&gt;::type = Eigen::half]\u2019:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/products/GeneralMatrixVector.h:548:23:   required from \u2018static void Eigen::internal::general_matrix_vector_product&lt;Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version&gt;::run(Index, Index, const LhsMapper&amp;, const RhsMapper&amp;, Eigen::internal::general_matrix_vector_product&lt;Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version&gt;::ResScalar*, Index, Eigen::internal::general_matrix_vector_product&lt;Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version&gt;::ResScalar) [with Index = long int; LhsScalar = Eigen::half; LhsMapper = Eigen::internal::const_blas_data_mapper&lt;Eigen::half, long int, 1&gt;; bool ConjugateLhs = false; RhsScalar = Eigen::half; RhsMapper = Eigen::internal::const_blas_data_mapper&lt;Eigen::half, long int, 0&gt;; bool ConjugateRhs = false; int Version = 0; Eigen::internal::general_matrix_vector_product&lt;Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version&gt;::ResScalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GeneralProduct.h:318:132:   required from \u2018static void Eigen::internal::gemv_dense_selector&lt;2, 1, true&gt;::run(const Lhs&amp;, const Rhs&amp;, Dest&amp;, const typename Dest::Scalar&amp;) [with Lhs = Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Rhs = Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;; Dest = Eigen::Map&lt;Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; typename Dest::Scalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:367:34:   required from \u2018static void Eigen::internal::generic_product_impl&lt;Lhs, Rhs, Eigen::DenseShape, Eigen::DenseShape, 7&gt;::scaleAndAddTo(Dest&amp;, const Lhs&amp;, const Rhs&amp;, const Scalar&amp;) [with Dest = Eigen::Map&lt;Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Lhs = Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Rhs = Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;; Eigen::internal::generic_product_impl&lt;Lhs, Rhs, Eigen::DenseShape, Eigen::DenseShape, 7&gt;::Scalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:349:27:   required from \u2018static void Eigen::internal::generic_product_impl_base&lt;Lhs, Rhs, Derived&gt;::scaleAndAddTo(Dst&amp;, const Lhs&amp;, const Rhs&amp;, const Scalar&amp;) [with Dst = Eigen::Map&lt;Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Lhs = Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Rhs = Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;; Derived = Eigen::internal::generic_product_impl&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;, Eigen::DenseShape, Eigen::DenseShape, 7&gt;; Eigen::internal::generic_product_impl_base&lt;Lhs, Rhs, Derived&gt;::Scalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:337:33:   required from \u2018static void Eigen::internal::generic_product_impl_base&lt;Lhs, Rhs, Derived&gt;::evalTo(Dst&amp;, const Lhs&amp;, const Rhs&amp;) [with Dst = Eigen::Map&lt;Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Lhs = Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Rhs = Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;; Derived = Eigen::internal::generic_product_impl&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;, Eigen::DenseShape, Eigen::DenseShape, 7&gt;]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:144:43:   required from \u2018static void Eigen::internal::Assignment&lt;DstXprType, Eigen::Product&lt;Lhs, Rhs, Options&gt;, Eigen::internal::assign_op&lt;Scalar, Scalar&gt;, Eigen::internal::Dense2Dense, typename Eigen::internal::enable_if&lt;((Options == DefaultProduct) || (Options == AliasFreeProduct))&gt;::type&gt;::run(DstXprType&amp;, const SrcXprType&amp;, const Eigen::internal::assign_op&lt;Scalar, Scalar&gt;&amp;) [with DstXprType = Eigen::Map&lt;Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Lhs = Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Rhs = Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;; int Options = 0; Scalar = Eigen::half; Eigen::internal::Assignment&lt;DstXprType, Eigen::Product&lt;Lhs, Rhs, Options&gt;, Eigen::internal::assign_op&lt;Scalar, Scalar&gt;, Eigen::internal::Dense2Dense, typename Eigen::internal::enable_if&lt;((Options == DefaultProduct) || (Options == AliasFreeProduct))&gt;::type&gt;::SrcXprType = Eigen::Product&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;, 0&gt;]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/AssignEvaluator.h:813:49:   required from \u2018void Eigen::internal::call_assignment_no_alias(Dst&amp;, const Src&amp;, const Func&amp;) [with Dst = Eigen::Map&lt;Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Src = Eigen::Product&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;, 0&gt;; Func = Eigen::internal::assign_op&lt;Eigen::half, Eigen::half&gt;]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NoAlias.h:42:31:   required from \u2018ExpressionType&amp; Eigen::NoAlias&lt;ExpressionType, StorageBase&gt;::operator=(const StorageBase&lt;OtherDerived&gt;&amp;) [with OtherDerived = Eigen::Product&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;, 0&gt;; ExpressionType = Eigen::Map&lt;Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; StorageBase = Eigen::MatrixBase]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:131:19:   required from \u2018void tensorflow::{anonymous}::Multiply(bool, bool, Tx, Ty, Tz) [with Tx = Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;; Ty = Eigen::Block&lt;Eigen::Map&lt;const Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;, -1, 1, false&gt;; Tz = Eigen::Map&lt;Eigen::Matrix&lt;Eigen::half, -1, -1, 1, -1, -1&gt;, 0, Eigen::Stride&lt;0, 0&gt; &gt;]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:181:17:   required from \u2018static void tensorflow::{anonymous}::SequentialMatMulKernel&lt;Scalar&gt;::Run(const tensorflow::Tensor&amp;, const tensorflow::Tensor&amp;, bool, bool, tensorflow::Tensor*, int, int) [with Scalar = Eigen::half]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:238:50:   required from \u2018tensorflow::LaunchBatchMatMul&lt;Eigen::ThreadPoolDevice, Scalar&gt;::Launch(tensorflow::OpKernelContext*, const tensorflow::Tensor&amp;, const tensorflow::Tensor&amp;, bool, bool, tensorflow::Tensor*)::&lt;lambda(int, int)&gt; [with Scalar = Eigen::half]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:237:42:   required from \u2018struct tensorflow::LaunchBatchMatMul&lt;Eigen::ThreadPoolDevice, Scalar&gt;::Launch(tensorflow::OpKernelContext*, const tensorflow::Tensor&amp;, const tensorflow::Tensor&amp;, bool, bool, tensorflow::Tensor*) [with Scalar = Eigen::half]::&lt;lambda(int, int)&gt;\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:235:12:   required from \u2018static void tensorflow::LaunchBatchMatMul&lt;Eigen::ThreadPoolDevice, Scalar&gt;::Launch(tensorflow::OpKernelContext*, const tensorflow::Tensor&amp;, const tensorflow::Tensor&amp;, bool, bool, tensorflow::Tensor*) [with Scalar = Eigen::half]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:427:46:   required from \u2018void tensorflow::BatchMatMul&lt;Device, Scalar&gt;::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Scalar = Eigen::half]\u2019\ntensorflow/core/kernels/batch_matmul_op_real.cc:33:1:   required from here\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h:324:10: error: could not convert \u2018a\u2019 from \u2018const Eigen::internal::Packet8h\u2019 to \u2018Eigen::internal::unpacket_traits&lt;Eigen::internal::Packet8h&gt;::type {aka Eigen::half}\u2019\n { return a; }\n</code></pre>\n<p>It is very interesting that there is no predux for Packet8h nor for Half types available... The fact that this is CUDA stuff and I only want to compile CPU tensorflow is very confusing, but I guess it is for some reason.</p>\n<p>Hope you can help me.</p>\n<p>Best regards.</p>", "body_text": "@benoitsteiner this is the complete compilation error:\n/apps/.GCC/6.2.0/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=0' -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -g0 -DNDEBUG -pipe -DMKL_LP64 -DEIGEN_USE_MKL_ALL -I/usr/include/ncurses -I/apps/INTEL/2017.0-035/mkl/include -I/apps/PYTHON/3.5.2_ML/include/python3.5m -m64 '-march=native' '-mtune=native' -Ofast -s -fmath-errno -fno-unsafe-math-optimizations -fno-finite-math-only -fno-cx-limited-range -freciprocal-math -ftree-vectorize -fomit-frame-pointer -fno-stack-protector -ffunction-sections -fdata-sections -flto -fuse-linker-plugin -Wl,--as-needed -L/apps/.GLIBC/2.24/lib -L/apps/INTEL/2017.0-035/mkl/lib/intel64 -lmkl_rt -lpthread -lm -ldl -Wl,--gc-sections -Wl,-rpath,/apps/.GLIBC/2.24/lib -Wl,-rpath,/apps/.GCC/6.2.0/lib64 -Wl,-rpath,/apps/.GCC/6.2.0/lib -Wl,-rpath,/apps/INTEL/2017.0-035/mkl/lib/intel64 -Wl,--dynamic-linker,/apps/.GLIBC/2.24/lib/ld-linux-x86-64.so.2 '-std=c++11' -MD -MF bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/_objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.d '-frandom-seed=bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/_objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.o' -fPIC -DEIGEN_MPL2_ONLY -iquote . -iquote bazel-out/local_mn-py3-opt/genfiles -iquote external/bazel_tools -iquote bazel-out/local_mn-py3-opt/genfiles/external/bazel_tools -iquote external/eigen_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/eigen_archive -iquote external/protobuf -iquote bazel-out/local_mn-py3-opt/genfiles/external/protobuf -iquote external/com_googlesource_code_re2 -iquote bazel-out/local_mn-py3-opt/genfiles/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/farmhash_archive -iquote external/gif_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/gif_archive -iquote external/highwayhash -iquote bazel-out/local_mn-py3-opt/genfiles/external/highwayhash -iquote external/jpeg_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/jpeg_archive -iquote external/png_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/png_archive -iquote external/zlib_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/zlib_archive -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/eigen_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/eigen_archive -isystem external/protobuf/src -isystem bazel-out/local_mn-py3-opt/genfiles/external/protobuf/src -isystem external/farmhash_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/farmhash_archive -isystem external/gif_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/gif_archive -isystem external/highwayhash -isystem bazel-out/local_mn-py3-opt/genfiles/external/highwayhash -isystem external/jpeg_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/jpeg_archive -isystem external/png_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/png_archive -isystem external/zlib_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/zlib_archive -fno-exceptions -DEIGEN_AVOID_STL_ARRAY -pthread '--sysroot=/apps/.GLIBC/2.24' -c tensorflow/core/kernels/batch_matmul_op_real.cc -o bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/_objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.o -ftemplate-backtrace-limit=0\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:331:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/batch_matmul_op_impl.h:21,\n                 from tensorflow/core/kernels/batch_matmul_op_real.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h: In instantiation of \u2018typename Eigen::internal::unpacket_traits<T>::type Eigen::internal::predux(const Packet&) [with Packet = Eigen::internal::Packet8h; typename Eigen::internal::unpacket_traits<T>::type = Eigen::half]\u2019:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/products/GeneralMatrixVector.h:548:23:   required from \u2018static void Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::run(Index, Index, const LhsMapper&, const RhsMapper&, Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::ResScalar*, Index, Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::ResScalar) [with Index = long int; LhsScalar = Eigen::half; LhsMapper = Eigen::internal::const_blas_data_mapper<Eigen::half, long int, 1>; bool ConjugateLhs = false; RhsScalar = Eigen::half; RhsMapper = Eigen::internal::const_blas_data_mapper<Eigen::half, long int, 0>; bool ConjugateRhs = false; int Version = 0; Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::ResScalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GeneralProduct.h:318:132:   required from \u2018static void Eigen::internal::gemv_dense_selector<2, 1, true>::run(const Lhs&, const Rhs&, Dest&, const typename Dest::Scalar&) [with Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Dest = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; typename Dest::Scalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:367:34:   required from \u2018static void Eigen::internal::generic_product_impl<Lhs, Rhs, Eigen::DenseShape, Eigen::DenseShape, 7>::scaleAndAddTo(Dest&, const Lhs&, const Rhs&, const Scalar&) [with Dest = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Eigen::internal::generic_product_impl<Lhs, Rhs, Eigen::DenseShape, Eigen::DenseShape, 7>::Scalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:349:27:   required from \u2018static void Eigen::internal::generic_product_impl_base<Lhs, Rhs, Derived>::scaleAndAddTo(Dst&, const Lhs&, const Rhs&, const Scalar&) [with Dst = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Derived = Eigen::internal::generic_product_impl<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, Eigen::DenseShape, Eigen::DenseShape, 7>; Eigen::internal::generic_product_impl_base<Lhs, Rhs, Derived>::Scalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:337:33:   required from \u2018static void Eigen::internal::generic_product_impl_base<Lhs, Rhs, Derived>::evalTo(Dst&, const Lhs&, const Rhs&) [with Dst = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Derived = Eigen::internal::generic_product_impl<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, Eigen::DenseShape, Eigen::DenseShape, 7>]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:144:43:   required from \u2018static void Eigen::internal::Assignment<DstXprType, Eigen::Product<Lhs, Rhs, Options>, Eigen::internal::assign_op<Scalar, Scalar>, Eigen::internal::Dense2Dense, typename Eigen::internal::enable_if<((Options == DefaultProduct) || (Options == AliasFreeProduct))>::type>::run(DstXprType&, const SrcXprType&, const Eigen::internal::assign_op<Scalar, Scalar>&) [with DstXprType = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; int Options = 0; Scalar = Eigen::half; Eigen::internal::Assignment<DstXprType, Eigen::Product<Lhs, Rhs, Options>, Eigen::internal::assign_op<Scalar, Scalar>, Eigen::internal::Dense2Dense, typename Eigen::internal::enable_if<((Options == DefaultProduct) || (Options == AliasFreeProduct))>::type>::SrcXprType = Eigen::Product<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, 0>]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/AssignEvaluator.h:813:49:   required from \u2018void Eigen::internal::call_assignment_no_alias(Dst&, const Src&, const Func&) [with Dst = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Src = Eigen::Product<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, 0>; Func = Eigen::internal::assign_op<Eigen::half, Eigen::half>]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NoAlias.h:42:31:   required from \u2018ExpressionType& Eigen::NoAlias<ExpressionType, StorageBase>::operator=(const StorageBase<OtherDerived>&) [with OtherDerived = Eigen::Product<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, 0>; ExpressionType = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; StorageBase = Eigen::MatrixBase]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:131:19:   required from \u2018void tensorflow::{anonymous}::Multiply(bool, bool, Tx, Ty, Tz) [with Tx = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Ty = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Tz = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:181:17:   required from \u2018static void tensorflow::{anonymous}::SequentialMatMulKernel<Scalar>::Run(const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor*, int, int) [with Scalar = Eigen::half]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:238:50:   required from \u2018tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext*, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor*)::<lambda(int, int)> [with Scalar = Eigen::half]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:237:42:   required from \u2018struct tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext*, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor*) [with Scalar = Eigen::half]::<lambda(int, int)>\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:235:12:   required from \u2018static void tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext*, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor*) [with Scalar = Eigen::half]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:427:46:   required from \u2018void tensorflow::BatchMatMul<Device, Scalar>::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Scalar = Eigen::half]\u2019\ntensorflow/core/kernels/batch_matmul_op_real.cc:33:1:   required from here\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h:324:10: error: could not convert \u2018a\u2019 from \u2018const Eigen::internal::Packet8h\u2019 to \u2018Eigen::internal::unpacket_traits<Eigen::internal::Packet8h>::type {aka Eigen::half}\u2019\n { return a; }\n\nIt is very interesting that there is no predux for Packet8h nor for Half types available... The fact that this is CUDA stuff and I only want to compile CPU tensorflow is very confusing, but I guess it is for some reason.\nHope you can help me.\nBest regards.", "body": "@benoitsteiner this is the complete compilation error:\n\n```\n/apps/.GCC/6.2.0/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=0' -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -g0 -DNDEBUG -pipe -DMKL_LP64 -DEIGEN_USE_MKL_ALL -I/usr/include/ncurses -I/apps/INTEL/2017.0-035/mkl/include -I/apps/PYTHON/3.5.2_ML/include/python3.5m -m64 '-march=native' '-mtune=native' -Ofast -s -fmath-errno -fno-unsafe-math-optimizations -fno-finite-math-only -fno-cx-limited-range -freciprocal-math -ftree-vectorize -fomit-frame-pointer -fno-stack-protector -ffunction-sections -fdata-sections -flto -fuse-linker-plugin -Wl,--as-needed -L/apps/.GLIBC/2.24/lib -L/apps/INTEL/2017.0-035/mkl/lib/intel64 -lmkl_rt -lpthread -lm -ldl -Wl,--gc-sections -Wl,-rpath,/apps/.GLIBC/2.24/lib -Wl,-rpath,/apps/.GCC/6.2.0/lib64 -Wl,-rpath,/apps/.GCC/6.2.0/lib -Wl,-rpath,/apps/INTEL/2017.0-035/mkl/lib/intel64 -Wl,--dynamic-linker,/apps/.GLIBC/2.24/lib/ld-linux-x86-64.so.2 '-std=c++11' -MD -MF bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/_objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.d '-frandom-seed=bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/_objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.o' -fPIC -DEIGEN_MPL2_ONLY -iquote . -iquote bazel-out/local_mn-py3-opt/genfiles -iquote external/bazel_tools -iquote bazel-out/local_mn-py3-opt/genfiles/external/bazel_tools -iquote external/eigen_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/eigen_archive -iquote external/protobuf -iquote bazel-out/local_mn-py3-opt/genfiles/external/protobuf -iquote external/com_googlesource_code_re2 -iquote bazel-out/local_mn-py3-opt/genfiles/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/farmhash_archive -iquote external/gif_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/gif_archive -iquote external/highwayhash -iquote bazel-out/local_mn-py3-opt/genfiles/external/highwayhash -iquote external/jpeg_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/jpeg_archive -iquote external/png_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/png_archive -iquote external/zlib_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/zlib_archive -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/eigen_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/eigen_archive -isystem external/protobuf/src -isystem bazel-out/local_mn-py3-opt/genfiles/external/protobuf/src -isystem external/farmhash_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/farmhash_archive -isystem external/gif_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/gif_archive -isystem external/highwayhash -isystem bazel-out/local_mn-py3-opt/genfiles/external/highwayhash -isystem external/jpeg_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/jpeg_archive -isystem external/png_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/png_archive -isystem external/zlib_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/zlib_archive -fno-exceptions -DEIGEN_AVOID_STL_ARRAY -pthread '--sysroot=/apps/.GLIBC/2.24' -c tensorflow/core/kernels/batch_matmul_op_real.cc -o bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/_objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.o -ftemplate-backtrace-limit=0\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:331:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/batch_matmul_op_impl.h:21,\n                 from tensorflow/core/kernels/batch_matmul_op_real.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h: In instantiation of \u2018typename Eigen::internal::unpacket_traits<T>::type Eigen::internal::predux(const Packet&) [with Packet = Eigen::internal::Packet8h; typename Eigen::internal::unpacket_traits<T>::type = Eigen::half]\u2019:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/products/GeneralMatrixVector.h:548:23:   required from \u2018static void Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::run(Index, Index, const LhsMapper&, const RhsMapper&, Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::ResScalar*, Index, Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::ResScalar) [with Index = long int; LhsScalar = Eigen::half; LhsMapper = Eigen::internal::const_blas_data_mapper<Eigen::half, long int, 1>; bool ConjugateLhs = false; RhsScalar = Eigen::half; RhsMapper = Eigen::internal::const_blas_data_mapper<Eigen::half, long int, 0>; bool ConjugateRhs = false; int Version = 0; Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::ResScalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GeneralProduct.h:318:132:   required from \u2018static void Eigen::internal::gemv_dense_selector<2, 1, true>::run(const Lhs&, const Rhs&, Dest&, const typename Dest::Scalar&) [with Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Dest = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; typename Dest::Scalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:367:34:   required from \u2018static void Eigen::internal::generic_product_impl<Lhs, Rhs, Eigen::DenseShape, Eigen::DenseShape, 7>::scaleAndAddTo(Dest&, const Lhs&, const Rhs&, const Scalar&) [with Dest = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Eigen::internal::generic_product_impl<Lhs, Rhs, Eigen::DenseShape, Eigen::DenseShape, 7>::Scalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:349:27:   required from \u2018static void Eigen::internal::generic_product_impl_base<Lhs, Rhs, Derived>::scaleAndAddTo(Dst&, const Lhs&, const Rhs&, const Scalar&) [with Dst = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Derived = Eigen::internal::generic_product_impl<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, Eigen::DenseShape, Eigen::DenseShape, 7>; Eigen::internal::generic_product_impl_base<Lhs, Rhs, Derived>::Scalar = Eigen::half]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:337:33:   required from \u2018static void Eigen::internal::generic_product_impl_base<Lhs, Rhs, Derived>::evalTo(Dst&, const Lhs&, const Rhs&) [with Dst = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Derived = Eigen::internal::generic_product_impl<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, Eigen::DenseShape, Eigen::DenseShape, 7>]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:144:43:   required from \u2018static void Eigen::internal::Assignment<DstXprType, Eigen::Product<Lhs, Rhs, Options>, Eigen::internal::assign_op<Scalar, Scalar>, Eigen::internal::Dense2Dense, typename Eigen::internal::enable_if<((Options == DefaultProduct) || (Options == AliasFreeProduct))>::type>::run(DstXprType&, const SrcXprType&, const Eigen::internal::assign_op<Scalar, Scalar>&) [with DstXprType = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; int Options = 0; Scalar = Eigen::half; Eigen::internal::Assignment<DstXprType, Eigen::Product<Lhs, Rhs, Options>, Eigen::internal::assign_op<Scalar, Scalar>, Eigen::internal::Dense2Dense, typename Eigen::internal::enable_if<((Options == DefaultProduct) || (Options == AliasFreeProduct))>::type>::SrcXprType = Eigen::Product<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, 0>]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/AssignEvaluator.h:813:49:   required from \u2018void Eigen::internal::call_assignment_no_alias(Dst&, const Src&, const Func&) [with Dst = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Src = Eigen::Product<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, 0>; Func = Eigen::internal::assign_op<Eigen::half, Eigen::half>]\u2019\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NoAlias.h:42:31:   required from \u2018ExpressionType& Eigen::NoAlias<ExpressionType, StorageBase>::operator=(const StorageBase<OtherDerived>&) [with OtherDerived = Eigen::Product<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, 0>; ExpressionType = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; StorageBase = Eigen::MatrixBase]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:131:19:   required from \u2018void tensorflow::{anonymous}::Multiply(bool, bool, Tx, Ty, Tz) [with Tx = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Ty = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Tz = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:181:17:   required from \u2018static void tensorflow::{anonymous}::SequentialMatMulKernel<Scalar>::Run(const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor*, int, int) [with Scalar = Eigen::half]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:238:50:   required from \u2018tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext*, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor*)::<lambda(int, int)> [with Scalar = Eigen::half]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:237:42:   required from \u2018struct tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext*, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor*) [with Scalar = Eigen::half]::<lambda(int, int)>\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:235:12:   required from \u2018static void tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext*, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor*) [with Scalar = Eigen::half]\u2019\n./tensorflow/core/kernels/batch_matmul_op_impl.h:427:46:   required from \u2018void tensorflow::BatchMatMul<Device, Scalar>::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Scalar = Eigen::half]\u2019\ntensorflow/core/kernels/batch_matmul_op_real.cc:33:1:   required from here\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h:324:10: error: could not convert \u2018a\u2019 from \u2018const Eigen::internal::Packet8h\u2019 to \u2018Eigen::internal::unpacket_traits<Eigen::internal::Packet8h>::type {aka Eigen::half}\u2019\n { return a; }\n```\n\nIt is very interesting that there is no predux for Packet8h nor for Half types available... The fact that this is CUDA stuff and I only want to compile CPU tensorflow is very confusing, but I guess it is for some reason.\n\nHope you can help me.\n\nBest regards.\n"}