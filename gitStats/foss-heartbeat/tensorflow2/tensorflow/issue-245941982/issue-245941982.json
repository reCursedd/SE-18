{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11805", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11805/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11805/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11805/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11805", "id": 245941982, "node_id": "MDU6SXNzdWUyNDU5NDE5ODI=", "number": 11805, "title": "Cannot build Tensorflow: 'GLIBCXX_3.4.21' not found", "user": {"login": "kaizhang", "id": 852227, "node_id": "MDQ6VXNlcjg1MjIyNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/852227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaizhang", "html_url": "https://github.com/kaizhang", "followers_url": "https://api.github.com/users/kaizhang/followers", "following_url": "https://api.github.com/users/kaizhang/following{/other_user}", "gists_url": "https://api.github.com/users/kaizhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaizhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaizhang/subscriptions", "organizations_url": "https://api.github.com/users/kaizhang/orgs", "repos_url": "https://api.github.com/users/kaizhang/repos", "events_url": "https://api.github.com/users/kaizhang/events{/privacy}", "received_events_url": "https://api.github.com/users/kaizhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-07-27T06:50:08Z", "updated_at": "2017-08-03T19:39:01Z", "closed_at": "2017-08-03T19:39:01Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: CentOS 7</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.2.1</li>\n<li><strong>Python version</strong>: 3.6.1</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.5.2</li>\n<li><strong>CUDA/cuDNN version</strong>: 8.0/5.0</li>\n<li><strong>GPU model and memory</strong>: GTX1080, 8G</li>\n<li><strong>Exact command to reproduce</strong>: bazel build --verbose_failures --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I cannot build Tensorflow from source. I have gcc libraries installed in \"/opt/ohpc/pub/compiler/gcc/5.4.0/lib64\". But the installer was not able to pick it up. It always tries to use the one in \"/usr/lib64\". I have set \"LDFLAGS\" \"LD_LIBRARY_PATH\", etc. Nothing works.</p>\n<h3>Source code / logs</h3>\n<p>Include any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.</p>\n<p>$ bazel build --verbose_failures --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</p>\n<p>WARNING: ignoring http_proxy in environment.<br>\nWARNING: Output base '/home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3' is on NFS. This may lead to surprising failures and undetermined behavior.<br>\nWARNING: /home/kai/test/tensorflow-1.2.1/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': Use SavedModel Builder instead.<br>\nWARNING: /home/kai/test/tensorflow-1.2.1/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': Use SavedModel instead.<br>\nINFO: Found 1 target...<br>\nERROR: /home/kai/test/tensorflow-1.2.1/tensorflow/contrib/training/BUILD:339:1: null failed: protoc failed: error executing command<br>\n(cd /home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3/execroot/org_tensorflow &amp;&amp; <br>\nexec env - <br>\nbazel-out/host/bin/external/protobuf/protoc '--python_out=bazel-out/local_linux-py3-opt/genfiles/' -I. -Iexternal/protobuf/python -Ibazel-out/local_linux-py3-opt/genfiles/external/protobuf/python tensorflow/contrib/training/python/training/hparam.proto): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\n/home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3/execroot/org_tensorflow/_bin/process-wrapper: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3/execroot/org_tensorflow/_bin/process-wrapper)<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nINFO: Elapsed time: 3.922s, Critical Path: 0.03s</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): CentOS 7\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.2.1\nPython version: 3.6.1\nBazel version (if compiling from source): 0.5.2\nCUDA/cuDNN version: 8.0/5.0\nGPU model and memory: GTX1080, 8G\nExact command to reproduce: bazel build --verbose_failures --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nI cannot build Tensorflow from source. I have gcc libraries installed in \"/opt/ohpc/pub/compiler/gcc/5.4.0/lib64\". But the installer was not able to pick it up. It always tries to use the one in \"/usr/lib64\". I have set \"LDFLAGS\" \"LD_LIBRARY_PATH\", etc. Nothing works.\nSource code / logs\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\n$ bazel build --verbose_failures --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWARNING: ignoring http_proxy in environment.\nWARNING: Output base '/home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3' is on NFS. This may lead to surprising failures and undetermined behavior.\nWARNING: /home/kai/test/tensorflow-1.2.1/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': Use SavedModel Builder instead.\nWARNING: /home/kai/test/tensorflow-1.2.1/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': Use SavedModel instead.\nINFO: Found 1 target...\nERROR: /home/kai/test/tensorflow-1.2.1/tensorflow/contrib/training/BUILD:339:1: null failed: protoc failed: error executing command\n(cd /home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3/execroot/org_tensorflow && \nexec env - \nbazel-out/host/bin/external/protobuf/protoc '--python_out=bazel-out/local_linux-py3-opt/genfiles/' -I. -Iexternal/protobuf/python -Ibazel-out/local_linux-py3-opt/genfiles/external/protobuf/python tensorflow/contrib/training/python/training/hparam.proto): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3/execroot/org_tensorflow/_bin/process-wrapper: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3/execroot/org_tensorflow/_bin/process-wrapper)\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 3.922s, Critical Path: 0.03s", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: CentOS 7\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.2.1\r\n- **Python version**: 3.6.1\r\n- **Bazel version (if compiling from source)**: 0.5.2\r\n- **CUDA/cuDNN version**: 8.0/5.0\r\n- **GPU model and memory**: GTX1080, 8G\r\n- **Exact command to reproduce**: bazel build --verbose_failures --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n\r\n\r\n### Describe the problem\r\n\r\nI cannot build Tensorflow from source. I have gcc libraries installed in \"/opt/ohpc/pub/compiler/gcc/5.4.0/lib64\". But the installer was not able to pick it up. It always tries to use the one in \"/usr/lib64\". I have set \"LDFLAGS\" \"LD_LIBRARY_PATH\", etc. Nothing works.\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n$ bazel build --verbose_failures --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n\r\nWARNING: ignoring http_proxy in environment.\r\nWARNING: Output base '/home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3' is on NFS. This may lead to surprising failures and undetermined behavior.\r\nWARNING: /home/kai/test/tensorflow-1.2.1/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': Use SavedModel Builder instead.\r\nWARNING: /home/kai/test/tensorflow-1.2.1/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': Use SavedModel instead.\r\nINFO: Found 1 target...\r\nERROR: /home/kai/test/tensorflow-1.2.1/tensorflow/contrib/training/BUILD:339:1: null failed: protoc failed: error executing command\r\n  (cd /home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n  bazel-out/host/bin/external/protobuf/protoc '--python_out=bazel-out/local_linux-py3-opt/genfiles/' -I. -Iexternal/protobuf/python -Ibazel-out/local_linux-py3-opt/genfiles/external/protobuf/python tensorflow/contrib/training/python/training/hparam.proto): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\n/home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3/execroot/org_tensorflow/_bin/process-wrapper: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /home/kai/.cache/bazel/_bazel_kai/e5757f5d9b24da3fc563b551b579ddc3/execroot/org_tensorflow/_bin/process-wrapper)\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 3.922s, Critical Path: 0.03s"}