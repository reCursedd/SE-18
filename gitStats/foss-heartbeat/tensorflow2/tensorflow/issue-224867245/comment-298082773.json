{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/298082773", "html_url": "https://github.com/tensorflow/tensorflow/issues/9495#issuecomment-298082773", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9495", "id": 298082773, "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODA4Mjc3Mw==", "user": {"login": "lipingliulp", "id": 15008421, "node_id": "MDQ6VXNlcjE1MDA4NDIx", "avatar_url": "https://avatars0.githubusercontent.com/u/15008421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lipingliulp", "html_url": "https://github.com/lipingliulp", "followers_url": "https://api.github.com/users/lipingliulp/followers", "following_url": "https://api.github.com/users/lipingliulp/following{/other_user}", "gists_url": "https://api.github.com/users/lipingliulp/gists{/gist_id}", "starred_url": "https://api.github.com/users/lipingliulp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lipingliulp/subscriptions", "organizations_url": "https://api.github.com/users/lipingliulp/orgs", "repos_url": "https://api.github.com/users/lipingliulp/repos", "events_url": "https://api.github.com/users/lipingliulp/events{/privacy}", "received_events_url": "https://api.github.com/users/lipingliulp/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-28T19:10:54Z", "updated_at": "2017-04-28T19:10:54Z", "author_association": "NONE", "body_html": "<p>New finding: I think the problem is in tf.sqrt(...)<br>\nHere is the code, taking sqrt of the array versus taking sqrt element by element,</p>\n<pre><code>import tensorflow as tf\n\narr = tf.range(0, 1000, dtype=tf.float32)\n\nresult1 = tf.sqrt(arr)      # taking sqrt of the array\n\n\nalist = tf.unstack(arr)    # unpack\nrlist = []\nfor elm in alist:              # taking sqrt element by element, \n    rlist.append(tf.sqrt(elm))\nresult2 = tf.stack(rlist)  # then pack the results into an array \n\ndiff = tf.reduce_sum(tf.abs(result1 - result2))\n\nsession = tf.Session()\nprint('The difference is %f ' % session.run(diff))\n</code></pre>\n<p>and the output is,</p>\n<pre><code>The difference is 0.001230\n</code></pre>\n<p>I expect the output to be 0.</p>\n<p>cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5317244\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/altosaar\">@altosaar</a></p>", "body_text": "New finding: I think the problem is in tf.sqrt(...)\nHere is the code, taking sqrt of the array versus taking sqrt element by element,\nimport tensorflow as tf\n\narr = tf.range(0, 1000, dtype=tf.float32)\n\nresult1 = tf.sqrt(arr)      # taking sqrt of the array\n\n\nalist = tf.unstack(arr)    # unpack\nrlist = []\nfor elm in alist:              # taking sqrt element by element, \n    rlist.append(tf.sqrt(elm))\nresult2 = tf.stack(rlist)  # then pack the results into an array \n\ndiff = tf.reduce_sum(tf.abs(result1 - result2))\n\nsession = tf.Session()\nprint('The difference is %f ' % session.run(diff))\n\nand the output is,\nThe difference is 0.001230\n\nI expect the output to be 0.\ncc @altosaar", "body": "New finding: I think the problem is in tf.sqrt(...)\r\nHere is the code, taking sqrt of the array versus taking sqrt element by element, \r\n```\r\nimport tensorflow as tf\r\n\r\narr = tf.range(0, 1000, dtype=tf.float32)\r\n\r\nresult1 = tf.sqrt(arr)      # taking sqrt of the array\r\n\r\n\r\nalist = tf.unstack(arr)    # unpack\r\nrlist = []\r\nfor elm in alist:              # taking sqrt element by element, \r\n    rlist.append(tf.sqrt(elm))\r\nresult2 = tf.stack(rlist)  # then pack the results into an array \r\n\r\ndiff = tf.reduce_sum(tf.abs(result1 - result2))\r\n\r\nsession = tf.Session()\r\nprint('The difference is %f ' % session.run(diff))\r\n```\r\nand the output is, \r\n```\r\nThe difference is 0.001230\r\n```\r\n\r\nI expect the output to be 0. \r\n\r\ncc @altosaar"}