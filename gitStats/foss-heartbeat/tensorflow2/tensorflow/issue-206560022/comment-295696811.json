{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/295696811", "html_url": "https://github.com/tensorflow/tensorflow/issues/7389#issuecomment-295696811", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7389", "id": 295696811, "node_id": "MDEyOklzc3VlQ29tbWVudDI5NTY5NjgxMQ==", "user": {"login": "PhilJd", "id": 16101605, "node_id": "MDQ6VXNlcjE2MTAxNjA1", "avatar_url": "https://avatars2.githubusercontent.com/u/16101605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PhilJd", "html_url": "https://github.com/PhilJd", "followers_url": "https://api.github.com/users/PhilJd/followers", "following_url": "https://api.github.com/users/PhilJd/following{/other_user}", "gists_url": "https://api.github.com/users/PhilJd/gists{/gist_id}", "starred_url": "https://api.github.com/users/PhilJd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PhilJd/subscriptions", "organizations_url": "https://api.github.com/users/PhilJd/orgs", "repos_url": "https://api.github.com/users/PhilJd/repos", "events_url": "https://api.github.com/users/PhilJd/events{/privacy}", "received_events_url": "https://api.github.com/users/PhilJd/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-20T11:33:40Z", "updated_at": "2017-04-20T11:34:37Z", "author_association": "CONTRIBUTOR", "body_html": "<p>For now you could just compute the mean with existing tensorflow functions, e.g.</p>\n<pre><code>import tensorflow as tf\nx = tf.constant([1.0, 2.0, 3.0, 4.0])\nids = tf.constant([0, 1, 0, 1])\nones = tf.ones_like(x)\ncount = tf.unsorted_segment_sum(ones, ids, 2)\nsums = tf.unsorted_segment_sum(x, ids, 2)\nmean = tf.divide(sums, count)\ns = tf.Session()\ns.run(mean)\n\n</code></pre>\n<p>The main advantage is that this runs on GPU.</p>", "body_text": "For now you could just compute the mean with existing tensorflow functions, e.g.\nimport tensorflow as tf\nx = tf.constant([1.0, 2.0, 3.0, 4.0])\nids = tf.constant([0, 1, 0, 1])\nones = tf.ones_like(x)\ncount = tf.unsorted_segment_sum(ones, ids, 2)\nsums = tf.unsorted_segment_sum(x, ids, 2)\nmean = tf.divide(sums, count)\ns = tf.Session()\ns.run(mean)\n\n\nThe main advantage is that this runs on GPU.", "body": "For now you could just compute the mean with existing tensorflow functions, e.g.\r\n\r\n```\r\nimport tensorflow as tf\r\nx = tf.constant([1.0, 2.0, 3.0, 4.0])\r\nids = tf.constant([0, 1, 0, 1])\r\nones = tf.ones_like(x)\r\ncount = tf.unsorted_segment_sum(ones, ids, 2)\r\nsums = tf.unsorted_segment_sum(x, ids, 2)\r\nmean = tf.divide(sums, count)\r\ns = tf.Session()\r\ns.run(mean)\r\n\r\n```\r\n\r\nThe main advantage is that this runs on GPU."}