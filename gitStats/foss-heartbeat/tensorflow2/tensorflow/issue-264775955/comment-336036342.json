{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/336036342", "html_url": "https://github.com/tensorflow/tensorflow/issues/13648#issuecomment-336036342", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13648", "id": 336036342, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjAzNjM0Mg==", "user": {"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-12T06:46:26Z", "updated_at": "2017-10-12T06:46:26Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> knows the truth here, and can correct any (all!) mistakes I make.</p>\n<p>Queues are pretty confusing (I was confused by this too).  Although your attempt to replace <code>tf.constant</code> with <code>tf.placeholder</code> seems reasonable, I've confirmed it doesn't work, with the error you've listed.  I believe the problem is that the producer side of the queue is actually started by this line:</p>\n<pre><code>    threads = tf.train.start_queue_runners(coord=coord)\n</code></pre>\n<p>So your subsequent call to <code>sess.run(... feed_dict={s: e})</code> isn't actually materializing a value in the placeholder.  I believe this implies that the argument to <code>tf.train.string_input_producer</code> really needs to be a tensor with a materialized value; you can't use a placeholder here, since there's no way to set that value before the queue producers start running.</p>\n<p>Note that \"datasets\" are now the preferred mechanism to handle input data, replacing \"queues\".  More info here; I believe they do support your use-case (look for <code>feedable iterator</code>):<br>\n<a href=\"https://www.tensorflow.org/programmers_guide/datasets\" rel=\"nofollow\">https://www.tensorflow.org/programmers_guide/datasets</a></p>", "body_text": "@mrry knows the truth here, and can correct any (all!) mistakes I make.\nQueues are pretty confusing (I was confused by this too).  Although your attempt to replace tf.constant with tf.placeholder seems reasonable, I've confirmed it doesn't work, with the error you've listed.  I believe the problem is that the producer side of the queue is actually started by this line:\n    threads = tf.train.start_queue_runners(coord=coord)\n\nSo your subsequent call to sess.run(... feed_dict={s: e}) isn't actually materializing a value in the placeholder.  I believe this implies that the argument to tf.train.string_input_producer really needs to be a tensor with a materialized value; you can't use a placeholder here, since there's no way to set that value before the queue producers start running.\nNote that \"datasets\" are now the preferred mechanism to handle input data, replacing \"queues\".  More info here; I believe they do support your use-case (look for feedable iterator):\nhttps://www.tensorflow.org/programmers_guide/datasets", "body": "@mrry knows the truth here, and can correct any (all!) mistakes I make.\r\n\r\nQueues are pretty confusing (I was confused by this too).  Although your attempt to replace `tf.constant` with `tf.placeholder` seems reasonable, I've confirmed it doesn't work, with the error you've listed.  I believe the problem is that the producer side of the queue is actually started by this line:\r\n```\r\n    threads = tf.train.start_queue_runners(coord=coord)\r\n```\r\n\r\nSo your subsequent call to `sess.run(... feed_dict={s: e})` isn't actually materializing a value in the placeholder.  I believe this implies that the argument to `tf.train.string_input_producer` really needs to be a tensor with a materialized value; you can't use a placeholder here, since there's no way to set that value before the queue producers start running.\r\n\r\nNote that \"datasets\" are now the preferred mechanism to handle input data, replacing \"queues\".  More info here; I believe they do support your use-case (look for `feedable iterator`):\r\nhttps://www.tensorflow.org/programmers_guide/datasets"}