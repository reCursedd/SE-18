{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/236972281", "html_url": "https://github.com/tensorflow/tensorflow/issues/3603#issuecomment-236972281", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3603", "id": 236972281, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjk3MjI4MQ==", "user": {"login": "prb12", "id": 11547801, "node_id": "MDQ6VXNlcjExNTQ3ODAx", "avatar_url": "https://avatars1.githubusercontent.com/u/11547801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prb12", "html_url": "https://github.com/prb12", "followers_url": "https://api.github.com/users/prb12/followers", "following_url": "https://api.github.com/users/prb12/following{/other_user}", "gists_url": "https://api.github.com/users/prb12/gists{/gist_id}", "starred_url": "https://api.github.com/users/prb12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prb12/subscriptions", "organizations_url": "https://api.github.com/users/prb12/orgs", "repos_url": "https://api.github.com/users/prb12/repos", "events_url": "https://api.github.com/users/prb12/events{/privacy}", "received_events_url": "https://api.github.com/users/prb12/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-02T17:07:30Z", "updated_at": "2016-08-02T17:07:30Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=26527\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rryan\">@rryan</a> Nop - these traces make it pretty clear that there is a perf regression in the Sum reduction kernel on GPU.  I think it would be useful to compare what CUDA launch parameters are being used for the reduction.  The quickest way to do that is to run the program under nvprof as follows:</p>\n<p><code>nvprof --print-gpu-trace program args....</code><br>\nor<br>\n<code>nvprof -o /tmp/nvprof.out program args...</code>  to produce a trace which can be loaded into <code>nvvp</code></p>\n<p>I think that the Eigen <code>FullReductionKernel</code> was probably changed btw 0.9 and 0.10.</p>", "body_text": "@rryan Nop - these traces make it pretty clear that there is a perf regression in the Sum reduction kernel on GPU.  I think it would be useful to compare what CUDA launch parameters are being used for the reduction.  The quickest way to do that is to run the program under nvprof as follows:\nnvprof --print-gpu-trace program args....\nor\nnvprof -o /tmp/nvprof.out program args...  to produce a trace which can be loaded into nvvp\nI think that the Eigen FullReductionKernel was probably changed btw 0.9 and 0.10.", "body": "@rryan Nop - these traces make it pretty clear that there is a perf regression in the Sum reduction kernel on GPU.  I think it would be useful to compare what CUDA launch parameters are being used for the reduction.  The quickest way to do that is to run the program under nvprof as follows:\n\n`nvprof --print-gpu-trace program args....`  \nor \n`nvprof -o /tmp/nvprof.out program args...`  to produce a trace which can be loaded into `nvvp`\n\nI think that the Eigen `FullReductionKernel` was probably changed btw 0.9 and 0.10.   \n"}