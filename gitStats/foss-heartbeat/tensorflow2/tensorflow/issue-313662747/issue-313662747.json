{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18456", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18456/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18456/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18456/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18456", "id": 313662747, "node_id": "MDU6SXNzdWUzMTM2NjI3NDc=", "number": 18456, "title": "Tensorflow failed when build with MSVC", "user": {"login": "shanshan0309", "id": 29445498, "node_id": "MDQ6VXNlcjI5NDQ1NDk4", "avatar_url": "https://avatars2.githubusercontent.com/u/29445498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shanshan0309", "html_url": "https://github.com/shanshan0309", "followers_url": "https://api.github.com/users/shanshan0309/followers", "following_url": "https://api.github.com/users/shanshan0309/following{/other_user}", "gists_url": "https://api.github.com/users/shanshan0309/gists{/gist_id}", "starred_url": "https://api.github.com/users/shanshan0309/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shanshan0309/subscriptions", "organizations_url": "https://api.github.com/users/shanshan0309/orgs", "repos_url": "https://api.github.com/users/shanshan0309/repos", "events_url": "https://api.github.com/users/shanshan0309/events{/privacy}", "received_events_url": "https://api.github.com/users/shanshan0309/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2018-04-12T10:15:35Z", "updated_at": "2018-07-20T23:20:15Z", "closed_at": "2018-07-20T23:20:15Z", "author_association": "NONE", "body_html": "<p>System information<br>\n\u2022\tHave I written custom code (as opposed to using a stock example script provided in TensorFlow):<br>\nN/A<br>\n\u2022\tOS Platform and Distribution (e.g., Linux Ubuntu 16.04):<br>\nWindows server 2016<br>\n\u2022\tTensorFlow installed from (source or binary):<br>\nSource<br>\n\u2022\tTensorFlow version (use command below):<br>\nMaster branch latest revison<br>\n\u2022\tPython version:<br>\nAnaconda 4.1.1 (Python 3.5 64-bit)<br>\n\u2022\tBazel version (if compiling from source):<br>\nN/A<br>\n\u2022\tGCC/Compiler version (if compiling from source):<br>\nVS2017 15.5.7<br>\n\u2022\tCUDA/cuDNN version:<br>\nNVidia CUDA Toolkit 8.0<br>\nNVidia CUDNN 5.1<br>\n\u2022\tGPU model and memory:<br>\nN/A<br>\n\u2022\tExact command to reproduce:<br>\nN/A</p>\n<p><strong>Describe the problem:</strong><br>\nTensorflow failed to build due to the error: No module named 'google'. This issue can be reproduced from master revision <a href=\"https://github.com/tensorflow/tensorflow/commit/90a3db9ff995634314227f0aacf4984d1eee752a\">90a3db9.</a> This should be tensorflow source issue, could you please help take a look at this? Thanks!</p>\n<p><strong>The failures like:</strong><br>\nThe whole log file please see attachment.<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/1902589/log_x64_build.log\">log_x64_build.log</a></p>\n<p>520&gt;CustomBuild:<br>\nTraceback (most recent call last):<br>\nFile \"D:/TensorFlow/build_x64/tf_python/tensorflow/tools/api/generator/create_python_api.py\", line 26, in <br>\nfrom tensorflow.python.util import tf_decorator<br>\nFile \"D:\\TensorFlow\\build_x64\\tf_python\\tensorflow\\python_<em>init</em>_.py\", line 52, in <br>\nfrom tensorflow.core.framework.graph_pb2 import *<br>\nFile \"D:\\TensorFlow\\build_x64\\tf_python\\tensorflow\\core\\framework\\graph_pb2.py\", line 6, in <br>\nfrom google.protobuf import descriptor as _descriptor<br>\nModuleNotFoundError: No module named 'google'<br>\n520&gt;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\Common7\\IDE\\VC\\VCTargets\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [D:\\TensorFlow\\build_x64\\tf_python_api.vcxproj]</p>\n<p><strong>Repro steps:</strong></p>\n<ol>\n<li>git clone <a href=\"https://github.com/tensorflow/tensorflow\">https://github.com/tensorflow/tensorflow</a> D:\\Tensorflow\\src</li>\n<li>pushd D:\\Tensorflow</li>\n<li>set PreferredToolArchitecture=x64</li>\n<li>set rel=Release</li>\n<li>set CUDNN_HOME=\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\cuda\"</li>\n<li>set PY=C:\\ProgramData\\Anaconda3</li>\n<li>set CL=/FS /permissive-</li>\n<li>cmake D:\\Tensorflow\\src\\tensorflow\\contrib\\cmake -A x64 -DCMAKE_BUILD_TYPE=Release -DPYTHON_EXECUTABLE=C:\\ProgramData\\Anaconda3\\python.exe -DPYTHON_LIBRARIES=C:\\ProgramData\\Anaconda3\\libs\\python36.lib -DSWIG_EXECUTABLE=D:\\Tensorflow\\swigwin-3.0.12\\swig.exe -Dtensorflow_BUILD_PYTHON_TESTS=ON -Dtensorflow_BUILD_SHARED_LIB=ON</li>\n<li>MSBuild /m /p:Configuration=Release;Platform=x64 /p:WindowsTargetPlatformVersion=10.0.16299.0 tensorflow.sln /t:Rebuild</li>\n</ol>", "body_text": "System information\n\u2022\tHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nN/A\n\u2022\tOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nWindows server 2016\n\u2022\tTensorFlow installed from (source or binary):\nSource\n\u2022\tTensorFlow version (use command below):\nMaster branch latest revison\n\u2022\tPython version:\nAnaconda 4.1.1 (Python 3.5 64-bit)\n\u2022\tBazel version (if compiling from source):\nN/A\n\u2022\tGCC/Compiler version (if compiling from source):\nVS2017 15.5.7\n\u2022\tCUDA/cuDNN version:\nNVidia CUDA Toolkit 8.0\nNVidia CUDNN 5.1\n\u2022\tGPU model and memory:\nN/A\n\u2022\tExact command to reproduce:\nN/A\nDescribe the problem:\nTensorflow failed to build due to the error: No module named 'google'. This issue can be reproduced from master revision 90a3db9. This should be tensorflow source issue, could you please help take a look at this? Thanks!\nThe failures like:\nThe whole log file please see attachment.\nlog_x64_build.log\n520>CustomBuild:\nTraceback (most recent call last):\nFile \"D:/TensorFlow/build_x64/tf_python/tensorflow/tools/api/generator/create_python_api.py\", line 26, in \nfrom tensorflow.python.util import tf_decorator\nFile \"D:\\TensorFlow\\build_x64\\tf_python\\tensorflow\\python_init_.py\", line 52, in \nfrom tensorflow.core.framework.graph_pb2 import *\nFile \"D:\\TensorFlow\\build_x64\\tf_python\\tensorflow\\core\\framework\\graph_pb2.py\", line 6, in \nfrom google.protobuf import descriptor as _descriptor\nModuleNotFoundError: No module named 'google'\n520>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\Common7\\IDE\\VC\\VCTargets\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [D:\\TensorFlow\\build_x64\\tf_python_api.vcxproj]\nRepro steps:\n\ngit clone https://github.com/tensorflow/tensorflow D:\\Tensorflow\\src\npushd D:\\Tensorflow\nset PreferredToolArchitecture=x64\nset rel=Release\nset CUDNN_HOME=\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\cuda\"\nset PY=C:\\ProgramData\\Anaconda3\nset CL=/FS /permissive-\ncmake D:\\Tensorflow\\src\\tensorflow\\contrib\\cmake -A x64 -DCMAKE_BUILD_TYPE=Release -DPYTHON_EXECUTABLE=C:\\ProgramData\\Anaconda3\\python.exe -DPYTHON_LIBRARIES=C:\\ProgramData\\Anaconda3\\libs\\python36.lib -DSWIG_EXECUTABLE=D:\\Tensorflow\\swigwin-3.0.12\\swig.exe -Dtensorflow_BUILD_PYTHON_TESTS=ON -Dtensorflow_BUILD_SHARED_LIB=ON\nMSBuild /m /p:Configuration=Release;Platform=x64 /p:WindowsTargetPlatformVersion=10.0.16299.0 tensorflow.sln /t:Rebuild", "body": " System information\r\n\u2022\tHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nN/A\r\n\u2022\tOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nWindows server 2016\r\n\u2022\tTensorFlow installed from (source or binary):\r\nSource\r\n\u2022\tTensorFlow version (use command below):\r\nMaster branch latest revison\r\n\u2022\tPython version:\r\nAnaconda 4.1.1 (Python 3.5 64-bit)\r\n\u2022\tBazel version (if compiling from source):\r\nN/A\r\n\u2022\tGCC/Compiler version (if compiling from source):\r\nVS2017 15.5.7\r\n\u2022\tCUDA/cuDNN version:\r\nNVidia CUDA Toolkit 8.0\r\nNVidia CUDNN 5.1\r\n\u2022\tGPU model and memory:\r\nN/A\r\n\u2022\tExact command to reproduce:\r\nN/A\r\n\r\n**Describe the problem:**\r\nTensorflow failed to build due to the error: No module named 'google'. This issue can be reproduced from master revision [90a3db9.](https://github.com/tensorflow/tensorflow/commit/90a3db9ff995634314227f0aacf4984d1eee752a) This should be tensorflow source issue, could you please help take a look at this? Thanks!\r\n\r\n**The failures like:**\r\nThe whole log file please see attachment.\r\n[log_x64_build.log](https://github.com/tensorflow/tensorflow/files/1902589/log_x64_build.log)\r\n\r\n 520>CustomBuild:\r\n         Traceback (most recent call last):\r\n           File \"D:/TensorFlow/build_x64/tf_python/tensorflow/tools/api/generator/create_python_api.py\", line 26, in <module>\r\n             from tensorflow.python.util import tf_decorator\r\n           File \"D:\\TensorFlow\\build_x64\\tf_python\\tensorflow\\python\\__init__.py\", line 52, in <module>\r\n             from tensorflow.core.framework.graph_pb2 import *\r\n           File \"D:\\TensorFlow\\build_x64\\tf_python\\tensorflow\\core\\framework\\graph_pb2.py\", line 6, in <module>\r\n             from google.protobuf import descriptor as _descriptor\r\n         ModuleNotFoundError: No module named 'google'\r\n   520>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\Common7\\IDE\\VC\\VCTargets\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [D:\\TensorFlow\\build_x64\\tf_python_api.vcxproj]\r\n\r\n**Repro steps:**\r\n\r\n1. git clone https://github.com/tensorflow/tensorflow D:\\Tensorflow\\src\r\n2. pushd D:\\Tensorflow\r\n3. set PreferredToolArchitecture=x64\r\n4. set rel=Release\r\n5. set CUDNN_HOME=\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\cuda\"\r\n6. set PY=C:\\ProgramData\\Anaconda3\r\n7. set CL=/FS /permissive-\r\n8. cmake D:\\Tensorflow\\src\\tensorflow\\contrib\\cmake -A x64 -DCMAKE_BUILD_TYPE=Release -DPYTHON_EXECUTABLE=C:\\ProgramData\\Anaconda3\\python.exe -DPYTHON_LIBRARIES=C:\\ProgramData\\Anaconda3\\libs\\python36.lib -DSWIG_EXECUTABLE=D:\\Tensorflow\\swigwin-3.0.12\\swig.exe -Dtensorflow_BUILD_PYTHON_TESTS=ON -Dtensorflow_BUILD_SHARED_LIB=ON\r\n9. MSBuild /m /p:Configuration=Release;Platform=x64 /p:WindowsTargetPlatformVersion=10.0.16299.0 tensorflow.sln /t:Rebuild\r\n"}