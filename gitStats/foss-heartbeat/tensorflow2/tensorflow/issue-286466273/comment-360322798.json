{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/360322798", "html_url": "https://github.com/tensorflow/tensorflow/pull/15906#issuecomment-360322798", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15906", "id": 360322798, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDMyMjc5OA==", "user": {"login": "tedhtchang", "id": 7155778, "node_id": "MDQ6VXNlcjcxNTU3Nzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/7155778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tedhtchang", "html_url": "https://github.com/tedhtchang", "followers_url": "https://api.github.com/users/tedhtchang/followers", "following_url": "https://api.github.com/users/tedhtchang/following{/other_user}", "gists_url": "https://api.github.com/users/tedhtchang/gists{/gist_id}", "starred_url": "https://api.github.com/users/tedhtchang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tedhtchang/subscriptions", "organizations_url": "https://api.github.com/users/tedhtchang/orgs", "repos_url": "https://api.github.com/users/tedhtchang/repos", "events_url": "https://api.github.com/users/tedhtchang/events{/privacy}", "received_events_url": "https://api.github.com/users/tedhtchang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-25T00:41:51Z", "updated_at": "2018-01-25T00:41:51Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20959853\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drpngx\">@drpngx</a> I don't think the change will alter the write path (i.e. let people create a v1 checkpoint). The new argument, <a href=\"https://github.com/tedhtchang/tensorflow/blob/4b04b1b89d8571ee36c5cae43079f5dc9e5367b0/tensorflow/python/tools/freeze_graph.py#L254\">checkpoint_version</a>, I introduce is to explicitly tell the <a href=\"https://github.com/tedhtchang/tensorflow/blob/4b04b1b89d8571ee36c5cae43079f5dc9e5367b0/tensorflow/python/tools/freeze_graph.py#L131\">saver.restore</a> to read the input_checkpoint as v1 format.<br>\nThe only write path I see is the <a href=\"https://github.com/tedhtchang/tensorflow/blob/4b04b1b89d8571ee36c5cae43079f5dc9e5367b0/tensorflow/python/tools/freeze_graph.py#L160\">output_graph_def</a> but that doesn't create checkpoint.</p>", "body_text": "Hi @drpngx I don't think the change will alter the write path (i.e. let people create a v1 checkpoint). The new argument, checkpoint_version, I introduce is to explicitly tell the saver.restore to read the input_checkpoint as v1 format.\nThe only write path I see is the output_graph_def but that doesn't create checkpoint.", "body": "Hi @drpngx I don't think the change will alter the write path (i.e. let people create a v1 checkpoint). The new argument, [checkpoint_version](https://github.com/tedhtchang/tensorflow/blob/4b04b1b89d8571ee36c5cae43079f5dc9e5367b0/tensorflow/python/tools/freeze_graph.py#L254), I introduce is to explicitly tell the [saver.restore](https://github.com/tedhtchang/tensorflow/blob/4b04b1b89d8571ee36c5cae43079f5dc9e5367b0/tensorflow/python/tools/freeze_graph.py#L131) to read the input_checkpoint as v1 format.\r\nThe only write path I see is the [output_graph_def](https://github.com/tedhtchang/tensorflow/blob/4b04b1b89d8571ee36c5cae43079f5dc9e5367b0/tensorflow/python/tools/freeze_graph.py#L160) but that doesn't create checkpoint."}