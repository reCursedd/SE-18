{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/433594611", "html_url": "https://github.com/tensorflow/tensorflow/issues/23311#issuecomment-433594611", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23311", "id": 433594611, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzU5NDYxMQ==", "user": {"login": "kartikitrak", "id": 40421273, "node_id": "MDQ6VXNlcjQwNDIxMjcz", "avatar_url": "https://avatars0.githubusercontent.com/u/40421273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kartikitrak", "html_url": "https://github.com/kartikitrak", "followers_url": "https://api.github.com/users/kartikitrak/followers", "following_url": "https://api.github.com/users/kartikitrak/following{/other_user}", "gists_url": "https://api.github.com/users/kartikitrak/gists{/gist_id}", "starred_url": "https://api.github.com/users/kartikitrak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kartikitrak/subscriptions", "organizations_url": "https://api.github.com/users/kartikitrak/orgs", "repos_url": "https://api.github.com/users/kartikitrak/repos", "events_url": "https://api.github.com/users/kartikitrak/events{/privacy}", "received_events_url": "https://api.github.com/users/kartikitrak/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-27T06:11:08Z", "updated_at": "2018-10-27T06:11:08Z", "author_association": "NONE", "body_html": "<p>I am  facing \" tensorflow.python.framework.errors_impl.InvalidArgumentError: indices[47] = 20000 is not in [0, 20000)\" error ,similar to what <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7460509\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/b-3-n\">@b-3-n</a>(you) was facing and I am unable to resolve it,please eleborate your solution if you have one.</p>\n<p>Mode : train</p>\n<p>Preparing data in working_dir/<br>\nCreating 3 layers of 256 units.<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"BestSplits\" device_type: \"CPU\"') for unknown op: BestSplits<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"CountExtremelyRandomStats\" device_type: \"CPU\"') for unknown op: CountExtremelyRandomStats<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"FinishedNodes\" device_type: \"CPU\"') for unknown op: FinishedNodes<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"GrowTree\" device_type: \"CPU\"') for unknown op: GrowTree<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"ReinterpretStringToFloat\" device_type: \"CPU\"') for unknown op: ReinterpretStringToFloat<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"SampleInputs\" device_type: \"CPU\"') for unknown op: SampleInputs<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"ScatterAddNdim\" device_type: \"CPU\"') for unknown op: ScatterAddNdim<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"TopNInsert\" device_type: \"CPU\"') for unknown op: TopNInsert<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"TopNRemove\" device_type: \"CPU\"') for unknown op: TopNRemove<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"TreePredictions\" device_type: \"CPU\"') for unknown op: TreePredictions<br>\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"UpdateFertileSlots\" device_type: \"CPU\"') for unknown op: UpdateFertileSlots<br>\nCreated model with fresh parameters.<br>\nReading development and training data (limit: 0).<br>\nreading data line 100000<br>\nTraceback (most recent call last):<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1022, in _do_call<br>\nreturn fn(*args)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1004, in _run_fn<br>\nstatus, run_metadata)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\contextlib.py\", line 66, in <strong>exit</strong><br>\nnext(self.gen)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 469, in raise_exception_on_not_ok_status<br>\npywrap_tensorflow.TF_GetCode(status))<br>\ntensorflow.python.framework.errors_impl.InvalidArgumentError: indices[47] = 20000 is not in [0, 20000)<br>\n[[Node: model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup = Gather[Tindices=DT_INT32, Tparams=DT_FLOAT, _class=[\"loc:@embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read\"], validate_indices=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read, model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/Reshape)]]</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):<br>\nFile \"execute.py\", line 352, in <br>\nFile \"execute.py\", line 180, in train<br>\nprevious_losses.append(loss)<br>\nFile \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 230, in step<br>\noutputs = session.run(output_feed, input_feed)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 767, in run<br>\nrun_metadata_ptr)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 965, in _run<br>\nfeed_dict_string, options, run_metadata)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1015, in _do_run<br>\ntarget_list, options, run_metadata)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1035, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors_impl.InvalidArgumentError: indices[47] = 20000 is not in [0, 20000)<br>\n[[Node: model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup = Gather[Tindices=DT_INT32, Tparams=DT_FLOAT, _class=[\"loc:@embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read\"], validate_indices=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read, model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/Reshape)]]</p>\n<p>Caused by op 'model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup', defined at:<br>\nFile \"execute.py\", line 352, in <br>\nFile \"execute.py\", line 148, in train<br>\nFile \"execute.py\", line 109, in create_model<br>\nprint(\"Created model with fresh parameters.\")<br>\nFile \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 158, in <strong>init</strong><br>\nsoftmax_loss_function=softmax_loss_function)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\legacy_seq2seq\\python\\ops\\seq2seq.py\", line 1180, in model_with_buckets<br>\ndecoder_inputs[:bucket[1]])<br>\nFile \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 157, in <br>\nlambda x, y: seq2seq_f(x, y, False),<br>\nFile \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 121, in seq2seq_f<br>\nfeed_previous=do_decode)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\legacy_seq2seq\\python\\ops\\seq2seq.py\", line 850, in embedding_attention_seq2seq<br>\nencoder_cell, encoder_inputs, dtype=dtype)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\rnn\\python\\ops\\core_rnn.py\", line 197, in static_rnn<br>\n(output, state) = call_cell()<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\rnn\\python\\ops\\core_rnn.py\", line 184, in <br>\ncall_cell = lambda: cell(input_, state)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\rnn\\python\\ops\\core_rnn_cell_impl.py\", line 595, in <strong>call</strong><br>\nembedding, array_ops.reshape(inputs, [-1]))<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\embedding_ops.py\", line 111, in embedding_lookup<br>\nvalidate_indices=validate_indices)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\gen_array_ops.py\", line 1359, in gather<br>\nvalidate_indices=validate_indices, name=name)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 763, in apply_op<br>\nop_def=op_def)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2395, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1264, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>\n<p>InvalidArgumentError (see above for traceback): indices[47] = 20000 is not in [0, 20000)<br>\n[[Node: model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup = Gather[Tindices=DT_INT32, Tparams=DT_FLOAT, _class=[\"loc:@embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read\"], validate_indices=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read, model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/Reshape)]]</p>", "body_text": "I am  facing \" tensorflow.python.framework.errors_impl.InvalidArgumentError: indices[47] = 20000 is not in [0, 20000)\" error ,similar to what @b-3-n(you) was facing and I am unable to resolve it,please eleborate your solution if you have one.\nMode : train\nPreparing data in working_dir/\nCreating 3 layers of 256 units.\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"BestSplits\" device_type: \"CPU\"') for unknown op: BestSplits\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"CountExtremelyRandomStats\" device_type: \"CPU\"') for unknown op: CountExtremelyRandomStats\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"FinishedNodes\" device_type: \"CPU\"') for unknown op: FinishedNodes\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"GrowTree\" device_type: \"CPU\"') for unknown op: GrowTree\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"ReinterpretStringToFloat\" device_type: \"CPU\"') for unknown op: ReinterpretStringToFloat\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"SampleInputs\" device_type: \"CPU\"') for unknown op: SampleInputs\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"ScatterAddNdim\" device_type: \"CPU\"') for unknown op: ScatterAddNdim\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"TopNInsert\" device_type: \"CPU\"') for unknown op: TopNInsert\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"TopNRemove\" device_type: \"CPU\"') for unknown op: TopNRemove\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"TreePredictions\" device_type: \"CPU\"') for unknown op: TreePredictions\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"UpdateFertileSlots\" device_type: \"CPU\"') for unknown op: UpdateFertileSlots\nCreated model with fresh parameters.\nReading development and training data (limit: 0).\nreading data line 100000\nTraceback (most recent call last):\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1022, in _do_call\nreturn fn(*args)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1004, in _run_fn\nstatus, run_metadata)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\contextlib.py\", line 66, in exit\nnext(self.gen)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 469, in raise_exception_on_not_ok_status\npywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors_impl.InvalidArgumentError: indices[47] = 20000 is not in [0, 20000)\n[[Node: model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup = Gather[Tindices=DT_INT32, Tparams=DT_FLOAT, _class=[\"loc:@embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read\"], validate_indices=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read, model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/Reshape)]]\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"execute.py\", line 352, in \nFile \"execute.py\", line 180, in train\nprevious_losses.append(loss)\nFile \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 230, in step\noutputs = session.run(output_feed, input_feed)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 767, in run\nrun_metadata_ptr)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 965, in _run\nfeed_dict_string, options, run_metadata)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1015, in _do_run\ntarget_list, options, run_metadata)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1035, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: indices[47] = 20000 is not in [0, 20000)\n[[Node: model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup = Gather[Tindices=DT_INT32, Tparams=DT_FLOAT, _class=[\"loc:@embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read\"], validate_indices=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read, model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/Reshape)]]\nCaused by op 'model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup', defined at:\nFile \"execute.py\", line 352, in \nFile \"execute.py\", line 148, in train\nFile \"execute.py\", line 109, in create_model\nprint(\"Created model with fresh parameters.\")\nFile \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 158, in init\nsoftmax_loss_function=softmax_loss_function)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\legacy_seq2seq\\python\\ops\\seq2seq.py\", line 1180, in model_with_buckets\ndecoder_inputs[:bucket[1]])\nFile \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 157, in \nlambda x, y: seq2seq_f(x, y, False),\nFile \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 121, in seq2seq_f\nfeed_previous=do_decode)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\legacy_seq2seq\\python\\ops\\seq2seq.py\", line 850, in embedding_attention_seq2seq\nencoder_cell, encoder_inputs, dtype=dtype)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\rnn\\python\\ops\\core_rnn.py\", line 197, in static_rnn\n(output, state) = call_cell()\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\rnn\\python\\ops\\core_rnn.py\", line 184, in \ncall_cell = lambda: cell(input_, state)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\rnn\\python\\ops\\core_rnn_cell_impl.py\", line 595, in call\nembedding, array_ops.reshape(inputs, [-1]))\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\embedding_ops.py\", line 111, in embedding_lookup\nvalidate_indices=validate_indices)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\gen_array_ops.py\", line 1359, in gather\nvalidate_indices=validate_indices, name=name)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 763, in apply_op\nop_def=op_def)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2395, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1264, in init\nself._traceback = _extract_stack()\nInvalidArgumentError (see above for traceback): indices[47] = 20000 is not in [0, 20000)\n[[Node: model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup = Gather[Tindices=DT_INT32, Tparams=DT_FLOAT, _class=[\"loc:@embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read\"], validate_indices=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read, model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/Reshape)]]", "body": "I am  facing \" tensorflow.python.framework.errors_impl.InvalidArgumentError: indices[47] = 20000 is not in [0, 20000)\" error ,similar to what @b-3-n(you) was facing and I am unable to resolve it,please eleborate your solution if you have one.\r\n\r\nMode : train\r\n\r\nPreparing data in working_dir/\r\nCreating 3 layers of 256 units.\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"BestSplits\" device_type: \"CPU\"') for unknown op: BestSplits\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"CountExtremelyRandomStats\" device_type: \"CPU\"') for unknown op: CountExtremelyRandomStats\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"FinishedNodes\" device_type: \"CPU\"') for unknown op: FinishedNodes\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"GrowTree\" device_type: \"CPU\"') for unknown op: GrowTree\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"ReinterpretStringToFloat\" device_type: \"CPU\"') for unknown op: ReinterpretStringToFloat\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"SampleInputs\" device_type: \"CPU\"') for unknown op: SampleInputs\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"ScatterAddNdim\" device_type: \"CPU\"') for unknown op: ScatterAddNdim\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"TopNInsert\" device_type: \"CPU\"') for unknown op: TopNInsert\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"TopNRemove\" device_type: \"CPU\"') for unknown op: TopNRemove\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"TreePredictions\" device_type: \"CPU\"') for unknown op: TreePredictions\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\cpu\\os\\windows\\tensorflow\\core\\framework\\op_kernel.cc:943] OpKernel ('op: \"UpdateFertileSlots\" device_type: \"CPU\"') for unknown op: UpdateFertileSlots\r\nCreated model with fresh parameters.\r\nReading development and training data (limit: 0).\r\n  reading data line 100000\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1022, in _do_call\r\n    return fn(*args)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1004, in _run_fn\r\n    status, run_metadata)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\contextlib.py\", line 66, in __exit__\r\n    next(self.gen)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 469, in raise_exception_on_not_ok_status\r\n    pywrap_tensorflow.TF_GetCode(status))\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: indices[47] = 20000 is not in [0, 20000)\r\n         [[Node: model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup = Gather[Tindices=DT_INT32, Tparams=DT_FLOAT, _class=[\"loc:@embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read\"], validate_indices=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read, model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/Reshape)]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"execute.py\", line 352, in <module>\r\n  File \"execute.py\", line 180, in train\r\n    previous_losses.append(loss)\r\n  File \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 230, in step\r\n    outputs = session.run(output_feed, input_feed)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 767, in run\r\n    run_metadata_ptr)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 965, in _run\r\n    feed_dict_string, options, run_metadata)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1015, in _do_run\r\n    target_list, options, run_metadata)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1035, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: indices[47] = 20000 is not in [0, 20000)\r\n         [[Node: model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup = Gather[Tindices=DT_INT32, Tparams=DT_FLOAT, _class=[\"loc:@embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read\"], validate_indices=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read, model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/Reshape)]]\r\n\r\nCaused by op 'model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup', defined at:\r\n  File \"execute.py\", line 352, in <module>\r\n  File \"execute.py\", line 148, in train\r\n  File \"execute.py\", line 109, in create_model\r\n    print(\"Created model with fresh parameters.\")\r\n  File \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 158, in __init__\r\n    softmax_loss_function=softmax_loss_function)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\legacy_seq2seq\\python\\ops\\seq2seq.py\", line 1180, in model_with_buckets\r\n    decoder_inputs[:bucket[1]])\r\n  File \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 157, in <lambda>\r\n    lambda x, y: seq2seq_f(x, y, False),\r\n  File \"C:\\Users\\makke\\ml\\tensor\\seq2seq_model.py\", line 121, in seq2seq_f\r\n    feed_previous=do_decode)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\legacy_seq2seq\\python\\ops\\seq2seq.py\", line 850, in embedding_attention_seq2seq\r\n    encoder_cell, encoder_inputs, dtype=dtype)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\rnn\\python\\ops\\core_rnn.py\", line 197, in static_rnn\r\n    (output, state) = call_cell()\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\rnn\\python\\ops\\core_rnn.py\", line 184, in <lambda>\r\n    call_cell = lambda: cell(input_, state)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\contrib\\rnn\\python\\ops\\core_rnn_cell_impl.py\", line 595, in __call__\r\n    embedding, array_ops.reshape(inputs, [-1]))\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\embedding_ops.py\", line 111, in embedding_lookup\r\n    validate_indices=validate_indices)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\ops\\gen_array_ops.py\", line 1359, in gather\r\n    validate_indices=validate_indices, name=name)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 763, in apply_op\r\n    op_def=op_def)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2395, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"C:\\Users\\makke\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1264, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nInvalidArgumentError (see above for traceback): indices[47] = 20000 is not in [0, 20000)\r\n         [[Node: model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/embedding_lookup = Gather[Tindices=DT_INT32, Tparams=DT_FLOAT, _class=[\"loc:@embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read\"], validate_indices=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding_attention_seq2seq/rnn/embedding_wrapper/embedding/read, model_with_buckets/embedding_attention_seq2seq_2/rnn/embedding_wrapper_14/Reshape)]]\r\n"}