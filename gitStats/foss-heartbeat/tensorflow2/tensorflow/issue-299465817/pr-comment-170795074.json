{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/170795074", "pull_request_review_id": 99535538, "id": 170795074, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MDc5NTA3NA==", "diff_hunk": "@@ -0,0 +1,28 @@\n+def get_variable_values(layer, graph=tf.get_default_graph()):\n+    \"\"\" Fetches Variables of the given layer\n+    Args: \n+        layer: layer of the model\n+    Returns:\n+        A Dictionary containing Kernels and Biases.\n+        \n+        example:\n+            param_dict = get_variables(layer, graph)\n+        \n+    \"\"\"\n+\n+    M = []\n+    P = []\n+    param_dict = {}\n+    P_Wb = {}\n+\n+    for i in tf.get_collection(tf.GraphKeys.TRAINABLE_VARIABLES, scope=layer):\n+        m = re.search(r'\\w+\\/\\w+\\:\\d', str(i)).group(0)\n+        M.append(m)\n+        v = m.split(\":\")[0]\n+        param_type = ''.join(v.split(\"/\")[1])\n+        P.append(param_type)\n+        print((\"saving: {}\".format(m)))\n+    param_dict[P[0]] = graph.get_tensor_by_name(M[0]).eval()  # Weights", "path": "tensorflow/python/util/get_variable_values.py", "position": 25, "original_position": 25, "commit_id": "9055bd4a081bfa2f4f86de073bbd88b0df26524c", "original_commit_id": "9055bd4a081bfa2f4f86de073bbd88b0df26524c", "user": {"login": "protoget", "id": 5117188, "node_id": "MDQ6VXNlcjUxMTcxODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5117188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/protoget", "html_url": "https://github.com/protoget", "followers_url": "https://api.github.com/users/protoget/followers", "following_url": "https://api.github.com/users/protoget/following{/other_user}", "gists_url": "https://api.github.com/users/protoget/gists{/gist_id}", "starred_url": "https://api.github.com/users/protoget/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/protoget/subscriptions", "organizations_url": "https://api.github.com/users/protoget/orgs", "repos_url": "https://api.github.com/users/protoget/repos", "events_url": "https://api.github.com/users/protoget/events{/privacy}", "received_events_url": "https://api.github.com/users/protoget/received_events", "type": "User", "site_admin": false}, "body": "I dont' think this would work in a non-interactive session.", "created_at": "2018-02-27T01:55:10Z", "updated_at": "2018-02-27T01:55:14Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/17198#discussion_r170795074", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/17198", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/170795074"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/17198#discussion_r170795074"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/17198"}}, "body_html": "<p>I dont' think this would work in a non-interactive session.</p>", "body_text": "I dont' think this would work in a non-interactive session."}