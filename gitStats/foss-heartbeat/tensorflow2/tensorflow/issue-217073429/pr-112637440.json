{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8728", "id": 112637440, "node_id": "MDExOlB1bGxSZXF1ZXN0MTEyNjM3NDQw", "html_url": "https://github.com/tensorflow/tensorflow/pull/8728", "diff_url": "https://github.com/tensorflow/tensorflow/pull/8728.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/8728.patch", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8728", "number": 8728, "state": "closed", "locked": false, "title": "PollZmqOp for network communication", "user": {"login": "tillahoffmann", "id": 966348, "node_id": "MDQ6VXNlcjk2NjM0OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/966348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tillahoffmann", "html_url": "https://github.com/tillahoffmann", "followers_url": "https://api.github.com/users/tillahoffmann/followers", "following_url": "https://api.github.com/users/tillahoffmann/following{/other_user}", "gists_url": "https://api.github.com/users/tillahoffmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/tillahoffmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tillahoffmann/subscriptions", "organizations_url": "https://api.github.com/users/tillahoffmann/orgs", "repos_url": "https://api.github.com/users/tillahoffmann/repos", "events_url": "https://api.github.com/users/tillahoffmann/events{/privacy}", "received_events_url": "https://api.github.com/users/tillahoffmann/received_events", "type": "User", "site_admin": false}, "body": "This PR adds `PollZmqOp` for retrieving data over the network (fixes #4836, ref #7951) . A few points for discussion:\r\n\r\n* ZeroMQ is LGPL but has some exceptions which seem to allow static linking. Is that a problem?\r\n* The `Compute` method of the Op is ensured to be thread safe by blocking. This could be improved by having a dictionary of sockets keyed by thread id or a connection pool. However, I have never needed concurrent calls to `Compute` in my work.\r\n* I'm not very familiar with `bazel` so there may be some problems in the dependencies.\r\n\r\nThis op allows for distributed training data generation to minimize the CPU workload on the training machine. For example, one or more machines can generate training data which can be retrieved by a training machine using the op. An example can be found in the test.", "created_at": "2017-03-26T18:07:43Z", "updated_at": "2017-05-15T15:25:05Z", "closed_at": "2017-05-02T00:08:17Z", "merged_at": null, "merge_commit_sha": "d677ba1d5de2a73afecff8915197e307a8c2ec1b", "assignee": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "milestone": null, "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8728/commits", "review_comments_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8728/comments", "review_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8728/comments", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/d70ab8bd61f5dae7ab26713b4f12f9231b244f82", "head": {"label": "tillahoffmann:zmq", "ref": "zmq", "sha": "d70ab8bd61f5dae7ab26713b4f12f9231b244f82", "user": {"login": "tillahoffmann", "id": 966348, "node_id": "MDQ6VXNlcjk2NjM0OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/966348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tillahoffmann", "html_url": "https://github.com/tillahoffmann", "followers_url": "https://api.github.com/users/tillahoffmann/followers", "following_url": "https://api.github.com/users/tillahoffmann/following{/other_user}", "gists_url": "https://api.github.com/users/tillahoffmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/tillahoffmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tillahoffmann/subscriptions", "organizations_url": "https://api.github.com/users/tillahoffmann/orgs", "repos_url": "https://api.github.com/users/tillahoffmann/repos", "events_url": "https://api.github.com/users/tillahoffmann/events{/privacy}", "received_events_url": "https://api.github.com/users/tillahoffmann/received_events", "type": "User", "site_admin": false}, "repo": {"id": 55236016, "node_id": "MDEwOlJlcG9zaXRvcnk1NTIzNjAxNg==", "name": "tensorflow", "full_name": "tillahoffmann/tensorflow", "private": false, "owner": {"login": "tillahoffmann", "id": 966348, "node_id": "MDQ6VXNlcjk2NjM0OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/966348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tillahoffmann", "html_url": "https://github.com/tillahoffmann", "followers_url": "https://api.github.com/users/tillahoffmann/followers", "following_url": "https://api.github.com/users/tillahoffmann/following{/other_user}", "gists_url": "https://api.github.com/users/tillahoffmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/tillahoffmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tillahoffmann/subscriptions", "organizations_url": "https://api.github.com/users/tillahoffmann/orgs", "repos_url": "https://api.github.com/users/tillahoffmann/repos", "events_url": "https://api.github.com/users/tillahoffmann/events{/privacy}", "received_events_url": "https://api.github.com/users/tillahoffmann/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/tillahoffmann/tensorflow", "description": "Computation using data flow graphs for scalable machine learning", "fork": true, "url": "https://api.github.com/repos/tillahoffmann/tensorflow", "forks_url": "https://api.github.com/repos/tillahoffmann/tensorflow/forks", "keys_url": "https://api.github.com/repos/tillahoffmann/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/tillahoffmann/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/tillahoffmann/tensorflow/teams", "hooks_url": "https://api.github.com/repos/tillahoffmann/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/tillahoffmann/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/tillahoffmann/tensorflow/events", "assignees_url": "https://api.github.com/repos/tillahoffmann/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/tillahoffmann/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/tillahoffmann/tensorflow/tags", "blobs_url": "https://api.github.com/repos/tillahoffmann/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/tillahoffmann/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/tillahoffmann/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/tillahoffmann/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/tillahoffmann/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/tillahoffmann/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/tillahoffmann/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/tillahoffmann/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/tillahoffmann/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/tillahoffmann/tensorflow/subscription", "commits_url": "https://api.github.com/repos/tillahoffmann/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/tillahoffmann/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/tillahoffmann/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/tillahoffmann/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/tillahoffmann/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/tillahoffmann/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/tillahoffmann/tensorflow/merges", "archive_url": "https://api.github.com/repos/tillahoffmann/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/tillahoffmann/tensorflow/downloads", "issues_url": "https://api.github.com/repos/tillahoffmann/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/tillahoffmann/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/tillahoffmann/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/tillahoffmann/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/tillahoffmann/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/tillahoffmann/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/tillahoffmann/tensorflow/deployments", "created_at": "2016-04-01T13:53:22Z", "updated_at": "2017-05-22T11:10:51Z", "pushed_at": "2017-10-11T16:23:52Z", "git_url": "git://github.com/tillahoffmann/tensorflow.git", "ssh_url": "git@github.com:tillahoffmann/tensorflow.git", "clone_url": "https://github.com/tillahoffmann/tensorflow.git", "svn_url": "https://github.com/tillahoffmann/tensorflow", "homepage": "http://tensorflow.org", "size": 124990, "stargazers_count": 0, "watchers_count": 0, "language": "C++", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 0, "mirror_url": null, "archived": false, "open_issues_count": 1, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 0, "open_issues": 1, "watchers": 0, "default_branch": "master"}}, "base": {"label": "tensorflow:master", "ref": "master", "sha": "a9b7946540a27cc53bbdc9db1564196979fe30ae", "user": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 45717250, "node_id": "MDEwOlJlcG9zaXRvcnk0NTcxNzI1MA==", "name": "tensorflow", "full_name": "tensorflow/tensorflow", "private": false, "owner": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/tensorflow/tensorflow", "description": "An Open Source Machine Learning Framework for Everyone", "fork": false, "url": "https://api.github.com/repos/tensorflow/tensorflow", "forks_url": "https://api.github.com/repos/tensorflow/tensorflow/forks", "keys_url": "https://api.github.com/repos/tensorflow/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/tensorflow/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/tensorflow/tensorflow/teams", "hooks_url": "https://api.github.com/repos/tensorflow/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/events", "assignees_url": "https://api.github.com/repos/tensorflow/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/tensorflow/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/tensorflow/tensorflow/tags", "blobs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/tensorflow/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/tensorflow/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/tensorflow/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/tensorflow/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/tensorflow/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/tensorflow/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/tensorflow/tensorflow/subscription", "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/tensorflow/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/tensorflow/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/tensorflow/tensorflow/merges", "archive_url": "https://api.github.com/repos/tensorflow/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/tensorflow/tensorflow/downloads", "issues_url": "https://api.github.com/repos/tensorflow/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/tensorflow/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/tensorflow/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/tensorflow/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/tensorflow/tensorflow/deployments", "created_at": "2015-11-07T01:19:20Z", "updated_at": "2018-11-24T19:34:08Z", "pushed_at": "2018-11-24T18:40:19Z", "git_url": "git://github.com/tensorflow/tensorflow.git", "ssh_url": "git@github.com:tensorflow/tensorflow.git", "clone_url": "https://github.com/tensorflow/tensorflow.git", "svn_url": "https://github.com/tensorflow/tensorflow", "homepage": "https://tensorflow.org", "size": 284546, "stargazers_count": 115176, "watchers_count": 115176, "language": "C++", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 69944, "mirror_url": null, "archived": false, "open_issues_count": 1759, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 69944, "open_issues": 1759, "watchers": 115176, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8728"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/8728"}, "issue": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/8728"}, "comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/8728/comments"}, "review_comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8728/comments"}, "review_comment": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8728/commits"}, "statuses": {"href": "https://api.github.com/repos/tensorflow/tensorflow/statuses/d70ab8bd61f5dae7ab26713b4f12f9231b244f82"}}, "author_association": "CONTRIBUTOR", "body_html": "<p>This PR adds <code>PollZmqOp</code> for retrieving data over the network (<span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #4836.\">fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"181790801\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4836\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4836/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4836\">#4836</a>, ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"210920003\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7951\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/7951/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/7951\">#7951</a>) . A few points for discussion:</p>\n<ul>\n<li>ZeroMQ is LGPL but has some exceptions which seem to allow static linking. Is that a problem?</li>\n<li>The <code>Compute</code> method of the Op is ensured to be thread safe by blocking. This could be improved by having a dictionary of sockets keyed by thread id or a connection pool. However, I have never needed concurrent calls to <code>Compute</code> in my work.</li>\n<li>I'm not very familiar with <code>bazel</code> so there may be some problems in the dependencies.</li>\n</ul>\n<p>This op allows for distributed training data generation to minimize the CPU workload on the training machine. For example, one or more machines can generate training data which can be retrieved by a training machine using the op. An example can be found in the test.</p>", "body_text": "This PR adds PollZmqOp for retrieving data over the network (fixes #4836, ref #7951) . A few points for discussion:\n\nZeroMQ is LGPL but has some exceptions which seem to allow static linking. Is that a problem?\nThe Compute method of the Op is ensured to be thread safe by blocking. This could be improved by having a dictionary of sockets keyed by thread id or a connection pool. However, I have never needed concurrent calls to Compute in my work.\nI'm not very familiar with bazel so there may be some problems in the dependencies.\n\nThis op allows for distributed training data generation to minimize the CPU workload on the training machine. For example, one or more machines can generate training data which can be retrieved by a training machine using the op. An example can be found in the test.", "merged": false, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": null, "comments": 16, "review_comments": 13, "maintainer_can_modify": false, "commits": 17, "additions": 610, "deletions": 0, "changed_files": 9}