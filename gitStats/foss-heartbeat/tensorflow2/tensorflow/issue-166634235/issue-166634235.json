{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3421", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3421/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3421/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3421/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3421", "id": 166634235, "node_id": "MDU6SXNzdWUxNjY2MzQyMzU=", "number": 3421, "title": "Scope Reusability in tf.nn.dynamic_rnn", "user": {"login": "sunilraiyani", "id": 7737334, "node_id": "MDQ6VXNlcjc3MzczMzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/7737334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunilraiyani", "html_url": "https://github.com/sunilraiyani", "followers_url": "https://api.github.com/users/sunilraiyani/followers", "following_url": "https://api.github.com/users/sunilraiyani/following{/other_user}", "gists_url": "https://api.github.com/users/sunilraiyani/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunilraiyani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunilraiyani/subscriptions", "organizations_url": "https://api.github.com/users/sunilraiyani/orgs", "repos_url": "https://api.github.com/users/sunilraiyani/repos", "events_url": "https://api.github.com/users/sunilraiyani/events{/privacy}", "received_events_url": "https://api.github.com/users/sunilraiyani/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-07-20T17:13:50Z", "updated_at": "2016-08-17T16:47:17Z", "closed_at": "2016-08-17T16:47:14Z", "author_association": "NONE", "body_html": "<p>I am getting this error when I try to run the code for RNN:</p>\n<p>ValueError: Variable RNN/MultiRNNCell/Cell0/BasicLSTMCell/Linear/Matrix does not exist, disallowed. Did you mean to set reuse=None in VarScope?</p>\n<p>Here is a snippet of my code for RNN:</p>\n<p>lstm_cell = tf.nn.rnn_cell.BasicLSTMCell(self._num_hidden, forget_bias=0.0)<br>\ncell = tf.nn.rnn_cell.MultiRNNCell([lstm_cell] * self._num_layers)<br>\nself._initial_state = cell.zero_state(batch_size, tf.float32)</p>\n<p>inputs=[tf.reshape(data_,[batch_size,num_cat]) for data_ in tf.split(0,max_length,tf.transpose(data,[1,0,2]))]<br>\noutput,_=tf.nn.dynamic_rnn(cell,inputs,initial_state=self._initial_state,sequence_length=self.length)</p>\n<p>The error seems to be in line:<br>\noutput,_=tf.nn.dynamic_rnn(cell,inputs,initial_state=self._initial_state,sequence_length=self.length)</p>\n<p>My input is a tensor with dimensions : batch_size x max_ seq_length x feature_vector_size<br>\nI am reshaping it to a list of dimensions : batch_size x feature_vector_size</p>\n<p>I am assuming that the reusability of scope is handled internally by tf.nn.dynamic_rnn function. Any idea why this would happen? What could be the solution?</p>", "body_text": "I am getting this error when I try to run the code for RNN:\nValueError: Variable RNN/MultiRNNCell/Cell0/BasicLSTMCell/Linear/Matrix does not exist, disallowed. Did you mean to set reuse=None in VarScope?\nHere is a snippet of my code for RNN:\nlstm_cell = tf.nn.rnn_cell.BasicLSTMCell(self._num_hidden, forget_bias=0.0)\ncell = tf.nn.rnn_cell.MultiRNNCell([lstm_cell] * self._num_layers)\nself._initial_state = cell.zero_state(batch_size, tf.float32)\ninputs=[tf.reshape(data_,[batch_size,num_cat]) for data_ in tf.split(0,max_length,tf.transpose(data,[1,0,2]))]\noutput,_=tf.nn.dynamic_rnn(cell,inputs,initial_state=self._initial_state,sequence_length=self.length)\nThe error seems to be in line:\noutput,_=tf.nn.dynamic_rnn(cell,inputs,initial_state=self._initial_state,sequence_length=self.length)\nMy input is a tensor with dimensions : batch_size x max_ seq_length x feature_vector_size\nI am reshaping it to a list of dimensions : batch_size x feature_vector_size\nI am assuming that the reusability of scope is handled internally by tf.nn.dynamic_rnn function. Any idea why this would happen? What could be the solution?", "body": "I am getting this error when I try to run the code for RNN:\n\nValueError: Variable RNN/MultiRNNCell/Cell0/BasicLSTMCell/Linear/Matrix does not exist, disallowed. Did you mean to set reuse=None in VarScope?\n\nHere is a snippet of my code for RNN:\n\nlstm_cell = tf.nn.rnn_cell.BasicLSTMCell(self._num_hidden, forget_bias=0.0)\ncell = tf.nn.rnn_cell.MultiRNNCell([lstm_cell] \\* self._num_layers)\nself._initial_state = cell.zero_state(batch_size, tf.float32)\n\ninputs=[tf.reshape(data_,[batch_size,num_cat]) for data_ in tf.split(0,max_length,tf.transpose(data,[1,0,2]))]\noutput,_=tf.nn.dynamic_rnn(cell,inputs,initial_state=self._initial_state,sequence_length=self.length)\n\nThe error seems to be in line:\noutput,_=tf.nn.dynamic_rnn(cell,inputs,initial_state=self._initial_state,sequence_length=self.length)\n\nMy input is a tensor with dimensions : batch_size x max_ seq_length x feature_vector_size\nI am reshaping it to a list of dimensions : batch_size x feature_vector_size\n\nI am assuming that the reusability of scope is handled internally by tf.nn.dynamic_rnn function. Any idea why this would happen? What could be the solution?\n"}