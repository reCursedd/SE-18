{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4086", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4086/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4086/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4086/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4086", "id": 173691640, "node_id": "MDU6SXNzdWUxNzM2OTE2NDA=", "number": 4086, "title": "Exception when restore DNN model", "user": {"login": "kinddevil", "id": 1546275, "node_id": "MDQ6VXNlcjE1NDYyNzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1546275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinddevil", "html_url": "https://github.com/kinddevil", "followers_url": "https://api.github.com/users/kinddevil/followers", "following_url": "https://api.github.com/users/kinddevil/following{/other_user}", "gists_url": "https://api.github.com/users/kinddevil/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinddevil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinddevil/subscriptions", "organizations_url": "https://api.github.com/users/kinddevil/orgs", "repos_url": "https://api.github.com/users/kinddevil/repos", "events_url": "https://api.github.com/users/kinddevil/events{/privacy}", "received_events_url": "https://api.github.com/users/kinddevil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-08-29T03:54:31Z", "updated_at": "2016-09-01T19:55:42Z", "closed_at": "2016-09-01T19:55:42Z", "author_association": "NONE", "body_html": "<p>I am using skflow of tensorflow(0.10.0rc0), I create a TensorFlowDNNRegressor model and saved to local, when I try to restore it gives me exception:<br>\nnew_regressor = skflow.TensorFlowEstimator.restore('/Users/yichen.wei/Desktop/xiaoxiang_ml/model') File \"/Users/yichen.wei/project/vscienv/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 326, in restore raise ValueError(\"Restore folder doesn't contain model definition.\").</p>\n<p>Then I add a file model.def to my model directory and restore again it gives me<br>\nnew_regressor = skflow.TensorFlowEstimator.restore('/Users/yichen.wei/Desktop/xiaoxiang_ml/model') File \"/Users/yichen.wei/project/vscienv/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 331, in restore model_def = json.loads(fmodel.read()) File \"/usr/local/Cellar/python3/3.5.2/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/<strong>init</strong>.py\", line 319, in loads return _default_decoder.decode(s) File \"/usr/local/Cellar/python3/3.5.2/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/decoder.py\", line 339, in decode obj, end = self.raw_decode(s, idx=_w(s, 0).end()) File \"/usr/local/Cellar/python3/3.5.2/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/decoder.py\", line 357, in raw_decode raise JSONDecodeError(\"Expecting value\", s, err.value) from None json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)</p>\n<p>It seems need json model definition in model.def file but it didn't create when saving.<br>\nCould someone help with this issue? Thanks!</p>\n<p>PS: dir of saved model :<br>\ncheckpoint<br>\nevents.out.tfevents<br>\ngraph.pbtxt<br>\nmodel.ckpt-xxxx-xxxxx-of-xxxxx<br>\nmodel.ckpt-xxxx.meta</p>\n<p>env:<br>\nOS X EI Capitan 10.11.6<br>\nPython: 3.5.2<br>\ntensorflow: 0.10.0rc0</p>", "body_text": "I am using skflow of tensorflow(0.10.0rc0), I create a TensorFlowDNNRegressor model and saved to local, when I try to restore it gives me exception:\nnew_regressor = skflow.TensorFlowEstimator.restore('/Users/yichen.wei/Desktop/xiaoxiang_ml/model') File \"/Users/yichen.wei/project/vscienv/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 326, in restore raise ValueError(\"Restore folder doesn't contain model definition.\").\nThen I add a file model.def to my model directory and restore again it gives me\nnew_regressor = skflow.TensorFlowEstimator.restore('/Users/yichen.wei/Desktop/xiaoxiang_ml/model') File \"/Users/yichen.wei/project/vscienv/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 331, in restore model_def = json.loads(fmodel.read()) File \"/usr/local/Cellar/python3/3.5.2/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/init.py\", line 319, in loads return _default_decoder.decode(s) File \"/usr/local/Cellar/python3/3.5.2/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/decoder.py\", line 339, in decode obj, end = self.raw_decode(s, idx=_w(s, 0).end()) File \"/usr/local/Cellar/python3/3.5.2/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/decoder.py\", line 357, in raw_decode raise JSONDecodeError(\"Expecting value\", s, err.value) from None json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\nIt seems need json model definition in model.def file but it didn't create when saving.\nCould someone help with this issue? Thanks!\nPS: dir of saved model :\ncheckpoint\nevents.out.tfevents\ngraph.pbtxt\nmodel.ckpt-xxxx-xxxxx-of-xxxxx\nmodel.ckpt-xxxx.meta\nenv:\nOS X EI Capitan 10.11.6\nPython: 3.5.2\ntensorflow: 0.10.0rc0", "body": "I am using skflow of tensorflow(0.10.0rc0), I create a TensorFlowDNNRegressor model and saved to local, when I try to restore it gives me exception:\nnew_regressor = skflow.TensorFlowEstimator.restore('/Users/yichen.wei/Desktop/xiaoxiang_ml/model') File \"/Users/yichen.wei/project/vscienv/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 326, in restore raise ValueError(\"Restore folder doesn't contain model definition.\").\n\nThen I add a file model.def to my model directory and restore again it gives me\nnew_regressor = skflow.TensorFlowEstimator.restore('/Users/yichen.wei/Desktop/xiaoxiang_ml/model') File \"/Users/yichen.wei/project/vscienv/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/base.py\", line 331, in restore model_def = json.loads(fmodel.read()) File \"/usr/local/Cellar/python3/3.5.2/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/**init**.py\", line 319, in loads return _default_decoder.decode(s) File \"/usr/local/Cellar/python3/3.5.2/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/decoder.py\", line 339, in decode obj, end = self.raw_decode(s, idx=_w(s, 0).end()) File \"/usr/local/Cellar/python3/3.5.2/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/decoder.py\", line 357, in raw_decode raise JSONDecodeError(\"Expecting value\", s, err.value) from None json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nIt seems need json model definition in model.def file but it didn't create when saving.\nCould someone help with this issue? Thanks!\n\nPS: dir of saved model :\ncheckpoint\nevents.out.tfevents\ngraph.pbtxt\nmodel.ckpt-xxxx-xxxxx-of-xxxxx\nmodel.ckpt-xxxx.meta\n\nenv: \nOS X EI Capitan 10.11.6\nPython: 3.5.2\ntensorflow: 0.10.0rc0\n"}