{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7207", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7207/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7207/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7207/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7207", "id": 204774481, "node_id": "MDU6SXNzdWUyMDQ3NzQ0ODE=", "number": 7207, "title": "libcupti.so missing from Docker.gpu", "user": {"login": "thesuperzapper", "id": 5735406, "node_id": "MDQ6VXNlcjU3MzU0MDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/5735406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thesuperzapper", "html_url": "https://github.com/thesuperzapper", "followers_url": "https://api.github.com/users/thesuperzapper/followers", "following_url": "https://api.github.com/users/thesuperzapper/following{/other_user}", "gists_url": "https://api.github.com/users/thesuperzapper/gists{/gist_id}", "starred_url": "https://api.github.com/users/thesuperzapper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thesuperzapper/subscriptions", "organizations_url": "https://api.github.com/users/thesuperzapper/orgs", "repos_url": "https://api.github.com/users/thesuperzapper/repos", "events_url": "https://api.github.com/users/thesuperzapper/events{/privacy}", "received_events_url": "https://api.github.com/users/thesuperzapper/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-02T03:36:50Z", "updated_at": "2017-02-06T07:23:46Z", "closed_at": "2017-02-06T07:23:46Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>Environment info:</h3>\n<p>The latest docker GPU image.<br>\n<code>gcr.io/tensorflow/tensorflow:latest-gpu</code></p>\n<h3>Issue:</h3>\n<p>While running <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/tutorials/mnist/mnist_with_summaries.py\">mnist_with_summaries.py</a>, you get<br>\n<code>tensorflow/stream_executor/dso_loader.cc:119] Couldn't open CUDA library libcupti.so. LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:</code></p>\n<h3>Temporary Solution:</h3>\n<p>Adding the path to CUPTI to the LD_LIBRARY_PATH environment variable.</p>\n<p><code>export LD_LIBRARY_PATH=\"$LD_LIBRARY_PATH:/usr/local/cuda/extras/CUPTI/lib64\"</code></p>\n<h3>Solution:</h3>\n<p>Add <code>ENV LD_LIBRARY_PATH /usr/local/cuda/extras/CUPTI/lib64:$LD_LIBRARY_PATH</code> to <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/docker/Dockerfile.gpu\">Dockerfile.gpu</a>, as in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"204774403\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7206\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/7206/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/7206\">#7206</a></p>", "body_text": "Environment info:\nThe latest docker GPU image.\ngcr.io/tensorflow/tensorflow:latest-gpu\nIssue:\nWhile running mnist_with_summaries.py, you get\ntensorflow/stream_executor/dso_loader.cc:119] Couldn't open CUDA library libcupti.so. LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:\nTemporary Solution:\nAdding the path to CUPTI to the LD_LIBRARY_PATH environment variable.\nexport LD_LIBRARY_PATH=\"$LD_LIBRARY_PATH:/usr/local/cuda/extras/CUPTI/lib64\"\nSolution:\nAdd ENV LD_LIBRARY_PATH /usr/local/cuda/extras/CUPTI/lib64:$LD_LIBRARY_PATH to Dockerfile.gpu, as in #7206", "body": "### Environment info:\r\nThe latest docker GPU image.\r\n`gcr.io/tensorflow/tensorflow:latest-gpu`\r\n\r\n\r\n\r\n### Issue:\r\nWhile running [mnist_with_summaries.py](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/tutorials/mnist/mnist_with_summaries.py), you get \r\n`tensorflow/stream_executor/dso_loader.cc:119] Couldn't open CUDA library libcupti.so. LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:`\r\n\r\n### Temporary Solution:\r\nAdding the path to CUPTI to the LD_LIBRARY_PATH environment variable. \r\n\r\n`export LD_LIBRARY_PATH=\"$LD_LIBRARY_PATH:/usr/local/cuda/extras/CUPTI/lib64\"`\r\n\r\n### Solution:\r\nAdd `ENV LD_LIBRARY_PATH /usr/local/cuda/extras/CUPTI/lib64:$LD_LIBRARY_PATH` to [Dockerfile.gpu](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/docker/Dockerfile.gpu), as in #7206 \r\n\r\n"}