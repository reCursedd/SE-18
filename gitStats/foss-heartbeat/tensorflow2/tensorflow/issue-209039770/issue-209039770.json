{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7726", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7726/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7726/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7726/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7726", "id": 209039770, "node_id": "MDU6SXNzdWUyMDkwMzk3NzA=", "number": 7726, "title": "Feature request: Allow import of incomplete graphs", "user": {"login": "malmaud", "id": 987837, "node_id": "MDQ6VXNlcjk4NzgzNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/987837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malmaud", "html_url": "https://github.com/malmaud", "followers_url": "https://api.github.com/users/malmaud/followers", "following_url": "https://api.github.com/users/malmaud/following{/other_user}", "gists_url": "https://api.github.com/users/malmaud/gists{/gist_id}", "starred_url": "https://api.github.com/users/malmaud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malmaud/subscriptions", "organizations_url": "https://api.github.com/users/malmaud/orgs", "repos_url": "https://api.github.com/users/malmaud/repos", "events_url": "https://api.github.com/users/malmaud/events{/privacy}", "received_events_url": "https://api.github.com/users/malmaud/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-02-21T04:29:00Z", "updated_at": "2017-06-16T20:43:42Z", "closed_at": "2017-06-16T20:43:42Z", "author_association": "CONTRIBUTOR", "body_html": "<p>It seems like there is no reason in principle not to allow this:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\ng<span class=\"pl-k\">=</span>tf.Graph()\n<span class=\"pl-k\">with</span> g.as_default():\n    x <span class=\"pl-k\">=</span> tf.constant(<span class=\"pl-c1\">1.0</span>, <span class=\"pl-v\">name</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x<span class=\"pl-pds\">\"</span></span>)\n    y <span class=\"pl-k\">=</span> tf.exp(x)\ng_def<span class=\"pl-k\">=</span>tf.GraphDef()\ng_def.node.extend([y.op.node_def])\n\ng2 <span class=\"pl-k\">=</span> tf.Graph()\n<span class=\"pl-k\">with</span> g2.as_default():\n    x <span class=\"pl-k\">=</span> tf.constant(<span class=\"pl-c1\">2.0</span>, <span class=\"pl-v\">name</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x<span class=\"pl-pds\">\"</span></span>)\n    tf.import_graph_def(g_def)\n</pre></div>\n<p>as, after <code>y</code> is imported, the <code>x:0</code> input it refers to is valid.</p>\n<p>As it stands however, this throws <code>ValueError: graph_def is invalid at node u'Exp': Input tensor 'x:0' not found in graph_def..</code>.</p>", "body_text": "It seems like there is no reason in principle not to allow this:\nimport tensorflow as tf\n\ng=tf.Graph()\nwith g.as_default():\n    x = tf.constant(1.0, name=\"x\")\n    y = tf.exp(x)\ng_def=tf.GraphDef()\ng_def.node.extend([y.op.node_def])\n\ng2 = tf.Graph()\nwith g2.as_default():\n    x = tf.constant(2.0, name=\"x\")\n    tf.import_graph_def(g_def)\n\nas, after y is imported, the x:0 input it refers to is valid.\nAs it stands however, this throws ValueError: graph_def is invalid at node u'Exp': Input tensor 'x:0' not found in graph_def...", "body": "It seems like there is no reason in principle not to allow this:\r\n\r\n```python\r\nimport tensorflow as tf\r\n\r\ng=tf.Graph()\r\nwith g.as_default():\r\n    x = tf.constant(1.0, name=\"x\")\r\n    y = tf.exp(x)\r\ng_def=tf.GraphDef()\r\ng_def.node.extend([y.op.node_def])\r\n\r\ng2 = tf.Graph()\r\nwith g2.as_default():\r\n    x = tf.constant(2.0, name=\"x\")\r\n    tf.import_graph_def(g_def)\r\n\r\n```\r\n\r\nas, after `y` is imported, the `x:0` input it refers to is valid. \r\n\r\nAs it stands however, this throws `ValueError: graph_def is invalid at node u'Exp': Input tensor 'x:0' not found in graph_def..`. \r\n\r\n"}