{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/281035809", "html_url": "https://github.com/tensorflow/tensorflow/issues/7684#issuecomment-281035809", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7684", "id": 281035809, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTAzNTgwOQ==", "user": {"login": "krayush07", "id": 9397134, "node_id": "MDQ6VXNlcjkzOTcxMzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/9397134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krayush07", "html_url": "https://github.com/krayush07", "followers_url": "https://api.github.com/users/krayush07/followers", "following_url": "https://api.github.com/users/krayush07/following{/other_user}", "gists_url": "https://api.github.com/users/krayush07/gists{/gist_id}", "starred_url": "https://api.github.com/users/krayush07/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krayush07/subscriptions", "organizations_url": "https://api.github.com/users/krayush07/orgs", "repos_url": "https://api.github.com/users/krayush07/repos", "events_url": "https://api.github.com/users/krayush07/events{/privacy}", "received_events_url": "https://api.github.com/users/krayush07/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-20T10:00:08Z", "updated_at": "2017-02-20T10:00:08Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3380293\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/sharod\">@sharod</a></p>\n<p>tf.get_variable() <a href=\"https://github.com/tensorflow/models/blob/master/tutorials/rnn/ptb/ptb_word_lm.py#L124\">creates</a> the 'embedding' variable and <a href=\"https://github.com/tensorflow/models/blob/master/tutorials/rnn/ptb/ptb_word_lm.py#L335\">initializes it</a> using a random initializer during training time as <a href=\"https://github.com/tensorflow/models/blob/master/tutorials/rnn/ptb/ptb_word_lm.py#L335\">var scope for training</a> is set to 'None'.</p>\n<p>So, during training the word embedding is initialized and further trained since <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/variable_scope.py#L203\">'trainable' parameter</a> is set to True. While during, validation or testing, the trained embeddings are retrieved as <a href=\"https://github.com/tensorflow/models/blob/master/tutorials/rnn/ptb/ptb_word_lm.py#L342\">variable reuse</a> is set to True.</p>\n<p>Also, please use Stackoverflow for these kind of questions.</p>", "body_text": "Hi @sharod\ntf.get_variable() creates the 'embedding' variable and initializes it using a random initializer during training time as var scope for training is set to 'None'.\nSo, during training the word embedding is initialized and further trained since 'trainable' parameter is set to True. While during, validation or testing, the trained embeddings are retrieved as variable reuse is set to True.\nAlso, please use Stackoverflow for these kind of questions.", "body": "Hi @sharod \r\n\r\ntf.get_variable() [creates](https://github.com/tensorflow/models/blob/master/tutorials/rnn/ptb/ptb_word_lm.py#L124) the 'embedding' variable and [initializes it](https://github.com/tensorflow/models/blob/master/tutorials/rnn/ptb/ptb_word_lm.py#L335) using a random initializer during training time as [var scope for training](https://github.com/tensorflow/models/blob/master/tutorials/rnn/ptb/ptb_word_lm.py#L335) is set to 'None'. \r\n\r\nSo, during training the word embedding is initialized and further trained since ['trainable' parameter](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/variable_scope.py#L203) is set to True. While during, validation or testing, the trained embeddings are retrieved as [variable reuse](https://github.com/tensorflow/models/blob/master/tutorials/rnn/ptb/ptb_word_lm.py#L342) is set to True.\r\n\r\nAlso, please use Stackoverflow for these kind of questions."}