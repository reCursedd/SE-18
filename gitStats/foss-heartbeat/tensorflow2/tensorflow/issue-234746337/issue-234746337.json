{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10585", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10585/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10585/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10585/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10585", "id": 234746337, "node_id": "MDU6SXNzdWUyMzQ3NDYzMzc=", "number": 10585, "title": "Run convert_graphdef_memmapped_format fail", "user": {"login": "JcmeLs", "id": 12932339, "node_id": "MDQ6VXNlcjEyOTMyMzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/12932339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JcmeLs", "html_url": "https://github.com/JcmeLs", "followers_url": "https://api.github.com/users/JcmeLs/followers", "following_url": "https://api.github.com/users/JcmeLs/following{/other_user}", "gists_url": "https://api.github.com/users/JcmeLs/gists{/gist_id}", "starred_url": "https://api.github.com/users/JcmeLs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JcmeLs/subscriptions", "organizations_url": "https://api.github.com/users/JcmeLs/orgs", "repos_url": "https://api.github.com/users/JcmeLs/repos", "events_url": "https://api.github.com/users/JcmeLs/events{/privacy}", "received_events_url": "https://api.github.com/users/JcmeLs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-06-09T07:39:51Z", "updated_at": "2018-05-08T15:51:45Z", "closed_at": "2018-03-12T01:45:48Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nNo</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nOS X EI Caption 10.11.6</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\nbinary (pip install)</li>\n<li><strong>TensorFlow version (use command below)</strong>:<br>\nTensorFlow 1.2.0-rc1 CPU Only</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\nBuild label: 0.4.5-homebrew<br>\nBuild target: bazel-out/local-<br>\nopt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Thu Mar 16 13:37:54 2017 (1489671474)<br>\nBuild timestamp: 1489671474<br>\nBuild timestamp as int: 1489671474</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\nCPU Only</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Because the buffers holding the model weight values are 77MB in size, the memory needed to load these into the app can crash in Android, even before the model is run. So I want to run <code>convert_graphdef_memmapped_format</code> to map them into memory.So I build it.When I run it ,it get me a error<code>tensorflow/contrib/util/convert_graphdef_memmapped_format.cc:61] Unknown argument \u2013-in_graph=/Users/liba/Desktop/OptimizeCTNModel.pb </code></p>\n<h3>Source code / logs</h3>\n<p>log:</p>\n<pre><code>ZHANGSH7-MP:tensorflow liba$ bazel-bin/tensorflow/contrib/util/convert_graphdef_memmapped_format \u2013-in_graph=/Users/liba/Desktop/OptimizeCTNModel.pb \u2013-out_graph=/Users/liba/Desktop/MemmappedCTNModel.pb\n2017-06-09 14:59:12.633589: E tensorflow/contrib/util/convert_graphdef_memmapped_format.cc:61] Unknown argument \u2013-in_graph=/Users/liba/Desktop/OptimizeCTNModel.pb\nusage: bazel-bin/tensorflow/contrib/util/convert_graphdef_memmapped_format\nFlags:\n\t--in_graph=\"\"                    \tstring\tinput graph\n\t--out_graph=\"\"                   \tstring\toutput graph\n\t--min_conversion_tensor_size=10000\tint32\tconstants with tensors that have less than this number elements won't be converted into ImmutableConst (be memmapped)\n\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nNo\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nOS X EI Caption 10.11.6\nTensorFlow installed from (source or binary):\nbinary (pip install)\nTensorFlow version (use command below):\nTensorFlow 1.2.0-rc1 CPU Only\nBazel version (if compiling from source):\nBuild label: 0.4.5-homebrew\nBuild target: bazel-out/local-\nopt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Mar 16 13:37:54 2017 (1489671474)\nBuild timestamp: 1489671474\nBuild timestamp as int: 1489671474\nCUDA/cuDNN version:\nCPU Only\n\nDescribe the problem\nBecause the buffers holding the model weight values are 77MB in size, the memory needed to load these into the app can crash in Android, even before the model is run. So I want to run convert_graphdef_memmapped_format to map them into memory.So I build it.When I run it ,it get me a errortensorflow/contrib/util/convert_graphdef_memmapped_format.cc:61] Unknown argument \u2013-in_graph=/Users/liba/Desktop/OptimizeCTNModel.pb \nSource code / logs\nlog:\nZHANGSH7-MP:tensorflow liba$ bazel-bin/tensorflow/contrib/util/convert_graphdef_memmapped_format \u2013-in_graph=/Users/liba/Desktop/OptimizeCTNModel.pb \u2013-out_graph=/Users/liba/Desktop/MemmappedCTNModel.pb\n2017-06-09 14:59:12.633589: E tensorflow/contrib/util/convert_graphdef_memmapped_format.cc:61] Unknown argument \u2013-in_graph=/Users/liba/Desktop/OptimizeCTNModel.pb\nusage: bazel-bin/tensorflow/contrib/util/convert_graphdef_memmapped_format\nFlags:\n\t--in_graph=\"\"                    \tstring\tinput graph\n\t--out_graph=\"\"                   \tstring\toutput graph\n\t--min_conversion_tensor_size=10000\tint32\tconstants with tensors that have less than this number elements won't be converted into ImmutableConst (be memmapped)", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n    No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n    OS X EI Caption 10.11.6\r\n- **TensorFlow installed from (source or binary)**:\r\n    binary (pip install)\r\n- **TensorFlow version (use command below)**:\r\n    TensorFlow 1.2.0-rc1 CPU Only\r\n- **Bazel version (if compiling from source)**:\r\n    Build label: 0.4.5-homebrew\r\n    Build target: bazel-out/local-\r\n    opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\n    Build time: Thu Mar 16 13:37:54 2017 (1489671474)\r\n    Build timestamp: 1489671474\r\n    Build timestamp as int: 1489671474\r\n- **CUDA/cuDNN version**:\r\n    CPU Only\r\n\r\n### Describe the problem\r\nBecause the buffers holding the model weight values are 77MB in size, the memory needed to load these into the app can crash in Android, even before the model is run. So I want to run `convert_graphdef_memmapped_format` to map them into memory.So I build it.When I run it ,it get me a error`tensorflow/contrib/util/convert_graphdef_memmapped_format.cc:61] Unknown argument \u2013-in_graph=/Users/liba/Desktop/OptimizeCTNModel.pb\r\n`\r\n\r\n### Source code / logs\r\nlog:\r\n``` \r\nZHANGSH7-MP:tensorflow liba$ bazel-bin/tensorflow/contrib/util/convert_graphdef_memmapped_format \u2013-in_graph=/Users/liba/Desktop/OptimizeCTNModel.pb \u2013-out_graph=/Users/liba/Desktop/MemmappedCTNModel.pb\r\n2017-06-09 14:59:12.633589: E tensorflow/contrib/util/convert_graphdef_memmapped_format.cc:61] Unknown argument \u2013-in_graph=/Users/liba/Desktop/OptimizeCTNModel.pb\r\nusage: bazel-bin/tensorflow/contrib/util/convert_graphdef_memmapped_format\r\nFlags:\r\n\t--in_graph=\"\"                    \tstring\tinput graph\r\n\t--out_graph=\"\"                   \tstring\toutput graph\r\n\t--min_conversion_tensor_size=10000\tint32\tconstants with tensors that have less than this number elements won't be converted into ImmutableConst (be memmapped)\r\n\r\n```\r\n"}