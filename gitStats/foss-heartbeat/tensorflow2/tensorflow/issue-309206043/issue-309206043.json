{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18039", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18039/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18039/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18039/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18039", "id": 309206043, "node_id": "MDU6SXNzdWUzMDkyMDYwNDM=", "number": 18039, "title": "Error building contrib/nccl on CentOS 6.5 on 1.7.0-rc1", "user": {"login": "JonnoFTW", "id": 650314, "node_id": "MDQ6VXNlcjY1MDMxNA==", "avatar_url": "https://avatars3.githubusercontent.com/u/650314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JonnoFTW", "html_url": "https://github.com/JonnoFTW", "followers_url": "https://api.github.com/users/JonnoFTW/followers", "following_url": "https://api.github.com/users/JonnoFTW/following{/other_user}", "gists_url": "https://api.github.com/users/JonnoFTW/gists{/gist_id}", "starred_url": "https://api.github.com/users/JonnoFTW/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JonnoFTW/subscriptions", "organizations_url": "https://api.github.com/users/JonnoFTW/orgs", "repos_url": "https://api.github.com/users/JonnoFTW/repos", "events_url": "https://api.github.com/users/JonnoFTW/events{/privacy}", "received_events_url": "https://api.github.com/users/JonnoFTW/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2018-03-28T03:13:42Z", "updated_at": "2018-10-15T18:39:51Z", "closed_at": "2018-10-15T18:39:51Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: CentOS 6.5</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.7.0-rc1 release</li>\n<li><strong>Python version</strong>: 3.6.4</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.11.1- (non-git)</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: gcc (GCC) 4.8.2 20140120 (Red Hat 4.8.2-15)</li>\n<li><strong>CUDA/cuDNN version</strong>: CUDA: 7.5 cuDNN: 6.0</li>\n<li><strong>GPU model and memory</strong>: NVIDIA Tesla K20m</li>\n<li><strong>Exact command to reproduce</strong>: <code>bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package   --action_env=\"LD_LIBRARY_PATH=${LD_LIBRARY_PATH}\"</code></li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Tensorflow fails to build from source release 1.7.0-rc1 with error from nccl_ops.cc<br>\nI took the following steps:</p>\n<pre><code>source /opt/rh/devtoolset-2/enable\ncd /tmp\nwget https://github.com/tensorflow/tensorflow/archive/v1.7.0-rc1.tar.gz\ntar -xvf v1.7.0-rc1.tar.gz\ncd /tensorflow-1.7.0.-rc1\nexport TEST_TMPDIR=/tmp/tf-build\nexport JAVA_HOME=/usr/java/jdk1.8.0_66/\n./configure\n\nFound possible Python library paths:\n  /home/mack0242/.pyenv/versions/3.6.4/lib/python3.6/site-packages\nPlease input the desired Python library path to use.  Default is [/home/mack0242/.pyenv/versions/3.6.4/lib/python3.6/site-packages]\n\nDo you wish to build TensorFlow with jemalloc as malloc support? [Y/n]: n\nNo jemalloc as malloc support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n\nNo Google Cloud Platform support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with Hadoop File System support? [Y/n]: n\nNo Hadoop File System support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n\nNo Amazon S3 File System support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with Apache Kafka Platform support? [y/N]: n\nNo Apache Kafka Platform support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: n\nNo XLA JIT support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with GDR support? [y/N]: n\nNo GDR support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with VERBS support? [y/N]: n\nNo VERBS support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with OpenCL SYCL support? [y/N]: n\nNo OpenCL SYCL support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with CUDA support? [y/N]: y\nCUDA support will be enabled for TensorFlow.\n\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 9.0]: 7.5\n\nPlease specify the location where CUDA 7.5 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \n\nPlease specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7.0]: 6.0\n\nPlease specify the location where cuDNN 6 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\n\nDo you wish to build TensorFlow with TensorRT support? [y/N]: n\nNo TensorRT support will be enabled for TensorFlow.\n\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size. [Default is: 3.5,5.2]3.5\n\nDo you want to use clang as CUDA compiler? [y/N]: n\nnvcc will be used as CUDA compiler.\n\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /opt/rh/devtoolset-2/root/usr/bin/gcc]: \n\nDo you wish to build TensorFlow with MPI support? [y/N]: n\nNo MPI support will be enabled for TensorFlow.\n\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \n\nWould you like to interactively configure ./WORKSPACE for Android builds? [y/N]: n\nNot configuring the WORKSPACE for Android builds.\n\nPreconfigured Bazel build configs. You can use any of the below by adding \"--config=&lt;&gt;\" to your build command. See tools/bazel.rc for more details.\n        --config=mkl            # Build with MKL support.\n        --config=monolithic     # Config for mostly static monolithic build.\nConfiguration finished\n\nexport LD_LIBRARY_PATH=/opt/rh/devtoolset-2/root/usr/lib64:/opt/rh/devtoolset-2/root/usr/lib:/opt/rh/devtoolset-2/root/usr/lib64:/opt/rh/devtoolset-2/root/usr/lib:/usr/local/cuda/lib64\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package   --action_env=\"LD_LIBRARY_PATH=${LD_LIBRARY_PATH}\"\n</code></pre>\n<h3>Source code / logs</h3>\n<p>Build fails at this point:</p>\n<pre><code>INFO: From Compiling tensorflow/contrib/nccl/kernels/nccl_ops.cc:\ntensorflow/contrib/nccl/kernels/nccl_ops.cc(207): error: no instance of overloaded function \"tensorflow::TensorShapeUtils::MakeShape\" matches the argument list\n            argument types are: (Eigen::TensorMap&lt;Eigen::Tensor&lt;const tensorflow::int32, 1, 1, long&gt;, 16, Eigen::MakePointer&gt;, tensorflow::TensorShape *)\n\n1 error detected in the compilation of \"/tmp/tmpxft_00001aab_00000000-7_nccl_ops.cpp1.ii\".\nERROR: /tmp/tensorflow-1.7.0-rc1/tensorflow/contrib/nccl/BUILD:23:1: output 'tensorflow/contrib/nccl/_objs/python/ops/_nccl_ops_gpu/tensorflow/contrib/nccl/kernels/nccl_ops.pic.o' was not created\nERROR: /tmp/tensorflow-1.7.0-rc1/tensorflow/contrib/nccl/BUILD:23:1: not all outputs were created or valid\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 362.889s, Critical Path: 67.25s\nFAILED: Build did NOT complete successfully\n</code></pre>\n<p>So it looks like a parameter type problem here: <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/nccl/kernels/nccl_ops.cc#L207\">nccl_ops.cc</a></p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): CentOS 6.5\nTensorFlow installed from (source or binary): Source\nTensorFlow version (use command below): 1.7.0-rc1 release\nPython version: 3.6.4\nBazel version (if compiling from source): 0.11.1- (non-git)\nGCC/Compiler version (if compiling from source): gcc (GCC) 4.8.2 20140120 (Red Hat 4.8.2-15)\nCUDA/cuDNN version: CUDA: 7.5 cuDNN: 6.0\nGPU model and memory: NVIDIA Tesla K20m\nExact command to reproduce: bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package   --action_env=\"LD_LIBRARY_PATH=${LD_LIBRARY_PATH}\"\n\nDescribe the problem\nTensorflow fails to build from source release 1.7.0-rc1 with error from nccl_ops.cc\nI took the following steps:\nsource /opt/rh/devtoolset-2/enable\ncd /tmp\nwget https://github.com/tensorflow/tensorflow/archive/v1.7.0-rc1.tar.gz\ntar -xvf v1.7.0-rc1.tar.gz\ncd /tensorflow-1.7.0.-rc1\nexport TEST_TMPDIR=/tmp/tf-build\nexport JAVA_HOME=/usr/java/jdk1.8.0_66/\n./configure\n\nFound possible Python library paths:\n  /home/mack0242/.pyenv/versions/3.6.4/lib/python3.6/site-packages\nPlease input the desired Python library path to use.  Default is [/home/mack0242/.pyenv/versions/3.6.4/lib/python3.6/site-packages]\n\nDo you wish to build TensorFlow with jemalloc as malloc support? [Y/n]: n\nNo jemalloc as malloc support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n\nNo Google Cloud Platform support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with Hadoop File System support? [Y/n]: n\nNo Hadoop File System support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n\nNo Amazon S3 File System support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with Apache Kafka Platform support? [y/N]: n\nNo Apache Kafka Platform support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: n\nNo XLA JIT support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with GDR support? [y/N]: n\nNo GDR support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with VERBS support? [y/N]: n\nNo VERBS support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with OpenCL SYCL support? [y/N]: n\nNo OpenCL SYCL support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with CUDA support? [y/N]: y\nCUDA support will be enabled for TensorFlow.\n\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 9.0]: 7.5\n\nPlease specify the location where CUDA 7.5 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \n\nPlease specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7.0]: 6.0\n\nPlease specify the location where cuDNN 6 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\n\nDo you wish to build TensorFlow with TensorRT support? [y/N]: n\nNo TensorRT support will be enabled for TensorFlow.\n\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size. [Default is: 3.5,5.2]3.5\n\nDo you want to use clang as CUDA compiler? [y/N]: n\nnvcc will be used as CUDA compiler.\n\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /opt/rh/devtoolset-2/root/usr/bin/gcc]: \n\nDo you wish to build TensorFlow with MPI support? [y/N]: n\nNo MPI support will be enabled for TensorFlow.\n\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \n\nWould you like to interactively configure ./WORKSPACE for Android builds? [y/N]: n\nNot configuring the WORKSPACE for Android builds.\n\nPreconfigured Bazel build configs. You can use any of the below by adding \"--config=<>\" to your build command. See tools/bazel.rc for more details.\n        --config=mkl            # Build with MKL support.\n        --config=monolithic     # Config for mostly static monolithic build.\nConfiguration finished\n\nexport LD_LIBRARY_PATH=/opt/rh/devtoolset-2/root/usr/lib64:/opt/rh/devtoolset-2/root/usr/lib:/opt/rh/devtoolset-2/root/usr/lib64:/opt/rh/devtoolset-2/root/usr/lib:/usr/local/cuda/lib64\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package   --action_env=\"LD_LIBRARY_PATH=${LD_LIBRARY_PATH}\"\n\nSource code / logs\nBuild fails at this point:\nINFO: From Compiling tensorflow/contrib/nccl/kernels/nccl_ops.cc:\ntensorflow/contrib/nccl/kernels/nccl_ops.cc(207): error: no instance of overloaded function \"tensorflow::TensorShapeUtils::MakeShape\" matches the argument list\n            argument types are: (Eigen::TensorMap<Eigen::Tensor<const tensorflow::int32, 1, 1, long>, 16, Eigen::MakePointer>, tensorflow::TensorShape *)\n\n1 error detected in the compilation of \"/tmp/tmpxft_00001aab_00000000-7_nccl_ops.cpp1.ii\".\nERROR: /tmp/tensorflow-1.7.0-rc1/tensorflow/contrib/nccl/BUILD:23:1: output 'tensorflow/contrib/nccl/_objs/python/ops/_nccl_ops_gpu/tensorflow/contrib/nccl/kernels/nccl_ops.pic.o' was not created\nERROR: /tmp/tensorflow-1.7.0-rc1/tensorflow/contrib/nccl/BUILD:23:1: not all outputs were created or valid\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 362.889s, Critical Path: 67.25s\nFAILED: Build did NOT complete successfully\n\nSo it looks like a parameter type problem here: nccl_ops.cc", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: CentOS 6.5\r\n- **TensorFlow installed from (source or binary)**: Source\r\n- **TensorFlow version (use command below)**: 1.7.0-rc1 release\r\n- **Python version**: 3.6.4\r\n- **Bazel version (if compiling from source)**: 0.11.1- (non-git)\r\n- **GCC/Compiler version (if compiling from source)**: gcc (GCC) 4.8.2 20140120 (Red Hat 4.8.2-15)\r\n- **CUDA/cuDNN version**: CUDA: 7.5 cuDNN: 6.0\r\n- **GPU model and memory**: NVIDIA Tesla K20m\r\n- **Exact command to reproduce**: `bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package   --action_env=\"LD_LIBRARY_PATH=${LD_LIBRARY_PATH}\"`\r\n\r\n\r\n### Describe the problem\r\nTensorflow fails to build from source release 1.7.0-rc1 with error from nccl_ops.cc\r\nI took the following steps:\r\n\r\n```\r\nsource /opt/rh/devtoolset-2/enable\r\ncd /tmp\r\nwget https://github.com/tensorflow/tensorflow/archive/v1.7.0-rc1.tar.gz\r\ntar -xvf v1.7.0-rc1.tar.gz\r\ncd /tensorflow-1.7.0.-rc1\r\nexport TEST_TMPDIR=/tmp/tf-build\r\nexport JAVA_HOME=/usr/java/jdk1.8.0_66/\r\n./configure\r\n\r\nFound possible Python library paths:\r\n  /home/mack0242/.pyenv/versions/3.6.4/lib/python3.6/site-packages\r\nPlease input the desired Python library path to use.  Default is [/home/mack0242/.pyenv/versions/3.6.4/lib/python3.6/site-packages]\r\n\r\nDo you wish to build TensorFlow with jemalloc as malloc support? [Y/n]: n\r\nNo jemalloc as malloc support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n\r\nNo Google Cloud Platform support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with Hadoop File System support? [Y/n]: n\r\nNo Hadoop File System support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n\r\nNo Amazon S3 File System support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with Apache Kafka Platform support? [y/N]: n\r\nNo Apache Kafka Platform support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: n\r\nNo XLA JIT support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with GDR support? [y/N]: n\r\nNo GDR support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with VERBS support? [y/N]: n\r\nNo VERBS support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with OpenCL SYCL support? [y/N]: n\r\nNo OpenCL SYCL support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with CUDA support? [y/N]: y\r\nCUDA support will be enabled for TensorFlow.\r\n\r\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 9.0]: 7.5\r\n\r\nPlease specify the location where CUDA 7.5 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \r\n\r\nPlease specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7.0]: 6.0\r\n\r\nPlease specify the location where cuDNN 6 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\r\n\r\nDo you wish to build TensorFlow with TensorRT support? [y/N]: n\r\nNo TensorRT support will be enabled for TensorFlow.\r\n\r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size. [Default is: 3.5,5.2]3.5\r\n\r\nDo you want to use clang as CUDA compiler? [y/N]: n\r\nnvcc will be used as CUDA compiler.\r\n\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /opt/rh/devtoolset-2/root/usr/bin/gcc]: \r\n\r\nDo you wish to build TensorFlow with MPI support? [y/N]: n\r\nNo MPI support will be enabled for TensorFlow.\r\n\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \r\n\r\nWould you like to interactively configure ./WORKSPACE for Android builds? [y/N]: n\r\nNot configuring the WORKSPACE for Android builds.\r\n\r\nPreconfigured Bazel build configs. You can use any of the below by adding \"--config=<>\" to your build command. See tools/bazel.rc for more details.\r\n        --config=mkl            # Build with MKL support.\r\n        --config=monolithic     # Config for mostly static monolithic build.\r\nConfiguration finished\r\n\r\nexport LD_LIBRARY_PATH=/opt/rh/devtoolset-2/root/usr/lib64:/opt/rh/devtoolset-2/root/usr/lib:/opt/rh/devtoolset-2/root/usr/lib64:/opt/rh/devtoolset-2/root/usr/lib:/usr/local/cuda/lib64\r\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package   --action_env=\"LD_LIBRARY_PATH=${LD_LIBRARY_PATH}\"\r\n```\r\n\r\n### Source code / logs\r\nBuild fails at this point:\r\n```\r\nINFO: From Compiling tensorflow/contrib/nccl/kernels/nccl_ops.cc:\r\ntensorflow/contrib/nccl/kernels/nccl_ops.cc(207): error: no instance of overloaded function \"tensorflow::TensorShapeUtils::MakeShape\" matches the argument list\r\n            argument types are: (Eigen::TensorMap<Eigen::Tensor<const tensorflow::int32, 1, 1, long>, 16, Eigen::MakePointer>, tensorflow::TensorShape *)\r\n\r\n1 error detected in the compilation of \"/tmp/tmpxft_00001aab_00000000-7_nccl_ops.cpp1.ii\".\r\nERROR: /tmp/tensorflow-1.7.0-rc1/tensorflow/contrib/nccl/BUILD:23:1: output 'tensorflow/contrib/nccl/_objs/python/ops/_nccl_ops_gpu/tensorflow/contrib/nccl/kernels/nccl_ops.pic.o' was not created\r\nERROR: /tmp/tensorflow-1.7.0-rc1/tensorflow/contrib/nccl/BUILD:23:1: not all outputs were created or valid\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 362.889s, Critical Path: 67.25s\r\nFAILED: Build did NOT complete successfully\r\n```\r\n\r\nSo it looks like a parameter type problem here: [nccl_ops.cc](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/nccl/kernels/nccl_ops.cc#L207)"}