{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/270667112", "html_url": "https://github.com/tensorflow/tensorflow/issues/5553#issuecomment-270667112", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5553", "id": 270667112, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDY2NzExMg==", "user": {"login": "abdoelali", "id": 15015817, "node_id": "MDQ6VXNlcjE1MDE1ODE3", "avatar_url": "https://avatars0.githubusercontent.com/u/15015817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abdoelali", "html_url": "https://github.com/abdoelali", "followers_url": "https://api.github.com/users/abdoelali/followers", "following_url": "https://api.github.com/users/abdoelali/following{/other_user}", "gists_url": "https://api.github.com/users/abdoelali/gists{/gist_id}", "starred_url": "https://api.github.com/users/abdoelali/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abdoelali/subscriptions", "organizations_url": "https://api.github.com/users/abdoelali/orgs", "repos_url": "https://api.github.com/users/abdoelali/repos", "events_url": "https://api.github.com/users/abdoelali/events{/privacy}", "received_events_url": "https://api.github.com/users/abdoelali/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-05T15:12:49Z", "updated_at": "2017-01-05T15:12:49Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3376817\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewharp\">@andrewharp</a> Ok, some progress!</p>\n<p>If I sync with <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/522046158048c5c6a7c12ec8975b1178eed7165c/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/522046158048c5c6a7c12ec8975b1178eed7165c\"><tt>5220461</tt></a> and <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/c9722179a8ae49ca1438c957e51c737ed713087f/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/c9722179a8ae49ca1438c957e51c737ed713087f\"><tt>c972217</tt></a>, but not <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/c8abaee1e8dd9a2a654d0499e431a82e0285c5d1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/c8abaee1e8dd9a2a654d0499e431a82e0285c5d1\"><tt>c8abaee</tt></a>, my model crashes with following logcat:</p>\n<p><code>01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:82 Creating new session variables for 8dc6c085059a97b8 01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:105 Loading Tensorflow. 01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:107 Making new SessionOptions. 01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:110 Got config, 0 devices 01-05 15:48:28.064 11639-11639/? I/native: tensorflow_inference_jni.cc:114 Session created. 01-05 15:48:28.064 11639-11639/? I/native: tensorflow_inference_jni.cc:117 Graph created. 01-05 15:48:28.067 11639-11639/? I/native: tensorflow_inference_jni.cc:121 Acquired AssetManager. 01-05 15:48:28.067 11639-11639/? I/native: tensorflow_inference_jni.cc:123 Reading file to proto: file:///android_asset/cnn_frozen_graph.pb 01-05 15:48:28.067 11639-11639/? A/native: tensorflow_inference_jni.cc:126 Check failed: tensorflow_graph.node_size() &gt; 0 Problem loading GraphDef! 01-05 15:48:28.067 11639-11639/? A/libc: Fatal signal 6 (SIGABRT), code -6 in tid 11639 (tensorflow.demo)</code></p>\n<p>However, if I update <code>jni_utils.cc</code> with <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/c8abaee1e8dd9a2a654d0499e431a82e0285c5d1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/c8abaee1e8dd9a2a654d0499e431a82e0285c5d1\"><tt>c8abaee</tt></a>, then (I guess) my graph loads, though incorrectly classifying (which can be another issue). To be sure, latest working logcat <a href=\"https://github.com/abdoelali/scratch/blob/master/adb_logcat_jniutil_sync.txt\">here.</a> Also, looking at logcat, shouldn't it print<code> \"TF init status != 0\"</code>?</p>\n<p>Note: I'm now compiling using newer bazel: <code>Build label: 0.4.3-homebrew</code></p>", "body_text": "@andrewharp Ok, some progress!\nIf I sync with 5220461 and c972217, but not c8abaee, my model crashes with following logcat:\n01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:82 Creating new session variables for 8dc6c085059a97b8 01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:105 Loading Tensorflow. 01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:107 Making new SessionOptions. 01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:110 Got config, 0 devices 01-05 15:48:28.064 11639-11639/? I/native: tensorflow_inference_jni.cc:114 Session created. 01-05 15:48:28.064 11639-11639/? I/native: tensorflow_inference_jni.cc:117 Graph created. 01-05 15:48:28.067 11639-11639/? I/native: tensorflow_inference_jni.cc:121 Acquired AssetManager. 01-05 15:48:28.067 11639-11639/? I/native: tensorflow_inference_jni.cc:123 Reading file to proto: file:///android_asset/cnn_frozen_graph.pb 01-05 15:48:28.067 11639-11639/? A/native: tensorflow_inference_jni.cc:126 Check failed: tensorflow_graph.node_size() > 0 Problem loading GraphDef! 01-05 15:48:28.067 11639-11639/? A/libc: Fatal signal 6 (SIGABRT), code -6 in tid 11639 (tensorflow.demo)\nHowever, if I update jni_utils.cc with c8abaee, then (I guess) my graph loads, though incorrectly classifying (which can be another issue). To be sure, latest working logcat here. Also, looking at logcat, shouldn't it print \"TF init status != 0\"?\nNote: I'm now compiling using newer bazel: Build label: 0.4.3-homebrew", "body": "@andrewharp Ok, some progress! \r\n\r\nIf I sync with 522046158048c5c6a7c12ec8975b1178eed7165c and c9722179a8ae49ca1438c957e51c737ed713087f, but not c8abaee1e8dd9a2a654d0499e431a82e0285c5d1, my model crashes with following logcat:\r\n\r\n`01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:82 Creating new session variables for 8dc6c085059a97b8\r\n01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:105 Loading Tensorflow.\r\n01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:107 Making new SessionOptions.\r\n01-05 15:48:28.062 11639-11639/? I/native: tensorflow_inference_jni.cc:110 Got config, 0 devices\r\n01-05 15:48:28.064 11639-11639/? I/native: tensorflow_inference_jni.cc:114 Session created.\r\n01-05 15:48:28.064 11639-11639/? I/native: tensorflow_inference_jni.cc:117 Graph created.\r\n01-05 15:48:28.067 11639-11639/? I/native: tensorflow_inference_jni.cc:121 Acquired AssetManager.\r\n01-05 15:48:28.067 11639-11639/? I/native: tensorflow_inference_jni.cc:123 Reading file to proto: file:///android_asset/cnn_frozen_graph.pb\r\n01-05 15:48:28.067 11639-11639/? A/native: tensorflow_inference_jni.cc:126 Check failed: tensorflow_graph.node_size() > 0 Problem loading GraphDef!\r\n01-05 15:48:28.067 11639-11639/? A/libc: Fatal signal 6 (SIGABRT), code -6 in tid 11639 (tensorflow.demo)`\r\n\r\nHowever, if I update `jni_utils.cc` with c8abaee1e8dd9a2a654d0499e431a82e0285c5d1, then (I guess) my graph loads, though incorrectly classifying (which can be another issue). To be sure, latest working logcat [here.](https://github.com/abdoelali/scratch/blob/master/adb_logcat_jniutil_sync.txt) Also, looking at logcat, shouldn't it print` \"TF init status != 0\"`?\r\n\r\nNote: I'm now compiling using newer bazel: `Build label: 0.4.3-homebrew`"}