{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/270866673", "html_url": "https://github.com/tensorflow/tensorflow/issues/5553#issuecomment-270866673", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5553", "id": 270866673, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDg2NjY3Mw==", "user": {"login": "abdoelali", "id": 15015817, "node_id": "MDQ6VXNlcjE1MDE1ODE3", "avatar_url": "https://avatars0.githubusercontent.com/u/15015817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abdoelali", "html_url": "https://github.com/abdoelali", "followers_url": "https://api.github.com/users/abdoelali/followers", "following_url": "https://api.github.com/users/abdoelali/following{/other_user}", "gists_url": "https://api.github.com/users/abdoelali/gists{/gist_id}", "starred_url": "https://api.github.com/users/abdoelali/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abdoelali/subscriptions", "organizations_url": "https://api.github.com/users/abdoelali/orgs", "repos_url": "https://api.github.com/users/abdoelali/repos", "events_url": "https://api.github.com/users/abdoelali/events{/privacy}", "received_events_url": "https://api.github.com/users/abdoelali/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-06T09:41:28Z", "updated_at": "2017-01-06T10:18:15Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3376817\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewharp\">@andrewharp</a> Pleased to say that all is now working! Steps taken: full sync with latest tf build (last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/798ae42bab61da6c7dc001145ed574006b8b6acf/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/798ae42bab61da6c7dc001145ed574006b8b6acf\"><tt>798ae42</tt></a>) and built using bazel -v <code>0.4.3-homebrew</code>. Android SDK v23 and NDK v23. Stripped off all preprocessing (i.e., removing OpenCV from build), and just replaced my model and label file with out of box tf inception demo. Logcat now shows:</p>\n<p><code>01-06 10:27:39.048 26344-26344/? I/TensorFlowImageClassifier: Reading labels from: mylabels.txt 01-06 10:27:39.049 26344-26344/? I/TensorFlowImageClassifier: Read 7, 7 specified 01-06 10:27:39.049 26344-26344/? I/native: tensorflow_inference_jni.cc:97 Native TF methods loaded. 01-06 10:27:39.049 26344-26344/? I/TensorFlowInferenceInterface: Native methods already loaded. 01-06 10:27:39.049 26344-26344/? I/native: tensorflow_inference_jni.cc:85 Creating new session variables for 25a68072eeb0d05 01-06 10:27:39.049 26344-26344/? I/native: tensorflow_inference_jni.cc:113 Loading Tensorflow. 01-06 10:27:39.053 26344-26344/? I/native: tensorflow_inference_jni.cc:120 Session created. 01-06 10:27:39.053 26344-26344/? I/native: tensorflow_inference_jni.cc:126 Acquired AssetManager. 01-06 10:27:39.053 26344-26344/? I/native: tensorflow_inference_jni.cc:128 Reading file to proto: file:///android_asset/cnn_frozen_graph.pb 01-06 10:27:39.680 26344-26344/? I/native: tensorflow_inference_jni.cc:132 GraphDef loaded from file:///android_asset/cnn_frozen_graph.pb with 40 nodes. 01-06 10:27:39.680 26344-26344/? I/native: stat_summarizer.cc:38 StatSummarizer found 40 nodes 01-06 10:27:39.680 26344-26344/? I/native: tensorflow_inference_jni.cc:139 Creating TensorFlow graph from GraphDef. 01-06 10:27:39.713 26344-26344/org.tensorflow.demo I/native: tensorflow_inference_jni.cc:151 Initialization done in 664.038ms 01-06 10:27:39.714 26344-26344/org.tensorflow.demo I/tensorflow: ClassifierActivity: Sensor orientation: 90, Screen orientation: 0 01-06 10:27:39.714 26344-26344/org.tensorflow.demo I/tensorflow: ClassifierActivity: Initializing at size 640x480</code></p>\n<p>My predictions appear to be incorrect (since currently no preprocessing), but that's a different issue. Thanks again!</p>", "body_text": "@andrewharp Pleased to say that all is now working! Steps taken: full sync with latest tf build (last commit: 798ae42) and built using bazel -v 0.4.3-homebrew. Android SDK v23 and NDK v23. Stripped off all preprocessing (i.e., removing OpenCV from build), and just replaced my model and label file with out of box tf inception demo. Logcat now shows:\n01-06 10:27:39.048 26344-26344/? I/TensorFlowImageClassifier: Reading labels from: mylabels.txt 01-06 10:27:39.049 26344-26344/? I/TensorFlowImageClassifier: Read 7, 7 specified 01-06 10:27:39.049 26344-26344/? I/native: tensorflow_inference_jni.cc:97 Native TF methods loaded. 01-06 10:27:39.049 26344-26344/? I/TensorFlowInferenceInterface: Native methods already loaded. 01-06 10:27:39.049 26344-26344/? I/native: tensorflow_inference_jni.cc:85 Creating new session variables for 25a68072eeb0d05 01-06 10:27:39.049 26344-26344/? I/native: tensorflow_inference_jni.cc:113 Loading Tensorflow. 01-06 10:27:39.053 26344-26344/? I/native: tensorflow_inference_jni.cc:120 Session created. 01-06 10:27:39.053 26344-26344/? I/native: tensorflow_inference_jni.cc:126 Acquired AssetManager. 01-06 10:27:39.053 26344-26344/? I/native: tensorflow_inference_jni.cc:128 Reading file to proto: file:///android_asset/cnn_frozen_graph.pb 01-06 10:27:39.680 26344-26344/? I/native: tensorflow_inference_jni.cc:132 GraphDef loaded from file:///android_asset/cnn_frozen_graph.pb with 40 nodes. 01-06 10:27:39.680 26344-26344/? I/native: stat_summarizer.cc:38 StatSummarizer found 40 nodes 01-06 10:27:39.680 26344-26344/? I/native: tensorflow_inference_jni.cc:139 Creating TensorFlow graph from GraphDef. 01-06 10:27:39.713 26344-26344/org.tensorflow.demo I/native: tensorflow_inference_jni.cc:151 Initialization done in 664.038ms 01-06 10:27:39.714 26344-26344/org.tensorflow.demo I/tensorflow: ClassifierActivity: Sensor orientation: 90, Screen orientation: 0 01-06 10:27:39.714 26344-26344/org.tensorflow.demo I/tensorflow: ClassifierActivity: Initializing at size 640x480\nMy predictions appear to be incorrect (since currently no preprocessing), but that's a different issue. Thanks again!", "body": "@andrewharp Pleased to say that all is now working! Steps taken: full sync with latest tf build (last commit: 798ae42bab61da6c7dc001145ed574006b8b6acf) and built using bazel -v `0.4.3-homebrew`. Android SDK v23 and NDK v23. Stripped off all preprocessing (i.e., removing OpenCV from build), and just replaced my model and label file with out of box tf inception demo. Logcat now shows:\r\n\r\n`01-06 10:27:39.048 26344-26344/? I/TensorFlowImageClassifier: Reading labels from: mylabels.txt\r\n01-06 10:27:39.049 26344-26344/? I/TensorFlowImageClassifier: Read 7, 7 specified\r\n01-06 10:27:39.049 26344-26344/? I/native: tensorflow_inference_jni.cc:97 Native TF methods loaded.\r\n01-06 10:27:39.049 26344-26344/? I/TensorFlowInferenceInterface: Native methods already loaded.\r\n01-06 10:27:39.049 26344-26344/? I/native: tensorflow_inference_jni.cc:85 Creating new session variables for 25a68072eeb0d05\r\n01-06 10:27:39.049 26344-26344/? I/native: tensorflow_inference_jni.cc:113 Loading Tensorflow.\r\n01-06 10:27:39.053 26344-26344/? I/native: tensorflow_inference_jni.cc:120 Session created.\r\n01-06 10:27:39.053 26344-26344/? I/native: tensorflow_inference_jni.cc:126 Acquired AssetManager.\r\n01-06 10:27:39.053 26344-26344/? I/native: tensorflow_inference_jni.cc:128 Reading file to proto: file:///android_asset/cnn_frozen_graph.pb\r\n01-06 10:27:39.680 26344-26344/? I/native: tensorflow_inference_jni.cc:132 GraphDef loaded from file:///android_asset/cnn_frozen_graph.pb with 40 nodes.\r\n01-06 10:27:39.680 26344-26344/? I/native: stat_summarizer.cc:38 StatSummarizer found 40 nodes\r\n01-06 10:27:39.680 26344-26344/? I/native: tensorflow_inference_jni.cc:139 Creating TensorFlow graph from GraphDef.\r\n01-06 10:27:39.713 26344-26344/org.tensorflow.demo I/native: tensorflow_inference_jni.cc:151 Initialization done in 664.038ms\r\n01-06 10:27:39.714 26344-26344/org.tensorflow.demo I/tensorflow: ClassifierActivity: Sensor orientation: 90, Screen orientation: 0\r\n01-06 10:27:39.714 26344-26344/org.tensorflow.demo I/tensorflow: ClassifierActivity: Initializing at size 640x480`\r\n\r\nMy predictions appear to be incorrect (since currently no preprocessing), but that's a different issue. Thanks again!"}