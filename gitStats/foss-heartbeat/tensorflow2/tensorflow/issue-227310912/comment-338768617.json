{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/338768617", "html_url": "https://github.com/tensorflow/tensorflow/issues/9786#issuecomment-338768617", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9786", "id": 338768617, "node_id": "MDEyOklzc3VlQ29tbWVudDMzODc2ODYxNw==", "user": {"login": "Mohit-Ak", "id": 6740115, "node_id": "MDQ6VXNlcjY3NDAxMTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6740115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mohit-Ak", "html_url": "https://github.com/Mohit-Ak", "followers_url": "https://api.github.com/users/Mohit-Ak/followers", "following_url": "https://api.github.com/users/Mohit-Ak/following{/other_user}", "gists_url": "https://api.github.com/users/Mohit-Ak/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mohit-Ak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mohit-Ak/subscriptions", "organizations_url": "https://api.github.com/users/Mohit-Ak/orgs", "repos_url": "https://api.github.com/users/Mohit-Ak/repos", "events_url": "https://api.github.com/users/Mohit-Ak/events{/privacy}", "received_events_url": "https://api.github.com/users/Mohit-Ak/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-23T19:22:34Z", "updated_at": "2017-10-23T19:22:34Z", "author_association": "NONE", "body_html": "<p>Here are the cloud logs. Just for the reference. We could do a ctrl+F for \"JPEG\" and find a lot of matches.</p>\n<p>21:44:47.081 - Not a JPEG file: starts with 0x89 0x50<br>\nTraceback (most recent call last): File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main \"<strong>main</strong>\", fname, loader, pkg_name) File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code exec code in run_globals File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 198, in  tf.app.run() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run _sys.exit(main(_sys.argv[:1] + flags_passthrough)) File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 194, in main worker_job_name, is_chief, FLAGS.train_dir) File \"/root/.local/lib/python2.7/site-packages/object_detection/trainer.py\", line 296, in train saver=saver) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/learning.py\", line 804, in train raise File \"/usr/lib/python2.7/contextlib.py\", line 35, in <strong>exit</strong> self.gen.throw(type, value, traceback) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/supervisor.py\", line 960, in managed_session self.stop(close_summary_writer=close_summary_writer) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/supervisor.py\", line 788, in stop stop_grace_period_secs=self._stop_grace_secs) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/coordinator.py\", line 386, in join six.reraise(*self._exc_info_to_raise) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/queue_runner_impl.py\", line 234, in _run sess.run(enqueue_op) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 767, in run run_metadata_ptr) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 965, in _run feed_dict_string, options, run_metadata) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1015, in _do_run target_list, options, run_metadata) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1035, in _do_call raise type(e)(node_def, op, message) InvalidArgumentError: Invalid JPEG data, size 881303 [[Node: case/If_0/DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, dct_method=\"\", fancy_upscaling=true, ratio=1, try_recover_truncated=false, _device=\"/job:master/replica:0/task:0/cpu:0\"](case/If_0/DecodeJpeg/Switch:1, ^case/Assert/AssertGuard/Merge)]] Caused by op u'case/If_0/DecodeJpeg', defined at: File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main \"<strong>main</strong>\", fname, loader, pkg_name) File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code exec code in run_globals File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 198, in  tf.app.run() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run _sys.exit(main(_sys.argv[:1] + flags_passthrough)) File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 194, in main worker_job_name, is_chief, FLAGS.train_dir) File \"/root/.local/lib/python2.7/site-packages/object_detection/trainer.py\", line 184, in train data_augmentation_options) File \"/root/.local/lib/python2.7/site-packages/object_detection/trainer.py\", line 59, in _create_input_queue tensor_dict = create_tensor_dict_fn() File \"/root/.local/lib/python2.7/site-packages/object_detection/builders/input_reader_builder.py\", line 63, in build return tf_example_decoder.TfExampleDecoder().decode(string_tensor) File \"/root/.local/lib/python2.7/site-packages/object_detection/data_decoders/tf_example_decoder.py\", line 121, in decode tensors = decoder.decode(serialized_example, items=keys) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 418, in decode outputs.append(handler.tensors_to_item(keys_to_tensors)) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 302, in tensors_to_item return self._decode(image_buffer, image_format) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 345, in _decode pred_fn_pairs, default=default_decoder, exclusive=True) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 2973, in case case_seq = _build_case() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 2955, in <em>build_case name=\"If</em>%d\" % i) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 1738, in cond orig_res, res_t = context_t.BuildCondBranch(fn1) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 1639, in BuildCondBranch r = fn() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 323, in decode_jpg return image_ops.decode_jpeg(image_buffer, self._channels) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_image_ops.py\", line 345, in decode_jpeg dct_method=dct_method, name=name) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 763, in apply_op op_def=op_def) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2327, in create_op original_op=self._default_original_op, op_def=op_def) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1226, in <strong>init</strong> self._traceback = _extract_stack() InvalidArgumentError (see above for traceback): Invalid JPEG data, size 881303 [[Node: case/If_0/DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, dct_method=\"\", fancy_upscaling=true, ratio=1, try_recover_truncated=false, _device=\"/job:master/replica:0/task:0/cpu:0\"](case/If_0/DecodeJpeg/Switch:1, ^case/Assert/AssertGuard/Merge)]]</p>", "body_text": "Here are the cloud logs. Just for the reference. We could do a ctrl+F for \"JPEG\" and find a lot of matches.\n21:44:47.081 - Not a JPEG file: starts with 0x89 0x50\nTraceback (most recent call last): File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main \"main\", fname, loader, pkg_name) File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code exec code in run_globals File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 198, in  tf.app.run() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run _sys.exit(main(_sys.argv[:1] + flags_passthrough)) File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 194, in main worker_job_name, is_chief, FLAGS.train_dir) File \"/root/.local/lib/python2.7/site-packages/object_detection/trainer.py\", line 296, in train saver=saver) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/learning.py\", line 804, in train raise File \"/usr/lib/python2.7/contextlib.py\", line 35, in exit self.gen.throw(type, value, traceback) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/supervisor.py\", line 960, in managed_session self.stop(close_summary_writer=close_summary_writer) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/supervisor.py\", line 788, in stop stop_grace_period_secs=self._stop_grace_secs) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/coordinator.py\", line 386, in join six.reraise(*self._exc_info_to_raise) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/queue_runner_impl.py\", line 234, in _run sess.run(enqueue_op) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 767, in run run_metadata_ptr) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 965, in _run feed_dict_string, options, run_metadata) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1015, in _do_run target_list, options, run_metadata) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1035, in _do_call raise type(e)(node_def, op, message) InvalidArgumentError: Invalid JPEG data, size 881303 [[Node: case/If_0/DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, dct_method=\"\", fancy_upscaling=true, ratio=1, try_recover_truncated=false, _device=\"/job:master/replica:0/task:0/cpu:0\"](case/If_0/DecodeJpeg/Switch:1, ^case/Assert/AssertGuard/Merge)]] Caused by op u'case/If_0/DecodeJpeg', defined at: File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main \"main\", fname, loader, pkg_name) File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code exec code in run_globals File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 198, in  tf.app.run() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run _sys.exit(main(_sys.argv[:1] + flags_passthrough)) File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 194, in main worker_job_name, is_chief, FLAGS.train_dir) File \"/root/.local/lib/python2.7/site-packages/object_detection/trainer.py\", line 184, in train data_augmentation_options) File \"/root/.local/lib/python2.7/site-packages/object_detection/trainer.py\", line 59, in _create_input_queue tensor_dict = create_tensor_dict_fn() File \"/root/.local/lib/python2.7/site-packages/object_detection/builders/input_reader_builder.py\", line 63, in build return tf_example_decoder.TfExampleDecoder().decode(string_tensor) File \"/root/.local/lib/python2.7/site-packages/object_detection/data_decoders/tf_example_decoder.py\", line 121, in decode tensors = decoder.decode(serialized_example, items=keys) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 418, in decode outputs.append(handler.tensors_to_item(keys_to_tensors)) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 302, in tensors_to_item return self._decode(image_buffer, image_format) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 345, in _decode pred_fn_pairs, default=default_decoder, exclusive=True) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 2973, in case case_seq = _build_case() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 2955, in build_case name=\"If%d\" % i) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 1738, in cond orig_res, res_t = context_t.BuildCondBranch(fn1) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 1639, in BuildCondBranch r = fn() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 323, in decode_jpg return image_ops.decode_jpeg(image_buffer, self._channels) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_image_ops.py\", line 345, in decode_jpeg dct_method=dct_method, name=name) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 763, in apply_op op_def=op_def) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2327, in create_op original_op=self._default_original_op, op_def=op_def) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1226, in init self._traceback = _extract_stack() InvalidArgumentError (see above for traceback): Invalid JPEG data, size 881303 [[Node: case/If_0/DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, dct_method=\"\", fancy_upscaling=true, ratio=1, try_recover_truncated=false, _device=\"/job:master/replica:0/task:0/cpu:0\"](case/If_0/DecodeJpeg/Switch:1, ^case/Assert/AssertGuard/Merge)]]", "body": "Here are the cloud logs. Just for the reference. We could do a ctrl+F for \"JPEG\" and find a lot of matches.\r\n\r\n21:44:47.081 - Not a JPEG file: starts with 0x89 0x50\r\nTraceback (most recent call last): File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main \"__main__\", fname, loader, pkg_name) File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code exec code in run_globals File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 198, in <module> tf.app.run() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run _sys.exit(main(_sys.argv[:1] + flags_passthrough)) File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 194, in main worker_job_name, is_chief, FLAGS.train_dir) File \"/root/.local/lib/python2.7/site-packages/object_detection/trainer.py\", line 296, in train saver=saver) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/learning.py\", line 804, in train raise File \"/usr/lib/python2.7/contextlib.py\", line 35, in __exit__ self.gen.throw(type, value, traceback) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/supervisor.py\", line 960, in managed_session self.stop(close_summary_writer=close_summary_writer) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/supervisor.py\", line 788, in stop stop_grace_period_secs=self._stop_grace_secs) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/coordinator.py\", line 386, in join six.reraise(*self._exc_info_to_raise) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/queue_runner_impl.py\", line 234, in _run sess.run(enqueue_op) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 767, in run run_metadata_ptr) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 965, in _run feed_dict_string, options, run_metadata) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1015, in _do_run target_list, options, run_metadata) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1035, in _do_call raise type(e)(node_def, op, message) InvalidArgumentError: Invalid JPEG data, size 881303 [[Node: case/If_0/DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, dct_method=\"\", fancy_upscaling=true, ratio=1, try_recover_truncated=false, _device=\"/job:master/replica:0/task:0/cpu:0\"](case/If_0/DecodeJpeg/Switch:1, ^case/Assert/AssertGuard/Merge)]] Caused by op u'case/If_0/DecodeJpeg', defined at: File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main \"__main__\", fname, loader, pkg_name) File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code exec code in run_globals File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 198, in <module> tf.app.run() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run _sys.exit(main(_sys.argv[:1] + flags_passthrough)) File \"/root/.local/lib/python2.7/site-packages/object_detection/train.py\", line 194, in main worker_job_name, is_chief, FLAGS.train_dir) File \"/root/.local/lib/python2.7/site-packages/object_detection/trainer.py\", line 184, in train data_augmentation_options) File \"/root/.local/lib/python2.7/site-packages/object_detection/trainer.py\", line 59, in _create_input_queue tensor_dict = create_tensor_dict_fn() File \"/root/.local/lib/python2.7/site-packages/object_detection/builders/input_reader_builder.py\", line 63, in build return tf_example_decoder.TfExampleDecoder().decode(string_tensor) File \"/root/.local/lib/python2.7/site-packages/object_detection/data_decoders/tf_example_decoder.py\", line 121, in decode tensors = decoder.decode(serialized_example, items=keys) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 418, in decode outputs.append(handler.tensors_to_item(keys_to_tensors)) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 302, in tensors_to_item return self._decode(image_buffer, image_format) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 345, in _decode pred_fn_pairs, default=default_decoder, exclusive=True) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 2973, in case case_seq = _build_case() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 2955, in _build_case name=\"If_%d\" % i) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 1738, in cond orig_res, res_t = context_t.BuildCondBranch(fn1) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 1639, in BuildCondBranch r = fn() File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/slim/python/slim/data/tfexample_decoder.py\", line 323, in decode_jpg return image_ops.decode_jpeg(image_buffer, self._channels) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_image_ops.py\", line 345, in decode_jpeg dct_method=dct_method, name=name) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 763, in apply_op op_def=op_def) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2327, in create_op original_op=self._default_original_op, op_def=op_def) File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1226, in __init__ self._traceback = _extract_stack() InvalidArgumentError (see above for traceback): Invalid JPEG data, size 881303 [[Node: case/If_0/DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, dct_method=\"\", fancy_upscaling=true, ratio=1, try_recover_truncated=false, _device=\"/job:master/replica:0/task:0/cpu:0\"](case/If_0/DecodeJpeg/Switch:1, ^case/Assert/AssertGuard/Merge)]]"}