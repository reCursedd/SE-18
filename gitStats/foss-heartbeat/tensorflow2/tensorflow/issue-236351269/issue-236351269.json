{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10749", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10749/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10749/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10749/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10749", "id": 236351269, "node_id": "MDU6SXNzdWUyMzYzNTEyNjk=", "number": 10749, "title": "Numpy.fft.fft2() gives different result than tf.fft2d()", "user": {"login": "Sushobhan04", "id": 18488880, "node_id": "MDQ6VXNlcjE4NDg4ODgw", "avatar_url": "https://avatars3.githubusercontent.com/u/18488880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sushobhan04", "html_url": "https://github.com/Sushobhan04", "followers_url": "https://api.github.com/users/Sushobhan04/followers", "following_url": "https://api.github.com/users/Sushobhan04/following{/other_user}", "gists_url": "https://api.github.com/users/Sushobhan04/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sushobhan04/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sushobhan04/subscriptions", "organizations_url": "https://api.github.com/users/Sushobhan04/orgs", "repos_url": "https://api.github.com/users/Sushobhan04/repos", "events_url": "https://api.github.com/users/Sushobhan04/events{/privacy}", "received_events_url": "https://api.github.com/users/Sushobhan04/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 31, "created_at": "2017-06-16T00:45:28Z", "updated_at": "2018-09-17T12:20:53Z", "closed_at": "2018-06-25T18:59:45Z", "author_association": "NONE", "body_html": "<p>as mentioned in the issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"196429068\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/6401\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/6401/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/6401\">#6401</a>, the tf.fft2d() gives different result compared to np.fft.fft2(). Is there a reason for this ?</p>\n<p>Note : numpy gives proper fourier transform after np.fft.fftshift(), and I have taken care of that in my code.<br>\nThe differences are not visible here, but the mean squared error is significant.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/18488880/27207200-84637a88-5202-11e7-9d49-d22cf9a8057d.png\"><img src=\"https://user-images.githubusercontent.com/18488880/27207200-84637a88-5202-11e7-9d49-d22cf9a8057d.png\" alt=\"image1\" style=\"max-width:100%;\"></a><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/18488880/27207198-8462f2b6-5202-11e7-88c2-7114b36c696a.png\"><img src=\"https://user-images.githubusercontent.com/18488880/27207198-8462f2b6-5202-11e7-88c2-7114b36c696a.png\" alt=\"image2\" style=\"max-width:100%;\"></a>    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/18488880/27207199-8462fe50-5202-11e7-8d7b-bca01bba063b.png\"><img src=\"https://user-images.githubusercontent.com/18488880/27207199-8462fe50-5202-11e7-8d7b-bca01bba063b.png\" alt=\"image3\" style=\"max-width:100%;\"></a>   <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/18488880/27207631-f2a41284-5205-11e7-91a6-336d75755787.png\"><img src=\"https://user-images.githubusercontent.com/18488880/27207631-f2a41284-5205-11e7-91a6-336d75755787.png\" alt=\"image4\" style=\"max-width:100%;\"></a></p>\n<p>Second image is the fft using tensorflow, and third one is using numpy. You can see the difference in the corners. The fourth image is the difference between the two images times 10.</p>\n<p>(tf has some features while numpy does not)</p>\n<p>I am working on an application which uses fft in backpropagation and thus it is of absolute importance that the fft in numpy are same as fft by tf.</p>\n<p>My question is - Why is there a difference and how can I get the same fft as numpy ?</p>", "body_text": "as mentioned in the issue #6401, the tf.fft2d() gives different result compared to np.fft.fft2(). Is there a reason for this ?\nNote : numpy gives proper fourier transform after np.fft.fftshift(), and I have taken care of that in my code.\nThe differences are not visible here, but the mean squared error is significant.\n       \nSecond image is the fft using tensorflow, and third one is using numpy. You can see the difference in the corners. The fourth image is the difference between the two images times 10.\n(tf has some features while numpy does not)\nI am working on an application which uses fft in backpropagation and thus it is of absolute importance that the fft in numpy are same as fft by tf.\nMy question is - Why is there a difference and how can I get the same fft as numpy ?", "body": "as mentioned in the issue #6401, the tf.fft2d() gives different result compared to np.fft.fft2(). Is there a reason for this ?\r\n\r\nNote : numpy gives proper fourier transform after np.fft.fftshift(), and I have taken care of that in my code.\r\nThe differences are not visible here, but the mean squared error is significant.\r\n\r\n![image1](https://user-images.githubusercontent.com/18488880/27207200-84637a88-5202-11e7-9d49-d22cf9a8057d.png)![image2](https://user-images.githubusercontent.com/18488880/27207198-8462f2b6-5202-11e7-88c2-7114b36c696a.png)    ![image3](https://user-images.githubusercontent.com/18488880/27207199-8462fe50-5202-11e7-8d7b-bca01bba063b.png)   ![image4](https://user-images.githubusercontent.com/18488880/27207631-f2a41284-5205-11e7-91a6-336d75755787.png)\r\n\r\nSecond image is the fft using tensorflow, and third one is using numpy. You can see the difference in the corners. The fourth image is the difference between the two images times 10.\r\n\r\n (tf has some features while numpy does not)\r\n\r\nI am working on an application which uses fft in backpropagation and thus it is of absolute importance that the fft in numpy are same as fft by tf.\r\n\r\nMy question is - Why is there a difference and how can I get the same fft as numpy ?\r\n\r\n\r\n"}