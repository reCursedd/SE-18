{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/216063424", "html_url": "https://github.com/tensorflow/tensorflow/issues/1799#issuecomment-216063424", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1799", "id": 216063424, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjA2MzQyNA==", "user": {"login": "samjabrahams", "id": 11607205, "node_id": "MDQ6VXNlcjExNjA3MjA1", "avatar_url": "https://avatars0.githubusercontent.com/u/11607205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samjabrahams", "html_url": "https://github.com/samjabrahams", "followers_url": "https://api.github.com/users/samjabrahams/followers", "following_url": "https://api.github.com/users/samjabrahams/following{/other_user}", "gists_url": "https://api.github.com/users/samjabrahams/gists{/gist_id}", "starred_url": "https://api.github.com/users/samjabrahams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samjabrahams/subscriptions", "organizations_url": "https://api.github.com/users/samjabrahams/orgs", "repos_url": "https://api.github.com/users/samjabrahams/repos", "events_url": "https://api.github.com/users/samjabrahams/events{/privacy}", "received_events_url": "https://api.github.com/users/samjabrahams/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-01T18:44:17Z", "updated_at": "2016-05-01T18:59:55Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I did some looking into this, and it looks like the error is due to using <code>tf.convert_to_tensor</code> as the way to handle different-typed tensors on <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/array_ops.py#L1860-L1861\">these lines</a>. This works when passing in Numpy arrays, but not with TensorFlow constants.</p>\n<p><del><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1794715\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ebrevdo\">@ebrevdo</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=70511\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/girving\">@girving</a>, would it be possible to import <code>tf.cast</code> in <code>tensorflow/python/ops/array_ops.py</code>? I think using that instead of <code>convert_to_tensor</code> would fix this.</del></p>\n<p>I figured out that <code>cast</code> is available from <code>gen_math_ops</code>. I'll make some tweaks and send in a pull request.</p>", "body_text": "I did some looking into this, and it looks like the error is due to using tf.convert_to_tensor as the way to handle different-typed tensors on these lines. This works when passing in Numpy arrays, but not with TensorFlow constants.\n@ebrevdo @girving, would it be possible to import tf.cast in tensorflow/python/ops/array_ops.py? I think using that instead of convert_to_tensor would fix this.\nI figured out that cast is available from gen_math_ops. I'll make some tweaks and send in a pull request.", "body": "I did some looking into this, and it looks like the error is due to using `tf.convert_to_tensor` as the way to handle different-typed tensors on [these lines](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/array_ops.py#L1860-L1861). This works when passing in Numpy arrays, but not with TensorFlow constants.\n\n~~@ebrevdo @girving, would it be possible to import `tf.cast` in `tensorflow/python/ops/array_ops.py`? I think using that instead of `convert_to_tensor` would fix this.~~\n\nI figured out that `cast` is available from `gen_math_ops`. I'll make some tweaks and send in a pull request.\n"}