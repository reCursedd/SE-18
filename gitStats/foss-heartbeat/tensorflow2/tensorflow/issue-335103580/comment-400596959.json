{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/400596959", "html_url": "https://github.com/tensorflow/tensorflow/pull/20244#issuecomment-400596959", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20244", "id": 400596959, "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDU5Njk1OQ==", "user": {"login": "facaiy", "id": 1112263, "node_id": "MDQ6VXNlcjExMTIyNjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1112263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/facaiy", "html_url": "https://github.com/facaiy", "followers_url": "https://api.github.com/users/facaiy/followers", "following_url": "https://api.github.com/users/facaiy/following{/other_user}", "gists_url": "https://api.github.com/users/facaiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/facaiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/facaiy/subscriptions", "organizations_url": "https://api.github.com/users/facaiy/orgs", "repos_url": "https://api.github.com/users/facaiy/repos", "events_url": "https://api.github.com/users/facaiy/events{/privacy}", "received_events_url": "https://api.github.com/users/facaiy/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-27T08:58:08Z", "updated_at": "2018-06-27T08:58:08Z", "author_association": "MEMBER", "body_html": "<p>Thank you, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5118881\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/qlzh727\">@qlzh727</a>.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15736910\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zheng-xq\">@zheng-xq</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5061\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/alextp\">@alextp</a><br>\nGPU python 3 tests failed. I checked the log file:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-c1\">2018</span><span class=\"pl-k\">-</span><span class=\"pl-c1\">0<span class=\"pl-ii\">6</span></span><span class=\"pl-k\">-</span><span class=\"pl-c1\">26</span> <span class=\"pl-c1\">17</span>:<span class=\"pl-c1\">23</span>:<span class=\"pl-c1\">41.925524</span>: E tensorflow<span class=\"pl-k\">/</span>core<span class=\"pl-k\">/</span>framework<span class=\"pl-k\">/</span>op_segment.cc:<span class=\"pl-c1\">53</span>] Create kernel failed: Invalid argument: AttrValue must <span class=\"pl-k\">not</span> have reference <span class=\"pl-c1\">type</span> value of half_ref\n\t <span class=\"pl-k\">for</span> attr <span class=\"pl-s\"><span class=\"pl-pds\">'</span>tensor_type<span class=\"pl-pds\">'</span></span>\n\t; NodeDef: Variable<span class=\"pl-k\">/</span>_1 <span class=\"pl-k\">=</span> _Recv[_start_time=<span class=\"pl-c1\">0</span>, client_terminated=false, recv_device=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/job:localhost/replica:0/task:0/device:CPU:0<span class=\"pl-pds\">\"</span></span>, send_device=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/job:localhost/replica:0/task:0/device:GPU:0<span class=\"pl-pds\">\"</span></span>, send_device_incarnation=<span class=\"pl-c1\">1</span>, tensor_name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>edge_2_Variable<span class=\"pl-pds\">\"</span></span>, tensor_type=<span class=\"pl-c1\">DT_HALF_REF</span>, _device=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/job:localhost/replica:0/task:0/device:CPU:0<span class=\"pl-pds\">\"</span></span>](<span class=\"pl-k\">^</span>ScatterAdd<span class=\"pl-k\">/</span>indices, <span class=\"pl-k\">^</span>ScatterAdd<span class=\"pl-k\">/</span>updates); Op<span class=\"pl-k\">&lt;</span>name<span class=\"pl-k\">=</span>_Recv; signature<span class=\"pl-k\">=</span> <span class=\"pl-ii\">-&gt;</span> tensor:tensor_type; attr<span class=\"pl-k\">=</span>tensor_type:<span class=\"pl-c1\">type</span>; attr<span class=\"pl-k\">=</span>tensor_name:string; attr<span class=\"pl-k\">=</span>send_device:string; attr<span class=\"pl-k\">=</span>send_device_incarnation:<span class=\"pl-c1\">int</span>; attr<span class=\"pl-k\">=</span>recv_device:string; attr<span class=\"pl-k\">=</span>client_terminated:<span class=\"pl-c1\">bool</span>,default<span class=\"pl-k\">=</span>false; is_stateful<span class=\"pl-k\">=</span>true<span class=\"pl-k\">&gt;</span></pre></div>\n<p>There seems something wrong with updating variable. I'm not familiar with low-level implementation of Variable, do you have any idea about the problem? Thanks.</p>", "body_text": "Thank you, @qlzh727.\n@zheng-xq @alextp\nGPU python 3 tests failed. I checked the log file:\n2018-06-26 17:23:41.925524: E tensorflow/core/framework/op_segment.cc:53] Create kernel failed: Invalid argument: AttrValue must not have reference type value of half_ref\n\t for attr 'tensor_type'\n\t; NodeDef: Variable/_1 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_2_Variable\", tensor_type=DT_HALF_REF, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](^ScatterAdd/indices, ^ScatterAdd/updates); Op<name=_Recv; signature= -> tensor:tensor_type; attr=tensor_type:type; attr=tensor_name:string; attr=send_device:string; attr=send_device_incarnation:int; attr=recv_device:string; attr=client_terminated:bool,default=false; is_stateful=true>\nThere seems something wrong with updating variable. I'm not familiar with low-level implementation of Variable, do you have any idea about the problem? Thanks.", "body": "Thank you, @qlzh727. \r\n\r\n@zheng-xq @alextp \r\nGPU python 3 tests failed. I checked the log file:\r\n\r\n```python\r\n2018-06-26 17:23:41.925524: E tensorflow/core/framework/op_segment.cc:53] Create kernel failed: Invalid argument: AttrValue must not have reference type value of half_ref\r\n\t for attr 'tensor_type'\r\n\t; NodeDef: Variable/_1 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_2_Variable\", tensor_type=DT_HALF_REF, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](^ScatterAdd/indices, ^ScatterAdd/updates); Op<name=_Recv; signature= -> tensor:tensor_type; attr=tensor_type:type; attr=tensor_name:string; attr=send_device:string; attr=send_device_incarnation:int; attr=recv_device:string; attr=client_terminated:bool,default=false; is_stateful=true>\r\n```\r\n\r\nThere seems something wrong with updating variable. I'm not familiar with low-level implementation of Variable, do you have any idea about the problem? Thanks."}