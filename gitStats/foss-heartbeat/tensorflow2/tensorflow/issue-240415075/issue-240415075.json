{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11271", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11271/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11271/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11271/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11271", "id": 240415075, "node_id": "MDU6SXNzdWUyNDA0MTUwNzU=", "number": 11271, "title": "tensorflow.python.framework.errors.NotFoundError: No algorithm worked!", "user": {"login": "1234clam", "id": 15028870, "node_id": "MDQ6VXNlcjE1MDI4ODcw", "avatar_url": "https://avatars1.githubusercontent.com/u/15028870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1234clam", "html_url": "https://github.com/1234clam", "followers_url": "https://api.github.com/users/1234clam/followers", "following_url": "https://api.github.com/users/1234clam/following{/other_user}", "gists_url": "https://api.github.com/users/1234clam/gists{/gist_id}", "starred_url": "https://api.github.com/users/1234clam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1234clam/subscriptions", "organizations_url": "https://api.github.com/users/1234clam/orgs", "repos_url": "https://api.github.com/users/1234clam/repos", "events_url": "https://api.github.com/users/1234clam/events{/privacy}", "received_events_url": "https://api.github.com/users/1234clam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "yzhwang", "id": 1002405, "node_id": "MDQ6VXNlcjEwMDI0MDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1002405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzhwang", "html_url": "https://github.com/yzhwang", "followers_url": "https://api.github.com/users/yzhwang/followers", "following_url": "https://api.github.com/users/yzhwang/following{/other_user}", "gists_url": "https://api.github.com/users/yzhwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzhwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzhwang/subscriptions", "organizations_url": "https://api.github.com/users/yzhwang/orgs", "repos_url": "https://api.github.com/users/yzhwang/repos", "events_url": "https://api.github.com/users/yzhwang/events{/privacy}", "received_events_url": "https://api.github.com/users/yzhwang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yzhwang", "id": 1002405, "node_id": "MDQ6VXNlcjEwMDI0MDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1002405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzhwang", "html_url": "https://github.com/yzhwang", "followers_url": "https://api.github.com/users/yzhwang/followers", "following_url": "https://api.github.com/users/yzhwang/following{/other_user}", "gists_url": "https://api.github.com/users/yzhwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzhwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzhwang/subscriptions", "organizations_url": "https://api.github.com/users/yzhwang/orgs", "repos_url": "https://api.github.com/users/yzhwang/repos", "events_url": "https://api.github.com/users/yzhwang/events{/privacy}", "received_events_url": "https://api.github.com/users/yzhwang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-07-04T13:04:29Z", "updated_at": "2018-01-24T21:14:42Z", "closed_at": "2018-01-24T21:14:42Z", "author_association": "NONE", "body_html": "<p>I install the TensorFlow 0.10.0 on Ubuntu 14.0.4 with cuda 7.5 and cudnn 5.1.The GPU is GTX980<br>\nwhen I run a softmax example on minst dataset the TensorFlow can work but when i build CNN with TensorFlow it will cause error.</p>\n<pre><code>I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nExtracting MNIST_data/train-images-idx3-ubyte.gz\nExtracting MNIST_data/train-labels-idx1-ubyte.gz\nExtracting MNIST_data/t10k-images-idx3-ubyte.gz\nExtracting MNIST_data/t10k-labels-idx1-ubyte.gz\nStart to train the convolutional neural network......\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\npciBusID 0000:02:00.0\nTotal memory: 3.94GiB\nFree memory: 3.82GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x27e67f0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: GeForce GTX 980\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\npciBusID 0000:03:00.0\nTotal memory: 3.94GiB\nFree memory: 3.87GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y Y \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   Y Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:838] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 980, pci bus id: 0000:02:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:838] Creating TensorFlow device (/gpu:1) -&gt; (device: 1, name: GeForce GTX 980, pci bus id: 0000:03:00.0)\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\nTraceback (most recent call last):\n  File \"test.py\", line 69, in &lt;module&gt;\n    test_cnn()  \n  File \"test.py\", line 59, in test_cnn\n    sess.run(fetches=Step_train, feed_dict={x:batch[0], y:batch[1], dropout_prob:0.5})  \n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 710, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 908, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 958, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 978, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.NotFoundError: No algorithm worked!\n\t [[Node: Conv2D_1 = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](MaxPool, weight_1/read)]]\nCaused by op u'Conv2D_1', defined at:\n  File \"test.py\", line 69, in &lt;module&gt;\n    test_cnn()\n  File \"test.py\", line 35, in test_cnn\n    conv2_out = tf.nn.relu(conv_2d(pool1_out, w_conv2)+b_conv2)\n  File \"test.py\", line 12, in conv_2d\n    return tf.nn.conv2d(input=x, filter=w, strides=[1, 1, 1, 1], padding=\"SAME\")\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_nn_ops.py\", line 394, in conv2d\n    data_format=data_format, name=name)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 703, in apply_op\n    op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2317, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1239, in __init__\n    self._traceback = _extract_stack()\n\nE tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:643] Deallocating stream with pending work\n^CWrite failed: Broken pipe\n</code></pre>\n<p>if you can help me solve the problem or give some advice, it will be great</p>", "body_text": "I install the TensorFlow 0.10.0 on Ubuntu 14.0.4 with cuda 7.5 and cudnn 5.1.The GPU is GTX980\nwhen I run a softmax example on minst dataset the TensorFlow can work but when i build CNN with TensorFlow it will cause error.\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nExtracting MNIST_data/train-images-idx3-ubyte.gz\nExtracting MNIST_data/train-labels-idx1-ubyte.gz\nExtracting MNIST_data/t10k-images-idx3-ubyte.gz\nExtracting MNIST_data/t10k-labels-idx1-ubyte.gz\nStart to train the convolutional neural network......\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\npciBusID 0000:02:00.0\nTotal memory: 3.94GiB\nFree memory: 3.82GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x27e67f0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: GeForce GTX 980\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\npciBusID 0000:03:00.0\nTotal memory: 3.94GiB\nFree memory: 3.87GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y Y \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   Y Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:838] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:02:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:838] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX 980, pci bus id: 0000:03:00.0)\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\nTraceback (most recent call last):\n  File \"test.py\", line 69, in <module>\n    test_cnn()  \n  File \"test.py\", line 59, in test_cnn\n    sess.run(fetches=Step_train, feed_dict={x:batch[0], y:batch[1], dropout_prob:0.5})  \n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 710, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 908, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 958, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 978, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.NotFoundError: No algorithm worked!\n\t [[Node: Conv2D_1 = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](MaxPool, weight_1/read)]]\nCaused by op u'Conv2D_1', defined at:\n  File \"test.py\", line 69, in <module>\n    test_cnn()\n  File \"test.py\", line 35, in test_cnn\n    conv2_out = tf.nn.relu(conv_2d(pool1_out, w_conv2)+b_conv2)\n  File \"test.py\", line 12, in conv_2d\n    return tf.nn.conv2d(input=x, filter=w, strides=[1, 1, 1, 1], padding=\"SAME\")\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_nn_ops.py\", line 394, in conv2d\n    data_format=data_format, name=name)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 703, in apply_op\n    op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2317, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1239, in __init__\n    self._traceback = _extract_stack()\n\nE tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:643] Deallocating stream with pending work\n^CWrite failed: Broken pipe\n\nif you can help me solve the problem or give some advice, it will be great", "body": "I install the TensorFlow 0.10.0 on Ubuntu 14.0.4 with cuda 7.5 and cudnn 5.1.The GPU is GTX980 \r\nwhen I run a softmax example on minst dataset the TensorFlow can work but when i build CNN with TensorFlow it will cause error.\r\n```\r\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\r\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\r\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\r\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\r\nExtracting MNIST_data/train-images-idx3-ubyte.gz\r\nExtracting MNIST_data/train-labels-idx1-ubyte.gz\r\nExtracting MNIST_data/t10k-images-idx3-ubyte.gz\r\nExtracting MNIST_data/t10k-labels-idx1-ubyte.gz\r\nStart to train the convolutional neural network......\r\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \r\nname: GeForce GTX 980\r\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\r\npciBusID 0000:02:00.0\r\nTotal memory: 3.94GiB\r\nFree memory: 3.82GiB\r\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x27e67f0\r\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \r\nname: GeForce GTX 980\r\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\r\npciBusID 0000:03:00.0\r\nTotal memory: 3.94GiB\r\nFree memory: 3.87GiB\r\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1 \r\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y Y \r\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   Y Y \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:838] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:02:00.0)\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:838] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX 980, pci bus id: 0000:03:00.0)\r\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\r\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\r\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\r\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\r\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1115] failed to get elapsed time between events: CUDA_ERROR_NOT_READY\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 69, in <module>\r\n    test_cnn()  \r\n  File \"test.py\", line 59, in test_cnn\r\n    sess.run(fetches=Step_train, feed_dict={x:batch[0], y:batch[1], dropout_prob:0.5})  \r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 710, in run\r\n    run_metadata_ptr)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 908, in _run\r\n    feed_dict_string, options, run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 958, in _do_run\r\n    target_list, options, run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 978, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors.NotFoundError: No algorithm worked!\r\n\t [[Node: Conv2D_1 = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", padding=\"SAME\", strides=[1, 1, 1, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](MaxPool, weight_1/read)]]\r\nCaused by op u'Conv2D_1', defined at:\r\n  File \"test.py\", line 69, in <module>\r\n    test_cnn()\r\n  File \"test.py\", line 35, in test_cnn\r\n    conv2_out = tf.nn.relu(conv_2d(pool1_out, w_conv2)+b_conv2)\r\n  File \"test.py\", line 12, in conv_2d\r\n    return tf.nn.conv2d(input=x, filter=w, strides=[1, 1, 1, 1], padding=\"SAME\")\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_nn_ops.py\", line 394, in conv2d\r\n    data_format=data_format, name=name)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 703, in apply_op\r\n    op_def=op_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2317, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1239, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nE tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:643] Deallocating stream with pending work\r\n^CWrite failed: Broken pipe\r\n```\r\nif you can help me solve the problem or give some advice, it will be great"}