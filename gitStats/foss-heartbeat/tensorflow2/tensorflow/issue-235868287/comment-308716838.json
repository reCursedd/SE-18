{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/308716838", "html_url": "https://github.com/tensorflow/tensorflow/issues/10699#issuecomment-308716838", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10699", "id": 308716838, "node_id": "MDEyOklzc3VlQ29tbWVudDMwODcxNjgzOA==", "user": {"login": "junshi15", "id": 12075848, "node_id": "MDQ6VXNlcjEyMDc1ODQ4", "avatar_url": "https://avatars3.githubusercontent.com/u/12075848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/junshi15", "html_url": "https://github.com/junshi15", "followers_url": "https://api.github.com/users/junshi15/followers", "following_url": "https://api.github.com/users/junshi15/following{/other_user}", "gists_url": "https://api.github.com/users/junshi15/gists{/gist_id}", "starred_url": "https://api.github.com/users/junshi15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/junshi15/subscriptions", "organizations_url": "https://api.github.com/users/junshi15/orgs", "repos_url": "https://api.github.com/users/junshi15/repos", "events_url": "https://api.github.com/users/junshi15/events{/privacy}", "received_events_url": "https://api.github.com/users/junshi15/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-15T12:34:14Z", "updated_at": "2017-06-15T12:34:14Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Current design only allows string tensors to change size, when a larger string tensor is requested, the buffer size increases. To allow other tensor to increase size (smaller tensors are fine), we need to remove this check <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/verbs/rdma.cc#L738\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/verbs/rdma.cc#L738</a>.</p>\n<p>Note there is no mechanism to shrink the buffer size, so in the end, the buffer is as large as the largest tensor seen so far. If the large tensor tensor is rare, we probably should shrink the buffer to save the memory usage. But maybe this is not an issue in most cases.</p>", "body_text": "Current design only allows string tensors to change size, when a larger string tensor is requested, the buffer size increases. To allow other tensor to increase size (smaller tensors are fine), we need to remove this check https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/verbs/rdma.cc#L738.\nNote there is no mechanism to shrink the buffer size, so in the end, the buffer is as large as the largest tensor seen so far. If the large tensor tensor is rare, we probably should shrink the buffer to save the memory usage. But maybe this is not an issue in most cases.", "body": "Current design only allows string tensors to change size, when a larger string tensor is requested, the buffer size increases. To allow other tensor to increase size (smaller tensors are fine), we need to remove this check https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/verbs/rdma.cc#L738. \r\n\r\nNote there is no mechanism to shrink the buffer size, so in the end, the buffer is as large as the largest tensor seen so far. If the large tensor tensor is rare, we probably should shrink the buffer to save the memory usage. But maybe this is not an issue in most cases."}