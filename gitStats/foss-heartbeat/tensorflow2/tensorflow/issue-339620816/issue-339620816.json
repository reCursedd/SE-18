{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20655", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20655/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20655/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20655/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/20655", "id": 339620816, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAwMjMwNDgy", "number": 20655, "title": "Fix shape fn", "user": {"login": "aaroey", "id": 31743510, "node_id": "MDQ6VXNlcjMxNzQzNTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/31743510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaroey", "html_url": "https://github.com/aaroey", "followers_url": "https://api.github.com/users/aaroey/followers", "following_url": "https://api.github.com/users/aaroey/following{/other_user}", "gists_url": "https://api.github.com/users/aaroey/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaroey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaroey/subscriptions", "organizations_url": "https://api.github.com/users/aaroey/orgs", "repos_url": "https://api.github.com/users/aaroey/repos", "events_url": "https://api.github.com/users/aaroey/events{/privacy}", "received_events_url": "https://api.github.com/users/aaroey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "aaroey", "id": 31743510, "node_id": "MDQ6VXNlcjMxNzQzNTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/31743510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaroey", "html_url": "https://github.com/aaroey", "followers_url": "https://api.github.com/users/aaroey/followers", "following_url": "https://api.github.com/users/aaroey/following{/other_user}", "gists_url": "https://api.github.com/users/aaroey/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaroey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaroey/subscriptions", "organizations_url": "https://api.github.com/users/aaroey/orgs", "repos_url": "https://api.github.com/users/aaroey/repos", "events_url": "https://api.github.com/users/aaroey/events{/privacy}", "received_events_url": "https://api.github.com/users/aaroey/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aaroey", "id": 31743510, "node_id": "MDQ6VXNlcjMxNzQzNTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/31743510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaroey", "html_url": "https://github.com/aaroey", "followers_url": "https://api.github.com/users/aaroey/followers", "following_url": "https://api.github.com/users/aaroey/following{/other_user}", "gists_url": "https://api.github.com/users/aaroey/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaroey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaroey/subscriptions", "organizations_url": "https://api.github.com/users/aaroey/orgs", "repos_url": "https://api.github.com/users/aaroey/repos", "events_url": "https://api.github.com/users/aaroey/events{/privacy}", "received_events_url": "https://api.github.com/users/aaroey/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-07-09T21:54:55Z", "updated_at": "2018-07-11T15:40:51Z", "closed_at": "2018-07-11T15:40:30Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20655", "html_url": "https://github.com/tensorflow/tensorflow/pull/20655", "diff_url": "https://github.com/tensorflow/tensorflow/pull/20655.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/20655.patch"}, "body_html": "<p>The shape fn used <code>context-&gt;input_tensor(i)</code> which will result in segfault since the tensor is not available during shape inference. This PR fix the issue as well as making sure that the input/output shape set in the attr match the actual shape before it proceed. The ideal solution would be to run the shape inference using the subgraph, but I'll leave it to the future.</p>", "body_text": "The shape fn used context->input_tensor(i) which will result in segfault since the tensor is not available during shape inference. This PR fix the issue as well as making sure that the input/output shape set in the attr match the actual shape before it proceed. The ideal solution would be to run the shape inference using the subgraph, but I'll leave it to the future.", "body": "The shape fn used `context->input_tensor(i)` which will result in segfault since the tensor is not available during shape inference. This PR fix the issue as well as making sure that the input/output shape set in the attr match the actual shape before it proceed. The ideal solution would be to run the shape inference using the subgraph, but I'll leave it to the future."}