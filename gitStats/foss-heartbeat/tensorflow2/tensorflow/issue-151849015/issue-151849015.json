{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2166", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2166/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2166/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2166/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2166", "id": 151849015, "node_id": "MDU6SXNzdWUxNTE4NDkwMTU=", "number": 2166, "title": "Restored variables have unknown shape?", "user": {"login": "rlrs", "id": 7533072, "node_id": "MDQ6VXNlcjc1MzMwNzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/7533072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rlrs", "html_url": "https://github.com/rlrs", "followers_url": "https://api.github.com/users/rlrs/followers", "following_url": "https://api.github.com/users/rlrs/following{/other_user}", "gists_url": "https://api.github.com/users/rlrs/gists{/gist_id}", "starred_url": "https://api.github.com/users/rlrs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rlrs/subscriptions", "organizations_url": "https://api.github.com/users/rlrs/orgs", "repos_url": "https://api.github.com/users/rlrs/repos", "events_url": "https://api.github.com/users/rlrs/events{/privacy}", "received_events_url": "https://api.github.com/users/rlrs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sherrym", "id": 12770037, "node_id": "MDQ6VXNlcjEyNzcwMDM3", "avatar_url": "https://avatars0.githubusercontent.com/u/12770037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherrym", "html_url": "https://github.com/sherrym", "followers_url": "https://api.github.com/users/sherrym/followers", "following_url": "https://api.github.com/users/sherrym/following{/other_user}", "gists_url": "https://api.github.com/users/sherrym/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherrym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherrym/subscriptions", "organizations_url": "https://api.github.com/users/sherrym/orgs", "repos_url": "https://api.github.com/users/sherrym/repos", "events_url": "https://api.github.com/users/sherrym/events{/privacy}", "received_events_url": "https://api.github.com/users/sherrym/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sherrym", "id": 12770037, "node_id": "MDQ6VXNlcjEyNzcwMDM3", "avatar_url": "https://avatars0.githubusercontent.com/u/12770037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherrym", "html_url": "https://github.com/sherrym", "followers_url": "https://api.github.com/users/sherrym/followers", "following_url": "https://api.github.com/users/sherrym/following{/other_user}", "gists_url": "https://api.github.com/users/sherrym/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherrym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherrym/subscriptions", "organizations_url": "https://api.github.com/users/sherrym/orgs", "repos_url": "https://api.github.com/users/sherrym/repos", "events_url": "https://api.github.com/users/sherrym/events{/privacy}", "received_events_url": "https://api.github.com/users/sherrym/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-04-29T11:51:15Z", "updated_at": "2016-08-06T16:24:11Z", "closed_at": "2016-05-05T18:47:24Z", "author_association": "NONE", "body_html": "<p>When restoring a saved graph, the variables all have <code>&lt;unknown&gt;</code> shape. I have searched a lot, and haven't seen this problem anywhere else. It is also stated in the docs that the size of variables is indeed saved, so it is confusing to me why it is not restored?</p>\n<p>Relevant part of the code:</p>\n<pre><code>saved = tf.train.import_meta_graph('save.ckpt.meta')\nsaved.restore(sess, 'save.ckpt')\nfor x in tf.trainable_variables():\n  print x.get_shape()\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;unknown&gt;\n&lt;unknown&gt;\n&lt;unknown&gt;\n&lt;unknown&gt;\n... etc\n</code></pre>", "body_text": "When restoring a saved graph, the variables all have <unknown> shape. I have searched a lot, and haven't seen this problem anywhere else. It is also stated in the docs that the size of variables is indeed saved, so it is confusing to me why it is not restored?\nRelevant part of the code:\nsaved = tf.train.import_meta_graph('save.ckpt.meta')\nsaved.restore(sess, 'save.ckpt')\nfor x in tf.trainable_variables():\n  print x.get_shape()\n\nOutput:\n<unknown>\n<unknown>\n<unknown>\n<unknown>\n... etc", "body": "When restoring a saved graph, the variables all have `<unknown>` shape. I have searched a lot, and haven't seen this problem anywhere else. It is also stated in the docs that the size of variables is indeed saved, so it is confusing to me why it is not restored?\n\nRelevant part of the code:\n\n```\nsaved = tf.train.import_meta_graph('save.ckpt.meta')\nsaved.restore(sess, 'save.ckpt')\nfor x in tf.trainable_variables():\n  print x.get_shape()\n```\n\nOutput:\n\n```\n<unknown>\n<unknown>\n<unknown>\n<unknown>\n... etc\n```\n"}