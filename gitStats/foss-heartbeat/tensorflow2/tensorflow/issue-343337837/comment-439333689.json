{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/439333689", "html_url": "https://github.com/tensorflow/tensorflow/pull/21023#issuecomment-439333689", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21023", "id": 439333689, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTMzMzY4OQ==", "user": {"login": "smillius", "id": 37065579, "node_id": "MDQ6VXNlcjM3MDY1NTc5", "avatar_url": "https://avatars3.githubusercontent.com/u/37065579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smillius", "html_url": "https://github.com/smillius", "followers_url": "https://api.github.com/users/smillius/followers", "following_url": "https://api.github.com/users/smillius/following{/other_user}", "gists_url": "https://api.github.com/users/smillius/gists{/gist_id}", "starred_url": "https://api.github.com/users/smillius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smillius/subscriptions", "organizations_url": "https://api.github.com/users/smillius/orgs", "repos_url": "https://api.github.com/users/smillius/repos", "events_url": "https://api.github.com/users/smillius/events{/privacy}", "received_events_url": "https://api.github.com/users/smillius/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-16T09:27:44Z", "updated_at": "2018-11-16T09:27:44Z", "author_association": "NONE", "body_html": "<p>As mentioned internally, this change incorrectly assumes that the channel_multiplier is 1.<br>\nA DepthwiseConv2dNative has a filter tensor of shape:<br>\n[filter_height, filter_width, in_channels, channel_multiplier]<br>\nSo the output has in_channels * channel_multiplier many channels, and that one needs to match the dimension of mul_values.</p>\n<p>Maybe we can add a test for this?<br>\nAlso it may make sense to not hard fail here but gracefully just not handle this case.</p>", "body_text": "As mentioned internally, this change incorrectly assumes that the channel_multiplier is 1.\nA DepthwiseConv2dNative has a filter tensor of shape:\n[filter_height, filter_width, in_channels, channel_multiplier]\nSo the output has in_channels * channel_multiplier many channels, and that one needs to match the dimension of mul_values.\nMaybe we can add a test for this?\nAlso it may make sense to not hard fail here but gracefully just not handle this case.", "body": "As mentioned internally, this change incorrectly assumes that the channel_multiplier is 1.\r\nA DepthwiseConv2dNative has a filter tensor of shape:\r\n[filter_height, filter_width, in_channels, channel_multiplier]\r\nSo the output has in_channels * channel_multiplier many channels, and that one needs to match the dimension of mul_values.\r\n\r\nMaybe we can add a test for this?\r\nAlso it may make sense to not hard fail here but gracefully just not handle this case.\r\n"}