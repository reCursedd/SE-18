{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/439462413", "html_url": "https://github.com/tensorflow/tensorflow/pull/21023#issuecomment-439462413", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21023", "id": 439462413, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTQ2MjQxMw==", "user": {"login": "zhaoyongke", "id": 6440501, "node_id": "MDQ6VXNlcjY0NDA1MDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6440501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhaoyongke", "html_url": "https://github.com/zhaoyongke", "followers_url": "https://api.github.com/users/zhaoyongke/followers", "following_url": "https://api.github.com/users/zhaoyongke/following{/other_user}", "gists_url": "https://api.github.com/users/zhaoyongke/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhaoyongke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhaoyongke/subscriptions", "organizations_url": "https://api.github.com/users/zhaoyongke/orgs", "repos_url": "https://api.github.com/users/zhaoyongke/repos", "events_url": "https://api.github.com/users/zhaoyongke/events{/privacy}", "received_events_url": "https://api.github.com/users/zhaoyongke/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-16T17:13:57Z", "updated_at": "2018-11-16T17:13:57Z", "author_association": "CONTRIBUTOR", "body_html": "<blockquote>\n<p>As mentioned internally, this change incorrectly assumes that the channel_multiplier is 1.<br>\nA DepthwiseConv2dNative has a filter tensor of shape:<br>\n[filter_height, filter_width, in_channels, channel_multiplier]<br>\nSo the output has in_channels * channel_multiplier many channels, and that one needs to match the dimension of mul_values.</p>\n</blockquote>\n<p>Sorry, I missed channel_multiplier param. I'll fix it soon.</p>\n<blockquote>\n<p>Maybe we can add a test for this?<br>\nAlso it may make sense to not hard fail here but gracefully just not handle this case.</p>\n</blockquote>\n<p>Good suggestion!</p>", "body_text": "As mentioned internally, this change incorrectly assumes that the channel_multiplier is 1.\nA DepthwiseConv2dNative has a filter tensor of shape:\n[filter_height, filter_width, in_channels, channel_multiplier]\nSo the output has in_channels * channel_multiplier many channels, and that one needs to match the dimension of mul_values.\n\nSorry, I missed channel_multiplier param. I'll fix it soon.\n\nMaybe we can add a test for this?\nAlso it may make sense to not hard fail here but gracefully just not handle this case.\n\nGood suggestion!", "body": "> As mentioned internally, this change incorrectly assumes that the channel_multiplier is 1.\r\n> A DepthwiseConv2dNative has a filter tensor of shape:\r\n> [filter_height, filter_width, in_channels, channel_multiplier]\r\n> So the output has in_channels * channel_multiplier many channels, and that one needs to match the dimension of mul_values.\r\n\r\nSorry, I missed channel_multiplier param. I'll fix it soon.\r\n\r\n> \r\n> Maybe we can add a test for this?\r\n> Also it may make sense to not hard fail here but gracefully just not handle this case.\r\n\r\nGood suggestion!\r\n"}