{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/223701349", "html_url": "https://github.com/tensorflow/tensorflow/issues/2640#issuecomment-223701349", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2640", "id": 223701349, "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzcwMTM0OQ==", "user": {"login": "andrewharp", "id": 3376817, "node_id": "MDQ6VXNlcjMzNzY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3376817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewharp", "html_url": "https://github.com/andrewharp", "followers_url": "https://api.github.com/users/andrewharp/followers", "following_url": "https://api.github.com/users/andrewharp/following{/other_user}", "gists_url": "https://api.github.com/users/andrewharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewharp/subscriptions", "organizations_url": "https://api.github.com/users/andrewharp/orgs", "repos_url": "https://api.github.com/users/andrewharp/repos", "events_url": "https://api.github.com/users/andrewharp/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewharp/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-03T21:39:36Z", "updated_at": "2016-06-03T22:02:15Z", "author_association": "MEMBER", "body_html": "<p>Bazel 0.2.3 doesn't support NDK r11. Support was added in commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/bazelbuild/bazel/commit/abdaff492440b373bacd016d772ef73611a27901/hovercard\" href=\"https://github.com/bazelbuild/bazel/commit/abdaff492440b373bacd016d772ef73611a27901\">bazelbuild/bazel@<tt>abdaff4</tt></a>, which will probably be in 0.2.4. Until then I'd suggest using r10e.</p>\n<p>As far as libpthread.so in particular, this file is actually not even necessary for the android build. It's just that protobuf assumes it will be there, so I had to add a workaround to tensorflow/examples/android/BUILD. The newer version of the protobuf library is more intelligent about adding the option, but we hadn't upgraded TF to it until recently. I'm working on a commit right now to remove libpthread.so from the android/BUILD file.</p>\n<p>You can try editing protobuf/BUILD and remove the pthreads entry from LINK_OPTS, and also remove all references to libpthread from tensorflow/examples/android/BUILD.</p>\n<p>Hopefully switching to  NDK r10e and trying to excise libpthread.so from the build will solve your problem, but if it doesn't please update with the new error.</p>\n<p>edit: updated protobuf info</p>", "body_text": "Bazel 0.2.3 doesn't support NDK r11. Support was added in commit bazelbuild/bazel@abdaff4, which will probably be in 0.2.4. Until then I'd suggest using r10e.\nAs far as libpthread.so in particular, this file is actually not even necessary for the android build. It's just that protobuf assumes it will be there, so I had to add a workaround to tensorflow/examples/android/BUILD. The newer version of the protobuf library is more intelligent about adding the option, but we hadn't upgraded TF to it until recently. I'm working on a commit right now to remove libpthread.so from the android/BUILD file.\nYou can try editing protobuf/BUILD and remove the pthreads entry from LINK_OPTS, and also remove all references to libpthread from tensorflow/examples/android/BUILD.\nHopefully switching to  NDK r10e and trying to excise libpthread.so from the build will solve your problem, but if it doesn't please update with the new error.\nedit: updated protobuf info", "body": "Bazel 0.2.3 doesn't support NDK r11. Support was added in commit https://github.com/bazelbuild/bazel/commit/abdaff492440b373bacd016d772ef73611a27901, which will probably be in 0.2.4. Until then I'd suggest using r10e.\n\nAs far as libpthread.so in particular, this file is actually not even necessary for the android build. It's just that protobuf assumes it will be there, so I had to add a workaround to tensorflow/examples/android/BUILD. The newer version of the protobuf library is more intelligent about adding the option, but we hadn't upgraded TF to it until recently. I'm working on a commit right now to remove libpthread.so from the android/BUILD file.\n\nYou can try editing protobuf/BUILD and remove the pthreads entry from LINK_OPTS, and also remove all references to libpthread from tensorflow/examples/android/BUILD.\n\nHopefully switching to  NDK r10e and trying to excise libpthread.so from the build will solve your problem, but if it doesn't please update with the new error.\n\nedit: updated protobuf info\n"}