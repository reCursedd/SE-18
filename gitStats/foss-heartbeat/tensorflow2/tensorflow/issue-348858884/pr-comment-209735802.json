{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/209735802", "pull_request_review_id": 145807776, "id": 209735802, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTczNTgwMg==", "diff_hunk": "@@ -246,6 +296,25 @@ def apply_gradients(self, grads_and_vars, global_step=None, name=None):\n       local_update = state_ops.assign_add(\n           self._local_step, 1, name='local_step_update').op\n \n+    # this is for place the variables created by optimizer to local collection\n+    # e.g., AdamOptimizer will create beta as global variables\n+    def _adjust_optimizer_variable_collection():", "path": "tensorflow/contrib/opt/python/training/elastic_average_optimizer.py", "position": null, "original_position": 170, "commit_id": "7d9a839a26b7b801ffc53eff59688672021d6a43", "original_commit_id": "167487ebf7e50e13779fb344038b2002056e9b81", "user": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "body": "I'm not sure I follow. I think this change is trying to do too much, and this will be fragile unless this optimizer is used in precisely the right way.\r\n\r\nI'd like you to find less intrusive approaches to achieve this, or more invasive approaches that prescribe the code to be written in a certain way for elastic averaging to work.", "created_at": "2018-08-13T19:48:32Z", "updated_at": "2018-08-16T18:44:18Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/21486#discussion_r209735802", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21486", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/209735802"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/21486#discussion_r209735802"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21486"}}, "body_html": "<p>I'm not sure I follow. I think this change is trying to do too much, and this will be fragile unless this optimizer is used in precisely the right way.</p>\n<p>I'd like you to find less intrusive approaches to achieve this, or more invasive approaches that prescribe the code to be written in a certain way for elastic averaging to work.</p>", "body_text": "I'm not sure I follow. I think this change is trying to do too much, and this will be fragile unless this optimizer is used in precisely the right way.\nI'd like you to find less intrusive approaches to achieve this, or more invasive approaches that prescribe the code to be written in a certain way for elastic averaging to work.", "in_reply_to_id": 209675014}