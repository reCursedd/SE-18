{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/291637089", "html_url": "https://github.com/tensorflow/tensorflow/issues/7778#issuecomment-291637089", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7778", "id": 291637089, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTYzNzA4OQ==", "user": {"login": "hekimgil", "id": 3447488, "node_id": "MDQ6VXNlcjM0NDc0ODg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3447488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hekimgil", "html_url": "https://github.com/hekimgil", "followers_url": "https://api.github.com/users/hekimgil/followers", "following_url": "https://api.github.com/users/hekimgil/following{/other_user}", "gists_url": "https://api.github.com/users/hekimgil/gists{/gist_id}", "starred_url": "https://api.github.com/users/hekimgil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hekimgil/subscriptions", "organizations_url": "https://api.github.com/users/hekimgil/orgs", "repos_url": "https://api.github.com/users/hekimgil/repos", "events_url": "https://api.github.com/users/hekimgil/events{/privacy}", "received_events_url": "https://api.github.com/users/hekimgil/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-04T21:27:33Z", "updated_at": "2017-04-04T21:28:53Z", "author_association": "NONE", "body_html": "<p>Thank you aselle, my problem is solved now but here is what happened:</p>\n<ul>\n<li>I used all default options with ./configure except: 1) Y for CUDA support, and 2) compute capability</li>\n<li>The warnings were about the SSE3, SSE4.1, SSE4.2, AVX, AVX2, and FMA capabilities of my machine (+ negative NUMA node read)</li>\n<li>Yes, the same machine...</li>\n</ul>\n<p>However, after reading your message, I changed my bazel build command from<br>\n<code>bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package </code> to<br>\n<code>bazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package</code><br>\nwith that extra <code>--copt=-march=native</code> in there and that did the trick. The warnings on instructions disappeared (albeit the NUMA warning still remaining). So although my problem seems to be solved, I wonder if it is possible that the <code>-march=native</code> is not really the default option for the \"optimization flags to use\" question in the ./configure options?</p>", "body_text": "Thank you aselle, my problem is solved now but here is what happened:\n\nI used all default options with ./configure except: 1) Y for CUDA support, and 2) compute capability\nThe warnings were about the SSE3, SSE4.1, SSE4.2, AVX, AVX2, and FMA capabilities of my machine (+ negative NUMA node read)\nYes, the same machine...\n\nHowever, after reading your message, I changed my bazel build command from\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package  to\nbazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package\nwith that extra --copt=-march=native in there and that did the trick. The warnings on instructions disappeared (albeit the NUMA warning still remaining). So although my problem seems to be solved, I wonder if it is possible that the -march=native is not really the default option for the \"optimization flags to use\" question in the ./configure options?", "body": "Thank you aselle, my problem is solved now but here is what happened:\r\n- I used all default options with ./configure except: 1) Y for CUDA support, and 2) compute capability\r\n- The warnings were about the SSE3, SSE4.1, SSE4.2, AVX, AVX2, and FMA capabilities of my machine (+ negative NUMA node read)\r\n- Yes, the same machine...\r\n\r\nHowever, after reading your message, I changed my bazel build command from \r\n`bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package ` to \r\n`bazel build -c opt --copt=-march=native --config=cuda //tensorflow/tools/pip_package:build_pip_package` \r\nwith that extra `--copt=-march=native` in there and that did the trick. The warnings on instructions disappeared (albeit the NUMA warning still remaining). So although my problem seems to be solved, I wonder if it is possible that the `-march=native` is not really the default option for the \"optimization flags to use\" question in the ./configure options?"}