{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/379919899", "html_url": "https://github.com/tensorflow/tensorflow/issues/18363#issuecomment-379919899", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18363", "id": 379919899, "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTkxOTg5OQ==", "user": {"login": "grahammorehead", "id": 11891733, "node_id": "MDQ6VXNlcjExODkxNzMz", "avatar_url": "https://avatars2.githubusercontent.com/u/11891733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grahammorehead", "html_url": "https://github.com/grahammorehead", "followers_url": "https://api.github.com/users/grahammorehead/followers", "following_url": "https://api.github.com/users/grahammorehead/following{/other_user}", "gists_url": "https://api.github.com/users/grahammorehead/gists{/gist_id}", "starred_url": "https://api.github.com/users/grahammorehead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grahammorehead/subscriptions", "organizations_url": "https://api.github.com/users/grahammorehead/orgs", "repos_url": "https://api.github.com/users/grahammorehead/repos", "events_url": "https://api.github.com/users/grahammorehead/events{/privacy}", "received_events_url": "https://api.github.com/users/grahammorehead/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-09T23:00:15Z", "updated_at": "2018-04-09T23:00:15Z", "author_association": "NONE", "body_html": "<p>Incidentally, here's the FAIL output when using clang:</p>\n<p>uested here<br>\nreturn numext::numeric_limits::quiet_NaN();<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nFIX_MEAN_IDENTITY(complex64)<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'<br>\nreturn Eigen::NumTraits::quiet_NaN();                  <br>\n^<br>\nIn file included from tensorflow/core/kernels/reduction_ops_gpu_bool.cu.cc:20:<br>\nIn file included from ./tensorflow/core/kernels/reduction_gpu_kernels.cu.h:20:<br>\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:<br>\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:<br>\nIn file included from external/eigen_archive/Eigen/Core:382:<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]<br>\nstatic T quiet_NaN() { assert(false &amp;&amp; \"quiet_NaN not supported for this type\"); }<br>\n^<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nreturn numext::numeric_limits::quiet_NaN();<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nFIX_MEAN_IDENTITY(complex128)<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'<br>\nreturn Eigen::NumTraits::quiet_NaN();                  <br>\n^<br>\n2 warnings generated when compiling for sm_70.<br>\nINFO: From Compiling tensorflow/core/kernels/reduction_ops_half_prod_max_min.cu.cc:<br>\nIn file included from tensorflow/core/kernels/reduction_ops_half_prod_max_min.cu.cc:20:<br>\nIn file included from ./tensorflow/core/kernels/reduction_gpu_kernels.cu.h:20:<br>\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:<br>\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:<br>\nIn file included from external/eigen_archive/Eigen/Core:382:<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]<br>\nstatic T quiet_NaN() { assert(false &amp;&amp; \"quiet_NaN not supported for this type\"); }<br>\n^<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nreturn numext::numeric_limits::quiet_NaN();<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nFIX_MEAN_IDENTITY(complex64)<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'<br>\nreturn Eigen::NumTraits::quiet_NaN();                  <br>\n^<br>\nIn file included from tensorflow/core/kernels/reduction_ops_half_prod_max_min.cu.cc:20:<br>\nIn file included from ./tensorflow/core/kernels/reduction_gpu_kernels.cu.h:20:<br>\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:<br>\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:<br>\nIn file included from external/eigen_archive/Eigen/Core:382:<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]<br>\nstatic T quiet_NaN() { assert(false &amp;&amp; \"quiet_NaN not supported for this type\"); }<br>\n^<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nreturn numext::numeric_limits::quiet_NaN();<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nFIX_MEAN_IDENTITY(complex128)<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'<br>\nreturn Eigen::NumTraits::quiet_NaN();                  <br>\n^<br>\n2 warnings generated when compiling for sm_70.<br>\nINFO: From Compiling tensorflow/core/kernels/softmax_op.cc:<br>\nIn file included from tensorflow/core/kernels/softmax_op.cc:26:<br>\n./tensorflow/core/kernels/softmax_op_functor.h:60:45: warning: unused variable 'depth_dim' [-Wunused-variable]<br>\nEigen::IndexList&lt;Eigen::type2index&lt;1&gt; &gt; depth_dim;<br>\n^<br>\n1 warning generated.<br>\nINFO: From Compiling tensorflow/core/kernels/l2loss_op_gpu.cu.cc:<br>\nIn file included from tensorflow/core/kernels/l2loss_op_gpu.cu.cc:20:<br>\nIn file included from ./tensorflow/core/kernels/l2loss_op.h:18:<br>\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:<br>\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:<br>\nIn file included from external/eigen_archive/Eigen/Core:382:<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]<br>\nstatic T quiet_NaN() { assert(false &amp;&amp; \"quiet_NaN not supported for this type\"); }<br>\n^<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nreturn numext::numeric_limits::quiet_NaN();<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nFIX_MEAN_IDENTITY(complex64)<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'<br>\nreturn Eigen::NumTraits::quiet_NaN();                  <br>\n^<br>\nIn file included from tensorflow/core/kernels/l2loss_op_gpu.cu.cc:20:<br>\nIn file included from ./tensorflow/core/kernels/l2loss_op.h:18:<br>\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:<br>\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:<br>\nIn file included from external/eigen_archive/Eigen/Core:382:<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]<br>\nstatic T quiet_NaN() { assert(false &amp;&amp; \"quiet_NaN not supported for this type\"); }<br>\n^<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nreturn numext::numeric_limits::quiet_NaN();<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nFIX_MEAN_IDENTITY(complex128)<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'<br>\nreturn Eigen::NumTraits::quiet_NaN();                  <br>\n^<br>\n2 warnings generated when compiling for sm_70.<br>\nINFO: From Compiling tensorflow/core/kernels/softmax_op_gpu.cu.cc:<br>\nIn file included from tensorflow/core/kernels/softmax_op_gpu.cu.cc:21:<br>\nIn file included from ./tensorflow/core/framework/op_kernel.h:23:<br>\nIn file included from ./tensorflow/core/framework/allocator.h:23:<br>\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:<br>\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:<br>\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:<br>\nIn file included from external/eigen_archive/Eigen/Core:382:<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]<br>\nstatic T quiet_NaN() { assert(false &amp;&amp; \"quiet_NaN not supported for this type\"); }<br>\n^<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nreturn numext::numeric_limits::quiet_NaN();<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nFIX_MEAN_IDENTITY(complex64)<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'<br>\nreturn Eigen::NumTraits::quiet_NaN();                  <br>\n^<br>\nIn file included from tensorflow/core/kernels/softmax_op_gpu.cu.cc:21:<br>\nIn file included from ./tensorflow/core/framework/op_kernel.h:23:<br>\nIn file included from ./tensorflow/core/framework/allocator.h:23:<br>\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:<br>\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:<br>\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:<br>\nIn file included from external/eigen_archive/Eigen/Core:382:<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]<br>\nstatic T quiet_NaN() { assert(false &amp;&amp; \"quiet_NaN not supported for this type\"); }<br>\n^<br>\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nreturn numext::numeric_limits::quiet_NaN();<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits&lt;std::complex &gt;::quiet_NaN' requested here<br>\nFIX_MEAN_IDENTITY(complex128)<br>\n^<br>\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'<br>\nreturn Eigen::NumTraits::quiet_NaN();                  <br>\n^<br>\n2 warnings generated when compiling for sm_70.<br>\nINFO: From Compiling tensorflow/contrib/lite/toco/toco.cc:<br>\nIn file included from tensorflow/contrib/lite/toco/toco.cc:20:<br>\nIn file included from ./tensorflow/contrib/lite/toco/model.h:26:<br>\nIn file included from ./tensorflow/contrib/lite/toco/runtime/types.h:18:<br>\nIn file included from ./tensorflow/contrib/lite/kernels/internal/common.h:42:<br>\nexternal/arm_neon_2_x86_sse/NEON_2_SSE.h:4750:27: warning: implicit conversion from 'int' to 'char' changes value from 128 to -128 [-Wconstant-conversion]<br>\nc128 = _mm_set1_epi8 (128);<br>\n~~~~~~~~~~~~~  ^~~<br>\nexternal/arm_neon_2_x86_sse/NEON_2_SSE.h:5431:27: warning: implicit conversion from 'int' to 'char' changes value from 128 to -128 [-Wconstant-conversion]<br>\nc128 = _mm_set1_epi8 (128);<br>\n~~~~~~~~~~~~~  ^~~<br>\n2 warnings generated.<br>\nERROR: /home/ubuntu/downloads/tensorflow/tensorflow/contrib/mpi_collectives/BUILD:40:1: C++ compilation of rule '//tensorflow/contrib/mpi_collectives:python/ops/_mpi_ops.so' failed (Exit 1)<br>\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:58:6: error: explicit specialization of 'CopyTensorDataEigen::ThreadPoolDevice' after instantiation<br>\nvoid CopyTensorData(void* dst, void* src, size_t size) {<br>\n^<br>\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:165:3: note: implicit instantiation first required here<br>\nCopyTensorData((void*)buffer, (void*)input-&gt;tensor_data().data(),<br>\n^<br>\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:71:1: error: explicit specialization of 'AccumulateTensorData&lt;Eigen::ThreadPoolDevice, int&gt;' after instantiation<br>\nGENERATE_ACCUMULATE(int);<br>\n^<br>\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:65:8: note: expanded from macro 'GENERATE_ACCUMULATE'<br>\nvoid AccumulateTensorData&lt;CPUDevice, type&gt;(type * dst, type * src, <br>\n^<br>\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:221:5: note: implicit instantiation first required here<br>\nAccumulateTensorData&lt;Device, T&gt;(segment_update, segment_recv,<br>\n^<br>\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:72:1: error: explicit specialization of 'AccumulateTensorData&lt;Eigen::ThreadPoolDevice, long long&gt;' after instantiation<br>\nGENERATE_ACCUMULATE(long long);<br>\n^<br>\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:65:8: note: expanded from macro 'GENERATE_ACCUMULATE'<br>\nvoid AccumulateTensorData&lt;CPUDevice, type&gt;(type * dst, type * src, <br>\n^<br>\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:221:5: note: implicit instantiation first required here<br>\nAccumulateTensorData&lt;Device, T&gt;(segment_update, segment_recv,<br>\n^<br>\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:73:1: error: explicit specialization of 'AccumulateTensorData&lt;Eigen::ThreadPoolDevice, float&gt;' after instantiation<br>\nGENERATE_ACCUMULATE(float);<br>\n^<br>\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:65:8: note: expanded from macro 'GENERATE_ACCUMULATE'<br>\nvoid AccumulateTensorData&lt;CPUDevice, type&gt;(type * dst, type * src, <br>\n^<br>\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:221:5: note: implicit instantiation first required here<br>\nAccumulateTensorData&lt;Device, T&gt;(segment_update, segment_recv,<br>\n^<br>\n4 errors generated.<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 2303.291s, Critical Path: 108.87s<br>\nFAILED: Build did NOT complete successfully</p>", "body_text": "Incidentally, here's the FAIL output when using clang:\nuested here\nreturn numext::numeric_limits::quiet_NaN();\n^\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex >::quiet_NaN' requested here\nFIX_MEAN_IDENTITY(complex64)\n^\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\nreturn Eigen::NumTraits::quiet_NaN();                  \n^\nIn file included from tensorflow/core/kernels/reduction_ops_gpu_bool.cu.cc:20:\nIn file included from ./tensorflow/core/kernels/reduction_gpu_kernels.cu.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\nIn file included from external/eigen_archive/Eigen/Core:382:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\nstatic T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\n^\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex >::quiet_NaN' requested here\nreturn numext::numeric_limits::quiet_NaN();\n^\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex >::quiet_NaN' requested here\nFIX_MEAN_IDENTITY(complex128)\n^\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\nreturn Eigen::NumTraits::quiet_NaN();                  \n^\n2 warnings generated when compiling for sm_70.\nINFO: From Compiling tensorflow/core/kernels/reduction_ops_half_prod_max_min.cu.cc:\nIn file included from tensorflow/core/kernels/reduction_ops_half_prod_max_min.cu.cc:20:\nIn file included from ./tensorflow/core/kernels/reduction_gpu_kernels.cu.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\nIn file included from external/eigen_archive/Eigen/Core:382:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\nstatic T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\n^\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex >::quiet_NaN' requested here\nreturn numext::numeric_limits::quiet_NaN();\n^\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex >::quiet_NaN' requested here\nFIX_MEAN_IDENTITY(complex64)\n^\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\nreturn Eigen::NumTraits::quiet_NaN();                  \n^\nIn file included from tensorflow/core/kernels/reduction_ops_half_prod_max_min.cu.cc:20:\nIn file included from ./tensorflow/core/kernels/reduction_gpu_kernels.cu.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\nIn file included from external/eigen_archive/Eigen/Core:382:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\nstatic T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\n^\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex >::quiet_NaN' requested here\nreturn numext::numeric_limits::quiet_NaN();\n^\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex >::quiet_NaN' requested here\nFIX_MEAN_IDENTITY(complex128)\n^\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\nreturn Eigen::NumTraits::quiet_NaN();                  \n^\n2 warnings generated when compiling for sm_70.\nINFO: From Compiling tensorflow/core/kernels/softmax_op.cc:\nIn file included from tensorflow/core/kernels/softmax_op.cc:26:\n./tensorflow/core/kernels/softmax_op_functor.h:60:45: warning: unused variable 'depth_dim' [-Wunused-variable]\nEigen::IndexList<Eigen::type2index<1> > depth_dim;\n^\n1 warning generated.\nINFO: From Compiling tensorflow/core/kernels/l2loss_op_gpu.cu.cc:\nIn file included from tensorflow/core/kernels/l2loss_op_gpu.cu.cc:20:\nIn file included from ./tensorflow/core/kernels/l2loss_op.h:18:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\nIn file included from external/eigen_archive/Eigen/Core:382:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\nstatic T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\n^\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex >::quiet_NaN' requested here\nreturn numext::numeric_limits::quiet_NaN();\n^\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex >::quiet_NaN' requested here\nFIX_MEAN_IDENTITY(complex64)\n^\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\nreturn Eigen::NumTraits::quiet_NaN();                  \n^\nIn file included from tensorflow/core/kernels/l2loss_op_gpu.cu.cc:20:\nIn file included from ./tensorflow/core/kernels/l2loss_op.h:18:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\nIn file included from external/eigen_archive/Eigen/Core:382:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\nstatic T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\n^\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex >::quiet_NaN' requested here\nreturn numext::numeric_limits::quiet_NaN();\n^\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex >::quiet_NaN' requested here\nFIX_MEAN_IDENTITY(complex128)\n^\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\nreturn Eigen::NumTraits::quiet_NaN();                  \n^\n2 warnings generated when compiling for sm_70.\nINFO: From Compiling tensorflow/core/kernels/softmax_op_gpu.cu.cc:\nIn file included from tensorflow/core/kernels/softmax_op_gpu.cu.cc:21:\nIn file included from ./tensorflow/core/framework/op_kernel.h:23:\nIn file included from ./tensorflow/core/framework/allocator.h:23:\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\nIn file included from external/eigen_archive/Eigen/Core:382:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\nstatic T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\n^\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex >::quiet_NaN' requested here\nreturn numext::numeric_limits::quiet_NaN();\n^\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex >::quiet_NaN' requested here\nFIX_MEAN_IDENTITY(complex64)\n^\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\nreturn Eigen::NumTraits::quiet_NaN();                  \n^\nIn file included from tensorflow/core/kernels/softmax_op_gpu.cu.cc:21:\nIn file included from ./tensorflow/core/framework/op_kernel.h:23:\nIn file included from ./tensorflow/core/framework/allocator.h:23:\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\nIn file included from external/eigen_archive/Eigen/Core:382:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\nstatic T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\n^\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex >::quiet_NaN' requested here\nreturn numext::numeric_limits::quiet_NaN();\n^\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex >::quiet_NaN' requested here\nFIX_MEAN_IDENTITY(complex128)\n^\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\nreturn Eigen::NumTraits::quiet_NaN();                  \n^\n2 warnings generated when compiling for sm_70.\nINFO: From Compiling tensorflow/contrib/lite/toco/toco.cc:\nIn file included from tensorflow/contrib/lite/toco/toco.cc:20:\nIn file included from ./tensorflow/contrib/lite/toco/model.h:26:\nIn file included from ./tensorflow/contrib/lite/toco/runtime/types.h:18:\nIn file included from ./tensorflow/contrib/lite/kernels/internal/common.h:42:\nexternal/arm_neon_2_x86_sse/NEON_2_SSE.h:4750:27: warning: implicit conversion from 'int' to 'char' changes value from 128 to -128 [-Wconstant-conversion]\nc128 = _mm_set1_epi8 (128);\n~~~~~~~~~~~~~  ^~~\nexternal/arm_neon_2_x86_sse/NEON_2_SSE.h:5431:27: warning: implicit conversion from 'int' to 'char' changes value from 128 to -128 [-Wconstant-conversion]\nc128 = _mm_set1_epi8 (128);\n~~~~~~~~~~~~~  ^~~\n2 warnings generated.\nERROR: /home/ubuntu/downloads/tensorflow/tensorflow/contrib/mpi_collectives/BUILD:40:1: C++ compilation of rule '//tensorflow/contrib/mpi_collectives:python/ops/_mpi_ops.so' failed (Exit 1)\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:58:6: error: explicit specialization of 'CopyTensorDataEigen::ThreadPoolDevice' after instantiation\nvoid CopyTensorData(void* dst, void* src, size_t size) {\n^\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:165:3: note: implicit instantiation first required here\nCopyTensorData((void*)buffer, (void*)input->tensor_data().data(),\n^\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:71:1: error: explicit specialization of 'AccumulateTensorData<Eigen::ThreadPoolDevice, int>' after instantiation\nGENERATE_ACCUMULATE(int);\n^\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:65:8: note: expanded from macro 'GENERATE_ACCUMULATE'\nvoid AccumulateTensorData<CPUDevice, type>(type * dst, type * src, \n^\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:221:5: note: implicit instantiation first required here\nAccumulateTensorData<Device, T>(segment_update, segment_recv,\n^\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:72:1: error: explicit specialization of 'AccumulateTensorData<Eigen::ThreadPoolDevice, long long>' after instantiation\nGENERATE_ACCUMULATE(long long);\n^\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:65:8: note: expanded from macro 'GENERATE_ACCUMULATE'\nvoid AccumulateTensorData<CPUDevice, type>(type * dst, type * src, \n^\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:221:5: note: implicit instantiation first required here\nAccumulateTensorData<Device, T>(segment_update, segment_recv,\n^\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:73:1: error: explicit specialization of 'AccumulateTensorData<Eigen::ThreadPoolDevice, float>' after instantiation\nGENERATE_ACCUMULATE(float);\n^\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:65:8: note: expanded from macro 'GENERATE_ACCUMULATE'\nvoid AccumulateTensorData<CPUDevice, type>(type * dst, type * src, \n^\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:221:5: note: implicit instantiation first required here\nAccumulateTensorData<Device, T>(segment_update, segment_recv,\n^\n4 errors generated.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 2303.291s, Critical Path: 108.87s\nFAILED: Build did NOT complete successfully", "body": "Incidentally, here's the FAIL output when using clang:\r\n\r\nuested here\r\n    return numext::numeric_limits<T>::quiet_NaN();\r\n                                      ^\r\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex<float> >::quiet_NaN' requested here\r\nFIX_MEAN_IDENTITY(complex64)\r\n^\r\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\r\n      return Eigen::NumTraits<T>::quiet_NaN();                  \\\r\n                                  ^\r\nIn file included from tensorflow/core/kernels/reduction_ops_gpu_bool.cu.cc:20:\r\nIn file included from ./tensorflow/core/kernels/reduction_gpu_kernels.cu.h:20:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\r\nIn file included from external/eigen_archive/Eigen/Core:382:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\r\n  static T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\r\n                                                                                   ^\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex<double> >::quiet_NaN' requested here\r\n    return numext::numeric_limits<T>::quiet_NaN();\r\n                                      ^\r\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex<double> >::quiet_NaN' requested here\r\nFIX_MEAN_IDENTITY(complex128)\r\n^\r\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\r\n      return Eigen::NumTraits<T>::quiet_NaN();                  \\\r\n                                  ^\r\n2 warnings generated when compiling for sm_70.\r\nINFO: From Compiling tensorflow/core/kernels/reduction_ops_half_prod_max_min.cu.cc:\r\nIn file included from tensorflow/core/kernels/reduction_ops_half_prod_max_min.cu.cc:20:\r\nIn file included from ./tensorflow/core/kernels/reduction_gpu_kernels.cu.h:20:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\r\nIn file included from external/eigen_archive/Eigen/Core:382:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\r\n  static T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\r\n                                                                                   ^\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex<float> >::quiet_NaN' requested here\r\n    return numext::numeric_limits<T>::quiet_NaN();\r\n                                      ^\r\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex<float> >::quiet_NaN' requested here\r\nFIX_MEAN_IDENTITY(complex64)\r\n^\r\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\r\n      return Eigen::NumTraits<T>::quiet_NaN();                  \\\r\n                                  ^\r\nIn file included from tensorflow/core/kernels/reduction_ops_half_prod_max_min.cu.cc:20:\r\nIn file included from ./tensorflow/core/kernels/reduction_gpu_kernels.cu.h:20:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\r\nIn file included from external/eigen_archive/Eigen/Core:382:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\r\n  static T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\r\n                                                                                   ^\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex<double> >::quiet_NaN' requested here\r\n    return numext::numeric_limits<T>::quiet_NaN();\r\n                                      ^\r\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex<double> >::quiet_NaN' requested here\r\nFIX_MEAN_IDENTITY(complex128)\r\n^\r\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\r\n      return Eigen::NumTraits<T>::quiet_NaN();                  \\\r\n                                  ^\r\n2 warnings generated when compiling for sm_70.\r\nINFO: From Compiling tensorflow/core/kernels/softmax_op.cc:\r\nIn file included from tensorflow/core/kernels/softmax_op.cc:26:\r\n./tensorflow/core/kernels/softmax_op_functor.h:60:45: warning: unused variable 'depth_dim' [-Wunused-variable]\r\n    Eigen::IndexList<Eigen::type2index<1> > depth_dim;\r\n                                            ^\r\n1 warning generated.\r\nINFO: From Compiling tensorflow/core/kernels/l2loss_op_gpu.cu.cc:\r\nIn file included from tensorflow/core/kernels/l2loss_op_gpu.cu.cc:20:\r\nIn file included from ./tensorflow/core/kernels/l2loss_op.h:18:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\r\nIn file included from external/eigen_archive/Eigen/Core:382:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\r\n  static T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\r\n                                                                                   ^\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex<float> >::quiet_NaN' requested here\r\n    return numext::numeric_limits<T>::quiet_NaN();\r\n                                      ^\r\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex<float> >::quiet_NaN' requested here\r\nFIX_MEAN_IDENTITY(complex64)\r\n^\r\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\r\n      return Eigen::NumTraits<T>::quiet_NaN();                  \\\r\n                                  ^\r\nIn file included from tensorflow/core/kernels/l2loss_op_gpu.cu.cc:20:\r\nIn file included from ./tensorflow/core/kernels/l2loss_op.h:18:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\r\nIn file included from external/eigen_archive/Eigen/Core:382:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\r\n  static T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\r\n                                                                                   ^\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex<double> >::quiet_NaN' requested here\r\n    return numext::numeric_limits<T>::quiet_NaN();\r\n                                      ^\r\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex<double> >::quiet_NaN' requested here\r\nFIX_MEAN_IDENTITY(complex128)\r\n^\r\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\r\n      return Eigen::NumTraits<T>::quiet_NaN();                  \\\r\n                                  ^\r\n2 warnings generated when compiling for sm_70.\r\nINFO: From Compiling tensorflow/core/kernels/softmax_op_gpu.cu.cc:\r\nIn file included from tensorflow/core/kernels/softmax_op_gpu.cu.cc:21:\r\nIn file included from ./tensorflow/core/framework/op_kernel.h:23:\r\nIn file included from ./tensorflow/core/framework/allocator.h:23:\r\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\r\nIn file included from external/eigen_archive/Eigen/Core:382:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\r\n  static T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\r\n                                                                                   ^\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex<float> >::quiet_NaN' requested here\r\n    return numext::numeric_limits<T>::quiet_NaN();\r\n                                      ^\r\n./tensorflow/core/kernels/reduction_ops.h:59:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex<float> >::quiet_NaN' requested here\r\nFIX_MEAN_IDENTITY(complex64)\r\n^\r\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\r\n      return Eigen::NumTraits<T>::quiet_NaN();                  \\\r\n                                  ^\r\nIn file included from tensorflow/core/kernels/softmax_op_gpu.cu.cc:21:\r\nIn file included from ./tensorflow/core/framework/op_kernel.h:23:\r\nIn file included from ./tensorflow/core/framework/allocator.h:23:\r\nIn file included from ./tensorflow/core/framework/numeric_types.h:20:\r\nIn file included from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1:\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14:\r\nIn file included from external/eigen_archive/Eigen/Core:382:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/util/Meta.h:187:84: warning: control reaches end of non-void function [-Wreturn-type]\r\n  static T quiet_NaN() { assert(false && \"quiet_NaN not supported for this type\"); }\r\n                                                                                   ^\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/NumTraits.h:180:39: note: in instantiation of member function 'Eigen::internal::device::numeric_limits<std::complex<double> >::quiet_NaN' requested here\r\n    return numext::numeric_limits<T>::quiet_NaN();\r\n                                      ^\r\n./tensorflow/core/kernels/reduction_ops.h:60:1: note: in instantiation of member function 'Eigen::GenericNumTraits<std::complex<double> >::quiet_NaN' requested here\r\nFIX_MEAN_IDENTITY(complex128)\r\n^\r\n./tensorflow/core/kernels/reduction_ops.h:53:35: note: expanded from macro 'FIX_MEAN_IDENTITY'\r\n      return Eigen::NumTraits<T>::quiet_NaN();                  \\\r\n                                  ^\r\n2 warnings generated when compiling for sm_70.\r\nINFO: From Compiling tensorflow/contrib/lite/toco/toco.cc:\r\nIn file included from tensorflow/contrib/lite/toco/toco.cc:20:\r\nIn file included from ./tensorflow/contrib/lite/toco/model.h:26:\r\nIn file included from ./tensorflow/contrib/lite/toco/runtime/types.h:18:\r\nIn file included from ./tensorflow/contrib/lite/kernels/internal/common.h:42:\r\nexternal/arm_neon_2_x86_sse/NEON_2_SSE.h:4750:27: warning: implicit conversion from 'int' to 'char' changes value from 128 to -128 [-Wconstant-conversion]\r\n    c128 = _mm_set1_epi8 (128);\r\n           ~~~~~~~~~~~~~  ^~~\r\nexternal/arm_neon_2_x86_sse/NEON_2_SSE.h:5431:27: warning: implicit conversion from 'int' to 'char' changes value from 128 to -128 [-Wconstant-conversion]\r\n    c128 = _mm_set1_epi8 (128);\r\n           ~~~~~~~~~~~~~  ^~~\r\n2 warnings generated.\r\nERROR: /home/ubuntu/downloads/tensorflow/tensorflow/contrib/mpi_collectives/BUILD:40:1: C++ compilation of rule '//tensorflow/contrib/mpi_collectives:python/ops/_mpi_ops.so' failed (Exit 1)\r\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:58:6: error: explicit specialization of 'CopyTensorData<Eigen::ThreadPoolDevice>' after instantiation\r\nvoid CopyTensorData<CPUDevice>(void* dst, void* src, size_t size) {\r\n     ^\r\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:165:3: note: implicit instantiation first required here\r\n  CopyTensorData<Device>((void*)buffer, (void*)input->tensor_data().data(),\r\n  ^\r\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:71:1: error: explicit specialization of 'AccumulateTensorData<Eigen::ThreadPoolDevice, int>' after instantiation\r\nGENERATE_ACCUMULATE(int);\r\n^\r\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:65:8: note: expanded from macro 'GENERATE_ACCUMULATE'\r\n  void AccumulateTensorData<CPUDevice, type>(type * dst, type * src, \\\r\n       ^\r\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:221:5: note: implicit instantiation first required here\r\n    AccumulateTensorData<Device, T>(segment_update, segment_recv,\r\n    ^\r\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:72:1: error: explicit specialization of 'AccumulateTensorData<Eigen::ThreadPoolDevice, long long>' after instantiation\r\nGENERATE_ACCUMULATE(long long);\r\n^\r\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:65:8: note: expanded from macro 'GENERATE_ACCUMULATE'\r\n  void AccumulateTensorData<CPUDevice, type>(type * dst, type * src, \\\r\n       ^\r\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:221:5: note: implicit instantiation first required here\r\n    AccumulateTensorData<Device, T>(segment_update, segment_recv,\r\n    ^\r\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:73:1: error: explicit specialization of 'AccumulateTensorData<Eigen::ThreadPoolDevice, float>' after instantiation\r\nGENERATE_ACCUMULATE(float);\r\n^\r\ntensorflow/contrib/mpi_collectives/kernels/ring.cc:65:8: note: expanded from macro 'GENERATE_ACCUMULATE'\r\n  void AccumulateTensorData<CPUDevice, type>(type * dst, type * src, \\\r\n       ^\r\n./tensorflow/contrib/mpi_collectives/kernels/ring.h:221:5: note: implicit instantiation first required here\r\n    AccumulateTensorData<Device, T>(segment_update, segment_recv,\r\n    ^\r\n4 errors generated.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 2303.291s, Critical Path: 108.87s\r\nFAILED: Build did NOT complete successfully"}