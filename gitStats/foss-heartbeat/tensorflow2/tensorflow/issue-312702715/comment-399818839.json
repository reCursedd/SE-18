{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/399818839", "html_url": "https://github.com/tensorflow/tensorflow/issues/18363#issuecomment-399818839", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18363", "id": 399818839, "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTgxODgzOQ==", "user": {"login": "yogurfrul", "id": 25316372, "node_id": "MDQ6VXNlcjI1MzE2Mzcy", "avatar_url": "https://avatars3.githubusercontent.com/u/25316372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yogurfrul", "html_url": "https://github.com/yogurfrul", "followers_url": "https://api.github.com/users/yogurfrul/followers", "following_url": "https://api.github.com/users/yogurfrul/following{/other_user}", "gists_url": "https://api.github.com/users/yogurfrul/gists{/gist_id}", "starred_url": "https://api.github.com/users/yogurfrul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yogurfrul/subscriptions", "organizations_url": "https://api.github.com/users/yogurfrul/orgs", "repos_url": "https://api.github.com/users/yogurfrul/repos", "events_url": "https://api.github.com/users/yogurfrul/events{/privacy}", "received_events_url": "https://api.github.com/users/yogurfrul/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-25T03:14:19Z", "updated_at": "2018-06-25T03:15:13Z", "author_association": "NONE", "body_html": "<p>I got error in the final link pywrap_tensorflow_internal.so</p>\n<p>my env:</p>\n<p>LD_LIBRARY_PATH=/usr/local/openmpi/lib:/usr/local/nvidia/lib:/usr/local/nvidia/lib64<br>\nPATH=/usr/local/openmpi/bin:/usr/local/nvidia/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</p>\n<p>there is libmpi.so.40 in :/usr/local/openmpi/lib!!!<br>\nroot@u10-154-66-206:/usr/local/openmpi/lib# ll libmpi.so*<br>\nlrwxrwxrwx 1 root root      16 Jun 15 07:30 libmpi.so -&gt; libmpi.so.40.0.0*<br>\nlrwxrwxrwx 1 root root      16 Jun 15 07:30 libmpi.so.40 -&gt; libmpi.so.40.0.0*<br>\n-rwxr-xr-x 1 root root 1148024 Jun 15 07:30 libmpi.so.40.0.0*</p>\n<p>still got the error:</p>\n<p>ERROR: /data/tensorflow-1.8.0/tensorflow/tools/api/generator/BUILD:27:1: Executing genrule //tensorflow/tools/api/generator:python_api_gen failed (Exit 1)<br>\nTraceback (most recent call last):<br>\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow.py\", line 58, in <br>\nfrom tensorflow.python.pywrap_tensorflow_internal import *<br>\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <br>\n_pywrap_tensorflow_internal = swig_import_helper()<br>\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper<br>\n_mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)<br>\nFile \"/usr/lib/python3.5/imp.py\", line 242, in load_module<br>\nreturn load_dynamic(name, filename, file)<br>\nFile \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic<br>\nreturn _load(spec)<br>\nImportError: libmpi.so.40: cannot open shared object file: No such file or directory</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):<br>\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/tools/api/generator/create_python_api.py\", line 26, in <br>\nfrom tensorflow.python.util import tf_decorator<br>\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/<strong>init</strong>.py\", line 49, in <br>\nfrom tensorflow.python import pywrap_tensorflow<br>\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow.py\", line 74, in <br>\nraise ImportError(msg)<br>\nImportError: Traceback (most recent call last):<br>\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow.py\", line 58, in <br>\nfrom tensorflow.python.pywrap_tensorflow_internal import *<br>\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <br>\n_pywrap_tensorflow_internal = swig_import_helper()<br>\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper<br>\n_mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)<br>\nFile \"/usr/lib/python3.5/imp.py\", line 242, in load_module<br>\nreturn load_dynamic(name, filename, file)<br>\nFile \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic<br>\nreturn _load(spec)<br>\nImportError: libmpi.so.40: cannot open shared object file: No such file or directory</p>\n<p>Failed to load the native TensorFlow runtime.</p>", "body_text": "I got error in the final link pywrap_tensorflow_internal.so\nmy env:\nLD_LIBRARY_PATH=/usr/local/openmpi/lib:/usr/local/nvidia/lib:/usr/local/nvidia/lib64\nPATH=/usr/local/openmpi/bin:/usr/local/nvidia/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nthere is libmpi.so.40 in :/usr/local/openmpi/lib!!!\nroot@u10-154-66-206:/usr/local/openmpi/lib# ll libmpi.so*\nlrwxrwxrwx 1 root root      16 Jun 15 07:30 libmpi.so -> libmpi.so.40.0.0*\nlrwxrwxrwx 1 root root      16 Jun 15 07:30 libmpi.so.40 -> libmpi.so.40.0.0*\n-rwxr-xr-x 1 root root 1148024 Jun 15 07:30 libmpi.so.40.0.0*\nstill got the error:\nERROR: /data/tensorflow-1.8.0/tensorflow/tools/api/generator/BUILD:27:1: Executing genrule //tensorflow/tools/api/generator:python_api_gen failed (Exit 1)\nTraceback (most recent call last):\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow.py\", line 58, in \nfrom tensorflow.python.pywrap_tensorflow_internal import *\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in \n_pywrap_tensorflow_internal = swig_import_helper()\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\n_mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\nFile \"/usr/lib/python3.5/imp.py\", line 242, in load_module\nreturn load_dynamic(name, filename, file)\nFile \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic\nreturn _load(spec)\nImportError: libmpi.so.40: cannot open shared object file: No such file or directory\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/tools/api/generator/create_python_api.py\", line 26, in \nfrom tensorflow.python.util import tf_decorator\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/init.py\", line 49, in \nfrom tensorflow.python import pywrap_tensorflow\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow.py\", line 74, in \nraise ImportError(msg)\nImportError: Traceback (most recent call last):\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow.py\", line 58, in \nfrom tensorflow.python.pywrap_tensorflow_internal import *\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in \n_pywrap_tensorflow_internal = swig_import_helper()\nFile \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\n_mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\nFile \"/usr/lib/python3.5/imp.py\", line 242, in load_module\nreturn load_dynamic(name, filename, file)\nFile \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic\nreturn _load(spec)\nImportError: libmpi.so.40: cannot open shared object file: No such file or directory\nFailed to load the native TensorFlow runtime.", "body": "I got error in the final link pywrap_tensorflow_internal.so\r\n\r\nmy env:\r\n\r\nLD_LIBRARY_PATH=/usr/local/openmpi/lib:/usr/local/nvidia/lib:/usr/local/nvidia/lib64\r\nPATH=/usr/local/openmpi/bin:/usr/local/nvidia/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\n\r\nthere is libmpi.so.40 in :/usr/local/openmpi/lib!!!\r\nroot@u10-154-66-206:/usr/local/openmpi/lib# ll libmpi.so*\r\nlrwxrwxrwx 1 root root      16 Jun 15 07:30 libmpi.so -> libmpi.so.40.0.0*\r\nlrwxrwxrwx 1 root root      16 Jun 15 07:30 libmpi.so.40 -> libmpi.so.40.0.0*\r\n-rwxr-xr-x 1 root root 1148024 Jun 15 07:30 libmpi.so.40.0.0*\r\n\r\nstill got the error:\r\n\r\nERROR: /data/tensorflow-1.8.0/tensorflow/tools/api/generator/BUILD:27:1: Executing genrule //tensorflow/tools/api/generator:python_api_gen failed (Exit 1)\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"/usr/lib/python3.5/imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: libmpi.so.40: cannot open shared object file: No such file or directory\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/tools/api/generator/create_python_api.py\", line 26, in <module>\r\n    from tensorflow.python.util import tf_decorator\r\n  File \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow.py\", line 74, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"/root/.cache/bazel/_bazel_root/0a9f54458d3a3a35b3d60e9a3ec7b986/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/tools/api/generator/create_python_api.runfiles/org_tensorflow/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"/usr/lib/python3.5/imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: libmpi.so.40: cannot open shared object file: No such file or directory\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n"}