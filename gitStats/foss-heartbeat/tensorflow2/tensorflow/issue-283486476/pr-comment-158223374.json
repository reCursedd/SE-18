{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/158223374", "pull_request_review_id": 84996577, "id": 158223374, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODIyMzM3NA==", "diff_hunk": "@@ -149,7 +150,7 @@ cc_library(\n \n cc_library(\n     name = \"simple_orc_jit\",\n-    srcs = [\"simple_orc_jit.cc\"],\n+    srcs = [\"simple_orc_jit.cc\"] + if_windows([\"windows_compatibility.h\"]),", "path": "tensorflow/compiler/xla/service/cpu/BUILD", "position": null, "original_position": 13, "commit_id": "1728359961a7f89f2ed320bdf2ef55abe0977c28", "original_commit_id": "cd4835dd8f3a72ad88da8473863dc67d2705c843", "user": {"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, "body": "Once you guard the whole file under `_MSC_VER` I think you'll also have to remove the `if_windows` bit and unconditionally list `windows_compatibility.h` in `srcs`.", "created_at": "2017-12-21T08:51:37Z", "updated_at": "2017-12-21T23:15:47Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/15514#discussion_r158223374", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15514", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/158223374"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/15514#discussion_r158223374"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15514"}}, "body_html": "<p>Once you guard the whole file under <code>_MSC_VER</code> I think you'll also have to remove the <code>if_windows</code> bit and unconditionally list <code>windows_compatibility.h</code> in <code>srcs</code>.</p>", "body_text": "Once you guard the whole file under _MSC_VER I think you'll also have to remove the if_windows bit and unconditionally list windows_compatibility.h in srcs."}