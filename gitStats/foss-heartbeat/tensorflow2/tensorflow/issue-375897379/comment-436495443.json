{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/436495443", "html_url": "https://github.com/tensorflow/tensorflow/issues/23402#issuecomment-436495443", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23402", "id": 436495443, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjQ5NTQ0Mw==", "user": {"login": "kgizdov", "id": 3164953, "node_id": "MDQ6VXNlcjMxNjQ5NTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3164953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kgizdov", "html_url": "https://github.com/kgizdov", "followers_url": "https://api.github.com/users/kgizdov/followers", "following_url": "https://api.github.com/users/kgizdov/following{/other_user}", "gists_url": "https://api.github.com/users/kgizdov/gists{/gist_id}", "starred_url": "https://api.github.com/users/kgizdov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kgizdov/subscriptions", "organizations_url": "https://api.github.com/users/kgizdov/orgs", "repos_url": "https://api.github.com/users/kgizdov/repos", "events_url": "https://api.github.com/users/kgizdov/events{/privacy}", "received_events_url": "https://api.github.com/users/kgizdov/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-07T03:49:42Z", "updated_at": "2018-11-07T04:26:34Z", "author_association": "NONE", "body_html": "<p>If I'm understanding correctly, the <code>workspace.bzl</code> says <code>grpc</code> pulls their own <code>nanopb</code> and thus it is explicitly listed as dep, but then it is built again by <code>third_party/nanopb.BUILD</code>. So one of those should be dropped?<br>\nNot to mention this:<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/c2516aa0663f015d021a958012b7bfff1bcd78cb/tensorflow/workspace.bzl#L848-L851\">tensorflow/tensorflow/workspace.bzl</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n        Lines 848 to 851\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/c2516aa0663f015d021a958012b7bfff1bcd78cb\">c2516aa</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L848\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"848\"></td>\n          <td id=\"LC848\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> native.bind( </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L849\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"849\"></td>\n          <td id=\"LC849\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">     <span class=\"pl-v\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>cares<span class=\"pl-pds\">\"</span></span>, </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L850\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"850\"></td>\n          <td id=\"LC850\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">     <span class=\"pl-v\">actual</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@grpc//third_party/nanopb:nanopb<span class=\"pl-pds\">\"</span></span>, </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L851\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"851\"></td>\n          <td id=\"LC851\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> ) </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/c2516aa0663f015d021a958012b7bfff1bcd78cb/tensorflow/workspace.bzl#L880-L883\">tensorflow/tensorflow/workspace.bzl</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n        Lines 880 to 883\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/c2516aa0663f015d021a958012b7bfff1bcd78cb\">c2516aa</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L880\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"880\"></td>\n          <td id=\"LC880\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> native.bind( </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L881\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"881\"></td>\n          <td id=\"LC881\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">     <span class=\"pl-v\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>nanopb<span class=\"pl-pds\">\"</span></span>, </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L882\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"882\"></td>\n          <td id=\"LC882\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">     <span class=\"pl-v\">actual</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@grpc//third_party/nanopb:nanopb<span class=\"pl-pds\">\"</span></span>, </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L883\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"883\"></td>\n          <td id=\"LC883\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> ) </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>", "body_text": "If I'm understanding correctly, the workspace.bzl says grpc pulls their own nanopb and thus it is explicitly listed as dep, but then it is built again by third_party/nanopb.BUILD. So one of those should be dropped?\nNot to mention this:\n\n  \n    \n      tensorflow/tensorflow/workspace.bzl\n    \n    \n        Lines 848 to 851\n      in\n      c2516aa\n    \n    \n    \n    \n\n        \n          \n           native.bind( \n        \n\n        \n          \n               name = \"cares\", \n        \n\n        \n          \n               actual = \"@grpc//third_party/nanopb:nanopb\", \n        \n\n        \n          \n           ) \n        \n    \n  \n\n\n\n  \n    \n      tensorflow/tensorflow/workspace.bzl\n    \n    \n        Lines 880 to 883\n      in\n      c2516aa\n    \n    \n    \n    \n\n        \n          \n           native.bind( \n        \n\n        \n          \n               name = \"nanopb\", \n        \n\n        \n          \n               actual = \"@grpc//third_party/nanopb:nanopb\", \n        \n\n        \n          \n           )", "body": "If I'm understanding correctly, the `workspace.bzl` says `grpc` pulls their own `nanopb` and thus it is explicitly listed as dep, but then it is built again by `third_party/nanopb.BUILD`. So one of those should be dropped?\r\nNot to mention this:\r\nhttps://github.com/tensorflow/tensorflow/blob/c2516aa0663f015d021a958012b7bfff1bcd78cb/tensorflow/workspace.bzl#L848-L851\r\nhttps://github.com/tensorflow/tensorflow/blob/c2516aa0663f015d021a958012b7bfff1bcd78cb/tensorflow/workspace.bzl#L880-L883"}