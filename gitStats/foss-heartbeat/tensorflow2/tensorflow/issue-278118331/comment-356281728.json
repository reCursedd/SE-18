{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/356281728", "html_url": "https://github.com/tensorflow/tensorflow/issues/15002#issuecomment-356281728", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15002", "id": 356281728, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjI4MTcyOA==", "user": {"login": "PatWie", "id": 6756603, "node_id": "MDQ6VXNlcjY3NTY2MDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/6756603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PatWie", "html_url": "https://github.com/PatWie", "followers_url": "https://api.github.com/users/PatWie/followers", "following_url": "https://api.github.com/users/PatWie/following{/other_user}", "gists_url": "https://api.github.com/users/PatWie/gists{/gist_id}", "starred_url": "https://api.github.com/users/PatWie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PatWie/subscriptions", "organizations_url": "https://api.github.com/users/PatWie/orgs", "repos_url": "https://api.github.com/users/PatWie/repos", "events_url": "https://api.github.com/users/PatWie/events{/privacy}", "received_events_url": "https://api.github.com/users/PatWie/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-09T13:20:22Z", "updated_at": "2018-01-09T13:23:19Z", "author_association": "NONE", "body_html": "<p>FYI everything works now fine using a <a href=\"https://github.com/cgtuebingen/tf_custom_op/blob/5072c836eae8e1cda5a0a1a4c64310c6b9386f8f/Backup/Makefile\">Makefile</a> or <a href=\"https://github.com/cgtuebingen/tf_custom_op/blob/5072c836eae8e1cda5a0a1a4c64310c6b9386f8f/matrix_add/CMakeLists.txt\">CMake</a> on the master branch at commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/4cb0c13c7779da536cac6c682180c5757611b384/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/4cb0c13c7779da536cac6c682180c5757611b384\"><tt>4cb0c13</tt></a></p>\n<p>Most parts can be hidden from the user.<br>\nThe only missing thing is indeed the <code>cuda_config.h</code> (see Line in <a href=\"https://github.com/cgtuebingen/tf_custom_op/blob/5072c836eae8e1cda5a0a1a4c64310c6b9386f8f/matrix_add/CMakeLists.txt#L40\">CMakeLists.txt</a>) which must be hard-coded until (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"255777816\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/12860\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/12860/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/12860\">#12860</a>) is resolved.</p>\n<p>Btw, this missing file only contains:</p>\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> DO NOT EDIT: automatically generated file</span>\n#<span class=\"pl-k\">ifndef</span> CUDA_CUDA_CONFIG_H_\n#<span class=\"pl-k\">define</span> <span class=\"pl-en\">CUDA_CUDA_CONFIG_H_</span>\n\n#<span class=\"pl-k\">define</span> <span class=\"pl-en\">TF_CUDA_CAPABILITIES</span> <span class=\"pl-en\">CudaVersion</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>3.0<span class=\"pl-pds\">\"</span></span>)\n\n#<span class=\"pl-k\">define</span> <span class=\"pl-en\">TF_CUDA_VERSION</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8.0<span class=\"pl-pds\">\"</span></span>\n#<span class=\"pl-k\">define</span> <span class=\"pl-en\">TF_CUDNN_VERSION</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>5<span class=\"pl-pds\">\"</span></span>\n\n#<span class=\"pl-k\">define</span> <span class=\"pl-en\">TF_CUDA_TOOLKIT_PATH</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/usr/local/cuda-8.0<span class=\"pl-pds\">\"</span></span>\n\n#<span class=\"pl-k\">endif</span>  <span class=\"pl-c\"><span class=\"pl-c\">//</span> CUDA_CUDA_CONFIG_H_</span></pre></div>\n<p>And neither <code>TF_CUDNN_VERSION</code> nor <code>TF_CUDA_TOOLKIT_PATH</code> is correct, although TensorFlow works correctly and I set the configs correctly during the compilation.</p>\n<p>Not sure, if this resolves <em>this</em> issue of missing files in the pip package.</p>", "body_text": "FYI everything works now fine using a Makefile or CMake on the master branch at commit 4cb0c13\nMost parts can be hidden from the user.\nThe only missing thing is indeed the cuda_config.h (see Line in CMakeLists.txt) which must be hard-coded until (#12860) is resolved.\nBtw, this missing file only contains:\n// DO NOT EDIT: automatically generated file\n#ifndef CUDA_CUDA_CONFIG_H_\n#define CUDA_CUDA_CONFIG_H_\n\n#define TF_CUDA_CAPABILITIES CudaVersion(\"3.0\")\n\n#define TF_CUDA_VERSION \"8.0\"\n#define TF_CUDNN_VERSION \"5\"\n\n#define TF_CUDA_TOOLKIT_PATH \"/usr/local/cuda-8.0\"\n\n#endif  // CUDA_CUDA_CONFIG_H_\nAnd neither TF_CUDNN_VERSION nor TF_CUDA_TOOLKIT_PATH is correct, although TensorFlow works correctly and I set the configs correctly during the compilation.\nNot sure, if this resolves this issue of missing files in the pip package.", "body": "FYI everything works now fine using a [Makefile](https://github.com/cgtuebingen/tf_custom_op/blob/5072c836eae8e1cda5a0a1a4c64310c6b9386f8f/Backup/Makefile) or [CMake](https://github.com/cgtuebingen/tf_custom_op/blob/5072c836eae8e1cda5a0a1a4c64310c6b9386f8f/matrix_add/CMakeLists.txt) on the master branch at commit https://github.com/tensorflow/tensorflow/commit/4cb0c13c7779da536cac6c682180c5757611b384\r\n\r\nMost parts can be hidden from the user.\r\nThe only missing thing is indeed the `cuda_config.h` (see Line in [CMakeLists.txt](https://github.com/cgtuebingen/tf_custom_op/blob/5072c836eae8e1cda5a0a1a4c64310c6b9386f8f/matrix_add/CMakeLists.txt#L40)) which must be hard-coded until (#12860) is resolved.\r\n\r\nBtw, this missing file only contains:\r\n```cpp\r\n// DO NOT EDIT: automatically generated file\r\n#ifndef CUDA_CUDA_CONFIG_H_\r\n#define CUDA_CUDA_CONFIG_H_\r\n\r\n#define TF_CUDA_CAPABILITIES CudaVersion(\"3.0\")\r\n\r\n#define TF_CUDA_VERSION \"8.0\"\r\n#define TF_CUDNN_VERSION \"5\"\r\n\r\n#define TF_CUDA_TOOLKIT_PATH \"/usr/local/cuda-8.0\"\r\n\r\n#endif  // CUDA_CUDA_CONFIG_H_\r\n```\r\n\r\nAnd neither `TF_CUDNN_VERSION` nor `TF_CUDA_TOOLKIT_PATH` is correct, although TensorFlow works correctly and I set the configs correctly during the compilation.\r\n  \r\nNot sure, if this resolves *this* issue of missing files in the pip package.\r\n\r\n"}