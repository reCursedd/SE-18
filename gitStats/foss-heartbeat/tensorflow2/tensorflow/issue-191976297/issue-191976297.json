{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5901", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5901/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5901/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5901/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5901", "id": 191976297, "node_id": "MDU6SXNzdWUxOTE5NzYyOTc=", "number": 5901, "title": "Im2txt: \"No variables to save\" error at the initial training stage", "user": {"login": "sonerdemiray", "id": 9155271, "node_id": "MDQ6VXNlcjkxNTUyNzE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9155271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sonerdemiray", "html_url": "https://github.com/sonerdemiray", "followers_url": "https://api.github.com/users/sonerdemiray/followers", "following_url": "https://api.github.com/users/sonerdemiray/following{/other_user}", "gists_url": "https://api.github.com/users/sonerdemiray/gists{/gist_id}", "starred_url": "https://api.github.com/users/sonerdemiray/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sonerdemiray/subscriptions", "organizations_url": "https://api.github.com/users/sonerdemiray/orgs", "repos_url": "https://api.github.com/users/sonerdemiray/repos", "events_url": "https://api.github.com/users/sonerdemiray/events{/privacy}", "received_events_url": "https://api.github.com/users/sonerdemiray/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-11-28T11:00:40Z", "updated_at": "2016-11-29T22:02:39Z", "closed_at": "2016-11-29T21:54:49Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>I'm trying to train im2txt (show &amp; tell) model with mscoco dataset using tensorflow-0.11.</p>\n<p>I successfully completed the downloaded &amp; preprocess steps described in the guide (<a href=\"https://github.com/tensorflow/models/tree/master/im2txt\">https://github.com/tensorflow/models/tree/master/im2txt</a>).</p>\n<p>I'm using the inception_v3.ckpt model for the initial training process.</p>\n<p>But I'm getting \"no variables to save\" error @ show_and_tell_model.py in function setup_inception_initializer at line<br>\nsaver = tf.train.Saver(self.inception_variables)<br>\nI print out self.inception_variables on the line above and I see that it is an empty list.</p>\n<p>Below is the complete dump of the error.</p>\n<p>Any help would be appreciated.</p>\n<p>Thanks.</p>\n<p>python train.py <br>\n--input_file_pattern=\"/usr/local/tensorflow-models/im2txt/im2txt/data/mscoco/train-?????-of-00256\" <br>\n--inception_checkpoint_file=\"/usr/local/tensorflow-models/im2txt/im2txt/data/inception_v3.ckpt\" <br>\n--train_dir=\"/usr/local/tensorflow-models/im2txt/im2txt/model/train\" <br>\n--train_inception=false <br>\n--number_of_steps=1000000<br>\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcublas.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcudnn.so.5.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcufft.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcurand.so.8.0 locally<br>\nINFO:tensorflow:Prefetching values from 256 files matching /usr/local/tensorflow-models/im2txt/im2txt/data/mscoco/train-?????-of-00256<br>\nTraceback (most recent call last):<br>\nFile \"train.py\", line 117, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 43, in run<br>\nsys.exit(main(sys.argv[:1] + flags_passthrough))<br>\nFile \"train.py\", line 67, in main<br>\nmodel.build()<br>\nFile \"/usr/local/tensorflow-models/im2txt/im2txt/show_and_tell_model.py\", line 361, in build<br>\nself.setup_inception_initializer()<br>\nFile \"/usr/local/tensorflow-models/im2txt/im2txt/show_and_tell_model.py\", line 335, in setup_inception_initializer<br>\nsaver = tf.train.Saver(self.inception_variables)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1000, in <strong>init</strong><br>\nself.build()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1021, in build<br>\nraise ValueError(\"No variables to save\")<br>\nValueError: No variables to save</p>", "body_text": "Hi,\nI'm trying to train im2txt (show & tell) model with mscoco dataset using tensorflow-0.11.\nI successfully completed the downloaded & preprocess steps described in the guide (https://github.com/tensorflow/models/tree/master/im2txt).\nI'm using the inception_v3.ckpt model for the initial training process.\nBut I'm getting \"no variables to save\" error @ show_and_tell_model.py in function setup_inception_initializer at line\nsaver = tf.train.Saver(self.inception_variables)\nI print out self.inception_variables on the line above and I see that it is an empty list.\nBelow is the complete dump of the error.\nAny help would be appreciated.\nThanks.\npython train.py \n--input_file_pattern=\"/usr/local/tensorflow-models/im2txt/im2txt/data/mscoco/train-?????-of-00256\" \n--inception_checkpoint_file=\"/usr/local/tensorflow-models/im2txt/im2txt/data/inception_v3.ckpt\" \n--train_dir=\"/usr/local/tensorflow-models/im2txt/im2txt/model/train\" \n--train_inception=false \n--number_of_steps=1000000\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcudnn.so.5.1 locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcurand.so.8.0 locally\nINFO:tensorflow:Prefetching values from 256 files matching /usr/local/tensorflow-models/im2txt/im2txt/data/mscoco/train-?????-of-00256\nTraceback (most recent call last):\nFile \"train.py\", line 117, in \ntf.app.run()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 43, in run\nsys.exit(main(sys.argv[:1] + flags_passthrough))\nFile \"train.py\", line 67, in main\nmodel.build()\nFile \"/usr/local/tensorflow-models/im2txt/im2txt/show_and_tell_model.py\", line 361, in build\nself.setup_inception_initializer()\nFile \"/usr/local/tensorflow-models/im2txt/im2txt/show_and_tell_model.py\", line 335, in setup_inception_initializer\nsaver = tf.train.Saver(self.inception_variables)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1000, in init\nself.build()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1021, in build\nraise ValueError(\"No variables to save\")\nValueError: No variables to save", "body": "Hi,\r\n\r\nI'm trying to train im2txt (show & tell) model with mscoco dataset using tensorflow-0.11.\r\n\r\nI successfully completed the downloaded & preprocess steps described in the guide (https://github.com/tensorflow/models/tree/master/im2txt).\r\n\r\nI'm using the inception_v3.ckpt model for the initial training process.\r\n\r\nBut I'm getting \"no variables to save\" error @ show_and_tell_model.py in function setup_inception_initializer at line \r\n saver = tf.train.Saver(self.inception_variables)\r\nI print out self.inception_variables on the line above and I see that it is an empty list.\r\n\r\nBelow is the complete dump of the error.\r\n\r\nAny help would be appreciated.\r\n\r\nThanks.\r\n\r\npython train.py \\\r\n\t--input_file_pattern=\"/usr/local/tensorflow-models/im2txt/im2txt/data/mscoco/train-?????-of-00256\" \\\r\n\t--inception_checkpoint_file=\"/usr/local/tensorflow-models/im2txt/im2txt/data/inception_v3.ckpt\" \\\r\n\t--train_dir=\"/usr/local/tensorflow-models/im2txt/im2txt/model/train\" \\\r\n\t--train_inception=false \\\r\n\t--number_of_steps=1000000\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcudnn.so.5.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcurand.so.8.0 locally\r\nINFO:tensorflow:Prefetching values from 256 files matching /usr/local/tensorflow-models/im2txt/im2txt/data/mscoco/train-?????-of-00256\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 117, in <module>\r\n    tf.app.run()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 43, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"train.py\", line 67, in main\r\n    model.build()\r\n  File \"/usr/local/tensorflow-models/im2txt/im2txt/show_and_tell_model.py\", line 361, in build\r\n    self.setup_inception_initializer()\r\n  File \"/usr/local/tensorflow-models/im2txt/im2txt/show_and_tell_model.py\", line 335, in setup_inception_initializer\r\n    saver = tf.train.Saver(self.inception_variables)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1000, in __init__\r\n    self.build()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1021, in build\r\n    raise ValueError(\"No variables to save\")\r\nValueError: No variables to save\r\n\r\n"}