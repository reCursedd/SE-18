{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/257837838", "html_url": "https://github.com/tensorflow/tensorflow/issues/5234#issuecomment-257837838", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5234", "id": 257837838, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzgzNzgzOA==", "user": {"login": "anjiefang", "id": 11158020, "node_id": "MDQ6VXNlcjExMTU4MDIw", "avatar_url": "https://avatars0.githubusercontent.com/u/11158020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjiefang", "html_url": "https://github.com/anjiefang", "followers_url": "https://api.github.com/users/anjiefang/followers", "following_url": "https://api.github.com/users/anjiefang/following{/other_user}", "gists_url": "https://api.github.com/users/anjiefang/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjiefang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjiefang/subscriptions", "organizations_url": "https://api.github.com/users/anjiefang/orgs", "repos_url": "https://api.github.com/users/anjiefang/repos", "events_url": "https://api.github.com/users/anjiefang/events{/privacy}", "received_events_url": "https://api.github.com/users/anjiefang/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-02T11:21:37Z", "updated_at": "2016-11-02T11:21:37Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20959853\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drpngx\">@drpngx</a> Either PIL or tensorflow is chosen in function <code>convert_to_image_per_folder</code> or <code>read_images_from</code> to decode PNGs string to <code>uint8</code> format. In function <code>read()</code>, <code>uint8</code> is converted to string again (<code>images[index].tostring()</code>) before serialization (<code>writer.write(example.SerializeToString())</code>).</p>\n<p>I used the way you suggested (<code>pen(filename, 'r') as f; im = f.read()</code>in <code>convert_image.py</code>). The parse problem is solved. Thanks a lot.<br>\nI think your given solution is equivalent as my previous code, i.e. images string is used for serialization (<code>writer.write(example.SerializeToString())</code> in <code>convert_image.py</code>). So I'm still not quite sure why my previous code had parse problem. :-(</p>\n<blockquote>\n<p>BTW, you should not import modules directly. For instance, use <code>tf.app</code> instead of <code>from .. import app.</code></p>\n</blockquote>\n<p>Thanks for your suggestion. We will improve our writing style in the future.</p>\n<p>The updated code is committed to <a href=\"https://github.com/anjiefang/examplecodes_tensorflow.git\">https://github.com/anjiefang/examplecodes_tensorflow.git</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20456912\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/OliviaMG\">@OliviaMG</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8763901\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/greaber\">@greaber</a></p>", "body_text": "@drpngx Either PIL or tensorflow is chosen in function convert_to_image_per_folder or read_images_from to decode PNGs string to uint8 format. In function read(), uint8 is converted to string again (images[index].tostring()) before serialization (writer.write(example.SerializeToString())).\nI used the way you suggested (pen(filename, 'r') as f; im = f.read()in convert_image.py). The parse problem is solved. Thanks a lot.\nI think your given solution is equivalent as my previous code, i.e. images string is used for serialization (writer.write(example.SerializeToString()) in convert_image.py). So I'm still not quite sure why my previous code had parse problem. :-(\n\nBTW, you should not import modules directly. For instance, use tf.app instead of from .. import app.\n\nThanks for your suggestion. We will improve our writing style in the future.\nThe updated code is committed to https://github.com/anjiefang/examplecodes_tensorflow.git @OliviaMG @greaber", "body": "@drpngx Either PIL or tensorflow is chosen in function `convert_to_image_per_folder` or `read_images_from` to decode PNGs string to `uint8` format. In function `read()`, `uint8` is converted to string again (`images[index].tostring()`) before serialization (`writer.write(example.SerializeToString())`). \n\nI used the way you suggested (`pen(filename, 'r') as f; im = f.read()`in `convert_image.py`). The parse problem is solved. Thanks a lot.\nI think your given solution is equivalent as my previous code, i.e. images string is used for serialization (`writer.write(example.SerializeToString())` in `convert_image.py`). So I'm still not quite sure why my previous code had parse problem. :-(\n\n> BTW, you should not import modules directly. For instance, use `tf.app` instead of `from .. import app.`\n\nThanks for your suggestion. We will improve our writing style in the future.\n\nThe updated code is committed to https://github.com/anjiefang/examplecodes_tensorflow.git @OliviaMG @greaber \n"}