{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22590", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22590/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22590/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22590/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22590", "id": 364769462, "node_id": "MDU6SXNzdWUzNjQ3Njk0NjI=", "number": 22590, "title": "Fast with eager execution, but slow without it for the same code?", "user": {"login": "hsgkim", "id": 34839382, "node_id": "MDQ6VXNlcjM0ODM5Mzgy", "avatar_url": "https://avatars0.githubusercontent.com/u/34839382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hsgkim", "html_url": "https://github.com/hsgkim", "followers_url": "https://api.github.com/users/hsgkim/followers", "following_url": "https://api.github.com/users/hsgkim/following{/other_user}", "gists_url": "https://api.github.com/users/hsgkim/gists{/gist_id}", "starred_url": "https://api.github.com/users/hsgkim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hsgkim/subscriptions", "organizations_url": "https://api.github.com/users/hsgkim/orgs", "repos_url": "https://api.github.com/users/hsgkim/repos", "events_url": "https://api.github.com/users/hsgkim/events{/privacy}", "received_events_url": "https://api.github.com/users/hsgkim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-09-28T07:17:47Z", "updated_at": "2018-10-04T06:39:36Z", "closed_at": "2018-09-28T17:39:52Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 16.04.5 LTS (Xenial Xerus)</li>\n<li><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>: N/A</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.9.0</li>\n<li><strong>Python version</strong>: 3.5.2</li>\n<li><strong>Bazel version (if compiling from source)</strong>: N/A</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: N/A</li>\n<li><strong>CUDA/cuDNN version</strong>: 9.0/7.0</li>\n<li><strong>GPU model and memory</strong>: GTX GeForce 1080Ti 11MB (11177MiB)</li>\n<li><strong>Exact command to reproduce</strong>: Source code below</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>The same code runs very slowly using the classic graph model (around 7 minutes) while it runs very quickly using the new eager execution mode (not profiled exactly, but around 10 seconds). The code just tries to compute the SSIM value of the two images loaded from a file.</p>\n<h3>Source code / logs</h3>\n<p>The codes are pretty much the same, the only difference being whether <code>ssim_result</code> is run in a session or eagerly executed.</p>\n<p>-- Code redacted by request --</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04.5 LTS (Xenial Xerus)\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\nTensorFlow installed from (source or binary): Binary\nTensorFlow version (use command below): 1.9.0\nPython version: 3.5.2\nBazel version (if compiling from source): N/A\nGCC/Compiler version (if compiling from source): N/A\nCUDA/cuDNN version: 9.0/7.0\nGPU model and memory: GTX GeForce 1080Ti 11MB (11177MiB)\nExact command to reproduce: Source code below\n\nDescribe the problem\nThe same code runs very slowly using the classic graph model (around 7 minutes) while it runs very quickly using the new eager execution mode (not profiled exactly, but around 10 seconds). The code just tries to compute the SSIM value of the two images loaded from a file.\nSource code / logs\nThe codes are pretty much the same, the only difference being whether ssim_result is run in a session or eagerly executed.\n-- Code redacted by request --", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04.5 LTS (Xenial Xerus)\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: N/A\r\n- **TensorFlow installed from (source or binary)**: Binary\r\n- **TensorFlow version (use command below)**: 1.9.0\r\n- **Python version**: 3.5.2\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **GCC/Compiler version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: 9.0/7.0\r\n- **GPU model and memory**: GTX GeForce 1080Ti 11MB (11177MiB)\r\n- **Exact command to reproduce**: Source code below\r\n\r\n### Describe the problem\r\nThe same code runs very slowly using the classic graph model (around 7 minutes) while it runs very quickly using the new eager execution mode (not profiled exactly, but around 10 seconds). The code just tries to compute the SSIM value of the two images loaded from a file.\r\n\r\n### Source code / logs\r\nThe codes are pretty much the same, the only difference being whether `ssim_result` is run in a session or eagerly executed.\r\n\r\n-- Code redacted by request --"}