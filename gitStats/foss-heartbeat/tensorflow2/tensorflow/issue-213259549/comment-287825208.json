{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/287825208", "html_url": "https://github.com/tensorflow/tensorflow/issues/8266#issuecomment-287825208", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8266", "id": 287825208, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzgyNTIwOA==", "user": {"login": "mohan-chinnappan-n", "id": 5963194, "node_id": "MDQ6VXNlcjU5NjMxOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5963194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mohan-chinnappan-n", "html_url": "https://github.com/mohan-chinnappan-n", "followers_url": "https://api.github.com/users/mohan-chinnappan-n/followers", "following_url": "https://api.github.com/users/mohan-chinnappan-n/following{/other_user}", "gists_url": "https://api.github.com/users/mohan-chinnappan-n/gists{/gist_id}", "starred_url": "https://api.github.com/users/mohan-chinnappan-n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mohan-chinnappan-n/subscriptions", "organizations_url": "https://api.github.com/users/mohan-chinnappan-n/orgs", "repos_url": "https://api.github.com/users/mohan-chinnappan-n/repos", "events_url": "https://api.github.com/users/mohan-chinnappan-n/events{/privacy}", "received_events_url": "https://api.github.com/users/mohan-chinnappan-n/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-20T16:58:32Z", "updated_at": "2017-03-20T16:58:32Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a></p>\n<p>Can we add check for this at configure time:</p>\n<pre><code> https://github.com/tensorflow/tensorflow/blob/master/configure\n\n</code></pre>\n<p>bash to test this:</p>\n<div class=\"highlight highlight-source-shell\"><pre>PLATFORM=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-s\"><span class=\"pl-pds\">$(</span>uname -s <span class=\"pl-k\">|</span> tr <span class=\"pl-s\"><span class=\"pl-pds\">'</span>A-Z<span class=\"pl-pds\">'</span></span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a-z<span class=\"pl-pds\">'</span></span><span class=\"pl-pds\">)</span></span><span class=\"pl-pds\">\"</span></span>\nSSE3_SUPPORTED=false\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">is_linux()</span> {\n  <span class=\"pl-k\">if</span> [[ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">${PLATFORM}</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">==</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>linux<span class=\"pl-pds\">\"</span></span> ]]<span class=\"pl-k\">;</span> <span class=\"pl-k\">then</span>\n    <span class=\"pl-c1\">true</span>\n  <span class=\"pl-k\">else</span>\n    <span class=\"pl-c1\">false</span>\n  <span class=\"pl-k\">fi</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">is_macos()</span> {\n  <span class=\"pl-k\">if</span> [[ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">${PLATFORM}</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">==</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>darwin<span class=\"pl-pds\">\"</span></span> ]]<span class=\"pl-k\">;</span> <span class=\"pl-k\">then</span>\n    <span class=\"pl-c1\">true</span>\n  <span class=\"pl-k\">else</span>\n    <span class=\"pl-c1\">false</span>\n  <span class=\"pl-k\">fi</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">sse3_supported_macos()</span> {\n    cpuinfo <span class=\"pl-k\">|</span> grep -i <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sse3<span class=\"pl-pds\">'</span></span>  <span class=\"pl-k\">&gt;</span> /dev/null\n    <span class=\"pl-k\">if</span> [ <span class=\"pl-smi\">$?</span> <span class=\"pl-k\">-eq</span> 0 ]<span class=\"pl-k\">;</span>  <span class=\"pl-k\">then</span>\n            <span class=\"pl-c1\">true</span>     \n    <span class=\"pl-k\">else</span>\n           <span class=\"pl-c1\">false</span> \n    <span class=\"pl-k\">fi</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">sse3_supported_linux()</span> {\n    cat /proc/cpuinfo <span class=\"pl-k\">|</span> grep -i <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sse3<span class=\"pl-pds\">'</span></span>  <span class=\"pl-k\">&gt;</span> /dev/null\n    <span class=\"pl-k\">if</span> [ <span class=\"pl-smi\">$?</span> <span class=\"pl-k\">-eq</span> 0 ]<span class=\"pl-k\">;</span>  <span class=\"pl-k\">then</span>\n            <span class=\"pl-c1\">true</span>     \n    <span class=\"pl-k\">else</span>\n           <span class=\"pl-c1\">false</span> \n    <span class=\"pl-k\">fi</span>\n}\n\n\n\n\n<span class=\"pl-k\">if</span> is_macos<span class=\"pl-k\">;</span> <span class=\"pl-k\">then</span>\n    <span class=\"pl-k\">if</span> sse3_supported_macos<span class=\"pl-k\">;</span> <span class=\"pl-k\">then</span>\n        SSE3_SUPPORTED=true\n        <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sse3 supported:<span class=\"pl-pds\">\"</span></span> <span class=\"pl-smi\">$SSE3_SUPPORTED</span>\n    <span class=\"pl-k\">fi</span>\n<span class=\"pl-k\">fi</span>\n\n<span class=\"pl-k\">if</span> is_linux<span class=\"pl-k\">;</span> <span class=\"pl-k\">then</span>\n    <span class=\"pl-k\">if</span> sse3_supported_linux<span class=\"pl-k\">;</span> <span class=\"pl-k\">then</span>\n        SSE3_SUPPORTED=true\n        <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sse3 supported:<span class=\"pl-pds\">\"</span></span> <span class=\"pl-smi\">$SSE3_SUPPORTED</span>\n    <span class=\"pl-k\">fi</span>\n<span class=\"pl-k\">fi</span></pre></div>", "body_text": "@yaroslavvb\nCan we add check for this at configure time:\n https://github.com/tensorflow/tensorflow/blob/master/configure\n\n\nbash to test this:\nPLATFORM=\"$(uname -s | tr 'A-Z' 'a-z')\"\nSSE3_SUPPORTED=false\n\nfunction is_linux() {\n  if [[ \"${PLATFORM}\" == \"linux\" ]]; then\n    true\n  else\n    false\n  fi\n}\n\nfunction is_macos() {\n  if [[ \"${PLATFORM}\" == \"darwin\" ]]; then\n    true\n  else\n    false\n  fi\n}\n\nfunction sse3_supported_macos() {\n    cpuinfo | grep -i 'sse3'  > /dev/null\n    if [ $? -eq 0 ];  then\n            true     \n    else\n           false \n    fi\n}\n\nfunction sse3_supported_linux() {\n    cat /proc/cpuinfo | grep -i 'sse3'  > /dev/null\n    if [ $? -eq 0 ];  then\n            true     \n    else\n           false \n    fi\n}\n\n\n\n\nif is_macos; then\n    if sse3_supported_macos; then\n        SSE3_SUPPORTED=true\n        echo \"sse3 supported:\" $SSE3_SUPPORTED\n    fi\nfi\n\nif is_linux; then\n    if sse3_supported_linux; then\n        SSE3_SUPPORTED=true\n        echo \"sse3 supported:\" $SSE3_SUPPORTED\n    fi\nfi", "body": "@yaroslavvb \r\n\r\nCan we add check for this at configure time:\r\n```\r\n https://github.com/tensorflow/tensorflow/blob/master/configure\r\n\r\n```\r\n\r\nbash to test this:\r\n\r\n```bash\r\n\r\nPLATFORM=\"$(uname -s | tr 'A-Z' 'a-z')\"\r\nSSE3_SUPPORTED=false\r\n\r\nfunction is_linux() {\r\n  if [[ \"${PLATFORM}\" == \"linux\" ]]; then\r\n    true\r\n  else\r\n    false\r\n  fi\r\n}\r\n\r\nfunction is_macos() {\r\n  if [[ \"${PLATFORM}\" == \"darwin\" ]]; then\r\n    true\r\n  else\r\n    false\r\n  fi\r\n}\r\n\r\nfunction sse3_supported_macos() {\r\n    cpuinfo | grep -i 'sse3'  > /dev/null\r\n    if [ $? -eq 0 ];  then\r\n            true     \r\n    else\r\n           false \r\n    fi\r\n}\r\n\r\nfunction sse3_supported_linux() {\r\n    cat /proc/cpuinfo | grep -i 'sse3'  > /dev/null\r\n    if [ $? -eq 0 ];  then\r\n            true     \r\n    else\r\n           false \r\n    fi\r\n}\r\n\r\n\r\n\r\n\r\nif is_macos; then\r\n    if sse3_supported_macos; then\r\n        SSE3_SUPPORTED=true\r\n        echo \"sse3 supported:\" $SSE3_SUPPORTED\r\n    fi\r\nfi\r\n\r\nif is_linux; then\r\n    if sse3_supported_linux; then\r\n        SSE3_SUPPORTED=true\r\n        echo \"sse3 supported:\" $SSE3_SUPPORTED\r\n    fi\r\nfi\r\n```"}