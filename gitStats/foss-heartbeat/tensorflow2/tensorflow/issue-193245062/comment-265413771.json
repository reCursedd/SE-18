{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/265413771", "html_url": "https://github.com/tensorflow/tensorflow/pull/6050#issuecomment-265413771", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6050", "id": 265413771, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTQxMzc3MQ==", "user": {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-07T10:37:56Z", "updated_at": "2016-12-07T16:15:33Z", "author_association": "MEMBER", "body_html": "<p>Actually, I don't think sandbox is a problem for us. Because sandboxing only happens at build time, we don't need the pip package at build time, <del>and there is no sandbox when running the test</del>.</p>\n<p>I tried to use this way to run all the py_test under <code>//tensorflow/python/...</code> on Linux, only 2 of them are failing because they depend on something not included in the pip package. And they are also excluded in <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/ci_build/builds/test_installation.sh\">test_installation.sh</a></p>\n<pre><code>//py_test/tensorflow/python:framework_ops_test                           FAILED in 2.0s\n  /usr/local/google/home/pcloudy/.cache/bazel/_bazel_pcloudy/e4bf2e19d8ade2926eceaec3a26a8217/execroot/tensorflow/bazel-out/local-fastbuild/testlogs/py_test/tensorflow/python/framework_ops_test/test.log\n//py_test/tensorflow/python:protobuf_compare_test                        FAILED in 0.8s\n  /usr/local/google/home/pcloudy/.cache/bazel/_bazel_pcloudy/e4bf2e19d8ade2926eceaec3a26a8217/execroot/tensorflow/bazel-out/local-fastbuild/testlogs/py_test/tensorflow/python/protobuf_compare_test/test.log\n\nExecuted 21 out of 278 tests: 276 tests pass and 2 fail locally.\n</code></pre>", "body_text": "Actually, I don't think sandbox is a problem for us. Because sandboxing only happens at build time, we don't need the pip package at build time, and there is no sandbox when running the test.\nI tried to use this way to run all the py_test under //tensorflow/python/... on Linux, only 2 of them are failing because they depend on something not included in the pip package. And they are also excluded in test_installation.sh\n//py_test/tensorflow/python:framework_ops_test                           FAILED in 2.0s\n  /usr/local/google/home/pcloudy/.cache/bazel/_bazel_pcloudy/e4bf2e19d8ade2926eceaec3a26a8217/execroot/tensorflow/bazel-out/local-fastbuild/testlogs/py_test/tensorflow/python/framework_ops_test/test.log\n//py_test/tensorflow/python:protobuf_compare_test                        FAILED in 0.8s\n  /usr/local/google/home/pcloudy/.cache/bazel/_bazel_pcloudy/e4bf2e19d8ade2926eceaec3a26a8217/execroot/tensorflow/bazel-out/local-fastbuild/testlogs/py_test/tensorflow/python/protobuf_compare_test/test.log\n\nExecuted 21 out of 278 tests: 276 tests pass and 2 fail locally.", "body": "Actually, I don't think sandbox is a problem for us. Because sandboxing only happens at build time, we don't need the pip package at build time, <del>and there is no sandbox when running the test</del>.\r\n\r\nI tried to use this way to run all the py_test under `//tensorflow/python/...` on Linux, only 2 of them are failing because they depend on something not included in the pip package. And they are also excluded in [test_installation.sh](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/ci_build/builds/test_installation.sh)\r\n```\r\n//py_test/tensorflow/python:framework_ops_test                           FAILED in 2.0s\r\n  /usr/local/google/home/pcloudy/.cache/bazel/_bazel_pcloudy/e4bf2e19d8ade2926eceaec3a26a8217/execroot/tensorflow/bazel-out/local-fastbuild/testlogs/py_test/tensorflow/python/framework_ops_test/test.log\r\n//py_test/tensorflow/python:protobuf_compare_test                        FAILED in 0.8s\r\n  /usr/local/google/home/pcloudy/.cache/bazel/_bazel_pcloudy/e4bf2e19d8ade2926eceaec3a26a8217/execroot/tensorflow/bazel-out/local-fastbuild/testlogs/py_test/tensorflow/python/protobuf_compare_test/test.log\r\n\r\nExecuted 21 out of 278 tests: 276 tests pass and 2 fail locally.\r\n```\r\n"}