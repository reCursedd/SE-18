{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6050", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6050/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6050/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6050/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/6050", "id": 193245062, "node_id": "MDExOlB1bGxSZXF1ZXN0OTYzNzI2NTE=", "number": 6050, "title": "Run python tests on Windows with Bazel", "user": {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2016-12-02T23:42:39Z", "updated_at": "2018-03-05T15:17:40Z", "closed_at": "2016-12-08T09:09:10Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6050", "html_url": "https://github.com/tensorflow/tensorflow/pull/6050", "diff_url": "https://github.com/tensorflow/tensorflow/pull/6050.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/6050.patch"}, "body_html": "<p>The major problem with running TF test on Windows is python tests depend on too many and too big things (eg. pywrap_tensorflow.dll). Since py_test is a zip file on Windows, it's too slow to unzip for running them concurrently.</p>\n<p>We solve this problem by getting rid of all the deps of py_test, so that every py_test zip only contains it's source code(several of them also contains some data files). Then we install tensorflow pip package into the system before running them.</p>\n<p>By doing this we can get most of the python test running on Windows, but the disadvantage is the tests are not hermetic in Bazel.<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a></p>", "body_text": "The major problem with running TF test on Windows is python tests depend on too many and too big things (eg. pywrap_tensorflow.dll). Since py_test is a zip file on Windows, it's too slow to unzip for running them concurrently.\nWe solve this problem by getting rid of all the deps of py_test, so that every py_test zip only contains it's source code(several of them also contains some data files). Then we install tensorflow pip package into the system before running them.\nBy doing this we can get most of the python test running on Windows, but the disadvantage is the tests are not hermetic in Bazel.\n@gunan", "body": "The major problem with running TF test on Windows is python tests depend on too many and too big things (eg. pywrap_tensorflow.dll). Since py_test is a zip file on Windows, it's too slow to unzip for running them concurrently.\r\n\r\nWe solve this problem by getting rid of all the deps of py_test, so that every py_test zip only contains it's source code(several of them also contains some data files). Then we install tensorflow pip package into the system before running them.\r\n\r\nBy doing this we can get most of the python test running on Windows, but the disadvantage is the tests are not hermetic in Bazel.\r\n@gunan "}