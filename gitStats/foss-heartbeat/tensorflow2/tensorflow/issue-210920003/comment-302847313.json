{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/302847313", "html_url": "https://github.com/tensorflow/tensorflow/issues/7951#issuecomment-302847313", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7951", "id": 302847313, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjg0NzMxMw==", "user": {"login": "omoindrot", "id": 13662086, "node_id": "MDQ6VXNlcjEzNjYyMDg2", "avatar_url": "https://avatars3.githubusercontent.com/u/13662086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omoindrot", "html_url": "https://github.com/omoindrot", "followers_url": "https://api.github.com/users/omoindrot/followers", "following_url": "https://api.github.com/users/omoindrot/following{/other_user}", "gists_url": "https://api.github.com/users/omoindrot/gists{/gist_id}", "starred_url": "https://api.github.com/users/omoindrot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omoindrot/subscriptions", "organizations_url": "https://api.github.com/users/omoindrot/orgs", "repos_url": "https://api.github.com/users/omoindrot/repos", "events_url": "https://api.github.com/users/omoindrot/events{/privacy}", "received_events_url": "https://api.github.com/users/omoindrot/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-20T03:19:36Z", "updated_at": "2017-05-20T03:19:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I feel like the default code for looping over a dataset is a bit ugly with an exception breaking out of a <code>while True</code> loop:</p>\n<div class=\"highlight highlight-source-python\"><pre>sess.run(iterator.initializer)\n<span class=\"pl-k\">while</span> <span class=\"pl-c1\">True</span>:\n  <span class=\"pl-k\">try</span>:\n    sess.run(train_op)\n  <span class=\"pl-k\">except</span> tf.errors.OutOfRangeError:\n    <span class=\"pl-k\">break</span></pre></div>\n<p>Wouldn't there be a way to have an <code>is_empty</code> tensor indicating when the iterator is empty? Like:</p>\n<div class=\"highlight highlight-source-python\"><pre>sess.run(iterator.initializer)\nis_empty <span class=\"pl-k\">=</span> <span class=\"pl-c1\">False</span>\n<span class=\"pl-k\">while</span> <span class=\"pl-k\">not</span> is_empty:\n  _, is_empty <span class=\"pl-k\">=</span> sess.run([train_op, iterator.is_empty])</pre></div>", "body_text": "I feel like the default code for looping over a dataset is a bit ugly with an exception breaking out of a while True loop:\nsess.run(iterator.initializer)\nwhile True:\n  try:\n    sess.run(train_op)\n  except tf.errors.OutOfRangeError:\n    break\nWouldn't there be a way to have an is_empty tensor indicating when the iterator is empty? Like:\nsess.run(iterator.initializer)\nis_empty = False\nwhile not is_empty:\n  _, is_empty = sess.run([train_op, iterator.is_empty])", "body": "I feel like the default code for looping over a dataset is a bit ugly with an exception breaking out of a `while True` loop:\r\n```python\r\nsess.run(iterator.initializer)\r\nwhile True:\r\n  try:\r\n    sess.run(train_op)\r\n  except tf.errors.OutOfRangeError:\r\n    break\r\n```\r\n\r\nWouldn't there be a way to have an `is_empty` tensor indicating when the iterator is empty? Like:\r\n```python\r\nsess.run(iterator.initializer)\r\nis_empty = False\r\nwhile not is_empty:\r\n  _, is_empty = sess.run([train_op, iterator.is_empty])\r\n```"}