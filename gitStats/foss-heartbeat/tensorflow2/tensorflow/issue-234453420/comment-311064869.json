{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/311064869", "html_url": "https://github.com/tensorflow/tensorflow/pull/10522#issuecomment-311064869", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10522", "id": 311064869, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTA2NDg2OQ==", "user": {"login": "sandipmgiri", "id": 16284232, "node_id": "MDQ6VXNlcjE2Mjg0MjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/16284232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandipmgiri", "html_url": "https://github.com/sandipmgiri", "followers_url": "https://api.github.com/users/sandipmgiri/followers", "following_url": "https://api.github.com/users/sandipmgiri/following{/other_user}", "gists_url": "https://api.github.com/users/sandipmgiri/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandipmgiri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandipmgiri/subscriptions", "organizations_url": "https://api.github.com/users/sandipmgiri/orgs", "repos_url": "https://api.github.com/users/sandipmgiri/repos", "events_url": "https://api.github.com/users/sandipmgiri/events{/privacy}", "received_events_url": "https://api.github.com/users/sandipmgiri/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-26T13:50:25Z", "updated_at": "2017-06-27T09:18:18Z", "author_association": "CONTRIBUTOR", "body_html": "<p><strong>Details for the change to GetCycleCounterFrequency :</strong></p>\n<p>This is regarding test case<code> //tensorflow/core:platform_profile_utils_cpu_utils_test</code>. While running this test on <code>ppc64le</code> platform <code>int64 GetCycleCounterFrequency</code> function returning  unexpected  value (i.e. <code>-1</code> vs expected <code>greater than 1</code>)  ,which is <code> \"int64 cpu_frequency\"</code> value<br>\nAs per analysis here we found that  :  \"<code>int64</code>\"  value on <code>x86</code> is \"unsigned\" by default whereas on <code>ppc64le</code> it is \"signed\" by default. Because of that we were getting incorrect value on ppc64le.</p>\n<p>To make the result compatible with <code>x86</code>, I have done this changes on <code>ppc64le</code>.<br>\nAfter code changes, I ran this test and now it is passing on<code> ppc64le</code> as well as on <code>X86</code>.</p>\n<p>In first commit (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/c63cebb80a26cb7eeaf0afe095886488f1a8ac8a/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/c63cebb80a26cb7eeaf0afe095886488f1a8ac8a\"><tt>c63cebb</tt></a>) I had made generic changes . After that I realized that this test is passing successfully on<code> X86</code> without any change. Hence, now I have made only ppc64le specific changes in latest commit (i.e.  <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/c42d2f52a8237e7e73e29a5658bfe0c83baee414/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/c42d2f52a8237e7e73e29a5658bfe0c83baee414\"><tt>c42d2f5</tt></a>)</p>\n<p>Please provide your comments on this and  let me know if you need any additional details. Thanks!</p>", "body_text": "Details for the change to GetCycleCounterFrequency :\nThis is regarding test case //tensorflow/core:platform_profile_utils_cpu_utils_test. While running this test on ppc64le platform int64 GetCycleCounterFrequency function returning  unexpected  value (i.e. -1 vs expected greater than 1)  ,which is  \"int64 cpu_frequency\" value\nAs per analysis here we found that  :  \"int64\"  value on x86 is \"unsigned\" by default whereas on ppc64le it is \"signed\" by default. Because of that we were getting incorrect value on ppc64le.\nTo make the result compatible with x86, I have done this changes on ppc64le.\nAfter code changes, I ran this test and now it is passing on ppc64le as well as on X86.\nIn first commit (c63cebb) I had made generic changes . After that I realized that this test is passing successfully on X86 without any change. Hence, now I have made only ppc64le specific changes in latest commit (i.e.  c42d2f5)\nPlease provide your comments on this and  let me know if you need any additional details. Thanks!", "body": "**Details for the change to GetCycleCounterFrequency :** \r\n\r\nThis is regarding test case` //tensorflow/core:platform_profile_utils_cpu_utils_test`. While running this test on `ppc64le` platform `int64 GetCycleCounterFrequency` function returning  unexpected  value (i.e. `-1` vs expected `greater than 1`)  ,which is ` \"int64 cpu_frequency\"` value\r\nAs per analysis here we found that  :  \"`int64`\"  value on `x86` is \"unsigned\" by default whereas on `ppc64le` it is \"signed\" by default. Because of that we were getting incorrect value on ppc64le.\r\n\r\nTo make the result compatible with `x86`, I have done this changes on `ppc64le`.\r\nAfter code changes, I ran this test and now it is passing on` ppc64le` as well as on `X86`.\r\n\r\nIn first commit (https://github.com/tensorflow/tensorflow/commit/c63cebb80a26cb7eeaf0afe095886488f1a8ac8a) I had made generic changes . After that I realized that this test is passing successfully on` X86` without any change. Hence, now I have made only ppc64le specific changes in latest commit (i.e.  https://github.com/tensorflow/tensorflow/pull/10522/commits/c42d2f52a8237e7e73e29a5658bfe0c83baee414)\r\n\r\nPlease provide your comments on this and  let me know if you need any additional details. Thanks!"}