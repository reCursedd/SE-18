{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/409083988", "html_url": "https://github.com/tensorflow/tensorflow/issues/21259#issuecomment-409083988", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21259", "id": 409083988, "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTA4Mzk4OA==", "user": {"login": "superhg2012", "id": 8817309, "node_id": "MDQ6VXNlcjg4MTczMDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/8817309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/superhg2012", "html_url": "https://github.com/superhg2012", "followers_url": "https://api.github.com/users/superhg2012/followers", "following_url": "https://api.github.com/users/superhg2012/following{/other_user}", "gists_url": "https://api.github.com/users/superhg2012/gists{/gist_id}", "starred_url": "https://api.github.com/users/superhg2012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/superhg2012/subscriptions", "organizations_url": "https://api.github.com/users/superhg2012/orgs", "repos_url": "https://api.github.com/users/superhg2012/repos", "events_url": "https://api.github.com/users/superhg2012/events{/privacy}", "received_events_url": "https://api.github.com/users/superhg2012/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-31T03:38:13Z", "updated_at": "2018-07-31T03:38:13Z", "author_association": "NONE", "body_html": "<p>Hi, Here is the instance_as_tensor code:</p>\n<p>def instance_as_tensor(image_name, label=None):<br>\n\"\"\"Convert a single training/prediction instance into a tensor.\"\"\"<br>\nimg_file = tf.read_file(image_name)<br>\nimage = tf.image.decode_png(img_file, channels=0)<br>\nimage = tf.cast(image, tf.float32)<br>\nimage_data = tf.transpose(image[:128, :] / 256.)</p>\n<pre><code>    if label is not None:\n        label = tf.cast(label, tf.int32)\n\n    return {'sgram': image_data}, label\n</code></pre>", "body_text": "Hi, Here is the instance_as_tensor code:\ndef instance_as_tensor(image_name, label=None):\n\"\"\"Convert a single training/prediction instance into a tensor.\"\"\"\nimg_file = tf.read_file(image_name)\nimage = tf.image.decode_png(img_file, channels=0)\nimage = tf.cast(image, tf.float32)\nimage_data = tf.transpose(image[:128, :] / 256.)\n    if label is not None:\n        label = tf.cast(label, tf.int32)\n\n    return {'sgram': image_data}, label", "body": "Hi, Here is the instance_as_tensor code:\r\n\r\n   def instance_as_tensor(image_name, label=None):\r\n        \"\"\"Convert a single training/prediction instance into a tensor.\"\"\"\r\n        img_file = tf.read_file(image_name)\r\n        image = tf.image.decode_png(img_file, channels=0)\r\n        image = tf.cast(image, tf.float32)\r\n        image_data = tf.transpose(image[:128, :] / 256.)\r\n\r\n        if label is not None:\r\n            label = tf.cast(label, tf.int32)\r\n\r\n        return {'sgram': image_data}, label"}