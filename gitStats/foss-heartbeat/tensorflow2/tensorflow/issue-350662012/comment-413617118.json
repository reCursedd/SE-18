{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/413617118", "html_url": "https://github.com/tensorflow/tensorflow/issues/21619#issuecomment-413617118", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21619", "id": 413617118, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzYxNzExOA==", "user": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-16T17:08:07Z", "updated_at": "2018-08-16T17:08:07Z", "author_association": "MEMBER", "body_html": "<p>I don't think the code you pasted gave the error you pasted because the last iteration of the code has no placeholders.</p>\n<p>In general you are not supposed to create a tensorflow session inside a python function which is supposed to be building a graph (and functions passed to Dataset.map are supposed to build graphs).</p>\n<p>It might be easier for you to take a step back and describe what you're trying to achieve here (specially because your parse_function isn't actually doing any parsing).</p>\n<p>Answering your question, tf.data.Dataset.from_tensor_slices returns a Dataset, not a tensor. A Dataset is an object from which you can build iterators and other datasets (using tools like map and friends). The iterators you build from a dataset have an op which you can run to get a tensor.</p>\n<p>Please refer to the documentation in <a href=\"https://www.tensorflow.org/guide/datasets\" rel=\"nofollow\">tf.data</a> or <a href=\"https://www.youtube.com/watch?v=uIcqeP7MFH0\" rel=\"nofollow\">one of Derek's talks on the subject</a>.</p>\n<p>For now I'm closing this issue since I do not think it's a bug in tf.</p>", "body_text": "I don't think the code you pasted gave the error you pasted because the last iteration of the code has no placeholders.\nIn general you are not supposed to create a tensorflow session inside a python function which is supposed to be building a graph (and functions passed to Dataset.map are supposed to build graphs).\nIt might be easier for you to take a step back and describe what you're trying to achieve here (specially because your parse_function isn't actually doing any parsing).\nAnswering your question, tf.data.Dataset.from_tensor_slices returns a Dataset, not a tensor. A Dataset is an object from which you can build iterators and other datasets (using tools like map and friends). The iterators you build from a dataset have an op which you can run to get a tensor.\nPlease refer to the documentation in tf.data or one of Derek's talks on the subject.\nFor now I'm closing this issue since I do not think it's a bug in tf.", "body": "I don't think the code you pasted gave the error you pasted because the last iteration of the code has no placeholders.\r\n\r\nIn general you are not supposed to create a tensorflow session inside a python function which is supposed to be building a graph (and functions passed to Dataset.map are supposed to build graphs).\r\n\r\nIt might be easier for you to take a step back and describe what you're trying to achieve here (specially because your parse_function isn't actually doing any parsing).\r\n\r\nAnswering your question, tf.data.Dataset.from_tensor_slices returns a Dataset, not a tensor. A Dataset is an object from which you can build iterators and other datasets (using tools like map and friends). The iterators you build from a dataset have an op which you can run to get a tensor.\r\n\r\nPlease refer to the documentation in [tf.data](https://www.tensorflow.org/guide/datasets) or [one of Derek's talks on the subject](https://www.youtube.com/watch?v=uIcqeP7MFH0).\r\n\r\nFor now I'm closing this issue since I do not think it's a bug in tf. "}