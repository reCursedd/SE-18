{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21410", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21410/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21410/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21410/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21410", "id": 347938599, "node_id": "MDU6SXNzdWUzNDc5Mzg1OTk=", "number": 21410, "title": "Memory leak with tf.py_func", "user": {"login": "olesalscheider", "id": 1006058, "node_id": "MDQ6VXNlcjEwMDYwNTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1006058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olesalscheider", "html_url": "https://github.com/olesalscheider", "followers_url": "https://api.github.com/users/olesalscheider/followers", "following_url": "https://api.github.com/users/olesalscheider/following{/other_user}", "gists_url": "https://api.github.com/users/olesalscheider/gists{/gist_id}", "starred_url": "https://api.github.com/users/olesalscheider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olesalscheider/subscriptions", "organizations_url": "https://api.github.com/users/olesalscheider/orgs", "repos_url": "https://api.github.com/users/olesalscheider/repos", "events_url": "https://api.github.com/users/olesalscheider/events{/privacy}", "received_events_url": "https://api.github.com/users/olesalscheider/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-08-06T14:06:20Z", "updated_at": "2018-10-15T16:25:25Z", "closed_at": "2018-10-15T16:25:24Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Yes, see below</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 16.04</li>\n<li><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>:</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: v1.9.0-rc2-1738-ge70f94e 1.10.0-rc1</li>\n<li><strong>Python version</strong>: 3.5</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.16.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: 5.4.0</li>\n<li><strong>CUDA/cuDNN version</strong>: 9.2 / 7</li>\n<li><strong>GPU model and memory</strong>: Nvidia 1080Ti, 11 GB</li>\n<li><strong>Exact command to reproduce</strong>: ./leak.py (see attached file)</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>The attached script uses more and more CPU memory in each iteration until it runs out of memory. It does not do anything useful but it is a small test case to demonstrate the problem.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes, see below\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): v1.9.0-rc2-1738-ge70f94e 1.10.0-rc1\nPython version: 3.5\nBazel version (if compiling from source): 0.16.0\nGCC/Compiler version (if compiling from source): 5.4.0\nCUDA/cuDNN version: 9.2 / 7\nGPU model and memory: Nvidia 1080Ti, 11 GB\nExact command to reproduce: ./leak.py (see attached file)\n\nDescribe the problem\nThe attached script uses more and more CPU memory in each iteration until it runs out of memory. It does not do anything useful but it is a small test case to demonstrate the problem.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes, see below\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**:\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: v1.9.0-rc2-1738-ge70f94e 1.10.0-rc1\r\n- **Python version**: 3.5\r\n- **Bazel version (if compiling from source)**: 0.16.0\r\n- **GCC/Compiler version (if compiling from source)**: 5.4.0\r\n- **CUDA/cuDNN version**: 9.2 / 7\r\n- **GPU model and memory**: Nvidia 1080Ti, 11 GB\r\n- **Exact command to reproduce**: ./leak.py (see attached file)\r\n\r\n### Describe the problem\r\nThe attached script uses more and more CPU memory in each iteration until it runs out of memory. It does not do anything useful but it is a small test case to demonstrate the problem."}