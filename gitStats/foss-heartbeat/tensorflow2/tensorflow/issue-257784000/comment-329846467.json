{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/329846467", "html_url": "https://github.com/tensorflow/tensorflow/issues/13044#issuecomment-329846467", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13044", "id": 329846467, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTg0NjQ2Nw==", "user": {"login": "Coderx7", "id": 5382892, "node_id": "MDQ6VXNlcjUzODI4OTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5382892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Coderx7", "html_url": "https://github.com/Coderx7", "followers_url": "https://api.github.com/users/Coderx7/followers", "following_url": "https://api.github.com/users/Coderx7/following{/other_user}", "gists_url": "https://api.github.com/users/Coderx7/gists{/gist_id}", "starred_url": "https://api.github.com/users/Coderx7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Coderx7/subscriptions", "organizations_url": "https://api.github.com/users/Coderx7/orgs", "repos_url": "https://api.github.com/users/Coderx7/repos", "events_url": "https://api.github.com/users/Coderx7/events{/privacy}", "received_events_url": "https://api.github.com/users/Coderx7/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-15T17:27:13Z", "updated_at": "2017-09-15T17:27:13Z", "author_association": "NONE", "body_html": "<p>I recheck all the images for mismatched extensions and the actual type of the image and fixed them all.<br>\nAfter recreating the TFRecords and retraining again I am faced with these errors:</p>\n<pre><code>INFO:tensorflow:global step 1334: loss = 0.4126 (1.323 sec/step)\nINFO:tensorflow:global step 1335: loss = 0.6324 (1.341 sec/step)\n2017-09-15 21:08:58.766691: W C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\framework\\op_kernel.cc:1192] Invalid argument: Shape mismatch in tuple component 16. Expected [1,?,?,3], got [1,157,80,4]\nINFO:tensorflow:Error reported to Coordinator: &lt;class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'&gt;, Shape mismatch in tuple component 16. Expected [1,?,?,3], got [1,157,80,4]\n         [[Node: batch/padding_fifo_queue_enqueue = QueueEnqueueV2[Tcomponents=[DT_STRING, DT_INT32, DT_FLOAT, DT_INT32, DT_FLOAT, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_BOOL, DT_INT32, DT_BOOL, DT_INT32, DT_FLOAT, DT_INT32, DT_STRING, DT_INT32, DT_STRING, DT_INT32], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](batch/padding_fifo_queue, Reshape_2, Shape_1, SparseToDense_4, Shape_10, Merge_1, Shape_9, Merge_2, Shape_8, SparseToDense_3, Shape_6, SparseToDense, Shape_5, Cast_1, Shape_7, Cast_2, Shape_3, ExpandDims_5, Shape_4, Reshape_5, Shape, Reshape_6, Shape_2)]]\nINFO:tensorflow:global step 1336: loss = 0.4120 (1.394 sec/step)\nINFO:tensorflow:Finished training! Saving model to disk.\nTraceback (most recent call last):\n  File \"train.py\", line 198, in &lt;module&gt;\n    tf.app.run()\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"train.py\", line 194, in main\n    worker_job_name, is_chief, FLAGS.train_dir)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\object_detection-0.1-py3.5.egg\\object_detection\\trainer.py\", line 296, in train\n    saver=saver)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\contrib\\slim\\python\\slim\\learning.py\", line 767, in train\n    sv.stop(threads, close_summary_writer=True)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\training\\supervisor.py\", line 792, in stop\n    stop_grace_period_secs=self._stop_grace_secs)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\training\\coordinator.py\", line 389, in join\n    six.reraise(*self._exc_info_to_raise)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\six.py\", line 686, in reraise\n    raise value\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\training\\queue_runner_impl.py\", line 238, in _run\n    enqueue_callable()\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1235, in _single_operation_run\n    target_list_as_strings, status, None)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\Lib\\contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 466, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Shape mismatch in tuple component 16. Expected [1,?,?,3], got [1,157,80,4]\n         [[Node: batch/padding_fifo_queue_enqueue = QueueEnqueueV2[Tcomponents=[DT_STRING, DT_INT32, DT_FLOAT, DT_INT32, DT_FLOAT, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_BOOL, DT_INT32, DT_BOOL, DT_INT32, DT_FLOAT, DT_INT32, DT_STRING, DT_INT32, DT_STRING, DT_INT32], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](batch/padding_fifo_queue, Reshape_2, Shape_1, SparseToDense_4, Shape_10, Merge_1, Shape_9, Merge_2, Shape_8, SparseToDense_3, Shape_6, SparseToDense, Shape_5, Cast_1, Shape_7, Cast_2, Shape_3, ExpandDims_5, Shape_4, Reshape_5, Shape, Reshape_6, Shape_2)]]\n\n</code></pre>\n<p>This is getting really annoying!<br>\nI fixed what I thought could be the issue here, and yet this pops up. any feedback on this issue is greatly appreciated.</p>", "body_text": "I recheck all the images for mismatched extensions and the actual type of the image and fixed them all.\nAfter recreating the TFRecords and retraining again I am faced with these errors:\nINFO:tensorflow:global step 1334: loss = 0.4126 (1.323 sec/step)\nINFO:tensorflow:global step 1335: loss = 0.6324 (1.341 sec/step)\n2017-09-15 21:08:58.766691: W C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\framework\\op_kernel.cc:1192] Invalid argument: Shape mismatch in tuple component 16. Expected [1,?,?,3], got [1,157,80,4]\nINFO:tensorflow:Error reported to Coordinator: <class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'>, Shape mismatch in tuple component 16. Expected [1,?,?,3], got [1,157,80,4]\n         [[Node: batch/padding_fifo_queue_enqueue = QueueEnqueueV2[Tcomponents=[DT_STRING, DT_INT32, DT_FLOAT, DT_INT32, DT_FLOAT, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_BOOL, DT_INT32, DT_BOOL, DT_INT32, DT_FLOAT, DT_INT32, DT_STRING, DT_INT32, DT_STRING, DT_INT32], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](batch/padding_fifo_queue, Reshape_2, Shape_1, SparseToDense_4, Shape_10, Merge_1, Shape_9, Merge_2, Shape_8, SparseToDense_3, Shape_6, SparseToDense, Shape_5, Cast_1, Shape_7, Cast_2, Shape_3, ExpandDims_5, Shape_4, Reshape_5, Shape, Reshape_6, Shape_2)]]\nINFO:tensorflow:global step 1336: loss = 0.4120 (1.394 sec/step)\nINFO:tensorflow:Finished training! Saving model to disk.\nTraceback (most recent call last):\n  File \"train.py\", line 198, in <module>\n    tf.app.run()\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"train.py\", line 194, in main\n    worker_job_name, is_chief, FLAGS.train_dir)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\object_detection-0.1-py3.5.egg\\object_detection\\trainer.py\", line 296, in train\n    saver=saver)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\contrib\\slim\\python\\slim\\learning.py\", line 767, in train\n    sv.stop(threads, close_summary_writer=True)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\training\\supervisor.py\", line 792, in stop\n    stop_grace_period_secs=self._stop_grace_secs)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\training\\coordinator.py\", line 389, in join\n    six.reraise(*self._exc_info_to_raise)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\six.py\", line 686, in reraise\n    raise value\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\training\\queue_runner_impl.py\", line 238, in _run\n    enqueue_callable()\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1235, in _single_operation_run\n    target_list_as_strings, status, None)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\Lib\\contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 466, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Shape mismatch in tuple component 16. Expected [1,?,?,3], got [1,157,80,4]\n         [[Node: batch/padding_fifo_queue_enqueue = QueueEnqueueV2[Tcomponents=[DT_STRING, DT_INT32, DT_FLOAT, DT_INT32, DT_FLOAT, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_BOOL, DT_INT32, DT_BOOL, DT_INT32, DT_FLOAT, DT_INT32, DT_STRING, DT_INT32, DT_STRING, DT_INT32], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](batch/padding_fifo_queue, Reshape_2, Shape_1, SparseToDense_4, Shape_10, Merge_1, Shape_9, Merge_2, Shape_8, SparseToDense_3, Shape_6, SparseToDense, Shape_5, Cast_1, Shape_7, Cast_2, Shape_3, ExpandDims_5, Shape_4, Reshape_5, Shape, Reshape_6, Shape_2)]]\n\n\nThis is getting really annoying!\nI fixed what I thought could be the issue here, and yet this pops up. any feedback on this issue is greatly appreciated.", "body": "I recheck all the images for mismatched extensions and the actual type of the image and fixed them all.\r\nAfter recreating the TFRecords and retraining again I am faced with these errors: \r\n```\r\nINFO:tensorflow:global step 1334: loss = 0.4126 (1.323 sec/step)\r\nINFO:tensorflow:global step 1335: loss = 0.6324 (1.341 sec/step)\r\n2017-09-15 21:08:58.766691: W C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\framework\\op_kernel.cc:1192] Invalid argument: Shape mismatch in tuple component 16. Expected [1,?,?,3], got [1,157,80,4]\r\nINFO:tensorflow:Error reported to Coordinator: <class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'>, Shape mismatch in tuple component 16. Expected [1,?,?,3], got [1,157,80,4]\r\n         [[Node: batch/padding_fifo_queue_enqueue = QueueEnqueueV2[Tcomponents=[DT_STRING, DT_INT32, DT_FLOAT, DT_INT32, DT_FLOAT, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_BOOL, DT_INT32, DT_BOOL, DT_INT32, DT_FLOAT, DT_INT32, DT_STRING, DT_INT32, DT_STRING, DT_INT32], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](batch/padding_fifo_queue, Reshape_2, Shape_1, SparseToDense_4, Shape_10, Merge_1, Shape_9, Merge_2, Shape_8, SparseToDense_3, Shape_6, SparseToDense, Shape_5, Cast_1, Shape_7, Cast_2, Shape_3, ExpandDims_5, Shape_4, Reshape_5, Shape, Reshape_6, Shape_2)]]\r\nINFO:tensorflow:global step 1336: loss = 0.4120 (1.394 sec/step)\r\nINFO:tensorflow:Finished training! Saving model to disk.\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 198, in <module>\r\n    tf.app.run()\r\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"train.py\", line 194, in main\r\n    worker_job_name, is_chief, FLAGS.train_dir)\r\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\object_detection-0.1-py3.5.egg\\object_detection\\trainer.py\", line 296, in train\r\n    saver=saver)\r\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\contrib\\slim\\python\\slim\\learning.py\", line 767, in train\r\n    sv.stop(threads, close_summary_writer=True)\r\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\training\\supervisor.py\", line 792, in stop\r\n    stop_grace_period_secs=self._stop_grace_secs)\r\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\training\\coordinator.py\", line 389, in join\r\n    six.reraise(*self._exc_info_to_raise)\r\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\six.py\", line 686, in reraise\r\n    raise value\r\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\training\\queue_runner_impl.py\", line 238, in _run\r\n    enqueue_callable()\r\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1235, in _single_operation_run\r\n    target_list_as_strings, status, None)\r\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\Lib\\contextlib.py\", line 66, in __exit__\r\n    next(self.gen)\r\n  File \"C:\\Users\\Master\\Anaconda3\\envs\\anaconda35\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 466, in raise_exception_on_not_ok_status\r\n    pywrap_tensorflow.TF_GetCode(status))\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Shape mismatch in tuple component 16. Expected [1,?,?,3], got [1,157,80,4]\r\n         [[Node: batch/padding_fifo_queue_enqueue = QueueEnqueueV2[Tcomponents=[DT_STRING, DT_INT32, DT_FLOAT, DT_INT32, DT_FLOAT, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_INT64, DT_INT32, DT_BOOL, DT_INT32, DT_BOOL, DT_INT32, DT_FLOAT, DT_INT32, DT_STRING, DT_INT32, DT_STRING, DT_INT32], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](batch/padding_fifo_queue, Reshape_2, Shape_1, SparseToDense_4, Shape_10, Merge_1, Shape_9, Merge_2, Shape_8, SparseToDense_3, Shape_6, SparseToDense, Shape_5, Cast_1, Shape_7, Cast_2, Shape_3, ExpandDims_5, Shape_4, Reshape_5, Shape, Reshape_6, Shape_2)]]\r\n\r\n```\r\nThis is getting really annoying! \r\nI fixed what I thought could be the issue here, and yet this pops up. any feedback on this issue is greatly appreciated. "}