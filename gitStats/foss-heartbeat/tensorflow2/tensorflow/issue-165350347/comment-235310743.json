{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/235310743", "html_url": "https://github.com/tensorflow/tensorflow/issues/3295#issuecomment-235310743", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3295", "id": 235310743, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTMxMDc0Mw==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-26T15:46:04Z", "updated_at": "2016-07-26T15:46:04Z", "author_association": "CONTRIBUTOR", "body_html": "<ol>\n<li>Without seeing the code, it's difficult to say why you're getting a slowdown, but the most likely problem is that you're feeding and/or fetching a large amount of data, and the increased cost of copying through the RPC interface is increasing the cost of each step. We have a medium term plan to reduce this overhead, but in the meantime you might want to revise your code to avoid feeding/fetching so much data in each step.</li>\n<li>The GPU memory configuration is slightly confusing for the <code>tf.train.Server</code>. Instead of passing it in the <code>config</code> argument to the <code>tf.Session</code>, you pass the <code>per_process_gpu_memory_fraction</code> setting in the <code>config</code> argument to the <code>tf.train.Server</code> (and it affects <em>all</em> sessions against that server).</li>\n</ol>", "body_text": "Without seeing the code, it's difficult to say why you're getting a slowdown, but the most likely problem is that you're feeding and/or fetching a large amount of data, and the increased cost of copying through the RPC interface is increasing the cost of each step. We have a medium term plan to reduce this overhead, but in the meantime you might want to revise your code to avoid feeding/fetching so much data in each step.\nThe GPU memory configuration is slightly confusing for the tf.train.Server. Instead of passing it in the config argument to the tf.Session, you pass the per_process_gpu_memory_fraction setting in the config argument to the tf.train.Server (and it affects all sessions against that server).", "body": "1. Without seeing the code, it's difficult to say why you're getting a slowdown, but the most likely problem is that you're feeding and/or fetching a large amount of data, and the increased cost of copying through the RPC interface is increasing the cost of each step. We have a medium term plan to reduce this overhead, but in the meantime you might want to revise your code to avoid feeding/fetching so much data in each step.\n2. The GPU memory configuration is slightly confusing for the `tf.train.Server`. Instead of passing it in the `config` argument to the `tf.Session`, you pass the `per_process_gpu_memory_fraction` setting in the `config` argument to the `tf.train.Server` (and it affects _all_ sessions against that server).\n"}