{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7988", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7988/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7988/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7988/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7988", "id": 211241387, "node_id": "MDU6SXNzdWUyMTEyNDEzODc=", "number": 7988, "title": "Scope issue with Adam after upgrade from 0.12 to 1.0.0.", "user": {"login": "pseudotensor", "id": 2249614, "node_id": "MDQ6VXNlcjIyNDk2MTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2249614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pseudotensor", "html_url": "https://github.com/pseudotensor", "followers_url": "https://api.github.com/users/pseudotensor/followers", "following_url": "https://api.github.com/users/pseudotensor/following{/other_user}", "gists_url": "https://api.github.com/users/pseudotensor/gists{/gist_id}", "starred_url": "https://api.github.com/users/pseudotensor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pseudotensor/subscriptions", "organizations_url": "https://api.github.com/users/pseudotensor/orgs", "repos_url": "https://api.github.com/users/pseudotensor/repos", "events_url": "https://api.github.com/users/pseudotensor/events{/privacy}", "received_events_url": "https://api.github.com/users/pseudotensor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-03-01T23:25:01Z", "updated_at": "2018-07-10T14:09:30Z", "closed_at": "2017-03-02T23:17:27Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>None directly related, but indirectly this one is related: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"207171623\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7462\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/7462/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/7462\">#7462</a> (but seems to be code error).</p>\n<p>THE ISSUE:</p>\n<p>My code works with r0.12:<br>\n<a href=\"mailto:git@github.com\">git@github.com</a>:pseudotensor/temporal_autoencoder.git (branch timeconv, commit 3cfc56566931ad592eef7a9b7ddbb32f3346819c, i.e. just below HEAD)</p>\n<p>Bit Fails with r1.0.0 (after using upgrade script):<br>\n<a href=\"mailto:git@github.com\">git@github.com</a>:pseudotensor/temporal_autoencoder.git (branch timeconv, commit f7ee1e5325797173cc26e132f152f969839f9975, i.e. HEAD)</p>\n<p>Error:</p>\n<p>Traceback (most recent call last):<br>\nFile \"main.py\", line 476, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run<br>\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))<br>\nFile \"main.py\", line 473, in main<br>\nautoencode(continuetrain=continuetrain,modeltype=modeltype,num_balls=num_balls)<br>\nFile \"main.py\", line 273, in autoencode<br>\ntrain_operation = tf.train.AdamOptimizer(FLAGS.adamvar).minimize(loss)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py\", line 289, in minimize<br>\nname=name)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py\", line 403, in apply_gradients<br>\nself._create_slots(var_list)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/adam.py\", line 117, in _create_slots<br>\nself._zeros_slot(v, \"m\", self._name)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py\", line 647, in _zeros_slot<br>\nnamed_slots[var] = slot_creator.create_zeros_slot(var, op_name)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/slot_creator.py\", line 123, in create_zeros_slot<br>\ncolocate_with_primary=colocate_with_primary)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/slot_creator.py\", line 101, in create_slot<br>\nreturn _create_slot_var(primary, val, '')<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/slot_creator.py\", line 55, in _create_slot_var<br>\nslot = variable_scope.get_variable(scope, initializer=val, trainable=False)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 988, in get_variable<br>\ncustom_getter=custom_getter)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 890, in get_variable<br>\ncustom_getter=custom_getter)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 348, in get_variable<br>\nvalidate_shape=validate_shape)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 333, in _true_getter<br>\ncaching_device=caching_device, validate_shape=validate_shape)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 657, in _get_single_variable<br>\n\"VarScope?\" % name)<br>\nValueError: Variable cnn_1_cnn/weights/Adam/ does not exist, or was not created with tf.get_variable(). Did you mean to set reuse=None in VarScope?</p>\n<p>Hypothesis1:  Something changed in how tensorflow1.0.0 handles scope so that Adam for some reason thinks it should be under cnn_1_cnn_weights scope, when should be in base scope<br>\nHypothesis2: Code was \"wrong\" to begin with, even though worked perfectly with r0.12, but now stricter tensorflow 1.0.0 checks led to this message.<br>\nIn either case, I'm not sure what to do, but I'll continue checking that what I'm doing is correct as per examples at: <a href=\"https://www.tensorflow.org/programmers_guide/variable_scope\" rel=\"nofollow\">https://www.tensorflow.org/programmers_guide/variable_scope</a></p>\n<h3>Environment info</h3>\n<p>Operating System:</p>\n<p>Ubuntu 16.04.2 LTS (latest updates/upgrades)</p>\n<p>Installed version of CUDA and cuDNN:</p>\n<p>ls -l $CUDA_HOME/lib64/libcud*<br>\n-rwxr-xr-x 1 root root    558720 Jan 29 16:23 /usr/local/cuda/lib64/libcudadevrt.a*<br>\nlrwxrwxrwx 1 root root        16 Jan 29 16:23 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.8.0*<br>\nlrwxrwxrwx 1 root root        19 Jan 29 16:23 /usr/local/cuda/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.44*<br>\n-rwxr-xr-x 1 root root    415432 Jan 29 16:23 /usr/local/cuda/lib64/libcudart.so.8.0.44*<br>\n-rwxr-xr-x 1 root root    775162 Jan 29 16:23 /usr/local/cuda/lib64/libcudart_static.a*<br>\nlrwxrwxrwx 1 jon  users       13 Jul 26  2016 /usr/local/cuda/lib64/libcudnn.so -&gt; libcudnn.so.5*<br>\nlrwxrwxrwx 1 jon  users       17 Jul 26  2016 /usr/local/cuda/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.1.5*<br>\n-rwxrwxr-x 1 jon  users 79337624 Jul 26  2016 /usr/local/cuda/lib64/libcudnn.so.5.1.5*<br>\n-rwxrwxr-x 1 jon  users 69756172 Jul 26  2016 /usr/local/cuda/lib64/libcudnn_static.a*</p>\n<ol start=\"2\">\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<p>jon@pseudotensor:<del>/tensorflow$ cd ..<br>\njon@pseudotensor:</del>$ python -c \"import tensorflow; print(tensorflow.<strong>version</strong>)\"<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally<br>\n1.0.0</p>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)</li>\n</ol>\n<p>jon@pseudotensor:~/tensorflow$ git rev-parse HEAD<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/29a6b4661258ef99842904d7c54993c963a8c2c0/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/29a6b4661258ef99842904d7c54993c963a8c2c0\"><tt>29a6b46</tt></a></p>\n<ol start=\"2\">\n<li>The output of <code>bazel version</code></li>\n</ol>\n<p>jon@pseudotensor:~/tensorflow$ bazel version<br>\n.....................<br>\nBuild label: 0.4.4<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)<br>\nBuild timestamp: 1485975261<br>\nBuild timestamp as int: 1485975261</p>\n<p>I also tried the latest nightly build: <a href=\"https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/lastSuccessfulBuild/artifact/pip_test/whl/tensorflow_gpu-1.0.0-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/lastSuccessfulBuild/artifact/pip_test/whl/tensorflow_gpu-1.0.0-cp27-none-linux_x86_64.whl</a>  and this fails in the same way as my compiled-from-source version.</p>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>Step 1) <a href=\"mailto:git@github.com\">git@github.com</a>:pseudotensor/temporal_autoencoder.git<br>\nStep 2) cd temporal_autoencoder<br>\nStep 3) git checkout timecov<br>\nStep 4) python main.py</p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>Checking scope makes sense, googling, looking at existing issues.  No positive result.</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nNone directly related, but indirectly this one is related: #7462 (but seems to be code error).\nTHE ISSUE:\nMy code works with r0.12:\ngit@github.com:pseudotensor/temporal_autoencoder.git (branch timeconv, commit 3cfc56566931ad592eef7a9b7ddbb32f3346819c, i.e. just below HEAD)\nBit Fails with r1.0.0 (after using upgrade script):\ngit@github.com:pseudotensor/temporal_autoencoder.git (branch timeconv, commit f7ee1e5325797173cc26e132f152f969839f9975, i.e. HEAD)\nError:\nTraceback (most recent call last):\nFile \"main.py\", line 476, in \ntf.app.run()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))\nFile \"main.py\", line 473, in main\nautoencode(continuetrain=continuetrain,modeltype=modeltype,num_balls=num_balls)\nFile \"main.py\", line 273, in autoencode\ntrain_operation = tf.train.AdamOptimizer(FLAGS.adamvar).minimize(loss)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py\", line 289, in minimize\nname=name)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py\", line 403, in apply_gradients\nself._create_slots(var_list)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/adam.py\", line 117, in _create_slots\nself._zeros_slot(v, \"m\", self._name)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py\", line 647, in _zeros_slot\nnamed_slots[var] = slot_creator.create_zeros_slot(var, op_name)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/slot_creator.py\", line 123, in create_zeros_slot\ncolocate_with_primary=colocate_with_primary)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/slot_creator.py\", line 101, in create_slot\nreturn _create_slot_var(primary, val, '')\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/slot_creator.py\", line 55, in _create_slot_var\nslot = variable_scope.get_variable(scope, initializer=val, trainable=False)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 988, in get_variable\ncustom_getter=custom_getter)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 890, in get_variable\ncustom_getter=custom_getter)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 348, in get_variable\nvalidate_shape=validate_shape)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 333, in _true_getter\ncaching_device=caching_device, validate_shape=validate_shape)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 657, in _get_single_variable\n\"VarScope?\" % name)\nValueError: Variable cnn_1_cnn/weights/Adam/ does not exist, or was not created with tf.get_variable(). Did you mean to set reuse=None in VarScope?\nHypothesis1:  Something changed in how tensorflow1.0.0 handles scope so that Adam for some reason thinks it should be under cnn_1_cnn_weights scope, when should be in base scope\nHypothesis2: Code was \"wrong\" to begin with, even though worked perfectly with r0.12, but now stricter tensorflow 1.0.0 checks led to this message.\nIn either case, I'm not sure what to do, but I'll continue checking that what I'm doing is correct as per examples at: https://www.tensorflow.org/programmers_guide/variable_scope\nEnvironment info\nOperating System:\nUbuntu 16.04.2 LTS (latest updates/upgrades)\nInstalled version of CUDA and cuDNN:\nls -l $CUDA_HOME/lib64/libcud*\n-rwxr-xr-x 1 root root    558720 Jan 29 16:23 /usr/local/cuda/lib64/libcudadevrt.a*\nlrwxrwxrwx 1 root root        16 Jan 29 16:23 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0*\nlrwxrwxrwx 1 root root        19 Jan 29 16:23 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44*\n-rwxr-xr-x 1 root root    415432 Jan 29 16:23 /usr/local/cuda/lib64/libcudart.so.8.0.44*\n-rwxr-xr-x 1 root root    775162 Jan 29 16:23 /usr/local/cuda/lib64/libcudart_static.a*\nlrwxrwxrwx 1 jon  users       13 Jul 26  2016 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5*\nlrwxrwxrwx 1 jon  users       17 Jul 26  2016 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5*\n-rwxrwxr-x 1 jon  users 79337624 Jul 26  2016 /usr/local/cuda/lib64/libcudnn.so.5.1.5*\n-rwxrwxr-x 1 jon  users 69756172 Jul 26  2016 /usr/local/cuda/lib64/libcudnn_static.a*\n\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\njon@pseudotensor:/tensorflow$ cd ..\njon@pseudotensor:$ python -c \"import tensorflow; print(tensorflow.version)\"\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\n1.0.0\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\n\njon@pseudotensor:~/tensorflow$ git rev-parse HEAD\n29a6b46\n\nThe output of bazel version\n\njon@pseudotensor:~/tensorflow$ bazel version\n.....................\nBuild label: 0.4.4\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)\nBuild timestamp: 1485975261\nBuild timestamp as int: 1485975261\nI also tried the latest nightly build: https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/lastSuccessfulBuild/artifact/pip_test/whl/tensorflow_gpu-1.0.0-cp27-none-linux_x86_64.whl  and this fails in the same way as my compiled-from-source version.\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nStep 1) git@github.com:pseudotensor/temporal_autoencoder.git\nStep 2) cd temporal_autoencoder\nStep 3) git checkout timecov\nStep 4) python main.py\nWhat other attempted solutions have you tried?\nChecking scope makes sense, googling, looking at existing issues.  No positive result.\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).", "body": "### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\r\nNone directly related, but indirectly this one is related: https://github.com/tensorflow/tensorflow/issues/7462 (but seems to be code error).\r\n\r\nTHE ISSUE:\r\n\r\nMy code works with r0.12:\r\ngit@github.com:pseudotensor/temporal_autoencoder.git (branch timeconv, commit 3cfc56566931ad592eef7a9b7ddbb32f3346819c, i.e. just below HEAD)\r\n\r\nBit Fails with r1.0.0 (after using upgrade script):\r\ngit@github.com:pseudotensor/temporal_autoencoder.git (branch timeconv, commit f7ee1e5325797173cc26e132f152f969839f9975, i.e. HEAD)\r\n\r\nError:\r\n\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 476, in <module>\r\n    tf.app.run()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"main.py\", line 473, in main\r\n    autoencode(continuetrain=continuetrain,modeltype=modeltype,num_balls=num_balls)\r\n  File \"main.py\", line 273, in autoencode\r\n    train_operation = tf.train.AdamOptimizer(FLAGS.adamvar).minimize(loss)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py\", line 289, in minimize\r\n    name=name)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py\", line 403, in apply_gradients\r\n    self._create_slots(var_list)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/adam.py\", line 117, in _create_slots\r\n    self._zeros_slot(v, \"m\", self._name)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py\", line 647, in _zeros_slot\r\n    named_slots[var] = slot_creator.create_zeros_slot(var, op_name)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/slot_creator.py\", line 123, in create_zeros_slot\r\n    colocate_with_primary=colocate_with_primary)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/slot_creator.py\", line 101, in create_slot\r\n    return _create_slot_var(primary, val, '')\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/slot_creator.py\", line 55, in _create_slot_var\r\n    slot = variable_scope.get_variable(scope, initializer=val, trainable=False)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 988, in get_variable\r\n    custom_getter=custom_getter)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 890, in get_variable\r\n    custom_getter=custom_getter)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 348, in get_variable\r\n    validate_shape=validate_shape)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 333, in _true_getter\r\n    caching_device=caching_device, validate_shape=validate_shape)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variable_scope.py\", line 657, in _get_single_variable\r\n    \"VarScope?\" % name)\r\nValueError: Variable cnn_1_cnn/weights/Adam/ does not exist, or was not created with tf.get_variable(). Did you mean to set reuse=None in VarScope?\r\n\r\nHypothesis1:  Something changed in how tensorflow1.0.0 handles scope so that Adam for some reason thinks it should be under cnn_1_cnn_weights scope, when should be in base scope\r\nHypothesis2: Code was \"wrong\" to begin with, even though worked perfectly with r0.12, but now stricter tensorflow 1.0.0 checks led to this message.\r\nIn either case, I'm not sure what to do, but I'll continue checking that what I'm doing is correct as per examples at: https://www.tensorflow.org/programmers_guide/variable_scope\r\n\r\n### Environment info\r\nOperating System:\r\n\r\nUbuntu 16.04.2 LTS (latest updates/upgrades)\r\n\r\nInstalled version of CUDA and cuDNN: \r\n\r\nls -l $CUDA_HOME/lib64/libcud*\r\n-rwxr-xr-x 1 root root    558720 Jan 29 16:23 /usr/local/cuda/lib64/libcudadevrt.a*\r\nlrwxrwxrwx 1 root root        16 Jan 29 16:23 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0*\r\nlrwxrwxrwx 1 root root        19 Jan 29 16:23 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44*\r\n-rwxr-xr-x 1 root root    415432 Jan 29 16:23 /usr/local/cuda/lib64/libcudart.so.8.0.44*\r\n-rwxr-xr-x 1 root root    775162 Jan 29 16:23 /usr/local/cuda/lib64/libcudart_static.a*\r\nlrwxrwxrwx 1 jon  users       13 Jul 26  2016 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5*\r\nlrwxrwxrwx 1 jon  users       17 Jul 26  2016 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5*\r\n-rwxrwxr-x 1 jon  users 79337624 Jul 26  2016 /usr/local/cuda/lib64/libcudnn.so.5.1.5*\r\n-rwxrwxr-x 1 jon  users 69756172 Jul 26  2016 /usr/local/cuda/lib64/libcudnn_static.a*\r\n\r\n\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\n\r\njon@pseudotensor:~/tensorflow$ cd ..\r\njon@pseudotensor:~$ python -c \"import tensorflow; print(tensorflow.__version__)\"\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\r\n1.0.0\r\n\r\nIf installed from source, provide \r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\n\r\njon@pseudotensor:~/tensorflow$ git rev-parse HEAD\r\n29a6b4661258ef99842904d7c54993c963a8c2c0\r\n\r\n2. The output of `bazel version`\r\n\r\njon@pseudotensor:~/tensorflow$ bazel version\r\n.....................\r\nBuild label: 0.4.4\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)\r\nBuild timestamp: 1485975261\r\nBuild timestamp as int: 1485975261\r\n\r\n\r\nI also tried the latest nightly build: https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/lastSuccessfulBuild/artifact/pip_test/whl/tensorflow_gpu-1.0.0-cp27-none-linux_x86_64.whl  and this fails in the same way as my compiled-from-source version.\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\n\r\nStep 1) git@github.com:pseudotensor/temporal_autoencoder.git\r\nStep 2) cd temporal_autoencoder\r\nStep 3) git checkout timecov\r\nStep 4) python main.py\r\n\r\n### What other attempted solutions have you tried?\r\n\r\nChecking scope makes sense, googling, looking at existing issues.  No positive result.\r\n\r\n### Logs or other output that would be helpful\r\n(If logs are large, please upload as attachment or provide link).\r\n"}