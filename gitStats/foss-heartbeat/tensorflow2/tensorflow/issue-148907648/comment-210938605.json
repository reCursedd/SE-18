{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/210938605", "html_url": "https://github.com/tensorflow/tensorflow/issues/1992#issuecomment-210938605", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1992", "id": 210938605, "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDkzODYwNQ==", "user": {"login": "niskander", "id": 1988272, "node_id": "MDQ6VXNlcjE5ODgyNzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1988272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/niskander", "html_url": "https://github.com/niskander", "followers_url": "https://api.github.com/users/niskander/followers", "following_url": "https://api.github.com/users/niskander/following{/other_user}", "gists_url": "https://api.github.com/users/niskander/gists{/gist_id}", "starred_url": "https://api.github.com/users/niskander/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/niskander/subscriptions", "organizations_url": "https://api.github.com/users/niskander/orgs", "repos_url": "https://api.github.com/users/niskander/repos", "events_url": "https://api.github.com/users/niskander/events{/privacy}", "received_events_url": "https://api.github.com/users/niskander/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-17T02:12:12Z", "updated_at": "2016-04-17T02:12:12Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a></p>\n<p>Since PIL is probably the culprit:</p>\n<pre><code>&gt;&gt;&gt; PIL.VERSION\n'1.1.7'\n&gt;&gt;&gt; PIL.PILLOW_VERSION\n'2.3.0'\n</code></pre>\n<p>For tensorflow, I cloned and installed from source today<br>\n<code>commit 36d89cf8f7bdfb17daf93f8439d95018b8cda431</code></p>\n<pre><code>image_data = misc.imread(image_path, flatten=1)\n  File \"/usr/lib/python2.7/dist-packages/scipy/misc/pilutil.py\", line 127, in imread\n    return fromimage(im,flatten=flatten)\n  File \"/usr/lib/python2.7/dist-packages/scipy/misc/pilutil.py\", line 189, in fromimage\n    im = im.convert('F')\n  File \"/usr/lib/python2.7/dist-packages/PIL/Image.py\", line 713, in convert\n    self.load()\n  File \"/usr/lib/python2.7/dist-packages/PIL/ImageFile.py\", line 234, in load\n    raise_ioerror(e)\n  File \"/usr/lib/python2.7/dist-packages/PIL/ImageFile.py\", line 56, in raise_ioerror\n    raise IOError(message + \" when reading image file\")\nIOError: broken data stream when reading image file\n</code></pre>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> Yeah</p>", "body_text": "@yaroslavvb\nSince PIL is probably the culprit:\n>>> PIL.VERSION\n'1.1.7'\n>>> PIL.PILLOW_VERSION\n'2.3.0'\n\nFor tensorflow, I cloned and installed from source today\ncommit 36d89cf8f7bdfb17daf93f8439d95018b8cda431\nimage_data = misc.imread(image_path, flatten=1)\n  File \"/usr/lib/python2.7/dist-packages/scipy/misc/pilutil.py\", line 127, in imread\n    return fromimage(im,flatten=flatten)\n  File \"/usr/lib/python2.7/dist-packages/scipy/misc/pilutil.py\", line 189, in fromimage\n    im = im.convert('F')\n  File \"/usr/lib/python2.7/dist-packages/PIL/Image.py\", line 713, in convert\n    self.load()\n  File \"/usr/lib/python2.7/dist-packages/PIL/ImageFile.py\", line 234, in load\n    raise_ioerror(e)\n  File \"/usr/lib/python2.7/dist-packages/PIL/ImageFile.py\", line 56, in raise_ioerror\n    raise IOError(message + \" when reading image file\")\nIOError: broken data stream when reading image file\n\n@mrry Yeah", "body": "@yaroslavvb \n\nSince PIL is probably the culprit:\n\n```\n>>> PIL.VERSION\n'1.1.7'\n>>> PIL.PILLOW_VERSION\n'2.3.0'\n```\n\nFor tensorflow, I cloned and installed from source today\n`commit 36d89cf8f7bdfb17daf93f8439d95018b8cda431`\n\n```\nimage_data = misc.imread(image_path, flatten=1)\n  File \"/usr/lib/python2.7/dist-packages/scipy/misc/pilutil.py\", line 127, in imread\n    return fromimage(im,flatten=flatten)\n  File \"/usr/lib/python2.7/dist-packages/scipy/misc/pilutil.py\", line 189, in fromimage\n    im = im.convert('F')\n  File \"/usr/lib/python2.7/dist-packages/PIL/Image.py\", line 713, in convert\n    self.load()\n  File \"/usr/lib/python2.7/dist-packages/PIL/ImageFile.py\", line 234, in load\n    raise_ioerror(e)\n  File \"/usr/lib/python2.7/dist-packages/PIL/ImageFile.py\", line 56, in raise_ioerror\n    raise IOError(message + \" when reading image file\")\nIOError: broken data stream when reading image file\n```\n\n@mrry Yeah \n"}