{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/326769780", "html_url": "https://github.com/tensorflow/tensorflow/issues/12722#issuecomment-326769780", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12722", "id": 326769780, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjc2OTc4MA==", "user": {"login": "quaeler", "id": 22581048, "node_id": "MDQ6VXNlcjIyNTgxMDQ4", "avatar_url": "https://avatars3.githubusercontent.com/u/22581048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quaeler", "html_url": "https://github.com/quaeler", "followers_url": "https://api.github.com/users/quaeler/followers", "following_url": "https://api.github.com/users/quaeler/following{/other_user}", "gists_url": "https://api.github.com/users/quaeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/quaeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quaeler/subscriptions", "organizations_url": "https://api.github.com/users/quaeler/orgs", "repos_url": "https://api.github.com/users/quaeler/repos", "events_url": "https://api.github.com/users/quaeler/events{/privacy}", "received_events_url": "https://api.github.com/users/quaeler/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-02T21:15:22Z", "updated_at": "2017-09-02T21:17:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>You don't want to invoke Python on tensorflow-dependent code from <strong>any</strong> directory that is at the head of the tensorflow repository code - whether that be where you git-cloned to, or whether you made a duplicate elsewhere.</p>\n<p>Maybe the best way is for you to repeat my attempt at this; i've done the following after last pulling my local repository from master around 100 minutes ago:</p>\n<pre><code>autogenic:tensorflow loki$ bazel clean\nautogenic:tensorflow loki$ ./configure \nautogenic:tensorflow loki$ bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package\nautogenic:tensorflow loki$ bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\nautogenic:tensorflow loki$ cd ~/arbeit/virtualenvs\nautogenic:virtualenvs loki$ virtualenv --system-site-packages tensorflow_20170902\nautogenic:virtualenvs loki$ source tensorflow_20170902/bin/activate\n(tensorflow_20170902) autogenic:virtualenvs loki$ pip install /tmp/tensorflow_pkg/tensorflow-1.3.0-cp27-cp27m-macosx_10_12_intel.whl\n(tensorflow_20170902) autogenic:virtualenvs loki$ cd tensorflow_20170902/\n(tensorflow_20170902) autogenic:tensorflow_20170902 loki$ mkdir sarah-zaheer\n(tensorflow_20170902) autogenic:tensorflow_20170902 loki$ cd sarah-zaheer\n(tensorflow_20170902) autogenic:sarah-zaheer loki$ python ~/arbeit/worg/projects/tensorflow/tensorflow/examples/speech_commands/train.py \n&gt;&gt; Downloading speech_commands_v0.01.tar.gz 100.0%\nINFO:tensorflow:Successfully downloaded speech_commands_v0.01.tar.gz (1488293908 bytes)\nWARNING:tensorflow:From /Users/loki/arbeit/worg/projects/tensorflow/tensorflow/examples/speech_commands/train.py:161: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.\nInstructions for updating:\nPlease switch to tf.train.get_or_create_global_step\nINFO:tensorflow:Training from step: 1 \nINFO:tensorflow:Step #1: rate 0.001000, accuracy 6.0%, cross entropy 2.673610\nINFO:tensorflow:Step #2: rate 0.001000, accuracy 7.0%, cross entropy 2.632296\nINFO:tensorflow:Step #3: rate 0.001000, accuracy 11.0%, cross entropy 2.587655\nINFO:tensorflow:Step #4: rate 0.001000, accuracy 10.0%, cross entropy 2.540978\nINFO:tensorflow:Step #5: rate 0.001000, accuracy 14.0%, cross entropy 2.560040\nINFO:tensorflow:Step #6: rate 0.001000, accuracy 11.0%, cross entropy 2.539041\nINFO:tensorflow:Step #7: rate 0.001000, accuracy 4.0%, cross entropy 2.655353\nINFO:tensorflow:Step #8: rate 0.001000, accuracy 9.0%, cross entropy 2.609798\n...\n</code></pre>\n<p>The take-away point i'd make in a super-preachy sort of way would be:</p>\n<ul>\n<li>never, ever, (like Chris Rock \"never-ever\") pip install this stuff into your system Python install (unless you're running throw away docker-and-its-ilk-like images); once done, you've got some transient version of tensorflow stuck in your system and you pray that pip uninstall manages to wipe it all away correctly</li>\n</ul>\n<p>and its corollary:</p>\n<ul>\n<li>use a virtualenv for this sort of stuff; if i end up installing the worst buggiest snapshot of tensorflow, i just delete that environment directory (<code>tensorflow_20170902</code> in the above example) from my filesystem and i'm back to pure-as-the-driven-snow.</li>\n</ul>\n<p>Lemme know how the above works.</p>\n<p>PS. Do try to do a <code>sudo pip uninstall ...</code> of tensorflow before doing anything else. If you don't, the above virtualenv creation command will copy the system's tensorflow install into your virtualenv and many continued problems and hilarities will ensure.</p>", "body_text": "You don't want to invoke Python on tensorflow-dependent code from any directory that is at the head of the tensorflow repository code - whether that be where you git-cloned to, or whether you made a duplicate elsewhere.\nMaybe the best way is for you to repeat my attempt at this; i've done the following after last pulling my local repository from master around 100 minutes ago:\nautogenic:tensorflow loki$ bazel clean\nautogenic:tensorflow loki$ ./configure \nautogenic:tensorflow loki$ bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package\nautogenic:tensorflow loki$ bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\nautogenic:tensorflow loki$ cd ~/arbeit/virtualenvs\nautogenic:virtualenvs loki$ virtualenv --system-site-packages tensorflow_20170902\nautogenic:virtualenvs loki$ source tensorflow_20170902/bin/activate\n(tensorflow_20170902) autogenic:virtualenvs loki$ pip install /tmp/tensorflow_pkg/tensorflow-1.3.0-cp27-cp27m-macosx_10_12_intel.whl\n(tensorflow_20170902) autogenic:virtualenvs loki$ cd tensorflow_20170902/\n(tensorflow_20170902) autogenic:tensorflow_20170902 loki$ mkdir sarah-zaheer\n(tensorflow_20170902) autogenic:tensorflow_20170902 loki$ cd sarah-zaheer\n(tensorflow_20170902) autogenic:sarah-zaheer loki$ python ~/arbeit/worg/projects/tensorflow/tensorflow/examples/speech_commands/train.py \n>> Downloading speech_commands_v0.01.tar.gz 100.0%\nINFO:tensorflow:Successfully downloaded speech_commands_v0.01.tar.gz (1488293908 bytes)\nWARNING:tensorflow:From /Users/loki/arbeit/worg/projects/tensorflow/tensorflow/examples/speech_commands/train.py:161: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.\nInstructions for updating:\nPlease switch to tf.train.get_or_create_global_step\nINFO:tensorflow:Training from step: 1 \nINFO:tensorflow:Step #1: rate 0.001000, accuracy 6.0%, cross entropy 2.673610\nINFO:tensorflow:Step #2: rate 0.001000, accuracy 7.0%, cross entropy 2.632296\nINFO:tensorflow:Step #3: rate 0.001000, accuracy 11.0%, cross entropy 2.587655\nINFO:tensorflow:Step #4: rate 0.001000, accuracy 10.0%, cross entropy 2.540978\nINFO:tensorflow:Step #5: rate 0.001000, accuracy 14.0%, cross entropy 2.560040\nINFO:tensorflow:Step #6: rate 0.001000, accuracy 11.0%, cross entropy 2.539041\nINFO:tensorflow:Step #7: rate 0.001000, accuracy 4.0%, cross entropy 2.655353\nINFO:tensorflow:Step #8: rate 0.001000, accuracy 9.0%, cross entropy 2.609798\n...\n\nThe take-away point i'd make in a super-preachy sort of way would be:\n\nnever, ever, (like Chris Rock \"never-ever\") pip install this stuff into your system Python install (unless you're running throw away docker-and-its-ilk-like images); once done, you've got some transient version of tensorflow stuck in your system and you pray that pip uninstall manages to wipe it all away correctly\n\nand its corollary:\n\nuse a virtualenv for this sort of stuff; if i end up installing the worst buggiest snapshot of tensorflow, i just delete that environment directory (tensorflow_20170902 in the above example) from my filesystem and i'm back to pure-as-the-driven-snow.\n\nLemme know how the above works.\nPS. Do try to do a sudo pip uninstall ... of tensorflow before doing anything else. If you don't, the above virtualenv creation command will copy the system's tensorflow install into your virtualenv and many continued problems and hilarities will ensure.", "body": "You don't want to invoke Python on tensorflow-dependent code from **any** directory that is at the head of the tensorflow repository code - whether that be where you git-cloned to, or whether you made a duplicate elsewhere.\r\n\r\nMaybe the best way is for you to repeat my attempt at this; i've done the following after last pulling my local repository from master around 100 minutes ago:\r\n```\r\nautogenic:tensorflow loki$ bazel clean\r\nautogenic:tensorflow loki$ ./configure \r\nautogenic:tensorflow loki$ bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package\r\nautogenic:tensorflow loki$ bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\r\nautogenic:tensorflow loki$ cd ~/arbeit/virtualenvs\r\nautogenic:virtualenvs loki$ virtualenv --system-site-packages tensorflow_20170902\r\nautogenic:virtualenvs loki$ source tensorflow_20170902/bin/activate\r\n(tensorflow_20170902) autogenic:virtualenvs loki$ pip install /tmp/tensorflow_pkg/tensorflow-1.3.0-cp27-cp27m-macosx_10_12_intel.whl\r\n(tensorflow_20170902) autogenic:virtualenvs loki$ cd tensorflow_20170902/\r\n(tensorflow_20170902) autogenic:tensorflow_20170902 loki$ mkdir sarah-zaheer\r\n(tensorflow_20170902) autogenic:tensorflow_20170902 loki$ cd sarah-zaheer\r\n(tensorflow_20170902) autogenic:sarah-zaheer loki$ python ~/arbeit/worg/projects/tensorflow/tensorflow/examples/speech_commands/train.py \r\n>> Downloading speech_commands_v0.01.tar.gz 100.0%\r\nINFO:tensorflow:Successfully downloaded speech_commands_v0.01.tar.gz (1488293908 bytes)\r\nWARNING:tensorflow:From /Users/loki/arbeit/worg/projects/tensorflow/tensorflow/examples/speech_commands/train.py:161: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease switch to tf.train.get_or_create_global_step\r\nINFO:tensorflow:Training from step: 1 \r\nINFO:tensorflow:Step #1: rate 0.001000, accuracy 6.0%, cross entropy 2.673610\r\nINFO:tensorflow:Step #2: rate 0.001000, accuracy 7.0%, cross entropy 2.632296\r\nINFO:tensorflow:Step #3: rate 0.001000, accuracy 11.0%, cross entropy 2.587655\r\nINFO:tensorflow:Step #4: rate 0.001000, accuracy 10.0%, cross entropy 2.540978\r\nINFO:tensorflow:Step #5: rate 0.001000, accuracy 14.0%, cross entropy 2.560040\r\nINFO:tensorflow:Step #6: rate 0.001000, accuracy 11.0%, cross entropy 2.539041\r\nINFO:tensorflow:Step #7: rate 0.001000, accuracy 4.0%, cross entropy 2.655353\r\nINFO:tensorflow:Step #8: rate 0.001000, accuracy 9.0%, cross entropy 2.609798\r\n...\r\n```\r\n\r\nThe take-away point i'd make in a super-preachy sort of way would be:\r\n* never, ever, (like Chris Rock \"never-ever\") pip install this stuff into your system Python install (unless you're running throw away docker-and-its-ilk-like images); once done, you've got some transient version of tensorflow stuck in your system and you pray that pip uninstall manages to wipe it all away correctly\r\n\r\nand its corollary:\r\n* use a virtualenv for this sort of stuff; if i end up installing the worst buggiest snapshot of tensorflow, i just delete that environment directory (`tensorflow_20170902` in the above example) from my filesystem and i'm back to pure-as-the-driven-snow.\r\n\r\nLemme know how the above works.\r\n\r\nPS. Do try to do a `sudo pip uninstall ...` of tensorflow before doing anything else. If you don't, the above virtualenv creation command will copy the system's tensorflow install into your virtualenv and many continued problems and hilarities will ensure.\r\n"}