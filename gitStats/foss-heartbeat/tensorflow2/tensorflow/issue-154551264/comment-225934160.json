{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/225934160", "html_url": "https://github.com/tensorflow/tensorflow/issues/2342#issuecomment-225934160", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2342", "id": 225934160, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTkzNDE2MA==", "user": {"login": "agupta83", "id": 3485158, "node_id": "MDQ6VXNlcjM0ODUxNTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3485158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agupta83", "html_url": "https://github.com/agupta83", "followers_url": "https://api.github.com/users/agupta83/followers", "following_url": "https://api.github.com/users/agupta83/following{/other_user}", "gists_url": "https://api.github.com/users/agupta83/gists{/gist_id}", "starred_url": "https://api.github.com/users/agupta83/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agupta83/subscriptions", "organizations_url": "https://api.github.com/users/agupta83/orgs", "repos_url": "https://api.github.com/users/agupta83/repos", "events_url": "https://api.github.com/users/agupta83/events{/privacy}", "received_events_url": "https://api.github.com/users/agupta83/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-14T16:16:23Z", "updated_at": "2016-06-14T16:16:23Z", "author_association": "NONE", "body_html": "<p>I am not really sure what is causing this issue. It was resolved once I changed scope names and variables names to shorter string. You can check the <code>tfevent</code> file attached with this issue to see the how the scope and variable was named before. TF adds <code>op_name</code> on top of that. Now I am using something shorter (shown below) and the graph rendered. I am still unsure about how the error shown in the console is related to this but it worked out for me.</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">with</span> tf.variable_scope(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>pre-trained-emb<span class=\"pl-pds\">'</span></span>) <span class=\"pl-k\">as</span> scope:\n        embedding <span class=\"pl-k\">=</span> _variable_on_cpu(<span class=\"pl-v\">name</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>embd<span class=\"pl-pds\">'</span></span>,\n                                        <span class=\"pl-v\">initializer</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">PRETRAINED_EMBD</span>)\n        <span class=\"pl-c\"><span class=\"pl-c\">#</span> Lookup</span>\n        embd_input <span class=\"pl-k\">=</span> tf.nn.embedding_lookup(embedding, titles)\n        expand_embd_input <span class=\"pl-k\">=</span> tf.expand_dims(embd_input, <span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span>, <span class=\"pl-v\">name</span><span class=\"pl-k\">=</span>scope.name)</pre></div>", "body_text": "I am not really sure what is causing this issue. It was resolved once I changed scope names and variables names to shorter string. You can check the tfevent file attached with this issue to see the how the scope and variable was named before. TF adds op_name on top of that. Now I am using something shorter (shown below) and the graph rendered. I am still unsure about how the error shown in the console is related to this but it worked out for me.\nwith tf.variable_scope('pre-trained-emb') as scope:\n        embedding = _variable_on_cpu(name='embd',\n                                        initializer=PRETRAINED_EMBD)\n        # Lookup\n        embd_input = tf.nn.embedding_lookup(embedding, titles)\n        expand_embd_input = tf.expand_dims(embd_input, -1, name=scope.name)", "body": "I am not really sure what is causing this issue. It was resolved once I changed scope names and variables names to shorter string. You can check the `tfevent` file attached with this issue to see the how the scope and variable was named before. TF adds `op_name` on top of that. Now I am using something shorter (shown below) and the graph rendered. I am still unsure about how the error shown in the console is related to this but it worked out for me.\n\n``` python\nwith tf.variable_scope('pre-trained-emb') as scope:\n        embedding = _variable_on_cpu(name='embd',\n                                        initializer=PRETRAINED_EMBD)\n        # Lookup\n        embd_input = tf.nn.embedding_lookup(embedding, titles)\n        expand_embd_input = tf.expand_dims(embd_input, -1, name=scope.name)\n```\n"}