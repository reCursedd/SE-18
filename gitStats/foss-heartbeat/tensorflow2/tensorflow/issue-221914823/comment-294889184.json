{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/294889184", "html_url": "https://github.com/tensorflow/tensorflow/issues/9230#issuecomment-294889184", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9230", "id": 294889184, "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDg4OTE4NA==", "user": {"login": "girving", "id": 70511, "node_id": "MDQ6VXNlcjcwNTEx", "avatar_url": "https://avatars1.githubusercontent.com/u/70511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/girving", "html_url": "https://github.com/girving", "followers_url": "https://api.github.com/users/girving/followers", "following_url": "https://api.github.com/users/girving/following{/other_user}", "gists_url": "https://api.github.com/users/girving/gists{/gist_id}", "starred_url": "https://api.github.com/users/girving/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/girving/subscriptions", "organizations_url": "https://api.github.com/users/girving/orgs", "repos_url": "https://api.github.com/users/girving/repos", "events_url": "https://api.github.com/users/girving/events{/privacy}", "received_events_url": "https://api.github.com/users/girving/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-18T15:52:47Z", "updated_at": "2017-04-18T15:52:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Unfortunately the stateful seeding behavior is buried pretty deep in the random ops.  Making <code>map_fn</code> work in parallel while treating that behavior correctly would require some significant redesigns.</p>\n<p>Conceivably one could use the new stateless random ops here (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/cc45456e4ad0eff16127d1727d0cf48afb71ca0e/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/cc45456e4ad0eff16127d1727d0cf48afb71ca0e\"><tt>cc45456</tt></a>), but that would still require higher level layers to track the seeds in a reasonable way.</p>", "body_text": "Unfortunately the stateful seeding behavior is buried pretty deep in the random ops.  Making map_fn work in parallel while treating that behavior correctly would require some significant redesigns.\nConceivably one could use the new stateless random ops here (cc45456), but that would still require higher level layers to track the seeds in a reasonable way.", "body": "Unfortunately the stateful seeding behavior is buried pretty deep in the random ops.  Making `map_fn` work in parallel while treating that behavior correctly would require some significant redesigns.\r\n\r\nConceivably one could use the new stateless random ops here (https://github.com/tensorflow/tensorflow/commit/cc45456e4ad0eff16127d1727d0cf48afb71ca0e), but that would still require higher level layers to track the seeds in a reasonable way."}