{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3220", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3220/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3220/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3220/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3220", "id": 164333764, "node_id": "MDU6SXNzdWUxNjQzMzM3NjQ=", "number": 3220, "title": "AggregationMethod.EXPERIMENTAL_ACCUMULATE_N gives Already exists error.", "user": {"login": "chasep255", "id": 15787797, "node_id": "MDQ6VXNlcjE1Nzg3Nzk3", "avatar_url": "https://avatars3.githubusercontent.com/u/15787797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chasep255", "html_url": "https://github.com/chasep255", "followers_url": "https://api.github.com/users/chasep255/followers", "following_url": "https://api.github.com/users/chasep255/following{/other_user}", "gists_url": "https://api.github.com/users/chasep255/gists{/gist_id}", "starred_url": "https://api.github.com/users/chasep255/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chasep255/subscriptions", "organizations_url": "https://api.github.com/users/chasep255/orgs", "repos_url": "https://api.github.com/users/chasep255/repos", "events_url": "https://api.github.com/users/chasep255/events{/privacy}", "received_events_url": "https://api.github.com/users/chasep255/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-07-07T15:13:21Z", "updated_at": "2016-07-09T01:08:03Z", "closed_at": "2016-07-09T01:08:03Z", "author_association": "NONE", "body_html": "<p>I have used EXPERIMENTAL_ACCUMULATE_N in all my past tensorflow projects since it lets me use larger batch sizes.  I have never had any issues with it until now.  Now I get the following error when I run the train step.</p>\n<pre><code>W tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\nI tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 14880 get requests, put_count=3563 evicted_count=1000 eviction_rate=0.280662 and unsatisfied allocation rate=0.834476\nI tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 100 to 110\nI tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 0 get requests, put_count=10010 evicted_count=10000 eviction_rate=0.999001 and unsatisfied allocation rate=0\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 730, in _do_call\n    return fn(*args)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 712, in _run_fn\n    status, run_metadata)\n  File \"/usr/lib/python3.5/contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/errors.py\", line 450, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.AlreadyExistsError: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\n     [[Node: Mean/_21 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_3391_Mean\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chase/workspace/Translator/translator.py\", line 106, in &lt;module&gt;\n    c, _ = sess.run([cost, train_step], feed_dict = {input_tensor: x, expected_output: y})\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 382, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 655, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 723, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 743, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.AlreadyExistsError: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\n     [[Node: Mean/_21 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_3391_Mean\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\nCaused by op 'gradients/AccumulateN_5/TemporaryVariable', defined at:\n  File \"/home/chase/workspace/Translator/translator.py\", line 79, in &lt;module&gt;\n    train_step = tf.train.AdamOptimizer(1e-4).minimize(cost, aggregation_method = tf.AggregationMethod.EXPERIMENTAL_ACCUMULATE_N)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/optimizer.py\", line 193, in minimize\n    grad_loss=grad_loss)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/optimizer.py\", line 250, in compute_gradients\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gradients.py\", line 432, in gradients\n    out_grads = _AggregatedGrads(grads, op, loop_state, aggregation_method)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gradients.py\", line 692, in _AggregatedGrads\n    out_grads[i] = math_ops.accumulate_n(out_grad)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/math_ops.py\", line 1497, in accumulate_n\n    var = gen_state_ops._temporary_variable(shape=shape, dtype=tensor_dtype)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_state_ops.py\", line 365, in _temporary_variable\n    var_name=var_name, name=name)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py\", line 703, in apply_op\n    op_def=op_def)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 2297, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 1231, in __init__\n    self._traceback = _extract_stack()\n\n</code></pre>\n<p>This error goes away if I change the aggregation method of ADD_N.  Here is my code.  I am trying to implement a sequence to sequence model to translate english to german.</p>\n<pre><code>import unidecode\nimport tensorflow as tf\nrnn = tf.nn.rnn_cell\nimport numpy as np\nimport string\nimport sys\nimport random\nimport multiprocessing\n\nTIME_STEPS = 128\nBATCH_SIZE = 2\n\ndef ctov(c):\n    v = np.zeros(128)\n    v[ord(c)] = 1\n    return v\n\ndef vtoc(v):\n    return chr(np.argmax(v))\n\ndef stov(s, vlen):\n    null_vec = ctov('\\0')\n    v = np.tile(null_vec, (vlen, 1))\n    if len(s) &gt; vlen: s = s[:vlen]\n    for i, c in enumerate(s):\n        v[i] = ctov(c)\n    return v\n\ndef vtos(v):\n    s = ''\n    for cv in v:\n        c = vtoc(cv)\n        if c == '\\0':\n            break\n        s += c\n    return s\n\ndef clean_text(txt):\n    txt = unidecode.unidecode(txt)\n    txt = ''.join([c for c in txt if c in CHARS])\n    return txt\n\ndef load_training_data():\n    print('Loading English...')\n    en = [e.strip() for e in open('/home/chase/Desktop/de-en/english.txt')]\n    print('Loading German...')\n    de = [d.strip() for d in open('/home/chase/Desktop/de-en/german.txt')]\n    print('Processing...')\n    translations = [(unidecode.unidecode(e), unidecode.unidecode(d)) for e, d in zip(en, de) if len(e) and len(d) and len(e) &lt;= TIME_STEPS and len(d) &lt;= TIME_STEPS]\n    return translations\n\n\ninput_tensor = tf.placeholder(tf.float32, (BATCH_SIZE, TIME_STEPS, 128), 'input_tensor')\nexpected_output = tf.placeholder(tf.float32, (BATCH_SIZE, TIME_STEPS, 128), 'expected_output')\n\ny = input_tensor\nwith tf.variable_scope('encoder'):\n    rnn_cell = rnn.MultiRNNCell([rnn.GRUCell(1024) for _ in range(3)])\n    y = tf.nn.dynamic_rnn(rnn_cell, y, dtype = tf.float32)[0]\n\nwith tf.variable_scope('attn'):\n    W = tf.get_variable('W_attn', shape = (1, TIME_STEPS, TIME_STEPS), initializer = tf.truncated_normal_initializer(0.0, 1 / np.sqrt(TIME_STEPS)))\n    W = tf.tile(W, (BATCH_SIZE, 1, 1))\n    y = tf.batch_matmul(W, y)\n\nwith tf.variable_scope('decoder'):\n    rnn_cell = rnn.MultiRNNCell([rnn.GRUCell(1024) for _ in range(3)])\n    y = tf.nn.dynamic_rnn(rnn_cell, y, dtype = tf.float32)[0]\n\nwith tf.variable_scope('output'):\n    y = tf.split(1, TIME_STEPS, y)\n    y = [tf.reshape(x, (BATCH_SIZE, 1024)) for x in y]\n    W = tf.get_variable('W', shape = (1024, 128), initializer = tf.truncated_normal_initializer(0.0, 1 / np.sqrt(1024)))\n    b = tf.get_variable('b', shape = (128,), initializer = tf.truncated_normal_initializer(0.0, 0.01))\n    y = [tf.nn.softmax(tf.matmul(x, W) + b) for x in y]\n    output = tf.pack(y, 1)\n\ncost = tf.reduce_mean(-tf.reduce_sum(expected_output * tf.log(output), reduction_indices = 2))\ntrain_step = tf.train.AdamOptimizer(1e-4).minimize(cost, aggregation_method = tf.AggregationMethod.EXPERIMENTAL_ACCUMULATE_N)\n\nconfig = tf.ConfigProto()\nconfig.gpu_options.per_process_gpu_memory_fraction = 0.8\nsess = tf.Session(config = config)\nsess.run(tf.initialize_all_variables())\n\nif 'train' in sys.argv or True:\n    translations = load_training_data()\n    validation = translations[:10000]\n    translations = translations[10000:]\n\n    def training_data_generator(data):\n        x = np.zeros((BATCH_SIZE, TIME_STEPS, 128))\n        y = np.zeros_like(x)\n        random.shuffle(data)\n        for i in range(0, len(data) - BATCH_SIZE, BATCH_SIZE):        \n            for b in range(BATCH_SIZE):\n                e, d = data[i + b]\n                x[b] = stov(e, TIME_STEPS)\n                y[b] = stov(d, TIME_STEPS)\n\n            yield (x, y)\n\n    for e in range(50):\n        for b, v in enumerate(training_data_generator(translations)):\n            x, y = v\n            c, _ = sess.run([cost, train_step], feed_dict = {input_tensor: x, expected_output: y})\n            print('Epoch %-6d  Batch %-6d  Cost %-6e' % (e, b, c), end = '\\r')\n</code></pre>\n<p>I am using Python 3.5 on Ubuntu 16.04.  I have the latest tensorflow version 0.9.</p>", "body_text": "I have used EXPERIMENTAL_ACCUMULATE_N in all my past tensorflow projects since it lets me use larger batch sizes.  I have never had any issues with it until now.  Now I get the following error when I run the train step.\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\nI tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 14880 get requests, put_count=3563 evicted_count=1000 eviction_rate=0.280662 and unsatisfied allocation rate=0.834476\nI tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 100 to 110\nI tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 0 get requests, put_count=10010 evicted_count=10000 eviction_rate=0.999001 and unsatisfied allocation rate=0\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 730, in _do_call\n    return fn(*args)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 712, in _run_fn\n    status, run_metadata)\n  File \"/usr/lib/python3.5/contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/errors.py\", line 450, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.AlreadyExistsError: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\n     [[Node: Mean/_21 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_3391_Mean\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chase/workspace/Translator/translator.py\", line 106, in <module>\n    c, _ = sess.run([cost, train_step], feed_dict = {input_tensor: x, expected_output: y})\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 382, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 655, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 723, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 743, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.AlreadyExistsError: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\n     [[Node: Mean/_21 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_3391_Mean\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\nCaused by op 'gradients/AccumulateN_5/TemporaryVariable', defined at:\n  File \"/home/chase/workspace/Translator/translator.py\", line 79, in <module>\n    train_step = tf.train.AdamOptimizer(1e-4).minimize(cost, aggregation_method = tf.AggregationMethod.EXPERIMENTAL_ACCUMULATE_N)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/optimizer.py\", line 193, in minimize\n    grad_loss=grad_loss)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/optimizer.py\", line 250, in compute_gradients\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gradients.py\", line 432, in gradients\n    out_grads = _AggregatedGrads(grads, op, loop_state, aggregation_method)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gradients.py\", line 692, in _AggregatedGrads\n    out_grads[i] = math_ops.accumulate_n(out_grad)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/math_ops.py\", line 1497, in accumulate_n\n    var = gen_state_ops._temporary_variable(shape=shape, dtype=tensor_dtype)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_state_ops.py\", line 365, in _temporary_variable\n    var_name=var_name, name=name)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py\", line 703, in apply_op\n    op_def=op_def)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 2297, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 1231, in __init__\n    self._traceback = _extract_stack()\n\n\nThis error goes away if I change the aggregation method of ADD_N.  Here is my code.  I am trying to implement a sequence to sequence model to translate english to german.\nimport unidecode\nimport tensorflow as tf\nrnn = tf.nn.rnn_cell\nimport numpy as np\nimport string\nimport sys\nimport random\nimport multiprocessing\n\nTIME_STEPS = 128\nBATCH_SIZE = 2\n\ndef ctov(c):\n    v = np.zeros(128)\n    v[ord(c)] = 1\n    return v\n\ndef vtoc(v):\n    return chr(np.argmax(v))\n\ndef stov(s, vlen):\n    null_vec = ctov('\\0')\n    v = np.tile(null_vec, (vlen, 1))\n    if len(s) > vlen: s = s[:vlen]\n    for i, c in enumerate(s):\n        v[i] = ctov(c)\n    return v\n\ndef vtos(v):\n    s = ''\n    for cv in v:\n        c = vtoc(cv)\n        if c == '\\0':\n            break\n        s += c\n    return s\n\ndef clean_text(txt):\n    txt = unidecode.unidecode(txt)\n    txt = ''.join([c for c in txt if c in CHARS])\n    return txt\n\ndef load_training_data():\n    print('Loading English...')\n    en = [e.strip() for e in open('/home/chase/Desktop/de-en/english.txt')]\n    print('Loading German...')\n    de = [d.strip() for d in open('/home/chase/Desktop/de-en/german.txt')]\n    print('Processing...')\n    translations = [(unidecode.unidecode(e), unidecode.unidecode(d)) for e, d in zip(en, de) if len(e) and len(d) and len(e) <= TIME_STEPS and len(d) <= TIME_STEPS]\n    return translations\n\n\ninput_tensor = tf.placeholder(tf.float32, (BATCH_SIZE, TIME_STEPS, 128), 'input_tensor')\nexpected_output = tf.placeholder(tf.float32, (BATCH_SIZE, TIME_STEPS, 128), 'expected_output')\n\ny = input_tensor\nwith tf.variable_scope('encoder'):\n    rnn_cell = rnn.MultiRNNCell([rnn.GRUCell(1024) for _ in range(3)])\n    y = tf.nn.dynamic_rnn(rnn_cell, y, dtype = tf.float32)[0]\n\nwith tf.variable_scope('attn'):\n    W = tf.get_variable('W_attn', shape = (1, TIME_STEPS, TIME_STEPS), initializer = tf.truncated_normal_initializer(0.0, 1 / np.sqrt(TIME_STEPS)))\n    W = tf.tile(W, (BATCH_SIZE, 1, 1))\n    y = tf.batch_matmul(W, y)\n\nwith tf.variable_scope('decoder'):\n    rnn_cell = rnn.MultiRNNCell([rnn.GRUCell(1024) for _ in range(3)])\n    y = tf.nn.dynamic_rnn(rnn_cell, y, dtype = tf.float32)[0]\n\nwith tf.variable_scope('output'):\n    y = tf.split(1, TIME_STEPS, y)\n    y = [tf.reshape(x, (BATCH_SIZE, 1024)) for x in y]\n    W = tf.get_variable('W', shape = (1024, 128), initializer = tf.truncated_normal_initializer(0.0, 1 / np.sqrt(1024)))\n    b = tf.get_variable('b', shape = (128,), initializer = tf.truncated_normal_initializer(0.0, 0.01))\n    y = [tf.nn.softmax(tf.matmul(x, W) + b) for x in y]\n    output = tf.pack(y, 1)\n\ncost = tf.reduce_mean(-tf.reduce_sum(expected_output * tf.log(output), reduction_indices = 2))\ntrain_step = tf.train.AdamOptimizer(1e-4).minimize(cost, aggregation_method = tf.AggregationMethod.EXPERIMENTAL_ACCUMULATE_N)\n\nconfig = tf.ConfigProto()\nconfig.gpu_options.per_process_gpu_memory_fraction = 0.8\nsess = tf.Session(config = config)\nsess.run(tf.initialize_all_variables())\n\nif 'train' in sys.argv or True:\n    translations = load_training_data()\n    validation = translations[:10000]\n    translations = translations[10000:]\n\n    def training_data_generator(data):\n        x = np.zeros((BATCH_SIZE, TIME_STEPS, 128))\n        y = np.zeros_like(x)\n        random.shuffle(data)\n        for i in range(0, len(data) - BATCH_SIZE, BATCH_SIZE):        \n            for b in range(BATCH_SIZE):\n                e, d = data[i + b]\n                x[b] = stov(e, TIME_STEPS)\n                y[b] = stov(d, TIME_STEPS)\n\n            yield (x, y)\n\n    for e in range(50):\n        for b, v in enumerate(training_data_generator(translations)):\n            x, y = v\n            c, _ = sess.run([cost, train_step], feed_dict = {input_tensor: x, expected_output: y})\n            print('Epoch %-6d  Batch %-6d  Cost %-6e' % (e, b, c), end = '\\r')\n\nI am using Python 3.5 on Ubuntu 16.04.  I have the latest tensorflow version 0.9.", "body": "I have used EXPERIMENTAL_ACCUMULATE_N in all my past tensorflow projects since it lets me use larger batch sizes.  I have never had any issues with it until now.  Now I get the following error when I run the train step.\n\n```\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_4/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_2/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_3/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\nW tensorflow/core/framework/op_kernel.cc:936] Already exists: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\nI tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 14880 get requests, put_count=3563 evicted_count=1000 eviction_rate=0.280662 and unsatisfied allocation rate=0.834476\nI tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 100 to 110\nI tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 0 get requests, put_count=10010 evicted_count=10000 eviction_rate=0.999001 and unsatisfied allocation rate=0\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 730, in _do_call\n    return fn(*args)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 712, in _run_fn\n    status, run_metadata)\n  File \"/usr/lib/python3.5/contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/errors.py\", line 450, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.AlreadyExistsError: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\n     [[Node: Mean/_21 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_3391_Mean\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chase/workspace/Translator/translator.py\", line 106, in <module>\n    c, _ = sess.run([cost, train_step], feed_dict = {input_tensor: x, expected_output: y})\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 382, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 655, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 723, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 743, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.AlreadyExistsError: Resource tmp_var/gradients/AccumulateN_5/TemporaryVariable/N10tensorflow19TemporaryVariableOp6TmpVarE\n     [[Node: gradients/AccumulateN_5/TemporaryVariable = TemporaryVariable[dtype=DT_FLOAT, shape=[2,1024], var_name=\"\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](^gradients/Sub_1)]]\n     [[Node: Mean/_21 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_3391_Mean\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\nCaused by op 'gradients/AccumulateN_5/TemporaryVariable', defined at:\n  File \"/home/chase/workspace/Translator/translator.py\", line 79, in <module>\n    train_step = tf.train.AdamOptimizer(1e-4).minimize(cost, aggregation_method = tf.AggregationMethod.EXPERIMENTAL_ACCUMULATE_N)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/optimizer.py\", line 193, in minimize\n    grad_loss=grad_loss)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/training/optimizer.py\", line 250, in compute_gradients\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gradients.py\", line 432, in gradients\n    out_grads = _AggregatedGrads(grads, op, loop_state, aggregation_method)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gradients.py\", line 692, in _AggregatedGrads\n    out_grads[i] = math_ops.accumulate_n(out_grad)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/math_ops.py\", line 1497, in accumulate_n\n    var = gen_state_ops._temporary_variable(shape=shape, dtype=tensor_dtype)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/gen_state_ops.py\", line 365, in _temporary_variable\n    var_name=var_name, name=name)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_library.py\", line 703, in apply_op\n    op_def=op_def)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 2297, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 1231, in __init__\n    self._traceback = _extract_stack()\n\n```\n\nThis error goes away if I change the aggregation method of ADD_N.  Here is my code.  I am trying to implement a sequence to sequence model to translate english to german.\n\n```\nimport unidecode\nimport tensorflow as tf\nrnn = tf.nn.rnn_cell\nimport numpy as np\nimport string\nimport sys\nimport random\nimport multiprocessing\n\nTIME_STEPS = 128\nBATCH_SIZE = 2\n\ndef ctov(c):\n    v = np.zeros(128)\n    v[ord(c)] = 1\n    return v\n\ndef vtoc(v):\n    return chr(np.argmax(v))\n\ndef stov(s, vlen):\n    null_vec = ctov('\\0')\n    v = np.tile(null_vec, (vlen, 1))\n    if len(s) > vlen: s = s[:vlen]\n    for i, c in enumerate(s):\n        v[i] = ctov(c)\n    return v\n\ndef vtos(v):\n    s = ''\n    for cv in v:\n        c = vtoc(cv)\n        if c == '\\0':\n            break\n        s += c\n    return s\n\ndef clean_text(txt):\n    txt = unidecode.unidecode(txt)\n    txt = ''.join([c for c in txt if c in CHARS])\n    return txt\n\ndef load_training_data():\n    print('Loading English...')\n    en = [e.strip() for e in open('/home/chase/Desktop/de-en/english.txt')]\n    print('Loading German...')\n    de = [d.strip() for d in open('/home/chase/Desktop/de-en/german.txt')]\n    print('Processing...')\n    translations = [(unidecode.unidecode(e), unidecode.unidecode(d)) for e, d in zip(en, de) if len(e) and len(d) and len(e) <= TIME_STEPS and len(d) <= TIME_STEPS]\n    return translations\n\n\ninput_tensor = tf.placeholder(tf.float32, (BATCH_SIZE, TIME_STEPS, 128), 'input_tensor')\nexpected_output = tf.placeholder(tf.float32, (BATCH_SIZE, TIME_STEPS, 128), 'expected_output')\n\ny = input_tensor\nwith tf.variable_scope('encoder'):\n    rnn_cell = rnn.MultiRNNCell([rnn.GRUCell(1024) for _ in range(3)])\n    y = tf.nn.dynamic_rnn(rnn_cell, y, dtype = tf.float32)[0]\n\nwith tf.variable_scope('attn'):\n    W = tf.get_variable('W_attn', shape = (1, TIME_STEPS, TIME_STEPS), initializer = tf.truncated_normal_initializer(0.0, 1 / np.sqrt(TIME_STEPS)))\n    W = tf.tile(W, (BATCH_SIZE, 1, 1))\n    y = tf.batch_matmul(W, y)\n\nwith tf.variable_scope('decoder'):\n    rnn_cell = rnn.MultiRNNCell([rnn.GRUCell(1024) for _ in range(3)])\n    y = tf.nn.dynamic_rnn(rnn_cell, y, dtype = tf.float32)[0]\n\nwith tf.variable_scope('output'):\n    y = tf.split(1, TIME_STEPS, y)\n    y = [tf.reshape(x, (BATCH_SIZE, 1024)) for x in y]\n    W = tf.get_variable('W', shape = (1024, 128), initializer = tf.truncated_normal_initializer(0.0, 1 / np.sqrt(1024)))\n    b = tf.get_variable('b', shape = (128,), initializer = tf.truncated_normal_initializer(0.0, 0.01))\n    y = [tf.nn.softmax(tf.matmul(x, W) + b) for x in y]\n    output = tf.pack(y, 1)\n\ncost = tf.reduce_mean(-tf.reduce_sum(expected_output * tf.log(output), reduction_indices = 2))\ntrain_step = tf.train.AdamOptimizer(1e-4).minimize(cost, aggregation_method = tf.AggregationMethod.EXPERIMENTAL_ACCUMULATE_N)\n\nconfig = tf.ConfigProto()\nconfig.gpu_options.per_process_gpu_memory_fraction = 0.8\nsess = tf.Session(config = config)\nsess.run(tf.initialize_all_variables())\n\nif 'train' in sys.argv or True:\n    translations = load_training_data()\n    validation = translations[:10000]\n    translations = translations[10000:]\n\n    def training_data_generator(data):\n        x = np.zeros((BATCH_SIZE, TIME_STEPS, 128))\n        y = np.zeros_like(x)\n        random.shuffle(data)\n        for i in range(0, len(data) - BATCH_SIZE, BATCH_SIZE):        \n            for b in range(BATCH_SIZE):\n                e, d = data[i + b]\n                x[b] = stov(e, TIME_STEPS)\n                y[b] = stov(d, TIME_STEPS)\n\n            yield (x, y)\n\n    for e in range(50):\n        for b, v in enumerate(training_data_generator(translations)):\n            x, y = v\n            c, _ = sess.run([cost, train_step], feed_dict = {input_tensor: x, expected_output: y})\n            print('Epoch %-6d  Batch %-6d  Cost %-6e' % (e, b, c), end = '\\r')\n```\n\nI am using Python 3.5 on Ubuntu 16.04.  I have the latest tensorflow version 0.9.\n"}