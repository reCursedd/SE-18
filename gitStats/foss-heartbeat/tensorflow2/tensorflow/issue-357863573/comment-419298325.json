{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/419298325", "html_url": "https://github.com/tensorflow/tensorflow/issues/22124#issuecomment-419298325", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22124", "id": 419298325, "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTI5ODMyNQ==", "user": {"login": "huawei-tomas", "id": 42659125, "node_id": "MDQ6VXNlcjQyNjU5MTI1", "avatar_url": "https://avatars2.githubusercontent.com/u/42659125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huawei-tomas", "html_url": "https://github.com/huawei-tomas", "followers_url": "https://api.github.com/users/huawei-tomas/followers", "following_url": "https://api.github.com/users/huawei-tomas/following{/other_user}", "gists_url": "https://api.github.com/users/huawei-tomas/gists{/gist_id}", "starred_url": "https://api.github.com/users/huawei-tomas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huawei-tomas/subscriptions", "organizations_url": "https://api.github.com/users/huawei-tomas/orgs", "repos_url": "https://api.github.com/users/huawei-tomas/repos", "events_url": "https://api.github.com/users/huawei-tomas/events{/privacy}", "received_events_url": "https://api.github.com/users/huawei-tomas/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-07T02:13:18Z", "updated_at": "2018-09-07T02:14:40Z", "author_association": "NONE", "body_html": "<p>I can compile code with <code>nvcc</code> through <code>RUN nvcc ...</code> within the Dockerfile and <code>nvidia-smi</code> has no problem finding the GPUs on my machine when called from inside the container. Though tensorflow is able to be loaded inside the container (not in Dockerfile) it can't locate the GPU. Falling back to tensorflow/tensorflow:latest-gpu resolved the issue of being able to find the GPUs once inside the container, but <code>RUN python -c \"import tensorflow as tf\"</code> still fails from inside the Dockerfile.</p>", "body_text": "I can compile code with nvcc through RUN nvcc ... within the Dockerfile and nvidia-smi has no problem finding the GPUs on my machine when called from inside the container. Though tensorflow is able to be loaded inside the container (not in Dockerfile) it can't locate the GPU. Falling back to tensorflow/tensorflow:latest-gpu resolved the issue of being able to find the GPUs once inside the container, but RUN python -c \"import tensorflow as tf\" still fails from inside the Dockerfile.", "body": "I can compile code with `nvcc` through `RUN nvcc ...` within the Dockerfile and `nvidia-smi` has no problem finding the GPUs on my machine when called from inside the container. Though tensorflow is able to be loaded inside the container (not in Dockerfile) it can't locate the GPU. Falling back to tensorflow/tensorflow:latest-gpu resolved the issue of being able to find the GPUs once inside the container, but `RUN python -c \"import tensorflow as tf\"` still fails from inside the Dockerfile."}