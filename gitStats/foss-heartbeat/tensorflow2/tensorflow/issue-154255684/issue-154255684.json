{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2324", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2324/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2324/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2324/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2324", "id": 154255684, "node_id": "MDU6SXNzdWUxNTQyNTU2ODQ=", "number": 2324, "title": "Issue with tensorflow/core/lib/core/threadpool.cc", "user": {"login": "julialintern", "id": 6618564, "node_id": "MDQ6VXNlcjY2MTg1NjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/6618564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/julialintern", "html_url": "https://github.com/julialintern", "followers_url": "https://api.github.com/users/julialintern/followers", "following_url": "https://api.github.com/users/julialintern/following{/other_user}", "gists_url": "https://api.github.com/users/julialintern/gists{/gist_id}", "starred_url": "https://api.github.com/users/julialintern/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/julialintern/subscriptions", "organizations_url": "https://api.github.com/users/julialintern/orgs", "repos_url": "https://api.github.com/users/julialintern/repos", "events_url": "https://api.github.com/users/julialintern/events{/privacy}", "received_events_url": "https://api.github.com/users/julialintern/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "benoitsteiner", "id": 6969686, "node_id": "MDQ6VXNlcjY5Njk2ODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6969686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoitsteiner", "html_url": "https://github.com/benoitsteiner", "followers_url": "https://api.github.com/users/benoitsteiner/followers", "following_url": "https://api.github.com/users/benoitsteiner/following{/other_user}", "gists_url": "https://api.github.com/users/benoitsteiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoitsteiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoitsteiner/subscriptions", "organizations_url": "https://api.github.com/users/benoitsteiner/orgs", "repos_url": "https://api.github.com/users/benoitsteiner/repos", "events_url": "https://api.github.com/users/benoitsteiner/events{/privacy}", "received_events_url": "https://api.github.com/users/benoitsteiner/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benoitsteiner", "id": 6969686, "node_id": "MDQ6VXNlcjY5Njk2ODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6969686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benoitsteiner", "html_url": "https://github.com/benoitsteiner", "followers_url": "https://api.github.com/users/benoitsteiner/followers", "following_url": "https://api.github.com/users/benoitsteiner/following{/other_user}", "gists_url": "https://api.github.com/users/benoitsteiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/benoitsteiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benoitsteiner/subscriptions", "organizations_url": "https://api.github.com/users/benoitsteiner/orgs", "repos_url": "https://api.github.com/users/benoitsteiner/repos", "events_url": "https://api.github.com/users/benoitsteiner/events{/privacy}", "received_events_url": "https://api.github.com/users/benoitsteiner/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-05-11T14:20:18Z", "updated_at": "2016-05-13T23:12:49Z", "closed_at": "2016-05-13T23:12:28Z", "author_association": "NONE", "body_html": "<p>Operating System:  Ubuntu 14.04.4<br>\nCUDA version: 7.5<br>\ncuNN: 4.0.7</p>\n<p>Installed from sources:<br>\ncommit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/5681406e2874a02835d34be579810a93ad74a473/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/5681406e2874a02835d34be579810a93ad74a473\"><tt>5681406</tt></a></p>\n<p>running : bazel build -c opt //tensorflow/cc:tutorials_example_trainer --verbose_failures --genrule_strategy=standalone --spawn_strategy=standalone</p>\n<p>Note : that i have configured my WORKSPACE file as per : <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"117675319\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/bazel/issues/623\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/623/hovercard?comment_id=158151936&amp;comment_type=issue_comment\" href=\"https://github.com/bazelbuild/bazel/issues/623#issuecomment-158151936\">bazelbuild/bazel#623 (comment)</a>:</p>\n<p>(made the following corrections:)<br>\ndownload jpeg.BUILD.txt, png.BUILD.txt, and WORKSPACE.txt from <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15898662\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/srsaharoy\">@srsaharoy</a> 's message <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"123925935\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/623\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/623/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/623\">#623</a> (comment) . (the 2nd post with attachments) and place these files in the tensorflow lib without the .txt extension instead of the existing files (in my case ~/git/tensorflow/tensorflow).<br>\ncreate folder with external source files: ~/git/tensorflow/fix/files/re2 ~/git/tensorflow/fix/files/jpeg-9a/jpeg-9a ~/git/tensorflow/fix/files/gemmlowp ~/git/tensorflow/fix/files/libpng-1.2.53/libpng-1.2.53 ~/git/tensorflow/fix/files/six-1.10.0 Note the dir-in-dir for jpeg-9a and libpng-1.2.53. This is necessary.<br>\nchange paths in WORKSPACE file to match the location of the aux source files<br>\n....</p>\n<p>Now I am just stuck with the following error:</p>\n<p>ERROR: /home/julialintern/tensorflow/tensorflow/core/BUILD:756:1: C++ compilation of rule '//tensorflow/core:lib_internal' failed: gcc failed: error executing command<br>\n(cd /home/julialintern/.cache/bazel/<em>bazel_julialintern/1a7b4f00b1b7d4c4a3ca618f554c7ad8/tensorflow &amp;&amp; <br>\nexec env - <br>\nPATH=/home/julialintern/torch/install/bin:/home/julialintern/bin:/usr/local/cuda/bin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/home/julialintern/bin <br>\nTMPDIR=/tmp/user/1001 <br>\n/usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wl,-z,-relro,-z,now -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++0x' -iquote . -iquote bazel-out/host/genfiles -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -iquote external/jpeg_archive -iquote bazel-out/host/genfiles/external/jpeg_archive -iquote external/png_archive -iquote bazel-out/host/genfiles/external/png_archive -iquote external/re2 -iquote bazel-out/host/genfiles/external/re2 -iquote external/eigen_archive -iquote bazel-out/host/genfiles/external/eigen_archive -isystem google/protobuf/src -isystem bazel-out/host/genfiles/google/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/jpeg_archive/jpeg-9a -isystem bazel-out/host/genfiles/external/jpeg_archive/jpeg-9a -isystem external/png_archive/libpng-1.2.53 -isystem bazel-out/host/genfiles/external/png_archive/libpng-1.2.53 -isystem third_party/eigen3 -isystem bazel-out/host/genfiles/third_party/eigen3 -isystem external/eigen_archive/eigen-eigen-50812b426b7c -isystem bazel-out/host/genfiles/external/eigen_archive/eigen-eigen-50812b426b7c -fno-exceptions -DEIGEN_AVOID_STL_ARRAY -DTENSORFLOW_USE_EIGEN_THREADPOOL -pthread -no-canonical-prefixes -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE</em>_=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/host/bin/tensorflow/core/_objs/lib_internal/tensorflow/core/lib/core/threadpool.o' -MD -MF bazel-out/host/bin/tensorflow/core/_objs/lib_internal/tensorflow/core/lib/core/threadpool.d -c tensorflow/core/lib/core/threadpool.cc -o bazel-out/host/bin/tensorflow/core/_objs/lib_internal/tensorflow/core/lib/core/threadpool.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\ntensorflow/core/lib/core/threadpool.cc:83:49: error: expected template-name before '&lt;' token<br>\nstruct ThreadPool::Impl : Eigen::ThreadPoolTempl {<br>\n^<br>\ntensorflow/core/lib/core/threadpool.cc:83:49: error: expected '{' before '&lt;' token<br>\ntensorflow/core/lib/core/threadpool.cc:83:49: error: expected unqualified-id before '&lt;' token<br>\ntensorflow/core/lib/core/threadpool.cc:221:1: error: expected '}' at end of input<br>\n}  // namespace tensorflow<br>\n^<br>\ntensorflow/core/lib/core/threadpool.cc:221:1: error: expected '}' at end of input<br>\nTarget //tensorflow/cc:tutorials_example_trainer failed to build</p>", "body_text": "Operating System:  Ubuntu 14.04.4\nCUDA version: 7.5\ncuNN: 4.0.7\nInstalled from sources:\ncommit 5681406\nrunning : bazel build -c opt //tensorflow/cc:tutorials_example_trainer --verbose_failures --genrule_strategy=standalone --spawn_strategy=standalone\nNote : that i have configured my WORKSPACE file as per : bazelbuild/bazel#623 (comment):\n(made the following corrections:)\ndownload jpeg.BUILD.txt, png.BUILD.txt, and WORKSPACE.txt from @srsaharoy 's message #623 (comment) . (the 2nd post with attachments) and place these files in the tensorflow lib without the .txt extension instead of the existing files (in my case ~/git/tensorflow/tensorflow).\ncreate folder with external source files: ~/git/tensorflow/fix/files/re2 ~/git/tensorflow/fix/files/jpeg-9a/jpeg-9a ~/git/tensorflow/fix/files/gemmlowp ~/git/tensorflow/fix/files/libpng-1.2.53/libpng-1.2.53 ~/git/tensorflow/fix/files/six-1.10.0 Note the dir-in-dir for jpeg-9a and libpng-1.2.53. This is necessary.\nchange paths in WORKSPACE file to match the location of the aux source files\n....\nNow I am just stuck with the following error:\nERROR: /home/julialintern/tensorflow/tensorflow/core/BUILD:756:1: C++ compilation of rule '//tensorflow/core:lib_internal' failed: gcc failed: error executing command\n(cd /home/julialintern/.cache/bazel/bazel_julialintern/1a7b4f00b1b7d4c4a3ca618f554c7ad8/tensorflow && \nexec env - \nPATH=/home/julialintern/torch/install/bin:/home/julialintern/bin:/usr/local/cuda/bin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/home/julialintern/bin \nTMPDIR=/tmp/user/1001 \n/usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wl,-z,-relro,-z,now -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++0x' -iquote . -iquote bazel-out/host/genfiles -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -iquote external/jpeg_archive -iquote bazel-out/host/genfiles/external/jpeg_archive -iquote external/png_archive -iquote bazel-out/host/genfiles/external/png_archive -iquote external/re2 -iquote bazel-out/host/genfiles/external/re2 -iquote external/eigen_archive -iquote bazel-out/host/genfiles/external/eigen_archive -isystem google/protobuf/src -isystem bazel-out/host/genfiles/google/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/jpeg_archive/jpeg-9a -isystem bazel-out/host/genfiles/external/jpeg_archive/jpeg-9a -isystem external/png_archive/libpng-1.2.53 -isystem bazel-out/host/genfiles/external/png_archive/libpng-1.2.53 -isystem third_party/eigen3 -isystem bazel-out/host/genfiles/third_party/eigen3 -isystem external/eigen_archive/eigen-eigen-50812b426b7c -isystem bazel-out/host/genfiles/external/eigen_archive/eigen-eigen-50812b426b7c -fno-exceptions -DEIGEN_AVOID_STL_ARRAY -DTENSORFLOW_USE_EIGEN_THREADPOOL -pthread -no-canonical-prefixes -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE_=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/host/bin/tensorflow/core/_objs/lib_internal/tensorflow/core/lib/core/threadpool.o' -MD -MF bazel-out/host/bin/tensorflow/core/_objs/lib_internal/tensorflow/core/lib/core/threadpool.d -c tensorflow/core/lib/core/threadpool.cc -o bazel-out/host/bin/tensorflow/core/_objs/lib_internal/tensorflow/core/lib/core/threadpool.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ntensorflow/core/lib/core/threadpool.cc:83:49: error: expected template-name before '<' token\nstruct ThreadPool::Impl : Eigen::ThreadPoolTempl {\n^\ntensorflow/core/lib/core/threadpool.cc:83:49: error: expected '{' before '<' token\ntensorflow/core/lib/core/threadpool.cc:83:49: error: expected unqualified-id before '<' token\ntensorflow/core/lib/core/threadpool.cc:221:1: error: expected '}' at end of input\n}  // namespace tensorflow\n^\ntensorflow/core/lib/core/threadpool.cc:221:1: error: expected '}' at end of input\nTarget //tensorflow/cc:tutorials_example_trainer failed to build", "body": "Operating System:  Ubuntu 14.04.4\nCUDA version: 7.5\ncuNN: 4.0.7\n\nInstalled from sources:\ncommit 5681406\n\nrunning : bazel build -c opt //tensorflow/cc:tutorials_example_trainer --verbose_failures --genrule_strategy=standalone --spawn_strategy=standalone\n\nNote : that i have configured my WORKSPACE file as per : https://github.com/bazelbuild/bazel/issues/623#issuecomment-158151936: \n\n(made the following corrections:) \ndownload jpeg.BUILD.txt, png.BUILD.txt, and WORKSPACE.txt from @srsaharoy 's message #623 (comment) . (the 2nd post with attachments) and place these files in the tensorflow lib without the .txt extension instead of the existing files (in my case ~/git/tensorflow/tensorflow).\ncreate folder with external source files: ~/git/tensorflow/fix/files/re2 ~/git/tensorflow/fix/files/jpeg-9a/jpeg-9a ~/git/tensorflow/fix/files/gemmlowp ~/git/tensorflow/fix/files/libpng-1.2.53/libpng-1.2.53 ~/git/tensorflow/fix/files/six-1.10.0 Note the dir-in-dir for jpeg-9a and libpng-1.2.53. This is necessary.\nchange paths in WORKSPACE file to match the location of the aux source files\n .... \n\nNow I am just stuck with the following error: \n\nERROR: /home/julialintern/tensorflow/tensorflow/core/BUILD:756:1: C++ compilation of rule '//tensorflow/core:lib_internal' failed: gcc failed: error executing command \n  (cd /home/julialintern/.cache/bazel/_bazel_julialintern/1a7b4f00b1b7d4c4a3ca618f554c7ad8/tensorflow && \\\n  exec env - \\\n    PATH=/home/julialintern/torch/install/bin:/home/julialintern/bin:/usr/local/cuda/bin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/home/julialintern/bin \\\n    TMPDIR=/tmp/user/1001 \\\n  /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wl,-z,-relro,-z,now -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++0x' -iquote . -iquote bazel-out/host/genfiles -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -iquote external/jpeg_archive -iquote bazel-out/host/genfiles/external/jpeg_archive -iquote external/png_archive -iquote bazel-out/host/genfiles/external/png_archive -iquote external/re2 -iquote bazel-out/host/genfiles/external/re2 -iquote external/eigen_archive -iquote bazel-out/host/genfiles/external/eigen_archive -isystem google/protobuf/src -isystem bazel-out/host/genfiles/google/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/jpeg_archive/jpeg-9a -isystem bazel-out/host/genfiles/external/jpeg_archive/jpeg-9a -isystem external/png_archive/libpng-1.2.53 -isystem bazel-out/host/genfiles/external/png_archive/libpng-1.2.53 -isystem third_party/eigen3 -isystem bazel-out/host/genfiles/third_party/eigen3 -isystem external/eigen_archive/eigen-eigen-50812b426b7c -isystem bazel-out/host/genfiles/external/eigen_archive/eigen-eigen-50812b426b7c -fno-exceptions -DEIGEN_AVOID_STL_ARRAY -DTENSORFLOW_USE_EIGEN_THREADPOOL -pthread -no-canonical-prefixes -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/host/bin/tensorflow/core/_objs/lib_internal/tensorflow/core/lib/core/threadpool.o' -MD -MF bazel-out/host/bin/tensorflow/core/_objs/lib_internal/tensorflow/core/lib/core/threadpool.d -c tensorflow/core/lib/core/threadpool.cc -o bazel-out/host/bin/tensorflow/core/_objs/lib_internal/tensorflow/core/lib/core/threadpool.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ntensorflow/core/lib/core/threadpool.cc:83:49: error: expected template-name before '<' token\n struct ThreadPool::Impl : Eigen::ThreadPoolTempl<EigenEnvironment> {\n                                                 ^\ntensorflow/core/lib/core/threadpool.cc:83:49: error: expected '{' before '<' token\ntensorflow/core/lib/core/threadpool.cc:83:49: error: expected unqualified-id before '<' token\ntensorflow/core/lib/core/threadpool.cc:221:1: error: expected '}' at end of input\n }  // namespace tensorflow\n ^\ntensorflow/core/lib/core/threadpool.cc:221:1: error: expected '}' at end of input\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\n"}