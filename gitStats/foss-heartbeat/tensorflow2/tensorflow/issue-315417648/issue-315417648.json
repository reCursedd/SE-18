{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18645", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18645/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18645/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18645/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18645", "id": 315417648, "node_id": "MDU6SXNzdWUzMTU0MTc2NDg=", "number": 18645, "title": "Key LayerCollection/ff_fckron/concat_10_False/cov not found in checkpoint", "user": {"login": "sandipmgiri", "id": 16284232, "node_id": "MDQ6VXNlcjE2Mjg0MjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/16284232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandipmgiri", "html_url": "https://github.com/sandipmgiri", "followers_url": "https://api.github.com/users/sandipmgiri/followers", "following_url": "https://api.github.com/users/sandipmgiri/following{/other_user}", "gists_url": "https://api.github.com/users/sandipmgiri/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandipmgiri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandipmgiri/subscriptions", "organizations_url": "https://api.github.com/users/sandipmgiri/orgs", "repos_url": "https://api.github.com/users/sandipmgiri/repos", "events_url": "https://api.github.com/users/sandipmgiri/events{/privacy}", "received_events_url": "https://api.github.com/users/sandipmgiri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-04-18T10:15:06Z", "updated_at": "2018-06-11T04:51:21Z", "closed_at": "2018-06-11T04:51:21Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: NA</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nUbuntu 16.04 (ppc64le)</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\nInstalled from source</li>\n<li><strong>TensorFlow version (use command below)</strong>:<br>\nTF1.6.0</li>\n<li><strong>Python version</strong>:<br>\nPython 2.7.5</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\n0.11.1</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\nNA</li>\n<li><strong>GPU model and memory</strong>:<br>\nNA</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nbazel test -c opt //tensorflow/contrib/kfac/examples/tests:mlp_test</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>This test passed successfully on x86 , however its failing on ppc64le with below error  -</p>\n<pre><code>\nINFO: From Testing //tensorflow/contrib/kfac/examples/tests:mlp_test:\n==================== Test output for //tensorflow/contrib/kfac/examples/tests:mlp_test:\n..WARNING:tensorflow:Estimator's model_fn (&lt;function model_fn at 0x3fff9b1c45f0&gt;) includes params argument, but params are not passed to Estimator.\n2018-04-18 10:12:24.430611: W tensorflow/core/framework/op_kernel.cc:1202] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Not found: Key LayerCollection/ff_fckron/concat_10_False/cov not found in checkpoint\nE..\n======================================================================\nERROR: testTrainMnistEstimator (__main__.MlpTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/tests/mlp_test.py\", line 59, in testTrainMnistEstimator\n    mlp.train_mnist_estimator(data_dir=None, num_epochs=1, use_fake_data=True)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/mlp.py\", line 326, in train_mnist_estimator\n    estimator.train(input_fn=input_fn)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 352, in train\n    loss = self._train_model(input_fn, hooks, saving_listeners)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 888, in _train_model\n    log_step_count_steps=self._config.log_step_count_steps) as mon_sess:\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 384, in MonitoredTrainingSession\n    stop_grace_period_secs=stop_grace_period_secs)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 795, in __init__\n    stop_grace_period_secs=stop_grace_period_secs)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 518, in __init__\n    self._sess = _RecoverableSession(self._coordinated_creator)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 981, in __init__\n    _WrappedSession.__init__(self, self._create_session())\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 986, in _create_session\n    return self._sess_creator.create_session()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 675, in create_session\n    self.tf_sess = self._session_creator.create_session()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 446, in create_session\n    init_fn=self._scaffold.init_fn)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/session_manager.py\", line 275, in prepare_session\n    config=config)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/session_manager.py\", line 207, in _restore_checkpoint\n    saver.restore(sess, ckpt.model_checkpoint_path)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1755, in restore\n    {self.saver_def.filename_tensor_name: save_path})\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 905, in run\n    run_metadata_ptr)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1137, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1355, in _do_run\n    options, run_metadata)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1374, in _do_call\n    raise type(e)(node_def, op, message)\nNotFoundError: Key LayerCollection/ff_fckron/concat_10_False/cov not found in checkpoint\n         [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\n\nCaused by op u'save/RestoreV2', defined at:\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/tests/mlp_test.py\", line 63, in &lt;module&gt;\n    tf.test.main()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/test.py\", line 76, in main\n    return _googletest.main(argv)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 99, in main\n    benchmark.benchmarks_main(true_main=main_wrapper)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/benchmark.py\", line 338, in benchmarks_main\n    true_main()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 98, in main_wrapper\n    return app.run(main=g_main, argv=args)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run\n    _sys.exit(main(argv))\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 69, in g_main\n    return unittest_main(argv=argv)\n  File \"/usr/lib/python2.7/unittest/main.py\", line 95, in __init__\n    self.runTests()\n  File \"/usr/lib/python2.7/unittest/main.py\", line 232, in runTests\n    self.result = testRunner.run(self.test)\n  File \"/usr/lib/python2.7/unittest/runner.py\", line 151, in run\n    test(result)\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 70, in __call__\n    return self.run(*args, **kwds)\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 108, in run\n    test(result)\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 70, in __call__\n    return self.run(*args, **kwds)\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 108, in run\n    test(result)\n  File \"/usr/lib/python2.7/unittest/case.py\", line 393, in __call__\n    return self.run(*args, **kwds)\n  File \"/usr/lib/python2.7/unittest/case.py\", line 329, in run\n    testMethod()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/tests/mlp_test.py\", line 59, in testTrainMnistEstimator\n    mlp.train_mnist_estimator(data_dir=None, num_epochs=1, use_fake_data=True)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/mlp.py\", line 326, in train_mnist_estimator\n    estimator.train(input_fn=input_fn)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 352, in train\n    loss = self._train_model(input_fn, hooks, saving_listeners)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 888, in _train_model\n    log_step_count_steps=self._config.log_step_count_steps) as mon_sess:\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 384, in MonitoredTrainingSession\n    stop_grace_period_secs=stop_grace_period_secs)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 795, in __init__\n    stop_grace_period_secs=stop_grace_period_secs)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 518, in __init__\n    self._sess = _RecoverableSession(self._coordinated_creator)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 981, in __init__\n    _WrappedSession.__init__(self, self._create_session())\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 986, in _create_session\n    return self._sess_creator.create_session()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 675, in create_session\n    self.tf_sess = self._session_creator.create_session()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 437, in create_session\n    self._scaffold.finalize()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 214, in finalize\n    self._saver.build()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1302, in build\n    self._build(self._filename, build_save=True, build_restore=True)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1339, in _build\n    build_save=build_save, build_restore=build_restore)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 790, in _build_internal\n    restore_sequentially, reshape)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 502, in _AddShardedRestoreOps\n    name=\"restore_shard\"))\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 449, in _AddRestoreOps\n    restore_sequentially)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 847, in bulk_restore\n    return io_ops.restore_v2(filename_tensor, names, slices, dtypes)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/ops/gen_io_ops.py\", line 1030, in restore_v2\n    shape_and_slices=shape_and_slices, dtypes=dtypes, name=name)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 3271, in create_op\n    op_def=op_def)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 1650, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nNotFoundError (see above for traceback): Key LayerCollection/ff_fckron/concat_10_False/cov not found in checkpoint\n         [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\n\n\n----------------------------------------------------------------------\nRan 5 tests in 3.637s\n\nFAILED (errors=1)\n================================================================================\nTarget //tensorflow/contrib/kfac/examples/tests:mlp_test up-to-date:\n  bazel-bin/tensorflow/contrib/kfac/examples/tests/mlp_test\nINFO: Elapsed time: 5.752s, Critical Path: 5.12s\nINFO: Build completed, 1 test FAILED, 2 total actions\n//tensorflow/contrib/kfac/examples/tests:mlp_test                        FAILED in 5.1s\n  /root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/testlogs/tensorflow/contrib/kfac/examples/tests/mlp_test/test.log\n\nExecuted 1 out of 1 test: 1 fails locally.\n\n</code></pre>\n<p>I have started looking into the issue.<br>\nPlease provide if any suggestions/inputs on what would be the reason of failure. Thanks!</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): NA\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nUbuntu 16.04 (ppc64le)\nTensorFlow installed from (source or binary):\nInstalled from source\nTensorFlow version (use command below):\nTF1.6.0\nPython version:\nPython 2.7.5\nBazel version (if compiling from source):\n0.11.1\nCUDA/cuDNN version:\nNA\nGPU model and memory:\nNA\nExact command to reproduce:\nbazel test -c opt //tensorflow/contrib/kfac/examples/tests:mlp_test\n\nDescribe the problem\nThis test passed successfully on x86 , however its failing on ppc64le with below error  -\n\nINFO: From Testing //tensorflow/contrib/kfac/examples/tests:mlp_test:\n==================== Test output for //tensorflow/contrib/kfac/examples/tests:mlp_test:\n..WARNING:tensorflow:Estimator's model_fn (<function model_fn at 0x3fff9b1c45f0>) includes params argument, but params are not passed to Estimator.\n2018-04-18 10:12:24.430611: W tensorflow/core/framework/op_kernel.cc:1202] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Not found: Key LayerCollection/ff_fckron/concat_10_False/cov not found in checkpoint\nE..\n======================================================================\nERROR: testTrainMnistEstimator (__main__.MlpTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/tests/mlp_test.py\", line 59, in testTrainMnistEstimator\n    mlp.train_mnist_estimator(data_dir=None, num_epochs=1, use_fake_data=True)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/mlp.py\", line 326, in train_mnist_estimator\n    estimator.train(input_fn=input_fn)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 352, in train\n    loss = self._train_model(input_fn, hooks, saving_listeners)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 888, in _train_model\n    log_step_count_steps=self._config.log_step_count_steps) as mon_sess:\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 384, in MonitoredTrainingSession\n    stop_grace_period_secs=stop_grace_period_secs)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 795, in __init__\n    stop_grace_period_secs=stop_grace_period_secs)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 518, in __init__\n    self._sess = _RecoverableSession(self._coordinated_creator)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 981, in __init__\n    _WrappedSession.__init__(self, self._create_session())\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 986, in _create_session\n    return self._sess_creator.create_session()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 675, in create_session\n    self.tf_sess = self._session_creator.create_session()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 446, in create_session\n    init_fn=self._scaffold.init_fn)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/session_manager.py\", line 275, in prepare_session\n    config=config)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/session_manager.py\", line 207, in _restore_checkpoint\n    saver.restore(sess, ckpt.model_checkpoint_path)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1755, in restore\n    {self.saver_def.filename_tensor_name: save_path})\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 905, in run\n    run_metadata_ptr)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1137, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1355, in _do_run\n    options, run_metadata)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1374, in _do_call\n    raise type(e)(node_def, op, message)\nNotFoundError: Key LayerCollection/ff_fckron/concat_10_False/cov not found in checkpoint\n         [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\n\nCaused by op u'save/RestoreV2', defined at:\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/tests/mlp_test.py\", line 63, in <module>\n    tf.test.main()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/test.py\", line 76, in main\n    return _googletest.main(argv)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 99, in main\n    benchmark.benchmarks_main(true_main=main_wrapper)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/benchmark.py\", line 338, in benchmarks_main\n    true_main()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 98, in main_wrapper\n    return app.run(main=g_main, argv=args)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run\n    _sys.exit(main(argv))\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 69, in g_main\n    return unittest_main(argv=argv)\n  File \"/usr/lib/python2.7/unittest/main.py\", line 95, in __init__\n    self.runTests()\n  File \"/usr/lib/python2.7/unittest/main.py\", line 232, in runTests\n    self.result = testRunner.run(self.test)\n  File \"/usr/lib/python2.7/unittest/runner.py\", line 151, in run\n    test(result)\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 70, in __call__\n    return self.run(*args, **kwds)\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 108, in run\n    test(result)\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 70, in __call__\n    return self.run(*args, **kwds)\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 108, in run\n    test(result)\n  File \"/usr/lib/python2.7/unittest/case.py\", line 393, in __call__\n    return self.run(*args, **kwds)\n  File \"/usr/lib/python2.7/unittest/case.py\", line 329, in run\n    testMethod()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/tests/mlp_test.py\", line 59, in testTrainMnistEstimator\n    mlp.train_mnist_estimator(data_dir=None, num_epochs=1, use_fake_data=True)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/mlp.py\", line 326, in train_mnist_estimator\n    estimator.train(input_fn=input_fn)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 352, in train\n    loss = self._train_model(input_fn, hooks, saving_listeners)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 888, in _train_model\n    log_step_count_steps=self._config.log_step_count_steps) as mon_sess:\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 384, in MonitoredTrainingSession\n    stop_grace_period_secs=stop_grace_period_secs)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 795, in __init__\n    stop_grace_period_secs=stop_grace_period_secs)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 518, in __init__\n    self._sess = _RecoverableSession(self._coordinated_creator)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 981, in __init__\n    _WrappedSession.__init__(self, self._create_session())\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 986, in _create_session\n    return self._sess_creator.create_session()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 675, in create_session\n    self.tf_sess = self._session_creator.create_session()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 437, in create_session\n    self._scaffold.finalize()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 214, in finalize\n    self._saver.build()\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1302, in build\n    self._build(self._filename, build_save=True, build_restore=True)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1339, in _build\n    build_save=build_save, build_restore=build_restore)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 790, in _build_internal\n    restore_sequentially, reshape)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 502, in _AddShardedRestoreOps\n    name=\"restore_shard\"))\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 449, in _AddRestoreOps\n    restore_sequentially)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 847, in bulk_restore\n    return io_ops.restore_v2(filename_tensor, names, slices, dtypes)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/ops/gen_io_ops.py\", line 1030, in restore_v2\n    shape_and_slices=shape_and_slices, dtypes=dtypes, name=name)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 3271, in create_op\n    op_def=op_def)\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 1650, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nNotFoundError (see above for traceback): Key LayerCollection/ff_fckron/concat_10_False/cov not found in checkpoint\n         [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\n\n\n----------------------------------------------------------------------\nRan 5 tests in 3.637s\n\nFAILED (errors=1)\n================================================================================\nTarget //tensorflow/contrib/kfac/examples/tests:mlp_test up-to-date:\n  bazel-bin/tensorflow/contrib/kfac/examples/tests/mlp_test\nINFO: Elapsed time: 5.752s, Critical Path: 5.12s\nINFO: Build completed, 1 test FAILED, 2 total actions\n//tensorflow/contrib/kfac/examples/tests:mlp_test                        FAILED in 5.1s\n  /root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/testlogs/tensorflow/contrib/kfac/examples/tests/mlp_test/test.log\n\nExecuted 1 out of 1 test: 1 fails locally.\n\n\nI have started looking into the issue.\nPlease provide if any suggestions/inputs on what would be the reason of failure. Thanks!", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: NA\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n     Ubuntu 16.04 (ppc64le)\r\n- **TensorFlow installed from (source or binary)**:\r\n      Installed from source\r\n- **TensorFlow version (use command below)**:\r\n     TF1.6.0\r\n- **Python version**: \r\n     Python 2.7.5\r\n- **Bazel version (if compiling from source)**:\r\n       0.11.1\r\n- **CUDA/cuDNN version**:\r\n     NA\r\n- **GPU model and memory**:\r\n      NA\r\n- **Exact command to reproduce**:\r\n      bazel test -c opt //tensorflow/contrib/kfac/examples/tests:mlp_test\r\n\r\n### Describe the problem\r\nThis test passed successfully on x86 , however its failing on ppc64le with below error  - \r\n```\r\n\r\nINFO: From Testing //tensorflow/contrib/kfac/examples/tests:mlp_test:\r\n==================== Test output for //tensorflow/contrib/kfac/examples/tests:mlp_test:\r\n..WARNING:tensorflow:Estimator's model_fn (<function model_fn at 0x3fff9b1c45f0>) includes params argument, but params are not passed to Estimator.\r\n2018-04-18 10:12:24.430611: W tensorflow/core/framework/op_kernel.cc:1202] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Not found: Key LayerCollection/ff_fckron/concat_10_False/cov not found in checkpoint\r\nE..\r\n======================================================================\r\nERROR: testTrainMnistEstimator (__main__.MlpTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/tests/mlp_test.py\", line 59, in testTrainMnistEstimator\r\n    mlp.train_mnist_estimator(data_dir=None, num_epochs=1, use_fake_data=True)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/mlp.py\", line 326, in train_mnist_estimator\r\n    estimator.train(input_fn=input_fn)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 352, in train\r\n    loss = self._train_model(input_fn, hooks, saving_listeners)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 888, in _train_model\r\n    log_step_count_steps=self._config.log_step_count_steps) as mon_sess:\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 384, in MonitoredTrainingSession\r\n    stop_grace_period_secs=stop_grace_period_secs)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 795, in __init__\r\n    stop_grace_period_secs=stop_grace_period_secs)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 518, in __init__\r\n    self._sess = _RecoverableSession(self._coordinated_creator)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 981, in __init__\r\n    _WrappedSession.__init__(self, self._create_session())\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 986, in _create_session\r\n    return self._sess_creator.create_session()\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 675, in create_session\r\n    self.tf_sess = self._session_creator.create_session()\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 446, in create_session\r\n    init_fn=self._scaffold.init_fn)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/session_manager.py\", line 275, in prepare_session\r\n    config=config)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/session_manager.py\", line 207, in _restore_checkpoint\r\n    saver.restore(sess, ckpt.model_checkpoint_path)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1755, in restore\r\n    {self.saver_def.filename_tensor_name: save_path})\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 905, in run\r\n    run_metadata_ptr)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1137, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1355, in _do_run\r\n    options, run_metadata)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1374, in _do_call\r\n    raise type(e)(node_def, op, message)\r\nNotFoundError: Key LayerCollection/ff_fckron/concat_10_False/cov not found in checkpoint\r\n         [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\r\n\r\nCaused by op u'save/RestoreV2', defined at:\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/tests/mlp_test.py\", line 63, in <module>\r\n    tf.test.main()\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/test.py\", line 76, in main\r\n    return _googletest.main(argv)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 99, in main\r\n    benchmark.benchmarks_main(true_main=main_wrapper)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/benchmark.py\", line 338, in benchmarks_main\r\n    true_main()\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 98, in main_wrapper\r\n    return app.run(main=g_main, argv=args)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run\r\n    _sys.exit(main(argv))\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/platform/googletest.py\", line 69, in g_main\r\n    return unittest_main(argv=argv)\r\n  File \"/usr/lib/python2.7/unittest/main.py\", line 95, in __init__\r\n    self.runTests()\r\n  File \"/usr/lib/python2.7/unittest/main.py\", line 232, in runTests\r\n    self.result = testRunner.run(self.test)\r\n  File \"/usr/lib/python2.7/unittest/runner.py\", line 151, in run\r\n    test(result)\r\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 70, in __call__\r\n    return self.run(*args, **kwds)\r\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 108, in run\r\n    test(result)\r\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 70, in __call__\r\n    return self.run(*args, **kwds)\r\n  File \"/usr/lib/python2.7/unittest/suite.py\", line 108, in run\r\n    test(result)\r\n  File \"/usr/lib/python2.7/unittest/case.py\", line 393, in __call__\r\n    return self.run(*args, **kwds)\r\n  File \"/usr/lib/python2.7/unittest/case.py\", line 329, in run\r\n    testMethod()\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/tests/mlp_test.py\", line 59, in testTrainMnistEstimator\r\n    mlp.train_mnist_estimator(data_dir=None, num_epochs=1, use_fake_data=True)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/contrib/kfac/examples/mlp.py\", line 326, in train_mnist_estimator\r\n    estimator.train(input_fn=input_fn)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 352, in train\r\n    loss = self._train_model(input_fn, hooks, saving_listeners)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/estimator/estimator.py\", line 888, in _train_model\r\n    log_step_count_steps=self._config.log_step_count_steps) as mon_sess:\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 384, in MonitoredTrainingSession\r\n    stop_grace_period_secs=stop_grace_period_secs)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 795, in __init__\r\n    stop_grace_period_secs=stop_grace_period_secs)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 518, in __init__\r\n    self._sess = _RecoverableSession(self._coordinated_creator)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 981, in __init__\r\n    _WrappedSession.__init__(self, self._create_session())\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 986, in _create_session\r\n    return self._sess_creator.create_session()\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 675, in create_session\r\n    self.tf_sess = self._session_creator.create_session()\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 437, in create_session\r\n    self._scaffold.finalize()\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/monitored_session.py\", line 214, in finalize\r\n    self._saver.build()\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1302, in build\r\n    self._build(self._filename, build_save=True, build_restore=True)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1339, in _build\r\n    build_save=build_save, build_restore=build_restore)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 790, in _build_internal\r\n    restore_sequentially, reshape)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 502, in _AddShardedRestoreOps\r\n    name=\"restore_shard\"))\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 449, in _AddRestoreOps\r\n    restore_sequentially)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 847, in bulk_restore\r\n    return io_ops.restore_v2(filename_tensor, names, slices, dtypes)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/ops/gen_io_ops.py\", line 1030, in restore_v2\r\n    shape_and_slices=shape_and_slices, dtypes=dtypes, name=name)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 3271, in create_op\r\n    op_def=op_def)\r\n  File \"/root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/bin/tensorflow/contrib/kfac/examples/tests/mlp_test.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 1650, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\nNotFoundError (see above for traceback): Key LayerCollection/ff_fckron/concat_10_False/cov not found in checkpoint\r\n         [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_INT64], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\r\n\r\n\r\n----------------------------------------------------------------------\r\nRan 5 tests in 3.637s\r\n\r\nFAILED (errors=1)\r\n================================================================================\r\nTarget //tensorflow/contrib/kfac/examples/tests:mlp_test up-to-date:\r\n  bazel-bin/tensorflow/contrib/kfac/examples/tests/mlp_test\r\nINFO: Elapsed time: 5.752s, Critical Path: 5.12s\r\nINFO: Build completed, 1 test FAILED, 2 total actions\r\n//tensorflow/contrib/kfac/examples/tests:mlp_test                        FAILED in 5.1s\r\n  /root/.cache/bazel/_bazel_root/f1b093cb2d3fbb9bf169263a57926f78/execroot/org_tensorflow/bazel-out/ppc-opt/testlogs/tensorflow/contrib/kfac/examples/tests/mlp_test/test.log\r\n\r\nExecuted 1 out of 1 test: 1 fails locally.\r\n\r\n```\r\n\r\nI have started looking into the issue. \r\nPlease provide if any suggestions/inputs on what would be the reason of failure. Thanks! "}