{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/131115679", "pull_request_review_id": 54063252, "id": 131115679, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMTExNTY3OQ==", "diff_hunk": "@@ -202,6 +202,7 @@ Status CudaSolver::CopyLapackInfoToHostAsync(\n // numeric types.\n #define TF_CALL_LAPACK_TYPES(m) \\\n   m(float, S) m(double, D) m(std::complex<float>, C) m(std::complex<double>, Z)\n+#define TF_CALL_LAPACK_TYPES_NO_COMPLEX(m) m(float, S) m(double, D)", "path": "tensorflow/core/kernels/cuda_solvers.cc", "position": 13, "original_position": 48, "commit_id": "bfda71b1104c7d1d0210439c22cded14c87c7db7", "original_commit_id": "61a77cb6c1b65678f41e60bbd9a93c1052fe8aa8", "user": {"login": "shamanDevel", "id": 1770337, "node_id": "MDQ6VXNlcjE3NzAzMzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1770337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shamanDevel", "html_url": "https://github.com/shamanDevel", "followers_url": "https://api.github.com/users/shamanDevel/followers", "following_url": "https://api.github.com/users/shamanDevel/following{/other_user}", "gists_url": "https://api.github.com/users/shamanDevel/gists{/gist_id}", "starred_url": "https://api.github.com/users/shamanDevel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shamanDevel/subscriptions", "organizations_url": "https://api.github.com/users/shamanDevel/orgs", "repos_url": "https://api.github.com/users/shamanDevel/repos", "events_url": "https://api.github.com/users/shamanDevel/events{/privacy}", "received_events_url": "https://api.github.com/users/shamanDevel/received_events", "type": "User", "site_admin": false}, "body": "That's actually a bit tricky: The SVD of a complex matrix gives real singular values. The implementation of cuSolver also provides the singular values in a real vector. The tensorflow operation, however, requires the singular values to be complex values as well. So I would need to store the singular values in a temporal array and convert them to complex values for the output (I can use CastFunctor defined in cast_op.h for that).\r\nWhat is the reason that Tensorflow requires the singular values to be stored in a complex tensor?", "created_at": "2017-08-03T11:21:22Z", "updated_at": "2017-09-06T05:32:18Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/11878#discussion_r131115679", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/11878", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/131115679"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/11878#discussion_r131115679"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/11878"}}, "body_html": "<p>That's actually a bit tricky: The SVD of a complex matrix gives real singular values. The implementation of cuSolver also provides the singular values in a real vector. The tensorflow operation, however, requires the singular values to be complex values as well. So I would need to store the singular values in a temporal array and convert them to complex values for the output (I can use CastFunctor defined in cast_op.h for that).<br>\nWhat is the reason that Tensorflow requires the singular values to be stored in a complex tensor?</p>", "body_text": "That's actually a bit tricky: The SVD of a complex matrix gives real singular values. The implementation of cuSolver also provides the singular values in a real vector. The tensorflow operation, however, requires the singular values to be complex values as well. So I would need to store the singular values in a temporal array and convert them to complex values for the output (I can use CastFunctor defined in cast_op.h for that).\nWhat is the reason that Tensorflow requires the singular values to be stored in a complex tensor?", "in_reply_to_id": 130755062}