{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/396843328", "html_url": "https://github.com/tensorflow/tensorflow/issues/18731#issuecomment-396843328", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18731", "id": 396843328, "node_id": "MDEyOklzc3VlQ29tbWVudDM5Njg0MzMyOA==", "user": {"login": "sanoguch", "id": 40227819, "node_id": "MDQ6VXNlcjQwMjI3ODE5", "avatar_url": "https://avatars2.githubusercontent.com/u/40227819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanoguch", "html_url": "https://github.com/sanoguch", "followers_url": "https://api.github.com/users/sanoguch/followers", "following_url": "https://api.github.com/users/sanoguch/following{/other_user}", "gists_url": "https://api.github.com/users/sanoguch/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanoguch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanoguch/subscriptions", "organizations_url": "https://api.github.com/users/sanoguch/orgs", "repos_url": "https://api.github.com/users/sanoguch/repos", "events_url": "https://api.github.com/users/sanoguch/events{/privacy}", "received_events_url": "https://api.github.com/users/sanoguch/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-13T07:35:26Z", "updated_at": "2018-06-13T07:35:26Z", "author_association": "NONE", "body_html": "<p>I saw the same issue. Our models are created by keras.<br>\nIt looks TOCO assumes that merge node is immediately after switch node, but in our models, there are several nodes between switch and merge.</p>\n<p>I fixed as below and it works for our models. I am not sure it also works for others' models.</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/files/2097006/resolve_tensorflow_switch.patch.zip\">resolve_tensorflow_switch.patch.zip</a></p>", "body_text": "I saw the same issue. Our models are created by keras.\nIt looks TOCO assumes that merge node is immediately after switch node, but in our models, there are several nodes between switch and merge.\nI fixed as below and it works for our models. I am not sure it also works for others' models.\nresolve_tensorflow_switch.patch.zip", "body": "I saw the same issue. Our models are created by keras.\r\nIt looks TOCO assumes that merge node is immediately after switch node, but in our models, there are several nodes between switch and merge.\r\n\r\nI fixed as below and it works for our models. I am not sure it also works for others' models.\r\n\r\n[resolve_tensorflow_switch.patch.zip](https://github.com/tensorflow/tensorflow/files/2097006/resolve_tensorflow_switch.patch.zip)\r\n"}