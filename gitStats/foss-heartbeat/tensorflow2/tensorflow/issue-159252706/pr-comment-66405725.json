{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/66405725", "pull_request_review_id": null, "id": 66405725, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NDA1NzI1", "diff_hunk": "@@ -427,44 +433,57 @@ def pad_to_bounding_box(image, offset_height, offset_width, target_height,\n \n   Raises:\n     ValueError: If the shape of `image` is incompatible with the `offset_*` or\n-      `target_*` arguments\n+      `target_*` arguments, or either `offset_height` or `offset_width` is\n+      negative.\n   \"\"\"\n   image = ops.convert_to_tensor(image, name='image')\n-  _Check3DImage(image, require_static=True)\n+  _Check3DImage(image, require_static=False)\n   height, width, depth = _ImageDimensions(image)\n \n-  if target_width < width:\n-    raise ValueError('target_width must be >= width')\n-  if target_height < height:\n-    raise ValueError('target_height must be >= height')\n-\n   after_padding_width = target_width - offset_width - width\n   after_padding_height = target_height - offset_height - height\n \n-  if after_padding_width < 0:\n+  if not isinstance(offset_height, ops.Tensor) and offset_height < 0:", "path": "tensorflow/python/ops/image_ops.py", "position": null, "original_position": 60, "commit_id": "43925959ebcbf6eb5e48d8854c9550a109961aa7", "original_commit_id": "af206f2a0f18b3736cc565f3f44068bd00a31663", "user": {"login": "gaohuazuo", "id": 10446514, "node_id": "MDQ6VXNlcjEwNDQ2NTE0", "avatar_url": "https://avatars0.githubusercontent.com/u/10446514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaohuazuo", "html_url": "https://github.com/gaohuazuo", "followers_url": "https://api.github.com/users/gaohuazuo/followers", "following_url": "https://api.github.com/users/gaohuazuo/following{/other_user}", "gists_url": "https://api.github.com/users/gaohuazuo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaohuazuo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaohuazuo/subscriptions", "organizations_url": "https://api.github.com/users/gaohuazuo/orgs", "repos_url": "https://api.github.com/users/gaohuazuo/repos", "events_url": "https://api.github.com/users/gaohuazuo/events{/privacy}", "received_events_url": "https://api.github.com/users/gaohuazuo/received_events", "type": "User", "site_admin": false}, "body": "Using `isinstance(something, ops.Tensor)` here is too clumsy.\n\nSolution 1:\nUse some helper function to check whether the value is a \"literal\" or \"symbol\".\n\nSolution 2:\nMake the framework automatically evaluate all ops that have constant inputs at graph construction time (like C++ constexpr).\n", "created_at": "2016-06-09T09:06:24Z", "updated_at": "2016-06-28T03:14:03Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/2737#discussion_r66405725", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2737", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/66405725"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/2737#discussion_r66405725"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2737"}}, "body_html": "<p>Using <code>isinstance(something, ops.Tensor)</code> here is too clumsy.</p>\n<p>Solution 1:<br>\nUse some helper function to check whether the value is a \"literal\" or \"symbol\".</p>\n<p>Solution 2:<br>\nMake the framework automatically evaluate all ops that have constant inputs at graph construction time (like C++ constexpr).</p>", "body_text": "Using isinstance(something, ops.Tensor) here is too clumsy.\nSolution 1:\nUse some helper function to check whether the value is a \"literal\" or \"symbol\".\nSolution 2:\nMake the framework automatically evaluate all ops that have constant inputs at graph construction time (like C++ constexpr)."}