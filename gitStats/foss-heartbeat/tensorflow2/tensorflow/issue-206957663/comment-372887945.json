{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/372887945", "html_url": "https://github.com/tensorflow/tensorflow/issues/7434#issuecomment-372887945", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7434", "id": 372887945, "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mjg4Nzk0NQ==", "user": {"login": "clovking", "id": 29460736, "node_id": "MDQ6VXNlcjI5NDYwNzM2", "avatar_url": "https://avatars2.githubusercontent.com/u/29460736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clovking", "html_url": "https://github.com/clovking", "followers_url": "https://api.github.com/users/clovking/followers", "following_url": "https://api.github.com/users/clovking/following{/other_user}", "gists_url": "https://api.github.com/users/clovking/gists{/gist_id}", "starred_url": "https://api.github.com/users/clovking/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clovking/subscriptions", "organizations_url": "https://api.github.com/users/clovking/orgs", "repos_url": "https://api.github.com/users/clovking/repos", "events_url": "https://api.github.com/users/clovking/events{/privacy}", "received_events_url": "https://api.github.com/users/clovking/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-14T02:54:00Z", "updated_at": "2018-03-14T02:54:00Z", "author_association": "NONE", "body_html": "<div class=\"email-fragment\">It , I run google object detection API, shows the error log such as :\n\nInput file read error\nINFO:tensorflow:Error reported to Coordinator: &lt;class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'&gt;, Invalid JPEG data or crop window, data size 166476\n[[Node: case/If_0/decode_image/cond_jpeg/DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, dct_method=\"\", fancy_upscaling=true, ratio=1, try_recover_truncated=false, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](case/If_0/ decode_image/cond_jpeg/cond_png/DecodePng/Switch:1, ^case/Assert/AssertGuard/Merge, ^case/If_0/decode_image/cond_jpeg/Assert/ Assert)]].\n\nIt is found that a few pictures are invalid format when I use tf.image.decode_jpeg() function to detect and the same error upon is found. Just discard this invalid pictures. The function will consume a lot of time.\nOf course, maybe the question , you and me, is not the same question, just give the method which is valid for me.\nThank you for your reply.\n\n\u53d1\u9001\u81ea Windows 10 \u7248\u90ae\u4ef6\u5e94\u7528\n\n\u53d1\u4ef6\u4eba: clarklight\n\u53d1\u9001\u65f6\u95f4: 2018\u5e743\u670814\u65e5 2:05\n\u6536\u4ef6\u4eba: tensorflow/tensorflow\n\u6284\u9001: clovking; Comment\n\u4e3b\u9898: Re: [tensorflow/tensorflow] InvalidArgumentError Invalid JPEG data,size 4096 for retain.py(image_retrain), Not JPEG file 0x00 0x05 (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"206957663\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7434\" href=\"https://github.com/tensorflow/tensorflow/issues/7434\">#7434</a>)\n\nSomething funny happened, I used to run my Tensorflow on Linux and Unix\nsystem. Today was my first time to install and run on a window\ndevice.....and I ran into a problem with retraining a model as well. But\nit's slightly different. It kept complaining about flower_photos not found.\nAs if the directory isn't there.....but I made sure it is........not sure\nwhat's the problem still.....</div>\n<div class=\"email-quoted-reply\">On 23 Feb 2018 20:27, \"clark ho\" ***@***.***&gt; wrote:\n For me anyway the jpeg looked like it was correct, the format looked\n correct. I checked everything,I even open it to view the image, everything\n looked right, but for some reason for me when the images is moved from a\n folder to another some transfer method causes jpeg to loss some bits from\n it's base64 string.......no idea why. When I compared the Actual base64\n then I saw the string was slightly different.......then I tried a different\n transfer method, when the base64 string is 100% the same.....then it\n worked. No idea why, I think the Tensorflow has to mount the image into the\n image parser in C++ then read it, so basically the system couldn't mount\n the image to parse and gave that error, if you guys base64 is correct or\n file format is correct, maybe take a look at the log to see if the image is\n even getting read correctly.\n\n On 23 Feb 2018 20:16, \"clovking\" ***@***.***&gt; wrote:\n\n&gt; <a class=\"user-mention\" href=\"https://github.com/clarklight\">@clarklight</a> &lt;<a href=\"https://github.com/clarklight\">https://github.com/clarklight</a>&gt; , I meet a silimar question\n&gt; with you when i train models on google TensorFlow Object Detection API, May\n&gt; i ask if the question has been solved? what's the problem and how to\n&gt; solved? thank you!\n&gt;\n&gt; \u2014\n&gt; You are receiving this because you were mentioned.\n&gt; Reply to this email directly, view it on GitHub\n&gt; &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"206957663\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/7434\" href=\"https://github.com/tensorflow/tensorflow/issues/7434#issuecomment-367993507\">#7434 (comment)</a>&gt;,\n&gt; or mute the thread\n&gt; &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AI3mgCFNfgVN0Sh545XIyY8uOW1Hjt0gks5tXqwogaJpZM4L-E1a\">https://github.com/notifications/unsubscribe-auth/AI3mgCFNfgVN0Sh545XIyY8uOW1Hjt0gks5tXqwogaJpZM4L-E1a</a>&gt;\n&gt; .\n&gt;\n</div>\n<div class=\"email-fragment\">\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.</div>", "body_text": "It , I run google object detection API, shows the error log such as :\n\nInput file read error\nINFO:tensorflow:Error reported to Coordinator: <class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'>, Invalid JPEG data or crop window, data size 166476\n[[Node: case/If_0/decode_image/cond_jpeg/DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, dct_method=\"\", fancy_upscaling=true, ratio=1, try_recover_truncated=false, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](case/If_0/ decode_image/cond_jpeg/cond_png/DecodePng/Switch:1, ^case/Assert/AssertGuard/Merge, ^case/If_0/decode_image/cond_jpeg/Assert/ Assert)]].\n\nIt is found that a few pictures are invalid format when I use tf.image.decode_jpeg() function to detect and the same error upon is found. Just discard this invalid pictures. The function will consume a lot of time.\nOf course, maybe the question , you and me, is not the same question, just give the method which is valid for me.\nThank you for your reply.\n\n\u53d1\u9001\u81ea Windows 10 \u7248\u90ae\u4ef6\u5e94\u7528\n\n\u53d1\u4ef6\u4eba: clarklight\n\u53d1\u9001\u65f6\u95f4: 2018\u5e743\u670814\u65e5 2:05\n\u6536\u4ef6\u4eba: tensorflow/tensorflow\n\u6284\u9001: clovking; Comment\n\u4e3b\u9898: Re: [tensorflow/tensorflow] InvalidArgumentError Invalid JPEG data,size 4096 for retain.py(image_retrain), Not JPEG file 0x00 0x05 (#7434)\n\nSomething funny happened, I used to run my Tensorflow on Linux and Unix\nsystem. Today was my first time to install and run on a window\ndevice.....and I ran into a problem with retraining a model as well. But\nit's slightly different. It kept complaining about flower_photos not found.\nAs if the directory isn't there.....but I made sure it is........not sure\nwhat's the problem still.....\nOn 23 Feb 2018 20:27, \"clark ho\" ***@***.***> wrote:\n For me anyway the jpeg looked like it was correct, the format looked\n correct. I checked everything,I even open it to view the image, everything\n looked right, but for some reason for me when the images is moved from a\n folder to another some transfer method causes jpeg to loss some bits from\n it's base64 string.......no idea why. When I compared the Actual base64\n then I saw the string was slightly different.......then I tried a different\n transfer method, when the base64 string is 100% the same.....then it\n worked. No idea why, I think the Tensorflow has to mount the image into the\n image parser in C++ then read it, so basically the system couldn't mount\n the image to parse and gave that error, if you guys base64 is correct or\n file format is correct, maybe take a look at the log to see if the image is\n even getting read correctly.\n\n On 23 Feb 2018 20:16, \"clovking\" ***@***.***> wrote:\n\n> @clarklight <https://github.com/clarklight> , I meet a silimar question\n> with you when i train models on google TensorFlow Object Detection API, May\n> i ask if the question has been solved? what's the problem and how to\n> solved? thank you!\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <#7434 (comment)>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AI3mgCFNfgVN0Sh545XIyY8uOW1Hjt0gks5tXqwogaJpZM4L-E1a>\n> .\n>\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.", "body": "It , I run google object detection API, shows the error log such as : \n\nInput file read error\nINFO:tensorflow:Error reported to Coordinator: <class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'>, Invalid JPEG data or crop window, data size 166476\n[[Node: case/If_0/decode_image/cond_jpeg/DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, dct_method=\"\", fancy_upscaling=true, ratio=1, try_recover_truncated=false, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](case/If_0/ decode_image/cond_jpeg/cond_png/DecodePng/Switch:1, ^case/Assert/AssertGuard/Merge, ^case/If_0/decode_image/cond_jpeg/Assert/ Assert)]]. \n\nIt is found that a few pictures are invalid format when I use tf.image.decode_jpeg() function to detect and the same error upon is found. Just discard this invalid pictures. The function will consume a lot of time.\nOf course, maybe the question , you and me, is not the same question, just give the method which is valid for me.\nThank you for your reply.\n\n\u53d1\u9001\u81ea Windows 10 \u7248\u90ae\u4ef6\u5e94\u7528\n\n\u53d1\u4ef6\u4eba: clarklight\n\u53d1\u9001\u65f6\u95f4: 2018\u5e743\u670814\u65e5 2:05\n\u6536\u4ef6\u4eba: tensorflow/tensorflow\n\u6284\u9001: clovking; Comment\n\u4e3b\u9898: Re: [tensorflow/tensorflow] InvalidArgumentError Invalid JPEG data,size 4096 for retain.py(image_retrain), Not JPEG file 0x00 0x05 (#7434)\n\nSomething funny happened, I used to run my Tensorflow on Linux and Unix\nsystem. Today was my first time to install and run on a window\ndevice.....and I ran into a problem with retraining a model as well. But\nit's slightly different. It kept complaining about flower_photos not found.\nAs if the directory isn't there.....but I made sure it is........not sure\nwhat's the problem still.....\n\nOn 23 Feb 2018 20:27, \"clark ho\" <clarkswork@gmail.com> wrote:\n\n> For me anyway the jpeg looked like it was correct, the format looked\n> correct. I checked everything,I even open it to view the image, everything\n> looked right, but for some reason for me when the images is moved from a\n> folder to another some transfer method causes jpeg to loss some bits from\n> it's base64 string.......no idea why. When I compared the Actual base64\n> then I saw the string was slightly different.......then I tried a different\n> transfer method, when the base64 string is 100% the same.....then it\n> worked. No idea why, I think the Tensorflow has to mount the image into the\n> image parser in C++ then read it, so basically the system couldn't mount\n> the image to parse and gave that error, if you guys base64 is correct or\n> file format is correct, maybe take a look at the log to see if the image is\n> even getting read correctly.\n>\n> On 23 Feb 2018 20:16, \"clovking\" <notifications@github.com> wrote:\n>\n>> @clarklight <https://github.com/clarklight> , I meet a silimar question\n>> with you when i train models on google TensorFlow Object Detection API, May\n>> i ask if the question has been solved? what's the problem and how to\n>> solved? thank you!\n>>\n>> \u2014\n>> You are receiving this because you were mentioned.\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/tensorflow/tensorflow/issues/7434#issuecomment-367993507>,\n>> or mute the thread\n>> <https://github.com/notifications/unsubscribe-auth/AI3mgCFNfgVN0Sh545XIyY8uOW1Hjt0gks5tXqwogaJpZM4L-E1a>\n>> .\n>>\n>\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n\n"}