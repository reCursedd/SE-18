{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4201", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4201/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4201/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4201/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4201", "id": 175020722, "node_id": "MDU6SXNzdWUxNzUwMjA3MjI=", "number": 4201, "title": "After I used SyncReplicasOptimizer, tf hang at sess.run ", "user": {"login": "haibarasiao", "id": 21122045, "node_id": "MDQ6VXNlcjIxMTIyMDQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/21122045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haibarasiao", "html_url": "https://github.com/haibarasiao", "followers_url": "https://api.github.com/users/haibarasiao/followers", "following_url": "https://api.github.com/users/haibarasiao/following{/other_user}", "gists_url": "https://api.github.com/users/haibarasiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/haibarasiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haibarasiao/subscriptions", "organizations_url": "https://api.github.com/users/haibarasiao/orgs", "repos_url": "https://api.github.com/users/haibarasiao/repos", "events_url": "https://api.github.com/users/haibarasiao/events{/privacy}", "received_events_url": "https://api.github.com/users/haibarasiao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-05T08:30:58Z", "updated_at": "2016-09-07T04:03:11Z", "closed_at": "2016-09-07T04:03:11Z", "author_association": "NONE", "body_html": "<p>After I used SyncReplicasOptimizer and chief queue runner in distribute tensorflow, it hangs at sess.run.<br>\nBut after I added below:<br>\nqueue_runners = tf.get_collection(tf.GraphKeys.QUEUE_RUNNERS)<br>\nsv.start_queue_runners(sess, queue_runners)<br>\nthis queue runs OK.<br>\nAnyone can tell me why?<br>\nI added this code before:<br>\nif is_chief:<br>\nsv.start_queue_runners(sess, chief_queue_runner)<br>\nsess.run(init_token_op)</p>", "body_text": "After I used SyncReplicasOptimizer and chief queue runner in distribute tensorflow, it hangs at sess.run.\nBut after I added below:\nqueue_runners = tf.get_collection(tf.GraphKeys.QUEUE_RUNNERS)\nsv.start_queue_runners(sess, queue_runners)\nthis queue runs OK.\nAnyone can tell me why?\nI added this code before:\nif is_chief:\nsv.start_queue_runners(sess, chief_queue_runner)\nsess.run(init_token_op)", "body": "After I used SyncReplicasOptimizer and chief queue runner in distribute tensorflow, it hangs at sess.run.\nBut after I added below:\n        queue_runners = tf.get_collection(tf.GraphKeys.QUEUE_RUNNERS)\n        sv.start_queue_runners(sess, queue_runners)  \nthis queue runs OK.\nAnyone can tell me why?\nI added this code before:\n      if is_chief:\n          sv.start_queue_runners(sess, chief_queue_runner)\n          sess.run(init_token_op)\n"}