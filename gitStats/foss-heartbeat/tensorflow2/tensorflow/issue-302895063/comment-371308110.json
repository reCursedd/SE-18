{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/371308110", "html_url": "https://github.com/tensorflow/tensorflow/issues/17493#issuecomment-371308110", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17493", "id": 371308110, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTMwODExMA==", "user": {"login": "bennix", "id": 124814, "node_id": "MDQ6VXNlcjEyNDgxNA==", "avatar_url": "https://avatars3.githubusercontent.com/u/124814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bennix", "html_url": "https://github.com/bennix", "followers_url": "https://api.github.com/users/bennix/followers", "following_url": "https://api.github.com/users/bennix/following{/other_user}", "gists_url": "https://api.github.com/users/bennix/gists{/gist_id}", "starred_url": "https://api.github.com/users/bennix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bennix/subscriptions", "organizations_url": "https://api.github.com/users/bennix/orgs", "repos_url": "https://api.github.com/users/bennix/repos", "events_url": "https://api.github.com/users/bennix/events{/privacy}", "received_events_url": "https://api.github.com/users/bennix/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-07T22:28:22Z", "updated_at": "2018-03-07T22:28:22Z", "author_association": "NONE", "body_html": "<p>The workspace.bzl in tensorflow directory should be modified as</p>\n<p>`tf_http_archive(<br>\nname = \"com_google_protobuf\",<br>\nurls = [<br>\n\"https://mirror.bazel.build/github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",<br>\n\"https://github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",<br>\n],<br>\nsha256 = \"846d907acf472ae233ec0882ef3a2d24edbbe834b80c305e867ac65a1f2c59e3\",<br>\nstrip_prefix = \"protobuf-396336eb961b75f03b25824fe86cf6490fb75e3a\",<br>\n)</p>\n<p>tf_http_archive(<br>\nname = \"com_google_protobuf_cc\",<br>\nurls = [<br>\n\"https://mirror.bazel.build/github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",<br>\n\"https://github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",<br>\n],<br>\nsha256 = \"846d907acf472ae233ec0882ef3a2d24edbbe834b80c305e867ac65a1f2c59e3\",<br>\nstrip_prefix = \"protobuf-396336eb961b75f03b25824fe86cf6490fb75e3a\",<br>\n)`</p>\n<p>and the depthwise_conv_op_gpu.cu.cc, split_lib_gpu.cu.cc,concat_lib_gpu_impl.cu.cc in the  core/kernels,you need change all the lines like:</p>\n<p><code>extern __shared__ __align__(sizeof(T)) unsigned char smem[];</code></p>\n<p>into</p>\n<p><code> extern __shared__  unsigned char smem[];</code></p>\n<p>by delete <code>__align__(sizeof(T))</code> . Then everything will be OK.</p>", "body_text": "The workspace.bzl in tensorflow directory should be modified as\n`tf_http_archive(\nname = \"com_google_protobuf\",\nurls = [\n\"https://mirror.bazel.build/github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\n\"https://github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\n],\nsha256 = \"846d907acf472ae233ec0882ef3a2d24edbbe834b80c305e867ac65a1f2c59e3\",\nstrip_prefix = \"protobuf-396336eb961b75f03b25824fe86cf6490fb75e3a\",\n)\ntf_http_archive(\nname = \"com_google_protobuf_cc\",\nurls = [\n\"https://mirror.bazel.build/github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\n\"https://github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\n],\nsha256 = \"846d907acf472ae233ec0882ef3a2d24edbbe834b80c305e867ac65a1f2c59e3\",\nstrip_prefix = \"protobuf-396336eb961b75f03b25824fe86cf6490fb75e3a\",\n)`\nand the depthwise_conv_op_gpu.cu.cc, split_lib_gpu.cu.cc,concat_lib_gpu_impl.cu.cc in the  core/kernels,you need change all the lines like:\nextern __shared__ __align__(sizeof(T)) unsigned char smem[];\ninto\n extern __shared__  unsigned char smem[];\nby delete __align__(sizeof(T)) . Then everything will be OK.", "body": "The workspace.bzl in tensorflow directory should be modified as\r\n\r\n `tf_http_archive(\r\n      name = \"com_google_protobuf\",\r\n      urls = [\r\n          \"https://mirror.bazel.build/github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\r\n          \"https://github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\r\n      ],\r\n      sha256 = \"846d907acf472ae233ec0882ef3a2d24edbbe834b80c305e867ac65a1f2c59e3\",\r\n      strip_prefix = \"protobuf-396336eb961b75f03b25824fe86cf6490fb75e3a\",\r\n  )\r\n\r\n  tf_http_archive(\r\n      name = \"com_google_protobuf_cc\",\r\n      urls = [\r\n          \"https://mirror.bazel.build/github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\r\n          \"https://github.com/google/protobuf/archive/396336eb961b75f03b25824fe86cf6490fb75e3a.tar.gz\",\r\n      ],\r\n      sha256 = \"846d907acf472ae233ec0882ef3a2d24edbbe834b80c305e867ac65a1f2c59e3\",\r\n      strip_prefix = \"protobuf-396336eb961b75f03b25824fe86cf6490fb75e3a\",\r\n  )`\r\n\r\nand the depthwise_conv_op_gpu.cu.cc, split_lib_gpu.cu.cc,concat_lib_gpu_impl.cu.cc in the  core/kernels,you need change all the lines like:\r\n\r\n` extern __shared__ __align__(sizeof(T)) unsigned char smem[]; `\r\n\r\ninto \r\n\r\n` extern __shared__  unsigned char smem[];`\r\n\r\nby delete `__align__(sizeof(T))` . Then everything will be OK.\r\n\r\n\r\n\r\n\r\n "}