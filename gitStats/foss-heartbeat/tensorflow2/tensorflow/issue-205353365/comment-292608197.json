{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/292608197", "html_url": "https://github.com/tensorflow/tensorflow/issues/7258#issuecomment-292608197", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7258", "id": 292608197, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MjYwODE5Nw==", "user": {"login": "guschmue", "id": 22941064, "node_id": "MDQ6VXNlcjIyOTQxMDY0", "avatar_url": "https://avatars3.githubusercontent.com/u/22941064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guschmue", "html_url": "https://github.com/guschmue", "followers_url": "https://api.github.com/users/guschmue/followers", "following_url": "https://api.github.com/users/guschmue/following{/other_user}", "gists_url": "https://api.github.com/users/guschmue/gists{/gist_id}", "starred_url": "https://api.github.com/users/guschmue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guschmue/subscriptions", "organizations_url": "https://api.github.com/users/guschmue/orgs", "repos_url": "https://api.github.com/users/guschmue/repos", "events_url": "https://api.github.com/users/guschmue/events{/privacy}", "received_events_url": "https://api.github.com/users/guschmue/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-07T17:58:56Z", "updated_at": "2017-04-07T17:59:37Z", "author_association": "CONTRIBUTOR", "body_html": "<p>for 2:<br>\nyes, there is an example here: <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_tutorials.cmake\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_tutorials.cmake</a><br>\nIts using mostly object files instead of a library because of the way tensorflow registers ops.<br>\nThere is a static library generated here: <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_python.cmake#L692\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_python.cmake#L692</a><br>\nbut you'd need to link with /WHOLEARCHIVE to have op register correctly. pywrap_tensorflow_internal_static.lib includes the things python needs and for a standalone app you might need to add a few more things like tf_protos_cc, protobuf_STATIC_LIBRARIES ...</p>\n<p>for 1:<br>\nIn theory yes. This <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_python.cmake#L750\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_python.cmake#L750</a> nearly does this but there are a few issues with it if you want to link this way.<br>\nI think <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22799507\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vit-stepanovs\">@vit-stepanovs</a> was working on a tensorflow.dll that works out of the box.</p>", "body_text": "for 2:\nyes, there is an example here: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_tutorials.cmake\nIts using mostly object files instead of a library because of the way tensorflow registers ops.\nThere is a static library generated here: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_python.cmake#L692\nbut you'd need to link with /WHOLEARCHIVE to have op register correctly. pywrap_tensorflow_internal_static.lib includes the things python needs and for a standalone app you might need to add a few more things like tf_protos_cc, protobuf_STATIC_LIBRARIES ...\nfor 1:\nIn theory yes. This https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_python.cmake#L750 nearly does this but there are a few issues with it if you want to link this way.\nI think @vit-stepanovs was working on a tensorflow.dll that works out of the box.", "body": "for 2:\r\nyes, there is an example here: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_tutorials.cmake\r\nIts using mostly object files instead of a library because of the way tensorflow registers ops. \r\nThere is a static library generated here: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_python.cmake#L692\r\nbut you'd need to link with /WHOLEARCHIVE to have op register correctly. pywrap_tensorflow_internal_static.lib includes the things python needs and for a standalone app you might need to add a few more things like tf_protos_cc, protobuf_STATIC_LIBRARIES ...\r\n\r\nfor 1:\r\nIn theory yes. This https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/tf_python.cmake#L750 nearly does this but there are a few issues with it if you want to link this way. \r\nI think @vit-stepanovs was working on a tensorflow.dll that works out of the box."}