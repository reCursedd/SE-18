{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/248709723", "html_url": "https://github.com/tensorflow/tensorflow/issues/172#issuecomment-248709723", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/172", "id": 248709723, "node_id": "MDEyOklzc3VlQ29tbWVudDI0ODcwOTcyMw==", "user": {"login": "vladfi1", "id": 691536, "node_id": "MDQ6VXNlcjY5MTUzNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/691536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vladfi1", "html_url": "https://github.com/vladfi1", "followers_url": "https://api.github.com/users/vladfi1/followers", "following_url": "https://api.github.com/users/vladfi1/following{/other_user}", "gists_url": "https://api.github.com/users/vladfi1/gists{/gist_id}", "starred_url": "https://api.github.com/users/vladfi1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vladfi1/subscriptions", "organizations_url": "https://api.github.com/users/vladfi1/orgs", "repos_url": "https://api.github.com/users/vladfi1/repos", "events_url": "https://api.github.com/users/vladfi1/events{/privacy}", "received_events_url": "https://api.github.com/users/vladfi1/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-21T19:01:07Z", "updated_at": "2016-09-21T19:01:07Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I have a decent log-sum-exp implemented:</p>\n<pre><code>def log_sum_exp(xs):\n  maxes = tf.reduce_max(xs, keep_dims=True)\n  xs -= maxes\n  return tf.squeeze(maxes, [-1]) + tf.log(tf.reduce_sum(tf.exp(xs), -1))\n</code></pre>\n<p>I think (?) this should avoid any major numerical issues...</p>", "body_text": "I have a decent log-sum-exp implemented:\ndef log_sum_exp(xs):\n  maxes = tf.reduce_max(xs, keep_dims=True)\n  xs -= maxes\n  return tf.squeeze(maxes, [-1]) + tf.log(tf.reduce_sum(tf.exp(xs), -1))\n\nI think (?) this should avoid any major numerical issues...", "body": "I have a decent log-sum-exp implemented:\n\n```\ndef log_sum_exp(xs):\n  maxes = tf.reduce_max(xs, keep_dims=True)\n  xs -= maxes\n  return tf.squeeze(maxes, [-1]) + tf.log(tf.reduce_sum(tf.exp(xs), -1))\n```\n\nI think (?) this should avoid any major numerical issues...\n"}