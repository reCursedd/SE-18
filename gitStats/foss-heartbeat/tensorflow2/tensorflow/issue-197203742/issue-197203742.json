{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6458", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6458/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6458/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6458/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6458", "id": 197203742, "node_id": "MDU6SXNzdWUxOTcyMDM3NDI=", "number": 6458, "title": "BasicLSTMCell problem", "user": {"login": "sharod", "id": 3380293, "node_id": "MDQ6VXNlcjMzODAyOTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3380293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sharod", "html_url": "https://github.com/sharod", "followers_url": "https://api.github.com/users/sharod/followers", "following_url": "https://api.github.com/users/sharod/following{/other_user}", "gists_url": "https://api.github.com/users/sharod/gists{/gist_id}", "starred_url": "https://api.github.com/users/sharod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sharod/subscriptions", "organizations_url": "https://api.github.com/users/sharod/orgs", "repos_url": "https://api.github.com/users/sharod/repos", "events_url": "https://api.github.com/users/sharod/events{/privacy}", "received_events_url": "https://api.github.com/users/sharod/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-22T15:49:56Z", "updated_at": "2016-12-23T06:01:06Z", "closed_at": "2016-12-23T06:01:06Z", "author_association": "NONE", "body_html": "<p>In the ptb_rnn_lm.py I have replaced tf.contrib.rnn.BasicLSTMCell by tf.nn.rnn_cell.BasicLSTMCell as suggested in <a href=\"url\">https://github.com/tensorflow/tensorflow/issues/6432</a> but now a new error is being shown:</p>\n<p>Traceback (most recent call last):<br>\nFile \"ptb_word_lm.py\", line 362, in<br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv[:1] + flags_passthrough))<br>\nFile \"ptb_word_lm.py\", line 324, in main<br>\nm = PTBModel(is_training=True, config=config, input_=train_input)<br>\nFile \"ptb_word_lm.py\", line 110, in init<br>\nself._initial_state = cell.zero_state(batch_size, data_type())<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 166, in zero_state<br>\nfor s in state_size_flat]<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 79, in _state_size_with_prefix<br>\nresult_state_size = tensor_shape.as_shape(state_size).as_list()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 815, in as_shape<br>\nreturn TensorShape(shape)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 448, in init<br>\nself._dims = [as_dimension(dims)]<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 374, in as_dimension<br>\nreturn Dimension(value)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 33, in init<br>\nself._value = int(value)<br>\nTypeError: int() argument must be a string or a number, not 'BasicLSTMCell'</p>\n<p>Pls help soon !!</p>", "body_text": "In the ptb_rnn_lm.py I have replaced tf.contrib.rnn.BasicLSTMCell by tf.nn.rnn_cell.BasicLSTMCell as suggested in https://github.com/tensorflow/tensorflow/issues/6432 but now a new error is being shown:\nTraceback (most recent call last):\nFile \"ptb_word_lm.py\", line 362, in\ntf.app.run()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv[:1] + flags_passthrough))\nFile \"ptb_word_lm.py\", line 324, in main\nm = PTBModel(is_training=True, config=config, input_=train_input)\nFile \"ptb_word_lm.py\", line 110, in init\nself._initial_state = cell.zero_state(batch_size, data_type())\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 166, in zero_state\nfor s in state_size_flat]\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 79, in _state_size_with_prefix\nresult_state_size = tensor_shape.as_shape(state_size).as_list()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 815, in as_shape\nreturn TensorShape(shape)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 448, in init\nself._dims = [as_dimension(dims)]\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 374, in as_dimension\nreturn Dimension(value)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 33, in init\nself._value = int(value)\nTypeError: int() argument must be a string or a number, not 'BasicLSTMCell'\nPls help soon !!", "body": "In the ptb_rnn_lm.py I have replaced tf.contrib.rnn.BasicLSTMCell by tf.nn.rnn_cell.BasicLSTMCell as suggested in [https://github.com/tensorflow/tensorflow/issues/6432](url) but now a new error is being shown:\r\n\r\nTraceback (most recent call last):\r\nFile \"ptb_word_lm.py\", line 362, in\r\ntf.app.run()\r\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\r\nsys.exit(main(sys.argv[:1] + flags_passthrough))\r\nFile \"ptb_word_lm.py\", line 324, in main\r\nm = PTBModel(is_training=True, config=config, input_=train_input)\r\nFile \"ptb_word_lm.py\", line 110, in init\r\nself._initial_state = cell.zero_state(batch_size, data_type())\r\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 166, in zero_state\r\nfor s in state_size_flat]\r\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 79, in _state_size_with_prefix\r\nresult_state_size = tensor_shape.as_shape(state_size).as_list()\r\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 815, in as_shape\r\nreturn TensorShape(shape)\r\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 448, in init\r\nself._dims = [as_dimension(dims)]\r\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 374, in as_dimension\r\nreturn Dimension(value)\r\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 33, in init\r\nself._value = int(value)\r\nTypeError: int() argument must be a string or a number, not 'BasicLSTMCell'\r\n\r\nPls help soon !!"}