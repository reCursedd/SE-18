{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/400599077", "html_url": "https://github.com/tensorflow/tensorflow/issues/20309#issuecomment-400599077", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20309", "id": 400599077, "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDU5OTA3Nw==", "user": {"login": "moboehle", "id": 26657721, "node_id": "MDQ6VXNlcjI2NjU3NzIx", "avatar_url": "https://avatars0.githubusercontent.com/u/26657721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moboehle", "html_url": "https://github.com/moboehle", "followers_url": "https://api.github.com/users/moboehle/followers", "following_url": "https://api.github.com/users/moboehle/following{/other_user}", "gists_url": "https://api.github.com/users/moboehle/gists{/gist_id}", "starred_url": "https://api.github.com/users/moboehle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moboehle/subscriptions", "organizations_url": "https://api.github.com/users/moboehle/orgs", "repos_url": "https://api.github.com/users/moboehle/repos", "events_url": "https://api.github.com/users/moboehle/events{/privacy}", "received_events_url": "https://api.github.com/users/moboehle/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-27T09:04:15Z", "updated_at": "2018-06-27T09:04:15Z", "author_association": "NONE", "body_html": "<p>Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16018\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/asimshankar\">@asimshankar</a> for your quick response. I tried your fix and unfortunately, it seems to have messed up my current installation. I now get the following error</p>\n<pre><code>2018-06-27 10:56:57.354254: E tensorflow/stream_executor/cuda/cuda_dnn.cc:393] possibly insufficient driver version: 384.130.0\n2018-06-27 10:56:57.354261: E tensorflow/stream_executor/cuda/cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\n2018-06-27 10:56:57.354266: F tensorflow/core/kernels/conv_ops.cc:717] Check failed: stream-&gt;parent()-&gt;GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo&lt;T&gt;(), &amp;algorithms) \nAborted (core dumped)\n</code></pre>\n<p>The only thing that happened since my post yesterday was including the lines of code you provided. Removing the lines or resetting the layout optimizer does not fix this error, CUDA seems to be messed up somewhat now.<br>\nDo you have an idea what could be causing this?</p>\n<p>Furthermore, if I am not mistaken, this problem is not only related to the 1D convolution, the same computation time and memory increase occur in 2D convolutions, too. However, I cannot properly test this right now, since my installation is now faulty, but I remember seeing the same issue yesterday with 2D convolutions.</p>\n<p>Let me know if you need any extra information, thank you for your help!</p>", "body_text": "Thanks @asimshankar for your quick response. I tried your fix and unfortunately, it seems to have messed up my current installation. I now get the following error\n2018-06-27 10:56:57.354254: E tensorflow/stream_executor/cuda/cuda_dnn.cc:393] possibly insufficient driver version: 384.130.0\n2018-06-27 10:56:57.354261: E tensorflow/stream_executor/cuda/cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\n2018-06-27 10:56:57.354266: F tensorflow/core/kernels/conv_ops.cc:717] Check failed: stream->parent()->GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo<T>(), &algorithms) \nAborted (core dumped)\n\nThe only thing that happened since my post yesterday was including the lines of code you provided. Removing the lines or resetting the layout optimizer does not fix this error, CUDA seems to be messed up somewhat now.\nDo you have an idea what could be causing this?\nFurthermore, if I am not mistaken, this problem is not only related to the 1D convolution, the same computation time and memory increase occur in 2D convolutions, too. However, I cannot properly test this right now, since my installation is now faulty, but I remember seeing the same issue yesterday with 2D convolutions.\nLet me know if you need any extra information, thank you for your help!", "body": "Thanks @asimshankar for your quick response. I tried your fix and unfortunately, it seems to have messed up my current installation. I now get the following error\r\n~~~~\r\n2018-06-27 10:56:57.354254: E tensorflow/stream_executor/cuda/cuda_dnn.cc:393] possibly insufficient driver version: 384.130.0\r\n2018-06-27 10:56:57.354261: E tensorflow/stream_executor/cuda/cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\r\n2018-06-27 10:56:57.354266: F tensorflow/core/kernels/conv_ops.cc:717] Check failed: stream->parent()->GetConvolveAlgorithms( conv_parameters.ShouldIncludeWinogradNonfusedAlgo<T>(), &algorithms) \r\nAborted (core dumped)\r\n~~~~\r\nThe only thing that happened since my post yesterday was including the lines of code you provided. Removing the lines or resetting the layout optimizer does not fix this error, CUDA seems to be messed up somewhat now.\r\nDo you have an idea what could be causing this?\r\n\r\nFurthermore, if I am not mistaken, this problem is not only related to the 1D convolution, the same computation time and memory increase occur in 2D convolutions, too. However, I cannot properly test this right now, since my installation is now faulty, but I remember seeing the same issue yesterday with 2D convolutions.\r\n\r\nLet me know if you need any extra information, thank you for your help!"}