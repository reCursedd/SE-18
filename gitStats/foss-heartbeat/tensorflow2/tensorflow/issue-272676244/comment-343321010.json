{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/343321010", "html_url": "https://github.com/tensorflow/tensorflow/issues/14415#issuecomment-343321010", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14415", "id": 343321010, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzMyMTAxMA==", "user": {"login": "KevinLucidyne", "id": 19497849, "node_id": "MDQ6VXNlcjE5NDk3ODQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/19497849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KevinLucidyne", "html_url": "https://github.com/KevinLucidyne", "followers_url": "https://api.github.com/users/KevinLucidyne/followers", "following_url": "https://api.github.com/users/KevinLucidyne/following{/other_user}", "gists_url": "https://api.github.com/users/KevinLucidyne/gists{/gist_id}", "starred_url": "https://api.github.com/users/KevinLucidyne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KevinLucidyne/subscriptions", "organizations_url": "https://api.github.com/users/KevinLucidyne/orgs", "repos_url": "https://api.github.com/users/KevinLucidyne/repos", "events_url": "https://api.github.com/users/KevinLucidyne/events{/privacy}", "received_events_url": "https://api.github.com/users/KevinLucidyne/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-09T23:04:17Z", "updated_at": "2017-11-09T23:04:17Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=32465472\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/angersson\">@angersson</a> the fix breaks the build:</p>\n<pre><code> bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n...\nERROR: /home/kevin/Deadpool/tensorflow-master/tensorflow/python/BUILD:2990:1: undeclared inclusion(s) in rule '//tensorflow/python:_pywrap_tensorflow_internal.so':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/python/pywrap_tensorflow_internal.cc':\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/arrayobject.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/ndarrayobject.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/ndarraytypes.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_common.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/numpyconfig.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/_numpyconfig.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_endian.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_cpu.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/utils.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/_neighborhood_iterator_imp.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/__multiarray_api.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_interrupt.h'\nbazel-out/local_linux-py3-opt/bin/tensorflow/python/pywrap_tensorflow_internal.cc: In function 'PyObject* _wrap_PyRecordReader_New(PyObject*, PyObject*)':\nbazel-out/local_linux-py3-opt/bin/tensorflow/python/pywrap_tensorflow_internal.cc:6210:138: warning: 'arg2' may be used uninitialized in this function [-Wmaybe-uninitialized]\n     result = (tensorflow::io::PyRecordReader *)tensorflow::io::PyRecordReader::New((string const &amp;)*arg1,arg2,(string const &amp;)*arg3,arg4);\n                                                                                                                                          ^\nAt global scope:\ncc1plus: warning: unrecognized command line option \"-Wno-self-assign\"\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 1161.436s, Critical Path: 162.47s\nFAILED: Build did NOT complete successfully\n</code></pre>", "body_text": "@angersson the fix breaks the build:\n bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n...\nERROR: /home/kevin/Deadpool/tensorflow-master/tensorflow/python/BUILD:2990:1: undeclared inclusion(s) in rule '//tensorflow/python:_pywrap_tensorflow_internal.so':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/python/pywrap_tensorflow_internal.cc':\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/arrayobject.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/ndarrayobject.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/ndarraytypes.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_common.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/numpyconfig.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/_numpyconfig.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_endian.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_cpu.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/utils.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/_neighborhood_iterator_imp.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/__multiarray_api.h'\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_interrupt.h'\nbazel-out/local_linux-py3-opt/bin/tensorflow/python/pywrap_tensorflow_internal.cc: In function 'PyObject* _wrap_PyRecordReader_New(PyObject*, PyObject*)':\nbazel-out/local_linux-py3-opt/bin/tensorflow/python/pywrap_tensorflow_internal.cc:6210:138: warning: 'arg2' may be used uninitialized in this function [-Wmaybe-uninitialized]\n     result = (tensorflow::io::PyRecordReader *)tensorflow::io::PyRecordReader::New((string const &)*arg1,arg2,(string const &)*arg3,arg4);\n                                                                                                                                          ^\nAt global scope:\ncc1plus: warning: unrecognized command line option \"-Wno-self-assign\"\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 1161.436s, Critical Path: 162.47s\nFAILED: Build did NOT complete successfully", "body": "@angersson the fix breaks the build:\r\n```\r\n bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n...\r\nERROR: /home/kevin/Deadpool/tensorflow-master/tensorflow/python/BUILD:2990:1: undeclared inclusion(s) in rule '//tensorflow/python:_pywrap_tensorflow_internal.so':\r\nthis rule is missing dependency declarations for the following files included by 'tensorflow/python/pywrap_tensorflow_internal.cc':\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/arrayobject.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/ndarrayobject.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/ndarraytypes.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_common.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/numpyconfig.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/_numpyconfig.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_endian.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_cpu.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/utils.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/_neighborhood_iterator_imp.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/__multiarray_api.h'\r\n  'bazel-out/local_linux-py3-opt/genfiles/external/local_config_python/python_include/numpy/npy_interrupt.h'\r\nbazel-out/local_linux-py3-opt/bin/tensorflow/python/pywrap_tensorflow_internal.cc: In function 'PyObject* _wrap_PyRecordReader_New(PyObject*, PyObject*)':\r\nbazel-out/local_linux-py3-opt/bin/tensorflow/python/pywrap_tensorflow_internal.cc:6210:138: warning: 'arg2' may be used uninitialized in this function [-Wmaybe-uninitialized]\r\n     result = (tensorflow::io::PyRecordReader *)tensorflow::io::PyRecordReader::New((string const &)*arg1,arg2,(string const &)*arg3,arg4);\r\n                                                                                                                                          ^\r\nAt global scope:\r\ncc1plus: warning: unrecognized command line option \"-Wno-self-assign\"\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 1161.436s, Critical Path: 162.47s\r\nFAILED: Build did NOT complete successfully\r\n```"}