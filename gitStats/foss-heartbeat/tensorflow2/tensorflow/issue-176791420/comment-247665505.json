{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/247665505", "html_url": "https://github.com/tensorflow/tensorflow/issues/4368#issuecomment-247665505", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4368", "id": 247665505, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzY2NTUwNQ==", "user": {"login": "jorgehatccrma", "id": 1522348, "node_id": "MDQ6VXNlcjE1MjIzNDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1522348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgehatccrma", "html_url": "https://github.com/jorgehatccrma", "followers_url": "https://api.github.com/users/jorgehatccrma/followers", "following_url": "https://api.github.com/users/jorgehatccrma/following{/other_user}", "gists_url": "https://api.github.com/users/jorgehatccrma/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgehatccrma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgehatccrma/subscriptions", "organizations_url": "https://api.github.com/users/jorgehatccrma/orgs", "repos_url": "https://api.github.com/users/jorgehatccrma/repos", "events_url": "https://api.github.com/users/jorgehatccrma/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgehatccrma/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-16T17:55:15Z", "updated_at": "2016-09-16T17:55:15Z", "author_association": "NONE", "body_html": "<p>Could it be that Tensorflow relies on an older version of bazel to build for GPU (i.e. passing <code>--config=cuda</code>)? I say this because in <a href=\"https://github.com/bazelbuild/bazel/blob/master/CHANGELOG.md\">this bazel changelog</a>. In version 0.2.3 (2016-05-10), there's an entry that reads:</p>\n<blockquote>\n<p>The key for the map to cc_toolchain_suite.toolchains is now a string of the form \"cpu|compiler\" (previously, it was just \"cpu\").</p>\n</blockquote>\n<p>I then decided to compile bazel 0.2.2 (I was previously using 0.3.1) from source, and was finally able to successfully build with <code>--config=cuda</code>.</p>\n<p>I guess something should be changed somwhere in tensorflow to use the new key format, so it can build with the latest bazel.</p>", "body_text": "Could it be that Tensorflow relies on an older version of bazel to build for GPU (i.e. passing --config=cuda)? I say this because in this bazel changelog. In version 0.2.3 (2016-05-10), there's an entry that reads:\n\nThe key for the map to cc_toolchain_suite.toolchains is now a string of the form \"cpu|compiler\" (previously, it was just \"cpu\").\n\nI then decided to compile bazel 0.2.2 (I was previously using 0.3.1) from source, and was finally able to successfully build with --config=cuda.\nI guess something should be changed somwhere in tensorflow to use the new key format, so it can build with the latest bazel.", "body": "Could it be that Tensorflow relies on an older version of bazel to build for GPU (i.e. passing `--config=cuda`)? I say this because in [this bazel changelog](https://github.com/bazelbuild/bazel/blob/master/CHANGELOG.md). In version 0.2.3 (2016-05-10), there's an entry that reads:\n\n> The key for the map to cc_toolchain_suite.toolchains is now a string of the form \"cpu|compiler\" (previously, it was just \"cpu\").\n\nI then decided to compile bazel 0.2.2 (I was previously using 0.3.1) from source, and was finally able to successfully build with `--config=cuda`.\n\nI guess something should be changed somwhere in tensorflow to use the new key format, so it can build with the latest bazel.\n"}