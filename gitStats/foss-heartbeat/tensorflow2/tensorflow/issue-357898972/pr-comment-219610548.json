{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/219610548", "pull_request_review_id": 157837275, "id": 219610548, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTYxMDU0OA==", "diff_hunk": "@@ -86,7 +87,8 @@ def report_uninitialized_resources(resource_list=None,\n     resource_list = shared_resources() + local_resources()\n   with ops.name_scope(name):\n     # Run all operations on CPU\n-    with ops.device(\"/cpu:0\"):\n+    local_device = os.environ.get(\"TF_LOCAL_DEVICE\", \"/cpu:0\")", "path": "tensorflow/python/ops/resources.py", "position": null, "original_position": 13, "commit_id": "84209c3bd430f82ef247f668f8bf8b1f77420b6e", "original_commit_id": "5d2226e93d48c1f4a0730edc573b886cc6b87e68", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "body": "TF_LOCAL_DEVICE is very generic, and I don't think users will know what it means either.\r\n\r\nIn particular, since this is not documented, nobody will know what this does without looking through the code. I'm not sure we necessarily want to widely broadcast this, but I agree with @ispirmustafa that a more descriptive name for the environment variable would be better. Maybe TF_DEVICE_FOR_UNINITIALIZED_VARIABLE_REPORTING? Since that's all it's used for.", "created_at": "2018-09-21T19:55:13Z", "updated_at": "2018-10-06T08:05:58Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/22136#discussion_r219610548", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/22136", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/219610548"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/22136#discussion_r219610548"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/22136"}}, "body_html": "<p>TF_LOCAL_DEVICE is very generic, and I don't think users will know what it means either.</p>\n<p>In particular, since this is not documented, nobody will know what this does without looking through the code. I'm not sure we necessarily want to widely broadcast this, but I agree with <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=19293677\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ispirmustafa\">@ispirmustafa</a> that a more descriptive name for the environment variable would be better. Maybe TF_DEVICE_FOR_UNINITIALIZED_VARIABLE_REPORTING? Since that's all it's used for.</p>", "body_text": "TF_LOCAL_DEVICE is very generic, and I don't think users will know what it means either.\nIn particular, since this is not documented, nobody will know what this does without looking through the code. I'm not sure we necessarily want to widely broadcast this, but I agree with @ispirmustafa that a more descriptive name for the environment variable would be better. Maybe TF_DEVICE_FOR_UNINITIALIZED_VARIABLE_REPORTING? Since that's all it's used for.", "in_reply_to_id": 217228241}