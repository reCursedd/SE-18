{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/345548923", "html_url": "https://github.com/tensorflow/tensorflow/issues/12101#issuecomment-345548923", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12101", "id": 345548923, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTU0ODkyMw==", "user": {"login": "CD1010", "id": 7614498, "node_id": "MDQ6VXNlcjc2MTQ0OTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/7614498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CD1010", "html_url": "https://github.com/CD1010", "followers_url": "https://api.github.com/users/CD1010/followers", "following_url": "https://api.github.com/users/CD1010/following{/other_user}", "gists_url": "https://api.github.com/users/CD1010/gists{/gist_id}", "starred_url": "https://api.github.com/users/CD1010/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CD1010/subscriptions", "organizations_url": "https://api.github.com/users/CD1010/orgs", "repos_url": "https://api.github.com/users/CD1010/repos", "events_url": "https://api.github.com/users/CD1010/events{/privacy}", "received_events_url": "https://api.github.com/users/CD1010/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-19T20:56:40Z", "updated_at": "2017-11-19T20:56:40Z", "author_association": "NONE", "body_html": "<p>Fails for me under ubuntu 17.10  running cuda 9 and cudnn 7.0.4<br>\nused gcc 5.4 compiler<br>\nGot following errors:</p>\n<p>chris@Rearden:<del>/tensorflow$ bazel clean<br>\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.<br>\nchris@Rearden:</del>/tensorflow$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\"<br>\nWARNING: /home/chris/tensorflow/tensorflow/core/BUILD:1781:1: in includes attribute of cc_library rule //tensorflow/core:framework_headers_lib: '../../external/nsync/public' resolves to 'external/nsync/public' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/chris/tensorflow/tensorflow/tensorflow.bzl:1044:30<br>\nWARNING: /home/chris/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.<br>\nWARNING: /home/chris/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.<br>\nINFO: Analysed target //tensorflow/tools/pip_package:build_pip_package (210 packages loaded).<br>\nINFO: Found 1 target...<br>\nINFO: From Compiling external/snappy/snappy-sinksource.cc [for host]:<br>\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++<br>\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'<br>\nINFO: From Compiling external/snappy/snappy-stubs-internal.cc [for host]:<br>\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++<br>\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'<br>\nINFO: From Compiling external/snappy/snappy-c.cc [for host]:<br>\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++<br>\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'<br>\nINFO: From Compiling external/snappy/snappy.cc [for host]:<br>\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++<br>\nexternal/snappy/snappy.cc: In member function 'void snappy::SnappySinkAllocator::Flush(size_t)':<br>\nexternal/snappy/snappy.cc:1403:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]<br>\nfor (int i = 0; i &lt; blocks_.size(); ++i) {<br>\n^<br>\nIn file included from external/snappy/snappy-internal.h:34:0,<br>\nfrom external/snappy/snappy.cc:30:<br>\nexternal/snappy/snappy.cc: In instantiation of 'bool snappy::SnappyScatteredWriter::AppendFromSelf(size_t, size_t) [with Allocator = snappy::SnappySinkAllocator; size_t = long unsigned int]':<br>\nexternal/snappy/snappy.cc:715:13:   required from 'void snappy::SnappyDecompressor::DecompressAllTags(Writer*) [with Writer = snappy::SnappyScatteredWritersnappy::SnappySinkAllocator]'<br>\nexternal/snappy/snappy.cc:799:3:   required from 'bool snappy::InternalUncompressAllTags(snappy::SnappyDecompressor*, Writer*, snappy::uint32) [with Writer = snappy::SnappyScatteredWritersnappy::SnappySinkAllocator; snappy::uint32 = unsigned int]'<br>\nexternal/snappy/snappy.cc:1460:78:   required from here<br>\nexternal/snappy/snappy.cc:1316:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]<br>\nif (PREDICT_TRUE(offset - 1u &lt; op_ptr_ - op_base_ &amp;&amp; op_end &lt;= op_limit_)) {<br>\n^<br>\nexternal/snappy/snappy-stubs-internal.h:80:25: note: in definition of macro 'PREDICT_TRUE'<br>\n#define PREDICT_TRUE(x) x<br>\n^<br>\nAt global scope:<br>\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'<br>\nERROR: /home/chris/.cache/bazel/_bazel_chris/a819f6789d392dd47d3107e5934b6ad1/external/com_googlesource_code_re2/BUILD:11:1: C++ compilation of rule '@com_googlesource_code_re2//:re2' failed (Exit 1)<br>\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc: In member function 'std::__cxx11::string re2::PrefilterTree::NodeString(re2::Prefilter*) const':<br>\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc:116:14: error: 'to_string' is not a member of 'std'<br>\nstring s = std::to_string(node-&gt;op()) + \":\";<br>\n^<br>\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc:123:12: error: 'to_string' is not a member of 'std'<br>\ns += std::to_string((<em>node-&gt;subs())[i]-&gt;unique_id());<br>\n^<br>\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc: In member function 'std::__cxx11::string re2::PrefilterTree::DebugNodeString(re2::Prefilter</em>) const':<br>\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc:392:22: error: 'to_string' is not a member of 'std'<br>\nnode_string += std::to_string((*node-&gt;subs())[i]-&gt;unique_id());<br>\n^<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 10.937s, Critical Path: 3.14s<br>\nFAILED: Build did NOT complete successfully</p>", "body_text": "Fails for me under ubuntu 17.10  running cuda 9 and cudnn 7.0.4\nused gcc 5.4 compiler\nGot following errors:\nchris@Rearden:/tensorflow$ bazel clean\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\nchris@Rearden:/tensorflow$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\"\nWARNING: /home/chris/tensorflow/tensorflow/core/BUILD:1781:1: in includes attribute of cc_library rule //tensorflow/core:framework_headers_lib: '../../external/nsync/public' resolves to 'external/nsync/public' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/chris/tensorflow/tensorflow/tensorflow.bzl:1044:30\nWARNING: /home/chris/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.\nWARNING: /home/chris/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.\nINFO: Analysed target //tensorflow/tools/pip_package:build_pip_package (210 packages loaded).\nINFO: Found 1 target...\nINFO: From Compiling external/snappy/snappy-sinksource.cc [for host]:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'\nINFO: From Compiling external/snappy/snappy-stubs-internal.cc [for host]:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'\nINFO: From Compiling external/snappy/snappy-c.cc [for host]:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'\nINFO: From Compiling external/snappy/snappy.cc [for host]:\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\nexternal/snappy/snappy.cc: In member function 'void snappy::SnappySinkAllocator::Flush(size_t)':\nexternal/snappy/snappy.cc:1403:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\nfor (int i = 0; i < blocks_.size(); ++i) {\n^\nIn file included from external/snappy/snappy-internal.h:34:0,\nfrom external/snappy/snappy.cc:30:\nexternal/snappy/snappy.cc: In instantiation of 'bool snappy::SnappyScatteredWriter::AppendFromSelf(size_t, size_t) [with Allocator = snappy::SnappySinkAllocator; size_t = long unsigned int]':\nexternal/snappy/snappy.cc:715:13:   required from 'void snappy::SnappyDecompressor::DecompressAllTags(Writer*) [with Writer = snappy::SnappyScatteredWritersnappy::SnappySinkAllocator]'\nexternal/snappy/snappy.cc:799:3:   required from 'bool snappy::InternalUncompressAllTags(snappy::SnappyDecompressor*, Writer*, snappy::uint32) [with Writer = snappy::SnappyScatteredWritersnappy::SnappySinkAllocator; snappy::uint32 = unsigned int]'\nexternal/snappy/snappy.cc:1460:78:   required from here\nexternal/snappy/snappy.cc:1316:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\nif (PREDICT_TRUE(offset - 1u < op_ptr_ - op_base_ && op_end <= op_limit_)) {\n^\nexternal/snappy/snappy-stubs-internal.h:80:25: note: in definition of macro 'PREDICT_TRUE'\n#define PREDICT_TRUE(x) x\n^\nAt global scope:\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'\nERROR: /home/chris/.cache/bazel/_bazel_chris/a819f6789d392dd47d3107e5934b6ad1/external/com_googlesource_code_re2/BUILD:11:1: C++ compilation of rule '@com_googlesource_code_re2//:re2' failed (Exit 1)\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc: In member function 'std::__cxx11::string re2::PrefilterTree::NodeString(re2::Prefilter*) const':\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc:116:14: error: 'to_string' is not a member of 'std'\nstring s = std::to_string(node->op()) + \":\";\n^\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc:123:12: error: 'to_string' is not a member of 'std'\ns += std::to_string((node->subs())[i]->unique_id());\n^\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc: In member function 'std::__cxx11::string re2::PrefilterTree::DebugNodeString(re2::Prefilter) const':\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc:392:22: error: 'to_string' is not a member of 'std'\nnode_string += std::to_string((*node->subs())[i]->unique_id());\n^\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 10.937s, Critical Path: 3.14s\nFAILED: Build did NOT complete successfully", "body": "Fails for me under ubuntu 17.10  running cuda 9 and cudnn 7.0.4\r\nused gcc 5.4 compiler\r\nGot following errors:\r\n\r\nchris@Rearden:~/tensorflow$ bazel clean\r\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\r\nchris@Rearden:~/tensorflow$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\"\r\nWARNING: /home/chris/tensorflow/tensorflow/core/BUILD:1781:1: in includes attribute of cc_library rule //tensorflow/core:framework_headers_lib: '../../external/nsync/public' resolves to 'external/nsync/public' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/chris/tensorflow/tensorflow/tensorflow.bzl:1044:30\r\nWARNING: /home/chris/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.\r\nWARNING: /home/chris/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.\r\nINFO: Analysed target //tensorflow/tools/pip_package:build_pip_package (210 packages loaded).\r\nINFO: Found 1 target...\r\nINFO: From Compiling external/snappy/snappy-sinksource.cc [for host]:\r\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'\r\nINFO: From Compiling external/snappy/snappy-stubs-internal.cc [for host]:\r\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'\r\nINFO: From Compiling external/snappy/snappy-c.cc [for host]:\r\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'\r\nINFO: From Compiling external/snappy/snappy.cc [for host]:\r\ncc1plus: warning: command line option '-Wno-implicit-function-declaration' is valid for C/ObjC but not for C++\r\nexternal/snappy/snappy.cc: In member function 'void snappy::SnappySinkAllocator::Flush(size_t)':\r\nexternal/snappy/snappy.cc:1403:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n     for (int i = 0; i < blocks_.size(); ++i) {\r\n                       ^\r\nIn file included from external/snappy/snappy-internal.h:34:0,\r\n                 from external/snappy/snappy.cc:30:\r\nexternal/snappy/snappy.cc: In instantiation of 'bool snappy::SnappyScatteredWriter<Allocator>::AppendFromSelf(size_t, size_t) [with Allocator = snappy::SnappySinkAllocator; size_t = long unsigned int]':\r\nexternal/snappy/snappy.cc:715:13:   required from 'void snappy::SnappyDecompressor::DecompressAllTags(Writer*) [with Writer = snappy::SnappyScatteredWriter<snappy::SnappySinkAllocator>]'\r\nexternal/snappy/snappy.cc:799:3:   required from 'bool snappy::InternalUncompressAllTags(snappy::SnappyDecompressor*, Writer*, snappy::uint32) [with Writer = snappy::SnappyScatteredWriter<snappy::SnappySinkAllocator>; snappy::uint32 = unsigned int]'\r\nexternal/snappy/snappy.cc:1460:78:   required from here\r\nexternal/snappy/snappy.cc:1316:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n     if (PREDICT_TRUE(offset - 1u < op_ptr_ - op_base_ && op_end <= op_limit_)) {\r\n                                  ^\r\nexternal/snappy/snappy-stubs-internal.h:80:25: note: in definition of macro 'PREDICT_TRUE'\r\n #define PREDICT_TRUE(x) x\r\n                         ^\r\nAt global scope:\r\ncc1plus: warning: unrecognized command line option '-Wno-shift-negative-value'\r\nERROR: /home/chris/.cache/bazel/_bazel_chris/a819f6789d392dd47d3107e5934b6ad1/external/com_googlesource_code_re2/BUILD:11:1: C++ compilation of rule '@com_googlesource_code_re2//:re2' failed (Exit 1)\r\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc: In member function 'std::__cxx11::string re2::PrefilterTree::NodeString(re2::Prefilter*) const':\r\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc:116:14: error: 'to_string' is not a member of 'std'\r\n   string s = std::to_string(node->op()) + \":\";\r\n              ^\r\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc:123:12: error: 'to_string' is not a member of 'std'\r\n       s += std::to_string((*node->subs())[i]->unique_id());\r\n            ^\r\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc: In member function 'std::__cxx11::string re2::PrefilterTree::DebugNodeString(re2::Prefilter*) const':\r\nexternal/com_googlesource_code_re2/re2/prefilter_tree.cc:392:22: error: 'to_string' is not a member of 'std'\r\n       node_string += std::to_string((*node->subs())[i]->unique_id());\r\n                      ^\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 10.937s, Critical Path: 3.14s\r\nFAILED: Build did NOT complete successfully\r\n"}