{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12251", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12251/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12251/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12251/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12251", "id": 249876463, "node_id": "MDU6SXNzdWUyNDk4NzY0NjM=", "number": 12251, "title": "an error occurred which is \"No algorithm without scratch worked \" when using tensorflow to train data", "user": {"login": "easonhuo", "id": 28940540, "node_id": "MDQ6VXNlcjI4OTQwNTQw", "avatar_url": "https://avatars1.githubusercontent.com/u/28940540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/easonhuo", "html_url": "https://github.com/easonhuo", "followers_url": "https://api.github.com/users/easonhuo/followers", "following_url": "https://api.github.com/users/easonhuo/following{/other_user}", "gists_url": "https://api.github.com/users/easonhuo/gists{/gist_id}", "starred_url": "https://api.github.com/users/easonhuo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/easonhuo/subscriptions", "organizations_url": "https://api.github.com/users/easonhuo/orgs", "repos_url": "https://api.github.com/users/easonhuo/repos", "events_url": "https://api.github.com/users/easonhuo/events{/privacy}", "received_events_url": "https://api.github.com/users/easonhuo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-13T14:17:04Z", "updated_at": "2017-11-14T20:17:45Z", "closed_at": "2017-11-14T20:17:12Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<a href=\"https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.2.1-cp36-cp36m-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.2.1-cp36-cp36m-linux_x86_64.whl</a></li>\n<li><strong>TensorFlow version (use command below)</strong>:'1.2.1'</li>\n<li><strong>Python version</strong>: 3.6.2</li>\n<li><strong>Bazel version (if compiling from source)</strong>:</li>\n<li><strong>CUDA/cuDNN version</strong>:cuda-8.0/cudnn-5.1</li>\n<li><strong>GPU model and memory</strong>:nvidia Tesla K80 /11G</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>when I use tensorflow to train my model, an error always occur when my my data size is larger than [250,250,250].</p>\n<h3>Source code / logs</h3>\n<h3>this  is my code :</h3>\n<pre><code>import tensorflow as tf\nimport numpy as np\nn=250\nx_train=np.arange(n*n*n).reshape([1,n,n,n,1])\ny_train=np.zeros(n*n*n)\ntf_x = tf.placeholder(tf.float32,[1,None,None,None,1])\ntf_y = tf.placeholder(tf.int64,[None])\noutput=tf.layers.conv3d(tf_x,\n                        filters=2,\n                        kernel_size=(2,2,2),\n                        strides=(1,1,1), \n                        padding=\"same\",\n                        activation=tf.nn.relu)\n\nlogits = tf.reshape(output, [-1, 2])\ncross_entropy = tf.nn.sparse_softmax_cross_entropy_with_logits(logits=logits, labels=tf_y)\nloss = tf.reduce_mean(cross_entropy)\ntrain_step = tf.train.AdamOptimizer(1e-6).minimize(loss)\nwith tf.Session() as sess:\n    sess.run(tf.global_variables_initializer())\n    sess.run(train_step,feed_dict={tf_x:x_train,tf_y:y_train})\n    print(sess.run(loss,feed_dict={tf_x:x_train,tf_y:y_train}))\n</code></pre>\n<h3>This is the error I met:</h3>\n<pre><code>`NotFoundError                             Traceback (most recent call last)\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _do_call(self, fn, *args)\n   1138     try:\n-&gt; 1139       return fn(*args)\n   1140     except errors.OpError as e:\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _run_fn(session, feed_dict, fetch_list, target_list, options, run_metadata)\n   1120                                  feed_dict, fetch_list, target_list,\n-&gt; 1121                                  status, run_metadata)\n   1122 \n\n/data/conda/lib/python3.6/contextlib.py in __exit__(self, type, value, traceback)\n     87             try:\n---&gt; 88                 next(self.gen)\n     89             except StopIteration:\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py in raise_exception_on_not_ok_status()\n    465           compat.as_text(pywrap_tensorflow.TF_Message(status)),\n--&gt; 466           pywrap_tensorflow.TF_GetCode(status))\n    467   finally:\n\nNotFoundError: No algorithm without scratch worked!\n\t [[Node: gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2 = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/gpu:0\"](gradients_2/conv3d_3/convolution_grad/Shape, conv3d_2/kernel/read, gradients_2/conv3d_3/BiasAdd_grad/tuple/control_dependency)]]\n\nDuring handling of the above exception, another exception occurred:\n\nNotFoundError                             Traceback (most recent call last)\n&lt;ipython-input-10-78d05b6135a4&gt; in &lt;module&gt;()\n     19 with tf.Session() as sess:\n     20     sess.run(tf.global_variables_initializer())\n---&gt; 21     sess.run(train_step,feed_dict={tf_x:x_train,tf_y:y_train})\n     22     print(sess.run(loss,feed_dict={tf_x:x_train,tf_y:y_train}))\n     23 #     print(sess.run(loss,feed_dict={tf_x:x_train,tf_y:y_train}))\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in run(self, fetches, feed_dict, options, run_metadata)\n    787     try:\n    788       result = self._run(None, fetches, feed_dict, options_ptr,\n--&gt; 789                          run_metadata_ptr)\n    790       if run_metadata:\n    791         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _run(self, handle, fetches, feed_dict, options, run_metadata)\n    995     if final_fetches or final_targets:\n    996       results = self._do_run(handle, final_targets, final_fetches,\n--&gt; 997                              feed_dict_string, options, run_metadata)\n    998     else:\n    999       results = []\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\n   1130     if handle is None:\n   1131       return self._do_call(_run_fn, self._session, feed_dict, fetch_list,\n-&gt; 1132                            target_list, options, run_metadata)\n   1133     else:\n   1134       return self._do_call(_prun_fn, self._session, handle, feed_dict,\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _do_call(self, fn, *args)\n   1150         except KeyError:\n   1151           pass\n-&gt; 1152       raise type(e)(node_def, op, message)\n   1153 \n   1154   def _extend_graph(self):\n\nNotFoundError: No algorithm without scratch worked!\n\t [[Node: gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2 = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/gpu:0\"](gradients_2/conv3d_3/convolution_grad/Shape, conv3d_2/kernel/read, gradients_2/conv3d_3/BiasAdd_grad/tuple/control_dependency)]]\n\nCaused by op 'gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2', defined at:\n  File \"/data/conda/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/data/conda/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel_launcher.py\", line 16, in &lt;module&gt;\n    app.launch_new_instance()\n  File \"/data/conda/lib/python3.6/site-packages/traitlets/config/application.py\", line 658, in launch_instance\n    app.start()\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelapp.py\", line 477, in start\n    ioloop.IOLoop.instance().start()\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/ioloop.py\", line 177, in start\n    super(ZMQIOLoop, self).start()\n  File \"/data/conda/lib/python3.6/site-packages/tornado/ioloop.py\", line 888, in start\n    handler_func(fd_obj, events)\n  File \"/data/conda/lib/python3.6/site-packages/tornado/stack_context.py\", line 277, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 440, in _handle_events\n    self._handle_recv()\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 472, in _handle_recv\n    self._run_callback(callback, msg)\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 414, in _run_callback\n    callback(*args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/tornado/stack_context.py\", line 277, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 283, in dispatcher\n    return self.dispatch_shell(stream, msg)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 235, in dispatch_shell\n    handler(stream, idents, msg)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 399, in execute_request\n    user_expressions, allow_stdin)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/ipkernel.py\", line 196, in do_execute\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/zmqshell.py\", line 533, in run_cell\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2698, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2802, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2862, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-10-78d05b6135a4&gt;\", line 18, in &lt;module&gt;\n    train_step = tf.train.AdamOptimizer(1e-6).minimize(loss)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/training/optimizer.py\", line 315, in minimize\n    grad_loss=grad_loss)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/training/optimizer.py\", line 386, in compute_gradients\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gradients_impl.py\", line 540, in gradients\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gradients_impl.py\", line 346, in _MaybeCompile\n    return grad_fn()  # Exit early\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gradients_impl.py\", line 540, in &lt;lambda&gt;\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_grad.py\", line 80, in _Conv3DGrad\n    data_format=data_format),\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 666, in conv3d_backprop_input_v2\n    name=name)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 767, in apply_op\n    op_def=op_def)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 2506, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1269, in __init__\n    self._traceback = _extract_stack()\n\n...which was originally created as op 'conv3d_3/convolution', defined at:\n  File \"/data/conda/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n[elided 18 identical lines from previous traceback]\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2862, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-10-78d05b6135a4&gt;\", line 13, in &lt;module&gt;\n    activation=tf.nn.relu)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/convolutional.py\", line 728, in conv3d\n    return layer.apply(inputs)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/base.py\", line 492, in apply\n    return self.__call__(inputs, *args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/base.py\", line 441, in __call__\n    outputs = self.call(inputs, *args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/convolutional.py\", line 158, in call\n    data_format=utils.convert_data_format(self.data_format, self.rank + 2))\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 670, in convolution\n    op=op)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 338, in with_space_to_batch\n    return op(input, num_spatial_dims, padding)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 662, in op\n    name=name)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 146, in _non_atrous_convolution\n    name=name)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 526, in conv3d\n    data_format=data_format, name=name)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 767, in apply_op\n    op_def=op_def)\n\nNotFoundError (see above for traceback): No algorithm without scratch worked!\n\t [[Node: gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2 = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/gpu:0\"](gradients_2/conv3d_3/convolution_grad/Shape, conv3d_2/kernel/read, gradients_2/conv3d_3/BiasAdd_grad/tuple/control_dependency)]]`\n</code></pre>", "body_text": "System information\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):Ubuntu 16.04\nTensorFlow installed from (source or binary):https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.2.1-cp36-cp36m-linux_x86_64.whl\nTensorFlow version (use command below):'1.2.1'\nPython version: 3.6.2\nBazel version (if compiling from source):\nCUDA/cuDNN version:cuda-8.0/cudnn-5.1\nGPU model and memory:nvidia Tesla K80 /11G\n\nDescribe the problem\nwhen I use tensorflow to train my model, an error always occur when my my data size is larger than [250,250,250].\nSource code / logs\nthis  is my code :\nimport tensorflow as tf\nimport numpy as np\nn=250\nx_train=np.arange(n*n*n).reshape([1,n,n,n,1])\ny_train=np.zeros(n*n*n)\ntf_x = tf.placeholder(tf.float32,[1,None,None,None,1])\ntf_y = tf.placeholder(tf.int64,[None])\noutput=tf.layers.conv3d(tf_x,\n                        filters=2,\n                        kernel_size=(2,2,2),\n                        strides=(1,1,1), \n                        padding=\"same\",\n                        activation=tf.nn.relu)\n\nlogits = tf.reshape(output, [-1, 2])\ncross_entropy = tf.nn.sparse_softmax_cross_entropy_with_logits(logits=logits, labels=tf_y)\nloss = tf.reduce_mean(cross_entropy)\ntrain_step = tf.train.AdamOptimizer(1e-6).minimize(loss)\nwith tf.Session() as sess:\n    sess.run(tf.global_variables_initializer())\n    sess.run(train_step,feed_dict={tf_x:x_train,tf_y:y_train})\n    print(sess.run(loss,feed_dict={tf_x:x_train,tf_y:y_train}))\n\nThis is the error I met:\n`NotFoundError                             Traceback (most recent call last)\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _do_call(self, fn, *args)\n   1138     try:\n-> 1139       return fn(*args)\n   1140     except errors.OpError as e:\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _run_fn(session, feed_dict, fetch_list, target_list, options, run_metadata)\n   1120                                  feed_dict, fetch_list, target_list,\n-> 1121                                  status, run_metadata)\n   1122 \n\n/data/conda/lib/python3.6/contextlib.py in __exit__(self, type, value, traceback)\n     87             try:\n---> 88                 next(self.gen)\n     89             except StopIteration:\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py in raise_exception_on_not_ok_status()\n    465           compat.as_text(pywrap_tensorflow.TF_Message(status)),\n--> 466           pywrap_tensorflow.TF_GetCode(status))\n    467   finally:\n\nNotFoundError: No algorithm without scratch worked!\n\t [[Node: gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2 = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/gpu:0\"](gradients_2/conv3d_3/convolution_grad/Shape, conv3d_2/kernel/read, gradients_2/conv3d_3/BiasAdd_grad/tuple/control_dependency)]]\n\nDuring handling of the above exception, another exception occurred:\n\nNotFoundError                             Traceback (most recent call last)\n<ipython-input-10-78d05b6135a4> in <module>()\n     19 with tf.Session() as sess:\n     20     sess.run(tf.global_variables_initializer())\n---> 21     sess.run(train_step,feed_dict={tf_x:x_train,tf_y:y_train})\n     22     print(sess.run(loss,feed_dict={tf_x:x_train,tf_y:y_train}))\n     23 #     print(sess.run(loss,feed_dict={tf_x:x_train,tf_y:y_train}))\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in run(self, fetches, feed_dict, options, run_metadata)\n    787     try:\n    788       result = self._run(None, fetches, feed_dict, options_ptr,\n--> 789                          run_metadata_ptr)\n    790       if run_metadata:\n    791         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _run(self, handle, fetches, feed_dict, options, run_metadata)\n    995     if final_fetches or final_targets:\n    996       results = self._do_run(handle, final_targets, final_fetches,\n--> 997                              feed_dict_string, options, run_metadata)\n    998     else:\n    999       results = []\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\n   1130     if handle is None:\n   1131       return self._do_call(_run_fn, self._session, feed_dict, fetch_list,\n-> 1132                            target_list, options, run_metadata)\n   1133     else:\n   1134       return self._do_call(_prun_fn, self._session, handle, feed_dict,\n\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _do_call(self, fn, *args)\n   1150         except KeyError:\n   1151           pass\n-> 1152       raise type(e)(node_def, op, message)\n   1153 \n   1154   def _extend_graph(self):\n\nNotFoundError: No algorithm without scratch worked!\n\t [[Node: gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2 = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/gpu:0\"](gradients_2/conv3d_3/convolution_grad/Shape, conv3d_2/kernel/read, gradients_2/conv3d_3/BiasAdd_grad/tuple/control_dependency)]]\n\nCaused by op 'gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2', defined at:\n  File \"/data/conda/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/data/conda/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel_launcher.py\", line 16, in <module>\n    app.launch_new_instance()\n  File \"/data/conda/lib/python3.6/site-packages/traitlets/config/application.py\", line 658, in launch_instance\n    app.start()\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelapp.py\", line 477, in start\n    ioloop.IOLoop.instance().start()\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/ioloop.py\", line 177, in start\n    super(ZMQIOLoop, self).start()\n  File \"/data/conda/lib/python3.6/site-packages/tornado/ioloop.py\", line 888, in start\n    handler_func(fd_obj, events)\n  File \"/data/conda/lib/python3.6/site-packages/tornado/stack_context.py\", line 277, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 440, in _handle_events\n    self._handle_recv()\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 472, in _handle_recv\n    self._run_callback(callback, msg)\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 414, in _run_callback\n    callback(*args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/tornado/stack_context.py\", line 277, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 283, in dispatcher\n    return self.dispatch_shell(stream, msg)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 235, in dispatch_shell\n    handler(stream, idents, msg)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 399, in execute_request\n    user_expressions, allow_stdin)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/ipkernel.py\", line 196, in do_execute\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/zmqshell.py\", line 533, in run_cell\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2698, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2802, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2862, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-10-78d05b6135a4>\", line 18, in <module>\n    train_step = tf.train.AdamOptimizer(1e-6).minimize(loss)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/training/optimizer.py\", line 315, in minimize\n    grad_loss=grad_loss)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/training/optimizer.py\", line 386, in compute_gradients\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gradients_impl.py\", line 540, in gradients\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gradients_impl.py\", line 346, in _MaybeCompile\n    return grad_fn()  # Exit early\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gradients_impl.py\", line 540, in <lambda>\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_grad.py\", line 80, in _Conv3DGrad\n    data_format=data_format),\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 666, in conv3d_backprop_input_v2\n    name=name)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 767, in apply_op\n    op_def=op_def)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 2506, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1269, in __init__\n    self._traceback = _extract_stack()\n\n...which was originally created as op 'conv3d_3/convolution', defined at:\n  File \"/data/conda/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n[elided 18 identical lines from previous traceback]\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2862, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-10-78d05b6135a4>\", line 13, in <module>\n    activation=tf.nn.relu)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/convolutional.py\", line 728, in conv3d\n    return layer.apply(inputs)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/base.py\", line 492, in apply\n    return self.__call__(inputs, *args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/base.py\", line 441, in __call__\n    outputs = self.call(inputs, *args, **kwargs)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/convolutional.py\", line 158, in call\n    data_format=utils.convert_data_format(self.data_format, self.rank + 2))\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 670, in convolution\n    op=op)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 338, in with_space_to_batch\n    return op(input, num_spatial_dims, padding)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 662, in op\n    name=name)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 146, in _non_atrous_convolution\n    name=name)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 526, in conv3d\n    data_format=data_format, name=name)\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 767, in apply_op\n    op_def=op_def)\n\nNotFoundError (see above for traceback): No algorithm without scratch worked!\n\t [[Node: gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2 = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/gpu:0\"](gradients_2/conv3d_3/convolution_grad/Shape, conv3d_2/kernel/read, gradients_2/conv3d_3/BiasAdd_grad/tuple/control_dependency)]]`", "body": "### System information\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**:https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.2.1-cp36-cp36m-linux_x86_64.whl\r\n- **TensorFlow version (use command below)**:'1.2.1'\r\n- **Python version**: 3.6.2\r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:cuda-8.0/cudnn-5.1\r\n- **GPU model and memory**:nvidia Tesla K80 /11G\r\n\r\n\r\n### Describe the problem\r\nwhen I use tensorflow to train my model, an error always occur when my my data size is larger than [250,250,250]. \r\n\r\n### Source code / logs\r\n### this  is my code :\r\n\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\nn=250\r\nx_train=np.arange(n*n*n).reshape([1,n,n,n,1])\r\ny_train=np.zeros(n*n*n)\r\ntf_x = tf.placeholder(tf.float32,[1,None,None,None,1])\r\ntf_y = tf.placeholder(tf.int64,[None])\r\noutput=tf.layers.conv3d(tf_x,\r\n                        filters=2,\r\n                        kernel_size=(2,2,2),\r\n                        strides=(1,1,1), \r\n                        padding=\"same\",\r\n                        activation=tf.nn.relu)\r\n\r\nlogits = tf.reshape(output, [-1, 2])\r\ncross_entropy = tf.nn.sparse_softmax_cross_entropy_with_logits(logits=logits, labels=tf_y)\r\nloss = tf.reduce_mean(cross_entropy)\r\ntrain_step = tf.train.AdamOptimizer(1e-6).minimize(loss)\r\nwith tf.Session() as sess:\r\n    sess.run(tf.global_variables_initializer())\r\n    sess.run(train_step,feed_dict={tf_x:x_train,tf_y:y_train})\r\n    print(sess.run(loss,feed_dict={tf_x:x_train,tf_y:y_train}))\r\n```\r\n\r\n### This is the error I met:\r\n\r\n```\r\n`NotFoundError                             Traceback (most recent call last)\r\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _do_call(self, fn, *args)\r\n   1138     try:\r\n-> 1139       return fn(*args)\r\n   1140     except errors.OpError as e:\r\n\r\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _run_fn(session, feed_dict, fetch_list, target_list, options, run_metadata)\r\n   1120                                  feed_dict, fetch_list, target_list,\r\n-> 1121                                  status, run_metadata)\r\n   1122 \r\n\r\n/data/conda/lib/python3.6/contextlib.py in __exit__(self, type, value, traceback)\r\n     87             try:\r\n---> 88                 next(self.gen)\r\n     89             except StopIteration:\r\n\r\n/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py in raise_exception_on_not_ok_status()\r\n    465           compat.as_text(pywrap_tensorflow.TF_Message(status)),\r\n--> 466           pywrap_tensorflow.TF_GetCode(status))\r\n    467   finally:\r\n\r\nNotFoundError: No algorithm without scratch worked!\r\n\t [[Node: gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2 = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/gpu:0\"](gradients_2/conv3d_3/convolution_grad/Shape, conv3d_2/kernel/read, gradients_2/conv3d_3/BiasAdd_grad/tuple/control_dependency)]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nNotFoundError                             Traceback (most recent call last)\r\n<ipython-input-10-78d05b6135a4> in <module>()\r\n     19 with tf.Session() as sess:\r\n     20     sess.run(tf.global_variables_initializer())\r\n---> 21     sess.run(train_step,feed_dict={tf_x:x_train,tf_y:y_train})\r\n     22     print(sess.run(loss,feed_dict={tf_x:x_train,tf_y:y_train}))\r\n     23 #     print(sess.run(loss,feed_dict={tf_x:x_train,tf_y:y_train}))\r\n\r\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in run(self, fetches, feed_dict, options, run_metadata)\r\n    787     try:\r\n    788       result = self._run(None, fetches, feed_dict, options_ptr,\r\n--> 789                          run_metadata_ptr)\r\n    790       if run_metadata:\r\n    791         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\r\n\r\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _run(self, handle, fetches, feed_dict, options, run_metadata)\r\n    995     if final_fetches or final_targets:\r\n    996       results = self._do_run(handle, final_targets, final_fetches,\r\n--> 997                              feed_dict_string, options, run_metadata)\r\n    998     else:\r\n    999       results = []\r\n\r\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\r\n   1130     if handle is None:\r\n   1131       return self._do_call(_run_fn, self._session, feed_dict, fetch_list,\r\n-> 1132                            target_list, options, run_metadata)\r\n   1133     else:\r\n   1134       return self._do_call(_prun_fn, self._session, handle, feed_dict,\r\n\r\n/data/conda/lib/python3.6/site-packages/tensorflow/python/client/session.py in _do_call(self, fn, *args)\r\n   1150         except KeyError:\r\n   1151           pass\r\n-> 1152       raise type(e)(node_def, op, message)\r\n   1153 \r\n   1154   def _extend_graph(self):\r\n\r\nNotFoundError: No algorithm without scratch worked!\r\n\t [[Node: gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2 = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/gpu:0\"](gradients_2/conv3d_3/convolution_grad/Shape, conv3d_2/kernel/read, gradients_2/conv3d_3/BiasAdd_grad/tuple/control_dependency)]]\r\n\r\nCaused by op 'gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2', defined at:\r\n  File \"/data/conda/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/data/conda/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel_launcher.py\", line 16, in <module>\r\n    app.launch_new_instance()\r\n  File \"/data/conda/lib/python3.6/site-packages/traitlets/config/application.py\", line 658, in launch_instance\r\n    app.start()\r\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelapp.py\", line 477, in start\r\n    ioloop.IOLoop.instance().start()\r\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/ioloop.py\", line 177, in start\r\n    super(ZMQIOLoop, self).start()\r\n  File \"/data/conda/lib/python3.6/site-packages/tornado/ioloop.py\", line 888, in start\r\n    handler_func(fd_obj, events)\r\n  File \"/data/conda/lib/python3.6/site-packages/tornado/stack_context.py\", line 277, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 440, in _handle_events\r\n    self._handle_recv()\r\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 472, in _handle_recv\r\n    self._run_callback(callback, msg)\r\n  File \"/data/conda/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 414, in _run_callback\r\n    callback(*args, **kwargs)\r\n  File \"/data/conda/lib/python3.6/site-packages/tornado/stack_context.py\", line 277, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 283, in dispatcher\r\n    return self.dispatch_shell(stream, msg)\r\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 235, in dispatch_shell\r\n    handler(stream, idents, msg)\r\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 399, in execute_request\r\n    user_expressions, allow_stdin)\r\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/ipkernel.py\", line 196, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"/data/conda/lib/python3.6/site-packages/ipykernel/zmqshell.py\", line 533, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2698, in run_cell\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2802, in run_ast_nodes\r\n    if self.run_code(code, result):\r\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2862, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-10-78d05b6135a4>\", line 18, in <module>\r\n    train_step = tf.train.AdamOptimizer(1e-6).minimize(loss)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/training/optimizer.py\", line 315, in minimize\r\n    grad_loss=grad_loss)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/training/optimizer.py\", line 386, in compute_gradients\r\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gradients_impl.py\", line 540, in gradients\r\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gradients_impl.py\", line 346, in _MaybeCompile\r\n    return grad_fn()  # Exit early\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gradients_impl.py\", line 540, in <lambda>\r\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_grad.py\", line 80, in _Conv3DGrad\r\n    data_format=data_format),\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 666, in conv3d_backprop_input_v2\r\n    name=name)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 767, in apply_op\r\n    op_def=op_def)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 2506, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1269, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\n...which was originally created as op 'conv3d_3/convolution', defined at:\r\n  File \"/data/conda/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n[elided 18 identical lines from previous traceback]\r\n  File \"/data/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2862, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-10-78d05b6135a4>\", line 13, in <module>\r\n    activation=tf.nn.relu)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/convolutional.py\", line 728, in conv3d\r\n    return layer.apply(inputs)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/base.py\", line 492, in apply\r\n    return self.__call__(inputs, *args, **kwargs)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/base.py\", line 441, in __call__\r\n    outputs = self.call(inputs, *args, **kwargs)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/layers/convolutional.py\", line 158, in call\r\n    data_format=utils.convert_data_format(self.data_format, self.rank + 2))\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 670, in convolution\r\n    op=op)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 338, in with_space_to_batch\r\n    return op(input, num_spatial_dims, padding)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 662, in op\r\n    name=name)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/nn_ops.py\", line 146, in _non_atrous_convolution\r\n    name=name)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 526, in conv3d\r\n    data_format=data_format, name=name)\r\n  File \"/data/conda/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 767, in apply_op\r\n    op_def=op_def)\r\n\r\nNotFoundError (see above for traceback): No algorithm without scratch worked!\r\n\t [[Node: gradients_2/conv3d_3/convolution_grad/Conv3DBackpropInputV2 = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/gpu:0\"](gradients_2/conv3d_3/convolution_grad/Shape, conv3d_2/kernel/read, gradients_2/conv3d_3/BiasAdd_grad/tuple/control_dependency)]]`\r\n```\r\n"}