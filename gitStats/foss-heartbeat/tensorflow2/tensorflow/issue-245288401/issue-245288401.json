{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11736", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11736/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11736/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11736/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11736", "id": 245288401, "node_id": "MDU6SXNzdWUyNDUyODg0MDE=", "number": 11736, "title": "tf1.2.1 can't build on Ubuntu 16.04 pyenv", "user": {"login": "YusukeSuzuki", "id": 657060, "node_id": "MDQ6VXNlcjY1NzA2MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/657060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YusukeSuzuki", "html_url": "https://github.com/YusukeSuzuki", "followers_url": "https://api.github.com/users/YusukeSuzuki/followers", "following_url": "https://api.github.com/users/YusukeSuzuki/following{/other_user}", "gists_url": "https://api.github.com/users/YusukeSuzuki/gists{/gist_id}", "starred_url": "https://api.github.com/users/YusukeSuzuki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YusukeSuzuki/subscriptions", "organizations_url": "https://api.github.com/users/YusukeSuzuki/orgs", "repos_url": "https://api.github.com/users/YusukeSuzuki/repos", "events_url": "https://api.github.com/users/YusukeSuzuki/events{/privacy}", "received_events_url": "https://api.github.com/users/YusukeSuzuki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-07-25T05:21:01Z", "updated_at": "2018-01-11T05:07:22Z", "closed_at": "2018-01-11T05:07:22Z", "author_association": "NONE", "body_html": "<p>I can't build tf1.2.1 from source. on ubuntu 16.04 and pyenv.<br>\ntf1.0, tf1.1 are ok to be build normally.</p>\n<h3>System information</h3>\n<ul>\n<li>Ubuntu 16.04</li>\n<li>tf from git checkout r1.2</li>\n<li>python 3.5.2</li>\n<li>bazel 0.5.2 (from deb)</li>\n<li>CUDA 8.0, cudnn5</li>\n<li>GTX 1080ti x2</li>\n</ul>\n<h3>python environment</h3>\n<pre><code>pyenv install 3.5.2\npyenv virtualenv 3.5.2 tf1.2\npyenv local tf1.2\n</code></pre>\n<p>required packages on <a href=\"https://www.tensorflow.org/install/install_sources\" rel=\"nofollow\">https://www.tensorflow.org/install/install_sources</a> are all installed.</p>\n<h3>my config</h3>\n<p><code>cat cat .tf_configure.bazelrc</code></p>\n<pre><code>build --action_env PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"                                                                                                                                        \nbuild --action_env PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\nbuild --define PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"\nbuild --define PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\nbuild --force_python=py3\nbuild --host_force_python=py3\nbuild --python3_path=\"/home/yusuke/.pyenv/shims/python\"\ntest --force_python=py3\ntest --host_force_python=py3\ntest --define PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"\ntest --define PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\nrun --define PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"\nrun --define PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\nbuild --define with_jemalloc=true\nbuild --define with_xla_support=true\nbuild:opt --cxxopt=-march=native --copt=-march=native\nbuild --action_env TF_NEED_CUDA=\"1\"\nbuild --action_env TF_NEED_OPENCL=\"0\"\nbuild --action_env TF_CUDA_CLANG=\"0\"\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_CUDA_VERSION=\"8.0\"\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc\"\nbuild --action_env TF_CUDNN_VERSION=\"5\"\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/local/cuda-8.0\"\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1\"\n</code></pre>\n<h3>fail logs</h3>\n<p>command</p>\n<pre><code>$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures --action_env=PYENV_VERSION=tf1.2\n --action_env=PYENV_ROOT=\"$HOME/.pyenv\" --action_env=PATH=\"$PYENV_ROOT/bin:$PATH\" --action_env=PYENV_VIRTUAL_ENV=/home/yusuke/.pyenv/versions/3.5.2/envs/tf1.2 --action_env=VIRTUAL_ENV=/home/yusuke/.pyenv/v\nersions/3.5.2/envs/tf1.2 --action_env=PYENV_ROOT=/home/yusuke/.pyenv --action_env=PYENV_SHELL=bash --action_env=DYLD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib --action_env=LD_LIBRARY_PATH=/usr/l\nocal/cuda/lib:/usr/local/cuda/lib: --action_env=PYENV_VIRTUALENV_INIT=1 -s \n</code></pre>\n<p>error log</p>\n<pre><code>ERROR: /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/external/farmhash_archive/BUILD.bazel:12:1: C++ compilation of rule '@farmhash_archive//:farmhash' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/execroot/org_tensorflow &amp;&amp; \\\n  exec env - \\\n    LD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib: \\\n    PATH=/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/cuda/bin:/snap/bin:/usr/local/cuda/bin \\\n    PWD=/proc/self/cwd \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -g0 -MD -MF bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.d '-frandom-seed=bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o' -iquote external/farmhash_archive -iquote bazel-out/host/genfiles/external/farmhash_archive -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/farmhash_archive/src -isystem bazel-out/host/genfiles/external/farmhash_archive/src -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/farmhash_archive/src/farmhash.cc -o bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 2.\npython: can't open file 'external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc': [Errno 2] No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 0.345s, Critical Path: 0.07s\n</code></pre>\n<p>other command</p>\n<pre><code>$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures  -s\n</code></pre>\n<p>error log</p>\n<pre><code>ERROR: /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/external/protobuf/BUILD:241:1: C++ compilation of rule '@protobuf//:js_embed' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/execroot/org_tensorflow &amp;&amp; \\\n  exec env - \\\n    LD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib: \\\n    PATH=/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/cuda/bin:/snap/bin:/usr/local/cuda/bin \\\n    PWD=/proc/self/cwd \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -g0 -MD -MF bazel-out/host/bin/external/protobuf/_objs/js_embed/external/protobuf/src/google/protobuf/compiler/js/embed.d '-frandom-seed=bazel-out/host/bin/external/protobuf/_objs/js_embed/external/protobuf/src/google/protobuf/compiler/js/embed.o' -iquote external/protobuf -iquote bazel-out/host/genfiles/external/protobuf -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/protobuf/src/google/protobuf/compiler/js/embed.cc -o bazel-out/host/bin/external/protobuf/_objs/js_embed/external/protobuf/src/google/protobuf/compiler/js/embed.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 2.\npython: can't open file 'external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc': [Errno 2] No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 0.417s, Critical Path: 0.08s\n</code></pre>", "body_text": "I can't build tf1.2.1 from source. on ubuntu 16.04 and pyenv.\ntf1.0, tf1.1 are ok to be build normally.\nSystem information\n\nUbuntu 16.04\ntf from git checkout r1.2\npython 3.5.2\nbazel 0.5.2 (from deb)\nCUDA 8.0, cudnn5\nGTX 1080ti x2\n\npython environment\npyenv install 3.5.2\npyenv virtualenv 3.5.2 tf1.2\npyenv local tf1.2\n\nrequired packages on https://www.tensorflow.org/install/install_sources are all installed.\nmy config\ncat cat .tf_configure.bazelrc\nbuild --action_env PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"                                                                                                                                        \nbuild --action_env PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\nbuild --define PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"\nbuild --define PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\nbuild --force_python=py3\nbuild --host_force_python=py3\nbuild --python3_path=\"/home/yusuke/.pyenv/shims/python\"\ntest --force_python=py3\ntest --host_force_python=py3\ntest --define PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"\ntest --define PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\nrun --define PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"\nrun --define PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\nbuild --define with_jemalloc=true\nbuild --define with_xla_support=true\nbuild:opt --cxxopt=-march=native --copt=-march=native\nbuild --action_env TF_NEED_CUDA=\"1\"\nbuild --action_env TF_NEED_OPENCL=\"0\"\nbuild --action_env TF_CUDA_CLANG=\"0\"\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_CUDA_VERSION=\"8.0\"\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc\"\nbuild --action_env TF_CUDNN_VERSION=\"5\"\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/local/cuda-8.0\"\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1\"\n\nfail logs\ncommand\n$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures --action_env=PYENV_VERSION=tf1.2\n --action_env=PYENV_ROOT=\"$HOME/.pyenv\" --action_env=PATH=\"$PYENV_ROOT/bin:$PATH\" --action_env=PYENV_VIRTUAL_ENV=/home/yusuke/.pyenv/versions/3.5.2/envs/tf1.2 --action_env=VIRTUAL_ENV=/home/yusuke/.pyenv/v\nersions/3.5.2/envs/tf1.2 --action_env=PYENV_ROOT=/home/yusuke/.pyenv --action_env=PYENV_SHELL=bash --action_env=DYLD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib --action_env=LD_LIBRARY_PATH=/usr/l\nocal/cuda/lib:/usr/local/cuda/lib: --action_env=PYENV_VIRTUALENV_INIT=1 -s \n\nerror log\nERROR: /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/external/farmhash_archive/BUILD.bazel:12:1: C++ compilation of rule '@farmhash_archive//:farmhash' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/execroot/org_tensorflow && \\\n  exec env - \\\n    LD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib: \\\n    PATH=/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/cuda/bin:/snap/bin:/usr/local/cuda/bin \\\n    PWD=/proc/self/cwd \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -g0 -MD -MF bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.d '-frandom-seed=bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o' -iquote external/farmhash_archive -iquote bazel-out/host/genfiles/external/farmhash_archive -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/farmhash_archive/src -isystem bazel-out/host/genfiles/external/farmhash_archive/src -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/farmhash_archive/src/farmhash.cc -o bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 2.\npython: can't open file 'external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc': [Errno 2] No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 0.345s, Critical Path: 0.07s\n\nother command\n$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures  -s\n\nerror log\nERROR: /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/external/protobuf/BUILD:241:1: C++ compilation of rule '@protobuf//:js_embed' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/execroot/org_tensorflow && \\\n  exec env - \\\n    LD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib: \\\n    PATH=/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/cuda/bin:/snap/bin:/usr/local/cuda/bin \\\n    PWD=/proc/self/cwd \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -g0 -MD -MF bazel-out/host/bin/external/protobuf/_objs/js_embed/external/protobuf/src/google/protobuf/compiler/js/embed.d '-frandom-seed=bazel-out/host/bin/external/protobuf/_objs/js_embed/external/protobuf/src/google/protobuf/compiler/js/embed.o' -iquote external/protobuf -iquote bazel-out/host/genfiles/external/protobuf -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/protobuf/src/google/protobuf/compiler/js/embed.cc -o bazel-out/host/bin/external/protobuf/_objs/js_embed/external/protobuf/src/google/protobuf/compiler/js/embed.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 2.\npython: can't open file 'external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc': [Errno 2] No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 0.417s, Critical Path: 0.08s", "body": "I can't build tf1.2.1 from source. on ubuntu 16.04 and pyenv.\r\ntf1.0, tf1.1 are ok to be build normally.\r\n\r\n### System information\r\n- Ubuntu 16.04\r\n- tf from git checkout r1.2\r\n- python 3.5.2\r\n- bazel 0.5.2 (from deb)\r\n- CUDA 8.0, cudnn5\r\n- GTX 1080ti x2\r\n\r\n### python environment\r\n\r\n```\r\npyenv install 3.5.2\r\npyenv virtualenv 3.5.2 tf1.2\r\npyenv local tf1.2\r\n```\r\nrequired packages on https://www.tensorflow.org/install/install_sources are all installed.\r\n\r\n### my config\r\n\r\n`cat cat .tf_configure.bazelrc`\r\n\r\n```\r\nbuild --action_env PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"                                                                                                                                        \r\nbuild --action_env PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\r\nbuild --define PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"\r\nbuild --define PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\r\nbuild --force_python=py3\r\nbuild --host_force_python=py3\r\nbuild --python3_path=\"/home/yusuke/.pyenv/shims/python\"\r\ntest --force_python=py3\r\ntest --host_force_python=py3\r\ntest --define PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"\r\ntest --define PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\r\nrun --define PYTHON_BIN_PATH=\"/home/yusuke/.pyenv/shims/python\"\r\nrun --define PYTHON_LIB_PATH=\"/home/yusuke/.pyenv/versions/tf1.2/lib/python3.5/site-packages\"\r\nbuild --define with_jemalloc=true\r\nbuild --define with_xla_support=true\r\nbuild:opt --cxxopt=-march=native --copt=-march=native\r\nbuild --action_env TF_NEED_CUDA=\"1\"\r\nbuild --action_env TF_NEED_OPENCL=\"0\"\r\nbuild --action_env TF_CUDA_CLANG=\"0\"\r\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\r\nbuild --action_env TF_CUDA_VERSION=\"8.0\"\r\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc\"\r\nbuild --action_env TF_CUDNN_VERSION=\"5\"\r\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/local/cuda-8.0\"\r\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1\"\r\n```\r\n\r\n### fail logs\r\n\r\ncommand\r\n\r\n```\r\n$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures --action_env=PYENV_VERSION=tf1.2\r\n --action_env=PYENV_ROOT=\"$HOME/.pyenv\" --action_env=PATH=\"$PYENV_ROOT/bin:$PATH\" --action_env=PYENV_VIRTUAL_ENV=/home/yusuke/.pyenv/versions/3.5.2/envs/tf1.2 --action_env=VIRTUAL_ENV=/home/yusuke/.pyenv/v\r\nersions/3.5.2/envs/tf1.2 --action_env=PYENV_ROOT=/home/yusuke/.pyenv --action_env=PYENV_SHELL=bash --action_env=DYLD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib --action_env=LD_LIBRARY_PATH=/usr/l\r\nocal/cuda/lib:/usr/local/cuda/lib: --action_env=PYENV_VIRTUALENV_INIT=1 -s \r\n```\r\nerror log\r\n\r\n```\r\nERROR: /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/external/farmhash_archive/BUILD.bazel:12:1: C++ compilation of rule '@farmhash_archive//:farmhash' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \r\n  (cd /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    LD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib: \\\r\n    PATH=/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/cuda/bin:/snap/bin:/usr/local/cuda/bin \\\r\n    PWD=/proc/self/cwd \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -g0 -MD -MF bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.d '-frandom-seed=bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o' -iquote external/farmhash_archive -iquote bazel-out/host/genfiles/external/farmhash_archive -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/farmhash_archive/src -isystem bazel-out/host/genfiles/external/farmhash_archive/src -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/farmhash_archive/src/farmhash.cc -o bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 2.\r\npython: can't open file 'external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc': [Errno 2] No such file or directory\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 0.345s, Critical Path: 0.07s\r\n```\r\n\r\nother command\r\n\r\n```\r\n$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures  -s\r\n```\r\n\r\nerror log\r\n\r\n```\r\nERROR: /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/external/protobuf/BUILD:241:1: C++ compilation of rule '@protobuf//:js_embed' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \r\n  (cd /home/yusuke/.cache/bazel/_bazel_yusuke/072dea721cfe39744fc124596230e888/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    LD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib: \\\r\n    PATH=/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/home/yusuke/bin:/home/yusuke/.local/bin:/home/yusuke/.local/bin:/home/yusuke/.pyenv/plugins/pyenv-virtualenv/shims:/home/yusuke/.pyenv/shims:/home/yusuke/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/cuda/bin:/snap/bin:/usr/local/cuda/bin \\\r\n    PWD=/proc/self/cwd \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -g0 -MD -MF bazel-out/host/bin/external/protobuf/_objs/js_embed/external/protobuf/src/google/protobuf/compiler/js/embed.d '-frandom-seed=bazel-out/host/bin/external/protobuf/_objs/js_embed/external/protobuf/src/google/protobuf/compiler/js/embed.o' -iquote external/protobuf -iquote bazel-out/host/genfiles/external/protobuf -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/protobuf/src/google/protobuf/compiler/js/embed.cc -o bazel-out/host/bin/external/protobuf/_objs/js_embed/external/protobuf/src/google/protobuf/compiler/js/embed.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 2.\r\npython: can't open file 'external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc': [Errno 2] No such file or directory\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 0.417s, Critical Path: 0.08s\r\n```\r\n"}