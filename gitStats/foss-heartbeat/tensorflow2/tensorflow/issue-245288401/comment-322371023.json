{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/322371023", "html_url": "https://github.com/tensorflow/tensorflow/issues/11736#issuecomment-322371023", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11736", "id": 322371023, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjM3MTAyMw==", "user": {"login": "YusukeSuzuki", "id": 657060, "node_id": "MDQ6VXNlcjY1NzA2MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/657060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YusukeSuzuki", "html_url": "https://github.com/YusukeSuzuki", "followers_url": "https://api.github.com/users/YusukeSuzuki/followers", "following_url": "https://api.github.com/users/YusukeSuzuki/following{/other_user}", "gists_url": "https://api.github.com/users/YusukeSuzuki/gists{/gist_id}", "starred_url": "https://api.github.com/users/YusukeSuzuki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YusukeSuzuki/subscriptions", "organizations_url": "https://api.github.com/users/YusukeSuzuki/orgs", "repos_url": "https://api.github.com/users/YusukeSuzuki/repos", "events_url": "https://api.github.com/users/YusukeSuzuki/events{/privacy}", "received_events_url": "https://api.github.com/users/YusukeSuzuki/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-15T03:53:51Z", "updated_at": "2017-08-15T03:53:51Z", "author_association": "NONE", "body_html": "<p>I tried virtualenv only build.<br>\nbuild and build_pip_package are successfully finished.</p>\n<pre><code>virtualenv --python=/usr/bin/python3 build-env\n</code></pre>\n<pre><code>git checkout r1.2\n</code></pre>\n<p>configure</p>\n<pre><code>$ cat ./.tf_configure.bazelrc \nbuild --action_env PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\nbuild --action_env PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\nbuild --define PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\nbuild --define PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\nbuild --force_python=py3\nbuild --host_force_python=py3\nbuild --python3_path=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\ntest --force_python=py3\ntest --host_force_python=py3\ntest --define PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\ntest --define PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\nrun --define PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\nrun --define PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\nbuild --define with_jemalloc=true\nbuild --define with_xla_support=true\nbuild:opt --cxxopt=-march=native --copt=-march=native\nbuild --action_env TF_NEED_CUDA=\"1\"\nbuild --action_env TF_NEED_OPENCL=\"0\"\nbuild --action_env TF_CUDA_CLANG=\"0\"\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_CUDA_VERSION=\"8.0\"\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc\"\nbuild --action_env TF_CUDNN_VERSION=\"5\"\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/local/cuda-8.0\"\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1\"\n</code></pre>\n<p>build command</p>\n<pre><code>bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package \\\n    --verbose_failures -s \\\n    --action_env=PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin:/home/yusuke/bin:$PATH\" \\\n    --action_env=VIRTUAL_ENV=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env\" \\\n    --action_env=DYLD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib \\\n    --action_env=LD_LIBRARY_PATH=/usr/local/cuda/lib:\n</code></pre>", "body_text": "I tried virtualenv only build.\nbuild and build_pip_package are successfully finished.\nvirtualenv --python=/usr/bin/python3 build-env\n\ngit checkout r1.2\n\nconfigure\n$ cat ./.tf_configure.bazelrc \nbuild --action_env PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\nbuild --action_env PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\nbuild --define PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\nbuild --define PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\nbuild --force_python=py3\nbuild --host_force_python=py3\nbuild --python3_path=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\ntest --force_python=py3\ntest --host_force_python=py3\ntest --define PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\ntest --define PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\nrun --define PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\nrun --define PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\nbuild --define with_jemalloc=true\nbuild --define with_xla_support=true\nbuild:opt --cxxopt=-march=native --copt=-march=native\nbuild --action_env TF_NEED_CUDA=\"1\"\nbuild --action_env TF_NEED_OPENCL=\"0\"\nbuild --action_env TF_CUDA_CLANG=\"0\"\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_CUDA_VERSION=\"8.0\"\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc\"\nbuild --action_env TF_CUDNN_VERSION=\"5\"\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/local/cuda-8.0\"\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1\"\n\nbuild command\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package \\\n    --verbose_failures -s \\\n    --action_env=PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin:/home/yusuke/bin:$PATH\" \\\n    --action_env=VIRTUAL_ENV=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env\" \\\n    --action_env=DYLD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib \\\n    --action_env=LD_LIBRARY_PATH=/usr/local/cuda/lib:", "body": "I tried virtualenv only build.\r\nbuild and build_pip_package are successfully finished.\r\n\r\n```\r\nvirtualenv --python=/usr/bin/python3 build-env\r\n```\r\n\r\n```\r\ngit checkout r1.2\r\n```\r\n\r\nconfigure\r\n\r\n```\r\n$ cat ./.tf_configure.bazelrc \r\nbuild --action_env PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\r\nbuild --action_env PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\r\nbuild --define PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\r\nbuild --define PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\r\nbuild --force_python=py3\r\nbuild --host_force_python=py3\r\nbuild --python3_path=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\r\ntest --force_python=py3\r\ntest --host_force_python=py3\r\ntest --define PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\r\ntest --define PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\r\nrun --define PYTHON_BIN_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin/python\"\r\nrun --define PYTHON_LIB_PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/lib/python3.5/site-packages\"\r\nbuild --define with_jemalloc=true\r\nbuild --define with_xla_support=true\r\nbuild:opt --cxxopt=-march=native --copt=-march=native\r\nbuild --action_env TF_NEED_CUDA=\"1\"\r\nbuild --action_env TF_NEED_OPENCL=\"0\"\r\nbuild --action_env TF_CUDA_CLANG=\"0\"\r\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\r\nbuild --action_env TF_CUDA_VERSION=\"8.0\"\r\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc\"\r\nbuild --action_env TF_CUDNN_VERSION=\"5\"\r\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/local/cuda-8.0\"\r\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1\"\r\n```\r\n\r\nbuild command\r\n\r\n```\r\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package \\\r\n    --verbose_failures -s \\\r\n    --action_env=PATH=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env/bin:/home/yusuke/bin:$PATH\" \\\r\n    --action_env=VIRTUAL_ENV=\"/home/yusuke/geekfield/build_tensorflow_1.2_temp/build-env\" \\\r\n    --action_env=DYLD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib \\\r\n    --action_env=LD_LIBRARY_PATH=/usr/local/cuda/lib:\r\n```\r\n\r\n\r\n"}