{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/372089077", "html_url": "https://github.com/tensorflow/tensorflow/issues/17500#issuecomment-372089077", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17500", "id": 372089077, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjA4OTA3Nw==", "user": {"login": "agarwal-ashish", "id": 19335798, "node_id": "MDQ6VXNlcjE5MzM1Nzk4", "avatar_url": "https://avatars3.githubusercontent.com/u/19335798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agarwal-ashish", "html_url": "https://github.com/agarwal-ashish", "followers_url": "https://api.github.com/users/agarwal-ashish/followers", "following_url": "https://api.github.com/users/agarwal-ashish/following{/other_user}", "gists_url": "https://api.github.com/users/agarwal-ashish/gists{/gist_id}", "starred_url": "https://api.github.com/users/agarwal-ashish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agarwal-ashish/subscriptions", "organizations_url": "https://api.github.com/users/agarwal-ashish/orgs", "repos_url": "https://api.github.com/users/agarwal-ashish/repos", "events_url": "https://api.github.com/users/agarwal-ashish/events{/privacy}", "received_events_url": "https://api.github.com/users/agarwal-ashish/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-11T04:41:22Z", "updated_at": "2018-03-11T04:41:22Z", "author_association": "NONE", "body_html": "<p>colocate_gradients_with_ops is a very simple heuristic which simply tries to colocate the gradients with the original op, and may or may not be the best placement policy. Optimal placement is hard in general and has been an area of active research.</p>\n<p>In this case, I'd suggest using tf.device or tf.colocate_with (setting it on the Identity or inside the gradient) and see if that helps.</p>\n<p>Closing this issue since the code is working as expected.</p>", "body_text": "colocate_gradients_with_ops is a very simple heuristic which simply tries to colocate the gradients with the original op, and may or may not be the best placement policy. Optimal placement is hard in general and has been an area of active research.\nIn this case, I'd suggest using tf.device or tf.colocate_with (setting it on the Identity or inside the gradient) and see if that helps.\nClosing this issue since the code is working as expected.", "body": "colocate_gradients_with_ops is a very simple heuristic which simply tries to colocate the gradients with the original op, and may or may not be the best placement policy. Optimal placement is hard in general and has been an area of active research.\r\n\r\nIn this case, I'd suggest using tf.device or tf.colocate_with (setting it on the Identity or inside the gradient) and see if that helps.\r\n\r\nClosing this issue since the code is working as expected."}