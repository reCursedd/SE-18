{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/87682037", "pull_request_review_id": 8288781, "id": 87682037, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg3NjgyMDM3", "diff_hunk": "@@ -100,6 +101,40 @@ while [ \"$TF_NEED_HDFS\" == \"\" ]; do\n   esac\n done\n \n+while [ \"$TF_NEED_LIBJPEG_TURBO\" == \"\" ]; do", "path": "configure", "position": 12, "original_position": 12, "commit_id": "e6969722f8e5ff698d7de1272d9779e2e7aae3aa", "original_commit_id": "e6969722f8e5ff698d7de1272d9779e2e7aae3aa", "user": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "body": "World will not end if we depend on nasm. It's 0.8MB and can be built very easily with Bazel. https://gist.github.com/jart/68b1fd09d48197850981d45e85758936 (Although that BUILD file would need a genrule to create config.h and the copts would need to be tuned for MSVC. We do not need to depend on autotools.) We already download and build others tools from scratch, e.g. [SWIG](https://github.com/tensorflow/tensorflow/blob/master/third_party/swig.BUILD). It adds three seconds to build time on my workstation. That's better IMHO than increasing the cognitive burden on users with configuration questions and action items.\n\nHowever building libjpeg-turbo inside Bazel is not trivial. We have a build file that does it internally. It's a very complete build file that appears to support x86_64, x86, armv7a, armv8a, Android, GCC, Clang, and MSVC. I might be able to copy this file onto GitHub. Thoughts @gunan and @wicke?\n", "created_at": "2016-11-12T01:13:44Z", "updated_at": "2016-11-12T02:11:34Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/5547#discussion_r87682037", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5547", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/87682037"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/5547#discussion_r87682037"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5547"}}, "body_html": "<p>World will not end if we depend on nasm. It's 0.8MB and can be built very easily with Bazel. <a href=\"https://gist.github.com/jart/68b1fd09d48197850981d45e85758936\">https://gist.github.com/jart/68b1fd09d48197850981d45e85758936</a> (Although that BUILD file would need a genrule to create config.h and the copts would need to be tuned for MSVC. We do not need to depend on autotools.) We already download and build others tools from scratch, e.g. <a href=\"https://github.com/tensorflow/tensorflow/blob/master/third_party/swig.BUILD\">SWIG</a>. It adds three seconds to build time on my workstation. That's better IMHO than increasing the cognitive burden on users with configuration questions and action items.</p>\n<p>However building libjpeg-turbo inside Bazel is not trivial. We have a build file that does it internally. It's a very complete build file that appears to support x86_64, x86, armv7a, armv8a, Android, GCC, Clang, and MSVC. I might be able to copy this file onto GitHub. Thoughts <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a> and <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=266731\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wicke\">@wicke</a>?</p>", "body_text": "World will not end if we depend on nasm. It's 0.8MB and can be built very easily with Bazel. https://gist.github.com/jart/68b1fd09d48197850981d45e85758936 (Although that BUILD file would need a genrule to create config.h and the copts would need to be tuned for MSVC. We do not need to depend on autotools.) We already download and build others tools from scratch, e.g. SWIG. It adds three seconds to build time on my workstation. That's better IMHO than increasing the cognitive burden on users with configuration questions and action items.\nHowever building libjpeg-turbo inside Bazel is not trivial. We have a build file that does it internally. It's a very complete build file that appears to support x86_64, x86, armv7a, armv8a, Android, GCC, Clang, and MSVC. I might be able to copy this file onto GitHub. Thoughts @gunan and @wicke?", "in_reply_to_id": 87669328}