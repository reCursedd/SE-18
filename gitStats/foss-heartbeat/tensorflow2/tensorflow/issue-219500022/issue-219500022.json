{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8971", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8971/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8971/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8971/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8971", "id": 219500022, "node_id": "MDU6SXNzdWUyMTk1MDAwMjI=", "number": 8971, "title": "html5lib dependency issue", "user": {"login": "LiyuCode", "id": 10735579, "node_id": "MDQ6VXNlcjEwNzM1NTc5", "avatar_url": "https://avatars1.githubusercontent.com/u/10735579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiyuCode", "html_url": "https://github.com/LiyuCode", "followers_url": "https://api.github.com/users/LiyuCode/followers", "following_url": "https://api.github.com/users/LiyuCode/following{/other_user}", "gists_url": "https://api.github.com/users/LiyuCode/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiyuCode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiyuCode/subscriptions", "organizations_url": "https://api.github.com/users/LiyuCode/orgs", "repos_url": "https://api.github.com/users/LiyuCode/repos", "events_url": "https://api.github.com/users/LiyuCode/events{/privacy}", "received_events_url": "https://api.github.com/users/LiyuCode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2017-04-05T08:04:06Z", "updated_at": "2017-04-06T01:42:02Z", "closed_at": "2017-04-06T01:42:02Z", "author_association": "NONE", "body_html": "<p>Install Tensorflow from source, met <code>html5lib</code> dependency issue:</p>\n<pre><code>Processing dependencies for tensorflow==1.1.0rc0\nerror: html5lib 1.0b8 is installed but html5lib!=0.9999,!=0.99999,&lt;0.99999999,&gt;=0.999 is required by {'bleach'}\n</code></pre>\n<h2>1. Env:</h2>\n<h3>1.1 OS:</h3>\n<p>Linux Mint 18.1 Cinnamon 64-bit</p>\n<h3>1.2 CUDA &amp; CUDNN:</h3>\n<p>GPU: Nvidia Titan X Pascal</p>\n<pre><code>$ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root   556000 Apr  5 00:46 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Apr  5 00:46 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Apr  5 00:46 /usr/local/cuda/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.61\n-rwxr-xr-x 1 root root   415432 Apr  5 00:46 /usr/local/cuda/lib64/libcudart.so.8.0.61\n-rw-r--r-- 1 root root   775162 Apr  5 00:46 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn.so -&gt; libcudnn.so.5\nlrwxrwxrwx 1 root root       17 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn_static.a\n</code></pre>\n<h3>1.3 Tensorflow git version</h3>\n<pre><code>$ git rev-parse HEAD\na9b7946540a27cc53bbdc9db1564196979fe30ae\n</code></pre>\n<h3>1.4 Bazel version</h3>\n<pre><code>$ bazel version\nBuild label: 0.4.5\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Mar 16 12:19:38 2017 (1489666778)\nBuild timestamp: 1489666778\nBuild timestamp as int: 1489666778\n</code></pre>\n<h3>1.5 Installed html4lib</h3>\n<pre><code>$sudo -H pip3 list\n...\nhtml5lib (0.9999999)\n...\n</code></pre>\n<h2>2. Reproduction</h2>\n<p>After clone the git, executing a script with the following commands to install [developer mode] :</p>\n<pre><code>bazel clean\n./configure\nbazel build -c opt --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=cuda -k //tensorflow/tools/pip_package:build_pip_package\n#bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nsudo rm -r _python_build\nmkdir _python_build\ncd _python_build\nln -s ../bazel-bin/tensorflow/tools/pip_package/build_pip_package.runfiles/org_tensorflow/* .\nln -s ../tensorflow/tools/pip_package/* .\nsudo -H python3 setup.py develop\n</code></pre>", "body_text": "Install Tensorflow from source, met html5lib dependency issue:\nProcessing dependencies for tensorflow==1.1.0rc0\nerror: html5lib 1.0b8 is installed but html5lib!=0.9999,!=0.99999,<0.99999999,>=0.999 is required by {'bleach'}\n\n1. Env:\n1.1 OS:\nLinux Mint 18.1 Cinnamon 64-bit\n1.2 CUDA & CUDNN:\nGPU: Nvidia Titan X Pascal\n$ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root   556000 Apr  5 00:46 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Apr  5 00:46 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Apr  5 00:46 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.61\n-rwxr-xr-x 1 root root   415432 Apr  5 00:46 /usr/local/cuda/lib64/libcudart.so.8.0.61\n-rw-r--r-- 1 root root   775162 Apr  5 00:46 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 root root       17 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn_static.a\n\n1.3 Tensorflow git version\n$ git rev-parse HEAD\na9b7946540a27cc53bbdc9db1564196979fe30ae\n\n1.4 Bazel version\n$ bazel version\nBuild label: 0.4.5\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Mar 16 12:19:38 2017 (1489666778)\nBuild timestamp: 1489666778\nBuild timestamp as int: 1489666778\n\n1.5 Installed html4lib\n$sudo -H pip3 list\n...\nhtml5lib (0.9999999)\n...\n\n2. Reproduction\nAfter clone the git, executing a script with the following commands to install [developer mode] :\nbazel clean\n./configure\nbazel build -c opt --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=cuda -k //tensorflow/tools/pip_package:build_pip_package\n#bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nsudo rm -r _python_build\nmkdir _python_build\ncd _python_build\nln -s ../bazel-bin/tensorflow/tools/pip_package/build_pip_package.runfiles/org_tensorflow/* .\nln -s ../tensorflow/tools/pip_package/* .\nsudo -H python3 setup.py develop", "body": "Install Tensorflow from source, met `html5lib` dependency issue:\r\n\r\n```\r\nProcessing dependencies for tensorflow==1.1.0rc0\r\nerror: html5lib 1.0b8 is installed but html5lib!=0.9999,!=0.99999,<0.99999999,>=0.999 is required by {'bleach'}\r\n```\r\n\r\n## 1. Env:\r\n### 1.1 OS:\r\nLinux Mint 18.1 Cinnamon 64-bit\r\n### 1.2 CUDA & CUDNN:\r\nGPU: Nvidia Titan X Pascal\r\n```\r\n$ls -l /usr/local/cuda/lib64/libcud*\r\n-rw-r--r-- 1 root root   556000 Apr  5 00:46 /usr/local/cuda/lib64/libcudadevrt.a\r\nlrwxrwxrwx 1 root root       16 Apr  5 00:46 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\r\nlrwxrwxrwx 1 root root       19 Apr  5 00:46 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.61\r\n-rwxr-xr-x 1 root root   415432 Apr  5 00:46 /usr/local/cuda/lib64/libcudart.so.8.0.61\r\n-rw-r--r-- 1 root root   775162 Apr  5 00:46 /usr/local/cuda/lib64/libcudart_static.a\r\nlrwxrwxrwx 1 root root       13 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\r\nlrwxrwxrwx 1 root root       17 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5\r\n-rwxr-xr-x 1 root root 79337624 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn.so.5.1.5\r\n-rw-r--r-- 1 root root 69756172 Apr  5 00:47 /usr/local/cuda/lib64/libcudnn_static.a\r\n```\r\n### 1.3 Tensorflow git version\r\n```\r\n$ git rev-parse HEAD\r\na9b7946540a27cc53bbdc9db1564196979fe30ae\r\n```\r\n\r\n### 1.4 Bazel version\r\n```\r\n$ bazel version\r\nBuild label: 0.4.5\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Thu Mar 16 12:19:38 2017 (1489666778)\r\nBuild timestamp: 1489666778\r\nBuild timestamp as int: 1489666778\r\n```\r\n\r\n### 1.5 Installed html4lib\r\n```\r\n$sudo -H pip3 list\r\n...\r\nhtml5lib (0.9999999)\r\n...\r\n```\r\n\r\n## 2. Reproduction\r\nAfter clone the git, executing a script with the following commands to install [developer mode] :\r\n\r\n```\r\nbazel clean\r\n./configure\r\nbazel build -c opt --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=cuda -k //tensorflow/tools/pip_package:build_pip_package\r\n#bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\nsudo rm -r _python_build\r\nmkdir _python_build\r\ncd _python_build\r\nln -s ../bazel-bin/tensorflow/tools/pip_package/build_pip_package.runfiles/org_tensorflow/* .\r\nln -s ../tensorflow/tools/pip_package/* .\r\nsudo -H python3 setup.py develop\r\n```\r\n"}