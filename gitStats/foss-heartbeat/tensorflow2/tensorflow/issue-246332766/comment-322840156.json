{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/322840156", "html_url": "https://github.com/tensorflow/tensorflow/issues/11847#issuecomment-322840156", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11847", "id": 322840156, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjg0MDE1Ng==", "user": {"login": "pks", "id": 368183, "node_id": "MDQ6VXNlcjM2ODE4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/368183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pks", "html_url": "https://github.com/pks", "followers_url": "https://api.github.com/users/pks/followers", "following_url": "https://api.github.com/users/pks/following{/other_user}", "gists_url": "https://api.github.com/users/pks/gists{/gist_id}", "starred_url": "https://api.github.com/users/pks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pks/subscriptions", "organizations_url": "https://api.github.com/users/pks/orgs", "repos_url": "https://api.github.com/users/pks/repos", "events_url": "https://api.github.com/users/pks/events{/privacy}", "received_events_url": "https://api.github.com/users/pks/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-16T17:18:12Z", "updated_at": "2017-08-16T17:21:37Z", "author_association": "CONTRIBUTOR", "body_html": "<p>It works for me with the following changes (also for gru_ops_kernels).</p>\n<pre><code>--- a/tensorflow/contrib/rnn/BUILD\n+++ b/tensorflow/contrib/rnn/BUILD\n@@ -326,6 +326,8 @@ tf_kernel_library(\n     srcs = [\n         \"kernels/blas_gemm.cc\",\n         \"kernels/blas_gemm.h\",\n+        \"kernels/gru_ops.h\",\n+        \"ops/gru_ops.cc\",\n     ],\n     gpu_srcs = [\n         \"kernels/blas_gemm.h\",\n@@ -344,6 +346,8 @@ tf_kernel_library(\n     srcs = [\n         \"kernels/blas_gemm.cc\",\n         \"kernels/blas_gemm.h\",\n+        \"kernels/lstm_ops.h\",\n+        \"ops/lstm_ops.cc\",\n     ],\n     gpu_srcs = [\n         \"kernels/blas_gemm.h\",\n</code></pre>\n<p>And adding <code>\"//tensorflow/contrib/rnn:gru_ops_kernels\"</code> and/or <code>\"//tensorflow/contrib/rnn:lstm_ops_kernels\"</code> to the deps of the respective binary.</p>\n<p>(using r1.3)</p>", "body_text": "It works for me with the following changes (also for gru_ops_kernels).\n--- a/tensorflow/contrib/rnn/BUILD\n+++ b/tensorflow/contrib/rnn/BUILD\n@@ -326,6 +326,8 @@ tf_kernel_library(\n     srcs = [\n         \"kernels/blas_gemm.cc\",\n         \"kernels/blas_gemm.h\",\n+        \"kernels/gru_ops.h\",\n+        \"ops/gru_ops.cc\",\n     ],\n     gpu_srcs = [\n         \"kernels/blas_gemm.h\",\n@@ -344,6 +346,8 @@ tf_kernel_library(\n     srcs = [\n         \"kernels/blas_gemm.cc\",\n         \"kernels/blas_gemm.h\",\n+        \"kernels/lstm_ops.h\",\n+        \"ops/lstm_ops.cc\",\n     ],\n     gpu_srcs = [\n         \"kernels/blas_gemm.h\",\n\nAnd adding \"//tensorflow/contrib/rnn:gru_ops_kernels\" and/or \"//tensorflow/contrib/rnn:lstm_ops_kernels\" to the deps of the respective binary.\n(using r1.3)", "body": "It works for me with the following changes (also for gru_ops_kernels).\r\n\r\n```\r\n--- a/tensorflow/contrib/rnn/BUILD\r\n+++ b/tensorflow/contrib/rnn/BUILD\r\n@@ -326,6 +326,8 @@ tf_kernel_library(\r\n     srcs = [\r\n         \"kernels/blas_gemm.cc\",\r\n         \"kernels/blas_gemm.h\",\r\n+        \"kernels/gru_ops.h\",\r\n+        \"ops/gru_ops.cc\",\r\n     ],\r\n     gpu_srcs = [\r\n         \"kernels/blas_gemm.h\",\r\n@@ -344,6 +346,8 @@ tf_kernel_library(\r\n     srcs = [\r\n         \"kernels/blas_gemm.cc\",\r\n         \"kernels/blas_gemm.h\",\r\n+        \"kernels/lstm_ops.h\",\r\n+        \"ops/lstm_ops.cc\",\r\n     ],\r\n     gpu_srcs = [\r\n         \"kernels/blas_gemm.h\",\r\n```\r\n\r\nAnd adding ```\"//tensorflow/contrib/rnn:gru_ops_kernels\"``` and/or ```\"//tensorflow/contrib/rnn:lstm_ops_kernels\"``` to the deps of the respective binary.\r\n\r\n(using r1.3)"}