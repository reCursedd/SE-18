{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/77038068", "pull_request_review_id": null, "id": 77038068, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDc3MDM4MDY4", "diff_hunk": "@@ -478,6 +478,14 @@ REGISTER_OP(\"Ceil\")\n Returns element-wise smallest integer in not less than x.\n )doc\");\n \n+REGISTER_OP(\"Rint\")\n+    .Input(\"x: T\")\n+    .Output(\"y: T\")\n+    .Attr(\"T: {float, double}\")\n+    .Doc(R\"doc(\n+Returns element-wise integer closest to x.", "path": "tensorflow/core/ops/math_ops.cc", "position": null, "original_position": 9, "commit_id": "9696341a6a1779eb2888917909cfeab8ddf32644", "original_commit_id": "0bfab954645d0a2c02f3e2f54382bdd84f950024", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "body": "@girving would have useful knowledge here.\n\nOn Wed, Aug 31, 2016 at 10:41 AM, Fabrizio Milo notifications@github.com\nwrote:\n\n> In tensorflow/core/ops/math_ops.cc\n> https://github.com/tensorflow/tensorflow/pull/4113#discussion_r77035381:\n> \n> > @@ -478,6 +478,14 @@ REGISTER_OP(\"Ceil\")\n> >  Returns element-wise smallest integer in not less than x.\n> >  )doc\");\n> > \n> > +REGISTER_OP(\"Rint\")\n> > -    .Input(\"x: T\")\n> > -    .Output(\"y: T\")\n> > -    .Attr(\"T: {float, double}\")\n> > -    .Doc(R\"doc(\n> >   +Returns element-wise integer closest to x.\n> \n> Interesting the underyling std::rint operator behaves differently based\n> on the current rounding mode: std::fesetround\n> http://en.cppreference.com/w/cpp/numeric/fenv/FE_round. Seems TF does\n> not set this explicitly in the code base neither does Eigen (checked this\n> doing an ack fsetround). Should we set the mode explicitly ?\n> \n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> https://github.com/tensorflow/tensorflow/pull/4113/files/0bfab954645d0a2c02f3e2f54382bdd84f950024#r77035381,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAjO_QKStgVDqNctouxhPggzc7BXFyKoks5qlbzZgaJpZM4JxJ4z\n> .\n", "created_at": "2016-08-31T17:53:40Z", "updated_at": "2016-11-16T01:53:35Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/4113#discussion_r77038068", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/4113", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/77038068"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/4113#discussion_r77038068"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/4113"}}, "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=70511\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/girving\">@girving</a> would have useful knowledge here.</p>\n<p>On Wed, Aug 31, 2016 at 10:41 AM, Fabrizio Milo <a href=\"mailto:notifications@github.com\">notifications@github.com</a><br>\nwrote:</p>\n<blockquote>\n<p>In tensorflow/core/ops/math_ops.cc<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174166689\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4113\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/4113/hovercard?comment_id=77035381&amp;comment_type=review_comment\" href=\"https://github.com/tensorflow/tensorflow/pull/4113#discussion_r77035381\">#4113 (comment)</a>:</p>\n<blockquote>\n<p>@@ -478,6 +478,14 @@ REGISTER_OP(\"Ceil\")<br>\nReturns element-wise smallest integer in not less than x.<br>\n)doc\");</p>\n<p>+REGISTER_OP(\"Rint\")</p>\n<ul>\n<li>.Input(\"x: T\")</li>\n<li>.Output(\"y: T\")</li>\n<li>.Attr(\"T: {float, double}\")</li>\n<li>.Doc(R\"doc(<br>\n+Returns element-wise integer closest to x.</li>\n</ul>\n</blockquote>\n<p>Interesting the underyling std::rint operator behaves differently based<br>\non the current rounding mode: std::fesetround<br>\n<a href=\"http://en.cppreference.com/w/cpp/numeric/fenv/FE_round\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/numeric/fenv/FE_round</a>. Seems TF does<br>\nnot set this explicitly in the code base neither does Eigen (checked this<br>\ndoing an ack fsetround). Should we set the mode explicitly ?</p>\n<p>\u2014<br>\nYou are receiving this because you commented.<br>\nReply to this email directly, view it on GitHub<br>\n<a href=\"https://github.com/tensorflow/tensorflow/pull/4113/files/0bfab954645d0a2c02f3e2f54382bdd84f950024#r77035381\">https://github.com/tensorflow/tensorflow/pull/4113/files/0bfab954645d0a2c02f3e2f54382bdd84f950024#r77035381</a>,<br>\nor mute the thread<br>\n<a href=\"https://github.com/notifications/unsubscribe-auth/AAjO_QKStgVDqNctouxhPggzc7BXFyKoks5qlbzZgaJpZM4JxJ4z\">https://github.com/notifications/unsubscribe-auth/AAjO_QKStgVDqNctouxhPggzc7BXFyKoks5qlbzZgaJpZM4JxJ4z</a><br>\n.</p>\n</blockquote>", "body_text": "@girving would have useful knowledge here.\nOn Wed, Aug 31, 2016 at 10:41 AM, Fabrizio Milo notifications@github.com\nwrote:\n\nIn tensorflow/core/ops/math_ops.cc\n#4113 (comment):\n\n@@ -478,6 +478,14 @@ REGISTER_OP(\"Ceil\")\nReturns element-wise smallest integer in not less than x.\n)doc\");\n+REGISTER_OP(\"Rint\")\n\n.Input(\"x: T\")\n.Output(\"y: T\")\n.Attr(\"T: {float, double}\")\n.Doc(R\"doc(\n+Returns element-wise integer closest to x.\n\n\nInteresting the underyling std::rint operator behaves differently based\non the current rounding mode: std::fesetround\nhttp://en.cppreference.com/w/cpp/numeric/fenv/FE_round. Seems TF does\nnot set this explicitly in the code base neither does Eigen (checked this\ndoing an ack fsetround). Should we set the mode explicitly ?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/tensorflow/tensorflow/pull/4113/files/0bfab954645d0a2c02f3e2f54382bdd84f950024#r77035381,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAjO_QKStgVDqNctouxhPggzc7BXFyKoks5qlbzZgaJpZM4JxJ4z\n."}