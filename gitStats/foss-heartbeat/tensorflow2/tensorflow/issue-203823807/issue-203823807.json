{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7127", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7127/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7127/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7127/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7127", "id": 203823807, "node_id": "MDU6SXNzdWUyMDM4MjM4MDc=", "number": 7127, "title": "graph nodes inside sess.run() brackets should be garbage-collected", "user": {"login": "MKorablyov", "id": 4640141, "node_id": "MDQ6VXNlcjQ2NDAxNDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/4640141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MKorablyov", "html_url": "https://github.com/MKorablyov", "followers_url": "https://api.github.com/users/MKorablyov/followers", "following_url": "https://api.github.com/users/MKorablyov/following{/other_user}", "gists_url": "https://api.github.com/users/MKorablyov/gists{/gist_id}", "starred_url": "https://api.github.com/users/MKorablyov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MKorablyov/subscriptions", "organizations_url": "https://api.github.com/users/MKorablyov/orgs", "repos_url": "https://api.github.com/users/MKorablyov/repos", "events_url": "https://api.github.com/users/MKorablyov/events{/privacy}", "received_events_url": "https://api.github.com/users/MKorablyov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-01-28T18:48:49Z", "updated_at": "2017-01-28T20:50:17Z", "closed_at": "2017-01-28T20:50:17Z", "author_association": "NONE", "body_html": "<p>My input pipeline returns current epoch, and batch of images.</p>\n<p>epoch,label_batch,image_batch  = my_input_pipeline(.....)<br>\n.....</p>\n<p>Two examples:<br>\n<code>sess.run(epoch[0],train_step_run)</code><br>\ngives 15 examples per second and RAM get filled over time very slowly.<br>\n<code> sess.run(epoch,train_step_run)</code><br>\nruns 100 examples per second and is stable.</p>\n<p>It would be great to make sess.run brackets \"special\" so that some TF function within it does not construct an infinite graph.</p>", "body_text": "My input pipeline returns current epoch, and batch of images.\nepoch,label_batch,image_batch  = my_input_pipeline(.....)\n.....\nTwo examples:\nsess.run(epoch[0],train_step_run)\ngives 15 examples per second and RAM get filled over time very slowly.\n sess.run(epoch,train_step_run)\nruns 100 examples per second and is stable.\nIt would be great to make sess.run brackets \"special\" so that some TF function within it does not construct an infinite graph.", "body": "My input pipeline returns current epoch, and batch of images.\r\n\r\nepoch,label_batch,image_batch  = my_input_pipeline(.....)\r\n.....\r\n\r\nTwo examples:\r\n`sess.run(epoch[0],train_step_run)`\r\ngives 15 examples per second and RAM get filled over time very slowly.\r\n`\r\nsess.run(epoch,train_step_run)`\r\nruns 100 examples per second and is stable. \r\n\r\nIt would be great to make sess.run brackets \"special\" so that some TF function within it does not construct an infinite graph.\r\n"}