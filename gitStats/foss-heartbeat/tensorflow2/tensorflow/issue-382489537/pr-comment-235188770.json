{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/235188770", "pull_request_review_id": 176998958, "id": 235188770, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTE4ODc3MA==", "diff_hunk": "@@ -406,22 +406,43 @@ tensorflow::Status SegmentGraph(\n   // Use a union-find to collect the nodes that belong to the same\n   // segment. A node value of nullptr indicates that the node is not a candidate\n   // for TRT.\n+  std::unordered_set<string> unsupported_ops;\n+  int num_unsupported_ops = 0;\n   std::vector<UnionFind<SimpleNode*>> node_segments;\n   for (int i = 0; i < graph->num_node_ids(); ++i) {\n     SimpleNode* node = graph->FindNodeId(i);\n     if (options.exclude_node_list.count(node->name()) != 0) {\n-      VLOG(1) << \"Not a TF-TRT candidate: \" << node->name()\n-              << \" (excluded by segmenter option).\";\n+      VLOG(1) << \"Not a TF-TRT candidate, \"\n+              << \"(Op type: \" << node->tf_node()->type_string() << \"), \"\n+              << \"(Op name: \" << node->name() << \"), \"\n+              << \"(Reason: excluded by segmenter option)\";\n+      unsupported_ops.emplace(node->tf_node()->type_string());\n+      num_unsupported_ops++;\n       node = nullptr;\n     } else {\n       const Status status = candidate_fn(node->tf_node());\n       if (!status.ok()) {\n-        VLOG(1) << \"Not a TF-TRT candidate: \" << node->name() << \": \" << status;\n+        VLOG(1) << \"Not a TF-TRT candidate, \"\n+                << \"(Op type: \" << node->tf_node()->type_string() << \"), \"\n+                << \"(Op name: \" << node->name() << \"), \"\n+                << \"(Reason: \" << status << \")\";\n+        unsupported_ops.emplace(node->tf_node()->type_string());\n+        num_unsupported_ops++;\n         node = nullptr;\n       }\n     }\n     node_segments.emplace_back(node);\n   }\n+  string msg = \"There are \"", "path": "tensorflow/contrib/tensorrt/segment/segment.cc", "position": null, "original_position": 34, "commit_id": "09b97212ff568282aa07af48eb3ae908946de4c7", "original_commit_id": "e13fa8d670b2dba7ba337471c918e5dbbeca3072", "user": {"login": "pooyadavoodi", "id": 7076961, "node_id": "MDQ6VXNlcjcwNzY5NjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7076961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pooyadavoodi", "html_url": "https://github.com/pooyadavoodi", "followers_url": "https://api.github.com/users/pooyadavoodi/followers", "following_url": "https://api.github.com/users/pooyadavoodi/following{/other_user}", "gists_url": "https://api.github.com/users/pooyadavoodi/gists{/gist_id}", "starred_url": "https://api.github.com/users/pooyadavoodi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pooyadavoodi/subscriptions", "organizations_url": "https://api.github.com/users/pooyadavoodi/orgs", "repos_url": "https://api.github.com/users/pooyadavoodi/repos", "events_url": "https://api.github.com/users/pooyadavoodi/events{/privacy}", "received_events_url": "https://api.github.com/users/pooyadavoodi/received_events", "type": "User", "site_admin": false}, "body": "Done", "created_at": "2018-11-20T22:13:49Z", "updated_at": "2018-11-21T16:05:07Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/23866#discussion_r235188770", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23866", "author_association": "NONE", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/235188770"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/23866#discussion_r235188770"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23866"}}, "body_html": "<p>Done</p>", "body_text": "Done", "in_reply_to_id": 235070279}