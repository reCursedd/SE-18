{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9180", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9180/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9180/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9180/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9180", "id": 221485802, "node_id": "MDU6SXNzdWUyMjE0ODU4MDI=", "number": 9180, "title": "Make `py_func` accept `SparseTensor`", "user": {"login": "jingjingwang", "id": 2280236, "node_id": "MDQ6VXNlcjIyODAyMzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/2280236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingjingwang", "html_url": "https://github.com/jingjingwang", "followers_url": "https://api.github.com/users/jingjingwang/followers", "following_url": "https://api.github.com/users/jingjingwang/following{/other_user}", "gists_url": "https://api.github.com/users/jingjingwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingjingwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingjingwang/subscriptions", "organizations_url": "https://api.github.com/users/jingjingwang/orgs", "repos_url": "https://api.github.com/users/jingjingwang/repos", "events_url": "https://api.github.com/users/jingjingwang/events{/privacy}", "received_events_url": "https://api.github.com/users/jingjingwang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-04-13T07:54:14Z", "updated_at": "2018-08-15T01:23:00Z", "closed_at": null, "author_association": "NONE", "body_html": "<h3>Describe the problem clearly</h3>\n<p>According to the <a href=\"https://www.tensorflow.org/api_docs/python/tf/py_func\" rel=\"nofollow\">doc</a>, <code>py_func</code> accepts <code>inp</code> as a list of tensors (or convertible to tensor). However <code>SparseTensor</code> is not one of them. Could we support <code>SparseTensor</code> as well? Semantically there is no reason to treat <code>SparseTensor</code> differently.</p>\n<h3>Source Code / Logs</h3>\n<pre><code>my_sparse_tensor = tf.SparseTensor(...)\ntf.py_func(my_py_func, [my_sparse_tensor, ...], [tf.float32])\n</code></pre>\n<p>What I got:</p>\n<p><code>TypeError: Tensors in list passed to 'input' of 'PyFunc' Op have types [&lt;NOT CONVERTIBLE TO TENSOR&gt;, ...] that are invalid</code>.</p>", "body_text": "Describe the problem clearly\nAccording to the doc, py_func accepts inp as a list of tensors (or convertible to tensor). However SparseTensor is not one of them. Could we support SparseTensor as well? Semantically there is no reason to treat SparseTensor differently.\nSource Code / Logs\nmy_sparse_tensor = tf.SparseTensor(...)\ntf.py_func(my_py_func, [my_sparse_tensor, ...], [tf.float32])\n\nWhat I got:\nTypeError: Tensors in list passed to 'input' of 'PyFunc' Op have types [<NOT CONVERTIBLE TO TENSOR>, ...] that are invalid.", "body": "### Describe the problem clearly\r\nAccording to the [doc](https://www.tensorflow.org/api_docs/python/tf/py_func), `py_func` accepts `inp` as a list of tensors (or convertible to tensor). However `SparseTensor` is not one of them. Could we support `SparseTensor` as well? Semantically there is no reason to treat `SparseTensor` differently.\r\n\r\n### Source Code / Logs\r\n```\r\nmy_sparse_tensor = tf.SparseTensor(...)\r\ntf.py_func(my_py_func, [my_sparse_tensor, ...], [tf.float32])\r\n```\r\nWhat I got:\r\n\r\n`TypeError: Tensors in list passed to 'input' of 'PyFunc' Op have types [<NOT CONVERTIBLE TO TENSOR>, ...] that are invalid`.\r\n"}