{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15306", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15306/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15306/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15306/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15306", "id": 281335889, "node_id": "MDU6SXNzdWUyODEzMzU4ODk=", "number": 15306, "title": "GO Tests Fail for Tensorflow 1.4.0 but example code works on amd64 and arm64", "user": {"login": "meldron", "id": 5972779, "node_id": "MDQ6VXNlcjU5NzI3Nzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/5972779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meldron", "html_url": "https://github.com/meldron", "followers_url": "https://api.github.com/users/meldron/followers", "following_url": "https://api.github.com/users/meldron/following{/other_user}", "gists_url": "https://api.github.com/users/meldron/gists{/gist_id}", "starred_url": "https://api.github.com/users/meldron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meldron/subscriptions", "organizations_url": "https://api.github.com/users/meldron/orgs", "repos_url": "https://api.github.com/users/meldron/repos", "events_url": "https://api.github.com/users/meldron/events{/privacy}", "received_events_url": "https://api.github.com/users/meldron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-12T10:41:30Z", "updated_at": "2018-01-03T08:12:37Z", "closed_at": "2018-01-03T08:12:37Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><del><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong></del>:</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:  Linux Ubuntu 16.04 on amd64 and arm64</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: amd64: binary (<a href=\"https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-gpu-linux-x86_64-1.4.0.tar.gz\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-gpu-linux-x86_64-1.4.0.tar.gz</a>); arch64: source (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/d752244fbaad5e4268243355046d30990f59418f/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/d752244fbaad5e4268243355046d30990f59418f\"><tt>d752244</tt></a>) <code>//tensorflow:libtensorflow.so</code></li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.4.0</li>\n<li><strong>Python version</strong>: python3.5</li>\n<li><strong>Bazel version (if compiling from source)</strong>:  arm64: 0.7.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: arm64: 5.4.0-6ubuntu1~16.04.5</li>\n<li><strong>CUDA/cuDNN version</strong>: amd64: cuda-8.0 | libcudnn.so.6</li>\n<li><strong>GPU model and memory</strong>: amd64: GeForce GTX 1060 6071MiB</li>\n<li><strong>Exact command to reproduce</strong>: <code>go test github.com/tensorflow/tensorflow/tensorflow/go</code></li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Test fail but <a href=\"https://godoc.org/github.com/tensorflow/tensorflow/tensorflow/go#example-package\" rel=\"nofollow\">example code</a> work on both platforms.</p>\n<h3>Source code / logs</h3>\n<p>amd64:</p>\n<pre><code>2017-12-12 11:37:29.916413: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2\n2017-12-12 11:37:29.918709: F tensorflow/core/framework/tensor.cc:822] Unexpected type: 23\nSIGABRT: abort\nPC=0x7f9b403b4428 m=4 sigcode=18446744073709551610\nsignal arrived during cgo execution\n\ngoroutine 29 [syscall, locked to thread]:\nruntime.cgocall(0x657730, 0xc4200479d0, 0xc4200479f8)\n\t/usr/local/go/src/runtime/cgocall.go:132 +0xe4 fp=0xc4200479a0 sp=0xc420047960 pc=0x405574\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SetAttrTensor(0x7f9b0800c380, 0x7f9b0800e190, 0x7f9b0800c840, 0x7f9b0800dc80)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_obj_test/_cgo_gotypes.go:919 +0x45 fp=0xc4200479d0 sp=0xc4200479a0 pc=0x52d725\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr.func18(0x7f9b0800c380, 0x7f9b0800e190, 0x7f9b0800c840, 0x7f9b0800dc80)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0xec fp=0xc420047a08 sp=0xc4200479d0 pc=0x539cdc\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr(0x7f9b0800c380, 0xc42000e0c0, 0x6f01be, 0x5, 0x6b70c0, 0xc4200ec4c0, 0x0, 0x0)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0x10f1 fp=0xc420047c00 sp=0xc420047a08 pc=0x530481\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Graph).AddOperation(0xc42000e080, 0x6f0024, 0x5, 0xc42050a3b8, 0x6, 0x0, 0x0, 0x0, 0xc420080f00, 0x4b393b, ...)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:209 +0x4a0 fp=0xc420047d60 sp=0xc420047c00 pc=0x52f190\ngithub.com/tensorflow/tensorflow/tensorflow/go.Const(0xc42000e080, 0xc42050a3b8, 0x6, 0x683760, 0xc4200ec300, 0xc42050a3b8, 0x6, 0x4d499d, 0x7abe18)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/util_test.go:38 +0x221 fp=0xc420047e38 sp=0xc420047d60 pc=0x52a781\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape.func1(0xc420102780)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:137 +0x11e fp=0xc420047fa8 sp=0xc420047e38 pc=0x53708e\ntesting.tRunner(0xc420102780, 0xc4200ec480)\n\t/usr/local/go/src/testing/testing.go:746 +0xd0 fp=0xc420047fd0 sp=0xc420047fa8 pc=0x4d4a40\nruntime.goexit()\n\t/usr/local/go/src/runtime/asm_amd64.s:2337 +0x1 fp=0xc420047fd8 sp=0xc420047fd0 pc=0x45fa31\ncreated by testing.(*T).Run\n\t/usr/local/go/src/testing/testing.go:789 +0x2de\n\ngoroutine 1 [chan receive]:\ntesting.(*T).Run(0xc420102000, 0x6f62b2, 0x1a, 0x703770, 0x47b401)\n\t/usr/local/go/src/testing/testing.go:790 +0x2fc\ntesting.runTests.func1(0xc420102000)\n\t/usr/local/go/src/testing/testing.go:1004 +0x64\ntesting.tRunner(0xc420102000, 0xc420057de0)\n\t/usr/local/go/src/testing/testing.go:746 +0xd0\ntesting.runTests(0xc4200ec220, 0xa423e0, 0x11, 0x11, 0xc420057e78)\n\t/usr/local/go/src/testing/testing.go:1002 +0x2d8\ntesting.(*M).Run(0xc420057f18, 0xc420057f70)\n\t/usr/local/go/src/testing/testing.go:921 +0x111\nmain.main()\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_testmain.go:84 +0xdb\n\ngoroutine 25 [chan receive]:\ntesting.(*T).Run(0xc4201023c0, 0xc4200145a0, 0x13, 0xc4200ec480, 0x2)\n\t/usr/local/go/src/testing/testing.go:790 +0x2fc\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape(0xc4201023c0)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:136 +0x56e\ntesting.tRunner(0xc4201023c0, 0x703770)\n\t/usr/local/go/src/testing/testing.go:746 +0xd0\ncreated by testing.(*T).Run\n\t/usr/local/go/src/testing/testing.go:789 +0x2de\n\nrax    0x0\nrbx    0x7f9b1fbfca30\nrcx    0x7f9b403b4428\nrdx    0x6\nrdi    0x20a0\nrsi    0x20a3\nrbp    0x7f9b1fbfca20\nrsp    0x7f9b1fbfc8e8\nr8     0x7f9b0800eb80\nr9     0x0\nr10    0x8\nr11    0x206\nr12    0x7f9b1fbfcc50\nr13    0x17\nr14    0x5\nr15    0x7f9b1fbfcc50\nrip    0x7f9b403b4428\nrflags 0x206\ncs     0x33\nfs     0x0\ngs     0x0\nFAIL\tgithub.com/tensorflow/tensorflow/tensorflow/go\t0.059s\n</code></pre>\n<p>arm64:</p>\n<pre><code>2017-12-12 11:40:20.357262: F tensorflow/core/framework/tensor.cc:822] Unexpected type: 23\nSIGABRT: abort\nPC=0x7f7a686528 m=0 sigcode=18446744073709551610\nsignal arrived during cgo execution\n\ngoroutine 56 [syscall, locked to thread]:\nruntime.cgocall(0x5e9a48, 0x442003d9d8, 0x29)\n\t/usr/local/go/src/runtime/cgocall.go:132 +0xa0 fp=0x442003d9a0 sp=0x442003d960 pc=0x405280\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SetAttrTensor(0xa2bac10, 0xa24bfa0, 0x9fcbb50, 0xa289620)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_obj_test/_cgo_gotypes.go:919 +0x38 fp=0x442003d9d0 sp=0x442003d9a0 pc=0x508468\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr.func18(0xa2bac10, 0xa24bfa0, 0x9fcbb50, 0xa289620)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0xa4 fp=0x442003da00 sp=0x442003d9d0 pc=0x511e04\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr(0xa2bac10, 0x442008a0c0, 0x6809f9, 0x5, 0x648200, 0x4420106480, 0x0, 0x0)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0xd7c fp=0x442003dc00 sp=0x442003da00 pc=0x50aa3c\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Graph).AddOperation(0x442008a088, 0x680864, 0x5, 0x4420086728, 0x6, 0x0, 0x0, 0x0, 0x442007ef00, 0x4a1f7c, ...)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:209 +0x3b8 fp=0x442003dd60 sp=0x442003dc00 pc=0x509b38\ngithub.com/tensorflow/tensorflow/tensorflow/go.Const(0x442008a088, 0x4420086728, 0x6, 0x615100, 0x44201062c0, 0x4420086728, 0x6, 0x445a01, 0x80)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/util_test.go:38 +0x190 fp=0x442003de30 sp=0x442003dd60 pc=0x505a90\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape.func1(0x442011e780)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:137 +0xc4 fp=0x442003dfa0 sp=0x442003de30 pc=0x50fd44\ntesting.tRunner(0x442011e780, 0x4420106440)\n\t/usr/local/go/src/testing/testing.go:746 +0xb0 fp=0x442003dfc0 sp=0x442003dfa0 pc=0x4bd240\nruntime.goexit()\n\t/usr/local/go/src/runtime/asm_arm64.s:931 +0x4 fp=0x442003dfc0 sp=0x442003dfc0 pc=0x456a44\ncreated by testing.(*T).Run\n\t/usr/local/go/src/testing/testing.go:789 +0x244\n\ngoroutine 1 [chan receive]:\ntesting.(*T).Run(0x442011e000, 0x686c26, 0x1a, 0x694188, 0x5a2fb201)\n\t/usr/local/go/src/testing/testing.go:790 +0x258\ntesting.runTests.func1(0x442011e000)\n\t/usr/local/go/src/testing/testing.go:1004 +0x54\ntesting.tRunner(0x442011e000, 0x4420051dd0)\n\t/usr/local/go/src/testing/testing.go:746 +0xb0\ntesting.runTests(0x44201061c0, 0x7d8300, 0x11, 0x11, 0x3e7)\n\t/usr/local/go/src/testing/testing.go:1002 +0x280\ntesting.(*M).Run(0x4420051f18, 0x42d01c)\n\t/usr/local/go/src/testing/testing.go:921 +0xf0\nmain.main()\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_testmain.go:84 +0xd0\n\ngoroutine 52 [chan receive]:\ntesting.(*T).Run(0x442011e3c0, 0x44200c02c0, 0x13, 0x4420106440, 0x2)\n\t/usr/local/go/src/testing/testing.go:790 +0x258\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape(0x442011e3c0)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:136 +0x540\ntesting.tRunner(0x442011e3c0, 0x694188)\n\t/usr/local/go/src/testing/testing.go:746 +0xb0\ncreated by testing.(*T).Run\n\t/usr/local/go/src/testing/testing.go:789 +0x244\n\nr0      0x0\nr1      0x363f\nr2      0x6\nr3      0x7f7c729000\nr4      0x363f\nr5      0x7f7c7296f0\nr6      0x0\nr7      0x0\nr8      0x83\nr9      0x9fa59e0\nr10     0x7fdb6f6760\nr11     0x7fdb6f6760\nr12     0xa3d70a3d70a3d70b\nr13     0x7fdb6f6706\nr14     0x0\nr15     0x1db\nr16     0x7f7a639120\nr17     0x7f7a687830\nr18     0x14\nr19     0x7f7a797000\nr20     0x7f7c729000\nr21     0x7f7a7979d8\nr22     0xa322700\nr23     0x5\nr24     0xa2bac10\nr25     0x0\nr26     0x6941e0\nr27     0x10\nr28     0x80b700\nr29     0x7fdb6f66e0\nlr      0x7f7a6879e0\nsp      0x7fdb6f66e0\npc      0x7f7a686528\nfault   0x0\nFAIL\tgithub.com/tensorflow/tensorflow/tensorflow/go\t0.261s\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):  Linux Ubuntu 16.04 on amd64 and arm64\nTensorFlow installed from (source or binary): amd64: binary (https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-gpu-linux-x86_64-1.4.0.tar.gz); arch64: source (d752244) //tensorflow:libtensorflow.so\nTensorFlow version (use command below): 1.4.0\nPython version: python3.5\nBazel version (if compiling from source):  arm64: 0.7.0\nGCC/Compiler version (if compiling from source): arm64: 5.4.0-6ubuntu1~16.04.5\nCUDA/cuDNN version: amd64: cuda-8.0 | libcudnn.so.6\nGPU model and memory: amd64: GeForce GTX 1060 6071MiB\nExact command to reproduce: go test github.com/tensorflow/tensorflow/tensorflow/go\n\nDescribe the problem\nTest fail but example code work on both platforms.\nSource code / logs\namd64:\n2017-12-12 11:37:29.916413: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2\n2017-12-12 11:37:29.918709: F tensorflow/core/framework/tensor.cc:822] Unexpected type: 23\nSIGABRT: abort\nPC=0x7f9b403b4428 m=4 sigcode=18446744073709551610\nsignal arrived during cgo execution\n\ngoroutine 29 [syscall, locked to thread]:\nruntime.cgocall(0x657730, 0xc4200479d0, 0xc4200479f8)\n\t/usr/local/go/src/runtime/cgocall.go:132 +0xe4 fp=0xc4200479a0 sp=0xc420047960 pc=0x405574\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SetAttrTensor(0x7f9b0800c380, 0x7f9b0800e190, 0x7f9b0800c840, 0x7f9b0800dc80)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_obj_test/_cgo_gotypes.go:919 +0x45 fp=0xc4200479d0 sp=0xc4200479a0 pc=0x52d725\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr.func18(0x7f9b0800c380, 0x7f9b0800e190, 0x7f9b0800c840, 0x7f9b0800dc80)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0xec fp=0xc420047a08 sp=0xc4200479d0 pc=0x539cdc\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr(0x7f9b0800c380, 0xc42000e0c0, 0x6f01be, 0x5, 0x6b70c0, 0xc4200ec4c0, 0x0, 0x0)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0x10f1 fp=0xc420047c00 sp=0xc420047a08 pc=0x530481\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Graph).AddOperation(0xc42000e080, 0x6f0024, 0x5, 0xc42050a3b8, 0x6, 0x0, 0x0, 0x0, 0xc420080f00, 0x4b393b, ...)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:209 +0x4a0 fp=0xc420047d60 sp=0xc420047c00 pc=0x52f190\ngithub.com/tensorflow/tensorflow/tensorflow/go.Const(0xc42000e080, 0xc42050a3b8, 0x6, 0x683760, 0xc4200ec300, 0xc42050a3b8, 0x6, 0x4d499d, 0x7abe18)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/util_test.go:38 +0x221 fp=0xc420047e38 sp=0xc420047d60 pc=0x52a781\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape.func1(0xc420102780)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:137 +0x11e fp=0xc420047fa8 sp=0xc420047e38 pc=0x53708e\ntesting.tRunner(0xc420102780, 0xc4200ec480)\n\t/usr/local/go/src/testing/testing.go:746 +0xd0 fp=0xc420047fd0 sp=0xc420047fa8 pc=0x4d4a40\nruntime.goexit()\n\t/usr/local/go/src/runtime/asm_amd64.s:2337 +0x1 fp=0xc420047fd8 sp=0xc420047fd0 pc=0x45fa31\ncreated by testing.(*T).Run\n\t/usr/local/go/src/testing/testing.go:789 +0x2de\n\ngoroutine 1 [chan receive]:\ntesting.(*T).Run(0xc420102000, 0x6f62b2, 0x1a, 0x703770, 0x47b401)\n\t/usr/local/go/src/testing/testing.go:790 +0x2fc\ntesting.runTests.func1(0xc420102000)\n\t/usr/local/go/src/testing/testing.go:1004 +0x64\ntesting.tRunner(0xc420102000, 0xc420057de0)\n\t/usr/local/go/src/testing/testing.go:746 +0xd0\ntesting.runTests(0xc4200ec220, 0xa423e0, 0x11, 0x11, 0xc420057e78)\n\t/usr/local/go/src/testing/testing.go:1002 +0x2d8\ntesting.(*M).Run(0xc420057f18, 0xc420057f70)\n\t/usr/local/go/src/testing/testing.go:921 +0x111\nmain.main()\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_testmain.go:84 +0xdb\n\ngoroutine 25 [chan receive]:\ntesting.(*T).Run(0xc4201023c0, 0xc4200145a0, 0x13, 0xc4200ec480, 0x2)\n\t/usr/local/go/src/testing/testing.go:790 +0x2fc\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape(0xc4201023c0)\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:136 +0x56e\ntesting.tRunner(0xc4201023c0, 0x703770)\n\t/usr/local/go/src/testing/testing.go:746 +0xd0\ncreated by testing.(*T).Run\n\t/usr/local/go/src/testing/testing.go:789 +0x2de\n\nrax    0x0\nrbx    0x7f9b1fbfca30\nrcx    0x7f9b403b4428\nrdx    0x6\nrdi    0x20a0\nrsi    0x20a3\nrbp    0x7f9b1fbfca20\nrsp    0x7f9b1fbfc8e8\nr8     0x7f9b0800eb80\nr9     0x0\nr10    0x8\nr11    0x206\nr12    0x7f9b1fbfcc50\nr13    0x17\nr14    0x5\nr15    0x7f9b1fbfcc50\nrip    0x7f9b403b4428\nrflags 0x206\ncs     0x33\nfs     0x0\ngs     0x0\nFAIL\tgithub.com/tensorflow/tensorflow/tensorflow/go\t0.059s\n\narm64:\n2017-12-12 11:40:20.357262: F tensorflow/core/framework/tensor.cc:822] Unexpected type: 23\nSIGABRT: abort\nPC=0x7f7a686528 m=0 sigcode=18446744073709551610\nsignal arrived during cgo execution\n\ngoroutine 56 [syscall, locked to thread]:\nruntime.cgocall(0x5e9a48, 0x442003d9d8, 0x29)\n\t/usr/local/go/src/runtime/cgocall.go:132 +0xa0 fp=0x442003d9a0 sp=0x442003d960 pc=0x405280\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SetAttrTensor(0xa2bac10, 0xa24bfa0, 0x9fcbb50, 0xa289620)\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_obj_test/_cgo_gotypes.go:919 +0x38 fp=0x442003d9d0 sp=0x442003d9a0 pc=0x508468\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr.func18(0xa2bac10, 0xa24bfa0, 0x9fcbb50, 0xa289620)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0xa4 fp=0x442003da00 sp=0x442003d9d0 pc=0x511e04\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr(0xa2bac10, 0x442008a0c0, 0x6809f9, 0x5, 0x648200, 0x4420106480, 0x0, 0x0)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0xd7c fp=0x442003dc00 sp=0x442003da00 pc=0x50aa3c\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Graph).AddOperation(0x442008a088, 0x680864, 0x5, 0x4420086728, 0x6, 0x0, 0x0, 0x0, 0x442007ef00, 0x4a1f7c, ...)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:209 +0x3b8 fp=0x442003dd60 sp=0x442003dc00 pc=0x509b38\ngithub.com/tensorflow/tensorflow/tensorflow/go.Const(0x442008a088, 0x4420086728, 0x6, 0x615100, 0x44201062c0, 0x4420086728, 0x6, 0x445a01, 0x80)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/util_test.go:38 +0x190 fp=0x442003de30 sp=0x442003dd60 pc=0x505a90\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape.func1(0x442011e780)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:137 +0xc4 fp=0x442003dfa0 sp=0x442003de30 pc=0x50fd44\ntesting.tRunner(0x442011e780, 0x4420106440)\n\t/usr/local/go/src/testing/testing.go:746 +0xb0 fp=0x442003dfc0 sp=0x442003dfa0 pc=0x4bd240\nruntime.goexit()\n\t/usr/local/go/src/runtime/asm_arm64.s:931 +0x4 fp=0x442003dfc0 sp=0x442003dfc0 pc=0x456a44\ncreated by testing.(*T).Run\n\t/usr/local/go/src/testing/testing.go:789 +0x244\n\ngoroutine 1 [chan receive]:\ntesting.(*T).Run(0x442011e000, 0x686c26, 0x1a, 0x694188, 0x5a2fb201)\n\t/usr/local/go/src/testing/testing.go:790 +0x258\ntesting.runTests.func1(0x442011e000)\n\t/usr/local/go/src/testing/testing.go:1004 +0x54\ntesting.tRunner(0x442011e000, 0x4420051dd0)\n\t/usr/local/go/src/testing/testing.go:746 +0xb0\ntesting.runTests(0x44201061c0, 0x7d8300, 0x11, 0x11, 0x3e7)\n\t/usr/local/go/src/testing/testing.go:1002 +0x280\ntesting.(*M).Run(0x4420051f18, 0x42d01c)\n\t/usr/local/go/src/testing/testing.go:921 +0xf0\nmain.main()\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_testmain.go:84 +0xd0\n\ngoroutine 52 [chan receive]:\ntesting.(*T).Run(0x442011e3c0, 0x44200c02c0, 0x13, 0x4420106440, 0x2)\n\t/usr/local/go/src/testing/testing.go:790 +0x258\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape(0x442011e3c0)\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:136 +0x540\ntesting.tRunner(0x442011e3c0, 0x694188)\n\t/usr/local/go/src/testing/testing.go:746 +0xb0\ncreated by testing.(*T).Run\n\t/usr/local/go/src/testing/testing.go:789 +0x244\n\nr0      0x0\nr1      0x363f\nr2      0x6\nr3      0x7f7c729000\nr4      0x363f\nr5      0x7f7c7296f0\nr6      0x0\nr7      0x0\nr8      0x83\nr9      0x9fa59e0\nr10     0x7fdb6f6760\nr11     0x7fdb6f6760\nr12     0xa3d70a3d70a3d70b\nr13     0x7fdb6f6706\nr14     0x0\nr15     0x1db\nr16     0x7f7a639120\nr17     0x7f7a687830\nr18     0x14\nr19     0x7f7a797000\nr20     0x7f7c729000\nr21     0x7f7a7979d8\nr22     0xa322700\nr23     0x5\nr24     0xa2bac10\nr25     0x0\nr26     0x6941e0\nr27     0x10\nr28     0x80b700\nr29     0x7fdb6f66e0\nlr      0x7f7a6879e0\nsp      0x7fdb6f66e0\npc      0x7f7a686528\nfault   0x0\nFAIL\tgithub.com/tensorflow/tensorflow/tensorflow/go\t0.261s", "body": "### System information\r\n- ~**Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**~:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:  Linux Ubuntu 16.04 on amd64 and arm64\r\n- **TensorFlow installed from (source or binary)**: amd64: binary (https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-gpu-linux-x86_64-1.4.0.tar.gz); arch64: source (d752244f) `//tensorflow:libtensorflow.so`\r\n- **TensorFlow version (use command below)**: 1.4.0\r\n- **Python version**: python3.5\r\n- **Bazel version (if compiling from source)**:  arm64: 0.7.0\r\n- **GCC/Compiler version (if compiling from source)**: arm64: 5.4.0-6ubuntu1~16.04.5\r\n- **CUDA/cuDNN version**: amd64: cuda-8.0 | libcudnn.so.6\r\n- **GPU model and memory**: amd64: GeForce GTX 1060 6071MiB\r\n- **Exact command to reproduce**: `go test github.com/tensorflow/tensorflow/tensorflow/go`\r\n\r\n### Describe the problem\r\nTest fail but [example code](https://godoc.org/github.com/tensorflow/tensorflow/tensorflow/go#example-package) work on both platforms. \r\n\r\n### Source code / logs\r\namd64:\r\n```\r\n2017-12-12 11:37:29.916413: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2\r\n2017-12-12 11:37:29.918709: F tensorflow/core/framework/tensor.cc:822] Unexpected type: 23\r\nSIGABRT: abort\r\nPC=0x7f9b403b4428 m=4 sigcode=18446744073709551610\r\nsignal arrived during cgo execution\r\n\r\ngoroutine 29 [syscall, locked to thread]:\r\nruntime.cgocall(0x657730, 0xc4200479d0, 0xc4200479f8)\r\n\t/usr/local/go/src/runtime/cgocall.go:132 +0xe4 fp=0xc4200479a0 sp=0xc420047960 pc=0x405574\r\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SetAttrTensor(0x7f9b0800c380, 0x7f9b0800e190, 0x7f9b0800c840, 0x7f9b0800dc80)\r\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_obj_test/_cgo_gotypes.go:919 +0x45 fp=0xc4200479d0 sp=0xc4200479a0 pc=0x52d725\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr.func18(0x7f9b0800c380, 0x7f9b0800e190, 0x7f9b0800c840, 0x7f9b0800dc80)\r\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0xec fp=0xc420047a08 sp=0xc4200479d0 pc=0x539cdc\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr(0x7f9b0800c380, 0xc42000e0c0, 0x6f01be, 0x5, 0x6b70c0, 0xc4200ec4c0, 0x0, 0x0)\r\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0x10f1 fp=0xc420047c00 sp=0xc420047a08 pc=0x530481\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Graph).AddOperation(0xc42000e080, 0x6f0024, 0x5, 0xc42050a3b8, 0x6, 0x0, 0x0, 0x0, 0xc420080f00, 0x4b393b, ...)\r\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:209 +0x4a0 fp=0xc420047d60 sp=0xc420047c00 pc=0x52f190\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.Const(0xc42000e080, 0xc42050a3b8, 0x6, 0x683760, 0xc4200ec300, 0xc42050a3b8, 0x6, 0x4d499d, 0x7abe18)\r\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/util_test.go:38 +0x221 fp=0xc420047e38 sp=0xc420047d60 pc=0x52a781\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape.func1(0xc420102780)\r\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:137 +0x11e fp=0xc420047fa8 sp=0xc420047e38 pc=0x53708e\r\ntesting.tRunner(0xc420102780, 0xc4200ec480)\r\n\t/usr/local/go/src/testing/testing.go:746 +0xd0 fp=0xc420047fd0 sp=0xc420047fa8 pc=0x4d4a40\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_amd64.s:2337 +0x1 fp=0xc420047fd8 sp=0xc420047fd0 pc=0x45fa31\r\ncreated by testing.(*T).Run\r\n\t/usr/local/go/src/testing/testing.go:789 +0x2de\r\n\r\ngoroutine 1 [chan receive]:\r\ntesting.(*T).Run(0xc420102000, 0x6f62b2, 0x1a, 0x703770, 0x47b401)\r\n\t/usr/local/go/src/testing/testing.go:790 +0x2fc\r\ntesting.runTests.func1(0xc420102000)\r\n\t/usr/local/go/src/testing/testing.go:1004 +0x64\r\ntesting.tRunner(0xc420102000, 0xc420057de0)\r\n\t/usr/local/go/src/testing/testing.go:746 +0xd0\r\ntesting.runTests(0xc4200ec220, 0xa423e0, 0x11, 0x11, 0xc420057e78)\r\n\t/usr/local/go/src/testing/testing.go:1002 +0x2d8\r\ntesting.(*M).Run(0xc420057f18, 0xc420057f70)\r\n\t/usr/local/go/src/testing/testing.go:921 +0x111\r\nmain.main()\r\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_testmain.go:84 +0xdb\r\n\r\ngoroutine 25 [chan receive]:\r\ntesting.(*T).Run(0xc4201023c0, 0xc4200145a0, 0x13, 0xc4200ec480, 0x2)\r\n\t/usr/local/go/src/testing/testing.go:790 +0x2fc\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape(0xc4201023c0)\r\n\t/home/meldron/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:136 +0x56e\r\ntesting.tRunner(0xc4201023c0, 0x703770)\r\n\t/usr/local/go/src/testing/testing.go:746 +0xd0\r\ncreated by testing.(*T).Run\r\n\t/usr/local/go/src/testing/testing.go:789 +0x2de\r\n\r\nrax    0x0\r\nrbx    0x7f9b1fbfca30\r\nrcx    0x7f9b403b4428\r\nrdx    0x6\r\nrdi    0x20a0\r\nrsi    0x20a3\r\nrbp    0x7f9b1fbfca20\r\nrsp    0x7f9b1fbfc8e8\r\nr8     0x7f9b0800eb80\r\nr9     0x0\r\nr10    0x8\r\nr11    0x206\r\nr12    0x7f9b1fbfcc50\r\nr13    0x17\r\nr14    0x5\r\nr15    0x7f9b1fbfcc50\r\nrip    0x7f9b403b4428\r\nrflags 0x206\r\ncs     0x33\r\nfs     0x0\r\ngs     0x0\r\nFAIL\tgithub.com/tensorflow/tensorflow/tensorflow/go\t0.059s\r\n```\r\n\r\narm64:\r\n```\r\n2017-12-12 11:40:20.357262: F tensorflow/core/framework/tensor.cc:822] Unexpected type: 23\r\nSIGABRT: abort\r\nPC=0x7f7a686528 m=0 sigcode=18446744073709551610\r\nsignal arrived during cgo execution\r\n\r\ngoroutine 56 [syscall, locked to thread]:\r\nruntime.cgocall(0x5e9a48, 0x442003d9d8, 0x29)\r\n\t/usr/local/go/src/runtime/cgocall.go:132 +0xa0 fp=0x442003d9a0 sp=0x442003d960 pc=0x405280\r\ngithub.com/tensorflow/tensorflow/tensorflow/go._Cfunc_TF_SetAttrTensor(0xa2bac10, 0xa24bfa0, 0x9fcbb50, 0xa289620)\r\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_obj_test/_cgo_gotypes.go:919 +0x38 fp=0x442003d9d0 sp=0x442003d9a0 pc=0x508468\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr.func18(0xa2bac10, 0xa24bfa0, 0x9fcbb50, 0xa289620)\r\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0xa4 fp=0x442003da00 sp=0x442003d9d0 pc=0x511e04\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.setAttr(0xa2bac10, 0x442008a0c0, 0x6809f9, 0x5, 0x648200, 0x4420106480, 0x0, 0x0)\r\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:306 +0xd7c fp=0x442003dc00 sp=0x442003da00 pc=0x50aa3c\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Graph).AddOperation(0x442008a088, 0x680864, 0x5, 0x4420086728, 0x6, 0x0, 0x0, 0x0, 0x442007ef00, 0x4a1f7c, ...)\r\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/graph.go:209 +0x3b8 fp=0x442003dd60 sp=0x442003dc00 pc=0x509b38\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.Const(0x442008a088, 0x4420086728, 0x6, 0x615100, 0x44201062c0, 0x4420086728, 0x6, 0x445a01, 0x80)\r\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/util_test.go:38 +0x190 fp=0x442003de30 sp=0x442003dd60 pc=0x505a90\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape.func1(0x442011e780)\r\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:137 +0xc4 fp=0x442003dfa0 sp=0x442003de30 pc=0x50fd44\r\ntesting.tRunner(0x442011e780, 0x4420106440)\r\n\t/usr/local/go/src/testing/testing.go:746 +0xb0 fp=0x442003dfc0 sp=0x442003dfa0 pc=0x4bd240\r\nruntime.goexit()\r\n\t/usr/local/go/src/runtime/asm_arm64.s:931 +0x4 fp=0x442003dfc0 sp=0x442003dfc0 pc=0x456a44\r\ncreated by testing.(*T).Run\r\n\t/usr/local/go/src/testing/testing.go:789 +0x244\r\n\r\ngoroutine 1 [chan receive]:\r\ntesting.(*T).Run(0x442011e000, 0x686c26, 0x1a, 0x694188, 0x5a2fb201)\r\n\t/usr/local/go/src/testing/testing.go:790 +0x258\r\ntesting.runTests.func1(0x442011e000)\r\n\t/usr/local/go/src/testing/testing.go:1004 +0x54\r\ntesting.tRunner(0x442011e000, 0x4420051dd0)\r\n\t/usr/local/go/src/testing/testing.go:746 +0xb0\r\ntesting.runTests(0x44201061c0, 0x7d8300, 0x11, 0x11, 0x3e7)\r\n\t/usr/local/go/src/testing/testing.go:1002 +0x280\r\ntesting.(*M).Run(0x4420051f18, 0x42d01c)\r\n\t/usr/local/go/src/testing/testing.go:921 +0xf0\r\nmain.main()\r\n\tgithub.com/tensorflow/tensorflow/tensorflow/go/_test/_testmain.go:84 +0xd0\r\n\r\ngoroutine 52 [chan receive]:\r\ntesting.(*T).Run(0x442011e3c0, 0x44200c02c0, 0x13, 0x4420106440, 0x2)\r\n\t/usr/local/go/src/testing/testing.go:790 +0x258\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.TestOutputDataTypeAndShape(0x442011e3c0)\r\n\t/home/rock64/go/src/github.com/tensorflow/tensorflow/tensorflow/go/operation_test.go:136 +0x540\r\ntesting.tRunner(0x442011e3c0, 0x694188)\r\n\t/usr/local/go/src/testing/testing.go:746 +0xb0\r\ncreated by testing.(*T).Run\r\n\t/usr/local/go/src/testing/testing.go:789 +0x244\r\n\r\nr0      0x0\r\nr1      0x363f\r\nr2      0x6\r\nr3      0x7f7c729000\r\nr4      0x363f\r\nr5      0x7f7c7296f0\r\nr6      0x0\r\nr7      0x0\r\nr8      0x83\r\nr9      0x9fa59e0\r\nr10     0x7fdb6f6760\r\nr11     0x7fdb6f6760\r\nr12     0xa3d70a3d70a3d70b\r\nr13     0x7fdb6f6706\r\nr14     0x0\r\nr15     0x1db\r\nr16     0x7f7a639120\r\nr17     0x7f7a687830\r\nr18     0x14\r\nr19     0x7f7a797000\r\nr20     0x7f7c729000\r\nr21     0x7f7a7979d8\r\nr22     0xa322700\r\nr23     0x5\r\nr24     0xa2bac10\r\nr25     0x0\r\nr26     0x6941e0\r\nr27     0x10\r\nr28     0x80b700\r\nr29     0x7fdb6f66e0\r\nlr      0x7f7a6879e0\r\nsp      0x7fdb6f66e0\r\npc      0x7f7a686528\r\nfault   0x0\r\nFAIL\tgithub.com/tensorflow/tensorflow/tensorflow/go\t0.261s\r\n```"}