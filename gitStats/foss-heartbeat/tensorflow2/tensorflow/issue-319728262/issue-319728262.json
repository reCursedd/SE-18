{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19038", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19038/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19038/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19038/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19038", "id": 319728262, "node_id": "MDU6SXNzdWUzMTk3MjgyNjI=", "number": 19038, "title": "TensorFlow 1.8 upgrade causes Keras CI build to stall", "user": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-05-02T22:04:24Z", "updated_at": "2018-08-22T11:43:04Z", "closed_at": "2018-08-15T02:48:50Z", "author_association": "MEMBER", "body_html": "<p>Here's a detailed description of the issue: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"319716930\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/keras-team/keras/issues/10100\" data-hovercard-type=\"issue\" data-hovercard-url=\"/keras-team/keras/issues/10100/hovercard\" href=\"https://github.com/keras-team/keras/issues/10100\">keras-team/keras#10100</a></p>\n<p><strong>Summary:</strong></p>\n<ul>\n<li>Keras runs its CI tests on Travis</li>\n<li>Keras has two builds for its TensorFlow backend tests (Py 2.7 and Py 3.6)</li>\n<li>TF dependency is installed via <code>pip install tensorflow</code> (CPU version)</li>\n<li>A few days ago this started installing TF 1.8</li>\n<li>Both TF backend builds immediately started timing out after 25-50 min (high variance) with the error \"No output has been received in the last 10m0s, this potentially indicates a stalled build or something wrong with the build itself.\". Normally the TF tests take 17-18 min.</li>\n<li>No test started failing, this is entirely a build stalling issue.</li>\n</ul>\n<p><strong>Reverting to TF 1.7 fixes the issue.</strong> The exact cause of the stalling is completely unknown.</p>\n<p>In addition, we know that:</p>\n<ul>\n<li>The failure is stochastic; sometimes one of the two TF builds (for Python 2.7 and 3.6) fails while the other passes. Most common case is that both fail, indicating that P(failure) is high.</li>\n<li>There are cases where TF Py 2.7 fails while 3.6 passes and cases where 3.6 fails while 2.7 passes, so the issue is not specific to a Python version.</li>\n<li>The failure is <strong>not</strong> due to an increase in the time taken by the tests. Disabling all large tests did not resolve the issue.</li>\n</ul>\n<p><strong>Such stalling problems on Travis typically arise from either:</strong></p>\n<ul>\n<li>hanging process</li>\n<li>excessive RAM consumption leading to freezing execution</li>\n</ul>\n<p>It is likely that TF 1.8 suffers from one of these two issues.</p>", "body_text": "Here's a detailed description of the issue: keras-team/keras#10100\nSummary:\n\nKeras runs its CI tests on Travis\nKeras has two builds for its TensorFlow backend tests (Py 2.7 and Py 3.6)\nTF dependency is installed via pip install tensorflow (CPU version)\nA few days ago this started installing TF 1.8\nBoth TF backend builds immediately started timing out after 25-50 min (high variance) with the error \"No output has been received in the last 10m0s, this potentially indicates a stalled build or something wrong with the build itself.\". Normally the TF tests take 17-18 min.\nNo test started failing, this is entirely a build stalling issue.\n\nReverting to TF 1.7 fixes the issue. The exact cause of the stalling is completely unknown.\nIn addition, we know that:\n\nThe failure is stochastic; sometimes one of the two TF builds (for Python 2.7 and 3.6) fails while the other passes. Most common case is that both fail, indicating that P(failure) is high.\nThere are cases where TF Py 2.7 fails while 3.6 passes and cases where 3.6 fails while 2.7 passes, so the issue is not specific to a Python version.\nThe failure is not due to an increase in the time taken by the tests. Disabling all large tests did not resolve the issue.\n\nSuch stalling problems on Travis typically arise from either:\n\nhanging process\nexcessive RAM consumption leading to freezing execution\n\nIt is likely that TF 1.8 suffers from one of these two issues.", "body": "Here's a detailed description of the issue: https://github.com/keras-team/keras/issues/10100\r\n\r\n**Summary:**\r\n\r\n- Keras runs its CI tests on Travis\r\n- Keras has two builds for its TensorFlow backend tests (Py 2.7 and Py 3.6)\r\n- TF dependency is installed via `pip install tensorflow` (CPU version)\r\n- A few days ago this started installing TF 1.8\r\n- Both TF backend builds immediately started timing out after 25-50 min (high variance) with the error \"No output has been received in the last 10m0s, this potentially indicates a stalled build or something wrong with the build itself.\". Normally the TF tests take 17-18 min.\r\n- No test started failing, this is entirely a build stalling issue.\r\n\r\n**Reverting to TF 1.7 fixes the issue.** The exact cause of the stalling is completely unknown.\r\n\r\nIn addition, we know that:\r\n\r\n- The failure is stochastic; sometimes one of the two TF builds (for Python 2.7 and 3.6) fails while the other passes. Most common case is that both fail, indicating that P(failure) is high.\r\n- There are cases where TF Py 2.7 fails while 3.6 passes and cases where 3.6 fails while 2.7 passes, so the issue is not specific to a Python version.\r\n- The failure is **not** due to an increase in the time taken by the tests. Disabling all large tests did not resolve the issue.\r\n\r\n**Such stalling problems on Travis typically arise from either:**\r\n\r\n- hanging process\r\n- excessive RAM consumption leading to freezing execution\r\n\r\nIt is likely that TF 1.8 suffers from one of these two issues.\r\n\r\n\r\n"}