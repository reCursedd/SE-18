{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/252764442", "html_url": "https://github.com/tensorflow/tensorflow/issues/4882#issuecomment-252764442", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4882", "id": 252764442, "node_id": "MDEyOklzc3VlQ29tbWVudDI1Mjc2NDQ0Mg==", "user": {"login": "frenchwr", "id": 12451283, "node_id": "MDQ6VXNlcjEyNDUxMjgz", "avatar_url": "https://avatars1.githubusercontent.com/u/12451283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frenchwr", "html_url": "https://github.com/frenchwr", "followers_url": "https://api.github.com/users/frenchwr/followers", "following_url": "https://api.github.com/users/frenchwr/following{/other_user}", "gists_url": "https://api.github.com/users/frenchwr/gists{/gist_id}", "starred_url": "https://api.github.com/users/frenchwr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frenchwr/subscriptions", "organizations_url": "https://api.github.com/users/frenchwr/orgs", "repos_url": "https://api.github.com/users/frenchwr/repos", "events_url": "https://api.github.com/users/frenchwr/events{/privacy}", "received_events_url": "https://api.github.com/users/frenchwr/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-10T22:35:35Z", "updated_at": "2016-10-10T22:35:35Z", "author_association": "NONE", "body_html": "<p>Okay, getting closer. It looks like these are defined in <code>/usr/include/sys/stat.h</code> (which is included in <code>external/gif_archive/egif_lib.c</code>) but inside a block that <em>should</em> evaluate to true:</p>\n<div class=\"highlight highlight-source-c\"><pre>...\n...\n#<span class=\"pl-k\">if</span> defined __USE_MISC &amp;&amp; defined __USE_BSD\n# <span class=\"pl-k\">define</span> <span class=\"pl-en\">S_IREAD</span>    S_IRUSR\n# <span class=\"pl-k\">define</span> <span class=\"pl-en\">S_IWRITE</span>   S_IWUSR\n# <span class=\"pl-k\">define</span> <span class=\"pl-en\">S_IEXEC</span>    S_IXUSR\n#<span class=\"pl-k\">endif</span>\n...\n...</pre></div>\n<p>To test I wrote a short program and built and ran it in my same environment that I'm trying to build Tensorflow in:</p>\n<div class=\"highlight highlight-source-c\"><pre>#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">&lt;</span>stdio.h<span class=\"pl-pds\">&gt;</span></span>\n\n<span class=\"pl-k\">int</span> <span class=\"pl-en\">main</span>()\n{\n#<span class=\"pl-k\">if</span> defined __USE_MISC\n   <span class=\"pl-c1\">printf</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>user misc evaluates to true<span class=\"pl-cce\">\\n</span><span class=\"pl-pds\">\"</span></span>);\n#<span class=\"pl-k\">endif</span>\n\n#<span class=\"pl-k\">if</span> defined __USE_BSD\n   <span class=\"pl-c1\">printf</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>user bsd evaluates to true<span class=\"pl-cce\">\\n</span><span class=\"pl-pds\">\"</span></span>);\n#<span class=\"pl-k\">endif</span>\n\n#<span class=\"pl-k\">if</span> defined __USE_MISC &amp;&amp; defined __USE_BSD\n   <span class=\"pl-c1\">printf</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>user misc and user bsd evaluate to true<span class=\"pl-cce\">\\n</span><span class=\"pl-pds\">\"</span></span>);\n#<span class=\"pl-k\">endif</span>\n\n<span class=\"pl-k\">return</span> <span class=\"pl-c1\">0</span>;\n}</pre></div>\n<pre><code>$ gcc test.c \n$ ./a.out \nuser misc evaluates to true\nuser bsd evaluates to true\nuser misc and user bsd evaluate to true\n</code></pre>\n<p>I mentioned that SO thread in my original post. I tried the proposed solution and unfortunately it didn't help.</p>", "body_text": "Okay, getting closer. It looks like these are defined in /usr/include/sys/stat.h (which is included in external/gif_archive/egif_lib.c) but inside a block that should evaluate to true:\n...\n...\n#if defined __USE_MISC && defined __USE_BSD\n# define S_IREAD    S_IRUSR\n# define S_IWRITE   S_IWUSR\n# define S_IEXEC    S_IXUSR\n#endif\n...\n...\nTo test I wrote a short program and built and ran it in my same environment that I'm trying to build Tensorflow in:\n#include <stdio.h>\n\nint main()\n{\n#if defined __USE_MISC\n   printf(\"user misc evaluates to true\\n\");\n#endif\n\n#if defined __USE_BSD\n   printf(\"user bsd evaluates to true\\n\");\n#endif\n\n#if defined __USE_MISC && defined __USE_BSD\n   printf(\"user misc and user bsd evaluate to true\\n\");\n#endif\n\nreturn 0;\n}\n$ gcc test.c \n$ ./a.out \nuser misc evaluates to true\nuser bsd evaluates to true\nuser misc and user bsd evaluate to true\n\nI mentioned that SO thread in my original post. I tried the proposed solution and unfortunately it didn't help.", "body": "Okay, getting closer. It looks like these are defined in `/usr/include/sys/stat.h` (which is included in `external/gif_archive/egif_lib.c`) but inside a block that _should_ evaluate to true:\n\n``` C\n...\n...\n#if defined __USE_MISC && defined __USE_BSD\n# define S_IREAD    S_IRUSR\n# define S_IWRITE   S_IWUSR\n# define S_IEXEC    S_IXUSR\n#endif\n...\n...\n```\n\nTo test I wrote a short program and built and ran it in my same environment that I'm trying to build Tensorflow in:\n\n``` C\n#include <stdio.h>\n\nint main()\n{\n#if defined __USE_MISC\n   printf(\"user misc evaluates to true\\n\");\n#endif\n\n#if defined __USE_BSD\n   printf(\"user bsd evaluates to true\\n\");\n#endif\n\n#if defined __USE_MISC && defined __USE_BSD\n   printf(\"user misc and user bsd evaluate to true\\n\");\n#endif\n\nreturn 0;\n}\n```\n\n```\n$ gcc test.c \n$ ./a.out \nuser misc evaluates to true\nuser bsd evaluates to true\nuser misc and user bsd evaluate to true\n```\n\nI mentioned that SO thread in my original post. I tried the proposed solution and unfortunately it didn't help.\n"}