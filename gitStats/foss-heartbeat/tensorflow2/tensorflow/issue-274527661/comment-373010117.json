{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/373010117", "html_url": "https://github.com/tensorflow/tensorflow/issues/14622#issuecomment-373010117", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14622", "id": 373010117, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzAxMDExNw==", "user": {"login": "estelleaf", "id": 23723647, "node_id": "MDQ6VXNlcjIzNzIzNjQ3", "avatar_url": "https://avatars2.githubusercontent.com/u/23723647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estelleaf", "html_url": "https://github.com/estelleaf", "followers_url": "https://api.github.com/users/estelleaf/followers", "following_url": "https://api.github.com/users/estelleaf/following{/other_user}", "gists_url": "https://api.github.com/users/estelleaf/gists{/gist_id}", "starred_url": "https://api.github.com/users/estelleaf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estelleaf/subscriptions", "organizations_url": "https://api.github.com/users/estelleaf/orgs", "repos_url": "https://api.github.com/users/estelleaf/repos", "events_url": "https://api.github.com/users/estelleaf/events{/privacy}", "received_events_url": "https://api.github.com/users/estelleaf/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-14T12:53:37Z", "updated_at": "2018-03-15T07:35:18Z", "author_association": "NONE", "body_html": "<p>On my computer I had :</p>\n<pre><code>cudnn5.1,   \ncuda8.0\n</code></pre>\n<p>When importing tensorflow, I had the same error ImportError:</p>\n<blockquote>\n<p>libcublas.so.8.0: cannot open shared object file: No such file or<br>\ndirectory</p>\n</blockquote>\n<p>and even</p>\n<blockquote>\n<p>libcublas.so.9.0: cannot open shared object file: No such file or<br>\ndirectory</p>\n</blockquote>\n<p>To overcome the second issue I installed <code>tensorflow 1.4</code> instead of 1.6<br>\nand for the first I did<br>\n$ export PATH=\"$PATH:/usr/local/cuda-8.0/bin\"<br>\n$ export LD_LIBRARY_PATH=\"/usr/local/cuda-8.0/lib64\"</p>\n<p>But then I had another issue :</p>\n<blockquote>\n<p>libcudnn.so.6: cannot open shared object file: No such file or<br>\ndirectory</p>\n</blockquote>\n<p>This was because I had cudnn5.1 as required but actually it needs cudnn6</p>\n<p>Here are the steps to uninstall cudnn5.1 and install cudnn6:</p>\n<p>1- Uninstall cudnn 5.1<br>\nrm -f /usr/include/cudnn.h<br>\nrm -f /usr/lib/x86_64-linux-gnu/libcudnn<br>\nrm -f /usr/local/cuda-/lib64/libcudnn</p>\n<p>2- Install cudnn6</p>\n<p>After having subscribed to nvdia, go to here <a href=\"https://developer.nvidia.com/rdp/cudnn-download\" rel=\"nofollow\">https://developer.nvidia.com/rdp/cudnn-download</a> and download cudnn6 for cuda8 and then go to the folder where you downloaded the cudnn and do :</p>\n<pre><code>$ tar xvzf cudnn-8.0-linux-x64-v5.1-ga.tgz\n$ sudo cp -P cuda/include/cudnn.h /usr/local/cuda/include\n$ sudo cp -P cuda/lib64/libcudnn /usr/local/cuda/lib64\n$ sudo chmod a+r /usr/local/cuda/include/cudnn.h \n/usr/local/cuda/lib64/libcudnn*\n</code></pre>\n<p>Now you should have tensorflow</p>\n<p>Try it on typing in the console:</p>\n<pre><code>$python\nimport tensorflow\n</code></pre>\n<p>If you want to work in anaconda and the error persists , try :</p>\n<pre><code>$jupyter notebook --generate-config\n</code></pre>\n<p>then you can find the name of the directory where you have your config file (Ill call it</p>\n<p>) and open /jupyter_notebook_config.py and add at the top :</p>\n<pre><code>import os\nc = get_config()\nos.environ['LD_LIBRARY_PATH'] = '/usr/local/cuda-8.0/lib64:usr/local/cuda-8.0/lib64/libcudart.so.8.0'\nc.Spawner.env.update('LD_LIBRARY_PATH')\n</code></pre>\n<p>Now it should work...</p>\n<p>Here are the websites that helped me:</p>\n<p><a href=\"https://askubuntu.com/questions/952075/how-to-upgrade-tensorflow-to-v1-3-cudnn-cuda-upgrade\" rel=\"nofollow\">https://askubuntu.com/questions/952075/how-to-upgrade-tensorflow-to-v1-3-cudnn-cuda-upgrade</a><br>\n<a href=\"https://developer.nvidia.com/rdp/cudnn-download\" rel=\"nofollow\">https://developer.nvidia.com/rdp/cudnn-download</a><br>\n<a href=\"https://medium.com/@ikekramer/installing-cuda-8-0-and-cudnn-5-1-on-ubuntu-16-04-6b9f284f6e77\" rel=\"nofollow\">https://medium.com/@ikekramer/installing-cuda-8-0-and-cudnn-5-1-on-ubuntu-16-04-6b9f284f6e77</a><br>\n<a href=\"https://stackoverflow.com/questions/43984135/tensorflow-gpu-can-not-be-called-from-jupyterhub-jupyter-notebook-why\" rel=\"nofollow\">https://stackoverflow.com/questions/43984135/tensorflow-gpu-can-not-be-called-from-jupyterhub-jupyter-notebook-why</a></p>", "body_text": "On my computer I had :\ncudnn5.1,   \ncuda8.0\n\nWhen importing tensorflow, I had the same error ImportError:\n\nlibcublas.so.8.0: cannot open shared object file: No such file or\ndirectory\n\nand even\n\nlibcublas.so.9.0: cannot open shared object file: No such file or\ndirectory\n\nTo overcome the second issue I installed tensorflow 1.4 instead of 1.6\nand for the first I did\n$ export PATH=\"$PATH:/usr/local/cuda-8.0/bin\"\n$ export LD_LIBRARY_PATH=\"/usr/local/cuda-8.0/lib64\"\nBut then I had another issue :\n\nlibcudnn.so.6: cannot open shared object file: No such file or\ndirectory\n\nThis was because I had cudnn5.1 as required but actually it needs cudnn6\nHere are the steps to uninstall cudnn5.1 and install cudnn6:\n1- Uninstall cudnn 5.1\nrm -f /usr/include/cudnn.h\nrm -f /usr/lib/x86_64-linux-gnu/libcudnn\nrm -f /usr/local/cuda-/lib64/libcudnn\n2- Install cudnn6\nAfter having subscribed to nvdia, go to here https://developer.nvidia.com/rdp/cudnn-download and download cudnn6 for cuda8 and then go to the folder where you downloaded the cudnn and do :\n$ tar xvzf cudnn-8.0-linux-x64-v5.1-ga.tgz\n$ sudo cp -P cuda/include/cudnn.h /usr/local/cuda/include\n$ sudo cp -P cuda/lib64/libcudnn /usr/local/cuda/lib64\n$ sudo chmod a+r /usr/local/cuda/include/cudnn.h \n/usr/local/cuda/lib64/libcudnn*\n\nNow you should have tensorflow\nTry it on typing in the console:\n$python\nimport tensorflow\n\nIf you want to work in anaconda and the error persists , try :\n$jupyter notebook --generate-config\n\nthen you can find the name of the directory where you have your config file (Ill call it\n) and open /jupyter_notebook_config.py and add at the top :\nimport os\nc = get_config()\nos.environ['LD_LIBRARY_PATH'] = '/usr/local/cuda-8.0/lib64:usr/local/cuda-8.0/lib64/libcudart.so.8.0'\nc.Spawner.env.update('LD_LIBRARY_PATH')\n\nNow it should work...\nHere are the websites that helped me:\nhttps://askubuntu.com/questions/952075/how-to-upgrade-tensorflow-to-v1-3-cudnn-cuda-upgrade\nhttps://developer.nvidia.com/rdp/cudnn-download\nhttps://medium.com/@ikekramer/installing-cuda-8-0-and-cudnn-5-1-on-ubuntu-16-04-6b9f284f6e77\nhttps://stackoverflow.com/questions/43984135/tensorflow-gpu-can-not-be-called-from-jupyterhub-jupyter-notebook-why", "body": "On my computer I had :\r\n\r\n    cudnn5.1,   \r\n    cuda8.0\r\n\r\n\r\nWhen importing tensorflow, I had the same error ImportError: \r\n\r\n> libcublas.so.8.0: cannot open shared object file: No such file or\r\n> directory\r\n\r\nand even \r\n\r\n> libcublas.so.9.0: cannot open shared object file: No such file or\r\n> directory\r\n\r\n\r\nTo overcome the second issue I installed `tensorflow 1.4` instead of 1.6 \r\n and for the first I did\r\n$ export PATH=\"$PATH:/usr/local/cuda-8.0/bin\" \r\n$ export LD_LIBRARY_PATH=\"/usr/local/cuda-8.0/lib64\"\r\n\r\n\r\nBut then I had another issue : \r\n\r\n> libcudnn.so.6: cannot open shared object file: No such file or\r\n> directory\r\n\r\nThis was because I had cudnn5.1 as required but actually it needs cudnn6\r\n\r\nHere are the steps to uninstall cudnn5.1 and install cudnn6:\r\n\r\n1- Uninstall cudnn 5.1\r\n    rm -f /usr/include/cudnn.h\r\n    rm -f /usr/lib/x86_64-linux-gnu/libcudnn\r\n    rm -f /usr/local/cuda-/lib64/libcudnn\r\n\r\n2- Install cudnn6\r\n\r\nAfter having subscribed to nvdia, go to here https://developer.nvidia.com/rdp/cudnn-download and download cudnn6 for cuda8 and then go to the folder where you downloaded the cudnn and do :\r\n\r\n    $ tar xvzf cudnn-8.0-linux-x64-v5.1-ga.tgz\r\n    $ sudo cp -P cuda/include/cudnn.h /usr/local/cuda/include\r\n    $ sudo cp -P cuda/lib64/libcudnn /usr/local/cuda/lib64\r\n    $ sudo chmod a+r /usr/local/cuda/include/cudnn.h \r\n    /usr/local/cuda/lib64/libcudnn*\r\n\r\nNow you should have tensorflow\r\n\r\nTry it on typing in the console:\r\n\r\n    $python\r\n    import tensorflow\r\n\r\nIf you want to work in anaconda and the error persists , try :\r\n\r\n    $jupyter notebook --generate-config\r\n\r\nthen you can find the name of the directory where you have your config file (Ill call it\r\n\r\n) and open /jupyter_notebook_config.py and add at the top :\r\n\r\n    import os\r\n    c = get_config()\r\n    os.environ['LD_LIBRARY_PATH'] = '/usr/local/cuda-8.0/lib64:usr/local/cuda-8.0/lib64/libcudart.so.8.0'\r\n    c.Spawner.env.update('LD_LIBRARY_PATH')\r\n\r\nNow it should work...\r\n\r\nHere are the websites that helped me:\r\n\r\nhttps://askubuntu.com/questions/952075/how-to-upgrade-tensorflow-to-v1-3-cudnn-cuda-upgrade\r\nhttps://developer.nvidia.com/rdp/cudnn-download\r\nhttps://medium.com/@ikekramer/installing-cuda-8-0-and-cudnn-5-1-on-ubuntu-16-04-6b9f284f6e77\r\nhttps://stackoverflow.com/questions/43984135/tensorflow-gpu-can-not-be-called-from-jupyterhub-jupyter-notebook-why\r\n"}