{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3268", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3268/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3268/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3268/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3268", "id": 164806051, "node_id": "MDU6SXNzdWUxNjQ4MDYwNTE=", "number": 3268, "title": "Timeline's reported memory usage not properly displayed in Chrome", "user": {"login": "stepelu", "id": 6617696, "node_id": "MDQ6VXNlcjY2MTc2OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/6617696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stepelu", "html_url": "https://github.com/stepelu", "followers_url": "https://api.github.com/users/stepelu/followers", "following_url": "https://api.github.com/users/stepelu/following{/other_user}", "gists_url": "https://api.github.com/users/stepelu/gists{/gist_id}", "starred_url": "https://api.github.com/users/stepelu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stepelu/subscriptions", "organizations_url": "https://api.github.com/users/stepelu/orgs", "repos_url": "https://api.github.com/users/stepelu/repos", "events_url": "https://api.github.com/users/stepelu/events{/privacy}", "received_events_url": "https://api.github.com/users/stepelu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-07-11T10:27:19Z", "updated_at": "2018-06-14T02:55:41Z", "closed_at": "2016-07-25T22:47:29Z", "author_association": "NONE", "body_html": "<p>I am attempting to debug out-of-memory issues using the recently introduced support for timeline:</p>\n<pre><code>run_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)\nrun_metadata = tf.RunMetadata()\nsess.run(..., options=run_options, run_metadata=run_metadata)\ntrain_writer.add_run_metadata(run_metadata, 'step' + repr(i))\ntl = timeline.Timeline(run_metadata.step_stats)\ntrace_file = tf.gfile.Open(name='timeline', mode='w')\ntrace_file.write(tl.generate_chrome_trace_format(show_memory=True))\n</code></pre>\n<p>The file is generated, but when opened via <code>chrome://tracing/</code> the memory usage events are not displayed at all, only the names. Moreover, opening such memory section results in the CPU-usage events disappearing as well:</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/6617696/16727681/2fcce290-479d-11e6-8ce4-8563e16f3212.png\"><img width=\"665\" alt=\"screen shot 2016-07-11 at 7 23 59 pm\" src=\"https://cloud.githubusercontent.com/assets/6617696/16727681/2fcce290-479d-11e6-8ce4-8563e16f3212.png\" style=\"max-width:100%;\"></a></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/6617696/16727688/35cf0cf4-479d-11e6-9fc2-1bdc8706e227.png\"><img width=\"699\" alt=\"screen shot 2016-07-11 at 7 24 09 pm\" src=\"https://cloud.githubusercontent.com/assets/6617696/16727688/35cf0cf4-479d-11e6-9fc2-1bdc8706e227.png\" style=\"max-width:100%;\"></a></p>\n<p>Possibly too many datapoints results in failure to display them?</p>", "body_text": "I am attempting to debug out-of-memory issues using the recently introduced support for timeline:\nrun_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)\nrun_metadata = tf.RunMetadata()\nsess.run(..., options=run_options, run_metadata=run_metadata)\ntrain_writer.add_run_metadata(run_metadata, 'step' + repr(i))\ntl = timeline.Timeline(run_metadata.step_stats)\ntrace_file = tf.gfile.Open(name='timeline', mode='w')\ntrace_file.write(tl.generate_chrome_trace_format(show_memory=True))\n\nThe file is generated, but when opened via chrome://tracing/ the memory usage events are not displayed at all, only the names. Moreover, opening such memory section results in the CPU-usage events disappearing as well:\n\n\nPossibly too many datapoints results in failure to display them?", "body": "I am attempting to debug out-of-memory issues using the recently introduced support for timeline:\n\n```\nrun_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)\nrun_metadata = tf.RunMetadata()\nsess.run(..., options=run_options, run_metadata=run_metadata)\ntrain_writer.add_run_metadata(run_metadata, 'step' + repr(i))\ntl = timeline.Timeline(run_metadata.step_stats)\ntrace_file = tf.gfile.Open(name='timeline', mode='w')\ntrace_file.write(tl.generate_chrome_trace_format(show_memory=True))\n```\n\nThe file is generated, but when opened via `chrome://tracing/` the memory usage events are not displayed at all, only the names. Moreover, opening such memory section results in the CPU-usage events disappearing as well:\n\n<img width=\"665\" alt=\"screen shot 2016-07-11 at 7 23 59 pm\" src=\"https://cloud.githubusercontent.com/assets/6617696/16727681/2fcce290-479d-11e6-8ce4-8563e16f3212.png\">\n\n<img width=\"699\" alt=\"screen shot 2016-07-11 at 7 24 09 pm\" src=\"https://cloud.githubusercontent.com/assets/6617696/16727688/35cf0cf4-479d-11e6-9fc2-1bdc8706e227.png\">\n\nPossibly too many datapoints results in failure to display them?\n"}