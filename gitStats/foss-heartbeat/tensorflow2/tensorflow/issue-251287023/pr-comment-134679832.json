{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/134679832", "pull_request_review_id": 57997648, "id": 134679832, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDY3OTgzMg==", "diff_hunk": "@@ -77,9 +106,10 @@ TEST_F(GradientsTest, OneMatMul) {\n   for (const bool expected : {false, true}) {\n     const Scope& scope = expected ? scope_expected_ : scope_test_;\n     // Construct forward graph.\n-    auto x = Const(scope, {{1.0, 2.0}, {3.0, 4.0}});\n-    auto y = Const(scope, {{1.0, 0.0}, {0.0, 1.0}});\n+    auto x = ThreeNodeVariable(scope, {{1.0, 2.0}, {3.0, 4.0}});", "path": "tensorflow/cc/framework/gradients_test.cc", "position": null, "original_position": 52, "commit_id": "47e093dd36ff74c9ab8a3b2728d4c0c5331f1bef", "original_commit_id": "b71053e0984eb4ad34cad72c50fe80b39625afab", "user": {"login": "theflofly", "id": 3902382, "node_id": "MDQ6VXNlcjM5MDIzODI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3902382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theflofly", "html_url": "https://github.com/theflofly", "followers_url": "https://api.github.com/users/theflofly/followers", "following_url": "https://api.github.com/users/theflofly/following{/other_user}", "gists_url": "https://api.github.com/users/theflofly/gists{/gist_id}", "starred_url": "https://api.github.com/users/theflofly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theflofly/subscriptions", "organizations_url": "https://api.github.com/users/theflofly/orgs", "repos_url": "https://api.github.com/users/theflofly/repos", "events_url": "https://api.github.com/users/theflofly/events{/privacy}", "received_events_url": "https://api.github.com/users/theflofly/received_events", "type": "User", "site_admin": false}, "body": "@skye: I chose to edit the tests because as far as I know we don't differentiate w.r.t a Const. Else people will differentiate w.r.t a Const W1 for instance and then create an ApplyGradientDescent node that updates W1 using the collected gradient. Updating a Const is in opposition to the term const.\r\n\r\nSo a test passing with Const nodes is worthless because in reality it will not be done like that but with Variables (I may be wrong?).\r\n\r\nAnd more importantly, everything was working fine with Const nodes but wasn't with Variable nodes.", "created_at": "2017-08-23T07:50:36Z", "updated_at": "2017-08-29T21:01:29Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/12397#discussion_r134679832", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12397", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/134679832"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/12397#discussion_r134679832"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12397"}}, "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=88808\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/skye\">@skye</a>: I chose to edit the tests because as far as I know we don't differentiate w.r.t a Const. Else people will differentiate w.r.t a Const W1 for instance and then create an ApplyGradientDescent node that updates W1 using the collected gradient. Updating a Const is in opposition to the term const.</p>\n<p>So a test passing with Const nodes is worthless because in reality it will not be done like that but with Variables (I may be wrong?).</p>\n<p>And more importantly, everything was working fine with Const nodes but wasn't with Variable nodes.</p>", "body_text": "@skye: I chose to edit the tests because as far as I know we don't differentiate w.r.t a Const. Else people will differentiate w.r.t a Const W1 for instance and then create an ApplyGradientDescent node that updates W1 using the collected gradient. Updating a Const is in opposition to the term const.\nSo a test passing with Const nodes is worthless because in reality it will not be done like that but with Variables (I may be wrong?).\nAnd more importantly, everything was working fine with Const nodes but wasn't with Variable nodes.", "in_reply_to_id": 134621385}