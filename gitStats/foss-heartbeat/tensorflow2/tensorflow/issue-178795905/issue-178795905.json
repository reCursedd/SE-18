{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4547", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4547/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4547/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4547/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4547", "id": 178795905, "node_id": "MDU6SXNzdWUxNzg3OTU5MDU=", "number": 4547, "title": "import tensorflow on apache2 cgi module", "user": {"login": "dotdotgod", "id": 9357425, "node_id": "MDQ6VXNlcjkzNTc0MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/9357425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdotgod", "html_url": "https://github.com/dotdotgod", "followers_url": "https://api.github.com/users/dotdotgod/followers", "following_url": "https://api.github.com/users/dotdotgod/following{/other_user}", "gists_url": "https://api.github.com/users/dotdotgod/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdotgod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdotgod/subscriptions", "organizations_url": "https://api.github.com/users/dotdotgod/orgs", "repos_url": "https://api.github.com/users/dotdotgod/repos", "events_url": "https://api.github.com/users/dotdotgod/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdotgod/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-09-23T06:31:52Z", "updated_at": "2017-09-19T10:28:30Z", "closed_at": "2016-09-23T09:12:24Z", "author_association": "NONE", "body_html": "<p>I try to run tensorflow on web server python cgi<br>\nI succeed in running python in apache2 web server</p>\n<p>but I stoped by environment variables :LD_LIBRARY_PATH set in Python Code</p>\n<p>I run os.environ:function and result print check<br>\nThis result is correct value<br>\nI don't know what can i do</p>\n<p>I need you help</p>\n<p><strong>my code is</strong></p>\n<pre><code>\nimport cgi\nimport os\nimport cgitb\ncgitb.enable()\n\nimport requests\n\nprint(\"Content-type: text/html;charset=utf-8\\r\\n\")\n\nprint(\"&lt;html&gt;\")\nprint(\"&lt;head&gt;\")\nprint(\"\\t&lt;title&gt;Python CGI Test&lt;/title&gt;\")\nprint(\"&lt;/head&gt;\")\nprint(\"&lt;body&gt;\")\nprint(\"\\t&lt;h1&gt;Hello, Python CGI!&lt;/h1&gt;\")\nprint(\"&lt;/body&gt;\")\nprint(\"&lt;/html&gt;\")\n\n\nos.environ[\"LD_LIBRARY_PATH\"] = '$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64'\n\nprint os.environ\nprint (\"\")\n\n\nimport tensorflow as tf\nhello = tf.constant('Hello, TensorFlow!')\nsess = tf.Session()\nprint(sess.run(hello))\n</code></pre>\n<p><strong>and result</strong></p>\n<blockquote>\n<p>Hello, Python CGI!</p>\n<p>{'CONTEXT_DOCUMENT_ROOT': '/var/www/html', 'SERVER_SOFTWARE': 'Apache/2.4.18 (Ubuntu)', 'CONTEXT_PREFIX': '', 'SERVER_SIGNATURE': '<br>\nApache/2.4.18 (Ubuntu) Server at 192.168.0.115 Port 80<br>\n\\n', 'REQUEST_METHOD': 'GET', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'PATH': '/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', 'LD_LIBRARY_PATH': '$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.106 Safari/537.36', 'HTTP_CONNECTION': 'keep-alive', 'SERVER_NAME': '192.168.0.115', 'REMOTE_PORT': '57930', 'SERVER_PORT': '80', 'SERVER_ADDR': '192.168.0.115', 'DOCUMENT_ROOT': '/var/www/html', 'SCRIPT_FILENAME': '/var/www/html/123.py', 'SERVER_ADMIN': 'webmaster@localhost', 'HTTP_HOST': '192.168.0.115', 'SCRIPT_NAME': '/123.py', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/123.py', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,<em>/</em>;q=0.8', 'GATEWAY_INTERFACE': 'CGI/1.1', 'REMOTE_ADDR': '192.168.0.115', 'HTTP_ACCEPT_LANGUAGE': 'ko-KR,ko;q=0.8,en-US;q=0.6,en;q=0.4', 'REQUEST_SCHEME': 'http', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, sdch'} --&gt; --&gt;</p>\n<p>&lt;type 'exceptions.ImportError'&gt;   Python 2.7.12: /home/mutation/anaconda2/bin/python2.7<br>\nFri Sep 23 15:28:53 2016<br>\nA problem occurred in a Python script. Here is the sequence of function calls leading up to the error, in the order they occurred.</p>\n<p>/var/www/html/123.py in ()<br>\n41<br>\n42<br>\n=&gt;   43 import tensorflow as tf<br>\n44 hello = tf.constant('Hello, TensorFlow!')<br>\n45 sess = tf.Session()<br>\ntensorflow undefined, tf undefined<br>\n/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/<strong>init</strong>.py in ()<br>\n19 from <strong>future</strong> import absolute_import<br>\n20 from <strong>future</strong> import division<br>\n21 from <strong>future</strong> import print_function<br>\n22<br>\n=&gt;   23 from tensorflow.python import *<br>\ntensorflow undefined<br>\n/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/<strong>init</strong>.py in ()<br>\n46 _default_dlopen_flags = sys.getdlopenflags()<br>\n47 sys.setdlopenflags(_default_dlopen_flags | ctypes.RTLD_GLOBAL)<br>\n=&gt;   48 from tensorflow.python import pywrap_tensorflow<br>\n49 sys.setdlopenflags(_default_dlopen_flags)<br>\n50<br>\ntensorflow undefined, pywrap_tensorflow undefined<br>\n/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in ()<br>\n26                 fp.close()<br>\n27             return _mod<br>\n=&gt;   28     _pywrap_tensorflow = swig_import_helper()<br>\n29     del swig_import_helper<br>\n30 else:<br>\n_pywrap_tensorflow undefined, swig_import_helper = None<br>\n/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in swig_import_helper()<br>\n22         if fp is not None:<br>\n23             try:<br>\n=&gt;   24                 _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)<br>\n25             finally:<br>\n26                 fp.close()<br>\n_mod undefined, imp = &lt;module 'imp' (built-in)&gt;, imp.load_module = , fp = &lt;closed file '/home/mutation/anaconda2/lib/pytho...sorflow/python/_pywrap_tensorflow.so', mode 'rb'&gt;, pathname = '/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so', description = ('.so', 'rb', 3)<br>\n&lt;type 'exceptions.ImportError'&gt;: libcudart.so.8.0: cannot open shared object file: No such file or directory<br>\nargs = ('libcudart.so.8.0: cannot open shared object file: No such file or directory',)<br>\nmessage = 'libcudart.so.8.0: cannot open shared object file: No such file or directory'</p>\n</blockquote>", "body_text": "I try to run tensorflow on web server python cgi\nI succeed in running python in apache2 web server\nbut I stoped by environment variables :LD_LIBRARY_PATH set in Python Code\nI run os.environ:function and result print check\nThis result is correct value\nI don't know what can i do\nI need you help\nmy code is\n\nimport cgi\nimport os\nimport cgitb\ncgitb.enable()\n\nimport requests\n\nprint(\"Content-type: text/html;charset=utf-8\\r\\n\")\n\nprint(\"<html>\")\nprint(\"<head>\")\nprint(\"\\t<title>Python CGI Test</title>\")\nprint(\"</head>\")\nprint(\"<body>\")\nprint(\"\\t<h1>Hello, Python CGI!</h1>\")\nprint(\"</body>\")\nprint(\"</html>\")\n\n\nos.environ[\"LD_LIBRARY_PATH\"] = '$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64'\n\nprint os.environ\nprint (\"\")\n\n\nimport tensorflow as tf\nhello = tf.constant('Hello, TensorFlow!')\nsess = tf.Session()\nprint(sess.run(hello))\n\nand result\n\nHello, Python CGI!\n{'CONTEXT_DOCUMENT_ROOT': '/var/www/html', 'SERVER_SOFTWARE': 'Apache/2.4.18 (Ubuntu)', 'CONTEXT_PREFIX': '', 'SERVER_SIGNATURE': '\nApache/2.4.18 (Ubuntu) Server at 192.168.0.115 Port 80\n\\n', 'REQUEST_METHOD': 'GET', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'PATH': '/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', 'LD_LIBRARY_PATH': '$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.106 Safari/537.36', 'HTTP_CONNECTION': 'keep-alive', 'SERVER_NAME': '192.168.0.115', 'REMOTE_PORT': '57930', 'SERVER_PORT': '80', 'SERVER_ADDR': '192.168.0.115', 'DOCUMENT_ROOT': '/var/www/html', 'SCRIPT_FILENAME': '/var/www/html/123.py', 'SERVER_ADMIN': 'webmaster@localhost', 'HTTP_HOST': '192.168.0.115', 'SCRIPT_NAME': '/123.py', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/123.py', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,/;q=0.8', 'GATEWAY_INTERFACE': 'CGI/1.1', 'REMOTE_ADDR': '192.168.0.115', 'HTTP_ACCEPT_LANGUAGE': 'ko-KR,ko;q=0.8,en-US;q=0.6,en;q=0.4', 'REQUEST_SCHEME': 'http', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, sdch'} --> -->\n<type 'exceptions.ImportError'>   Python 2.7.12: /home/mutation/anaconda2/bin/python2.7\nFri Sep 23 15:28:53 2016\nA problem occurred in a Python script. Here is the sequence of function calls leading up to the error, in the order they occurred.\n/var/www/html/123.py in ()\n41\n42\n=>   43 import tensorflow as tf\n44 hello = tf.constant('Hello, TensorFlow!')\n45 sess = tf.Session()\ntensorflow undefined, tf undefined\n/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/init.py in ()\n19 from future import absolute_import\n20 from future import division\n21 from future import print_function\n22\n=>   23 from tensorflow.python import *\ntensorflow undefined\n/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/init.py in ()\n46 _default_dlopen_flags = sys.getdlopenflags()\n47 sys.setdlopenflags(_default_dlopen_flags | ctypes.RTLD_GLOBAL)\n=>   48 from tensorflow.python import pywrap_tensorflow\n49 sys.setdlopenflags(_default_dlopen_flags)\n50\ntensorflow undefined, pywrap_tensorflow undefined\n/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in ()\n26                 fp.close()\n27             return _mod\n=>   28     _pywrap_tensorflow = swig_import_helper()\n29     del swig_import_helper\n30 else:\n_pywrap_tensorflow undefined, swig_import_helper = None\n/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in swig_import_helper()\n22         if fp is not None:\n23             try:\n=>   24                 _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\n25             finally:\n26                 fp.close()\n_mod undefined, imp = <module 'imp' (built-in)>, imp.load_module = , fp = <closed file '/home/mutation/anaconda2/lib/pytho...sorflow/python/_pywrap_tensorflow.so', mode 'rb'>, pathname = '/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so', description = ('.so', 'rb', 3)\n<type 'exceptions.ImportError'>: libcudart.so.8.0: cannot open shared object file: No such file or directory\nargs = ('libcudart.so.8.0: cannot open shared object file: No such file or directory',)\nmessage = 'libcudart.so.8.0: cannot open shared object file: No such file or directory'", "body": "I try to run tensorflow on web server python cgi\nI succeed in running python in apache2 web server\n\nbut I stoped by environment variables :LD_LIBRARY_PATH set in Python Code\n\nI run os.environ:function and result print check\nThis result is correct value\nI don't know what can i do\n\nI need you help\n\n**my code is** \n\n```\n\nimport cgi\nimport os\nimport cgitb\ncgitb.enable()\n\nimport requests\n\nprint(\"Content-type: text/html;charset=utf-8\\r\\n\")\n\nprint(\"<html>\")\nprint(\"<head>\")\nprint(\"\\t<title>Python CGI Test</title>\")\nprint(\"</head>\")\nprint(\"<body>\")\nprint(\"\\t<h1>Hello, Python CGI!</h1>\")\nprint(\"</body>\")\nprint(\"</html>\")\n\n\nos.environ[\"LD_LIBRARY_PATH\"] = '$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64'\n\nprint os.environ\nprint (\"\")\n\n\nimport tensorflow as tf\nhello = tf.constant('Hello, TensorFlow!')\nsess = tf.Session()\nprint(sess.run(hello))\n```\n\n**and result**\n\n> Hello, Python CGI!\n> \n> {'CONTEXT_DOCUMENT_ROOT': '/var/www/html', 'SERVER_SOFTWARE': 'Apache/2.4.18 (Ubuntu)', 'CONTEXT_PREFIX': '', 'SERVER_SIGNATURE': '\n> Apache/2.4.18 (Ubuntu) Server at 192.168.0.115 Port 80\n> \\n', 'REQUEST_METHOD': 'GET', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'PATH': '/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', 'LD_LIBRARY_PATH': '$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.106 Safari/537.36', 'HTTP_CONNECTION': 'keep-alive', 'SERVER_NAME': '192.168.0.115', 'REMOTE_PORT': '57930', 'SERVER_PORT': '80', 'SERVER_ADDR': '192.168.0.115', 'DOCUMENT_ROOT': '/var/www/html', 'SCRIPT_FILENAME': '/var/www/html/123.py', 'SERVER_ADMIN': 'webmaster@localhost', 'HTTP_HOST': '192.168.0.115', 'SCRIPT_NAME': '/123.py', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/123.py', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,_/_;q=0.8', 'GATEWAY_INTERFACE': 'CGI/1.1', 'REMOTE_ADDR': '192.168.0.115', 'HTTP_ACCEPT_LANGUAGE': 'ko-KR,ko;q=0.8,en-US;q=0.6,en;q=0.4', 'REQUEST_SCHEME': 'http', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, sdch'} --> -->\n> \n> <type 'exceptions.ImportError'>   Python 2.7.12: /home/mutation/anaconda2/bin/python2.7\n> Fri Sep 23 15:28:53 2016\n> A problem occurred in a Python script. Here is the sequence of function calls leading up to the error, in the order they occurred.\n> \n>  /var/www/html/123.py in ()\n>      41 \n>      42 \n> =>   43 import tensorflow as tf\n>      44 hello = tf.constant('Hello, TensorFlow!')\n>      45 sess = tf.Session()\n> tensorflow undefined, tf undefined\n>  /home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/**init**.py in ()\n>      19 from **future** import absolute_import\n>      20 from **future** import division\n>      21 from **future** import print_function\n>      22 \n> =>   23 from tensorflow.python import *\n> tensorflow undefined\n>  /home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/**init**.py in ()\n>      46 _default_dlopen_flags = sys.getdlopenflags()\n>      47 sys.setdlopenflags(_default_dlopen_flags | ctypes.RTLD_GLOBAL)\n> =>   48 from tensorflow.python import pywrap_tensorflow\n>      49 sys.setdlopenflags(_default_dlopen_flags)\n>      50 \n> tensorflow undefined, pywrap_tensorflow undefined\n>  /home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in ()\n>      26                 fp.close()\n>      27             return _mod\n> =>   28     _pywrap_tensorflow = swig_import_helper()\n>      29     del swig_import_helper\n>      30 else:\n> _pywrap_tensorflow undefined, swig_import_helper = None\n>  /home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py in swig_import_helper()\n>      22         if fp is not None:\n>      23             try:\n> =>   24                 _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\n>      25             finally:\n>      26                 fp.close()\n> _mod undefined, imp = <module 'imp' (built-in)>, imp.load_module = <built-in function load_module>, fp = <closed file '/home/mutation/anaconda2/lib/pytho...sorflow/python/_pywrap_tensorflow.so', mode 'rb'>, pathname = '/home/mutation/anaconda2/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so', description = ('.so', 'rb', 3)\n> <type 'exceptions.ImportError'>: libcudart.so.8.0: cannot open shared object file: No such file or directory \n>       args = ('libcudart.so.8.0: cannot open shared object file: No such file or directory',) \n>       message = 'libcudart.so.8.0: cannot open shared object file: No such file or directory'\n"}