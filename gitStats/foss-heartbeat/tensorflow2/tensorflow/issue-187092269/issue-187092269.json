{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5380", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5380/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5380/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5380/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5380", "id": 187092269, "node_id": "MDU6SXNzdWUxODcwOTIyNjk=", "number": 5380, "title": "'tensorflow/core/public/session.h' file not found", "user": {"login": "MircoT", "id": 2707823, "node_id": "MDQ6VXNlcjI3MDc4MjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/2707823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MircoT", "html_url": "https://github.com/MircoT", "followers_url": "https://api.github.com/users/MircoT/followers", "following_url": "https://api.github.com/users/MircoT/following{/other_user}", "gists_url": "https://api.github.com/users/MircoT/gists{/gist_id}", "starred_url": "https://api.github.com/users/MircoT/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MircoT/subscriptions", "organizations_url": "https://api.github.com/users/MircoT/orgs", "repos_url": "https://api.github.com/users/MircoT/repos", "events_url": "https://api.github.com/users/MircoT/events{/privacy}", "received_events_url": "https://api.github.com/users/MircoT/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-11-03T15:25:32Z", "updated_at": "2017-05-12T16:20:13Z", "closed_at": "2016-11-04T18:28:13Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I didn't find anything about this problem. I'm creating the python package from the source with bazel, the commands used are the same of the official guide in the section <a href=\"https://www.tensorflow.org/versions/r0.11/get_started/os_setup.html#create-the-pip-package-and-install\" rel=\"nofollow\">create pip package</a>.</p>\n<p>The file <em>.whl</em> generated is working but doesn't have some include files that I use in a new op created in C++. The missing files are <strong>session_options.h</strong> and <strong>session.h</strong> which, however, are present in the official <em>.whl</em> of tensorflow that you can download (the binary package pre-compiled).</p>\n<p>To add those files I had to insert some requirements in <em>tensorflow/core/BUILD</em>:</p>\n<pre><code>\n---\n tensorflow/core/BUILD | 5 +++++\n 1 file changed, 5 insertions(+)\n\ndiff --git a/tensorflow/core/BUILD b/tensorflow/core/BUILD\nindex 79546cc..7d9e9a2 100644\n--- a/tensorflow/core/BUILD\n+++ b/tensorflow/core/BUILD\n@@ -214,6 +214,9 @@ cc_library(\n         \"platform/strong_hash.h\",\n         \"platform/thread_annotations.h\",\n         \"platform/types.h\",\n+        \"public/version.h\",\n+        \"public/session.h\",\n+        \"public/session_options.h\",\n     ],\n     visibility = [\"//visibility:public\"],\n     deps = [\n@@ -299,6 +302,8 @@ tf_cuda_library(\n         \"framework/type_traits.h\",\n         \"framework/types.h\",\n         \"public/version.h\",\n+        \"public/session.h\",\n+        \"public/session_options.h\",\n         \"util/bcast.h\",\n         \"util/cuda_kernel_helper.h\",\n         \"util/device_name_utils.h\",\n-- \n2.10.2\n</code></pre>\n<p>Is it normal or I missed some configuration during the building? I could not fix it without this additions.</p>\n<h3>Environment info</h3>\n<p>Operating System: macOS Sierra (10.12.1)</p>\n<p>Installed version of CUDA and cuDNN: NO CUDA</p>\n<p>Source:</p>\n<ol>\n<li>The commit hash: \"eaa9dde98d95f843ad1d3d0f5956693991372e4a\"</li>\n<li>Bazel version:</li>\n</ol>\n<pre><code>Build label: 0.3.2-homebrew\nBuild target: bazel-out/local-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Sat Oct 8 08:02:20 2016 (1475913740)\nBuild timestamp: 1475913740\nBuild timestamp as int: 1475913740\n</code></pre>\n<h3>Example to test</h3>\n<p>If you try to import a graph as you can see in the <a href=\"https://www.tensorflow.org/versions/r0.11/api_docs/cc/index.html\" rel=\"nofollow\">guide</a> you need to require the header: <code>#include \"tensorflow/core/public/session.h\"</code>.</p>\n<h3>Logs or other output that would be helpful</h3>\n<pre><code>... fatal error: 'tensorflow/core/public/session.h' file not found\n#include \"tensorflow/core/public/session.h\"\n         ^\n1 error generated.\nmake: *** [...] Error 1\n</code></pre>", "body_text": "I didn't find anything about this problem. I'm creating the python package from the source with bazel, the commands used are the same of the official guide in the section create pip package.\nThe file .whl generated is working but doesn't have some include files that I use in a new op created in C++. The missing files are session_options.h and session.h which, however, are present in the official .whl of tensorflow that you can download (the binary package pre-compiled).\nTo add those files I had to insert some requirements in tensorflow/core/BUILD:\n\n---\n tensorflow/core/BUILD | 5 +++++\n 1 file changed, 5 insertions(+)\n\ndiff --git a/tensorflow/core/BUILD b/tensorflow/core/BUILD\nindex 79546cc..7d9e9a2 100644\n--- a/tensorflow/core/BUILD\n+++ b/tensorflow/core/BUILD\n@@ -214,6 +214,9 @@ cc_library(\n         \"platform/strong_hash.h\",\n         \"platform/thread_annotations.h\",\n         \"platform/types.h\",\n+        \"public/version.h\",\n+        \"public/session.h\",\n+        \"public/session_options.h\",\n     ],\n     visibility = [\"//visibility:public\"],\n     deps = [\n@@ -299,6 +302,8 @@ tf_cuda_library(\n         \"framework/type_traits.h\",\n         \"framework/types.h\",\n         \"public/version.h\",\n+        \"public/session.h\",\n+        \"public/session_options.h\",\n         \"util/bcast.h\",\n         \"util/cuda_kernel_helper.h\",\n         \"util/device_name_utils.h\",\n-- \n2.10.2\n\nIs it normal or I missed some configuration during the building? I could not fix it without this additions.\nEnvironment info\nOperating System: macOS Sierra (10.12.1)\nInstalled version of CUDA and cuDNN: NO CUDA\nSource:\n\nThe commit hash: \"eaa9dde98d95f843ad1d3d0f5956693991372e4a\"\nBazel version:\n\nBuild label: 0.3.2-homebrew\nBuild target: bazel-out/local-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Sat Oct 8 08:02:20 2016 (1475913740)\nBuild timestamp: 1475913740\nBuild timestamp as int: 1475913740\n\nExample to test\nIf you try to import a graph as you can see in the guide you need to require the header: #include \"tensorflow/core/public/session.h\".\nLogs or other output that would be helpful\n... fatal error: 'tensorflow/core/public/session.h' file not found\n#include \"tensorflow/core/public/session.h\"\n         ^\n1 error generated.\nmake: *** [...] Error 1", "body": "I didn't find anything about this problem. I'm creating the python package from the source with bazel, the commands used are the same of the official guide in the section [create pip package](https://www.tensorflow.org/versions/r0.11/get_started/os_setup.html#create-the-pip-package-and-install).\r\n\r\nThe file *.whl* generated is working but doesn't have some include files that I use in a new op created in C++. The missing files are **session_options.h** and **session.h** which, however, are present in the official *.whl* of tensorflow that you can download (the binary package pre-compiled).\r\n\r\nTo add those files I had to insert some requirements in *tensorflow/core/BUILD*:\r\n\r\n```\r\n\n---\r\n tensorflow/core/BUILD | 5 +++++\r\n 1 file changed, 5 insertions(+)\r\n\r\ndiff --git a/tensorflow/core/BUILD b/tensorflow/core/BUILD\r\nindex 79546cc..7d9e9a2 100644\r\n--- a/tensorflow/core/BUILD\r\n+++ b/tensorflow/core/BUILD\r\n@@ -214,6 +214,9 @@ cc_library(\r\n         \"platform/strong_hash.h\",\r\n         \"platform/thread_annotations.h\",\r\n         \"platform/types.h\",\r\n+        \"public/version.h\",\r\n+        \"public/session.h\",\r\n+        \"public/session_options.h\",\r\n     ],\r\n     visibility = [\"//visibility:public\"],\r\n     deps = [\r\n@@ -299,6 +302,8 @@ tf_cuda_library(\r\n         \"framework/type_traits.h\",\r\n         \"framework/types.h\",\r\n         \"public/version.h\",\r\n+        \"public/session.h\",\r\n+        \"public/session_options.h\",\r\n         \"util/bcast.h\",\r\n         \"util/cuda_kernel_helper.h\",\r\n         \"util/device_name_utils.h\",\r\n-- \r\n2.10.2\r\n```\r\n\r\nIs it normal or I missed some configuration during the building? I could not fix it without this additions.\r\n\r\n### Environment info\r\nOperating System: macOS Sierra (10.12.1)\r\n\r\nInstalled version of CUDA and cuDNN: NO CUDA\r\n\r\nSource:\r\n\r\n1. The commit hash: \"eaa9dde98d95f843ad1d3d0f5956693991372e4a\"\r\n2. Bazel version:\r\n```\r\nBuild label: 0.3.2-homebrew\r\nBuild target: bazel-out/local-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Sat Oct 8 08:02:20 2016 (1475913740)\r\nBuild timestamp: 1475913740\r\nBuild timestamp as int: 1475913740\r\n```\r\n\r\n### Example to test\r\n\r\nIf you try to import a graph as you can see in the [guide](https://www.tensorflow.org/versions/r0.11/api_docs/cc/index.html) you need to require the header: `#include \"tensorflow/core/public/session.h\"`.\r\n\r\n\r\n### Logs or other output that would be helpful\r\n```\r\n... fatal error: 'tensorflow/core/public/session.h' file not found\r\n#include \"tensorflow/core/public/session.h\"\r\n         ^\r\n1 error generated.\r\nmake: *** [...] Error 1\r\n```\r\n"}