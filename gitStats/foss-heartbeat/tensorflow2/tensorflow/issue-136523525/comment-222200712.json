{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/222200712", "html_url": "https://github.com/tensorflow/tensorflow/pull/1289#issuecomment-222200712", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1289", "id": 222200712, "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjIwMDcxMg==", "user": {"login": "StephenOman", "id": 4146078, "node_id": "MDQ6VXNlcjQxNDYwNzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/4146078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StephenOman", "html_url": "https://github.com/StephenOman", "followers_url": "https://api.github.com/users/StephenOman/followers", "following_url": "https://api.github.com/users/StephenOman/following{/other_user}", "gists_url": "https://api.github.com/users/StephenOman/gists{/gist_id}", "starred_url": "https://api.github.com/users/StephenOman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StephenOman/subscriptions", "organizations_url": "https://api.github.com/users/StephenOman/orgs", "repos_url": "https://api.github.com/users/StephenOman/repos", "events_url": "https://api.github.com/users/StephenOman/events{/privacy}", "received_events_url": "https://api.github.com/users/StephenOman/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-27T17:05:34Z", "updated_at": "2016-05-27T17:05:34Z", "author_association": "NONE", "body_html": "<p>I understand that Bazel is the preferred build tool for TensorFlow. However, it's worth noting that this change has some consequences for developers woking with alternative build tools:</p>\n<ol>\n<li>Since the git --recursive option is no longer going to clone Protobuf too, it will have to be cloned manually to get access to the required header files. The documentation needs to be updated to reflect that.</li>\n<li>The exact commit version of Protobuf to clone is buried in tensorflow/workspace.bzl rather than in the handy google/protobuf link. This is a pity as having it the original way means letting git worry about checking out the right version. The way it is configured now, future changes to the Protobuf version will need to be updated in several different build instruction files.</li>\n<li>As the google/protobuf path no longer exists, any Include Path directives will have to be modified to point to the new local Protobuf clone location. This is also a shame as having a standard folder google/protobuf in the workspace meant configuring the Include Path once in the build file and then forgetting about it. Now there'll be an extra step for each new developer to change it to point to his/her own Protobuf location.</li>\n</ol>\n<p>I'd also add a more general request. This kind of change to the repo structure should have a minor release number with some release notes. It took me a good while to figure out why all the Protobuf headers had disappeared from my build environment after I merged in the latest tensorflow:master changes. I thought I had deleted them somehow and went around in circles before finding this PR.</p>", "body_text": "I understand that Bazel is the preferred build tool for TensorFlow. However, it's worth noting that this change has some consequences for developers woking with alternative build tools:\n\nSince the git --recursive option is no longer going to clone Protobuf too, it will have to be cloned manually to get access to the required header files. The documentation needs to be updated to reflect that.\nThe exact commit version of Protobuf to clone is buried in tensorflow/workspace.bzl rather than in the handy google/protobuf link. This is a pity as having it the original way means letting git worry about checking out the right version. The way it is configured now, future changes to the Protobuf version will need to be updated in several different build instruction files.\nAs the google/protobuf path no longer exists, any Include Path directives will have to be modified to point to the new local Protobuf clone location. This is also a shame as having a standard folder google/protobuf in the workspace meant configuring the Include Path once in the build file and then forgetting about it. Now there'll be an extra step for each new developer to change it to point to his/her own Protobuf location.\n\nI'd also add a more general request. This kind of change to the repo structure should have a minor release number with some release notes. It took me a good while to figure out why all the Protobuf headers had disappeared from my build environment after I merged in the latest tensorflow:master changes. I thought I had deleted them somehow and went around in circles before finding this PR.", "body": "I understand that Bazel is the preferred build tool for TensorFlow. However, it's worth noting that this change has some consequences for developers woking with alternative build tools:\n1. Since the git --recursive option is no longer going to clone Protobuf too, it will have to be cloned manually to get access to the required header files. The documentation needs to be updated to reflect that.\n2. The exact commit version of Protobuf to clone is buried in tensorflow/workspace.bzl rather than in the handy google/protobuf link. This is a pity as having it the original way means letting git worry about checking out the right version. The way it is configured now, future changes to the Protobuf version will need to be updated in several different build instruction files.\n3. As the google/protobuf path no longer exists, any Include Path directives will have to be modified to point to the new local Protobuf clone location. This is also a shame as having a standard folder google/protobuf in the workspace meant configuring the Include Path once in the build file and then forgetting about it. Now there'll be an extra step for each new developer to change it to point to his/her own Protobuf location.\n\nI'd also add a more general request. This kind of change to the repo structure should have a minor release number with some release notes. It took me a good while to figure out why all the Protobuf headers had disappeared from my build environment after I merged in the latest tensorflow:master changes. I thought I had deleted them somehow and went around in circles before finding this PR.\n"}