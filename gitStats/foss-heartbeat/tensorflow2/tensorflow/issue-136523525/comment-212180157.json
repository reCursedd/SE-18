{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/212180157", "html_url": "https://github.com/tensorflow/tensorflow/pull/1289#issuecomment-212180157", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1289", "id": 212180157, "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjE4MDE1Nw==", "user": {"login": "davidzchen", "id": 5283042, "node_id": "MDQ6VXNlcjUyODMwNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5283042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidzchen", "html_url": "https://github.com/davidzchen", "followers_url": "https://api.github.com/users/davidzchen/followers", "following_url": "https://api.github.com/users/davidzchen/following{/other_user}", "gists_url": "https://api.github.com/users/davidzchen/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidzchen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidzchen/subscriptions", "organizations_url": "https://api.github.com/users/davidzchen/orgs", "repos_url": "https://api.github.com/users/davidzchen/repos", "events_url": "https://api.github.com/users/davidzchen/events{/privacy}", "received_events_url": "https://api.github.com/users/davidzchen/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-20T00:09:38Z", "updated_at": "2016-04-20T00:09:38Z", "author_association": "MEMBER", "body_html": "<p>I have updated the commit hash in <code>tensorflow/workspace.bzl</code>. I'm still debugging some build and test failures that I found when running <code>bazel test //tensorflow/...</code> on my Goobuntu machine (see below), but let's also run the CI to see if there is anything else that needs to be fixed.</p>\n<pre><code>\u276f\u276f\u276f bazel test //tensorflow/...\nWARNING: /usr/local/google/home/dzc/Projects/tensorflow/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future\nINFO: Found 709 targets and 418 test targets...\nINFO: From Compiling external/protobuf/src/google/protobuf/compiler/js/js_generator.cc [for host]:\nexternal/protobuf/src/google/protobuf/compiler/js/js_generator.cc: In function 'std::string google::protobuf::compiler::js::{anonymous}::JSByteGetterSuffix(google::protobuf::compiler::js::{anonymous}::BytesMode)':\nexternal/protobuf/src/google/protobuf/compiler/js/js_generator.cc:492:1: warning: control reaches end of non-void function [-Wreturn-type]\n }\n ^\n\nERROR: /usr/local/google/home/dzc/.cache/bazel/_bazel_dzc/97010c3bd7554ebe07410261582c4d5e/external/protobuf/BUILD:581:1: C++ compilation of rule '@protobuf//:pyext/_message.so' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wl,-z,-relro,-z,no\nw -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer '-std=c++0x' -iquote ... (remaining 48 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:34:0:\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.h:51:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.h:51:7: error: 'shared_ptr' has not been declared\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.h:67:3: error: 'shared_ptr' does not name a type\n   shared_ptr&lt;Message&gt; owner;\n   ^\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:43:0:\nexternal/protobuf/python/google/protobuf/pyext/message.h:56:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/message.h:56:7: error: 'shared_ptr' not declared\nexternal/protobuf/python/google/protobuf/pyext/message.h:57:12: error: 'std::std' has not been declared\n using std::std::string;\n            ^\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:44:0:\nexternal/protobuf/python/google/protobuf/pyext/repeated_composite_container.h:53:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/repeated_composite_container.h:53:7: error: 'shared_ptr' not declared\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:45:0:\nexternal/protobuf/python/google/protobuf/pyext/repeated_scalar_container.h:52:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/repeated_scalar_container.h:52:7: error: 'shared_ptr' not declared\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc: In function 'google::protobuf::python::ExtensionDict* google::protobuf::python::extension_dict::NewExtensionDict(google::protobuf::python::CMessage*)':\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc:251:9: error: 'google::protobuf::python::ExtensionDict' has no member named 'owner'\n   self-&gt;owner = parent-&gt;owner;\n         ^\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc: In function 'void google::protobuf::python::extension_dict::dealloc(google::protobuf::python::ExtensionDict*)':\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc:258:9: error: 'google::protobuf::python::ExtensionDict' has no member named 'owner'\n   self-&gt;owner.reset();\n         ^\n\nINFO: Elapsed time: 44.875s, Critical Path: 33.67s\nFAIL: //tensorflow/contrib/ctc:ctc_decoder_ops_test\nFAIL: //tensorflow/contrib/ctc:ctc_loss_op_test\nFAIL: //tensorflow/contrib/distributions:gaussian_conjugate_posteriors_test\n\n~~~ snipped ~~~\n</code></pre>", "body_text": "I have updated the commit hash in tensorflow/workspace.bzl. I'm still debugging some build and test failures that I found when running bazel test //tensorflow/... on my Goobuntu machine (see below), but let's also run the CI to see if there is anything else that needs to be fixed.\n\u276f\u276f\u276f bazel test //tensorflow/...\nWARNING: /usr/local/google/home/dzc/Projects/tensorflow/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future\nINFO: Found 709 targets and 418 test targets...\nINFO: From Compiling external/protobuf/src/google/protobuf/compiler/js/js_generator.cc [for host]:\nexternal/protobuf/src/google/protobuf/compiler/js/js_generator.cc: In function 'std::string google::protobuf::compiler::js::{anonymous}::JSByteGetterSuffix(google::protobuf::compiler::js::{anonymous}::BytesMode)':\nexternal/protobuf/src/google/protobuf/compiler/js/js_generator.cc:492:1: warning: control reaches end of non-void function [-Wreturn-type]\n }\n ^\n\nERROR: /usr/local/google/home/dzc/.cache/bazel/_bazel_dzc/97010c3bd7554ebe07410261582c4d5e/external/protobuf/BUILD:581:1: C++ compilation of rule '@protobuf//:pyext/_message.so' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wl,-z,-relro,-z,no\nw -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer '-std=c++0x' -iquote ... (remaining 48 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:34:0:\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.h:51:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.h:51:7: error: 'shared_ptr' has not been declared\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.h:67:3: error: 'shared_ptr' does not name a type\n   shared_ptr<Message> owner;\n   ^\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:43:0:\nexternal/protobuf/python/google/protobuf/pyext/message.h:56:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/message.h:56:7: error: 'shared_ptr' not declared\nexternal/protobuf/python/google/protobuf/pyext/message.h:57:12: error: 'std::std' has not been declared\n using std::std::string;\n            ^\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:44:0:\nexternal/protobuf/python/google/protobuf/pyext/repeated_composite_container.h:53:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/repeated_composite_container.h:53:7: error: 'shared_ptr' not declared\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:45:0:\nexternal/protobuf/python/google/protobuf/pyext/repeated_scalar_container.h:52:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/repeated_scalar_container.h:52:7: error: 'shared_ptr' not declared\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc: In function 'google::protobuf::python::ExtensionDict* google::protobuf::python::extension_dict::NewExtensionDict(google::protobuf::python::CMessage*)':\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc:251:9: error: 'google::protobuf::python::ExtensionDict' has no member named 'owner'\n   self->owner = parent->owner;\n         ^\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc: In function 'void google::protobuf::python::extension_dict::dealloc(google::protobuf::python::ExtensionDict*)':\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc:258:9: error: 'google::protobuf::python::ExtensionDict' has no member named 'owner'\n   self->owner.reset();\n         ^\n\nINFO: Elapsed time: 44.875s, Critical Path: 33.67s\nFAIL: //tensorflow/contrib/ctc:ctc_decoder_ops_test\nFAIL: //tensorflow/contrib/ctc:ctc_loss_op_test\nFAIL: //tensorflow/contrib/distributions:gaussian_conjugate_posteriors_test\n\n~~~ snipped ~~~", "body": "I have updated the commit hash in `tensorflow/workspace.bzl`. I'm still debugging some build and test failures that I found when running `bazel test //tensorflow/...` on my Goobuntu machine (see below), but let's also run the CI to see if there is anything else that needs to be fixed.\n\n```\n\u276f\u276f\u276f bazel test //tensorflow/...\nWARNING: /usr/local/google/home/dzc/Projects/tensorflow/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future\nINFO: Found 709 targets and 418 test targets...\nINFO: From Compiling external/protobuf/src/google/protobuf/compiler/js/js_generator.cc [for host]:\nexternal/protobuf/src/google/protobuf/compiler/js/js_generator.cc: In function 'std::string google::protobuf::compiler::js::{anonymous}::JSByteGetterSuffix(google::protobuf::compiler::js::{anonymous}::BytesMode)':\nexternal/protobuf/src/google/protobuf/compiler/js/js_generator.cc:492:1: warning: control reaches end of non-void function [-Wreturn-type]\n }\n ^\n\nERROR: /usr/local/google/home/dzc/.cache/bazel/_bazel_dzc/97010c3bd7554ebe07410261582c4d5e/external/protobuf/BUILD:581:1: C++ compilation of rule '@protobuf//:pyext/_message.so' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wl,-z,-relro,-z,no\nw -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer '-std=c++0x' -iquote ... (remaining 48 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:34:0:\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.h:51:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.h:51:7: error: 'shared_ptr' has not been declared\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.h:67:3: error: 'shared_ptr' does not name a type\n   shared_ptr<Message> owner;\n   ^\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:43:0:\nexternal/protobuf/python/google/protobuf/pyext/message.h:56:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/message.h:56:7: error: 'shared_ptr' not declared\nexternal/protobuf/python/google/protobuf/pyext/message.h:57:12: error: 'std::std' has not been declared\n using std::std::string;\n            ^\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:44:0:\nexternal/protobuf/python/google/protobuf/pyext/repeated_composite_container.h:53:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/repeated_composite_container.h:53:7: error: 'shared_ptr' not declared\nIn file included from external/protobuf/python/google/protobuf/pyext/extension_dict.cc:45:0:\nexternal/protobuf/python/google/protobuf/pyext/repeated_scalar_container.h:52:7: error: expected nested-name-specifier before 'shared_ptr'\n using shared_ptr;\n       ^\nexternal/protobuf/python/google/protobuf/pyext/repeated_scalar_container.h:52:7: error: 'shared_ptr' not declared\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc: In function 'google::protobuf::python::ExtensionDict* google::protobuf::python::extension_dict::NewExtensionDict(google::protobuf::python::CMessage*)':\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc:251:9: error: 'google::protobuf::python::ExtensionDict' has no member named 'owner'\n   self->owner = parent->owner;\n         ^\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc: In function 'void google::protobuf::python::extension_dict::dealloc(google::protobuf::python::ExtensionDict*)':\nexternal/protobuf/python/google/protobuf/pyext/extension_dict.cc:258:9: error: 'google::protobuf::python::ExtensionDict' has no member named 'owner'\n   self->owner.reset();\n         ^\n\nINFO: Elapsed time: 44.875s, Critical Path: 33.67s\nFAIL: //tensorflow/contrib/ctc:ctc_decoder_ops_test\nFAIL: //tensorflow/contrib/ctc:ctc_loss_op_test\nFAIL: //tensorflow/contrib/distributions:gaussian_conjugate_posteriors_test\n\n~~~ snipped ~~~\n```\n"}