{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9316", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9316/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9316/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9316/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9316", "id": 222895933, "node_id": "MDU6SXNzdWUyMjI4OTU5MzM=", "number": 9316, "title": "MultiRNNcell expected state to tuple but its a tensor", "user": {"login": "prashantsingh905", "id": 25106202, "node_id": "MDQ6VXNlcjI1MTA2MjAy", "avatar_url": "https://avatars1.githubusercontent.com/u/25106202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prashantsingh905", "html_url": "https://github.com/prashantsingh905", "followers_url": "https://api.github.com/users/prashantsingh905/followers", "following_url": "https://api.github.com/users/prashantsingh905/following{/other_user}", "gists_url": "https://api.github.com/users/prashantsingh905/gists{/gist_id}", "starred_url": "https://api.github.com/users/prashantsingh905/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prashantsingh905/subscriptions", "organizations_url": "https://api.github.com/users/prashantsingh905/orgs", "repos_url": "https://api.github.com/users/prashantsingh905/repos", "events_url": "https://api.github.com/users/prashantsingh905/events{/privacy}", "received_events_url": "https://api.github.com/users/prashantsingh905/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-19T22:55:04Z", "updated_at": "2017-04-19T23:44:34Z", "closed_at": "2017-04-19T23:44:34Z", "author_association": "NONE", "body_html": "<p>i have define my lstm_cell as</p>\n<p><code>def lstm(state, input_data, num_steps, hidden_size, num_layers, name):</code><br>\n<code># Input: (B, T, N)</code><br>\n<code>with tf.variable_scope(name) as scope: </code><br>\n<code>multi_lstm = MultiRNNCell([BasicLSTMCell(hidden_size)] * num_layers)</code><br>\n<code>outputs = [] </code><br>\n<code>for t in range(num_steps): </code><br>\n<code>output, state = multi_lstm(input_data[:, t, :], state) </code><br>\n<code>output = batch_normalization(output, [0, 1], \"batch\")</code><br>\n<code>outputs.append(output)</code><br>\n<code>scope.reuse_variables()</code><br>\n<code>return outputs</code></p>\n<p>Now after defining my inputs for lstm_cell as<br>\n<code>lstm_input = tf.reshape(c13, [B, M, -1])</code><br>\n<code>lstm_state = tf.reduce_mean(lstm_input, [1])</code></p>\n<p>and passing my values to lstm() , i am getting the following error<br>\n<code> Expected state to be a tuple of length 6, but received: Tensor(\"Mean:0\", shape=(25, 1568), dtype=float32)</code></p>", "body_text": "i have define my lstm_cell as\ndef lstm(state, input_data, num_steps, hidden_size, num_layers, name):\n# Input: (B, T, N)\nwith tf.variable_scope(name) as scope: \nmulti_lstm = MultiRNNCell([BasicLSTMCell(hidden_size)] * num_layers)\noutputs = [] \nfor t in range(num_steps): \noutput, state = multi_lstm(input_data[:, t, :], state) \noutput = batch_normalization(output, [0, 1], \"batch\")\noutputs.append(output)\nscope.reuse_variables()\nreturn outputs\nNow after defining my inputs for lstm_cell as\nlstm_input = tf.reshape(c13, [B, M, -1])\nlstm_state = tf.reduce_mean(lstm_input, [1])\nand passing my values to lstm() , i am getting the following error\n Expected state to be a tuple of length 6, but received: Tensor(\"Mean:0\", shape=(25, 1568), dtype=float32)", "body": "i have define my lstm_cell as \r\n\r\n`def lstm(state, input_data, num_steps, hidden_size, num_layers, name):`\r\n   ` # Input: (B, T, N) `\r\n     `with tf.variable_scope(name) as scope: `\r\n        ` multi_lstm = MultiRNNCell([BasicLSTMCell(hidden_size)] * num_layers) `\r\n         `outputs = [] `\r\n         `for t in range(num_steps): `\r\n             `output, state = multi_lstm(input_data[:, t, :], state) `\r\n            ` output = batch_normalization(output, [0, 1], \"batch\") `\r\n            ` outputs.append(output) `\r\n            ` scope.reuse_variables() `\r\n         `return outputs`\r\n\r\nNow after defining my inputs for lstm_cell as\r\n`lstm_input = tf.reshape(c13, [B, M, -1])`\r\n`lstm_state = tf.reduce_mean(lstm_input, [1])`\r\n\r\n and passing my values to lstm() , i am getting the following error \r\n` Expected state to be a tuple of length 6, but received: Tensor(\"Mean:0\", shape=(25, 1568), dtype=float32)`"}