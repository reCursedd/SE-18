{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3135", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3135/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3135/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3135/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3135", "id": 163295591, "node_id": "MDU6SXNzdWUxNjMyOTU1OTE=", "number": 3135, "title": "Raspberry Pi build error", "user": {"login": "mweber7", "id": 19275508, "node_id": "MDQ6VXNlcjE5Mjc1NTA4", "avatar_url": "https://avatars0.githubusercontent.com/u/19275508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mweber7", "html_url": "https://github.com/mweber7", "followers_url": "https://api.github.com/users/mweber7/followers", "following_url": "https://api.github.com/users/mweber7/following{/other_user}", "gists_url": "https://api.github.com/users/mweber7/gists{/gist_id}", "starred_url": "https://api.github.com/users/mweber7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mweber7/subscriptions", "organizations_url": "https://api.github.com/users/mweber7/orgs", "repos_url": "https://api.github.com/users/mweber7/repos", "events_url": "https://api.github.com/users/mweber7/events{/privacy}", "received_events_url": "https://api.github.com/users/mweber7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-07-01T00:25:58Z", "updated_at": "2016-07-01T22:28:00Z", "closed_at": "2016-07-01T22:28:00Z", "author_association": "NONE", "body_html": "<p>I am trying to build tensorflow on a Raspberry Pi 3 (Raspbian OS, gcc 4.9.2, no USB stick for swap) according to the steps provided <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/makefile\">here</a>.  When I execute the following make command,</p>\n<p>make -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI <br>\nOPTFLAGS=\"-Os -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize\"</p>\n<p>I am getting the error reproduced below.  Is this an eigen issue?  Any suggestions on how to overcome this error?</p>\n<hr>\n<p>In file included from /usr/include/c++/4.9/atomic:41:0,<br>\nfrom /home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/downloads/eigen-eigen-334b1d428283/unsupported/Eigen/CXX11/ThreadPool:40,<br>\nfrom /home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/downloads/eigen-eigen-334b1d428283/unsupported/Eigen/CXX11/Tensor:57,<br>\nfrom ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,<br>\nfrom tensorflow/core/lib/core/threadpool.cc:19:<br>\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::EventCount::CancelWait(Eigen::EventCount::Waiter_)\u2019:<br>\n/usr/include/c++/4.9/bits/atomic_base.h:538:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019<br>\nreturn __atomic_compare_exchange_n(&amp;_M_i, &amp;__i1, __i2, 1, __m1, _<em>m2);<br>\n^<br>\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::EventCount::CommitWait(Eigen::EventCount::Waiter</em>)\u2019:<br>\n/usr/include/c++/4.9/bits/atomic_base.h:538:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019<br>\nreturn __atomic_compare_exchange_n(&amp;_M_i, &amp;__i1, __i2, 1, __m1, __m2);<br>\n^<br>\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::EventCount::Notify(bool)\u2019:<br>\n/usr/include/c++/4.9/bits/atomic_base.h:538:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019<br>\nreturn __atomic_compare_exchange_n(&amp;_M_i, &amp;__i1, __i2, 1, __m1, __m2);<br>\n^<br>\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018Work Eigen::RunQueue&lt;Work, kSize&gt;::PushBack(Work) [with Work = tensorflow::thread::EigenEnvironment::Task; unsigned int kSize = 1024u]\u2019:<br>\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019<br>\nreturn __atomic_compare_exchange_n(&amp;_M_i, &amp;__i1, __i2, 0, __m1, __m2);<br>\n^<br>\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::NonBlockingThreadPoolTempl::Schedule(std::function&lt;void()&gt;) [with Environment = tensorflow::thread::EigenEnvironment]\u2019:<br>\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019<br>\nreturn __atomic_compare_exchange_n(&amp;_M_i, &amp;__i1, __i2, 0, __m1, __m2);<br>\n^<br>\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018Work Eigen::RunQueue&lt;Work, kSize&gt;::PopFront() [with Work = tensorflow::thread::EigenEnvironment::Task; unsigned int kSize = 1024u]\u2019:<br>\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019<br>\nreturn __atomic_compare_exchange_n(&amp;_M_i, &amp;__i1, __i2, 0, __m1, __m2);<br>\n^<br>\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018Work Eigen::RunQueue&lt;Work, kSize&gt;::PopBack() [with Work = tensorflow::thread::EigenEnvironment::Task; unsigned int kSize = 1024u]\u2019:<br>\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019<br>\nreturn __atomic_compare_exchange_n(&amp;_M_i, &amp;__i1, __i2, 0, __m1, __m2);<br>\n^<br>\ntensorflow/contrib/makefile/Makefile:404: recipe for target '/home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/gen/obj/tensorflow/core/lib/core/threadpool.o' failed<br>\nmake: *** [/home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/gen/obj/tensorflow/core/lib/core/threadpool.o] Error 1</p>", "body_text": "I am trying to build tensorflow on a Raspberry Pi 3 (Raspbian OS, gcc 4.9.2, no USB stick for swap) according to the steps provided here.  When I execute the following make command,\nmake -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI \nOPTFLAGS=\"-Os -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize\"\nI am getting the error reproduced below.  Is this an eigen issue?  Any suggestions on how to overcome this error?\n\nIn file included from /usr/include/c++/4.9/atomic:41:0,\nfrom /home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/downloads/eigen-eigen-334b1d428283/unsupported/Eigen/CXX11/ThreadPool:40,\nfrom /home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/downloads/eigen-eigen-334b1d428283/unsupported/Eigen/CXX11/Tensor:57,\nfrom ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\nfrom tensorflow/core/lib/core/threadpool.cc:19:\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::EventCount::CancelWait(Eigen::EventCount::Waiter_)\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:538:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\nreturn __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 1, __m1, _m2);\n^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::EventCount::CommitWait(Eigen::EventCount::Waiter)\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:538:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\nreturn __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 1, __m1, __m2);\n^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::EventCount::Notify(bool)\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:538:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\nreturn __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 1, __m1, __m2);\n^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018Work Eigen::RunQueue<Work, kSize>::PushBack(Work) [with Work = tensorflow::thread::EigenEnvironment::Task; unsigned int kSize = 1024u]\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\nreturn __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 0, __m1, __m2);\n^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::NonBlockingThreadPoolTempl::Schedule(std::function<void()>) [with Environment = tensorflow::thread::EigenEnvironment]\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\nreturn __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 0, __m1, __m2);\n^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018Work Eigen::RunQueue<Work, kSize>::PopFront() [with Work = tensorflow::thread::EigenEnvironment::Task; unsigned int kSize = 1024u]\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\nreturn __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 0, __m1, __m2);\n^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018Work Eigen::RunQueue<Work, kSize>::PopBack() [with Work = tensorflow::thread::EigenEnvironment::Task; unsigned int kSize = 1024u]\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\nreturn __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 0, __m1, __m2);\n^\ntensorflow/contrib/makefile/Makefile:404: recipe for target '/home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/gen/obj/tensorflow/core/lib/core/threadpool.o' failed\nmake: *** [/home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/gen/obj/tensorflow/core/lib/core/threadpool.o] Error 1", "body": "I am trying to build tensorflow on a Raspberry Pi 3 (Raspbian OS, gcc 4.9.2, no USB stick for swap) according to the steps provided [here](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/makefile).  When I execute the following make command,\n\nmake -f tensorflow/contrib/makefile/Makefile HOST_OS=PI TARGET=PI \\\n OPTFLAGS=\"-Os -mfpu=neon-vfpv4 -funsafe-math-optimizations -ftree-vectorize\"\n\nI am getting the error reproduced below.  Is this an eigen issue?  Any suggestions on how to overcome this error?\n\n---\n\nIn file included from /usr/include/c++/4.9/atomic:41:0,\n                 from /home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/downloads/eigen-eigen-334b1d428283/unsupported/Eigen/CXX11/ThreadPool:40,\n                 from /home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/downloads/eigen-eigen-334b1d428283/unsupported/Eigen/CXX11/Tensor:57,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from tensorflow/core/lib/core/threadpool.cc:19:\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::EventCount::CancelWait(Eigen::EventCount::Waiter_)\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:538:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\n  return __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 1, __m1, __m2);\n                                                                      ^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::EventCount::CommitWait(Eigen::EventCount::Waiter_)\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:538:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\n  return __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 1, __m1, __m2);\n                                                                      ^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::EventCount::Notify(bool)\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:538:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\n  return __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 1, __m1, __m2);\n                                                                      ^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018Work Eigen::RunQueue<Work, kSize>::PushBack(Work) [with Work = tensorflow::thread::EigenEnvironment::Task; unsigned int kSize = 1024u]\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\n  return __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 0, __m1, __m2);\n                                                                      ^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018void Eigen::NonBlockingThreadPoolTempl<Environment>::Schedule(std::function<void()>) [with Environment = tensorflow::thread::EigenEnvironment]\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\n  return __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 0, __m1, __m2);\n                                                                      ^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018Work Eigen::RunQueue<Work, kSize>::PopFront() [with Work = tensorflow::thread::EigenEnvironment::Task; unsigned int kSize = 1024u]\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\n  return __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 0, __m1, __m2);\n                                                                      ^\n/usr/include/c++/4.9/bits/atomic_base.h: In member function \u2018Work Eigen::RunQueue<Work, kSize>::PopBack() [with Work = tensorflow::thread::EigenEnvironment::Task; unsigned int kSize = 1024u]\u2019:\n/usr/include/c++/4.9/bits/atomic_base.h:581:70: error: failure memory model cannot be stronger than success memory model for \u2018__atomic_compare_exchange\u2019\n  return __atomic_compare_exchange_n(&_M_i, &__i1, __i2, 0, __m1, __m2);\n                                                                      ^\ntensorflow/contrib/makefile/Makefile:404: recipe for target '/home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/gen/obj/tensorflow/core/lib/core/threadpool.o' failed\nmake: **\\* [/home/pi/Desktop/Tensorflow_gitclone/tensorflow/tensorflow/contrib/makefile/gen/obj/tensorflow/core/lib/core/threadpool.o] Error 1\n"}