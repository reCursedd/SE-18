{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/271795903", "html_url": "https://github.com/tensorflow/tensorflow/issues/6777#issuecomment-271795903", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6777", "id": 271795903, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTc5NTkwMw==", "user": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-11T07:15:41Z", "updated_at": "2017-01-11T07:15:41Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a> Files like <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/ci_build/protobuf/protobuf_optimized_pip.sh\">protobuf_optimized_pip.sh</a> lead me to believe that <code>setup.py bdist_wheel</code> is doing unholy things as part of the build process, like getting protoc from /usr/bin. Exporting that environment variable in the pip package script would most likely make things a little more hermetically sealed. However it's a shame that Bazel isn't building the pip package. That seems better than delegating to a system build.</p>", "body_text": "@gunan Files like protobuf_optimized_pip.sh lead me to believe that setup.py bdist_wheel is doing unholy things as part of the build process, like getting protoc from /usr/bin. Exporting that environment variable in the pip package script would most likely make things a little more hermetically sealed. However it's a shame that Bazel isn't building the pip package. That seems better than delegating to a system build.", "body": "@gunan Files like [protobuf_optimized_pip.sh](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/ci_build/protobuf/protobuf_optimized_pip.sh) lead me to believe that `setup.py bdist_wheel` is doing unholy things as part of the build process, like getting protoc from /usr/bin. Exporting that environment variable in the pip package script would most likely make things a little more hermetically sealed. However it's a shame that Bazel isn't building the pip package. That seems better than delegating to a system build."}