{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/234258507", "pull_request_review_id": 175868914, "id": 234258507, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNDI1ODUwNw==", "diff_hunk": "@@ -45,6 +45,13 @@ cp $SCRIPT_DIR/gen/lib/libtensorflow-core.a \\\n    $FW_DIR_TFCORE/tensorflow_experimental\n cp $SCRIPT_DIR/gen/protobuf_ios/lib/libprotobuf.a \\\n    $FW_DIR_TFCORE/libprotobuf_experimental.a\n+IOS_ARCH=$(ls $SCRIPT_DIR/gen/bin|grep ios|awk '{print tolower($0)}')\n+NSYNC_PATH=./downloads/nsync/builds/${IOS_ARCH:4}.ios.c++11/libnsync.a", "path": "tensorflow/contrib/makefile/create_ios_frameworks.sh", "position": null, "original_position": 5, "commit_id": "0bc11ecde5d9a4af42192fca91815867d06a9fe4", "original_commit_id": "d3aed918a7bf38f5ef6c3afc687a8d903d752e5d", "user": {"login": "RockfordWei", "id": 22161723, "node_id": "MDQ6VXNlcjIyMTYxNzIz", "avatar_url": "https://avatars1.githubusercontent.com/u/22161723?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RockfordWei", "html_url": "https://github.com/RockfordWei", "followers_url": "https://api.github.com/users/RockfordWei/followers", "following_url": "https://api.github.com/users/RockfordWei/following{/other_user}", "gists_url": "https://api.github.com/users/RockfordWei/gists{/gist_id}", "starred_url": "https://api.github.com/users/RockfordWei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RockfordWei/subscriptions", "organizations_url": "https://api.github.com/users/RockfordWei/orgs", "repos_url": "https://api.github.com/users/RockfordWei/repos", "events_url": "https://api.github.com/users/RockfordWei/events{/privacy}", "received_events_url": "https://api.github.com/users/RockfordWei/received_events", "type": "User", "site_admin": false}, "body": "Hi Ling @miaout17, I just updated a bit, however, as I said, it is a bit complicated, since the simple `build_all_ios.sh` never works for me, I'd been using a long command as mentioned in [my own TF ios demo page](https://github.com/RockfordWei/TensorFlow-iOS-Demo-App) instead, for example (simulator):\r\n``` bash\r\n./build_all_ios.sh -a x86_64 -g $(PROJECT_DIR)/xxx.pb\r\n```\r\nif without these parameters, the lib cannot build at all and is throwing some local thread symbol missing error.\r\n\r\n\r\nHowever, I can confirm that after this update, there is a `libnsync.a` in the expected framework folder, but still have no chance to all the ios frameworks, just one by one is ok.", "created_at": "2018-11-16T16:05:54Z", "updated_at": "2018-11-16T16:05:54Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/21678#discussion_r234258507", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21678", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/234258507"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/21678#discussion_r234258507"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21678"}}, "body_html": "<p>Hi Ling <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22063\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/miaout17\">@miaout17</a>, I just updated a bit, however, as I said, it is a bit complicated, since the simple <code>build_all_ios.sh</code> never works for me, I'd been using a long command as mentioned in <a href=\"https://github.com/RockfordWei/TensorFlow-iOS-Demo-App\">my own TF ios demo page</a> instead, for example (simulator):</p>\n<div class=\"highlight highlight-source-shell\"><pre>./build_all_ios.sh -a x86_64 -g <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>PROJECT_DIR<span class=\"pl-pds\">)</span></span>/xxx.pb</pre></div>\n<p>if without these parameters, the lib cannot build at all and is throwing some local thread symbol missing error.</p>\n<p>However, I can confirm that after this update, there is a <code>libnsync.a</code> in the expected framework folder, but still have no chance to all the ios frameworks, just one by one is ok.</p>", "body_text": "Hi Ling @miaout17, I just updated a bit, however, as I said, it is a bit complicated, since the simple build_all_ios.sh never works for me, I'd been using a long command as mentioned in my own TF ios demo page instead, for example (simulator):\n./build_all_ios.sh -a x86_64 -g $(PROJECT_DIR)/xxx.pb\nif without these parameters, the lib cannot build at all and is throwing some local thread symbol missing error.\nHowever, I can confirm that after this update, there is a libnsync.a in the expected framework folder, but still have no chance to all the ios frameworks, just one by one is ok.", "in_reply_to_id": 230131618}