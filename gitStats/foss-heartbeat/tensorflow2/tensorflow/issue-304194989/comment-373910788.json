{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/373910788", "html_url": "https://github.com/tensorflow/tensorflow/issues/17632#issuecomment-373910788", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17632", "id": 373910788, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzkxMDc4OA==", "user": {"login": "fo40225", "id": 10285869, "node_id": "MDQ6VXNlcjEwMjg1ODY5", "avatar_url": "https://avatars1.githubusercontent.com/u/10285869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fo40225", "html_url": "https://github.com/fo40225", "followers_url": "https://api.github.com/users/fo40225/followers", "following_url": "https://api.github.com/users/fo40225/following{/other_user}", "gists_url": "https://api.github.com/users/fo40225/gists{/gist_id}", "starred_url": "https://api.github.com/users/fo40225/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fo40225/subscriptions", "organizations_url": "https://api.github.com/users/fo40225/orgs", "repos_url": "https://api.github.com/users/fo40225/repos", "events_url": "https://api.github.com/users/fo40225/events{/privacy}", "received_events_url": "https://api.github.com/users/fo40225/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-17T10:44:03Z", "updated_at": "2018-03-17T10:44:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>It's my fault. I did not encounter this problem when using Keras.</p>\n<p>I've checked my whl, not all unit tests are passed.</p>\n<p><code>--fast-math</code> cause this problem, it change <code>pow(x, y)</code> to <code>2^(y * log2(x))</code></p>\n<p>Is it a common scenario to calculate the power of negative numbers?</p>\n<p>Due to the special function unit is limited resource in GPU, you should use multiply if your power is small integer.</p>\n<p>If your power is not integer, it still return NaN when input is a negative.</p>", "body_text": "It's my fault. I did not encounter this problem when using Keras.\nI've checked my whl, not all unit tests are passed.\n--fast-math cause this problem, it change pow(x, y) to 2^(y * log2(x))\nIs it a common scenario to calculate the power of negative numbers?\nDue to the special function unit is limited resource in GPU, you should use multiply if your power is small integer.\nIf your power is not integer, it still return NaN when input is a negative.", "body": "It's my fault. I did not encounter this problem when using Keras.\r\n\r\nI've checked my whl, not all unit tests are passed.\r\n\r\n`--fast-math` cause this problem, it change `pow(x, y)` to `2^(y * log2(x))`\r\n\r\nIs it a common scenario to calculate the power of negative numbers?\r\n\r\nDue to the special function unit is limited resource in GPU, you should use multiply if your power is small integer.\r\n\r\nIf your power is not integer, it still return NaN when input is a negative."}