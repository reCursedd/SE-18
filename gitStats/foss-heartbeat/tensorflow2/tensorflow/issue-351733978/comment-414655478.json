{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/414655478", "html_url": "https://github.com/tensorflow/tensorflow/issues/21687#issuecomment-414655478", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21687", "id": 414655478, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDY1NTQ3OA==", "user": {"login": "soporteCluster", "id": 26146311, "node_id": "MDQ6VXNlcjI2MTQ2MzEx", "avatar_url": "https://avatars1.githubusercontent.com/u/26146311?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soporteCluster", "html_url": "https://github.com/soporteCluster", "followers_url": "https://api.github.com/users/soporteCluster/followers", "following_url": "https://api.github.com/users/soporteCluster/following{/other_user}", "gists_url": "https://api.github.com/users/soporteCluster/gists{/gist_id}", "starred_url": "https://api.github.com/users/soporteCluster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soporteCluster/subscriptions", "organizations_url": "https://api.github.com/users/soporteCluster/orgs", "repos_url": "https://api.github.com/users/soporteCluster/repos", "events_url": "https://api.github.com/users/soporteCluster/events{/privacy}", "received_events_url": "https://api.github.com/users/soporteCluster/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-21T12:24:22Z", "updated_at": "2018-08-21T13:06:52Z", "author_association": "NONE", "body_html": "<p>Hi,<br>\nThanks for the answer.</p>\n<ol>\n<li>\n<p>I installed Bazel 0.16 in /share/apps/bazel running the script ./compile.sh</p>\n</li>\n<li>\n<p>I installed python dependencies numpy, dev, pip, wheel on python2.7.</p>\n</li>\n<li>\n<p>i set environment variables $PATH and LD_LIBRARY_PATH:<br>\nmodule load python2.7<br>\nmodule load gcc-4.8.2<br>\nPATH=/share/apps/binutils/binutils-2.29.1/bin/:$PATH<br>\nLD_LIBRARY_PATH=/share/apps/binutils/binutils-2.29.1/lib/:$LD_LIBRARY_PATH<br>\nPATH=/share/apps/bazel-0.16.0/output/:$PATH</p>\n</li>\n<li>\n<p>i ran the script ./configure from tensorflow with CUDA 8-0 and cuDNN 6.0</p>\n</li>\n<li>\n<p>I modified the file: tensorflow/tensorflow.bzl by adding the line:</p>\n<p>args += [src.path]<br>\noutputs = [ctx.outputs.cc_out, ctx.outputs.py_out]<br>\nctx.action(                  (l\u00ednea 1187)<br>\n++  <strong>use_default_shell_env = True,</strong><br>\nexecutable=ctx.executable._swig,<br>\narguments=args,<br>\ninputs=list(inputs),</p>\n</li>\n</ol>\n<p>Because i had the following error:<br>\nERROR: /local/jrodriguez.cct/tensor_nuevo/tensorflow-master/tensorflow/contrib/lite/python/interpreter_wrapper/BUILD:22:1: SWIGing tensorflow/contrib/lite/python/interpreter_wrapper/interpreter_wrapper.i failed (Exit 1): swig failed: error executing command</p>\n<ol start=\"6\">\n<li>FInally i ran the command:<br>\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures</li>\n</ol>\n<p>And I get the error I detailed above: Segmentation fault</p>\n<p>Thanks Again.</p>", "body_text": "Hi,\nThanks for the answer.\n\n\nI installed Bazel 0.16 in /share/apps/bazel running the script ./compile.sh\n\n\nI installed python dependencies numpy, dev, pip, wheel on python2.7.\n\n\ni set environment variables $PATH and LD_LIBRARY_PATH:\nmodule load python2.7\nmodule load gcc-4.8.2\nPATH=/share/apps/binutils/binutils-2.29.1/bin/:$PATH\nLD_LIBRARY_PATH=/share/apps/binutils/binutils-2.29.1/lib/:$LD_LIBRARY_PATH\nPATH=/share/apps/bazel-0.16.0/output/:$PATH\n\n\ni ran the script ./configure from tensorflow with CUDA 8-0 and cuDNN 6.0\n\n\nI modified the file: tensorflow/tensorflow.bzl by adding the line:\nargs += [src.path]\noutputs = [ctx.outputs.cc_out, ctx.outputs.py_out]\nctx.action(                  (l\u00ednea 1187)\n++  use_default_shell_env = True,\nexecutable=ctx.executable._swig,\narguments=args,\ninputs=list(inputs),\n\n\nBecause i had the following error:\nERROR: /local/jrodriguez.cct/tensor_nuevo/tensorflow-master/tensorflow/contrib/lite/python/interpreter_wrapper/BUILD:22:1: SWIGing tensorflow/contrib/lite/python/interpreter_wrapper/interpreter_wrapper.i failed (Exit 1): swig failed: error executing command\n\nFInally i ran the command:\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\n\nAnd I get the error I detailed above: Segmentation fault\nThanks Again.", "body": "Hi,\r\nThanks for the answer.\r\n1) I installed Bazel 0.16 in /share/apps/bazel running the script ./compile.sh\r\n2) I installed python dependencies numpy, dev, pip, wheel on python2.7.\r\n3) i set environment variables $PATH and LD_LIBRARY_PATH:\r\nmodule load python2.7\r\nmodule load gcc-4.8.2\r\nPATH=/share/apps/binutils/binutils-2.29.1/bin/:$PATH\r\nLD_LIBRARY_PATH=/share/apps/binutils/binutils-2.29.1/lib/:$LD_LIBRARY_PATH\r\nPATH=/share/apps/bazel-0.16.0/output/:$PATH\r\n4) i ran the script ./configure from tensorflow with CUDA 8-0 and cuDNN 6.0 \r\n5) I modified the file: tensorflow/tensorflow.bzl by adding the line:\r\n\r\n   args += [src.path]\r\n   outputs = [ctx.outputs.cc_out, ctx.outputs.py_out]\r\n   ctx.action(                  (l\u00ednea 1187)\r\n++  **use_default_shell_env = True,** \r\n       executable=ctx.executable._swig,\r\n       arguments=args,\r\n       inputs=list(inputs),\r\n\r\nBecause i had the following error:\r\nERROR: /local/jrodriguez.cct/tensor_nuevo/tensorflow-master/tensorflow/contrib/lite/python/interpreter_wrapper/BUILD:22:1: SWIGing tensorflow/contrib/lite/python/interpreter_wrapper/interpreter_wrapper.i failed (Exit 1): swig failed: error executing command \r\n\r\n6) FInally i ran the command:\r\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\r\n\r\nAnd I get the error I detailed above: Segmentation fault\r\n\r\nThanks Again.\r\n\r\n"}