{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/292598287", "html_url": "https://github.com/tensorflow/tensorflow/pull/6664#issuecomment-292598287", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6664", "id": 292598287, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MjU5ODI4Nw==", "user": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-07T17:20:38Z", "updated_at": "2017-04-07T17:21:13Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=486336\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aam-at\">@aam-at</a> it appears that the two tests:</p>\n<p>_testMaxPoolGradGradSamePadding2_1(data_format, use_gpu)</p>\n<p>and</p>\n<p>_testMaxPoolGradGradSamePadding3_1(data_format, use_gpu)</p>\n<p>are flaky when use_gpu is True, e.g.:</p>\n<p>Traceback (most recent call last):<br>\nFile \"/usr/grte/v4/k8-linux/lib/python2.7/unittest/case.py\", line 331, in run<br>\ntestMethod()<br>\nFile \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/third_party/tensorflow/python/kernel_tests/pooling_ops_test.py\", line 1293, in testMaxPoolGradGrad<br>\nself._testMaxPoolGradGradSamePadding2_1(data_format, use_gpu)<br>\nFile \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/third_party/tensorflow/python/kernel_tests/pooling_ops_test.py\", line 1258, in _testMaxPoolGradGradSamePadding2_1<br>\nuse_gpu=use_gpu)<br>\nFile \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/third_party/tensorflow/python/kernel_tests/pooling_ops_test.py\", line 813, in _ConstructAndTestSecondGradient<br>\nself.assertLess(err, err_tolerance)<br>\nFile \"/usr/grte/v4/k8-linux/lib/python2.7/unittest/case.py\", line 932, in assertLess<br>\nself.fail(self._formatMessage(msg, standardMsg))<br>\nFile \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/testing/pybase/basetest.py\", line 1205, in fail<br>\nreturn super(TestCase, self).fail(self._formatMessage(prefix, msg))<br>\nFile \"/usr/grte/v4/k8-linux/lib/python2.7/unittest/case.py\", line 412, in fail<br>\nraise self.failureException(msg)<br>\n<strong>AssertionError: 1.99932861328125 not less than 0.01</strong></p>\n<p>Perhaps there's a bug for padding equal to SAME? Do you have any idea what the underlying cause might be?</p>", "body_text": "@aam-at it appears that the two tests:\n_testMaxPoolGradGradSamePadding2_1(data_format, use_gpu)\nand\n_testMaxPoolGradGradSamePadding3_1(data_format, use_gpu)\nare flaky when use_gpu is True, e.g.:\nTraceback (most recent call last):\nFile \"/usr/grte/v4/k8-linux/lib/python2.7/unittest/case.py\", line 331, in run\ntestMethod()\nFile \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/third_party/tensorflow/python/kernel_tests/pooling_ops_test.py\", line 1293, in testMaxPoolGradGrad\nself._testMaxPoolGradGradSamePadding2_1(data_format, use_gpu)\nFile \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/third_party/tensorflow/python/kernel_tests/pooling_ops_test.py\", line 1258, in _testMaxPoolGradGradSamePadding2_1\nuse_gpu=use_gpu)\nFile \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/third_party/tensorflow/python/kernel_tests/pooling_ops_test.py\", line 813, in _ConstructAndTestSecondGradient\nself.assertLess(err, err_tolerance)\nFile \"/usr/grte/v4/k8-linux/lib/python2.7/unittest/case.py\", line 932, in assertLess\nself.fail(self._formatMessage(msg, standardMsg))\nFile \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/testing/pybase/basetest.py\", line 1205, in fail\nreturn super(TestCase, self).fail(self._formatMessage(prefix, msg))\nFile \"/usr/grte/v4/k8-linux/lib/python2.7/unittest/case.py\", line 412, in fail\nraise self.failureException(msg)\nAssertionError: 1.99932861328125 not less than 0.01\nPerhaps there's a bug for padding equal to SAME? Do you have any idea what the underlying cause might be?", "body": "@aam-at it appears that the two tests:\r\n\r\n_testMaxPoolGradGradSamePadding2_1(data_format, use_gpu)\r\n\r\nand \r\n\r\n_testMaxPoolGradGradSamePadding3_1(data_format, use_gpu)\r\n\r\nare flaky when use_gpu is True, e.g.:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/grte/v4/k8-linux/lib/python2.7/unittest/case.py\", line 331, in run\r\n    testMethod()\r\n  File \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/third_party/tensorflow/python/kernel_tests/pooling_ops_test.py\", line 1293, in testMaxPoolGradGrad\r\n    self._testMaxPoolGradGradSamePadding2_1(data_format, use_gpu)\r\n  File \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/third_party/tensorflow/python/kernel_tests/pooling_ops_test.py\", line 1258, in _testMaxPoolGradGradSamePadding2_1\r\n    use_gpu=use_gpu)\r\n  File \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/third_party/tensorflow/python/kernel_tests/pooling_ops_test.py\", line 813, in _ConstructAndTestSecondGradient\r\n    self.assertLess(err, err_tolerance)\r\n  File \"/usr/grte/v4/k8-linux/lib/python2.7/unittest/case.py\", line 932, in assertLess\r\n    self.fail(self._formatMessage(msg, standardMsg))\r\n  File \"/build/work/0bfa20861d2fc543528291b5513e5ecb/google3/runfiles/google3/testing/pybase/basetest.py\", line 1205, in fail\r\n    return super(TestCase, self).fail(self._formatMessage(prefix, msg))\r\n  File \"/usr/grte/v4/k8-linux/lib/python2.7/unittest/case.py\", line 412, in fail\r\n    raise self.failureException(msg)\r\n**AssertionError: 1.99932861328125 not less than 0.01**\r\n\r\nPerhaps there's a bug for padding equal to SAME? Do you have any idea what the underlying cause might be?"}