{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/302302740", "html_url": "https://github.com/tensorflow/tensorflow/issues/9517#issuecomment-302302740", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9517", "id": 302302740, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjMwMjc0MA==", "user": {"login": "tfboyd", "id": 23486130, "node_id": "MDQ6VXNlcjIzNDg2MTMw", "avatar_url": "https://avatars1.githubusercontent.com/u/23486130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tfboyd", "html_url": "https://github.com/tfboyd", "followers_url": "https://api.github.com/users/tfboyd/followers", "following_url": "https://api.github.com/users/tfboyd/following{/other_user}", "gists_url": "https://api.github.com/users/tfboyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tfboyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tfboyd/subscriptions", "organizations_url": "https://api.github.com/users/tfboyd/orgs", "repos_url": "https://api.github.com/users/tfboyd/repos", "events_url": "https://api.github.com/users/tfboyd/events{/privacy}", "received_events_url": "https://api.github.com/users/tfboyd/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-18T05:15:50Z", "updated_at": "2017-05-18T05:15:50Z", "author_association": "MEMBER", "body_html": "<p>I found that if the GPUs are not peered then CPU:0 is the often the best option.  If the GPUs are peered then GPU:0 was the best option for VGG16 and Alexnet.  InceptionV3 and Resnet were better on CPU:0 and even faster with replicated on GPU without NCCL.  For example: InceptionV3 was 214 imgs/sec on CPU vs. 218 images/sec using replicated with 8 GPUs batch-size 32 per GPU).  Maybe I am conservative but I wouldn't mess with replicated for an extra 4 images/second.  But if you are interested check out the <a href=\"https://www.tensorflow.org/performance/performance_models\" rel=\"nofollow\">document</a> and sample code.  Replicated makes a much bigger difference for image models with more parameters (like VGG16) when using Tesla P100s.  CPU:0 is still the best choice (as of the time I wrote this message) for InceptionV3 and ResNet on P100s and replicated using NCCL for VGG16 and AlexNet.</p>\n<p>Let me know if this function closes out your request and we will close the issue.  I want to wait for your response before closing.  I expect there is may be some more valuable discussion / feedback.</p>", "body_text": "I found that if the GPUs are not peered then CPU:0 is the often the best option.  If the GPUs are peered then GPU:0 was the best option for VGG16 and Alexnet.  InceptionV3 and Resnet were better on CPU:0 and even faster with replicated on GPU without NCCL.  For example: InceptionV3 was 214 imgs/sec on CPU vs. 218 images/sec using replicated with 8 GPUs batch-size 32 per GPU).  Maybe I am conservative but I wouldn't mess with replicated for an extra 4 images/second.  But if you are interested check out the document and sample code.  Replicated makes a much bigger difference for image models with more parameters (like VGG16) when using Tesla P100s.  CPU:0 is still the best choice (as of the time I wrote this message) for InceptionV3 and ResNet on P100s and replicated using NCCL for VGG16 and AlexNet.\nLet me know if this function closes out your request and we will close the issue.  I want to wait for your response before closing.  I expect there is may be some more valuable discussion / feedback.", "body": "I found that if the GPUs are not peered then CPU:0 is the often the best option.  If the GPUs are peered then GPU:0 was the best option for VGG16 and Alexnet.  InceptionV3 and Resnet were better on CPU:0 and even faster with replicated on GPU without NCCL.  For example: InceptionV3 was 214 imgs/sec on CPU vs. 218 images/sec using replicated with 8 GPUs batch-size 32 per GPU).  Maybe I am conservative but I wouldn't mess with replicated for an extra 4 images/second.  But if you are interested check out the [document](https://www.tensorflow.org/performance/performance_models) and sample code.  Replicated makes a much bigger difference for image models with more parameters (like VGG16) when using Tesla P100s.  CPU:0 is still the best choice (as of the time I wrote this message) for InceptionV3 and ResNet on P100s and replicated using NCCL for VGG16 and AlexNet.  \r\n\r\nLet me know if this function closes out your request and we will close the issue.  I want to wait for your response before closing.  I expect there is may be some more valuable discussion / feedback."}