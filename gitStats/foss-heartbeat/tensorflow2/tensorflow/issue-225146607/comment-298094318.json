{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/298094318", "html_url": "https://github.com/tensorflow/tensorflow/issues/9517#issuecomment-298094318", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9517", "id": 298094318, "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODA5NDMxOA==", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-28T20:06:21Z", "updated_at": "2017-04-28T20:06:21Z", "author_association": "MEMBER", "body_html": "<div class=\"email-fragment\">The canonical way to do this is to use a device function.\n\nOr variable_scope, but I think we should encourage device functions.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Apr 28, 2017 11:42 AM, \"Toby Boyd\" ***@***.***&gt; wrote:\n I meant to ask for this. <a class=\"user-mention\" href=\"https://github.com/martinwicke\">@martinwicke</a> &lt;<a href=\"https://github.com/martinwicke\">https://github.com/martinwicke</a>&gt;\n and I spoke about it but I never formally asked. This would be a good add\n to be able to state where you want the variables to go. Just this type of\n change should be a 10-12% speedup using the current stock slim models as\n tested with resnet-50 a couple months ago. Putting the variables on cpu has\n been optimal for many models, e.g. inception and resnet, regardless of GPU.\n It even works great for Tesla P100s on systems with high speed GPU links.\n Putting shared variables on GPU:0 has only been effective in a limited\n number of situations and architectures that I have tested, e.g. AlexNet on\n AWS K80s, and VGG16 again only on AWS K80s.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"225146607\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9517\" href=\"https://github.com/tensorflow/tensorflow/issues/9517#issuecomment-298075668\">#9517 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AAjO_QKBKJbFK2dLm_8dbplne01d42sqks5r0jMZgaJpZM4NLxX1\">https://github.com/notifications/unsubscribe-auth/AAjO_QKBKJbFK2dLm_8dbplne01d42sqks5r0jMZgaJpZM4NLxX1</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "The canonical way to do this is to use a device function.\n\nOr variable_scope, but I think we should encourage device functions.\n\u2026\nOn Apr 28, 2017 11:42 AM, \"Toby Boyd\" ***@***.***> wrote:\n I meant to ask for this. @martinwicke <https://github.com/martinwicke>\n and I spoke about it but I never formally asked. This would be a good add\n to be able to state where you want the variables to go. Just this type of\n change should be a 10-12% speedup using the current stock slim models as\n tested with resnet-50 a couple months ago. Putting the variables on cpu has\n been optimal for many models, e.g. inception and resnet, regardless of GPU.\n It even works great for Tesla P100s on systems with high speed GPU links.\n Putting shared variables on GPU:0 has only been effective in a limited\n number of situations and architectures that I have tested, e.g. AlexNet on\n AWS K80s, and VGG16 again only on AWS K80s.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#9517 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/AAjO_QKBKJbFK2dLm_8dbplne01d42sqks5r0jMZgaJpZM4NLxX1>\n .", "body": "The canonical way to do this is to use a device function.\n\nOr variable_scope, but I think we should encourage device functions.\n\nOn Apr 28, 2017 11:42 AM, \"Toby Boyd\" <notifications@github.com> wrote:\n\n> I meant to ask for this. @martinwicke <https://github.com/martinwicke>\n> and I spoke about it but I never formally asked. This would be a good add\n> to be able to state where you want the variables to go. Just this type of\n> change should be a 10-12% speedup using the current stock slim models as\n> tested with resnet-50 a couple months ago. Putting the variables on cpu has\n> been optimal for many models, e.g. inception and resnet, regardless of GPU.\n> It even works great for Tesla P100s on systems with high speed GPU links.\n> Putting shared variables on GPU:0 has only been effective in a limited\n> number of situations and architectures that I have tested, e.g. AlexNet on\n> AWS K80s, and VGG16 again only on AWS K80s.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/9517#issuecomment-298075668>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAjO_QKBKJbFK2dLm_8dbplne01d42sqks5r0jMZgaJpZM4NLxX1>\n> .\n>\n"}