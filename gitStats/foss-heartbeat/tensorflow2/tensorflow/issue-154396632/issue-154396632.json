{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2335", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2335/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2335/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2335/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2335", "id": 154396632, "node_id": "MDU6SXNzdWUxNTQzOTY2MzI=", "number": 2335, "title": "\"bazel test\" fails on MacOS with setuptools-21.0", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2016-05-12T04:52:56Z", "updated_at": "2016-12-21T16:29:08Z", "closed_at": "2016-12-21T16:28:56Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I just went through official MacOS instructions to setup bazel/swig and tried the following</p>\n<pre><code>git clone --recurse-submodules https://github.com/tensorflow/tensorflow\ncd tensorflow\n./configure\nbazel test -c opt //tensorflow/python/...\n</code></pre>\n<p>They all fail with stack trace like below, any suggestions?</p>\n<pre><code>Traceback (most recent call last):\n  File \"/private/var/tmp/_bazel_yaroslavvb/ea642be0829ea15e6d2092d22e894d3d/tensorflow/bazel-out/local_darwin-opt/bin/tensorflow/python/zero_division_test.runfiles/tensorflow/python/kernel_tests/zero_division_test.py\", line 22, in &lt;module&gt;\n    import tensorflow as tf\n  File \"/Users/yaroslavvb/g/src/hacking/tensorflow/_python_build/tensorflow/__init__.py\", line 23, in &lt;module&gt;\n    from tensorflow.python import *\n  File \"/Users/yaroslavvb/g/src/hacking/tensorflow/_python_build/tensorflow/python/__init__.py\", line 52, in &lt;module&gt;\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/Users/yaroslavvb/g/src/hacking/tensorflow/_python_build/tensorflow/core/framework/graph_pb2.py\", line 6, in &lt;module&gt;\n    from google.protobuf import descriptor as _descriptor\n  File \"/Library/Python/2.7/site-packages/protobuf-3.0.0b2-py2.7.egg/google/__init__.py\", line 1, in &lt;module&gt;\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2927, in &lt;module&gt;\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2913, in _call_aside\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2952, in _initialize_master_working_set\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 956, in subscribe\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2952, in &lt;lambda&gt;\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2515, in activate\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2097, in declare_namespace\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2047, in _handle_ns\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2066, in _rebuild_mod_path\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2064, in position_in_sys_path\n\nValueError: '/private/var/tmp/_bazel_yaroslavvb/4a326dbae226c596bf5de825a172dee9/tensorflow/bazel-out/local_darwin-opt/bin/tensorflow/tools/pip_package/build_pip_package.runfiles' is not in list\n</code></pre>", "body_text": "I just went through official MacOS instructions to setup bazel/swig and tried the following\ngit clone --recurse-submodules https://github.com/tensorflow/tensorflow\ncd tensorflow\n./configure\nbazel test -c opt //tensorflow/python/...\n\nThey all fail with stack trace like below, any suggestions?\nTraceback (most recent call last):\n  File \"/private/var/tmp/_bazel_yaroslavvb/ea642be0829ea15e6d2092d22e894d3d/tensorflow/bazel-out/local_darwin-opt/bin/tensorflow/python/zero_division_test.runfiles/tensorflow/python/kernel_tests/zero_division_test.py\", line 22, in <module>\n    import tensorflow as tf\n  File \"/Users/yaroslavvb/g/src/hacking/tensorflow/_python_build/tensorflow/__init__.py\", line 23, in <module>\n    from tensorflow.python import *\n  File \"/Users/yaroslavvb/g/src/hacking/tensorflow/_python_build/tensorflow/python/__init__.py\", line 52, in <module>\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/Users/yaroslavvb/g/src/hacking/tensorflow/_python_build/tensorflow/core/framework/graph_pb2.py\", line 6, in <module>\n    from google.protobuf import descriptor as _descriptor\n  File \"/Library/Python/2.7/site-packages/protobuf-3.0.0b2-py2.7.egg/google/__init__.py\", line 1, in <module>\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2927, in <module>\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2913, in _call_aside\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2952, in _initialize_master_working_set\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 956, in subscribe\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2952, in <lambda>\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2515, in activate\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2097, in declare_namespace\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2047, in _handle_ns\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2066, in _rebuild_mod_path\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2064, in position_in_sys_path\n\nValueError: '/private/var/tmp/_bazel_yaroslavvb/4a326dbae226c596bf5de825a172dee9/tensorflow/bazel-out/local_darwin-opt/bin/tensorflow/tools/pip_package/build_pip_package.runfiles' is not in list", "body": "I just went through official MacOS instructions to setup bazel/swig and tried the following\n\n```\ngit clone --recurse-submodules https://github.com/tensorflow/tensorflow\ncd tensorflow\n./configure\nbazel test -c opt //tensorflow/python/...\n```\n\nThey all fail with stack trace like below, any suggestions?\n\n```\nTraceback (most recent call last):\n  File \"/private/var/tmp/_bazel_yaroslavvb/ea642be0829ea15e6d2092d22e894d3d/tensorflow/bazel-out/local_darwin-opt/bin/tensorflow/python/zero_division_test.runfiles/tensorflow/python/kernel_tests/zero_division_test.py\", line 22, in <module>\n    import tensorflow as tf\n  File \"/Users/yaroslavvb/g/src/hacking/tensorflow/_python_build/tensorflow/__init__.py\", line 23, in <module>\n    from tensorflow.python import *\n  File \"/Users/yaroslavvb/g/src/hacking/tensorflow/_python_build/tensorflow/python/__init__.py\", line 52, in <module>\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/Users/yaroslavvb/g/src/hacking/tensorflow/_python_build/tensorflow/core/framework/graph_pb2.py\", line 6, in <module>\n    from google.protobuf import descriptor as _descriptor\n  File \"/Library/Python/2.7/site-packages/protobuf-3.0.0b2-py2.7.egg/google/__init__.py\", line 1, in <module>\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2927, in <module>\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2913, in _call_aside\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2952, in _initialize_master_working_set\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 956, in subscribe\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2952, in <lambda>\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2515, in activate\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2097, in declare_namespace\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2047, in _handle_ns\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2066, in _rebuild_mod_path\n\n  File \"/Library/Python/2.7/site-packages/setuptools-21.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2064, in position_in_sys_path\n\nValueError: '/private/var/tmp/_bazel_yaroslavvb/4a326dbae226c596bf5de825a172dee9/tensorflow/bazel-out/local_darwin-opt/bin/tensorflow/tools/pip_package/build_pip_package.runfiles' is not in list\n```\n"}