{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12401", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12401/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12401/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12401/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12401", "id": 251334977, "node_id": "MDU6SXNzdWUyNTEzMzQ5Nzc=", "number": 12401, "title": "`import tensorflow.contrib.layers` takes very long time", "user": {"login": "RuofanKong", "id": 7396554, "node_id": "MDQ6VXNlcjczOTY1NTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/7396554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RuofanKong", "html_url": "https://github.com/RuofanKong", "followers_url": "https://api.github.com/users/RuofanKong/followers", "following_url": "https://api.github.com/users/RuofanKong/following{/other_user}", "gists_url": "https://api.github.com/users/RuofanKong/gists{/gist_id}", "starred_url": "https://api.github.com/users/RuofanKong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RuofanKong/subscriptions", "organizations_url": "https://api.github.com/users/RuofanKong/orgs", "repos_url": "https://api.github.com/users/RuofanKong/repos", "events_url": "https://api.github.com/users/RuofanKong/events{/privacy}", "received_events_url": "https://api.github.com/users/RuofanKong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-18T19:16:27Z", "updated_at": "2017-09-26T14:17:44Z", "closed_at": "2017-09-26T14:17:44Z", "author_association": "NONE", "body_html": "<p>I've used Cprofile to test my code, and I find that <code>import tensorflow.contrib.layers</code> takes very long time. Here is the quick screenshot of the result:</p>\n<pre><code>14495011 function calls (14451561 primitive calls) in 6.324 seconds\n\n   Ordered by: cumulative time\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n   1023/1    0.058    0.000    6.328    6.328 {built-in method builtins.exec}\n        1    0.000    0.000    6.328    6.328 test_import.py:10(&lt;module&gt;)\n   1066/1    0.006    0.000    6.328    6.328 &lt;frozen importlib._bootstrap&gt;:966(_find_and_load)\n   1066/1    0.005    0.000    6.328    6.328 &lt;frozen importlib._bootstrap&gt;:939(_find_and_load_unlocked)\n   1360/1    0.001    0.000    6.328    6.328 &lt;frozen importlib._bootstrap&gt;:214(_call_with_frames_removed)\n    759/1    0.002    0.000    6.328    6.328 {built-in method builtins.__import__}\n    881/2    0.004    0.000    6.328    3.164 &lt;frozen importlib._bootstrap&gt;:659(_load_unlocked)\n    833/2    0.003    0.000    6.328    3.164 &lt;frozen importlib._bootstrap_external&gt;:667(exec_module)\n 6575/625    0.005    0.000    6.102    0.010 &lt;frozen importlib._bootstrap&gt;:996(_handle_fromlist)\n... \n</code></pre>\n<p>As seen above, it took more than 6 secs to just do <code>import tensorflow.contrib.layers</code>, and I wonder if this is expected. Also, I am pretty interested in why it takes so long time to do importing there.</p>\n<p><strong>P.S</strong> The profiling test runs on MacOS Sierra 10.12.5 with Tensorflow v1.2 and Python 3.5.</p>", "body_text": "I've used Cprofile to test my code, and I find that import tensorflow.contrib.layers takes very long time. Here is the quick screenshot of the result:\n14495011 function calls (14451561 primitive calls) in 6.324 seconds\n\n   Ordered by: cumulative time\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n   1023/1    0.058    0.000    6.328    6.328 {built-in method builtins.exec}\n        1    0.000    0.000    6.328    6.328 test_import.py:10(<module>)\n   1066/1    0.006    0.000    6.328    6.328 <frozen importlib._bootstrap>:966(_find_and_load)\n   1066/1    0.005    0.000    6.328    6.328 <frozen importlib._bootstrap>:939(_find_and_load_unlocked)\n   1360/1    0.001    0.000    6.328    6.328 <frozen importlib._bootstrap>:214(_call_with_frames_removed)\n    759/1    0.002    0.000    6.328    6.328 {built-in method builtins.__import__}\n    881/2    0.004    0.000    6.328    3.164 <frozen importlib._bootstrap>:659(_load_unlocked)\n    833/2    0.003    0.000    6.328    3.164 <frozen importlib._bootstrap_external>:667(exec_module)\n 6575/625    0.005    0.000    6.102    0.010 <frozen importlib._bootstrap>:996(_handle_fromlist)\n... \n\nAs seen above, it took more than 6 secs to just do import tensorflow.contrib.layers, and I wonder if this is expected. Also, I am pretty interested in why it takes so long time to do importing there.\nP.S The profiling test runs on MacOS Sierra 10.12.5 with Tensorflow v1.2 and Python 3.5.", "body": "I've used Cprofile to test my code, and I find that `import tensorflow.contrib.layers` takes very long time. Here is the quick screenshot of the result:\r\n\r\n```\r\n14495011 function calls (14451561 primitive calls) in 6.324 seconds\r\n\r\n   Ordered by: cumulative time\r\n\r\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\r\n   1023/1    0.058    0.000    6.328    6.328 {built-in method builtins.exec}\r\n        1    0.000    0.000    6.328    6.328 test_import.py:10(<module>)\r\n   1066/1    0.006    0.000    6.328    6.328 <frozen importlib._bootstrap>:966(_find_and_load)\r\n   1066/1    0.005    0.000    6.328    6.328 <frozen importlib._bootstrap>:939(_find_and_load_unlocked)\r\n   1360/1    0.001    0.000    6.328    6.328 <frozen importlib._bootstrap>:214(_call_with_frames_removed)\r\n    759/1    0.002    0.000    6.328    6.328 {built-in method builtins.__import__}\r\n    881/2    0.004    0.000    6.328    3.164 <frozen importlib._bootstrap>:659(_load_unlocked)\r\n    833/2    0.003    0.000    6.328    3.164 <frozen importlib._bootstrap_external>:667(exec_module)\r\n 6575/625    0.005    0.000    6.102    0.010 <frozen importlib._bootstrap>:996(_handle_fromlist)\r\n... \r\n```\r\nAs seen above, it took more than 6 secs to just do `import tensorflow.contrib.layers`, and I wonder if this is expected. Also, I am pretty interested in why it takes so long time to do importing there.\r\n\r\n**P.S** The profiling test runs on MacOS Sierra 10.12.5 with Tensorflow v1.2 and Python 3.5."}