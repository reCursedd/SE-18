{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/267783144", "html_url": "https://github.com/tensorflow/tensorflow/issues/3261#issuecomment-267783144", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3261", "id": 267783144, "node_id": "MDEyOklzc3VlQ29tbWVudDI2Nzc4MzE0NA==", "user": {"login": "yliu120", "id": 9438093, "node_id": "MDQ6VXNlcjk0MzgwOTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/9438093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yliu120", "html_url": "https://github.com/yliu120", "followers_url": "https://api.github.com/users/yliu120/followers", "following_url": "https://api.github.com/users/yliu120/following{/other_user}", "gists_url": "https://api.github.com/users/yliu120/gists{/gist_id}", "starred_url": "https://api.github.com/users/yliu120/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yliu120/subscriptions", "organizations_url": "https://api.github.com/users/yliu120/orgs", "repos_url": "https://api.github.com/users/yliu120/repos", "events_url": "https://api.github.com/users/yliu120/events{/privacy}", "received_events_url": "https://api.github.com/users/yliu120/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-17T19:51:32Z", "updated_at": "2016-12-17T19:51:32Z", "author_association": "NONE", "body_html": "<blockquote>\n<p>It looks like the macro tf_proto_library which is causing the error is defined here.</p>\n</blockquote>\n<blockquote>\n<p>Edit:<br>\nThe compiler is called from bazel-tensorflow/external/protobuf/protobuf.bzl<br>\nThere is a ctx.action call where we need to add env=ctx.configuration.default_shell_env to add the &gt; paths. I haven't worked out where the file is created/downloaded.</p>\n</blockquote>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=312802\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gbkedar\">@gbkedar</a> 's comment is correct on this issue. Please read the PR I referenced above. In the meanwhile, there is an easy fix to this problem. Please read my protocol on building TensorFlow with a customized tool chain.</p>\n<p><a href=\"http://biophysics.med.jhmi.edu/~yliu120/tensorflow.html\" rel=\"nofollow\">http://biophysics.med.jhmi.edu/~yliu120/tensorflow.html</a></p>\n<p>(Search for configuration section) You can manually add the patch (same as my PR) after running ./configure</p>", "body_text": "It looks like the macro tf_proto_library which is causing the error is defined here.\n\n\nEdit:\nThe compiler is called from bazel-tensorflow/external/protobuf/protobuf.bzl\nThere is a ctx.action call where we need to add env=ctx.configuration.default_shell_env to add the > paths. I haven't worked out where the file is created/downloaded.\n\n@gbkedar 's comment is correct on this issue. Please read the PR I referenced above. In the meanwhile, there is an easy fix to this problem. Please read my protocol on building TensorFlow with a customized tool chain.\nhttp://biophysics.med.jhmi.edu/~yliu120/tensorflow.html\n(Search for configuration section) You can manually add the patch (same as my PR) after running ./configure", "body": "> It looks like the macro tf_proto_library which is causing the error is defined here.\r\n\r\n> Edit:\r\n> The compiler is called from bazel-tensorflow/external/protobuf/protobuf.bzl\r\n> There is a ctx.action call where we need to add env=ctx.configuration.default_shell_env to add the > paths. I haven't worked out where the file is created/downloaded.\r\n\r\n@gbkedar 's comment is correct on this issue. Please read the PR I referenced above. In the meanwhile, there is an easy fix to this problem. Please read my protocol on building TensorFlow with a customized tool chain.\r\n\r\nhttp://biophysics.med.jhmi.edu/~yliu120/tensorflow.html\r\n\r\n(Search for configuration section) You can manually add the patch (same as my PR) after running ./configure"}