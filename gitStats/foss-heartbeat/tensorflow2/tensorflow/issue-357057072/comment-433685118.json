{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/433685118", "html_url": "https://github.com/tensorflow/tensorflow/issues/22077#issuecomment-433685118", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22077", "id": 433685118, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzY4NTExOA==", "user": {"login": "shamoya", "id": 22274255, "node_id": "MDQ6VXNlcjIyMjc0MjU1", "avatar_url": "https://avatars2.githubusercontent.com/u/22274255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shamoya", "html_url": "https://github.com/shamoya", "followers_url": "https://api.github.com/users/shamoya/followers", "following_url": "https://api.github.com/users/shamoya/following{/other_user}", "gists_url": "https://api.github.com/users/shamoya/gists{/gist_id}", "starred_url": "https://api.github.com/users/shamoya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shamoya/subscriptions", "organizations_url": "https://api.github.com/users/shamoya/orgs", "repos_url": "https://api.github.com/users/shamoya/repos", "events_url": "https://api.github.com/users/shamoya/events{/privacy}", "received_events_url": "https://api.github.com/users/shamoya/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-28T08:09:27Z", "updated_at": "2018-10-28T08:09:27Z", "author_association": "CONTRIBUTOR", "body_html": "<p>You still need to set the RDMA_GID_INDEX (especially if you are using RoCEv1).<br>\nIf you are using Mellanox-OFED there a show_gids utility that will help you set it (maybe rdma-core has it or something similar as well). Otherwise, you can read the GIDs attr from the InfiniBand sysfs.<br>\nYou will want to set it to the entry which belongs the vlan interface (eth2.10).<br>\nYou can also use RDMA_DEVICE_PORT to make sure you are going from the correct port of the ConnectX3.</p>", "body_text": "You still need to set the RDMA_GID_INDEX (especially if you are using RoCEv1).\nIf you are using Mellanox-OFED there a show_gids utility that will help you set it (maybe rdma-core has it or something similar as well). Otherwise, you can read the GIDs attr from the InfiniBand sysfs.\nYou will want to set it to the entry which belongs the vlan interface (eth2.10).\nYou can also use RDMA_DEVICE_PORT to make sure you are going from the correct port of the ConnectX3.", "body": "You still need to set the RDMA_GID_INDEX (especially if you are using RoCEv1).\r\nIf you are using Mellanox-OFED there a show_gids utility that will help you set it (maybe rdma-core has it or something similar as well). Otherwise, you can read the GIDs attr from the InfiniBand sysfs.\r\nYou will want to set it to the entry which belongs the vlan interface (eth2.10).\r\nYou can also use RDMA_DEVICE_PORT to make sure you are going from the correct port of the ConnectX3."}