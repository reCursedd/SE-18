{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4425", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4425/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4425/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4425/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4425", "id": 177594917, "node_id": "MDU6SXNzdWUxNzc1OTQ5MTc=", "number": 4425, "title": "tf.nn.softmax makes \"GPU sync failed Error\" for large size inputs.", "user": {"login": "cesc-park", "id": 15012648, "node_id": "MDQ6VXNlcjE1MDEyNjQ4", "avatar_url": "https://avatars2.githubusercontent.com/u/15012648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cesc-park", "html_url": "https://github.com/cesc-park", "followers_url": "https://api.github.com/users/cesc-park/followers", "following_url": "https://api.github.com/users/cesc-park/following{/other_user}", "gists_url": "https://api.github.com/users/cesc-park/gists{/gist_id}", "starred_url": "https://api.github.com/users/cesc-park/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cesc-park/subscriptions", "organizations_url": "https://api.github.com/users/cesc-park/orgs", "repos_url": "https://api.github.com/users/cesc-park/repos", "events_url": "https://api.github.com/users/cesc-park/events{/privacy}", "received_events_url": "https://api.github.com/users/cesc-park/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-09-17T17:54:52Z", "updated_at": "2018-10-07T07:50:15Z", "closed_at": "2016-10-14T01:58:01Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System:<br>\nDistributor ID: Ubuntu<br>\nDescription:    Ubuntu 14.04.3 LTS<br>\nRelease:        14.04</p>\n<h3>GPU info</h3>\n<p>GPU :  GTX TITAN X<br>\nDriver :  Driver Version: 367.44</p>\n<p>Installed version of CUDA and cuDNN:</p>\n<p>CUDA 7.5<br>\nCUDNN 5.1.3</p>\n<p>If installed from binary pip package, provide:</p>\n<p><a href=\"https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/224/artifact/pip_test/whl/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/224/artifact/pip_test/whl/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl</a></p>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>This code makes errors.</p>\n<pre><code>import tensorflow as tf\na=tf.constant(1.0,shape=[100*30, 30000]) \nb=tf.nn.softmax(a)\nsess=tf.InteractiveSession()\nb.eval()\nsess.close()\n</code></pre>\n<p>This code doesn't make errors.</p>\n<pre><code>import tensorflow as tf\na=tf.constant(1.0,shape=[20*30, 30000]) \nb=tf.nn.softmax(a)\nsess=tf.InteractiveSession()\nb.eval()\nsess.close()\n</code></pre>\n<p>I think this caused by input size of the softmax function.</p>\n<p>But, I don't understand why.</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>\n<pre><code>E tensorflow/stream_executor/cuda/cuda_driver.cc:1140] could not synchronize on CUDA context: CUDA_ERROR_ILLEGAL_ADDRESS :: No stack trace available\nE tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS\nF tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:198] Unexpected Event status: 1\nF tensorflow/core/common_runtime/gpu/gpu_util.cc:370] GPU sync failed\n[1]    57277 abort (core dumped)  CUDA_VISIBLE_DEVICES=0 ipython\n</code></pre>", "body_text": "Environment info\nOperating System:\nDistributor ID: Ubuntu\nDescription:    Ubuntu 14.04.3 LTS\nRelease:        14.04\nGPU info\nGPU :  GTX TITAN X\nDriver :  Driver Version: 367.44\nInstalled version of CUDA and cuDNN:\nCUDA 7.5\nCUDNN 5.1.3\nIf installed from binary pip package, provide:\nhttps://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/224/artifact/pip_test/whl/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nThis code makes errors.\nimport tensorflow as tf\na=tf.constant(1.0,shape=[100*30, 30000]) \nb=tf.nn.softmax(a)\nsess=tf.InteractiveSession()\nb.eval()\nsess.close()\n\nThis code doesn't make errors.\nimport tensorflow as tf\na=tf.constant(1.0,shape=[20*30, 30000]) \nb=tf.nn.softmax(a)\nsess=tf.InteractiveSession()\nb.eval()\nsess.close()\n\nI think this caused by input size of the softmax function.\nBut, I don't understand why.\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1140] could not synchronize on CUDA context: CUDA_ERROR_ILLEGAL_ADDRESS :: No stack trace available\nE tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS\nF tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:198] Unexpected Event status: 1\nF tensorflow/core/common_runtime/gpu/gpu_util.cc:370] GPU sync failed\n[1]    57277 abort (core dumped)  CUDA_VISIBLE_DEVICES=0 ipython", "body": "### Environment info\n\nOperating System:\nDistributor ID: Ubuntu\nDescription:    Ubuntu 14.04.3 LTS\nRelease:        14.04\n### GPU info\n\nGPU :  GTX TITAN X \nDriver :  Driver Version: 367.44 \n\nInstalled version of CUDA and cuDNN: \n\nCUDA 7.5\nCUDNN 5.1.3\n\nIf installed from binary pip package, provide:\n\nhttps://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/224/artifact/pip_test/whl/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n\nThis code makes errors.\n\n```\nimport tensorflow as tf\na=tf.constant(1.0,shape=[100*30, 30000]) \nb=tf.nn.softmax(a)\nsess=tf.InteractiveSession()\nb.eval()\nsess.close()\n```\n\nThis code doesn't make errors.\n\n```\nimport tensorflow as tf\na=tf.constant(1.0,shape=[20*30, 30000]) \nb=tf.nn.softmax(a)\nsess=tf.InteractiveSession()\nb.eval()\nsess.close()\n```\n\nI think this caused by input size of the softmax function.\n\nBut, I don't understand why.\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment or provide link).\n\n```\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1140] could not synchronize on CUDA context: CUDA_ERROR_ILLEGAL_ADDRESS :: No stack trace available\nE tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS\nF tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:198] Unexpected Event status: 1\nF tensorflow/core/common_runtime/gpu/gpu_util.cc:370] GPU sync failed\n[1]    57277 abort (core dumped)  CUDA_VISIBLE_DEVICES=0 ipython\n```\n"}