{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11990", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11990/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11990/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11990/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11990", "id": 247595302, "node_id": "MDU6SXNzdWUyNDc1OTUzMDI=", "number": 11990, "title": "Python crashes with \"Check failed\" error when fitting TensorForestEstimator", "user": {"login": "justinshapiro", "id": 14143046, "node_id": "MDQ6VXNlcjE0MTQzMDQ2", "avatar_url": "https://avatars2.githubusercontent.com/u/14143046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinshapiro", "html_url": "https://github.com/justinshapiro", "followers_url": "https://api.github.com/users/justinshapiro/followers", "following_url": "https://api.github.com/users/justinshapiro/following{/other_user}", "gists_url": "https://api.github.com/users/justinshapiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinshapiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinshapiro/subscriptions", "organizations_url": "https://api.github.com/users/justinshapiro/orgs", "repos_url": "https://api.github.com/users/justinshapiro/repos", "events_url": "https://api.github.com/users/justinshapiro/events{/privacy}", "received_events_url": "https://api.github.com/users/justinshapiro/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-03T05:23:07Z", "updated_at": "2017-08-03T06:39:03Z", "closed_at": "2017-08-03T06:38:18Z", "author_association": "NONE", "body_html": "<h3>Problem</h3>\n<p>I am experiencing an issue trying to use <code>TensorForestEstimator</code>. I am trying to predict 7 output labels by inputting 7 features. That is, my <code>num_classes=7</code> and <code>num_features=7</code> in my hyperparameters. The shape of <code>features</code> and <code>labels</code> is <code>(484876, 7)</code>.</p>\n<p>Here is an example of the format of my input data:</p>\n<pre><code>f1       f2     f3    f4      f5    f6    f7   l1       l2       l3       l4       l5       l6       l7\n39000.0  120.0  65.0  1000.0  25.0  0.69  3.94 39000.0  39959.0  42099.0  46153.0  49969.0  54127.0  55911.0\n32000.0  185.0  65.0  1000.0  75.0  0.46  2.19 32000.0  37813.0  43074.0  48528.0  54273.0  60885.0  63810.0 \n30000.0  185.0  65.0  1000.0  25.0  0.41  1.80 30000.0  32481.0  35409.0  39145.0  42750.0  46678.0  48595.0\n</code></pre>\n<p>When calling <code>fit()</code>,  each of the trees get properly trained (see logs below), but when it goes to the<code>CheckpointSaverHook</code> phase, Python crashes with the following error:</p>\n<pre><code>2017-08-02 22:55:00.690746: F tensorflow/contrib/tensor_forest/kernels/count_extremely_random_stats_op.cc:404] \nCheck failed: column &lt; num_classes_ (39001 vs. 7)\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n</code></pre>\n<p>I might be wrong, but this seems like a bug since TensorFlow is training each the <code>TensorForestEstimator</code> trees, but crashing upon saving. Also the number 39001 is not related to my data since the  shape for both <code>feature</code> and <code>label</code> is <code>(484876, 7)</code>.</p>\n<p>Here is the code to reproduce:</p>\n<pre><code>import tensorflow as tf\nimport os\n\nfrom tensorflow.contrib.tensor_forest.client.random_forest import TensorForestEstimator, TensorForestLossHook\nfrom tensorflow.contrib.tensor_forest.python.tensor_forest import ForestHParams, RandomForestGraphs\n\ntf.logging.set_verbosity('INFO')\nos.environ['TF_CPP_MIN_LOG_LEVEL'] = '1'\n\ndef get_training_data():\n    training_file = \"data.txt\"\n    data = pd.read_csv(training_file, sep='\\t')\n\n    X = np.array(data.drop('Result', axis=1), dtype=np.float32)\n\n    y = []\n    # All 7 labels are stored in a string initially, so we parse each label to float and store in an array\n    for e in data.ResultStr:\n        y.append(list(np.array(str(e).replace('[', '').replace(']', '').split(','))))\n\n    y = np.array(y, dtype=np.float32)\n\n    features = tf.constant(X) # Also tried with tf.Variable\n    labels = tf.constant(y) # Also tried with tf.Variable\n\n    return features, labels\n\n# Main\nhyperparameters = ForestHParams(\n    num_trees=100,\n    max_nodes=10000,\n    bagging_fraction=1.0,\n    num_splits_to_consider=7,\n    feature_bagging_fraction=1.0,\n    max_fertile_nodes=0,\n    split_after_samples=250,\n    min_split_samples=5,\n    valid_leaf_threshold=1,\n    dominate_method='bootstrap',\n    dominate_fraction=0.99,\n    num_classes=7, \n    num_features=7\n)\n\nestimator = TensorForestEstimator(\n    params=hyperparameters,\n    device_assigner=None,\n    model_dir=None,\n    graph_builder_class=RandomForestGraphs,\n    config=None,\n    weights_name=None,\n    keys_name=None,\n    feature_engineering_fn=None,\n    early_stopping_rounds=100,\n    num_trainers=1,\n    trainer_id=0,\n    report_feature_importances=False,\n    local_eval=False\n)\n\nestimator.fit(\n    input_fn=lambda: get_training_data(),\n    max_steps=100,\n    monitors=[\n        TensorForestLossHook(\n            early_stopping_rounds=30\n        )\n    ]\n)\n</code></pre>\n<p>Here is the verbose logging output:</p>\n<pre><code>INFO:tensorflow:Using default config.\nWARNING:tensorflow:Using temporary folder as model directory: /var/folders/s3/k08tc0v94j10xn6fk3wz79zh0000gn/T/tmp2RnVSx\nINFO:tensorflow:Using config: {'_save_checkpoints_secs': 600, '_num_ps_replicas': 0, '_keep_checkpoint_max': 5, '_task_type': None, '_is_chief': True, '_cluster_spec': &lt;tensorflow.python.training.server_lib.ClusterSpec object at 0x1121fe390&gt;, '_model_dir': '/var/folders/s3/k08tc0v94j10xn6fk3wz79zh0000gn/T/tmp2RnVSx', '_save_checkpoints_steps': None, '_keep_checkpoint_every_n_hours': 10000, '_session_config': None, '_tf_random_seed': None, '_environment': 'local', '_num_worker_replicas': 0, '_task_id': 0, '_save_summary_steps': 100, '_tf_config': gpu_options {\n  per_process_gpu_memory_fraction: 1\n}\n, '_evaluation_master': '', '_master': ''}\nINFO:tensorflow:Constructing forest with params = \nINFO:tensorflow:{'valid_leaf_threshold': 1, 'split_after_samples': 250, 'num_output_columns': 7, 'feature_bagging_fraction': 1.0, 'split_initializations_per_input': 1, 'bagged_features': None, 'min_split_samples': 5, 'max_nodes': 10000, 'num_features': 7, 'num_trees': 100, 'num_splits_to_consider': 7, 'base_random_seed': 0, 'num_outputs': 1, 'dominate_fraction': 0.99, 'max_fertile_nodes': 5000, 'bagged_num_features': 7, 'dominate_method': 'bootstrap', 'bagging_fraction': 1.0, 'regression': False, 'num_classes': 6}\nINFO:tensorflow:training graph for tree: 0\nINFO:tensorflow:training graph for tree: 1\n...\nINFO:tensorflow:training graph for tree: 98\nINFO:tensorflow:training graph for tree: 99\nINFO:tensorflow:Create CheckpointSaverHook.\n2017-08-02 22:53:25.218258: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-02 22:53:25.218298: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-02 22:53:25.218304: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-02 22:53:25.218308: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-02 22:55:00.690746: F tensorflow/contrib/tensor_forest/kernels/count_extremely_random_stats_op.cc:404] Check failed: column &lt; num_classes_ (39001 vs. 7)\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n</code></pre>\n<h3>System information: tf_env.txt</h3>\n<pre><code>\n== cat /etc/issue ===============================================\nDarwin 127001.local 16.6.0 Darwin Kernel Version 16.6.0: Fri Apr 14 16:21:16 PDT 2017; root:xnu-3789.60.24~6/RELEASE_X86_64 x86_64\nMac OS X 10.12.5\n\n== are we in docker =============================================\nNo\n\n== compiler =====================================================\nApple LLVM version 8.1.0 (clang-802.0.42)\nTarget: x86_64-apple-darwin16.6.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\n\n== uname -a =====================================================\nDarwin 127001.local 16.6.0 Darwin Kernel Version 16.6.0: Fri Apr 14 16:21:16 PDT 2017; root:xnu-3789.60.24~6/RELEASE_X86_64 x86_64\n\n== check pips ===================================================\nnumpy (1.12.1)\nprotobuf (3.3.0)\ntensorflow (1.2.1)\n\n== check for virtualenv =========================================\nFalse\n\n== tensorflow import ============================================\ntf.VERSION = 1.2.1\ntf.GIT_VERSION = v1.2.0-5-g435cdfc\ntf.COMPILER_VERSION = v1.2.0-5-g435cdfc\nSanity check: array([1], dtype=int32)\n\n== env ==========================================================\nLD_LIBRARY_PATH is unset\nDYLD_LIBRARY_PATH is unset\n\n== nvidia-smi ===================================================\n./tf.sh: line 105: nvidia-smi: command not found\n\n== cuda libs  ===================================================\n</code></pre>", "body_text": "Problem\nI am experiencing an issue trying to use TensorForestEstimator. I am trying to predict 7 output labels by inputting 7 features. That is, my num_classes=7 and num_features=7 in my hyperparameters. The shape of features and labels is (484876, 7).\nHere is an example of the format of my input data:\nf1       f2     f3    f4      f5    f6    f7   l1       l2       l3       l4       l5       l6       l7\n39000.0  120.0  65.0  1000.0  25.0  0.69  3.94 39000.0  39959.0  42099.0  46153.0  49969.0  54127.0  55911.0\n32000.0  185.0  65.0  1000.0  75.0  0.46  2.19 32000.0  37813.0  43074.0  48528.0  54273.0  60885.0  63810.0 \n30000.0  185.0  65.0  1000.0  25.0  0.41  1.80 30000.0  32481.0  35409.0  39145.0  42750.0  46678.0  48595.0\n\nWhen calling fit(),  each of the trees get properly trained (see logs below), but when it goes to theCheckpointSaverHook phase, Python crashes with the following error:\n2017-08-02 22:55:00.690746: F tensorflow/contrib/tensor_forest/kernels/count_extremely_random_stats_op.cc:404] \nCheck failed: column < num_classes_ (39001 vs. 7)\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n\nI might be wrong, but this seems like a bug since TensorFlow is training each the TensorForestEstimator trees, but crashing upon saving. Also the number 39001 is not related to my data since the  shape for both feature and label is (484876, 7).\nHere is the code to reproduce:\nimport tensorflow as tf\nimport os\n\nfrom tensorflow.contrib.tensor_forest.client.random_forest import TensorForestEstimator, TensorForestLossHook\nfrom tensorflow.contrib.tensor_forest.python.tensor_forest import ForestHParams, RandomForestGraphs\n\ntf.logging.set_verbosity('INFO')\nos.environ['TF_CPP_MIN_LOG_LEVEL'] = '1'\n\ndef get_training_data():\n    training_file = \"data.txt\"\n    data = pd.read_csv(training_file, sep='\\t')\n\n    X = np.array(data.drop('Result', axis=1), dtype=np.float32)\n\n    y = []\n    # All 7 labels are stored in a string initially, so we parse each label to float and store in an array\n    for e in data.ResultStr:\n        y.append(list(np.array(str(e).replace('[', '').replace(']', '').split(','))))\n\n    y = np.array(y, dtype=np.float32)\n\n    features = tf.constant(X) # Also tried with tf.Variable\n    labels = tf.constant(y) # Also tried with tf.Variable\n\n    return features, labels\n\n# Main\nhyperparameters = ForestHParams(\n    num_trees=100,\n    max_nodes=10000,\n    bagging_fraction=1.0,\n    num_splits_to_consider=7,\n    feature_bagging_fraction=1.0,\n    max_fertile_nodes=0,\n    split_after_samples=250,\n    min_split_samples=5,\n    valid_leaf_threshold=1,\n    dominate_method='bootstrap',\n    dominate_fraction=0.99,\n    num_classes=7, \n    num_features=7\n)\n\nestimator = TensorForestEstimator(\n    params=hyperparameters,\n    device_assigner=None,\n    model_dir=None,\n    graph_builder_class=RandomForestGraphs,\n    config=None,\n    weights_name=None,\n    keys_name=None,\n    feature_engineering_fn=None,\n    early_stopping_rounds=100,\n    num_trainers=1,\n    trainer_id=0,\n    report_feature_importances=False,\n    local_eval=False\n)\n\nestimator.fit(\n    input_fn=lambda: get_training_data(),\n    max_steps=100,\n    monitors=[\n        TensorForestLossHook(\n            early_stopping_rounds=30\n        )\n    ]\n)\n\nHere is the verbose logging output:\nINFO:tensorflow:Using default config.\nWARNING:tensorflow:Using temporary folder as model directory: /var/folders/s3/k08tc0v94j10xn6fk3wz79zh0000gn/T/tmp2RnVSx\nINFO:tensorflow:Using config: {'_save_checkpoints_secs': 600, '_num_ps_replicas': 0, '_keep_checkpoint_max': 5, '_task_type': None, '_is_chief': True, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x1121fe390>, '_model_dir': '/var/folders/s3/k08tc0v94j10xn6fk3wz79zh0000gn/T/tmp2RnVSx', '_save_checkpoints_steps': None, '_keep_checkpoint_every_n_hours': 10000, '_session_config': None, '_tf_random_seed': None, '_environment': 'local', '_num_worker_replicas': 0, '_task_id': 0, '_save_summary_steps': 100, '_tf_config': gpu_options {\n  per_process_gpu_memory_fraction: 1\n}\n, '_evaluation_master': '', '_master': ''}\nINFO:tensorflow:Constructing forest with params = \nINFO:tensorflow:{'valid_leaf_threshold': 1, 'split_after_samples': 250, 'num_output_columns': 7, 'feature_bagging_fraction': 1.0, 'split_initializations_per_input': 1, 'bagged_features': None, 'min_split_samples': 5, 'max_nodes': 10000, 'num_features': 7, 'num_trees': 100, 'num_splits_to_consider': 7, 'base_random_seed': 0, 'num_outputs': 1, 'dominate_fraction': 0.99, 'max_fertile_nodes': 5000, 'bagged_num_features': 7, 'dominate_method': 'bootstrap', 'bagging_fraction': 1.0, 'regression': False, 'num_classes': 6}\nINFO:tensorflow:training graph for tree: 0\nINFO:tensorflow:training graph for tree: 1\n...\nINFO:tensorflow:training graph for tree: 98\nINFO:tensorflow:training graph for tree: 99\nINFO:tensorflow:Create CheckpointSaverHook.\n2017-08-02 22:53:25.218258: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-02 22:53:25.218298: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-02 22:53:25.218304: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-02 22:53:25.218308: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-02 22:55:00.690746: F tensorflow/contrib/tensor_forest/kernels/count_extremely_random_stats_op.cc:404] Check failed: column < num_classes_ (39001 vs. 7)\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n\nSystem information: tf_env.txt\n\n== cat /etc/issue ===============================================\nDarwin 127001.local 16.6.0 Darwin Kernel Version 16.6.0: Fri Apr 14 16:21:16 PDT 2017; root:xnu-3789.60.24~6/RELEASE_X86_64 x86_64\nMac OS X 10.12.5\n\n== are we in docker =============================================\nNo\n\n== compiler =====================================================\nApple LLVM version 8.1.0 (clang-802.0.42)\nTarget: x86_64-apple-darwin16.6.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\n\n== uname -a =====================================================\nDarwin 127001.local 16.6.0 Darwin Kernel Version 16.6.0: Fri Apr 14 16:21:16 PDT 2017; root:xnu-3789.60.24~6/RELEASE_X86_64 x86_64\n\n== check pips ===================================================\nnumpy (1.12.1)\nprotobuf (3.3.0)\ntensorflow (1.2.1)\n\n== check for virtualenv =========================================\nFalse\n\n== tensorflow import ============================================\ntf.VERSION = 1.2.1\ntf.GIT_VERSION = v1.2.0-5-g435cdfc\ntf.COMPILER_VERSION = v1.2.0-5-g435cdfc\nSanity check: array([1], dtype=int32)\n\n== env ==========================================================\nLD_LIBRARY_PATH is unset\nDYLD_LIBRARY_PATH is unset\n\n== nvidia-smi ===================================================\n./tf.sh: line 105: nvidia-smi: command not found\n\n== cuda libs  ===================================================", "body": "### Problem\r\n\r\nI am experiencing an issue trying to use `TensorForestEstimator`. I am trying to predict 7 output labels by inputting 7 features. That is, my `num_classes=7` and `num_features=7` in my hyperparameters. The shape of `features` and `labels` is `(484876, 7)`.\r\n\r\nHere is an example of the format of my input data:\r\n\r\n```\r\nf1       f2     f3    f4      f5    f6    f7   l1       l2       l3       l4       l5       l6       l7\r\n39000.0  120.0  65.0  1000.0  25.0  0.69  3.94 39000.0  39959.0  42099.0  46153.0  49969.0  54127.0  55911.0\r\n32000.0  185.0  65.0  1000.0  75.0  0.46  2.19 32000.0  37813.0  43074.0  48528.0  54273.0  60885.0  63810.0 \r\n30000.0  185.0  65.0  1000.0  25.0  0.41  1.80 30000.0  32481.0  35409.0  39145.0  42750.0  46678.0  48595.0\r\n```\r\n\r\nWhen calling `fit()`,  each of the trees get properly trained (see logs below), but when it goes to the`CheckpointSaverHook` phase, Python crashes with the following error:\r\n\r\n```\r\n2017-08-02 22:55:00.690746: F tensorflow/contrib/tensor_forest/kernels/count_extremely_random_stats_op.cc:404] \r\nCheck failed: column < num_classes_ (39001 vs. 7)\r\n\r\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n```\r\n\r\nI might be wrong, but this seems like a bug since TensorFlow is training each the `TensorForestEstimator` trees, but crashing upon saving. Also the number 39001 is not related to my data since the  shape for both `feature` and `label` is `(484876, 7)`.\r\n\r\nHere is the code to reproduce:\r\n\r\n```\r\nimport tensorflow as tf\r\nimport os\r\n\r\nfrom tensorflow.contrib.tensor_forest.client.random_forest import TensorForestEstimator, TensorForestLossHook\r\nfrom tensorflow.contrib.tensor_forest.python.tensor_forest import ForestHParams, RandomForestGraphs\r\n\r\ntf.logging.set_verbosity('INFO')\r\nos.environ['TF_CPP_MIN_LOG_LEVEL'] = '1'\r\n\r\ndef get_training_data():\r\n    training_file = \"data.txt\"\r\n    data = pd.read_csv(training_file, sep='\\t')\r\n\r\n    X = np.array(data.drop('Result', axis=1), dtype=np.float32)\r\n\r\n    y = []\r\n    # All 7 labels are stored in a string initially, so we parse each label to float and store in an array\r\n    for e in data.ResultStr:\r\n        y.append(list(np.array(str(e).replace('[', '').replace(']', '').split(','))))\r\n\r\n    y = np.array(y, dtype=np.float32)\r\n\r\n    features = tf.constant(X) # Also tried with tf.Variable\r\n    labels = tf.constant(y) # Also tried with tf.Variable\r\n\r\n    return features, labels\r\n\r\n# Main\r\nhyperparameters = ForestHParams(\r\n    num_trees=100,\r\n    max_nodes=10000,\r\n    bagging_fraction=1.0,\r\n    num_splits_to_consider=7,\r\n    feature_bagging_fraction=1.0,\r\n    max_fertile_nodes=0,\r\n    split_after_samples=250,\r\n    min_split_samples=5,\r\n    valid_leaf_threshold=1,\r\n    dominate_method='bootstrap',\r\n    dominate_fraction=0.99,\r\n    num_classes=7, \r\n    num_features=7\r\n)\r\n\r\nestimator = TensorForestEstimator(\r\n    params=hyperparameters,\r\n    device_assigner=None,\r\n    model_dir=None,\r\n    graph_builder_class=RandomForestGraphs,\r\n    config=None,\r\n    weights_name=None,\r\n    keys_name=None,\r\n    feature_engineering_fn=None,\r\n    early_stopping_rounds=100,\r\n    num_trainers=1,\r\n    trainer_id=0,\r\n    report_feature_importances=False,\r\n    local_eval=False\r\n)\r\n\r\nestimator.fit(\r\n    input_fn=lambda: get_training_data(),\r\n    max_steps=100,\r\n    monitors=[\r\n        TensorForestLossHook(\r\n            early_stopping_rounds=30\r\n        )\r\n    ]\r\n)\r\n```\r\nHere is the verbose logging output:\r\n```\r\nINFO:tensorflow:Using default config.\r\nWARNING:tensorflow:Using temporary folder as model directory: /var/folders/s3/k08tc0v94j10xn6fk3wz79zh0000gn/T/tmp2RnVSx\r\nINFO:tensorflow:Using config: {'_save_checkpoints_secs': 600, '_num_ps_replicas': 0, '_keep_checkpoint_max': 5, '_task_type': None, '_is_chief': True, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x1121fe390>, '_model_dir': '/var/folders/s3/k08tc0v94j10xn6fk3wz79zh0000gn/T/tmp2RnVSx', '_save_checkpoints_steps': None, '_keep_checkpoint_every_n_hours': 10000, '_session_config': None, '_tf_random_seed': None, '_environment': 'local', '_num_worker_replicas': 0, '_task_id': 0, '_save_summary_steps': 100, '_tf_config': gpu_options {\r\n  per_process_gpu_memory_fraction: 1\r\n}\r\n, '_evaluation_master': '', '_master': ''}\r\nINFO:tensorflow:Constructing forest with params = \r\nINFO:tensorflow:{'valid_leaf_threshold': 1, 'split_after_samples': 250, 'num_output_columns': 7, 'feature_bagging_fraction': 1.0, 'split_initializations_per_input': 1, 'bagged_features': None, 'min_split_samples': 5, 'max_nodes': 10000, 'num_features': 7, 'num_trees': 100, 'num_splits_to_consider': 7, 'base_random_seed': 0, 'num_outputs': 1, 'dominate_fraction': 0.99, 'max_fertile_nodes': 5000, 'bagged_num_features': 7, 'dominate_method': 'bootstrap', 'bagging_fraction': 1.0, 'regression': False, 'num_classes': 6}\r\nINFO:tensorflow:training graph for tree: 0\r\nINFO:tensorflow:training graph for tree: 1\r\n...\r\nINFO:tensorflow:training graph for tree: 98\r\nINFO:tensorflow:training graph for tree: 99\r\nINFO:tensorflow:Create CheckpointSaverHook.\r\n2017-08-02 22:53:25.218258: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-02 22:53:25.218298: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-02 22:53:25.218304: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-02 22:53:25.218308: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-02 22:55:00.690746: F tensorflow/contrib/tensor_forest/kernels/count_extremely_random_stats_op.cc:404] Check failed: column < num_classes_ (39001 vs. 7)\r\n\r\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n```\r\n\r\n### System information: tf_env.txt\r\n\r\n```\r\n\r\n== cat /etc/issue ===============================================\r\nDarwin 127001.local 16.6.0 Darwin Kernel Version 16.6.0: Fri Apr 14 16:21:16 PDT 2017; root:xnu-3789.60.24~6/RELEASE_X86_64 x86_64\r\nMac OS X 10.12.5\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nApple LLVM version 8.1.0 (clang-802.0.42)\r\nTarget: x86_64-apple-darwin16.6.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n\r\n== uname -a =====================================================\r\nDarwin 127001.local 16.6.0 Darwin Kernel Version 16.6.0: Fri Apr 14 16:21:16 PDT 2017; root:xnu-3789.60.24~6/RELEASE_X86_64 x86_64\r\n\r\n== check pips ===================================================\r\nnumpy (1.12.1)\r\nprotobuf (3.3.0)\r\ntensorflow (1.2.1)\r\n\r\n== check for virtualenv =========================================\r\nFalse\r\n\r\n== tensorflow import ============================================\r\ntf.VERSION = 1.2.1\r\ntf.GIT_VERSION = v1.2.0-5-g435cdfc\r\ntf.COMPILER_VERSION = v1.2.0-5-g435cdfc\r\nSanity check: array([1], dtype=int32)\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH is unset\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\n./tf.sh: line 105: nvidia-smi: command not found\r\n\r\n== cuda libs  ===================================================\r\n```"}