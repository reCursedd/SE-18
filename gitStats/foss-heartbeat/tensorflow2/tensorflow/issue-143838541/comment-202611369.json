{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/202611369", "html_url": "https://github.com/tensorflow/tensorflow/issues/1670#issuecomment-202611369", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1670", "id": 202611369, "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjYxMTM2OQ==", "user": {"login": "zhang8473", "id": 5016962, "node_id": "MDQ6VXNlcjUwMTY5NjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/5016962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhang8473", "html_url": "https://github.com/zhang8473", "followers_url": "https://api.github.com/users/zhang8473/followers", "following_url": "https://api.github.com/users/zhang8473/following{/other_user}", "gists_url": "https://api.github.com/users/zhang8473/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhang8473/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhang8473/subscriptions", "organizations_url": "https://api.github.com/users/zhang8473/orgs", "repos_url": "https://api.github.com/users/zhang8473/repos", "events_url": "https://api.github.com/users/zhang8473/events{/privacy}", "received_events_url": "https://api.github.com/users/zhang8473/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-28T22:43:03Z", "updated_at": "2016-03-28T22:48:29Z", "author_association": "NONE", "body_html": "<p>Now the max pooling function in tensorflow is</p>\n<pre>tf.nn.max_pool(value, ksize, strides, padding, name=None)\nReturns:\nA Tensor with type tf.float32. The max pooled output tensor.\n</pre>\n<p>I would like to have an extend version of max_pool, like</p>\n<pre>tf.nn.top_k_pool(value, ksize, strides, padding, k=1, name=None)\nPerforms the top k pooling on the input.\nArgs:\nvalue: A 4-D Tensor with shape [batch, height, width, channels] and type tf.float32.\nksize: A list of ints that has length &gt;= 4. The size of the window for each dimension of the input tensor.\nstrides: A list of ints that has length &gt;= 4. The stride of the sliding window for each dimension of the input tensor.\npadding: A string, either 'VALID' or 'SAME'. The padding algorithm.\nk: 0-D int32 Tensor. Number of top elements to look in each pool.\nname: Optional name for the operation.\nReturns:\nA Tensor with type tf.float32. The max pooled output tensor. There will be an additional dimension saving the top k values.\n</pre>\n<p>I know that I can expend the tensorflow operation following <a href=\"https://www.tensorflow.org/versions/r0.7/how_tos/adding_an_op/index.html\" rel=\"nofollow\">https://www.tensorflow.org/versions/r0.7/how_tos/adding_an_op/index.html</a></p>\n<p>I would like to know if there is an easier way to achieve that.</p>\n<p>Also asking in <a href=\"http://stackoverflow.com/questions/36272502/what-is-the-best-way-to-top-k-pool-elements-instead-of-only-the-max-one-in-tenso\" rel=\"nofollow\">stackoverflow</a>.</p>", "body_text": "Now the max pooling function in tensorflow is\ntf.nn.max_pool(value, ksize, strides, padding, name=None)\nReturns:\nA Tensor with type tf.float32. The max pooled output tensor.\n\nI would like to have an extend version of max_pool, like\ntf.nn.top_k_pool(value, ksize, strides, padding, k=1, name=None)\nPerforms the top k pooling on the input.\nArgs:\nvalue: A 4-D Tensor with shape [batch, height, width, channels] and type tf.float32.\nksize: A list of ints that has length >= 4. The size of the window for each dimension of the input tensor.\nstrides: A list of ints that has length >= 4. The stride of the sliding window for each dimension of the input tensor.\npadding: A string, either 'VALID' or 'SAME'. The padding algorithm.\nk: 0-D int32 Tensor. Number of top elements to look in each pool.\nname: Optional name for the operation.\nReturns:\nA Tensor with type tf.float32. The max pooled output tensor. There will be an additional dimension saving the top k values.\n\nI know that I can expend the tensorflow operation following https://www.tensorflow.org/versions/r0.7/how_tos/adding_an_op/index.html\nI would like to know if there is an easier way to achieve that.\nAlso asking in stackoverflow.", "body": "Now the max pooling function in tensorflow is\n\n<pre>\ntf.nn.max_pool(value, ksize, strides, padding, name=None)\nReturns:\nA Tensor with type tf.float32. The max pooled output tensor.\n</pre>\n\nI would like to have an extend version of max_pool, like\n\n<pre>\ntf.nn.top_k_pool(value, ksize, strides, padding, k=1, name=None)\nPerforms the top k pooling on the input.\nArgs:\nvalue: A 4-D Tensor with shape [batch, height, width, channels] and type tf.float32.\nksize: A list of ints that has length >= 4. The size of the window for each dimension of the input tensor.\nstrides: A list of ints that has length >= 4. The stride of the sliding window for each dimension of the input tensor.\npadding: A string, either 'VALID' or 'SAME'. The padding algorithm.\nk: 0-D int32 Tensor. Number of top elements to look in each pool.\nname: Optional name for the operation.\nReturns:\nA Tensor with type tf.float32. The max pooled output tensor. There will be an additional dimension saving the top k values.\n</pre>\n\nI know that I can expend the tensorflow operation following https://www.tensorflow.org/versions/r0.7/how_tos/adding_an_op/index.html\n\nI would like to know if there is an easier way to achieve that.\n\nAlso asking in [stackoverflow](http://stackoverflow.com/questions/36272502/what-is-the-best-way-to-top-k-pool-elements-instead-of-only-the-max-one-in-tenso).\n"}