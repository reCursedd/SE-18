{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10867", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10867/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10867/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10867/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10867", "id": 237337304, "node_id": "MDU6SXNzdWUyMzczMzczMDQ=", "number": 10867, "title": "C++ api in Debug x64 mode not building for VS2015", "user": {"login": "pabloxrl", "id": 3399745, "node_id": "MDQ6VXNlcjMzOTk3NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/3399745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pabloxrl", "html_url": "https://github.com/pabloxrl", "followers_url": "https://api.github.com/users/pabloxrl/followers", "following_url": "https://api.github.com/users/pabloxrl/following{/other_user}", "gists_url": "https://api.github.com/users/pabloxrl/gists{/gist_id}", "starred_url": "https://api.github.com/users/pabloxrl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pabloxrl/subscriptions", "organizations_url": "https://api.github.com/users/pabloxrl/orgs", "repos_url": "https://api.github.com/users/pabloxrl/repos", "events_url": "https://api.github.com/users/pabloxrl/events{/privacy}", "received_events_url": "https://api.github.com/users/pabloxrl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-06-20T20:35:36Z", "updated_at": "2018-10-24T21:30:36Z", "closed_at": "2018-10-24T21:30:35Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>I'm not sure if this is expected behaviour or a problem with the solution file generated by CMake, so my apologies if I'm writing in the wrong place.</p>\n<p>I'm trying to build Tensorflow C++ API on Windows using VS2015, and so far I didn't have problems to build Release x64 binaries, which just required me to ensure that the toolset for 64 bits is in use when creating the def file (dump bin.exe and undname.exe in particular).</p>\n<p>I could verify that the build works as expected, being able to load models saved in Python and perform inference successfully.</p>\n<p>However, when building the debug x64 version of the .dll, I'm being blocked by the following error:</p>\n<pre><code>104&gt;  tensorflow_static.vcxproj -&gt; D:\\out\\Debug\\tensorflow_static.lib\n104&gt;  symbols=1016688, taken=140782, dupes=3472\n105&gt;------ Build started: Project: tensorflow, Configuration: Debug x64 ------\n105&gt;  Building Custom Rule D:/tensorflow/tensorflow/contrib/cmake/CMakeLists.txt\n105&gt;  CMake does not need to re-run because D:/out/CMakeFiles/generate.stamp is up-to-date.\n105&gt;LINK : fatal error LNK1189: library limit of 65535 objects exceeded\n========== Build: 104 succeeded, 1 failed, 1 up-to-date, 0 skipped ==========\n</code></pre>\n<p>Is there any workaround for this issue? Has anyone managed to build the debug version of the library? Is it possible at all?</p>\n<p>From what I could google around, this linker issue is not easy to overcome, so feedback is most welcome.</p>", "body_text": "Hi,\nI'm not sure if this is expected behaviour or a problem with the solution file generated by CMake, so my apologies if I'm writing in the wrong place.\nI'm trying to build Tensorflow C++ API on Windows using VS2015, and so far I didn't have problems to build Release x64 binaries, which just required me to ensure that the toolset for 64 bits is in use when creating the def file (dump bin.exe and undname.exe in particular).\nI could verify that the build works as expected, being able to load models saved in Python and perform inference successfully.\nHowever, when building the debug x64 version of the .dll, I'm being blocked by the following error:\n104>  tensorflow_static.vcxproj -> D:\\out\\Debug\\tensorflow_static.lib\n104>  symbols=1016688, taken=140782, dupes=3472\n105>------ Build started: Project: tensorflow, Configuration: Debug x64 ------\n105>  Building Custom Rule D:/tensorflow/tensorflow/contrib/cmake/CMakeLists.txt\n105>  CMake does not need to re-run because D:/out/CMakeFiles/generate.stamp is up-to-date.\n105>LINK : fatal error LNK1189: library limit of 65535 objects exceeded\n========== Build: 104 succeeded, 1 failed, 1 up-to-date, 0 skipped ==========\n\nIs there any workaround for this issue? Has anyone managed to build the debug version of the library? Is it possible at all?\nFrom what I could google around, this linker issue is not easy to overcome, so feedback is most welcome.", "body": "Hi,\r\n\r\nI'm not sure if this is expected behaviour or a problem with the solution file generated by CMake, so my apologies if I'm writing in the wrong place.\r\n\r\nI'm trying to build Tensorflow C++ API on Windows using VS2015, and so far I didn't have problems to build Release x64 binaries, which just required me to ensure that the toolset for 64 bits is in use when creating the def file (dump bin.exe and undname.exe in particular).\r\n\r\nI could verify that the build works as expected, being able to load models saved in Python and perform inference successfully.\r\n\r\nHowever, when building the debug x64 version of the .dll, I'm being blocked by the following error:\r\n\r\n```\r\n104>  tensorflow_static.vcxproj -> D:\\out\\Debug\\tensorflow_static.lib\r\n104>  symbols=1016688, taken=140782, dupes=3472\r\n105>------ Build started: Project: tensorflow, Configuration: Debug x64 ------\r\n105>  Building Custom Rule D:/tensorflow/tensorflow/contrib/cmake/CMakeLists.txt\r\n105>  CMake does not need to re-run because D:/out/CMakeFiles/generate.stamp is up-to-date.\r\n105>LINK : fatal error LNK1189: library limit of 65535 objects exceeded\r\n========== Build: 104 succeeded, 1 failed, 1 up-to-date, 0 skipped ==========\r\n```\r\n\r\nIs there any workaround for this issue? Has anyone managed to build the debug version of the library? Is it possible at all?\r\n\r\nFrom what I could google around, this linker issue is not easy to overcome, so feedback is most welcome."}