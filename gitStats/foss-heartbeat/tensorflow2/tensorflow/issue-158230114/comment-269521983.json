{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/269521983", "html_url": "https://github.com/tensorflow/tensorflow/issues/2626#issuecomment-269521983", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2626", "id": 269521983, "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTUyMTk4Mw==", "user": {"login": "siddharthkhullar", "id": 751083, "node_id": "MDQ6VXNlcjc1MTA4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/751083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siddharthkhullar", "html_url": "https://github.com/siddharthkhullar", "followers_url": "https://api.github.com/users/siddharthkhullar/followers", "following_url": "https://api.github.com/users/siddharthkhullar/following{/other_user}", "gists_url": "https://api.github.com/users/siddharthkhullar/gists{/gist_id}", "starred_url": "https://api.github.com/users/siddharthkhullar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siddharthkhullar/subscriptions", "organizations_url": "https://api.github.com/users/siddharthkhullar/orgs", "repos_url": "https://api.github.com/users/siddharthkhullar/repos", "events_url": "https://api.github.com/users/siddharthkhullar/events{/privacy}", "received_events_url": "https://api.github.com/users/siddharthkhullar/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-28T18:50:58Z", "updated_at": "2016-12-28T18:51:40Z", "author_association": "NONE", "body_html": "<p>I'm facing this issue as well. Installed tf from source. Here's the log. Facing this issue while trying to run mnist_with_summaries.py.</p>\n<p>I tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcublas.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcudnn.so.5 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcufft.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcurand.so.8.0 locally<br>\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.<br>\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.<br>\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.<br>\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.<br>\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties:<br>\nname: GeForce GTX 1080<br>\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.8475<br>\npciBusID 0000:4b:00.0<br>\nTotal memory: 7.92GiB<br>\nFree memory: 6.45GiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 1080, pci bus id: 0000:4b:00.0)<br>\nAccuracy at step 0: 0.0938<br>\nAccuracy at step 10: 0.6802<br>\nAccuracy at step 20: 0.818<br>\nAccuracy at step 30: 0.8561<br>\nAccuracy at step 40: 0.8777<br>\nAccuracy at step 50: 0.8767<br>\nAccuracy at step 60: 0.8853<br>\nAccuracy at step 70: 0.8833<br>\nAccuracy at step 80: 0.8885<br>\nAccuracy at step 90: 0.894<br>\nI tensorflow/stream_executor/dso_loader.cc:116] Couldn't open CUDA library LD_LIBRARY_PATH:<br>\nF tensorflow/core/platform/default/gpu/cupti_wrapper.cc:59] Check failed: ::tensorflow::Status::OK() == (::tensorflow::Env::Default()-&gt;GetSymbolFromLibrary( GetDsoHandle(), kName, &amp;f)) (OK vs. Not found: /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow.so: undefined symbol: cuptiActivityRegisterCallbacks)could not find cuptiActivityRegisterCallbacksin libcupti DSO</p>\n<p>What is suspicious to me is the error calls out libcupti.so.8.0. (I think the version is 7.5), wonder why it's doing that!! All the other cudnn libraries are fine and are found locally. Any pointers?</p>\n<p>I have made the suggested changes to .bashrc with LD_LIBRARY_PATH. No luck.</p>", "body_text": "I'm facing this issue as well. Installed tf from source. Here's the log. Facing this issue while trying to run mnist_with_summaries.py.\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcurand.so.8.0 locally\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties:\nname: GeForce GTX 1080\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.8475\npciBusID 0000:4b:00.0\nTotal memory: 7.92GiB\nFree memory: 6.45GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1080, pci bus id: 0000:4b:00.0)\nAccuracy at step 0: 0.0938\nAccuracy at step 10: 0.6802\nAccuracy at step 20: 0.818\nAccuracy at step 30: 0.8561\nAccuracy at step 40: 0.8777\nAccuracy at step 50: 0.8767\nAccuracy at step 60: 0.8853\nAccuracy at step 70: 0.8833\nAccuracy at step 80: 0.8885\nAccuracy at step 90: 0.894\nI tensorflow/stream_executor/dso_loader.cc:116] Couldn't open CUDA library LD_LIBRARY_PATH:\nF tensorflow/core/platform/default/gpu/cupti_wrapper.cc:59] Check failed: ::tensorflow::Status::OK() == (::tensorflow::Env::Default()->GetSymbolFromLibrary( GetDsoHandle(), kName, &f)) (OK vs. Not found: /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow.so: undefined symbol: cuptiActivityRegisterCallbacks)could not find cuptiActivityRegisterCallbacksin libcupti DSO\nWhat is suspicious to me is the error calls out libcupti.so.8.0. (I think the version is 7.5), wonder why it's doing that!! All the other cudnn libraries are fine and are found locally. Any pointers?\nI have made the suggested changes to .bashrc with LD_LIBRARY_PATH. No luck.", "body": "I'm facing this issue as well. Installed tf from source. Here's the log. Facing this issue while trying to run mnist_with_summaries.py.\r\n\r\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcurand.so.8.0 locally\r\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \r\nname: GeForce GTX 1080\r\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.8475\r\npciBusID 0000:4b:00.0\r\nTotal memory: 7.92GiB\r\nFree memory: 6.45GiB\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1080, pci bus id: 0000:4b:00.0)\r\nAccuracy at step 0: 0.0938\r\nAccuracy at step 10: 0.6802\r\nAccuracy at step 20: 0.818\r\nAccuracy at step 30: 0.8561\r\nAccuracy at step 40: 0.8777\r\nAccuracy at step 50: 0.8767\r\nAccuracy at step 60: 0.8853\r\nAccuracy at step 70: 0.8833\r\nAccuracy at step 80: 0.8885\r\nAccuracy at step 90: 0.894\r\nI tensorflow/stream_executor/dso_loader.cc:116] Couldn't open CUDA library LD_LIBRARY_PATH: \r\nF tensorflow/core/platform/default/gpu/cupti_wrapper.cc:59] Check failed: ::tensorflow::Status::OK() == (::tensorflow::Env::Default()->GetSymbolFromLibrary( GetDsoHandle(), kName, &f)) (OK vs. Not found: /usr/local/lib/python3.5/dist-packages/tensorflow/python/_pywrap_tensorflow.so: undefined symbol: cuptiActivityRegisterCallbacks)could not find cuptiActivityRegisterCallbacksin libcupti DSO\r\n\r\nWhat is suspicious to me is the error calls out libcupti.so.8.0. (I think the version is 7.5), wonder why it's doing that!! All the other cudnn libraries are fine and are found locally. Any pointers?\r\n\r\nI have made the suggested changes to .bashrc with LD_LIBRARY_PATH. No luck."}