{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/313822079", "html_url": "https://github.com/tensorflow/tensorflow/issues/11171#issuecomment-313822079", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11171", "id": 313822079, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMzgyMjA3OQ==", "user": {"login": "prb12", "id": 11547801, "node_id": "MDQ6VXNlcjExNTQ3ODAx", "avatar_url": "https://avatars1.githubusercontent.com/u/11547801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prb12", "html_url": "https://github.com/prb12", "followers_url": "https://api.github.com/users/prb12/followers", "following_url": "https://api.github.com/users/prb12/following{/other_user}", "gists_url": "https://api.github.com/users/prb12/gists{/gist_id}", "starred_url": "https://api.github.com/users/prb12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prb12/subscriptions", "organizations_url": "https://api.github.com/users/prb12/orgs", "repos_url": "https://api.github.com/users/prb12/repos", "events_url": "https://api.github.com/users/prb12/events{/privacy}", "received_events_url": "https://api.github.com/users/prb12/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-08T00:38:20Z", "updated_at": "2017-07-08T00:38:20Z", "author_association": "MEMBER", "body_html": "<blockquote>\n<p>[Btw. could someone point me to the line where swap_memory is implemented?</p>\n</blockquote>\n<p>The <code>swap_memory</code> flags get passed through to <code>tf.while_loop</code> and into the <a href=\"https://github.com/tensorflow/tensorflow/blob/cf7c008ab150ac8e5edb3ed053d38b2919699796/tensorflow/python/ops/control_flow_ops.py#L1907\"><code>WhileContext</code></a>,  which pass flags to the stack related ops <a href=\"https://github.com/tensorflow/tensorflow/blob/cf7c008ab150ac8e5edb3ed053d38b2919699796/tensorflow/python/ops/control_flow_ops.py#L877-L878\">here</a>.</p>\n<p><code>StackPush</code> operations have an <a href=\"https://github.com/tensorflow/tensorflow/blob/cf7c008ab150ac8e5edb3ed053d38b2919699796/tensorflow/core/ops/data_flow_ops.cc#L1132-L1149\">attr</a> to enable the functionality, and the actual swapping happens <a href=\"https://github.com/tensorflow/tensorflow/blob/cf7c008ab150ac8e5edb3ed053d38b2919699796/tensorflow/core/kernels/stack_ops.cc#L222-L259\">here</a>.</p>", "body_text": "[Btw. could someone point me to the line where swap_memory is implemented?\n\nThe swap_memory flags get passed through to tf.while_loop and into the WhileContext,  which pass flags to the stack related ops here.\nStackPush operations have an attr to enable the functionality, and the actual swapping happens here.", "body": "> [Btw. could someone point me to the line where swap_memory is implemented? \r\n\r\nThe `swap_memory` flags get passed through to `tf.while_loop` and into the [`WhileContext`](https://github.com/tensorflow/tensorflow/blob/cf7c008ab150ac8e5edb3ed053d38b2919699796/tensorflow/python/ops/control_flow_ops.py#L1907),  which pass flags to the stack related ops [here](https://github.com/tensorflow/tensorflow/blob/cf7c008ab150ac8e5edb3ed053d38b2919699796/tensorflow/python/ops/control_flow_ops.py#L877-L878). \r\n\r\n`StackPush` operations have an [attr](https://github.com/tensorflow/tensorflow/blob/cf7c008ab150ac8e5edb3ed053d38b2919699796/tensorflow/core/ops/data_flow_ops.cc#L1132-L1149) to enable the functionality, and the actual swapping happens [here](https://github.com/tensorflow/tensorflow/blob/cf7c008ab150ac8e5edb3ed053d38b2919699796/tensorflow/core/kernels/stack_ops.cc#L222-L259).\r\n\r\n"}