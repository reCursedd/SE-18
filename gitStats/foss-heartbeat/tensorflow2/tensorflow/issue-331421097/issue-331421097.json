{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19922", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19922/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19922/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19922/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19922", "id": 331421097, "node_id": "MDU6SXNzdWUzMzE0MjEwOTc=", "number": 19922, "title": "tf.Session.run/tf.RunOptions timeout issue", "user": {"login": "pisiiki", "id": 1302640, "node_id": "MDQ6VXNlcjEzMDI2NDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1302640?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pisiiki", "html_url": "https://github.com/pisiiki", "followers_url": "https://api.github.com/users/pisiiki/followers", "following_url": "https://api.github.com/users/pisiiki/following{/other_user}", "gists_url": "https://api.github.com/users/pisiiki/gists{/gist_id}", "starred_url": "https://api.github.com/users/pisiiki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pisiiki/subscriptions", "organizations_url": "https://api.github.com/users/pisiiki/orgs", "repos_url": "https://api.github.com/users/pisiiki/repos", "events_url": "https://api.github.com/users/pisiiki/events{/privacy}", "received_events_url": "https://api.github.com/users/pisiiki/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-06-12T03:07:07Z", "updated_at": "2018-07-24T23:58:16Z", "closed_at": "2018-07-24T23:58:16Z", "author_association": "NONE", "body_html": "<p>When setting a timeout for a tf.Session.run with XLA enabled it seems that the argument is not used during the XLA build process:</p>\n<pre><code>run_options = tf.RunOptions(timeout_in_ms=60000)\nr = sess.run(e, options=run_options)\n</code></pre>\n<p>I have some code to build and evaluate different NN architectures and it can switch betteen XLA and normal execution, however XLA sometimes is extremely slow compiling and I want to know if there is a way to stop it other than killing the process.</p>\n<p><strong>Have I written custom code</strong>: No.<br>\n<strong>OS</strong>: Windows 10 x64 and Ubuntu 16.04.4 LTS<br>\n<strong>Tensorflow installed from</strong>: pip on windows, git sources r1.9 on ubuntu.<br>\n<strong>TensorFlow version</strong>: 1.8 on windows (python 3.5.5) , 1.9 on ubuntu (python 3.5.2, jemalloc, XLA JIT, GCC 5.4.0, CUDA, other ./configure options disabled).<br>\n<strong>Bazel version</strong>: 0.14.1 on ubuntu, n/a on windows.<br>\n<strong>CUDA/cuDNN version</strong>: 9.1/7.1 on windows, 9.2/7.1.4.18 on ubuntu<br>\n<strong>GPU model and memory</strong>: nvidia 1060/6GB<br>\n<strong>Exact command to reproduce</strong>: anything that would trigger a long XLA build within a Session.run with a timeout set.</p>\n<p>Thanks.</p>", "body_text": "When setting a timeout for a tf.Session.run with XLA enabled it seems that the argument is not used during the XLA build process:\nrun_options = tf.RunOptions(timeout_in_ms=60000)\nr = sess.run(e, options=run_options)\n\nI have some code to build and evaluate different NN architectures and it can switch betteen XLA and normal execution, however XLA sometimes is extremely slow compiling and I want to know if there is a way to stop it other than killing the process.\nHave I written custom code: No.\nOS: Windows 10 x64 and Ubuntu 16.04.4 LTS\nTensorflow installed from: pip on windows, git sources r1.9 on ubuntu.\nTensorFlow version: 1.8 on windows (python 3.5.5) , 1.9 on ubuntu (python 3.5.2, jemalloc, XLA JIT, GCC 5.4.0, CUDA, other ./configure options disabled).\nBazel version: 0.14.1 on ubuntu, n/a on windows.\nCUDA/cuDNN version: 9.1/7.1 on windows, 9.2/7.1.4.18 on ubuntu\nGPU model and memory: nvidia 1060/6GB\nExact command to reproduce: anything that would trigger a long XLA build within a Session.run with a timeout set.\nThanks.", "body": "When setting a timeout for a tf.Session.run with XLA enabled it seems that the argument is not used during the XLA build process:\r\n\r\n```\r\nrun_options = tf.RunOptions(timeout_in_ms=60000)\r\nr = sess.run(e, options=run_options)\r\n```\r\n\r\nI have some code to build and evaluate different NN architectures and it can switch betteen XLA and normal execution, however XLA sometimes is extremely slow compiling and I want to know if there is a way to stop it other than killing the process.\r\n\r\n**Have I written custom code**: No.\r\n**OS**: Windows 10 x64 and Ubuntu 16.04.4 LTS\r\n**Tensorflow installed from**: pip on windows, git sources r1.9 on ubuntu.\r\n**TensorFlow version**: 1.8 on windows (python 3.5.5) , 1.9 on ubuntu (python 3.5.2, jemalloc, XLA JIT, GCC 5.4.0, CUDA, other ./configure options disabled).\r\n**Bazel version**: 0.14.1 on ubuntu, n/a on windows.\r\n**CUDA/cuDNN version**: 9.1/7.1 on windows, 9.2/7.1.4.18 on ubuntu\r\n**GPU model and memory**: nvidia 1060/6GB\r\n**Exact command to reproduce**: anything that would trigger a long XLA build within a Session.run with a timeout set.\r\n\r\nThanks."}