{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9222", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9222/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9222/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9222/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9222", "id": 221847694, "node_id": "MDU6SXNzdWUyMjE4NDc2OTQ=", "number": 9222, "title": "Bazel build  error loading package 'tensorflow/core': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf//': Traceback (most recent call last):", "user": {"login": "JMBokhorst", "id": 21331645, "node_id": "MDQ6VXNlcjIxMzMxNjQ1", "avatar_url": "https://avatars3.githubusercontent.com/u/21331645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JMBokhorst", "html_url": "https://github.com/JMBokhorst", "followers_url": "https://api.github.com/users/JMBokhorst/followers", "following_url": "https://api.github.com/users/JMBokhorst/following{/other_user}", "gists_url": "https://api.github.com/users/JMBokhorst/gists{/gist_id}", "starred_url": "https://api.github.com/users/JMBokhorst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JMBokhorst/subscriptions", "organizations_url": "https://api.github.com/users/JMBokhorst/orgs", "repos_url": "https://api.github.com/users/JMBokhorst/repos", "events_url": "https://api.github.com/users/JMBokhorst/events{/privacy}", "received_events_url": "https://api.github.com/users/JMBokhorst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-04-14T17:00:31Z", "updated_at": "2017-07-06T14:35:45Z", "closed_at": "2017-04-14T20:59:37Z", "author_association": "NONE", "body_html": "<p>I'm trying to build a simple script,  however while compiling i get the following error:</p>\n<p>ERROR: C:/users/john/downloads/tensorflow-master/tensorflow/loader/BUILD:1:1: error loading package 'tensorflow/core': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf//': Traceback (most recent call last):<br>\nFile \"C:/users/john/downloads/tensorflow-master/tensorflow/workspace.bzl\", line 88<br>\n_apply_patch(repo_ctx, repo_ctx.attr.patch_file)<br>\nFile \"C:/users/john/downloads/tensorflow-master/tensorflow/workspace.bzl\", line 79, in _apply_patch<br>\n_execute_and_check_ret_code(repo_ctx, [\"patch\", \"-p1\", \"-d\", r...), &lt;2 more arguments&gt;])<br>\nFile \"C:/users/john/downloads/tensorflow-master/tensorflow/workspace.bzl\", line 71, in _execute_and_check_ret_code<br>\nfail(\"Non-zero return code({1}) when ..., &lt;2 more arguments&gt;))<br>\nNon-zero return code(256) when executing 'patch -p1 -d C:/tools/msys64/tmp/_bazel_john/mzdlugz6/external/protobuf -i C:/users/john/downloads/tensorflow-master/third_party/protobuf/add_noinlines.patch':<br>\nStdout:<br>\nStderr: java.io.IOException: CreateProcess(): The system cannot find the file specified.<br>\nand referenced by '//tensorflow/loader:test850.dll'.</p>\n<p>protobuf is installed:</p>\n<p>$ protoc --version<br>\nlibprotoc 3.2.0</p>\n<p>$ bazel version<br>\nBuild label: 0.4.5<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Thu Mar 16 13:02:06 2017 (1489669326)<br>\nBuild timestamp: 1489669326<br>\nBuild timestamp as int: 1489669326</p>\n<p>I have build bazel with chocolatery as described on the bazel site.</p>\n<p>Tried solution from issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"183588321\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5029\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5029/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5029\">#5029</a> (although the error is different). If i run the exact same script with bazel on a mac everything is fine and the build completes (no this is unfortunate not a solution). So i know the problem is with windows bazel and maybe the paths?</p>\n<p>Also tried to compile with CMAKE however with no succes</p>", "body_text": "I'm trying to build a simple script,  however while compiling i get the following error:\nERROR: C:/users/john/downloads/tensorflow-master/tensorflow/loader/BUILD:1:1: error loading package 'tensorflow/core': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf//': Traceback (most recent call last):\nFile \"C:/users/john/downloads/tensorflow-master/tensorflow/workspace.bzl\", line 88\n_apply_patch(repo_ctx, repo_ctx.attr.patch_file)\nFile \"C:/users/john/downloads/tensorflow-master/tensorflow/workspace.bzl\", line 79, in _apply_patch\n_execute_and_check_ret_code(repo_ctx, [\"patch\", \"-p1\", \"-d\", r...), <2 more arguments>])\nFile \"C:/users/john/downloads/tensorflow-master/tensorflow/workspace.bzl\", line 71, in _execute_and_check_ret_code\nfail(\"Non-zero return code({1}) when ..., <2 more arguments>))\nNon-zero return code(256) when executing 'patch -p1 -d C:/tools/msys64/tmp/_bazel_john/mzdlugz6/external/protobuf -i C:/users/john/downloads/tensorflow-master/third_party/protobuf/add_noinlines.patch':\nStdout:\nStderr: java.io.IOException: CreateProcess(): The system cannot find the file specified.\nand referenced by '//tensorflow/loader:test850.dll'.\nprotobuf is installed:\n$ protoc --version\nlibprotoc 3.2.0\n$ bazel version\nBuild label: 0.4.5\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Mar 16 13:02:06 2017 (1489669326)\nBuild timestamp: 1489669326\nBuild timestamp as int: 1489669326\nI have build bazel with chocolatery as described on the bazel site.\nTried solution from issue #5029 (although the error is different). If i run the exact same script with bazel on a mac everything is fine and the build completes (no this is unfortunate not a solution). So i know the problem is with windows bazel and maybe the paths?\nAlso tried to compile with CMAKE however with no succes", "body": "I'm trying to build a simple script,  however while compiling i get the following error: \r\n\r\nERROR: C:/users/john/downloads/tensorflow-master/tensorflow/loader/BUILD:1:1: error loading package 'tensorflow/core': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf//': Traceback (most recent call last):\r\n        File \"C:/users/john/downloads/tensorflow-master/tensorflow/workspace.bzl\", line 88\r\n                _apply_patch(repo_ctx, repo_ctx.attr.patch_file)\r\n        File \"C:/users/john/downloads/tensorflow-master/tensorflow/workspace.bzl\", line 79, in _apply_patch\r\n                _execute_and_check_ret_code(repo_ctx, [\"patch\", \"-p1\", \"-d\", r...), <2 more arguments>])\r\n        File \"C:/users/john/downloads/tensorflow-master/tensorflow/workspace.bzl\", line 71, in _execute_and_check_ret_code\r\n                fail(\"Non-zero return code({1}) when ..., <2 more arguments>))\r\nNon-zero return code(256) when executing 'patch -p1 -d C:/tools/msys64/tmp/_bazel_john/mzdlugz6/external/protobuf -i C:/users/john/downloads/tensorflow-master/third_party/protobuf/add_noinlines.patch':\r\nStdout:\r\nStderr: java.io.IOException: CreateProcess(): The system cannot find the file specified.\r\n and referenced by '//tensorflow/loader:test850.dll'.\r\n\r\nprotobuf is installed:\r\n\r\n$ protoc --version\r\nlibprotoc 3.2.0\r\n\r\n$ bazel version\r\nBuild label: 0.4.5\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Thu Mar 16 13:02:06 2017 (1489669326)\r\nBuild timestamp: 1489669326\r\nBuild timestamp as int: 1489669326\r\n\r\nI have build bazel with chocolatery as described on the bazel site.\r\n\r\nTried solution from issue #5029 (although the error is different). If i run the exact same script with bazel on a mac everything is fine and the build completes (no this is unfortunate not a solution). So i know the problem is with windows bazel and maybe the paths? \r\n\r\nAlso tried to compile with CMAKE however with no succes \r\n\r\n\r\n\r\n"}