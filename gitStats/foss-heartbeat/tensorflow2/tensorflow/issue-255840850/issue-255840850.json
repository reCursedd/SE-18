{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12870", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12870/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12870/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12870/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12870", "id": 255840850, "node_id": "MDU6SXNzdWUyNTU4NDA4NTA=", "number": 12870, "title": "init weights from pre_train model resnet_v2_101 something wrong :    Assign requires shapes of both tensors to match. lhs shape= [19] rhs shape= [256]", "user": {"login": "Suodislie", "id": 25025532, "node_id": "MDQ6VXNlcjI1MDI1NTMy", "avatar_url": "https://avatars2.githubusercontent.com/u/25025532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Suodislie", "html_url": "https://github.com/Suodislie", "followers_url": "https://api.github.com/users/Suodislie/followers", "following_url": "https://api.github.com/users/Suodislie/following{/other_user}", "gists_url": "https://api.github.com/users/Suodislie/gists{/gist_id}", "starred_url": "https://api.github.com/users/Suodislie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Suodislie/subscriptions", "organizations_url": "https://api.github.com/users/Suodislie/orgs", "repos_url": "https://api.github.com/users/Suodislie/repos", "events_url": "https://api.github.com/users/Suodislie/events{/privacy}", "received_events_url": "https://api.github.com/users/Suodislie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-07T07:28:55Z", "updated_at": "2017-09-14T00:44:15Z", "closed_at": "2017-09-14T00:44:15Z", "author_association": "NONE", "body_html": "<p><strong>SSD generate feature map by VGG16, I replaced VGG16 with ResNet_V2_101,the code as follows:</strong><br>\n<code> with slim.arg_scope(resnet_utils.resnet_arg_scope()): net , end_points =resnet_v2.resnet_v2_101(inputs,reuse=reuse,global_pool=False,is_training=True,scope='resnet_v2_101')</code></p>\n<p><strong>when i restore the pretrain_weights from the checkpoint_path, something wrong as follows:</strong><br>\n<code>InvalidArgumentError (see above for traceback): Assign requires shapes of both tensors to match. lhs shape= [19] rhs shape= [256] [[Node: save_1/Assign_294 = Assign[T=DT_FLOAT, _class=[\"loc:@resnet_v2_101/block3/unit_18/bottleneck_v2/conv2/BatchNorm/gamma\"], use_locking=true, validate_shape=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](resnet_v2_101/block3/unit_18/bottleneck_v2/conv2/BatchNorm/gamma, save_1/RestoreV2_294)]] </code><br>\n<strong>## I do not konw why, Hope for your help!</strong></p>", "body_text": "SSD generate feature map by VGG16, I replaced VGG16 with ResNet_V2_101,the code as follows:\n with slim.arg_scope(resnet_utils.resnet_arg_scope()): net , end_points =resnet_v2.resnet_v2_101(inputs,reuse=reuse,global_pool=False,is_training=True,scope='resnet_v2_101')\nwhen i restore the pretrain_weights from the checkpoint_path, something wrong as follows:\nInvalidArgumentError (see above for traceback): Assign requires shapes of both tensors to match. lhs shape= [19] rhs shape= [256] [[Node: save_1/Assign_294 = Assign[T=DT_FLOAT, _class=[\"loc:@resnet_v2_101/block3/unit_18/bottleneck_v2/conv2/BatchNorm/gamma\"], use_locking=true, validate_shape=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](resnet_v2_101/block3/unit_18/bottleneck_v2/conv2/BatchNorm/gamma, save_1/RestoreV2_294)]] \n## I do not konw why, Hope for your help!", "body": " **SSD generate feature map by VGG16, I replaced VGG16 with ResNet_V2_101,the code as follows:**\r\n`  with slim.arg_scope(resnet_utils.resnet_arg_scope()):\r\n         net , end_points =resnet_v2.resnet_v2_101(inputs,reuse=reuse,global_pool=False,is_training=True,scope='resnet_v2_101')\r\n`\r\n           \r\n**when i restore the pretrain_weights from the checkpoint_path, something wrong as follows:**\r\n`InvalidArgumentError (see above for traceback): Assign requires shapes of both tensors to match. lhs shape= [19] rhs shape= [256]\r\n\t [[Node: save_1/Assign_294 = Assign[T=DT_FLOAT, _class=[\"loc:@resnet_v2_101/block3/unit_18/bottleneck_v2/conv2/BatchNorm/gamma\"], use_locking=true, validate_shape=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](resnet_v2_101/block3/unit_18/bottleneck_v2/conv2/BatchNorm/gamma, save_1/RestoreV2_294)]]\r\n`\r\n**## I do not konw why, Hope for your help!**"}