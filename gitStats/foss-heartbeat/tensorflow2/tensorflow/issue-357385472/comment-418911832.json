{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/418911832", "html_url": "https://github.com/tensorflow/tensorflow/issues/22099#issuecomment-418911832", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22099", "id": 418911832, "node_id": "MDEyOklzc3VlQ29tbWVudDQxODkxMTgzMg==", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-05T23:18:06Z", "updated_at": "2018-09-05T23:18:06Z", "author_association": "MEMBER", "body_html": "<p>I don't have Windows access though I tried on Linux the Softmax is available on GPU:</p>\n<pre><code>$ python2\nPython 2.7.12 (default, Dec  4 2017, 14:50:18) \n[GCC 5.4.0 20160609] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import tensorflow as tf\n&gt;&gt;&gt; with tf.device('/{}:{}'.format('gpu','0')):\n...   x = [0., -1., 2., 3.]\n...   softmax_x = tf.nn.softmax(x)\n...   session = tf.Session()\n...   print(session.run(softmax_x))\n... \n2018-09-05 22:09:50.785901: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-09-05 22:09:52.634968: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:897] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-09-05 22:09:52.635365: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: \nname: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235\npciBusID: 0000:00:1e.0\ntotalMemory: 11.17GiB freeMemory: 11.10GiB\n2018-09-05 22:09:52.635392: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0\n2018-09-05 22:09:52.940328: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-09-05 22:09:52.940375: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 \n2018-09-05 22:09:52.940384: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N \n2018-09-05 22:09:52.940659: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -&gt; physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:00:1e.0, compute capability: 3.7)\n[0.03467109 0.01275478 0.25618663 0.69638747]\n&gt;&gt;&gt; \n</code></pre>\n<p>I think that might be a Windows specific issue?</p>", "body_text": "I don't have Windows access though I tried on Linux the Softmax is available on GPU:\n$ python2\nPython 2.7.12 (default, Dec  4 2017, 14:50:18) \n[GCC 5.4.0 20160609] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tensorflow as tf\n>>> with tf.device('/{}:{}'.format('gpu','0')):\n...   x = [0., -1., 2., 3.]\n...   softmax_x = tf.nn.softmax(x)\n...   session = tf.Session()\n...   print(session.run(softmax_x))\n... \n2018-09-05 22:09:50.785901: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-09-05 22:09:52.634968: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:897] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-09-05 22:09:52.635365: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: \nname: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235\npciBusID: 0000:00:1e.0\ntotalMemory: 11.17GiB freeMemory: 11.10GiB\n2018-09-05 22:09:52.635392: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0\n2018-09-05 22:09:52.940328: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-09-05 22:09:52.940375: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 \n2018-09-05 22:09:52.940384: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N \n2018-09-05 22:09:52.940659: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:00:1e.0, compute capability: 3.7)\n[0.03467109 0.01275478 0.25618663 0.69638747]\n>>> \n\nI think that might be a Windows specific issue?", "body": "I don't have Windows access though I tried on Linux the Softmax is available on GPU:\r\n```\r\n$ python2\r\nPython 2.7.12 (default, Dec  4 2017, 14:50:18) \r\n[GCC 5.4.0 20160609] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow as tf\r\n>>> with tf.device('/{}:{}'.format('gpu','0')):\r\n...   x = [0., -1., 2., 3.]\r\n...   softmax_x = tf.nn.softmax(x)\r\n...   session = tf.Session()\r\n...   print(session.run(softmax_x))\r\n... \r\n2018-09-05 22:09:50.785901: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2018-09-05 22:09:52.634968: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:897] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2018-09-05 22:09:52.635365: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: \r\nname: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235\r\npciBusID: 0000:00:1e.0\r\ntotalMemory: 11.17GiB freeMemory: 11.10GiB\r\n2018-09-05 22:09:52.635392: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0\r\n2018-09-05 22:09:52.940328: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-09-05 22:09:52.940375: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 \r\n2018-09-05 22:09:52.940384: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N \r\n2018-09-05 22:09:52.940659: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:00:1e.0, compute capability: 3.7)\r\n[0.03467109 0.01275478 0.25618663 0.69638747]\r\n>>> \r\n```\r\n\r\nI think that might be a Windows specific issue?"}