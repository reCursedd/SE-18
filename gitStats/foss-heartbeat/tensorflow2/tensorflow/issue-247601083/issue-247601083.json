{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11991", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11991/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11991/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11991/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11991", "id": 247601083, "node_id": "MDU6SXNzdWUyNDc2MDEwODM=", "number": 11991, "title": " ERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda'", "user": {"login": "StatML", "id": 3596431, "node_id": "MDQ6VXNlcjM1OTY0MzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3596431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StatML", "html_url": "https://github.com/StatML", "followers_url": "https://api.github.com/users/StatML/followers", "following_url": "https://api.github.com/users/StatML/following{/other_user}", "gists_url": "https://api.github.com/users/StatML/gists{/gist_id}", "starred_url": "https://api.github.com/users/StatML/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StatML/subscriptions", "organizations_url": "https://api.github.com/users/StatML/orgs", "repos_url": "https://api.github.com/users/StatML/repos", "events_url": "https://api.github.com/users/StatML/events{/privacy}", "received_events_url": "https://api.github.com/users/StatML/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-03T06:04:50Z", "updated_at": "2017-08-16T12:19:15Z", "closed_at": "2017-08-03T22:42:18Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04.4</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>:</li>\n<li><strong>Python version</strong>:</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.5.3</li>\n<li><strong>CUDA/cuDNN version</strong>: 6.0.21</li>\n<li><strong>GPU model and memory</strong>:</li>\n<li><strong>Exact command to reproduce</strong>: bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I know someone had reported the same issue. Their solution is to roll back bazel to 0.5.2. But it does not work on my machine. Does anyone know how to fix this problem without the need of rolling back bazel? Thx!</p>\n<blockquote>\n<p>tensorflow-git$ sudo bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package<br>\nWARNING: ignoring http_proxy in environment.<br>\n.......<br>\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):<br>\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 1039<br>\n_create_local_cuda_repository(repository_ctx)<br>\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository<br>\n_host_compiler_includes(repository_ctx, cc)<br>\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes<br>\nget_cxx_inc_directories(repository_ctx, cc)<br>\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories<br>\nset(includes_cpp)<br>\ndepsets cannot contain mutable items<br>\nWARNING: Target pattern parsing failed.<br>\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):<br>\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 1039<br>\n_create_local_cuda_repository(repository_ctx)<br>\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository<br>\n_host_compiler_includes(repository_ctx, cc)<br>\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes<br>\nget_cxx_inc_directories(repository_ctx, cc)<br>\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories<br>\nset(includes_cpp)<br>\ndepsets cannot contain mutable items<br>\nINFO: Elapsed time: 4.064s<br>\nFAILED: Build did NOT complete successfully (0 packages loaded)<br>\ncurrently loading: tensorflow/tools/pip_package</p>\n</blockquote>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04.4\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below):\nPython version:\nBazel version (if compiling from source): 0.5.3\nCUDA/cuDNN version: 6.0.21\nGPU model and memory:\nExact command to reproduce: bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nI know someone had reported the same issue. Their solution is to roll back bazel to 0.5.2. But it does not work on my machine. Does anyone know how to fix this problem without the need of rolling back bazel? Thx!\n\ntensorflow-git$ sudo bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWARNING: ignoring http_proxy in environment.\n.......\nERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 1039\n_create_local_cuda_repository(repository_ctx)\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository\n_host_compiler_includes(repository_ctx, cc)\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\nget_cxx_inc_directories(repository_ctx, cc)\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\nset(includes_cpp)\ndepsets cannot contain mutable items\nWARNING: Target pattern parsing failed.\nERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 1039\n_create_local_cuda_repository(repository_ctx)\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository\n_host_compiler_includes(repository_ctx, cc)\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\nget_cxx_inc_directories(repository_ctx, cc)\nFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\nset(includes_cpp)\ndepsets cannot contain mutable items\nINFO: Elapsed time: 4.064s\nFAILED: Build did NOT complete successfully (0 packages loaded)\ncurrently loading: tensorflow/tools/pip_package", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04.4\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**:\r\n- **Python version**: \r\n- **Bazel version (if compiling from source)**: 0.5.3\r\n- **CUDA/cuDNN version**: 6.0.21\r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**: bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n\r\n### Describe the problem\r\n\r\nI know someone had reported the same issue. Their solution is to roll back bazel to 0.5.2. But it does not work on my machine. Does anyone know how to fix this problem without the need of rolling back bazel? Thx!\r\n\r\n> tensorflow-git$ sudo bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package \r\n> WARNING: ignoring http_proxy in environment.\r\n> .......\r\n> ERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n> \tFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 1039\r\n> \t\t_create_local_cuda_repository(repository_ctx)\r\n> \tFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository\r\n> \t\t_host_compiler_includes(repository_ctx, cc)\r\n> \tFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\r\n> \t\tget_cxx_inc_directories(repository_ctx, cc)\r\n> \tFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\r\n> \t\tset(includes_cpp)\r\n> depsets cannot contain mutable items\r\n> WARNING: Target pattern parsing failed.\r\n> ERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n> \tFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 1039\r\n> \t\t_create_local_cuda_repository(repository_ctx)\r\n> \tFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 976, in _create_local_cuda_repository\r\n> \t\t_host_compiler_includes(repository_ctx, cc)\r\n> \tFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 145, in _host_compiler_includes\r\n> \t\tget_cxx_inc_directories(repository_ctx, cc)\r\n> \tFile \"/home/intel/DevLib/tensorflow-git/third_party/gpus/cuda_configure.bzl\", line 120, in get_cxx_inc_directories\r\n> \t\tset(includes_cpp)\r\n> depsets cannot contain mutable items\r\n> INFO: Elapsed time: 4.064s\r\n> FAILED: Build did NOT complete successfully (0 packages loaded)\r\n>     currently loading: tensorflow/tools/pip_package\r\n> \r\n"}