{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/382728811", "html_url": "https://github.com/tensorflow/tensorflow/issues/17273#issuecomment-382728811", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17273", "id": 382728811, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjcyODgxMQ==", "user": {"login": "pierremac", "id": 28400841, "node_id": "MDQ6VXNlcjI4NDAwODQx", "avatar_url": "https://avatars1.githubusercontent.com/u/28400841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pierremac", "html_url": "https://github.com/pierremac", "followers_url": "https://api.github.com/users/pierremac/followers", "following_url": "https://api.github.com/users/pierremac/following{/other_user}", "gists_url": "https://api.github.com/users/pierremac/gists{/gist_id}", "starred_url": "https://api.github.com/users/pierremac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pierremac/subscriptions", "organizations_url": "https://api.github.com/users/pierremac/orgs", "repos_url": "https://api.github.com/users/pierremac/repos", "events_url": "https://api.github.com/users/pierremac/events{/privacy}", "received_events_url": "https://api.github.com/users/pierremac/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-19T13:10:46Z", "updated_at": "2018-04-19T13:10:46Z", "author_association": "NONE", "body_html": "<p>I'm facing a similar problem with batch_normalization on TF 1.7 compiled with support of AVX512.<br>\nI'm not even using tf.moments and instead set the variance as ones.<br>\nWhen I pass it to the batch_normalization (along with any kind of variance_epsilon), the rsqrt operation (in the computation of \"inv\") returns NaN.<br>\nEverything works correctly with the default pip tensorflow-gpu 1.7 package (which does not support AVX512)</p>", "body_text": "I'm facing a similar problem with batch_normalization on TF 1.7 compiled with support of AVX512.\nI'm not even using tf.moments and instead set the variance as ones.\nWhen I pass it to the batch_normalization (along with any kind of variance_epsilon), the rsqrt operation (in the computation of \"inv\") returns NaN.\nEverything works correctly with the default pip tensorflow-gpu 1.7 package (which does not support AVX512)", "body": "I'm facing a similar problem with batch_normalization on TF 1.7 compiled with support of AVX512.\r\nI'm not even using tf.moments and instead set the variance as ones.\r\nWhen I pass it to the batch_normalization (along with any kind of variance_epsilon), the rsqrt operation (in the computation of \"inv\") returns NaN.\r\nEverything works correctly with the default pip tensorflow-gpu 1.7 package (which does not support AVX512)"}