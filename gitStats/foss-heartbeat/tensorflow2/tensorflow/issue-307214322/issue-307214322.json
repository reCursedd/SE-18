{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17893", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17893/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17893/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17893/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/17893", "id": 307214322, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc2NDUyMzAy", "number": 17893, "title": "Fix the inconsistency in the accepted shape/data_format in layers doc", "user": {"login": "imsheridan", "id": 1680977, "node_id": "MDQ6VXNlcjE2ODA5Nzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1680977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imsheridan", "html_url": "https://github.com/imsheridan", "followers_url": "https://api.github.com/users/imsheridan/followers", "following_url": "https://api.github.com/users/imsheridan/following{/other_user}", "gists_url": "https://api.github.com/users/imsheridan/gists{/gist_id}", "starred_url": "https://api.github.com/users/imsheridan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imsheridan/subscriptions", "organizations_url": "https://api.github.com/users/imsheridan/orgs", "repos_url": "https://api.github.com/users/imsheridan/repos", "events_url": "https://api.github.com/users/imsheridan/events{/privacy}", "received_events_url": "https://api.github.com/users/imsheridan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 419840263, "node_id": "MDU6TGFiZWw0MTk4NDAyNjM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20testing%20(then%20merge)", "name": "awaiting testing (then merge)", "color": "c2e0c6", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-21T11:53:06Z", "updated_at": "2018-03-22T12:41:41Z", "closed_at": "2018-03-22T11:55:36Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/17893", "html_url": "https://github.com/tensorflow/tensorflow/pull/17893", "diff_url": "https://github.com/tensorflow/tensorflow/pull/17893.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/17893.patch"}, "body_html": "<p>This PR is to <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #17892.\">fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"307190967\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/17892\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17892/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/17892\">#17892</a> on the the inconsistency in the accepted shape/data_format of layers doc.</p>\n<p>As described in the above issue, the <a href=\"https://www.tensorflow.org/tutorials/layers\" rel=\"nofollow\">Tensorflow Layers Guide</a> at specifies:</p>\n<blockquote>\n<p>The methods in the layers module for creating convolutional and pooling layers for two-dimensional image data expect input tensors to have a shape of [batch_size, image_width, image_height, channels]</p>\n</blockquote>\n<p>While, the inline documentation specified for <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/layers/convolutional.py#L444\">conv2D</a> mentions the following valid data_formats:</p>\n<blockquote>\n<p>data_format: A string, one of channels_last (default) or channels_first.<br>\nThe ordering of the dimensions in the inputs.<br>\nchannels_last corresponds to inputs with shape<br>\n(batch, height, width, channels) while channels_first corresponds to<br>\ninputs with shape (batch, channels, height, width)</p>\n</blockquote>\n<p>Moreover, <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/layers/python/layers/layers.py#L99\">nn.bias_add, avg_pool2d etc. </a> also accept [...,height, width...] but using different strings/methodology.</p>\n<blockquote>\n<p>inputs: A 4-D tensor of shape [batch_size, height, width, channels] if<br>\ndata_format is NHWC, and [batch_size, channels, height, width] if<br>\ndata_format is NCHW.</p>\n</blockquote>\n<p>This PR is to <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #17892.\">fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"307190967\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/17892\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17892/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/17892\">#17892</a>.</p>", "body_text": "This PR is to fix #17892 on the the inconsistency in the accepted shape/data_format of layers doc.\nAs described in the above issue, the Tensorflow Layers Guide at specifies:\n\nThe methods in the layers module for creating convolutional and pooling layers for two-dimensional image data expect input tensors to have a shape of [batch_size, image_width, image_height, channels]\n\nWhile, the inline documentation specified for conv2D mentions the following valid data_formats:\n\ndata_format: A string, one of channels_last (default) or channels_first.\nThe ordering of the dimensions in the inputs.\nchannels_last corresponds to inputs with shape\n(batch, height, width, channels) while channels_first corresponds to\ninputs with shape (batch, channels, height, width)\n\nMoreover, nn.bias_add, avg_pool2d etc.  also accept [...,height, width...] but using different strings/methodology.\n\ninputs: A 4-D tensor of shape [batch_size, height, width, channels] if\ndata_format is NHWC, and [batch_size, channels, height, width] if\ndata_format is NCHW.\n\nThis PR is to fix #17892.", "body": "This PR is to fix #17892 on the the inconsistency in the accepted shape/data_format of layers doc.\r\n\r\nAs described in the above issue, the [Tensorflow Layers Guide](https://www.tensorflow.org/tutorials/layers) at specifies:\r\n> The methods in the layers module for creating convolutional and pooling layers for two-dimensional image data expect input tensors to have a shape of [batch_size, image_width, image_height, channels]\r\n\r\nWhile, the inline documentation specified for [conv2D](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/layers/convolutional.py#L444) mentions the following valid data_formats:\r\n> data_format: A string, one of channels_last (default) or channels_first.\r\n> The ordering of the dimensions in the inputs.\r\n> channels_last corresponds to inputs with shape\r\n> (batch, height, width, channels) while channels_first corresponds to\r\n> inputs with shape (batch, channels, height, width)\r\n\r\nMoreover, [nn.bias_add, avg_pool2d etc. ](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/layers/python/layers/layers.py#L99) also accept [...,height, width...] but using different strings/methodology.\r\n> inputs: A 4-D tensor of shape [batch_size, height, width, channels] if\r\n> data_format is NHWC, and [batch_size, channels, height, width] if\r\n> data_format is NCHW.\r\n\r\nThis PR is to fix #17892."}