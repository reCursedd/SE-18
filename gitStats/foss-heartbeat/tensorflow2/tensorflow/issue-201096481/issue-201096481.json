{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6883", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6883/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6883/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6883/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6883", "id": 201096481, "node_id": "MDU6SXNzdWUyMDEwOTY0ODE=", "number": 6883, "title": "ERROR: Assign requires shapes of both tensors to match. lhs shape= [1000] rhs shape= [1001]", "user": {"login": "apiszcz", "id": 1430861, "node_id": "MDQ6VXNlcjE0MzA4NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1430861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apiszcz", "html_url": "https://github.com/apiszcz", "followers_url": "https://api.github.com/users/apiszcz/followers", "following_url": "https://api.github.com/users/apiszcz/following{/other_user}", "gists_url": "https://api.github.com/users/apiszcz/gists{/gist_id}", "starred_url": "https://api.github.com/users/apiszcz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apiszcz/subscriptions", "organizations_url": "https://api.github.com/users/apiszcz/orgs", "repos_url": "https://api.github.com/users/apiszcz/repos", "events_url": "https://api.github.com/users/apiszcz/events{/privacy}", "received_events_url": "https://api.github.com/users/apiszcz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-01-16T19:02:49Z", "updated_at": "2018-11-23T08:10:47Z", "closed_at": "2017-01-16T19:42:58Z", "author_association": "NONE", "body_html": "<p>Searched for possible solutions, this page references using --Label-offsets=1 to use vgg or ResNet, here however I'm using InceptionV3 with imagenet TFRecord format, and the failure message occurs during initialization of the session.</p>\n<p>Operating System: Windows 10/64 or LINUX</p>\n<p>Installed version of CUDA and cuDNN:<br>\ncublas64_80.dll locally<br>\ncudnn64_5.dll<br>\ncufft64_80.dll<br>\nnvcuda.dll locally<br>\ncurand64_80.dll locally</p>\n<p>If installed from binary pip package, provide:<br>\n0.12.1</p>\n<p>CODE:<br>\ninit_fn = slim.assign_from_checkpoint_fn(model_path,slim.get_model_variables('InceptionV3'))</p>\n<pre><code>with tf.Session() as sess:\n    # Load weights\n    init_fn(sess)\n</code></pre>\n<p>ERROR MESSAGE<br>\nInvalidArgumentError (see above for traceback): Assign requires shapes of both tensors to match. lhs shape= [1000] rhs shape= [1001]<br>\n[[Node: save/Assign_8 = Assign[T=DT_FLOAT, _class=[\"loc:@InceptionV3/AuxLogits/Conv2d_2b_1x1/biases\"], use_locking=true, validate_shape=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](InceptionV3/AuxLogits/Conv2d_2b_1x1/biases, save/RestoreV2_8)]]</p>", "body_text": "Searched for possible solutions, this page references using --Label-offsets=1 to use vgg or ResNet, here however I'm using InceptionV3 with imagenet TFRecord format, and the failure message occurs during initialization of the session.\nOperating System: Windows 10/64 or LINUX\nInstalled version of CUDA and cuDNN:\ncublas64_80.dll locally\ncudnn64_5.dll\ncufft64_80.dll\nnvcuda.dll locally\ncurand64_80.dll locally\nIf installed from binary pip package, provide:\n0.12.1\nCODE:\ninit_fn = slim.assign_from_checkpoint_fn(model_path,slim.get_model_variables('InceptionV3'))\nwith tf.Session() as sess:\n    # Load weights\n    init_fn(sess)\n\nERROR MESSAGE\nInvalidArgumentError (see above for traceback): Assign requires shapes of both tensors to match. lhs shape= [1000] rhs shape= [1001]\n[[Node: save/Assign_8 = Assign[T=DT_FLOAT, _class=[\"loc:@InceptionV3/AuxLogits/Conv2d_2b_1x1/biases\"], use_locking=true, validate_shape=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](InceptionV3/AuxLogits/Conv2d_2b_1x1/biases, save/RestoreV2_8)]]", "body": "Searched for possible solutions, this page references using --Label-offsets=1 to use vgg or ResNet, here however I'm using InceptionV3 with imagenet TFRecord format, and the failure message occurs during initialization of the session.\r\n\r\nOperating System: Windows 10/64 or LINUX\r\n\r\nInstalled version of CUDA and cuDNN: \r\ncublas64_80.dll locally\r\ncudnn64_5.dll\r\ncufft64_80.dll\r\nnvcuda.dll locally\r\ncurand64_80.dll locally\r\n\r\nIf installed from binary pip package, provide:\r\n0.12.1\r\n\r\n\r\nCODE:\r\n    init_fn = slim.assign_from_checkpoint_fn(model_path,slim.get_model_variables('InceptionV3'))\r\n\r\n    with tf.Session() as sess:\r\n        # Load weights\r\n        init_fn(sess)\r\n\r\n\r\nERROR MESSAGE\r\nInvalidArgumentError (see above for traceback): Assign requires shapes of both tensors to match. lhs shape= [1000] rhs shape= [1001]\r\n         [[Node: save/Assign_8 = Assign[T=DT_FLOAT, _class=[\"loc:@InceptionV3/AuxLogits/Conv2d_2b_1x1/biases\"], use_locking=true, validate_shape=true, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](InceptionV3/AuxLogits/Conv2d_2b_1x1/biases, save/RestoreV2_8)]]\r\n"}