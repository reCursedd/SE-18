{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21024", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21024/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21024/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21024/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21024", "id": 343361188, "node_id": "MDU6SXNzdWUzNDMzNjExODg=", "number": 21024, "title": "KeyError: 'IteratorGetDevice' in tf.train.import_meta_graph", "user": {"login": "sunminnie", "id": 24248474, "node_id": "MDQ6VXNlcjI0MjQ4NDc0", "avatar_url": "https://avatars2.githubusercontent.com/u/24248474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunminnie", "html_url": "https://github.com/sunminnie", "followers_url": "https://api.github.com/users/sunminnie/followers", "following_url": "https://api.github.com/users/sunminnie/following{/other_user}", "gists_url": "https://api.github.com/users/sunminnie/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunminnie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunminnie/subscriptions", "organizations_url": "https://api.github.com/users/sunminnie/orgs", "repos_url": "https://api.github.com/users/sunminnie/repos", "events_url": "https://api.github.com/users/sunminnie/events{/privacy}", "received_events_url": "https://api.github.com/users/sunminnie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-21T22:46:17Z", "updated_at": "2018-08-10T23:08:19Z", "closed_at": "2018-07-22T15:38:59Z", "author_association": "NONE", "body_html": "<hr>\n<h3>System information</h3>\n<p>ubuntu 16.04LTS<br>\nprotobuf                      3.6.0<br>\ntensorflow                    1.8.0<br>\nand I'm using Python 3.5</p>\n<h3>Describe the problem</h3>\n<p>I got a [KeyError: 'IteratorGetDevice'] when using [tf.train.import_meta_graph] to import a [tensorflow official resnet model](the model is trained using the source code online).</p>\n<h3>Source code / logs</h3>\n<p>[Code:]</p>\n<p>import tensorflow as tf<br>\nwith tf.Session() as sess:<br>\nnew_saver = tf.train.import_meta_graph(<br>\n'/home/smn/cifar10_model/model.ckpt-3907.meta')</p>\n<p>[Trackback:]</p>\n<p>runfile('/home/smn/project/code/test2.py', wdir='/home/smn/project/code')<br>\nTraceback (most recent call last):</p>\n<p>File \"\", line 1, in <br>\nrunfile('/home/smn/project/code/test2.py', wdir='/home/smn/project/code')</p>\n<p>File \"/home/smn/tensorflow/lib/python3.5/site-packages/spyder_kernels/customize/spydercustomize.py\", line 678, in runfile<br>\nexecfile(filename, namespace)</p>\n<p>File \"/home/smn/tensorflow/lib/python3.5/site-packages/spyder_kernels/customize/spydercustomize.py\", line 106, in execfile<br>\nexec(compile(f.read(), filename, 'exec'), namespace)</p>\n<p>File \"/home/smn/project/code/test2.py\", line 4, in <br>\n'/home/smn/cifar10_model/model.ckpt-3907.meta')</p>\n<p>File \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/training/saver.py\", line 1955, in import_meta_graph<br>\n**kwargs)</p>\n<p>File \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/meta_graph.py\", line 743, in import_scoped_meta_graph<br>\nproducer_op_list=producer_op_list)</p>\n<p>File \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/util/deprecation.py\", line 432, in new_func<br>\nreturn func(*args, **kwargs)</p>\n<p>File \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/importer.py\", line 460, in import_graph_def<br>\n_RemoveDefaultAttrs(op_dict, producer_op_list, graph_def)</p>\n<p>File \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/importer.py\", line 227, in _RemoveDefaultAttrs<br>\nop_def = op_dict[node.op]</p>\n<p>KeyError: 'IteratorGetDevice'</p>", "body_text": "System information\nubuntu 16.04LTS\nprotobuf                      3.6.0\ntensorflow                    1.8.0\nand I'm using Python 3.5\nDescribe the problem\nI got a [KeyError: 'IteratorGetDevice'] when using [tf.train.import_meta_graph] to import a [tensorflow official resnet model](the model is trained using the source code online).\nSource code / logs\n[Code:]\nimport tensorflow as tf\nwith tf.Session() as sess:\nnew_saver = tf.train.import_meta_graph(\n'/home/smn/cifar10_model/model.ckpt-3907.meta')\n[Trackback:]\nrunfile('/home/smn/project/code/test2.py', wdir='/home/smn/project/code')\nTraceback (most recent call last):\nFile \"\", line 1, in \nrunfile('/home/smn/project/code/test2.py', wdir='/home/smn/project/code')\nFile \"/home/smn/tensorflow/lib/python3.5/site-packages/spyder_kernels/customize/spydercustomize.py\", line 678, in runfile\nexecfile(filename, namespace)\nFile \"/home/smn/tensorflow/lib/python3.5/site-packages/spyder_kernels/customize/spydercustomize.py\", line 106, in execfile\nexec(compile(f.read(), filename, 'exec'), namespace)\nFile \"/home/smn/project/code/test2.py\", line 4, in \n'/home/smn/cifar10_model/model.ckpt-3907.meta')\nFile \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/training/saver.py\", line 1955, in import_meta_graph\n**kwargs)\nFile \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/meta_graph.py\", line 743, in import_scoped_meta_graph\nproducer_op_list=producer_op_list)\nFile \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/util/deprecation.py\", line 432, in new_func\nreturn func(*args, **kwargs)\nFile \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/importer.py\", line 460, in import_graph_def\n_RemoveDefaultAttrs(op_dict, producer_op_list, graph_def)\nFile \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/importer.py\", line 227, in _RemoveDefaultAttrs\nop_def = op_dict[node.op]\nKeyError: 'IteratorGetDevice'", "body": "------------------------\r\n\r\n### System information\r\nubuntu 16.04LTS   \r\nprotobuf                      3.6.0                 \r\ntensorflow                    1.8.0\r\nand I'm using Python 3.5\r\n\r\n### Describe the problem\r\nI got a [KeyError: 'IteratorGetDevice'] when using [tf.train.import_meta_graph] to import a [tensorflow official resnet model](the model is trained using the source code online).\r\n\r\n### Source code / logs\r\n\r\n[Code:]\r\n\r\nimport tensorflow as tf\r\nwith tf.Session() as sess:\r\n  new_saver = tf.train.import_meta_graph(\r\n          '/home/smn/cifar10_model/model.ckpt-3907.meta')\r\n\r\n[Trackback:]\r\n\r\nrunfile('/home/smn/project/code/test2.py', wdir='/home/smn/project/code')\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-15-af704926d7fa>\", line 1, in <module>\r\n    runfile('/home/smn/project/code/test2.py', wdir='/home/smn/project/code')\r\n\r\n  File \"/home/smn/tensorflow/lib/python3.5/site-packages/spyder_kernels/customize/spydercustomize.py\", line 678, in runfile\r\n    execfile(filename, namespace)\r\n\r\n  File \"/home/smn/tensorflow/lib/python3.5/site-packages/spyder_kernels/customize/spydercustomize.py\", line 106, in execfile\r\n    exec(compile(f.read(), filename, 'exec'), namespace)\r\n\r\n  File \"/home/smn/project/code/test2.py\", line 4, in <module>\r\n    '/home/smn/cifar10_model/model.ckpt-3907.meta')\r\n\r\n  File \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/training/saver.py\", line 1955, in import_meta_graph\r\n    **kwargs)\r\n\r\n  File \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/meta_graph.py\", line 743, in import_scoped_meta_graph\r\n    producer_op_list=producer_op_list)\r\n\r\n  File \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/util/deprecation.py\", line 432, in new_func\r\n    return func(*args, **kwargs)\r\n\r\n  File \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/importer.py\", line 460, in import_graph_def\r\n    _RemoveDefaultAttrs(op_dict, producer_op_list, graph_def)\r\n\r\n  File \"/home/smn/tensorflow/lib/python3.5/site-packages/tensorflow/python/framework/importer.py\", line 227, in _RemoveDefaultAttrs\r\n    op_def = op_dict[node.op]\r\n\r\nKeyError: 'IteratorGetDevice'"}