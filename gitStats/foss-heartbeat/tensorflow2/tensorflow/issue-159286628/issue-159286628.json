{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2742", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2742/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2742/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2742/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2742", "id": 159286628, "node_id": "MDU6SXNzdWUxNTkyODY2Mjg=", "number": 2742, "title": "Ubuntu 16.04 Makefile build", "user": {"login": "kingtaurus", "id": 2761482, "node_id": "MDQ6VXNlcjI3NjE0ODI=", "avatar_url": "https://avatars1.githubusercontent.com/u/2761482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kingtaurus", "html_url": "https://github.com/kingtaurus", "followers_url": "https://api.github.com/users/kingtaurus/followers", "following_url": "https://api.github.com/users/kingtaurus/following{/other_user}", "gists_url": "https://api.github.com/users/kingtaurus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kingtaurus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kingtaurus/subscriptions", "organizations_url": "https://api.github.com/users/kingtaurus/orgs", "repos_url": "https://api.github.com/users/kingtaurus/repos", "events_url": "https://api.github.com/users/kingtaurus/events{/privacy}", "received_events_url": "https://api.github.com/users/kingtaurus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-06-08T22:13:17Z", "updated_at": "2016-06-09T17:21:03Z", "closed_at": "2016-06-09T17:21:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I was attempting to use the Makefile to test build the library on my Ubuntu system (bazel builds to completion).</p>\n<pre><code>uname -a -m\nLinux gking-ml-vm 4.4.0-21-generic #37-Ubuntu SMP Mon Apr 18 18:33:37 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n</code></pre>\n<h3>Environment info</h3>\n<p>Operating System:</p>\n<pre><code>lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 16.04 LTS\nRelease:    16.04\nCodename:   xenial\n</code></pre>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<pre><code>ls -l /path/to/cuda/lib/libcud*\nls: cannot access '/path/to/cuda/lib/libcud*': No such file or directory\n</code></pre>\n<p>If installed from sources, provide the commit hash:</p>\n<pre><code>git show\ncommit 6431560b7ec3565154cb9cdc9c827db78ccfebe7\nMerge: a0085c8 b7c4169\nAuthor: Vijay Vasudevan &lt;vrv@google.com&gt;\nDate:   Tue Jun 7 11:32:10 2016 -0700\n\n    Merge pull request #2710 from vrv/branch_124251558\n\n    Branch 124251558\n</code></pre>\n<h3>Steps to reproduce</h3>\n<p>1.)  <code>bash tensorflow/contrib/makefile/download_dependencies.sh</code><br>\n2.) <code>make -f tensorflow/contrib/makefile/Makefile all</code><br>\n<strong>Fails here</strong>: because protoc installed for Ubuntu 16.04 is <code>2.6.1</code>;</p>\n<pre><code>make -f tensorflow/contrib/makefile/Makefile all\nprotoc  tensorflow/core/util/test_log.proto --cpp_out /home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/proto/\ntensorflow/core/util/test_log.proto:2:10: Unrecognized syntax identifier \"proto3\".  This parser only recognizes \"proto2\".\ntensorflow/contrib/makefile/Makefile:325: recipe for target '/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/proto/tensorflow/core/util/test_log.pb.cc' failed\nmake: *** [/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/proto/tensorflow/core/util/test_log.pb.cc] Error 1\n</code></pre>\n<p>3.) Even with an updated <code>protoc</code> build fails again:</p>\n<pre><code>gcc --std=c++11 -I/usr/local/include -I. -I/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/downloads/ -I/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/downloads/eigen-eigen-d02e6a705c30 -I/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/ -c tensorflow/core/lib/strings/strcat.cc -o /home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/tensorflow/core/lib/strings/strcat.o\nIn file included from tensorflow/core/lib/strings/strcat.cc:23:0:\n./third_party/eigen3/Eigen/Core:1:47: fatal error: eigen-eigen-0c0b79ecd74c/Eigen/Core: No such file or directory\ncompilation terminated.\ntensorflow/contrib/makefile/Makefile:350: recipe for target '/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/tensorflow/core/lib/strings/strcat.o' failed\nmake: *** [/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/tensorflow/core/lib/strings/strcat.o] Error 1\n</code></pre>\n<h3>What have you tried?</h3>\n<ol>\n<li>Built a new version of <code>protoc</code>:</li>\n</ol>\n<p><strong>What I did (note the dependencies given to fpm aren't correct);</strong>:</p>\n<pre><code>wget https://github.com/google/protobuf/archive/v3.0.0-beta-3.tar.gz\ntar xvzf v3.0.0-beta-3.tar.gz\ncd protobuf-3.0.0-beta-3\n./autogen.sh\n./configure --prefix=/usr\nmake all\nmake ctags\nmake check\nmake install DESTDIR=/tmp/installdir\nfpm -s dir -t deb -p protobufc_3.0.0-beta3_amd64.deb -n protobufc -v 3.0.0-beta3 -d \"libgcc1 &gt;= 1:4.1.1\" -d \"libstdc++6 &gt;= 5.2\" -C /tmp/installdir usr/bin usr/lib usr/include\n</code></pre>\n<p>After purging <code>protobuf-compiler</code> and other related packages I installed the new <code>fpm</code> built package (<code>sudo dpkg --install protobufc_3.0.0-beta3_amd64.deb</code>)</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment).</p>\n<p><strong>EDIT:</strong> Added some additional details.</p>", "body_text": "I was attempting to use the Makefile to test build the library on my Ubuntu system (bazel builds to completion).\nuname -a -m\nLinux gking-ml-vm 4.4.0-21-generic #37-Ubuntu SMP Mon Apr 18 18:33:37 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n\nEnvironment info\nOperating System:\nlsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 16.04 LTS\nRelease:    16.04\nCodename:   xenial\n\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nls -l /path/to/cuda/lib/libcud*\nls: cannot access '/path/to/cuda/lib/libcud*': No such file or directory\n\nIf installed from sources, provide the commit hash:\ngit show\ncommit 6431560b7ec3565154cb9cdc9c827db78ccfebe7\nMerge: a0085c8 b7c4169\nAuthor: Vijay Vasudevan <vrv@google.com>\nDate:   Tue Jun 7 11:32:10 2016 -0700\n\n    Merge pull request #2710 from vrv/branch_124251558\n\n    Branch 124251558\n\nSteps to reproduce\n1.)  bash tensorflow/contrib/makefile/download_dependencies.sh\n2.) make -f tensorflow/contrib/makefile/Makefile all\nFails here: because protoc installed for Ubuntu 16.04 is 2.6.1;\nmake -f tensorflow/contrib/makefile/Makefile all\nprotoc  tensorflow/core/util/test_log.proto --cpp_out /home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/proto/\ntensorflow/core/util/test_log.proto:2:10: Unrecognized syntax identifier \"proto3\".  This parser only recognizes \"proto2\".\ntensorflow/contrib/makefile/Makefile:325: recipe for target '/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/proto/tensorflow/core/util/test_log.pb.cc' failed\nmake: *** [/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/proto/tensorflow/core/util/test_log.pb.cc] Error 1\n\n3.) Even with an updated protoc build fails again:\ngcc --std=c++11 -I/usr/local/include -I. -I/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/downloads/ -I/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/downloads/eigen-eigen-d02e6a705c30 -I/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/ -c tensorflow/core/lib/strings/strcat.cc -o /home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/tensorflow/core/lib/strings/strcat.o\nIn file included from tensorflow/core/lib/strings/strcat.cc:23:0:\n./third_party/eigen3/Eigen/Core:1:47: fatal error: eigen-eigen-0c0b79ecd74c/Eigen/Core: No such file or directory\ncompilation terminated.\ntensorflow/contrib/makefile/Makefile:350: recipe for target '/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/tensorflow/core/lib/strings/strcat.o' failed\nmake: *** [/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/tensorflow/core/lib/strings/strcat.o] Error 1\n\nWhat have you tried?\n\nBuilt a new version of protoc:\n\nWhat I did (note the dependencies given to fpm aren't correct);:\nwget https://github.com/google/protobuf/archive/v3.0.0-beta-3.tar.gz\ntar xvzf v3.0.0-beta-3.tar.gz\ncd protobuf-3.0.0-beta-3\n./autogen.sh\n./configure --prefix=/usr\nmake all\nmake ctags\nmake check\nmake install DESTDIR=/tmp/installdir\nfpm -s dir -t deb -p protobufc_3.0.0-beta3_amd64.deb -n protobufc -v 3.0.0-beta3 -d \"libgcc1 >= 1:4.1.1\" -d \"libstdc++6 >= 5.2\" -C /tmp/installdir usr/bin usr/lib usr/include\n\nAfter purging protobuf-compiler and other related packages I installed the new fpm built package (sudo dpkg --install protobufc_3.0.0-beta3_amd64.deb)\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment).\nEDIT: Added some additional details.", "body": "I was attempting to use the Makefile to test build the library on my Ubuntu system (bazel builds to completion).\n\n```\nuname -a -m\nLinux gking-ml-vm 4.4.0-21-generic #37-Ubuntu SMP Mon Apr 18 18:33:37 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n```\n### Environment info\n\nOperating System:\n\n```\nlsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 16.04 LTS\nRelease:    16.04\nCodename:   xenial\n```\n\nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\n```\nls -l /path/to/cuda/lib/libcud*\nls: cannot access '/path/to/cuda/lib/libcud*': No such file or directory\n```\n\nIf installed from sources, provide the commit hash:\n\n```\ngit show\ncommit 6431560b7ec3565154cb9cdc9c827db78ccfebe7\nMerge: a0085c8 b7c4169\nAuthor: Vijay Vasudevan <vrv@google.com>\nDate:   Tue Jun 7 11:32:10 2016 -0700\n\n    Merge pull request #2710 from vrv/branch_124251558\n\n    Branch 124251558\n```\n### Steps to reproduce\n\n1.)  `bash tensorflow/contrib/makefile/download_dependencies.sh`\n2.) `make -f tensorflow/contrib/makefile/Makefile all`\n**Fails here**: because protoc installed for Ubuntu 16.04 is `2.6.1`;\n\n```\nmake -f tensorflow/contrib/makefile/Makefile all\nprotoc  tensorflow/core/util/test_log.proto --cpp_out /home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/proto/\ntensorflow/core/util/test_log.proto:2:10: Unrecognized syntax identifier \"proto3\".  This parser only recognizes \"proto2\".\ntensorflow/contrib/makefile/Makefile:325: recipe for target '/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/proto/tensorflow/core/util/test_log.pb.cc' failed\nmake: *** [/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/proto/tensorflow/core/util/test_log.pb.cc] Error 1\n```\n\n3.) Even with an updated `protoc` build fails again:\n\n```\ngcc --std=c++11 -I/usr/local/include -I. -I/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/downloads/ -I/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/downloads/eigen-eigen-d02e6a705c30 -I/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/ -c tensorflow/core/lib/strings/strcat.cc -o /home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/tensorflow/core/lib/strings/strcat.o\nIn file included from tensorflow/core/lib/strings/strcat.cc:23:0:\n./third_party/eigen3/Eigen/Core:1:47: fatal error: eigen-eigen-0c0b79ecd74c/Eigen/Core: No such file or directory\ncompilation terminated.\ntensorflow/contrib/makefile/Makefile:350: recipe for target '/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/tensorflow/core/lib/strings/strcat.o' failed\nmake: *** [/home/gking/Programming/tensorflow/tensorflow/contrib/makefile/gen/host_obj/tensorflow/core/lib/strings/strcat.o] Error 1\n```\n### What have you tried?\n1. Built a new version of `protoc`:\n\n**What I did (note the dependencies given to fpm aren't correct);**:\n\n```\nwget https://github.com/google/protobuf/archive/v3.0.0-beta-3.tar.gz\ntar xvzf v3.0.0-beta-3.tar.gz\ncd protobuf-3.0.0-beta-3\n./autogen.sh\n./configure --prefix=/usr\nmake all\nmake ctags\nmake check\nmake install DESTDIR=/tmp/installdir\nfpm -s dir -t deb -p protobufc_3.0.0-beta3_amd64.deb -n protobufc -v 3.0.0-beta3 -d \"libgcc1 >= 1:4.1.1\" -d \"libstdc++6 >= 5.2\" -C /tmp/installdir usr/bin usr/lib usr/include\n```\n\nAfter purging `protobuf-compiler` and other related packages I installed the new `fpm` built package (`sudo dpkg --install protobufc_3.0.0-beta3_amd64.deb`)\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment).\n\n**EDIT:** Added some additional details.\n"}