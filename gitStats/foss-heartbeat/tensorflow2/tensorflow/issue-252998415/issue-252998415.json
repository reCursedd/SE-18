{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12605", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12605/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12605/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12605/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12605", "id": 252998415, "node_id": "MDU6SXNzdWUyNTI5OTg0MTU=", "number": 12605, "title": "Impossible to change variable inside checkpoint", "user": {"login": "dimaxano", "id": 14369906, "node_id": "MDQ6VXNlcjE0MzY5OTA2", "avatar_url": "https://avatars0.githubusercontent.com/u/14369906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimaxano", "html_url": "https://github.com/dimaxano", "followers_url": "https://api.github.com/users/dimaxano/followers", "following_url": "https://api.github.com/users/dimaxano/following{/other_user}", "gists_url": "https://api.github.com/users/dimaxano/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimaxano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimaxano/subscriptions", "organizations_url": "https://api.github.com/users/dimaxano/orgs", "repos_url": "https://api.github.com/users/dimaxano/repos", "events_url": "https://api.github.com/users/dimaxano/events{/privacy}", "received_events_url": "https://api.github.com/users/dimaxano/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-25T19:35:16Z", "updated_at": "2017-08-25T20:02:59Z", "closed_at": "2017-08-25T19:52:33Z", "author_association": "NONE", "body_html": "<p>I have a checkpoint file and I want to change (increase) shapes of some Variables from this checkpoint.<br>\nIt seems to be impossible using tf.assign<br>\nTried to use <code>tf.assign()</code>:</p>\n<pre><code>`for var in tf.global_variables():\n     if var.name == \"22-convolutional/biases:0\":\n         assign = tf.assign(var, a, validate_shape=False)\n         sess.run(assign)`\n</code></pre>\n<p>And then, when I am trying to execute</p>\n<p><code>sess.run(tf.global_variables_initializer())</code></p>\n<p>I have an error</p>\n<p><code>Assign requires shapes of both tensors to match. lhs shape= [1,1,1024,60] rhs shape= [1,1,1024,55] [[Node: 22-convolutional/kernel/Adam_1/Assign = Assign[T=DT_FLOAT,  _class=[\"loc:@22-convolutional/kernel\"], use_locking=true, validate_shape=true,  _device=\"/job:localhost/replica:0/task:0/cpu:0\"](22-convolutional/kernel/Adam_1, zeros_51)]]</code></p>\n<p>So, is it really impossible in TF? Could it be a feature request?</p>", "body_text": "I have a checkpoint file and I want to change (increase) shapes of some Variables from this checkpoint.\nIt seems to be impossible using tf.assign\nTried to use tf.assign():\n`for var in tf.global_variables():\n     if var.name == \"22-convolutional/biases:0\":\n         assign = tf.assign(var, a, validate_shape=False)\n         sess.run(assign)`\n\nAnd then, when I am trying to execute\nsess.run(tf.global_variables_initializer())\nI have an error\nAssign requires shapes of both tensors to match. lhs shape= [1,1,1024,60] rhs shape= [1,1,1024,55] [[Node: 22-convolutional/kernel/Adam_1/Assign = Assign[T=DT_FLOAT,  _class=[\"loc:@22-convolutional/kernel\"], use_locking=true, validate_shape=true,  _device=\"/job:localhost/replica:0/task:0/cpu:0\"](22-convolutional/kernel/Adam_1, zeros_51)]]\nSo, is it really impossible in TF? Could it be a feature request?", "body": "I have a checkpoint file and I want to change (increase) shapes of some Variables from this checkpoint.\r\nIt seems to be impossible using tf.assign \r\nTried to use `tf.assign()`:\r\n\r\n    `for var in tf.global_variables():\r\n         if var.name == \"22-convolutional/biases:0\":\r\n             assign = tf.assign(var, a, validate_shape=False)\r\n             sess.run(assign)`\r\n\r\nAnd then, when I am trying to execute \r\n\r\n`sess.run(tf.global_variables_initializer())`\r\n\r\nI have an error\r\n\r\n`Assign requires shapes of both tensors to match. lhs shape= [1,1,1024,60] rhs shape= [1,1,1024,55]\r\n[[Node: 22-convolutional/kernel/Adam_1/Assign = Assign[T=DT_FLOAT, \r\n_class=[\"loc:@22-convolutional/kernel\"], use_locking=true, validate_shape=true, \r\n_device=\"/job:localhost/replica:0/task:0/cpu:0\"](22-convolutional/kernel/Adam_1, zeros_51)]]`\r\n\r\nSo, is it really impossible in TF? Could it be a feature request?"}