{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3534", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3534/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3534/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3534/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3534", "id": 167920221, "node_id": "MDU6SXNzdWUxNjc5MjAyMjE=", "number": 3534, "title": "Document exceptions to broadcasting semantics ", "user": {"login": "rueberger", "id": 8816362, "node_id": "MDQ6VXNlcjg4MTYzNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8816362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rueberger", "html_url": "https://github.com/rueberger", "followers_url": "https://api.github.com/users/rueberger/followers", "following_url": "https://api.github.com/users/rueberger/following{/other_user}", "gists_url": "https://api.github.com/users/rueberger/gists{/gist_id}", "starred_url": "https://api.github.com/users/rueberger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rueberger/subscriptions", "organizations_url": "https://api.github.com/users/rueberger/orgs", "repos_url": "https://api.github.com/users/rueberger/repos", "events_url": "https://api.github.com/users/rueberger/events{/privacy}", "received_events_url": "https://api.github.com/users/rueberger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-07-27T18:14:38Z", "updated_at": "2016-07-27T20:15:51Z", "closed_at": "2016-07-27T20:15:51Z", "author_association": "NONE", "body_html": "<h2>Environment info</h2>\n<p>Operating System: Ubuntu 14.04, OSX 10.11</p>\n<p>Installed from <code>1b7b7703c8449769ba1cfb7553494c9b472925d7</code></p>\n<p>Output of <code>bazel version</code>:</p>\n<pre><code>Build label: 0.3.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jun 10 11:38:23 2016 (1465558703)\nBuild timestamp: 1465558703\nBuild timestamp as int: 1465558703\n</code></pre>\n<h3>Steps to reproduce</h3>\n<p>Running this script:</p>\n<pre><code>import tensorflow as tf\n\nshape_1 = (50, 1, 20, 10)\nshape_2 = (50, 30, 20, 1)\n\nA = tf.Variable(tf.random_normal(shape_1))\nB = tf.Variable(tf.random_normal(shape_2))\n\nwith tf.Session() as S:\n    S.run(tf.initialize_all_variables())\n    C = S.run(A+B)\n</code></pre>\n<p>produces</p>\n<p><code>UnimplementedError: Broadcast between [50,1,20,10] and [50,30,20,1] is not supported yet.</code></p>\n<h3>What did you try?</h3>\n<p>Moving the broadcast dimensions to the results in success</p>\n<pre><code>shape_1 = (50, 20, 10, 1)\nshape_2 = (50, 30, 1, 20)\n</code></pre>\n<p>The following also works</p>\n<pre><code>shape_1 = (1, 1, 20, 10)\nshape_2 = (1, 30, 20, 1)\n</code></pre>\n<p>as does</p>\n<pre><code>shape_1 = (1, 20, 10)\nshape_2 = (30, 20, 1)\n</code></pre>\n<h3>Discussion</h3>\n<p>I am aware of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"122086883\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/508\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/508/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/508\">#508</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"141083311\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1519\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1519/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1519\">#1519</a> however this does not appear to be covered by <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"141083311\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1519\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1519/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1519\">#1519</a>. It would be very nice if the exceptions to normal numpy broadcasting rules were documented somewhere.</p>\n<p>A tentative list would include</p>\n<ul>\n<li>number of broadcasting dimensions limited to 2</li>\n<li>broadcasting dimensions must (sometimes??) be relegated to the last dimensions</li>\n</ul>", "body_text": "Environment info\nOperating System: Ubuntu 14.04, OSX 10.11\nInstalled from 1b7b7703c8449769ba1cfb7553494c9b472925d7\nOutput of bazel version:\nBuild label: 0.3.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jun 10 11:38:23 2016 (1465558703)\nBuild timestamp: 1465558703\nBuild timestamp as int: 1465558703\n\nSteps to reproduce\nRunning this script:\nimport tensorflow as tf\n\nshape_1 = (50, 1, 20, 10)\nshape_2 = (50, 30, 20, 1)\n\nA = tf.Variable(tf.random_normal(shape_1))\nB = tf.Variable(tf.random_normal(shape_2))\n\nwith tf.Session() as S:\n    S.run(tf.initialize_all_variables())\n    C = S.run(A+B)\n\nproduces\nUnimplementedError: Broadcast between [50,1,20,10] and [50,30,20,1] is not supported yet.\nWhat did you try?\nMoving the broadcast dimensions to the results in success\nshape_1 = (50, 20, 10, 1)\nshape_2 = (50, 30, 1, 20)\n\nThe following also works\nshape_1 = (1, 1, 20, 10)\nshape_2 = (1, 30, 20, 1)\n\nas does\nshape_1 = (1, 20, 10)\nshape_2 = (30, 20, 1)\n\nDiscussion\nI am aware of #508 and #1519 however this does not appear to be covered by #1519. It would be very nice if the exceptions to normal numpy broadcasting rules were documented somewhere.\nA tentative list would include\n\nnumber of broadcasting dimensions limited to 2\nbroadcasting dimensions must (sometimes??) be relegated to the last dimensions", "body": "## Environment info\n\nOperating System: Ubuntu 14.04, OSX 10.11\n\nInstalled from `1b7b7703c8449769ba1cfb7553494c9b472925d7`\n\nOutput of `bazel version`:\n\n```\nBuild label: 0.3.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jun 10 11:38:23 2016 (1465558703)\nBuild timestamp: 1465558703\nBuild timestamp as int: 1465558703\n```\n### Steps to reproduce\n\nRunning this script:\n\n```\nimport tensorflow as tf\n\nshape_1 = (50, 1, 20, 10)\nshape_2 = (50, 30, 20, 1)\n\nA = tf.Variable(tf.random_normal(shape_1))\nB = tf.Variable(tf.random_normal(shape_2))\n\nwith tf.Session() as S:\n    S.run(tf.initialize_all_variables())\n    C = S.run(A+B)\n```\n\nproduces\n\n`UnimplementedError: Broadcast between [50,1,20,10] and [50,30,20,1] is not supported yet.`\n### What did you try?\n\nMoving the broadcast dimensions to the results in success\n\n```\nshape_1 = (50, 20, 10, 1)\nshape_2 = (50, 30, 1, 20)\n```\n\nThe following also works\n\n```\nshape_1 = (1, 1, 20, 10)\nshape_2 = (1, 30, 20, 1)\n```\n\nas does\n\n```\nshape_1 = (1, 20, 10)\nshape_2 = (30, 20, 1)\n```\n### Discussion\n\nI am aware of #508 and #1519 however this does not appear to be covered by #1519. It would be very nice if the exceptions to normal numpy broadcasting rules were documented somewhere. \n\nA tentative list would include\n- number of broadcasting dimensions limited to 2\n- broadcasting dimensions must (sometimes??) be relegated to the last dimensions\n"}