{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/378778148", "html_url": "https://github.com/tensorflow/tensorflow/issues/3340#issuecomment-378778148", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3340", "id": 378778148, "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODc3ODE0OA==", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-04T23:38:48Z", "updated_at": "2018-04-04T23:38:48Z", "author_association": "MEMBER", "body_html": "<div class=\"email-fragment\">Assuming you have the following code (or something like it):\n\n...\nestimator = DNNClassifier(model_dir=/path/to/files, ...)\ntf.train_and_evaluate(estimator, ...)\n\nyou can use it on a new dataset using\n\nestimator = DNNClassifier(model_dir=/path/to/files, ...)\nresult = estimator.predict(input_fn=new_dataset_input_fn)\n\nas long as you point it to the same directory, and you use the same\nconstructor arguments, the resulting Estimator will be what you want.\n\nFrom here, you can also take a look at contrib/predictor which makes it\nmore convenient to run inference.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Wed, Apr 4, 2018 at 12:27 PM JackKZ ***@***.***&gt; wrote:\n Does anyone know how to restore a trained DNNclassifier and use it on a\n new data set please? I tried this\n\n `x={\"x\": np.array(test_set.data)}\n\n with tf.Session() as sess:\n saver = tf.train.import_meta_graph(base_dir+\"Neural Net Final\n Dictionary/tmp checkpoints/\"+'model.ckpt-5000.meta')\n saver.restore(sess,tf.train.latest_checkpoint(base_dir+\"Neural Net Final\n Dictionary/tmp checkpoints/\"))\n graph = tf.get_default_graph()\n sess.run(graph,feed_dict={'x:0':np.array(test_set.data)})\n `\n\n I got the error saying\n\n TypeError: Cannot interpret feed_dict key as Tensor: The name 'x:0' refers\n to a Tensor which does not exist. The operation, 'x', does not exist in the\n graph.\u201d\n\n Does anyone know what's wrong here?\n\n Thanks!\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"165914098\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/3340\" href=\"https://github.com/tensorflow/tensorflow/issues/3340#issuecomment-378716437\">#3340 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AAjO_bfKh4DzChN6vFYKpA-6zmDbkzvDks5tlR6YgaJpZM4JN8cS\">https://github.com/notifications/unsubscribe-auth/AAjO_bfKh4DzChN6vFYKpA-6zmDbkzvDks5tlR6YgaJpZM4JN8cS</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "Assuming you have the following code (or something like it):\n\n...\nestimator = DNNClassifier(model_dir=/path/to/files, ...)\ntf.train_and_evaluate(estimator, ...)\n\nyou can use it on a new dataset using\n\nestimator = DNNClassifier(model_dir=/path/to/files, ...)\nresult = estimator.predict(input_fn=new_dataset_input_fn)\n\nas long as you point it to the same directory, and you use the same\nconstructor arguments, the resulting Estimator will be what you want.\n\nFrom here, you can also take a look at contrib/predictor which makes it\nmore convenient to run inference.\n\u2026\nOn Wed, Apr 4, 2018 at 12:27 PM JackKZ ***@***.***> wrote:\n Does anyone know how to restore a trained DNNclassifier and use it on a\n new data set please? I tried this\n\n `x={\"x\": np.array(test_set.data)}\n\n with tf.Session() as sess:\n saver = tf.train.import_meta_graph(base_dir+\"Neural Net Final\n Dictionary/tmp checkpoints/\"+'model.ckpt-5000.meta')\n saver.restore(sess,tf.train.latest_checkpoint(base_dir+\"Neural Net Final\n Dictionary/tmp checkpoints/\"))\n graph = tf.get_default_graph()\n sess.run(graph,feed_dict={'x:0':np.array(test_set.data)})\n `\n\n I got the error saying\n\n TypeError: Cannot interpret feed_dict key as Tensor: The name 'x:0' refers\n to a Tensor which does not exist. The operation, 'x', does not exist in the\n graph.\u201d\n\n Does anyone know what's wrong here?\n\n Thanks!\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#3340 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/AAjO_bfKh4DzChN6vFYKpA-6zmDbkzvDks5tlR6YgaJpZM4JN8cS>\n .", "body": "Assuming you have the following code (or something like it):\n\n...\nestimator = DNNClassifier(model_dir=/path/to/files, ...)\ntf.train_and_evaluate(estimator, ...)\n\nyou can use it on a new dataset using\n\nestimator = DNNClassifier(model_dir=/path/to/files, ...)\nresult = estimator.predict(input_fn=new_dataset_input_fn)\n\nas long as you point it to the same directory, and you use the same\nconstructor arguments, the resulting Estimator will be what you want.\n\nFrom here, you can also take a look at contrib/predictor which makes it\nmore convenient to run inference.\n\nOn Wed, Apr 4, 2018 at 12:27 PM JackKZ <notifications@github.com> wrote:\n\n> Does anyone know how to restore a trained DNNclassifier and use it on a\n> new data set please? I tried this\n>\n> `x={\"x\": np.array(test_set.data)}\n>\n> with tf.Session() as sess:\n> saver = tf.train.import_meta_graph(base_dir+\"Neural Net Final\n> Dictionary/tmp checkpoints/\"+'model.ckpt-5000.meta')\n> saver.restore(sess,tf.train.latest_checkpoint(base_dir+\"Neural Net Final\n> Dictionary/tmp checkpoints/\"))\n> graph = tf.get_default_graph()\n> sess.run(graph,feed_dict={'x:0':np.array(test_set.data)})\n> `\n>\n> I got the error saying\n>\n> TypeError: Cannot interpret feed_dict key as Tensor: The name 'x:0' refers\n> to a Tensor which does not exist. The operation, 'x', does not exist in the\n> graph.\u201d\n>\n> Does anyone know what's wrong here?\n>\n> Thanks!\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/3340#issuecomment-378716437>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAjO_bfKh4DzChN6vFYKpA-6zmDbkzvDks5tlR6YgaJpZM4JN8cS>\n> .\n>\n"}