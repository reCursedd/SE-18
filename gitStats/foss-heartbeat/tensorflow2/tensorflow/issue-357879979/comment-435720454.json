{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/435720454", "html_url": "https://github.com/tensorflow/tensorflow/issues/22130#issuecomment-435720454", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22130", "id": 435720454, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTcyMDQ1NA==", "user": {"login": "Keno", "id": 1291671, "node_id": "MDQ6VXNlcjEyOTE2NzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1291671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keno", "html_url": "https://github.com/Keno", "followers_url": "https://api.github.com/users/Keno/followers", "following_url": "https://api.github.com/users/Keno/following{/other_user}", "gists_url": "https://api.github.com/users/Keno/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keno/subscriptions", "organizations_url": "https://api.github.com/users/Keno/orgs", "repos_url": "https://api.github.com/users/Keno/repos", "events_url": "https://api.github.com/users/Keno/events{/privacy}", "received_events_url": "https://api.github.com/users/Keno/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-04T23:50:29Z", "updated_at": "2018-11-04T23:50:29Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Next one. I (accidentally) tried to compile the following against TPUs and the remote crashed:</p>\n<pre><code>HloModule test\n\nENTRY comp {\n  comp0_after-all11 = token[] after-all()\n  ROOT comp0_infeed12 = ((f32[10,10]{0,1}), token[]) infeed(comp0_after-all11)\n}\n</code></pre>\n<p>I assume having a token as the return value of the entry computation should be illegal. (Interestingly this doesn't crash the CPU backend).</p>", "body_text": "Next one. I (accidentally) tried to compile the following against TPUs and the remote crashed:\nHloModule test\n\nENTRY comp {\n  comp0_after-all11 = token[] after-all()\n  ROOT comp0_infeed12 = ((f32[10,10]{0,1}), token[]) infeed(comp0_after-all11)\n}\n\nI assume having a token as the return value of the entry computation should be illegal. (Interestingly this doesn't crash the CPU backend).", "body": "Next one. I (accidentally) tried to compile the following against TPUs and the remote crashed:\r\n```\r\nHloModule test\r\n\r\nENTRY comp {\r\n  comp0_after-all11 = token[] after-all()\r\n  ROOT comp0_infeed12 = ((f32[10,10]{0,1}), token[]) infeed(comp0_after-all11)\r\n}\r\n```\r\nI assume having a token as the return value of the entry computation should be illegal. (Interestingly this doesn't crash the CPU backend)."}