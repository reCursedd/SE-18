{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/224209916", "html_url": "https://github.com/tensorflow/tensorflow/issues/2687#issuecomment-224209916", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2687", "id": 224209916, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDIwOTkxNg==", "user": {"login": "samfux84", "id": 11944875, "node_id": "MDQ6VXNlcjExOTQ0ODc1", "avatar_url": "https://avatars0.githubusercontent.com/u/11944875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samfux84", "html_url": "https://github.com/samfux84", "followers_url": "https://api.github.com/users/samfux84/followers", "following_url": "https://api.github.com/users/samfux84/following{/other_user}", "gists_url": "https://api.github.com/users/samfux84/gists{/gist_id}", "starred_url": "https://api.github.com/users/samfux84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samfux84/subscriptions", "organizations_url": "https://api.github.com/users/samfux84/orgs", "repos_url": "https://api.github.com/users/samfux84/repos", "events_url": "https://api.github.com/users/samfux84/events{/privacy}", "received_events_url": "https://api.github.com/users/samfux84/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-07T08:09:46Z", "updated_at": "2016-06-07T08:09:46Z", "author_association": "NONE", "body_html": "<p>Hi, I tried it with \"build --host_force_python=py3\" but I still got the same error:</p>\n<pre><code>ERROR: /scratch/20862915.tmpdir/tensorflow/tensorflow/contrib/session_bundle/example/BUILD:38:1: Executing genrule //tensorflow/contrib/session_bundle/example:half_plus_two failed: bash failed: error executing command \n  (cd /cluster/home/sfux/.cache/bazel/_bazel_sfux/e9a2c00193dcd23b9b6bcd416bfa6b80/execroot/tensorflow &amp;&amp; \\\n  exec env - \\\n    PATH=/cluster/apps/python/3.3.3/x86_64/bin:/cluster/apps/swig/3.0.5/x86_64/bin:/cluster/apps/bazel/output:/cluster/apps/java/1.8.0_91/x86_64/bin:/cluster/apps/lsf/9.1/linux2.6-glibc2.3-x86_64/etc:/cluster/apps/lsf/9.1/linux2.6-glibc2.3-x86_64/bin:/cluster/apps/modules/bin:/cluster/apps/gcc/4.8.2/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/ibutils/bin:/cluster/home/sfux/bin:/cluster/apps/ansys/v150/fluent/license/lnamd64:/cluster/apps/adm:/cluster/home/sfux/shellscript:/cluster/home/sfux/prog/bash \\\n    TMPDIR=/scratch/20862915.tmpdir \\\n  /bin/bash -c 'source external/bazel_tools/tools/genrule/genrule-setup.sh; rm -rf /tmp/half_plus_two; /cluster/apps/python/3.3.3/x86_64/bin/python bazel-out/host/bin/tensorflow/contrib/session_bundle/example/export_half_plus_two; cp -r /tmp/half_plus_two/* bazel-out/local-py3-opt/genfiles/tensorflow/contrib/session_bundle/example/half_plus_two'): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 127.\n/cluster/apps/python/3.3.3/x86_64/bin/python: error while loading shared libraries: libpython3.3m.so.1.0: cannot open shared object file: No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 395.284s, Critical Path: 186.98s\n[sfux@e1001 tensorflow]$ cat tools/bazel.rc\n# Autogenerated by configure: DO NOT EDIT\nbuild:cuda --crosstool_top=//third_party/gpus/crosstool\nbuild:cuda --define=using_cuda=true --define=using_cuda_nvcc=true\n\nbuild --force_python=py3\nbuild --python3_path=/cluster/apps/python/3.3.3/x86_64/bin/python\nbuild --define=use_fast_cpp_protos=true\nbuild --define=allow_oversize_protos=true\n\nbuild --define PYTHON_BIN_PATH=/cluster/apps/python/3.3.3/x86_64/bin/python\nbuild --host_force_python=py3\ntest --define PYTHON_BIN_PATH=/cluster/apps/python/3.3.3/x86_64/bin/python\ntest --force_python=py3\ntest --host_force_python=py3\nrun --define PYTHON_BIN_PATH=/cluster/apps/python/3.3.3/x86_64/bin/python\n\nbuild --spawn_strategy=standalone\ntest --spawn_strategy=standalone\nrun --spawn_strategy=standalone\n\nbuild --genrule_strategy=standalone\ntest --genrule_strategy=standalone\nrun --genrule_strategy=standalone\n[sfux@e1001 tensorflow]$ \n</code></pre>", "body_text": "Hi, I tried it with \"build --host_force_python=py3\" but I still got the same error:\nERROR: /scratch/20862915.tmpdir/tensorflow/tensorflow/contrib/session_bundle/example/BUILD:38:1: Executing genrule //tensorflow/contrib/session_bundle/example:half_plus_two failed: bash failed: error executing command \n  (cd /cluster/home/sfux/.cache/bazel/_bazel_sfux/e9a2c00193dcd23b9b6bcd416bfa6b80/execroot/tensorflow && \\\n  exec env - \\\n    PATH=/cluster/apps/python/3.3.3/x86_64/bin:/cluster/apps/swig/3.0.5/x86_64/bin:/cluster/apps/bazel/output:/cluster/apps/java/1.8.0_91/x86_64/bin:/cluster/apps/lsf/9.1/linux2.6-glibc2.3-x86_64/etc:/cluster/apps/lsf/9.1/linux2.6-glibc2.3-x86_64/bin:/cluster/apps/modules/bin:/cluster/apps/gcc/4.8.2/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/ibutils/bin:/cluster/home/sfux/bin:/cluster/apps/ansys/v150/fluent/license/lnamd64:/cluster/apps/adm:/cluster/home/sfux/shellscript:/cluster/home/sfux/prog/bash \\\n    TMPDIR=/scratch/20862915.tmpdir \\\n  /bin/bash -c 'source external/bazel_tools/tools/genrule/genrule-setup.sh; rm -rf /tmp/half_plus_two; /cluster/apps/python/3.3.3/x86_64/bin/python bazel-out/host/bin/tensorflow/contrib/session_bundle/example/export_half_plus_two; cp -r /tmp/half_plus_two/* bazel-out/local-py3-opt/genfiles/tensorflow/contrib/session_bundle/example/half_plus_two'): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 127.\n/cluster/apps/python/3.3.3/x86_64/bin/python: error while loading shared libraries: libpython3.3m.so.1.0: cannot open shared object file: No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 395.284s, Critical Path: 186.98s\n[sfux@e1001 tensorflow]$ cat tools/bazel.rc\n# Autogenerated by configure: DO NOT EDIT\nbuild:cuda --crosstool_top=//third_party/gpus/crosstool\nbuild:cuda --define=using_cuda=true --define=using_cuda_nvcc=true\n\nbuild --force_python=py3\nbuild --python3_path=/cluster/apps/python/3.3.3/x86_64/bin/python\nbuild --define=use_fast_cpp_protos=true\nbuild --define=allow_oversize_protos=true\n\nbuild --define PYTHON_BIN_PATH=/cluster/apps/python/3.3.3/x86_64/bin/python\nbuild --host_force_python=py3\ntest --define PYTHON_BIN_PATH=/cluster/apps/python/3.3.3/x86_64/bin/python\ntest --force_python=py3\ntest --host_force_python=py3\nrun --define PYTHON_BIN_PATH=/cluster/apps/python/3.3.3/x86_64/bin/python\n\nbuild --spawn_strategy=standalone\ntest --spawn_strategy=standalone\nrun --spawn_strategy=standalone\n\nbuild --genrule_strategy=standalone\ntest --genrule_strategy=standalone\nrun --genrule_strategy=standalone\n[sfux@e1001 tensorflow]$", "body": "Hi, I tried it with \"build --host_force_python=py3\" but I still got the same error:\n\n```\nERROR: /scratch/20862915.tmpdir/tensorflow/tensorflow/contrib/session_bundle/example/BUILD:38:1: Executing genrule //tensorflow/contrib/session_bundle/example:half_plus_two failed: bash failed: error executing command \n  (cd /cluster/home/sfux/.cache/bazel/_bazel_sfux/e9a2c00193dcd23b9b6bcd416bfa6b80/execroot/tensorflow && \\\n  exec env - \\\n    PATH=/cluster/apps/python/3.3.3/x86_64/bin:/cluster/apps/swig/3.0.5/x86_64/bin:/cluster/apps/bazel/output:/cluster/apps/java/1.8.0_91/x86_64/bin:/cluster/apps/lsf/9.1/linux2.6-glibc2.3-x86_64/etc:/cluster/apps/lsf/9.1/linux2.6-glibc2.3-x86_64/bin:/cluster/apps/modules/bin:/cluster/apps/gcc/4.8.2/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/ibutils/bin:/cluster/home/sfux/bin:/cluster/apps/ansys/v150/fluent/license/lnamd64:/cluster/apps/adm:/cluster/home/sfux/shellscript:/cluster/home/sfux/prog/bash \\\n    TMPDIR=/scratch/20862915.tmpdir \\\n  /bin/bash -c 'source external/bazel_tools/tools/genrule/genrule-setup.sh; rm -rf /tmp/half_plus_two; /cluster/apps/python/3.3.3/x86_64/bin/python bazel-out/host/bin/tensorflow/contrib/session_bundle/example/export_half_plus_two; cp -r /tmp/half_plus_two/* bazel-out/local-py3-opt/genfiles/tensorflow/contrib/session_bundle/example/half_plus_two'): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 127.\n/cluster/apps/python/3.3.3/x86_64/bin/python: error while loading shared libraries: libpython3.3m.so.1.0: cannot open shared object file: No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 395.284s, Critical Path: 186.98s\n[sfux@e1001 tensorflow]$ cat tools/bazel.rc\n# Autogenerated by configure: DO NOT EDIT\nbuild:cuda --crosstool_top=//third_party/gpus/crosstool\nbuild:cuda --define=using_cuda=true --define=using_cuda_nvcc=true\n\nbuild --force_python=py3\nbuild --python3_path=/cluster/apps/python/3.3.3/x86_64/bin/python\nbuild --define=use_fast_cpp_protos=true\nbuild --define=allow_oversize_protos=true\n\nbuild --define PYTHON_BIN_PATH=/cluster/apps/python/3.3.3/x86_64/bin/python\nbuild --host_force_python=py3\ntest --define PYTHON_BIN_PATH=/cluster/apps/python/3.3.3/x86_64/bin/python\ntest --force_python=py3\ntest --host_force_python=py3\nrun --define PYTHON_BIN_PATH=/cluster/apps/python/3.3.3/x86_64/bin/python\n\nbuild --spawn_strategy=standalone\ntest --spawn_strategy=standalone\nrun --spawn_strategy=standalone\n\nbuild --genrule_strategy=standalone\ntest --genrule_strategy=standalone\nrun --genrule_strategy=standalone\n[sfux@e1001 tensorflow]$ \n```\n"}