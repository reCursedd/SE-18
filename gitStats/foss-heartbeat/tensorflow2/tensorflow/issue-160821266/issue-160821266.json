{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2923", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2923/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2923/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2923/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2923", "id": 160821266, "node_id": "MDU6SXNzdWUxNjA4MjEyNjY=", "number": 2923, "title": "Error:use tensorflow_cifar-10 model on tensorflow android camera", "user": {"login": "qemb01", "id": 8786921, "node_id": "MDQ6VXNlcjg3ODY5MjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/8786921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qemb01", "html_url": "https://github.com/qemb01", "followers_url": "https://api.github.com/users/qemb01/followers", "following_url": "https://api.github.com/users/qemb01/following{/other_user}", "gists_url": "https://api.github.com/users/qemb01/gists{/gist_id}", "starred_url": "https://api.github.com/users/qemb01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qemb01/subscriptions", "organizations_url": "https://api.github.com/users/qemb01/orgs", "repos_url": "https://api.github.com/users/qemb01/repos", "events_url": "https://api.github.com/users/qemb01/events{/privacy}", "received_events_url": "https://api.github.com/users/qemb01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-06-17T06:34:47Z", "updated_at": "2016-12-09T21:16:47Z", "closed_at": "2016-06-23T21:10:03Z", "author_association": "NONE", "body_html": "<p>I am very new to tensorflow. Now I am trying to use tensorflow_cifar-10 model on tensorflow android camera, the app is running but there is no output.</p>\n<p>At first I have tried this example:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/examples/android\">https://github.com/tensorflow/tensorflow/tree/master/tensorflow/examples/android</a><br>\nThis example uses the .pb file at:<br>\n<a href=\"https://storage.googleapis.com/download.tensorflow.org/models/inception5h.zip\" rel=\"nofollow\">https://storage.googleapis.com/download.tensorflow.org/models/inception5h.zip</a><br>\nIt works well.</p>\n<p>Then I tried to replace the .pb file with the tensorflow_cifar-10. I followed some of the instructions here:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"123865155\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/616\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/616/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/616\">#616</a><br>\nand add the save__graph() function in /tensorflow/models/image/cifar10/cifar10_train.py</p>\n<p>code:</p>\n<p>def save_graph():</p>\n<pre><code>g = tf.Graph()\nvars = {}\nwith g.as_default():\n    with tf.Session() as sess:\n        d = np.ones([1,24,24,3],dtype=np.float32)\n        input_data = tf.placeholder(tf.float32,shape=[1,24,24,3], name=\"input_placeholder\")\n        images, labels = cifar10.distorted_inputs()\n        logits = cifar10.inference(images)\n        init = tf.initialize_all_variables()\n        sess.run(init)\n        saver = tf.train.Saver(tf.trainable_variables(),max_to_keep=0)\n        saver.restore(sess,os.path.join(FLAGS.train_dir, 'model.ckpt'))\n        print (sess.run(logits,{images:d}))\n        for v in tf.trainable_variables():\n            vars[v.value().name] = sess.run(v)\n\ng2 = tf.Graph()\nconsts = {}\nwith g2.as_default():\n    with tf.Session() as sess:\n        for k in vars.keys():\n            consts[k] = tf.constant(vars[k])\n        tf.import_graph_def(g.as_graph_def(),input_map={name:consts[name] for name in consts.keys()})\n        tf.train.write_graph(sess.graph_def,'/home/eli/Documents/TensorflowProjetos/ProtobufFiles','graph.pb',False)\n\nreturn os.path.join('/home/eli/Documents/TensorflowProjetos/ProtobufFiles','graph.pb')\n</code></pre>\n<p>I use the save__graph() to get the .pb file after the end of training. Then I replace the tensorflow_inception_graph.pb, whice is from inception5h.zip and used in tensorflow_android_camera, with the new .pb file from the cifar10 model.</p>\n<p>Finally I run the tensorflow_android_camera app but there is no output. The error in log is:<br>\nError during inference: Not found: FeedInputs: unable to find feed output input:0<br>\nI do not know why it happened, please help me ,thank you!</p>", "body_text": "I am very new to tensorflow. Now I am trying to use tensorflow_cifar-10 model on tensorflow android camera, the app is running but there is no output.\nAt first I have tried this example:\nhttps://github.com/tensorflow/tensorflow/tree/master/tensorflow/examples/android\nThis example uses the .pb file at:\nhttps://storage.googleapis.com/download.tensorflow.org/models/inception5h.zip\nIt works well.\nThen I tried to replace the .pb file with the tensorflow_cifar-10. I followed some of the instructions here:\n#616\nand add the save__graph() function in /tensorflow/models/image/cifar10/cifar10_train.py\ncode:\ndef save_graph():\ng = tf.Graph()\nvars = {}\nwith g.as_default():\n    with tf.Session() as sess:\n        d = np.ones([1,24,24,3],dtype=np.float32)\n        input_data = tf.placeholder(tf.float32,shape=[1,24,24,3], name=\"input_placeholder\")\n        images, labels = cifar10.distorted_inputs()\n        logits = cifar10.inference(images)\n        init = tf.initialize_all_variables()\n        sess.run(init)\n        saver = tf.train.Saver(tf.trainable_variables(),max_to_keep=0)\n        saver.restore(sess,os.path.join(FLAGS.train_dir, 'model.ckpt'))\n        print (sess.run(logits,{images:d}))\n        for v in tf.trainable_variables():\n            vars[v.value().name] = sess.run(v)\n\ng2 = tf.Graph()\nconsts = {}\nwith g2.as_default():\n    with tf.Session() as sess:\n        for k in vars.keys():\n            consts[k] = tf.constant(vars[k])\n        tf.import_graph_def(g.as_graph_def(),input_map={name:consts[name] for name in consts.keys()})\n        tf.train.write_graph(sess.graph_def,'/home/eli/Documents/TensorflowProjetos/ProtobufFiles','graph.pb',False)\n\nreturn os.path.join('/home/eli/Documents/TensorflowProjetos/ProtobufFiles','graph.pb')\n\nI use the save__graph() to get the .pb file after the end of training. Then I replace the tensorflow_inception_graph.pb, whice is from inception5h.zip and used in tensorflow_android_camera, with the new .pb file from the cifar10 model.\nFinally I run the tensorflow_android_camera app but there is no output. The error in log is:\nError during inference: Not found: FeedInputs: unable to find feed output input:0\nI do not know why it happened, please help me ,thank you!", "body": "I am very new to tensorflow. Now I am trying to use tensorflow_cifar-10 model on tensorflow android camera, the app is running but there is no output.\n\nAt first I have tried this example:\nhttps://github.com/tensorflow/tensorflow/tree/master/tensorflow/examples/android\nThis example uses the .pb file at:\nhttps://storage.googleapis.com/download.tensorflow.org/models/inception5h.zip\nIt works well.\n\nThen I tried to replace the .pb file with the tensorflow_cifar-10. I followed some of the instructions here:\nhttps://github.com/tensorflow/tensorflow/issues/616\nand add the save__graph() function in /tensorflow/models/image/cifar10/cifar10_train.py\n\ncode:\n\ndef save_graph():\n\n```\ng = tf.Graph()\nvars = {}\nwith g.as_default():\n    with tf.Session() as sess:\n        d = np.ones([1,24,24,3],dtype=np.float32)\n        input_data = tf.placeholder(tf.float32,shape=[1,24,24,3], name=\"input_placeholder\")\n        images, labels = cifar10.distorted_inputs()\n        logits = cifar10.inference(images)\n        init = tf.initialize_all_variables()\n        sess.run(init)\n        saver = tf.train.Saver(tf.trainable_variables(),max_to_keep=0)\n        saver.restore(sess,os.path.join(FLAGS.train_dir, 'model.ckpt'))\n        print (sess.run(logits,{images:d}))\n        for v in tf.trainable_variables():\n            vars[v.value().name] = sess.run(v)\n\ng2 = tf.Graph()\nconsts = {}\nwith g2.as_default():\n    with tf.Session() as sess:\n        for k in vars.keys():\n            consts[k] = tf.constant(vars[k])\n        tf.import_graph_def(g.as_graph_def(),input_map={name:consts[name] for name in consts.keys()})\n        tf.train.write_graph(sess.graph_def,'/home/eli/Documents/TensorflowProjetos/ProtobufFiles','graph.pb',False)\n\nreturn os.path.join('/home/eli/Documents/TensorflowProjetos/ProtobufFiles','graph.pb')\n```\n\nI use the save__graph() to get the .pb file after the end of training. Then I replace the tensorflow_inception_graph.pb, whice is from inception5h.zip and used in tensorflow_android_camera, with the new .pb file from the cifar10 model.\n\nFinally I run the tensorflow_android_camera app but there is no output. The error in log is: \nError during inference: Not found: FeedInputs: unable to find feed output input:0\nI do not know why it happened, please help me ,thank you!\n"}