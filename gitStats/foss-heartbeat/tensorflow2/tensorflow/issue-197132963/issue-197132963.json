{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6456", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6456/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6456/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6456/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6456", "id": 197132963, "node_id": "MDU6SXNzdWUxOTcxMzI5NjM=", "number": 6456, "title": "tensorflow.python.framework.errors.InvalidArgumentError", "user": {"login": "yangkun1993", "id": 18445547, "node_id": "MDQ6VXNlcjE4NDQ1NTQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/18445547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yangkun1993", "html_url": "https://github.com/yangkun1993", "followers_url": "https://api.github.com/users/yangkun1993/followers", "following_url": "https://api.github.com/users/yangkun1993/following{/other_user}", "gists_url": "https://api.github.com/users/yangkun1993/gists{/gist_id}", "starred_url": "https://api.github.com/users/yangkun1993/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yangkun1993/subscriptions", "organizations_url": "https://api.github.com/users/yangkun1993/orgs", "repos_url": "https://api.github.com/users/yangkun1993/repos", "events_url": "https://api.github.com/users/yangkun1993/events{/privacy}", "received_events_url": "https://api.github.com/users/yangkun1993/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-12-22T09:42:15Z", "updated_at": "2018-02-07T23:47:44Z", "closed_at": "2018-02-07T23:47:44Z", "author_association": "NONE", "body_html": "<p>I getting error when using  cifar10 model to train my tfrecord datasets  which are made with tf.python_io.TFRecordWriter().</p>\n<p>on tensorflow0.8 ,it's running ok, but on tensorflow 0.10 and 0.11 ,there is the error : tensorflow.python.framework.errors.InvalidArgumentError</p>\n<p>File \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 133, in <br>\ntf.app.run()<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv[:1] + flags_passthrough))<br>\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 129, in main<br>\ntrain()<br>\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 99, in train<br>\n_, loss_value = sess.run([train_op, loss])<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 717, in run<br>\nrun_metadata_ptr)<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 915, in _run<br>\nfeed_dict_string, options, run_metadata)<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 965, in _do_run<br>\ntarget_list, options, run_metadata)<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 985, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors.InvalidArgumentError: Received a label value of 246 which is outside the valid range of [0, 20).  Label values: 10 104 185 191 178 50 116 159 192 201 173 173 81 246 110 116 153 10 114 193 167 208 173 225 97 113 84 82 179 101 90 190 107 208 155 229 239 163 28 71 173 192 200 178 83 125 238 146 213 70 34 121 129 33 207 124 157 70 117 147 80 30 153 231 156 63 130 147 143 205 86 60 97 90 202 94 127 91 191 127 123 199 201 69 220 185 152 175 86 121 60 132 73 109 100 163 218 162 201 202 40 108 63 116 195 105 124 195 107 96 86 152 58 141 166 28 55 135 128 49 180 119 237 38 59 189 202 66<br>\n[[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]</p>\n<p>Caused by op u'cross_entropy_per_example/cross_entropy_per_example', defined at:<br>\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 133, in <br>\ntf.app.run()<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv[:1] + flags_passthrough))<br>\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 129, in main<br>\ntrain()<br>\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 72, in train<br>\nloss = cifar10.loss(logits, labels)<br>\nFile \"/Users/yang/Documents/cifar10/cifar10.py\", line 286, in loss<br>\nlogits, labels, name='cross_entropy_per_example')<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 764, in sparse_softmax_cross_entropy_with_logits<br>\nprecise_logits, labels, name=name)<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 1857, in _sparse_softmax_cross_entropy_with_logits<br>\nfeatures=features, labels=labels, name=name)<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 748, in apply_op<br>\nop_def=op_def)<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2380, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1298, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>\n<p>InvalidArgumentError (see above for traceback): Received a label value of 246 which is outside the valid range of [0, 20).  Label values: 10 104 185 191 178 50 116 159 192 201 173 173 81 246 110 116 153 10 114 193 167 208 173 225 97 113 84 82 179 101 90 190 107 208 155 229 239 163 28 71 173 192 200 178 83 125 238 146 213 70 34 121 129 33 207 124 157 70 117 147 80 30 153 231 156 63 130 147 143 205 86 60 97 90 202 94 127 91 191 127 123 199 201 69 220 185 152 175 86 121 60 132 73 109 100 163 218 162 201 202 40 108 63 116 195 105 124 195 107 96 86 152 58 141 166 28 55 135 128 49 180 119 237 38 59 189 202 66<br>\n[[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]</p>", "body_text": "I getting error when using  cifar10 model to train my tfrecord datasets  which are made with tf.python_io.TFRecordWriter().\non tensorflow0.8 ,it's running ok, but on tensorflow 0.10 and 0.11 ,there is the error : tensorflow.python.framework.errors.InvalidArgumentError\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 133, in \ntf.app.run()\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv[:1] + flags_passthrough))\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 129, in main\ntrain()\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 99, in train\n_, loss_value = sess.run([train_op, loss])\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 717, in run\nrun_metadata_ptr)\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 915, in _run\nfeed_dict_string, options, run_metadata)\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 965, in _do_run\ntarget_list, options, run_metadata)\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 985, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InvalidArgumentError: Received a label value of 246 which is outside the valid range of [0, 20).  Label values: 10 104 185 191 178 50 116 159 192 201 173 173 81 246 110 116 153 10 114 193 167 208 173 225 97 113 84 82 179 101 90 190 107 208 155 229 239 163 28 71 173 192 200 178 83 125 238 146 213 70 34 121 129 33 207 124 157 70 117 147 80 30 153 231 156 63 130 147 143 205 86 60 97 90 202 94 127 91 191 127 123 199 201 69 220 185 152 175 86 121 60 132 73 109 100 163 218 162 201 202 40 108 63 116 195 105 124 195 107 96 86 152 58 141 166 28 55 135 128 49 180 119 237 38 59 189 202 66\n[[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]\nCaused by op u'cross_entropy_per_example/cross_entropy_per_example', defined at:\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 133, in \ntf.app.run()\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv[:1] + flags_passthrough))\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 129, in main\ntrain()\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 72, in train\nloss = cifar10.loss(logits, labels)\nFile \"/Users/yang/Documents/cifar10/cifar10.py\", line 286, in loss\nlogits, labels, name='cross_entropy_per_example')\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 764, in sparse_softmax_cross_entropy_with_logits\nprecise_logits, labels, name=name)\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 1857, in _sparse_softmax_cross_entropy_with_logits\nfeatures=features, labels=labels, name=name)\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 748, in apply_op\nop_def=op_def)\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2380, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1298, in init\nself._traceback = _extract_stack()\nInvalidArgumentError (see above for traceback): Received a label value of 246 which is outside the valid range of [0, 20).  Label values: 10 104 185 191 178 50 116 159 192 201 173 173 81 246 110 116 153 10 114 193 167 208 173 225 97 113 84 82 179 101 90 190 107 208 155 229 239 163 28 71 173 192 200 178 83 125 238 146 213 70 34 121 129 33 207 124 157 70 117 147 80 30 153 231 156 63 130 147 143 205 86 60 97 90 202 94 127 91 191 127 123 199 201 69 220 185 152 175 86 121 60 132 73 109 100 163 218 162 201 202 40 108 63 116 195 105 124 195 107 96 86 152 58 141 166 28 55 135 128 49 180 119 237 38 59 189 202 66\n[[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]", "body": "I getting error when using  cifar10 model to train my tfrecord datasets  which are made with tf.python_io.TFRecordWriter().\r\n\r\non tensorflow0.8 ,it's running ok, but on tensorflow 0.10 and 0.11 ,there is the error : tensorflow.python.framework.errors.InvalidArgumentError\r\n\r\nFile \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 133, in <module>\r\n    tf.app.run()\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 129, in main\r\n    train()\r\n  File \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 99, in train\r\n    _, loss_value = sess.run([train_op, loss])\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 717, in run\r\n    run_metadata_ptr)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 915, in _run\r\n    feed_dict_string, options, run_metadata)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 965, in _do_run\r\n    target_list, options, run_metadata)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 985, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors.InvalidArgumentError: Received a label value of 246 which is outside the valid range of [0, 20).  Label values: 10 104 185 191 178 50 116 159 192 201 173 173 81 246 110 116 153 10 114 193 167 208 173 225 97 113 84 82 179 101 90 190 107 208 155 229 239 163 28 71 173 192 200 178 83 125 238 146 213 70 34 121 129 33 207 124 157 70 117 147 80 30 153 231 156 63 130 147 143 205 86 60 97 90 202 94 127 91 191 127 123 199 201 69 220 185 152 175 86 121 60 132 73 109 100 163 218 162 201 202 40 108 63 116 195 105 124 195 107 96 86 152 58 141 166 28 55 135 128 49 180 119 237 38 59 189 202 66\r\n\t [[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]\r\n\r\nCaused by op u'cross_entropy_per_example/cross_entropy_per_example', defined at:\r\n  File \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 133, in <module>\r\n    tf.app.run()\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 129, in main\r\n    train()\r\n  File \"/Users/yang/Documents/cifar10/cifar10_train.py\", line 72, in train\r\n    loss = cifar10.loss(logits, labels)\r\n  File \"/Users/yang/Documents/cifar10/cifar10.py\", line 286, in loss\r\n    logits, labels, name='cross_entropy_per_example')\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 764, in sparse_softmax_cross_entropy_with_logits\r\n    precise_logits, labels, name=name)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 1857, in _sparse_softmax_cross_entropy_with_logits\r\n    features=features, labels=labels, name=name)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 748, in apply_op\r\n    op_def=op_def)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2380, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1298, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nInvalidArgumentError (see above for traceback): Received a label value of 246 which is outside the valid range of [0, 20).  Label values: 10 104 185 191 178 50 116 159 192 201 173 173 81 246 110 116 153 10 114 193 167 208 173 225 97 113 84 82 179 101 90 190 107 208 155 229 239 163 28 71 173 192 200 178 83 125 238 146 213 70 34 121 129 33 207 124 157 70 117 147 80 30 153 231 156 63 130 147 143 205 86 60 97 90 202 94 127 91 191 127 123 199 201 69 220 185 152 175 86 121 60 132 73 109 100 163 218 162 201 202 40 108 63 116 195 105 124 195 107 96 86 152 58 141 166 28 55 135 128 49 180 119 237 38 59 189 202 66\r\n\t [[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]"}