{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/313425386", "html_url": "https://github.com/tensorflow/tensorflow/pull/11302#issuecomment-313425386", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11302", "id": 313425386, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMzQyNTM4Ng==", "user": {"login": "aloisklink", "id": 19716675, "node_id": "MDQ6VXNlcjE5NzE2Njc1", "avatar_url": "https://avatars1.githubusercontent.com/u/19716675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aloisklink", "html_url": "https://github.com/aloisklink", "followers_url": "https://api.github.com/users/aloisklink/followers", "following_url": "https://api.github.com/users/aloisklink/following{/other_user}", "gists_url": "https://api.github.com/users/aloisklink/gists{/gist_id}", "starred_url": "https://api.github.com/users/aloisklink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aloisklink/subscriptions", "organizations_url": "https://api.github.com/users/aloisklink/orgs", "repos_url": "https://api.github.com/users/aloisklink/repos", "events_url": "https://api.github.com/users/aloisklink/events{/privacy}", "received_events_url": "https://api.github.com/users/aloisklink/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-06T15:10:23Z", "updated_at": "2017-07-06T15:10:23Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=18124217\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gilberthendry\">@gilberthendry</a>,</p>\n<p>I'm not sure if you've fixed this yet, but it seems to me that</p>\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">typedef</span> Eigen::TensorMap&lt;\n    Eigen::Tensor&lt;<span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-k\">long</span>&gt;, <span class=\"pl-c1\">0</span>&gt;  <span class=\"pl-c\"><span class=\"pl-c\">//</span> NOLINT(runtime/int)</span>\n    SingleDimStorageType;</pre></div>\n<p>at <code>tensorflow/contrib/tensor_forest/kernels/v4/input_target.h:23</code><br>\nshould be replaced with:</p>\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">typedef</span> Eigen::TensorMap&lt;\n    Eigen::Tensor&lt;<span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>, Eigen::DenseIndex&gt;, <span class=\"pl-c1\">0</span>&gt;  <span class=\"pl-c\"><span class=\"pl-c\">//</span> NOLINT(runtime/int)</span>\n    SingleDimStorageType;</pre></div>\n<p>to match</p>\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">template </span>&lt;<span class=\"pl-k\">typename</span> T, <span class=\"pl-k\">int</span> NDIMS = <span class=\"pl-c1\">1</span>, <span class=\"pl-k\">typename</span> IndexType = Eigen::DenseIndex&gt;\n<span class=\"pl-k\">struct</span> <span class=\"pl-en\">TTypes</span> {\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Rank-&lt;NDIMS&gt; tensor of scalar type T.</span>\n<span class=\"pl-k\">typedef</span> Eigen::TensorMap&lt;Eigen::Tensor&lt;T, NDIMS, Eigen::RowMajor, IndexType&gt;,\nEigen::Aligned&gt; Tensor;</pre></div>\n<p>at <code>tensorflow/tensorflow/blob/master/tensorflow/core/framework/tensor_types.h:24</code></p>\n<p>Be aware <code>Eigen::DenseIndex</code> has been depreciated as of <a href=\"http://eigen.tuxfamily.org/index.php?title=3.3\" rel=\"nofollow\">Eigen 3.3.0</a> and should be replaced by <code>Eigen::Index</code>, so it might be worth sticking <code>Eigen::Index</code> in there instead.</p>", "body_text": "Hi @gilberthendry,\nI'm not sure if you've fixed this yet, but it seems to me that\ntypedef Eigen::TensorMap<\n    Eigen::Tensor<const float, 1, 1, long>, 0>  // NOLINT(runtime/int)\n    SingleDimStorageType;\nat tensorflow/contrib/tensor_forest/kernels/v4/input_target.h:23\nshould be replaced with:\ntypedef Eigen::TensorMap<\n    Eigen::Tensor<const float, 1, 1, Eigen::DenseIndex>, 0>  // NOLINT(runtime/int)\n    SingleDimStorageType;\nto match\ntemplate <typename T, int NDIMS = 1, typename IndexType = Eigen::DenseIndex>\nstruct TTypes {\n// Rank-<NDIMS> tensor of scalar type T.\ntypedef Eigen::TensorMap<Eigen::Tensor<T, NDIMS, Eigen::RowMajor, IndexType>,\nEigen::Aligned> Tensor;\nat tensorflow/tensorflow/blob/master/tensorflow/core/framework/tensor_types.h:24\nBe aware Eigen::DenseIndex has been depreciated as of Eigen 3.3.0 and should be replaced by Eigen::Index, so it might be worth sticking Eigen::Index in there instead.", "body": "Hi @gilberthendry,\r\n\r\nI'm not sure if you've fixed this yet, but it seems to me that \r\n``` c++\r\ntypedef Eigen::TensorMap<\r\n    Eigen::Tensor<const float, 1, 1, long>, 0>  // NOLINT(runtime/int)\r\n    SingleDimStorageType;\r\n```\r\nat `tensorflow/contrib/tensor_forest/kernels/v4/input_target.h:23`\r\nshould be replaced with:\r\n``` c++\r\ntypedef Eigen::TensorMap<\r\n    Eigen::Tensor<const float, 1, 1, Eigen::DenseIndex>, 0>  // NOLINT(runtime/int)\r\n    SingleDimStorageType;\r\n```\r\nto match\r\n``` c++\r\ntemplate <typename T, int NDIMS = 1, typename IndexType = Eigen::DenseIndex>\r\nstruct TTypes {\r\n// Rank-<NDIMS> tensor of scalar type T.\r\ntypedef Eigen::TensorMap<Eigen::Tensor<T, NDIMS, Eigen::RowMajor, IndexType>,\r\nEigen::Aligned> Tensor;\r\n```\r\nat `tensorflow/tensorflow/blob/master/tensorflow/core/framework/tensor_types.h:24`\r\n\r\nBe aware `Eigen::DenseIndex` has been depreciated as of [Eigen 3.3.0](http://eigen.tuxfamily.org/index.php?title=3.3) and should be replaced by `Eigen::Index`, so it might be worth sticking `Eigen::Index` in there instead.\r\n"}