{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/413427714", "html_url": "https://github.com/tensorflow/tensorflow/issues/21602#issuecomment-413427714", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21602", "id": 413427714, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzQyNzcxNA==", "user": {"login": "alokranjan007", "id": 19912807, "node_id": "MDQ6VXNlcjE5OTEyODA3", "avatar_url": "https://avatars1.githubusercontent.com/u/19912807?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alokranjan007", "html_url": "https://github.com/alokranjan007", "followers_url": "https://api.github.com/users/alokranjan007/followers", "following_url": "https://api.github.com/users/alokranjan007/following{/other_user}", "gists_url": "https://api.github.com/users/alokranjan007/gists{/gist_id}", "starred_url": "https://api.github.com/users/alokranjan007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alokranjan007/subscriptions", "organizations_url": "https://api.github.com/users/alokranjan007/orgs", "repos_url": "https://api.github.com/users/alokranjan007/repos", "events_url": "https://api.github.com/users/alokranjan007/events{/privacy}", "received_events_url": "https://api.github.com/users/alokranjan007/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-16T05:10:55Z", "updated_at": "2018-08-16T05:31:22Z", "author_association": "NONE", "body_html": "<p>Hi jdduke,<br>\nThank you for your response. After the installation on android device, other two apps are opening fine. However, when I am opening the detection app it is saying <strong>\"TFLite Demo has stopped\"</strong> close the app.</p>\n<p>I have followed all the steps <a href=\"https://medium.com/tensorflow/training-and-serving-a-realtime-mobile-object-detector-in-30-minutes-with-cloud-tpus-b78971cf1193\" rel=\"nofollow\">Link</a>  under the section <strong>\"Running our model on Android\"</strong>. I have changed as instructed in the blog for the custom models. Following steps have been followed.<br>\nstep 1.<br>\n<code>assets = [ \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:labels_mobilenet_quant_v1_224.txt\", \"@tflite_mobilenet//:mobilenet_quant_v1_224.tflite\", \"@tflite_conv_actions_frozen//:conv_actions_frozen.tflite\", \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:conv_actions_labels.txt\", \"@tflite_mobilenet_ssd//:mobilenet_ssd.tflite\", \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:detect.tflite\", \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:box_priors.txt\", \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:labelmap.txt\", ],</code></p>\n<p>step 2.<br>\n<code>private static final int TF_OD_API_INPUT_SIZE = 300; private static final boolean TF_OD_API_IS_QUANTIZED = true; private static final String TF_OD_API_MODEL_FILE = \"detect.tflite\"; private static final String TF_OD_API_LABELS_FILE = \"file:///android_asset/labelmap.txt\"; </code><br>\nStep 3. Building the apk<br>\nbazel build -c opt --cxxopt='--std=c++11' \"//tensorflow/contrib/lite/examples/android:tflite_demo\".</p>\n<p>However, it throws following conflict warnings.</p>\n<p>`INFO: Analysed target //tensorflow/contrib/lite/examples/android:tflite_demo (64 packages loaded).<br>\nINFO: Found 1 target...<br>\nINFO: From Processing Android resources for //tensorflow/contrib/lite/examples/android:tflite_demo:<br>\nAug 16, 2018 10:12:23 AM com.google.devtools.build.android.AndroidDataMerger doMerge<br>\nWARNING:<br>\nCONFLICT: asset:WORKSPACE is provided with ambiguous priority from:<br>\nexternal/tflite_mobilenet/WORKSPACE<br>\nexternal/tflite_conv_actions_frozen/WORKSPACE</p>\n<p>CONFLICT: asset:WORKSPACE is provided with ambiguous priority from:<br>\nexternal/tflite_mobilenet_ssd/WORKSPACE<br>\nexternal/tflite_conv_actions_frozen/WORKSPACE<br>\nTarget //tensorflow/contrib/lite/examples/android:tflite_demo up-to-date:<br>\nbazel-bin/tensorflow/contrib/lite/examples/android/tflite_demo_deploy.jar<br>\nbazel-bin/tensorflow/contrib/lite/examples/android/tflite_demo_unsigned.apk<br>\nbazel-bin/tensorflow/contrib/lite/examples/android/tflite_demo.apk<br>\nINFO: Elapsed time: 88.021s, Critical Path: 24.14s<br>\nINFO: 10 processes: 9 local, 1 worker.<br>\nINFO: Build completed successfully, 17 total actions`.</p>\n<p>Attaching here the logcat file named android_build.txt</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/files/2292450/android_build.txt\">android_build.txt</a></p>\n<p>Thank you,</p>", "body_text": "Hi jdduke,\nThank you for your response. After the installation on android device, other two apps are opening fine. However, when I am opening the detection app it is saying \"TFLite Demo has stopped\" close the app.\nI have followed all the steps Link  under the section \"Running our model on Android\". I have changed as instructed in the blog for the custom models. Following steps have been followed.\nstep 1.\nassets = [ \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:labels_mobilenet_quant_v1_224.txt\", \"@tflite_mobilenet//:mobilenet_quant_v1_224.tflite\", \"@tflite_conv_actions_frozen//:conv_actions_frozen.tflite\", \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:conv_actions_labels.txt\", \"@tflite_mobilenet_ssd//:mobilenet_ssd.tflite\", \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:detect.tflite\", \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:box_priors.txt\", \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:labelmap.txt\", ],\nstep 2.\nprivate static final int TF_OD_API_INPUT_SIZE = 300; private static final boolean TF_OD_API_IS_QUANTIZED = true; private static final String TF_OD_API_MODEL_FILE = \"detect.tflite\"; private static final String TF_OD_API_LABELS_FILE = \"file:///android_asset/labelmap.txt\"; \nStep 3. Building the apk\nbazel build -c opt --cxxopt='--std=c++11' \"//tensorflow/contrib/lite/examples/android:tflite_demo\".\nHowever, it throws following conflict warnings.\n`INFO: Analysed target //tensorflow/contrib/lite/examples/android:tflite_demo (64 packages loaded).\nINFO: Found 1 target...\nINFO: From Processing Android resources for //tensorflow/contrib/lite/examples/android:tflite_demo:\nAug 16, 2018 10:12:23 AM com.google.devtools.build.android.AndroidDataMerger doMerge\nWARNING:\nCONFLICT: asset:WORKSPACE is provided with ambiguous priority from:\nexternal/tflite_mobilenet/WORKSPACE\nexternal/tflite_conv_actions_frozen/WORKSPACE\nCONFLICT: asset:WORKSPACE is provided with ambiguous priority from:\nexternal/tflite_mobilenet_ssd/WORKSPACE\nexternal/tflite_conv_actions_frozen/WORKSPACE\nTarget //tensorflow/contrib/lite/examples/android:tflite_demo up-to-date:\nbazel-bin/tensorflow/contrib/lite/examples/android/tflite_demo_deploy.jar\nbazel-bin/tensorflow/contrib/lite/examples/android/tflite_demo_unsigned.apk\nbazel-bin/tensorflow/contrib/lite/examples/android/tflite_demo.apk\nINFO: Elapsed time: 88.021s, Critical Path: 24.14s\nINFO: 10 processes: 9 local, 1 worker.\nINFO: Build completed successfully, 17 total actions`.\nAttaching here the logcat file named android_build.txt\nandroid_build.txt\nThank you,", "body": "Hi jdduke,\r\nThank you for your response. After the installation on android device, other two apps are opening fine. However, when I am opening the detection app it is saying **\"TFLite Demo has stopped\"** close the app.\r\n\r\nI have followed all the steps [Link](https://medium.com/tensorflow/training-and-serving-a-realtime-mobile-object-detector-in-30-minutes-with-cloud-tpus-b78971cf1193)  under the section **\"Running our model on Android\"**. I have changed as instructed in the blog for the custom models. Following steps have been followed.\r\nstep 1.\r\n`assets = [\r\n   \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:labels_mobilenet_quant_v1_224.txt\",\r\n     \"@tflite_mobilenet//:mobilenet_quant_v1_224.tflite\",\r\n     \"@tflite_conv_actions_frozen//:conv_actions_frozen.tflite\",\r\n     \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:conv_actions_labels.txt\",\r\n     \"@tflite_mobilenet_ssd//:mobilenet_ssd.tflite\",\r\n     \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:detect.tflite\",\r\n     \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:box_priors.txt\",\r\n     \"//tensorflow/contrib/lite/examples/android/app/src/main/assets:labelmap.txt\",\r\n],`\r\n\r\nstep 2.\r\n`private static final int TF_OD_API_INPUT_SIZE = 300;\r\nprivate static final boolean TF_OD_API_IS_QUANTIZED = true;\r\nprivate static final String TF_OD_API_MODEL_FILE = \"detect.tflite\";\r\nprivate static final String TF_OD_API_LABELS_FILE = \"file:///android_asset/labelmap.txt\";\r\n`\r\nStep 3. Building the apk \r\nbazel build -c opt --cxxopt='--std=c++11' \"//tensorflow/contrib/lite/examples/android:tflite_demo\".\r\n\r\nHowever, it throws following conflict warnings.\r\n\r\n`INFO: Analysed target //tensorflow/contrib/lite/examples/android:tflite_demo (64 packages loaded).\r\nINFO: Found 1 target...\r\nINFO: From Processing Android resources for //tensorflow/contrib/lite/examples/android:tflite_demo:\r\nAug 16, 2018 10:12:23 AM com.google.devtools.build.android.AndroidDataMerger doMerge\r\nWARNING: \r\nCONFLICT: asset:WORKSPACE is provided with ambiguous priority from:\r\n\texternal/tflite_mobilenet/WORKSPACE\r\n\texternal/tflite_conv_actions_frozen/WORKSPACE\r\n\r\nCONFLICT: asset:WORKSPACE is provided with ambiguous priority from:\r\n\texternal/tflite_mobilenet_ssd/WORKSPACE\r\n\texternal/tflite_conv_actions_frozen/WORKSPACE\r\nTarget //tensorflow/contrib/lite/examples/android:tflite_demo up-to-date:\r\n  bazel-bin/tensorflow/contrib/lite/examples/android/tflite_demo_deploy.jar\r\n  bazel-bin/tensorflow/contrib/lite/examples/android/tflite_demo_unsigned.apk\r\n  bazel-bin/tensorflow/contrib/lite/examples/android/tflite_demo.apk\r\nINFO: Elapsed time: 88.021s, Critical Path: 24.14s\r\nINFO: 10 processes: 9 local, 1 worker.\r\nINFO: Build completed successfully, 17 total actions`.\r\n\r\nAttaching here the logcat file named android_build.txt\r\n\r\n\r\n\r\n\r\n[android_build.txt](https://github.com/tensorflow/tensorflow/files/2292450/android_build.txt)\r\n\r\nThank you,\r\n"}