{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23162", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23162/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23162/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23162/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23162", "id": 372544429, "node_id": "MDU6SXNzdWUzNzI1NDQ0Mjk=", "number": 23162, "title": "Can not run traing comand Object Detectioon API", "user": {"login": "dabasmoti", "id": 38852155, "node_id": "MDQ6VXNlcjM4ODUyMTU1", "avatar_url": "https://avatars0.githubusercontent.com/u/38852155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dabasmoti", "html_url": "https://github.com/dabasmoti", "followers_url": "https://api.github.com/users/dabasmoti/followers", "following_url": "https://api.github.com/users/dabasmoti/following{/other_user}", "gists_url": "https://api.github.com/users/dabasmoti/gists{/gist_id}", "starred_url": "https://api.github.com/users/dabasmoti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dabasmoti/subscriptions", "organizations_url": "https://api.github.com/users/dabasmoti/orgs", "repos_url": "https://api.github.com/users/dabasmoti/repos", "events_url": "https://api.github.com/users/dabasmoti/events{/privacy}", "received_events_url": "https://api.github.com/users/dabasmoti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-10-22T14:27:32Z", "updated_at": "2018-11-13T01:31:48Z", "closed_at": "2018-11-13T01:31:36Z", "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>\n<p>Have I written custom code (as opposed to using a stock example script provided in TensorFlow):no</p>\n</li>\n<li>\n<p>OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Ubuntu 16.04</p>\n</li>\n<li>\n<p>TensorFlow installed from (source or binary):conda</p>\n</li>\n<li>\n<p>TensorFlow version (use command below):1.9</p>\n</li>\n<li>\n<p>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:N/A</p>\n</li>\n<li>\n<p>Python version:3.6.6<br>\nBazel version (if compiling from source):N/A</p>\n</li>\n<li>\n<p>GCC/Compiler version (if compiling from source):N/A</p>\n</li>\n<li>\n<p>CUDA/cuDNN version: CUDA 9/ cuDNN 7.</p>\n</li>\n<li>\n<p>GPU model and memory: Tesla K80 , 11GB</p>\n</li>\n</ul>\n<p><strong>Describe the current behavior</strong><br>\nI trying to train a model(Faster R-CNN with Inception v2) but there is an error massage \"TypeError: merge_external_params_with_configs() got an unexpected keyword argument 'train_steps'\" while tracing the issue i have print the train_steps and is't equal to 200,000.<br>\n<strong>The Output</strong></p>\n<pre><code>Train steps\n200000\n&lt;class 'int'&gt;\n</code></pre>\n<p><strong>My command is :</strong></p>\n<pre><code>PIPELINE_CONFIG_PATH=/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/pipeline_od.config\nMODEL_DIR=/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/models/model\nNUM_TRAIN_STEPS=200000\nSAMPLE_1_OF_N_EVAL_EXAMPLES=1\npython object_detection/model_main.py \\\n    --pipeline_config_path=${PIPELINE_CONFIG_PATH} \\\n    --model_dir=${MODEL_DIR} \\\n    --num_train_steps=${NUM_TRAIN_STEPS} \\\n    --sample_1_of_n_eval_examples=$SAMPLE_1_OF_N_EVAL_EXAMPLES \\\n    --alsologtostderr\n\n</code></pre>\n<p><strong>The error message:</strong></p>\n<pre><code>Traceback (most recent call last):\n  File \"object_detection/model_main.py\", line 101, in &lt;module&gt;\n    tf.app.run()\n  File \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\n    _sys.exit(main(argv))\n  File \"object_detection/model_main.py\", line 62, in main\n    eval_steps=FLAGS.num_eval_steps)\n  File \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/model_lib.py\", line 509, in create_estimator_and_inputs\n    retain_original_images_in_eval=False if use_tpu else True)\nTypeError: merge_external_params_with_configs() got an unexpected keyword argument 'train_steps'\n</code></pre>\n<p><strong>My configuration File:</strong></p>\n<pre><code>Faster R-CNN with Inception v2, configuration for MSCOCO Dataset.\nUsers should configure the fine_tune_checkpoint field in the train config as\nwell as the label_map_path and input_path fields in the train_input_reader and\neval_input_reader. Search for \"PATH_TO_BE_CONFIGURED\" to find the fields that\nshould be configured.\n\n\nmodel {\n faster_rcnn {\n   num_classes: 9\n   image_resizer {\n     keep_aspect_ratio_resizer {\n       min_dimension: 600\n       max_dimension: 1024\n     }\n   }\n   feature_extractor {\n     type: 'faster_rcnn_inception_v2'\n     first_stage_features_stride: 16\n   }\n   first_stage_anchor_generator {\n     grid_anchor_generator {\n       scales: [0.25, 0.5, 1.0, 2.0]\n       aspect_ratios: [0.5, 1.0, 2.0]\n       height_stride: 16\n       width_stride: 16\n     }\n   }\n   first_stage_box_predictor_conv_hyperparams {\n     op: CONV\n     regularizer {\n       l2_regularizer {\n         weight: 0.0\n       }\n     }\n     initializer {\n       truncated_normal_initializer {\n         stddev: 0.01\n       }\n     }\n   }\n   first_stage_nms_score_threshold: 0.0\n   first_stage_nms_iou_threshold: 0.7\n   first_stage_max_proposals: 300\n   first_stage_localization_loss_weight: 2.0\n   first_stage_objectness_loss_weight: 1.0\n   initial_crop_size: 14\n   maxpool_kernel_size: 2\n   maxpool_stride: 2\n   second_stage_box_predictor {\n     mask_rcnn_box_predictor {\n       use_dropout: false\n       dropout_keep_probability: 1.0\n       fc_hyperparams {\n         op: FC\n         regularizer {\n           l2_regularizer {\n             weight: 0.0\n           }\n         }\n         initializer {\n           variance_scaling_initializer {\n             factor: 1.0\n             uniform: true\n             mode: FAN_AVG\n           }\n         }\n       }\n     }\n   }\n   second_stage_post_processing {\n     batch_non_max_suppression {\n       score_threshold: 0.0\n       iou_threshold: 0.6\n       max_detections_per_class: 100\n       max_total_detections: 300\n     }\n     score_converter: SOFTMAX\n   }\n   second_stage_localization_loss_weight: 2.0\n   second_stage_classification_loss_weight: 1.0\n }\n}\n\ntrain_config: {\n batch_size: 32\n optimizer {\n   momentum_optimizer: {\n     learning_rate: {\n       manual_step_learning_rate {\n         initial_learning_rate: 0.0002\n         schedule {\n           step: 900000\n           learning_rate: .00002\n         }\n         schedule {\n           step: 1200000\n           learning_rate: .000002\n         }\n       }\n     }\n     momentum_optimizer_value: 0.9\n   }\n   use_moving_average: false\n }\n gradient_clipping_by_norm: 10.0\n fine_tune_checkpoint: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/faster_rcnn_inception_v2_coco_2018_01_28/model.ckpt\"\n from_detection_checkpoint: true\n  Note: The below line limits the training process to 200K steps, which we\n  empirically found to be sufficient enough to train the COCO dataset. This\n  effectively bypasses the learning rate schedule (the learning rate will\n  never decay). Remove the below line to train indefinitely.\n num_steps: 200000\n data_augmentation_options {\n   random_horizontal_flip {\n   }\n }\n}\n\ntrain_input_reader: {\n tf_record_input_reader {\n   input_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/train.record\"\n }\n label_map_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/mscoco_label_map_dataturk.pbtxt\"\n}\n\neval_config: {\n num_examples: 83\n  Note: The below line limits the evaluation process to 10 evaluations.\n  Remove the below line to evaluate indefinitely.\n max_evals: 10\n}\n\neval_input_reader: {\n tf_record_input_reader {\n   input_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/eval.record\"\n }\n label_map_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/mscoco_label_map_dataturk.pbtxt\"\n shuffle: false\n num_readers: 1\n}\n\n\n</code></pre>", "body_text": "System information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):no\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):Ubuntu 16.04\n\n\nTensorFlow installed from (source or binary):conda\n\n\nTensorFlow version (use command below):1.9\n\n\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:N/A\n\n\nPython version:3.6.6\nBazel version (if compiling from source):N/A\n\n\nGCC/Compiler version (if compiling from source):N/A\n\n\nCUDA/cuDNN version: CUDA 9/ cuDNN 7.\n\n\nGPU model and memory: Tesla K80 , 11GB\n\n\nDescribe the current behavior\nI trying to train a model(Faster R-CNN with Inception v2) but there is an error massage \"TypeError: merge_external_params_with_configs() got an unexpected keyword argument 'train_steps'\" while tracing the issue i have print the train_steps and is't equal to 200,000.\nThe Output\nTrain steps\n200000\n<class 'int'>\n\nMy command is :\nPIPELINE_CONFIG_PATH=/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/pipeline_od.config\nMODEL_DIR=/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/models/model\nNUM_TRAIN_STEPS=200000\nSAMPLE_1_OF_N_EVAL_EXAMPLES=1\npython object_detection/model_main.py \\\n    --pipeline_config_path=${PIPELINE_CONFIG_PATH} \\\n    --model_dir=${MODEL_DIR} \\\n    --num_train_steps=${NUM_TRAIN_STEPS} \\\n    --sample_1_of_n_eval_examples=$SAMPLE_1_OF_N_EVAL_EXAMPLES \\\n    --alsologtostderr\n\n\nThe error message:\nTraceback (most recent call last):\n  File \"object_detection/model_main.py\", line 101, in <module>\n    tf.app.run()\n  File \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\n    _sys.exit(main(argv))\n  File \"object_detection/model_main.py\", line 62, in main\n    eval_steps=FLAGS.num_eval_steps)\n  File \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/model_lib.py\", line 509, in create_estimator_and_inputs\n    retain_original_images_in_eval=False if use_tpu else True)\nTypeError: merge_external_params_with_configs() got an unexpected keyword argument 'train_steps'\n\nMy configuration File:\nFaster R-CNN with Inception v2, configuration for MSCOCO Dataset.\nUsers should configure the fine_tune_checkpoint field in the train config as\nwell as the label_map_path and input_path fields in the train_input_reader and\neval_input_reader. Search for \"PATH_TO_BE_CONFIGURED\" to find the fields that\nshould be configured.\n\n\nmodel {\n faster_rcnn {\n   num_classes: 9\n   image_resizer {\n     keep_aspect_ratio_resizer {\n       min_dimension: 600\n       max_dimension: 1024\n     }\n   }\n   feature_extractor {\n     type: 'faster_rcnn_inception_v2'\n     first_stage_features_stride: 16\n   }\n   first_stage_anchor_generator {\n     grid_anchor_generator {\n       scales: [0.25, 0.5, 1.0, 2.0]\n       aspect_ratios: [0.5, 1.0, 2.0]\n       height_stride: 16\n       width_stride: 16\n     }\n   }\n   first_stage_box_predictor_conv_hyperparams {\n     op: CONV\n     regularizer {\n       l2_regularizer {\n         weight: 0.0\n       }\n     }\n     initializer {\n       truncated_normal_initializer {\n         stddev: 0.01\n       }\n     }\n   }\n   first_stage_nms_score_threshold: 0.0\n   first_stage_nms_iou_threshold: 0.7\n   first_stage_max_proposals: 300\n   first_stage_localization_loss_weight: 2.0\n   first_stage_objectness_loss_weight: 1.0\n   initial_crop_size: 14\n   maxpool_kernel_size: 2\n   maxpool_stride: 2\n   second_stage_box_predictor {\n     mask_rcnn_box_predictor {\n       use_dropout: false\n       dropout_keep_probability: 1.0\n       fc_hyperparams {\n         op: FC\n         regularizer {\n           l2_regularizer {\n             weight: 0.0\n           }\n         }\n         initializer {\n           variance_scaling_initializer {\n             factor: 1.0\n             uniform: true\n             mode: FAN_AVG\n           }\n         }\n       }\n     }\n   }\n   second_stage_post_processing {\n     batch_non_max_suppression {\n       score_threshold: 0.0\n       iou_threshold: 0.6\n       max_detections_per_class: 100\n       max_total_detections: 300\n     }\n     score_converter: SOFTMAX\n   }\n   second_stage_localization_loss_weight: 2.0\n   second_stage_classification_loss_weight: 1.0\n }\n}\n\ntrain_config: {\n batch_size: 32\n optimizer {\n   momentum_optimizer: {\n     learning_rate: {\n       manual_step_learning_rate {\n         initial_learning_rate: 0.0002\n         schedule {\n           step: 900000\n           learning_rate: .00002\n         }\n         schedule {\n           step: 1200000\n           learning_rate: .000002\n         }\n       }\n     }\n     momentum_optimizer_value: 0.9\n   }\n   use_moving_average: false\n }\n gradient_clipping_by_norm: 10.0\n fine_tune_checkpoint: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/faster_rcnn_inception_v2_coco_2018_01_28/model.ckpt\"\n from_detection_checkpoint: true\n  Note: The below line limits the training process to 200K steps, which we\n  empirically found to be sufficient enough to train the COCO dataset. This\n  effectively bypasses the learning rate schedule (the learning rate will\n  never decay). Remove the below line to train indefinitely.\n num_steps: 200000\n data_augmentation_options {\n   random_horizontal_flip {\n   }\n }\n}\n\ntrain_input_reader: {\n tf_record_input_reader {\n   input_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/train.record\"\n }\n label_map_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/mscoco_label_map_dataturk.pbtxt\"\n}\n\neval_config: {\n num_examples: 83\n  Note: The below line limits the evaluation process to 10 evaluations.\n  Remove the below line to evaluate indefinitely.\n max_evals: 10\n}\n\neval_input_reader: {\n tf_record_input_reader {\n   input_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/eval.record\"\n }\n label_map_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/mscoco_label_map_dataturk.pbtxt\"\n shuffle: false\n num_readers: 1\n}", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):no\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Ubuntu 16.04\r\n\r\n- TensorFlow installed from (source or binary):conda\r\n- TensorFlow version (use command below):1.9\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:N/A\r\n- Python version:3.6.6\r\n Bazel version (if compiling from source):N/A\r\n- GCC/Compiler version (if compiling from source):N/A\r\n- CUDA/cuDNN version: CUDA 9/ cuDNN 7.\r\n- GPU model and memory: Tesla K80 , 11GB\r\n\r\n**Describe the current behavior**\r\nI trying to train a model(Faster R-CNN with Inception v2) but there is an error massage \"TypeError: merge_external_params_with_configs() got an unexpected keyword argument 'train_steps'\" while tracing the issue i have print the train_steps and is't equal to 200,000.\r\n**The Output**\r\n```\r\nTrain steps\r\n200000\r\n<class 'int'>\r\n```\r\n\r\n**My command is :**\r\n```\r\nPIPELINE_CONFIG_PATH=/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/pipeline_od.config\r\nMODEL_DIR=/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/models/model\r\nNUM_TRAIN_STEPS=200000\r\nSAMPLE_1_OF_N_EVAL_EXAMPLES=1\r\npython object_detection/model_main.py \\\r\n    --pipeline_config_path=${PIPELINE_CONFIG_PATH} \\\r\n    --model_dir=${MODEL_DIR} \\\r\n    --num_train_steps=${NUM_TRAIN_STEPS} \\\r\n    --sample_1_of_n_eval_examples=$SAMPLE_1_OF_N_EVAL_EXAMPLES \\\r\n    --alsologtostderr\r\n\r\n```\r\n\r\n**The error message:**\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"object_detection/model_main.py\", line 101, in <module>\r\n    tf.app.run()\r\n  File \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"object_detection/model_main.py\", line 62, in main\r\n    eval_steps=FLAGS.num_eval_steps)\r\n  File \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/model_lib.py\", line 509, in create_estimator_and_inputs\r\n    retain_original_images_in_eval=False if use_tpu else True)\r\nTypeError: merge_external_params_with_configs() got an unexpected keyword argument 'train_steps'\r\n```\r\n\r\n**My configuration File:**\r\n ```\r\nFaster R-CNN with Inception v2, configuration for MSCOCO Dataset.\r\n Users should configure the fine_tune_checkpoint field in the train config as\r\n well as the label_map_path and input_path fields in the train_input_reader and\r\n eval_input_reader. Search for \"PATH_TO_BE_CONFIGURED\" to find the fields that\r\nshould be configured.\r\n\r\n\r\nmodel {\r\n  faster_rcnn {\r\n    num_classes: 9\r\n    image_resizer {\r\n      keep_aspect_ratio_resizer {\r\n        min_dimension: 600\r\n        max_dimension: 1024\r\n      }\r\n    }\r\n    feature_extractor {\r\n      type: 'faster_rcnn_inception_v2'\r\n      first_stage_features_stride: 16\r\n    }\r\n    first_stage_anchor_generator {\r\n      grid_anchor_generator {\r\n        scales: [0.25, 0.5, 1.0, 2.0]\r\n        aspect_ratios: [0.5, 1.0, 2.0]\r\n        height_stride: 16\r\n        width_stride: 16\r\n      }\r\n    }\r\n    first_stage_box_predictor_conv_hyperparams {\r\n      op: CONV\r\n      regularizer {\r\n        l2_regularizer {\r\n          weight: 0.0\r\n        }\r\n      }\r\n      initializer {\r\n        truncated_normal_initializer {\r\n          stddev: 0.01\r\n        }\r\n      }\r\n    }\r\n    first_stage_nms_score_threshold: 0.0\r\n    first_stage_nms_iou_threshold: 0.7\r\n    first_stage_max_proposals: 300\r\n    first_stage_localization_loss_weight: 2.0\r\n    first_stage_objectness_loss_weight: 1.0\r\n    initial_crop_size: 14\r\n    maxpool_kernel_size: 2\r\n    maxpool_stride: 2\r\n    second_stage_box_predictor {\r\n      mask_rcnn_box_predictor {\r\n        use_dropout: false\r\n        dropout_keep_probability: 1.0\r\n        fc_hyperparams {\r\n          op: FC\r\n          regularizer {\r\n            l2_regularizer {\r\n              weight: 0.0\r\n            }\r\n          }\r\n          initializer {\r\n            variance_scaling_initializer {\r\n              factor: 1.0\r\n              uniform: true\r\n              mode: FAN_AVG\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    second_stage_post_processing {\r\n      batch_non_max_suppression {\r\n        score_threshold: 0.0\r\n        iou_threshold: 0.6\r\n        max_detections_per_class: 100\r\n        max_total_detections: 300\r\n      }\r\n      score_converter: SOFTMAX\r\n    }\r\n    second_stage_localization_loss_weight: 2.0\r\n    second_stage_classification_loss_weight: 1.0\r\n  }\r\n}\r\n\r\ntrain_config: {\r\n  batch_size: 32\r\n  optimizer {\r\n    momentum_optimizer: {\r\n      learning_rate: {\r\n        manual_step_learning_rate {\r\n          initial_learning_rate: 0.0002\r\n          schedule {\r\n            step: 900000\r\n            learning_rate: .00002\r\n          }\r\n          schedule {\r\n            step: 1200000\r\n            learning_rate: .000002\r\n          }\r\n        }\r\n      }\r\n      momentum_optimizer_value: 0.9\r\n    }\r\n    use_moving_average: false\r\n  }\r\n  gradient_clipping_by_norm: 10.0\r\n  fine_tune_checkpoint: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/faster_rcnn_inception_v2_coco_2018_01_28/model.ckpt\"\r\n  from_detection_checkpoint: true\r\n   Note: The below line limits the training process to 200K steps, which we\r\n   empirically found to be sufficient enough to train the COCO dataset. This\r\n   effectively bypasses the learning rate schedule (the learning rate will\r\n   never decay). Remove the below line to train indefinitely.\r\n  num_steps: 200000\r\n  data_augmentation_options {\r\n    random_horizontal_flip {\r\n    }\r\n  }\r\n}\r\n\r\ntrain_input_reader: {\r\n  tf_record_input_reader {\r\n    input_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/train.record\"\r\n  }\r\n  label_map_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/mscoco_label_map_dataturk.pbtxt\"\r\n}\r\n\r\neval_config: {\r\n  num_examples: 83\r\n   Note: The below line limits the evaluation process to 10 evaluations.\r\n   Remove the below line to evaluate indefinitely.\r\n  max_evals: 10\r\n}\r\n\r\neval_input_reader: {\r\n  tf_record_input_reader {\r\n    input_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/eval.record\"\r\n  }\r\n  label_map_path: \"/home/dabastany_gmail_com/miniconda3/envs/od/lib/python3.6/site-packages/tensorflow/models/research/object_detection/train/data/mscoco_label_map_dataturk.pbtxt\"\r\n  shuffle: false\r\n  num_readers: 1\r\n}\r\n\r\n\r\n```"}