{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/763", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/763/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/763/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/763/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/763", "id": 126439730, "node_id": "MDExOlB1bGxSZXF1ZXN0NTU5MDk0NjU=", "number": 763, "title": "Non-blocking queuing and running on thread pool", "user": {"login": "jeremybarnes", "id": 112556, "node_id": "MDQ6VXNlcjExMjU1Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/112556?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeremybarnes", "html_url": "https://github.com/jeremybarnes", "followers_url": "https://api.github.com/users/jeremybarnes/followers", "following_url": "https://api.github.com/users/jeremybarnes/following{/other_user}", "gists_url": "https://api.github.com/users/jeremybarnes/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeremybarnes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeremybarnes/subscriptions", "organizations_url": "https://api.github.com/users/jeremybarnes/orgs", "repos_url": "https://api.github.com/users/jeremybarnes/repos", "events_url": "https://api.github.com/users/jeremybarnes/events{/privacy}", "received_events_url": "https://api.github.com/users/jeremybarnes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "jeffreyadean", "id": 8585436, "node_id": "MDQ6VXNlcjg1ODU0MzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/8585436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffreyadean", "html_url": "https://github.com/jeffreyadean", "followers_url": "https://api.github.com/users/jeffreyadean/followers", "following_url": "https://api.github.com/users/jeffreyadean/following{/other_user}", "gists_url": "https://api.github.com/users/jeffreyadean/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffreyadean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffreyadean/subscriptions", "organizations_url": "https://api.github.com/users/jeffreyadean/orgs", "repos_url": "https://api.github.com/users/jeffreyadean/repos", "events_url": "https://api.github.com/users/jeffreyadean/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffreyadean/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jeffreyadean", "id": 8585436, "node_id": "MDQ6VXNlcjg1ODU0MzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/8585436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffreyadean", "html_url": "https://github.com/jeffreyadean", "followers_url": "https://api.github.com/users/jeffreyadean/followers", "following_url": "https://api.github.com/users/jeffreyadean/following{/other_user}", "gists_url": "https://api.github.com/users/jeffreyadean/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffreyadean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffreyadean/subscriptions", "organizations_url": "https://api.github.com/users/jeffreyadean/orgs", "repos_url": "https://api.github.com/users/jeffreyadean/repos", "events_url": "https://api.github.com/users/jeffreyadean/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffreyadean/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 30, "created_at": "2016-01-13T15:12:28Z", "updated_at": "2016-05-21T13:33:07Z", "closed_at": "2016-05-21T13:33:07Z", "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/763", "html_url": "https://github.com/tensorflow/tensorflow/pull/763", "diff_url": "https://github.com/tensorflow/tensorflow/pull/763.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/763.patch"}, "body_html": "<p>Addresses <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"123057870\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/551\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/551/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/551\">#551</a> and should address <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"123342140\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/583\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/583/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/583\">#583</a></p>\n<p>For a benchmark on running the December Inception model 100 times (20 in parallel at a time) on a 32 vcore CPU, results are:</p>\n<p>Current implementation (baseline)</p>\n<pre><code>211.17user 154.92system 0:15.42elapsed 2373%CPU (0avgtext+0avgdata 950024maxresident)k\n0inputs+0outputs (0major+186279minor)pagefaults 0swaps\n</code></pre>\n<p>Lock free implementation</p>\n<pre><code>204.62user 27.12system 0:09.08elapsed 2551%CPU (0avgtext+0avgdata 737888maxresident)k\n0inputs+0outputs (0major+122158minor)pagefaults 0swaps\n</code></pre>\n<p>So throughput is improved by ~35% and system overhead is greatly reduced.</p>\n<p>This is a port of existing code, which will be cleaned up for style and better integrated.  I'm interested in a preliminary review of approach, applicability and interest in getting it fully merged for the moment.</p>", "body_text": "Addresses #551 and should address #583\nFor a benchmark on running the December Inception model 100 times (20 in parallel at a time) on a 32 vcore CPU, results are:\nCurrent implementation (baseline)\n211.17user 154.92system 0:15.42elapsed 2373%CPU (0avgtext+0avgdata 950024maxresident)k\n0inputs+0outputs (0major+186279minor)pagefaults 0swaps\n\nLock free implementation\n204.62user 27.12system 0:09.08elapsed 2551%CPU (0avgtext+0avgdata 737888maxresident)k\n0inputs+0outputs (0major+122158minor)pagefaults 0swaps\n\nSo throughput is improved by ~35% and system overhead is greatly reduced.\nThis is a port of existing code, which will be cleaned up for style and better integrated.  I'm interested in a preliminary review of approach, applicability and interest in getting it fully merged for the moment.", "body": "Addresses #551 and should address #583\n\nFor a benchmark on running the December Inception model 100 times (20 in parallel at a time) on a 32 vcore CPU, results are:\n\nCurrent implementation (baseline)\n\n```\n211.17user 154.92system 0:15.42elapsed 2373%CPU (0avgtext+0avgdata 950024maxresident)k\n0inputs+0outputs (0major+186279minor)pagefaults 0swaps\n```\n\nLock free implementation\n\n```\n204.62user 27.12system 0:09.08elapsed 2551%CPU (0avgtext+0avgdata 737888maxresident)k\n0inputs+0outputs (0major+122158minor)pagefaults 0swaps\n```\n\nSo throughput is improved by ~35% and system overhead is greatly reduced.\n\nThis is a port of existing code, which will be cleaned up for style and better integrated.  I'm interested in a preliminary review of approach, applicability and interest in getting it fully merged for the moment.\n"}