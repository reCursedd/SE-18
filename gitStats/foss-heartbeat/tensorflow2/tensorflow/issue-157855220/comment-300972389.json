{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/300972389", "html_url": "https://github.com/tensorflow/tensorflow/issues/2604#issuecomment-300972389", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2604", "id": 300972389, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDk3MjM4OQ==", "user": {"login": "JcmeLs", "id": 12932339, "node_id": "MDQ6VXNlcjEyOTMyMzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/12932339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JcmeLs", "html_url": "https://github.com/JcmeLs", "followers_url": "https://api.github.com/users/JcmeLs/followers", "following_url": "https://api.github.com/users/JcmeLs/following{/other_user}", "gists_url": "https://api.github.com/users/JcmeLs/gists{/gist_id}", "starred_url": "https://api.github.com/users/JcmeLs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JcmeLs/subscriptions", "organizations_url": "https://api.github.com/users/JcmeLs/orgs", "repos_url": "https://api.github.com/users/JcmeLs/repos", "events_url": "https://api.github.com/users/JcmeLs/events{/privacy}", "received_events_url": "https://api.github.com/users/JcmeLs/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-12T03:08:34Z", "updated_at": "2017-05-12T03:08:34Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> Thanks,It can work now.But when I take data from the batch many times, it will be error.<code>OutOfRangeError (see above for traceback): FIFOQueue '_1_batch/fifo_queue' is closed and has insufficient elements (requested 64, current size 0) [[Node: batch = QueueDequeueManyV2[component_types=[DT_UINT8, DT_UINT8], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](batch/fifo_queue, batch/n)]]</code>My queue code:</p>\n<div class=\"highlight highlight-source-python\"><pre>    coord<span class=\"pl-k\">=</span>tf.train.Coordinator()\n    threads<span class=\"pl-k\">=</span>tf.train.start_queue_runners(<span class=\"pl-v\">sess</span><span class=\"pl-k\">=</span>sess,<span class=\"pl-v\">coord</span><span class=\"pl-k\">=</span>coord)</pre></div>\n<p>batch code:</p>\n<div class=\"highlight highlight-source-python\"><pre>    image_batch, label_batch <span class=\"pl-k\">=</span> tf.train.batch([distorted_image, label],\n                                              <span class=\"pl-v\">batch_size</span><span class=\"pl-k\">=</span>batch_size,\n                                              <span class=\"pl-v\">num_threads</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">4</span>,\n                                              <span class=\"pl-v\">capacity</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">2000</span>)</pre></div>\n<p>Is this queue not looping? Due to the small amount of data, I would like to increase my data through data augmentation. But it have <code>OutOfRangeError</code>.</p>", "body_text": "@mrry Thanks,It can work now.But when I take data from the batch many times, it will be error.OutOfRangeError (see above for traceback): FIFOQueue '_1_batch/fifo_queue' is closed and has insufficient elements (requested 64, current size 0) [[Node: batch = QueueDequeueManyV2[component_types=[DT_UINT8, DT_UINT8], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](batch/fifo_queue, batch/n)]]My queue code:\n    coord=tf.train.Coordinator()\n    threads=tf.train.start_queue_runners(sess=sess,coord=coord)\nbatch code:\n    image_batch, label_batch = tf.train.batch([distorted_image, label],\n                                              batch_size=batch_size,\n                                              num_threads=4,\n                                              capacity=2000)\nIs this queue not looping? Due to the small amount of data, I would like to increase my data through data augmentation. But it have OutOfRangeError.", "body": "@mrry Thanks,It can work now.But when I take data from the batch many times, it will be error.`OutOfRangeError (see above for traceback): FIFOQueue '_1_batch/fifo_queue' is closed and has insufficient elements (requested 64, current size 0)\r\n\t [[Node: batch = QueueDequeueManyV2[component_types=[DT_UINT8, DT_UINT8], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](batch/fifo_queue, batch/n)]]`My queue code:\r\n``` python\r\n    coord=tf.train.Coordinator()\r\n    threads=tf.train.start_queue_runners(sess=sess,coord=coord)\r\n```\r\nbatch code:\r\n``` python\r\n    image_batch, label_batch = tf.train.batch([distorted_image, label],\r\n                                              batch_size=batch_size,\r\n                                              num_threads=4,\r\n                                              capacity=2000)\r\n```\r\nIs this queue not looping? Due to the small amount of data, I would like to increase my data through data augmentation. But it have `OutOfRangeError`."}