{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/159280306", "pull_request_review_id": 86203135, "id": 159280306, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTI4MDMwNg==", "diff_hunk": "@@ -54,7 +54,7 @@ RUN ./configure\n RUN LD_LIBRARY_PATH=${LD_LIBRARY_PATH} \\\n     bazel build --config=mkl \\\n                 --config=\"opt\" \\\n-                --copt=\"-march=native\" \\\n+                --copt=\"-march=broadwell\" \\", "path": "tensorflow/tools/docker/Dockerfile.devel-cpu-mkl", "position": 5, "original_position": 5, "commit_id": "e9c81f40a521373f1fae79dbf898cf33f4682c89", "original_commit_id": "e9c81f40a521373f1fae79dbf898cf33f4682c89", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "body": "Just to confirm then, we are OK with this not working on ivy bridge machines?\r\n\r\nMy understanding was once we have MKL, we can actually build the rest of the binary with as little optimizations as possible. So even disabling AVX here should not deliver a big performance hit to us?\r\nIn other words, as is we wont be able to reliably run this dockerfile in TF official CI because of our ivy bridge machines. Otherwise I am ok with the rest of the change.", "created_at": "2018-01-02T18:04:35Z", "updated_at": "2018-01-02T18:04:36Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/15106#discussion_r159280306", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15106", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/159280306"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/15106#discussion_r159280306"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15106"}}, "body_html": "<p>Just to confirm then, we are OK with this not working on ivy bridge machines?</p>\n<p>My understanding was once we have MKL, we can actually build the rest of the binary with as little optimizations as possible. So even disabling AVX here should not deliver a big performance hit to us?<br>\nIn other words, as is we wont be able to reliably run this dockerfile in TF official CI because of our ivy bridge machines. Otherwise I am ok with the rest of the change.</p>", "body_text": "Just to confirm then, we are OK with this not working on ivy bridge machines?\nMy understanding was once we have MKL, we can actually build the rest of the binary with as little optimizations as possible. So even disabling AVX here should not deliver a big performance hit to us?\nIn other words, as is we wont be able to reliably run this dockerfile in TF official CI because of our ivy bridge machines. Otherwise I am ok with the rest of the change.", "in_reply_to_id": 158564135}