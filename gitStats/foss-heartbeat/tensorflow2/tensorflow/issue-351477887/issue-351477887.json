{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21671", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21671/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21671/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21671/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21671", "id": 351477887, "node_id": "MDU6SXNzdWUzNTE0Nzc4ODc=", "number": 21671, "title": " ./tensorflow/contrib/lite/java/build_aar_for_release.sh command build .so library failed ", "user": {"login": "JuiYang", "id": 13272700, "node_id": "MDQ6VXNlcjEzMjcyNzAw", "avatar_url": "https://avatars1.githubusercontent.com/u/13272700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JuiYang", "html_url": "https://github.com/JuiYang", "followers_url": "https://api.github.com/users/JuiYang/followers", "following_url": "https://api.github.com/users/JuiYang/following{/other_user}", "gists_url": "https://api.github.com/users/JuiYang/gists{/gist_id}", "starred_url": "https://api.github.com/users/JuiYang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JuiYang/subscriptions", "organizations_url": "https://api.github.com/users/JuiYang/orgs", "repos_url": "https://api.github.com/users/JuiYang/repos", "events_url": "https://api.github.com/users/JuiYang/events{/privacy}", "received_events_url": "https://api.github.com/users/JuiYang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-08-17T06:51:40Z", "updated_at": "2018-10-16T17:19:46Z", "closed_at": "2018-10-16T17:19:45Z", "author_association": "NONE", "body_html": "<h3>Output information for the command :</h3>\n<pre><code>++ mktemp -d\n+ TMPDIR=/tmp/tmp.1epU8vtRBz\n+ trap 'rm -rf /tmp/tmp.1epU8vtRBz' EXIT\n+ VERSION=1.0\n+ BUILDER=bazel\n+ BASEDIR=tensorflow/contrib/lite\n+ CROSSTOOL=//external:android/crosstool\n+ HOST_CROSSTOOL=@bazel_tools//tools/cpp:toolchain\n+ BUILD_OPTS='--cxxopt=--std=c++11 -c opt'\n+ CROSSTOOL_OPTS='--crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain'\n+ test -d tensorflow/contrib/lite\n+ rm -rf /tmp/tmp.1epU8vtRBz\n+ mkdir -p /tmp/tmp.1epU8vtRBz/jni\n+ build_basic_aar /tmp/tmp.1epU8vtRBz\n+ local OUTDIR=/tmp/tmp.1epU8vtRBz\n+ bazel build --cxxopt=--std=c++11 -c opt tensorflow/contrib/lite/java:tensorflowlite.aar\nINFO: Build options have changed, discarding analysis cache.\nINFO: Analysed target //tensorflow/contrib/lite/java:tensorflowlite.aar (0 packages loaded).\nINFO: Found 1 target...\nTarget //tensorflow/contrib/lite/java:tensorflowlite.aar up-to-date:\n  bazel-bin/tensorflow/contrib/lite/java/tensorflowlite.aar\nINFO: Elapsed time: 0.499s, Critical Path: 0.00s\nINFO: 0 processes.\nINFO: Build completed successfully, 1 total action\n+ unzip -d /tmp/tmp.1epU8vtRBz bazel-bin/tensorflow/contrib/lite/java/tensorflowlite.aar\nArchive:  bazel-bin/tensorflow/contrib/lite/java/tensorflowlite.aar\n  inflating: /tmp/tmp.1epU8vtRBz/AndroidManifest.xml  \n  inflating: /tmp/tmp.1epU8vtRBz/classes.jar  \n   creating: /tmp/tmp.1epU8vtRBz/res/\n  inflating: /tmp/tmp.1epU8vtRBz/R.txt  \n+ sed -i -e 's/&lt;application&gt;/&lt;uses-sdk android:targetSdkVersion=\"25\"\\/&gt;&lt;application&gt;/' /tmp/tmp.1epU8vtRBz/AndroidManifest.xml\n+ build_arch arm64-v8a arm64-v8a /tmp/tmp.1epU8vtRBz\n+ local ARCH=arm64-v8a\n+ local CONFIG=arm64-v8a\n+ local OUTDIR=/tmp/tmp.1epU8vtRBz\n+ mkdir -p /tmp/tmp.1epU8vtRBz/jni/arm64-v8a/\n+ bazel build --cxxopt=--std=c++11 -c opt --crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --cpu=arm64-v8a tensorflow/contrib/lite/java:libtensorflowlite_jni.so\nINFO: Build options have changed, discarding analysis cache.\nINFO: Analysed target //tensorflow/contrib/lite/java:libtensorflowlite_jni.so (0 packages loaded).\nINFO: Found 1 target...\nERROR: /home/tclxa/tensorflow/tensorflow/contrib/lite/profiling/BUILD:37:1: C++ compilation of rule '//tensorflow/contrib/lite/profiling:time' failed (Exit 1)\nIn file included from tensorflow/contrib/lite/profiling/time.cc:15:\n./tensorflow/contrib/lite/profiling/time.h:18:10: fatal error: 'cstdint' file not found\n#include &lt;cstdint&gt;\n         ^\n1 error generated.\nTarget //tensorflow/contrib/lite/java:libtensorflowlite_jni.so failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 0.575s, Critical Path: 0.15s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully\n+ rm -rf /tmp/tmp.1epU8vtRBz\n</code></pre>\n<p>when I try again, this information would changed.</p>\n<pre><code>.....\n.....\n.....\nERROR: /home/tclxa/tensorflow/tensorflow/contrib/lite/BUILD:272:1: C++ compilation of rule '//tensorflow/contrib/lite:util' failed (Exit 1)\nIn file included from tensorflow/contrib/lite/util.cc:15:\n./tensorflow/contrib/lite/util.h:24:10: fatal error: 'vector' file not found\n#include &lt;vector&gt;\n         ^\n1 error generated.\nTarget //tensorflow/contrib/lite/java:libtensorflowlite_jni.so failed to build\nUse --verbose_failures to see the command lines of failed build steps.\n....\n....\n</code></pre>\n<p>It<code>s a kind of problem.  I try to change gcc-5.4 into gcc-4.7 and g++-5.4 into g++-4.7 .  but its don</code>t work. so how to solve this problem,  very thanks.</p>", "body_text": "Output information for the command :\n++ mktemp -d\n+ TMPDIR=/tmp/tmp.1epU8vtRBz\n+ trap 'rm -rf /tmp/tmp.1epU8vtRBz' EXIT\n+ VERSION=1.0\n+ BUILDER=bazel\n+ BASEDIR=tensorflow/contrib/lite\n+ CROSSTOOL=//external:android/crosstool\n+ HOST_CROSSTOOL=@bazel_tools//tools/cpp:toolchain\n+ BUILD_OPTS='--cxxopt=--std=c++11 -c opt'\n+ CROSSTOOL_OPTS='--crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain'\n+ test -d tensorflow/contrib/lite\n+ rm -rf /tmp/tmp.1epU8vtRBz\n+ mkdir -p /tmp/tmp.1epU8vtRBz/jni\n+ build_basic_aar /tmp/tmp.1epU8vtRBz\n+ local OUTDIR=/tmp/tmp.1epU8vtRBz\n+ bazel build --cxxopt=--std=c++11 -c opt tensorflow/contrib/lite/java:tensorflowlite.aar\nINFO: Build options have changed, discarding analysis cache.\nINFO: Analysed target //tensorflow/contrib/lite/java:tensorflowlite.aar (0 packages loaded).\nINFO: Found 1 target...\nTarget //tensorflow/contrib/lite/java:tensorflowlite.aar up-to-date:\n  bazel-bin/tensorflow/contrib/lite/java/tensorflowlite.aar\nINFO: Elapsed time: 0.499s, Critical Path: 0.00s\nINFO: 0 processes.\nINFO: Build completed successfully, 1 total action\n+ unzip -d /tmp/tmp.1epU8vtRBz bazel-bin/tensorflow/contrib/lite/java/tensorflowlite.aar\nArchive:  bazel-bin/tensorflow/contrib/lite/java/tensorflowlite.aar\n  inflating: /tmp/tmp.1epU8vtRBz/AndroidManifest.xml  \n  inflating: /tmp/tmp.1epU8vtRBz/classes.jar  \n   creating: /tmp/tmp.1epU8vtRBz/res/\n  inflating: /tmp/tmp.1epU8vtRBz/R.txt  \n+ sed -i -e 's/<application>/<uses-sdk android:targetSdkVersion=\"25\"\\/><application>/' /tmp/tmp.1epU8vtRBz/AndroidManifest.xml\n+ build_arch arm64-v8a arm64-v8a /tmp/tmp.1epU8vtRBz\n+ local ARCH=arm64-v8a\n+ local CONFIG=arm64-v8a\n+ local OUTDIR=/tmp/tmp.1epU8vtRBz\n+ mkdir -p /tmp/tmp.1epU8vtRBz/jni/arm64-v8a/\n+ bazel build --cxxopt=--std=c++11 -c opt --crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --cpu=arm64-v8a tensorflow/contrib/lite/java:libtensorflowlite_jni.so\nINFO: Build options have changed, discarding analysis cache.\nINFO: Analysed target //tensorflow/contrib/lite/java:libtensorflowlite_jni.so (0 packages loaded).\nINFO: Found 1 target...\nERROR: /home/tclxa/tensorflow/tensorflow/contrib/lite/profiling/BUILD:37:1: C++ compilation of rule '//tensorflow/contrib/lite/profiling:time' failed (Exit 1)\nIn file included from tensorflow/contrib/lite/profiling/time.cc:15:\n./tensorflow/contrib/lite/profiling/time.h:18:10: fatal error: 'cstdint' file not found\n#include <cstdint>\n         ^\n1 error generated.\nTarget //tensorflow/contrib/lite/java:libtensorflowlite_jni.so failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 0.575s, Critical Path: 0.15s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully\n+ rm -rf /tmp/tmp.1epU8vtRBz\n\nwhen I try again, this information would changed.\n.....\n.....\n.....\nERROR: /home/tclxa/tensorflow/tensorflow/contrib/lite/BUILD:272:1: C++ compilation of rule '//tensorflow/contrib/lite:util' failed (Exit 1)\nIn file included from tensorflow/contrib/lite/util.cc:15:\n./tensorflow/contrib/lite/util.h:24:10: fatal error: 'vector' file not found\n#include <vector>\n         ^\n1 error generated.\nTarget //tensorflow/contrib/lite/java:libtensorflowlite_jni.so failed to build\nUse --verbose_failures to see the command lines of failed build steps.\n....\n....\n\nIts a kind of problem.  I try to change gcc-5.4 into gcc-4.7 and g++-5.4 into g++-4.7 .  but its dont work. so how to solve this problem,  very thanks.", "body": "### Output information for the command :\r\n```\r\n++ mktemp -d\r\n+ TMPDIR=/tmp/tmp.1epU8vtRBz\r\n+ trap 'rm -rf /tmp/tmp.1epU8vtRBz' EXIT\r\n+ VERSION=1.0\r\n+ BUILDER=bazel\r\n+ BASEDIR=tensorflow/contrib/lite\r\n+ CROSSTOOL=//external:android/crosstool\r\n+ HOST_CROSSTOOL=@bazel_tools//tools/cpp:toolchain\r\n+ BUILD_OPTS='--cxxopt=--std=c++11 -c opt'\r\n+ CROSSTOOL_OPTS='--crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain'\r\n+ test -d tensorflow/contrib/lite\r\n+ rm -rf /tmp/tmp.1epU8vtRBz\r\n+ mkdir -p /tmp/tmp.1epU8vtRBz/jni\r\n+ build_basic_aar /tmp/tmp.1epU8vtRBz\r\n+ local OUTDIR=/tmp/tmp.1epU8vtRBz\r\n+ bazel build --cxxopt=--std=c++11 -c opt tensorflow/contrib/lite/java:tensorflowlite.aar\r\nINFO: Build options have changed, discarding analysis cache.\r\nINFO: Analysed target //tensorflow/contrib/lite/java:tensorflowlite.aar (0 packages loaded).\r\nINFO: Found 1 target...\r\nTarget //tensorflow/contrib/lite/java:tensorflowlite.aar up-to-date:\r\n  bazel-bin/tensorflow/contrib/lite/java/tensorflowlite.aar\r\nINFO: Elapsed time: 0.499s, Critical Path: 0.00s\r\nINFO: 0 processes.\r\nINFO: Build completed successfully, 1 total action\r\n+ unzip -d /tmp/tmp.1epU8vtRBz bazel-bin/tensorflow/contrib/lite/java/tensorflowlite.aar\r\nArchive:  bazel-bin/tensorflow/contrib/lite/java/tensorflowlite.aar\r\n  inflating: /tmp/tmp.1epU8vtRBz/AndroidManifest.xml  \r\n  inflating: /tmp/tmp.1epU8vtRBz/classes.jar  \r\n   creating: /tmp/tmp.1epU8vtRBz/res/\r\n  inflating: /tmp/tmp.1epU8vtRBz/R.txt  \r\n+ sed -i -e 's/<application>/<uses-sdk android:targetSdkVersion=\"25\"\\/><application>/' /tmp/tmp.1epU8vtRBz/AndroidManifest.xml\r\n+ build_arch arm64-v8a arm64-v8a /tmp/tmp.1epU8vtRBz\r\n+ local ARCH=arm64-v8a\r\n+ local CONFIG=arm64-v8a\r\n+ local OUTDIR=/tmp/tmp.1epU8vtRBz\r\n+ mkdir -p /tmp/tmp.1epU8vtRBz/jni/arm64-v8a/\r\n+ bazel build --cxxopt=--std=c++11 -c opt --crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --cpu=arm64-v8a tensorflow/contrib/lite/java:libtensorflowlite_jni.so\r\nINFO: Build options have changed, discarding analysis cache.\r\nINFO: Analysed target //tensorflow/contrib/lite/java:libtensorflowlite_jni.so (0 packages loaded).\r\nINFO: Found 1 target...\r\nERROR: /home/tclxa/tensorflow/tensorflow/contrib/lite/profiling/BUILD:37:1: C++ compilation of rule '//tensorflow/contrib/lite/profiling:time' failed (Exit 1)\r\nIn file included from tensorflow/contrib/lite/profiling/time.cc:15:\r\n./tensorflow/contrib/lite/profiling/time.h:18:10: fatal error: 'cstdint' file not found\r\n#include <cstdint>\r\n         ^\r\n1 error generated.\r\nTarget //tensorflow/contrib/lite/java:libtensorflowlite_jni.so failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 0.575s, Critical Path: 0.15s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully\r\n+ rm -rf /tmp/tmp.1epU8vtRBz\r\n```\r\nwhen I try again, this information would changed.\r\n```\r\n.....\r\n.....\r\n.....\r\nERROR: /home/tclxa/tensorflow/tensorflow/contrib/lite/BUILD:272:1: C++ compilation of rule '//tensorflow/contrib/lite:util' failed (Exit 1)\r\nIn file included from tensorflow/contrib/lite/util.cc:15:\r\n./tensorflow/contrib/lite/util.h:24:10: fatal error: 'vector' file not found\r\n#include <vector>\r\n         ^\r\n1 error generated.\r\nTarget //tensorflow/contrib/lite/java:libtensorflowlite_jni.so failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\n....\r\n....\r\n```\r\n\r\nIt`s a kind of problem.  I try to change gcc-5.4 into gcc-4.7 and g++-5.4 into g++-4.7 .  but its don`t work. so how to solve this problem,  very thanks."}