{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/251581178", "html_url": "https://github.com/tensorflow/tensorflow/issues/4759#issuecomment-251581178", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4759", "id": 251581178, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTU4MTE3OA==", "user": {"login": "renganxu", "id": 3160803, "node_id": "MDQ6VXNlcjMxNjA4MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/3160803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/renganxu", "html_url": "https://github.com/renganxu", "followers_url": "https://api.github.com/users/renganxu/followers", "following_url": "https://api.github.com/users/renganxu/following{/other_user}", "gists_url": "https://api.github.com/users/renganxu/gists{/gist_id}", "starred_url": "https://api.github.com/users/renganxu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/renganxu/subscriptions", "organizations_url": "https://api.github.com/users/renganxu/orgs", "repos_url": "https://api.github.com/users/renganxu/repos", "events_url": "https://api.github.com/users/renganxu/events{/privacy}", "received_events_url": "https://api.github.com/users/renganxu/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-05T04:50:08Z", "updated_at": "2016-10-05T04:50:08Z", "author_association": "NONE", "body_html": "<p>I do not understand that. Shouldn't we have two locations? One location is our source, and another location is where we install tensorflow using pip.</p>\n<p>In my environment, the tensorflow source is in<br>\n/cm/shared/scratch/rengan/DL/tensorflow</p>\n<p>My original post used /usr/lib/python2.7/site-packages/tensorflow as the installation location, but I just change the installation to<br>\n/cm/shared/scratch/rengan/packages/usr/lib/python2.7/site-packages/tensorflow</p>\n<p>The file system is NFS, so both the source and installation directories are shared by ps server, worker0 and worker1.</p>\n<p>The thread you referred to didn't solve that issue. I also tried to include the source in PYTHONPATH<br>\nexport PYTHONPATH=/cm/shared/scratch/rengan/DL/tensorflow:$PYTHONPATH</p>\n<p>But when I ran the command on any worker node<br>\nbazel-bin/inception/imagenet_distributed_train <br>\n--batch_size=64 <br>\n--max_steps=2000 <br>\n--data_dir=/cm/shared/scratch/rengan/Data/imagenet-data <br>\n--job_name='worker' <br>\n--task_id=0 <br>\n--ps_hosts='10.141.0.1:2222' <br>\n--worker_hosts='10.141.0.2:2222,10.141.0.3:2222'</p>\n<p>it had error:<br>\nTraceback (most recent call last):<br>\nFile \"/cm/shared/scratch/rengan/DL/models/inception/bazel-bin/inception/imagenet_distributed_train.runfiles/inception/inception/imagenet_distributed_train.py\", line 24, in <br>\nimport tensorflow as tf<br>\nFile \"/cm/shared/scratch/rengan/DL/tensorflow/tensorflow/<strong>init</strong>.py\", line 23, in <br>\nfrom tensorflow.python import *<br>\nFile \"/cm/shared/scratch/rengan/DL/tensorflow/tensorflow/python/<strong>init</strong>.py\", line 60, in <br>\nraise ImportError(msg)<br>\nImportError: Traceback (most recent call last):<br>\nFile \"/cm/shared/scratch/rengan/DL/tensorflow/tensorflow/python/<strong>init</strong>.py\", line 49, in <br>\nfrom tensorflow.python import pywrap_tensorflow<br>\nImportError: cannot import name pywrap_tensorflow</p>\n<p>Error importing tensorflow.  Unless you are using bazel,<br>\nyou should not try to import tensorflow from its source directory;<br>\nplease exit the tensorflow source tree, and relaunch your python interpreter<br>\nfrom there.</p>", "body_text": "I do not understand that. Shouldn't we have two locations? One location is our source, and another location is where we install tensorflow using pip.\nIn my environment, the tensorflow source is in\n/cm/shared/scratch/rengan/DL/tensorflow\nMy original post used /usr/lib/python2.7/site-packages/tensorflow as the installation location, but I just change the installation to\n/cm/shared/scratch/rengan/packages/usr/lib/python2.7/site-packages/tensorflow\nThe file system is NFS, so both the source and installation directories are shared by ps server, worker0 and worker1.\nThe thread you referred to didn't solve that issue. I also tried to include the source in PYTHONPATH\nexport PYTHONPATH=/cm/shared/scratch/rengan/DL/tensorflow:$PYTHONPATH\nBut when I ran the command on any worker node\nbazel-bin/inception/imagenet_distributed_train \n--batch_size=64 \n--max_steps=2000 \n--data_dir=/cm/shared/scratch/rengan/Data/imagenet-data \n--job_name='worker' \n--task_id=0 \n--ps_hosts='10.141.0.1:2222' \n--worker_hosts='10.141.0.2:2222,10.141.0.3:2222'\nit had error:\nTraceback (most recent call last):\nFile \"/cm/shared/scratch/rengan/DL/models/inception/bazel-bin/inception/imagenet_distributed_train.runfiles/inception/inception/imagenet_distributed_train.py\", line 24, in \nimport tensorflow as tf\nFile \"/cm/shared/scratch/rengan/DL/tensorflow/tensorflow/init.py\", line 23, in \nfrom tensorflow.python import *\nFile \"/cm/shared/scratch/rengan/DL/tensorflow/tensorflow/python/init.py\", line 60, in \nraise ImportError(msg)\nImportError: Traceback (most recent call last):\nFile \"/cm/shared/scratch/rengan/DL/tensorflow/tensorflow/python/init.py\", line 49, in \nfrom tensorflow.python import pywrap_tensorflow\nImportError: cannot import name pywrap_tensorflow\nError importing tensorflow.  Unless you are using bazel,\nyou should not try to import tensorflow from its source directory;\nplease exit the tensorflow source tree, and relaunch your python interpreter\nfrom there.", "body": "I do not understand that. Shouldn't we have two locations? One location is our source, and another location is where we install tensorflow using pip.\n\nIn my environment, the tensorflow source is in \n/cm/shared/scratch/rengan/DL/tensorflow\n\nMy original post used /usr/lib/python2.7/site-packages/tensorflow as the installation location, but I just change the installation to\n/cm/shared/scratch/rengan/packages/usr/lib/python2.7/site-packages/tensorflow\n\nThe file system is NFS, so both the source and installation directories are shared by ps server, worker0 and worker1. \n\nThe thread you referred to didn't solve that issue. I also tried to include the source in PYTHONPATH\nexport PYTHONPATH=/cm/shared/scratch/rengan/DL/tensorflow:$PYTHONPATH\n\nBut when I ran the command on any worker node\nbazel-bin/inception/imagenet_distributed_train \\\n--batch_size=64 \\\n--max_steps=2000 \\\n--data_dir=/cm/shared/scratch/rengan/Data/imagenet-data \\\n--job_name='worker' \\\n--task_id=0 \\\n--ps_hosts='10.141.0.1:2222' \\\n--worker_hosts='10.141.0.2:2222,10.141.0.3:2222'\n\nit had error:\nTraceback (most recent call last):\n  File \"/cm/shared/scratch/rengan/DL/models/inception/bazel-bin/inception/imagenet_distributed_train.runfiles/inception/inception/imagenet_distributed_train.py\", line 24, in <module>\n    import tensorflow as tf\n  File \"/cm/shared/scratch/rengan/DL/tensorflow/tensorflow/**init**.py\", line 23, in <module>\n    from tensorflow.python import *\n  File \"/cm/shared/scratch/rengan/DL/tensorflow/tensorflow/python/**init**.py\", line 60, in <module>\n    raise ImportError(msg)\nImportError: Traceback (most recent call last):\n  File \"/cm/shared/scratch/rengan/DL/tensorflow/tensorflow/python/**init**.py\", line 49, in <module>\n    from tensorflow.python import pywrap_tensorflow\nImportError: cannot import name pywrap_tensorflow\n\nError importing tensorflow.  Unless you are using bazel,\nyou should not try to import tensorflow from its source directory;\nplease exit the tensorflow source tree, and relaunch your python interpreter\nfrom there.\n"}