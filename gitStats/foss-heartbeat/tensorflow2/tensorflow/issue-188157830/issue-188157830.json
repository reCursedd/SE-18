{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5488", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5488/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5488/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5488/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5488", "id": 188157830, "node_id": "MDU6SXNzdWUxODgxNTc4MzA=", "number": 5488, "title": "Tensoflow slim eval_image_classifier with TypeError Can not convert a dict_values into a Tensor or Operation.)", "user": {"login": "jajenQin", "id": 19484337, "node_id": "MDQ6VXNlcjE5NDg0MzM3", "avatar_url": "https://avatars1.githubusercontent.com/u/19484337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jajenQin", "html_url": "https://github.com/jajenQin", "followers_url": "https://api.github.com/users/jajenQin/followers", "following_url": "https://api.github.com/users/jajenQin/following{/other_user}", "gists_url": "https://api.github.com/users/jajenQin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jajenQin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jajenQin/subscriptions", "organizations_url": "https://api.github.com/users/jajenQin/orgs", "repos_url": "https://api.github.com/users/jajenQin/repos", "events_url": "https://api.github.com/users/jajenQin/events{/privacy}", "received_events_url": "https://api.github.com/users/jajenQin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "sguada", "id": 1766524, "node_id": "MDQ6VXNlcjE3NjY1MjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1766524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sguada", "html_url": "https://github.com/sguada", "followers_url": "https://api.github.com/users/sguada/followers", "following_url": "https://api.github.com/users/sguada/following{/other_user}", "gists_url": "https://api.github.com/users/sguada/gists{/gist_id}", "starred_url": "https://api.github.com/users/sguada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sguada/subscriptions", "organizations_url": "https://api.github.com/users/sguada/orgs", "repos_url": "https://api.github.com/users/sguada/repos", "events_url": "https://api.github.com/users/sguada/events{/privacy}", "received_events_url": "https://api.github.com/users/sguada/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sguada", "id": 1766524, "node_id": "MDQ6VXNlcjE3NjY1MjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1766524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sguada", "html_url": "https://github.com/sguada", "followers_url": "https://api.github.com/users/sguada/followers", "following_url": "https://api.github.com/users/sguada/following{/other_user}", "gists_url": "https://api.github.com/users/sguada/gists{/gist_id}", "starred_url": "https://api.github.com/users/sguada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sguada/subscriptions", "organizations_url": "https://api.github.com/users/sguada/orgs", "repos_url": "https://api.github.com/users/sguada/repos", "events_url": "https://api.github.com/users/sguada/events{/privacy}", "received_events_url": "https://api.github.com/users/sguada/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-11-09T03:01:35Z", "updated_at": "2017-06-16T20:57:17Z", "closed_at": "2017-06-16T20:57:17Z", "author_association": "NONE", "body_html": "<p>I\u2018m studying the tensoflow, and want to test the example of slim. When I command ./scripts/train_lenet_on_mnist.sh, The program run to eval_image_classifier give a Type Error, The Error information as follows:</p>\n<p>I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally<br>\nINFO:tensorflow:Scale of 0 disables regularizer.<br>\nINFO:tensorflow:Evaluating /tmp/lenet-model/model.ckpt-20002<br>\nINFO:tensorflow:Starting evaluation at 2016-11-09-02:55:57<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:<br>\nname: Quadro K5000<br>\nmajor: 3 minor: 0 memoryClockRate (GHz) 0.7055<br>\npciBusID 0000:03:00.0<br>\nTotal memory: 3.94GiB<br>\nFree memory: 3.61GiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: Quadro K5000, pci bus id: 0000:03:00.0)<br>\nINFO:tensorflow:Executing eval ops<br>\nINFO:tensorflow:Executing eval_op 1/100<br>\nINFO:tensorflow:Error reported to Coordinator: &lt;class 'TypeError'&gt;, Fetch argument <strong>dict_values([&lt;tf.Tensor 'accuracy/update_op:0' shape=() dtype=float32&gt;, &lt;tf.Tensor 'recall_at_5/update_op:0' shape=() dtype=float32&gt;]) has invalid type &lt;class 'dict_values'&gt;, must be a string or Tensor. (Can not convert a dict_values into a Tensor or Operation.)<br>\nTraceback (most recent call last):</strong><br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 218, in <strong>init</strong><br>\nfetch, allow_tensor=True, allow_operation=True))<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 2455, in as_graph_element<br>\nreturn self._as_graph_element_locked(obj, allow_tensor, allow_operation)<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 2547, in _as_graph_element_locked<br>\n% (type(obj).<strong>name</strong>, types_str))<br>\nTypeError: Can not convert a dict_values into a Tensor or Operation.</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):<br>\nFile \"eval_image_classifier.py\", line 191, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv[:1] + flags_passthrough))<br>\nFile \"eval_image_classifier.py\", line 187, in main<br>\nvariables_to_restore=variables_to_restore)<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/slim/python/slim/evaluation.py\", line 359, in evaluate_once<br>\nglobal_step=global_step)<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/slim/python/slim/evaluation.py\", line 260, in evaluation<br>\nsess.run(eval_op, eval_op_feed_dict)<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 717, in run<br>\nrun_metadata_ptr)<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 902, in _run<br>\nfetch_handler = _FetchHandler(self._graph, fetches, feed_dict_string)<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 358, in <strong>init</strong><br>\nself._fetch_mapper = _FetchMapper.for_fetch(fetches)<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 189, in for_fetch<br>\nreturn _ElementFetchMapper(fetches, contraction_fn)<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 222, in <strong>init</strong><br>\n% (fetch, type(fetch), str(e)))<br>\nTypeError: Fetch argument dict_values([&lt;tf.Tensor 'accuracy/update_op:0' shape=() dtype=float32&gt;, &lt;tf.Tensor 'recall_at_5/update_op:0' shape=() dtype=float32&gt;]) has invalid type &lt;class 'dict_values'&gt;, must be a string or Tensor. (Can not convert a dict_values into a Tensor or Operation.)</p>\n<p>I don't know what happened to the program, I didnot revised any code, just download the code package from github, and for datadownload and train, which give correct result.Is there any help me?  I am waiting online. Thanks</p>", "body_text": "I\u2018m studying the tensoflow, and want to test the example of slim. When I command ./scripts/train_lenet_on_mnist.sh, The program run to eval_image_classifier give a Type Error, The Error information as follows:\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\nINFO:tensorflow:Scale of 0 disables regularizer.\nINFO:tensorflow:Evaluating /tmp/lenet-model/model.ckpt-20002\nINFO:tensorflow:Starting evaluation at 2016-11-09-02:55:57\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\nname: Quadro K5000\nmajor: 3 minor: 0 memoryClockRate (GHz) 0.7055\npciBusID 0000:03:00.0\nTotal memory: 3.94GiB\nFree memory: 3.61GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Quadro K5000, pci bus id: 0000:03:00.0)\nINFO:tensorflow:Executing eval ops\nINFO:tensorflow:Executing eval_op 1/100\nINFO:tensorflow:Error reported to Coordinator: <class 'TypeError'>, Fetch argument dict_values([<tf.Tensor 'accuracy/update_op:0' shape=() dtype=float32>, <tf.Tensor 'recall_at_5/update_op:0' shape=() dtype=float32>]) has invalid type <class 'dict_values'>, must be a string or Tensor. (Can not convert a dict_values into a Tensor or Operation.)\nTraceback (most recent call last):\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 218, in init\nfetch, allow_tensor=True, allow_operation=True))\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 2455, in as_graph_element\nreturn self._as_graph_element_locked(obj, allow_tensor, allow_operation)\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 2547, in _as_graph_element_locked\n% (type(obj).name, types_str))\nTypeError: Can not convert a dict_values into a Tensor or Operation.\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"eval_image_classifier.py\", line 191, in \ntf.app.run()\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv[:1] + flags_passthrough))\nFile \"eval_image_classifier.py\", line 187, in main\nvariables_to_restore=variables_to_restore)\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/slim/python/slim/evaluation.py\", line 359, in evaluate_once\nglobal_step=global_step)\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/slim/python/slim/evaluation.py\", line 260, in evaluation\nsess.run(eval_op, eval_op_feed_dict)\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 717, in run\nrun_metadata_ptr)\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 902, in _run\nfetch_handler = _FetchHandler(self._graph, fetches, feed_dict_string)\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 358, in init\nself._fetch_mapper = _FetchMapper.for_fetch(fetches)\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 189, in for_fetch\nreturn _ElementFetchMapper(fetches, contraction_fn)\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 222, in init\n% (fetch, type(fetch), str(e)))\nTypeError: Fetch argument dict_values([<tf.Tensor 'accuracy/update_op:0' shape=() dtype=float32>, <tf.Tensor 'recall_at_5/update_op:0' shape=() dtype=float32>]) has invalid type <class 'dict_values'>, must be a string or Tensor. (Can not convert a dict_values into a Tensor or Operation.)\nI don't know what happened to the program, I didnot revised any code, just download the code package from github, and for datadownload and train, which give correct result.Is there any help me?  I am waiting online. Thanks", "body": "I\u2018m studying the tensoflow, and want to test the example of slim. When I command ./scripts/train_lenet_on_mnist.sh, The program run to eval_image_classifier give a Type Error, The Error information as follows:\r\n\r\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\r\nINFO:tensorflow:Scale of 0 disables regularizer.\r\nINFO:tensorflow:Evaluating /tmp/lenet-model/model.ckpt-20002\r\nINFO:tensorflow:Starting evaluation at 2016-11-09-02:55:57\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\r\nname: Quadro K5000\r\nmajor: 3 minor: 0 memoryClockRate (GHz) 0.7055\r\npciBusID 0000:03:00.0\r\nTotal memory: 3.94GiB\r\nFree memory: 3.61GiB\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Quadro K5000, pci bus id: 0000:03:00.0)\r\nINFO:tensorflow:Executing eval ops\r\nINFO:tensorflow:Executing eval_op 1/100\r\nINFO:tensorflow:Error reported to Coordinator: <class 'TypeError'>, Fetch argument **dict_values([<tf.Tensor 'accuracy/update_op:0' shape=() dtype=float32>, <tf.Tensor 'recall_at_5/update_op:0' shape=() dtype=float32>]) has invalid type <class 'dict_values'>, must be a string or Tensor. (Can not convert a dict_values into a Tensor or Operation.)\r\nTraceback (most recent call last):**\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 218, in __init__\r\n    fetch, allow_tensor=True, allow_operation=True))\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 2455, in as_graph_element\r\n    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/ops.py\", line 2547, in _as_graph_element_locked\r\n    % (type(obj).__name__, types_str))\r\nTypeError: Can not convert a dict_values into a Tensor or Operation.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"eval_image_classifier.py\", line 191, in <module>\r\n    tf.app.run()\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"eval_image_classifier.py\", line 187, in main\r\n    variables_to_restore=variables_to_restore)\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/slim/python/slim/evaluation.py\", line 359, in evaluate_once\r\n    global_step=global_step)\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/slim/python/slim/evaluation.py\", line 260, in evaluation\r\n    sess.run(eval_op, eval_op_feed_dict)\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 717, in run\r\n    run_metadata_ptr)\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 902, in _run\r\n    fetch_handler = _FetchHandler(self._graph, fetches, feed_dict_string)\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 358, in __init__\r\n    self._fetch_mapper = _FetchMapper.for_fetch(fetches)\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 189, in for_fetch\r\n    return _ElementFetchMapper(fetches, contraction_fn)\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 222, in __init__\r\n    % (fetch, type(fetch), str(e)))\r\nTypeError: Fetch argument dict_values([<tf.Tensor 'accuracy/update_op:0' shape=() dtype=float32>, <tf.Tensor 'recall_at_5/update_op:0' shape=() dtype=float32>]) has invalid type <class 'dict_values'>, must be a string or Tensor. (Can not convert a dict_values into a Tensor or Operation.)\r\n\r\nI don't know what happened to the program, I didnot revised any code, just download the code package from github, and for datadownload and train, which give correct result.Is there any help me?  I am waiting online. Thanks\r\n"}