{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/366241932", "html_url": "https://github.com/tensorflow/tensorflow/issues/17043#issuecomment-366241932", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17043", "id": 366241932, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjI0MTkzMg==", "user": {"login": "bioothod", "id": 1847575, "node_id": "MDQ6VXNlcjE4NDc1NzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1847575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bioothod", "html_url": "https://github.com/bioothod", "followers_url": "https://api.github.com/users/bioothod/followers", "following_url": "https://api.github.com/users/bioothod/following{/other_user}", "gists_url": "https://api.github.com/users/bioothod/gists{/gist_id}", "starred_url": "https://api.github.com/users/bioothod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bioothod/subscriptions", "organizations_url": "https://api.github.com/users/bioothod/orgs", "repos_url": "https://api.github.com/users/bioothod/repos", "events_url": "https://api.github.com/users/bioothod/events{/privacy}", "received_events_url": "https://api.github.com/users/bioothod/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-16T13:57:54Z", "updated_at": "2018-02-16T13:57:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Following patch fixes segmentation fault, but network produces garbage outputs, disabling avx512 fixes this</p>\n<pre><code>diff --git a/third_party/eigen.BUILD b/third_party/eigen.BUILD\nindex 07bb664..b88d9ca 100644\n--- a/third_party/eigen.BUILD\n+++ b/third_party/eigen.BUILD\n@@ -64,6 +64,7 @@ cc_library(\n         # This define (mostly) guarantees we don't link any problematic\n         # code. We use it, but we do not rely on it, as evidenced above.\n         \"EIGEN_MPL2_ONLY\",\n+       \"EIGEN_MAX_ALIGN_BYTES=64\"\n     ],\n     includes = [\".\"],\n     visibility = [\"//visibility:public\"],\n</code></pre>", "body_text": "Following patch fixes segmentation fault, but network produces garbage outputs, disabling avx512 fixes this\ndiff --git a/third_party/eigen.BUILD b/third_party/eigen.BUILD\nindex 07bb664..b88d9ca 100644\n--- a/third_party/eigen.BUILD\n+++ b/third_party/eigen.BUILD\n@@ -64,6 +64,7 @@ cc_library(\n         # This define (mostly) guarantees we don't link any problematic\n         # code. We use it, but we do not rely on it, as evidenced above.\n         \"EIGEN_MPL2_ONLY\",\n+       \"EIGEN_MAX_ALIGN_BYTES=64\"\n     ],\n     includes = [\".\"],\n     visibility = [\"//visibility:public\"],", "body": "Following patch fixes segmentation fault, but network produces garbage outputs, disabling avx512 fixes this\r\n\r\n```\r\ndiff --git a/third_party/eigen.BUILD b/third_party/eigen.BUILD\r\nindex 07bb664..b88d9ca 100644\r\n--- a/third_party/eigen.BUILD\r\n+++ b/third_party/eigen.BUILD\r\n@@ -64,6 +64,7 @@ cc_library(\r\n         # This define (mostly) guarantees we don't link any problematic\r\n         # code. We use it, but we do not rely on it, as evidenced above.\r\n         \"EIGEN_MPL2_ONLY\",\r\n+       \"EIGEN_MAX_ALIGN_BYTES=64\"\r\n     ],\r\n     includes = [\".\"],\r\n     visibility = [\"//visibility:public\"],\r\n```"}