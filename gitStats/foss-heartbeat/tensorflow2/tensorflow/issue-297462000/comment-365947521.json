{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/365947521", "html_url": "https://github.com/tensorflow/tensorflow/issues/17043#issuecomment-365947521", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17043", "id": 365947521, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTk0NzUyMQ==", "user": {"login": "bioothod", "id": 1847575, "node_id": "MDQ6VXNlcjE4NDc1NzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1847575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bioothod", "html_url": "https://github.com/bioothod", "followers_url": "https://api.github.com/users/bioothod/followers", "following_url": "https://api.github.com/users/bioothod/following{/other_user}", "gists_url": "https://api.github.com/users/bioothod/gists{/gist_id}", "starred_url": "https://api.github.com/users/bioothod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bioothod/subscriptions", "organizations_url": "https://api.github.com/users/bioothod/orgs", "repos_url": "https://api.github.com/users/bioothod/repos", "events_url": "https://api.github.com/users/bioothod/events{/privacy}", "received_events_url": "https://api.github.com/users/bioothod/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-15T14:43:33Z", "updated_at": "2018-02-15T14:43:33Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I tried this patch for avx512 alignment, but it doe not help</p>\n<pre><code>--- a/tensorflow/core/framework/allocator.h\n+++ b/tensorflow/core/framework/allocator.h\n@@ -67,13 +67,8 @@ struct AllocatorStats {\n // device memory.\n class Allocator {\n  public:\n-#ifdef EIGEN_VECTORIZE_AVX512\n   // Align to 64 byte boundary.\n   static constexpr size_t kAllocatorAlignment = 64;\n-#else\n-  // Align to 32 byte boundary.\n-  static constexpr size_t kAllocatorAlignment = 32;\n-#endif\n</code></pre>", "body_text": "I tried this patch for avx512 alignment, but it doe not help\n--- a/tensorflow/core/framework/allocator.h\n+++ b/tensorflow/core/framework/allocator.h\n@@ -67,13 +67,8 @@ struct AllocatorStats {\n // device memory.\n class Allocator {\n  public:\n-#ifdef EIGEN_VECTORIZE_AVX512\n   // Align to 64 byte boundary.\n   static constexpr size_t kAllocatorAlignment = 64;\n-#else\n-  // Align to 32 byte boundary.\n-  static constexpr size_t kAllocatorAlignment = 32;\n-#endif", "body": "I tried this patch for avx512 alignment, but it doe not help\r\n\r\n```\r\n--- a/tensorflow/core/framework/allocator.h\r\n+++ b/tensorflow/core/framework/allocator.h\r\n@@ -67,13 +67,8 @@ struct AllocatorStats {\r\n // device memory.\r\n class Allocator {\r\n  public:\r\n-#ifdef EIGEN_VECTORIZE_AVX512\r\n   // Align to 64 byte boundary.\r\n   static constexpr size_t kAllocatorAlignment = 64;\r\n-#else\r\n-  // Align to 32 byte boundary.\r\n-  static constexpr size_t kAllocatorAlignment = 32;\r\n-#endif\r\n```"}