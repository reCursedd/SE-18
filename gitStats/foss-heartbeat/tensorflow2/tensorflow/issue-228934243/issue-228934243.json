{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9929", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9929/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9929/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9929/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9929", "id": 228934243, "node_id": "MDU6SXNzdWUyMjg5MzQyNDM=", "number": 9929, "title": "Compiling tensorflow 1.1 under Centos 7", "user": {"login": "rdaiasy", "id": 28724470, "node_id": "MDQ6VXNlcjI4NzI0NDcw", "avatar_url": "https://avatars0.githubusercontent.com/u/28724470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rdaiasy", "html_url": "https://github.com/rdaiasy", "followers_url": "https://api.github.com/users/rdaiasy/followers", "following_url": "https://api.github.com/users/rdaiasy/following{/other_user}", "gists_url": "https://api.github.com/users/rdaiasy/gists{/gist_id}", "starred_url": "https://api.github.com/users/rdaiasy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rdaiasy/subscriptions", "organizations_url": "https://api.github.com/users/rdaiasy/orgs", "repos_url": "https://api.github.com/users/rdaiasy/repos", "events_url": "https://api.github.com/users/rdaiasy/events{/privacy}", "received_events_url": "https://api.github.com/users/rdaiasy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-05-16T07:05:48Z", "updated_at": "2018-01-04T07:20:22Z", "closed_at": "2018-01-04T07:20:21Z", "author_association": "NONE", "body_html": "<p>I'm trying to compile tensorflow with cuda support under linux Centos 7 distribution.</p>\n<p>I followed the instructions provides at <a href=\"https://gist.github.com/gentaiscool/a628fab5cd98953af7f46b69463394b3\">github: gentaiscool/tensorflow.md </a> with no success.</p>\n<p>In this page they ask for hacking the file tensorflow/third_party/gpus/crosstool/CROSSTOOL (adding the line \"cxx_builtin_include_directory : \"/usr/local/cuda/targets/x86_64-linux/include\").</p>\n<p>In the current version of Tensorflow (1.1) there is no such a file; similar files, such as: CROSSTOOL.tpl, CROSSTOOL_nvcc.tpl, CROSSTOOL_clang.tpl, are found. I tried the proposed hacking on each of these files and didn't get successful compilation.</p>\n<p>Since I'm interested is tensorflow deployment, I'm compiling it using the instructions found in <a href=\"https://github.com/cjweeks/tensorflow-cmake\">gitgub cjweeks/tensorflow-cmake</a> (building a library to be linked with a C++ based program). My build command is:</p>\n<p><code>bazel build -c opt --config=cuda tensorflow:libtensorflow_all.so</code></p>\n<p>The error I've got is:</p>\n<p><code>ERROR: /root/tensorflow/tensorflow/core/kernels/BUILD:3004:1: undeclared inclusion(s) in rule '//tensorflow/core/kernels:depth_space_ops_gpu': this rule is missing dependency declarations for the following files included by 'tensorflow/core/kernels/spacetodepth_op_gpu.cu.cc': '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/limits.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/syslimits.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stddef.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stdarg.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stdint.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/x86intrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/ia32intrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/mmintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/xmmintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/mm_malloc.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/emmintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/immintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/fxsrintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/adxintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/float.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stdbool.h'.</code></p>\n<p>System information:</p>\n<ul>\n<li>Linux Centos 7.2</li>\n<li>Kernel: 3.10.0-327.36.1.el7.x86_64</li>\n<li>Compiler: gcc version 4.8.5 20150623 (Red Hat 4.8.5-4) (GCC)</li>\n<li>Tensorflow: 1.1, installed from source.</li>\n<li>nvcc: Cuda compilation tools, release 8.0, V8.0.44</li>\n<li>CUDA: 8.0</li>\n<li>cudaa: 5.1.5</li>\n<li>bazel: 0.4.5</li>\n</ul>\n<p>Any help please?</p>\n<p>Thanks in advance,</p>\n<p>Ron.</p>", "body_text": "I'm trying to compile tensorflow with cuda support under linux Centos 7 distribution.\nI followed the instructions provides at github: gentaiscool/tensorflow.md  with no success.\nIn this page they ask for hacking the file tensorflow/third_party/gpus/crosstool/CROSSTOOL (adding the line \"cxx_builtin_include_directory : \"/usr/local/cuda/targets/x86_64-linux/include\").\nIn the current version of Tensorflow (1.1) there is no such a file; similar files, such as: CROSSTOOL.tpl, CROSSTOOL_nvcc.tpl, CROSSTOOL_clang.tpl, are found. I tried the proposed hacking on each of these files and didn't get successful compilation.\nSince I'm interested is tensorflow deployment, I'm compiling it using the instructions found in gitgub cjweeks/tensorflow-cmake (building a library to be linked with a C++ based program). My build command is:\nbazel build -c opt --config=cuda tensorflow:libtensorflow_all.so\nThe error I've got is:\nERROR: /root/tensorflow/tensorflow/core/kernels/BUILD:3004:1: undeclared inclusion(s) in rule '//tensorflow/core/kernels:depth_space_ops_gpu': this rule is missing dependency declarations for the following files included by 'tensorflow/core/kernels/spacetodepth_op_gpu.cu.cc': '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/limits.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/syslimits.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stddef.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stdarg.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stdint.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/x86intrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/ia32intrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/mmintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/xmmintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/mm_malloc.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/emmintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/immintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/fxsrintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/adxintrin.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/float.h' '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stdbool.h'.\nSystem information:\n\nLinux Centos 7.2\nKernel: 3.10.0-327.36.1.el7.x86_64\nCompiler: gcc version 4.8.5 20150623 (Red Hat 4.8.5-4) (GCC)\nTensorflow: 1.1, installed from source.\nnvcc: Cuda compilation tools, release 8.0, V8.0.44\nCUDA: 8.0\ncudaa: 5.1.5\nbazel: 0.4.5\n\nAny help please?\nThanks in advance,\nRon.", "body": "I'm trying to compile tensorflow with cuda support under linux Centos 7 distribution.\r\n\r\nI followed the instructions provides at [github: gentaiscool/tensorflow.md ](https://gist.github.com/gentaiscool/a628fab5cd98953af7f46b69463394b3) with no success.\r\n\r\nIn this page they ask for hacking the file tensorflow/third_party/gpus/crosstool/CROSSTOOL (adding the line \"cxx_builtin_include_directory : \"/usr/local/cuda/targets/x86_64-linux/include\").\r\n\r\nIn the current version of Tensorflow (1.1) there is no such a file; similar files, such as: CROSSTOOL.tpl, CROSSTOOL_nvcc.tpl, CROSSTOOL_clang.tpl, are found. I tried the proposed hacking on each of these files and didn't get successful compilation.\r\n\r\nSince I'm interested is tensorflow deployment, I'm compiling it using the instructions found in [gitgub cjweeks/tensorflow-cmake](https://github.com/cjweeks/tensorflow-cmake) (building a library to be linked with a C++ based program). My build command is:\r\n\r\n`bazel build -c opt --config=cuda tensorflow:libtensorflow_all.so`\r\n\r\nThe error I've got is:\r\n\r\n`ERROR: /root/tensorflow/tensorflow/core/kernels/BUILD:3004:1: undeclared inclusion(s) in rule '//tensorflow/core/kernels:depth_space_ops_gpu':\r\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/kernels/spacetodepth_op_gpu.cu.cc':\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/limits.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/syslimits.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stddef.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stdarg.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stdint.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/x86intrin.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/ia32intrin.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/mmintrin.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/xmmintrin.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/mm_malloc.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/emmintrin.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/immintrin.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/fxsrintrin.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/adxintrin.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/float.h'\r\n  '/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include/stdbool.h'.`\r\n\r\nSystem information:\r\n\r\n- Linux Centos 7.2\r\n- Kernel: 3.10.0-327.36.1.el7.x86_64\r\n- Compiler: gcc version 4.8.5 20150623 (Red Hat 4.8.5-4) (GCC)\r\n- Tensorflow: 1.1, installed from source.\r\n- nvcc: Cuda compilation tools, release 8.0, V8.0.44\r\n- CUDA: 8.0\r\n- cudaa: 5.1.5\r\n- bazel: 0.4.5\r\n\r\nAny help please?\r\n\r\nThanks in advance,\r\n\r\nRon."}