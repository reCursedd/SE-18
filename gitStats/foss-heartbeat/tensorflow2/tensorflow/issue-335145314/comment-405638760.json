{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/405638760", "html_url": "https://github.com/tensorflow/tensorflow/issues/20255#issuecomment-405638760", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20255", "id": 405638760, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTYzODc2MA==", "user": {"login": "jsimsa", "id": 1072079, "node_id": "MDQ6VXNlcjEwNzIwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1072079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsimsa", "html_url": "https://github.com/jsimsa", "followers_url": "https://api.github.com/users/jsimsa/followers", "following_url": "https://api.github.com/users/jsimsa/following{/other_user}", "gists_url": "https://api.github.com/users/jsimsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsimsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsimsa/subscriptions", "organizations_url": "https://api.github.com/users/jsimsa/orgs", "repos_url": "https://api.github.com/users/jsimsa/repos", "events_url": "https://api.github.com/users/jsimsa/events{/privacy}", "received_events_url": "https://api.github.com/users/jsimsa/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-17T16:11:11Z", "updated_at": "2018-07-18T01:59:12Z", "author_association": "MEMBER", "body_html": "<p>Hello <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1200058\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Hoeze\">@Hoeze</a> there is already a way to do that.</p>\n<p>Here is an example that illustrates how to sum the elements of a dataset:</p>\n<pre><code>import numpy as np\nimport tensorflow as tf\n\ndef key_fn(value):\n  return np.int64(0)\n\ndef init_fn(key):\n  return np.int64(0)\n\ndef reduce_fn(value, state):\n  return state + value\n\ndef finalize_fn(state):\n  return state\n\nreducer = tf.contrib.data.Reducer(init_fn, reduce_fn, finalize_fn)\ndataset = tf.data.Dataset.range(10).apply(tf.contrib.data.group_by_reducer(key_fn, reducer))\nvalue = tf.contrib.data.get_single_element(dataset)\n\nwith tf.Session() as sess:\n  print(sess.run(value))\n</code></pre>\n<p>This example produces <code>45</code> as the output.</p>", "body_text": "Hello @Hoeze there is already a way to do that.\nHere is an example that illustrates how to sum the elements of a dataset:\nimport numpy as np\nimport tensorflow as tf\n\ndef key_fn(value):\n  return np.int64(0)\n\ndef init_fn(key):\n  return np.int64(0)\n\ndef reduce_fn(value, state):\n  return state + value\n\ndef finalize_fn(state):\n  return state\n\nreducer = tf.contrib.data.Reducer(init_fn, reduce_fn, finalize_fn)\ndataset = tf.data.Dataset.range(10).apply(tf.contrib.data.group_by_reducer(key_fn, reducer))\nvalue = tf.contrib.data.get_single_element(dataset)\n\nwith tf.Session() as sess:\n  print(sess.run(value))\n\nThis example produces 45 as the output.", "body": "Hello @Hoeze there is already a way to do that.\r\n\r\nHere is an example that illustrates how to sum the elements of a dataset:\r\n\r\n```\r\nimport numpy as np\r\nimport tensorflow as tf\r\n\r\ndef key_fn(value):\r\n  return np.int64(0)\r\n\r\ndef init_fn(key):\r\n  return np.int64(0)\r\n\r\ndef reduce_fn(value, state):\r\n  return state + value\r\n\r\ndef finalize_fn(state):\r\n  return state\r\n\r\nreducer = tf.contrib.data.Reducer(init_fn, reduce_fn, finalize_fn)\r\ndataset = tf.data.Dataset.range(10).apply(tf.contrib.data.group_by_reducer(key_fn, reducer))\r\nvalue = tf.contrib.data.get_single_element(dataset)\r\n\r\nwith tf.Session() as sess:\r\n  print(sess.run(value))\r\n```\r\n\r\nThis example produces `45` as the output."}