{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/306188267", "html_url": "https://github.com/tensorflow/tensorflow/issues/9868#issuecomment-306188267", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9868", "id": 306188267, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjE4ODI2Nw==", "user": {"login": "al626", "id": 19927736, "node_id": "MDQ6VXNlcjE5OTI3NzM2", "avatar_url": "https://avatars3.githubusercontent.com/u/19927736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/al626", "html_url": "https://github.com/al626", "followers_url": "https://api.github.com/users/al626/followers", "following_url": "https://api.github.com/users/al626/following{/other_user}", "gists_url": "https://api.github.com/users/al626/gists{/gist_id}", "starred_url": "https://api.github.com/users/al626/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/al626/subscriptions", "organizations_url": "https://api.github.com/users/al626/orgs", "repos_url": "https://api.github.com/users/al626/repos", "events_url": "https://api.github.com/users/al626/events{/privacy}", "received_events_url": "https://api.github.com/users/al626/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-05T13:33:10Z", "updated_at": "2017-06-05T13:33:10Z", "author_association": "NONE", "body_html": "<p>This was fixed in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"229998254\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/keras-team/keras/issues/6693\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/keras-team/keras/pull/6693/hovercard\" href=\"https://github.com/keras-team/keras/pull/6693\">keras-team/keras#6693</a></p>\n<p>A simple example:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">from</span> tensorflow.python.client <span class=\"pl-k\">import</span> timeline\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Make your keras model</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> ...</span>\nrun_options <span class=\"pl-k\">=</span> tf.RunOptions(<span class=\"pl-v\">trace_level</span><span class=\"pl-k\">=</span>tf.RunOptions.<span class=\"pl-c1\">FULL_TRACE</span>)\nrun_metadata <span class=\"pl-k\">=</span> tf.RunMetadata()\nmodel.compile(<span class=\"pl-v\">loss</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>MSE<span class=\"pl-pds\">'</span></span>, <span class=\"pl-v\">optimizer</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>Adam<span class=\"pl-pds\">'</span></span>, <span class=\"pl-v\">options</span><span class=\"pl-k\">=</span>run_options, <span class=\"pl-v\">run_metadata</span><span class=\"pl-k\">=</span>run_metadata)\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Run model in your usual way</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> ...</span>\ntrace <span class=\"pl-k\">=</span> timeline.Timeline(<span class=\"pl-v\">step_stats</span><span class=\"pl-k\">=</span>run_metadata.step_stats)\n<span class=\"pl-k\">with</span> <span class=\"pl-c1\">open</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>timeline.ctf.json<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>w<span class=\"pl-pds\">'</span></span>) <span class=\"pl-k\">as</span> f:\n    f.write(trace.generate_chrome_trace_format())</pre></div>", "body_text": "This was fixed in keras-team/keras#6693\nA simple example:\nfrom tensorflow.python.client import timeline\n\n# Make your keras model\n# ...\nrun_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)\nrun_metadata = tf.RunMetadata()\nmodel.compile(loss='MSE', optimizer='Adam', options=run_options, run_metadata=run_metadata)\n# Run model in your usual way\n# ...\ntrace = timeline.Timeline(step_stats=run_metadata.step_stats)\nwith open('timeline.ctf.json', 'w') as f:\n    f.write(trace.generate_chrome_trace_format())", "body": "This was fixed in https://github.com/fchollet/keras/pull/6693\r\n\r\nA simple example:\r\n\r\n```python\r\nfrom tensorflow.python.client import timeline\r\n\r\n# Make your keras model\r\n# ...\r\nrun_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)\r\nrun_metadata = tf.RunMetadata()\r\nmodel.compile(loss='MSE', optimizer='Adam', options=run_options, run_metadata=run_metadata)\r\n# Run model in your usual way\r\n# ...\r\ntrace = timeline.Timeline(step_stats=run_metadata.step_stats)\r\nwith open('timeline.ctf.json', 'w') as f:\r\n    f.write(trace.generate_chrome_trace_format())\r\n```"}