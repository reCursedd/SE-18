{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/83778254", "pull_request_review_id": 4598323, "id": 83778254, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzNzc4MjU0", "diff_hunk": "@@ -164,6 +164,80 @@ def testShapeInference(self):\n       self.assertFalse(rgb_unknown.get_shape())\n \n \n+class AdjustGamma(test_util.TensorFlowTestCase):\n+\n+  def test_adjust_gamma_one(self):\n+    \"\"\"Same image should be returned for gamma equal to one\"\"\"\n+    with self.test_session():\n+      x_data = np.random.uniform(0, 255, (8, 8))\n+      x_np = np.array(x_data, dtype=np.float32)\n+\n+      x = constant_op.constant(x_np, shape=x_np.shape)\n+      y = image_ops.adjust_gamma(x, gamma=1)\n+\n+      y_tf = y.eval()\n+      y_np = x_np\n+\n+      self.assertAllClose(y_tf, y_np, 1e-6)\n+\n+\n+  def test_adjust_gamma_zero(self):\n+    \"\"\"White image should be returned for gamma equal to zero\"\"\"\n+    with self.test_session():\n+      x_data = np.random.uniform(0, 255, (8, 8))\n+      x_np = np.array(x_data, dtype=np.float32)\n+      \n+      x = constant_op.constant(x_np, shape=x_np.shape)\n+      y = image_ops.adjust_gamma(x, gamma=0)\n+      \n+      y_tf = y.eval()\n+\n+      dtype = x.dtype.as_numpy_dtype\n+      y_np = np.array([dtypes.dtype_range[dtype][1]] * x_np.size)\n+      y_np = y_np.reshape((8,8))\n+      \n+      self.assertAllClose(y_tf, y_np, 1e-6)\n+      \n+\n+  def test_adjust_gamma_less_one(self):\n+    \"\"\"Verifying the output with expected results for gamma\n+    correction with gamma equal to half\"\"\"\n+    with self.test_session():\n+      x_np = np.arange(0, 255, 4, np.uint8).reshape(8,8)\n+      y = image_ops.adjust_gamma(x_np, gamma=0.5)\n+      y_tf = np.trunc(y.eval())\n+\n+      y_np = np.array([[  0,  31,  45,  55,  63,  71,  78,  84],\n+          [ 90,  95, 100, 105, 110, 115, 119, 123],\n+          [127, 131, 135, 139, 142, 146, 149, 153],\n+          [156, 159, 162, 165, 168, 171, 174, 177],\n+          [180, 183, 186, 188, 191, 194, 196, 199],\n+          [201, 204, 206, 209, 211, 214, 216, 218],\n+          [221, 223, 225, 228, 230, 232, 234, 236],\n+          [238, 241, 243, 245, 247, 249, 251, 253]], dtype=np.float32)\n+      \n+      self.assertAllClose(y_tf, y_np, 1e-6)\n+\n+def test_adjust_gamma_greater_one(self):", "path": "tensorflow/python/ops/image_ops_test.py", "position": null, "original_position": 58, "commit_id": "080b2b8dc2ca7775d3964f5f1555b2842179aaf3", "original_commit_id": "a4acaebdec684156446242757dac1d8dce467b3b", "user": {"login": "shlens", "id": 13385191, "node_id": "MDQ6VXNlcjEzMzg1MTkx", "avatar_url": "https://avatars1.githubusercontent.com/u/13385191?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shlens", "html_url": "https://github.com/shlens", "followers_url": "https://api.github.com/users/shlens/followers", "following_url": "https://api.github.com/users/shlens/following{/other_user}", "gists_url": "https://api.github.com/users/shlens/gists{/gist_id}", "starred_url": "https://api.github.com/users/shlens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shlens/subscriptions", "organizations_url": "https://api.github.com/users/shlens/orgs", "repos_url": "https://api.github.com/users/shlens/repos", "events_url": "https://api.github.com/users/shlens/events{/privacy}", "received_events_url": "https://api.github.com/users/shlens/received_events", "type": "User", "site_admin": false}, "body": "The indentation for this function is not correct.\n", "created_at": "2016-10-18T03:57:44Z", "updated_at": "2016-10-18T14:24:50Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/4560#discussion_r83778254", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/4560", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/83778254"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/4560#discussion_r83778254"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/4560"}}, "body_html": "<p>The indentation for this function is not correct.</p>", "body_text": "The indentation for this function is not correct."}