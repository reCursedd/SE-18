{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7874", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7874/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7874/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7874/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7874", "id": 210216521, "node_id": "MDU6SXNzdWUyMTAyMTY1MjE=", "number": 7874, "title": "strip_unused tool can't read all graph protobufs...", "user": {"login": "tomasreimers", "id": 1188925, "node_id": "MDQ6VXNlcjExODg5MjU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1188925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomasreimers", "html_url": "https://github.com/tomasreimers", "followers_url": "https://api.github.com/users/tomasreimers/followers", "following_url": "https://api.github.com/users/tomasreimers/following{/other_user}", "gists_url": "https://api.github.com/users/tomasreimers/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomasreimers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomasreimers/subscriptions", "organizations_url": "https://api.github.com/users/tomasreimers/orgs", "repos_url": "https://api.github.com/users/tomasreimers/repos", "events_url": "https://api.github.com/users/tomasreimers/events{/privacy}", "received_events_url": "https://api.github.com/users/tomasreimers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-02-25T06:52:37Z", "updated_at": "2018-10-12T10:27:59Z", "closed_at": "2017-06-16T19:19:58Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hi,</p>\n<p>When trying to strip unused nodes from my graph, the tool fails in cases where the protobuf encodes a continuation byte, but fails to continue. For example, running</p>\n<p><code>./bazel-bin/tensorflow/python/tools/strip_unused --input_graph=tensorflow/contrib/some/path/mnist.pb --output_graph=tensorflow/contrib/some/path/mnist.inference.pb --input_node_names=Reshape,dropout --output_node_names=prediction_onehot</code></p>\n<p>on the attached graph causes a:</p>\n<p><code>UnicodeDecodeError: 'utf8' codec can't decode byte 0xc5 in position 45: invalid continuation byte</code></p>\n<p>It seems decoding the file as a UTF8 string is causing issues...</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/files/800990/mnist.pb.zip\">mnist.pb.zip</a></p>", "body_text": "Hi,\nWhen trying to strip unused nodes from my graph, the tool fails in cases where the protobuf encodes a continuation byte, but fails to continue. For example, running\n./bazel-bin/tensorflow/python/tools/strip_unused --input_graph=tensorflow/contrib/some/path/mnist.pb --output_graph=tensorflow/contrib/some/path/mnist.inference.pb --input_node_names=Reshape,dropout --output_node_names=prediction_onehot\non the attached graph causes a:\nUnicodeDecodeError: 'utf8' codec can't decode byte 0xc5 in position 45: invalid continuation byte\nIt seems decoding the file as a UTF8 string is causing issues...\nmnist.pb.zip", "body": "Hi, \r\n\r\nWhen trying to strip unused nodes from my graph, the tool fails in cases where the protobuf encodes a continuation byte, but fails to continue. For example, running \r\n\r\n`./bazel-bin/tensorflow/python/tools/strip_unused --input_graph=tensorflow/contrib/some/path/mnist.pb --output_graph=tensorflow/contrib/some/path/mnist.inference.pb --input_node_names=Reshape,dropout --output_node_names=prediction_onehot`\r\n\r\non the attached graph causes a: \r\n\r\n`UnicodeDecodeError: 'utf8' codec can't decode byte 0xc5 in position 45: invalid continuation byte`\r\n\r\nIt seems decoding the file as a UTF8 string is causing issues...\r\n\r\n[mnist.pb.zip](https://github.com/tensorflow/tensorflow/files/800990/mnist.pb.zip)\r\n\r\n"}