{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/267644551", "html_url": "https://github.com/tensorflow/tensorflow/pull/4382#issuecomment-267644551", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4382", "id": 267644551, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzY0NDU1MQ==", "user": {"login": "aleSuglia", "id": 1479733, "node_id": "MDQ6VXNlcjE0Nzk3MzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1479733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aleSuglia", "html_url": "https://github.com/aleSuglia", "followers_url": "https://api.github.com/users/aleSuglia/followers", "following_url": "https://api.github.com/users/aleSuglia/following{/other_user}", "gists_url": "https://api.github.com/users/aleSuglia/gists{/gist_id}", "starred_url": "https://api.github.com/users/aleSuglia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aleSuglia/subscriptions", "organizations_url": "https://api.github.com/users/aleSuglia/orgs", "repos_url": "https://api.github.com/users/aleSuglia/repos", "events_url": "https://api.github.com/users/aleSuglia/events{/privacy}", "received_events_url": "https://api.github.com/users/aleSuglia/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-16T17:13:27Z", "updated_at": "2016-12-16T17:13:27Z", "author_association": "NONE", "body_html": "<p>Yes I mean masking. I've read again your code and I think that you apply masking here: <a href=\"https://github.com/alrojo/tensorflow/blob/a6eafe994bd4c3fd66b4d0f79083279f72d358d1/tensorflow/contrib/seq2seq/python/ops/loss.py#L76\">https://github.com/alrojo/tensorflow/blob/a6eafe994bd4c3fd66b4d0f79083279f72d358d1/tensorflow/contrib/seq2seq/python/ops/loss.py#L76</a></p>\n<p>So the correct way to ignore the error in the prediction for padding values is done by setting to zero the elements of <em>weights</em> corresponding to padding values. Is it right?</p>\n<p>Thank you for your help!</p>", "body_text": "Yes I mean masking. I've read again your code and I think that you apply masking here: https://github.com/alrojo/tensorflow/blob/a6eafe994bd4c3fd66b4d0f79083279f72d358d1/tensorflow/contrib/seq2seq/python/ops/loss.py#L76\nSo the correct way to ignore the error in the prediction for padding values is done by setting to zero the elements of weights corresponding to padding values. Is it right?\nThank you for your help!", "body": "Yes I mean masking. I've read again your code and I think that you apply masking here: https://github.com/alrojo/tensorflow/blob/a6eafe994bd4c3fd66b4d0f79083279f72d358d1/tensorflow/contrib/seq2seq/python/ops/loss.py#L76\r\n\r\nSo the correct way to ignore the error in the prediction for padding values is done by setting to zero the elements of *weights* corresponding to padding values. Is it right?\r\n\r\nThank you for your help!"}