{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23385", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23385/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23385/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23385/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23385", "id": 375648296, "node_id": "MDU6SXNzdWUzNzU2NDgyOTY=", "number": 23385, "title": "Ignoring visible gpu device (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0, compute capability: 6.1) with Cuda compute capability 6.1. The minimum required Cuda capability is 7.0", "user": {"login": "satishrClemson", "id": 21313673, "node_id": "MDQ6VXNlcjIxMzEzNjcz", "avatar_url": "https://avatars2.githubusercontent.com/u/21313673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satishrClemson", "html_url": "https://github.com/satishrClemson", "followers_url": "https://api.github.com/users/satishrClemson/followers", "following_url": "https://api.github.com/users/satishrClemson/following{/other_user}", "gists_url": "https://api.github.com/users/satishrClemson/gists{/gist_id}", "starred_url": "https://api.github.com/users/satishrClemson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satishrClemson/subscriptions", "organizations_url": "https://api.github.com/users/satishrClemson/orgs", "repos_url": "https://api.github.com/users/satishrClemson/repos", "events_url": "https://api.github.com/users/satishrClemson/events{/privacy}", "received_events_url": "https://api.github.com/users/satishrClemson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-10-30T19:07:39Z", "updated_at": "2018-10-31T00:34:01Z", "closed_at": "2018-10-31T00:34:00Z", "author_association": "NONE", "body_html": "<p>I downloaded the docker container at (floydhub/tensorflow:1.5.0-gpu.cuda9cudnn7-py3_aws.22). But when I tried to run a sample gpu script I got the \"ignoring visible GPU\" error mentioned in the title.</p>\n<p><strong>System information</strong></p>\n<ul>\n<li>OS Platform and Distribution : Linux Ubuntu 16.04:</li>\n<li>TensorFlow pre installed in docker image:</li>\n<li>TensorFlow version 1.5.0:</li>\n<li>Python version: 3.6.2</li>\n<li>CUDA/cuDNN version: 9.0.176</li>\n<li>GPU model and memory: GeForce GTX 1070 (8GB memory)</li>\n<li>Driver version: 390.87</li>\n</ul>\n<p><strong>Code to reproduce the issue using python</strong><br>\nimport tensorflow as tf<br>\nprint(tf.contrib.eager.num_gpus())</p>\n<p>Output:<br>\n2018-10-30 18:48:01.232945: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero<br>\n2018-10-30 18:48:01.233214: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties:<br>\nname: GeForce GTX 1070 major: 6 minor: 1 memoryClockRate(GHz): 1.695<br>\npciBusID: 0000:01:00.0<br>\ntotalMemory: 7.92GiB freeMemory: 6.59GiB<br>\n<strong>2018-10-30 18:48:01.233235: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1168] Ignoring visible gpu device (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0, compute capability: 6.1) with Cuda compute capability 6.1. The minimum required Cuda capability is 7.0</strong>.<br>\n0</p>\n<p>TF 1.5 clearly doesn't require CUDA CC of 7.0. The 1070 has a CC of 6.1 according to NVIDIA which should be enough to support TF1.5. I also have the latest drivers. Someone suggested recompiling TF from source, but that kind of defeats the purpose of using a docker container. Is there any other way? Any pointers will be much appreciated. Thank you.</p>", "body_text": "I downloaded the docker container at (floydhub/tensorflow:1.5.0-gpu.cuda9cudnn7-py3_aws.22). But when I tried to run a sample gpu script I got the \"ignoring visible GPU\" error mentioned in the title.\nSystem information\n\nOS Platform and Distribution : Linux Ubuntu 16.04:\nTensorFlow pre installed in docker image:\nTensorFlow version 1.5.0:\nPython version: 3.6.2\nCUDA/cuDNN version: 9.0.176\nGPU model and memory: GeForce GTX 1070 (8GB memory)\nDriver version: 390.87\n\nCode to reproduce the issue using python\nimport tensorflow as tf\nprint(tf.contrib.eager.num_gpus())\nOutput:\n2018-10-30 18:48:01.232945: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-10-30 18:48:01.233214: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties:\nname: GeForce GTX 1070 major: 6 minor: 1 memoryClockRate(GHz): 1.695\npciBusID: 0000:01:00.0\ntotalMemory: 7.92GiB freeMemory: 6.59GiB\n2018-10-30 18:48:01.233235: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1168] Ignoring visible gpu device (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0, compute capability: 6.1) with Cuda compute capability 6.1. The minimum required Cuda capability is 7.0.\n0\nTF 1.5 clearly doesn't require CUDA CC of 7.0. The 1070 has a CC of 6.1 according to NVIDIA which should be enough to support TF1.5. I also have the latest drivers. Someone suggested recompiling TF from source, but that kind of defeats the purpose of using a docker container. Is there any other way? Any pointers will be much appreciated. Thank you.", "body": "I downloaded the docker container at (floydhub/tensorflow:1.5.0-gpu.cuda9cudnn7-py3_aws.22). But when I tried to run a sample gpu script I got the \"ignoring visible GPU\" error mentioned in the title. \r\n\r\n**System information**\r\n- OS Platform and Distribution : Linux Ubuntu 16.04:\r\n- TensorFlow pre installed in docker image:\r\n- TensorFlow version 1.5.0:\r\n- Python version: 3.6.2\r\n- CUDA/cuDNN version: 9.0.176\r\n- GPU model and memory: GeForce GTX 1070 (8GB memory)\r\n- Driver version: 390.87\r\n\r\n**Code to reproduce the issue using python**\r\n       import tensorflow as tf\r\n       print(tf.contrib.eager.num_gpus())\r\n  \r\n  Output:\r\n   2018-10-30 18:48:01.232945: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2018-10-30 18:48:01.233214: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties: \r\nname: GeForce GTX 1070 major: 6 minor: 1 memoryClockRate(GHz): 1.695\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 7.92GiB freeMemory: 6.59GiB\r\n**2018-10-30 18:48:01.233235: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1168] Ignoring visible gpu device (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0, compute capability: 6.1) with Cuda compute capability 6.1. The minimum required Cuda capability is 7.0**.\r\n0\r\n\r\nTF 1.5 clearly doesn't require CUDA CC of 7.0. The 1070 has a CC of 6.1 according to NVIDIA which should be enough to support TF1.5. I also have the latest drivers. Someone suggested recompiling TF from source, but that kind of defeats the purpose of using a docker container. Is there any other way? Any pointers will be much appreciated. Thank you. "}