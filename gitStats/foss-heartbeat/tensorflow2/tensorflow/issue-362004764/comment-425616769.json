{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/425616769", "html_url": "https://github.com/tensorflow/tensorflow/issues/22400#issuecomment-425616769", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22400", "id": 425616769, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTYxNjc2OQ==", "user": {"login": "ghltshubh", "id": 16928813, "node_id": "MDQ6VXNlcjE2OTI4ODEz", "avatar_url": "https://avatars3.githubusercontent.com/u/16928813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghltshubh", "html_url": "https://github.com/ghltshubh", "followers_url": "https://api.github.com/users/ghltshubh/followers", "following_url": "https://api.github.com/users/ghltshubh/following{/other_user}", "gists_url": "https://api.github.com/users/ghltshubh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghltshubh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghltshubh/subscriptions", "organizations_url": "https://api.github.com/users/ghltshubh/orgs", "repos_url": "https://api.github.com/users/ghltshubh/repos", "events_url": "https://api.github.com/users/ghltshubh/events{/privacy}", "received_events_url": "https://api.github.com/users/ghltshubh/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-29T05:12:43Z", "updated_at": "2018-10-01T15:03:28Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22967383\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wdirons\">@wdirons</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a> I tried linking nccl-2.2.13 but it failed I am not sure if it's path issue or legacy bazel 0.11.1 version. However the documentation I followed to link nccl also mentions to symlink</p>\n<p><code>sudo ln -s /usr/local/nccl-2.1/include/nccl.h /usr/include/nccl.h</code> but since I don't have root access I didn't do this step.</p>\n<pre><code>ERROR: /autofs/nccs-svm1_home1/shubhankar/tensorflow/tensorflow/contrib/nccl/BUILD:23:1: Linking of rule '//tensorflow/contrib/nccl:python/ops/_nccl_ops.so' failed (Exit 1)\n/usr/bin/ld: skipping incompatible bazel-out/ppc-opt/bin/_solib_local/_U@local_Uconfig_Unccl_S_S_Cnccl___Uexternal_Slocal_Uconfig_Unccl_Snccl_Slib/libnccl.so.2 when searching for -l:libnccl.so.2\n/usr/bin/ld: skipping incompatible bazel-out/ppc-opt/bin/_solib_local/_U@local_Uconfig_Unccl_S_S_Cnccl___Uexternal_Slocal_Uconfig_Unccl_Snccl_Slib/libnccl.so.2 when searching for -l:libnccl.so.2\n/usr/bin/ld: cannot find -l:libnccl.so.2\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 988.531s, Critical Path: 771.31s\nFAILED: Build did NOT complete successfully\n</code></pre>", "body_text": "@wdirons @gunan I tried linking nccl-2.2.13 but it failed I am not sure if it's path issue or legacy bazel 0.11.1 version. However the documentation I followed to link nccl also mentions to symlink\nsudo ln -s /usr/local/nccl-2.1/include/nccl.h /usr/include/nccl.h but since I don't have root access I didn't do this step.\nERROR: /autofs/nccs-svm1_home1/shubhankar/tensorflow/tensorflow/contrib/nccl/BUILD:23:1: Linking of rule '//tensorflow/contrib/nccl:python/ops/_nccl_ops.so' failed (Exit 1)\n/usr/bin/ld: skipping incompatible bazel-out/ppc-opt/bin/_solib_local/_U@local_Uconfig_Unccl_S_S_Cnccl___Uexternal_Slocal_Uconfig_Unccl_Snccl_Slib/libnccl.so.2 when searching for -l:libnccl.so.2\n/usr/bin/ld: skipping incompatible bazel-out/ppc-opt/bin/_solib_local/_U@local_Uconfig_Unccl_S_S_Cnccl___Uexternal_Slocal_Uconfig_Unccl_Snccl_Slib/libnccl.so.2 when searching for -l:libnccl.so.2\n/usr/bin/ld: cannot find -l:libnccl.so.2\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 988.531s, Critical Path: 771.31s\nFAILED: Build did NOT complete successfully", "body": "@wdirons @gunan I tried linking nccl-2.2.13 but it failed I am not sure if it's path issue or legacy bazel 0.11.1 version. However the documentation I followed to link nccl also mentions to symlink\r\n\r\n`sudo ln -s /usr/local/nccl-2.1/include/nccl.h /usr/include/nccl.h` but since I don't have root access I didn't do this step.\r\n\r\n```\r\nERROR: /autofs/nccs-svm1_home1/shubhankar/tensorflow/tensorflow/contrib/nccl/BUILD:23:1: Linking of rule '//tensorflow/contrib/nccl:python/ops/_nccl_ops.so' failed (Exit 1)\r\n/usr/bin/ld: skipping incompatible bazel-out/ppc-opt/bin/_solib_local/_U@local_Uconfig_Unccl_S_S_Cnccl___Uexternal_Slocal_Uconfig_Unccl_Snccl_Slib/libnccl.so.2 when searching for -l:libnccl.so.2\r\n/usr/bin/ld: skipping incompatible bazel-out/ppc-opt/bin/_solib_local/_U@local_Uconfig_Unccl_S_S_Cnccl___Uexternal_Slocal_Uconfig_Unccl_Snccl_Slib/libnccl.so.2 when searching for -l:libnccl.so.2\r\n/usr/bin/ld: cannot find -l:libnccl.so.2\r\ncollect2: error: ld returned 1 exit status\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 988.531s, Critical Path: 771.31s\r\nFAILED: Build did NOT complete successfully\r\n```\r\n"}