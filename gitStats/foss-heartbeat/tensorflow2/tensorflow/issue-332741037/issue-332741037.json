{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20057", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20057/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20057/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20057/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20057", "id": 332741037, "node_id": "MDU6SXNzdWUzMzI3NDEwMzc=", "number": 20057, "title": "Feature request: Add \"warm_start_from\" to tf.keras.estimator.model_to_estimator", "user": {"login": "bobbyAtSperry", "id": 20727185, "node_id": "MDQ6VXNlcjIwNzI3MTg1", "avatar_url": "https://avatars0.githubusercontent.com/u/20727185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobbyAtSperry", "html_url": "https://github.com/bobbyAtSperry", "followers_url": "https://api.github.com/users/bobbyAtSperry/followers", "following_url": "https://api.github.com/users/bobbyAtSperry/following{/other_user}", "gists_url": "https://api.github.com/users/bobbyAtSperry/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobbyAtSperry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobbyAtSperry/subscriptions", "organizations_url": "https://api.github.com/users/bobbyAtSperry/orgs", "repos_url": "https://api.github.com/users/bobbyAtSperry/repos", "events_url": "https://api.github.com/users/bobbyAtSperry/events{/privacy}", "received_events_url": "https://api.github.com/users/bobbyAtSperry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-06-15T11:34:52Z", "updated_at": "2018-07-13T00:20:57Z", "closed_at": "2018-07-13T00:20:57Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.8</li>\n<li><strong>Python version</strong>: 2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>: N/A</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: N/A</li>\n<li><strong>CUDA/cuDNN version</strong>: N/A</li>\n<li><strong>GPU model and memory</strong>: N/A</li>\n<li><strong>Exact command to reproduce</strong>: N/A</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I can create an estimator either direct or from a keras model using the initialisers:</p>\n<pre><code>tf.estimator.estimator(\n    model_fn,\n    model_dir=None,\n    config=None,\n    params=None,\n    warm_start_from=None\n)\n</code></pre>\n<pre><code>tf.keras.estimator.model_to_estimator(\n    keras_model=None,\n    keras_model_path=None,\n    custom_objects=None,\n    model_dir=None,\n    config=None\n)\n</code></pre>\n<p>However with the keras approach there is no option to warm start the model from a previously saved checkpoint. I am requesting a feature that makes it possible to do this with a call such as:</p>\n<pre><code>tf.keras.estimator.model_to_estimator(\n    keras_model=None,\n    keras_model_path=None,\n    custom_objects=None,\n    model_dir=None,\n    config=None,\n    warm_start_from=None\n)\n</code></pre>\n<p>Without this I cannot see how to start an estimator in a pre-trained state.</p>\n<p>I have also tried to do this by just calling an untrained estimator to do .predict which causes it to attempt to load from a checkpoint. When I provide the checkpoint from previous estimator training I get an error as not all data seems to be available. This is described in more detail at stackoverflow here <a href=\"https://stackoverflow.com/questions/50855256/keras-estimator-model-to-estimator-cannot-warm-start-or-load-previous-checkpoi\" rel=\"nofollow\">https://stackoverflow.com/questions/50855256/keras-estimator-model-to-estimator-cannot-warm-start-or-load-previous-checkpoi</a></p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux\nTensorFlow installed from (source or binary): Binary\nTensorFlow version (use command below): 1.8\nPython version: 2.7\nBazel version (if compiling from source): N/A\nGCC/Compiler version (if compiling from source): N/A\nCUDA/cuDNN version: N/A\nGPU model and memory: N/A\nExact command to reproduce: N/A\n\nDescribe the problem\nI can create an estimator either direct or from a keras model using the initialisers:\ntf.estimator.estimator(\n    model_fn,\n    model_dir=None,\n    config=None,\n    params=None,\n    warm_start_from=None\n)\n\ntf.keras.estimator.model_to_estimator(\n    keras_model=None,\n    keras_model_path=None,\n    custom_objects=None,\n    model_dir=None,\n    config=None\n)\n\nHowever with the keras approach there is no option to warm start the model from a previously saved checkpoint. I am requesting a feature that makes it possible to do this with a call such as:\ntf.keras.estimator.model_to_estimator(\n    keras_model=None,\n    keras_model_path=None,\n    custom_objects=None,\n    model_dir=None,\n    config=None,\n    warm_start_from=None\n)\n\nWithout this I cannot see how to start an estimator in a pre-trained state.\nI have also tried to do this by just calling an untrained estimator to do .predict which causes it to attempt to load from a checkpoint. When I provide the checkpoint from previous estimator training I get an error as not all data seems to be available. This is described in more detail at stackoverflow here https://stackoverflow.com/questions/50855256/keras-estimator-model-to-estimator-cannot-warm-start-or-load-previous-checkpoi", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux\r\n- **TensorFlow installed from (source or binary)**: Binary\r\n- **TensorFlow version (use command below)**: 1.8\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **GCC/Compiler version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: N/A\r\n- **GPU model and memory**: N/A\r\n- **Exact command to reproduce**: N/A\r\n\r\n### Describe the problem\r\nI can create an estimator either direct or from a keras model using the initialisers:\r\n```\r\ntf.estimator.estimator(\r\n    model_fn,\r\n    model_dir=None,\r\n    config=None,\r\n    params=None,\r\n    warm_start_from=None\r\n)\r\n```\r\n```\r\ntf.keras.estimator.model_to_estimator(\r\n    keras_model=None,\r\n    keras_model_path=None,\r\n    custom_objects=None,\r\n    model_dir=None,\r\n    config=None\r\n)\r\n```\r\nHowever with the keras approach there is no option to warm start the model from a previously saved checkpoint. I am requesting a feature that makes it possible to do this with a call such as:\r\n```\r\ntf.keras.estimator.model_to_estimator(\r\n    keras_model=None,\r\n    keras_model_path=None,\r\n    custom_objects=None,\r\n    model_dir=None,\r\n    config=None,\r\n    warm_start_from=None\r\n)\r\n```\r\n\r\nWithout this I cannot see how to start an estimator in a pre-trained state.\r\n\r\nI have also tried to do this by just calling an untrained estimator to do .predict which causes it to attempt to load from a checkpoint. When I provide the checkpoint from previous estimator training I get an error as not all data seems to be available. This is described in more detail at stackoverflow here https://stackoverflow.com/questions/50855256/keras-estimator-model-to-estimator-cannot-warm-start-or-load-previous-checkpoi\r\n"}