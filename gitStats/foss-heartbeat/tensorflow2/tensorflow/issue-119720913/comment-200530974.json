{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/200530974", "html_url": "https://github.com/tensorflow/tensorflow/issues/386#issuecomment-200530974", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/386", "id": 200530974, "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDUzMDk3NA==", "user": {"login": "rryan", "id": 26527, "node_id": "MDQ6VXNlcjI2NTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/26527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rryan", "html_url": "https://github.com/rryan", "followers_url": "https://api.github.com/users/rryan/followers", "following_url": "https://api.github.com/users/rryan/following{/other_user}", "gists_url": "https://api.github.com/users/rryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rryan/subscriptions", "organizations_url": "https://api.github.com/users/rryan/orgs", "repos_url": "https://api.github.com/users/rryan/repos", "events_url": "https://api.github.com/users/rryan/events{/privacy}", "received_events_url": "https://api.github.com/users/rryan/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-23T20:28:28Z", "updated_at": "2016-03-23T20:28:28Z", "author_association": "MEMBER", "body_html": "<p>Huh, interesting <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1639799\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/pputzky\">@pputzky</a> -- the tests I added compare directly with numpy.<br>\nCould you please run tensorflow/python/kernel_tests/fft_ops_test.py and<br>\nshare the result?</p>\n<p>Also, what version of numpy and cuda (in particular cuFFT if you know) are<br>\nyou using?</p>\n<p>On Wed, Mar 23, 2016, 3:54 AM pputzky <a href=\"mailto:notifications@github.com\">notifications@github.com</a> wrote:</p>\n<blockquote>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=26527\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rryan\">@rryan</a> <a href=\"https://github.com/rryan\">https://github.com/rryan</a> Thanks so much for your implementation.<br>\nI tested your version of the batch_fft2, and I am afraid it does not return<br>\nthe expected results. There might be just a simple error in the transpose.</p>\n<p>I have compared your batch version to the non batch version and numpy's<br>\nfft2 in an ipython notebook. I have no idea how to upload the notebook<br>\nhere, so I have attached a PDF export of the notebook here<br>\ntest_batch_fft.pdf<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/185802/test_batch_fft.pdf\">https://github.com/tensorflow/tensorflow/files/185802/test_batch_fft.pdf</a><br>\n.</p>\n<p>What this shows is that your batch version of fft2 somehow seems to<br>\nshuffle the rows and columns in the wrong way (that's my guess). If I<br>\ncompare TFs fft2 and numpy's fft2 they both give consistent results,<br>\nhowever the batch_fft2 does not comply with the former two.</p>\n<p>Good thing though: tf.batch_ifft2(tf.batch_fft2(x)) seems to return the<br>\nidentity.</p>\n<p>\u2014<br>\nYou are receiving this because you were mentioned.<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"119720913\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/386\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/386/hovercard?comment_id=200294816&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/386#issuecomment-200294816\">#386 (comment)</a></p>\n</blockquote>", "body_text": "Huh, interesting @pputzky -- the tests I added compare directly with numpy.\nCould you please run tensorflow/python/kernel_tests/fft_ops_test.py and\nshare the result?\nAlso, what version of numpy and cuda (in particular cuFFT if you know) are\nyou using?\nOn Wed, Mar 23, 2016, 3:54 AM pputzky notifications@github.com wrote:\n\n@rryan https://github.com/rryan Thanks so much for your implementation.\nI tested your version of the batch_fft2, and I am afraid it does not return\nthe expected results. There might be just a simple error in the transpose.\nI have compared your batch version to the non batch version and numpy's\nfft2 in an ipython notebook. I have no idea how to upload the notebook\nhere, so I have attached a PDF export of the notebook here\ntest_batch_fft.pdf\nhttps://github.com/tensorflow/tensorflow/files/185802/test_batch_fft.pdf\n.\nWhat this shows is that your batch version of fft2 somehow seems to\nshuffle the rows and columns in the wrong way (that's my guess). If I\ncompare TFs fft2 and numpy's fft2 they both give consistent results,\nhowever the batch_fft2 does not comply with the former two.\nGood thing though: tf.batch_ifft2(tf.batch_fft2(x)) seems to return the\nidentity.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\n#386 (comment)", "body": "Huh, interesting @pputzky -- the tests I added compare directly with numpy.\nCould you please run tensorflow/python/kernel_tests/fft_ops_test.py and\nshare the result?\n\nAlso, what version of numpy and cuda (in particular cuFFT if you know) are\nyou using?\n\nOn Wed, Mar 23, 2016, 3:54 AM pputzky notifications@github.com wrote:\n\n> @rryan https://github.com/rryan Thanks so much for your implementation.\n> I tested your version of the batch_fft2, and I am afraid it does not return\n> the expected results. There might be just a simple error in the transpose.\n> \n> I have compared your batch version to the non batch version and numpy's\n> fft2 in an ipython notebook. I have no idea how to upload the notebook\n> here, so I have attached a PDF export of the notebook here\n> test_batch_fft.pdf\n> https://github.com/tensorflow/tensorflow/files/185802/test_batch_fft.pdf\n> .\n> \n> What this shows is that your batch version of fft2 somehow seems to\n> shuffle the rows and columns in the wrong way (that's my guess). If I\n> compare TFs fft2 and numpy's fft2 they both give consistent results,\n> however the batch_fft2 does not comply with the former two.\n> \n> Good thing though: tf.batch_ifft2(tf.batch_fft2(x)) seems to return the\n> identity.\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/386#issuecomment-200294816\n"}