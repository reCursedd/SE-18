{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/228415429", "html_url": "https://github.com/tensorflow/tensorflow/issues/2180#issuecomment-228415429", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2180", "id": 228415429, "node_id": "MDEyOklzc3VlQ29tbWVudDIyODQxNTQyOQ==", "user": {"login": "maniteja123", "id": 6291963, "node_id": "MDQ6VXNlcjYyOTE5NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6291963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maniteja123", "html_url": "https://github.com/maniteja123", "followers_url": "https://api.github.com/users/maniteja123/followers", "following_url": "https://api.github.com/users/maniteja123/following{/other_user}", "gists_url": "https://api.github.com/users/maniteja123/gists{/gist_id}", "starred_url": "https://api.github.com/users/maniteja123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maniteja123/subscriptions", "organizations_url": "https://api.github.com/users/maniteja123/orgs", "repos_url": "https://api.github.com/users/maniteja123/repos", "events_url": "https://api.github.com/users/maniteja123/events{/privacy}", "received_events_url": "https://api.github.com/users/maniteja123/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-24T17:55:54Z", "updated_at": "2016-06-24T17:55:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hi, I have tried to use the following implementation for transpose as suggested above</p>\n<pre><code>transposed_indices  = tf.reverse(sp_input.indices), [False, True])\ntransposed_values = sp_input.values\ntransposed_shape = tf.reverse(sp_input.shape), [True])\nsp_output = tf.SparseTensor(transosed_indices, transposed_values, transposed_shape)\nsp_output = tf.sparse_reorder(sp_output)\n</code></pre>\n<p>But it seems that <code>tf.reverse</code> doesn't support <code>int64</code> and raises an error</p>\n<pre><code> File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"tensorflow/python/ops/gen_array_ops.py\", line 1598, in reverse\n  File \"tensorflow/python/framework/op_def_library.py\", line 529, in apply_op\n  File \"tensorflow/python/framework/op_def_library.py\", line 60, in _SatisfiesType\nConstraint\nTypeError: DataType int64 for attr 'T' not in list of allowed values: uint8, int8,\n int32, bool, float16, float32, float64\n</code></pre>\n<p>Is there any workaround for this ? Since this is used only for <code>indices</code> and <code>shape</code> would it be okay to downcast to <code>int32</code> ? Thanks.</p>", "body_text": "Hi, I have tried to use the following implementation for transpose as suggested above\ntransposed_indices  = tf.reverse(sp_input.indices), [False, True])\ntransposed_values = sp_input.values\ntransposed_shape = tf.reverse(sp_input.shape), [True])\nsp_output = tf.SparseTensor(transosed_indices, transposed_values, transposed_shape)\nsp_output = tf.sparse_reorder(sp_output)\n\nBut it seems that tf.reverse doesn't support int64 and raises an error\n File \"<stdin>\", line 1, in <module>\n  File \"tensorflow/python/ops/gen_array_ops.py\", line 1598, in reverse\n  File \"tensorflow/python/framework/op_def_library.py\", line 529, in apply_op\n  File \"tensorflow/python/framework/op_def_library.py\", line 60, in _SatisfiesType\nConstraint\nTypeError: DataType int64 for attr 'T' not in list of allowed values: uint8, int8,\n int32, bool, float16, float32, float64\n\nIs there any workaround for this ? Since this is used only for indices and shape would it be okay to downcast to int32 ? Thanks.", "body": "Hi, I have tried to use the following implementation for transpose as suggested above\n\n```\ntransposed_indices  = tf.reverse(sp_input.indices), [False, True])\ntransposed_values = sp_input.values\ntransposed_shape = tf.reverse(sp_input.shape), [True])\nsp_output = tf.SparseTensor(transosed_indices, transposed_values, transposed_shape)\nsp_output = tf.sparse_reorder(sp_output)\n```\n\nBut it seems that `tf.reverse` doesn't support `int64` and raises an error\n\n```\n File \"<stdin>\", line 1, in <module>\n  File \"tensorflow/python/ops/gen_array_ops.py\", line 1598, in reverse\n  File \"tensorflow/python/framework/op_def_library.py\", line 529, in apply_op\n  File \"tensorflow/python/framework/op_def_library.py\", line 60, in _SatisfiesType\nConstraint\nTypeError: DataType int64 for attr 'T' not in list of allowed values: uint8, int8,\n int32, bool, float16, float32, float64\n```\n\nIs there any workaround for this ? Since this is used only for `indices` and `shape` would it be okay to downcast to `int32` ? Thanks.\n"}