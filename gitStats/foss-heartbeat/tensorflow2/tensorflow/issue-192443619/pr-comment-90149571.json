{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/90149571", "pull_request_review_id": 10673335, "id": 90149571, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkwMTQ5NTcx", "diff_hunk": "@@ -67,9 +68,17 @@ rm -rf ${output_base}\n \n echo \"\" | ./configure\n \n-bazel build -c opt --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc\\\n-    --copt=\"/w\" --verbose_failures --experimental_ui\\\n-      tensorflow/tools/pip_package:build_pip_package || exit $?\n+BUILD_OPTS='-c opt --cpu=x64_windows_msvc --host_cpu=x64_windows_msvc --copt=/w --verbose_failures --experimental_ui'\n \n+bazel build $BUILD_OPTS tensorflow/tools/pip_package:build_pip_package || exit $?\n \n ./bazel-bin/tensorflow/tools/pip_package/build_pip_package $PWD\n+\n+# Find all the passing cc_tests on Windows and store them in a variable\n+passing_tests=$(bazel query 'kind(cc_test, //tensorflow/cc/... + //tensorflow/core/...) -\n+  attr(tags, fail_on_windows, kind(cc_test, //tensorflow/cc/... + //tensorflow/core/...))' |\n+  # We need to strip \\r so that the result could be store into a variable under MSYS\n+  tr '\\r' ' ')\n+\n+bazel test $BUILD_OPTS -k $passing_tests", "path": "tensorflow/tools/ci_build/windows/cpu/pip/build_tf_windows.sh", "position": null, "original_position": 32, "commit_id": "68172c8e584fb1ffd85287e674231bddca78a10e", "original_commit_id": "e59b41da79a6f2f795c8fcb17fa81059307f6d8f", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "body": "Let's create a new script for this.\r\nThis is not really a \"pip\" test.\r\nCould you create a new set of scripts under windows/cpu/bazel?", "created_at": "2016-11-30T00:56:12Z", "updated_at": "2016-11-30T19:30:40Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/5961#discussion_r90149571", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5961", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/90149571"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/5961#discussion_r90149571"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5961"}}, "body_html": "<p>Let's create a new script for this.<br>\nThis is not really a \"pip\" test.<br>\nCould you create a new set of scripts under windows/cpu/bazel?</p>", "body_text": "Let's create a new script for this.\nThis is not really a \"pip\" test.\nCould you create a new set of scripts under windows/cpu/bazel?"}