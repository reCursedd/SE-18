{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3039", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3039/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3039/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3039/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3039", "id": 162267037, "node_id": "MDU6SXNzdWUxNjIyNjcwMzc=", "number": 3039, "title": "convert_to_records.py has maybe_download and other functions that are not found.", "user": {"login": "jackywang529", "id": 9102555, "node_id": "MDQ6VXNlcjkxMDI1NTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/9102555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackywang529", "html_url": "https://github.com/jackywang529", "followers_url": "https://api.github.com/users/jackywang529/followers", "following_url": "https://api.github.com/users/jackywang529/following{/other_user}", "gists_url": "https://api.github.com/users/jackywang529/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackywang529/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackywang529/subscriptions", "organizations_url": "https://api.github.com/users/jackywang529/orgs", "repos_url": "https://api.github.com/users/jackywang529/repos", "events_url": "https://api.github.com/users/jackywang529/events{/privacy}", "received_events_url": "https://api.github.com/users/jackywang529/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-06-25T06:34:15Z", "updated_at": "2017-01-23T23:38:32Z", "closed_at": "2017-01-23T23:38:32Z", "author_association": "NONE", "body_html": "<p>When I ran convert_to_records.py without changing the file, it would complain maybe_download and other functions that are not found. If you look at the input_data that was imported, it doesn't include the maybe_download as well even with recursive imports.</p>\n<p>When I fixed that by copying and pasting from the mnist/convolution.py the download and extraction of the images and label, I ran the fully_connected_reader.py, then it would complain:<br>\nW tensorflow/core/framework/op_kernel.cc:909] Invalid argument: Shape mismatch in tuple component 0. Expected [784], got [3136]<br>\nTraceback (most recent call last):<br>\nFile \"fully_connected_reader.py\", line 203, in <br>\ntf.app.run()<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv))<br>\nFile \"fully_connected_reader.py\", line 199, in main<br>\nrun_training()<br>\nFile \"fully_connected_reader.py\", line 194, in run_training<br>\ncoord.join(threads)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/coordinator.py\", line 322, in join<br>\nsix.reraise(*self._exc_info_to_raise)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/queue_runner.py\", line 185, in _run<br>\nsess.run(enqueue_op)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 372, in run<br>\nrun_metadata_ptr)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 636, in _run<br>\nfeed_dict_string, options, run_metadata)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 708, in _do_run<br>\ntarget_list, options, run_metadata)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 728, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors.InvalidArgumentError: Shape mismatch in tuple component 0. Expected [784], got [3136]<br>\n[[Node: input/shuffle_batch/random_shuffle_queue_enqueue = QueueEnqueue[Tcomponents=[DT_FLOAT, DT_INT32], _class=[\"loc:@input/shuffle_batch/random_shuffle_queue\"], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/shuffle_batch/random_shuffle_queue, input/sub, input/Cast_1)]]<br>\nCaused by op u'input/shuffle_batch/random_shuffle_queue_enqueue', defined at:<br>\nFile \"fully_connected_reader.py\", line 203, in <br>\ntf.app.run()<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv))<br>\nFile \"fully_connected_reader.py\", line 199, in main<br>\nrun_training()<br>\nFile \"fully_connected_reader.py\", line 140, in run_training<br>\nnum_epochs=FLAGS.num_epochs)<br>\nFile \"fully_connected_reader.py\", line 126, in inputs<br>\nmin_after_dequeue=1000)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 768, in shuffle_batch<br>\n_enqueue(queue, tensor_list, num_threads, enqueue_many)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 490, in _enqueue<br>\nenqueue_ops = [queue.enqueue(tensor_list)] * threads<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/data_flow_ops.py\", line 296, in enqueue<br>\nreturn gen_data_flow_ops._queue_enqueue(self._queue_ref, vals, name=scope)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_data_flow_ops.py\", line 542, in _queue_enqueue<br>\nname=name)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 711, in apply_op<br>\nop_def=op_def)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2260, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1230, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>\n<p>Not sure if my fix to convert_to_records.py was wrong or the fully_connected_reader.py was off for some other reason.</p>", "body_text": "When I ran convert_to_records.py without changing the file, it would complain maybe_download and other functions that are not found. If you look at the input_data that was imported, it doesn't include the maybe_download as well even with recursive imports.\nWhen I fixed that by copying and pasting from the mnist/convolution.py the download and extraction of the images and label, I ran the fully_connected_reader.py, then it would complain:\nW tensorflow/core/framework/op_kernel.cc:909] Invalid argument: Shape mismatch in tuple component 0. Expected [784], got [3136]\nTraceback (most recent call last):\nFile \"fully_connected_reader.py\", line 203, in \ntf.app.run()\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv))\nFile \"fully_connected_reader.py\", line 199, in main\nrun_training()\nFile \"fully_connected_reader.py\", line 194, in run_training\ncoord.join(threads)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/coordinator.py\", line 322, in join\nsix.reraise(*self._exc_info_to_raise)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/queue_runner.py\", line 185, in _run\nsess.run(enqueue_op)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 372, in run\nrun_metadata_ptr)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 636, in _run\nfeed_dict_string, options, run_metadata)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 708, in _do_run\ntarget_list, options, run_metadata)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 728, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InvalidArgumentError: Shape mismatch in tuple component 0. Expected [784], got [3136]\n[[Node: input/shuffle_batch/random_shuffle_queue_enqueue = QueueEnqueue[Tcomponents=[DT_FLOAT, DT_INT32], _class=[\"loc:@input/shuffle_batch/random_shuffle_queue\"], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/shuffle_batch/random_shuffle_queue, input/sub, input/Cast_1)]]\nCaused by op u'input/shuffle_batch/random_shuffle_queue_enqueue', defined at:\nFile \"fully_connected_reader.py\", line 203, in \ntf.app.run()\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv))\nFile \"fully_connected_reader.py\", line 199, in main\nrun_training()\nFile \"fully_connected_reader.py\", line 140, in run_training\nnum_epochs=FLAGS.num_epochs)\nFile \"fully_connected_reader.py\", line 126, in inputs\nmin_after_dequeue=1000)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 768, in shuffle_batch\n_enqueue(queue, tensor_list, num_threads, enqueue_many)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 490, in _enqueue\nenqueue_ops = [queue.enqueue(tensor_list)] * threads\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/data_flow_ops.py\", line 296, in enqueue\nreturn gen_data_flow_ops._queue_enqueue(self._queue_ref, vals, name=scope)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_data_flow_ops.py\", line 542, in _queue_enqueue\nname=name)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 711, in apply_op\nop_def=op_def)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2260, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1230, in init\nself._traceback = _extract_stack()\nNot sure if my fix to convert_to_records.py was wrong or the fully_connected_reader.py was off for some other reason.", "body": "When I ran convert_to_records.py without changing the file, it would complain maybe_download and other functions that are not found. If you look at the input_data that was imported, it doesn't include the maybe_download as well even with recursive imports. \n\nWhen I fixed that by copying and pasting from the mnist/convolution.py the download and extraction of the images and label, I ran the fully_connected_reader.py, then it would complain:\nW tensorflow/core/framework/op_kernel.cc:909] Invalid argument: Shape mismatch in tuple component 0. Expected [784], got [3136]\nTraceback (most recent call last):\n  File \"fully_connected_reader.py\", line 203, in <module>\n    tf.app.run()\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"fully_connected_reader.py\", line 199, in main\n    run_training()\n  File \"fully_connected_reader.py\", line 194, in run_training\n    coord.join(threads)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/coordinator.py\", line 322, in join\n    six.reraise(*self._exc_info_to_raise)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/queue_runner.py\", line 185, in _run\n    sess.run(enqueue_op)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 372, in run\n    run_metadata_ptr)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 636, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 708, in _do_run\n    target_list, options, run_metadata)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 728, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InvalidArgumentError: Shape mismatch in tuple component 0. Expected [784], got [3136]\n     [[Node: input/shuffle_batch/random_shuffle_queue_enqueue = QueueEnqueue[Tcomponents=[DT_FLOAT, DT_INT32], _class=[\"loc:@input/shuffle_batch/random_shuffle_queue\"], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/shuffle_batch/random_shuffle_queue, input/sub, input/Cast_1)]]\nCaused by op u'input/shuffle_batch/random_shuffle_queue_enqueue', defined at:\n  File \"fully_connected_reader.py\", line 203, in <module>\n    tf.app.run()\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"fully_connected_reader.py\", line 199, in main\n    run_training()\n  File \"fully_connected_reader.py\", line 140, in run_training\n    num_epochs=FLAGS.num_epochs)\n  File \"fully_connected_reader.py\", line 126, in inputs\n    min_after_dequeue=1000)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 768, in shuffle_batch\n    _enqueue(queue, tensor_list, num_threads, enqueue_many)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 490, in _enqueue\n    enqueue_ops = [queue.enqueue(tensor_list)] \\* threads\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/data_flow_ops.py\", line 296, in enqueue\n    return gen_data_flow_ops._queue_enqueue(self._queue_ref, vals, name=scope)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_data_flow_ops.py\", line 542, in _queue_enqueue\n    name=name)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 711, in apply_op\n    op_def=op_def)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2260, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/Users/user/anaconda/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1230, in __init__\n    self._traceback = _extract_stack()\n\nNot sure if my fix to convert_to_records.py was wrong or the fully_connected_reader.py was off for some other reason.\n"}