{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/294162213", "html_url": "https://github.com/tensorflow/tensorflow/issues/9073#issuecomment-294162213", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9073", "id": 294162213, "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDE2MjIxMw==", "user": {"login": "cwhipkey", "id": 17578177, "node_id": "MDQ6VXNlcjE3NTc4MTc3", "avatar_url": "https://avatars0.githubusercontent.com/u/17578177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cwhipkey", "html_url": "https://github.com/cwhipkey", "followers_url": "https://api.github.com/users/cwhipkey/followers", "following_url": "https://api.github.com/users/cwhipkey/following{/other_user}", "gists_url": "https://api.github.com/users/cwhipkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/cwhipkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cwhipkey/subscriptions", "organizations_url": "https://api.github.com/users/cwhipkey/orgs", "repos_url": "https://api.github.com/users/cwhipkey/repos", "events_url": "https://api.github.com/users/cwhipkey/events{/privacy}", "received_events_url": "https://api.github.com/users/cwhipkey/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-14T14:24:15Z", "updated_at": "2017-04-14T14:24:15Z", "author_association": "MEMBER", "body_html": "<div class=\"email-fragment\">Sorry, I think my suggestion was bad - because even with that name change,\nthe Conv2DUsingGemmOp won't have the exact same signature as the Conv2DOp.\n\nThe reason I am guessing that is the issue, though, is because:\n1. if all kernels were being omitted, then you would probably see a\ndifferent kind of op being failed to find earlier.\n2. a macro (USE_GEMM_FOR_CONV) is defined to control whether Conv2DOp is\nused or Conv2DUsingGemmOp.  It seems possible that this macro was not\ndefined when building the tool to generate the header, and was defined when\ncompiling for the device.\n\nYou could instead remove definition of that macro from the makefile.  Or\ninstead include that macro when building the tool to generate the header\nfile, so you get a header file that includes Conv2DUsingGemmOp.\n\nI'll be able to try out on my end on Monday (I've been mostly out of the\noffice this week).</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Wed, Apr 12, 2017 at 1:06 PM, Tim Anglade ***@***.***&gt; wrote:\n <a class=\"user-mention\" href=\"https://github.com/cwhipkey\">@cwhipkey</a> &lt;<a href=\"https://github.com/cwhipkey\">https://github.com/cwhipkey</a>&gt; I tried changing all occurrences\n of \u201cConv2DUsingGemmOp\u201d to \u201cConv2DOp\u201d in core/kernels/conv_ops_using_gemm.cc\n but the outcome is the same: compiles fine, fails at runtime complaining\n there is no OpKernel registered for Conv2D.\n\n <a class=\"user-mention\" href=\"https://github.com/es007\">@es007</a> &lt;<a href=\"https://github.com/es007\">https://github.com/es007</a>&gt; Thanks for suggestion, this fails as\n well, but at compile time. Complaints about the template keyword and the N2\n keyword, which in retrospect seems obvious. Am I missing a part of your\n implementation in your comment earlier\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"220436770\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9073\" href=\"https://github.com/tensorflow/tensorflow/issues/9073#issuecomment-292779949\">#9073 (comment)</a>&gt;?\n I tried alternate implementations of strstrc but couldn\u2019t get anything to\n work, really.\n\n Thanks both for your help. I\u2019m not very comfortable with C++ so there may\n be obvious fixes I\u2019m missing\u2026\n\n I\u2019m hoping someone who has successfully used selective registration on iOS\n can chime in on what has to be done to get ops_to_register.h to work as\n expected?\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"220436770\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/9073\" href=\"https://github.com/tensorflow/tensorflow/issues/9073#issuecomment-293691770\">#9073 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AQw4wZbMOyM-_Jcltoj17P0dcIc-AyCaks5rvS7DgaJpZM4M3315\">https://github.com/notifications/unsubscribe-auth/AQw4wZbMOyM-_Jcltoj17P0dcIc-AyCaks5rvS7DgaJpZM4M3315</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "Sorry, I think my suggestion was bad - because even with that name change,\nthe Conv2DUsingGemmOp won't have the exact same signature as the Conv2DOp.\n\nThe reason I am guessing that is the issue, though, is because:\n1. if all kernels were being omitted, then you would probably see a\ndifferent kind of op being failed to find earlier.\n2. a macro (USE_GEMM_FOR_CONV) is defined to control whether Conv2DOp is\nused or Conv2DUsingGemmOp.  It seems possible that this macro was not\ndefined when building the tool to generate the header, and was defined when\ncompiling for the device.\n\nYou could instead remove definition of that macro from the makefile.  Or\ninstead include that macro when building the tool to generate the header\nfile, so you get a header file that includes Conv2DUsingGemmOp.\n\nI'll be able to try out on my end on Monday (I've been mostly out of the\noffice this week).\n\u2026\nOn Wed, Apr 12, 2017 at 1:06 PM, Tim Anglade ***@***.***> wrote:\n @cwhipkey <https://github.com/cwhipkey> I tried changing all occurrences\n of \u201cConv2DUsingGemmOp\u201d to \u201cConv2DOp\u201d in core/kernels/conv_ops_using_gemm.cc\n but the outcome is the same: compiles fine, fails at runtime complaining\n there is no OpKernel registered for Conv2D.\n\n @es007 <https://github.com/es007> Thanks for suggestion, this fails as\n well, but at compile time. Complaints about the template keyword and the N2\n keyword, which in retrospect seems obvious. Am I missing a part of your\n implementation in your comment earlier\n <#9073 (comment)>?\n I tried alternate implementations of strstrc but couldn\u2019t get anything to\n work, really.\n\n Thanks both for your help. I\u2019m not very comfortable with C++ so there may\n be obvious fixes I\u2019m missing\u2026\n\n I\u2019m hoping someone who has successfully used selective registration on iOS\n can chime in on what has to be done to get ops_to_register.h to work as\n expected?\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#9073 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/AQw4wZbMOyM-_Jcltoj17P0dcIc-AyCaks5rvS7DgaJpZM4M3315>\n .", "body": "Sorry, I think my suggestion was bad - because even with that name change,\nthe Conv2DUsingGemmOp won't have the exact same signature as the Conv2DOp.\n\nThe reason I am guessing that is the issue, though, is because:\n1. if all kernels were being omitted, then you would probably see a\ndifferent kind of op being failed to find earlier.\n2. a macro (USE_GEMM_FOR_CONV) is defined to control whether Conv2DOp is\nused or Conv2DUsingGemmOp.  It seems possible that this macro was not\ndefined when building the tool to generate the header, and was defined when\ncompiling for the device.\n\nYou could instead remove definition of that macro from the makefile.  Or\ninstead include that macro when building the tool to generate the header\nfile, so you get a header file that includes Conv2DUsingGemmOp.\n\nI'll be able to try out on my end on Monday (I've been mostly out of the\noffice this week).\n\nOn Wed, Apr 12, 2017 at 1:06 PM, Tim Anglade <notifications@github.com>\nwrote:\n\n> @cwhipkey <https://github.com/cwhipkey> I tried changing all occurrences\n> of \u201cConv2DUsingGemmOp\u201d to \u201cConv2DOp\u201d in core/kernels/conv_ops_using_gemm.cc\n> but the outcome is the same: compiles fine, fails at runtime complaining\n> there is no OpKernel registered for Conv2D.\n>\n> @es007 <https://github.com/es007> Thanks for suggestion, this fails as\n> well, but at compile time. Complaints about the template keyword and the N2\n> keyword, which in retrospect seems obvious. Am I missing a part of your\n> implementation in your comment earlier\n> <https://github.com/tensorflow/tensorflow/issues/9073#issuecomment-292779949>?\n> I tried alternate implementations of strstrc but couldn\u2019t get anything to\n> work, really.\n>\n> Thanks both for your help. I\u2019m not very comfortable with C++ so there may\n> be obvious fixes I\u2019m missing\u2026\n>\n> I\u2019m hoping someone who has successfully used selective registration on iOS\n> can chime in on what has to be done to get ops_to_register.h to work as\n> expected?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/9073#issuecomment-293691770>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AQw4wZbMOyM-_Jcltoj17P0dcIc-AyCaks5rvS7DgaJpZM4M3315>\n> .\n>\n"}