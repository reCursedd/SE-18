{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/244131338", "html_url": "https://github.com/tensorflow/tensorflow/issues/2283#issuecomment-244131338", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2283", "id": 244131338, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDEzMTMzOA==", "user": {"login": "girving", "id": 70511, "node_id": "MDQ6VXNlcjcwNTEx", "avatar_url": "https://avatars1.githubusercontent.com/u/70511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/girving", "html_url": "https://github.com/girving", "followers_url": "https://api.github.com/users/girving/followers", "following_url": "https://api.github.com/users/girving/following{/other_user}", "gists_url": "https://api.github.com/users/girving/gists{/gist_id}", "starred_url": "https://api.github.com/users/girving/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/girving/subscriptions", "organizations_url": "https://api.github.com/users/girving/orgs", "repos_url": "https://api.github.com/users/girving/repos", "events_url": "https://api.github.com/users/girving/events{/privacy}", "received_events_url": "https://api.github.com/users/girving/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-01T16:16:23Z", "updated_at": "2016-09-01T16:16:23Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Copying my comment above for convenience:</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8953690\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/lijiajia\">@lijiajia</a> We need more information than that it comes from somewhere inside <code>tf.gradients</code>, which contains something like half of TensorFlow. The best way would to be either find the specific line that constructs the <code>IndexedSlices</code> without specifying a <code>dense_shape</code>, or to produce a minimized test case. Here are some ways to go about the former:</p>\n<ol>\n<li>Add an assert in the constructor of <code>IndexedSlices</code> that <code>dense_shape</code> is specified. If you're lucky, this will break on the problematic line.</li>\n<li>In the constructor of <code>IndexedSlices</code>, <code>print id(self)</code> if <code>dense_shape</code> is not specified, and compare it to the id of the problematic <code>IndexedSlices</code> you're getting out.</li>\n</ol>", "body_text": "Copying my comment above for convenience:\n@lijiajia We need more information than that it comes from somewhere inside tf.gradients, which contains something like half of TensorFlow. The best way would to be either find the specific line that constructs the IndexedSlices without specifying a dense_shape, or to produce a minimized test case. Here are some ways to go about the former:\n\nAdd an assert in the constructor of IndexedSlices that dense_shape is specified. If you're lucky, this will break on the problematic line.\nIn the constructor of IndexedSlices, print id(self) if dense_shape is not specified, and compare it to the id of the problematic IndexedSlices you're getting out.", "body": "Copying my comment above for convenience:\n\n@lijiajia We need more information than that it comes from somewhere inside `tf.gradients`, which contains something like half of TensorFlow. The best way would to be either find the specific line that constructs the `IndexedSlices` without specifying a `dense_shape`, or to produce a minimized test case. Here are some ways to go about the former:\n1. Add an assert in the constructor of `IndexedSlices` that `dense_shape` is specified. If you're lucky, this will break on the problematic line.\n2. In the constructor of `IndexedSlices`, `print id(self)` if `dense_shape` is not specified, and compare it to the id of the problematic `IndexedSlices` you're getting out.\n"}