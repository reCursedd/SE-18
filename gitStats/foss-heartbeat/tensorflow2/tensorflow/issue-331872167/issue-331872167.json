{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19975", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19975/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19975/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19975/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19975", "id": 331872167, "node_id": "MDU6SXNzdWUzMzE4NzIxNjc=", "number": 19975, "title": "Runtime Error on TFLite Sample App", "user": {"login": "yasuhitotsu", "id": 40226422, "node_id": "MDQ6VXNlcjQwMjI2NDIy", "avatar_url": "https://avatars3.githubusercontent.com/u/40226422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yasuhitotsu", "html_url": "https://github.com/yasuhitotsu", "followers_url": "https://api.github.com/users/yasuhitotsu/followers", "following_url": "https://api.github.com/users/yasuhitotsu/following{/other_user}", "gists_url": "https://api.github.com/users/yasuhitotsu/gists{/gist_id}", "starred_url": "https://api.github.com/users/yasuhitotsu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yasuhitotsu/subscriptions", "organizations_url": "https://api.github.com/users/yasuhitotsu/orgs", "repos_url": "https://api.github.com/users/yasuhitotsu/repos", "events_url": "https://api.github.com/users/yasuhitotsu/events{/privacy}", "received_events_url": "https://api.github.com/users/yasuhitotsu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "achowdhery", "id": 4723042, "node_id": "MDQ6VXNlcjQ3MjMwNDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4723042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achowdhery", "html_url": "https://github.com/achowdhery", "followers_url": "https://api.github.com/users/achowdhery/followers", "following_url": "https://api.github.com/users/achowdhery/following{/other_user}", "gists_url": "https://api.github.com/users/achowdhery/gists{/gist_id}", "starred_url": "https://api.github.com/users/achowdhery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achowdhery/subscriptions", "organizations_url": "https://api.github.com/users/achowdhery/orgs", "repos_url": "https://api.github.com/users/achowdhery/repos", "events_url": "https://api.github.com/users/achowdhery/events{/privacy}", "received_events_url": "https://api.github.com/users/achowdhery/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "achowdhery", "id": 4723042, "node_id": "MDQ6VXNlcjQ3MjMwNDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4723042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achowdhery", "html_url": "https://github.com/achowdhery", "followers_url": "https://api.github.com/users/achowdhery/followers", "following_url": "https://api.github.com/users/achowdhery/following{/other_user}", "gists_url": "https://api.github.com/users/achowdhery/gists{/gist_id}", "starred_url": "https://api.github.com/users/achowdhery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achowdhery/subscriptions", "organizations_url": "https://api.github.com/users/achowdhery/orgs", "repos_url": "https://api.github.com/users/achowdhery/repos", "events_url": "https://api.github.com/users/achowdhery/events{/privacy}", "received_events_url": "https://api.github.com/users/achowdhery/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-06-13T07:24:01Z", "updated_at": "2018-07-17T00:04:41Z", "closed_at": "2018-07-17T00:04:41Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes</li>\n<li>OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04.4 LTS</li>\n<li>TensorFlow installed from (source or binary): pip/binary</li>\n<li>TensorFlow version (use command below): 1.8.0</li>\n<li>Python version: 3.5.2</li>\n<li>Bazel version (if compiling from source): N/A</li>\n<li>CUDA/cuDNN version: N/A</li>\n<li>GPU model and memory: N/A</li>\n<li>Exact command to reproduce: Please see the description.</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I'm developing an android application based on the tensorflow-lite <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/lite/examples/android\">object detection examples</a>.</p>\n<p>I trained <code>ssd_mobilenet_v1</code> and converted that model by following <a href=\"https://github.com/tensorflow/tensorflow/issues/15633#issuecomment-377652630\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/15633/hovercard\">this instructions</a>.</p>\n<p>Now I modified some lines which are shown the folloing before building and deploying the app.</p>\n<h3>Source code</h3>\n<div class=\"highlight highlight-source-diff\"><pre><span class=\"pl-c1\">diff --git a/tensorflow/contrib/lite/examples/android/BUILD b/tensorflow/contrib/lite/examples/android/BUILD</span>\nindex 5700007..85b58fc 100644\n<span class=\"pl-md\">--- a/tensorflow/contrib/lite/examples/android/BUILD</span>\n<span class=\"pl-mi1\">+++ b/tensorflow/contrib/lite/examples/android/BUILD</span>\n<span class=\"pl-mdr\">@@ -34,7 +34,8 @@</span> android_binary(\n         \"@tflite_mobilenet//:mobilenet_quant_v1_224.tflite\",\n         \"@tflite_conv_actions_frozen//:conv_actions_frozen.tflite\",\n         \"//tensorflow/contrib/lite/examples/android/assets:conv_actions_labels.txt\",\n<span class=\"pl-md\"><span class=\"pl-md\">-</span>        \"@tflite_mobilenet_ssd//:mobilenet_ssd.tflite\",</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>        # \"@tflite_mobilenet_ssd//:mobilenet_ssd.tflite\",</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>        \"//tensorflow/contrib/lite/examples/android/assets:ssd.tflite\",</span>\n         \"//tensorflow/contrib/lite/examples/android/assets:box_priors.txt\",\n         \"//tensorflow/contrib/lite/examples/android/assets:coco_labels_list.txt\",\n     ],\n<span class=\"pl-c1\">diff --git a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java</span>\nindex de997e4..95710ff 100644\n<span class=\"pl-md\">--- a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java</span>\n<span class=\"pl-mi1\">+++ b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java</span>\n<span class=\"pl-mdr\">@@ -50,7 +50,8 @@</span> public class DetectorActivity extends CameraActivity implements OnImageAvailable\n\n   // Configuration values for the prepackaged SSD model.\n   private static final int TF_OD_API_INPUT_SIZE = 300;\n<span class=\"pl-md\"><span class=\"pl-md\">-</span>  private static final String TF_OD_API_MODEL_FILE = \"mobilenet_ssd.tflite\";</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>  // private static final String TF_OD_API_MODEL_FILE = \"mobilenet_ssd.tflite\";</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>  private static final String TF_OD_API_MODEL_FILE = \"ssd.tflite\";</span>\n   private static final String TF_OD_API_LABELS_FILE = \"file:///android_asset/coco_labels_list.txt\";\n\n   // Which detection model to use: by default uses Tensorflow Object Detection API frozen\n<span class=\"pl-c1\">diff --git a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java</span>\nindex bfb4a0a..b21e753 100644\n<span class=\"pl-md\">--- a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java</span>\n<span class=\"pl-mi1\">+++ b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java</span>\n<span class=\"pl-mdr\">@@ -47,8 +47,8 @@</span> public class TFLiteObjectDetectionAPIModel implements Classifier {\n\n   // Only return this many results.\n   private static final int NUM_RESULTS = 1917;\n<span class=\"pl-md\"><span class=\"pl-md\">-</span>  private static final int NUM_CLASSES = 91;</span>\n<span class=\"pl-md\"><span class=\"pl-md\">-</span></span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>  // private static final int NUM_CLASSES = 91;</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>  private static final int NUM_CLASSES = 22;</span>\n   private static final float Y_SCALE = 10.0f;\n   private static final float X_SCALE = 10.0f;\n   private static final float H_SCALE = 5.0f;</pre></div>\n<h3>logs</h3>\n<p>Under those conditions, I faced the following Runtime Error.</p>\n<div class=\"highlight highlight-source-java\"><pre><span class=\"pl-c1\">06</span><span class=\"pl-k\">-</span><span class=\"pl-c1\">13</span> <span class=\"pl-c1\">15</span><span class=\"pl-k\">:</span><span class=\"pl-c1\">38</span><span class=\"pl-k\">:</span><span class=\"pl-c1\">39.120</span> <span class=\"pl-c1\">21951</span><span class=\"pl-k\">-</span><span class=\"pl-c1\">21971</span><span class=\"pl-k\">/</span>org<span class=\"pl-k\">.</span>tensorflow<span class=\"pl-k\">.</span>lite<span class=\"pl-k\">.</span>demo <span class=\"pl-smi\">E</span><span class=\"pl-k\">/</span><span class=\"pl-smi\">AndroidRuntime</span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">FATAL</span> <span class=\"pl-c1\">EXCEPTION</span><span class=\"pl-k\">:</span> inference\n    <span class=\"pl-smi\">Process</span><span class=\"pl-k\">:</span> org<span class=\"pl-k\">.</span>tensorflow<span class=\"pl-k\">.</span>lite<span class=\"pl-k\">.</span>demo, <span class=\"pl-c1\">PID</span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">21951</span>\n    <span class=\"pl-smi\">java.lang<span class=\"pl-k\">.</span>IllegalArgumentException</span><span class=\"pl-k\">:</span> <span class=\"pl-smi\">Output</span> error<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Shape</span> of output target [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1917</span>, <span class=\"pl-c1\">4</span>] does not match with the shape of the <span class=\"pl-smi\">Tensor</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1917</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">4</span>]<span class=\"pl-c1\">.</span>\n        at <span class=\"pl-smi\">org.tensorflow.lite<span class=\"pl-k\">.</span>Tensor</span><span class=\"pl-k\">.</span>copyTo(<span class=\"pl-smi\">Tensor</span><span class=\"pl-k\">.</span>java<span class=\"pl-k\">:</span><span class=\"pl-c1\">44</span>)\n        at <span class=\"pl-smi\">org.tensorflow.lite<span class=\"pl-k\">.</span>Interpreter</span><span class=\"pl-k\">.</span>runForMultipleInputsOutputs(<span class=\"pl-smi\">Interpreter</span><span class=\"pl-k\">.</span>java<span class=\"pl-k\">:</span><span class=\"pl-c1\">178</span>)\n        at <span class=\"pl-smi\">org.tensorflow.demo<span class=\"pl-k\">.</span>TFLiteObjectDetectionAPIModel</span><span class=\"pl-k\">.</span>recognizeImage(<span class=\"pl-smi\">TFLiteObjectDetectionAPIModel</span><span class=\"pl-k\">.</span>java<span class=\"pl-k\">:</span><span class=\"pl-c1\">222</span>)\n        at <span class=\"pl-smi\">org.tensorflow.demo<span class=\"pl-k\">.</span>DetectorActivity</span>$3<span class=\"pl-k\">.</span>run(<span class=\"pl-smi\">DetectorActivity</span><span class=\"pl-k\">.</span>java<span class=\"pl-k\">:</span><span class=\"pl-c1\">243</span>)\n        at <span class=\"pl-smi\">android.os<span class=\"pl-k\">.</span>Handler</span><span class=\"pl-k\">.</span>handleCallback(<span class=\"pl-smi\">Handler</span><span class=\"pl-k\">.</span>java<span class=\"pl-k\">:</span><span class=\"pl-c1\">761</span>)\n        at <span class=\"pl-smi\">android.os<span class=\"pl-k\">.</span>Handler</span><span class=\"pl-k\">.</span>dispatchMessage(<span class=\"pl-smi\">Handler</span><span class=\"pl-k\">.</span>java<span class=\"pl-k\">:</span><span class=\"pl-c1\">98</span>)\n        at <span class=\"pl-smi\">android.os<span class=\"pl-k\">.</span>Looper</span><span class=\"pl-k\">.</span>loop(<span class=\"pl-smi\">Looper</span><span class=\"pl-k\">.</span>java<span class=\"pl-k\">:</span><span class=\"pl-c1\">156</span>)\n        at <span class=\"pl-smi\">android.os<span class=\"pl-k\">.</span>HandlerThread</span><span class=\"pl-k\">.</span>run(<span class=\"pl-smi\">HandlerThread</span><span class=\"pl-k\">.</span>java<span class=\"pl-k\">:</span><span class=\"pl-c1\">61</span>)</pre></div>\n<p>Actually I applied another dataset to the model (<code>ssd.tflite</code>), but I just used <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/train.py\">train.py</a> as is, so I'm wondering why it was happened.</p>\n<p>I hope someone would help me.</p>\n<p>Thank you.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04.4 LTS\nTensorFlow installed from (source or binary): pip/binary\nTensorFlow version (use command below): 1.8.0\nPython version: 3.5.2\nBazel version (if compiling from source): N/A\nCUDA/cuDNN version: N/A\nGPU model and memory: N/A\nExact command to reproduce: Please see the description.\n\nDescribe the problem\nI'm developing an android application based on the tensorflow-lite object detection examples.\nI trained ssd_mobilenet_v1 and converted that model by following this instructions.\nNow I modified some lines which are shown the folloing before building and deploying the app.\nSource code\ndiff --git a/tensorflow/contrib/lite/examples/android/BUILD b/tensorflow/contrib/lite/examples/android/BUILD\nindex 5700007..85b58fc 100644\n--- a/tensorflow/contrib/lite/examples/android/BUILD\n+++ b/tensorflow/contrib/lite/examples/android/BUILD\n@@ -34,7 +34,8 @@ android_binary(\n         \"@tflite_mobilenet//:mobilenet_quant_v1_224.tflite\",\n         \"@tflite_conv_actions_frozen//:conv_actions_frozen.tflite\",\n         \"//tensorflow/contrib/lite/examples/android/assets:conv_actions_labels.txt\",\n-        \"@tflite_mobilenet_ssd//:mobilenet_ssd.tflite\",\n+        # \"@tflite_mobilenet_ssd//:mobilenet_ssd.tflite\",\n+        \"//tensorflow/contrib/lite/examples/android/assets:ssd.tflite\",\n         \"//tensorflow/contrib/lite/examples/android/assets:box_priors.txt\",\n         \"//tensorflow/contrib/lite/examples/android/assets:coco_labels_list.txt\",\n     ],\ndiff --git a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java\nindex de997e4..95710ff 100644\n--- a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java\n+++ b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java\n@@ -50,7 +50,8 @@ public class DetectorActivity extends CameraActivity implements OnImageAvailable\n\n   // Configuration values for the prepackaged SSD model.\n   private static final int TF_OD_API_INPUT_SIZE = 300;\n-  private static final String TF_OD_API_MODEL_FILE = \"mobilenet_ssd.tflite\";\n+  // private static final String TF_OD_API_MODEL_FILE = \"mobilenet_ssd.tflite\";\n+  private static final String TF_OD_API_MODEL_FILE = \"ssd.tflite\";\n   private static final String TF_OD_API_LABELS_FILE = \"file:///android_asset/coco_labels_list.txt\";\n\n   // Which detection model to use: by default uses Tensorflow Object Detection API frozen\ndiff --git a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java\nindex bfb4a0a..b21e753 100644\n--- a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java\n+++ b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java\n@@ -47,8 +47,8 @@ public class TFLiteObjectDetectionAPIModel implements Classifier {\n\n   // Only return this many results.\n   private static final int NUM_RESULTS = 1917;\n-  private static final int NUM_CLASSES = 91;\n-\n+  // private static final int NUM_CLASSES = 91;\n+  private static final int NUM_CLASSES = 22;\n   private static final float Y_SCALE = 10.0f;\n   private static final float X_SCALE = 10.0f;\n   private static final float H_SCALE = 5.0f;\nlogs\nUnder those conditions, I faced the following Runtime Error.\n06-13 15:38:39.120 21951-21971/org.tensorflow.lite.demo E/AndroidRuntime: FATAL EXCEPTION: inference\n    Process: org.tensorflow.lite.demo, PID: 21951\n    java.lang.IllegalArgumentException: Output error: Shape of output target [1, 1917, 4] does not match with the shape of the Tensor [1, 1917, 1, 4].\n        at org.tensorflow.lite.Tensor.copyTo(Tensor.java:44)\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:178)\n        at org.tensorflow.demo.TFLiteObjectDetectionAPIModel.recognizeImage(TFLiteObjectDetectionAPIModel.java:222)\n        at org.tensorflow.demo.DetectorActivity$3.run(DetectorActivity.java:243)\n        at android.os.Handler.handleCallback(Handler.java:761)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:156)\n        at android.os.HandlerThread.run(HandlerThread.java:61)\nActually I applied another dataset to the model (ssd.tflite), but I just used train.py as is, so I'm wondering why it was happened.\nI hope someone would help me.\nThank you.", "body": "### System information\r\n* Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\n* OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04.4 LTS\r\n* TensorFlow installed from (source or binary): pip/binary\r\n* TensorFlow version (use command below): 1.8.0\r\n* Python version: 3.5.2\r\n* Bazel version (if compiling from source): N/A\r\n* CUDA/cuDNN version: N/A\r\n* GPU model and memory: N/A\r\n* Exact command to reproduce: Please see the description.\r\n\r\n### Describe the problem\r\nI'm developing an android application based on the tensorflow-lite [object detection examples](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/lite/examples/android\r\n).\r\n\r\nI trained `ssd_mobilenet_v1` and converted that model by following [this instructions](https://github.com/tensorflow/tensorflow/issues/15633#issuecomment-377652630).\r\n\r\nNow I modified some lines which are shown the folloing before building and deploying the app.\r\n\r\n### Source code\r\n\r\n```diff\r\ndiff --git a/tensorflow/contrib/lite/examples/android/BUILD b/tensorflow/contrib/lite/examples/android/BUILD\r\nindex 5700007..85b58fc 100644\r\n--- a/tensorflow/contrib/lite/examples/android/BUILD\r\n+++ b/tensorflow/contrib/lite/examples/android/BUILD\r\n@@ -34,7 +34,8 @@ android_binary(\r\n         \"@tflite_mobilenet//:mobilenet_quant_v1_224.tflite\",\r\n         \"@tflite_conv_actions_frozen//:conv_actions_frozen.tflite\",\r\n         \"//tensorflow/contrib/lite/examples/android/assets:conv_actions_labels.txt\",\r\n-        \"@tflite_mobilenet_ssd//:mobilenet_ssd.tflite\",\r\n+        # \"@tflite_mobilenet_ssd//:mobilenet_ssd.tflite\",\r\n+        \"//tensorflow/contrib/lite/examples/android/assets:ssd.tflite\",\r\n         \"//tensorflow/contrib/lite/examples/android/assets:box_priors.txt\",\r\n         \"//tensorflow/contrib/lite/examples/android/assets:coco_labels_list.txt\",\r\n     ],\r\ndiff --git a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java\r\nindex de997e4..95710ff 100644\r\n--- a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java\r\n+++ b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/DetectorActivity.java\r\n@@ -50,7 +50,8 @@ public class DetectorActivity extends CameraActivity implements OnImageAvailable\r\n\r\n   // Configuration values for the prepackaged SSD model.\r\n   private static final int TF_OD_API_INPUT_SIZE = 300;\r\n-  private static final String TF_OD_API_MODEL_FILE = \"mobilenet_ssd.tflite\";\r\n+  // private static final String TF_OD_API_MODEL_FILE = \"mobilenet_ssd.tflite\";\r\n+  private static final String TF_OD_API_MODEL_FILE = \"ssd.tflite\";\r\n   private static final String TF_OD_API_LABELS_FILE = \"file:///android_asset/coco_labels_list.txt\";\r\n\r\n   // Which detection model to use: by default uses Tensorflow Object Detection API frozen\r\ndiff --git a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java\r\nindex bfb4a0a..b21e753 100644\r\n--- a/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java\r\n+++ b/tensorflow/contrib/lite/examples/android/src/org/tensorflow/demo/TFLiteObjectDetectionAPIModel.java\r\n@@ -47,8 +47,8 @@ public class TFLiteObjectDetectionAPIModel implements Classifier {\r\n\r\n   // Only return this many results.\r\n   private static final int NUM_RESULTS = 1917;\r\n-  private static final int NUM_CLASSES = 91;\r\n-\r\n+  // private static final int NUM_CLASSES = 91;\r\n+  private static final int NUM_CLASSES = 22;\r\n   private static final float Y_SCALE = 10.0f;\r\n   private static final float X_SCALE = 10.0f;\r\n   private static final float H_SCALE = 5.0f;\r\n```\r\n\r\n### logs\r\nUnder those conditions, I faced the following Runtime Error.\r\n```JAVA\r\n06-13 15:38:39.120 21951-21971/org.tensorflow.lite.demo E/AndroidRuntime: FATAL EXCEPTION: inference\r\n    Process: org.tensorflow.lite.demo, PID: 21951\r\n    java.lang.IllegalArgumentException: Output error: Shape of output target [1, 1917, 4] does not match with the shape of the Tensor [1, 1917, 1, 4].\r\n        at org.tensorflow.lite.Tensor.copyTo(Tensor.java:44)\r\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:178)\r\n        at org.tensorflow.demo.TFLiteObjectDetectionAPIModel.recognizeImage(TFLiteObjectDetectionAPIModel.java:222)\r\n        at org.tensorflow.demo.DetectorActivity$3.run(DetectorActivity.java:243)\r\n        at android.os.Handler.handleCallback(Handler.java:761)\r\n        at android.os.Handler.dispatchMessage(Handler.java:98)\r\n        at android.os.Looper.loop(Looper.java:156)\r\n        at android.os.HandlerThread.run(HandlerThread.java:61)\r\n```\r\n\r\nActually I applied another dataset to the model (`ssd.tflite`), but I just used [train.py](https://github.com/tensorflow/models/blob/master/research/object_detection/train.py) as is, so I'm wondering why it was happened.\r\n\r\nI hope someone would help me.\r\n\r\nThank you."}