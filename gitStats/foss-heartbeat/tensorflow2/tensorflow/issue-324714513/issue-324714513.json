{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19420", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19420/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19420/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19420/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19420", "id": 324714513, "node_id": "MDU6SXNzdWUzMjQ3MTQ1MTM=", "number": 19420, "title": "tf.keras.layers.Dropout has no 'is_training' argument", "user": {"login": "jcRisch", "id": 710264, "node_id": "MDQ6VXNlcjcxMDI2NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/710264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcRisch", "html_url": "https://github.com/jcRisch", "followers_url": "https://api.github.com/users/jcRisch/followers", "following_url": "https://api.github.com/users/jcRisch/following{/other_user}", "gists_url": "https://api.github.com/users/jcRisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcRisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcRisch/subscriptions", "organizations_url": "https://api.github.com/users/jcRisch/orgs", "repos_url": "https://api.github.com/users/jcRisch/repos", "events_url": "https://api.github.com/users/jcRisch/events{/privacy}", "received_events_url": "https://api.github.com/users/jcRisch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-20T14:42:20Z", "updated_at": "2018-10-05T00:46:53Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Dropout layer is (usually) only used while training. Keras automatically enable dropout layers while training and disable them while predicting.</p>\n<p>Thus, tf.keras.layers.Dropout has no 'is_training' argument (but it exists in tf.layers.dropout). That can mislead Keras and tf users when trying to mix Keras with TF layers. Indeed, predicting new data with dropout layers doesn't produce any error but reduces the accuracy ! Maybe a warning note in 'tf.keras.layers.Dropout' documentation can be useful.</p>\n<p>With tf.layers</p>\n<pre><code>dropout = tf.layers.dropout(inputs=dense, rate=0.2, training=is_training, name=\"dropout-1\")\n</code></pre>\n<p>With tf.Keras.layers</p>\n<pre><code>dense = ...\nif(is_training):\n      dropout = tf.keras.layers.Dropout(0.2, noise_shape=None, seed=None)(dense)\n  else :\n      dropout = dense\n</code></pre>", "body_text": "Dropout layer is (usually) only used while training. Keras automatically enable dropout layers while training and disable them while predicting.\nThus, tf.keras.layers.Dropout has no 'is_training' argument (but it exists in tf.layers.dropout). That can mislead Keras and tf users when trying to mix Keras with TF layers. Indeed, predicting new data with dropout layers doesn't produce any error but reduces the accuracy ! Maybe a warning note in 'tf.keras.layers.Dropout' documentation can be useful.\nWith tf.layers\ndropout = tf.layers.dropout(inputs=dense, rate=0.2, training=is_training, name=\"dropout-1\")\n\nWith tf.Keras.layers\ndense = ...\nif(is_training):\n      dropout = tf.keras.layers.Dropout(0.2, noise_shape=None, seed=None)(dense)\n  else :\n      dropout = dense", "body": "Dropout layer is (usually) only used while training. Keras automatically enable dropout layers while training and disable them while predicting.\r\n\r\nThus, tf.keras.layers.Dropout has no 'is_training' argument (but it exists in tf.layers.dropout). That can mislead Keras and tf users when trying to mix Keras with TF layers. Indeed, predicting new data with dropout layers doesn't produce any error but reduces the accuracy ! Maybe a warning note in 'tf.keras.layers.Dropout' documentation can be useful. \r\n\r\nWith tf.layers\r\n```\r\ndropout = tf.layers.dropout(inputs=dense, rate=0.2, training=is_training, name=\"dropout-1\")\r\n```\r\n\r\nWith tf.Keras.layers\r\n```\r\ndense = ...\r\nif(is_training):\r\n      dropout = tf.keras.layers.Dropout(0.2, noise_shape=None, seed=None)(dense)\r\n  else :\r\n      dropout = dense\r\n```"}