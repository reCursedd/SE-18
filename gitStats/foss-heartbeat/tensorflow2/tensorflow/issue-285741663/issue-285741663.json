{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15822", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15822/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15822/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15822/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/15822", "id": 285741663, "node_id": "MDExOlB1bGxSZXF1ZXN0MTYwOTUwOTI1", "number": 15822, "title": "Updating error handling in normalize_tuple", "user": {"login": "lukeschaefer", "id": 5386710, "node_id": "MDQ6VXNlcjUzODY3MTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/5386710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukeschaefer", "html_url": "https://github.com/lukeschaefer", "followers_url": "https://api.github.com/users/lukeschaefer/followers", "following_url": "https://api.github.com/users/lukeschaefer/following{/other_user}", "gists_url": "https://api.github.com/users/lukeschaefer/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukeschaefer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukeschaefer/subscriptions", "organizations_url": "https://api.github.com/users/lukeschaefer/orgs", "repos_url": "https://api.github.com/users/lukeschaefer/repos", "events_url": "https://api.github.com/users/lukeschaefer/events{/privacy}", "received_events_url": "https://api.github.com/users/lukeschaefer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 419840263, "node_id": "MDU6TGFiZWw0MTk4NDAyNjM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20testing%20(then%20merge)", "name": "awaiting testing (then merge)", "color": "c2e0c6", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-01-03T16:41:25Z", "updated_at": "2018-01-26T05:31:40Z", "closed_at": "2018-01-26T05:31:40Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15822", "html_url": "https://github.com/tensorflow/tensorflow/pull/15822", "diff_url": "https://github.com/tensorflow/tensorflow/pull/15822.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/15822.patch"}, "body_html": "<p>In normalize_tuple we test to see if all values are an int (or able to be cast to an int) using <code>int()</code></p>\n<p><code>ValueError</code> is thrown if <code>int()</code> is called with an input like 'asdf' - this is caught and gives a helpful error, using the 'name' param to provide more context.</p>\n<p><strong>However</strong>, when given an input other than a string or int, a <code>TypeError</code> is thrown. This is <strong>not</strong> caught - making error messages much more esoteric than the helpful one written out here, especially when coming from a very long stack trace.</p>\n<p>For example, before this change I was getting an error:</p>\n<pre><code>TypeError: int() argument must be a string or a number, not 'tuple'\n</code></pre>\n<p>With this change, I get the more useful:</p>\n<pre><code>ValueError: The `kernel_size` argument must be a tuple of 2 integers. \nReceived: ((0, 3), 50) including element (0, 3) of type &lt;type 'tuple'&gt;\n</code></pre>", "body_text": "In normalize_tuple we test to see if all values are an int (or able to be cast to an int) using int()\nValueError is thrown if int() is called with an input like 'asdf' - this is caught and gives a helpful error, using the 'name' param to provide more context.\nHowever, when given an input other than a string or int, a TypeError is thrown. This is not caught - making error messages much more esoteric than the helpful one written out here, especially when coming from a very long stack trace.\nFor example, before this change I was getting an error:\nTypeError: int() argument must be a string or a number, not 'tuple'\n\nWith this change, I get the more useful:\nValueError: The `kernel_size` argument must be a tuple of 2 integers. \nReceived: ((0, 3), 50) including element (0, 3) of type <type 'tuple'>", "body": "In normalize_tuple we test to see if all values are an int (or able to be cast to an int) using `int()`\r\n\r\n`ValueError` is thrown if `int()` is called with an input like 'asdf' - this is caught and gives a helpful error, using the 'name' param to provide more context.\r\n\r\n**However**, when given an input other than a string or int, a `TypeError` is thrown. This is **not** caught - making error messages much more esoteric than the helpful one written out here, especially when coming from a very long stack trace.\r\n\r\nFor example, before this change I was getting an error:\r\n```\r\nTypeError: int() argument must be a string or a number, not 'tuple'\r\n```\r\n\r\nWith this change, I get the more useful:\r\n```\r\nValueError: The `kernel_size` argument must be a tuple of 2 integers. \r\nReceived: ((0, 3), 50) including element (0, 3) of type <type 'tuple'>\r\n```\r\n  \r\n  "}