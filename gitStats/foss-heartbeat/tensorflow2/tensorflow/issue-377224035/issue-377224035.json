{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23508", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23508/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23508/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23508/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23508", "id": 377224035, "node_id": "MDU6SXNzdWUzNzcyMjQwMzU=", "number": 23508, "title": "AttributeError: 'Estimator' object has no attribute '_distribution'", "user": {"login": "rmrao", "id": 6496605, "node_id": "MDQ6VXNlcjY0OTY2MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6496605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmrao", "html_url": "https://github.com/rmrao", "followers_url": "https://api.github.com/users/rmrao/followers", "following_url": "https://api.github.com/users/rmrao/following{/other_user}", "gists_url": "https://api.github.com/users/rmrao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmrao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmrao/subscriptions", "organizations_url": "https://api.github.com/users/rmrao/orgs", "repos_url": "https://api.github.com/users/rmrao/repos", "events_url": "https://api.github.com/users/rmrao/events{/privacy}", "received_events_url": "https://api.github.com/users/rmrao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-11-05T02:00:17Z", "updated_at": "2018-11-07T20:03:08Z", "closed_at": "2018-11-07T20:03:08Z", "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes</li>\n<li>OS Platform and Distribution: Ubuntu 18.04</li>\n<li>TensorFlow installed from (source or binary): binary</li>\n<li>TensorFlow version (use command below): 1.11</li>\n<li>Python version: 3.6</li>\n<li>CUDA/cuDNN version: 9.2/7.2.1</li>\n<li>GPU model and memory: TitanXp 12Gb</li>\n</ul>\n<p>When I use an Estimator with a MirroredDistributionStrategy, I encounter the error \"AttributeError: 'Estimator' object has no attribute '_distribution'\". This seems to be tied to this <a href=\"https://github.com/tensorflow/tensorflow/blob/a6d8ffae097d0132989ae4688d224121ec6d8f35/tensorflow/python/estimator/estimator.py#L1330\">line</a>, which has <code>self._distribution.unwrap(per_device_hook)[0]</code>. I'm pretty sure this should be <code>self._train_distribution.unwrap(per_device_hook)[0]</code>.</p>\n<p>The estimator is clearly never assigned a '_distribution' attribute (this is the only line on which its referenced) so I assume this is just a typo. Let me know if I'm missing something.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\nOS Platform and Distribution: Ubuntu 18.04\nTensorFlow installed from (source or binary): binary\nTensorFlow version (use command below): 1.11\nPython version: 3.6\nCUDA/cuDNN version: 9.2/7.2.1\nGPU model and memory: TitanXp 12Gb\n\nWhen I use an Estimator with a MirroredDistributionStrategy, I encounter the error \"AttributeError: 'Estimator' object has no attribute '_distribution'\". This seems to be tied to this line, which has self._distribution.unwrap(per_device_hook)[0]. I'm pretty sure this should be self._train_distribution.unwrap(per_device_hook)[0].\nThe estimator is clearly never assigned a '_distribution' attribute (this is the only line on which its referenced) so I assume this is just a typo. Let me know if I'm missing something.", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\n- OS Platform and Distribution: Ubuntu 18.04\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 1.11\r\n- Python version: 3.6\r\n- CUDA/cuDNN version: 9.2/7.2.1\r\n- GPU model and memory: TitanXp 12Gb\r\n\r\nWhen I use an Estimator with a MirroredDistributionStrategy, I encounter the error \"AttributeError: 'Estimator' object has no attribute '_distribution'\". This seems to be tied to this [line](https://github.com/tensorflow/tensorflow/blob/a6d8ffae097d0132989ae4688d224121ec6d8f35/tensorflow/python/estimator/estimator.py#L1330), which has `self._distribution.unwrap(per_device_hook)[0]`. I'm pretty sure this should be `self._train_distribution.unwrap(per_device_hook)[0]`.\r\n\r\nThe estimator is clearly never assigned a '_distribution' attribute (this is the only line on which its referenced) so I assume this is just a typo. Let me know if I'm missing something."}