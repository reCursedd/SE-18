{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/217949259", "html_url": "https://github.com/tensorflow/tensorflow/issues/2285#issuecomment-217949259", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2285", "id": 217949259, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzk0OTI1OQ==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-09T18:32:55Z", "updated_at": "2016-05-09T18:32:55Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The high-level problem should be fixed by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=463737\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vrv\">@vrv</a>'s ongoing work to improve device placement. (Making <code>tf.Variable</code> ignore <code>tf.device()</code> will not work, because many of our users, especially in distributed settings, use this to configure parameter servers.) In the short term,  try using soft placement in your session constructor:</p>\n<div class=\"highlight highlight-source-python\"><pre>config <span class=\"pl-k\">=</span> tf.ConfigProto(<span class=\"pl-v\">allow_soft_placement</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>)\n<span class=\"pl-k\">with</span> tf.Session(<span class=\"pl-v\">config</span><span class=\"pl-k\">=</span>config) <span class=\"pl-k\">as</span> sess:\n    <span class=\"pl-c\"><span class=\"pl-c\">#</span> ...</span></pre></div>", "body_text": "The high-level problem should be fixed by @vrv's ongoing work to improve device placement. (Making tf.Variable ignore tf.device() will not work, because many of our users, especially in distributed settings, use this to configure parameter servers.) In the short term,  try using soft placement in your session constructor:\nconfig = tf.ConfigProto(allow_soft_placement=True)\nwith tf.Session(config=config) as sess:\n    # ...", "body": "The high-level problem should be fixed by @vrv's ongoing work to improve device placement. (Making `tf.Variable` ignore `tf.device()` will not work, because many of our users, especially in distributed settings, use this to configure parameter servers.) In the short term,  try using soft placement in your session constructor:\n\n``` python\nconfig = tf.ConfigProto(allow_soft_placement=True)\nwith tf.Session(config=config) as sess:\n    # ...\n```\n"}