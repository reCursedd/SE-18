{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/287", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/287/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/287/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/287", "id": 117746159, "node_id": "MDU6SXNzdWUxMTc3NDYxNTk=", "number": 287, "title": "sequence_length causes error when using GRU", "user": {"login": "jstaker7", "id": 1364252, "node_id": "MDQ6VXNlcjEzNjQyNTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1364252?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jstaker7", "html_url": "https://github.com/jstaker7", "followers_url": "https://api.github.com/users/jstaker7/followers", "following_url": "https://api.github.com/users/jstaker7/following{/other_user}", "gists_url": "https://api.github.com/users/jstaker7/gists{/gist_id}", "starred_url": "https://api.github.com/users/jstaker7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jstaker7/subscriptions", "organizations_url": "https://api.github.com/users/jstaker7/orgs", "repos_url": "https://api.github.com/users/jstaker7/repos", "events_url": "https://api.github.com/users/jstaker7/events{/privacy}", "received_events_url": "https://api.github.com/users/jstaker7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2015-11-19T05:46:18Z", "updated_at": "2016-02-19T07:41:07Z", "closed_at": "2016-02-19T07:40:48Z", "author_association": "NONE", "body_html": "<p>Calling this works just fine:<br>\noutputs, states = rnn.rnn(gru_cell, input, initial_state=initial_state)</p>\n<p>But this causes an error:<br>\noutputs, states = rnn.rnn(gru_cell, input, initial_state=initial_state, sequence_length=seq_length)</p>\n<p>Where I have tried the following for seq_length:<br>\nseq_length = tf.placeholder(tf.int64)<br>\nseq_length = tf.placeholder(tf.int32)<br>\nseq_length = tf.placeholder(tf.int64, shape=[1,1])</p>\n<p>This is the error:</p>\n<p>File \"/site-packages/tensorflow/models/rnn/rnn.py\", line 85, in rnn<br>\noutput_state = cell(input_, state)<br>\nFile \"/site-packages/tensorflow/models/rnn/rnn_cell.py\", line 120, in <strong>call</strong><br>\n2 * self._num_units, True, 1.0))<br>\nFile \"/site-packages/tensorflow/models/rnn/linear.py\", line 29, in linear<br>\nshapes = [a.get_shape().as_list() for a in args]<br>\nFile \"/site-packages/tensorflow/python/framework/tensor_shape.py\", line 676, in as_list<br>\nreturn [dim.value for dim in self._dims]<br>\nTypeError: 'NoneType' object is not iterable</p>", "body_text": "Calling this works just fine:\noutputs, states = rnn.rnn(gru_cell, input, initial_state=initial_state)\nBut this causes an error:\noutputs, states = rnn.rnn(gru_cell, input, initial_state=initial_state, sequence_length=seq_length)\nWhere I have tried the following for seq_length:\nseq_length = tf.placeholder(tf.int64)\nseq_length = tf.placeholder(tf.int32)\nseq_length = tf.placeholder(tf.int64, shape=[1,1])\nThis is the error:\nFile \"/site-packages/tensorflow/models/rnn/rnn.py\", line 85, in rnn\noutput_state = cell(input_, state)\nFile \"/site-packages/tensorflow/models/rnn/rnn_cell.py\", line 120, in call\n2 * self._num_units, True, 1.0))\nFile \"/site-packages/tensorflow/models/rnn/linear.py\", line 29, in linear\nshapes = [a.get_shape().as_list() for a in args]\nFile \"/site-packages/tensorflow/python/framework/tensor_shape.py\", line 676, in as_list\nreturn [dim.value for dim in self._dims]\nTypeError: 'NoneType' object is not iterable", "body": "Calling this works just fine:\noutputs, states = rnn.rnn(gru_cell, input, initial_state=initial_state)\n\nBut this causes an error:\noutputs, states = rnn.rnn(gru_cell, input, initial_state=initial_state, sequence_length=seq_length)\n\nWhere I have tried the following for seq_length:\nseq_length = tf.placeholder(tf.int64)\nseq_length = tf.placeholder(tf.int32)\nseq_length = tf.placeholder(tf.int64, shape=[1,1])\n\nThis is the error:\n\nFile \"/site-packages/tensorflow/models/rnn/rnn.py\", line 85, in rnn\n    output_state = cell(input_, state)\n  File \"/site-packages/tensorflow/models/rnn/rnn_cell.py\", line 120, in **call**\n    2 \\* self._num_units, True, 1.0))\n  File \"/site-packages/tensorflow/models/rnn/linear.py\", line 29, in linear\n    shapes = [a.get_shape().as_list() for a in args]\n  File \"/site-packages/tensorflow/python/framework/tensor_shape.py\", line 676, in as_list\n    return [dim.value for dim in self._dims]\nTypeError: 'NoneType' object is not iterable\n"}