{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18354", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18354/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18354/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18354/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18354", "id": 312659403, "node_id": "MDU6SXNzdWUzMTI2NTk0MDM=", "number": 18354, "title": "LookupError: No gradient defined for operation DepthwiseConv2dNativeBackpropFilter", "user": {"login": "tsoernes", "id": 6782404, "node_id": "MDQ6VXNlcjY3ODI0MDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/6782404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsoernes", "html_url": "https://github.com/tsoernes", "followers_url": "https://api.github.com/users/tsoernes/followers", "following_url": "https://api.github.com/users/tsoernes/following{/other_user}", "gists_url": "https://api.github.com/users/tsoernes/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsoernes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsoernes/subscriptions", "organizations_url": "https://api.github.com/users/tsoernes/orgs", "repos_url": "https://api.github.com/users/tsoernes/repos", "events_url": "https://api.github.com/users/tsoernes/events{/privacy}", "received_events_url": "https://api.github.com/users/tsoernes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-04-09T19:37:58Z", "updated_at": "2018-07-13T16:10:53Z", "closed_at": null, "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Fedora 27</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Source</li>\n<li><strong>TensorFlow version (use command below)</strong>: b'v1.3.0-rc1-3011-gd86448938' 1.3.0</li>\n<li><strong>Python version</strong>: Python 3.6.4<br>\n-Bazel version: N/A<br>\n-CUDA/cuDNN version: N/A<br>\n-GPU model and memory: N/A</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<pre><code>import tensorflow as tf\n\ninp = tf.ones((1, 2, 2, 5))\nshape = (3, 3, 5, 1)\nfilters = tf.Variable(tf.zeros_initializer()(shape))\nconv = tf.nn.depthwise_conv2d(inp, filters, strides=[1, 1, 1, 1], padding=\"SAME\")\nvalue_layer = tf.layers.Dense(\n    units=1, kernel_initializer=tf.zeros_initializer(), use_bias=False, activation=None)\nval = value_layer.apply(conv)\n\ntrainer = tf.train.GradientDescentOptimizer(1e-4)\nv_grads, _ = zip(*trainer.compute_gradients(val))\nv_gradsf = tf.concat([tf.reshape(e, [-1, 1]) for e in v_grads], axis=0)\nvweights = tf.random_uniform((50, 1))\ndot = tf.matmul(tf.transpose(v_gradsf), vweights)\nv_hess, _ = zip(*trainer.compute_gradients(dot))\n\nsess = tf.Session()\nsess.run(tf.global_variables_initializer())\nprint(sess.run((v_grads, dot, v_hess)))\n</code></pre>\n<pre><code>LookupError: No gradient defined for operation 'gradients/depthwise_grad/DepthwiseConv2dNativeBackpropFilter' (op type: DepthwiseConv2dNativeBackpropFilter)\n</code></pre>\n<p>I'm not sure if this is a bug or feature request.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Fedora 27\nTensorFlow installed from (source or binary): Source\nTensorFlow version (use command below): b'v1.3.0-rc1-3011-gd86448938' 1.3.0\nPython version: Python 3.6.4\n-Bazel version: N/A\n-CUDA/cuDNN version: N/A\n-GPU model and memory: N/A\nExact command to reproduce:\n\nimport tensorflow as tf\n\ninp = tf.ones((1, 2, 2, 5))\nshape = (3, 3, 5, 1)\nfilters = tf.Variable(tf.zeros_initializer()(shape))\nconv = tf.nn.depthwise_conv2d(inp, filters, strides=[1, 1, 1, 1], padding=\"SAME\")\nvalue_layer = tf.layers.Dense(\n    units=1, kernel_initializer=tf.zeros_initializer(), use_bias=False, activation=None)\nval = value_layer.apply(conv)\n\ntrainer = tf.train.GradientDescentOptimizer(1e-4)\nv_grads, _ = zip(*trainer.compute_gradients(val))\nv_gradsf = tf.concat([tf.reshape(e, [-1, 1]) for e in v_grads], axis=0)\nvweights = tf.random_uniform((50, 1))\ndot = tf.matmul(tf.transpose(v_gradsf), vweights)\nv_hess, _ = zip(*trainer.compute_gradients(dot))\n\nsess = tf.Session()\nsess.run(tf.global_variables_initializer())\nprint(sess.run((v_grads, dot, v_hess)))\n\nLookupError: No gradient defined for operation 'gradients/depthwise_grad/DepthwiseConv2dNativeBackpropFilter' (op type: DepthwiseConv2dNativeBackpropFilter)\n\nI'm not sure if this is a bug or feature request.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Fedora 27\r\n- **TensorFlow installed from (source or binary)**: Source\r\n- **TensorFlow version (use command below)**: b'v1.3.0-rc1-3011-gd86448938' 1.3.0\r\n- **Python version**: Python 3.6.4 \r\n-Bazel version: N/A\r\n-CUDA/cuDNN version: N/A\r\n-GPU model and memory: N/A\r\n- **Exact command to reproduce**:\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\ninp = tf.ones((1, 2, 2, 5))\r\nshape = (3, 3, 5, 1)\r\nfilters = tf.Variable(tf.zeros_initializer()(shape))\r\nconv = tf.nn.depthwise_conv2d(inp, filters, strides=[1, 1, 1, 1], padding=\"SAME\")\r\nvalue_layer = tf.layers.Dense(\r\n    units=1, kernel_initializer=tf.zeros_initializer(), use_bias=False, activation=None)\r\nval = value_layer.apply(conv)\r\n\r\ntrainer = tf.train.GradientDescentOptimizer(1e-4)\r\nv_grads, _ = zip(*trainer.compute_gradients(val))\r\nv_gradsf = tf.concat([tf.reshape(e, [-1, 1]) for e in v_grads], axis=0)\r\nvweights = tf.random_uniform((50, 1))\r\ndot = tf.matmul(tf.transpose(v_gradsf), vweights)\r\nv_hess, _ = zip(*trainer.compute_gradients(dot))\r\n\r\nsess = tf.Session()\r\nsess.run(tf.global_variables_initializer())\r\nprint(sess.run((v_grads, dot, v_hess)))\r\n```\r\n```\r\nLookupError: No gradient defined for operation 'gradients/depthwise_grad/DepthwiseConv2dNativeBackpropFilter' (op type: DepthwiseConv2dNativeBackpropFilter)\r\n```\r\nI'm not sure if this is a bug or feature request. "}