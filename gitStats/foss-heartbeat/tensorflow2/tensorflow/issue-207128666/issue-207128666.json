{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7459", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7459/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7459/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7459/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7459", "id": 207128666, "node_id": "MDU6SXNzdWUyMDcxMjg2NjY=", "number": 7459, "title": "Decode csv failed to decode csv file with commas in cell properly.", "user": {"login": "xiatian122", "id": 1190480, "node_id": "MDQ6VXNlcjExOTA0ODA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1190480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiatian122", "html_url": "https://github.com/xiatian122", "followers_url": "https://api.github.com/users/xiatian122/followers", "following_url": "https://api.github.com/users/xiatian122/following{/other_user}", "gists_url": "https://api.github.com/users/xiatian122/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiatian122/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiatian122/subscriptions", "organizations_url": "https://api.github.com/users/xiatian122/orgs", "repos_url": "https://api.github.com/users/xiatian122/repos", "events_url": "https://api.github.com/users/xiatian122/events{/privacy}", "received_events_url": "https://api.github.com/users/xiatian122/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-13T05:58:39Z", "updated_at": "2017-02-17T07:52:24Z", "closed_at": "2017-02-17T07:52:24Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Ubuntu 16.04</p>\n<p>Installed CUDA and cuDNN:</p>\n<p>Tensorflow is build from source.</p>\n<p>Tensorflow version: 1.0.0-rc2</p>\n<h3>Problem</h3>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n<span class=\"pl-k\">import</span> os\nfilename_queue <span class=\"pl-k\">=</span> tf.train.string_input_producer([os.path.join(os.getcwd(),<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>train.csv<span class=\"pl-pds\">\"</span></span>)])\nreader <span class=\"pl-k\">=</span> tf.TextLineReader(<span class=\"pl-v\">skip_header_lines</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span>)\nkey, value <span class=\"pl-k\">=</span> reader.read(filename_queue)\ndecoded <span class=\"pl-k\">=</span> tf.decode_csv(value, <span class=\"pl-v\">record_defaults</span> <span class=\"pl-k\">=</span> [[<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-c1\">0</span>], [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>],[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>], [<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>], [<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>], [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>]])\npassenger_id, survived, pclass, name, sex, age, sibsp, parch, ticket, fare, cabin, embarked <span class=\"pl-k\">=</span> tf.train.shuffle_batch(decoded, <span class=\"pl-v\">batch_size</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">9</span>, <span class=\"pl-v\">capacity</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">450</span>, <span class=\"pl-v\">min_after_dequeue</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">9</span>)<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-ii\"></span></span></pre></div>\n<p>The data to import:</p>\n<pre><code>PassengerId,Survived,Pclass,Name,Sex,Age,SibSp,Parch,Ticket,Fare,Cabin,Embarked\n1,0,3,\"Braund, Mr. Owen Harris\",male,22,1,0,A/5 21171,7.25,,S\n2,1,1,\"Cumings, Mrs. John Bradley (Florence Briggs Thayer)\",female,38,1,0,PC 17599,71.2833,C85,C\n3,1,3,\"Heikkinen, Miss. Laina\",female,26,0,0,STON/O2. 3101282,7.925,,S\n4,1,1,\"Futrelle, Mrs. Jacques Heath (Lily May Peel)\",female,35,1,0,113803,53.1,C123,S\n5,0,3,\"Allen, Mr. William Henry\",male,35,0,0,373450,8.05,,S\n6,0,3,\"Moran, Mr. James\",male,,0,0,330877,8.4583,,Q\n</code></pre>\n<p>The column \"name\" contains comma. The tenforflow reports invalid arguments.</p>", "body_text": "Environment info\nOperating System: Ubuntu 16.04\nInstalled CUDA and cuDNN:\nTensorflow is build from source.\nTensorflow version: 1.0.0-rc2\nProblem\nimport tensorflow as tf\nimport os\nfilename_queue = tf.train.string_input_producer([os.path.join(os.getcwd(),\"train.csv\")])\nreader = tf.TextLineReader(skip_header_lines=1)\nkey, value = reader.read(filename_queue)\ndecoded = tf.decode_csv(value, record_defaults = [[0.0], [0.0], [0], [\"\"],[\"\"], [0.0], [0.0], [0.0], [\"\"], [0.0], [\"\"], [\"\"]])\npassenger_id, survived, pclass, name, sex, age, sibsp, parch, ticket, fare, cabin, embarked = tf.train.shuffle_batch(decoded, batch_size=9, capacity=450, min_after_dequeue=9)\"\nThe data to import:\nPassengerId,Survived,Pclass,Name,Sex,Age,SibSp,Parch,Ticket,Fare,Cabin,Embarked\n1,0,3,\"Braund, Mr. Owen Harris\",male,22,1,0,A/5 21171,7.25,,S\n2,1,1,\"Cumings, Mrs. John Bradley (Florence Briggs Thayer)\",female,38,1,0,PC 17599,71.2833,C85,C\n3,1,3,\"Heikkinen, Miss. Laina\",female,26,0,0,STON/O2. 3101282,7.925,,S\n4,1,1,\"Futrelle, Mrs. Jacques Heath (Lily May Peel)\",female,35,1,0,113803,53.1,C123,S\n5,0,3,\"Allen, Mr. William Henry\",male,35,0,0,373450,8.05,,S\n6,0,3,\"Moran, Mr. James\",male,,0,0,330877,8.4583,,Q\n\nThe column \"name\" contains comma. The tenforflow reports invalid arguments.", "body": "### Environment info\r\nOperating System: Ubuntu 16.04\r\n\r\nInstalled CUDA and cuDNN: \r\n\r\nTensorflow is build from source.\r\n\r\nTensorflow version: 1.0.0-rc2\r\n\r\n### Problem\r\n```python\r\nimport tensorflow as tf\r\nimport os\r\nfilename_queue = tf.train.string_input_producer([os.path.join(os.getcwd(),\"train.csv\")])\r\nreader = tf.TextLineReader(skip_header_lines=1)\r\nkey, value = reader.read(filename_queue)\r\ndecoded = tf.decode_csv(value, record_defaults = [[0.0], [0.0], [0], [\"\"],[\"\"], [0.0], [0.0], [0.0], [\"\"], [0.0], [\"\"], [\"\"]])\r\npassenger_id, survived, pclass, name, sex, age, sibsp, parch, ticket, fare, cabin, embarked = tf.train.shuffle_batch(decoded, batch_size=9, capacity=450, min_after_dequeue=9)\"\r\n```\r\n\r\nThe data to import:\r\n```\r\nPassengerId,Survived,Pclass,Name,Sex,Age,SibSp,Parch,Ticket,Fare,Cabin,Embarked\r\n1,0,3,\"Braund, Mr. Owen Harris\",male,22,1,0,A/5 21171,7.25,,S\r\n2,1,1,\"Cumings, Mrs. John Bradley (Florence Briggs Thayer)\",female,38,1,0,PC 17599,71.2833,C85,C\r\n3,1,3,\"Heikkinen, Miss. Laina\",female,26,0,0,STON/O2. 3101282,7.925,,S\r\n4,1,1,\"Futrelle, Mrs. Jacques Heath (Lily May Peel)\",female,35,1,0,113803,53.1,C123,S\r\n5,0,3,\"Allen, Mr. William Henry\",male,35,0,0,373450,8.05,,S\r\n6,0,3,\"Moran, Mr. James\",male,,0,0,330877,8.4583,,Q\r\n```\r\n\r\nThe column \"name\" contains comma. The tenforflow reports invalid arguments.\r\n"}