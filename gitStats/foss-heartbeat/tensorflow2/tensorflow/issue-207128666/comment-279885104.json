{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/279885104", "html_url": "https://github.com/tensorflow/tensorflow/issues/7459#issuecomment-279885104", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7459", "id": 279885104, "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTg4NTEwNA==", "user": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-15T00:54:25Z", "updated_at": "2017-02-15T00:54:25Z", "author_association": "MEMBER", "body_html": "<p>I changed your example to actually run</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n<span class=\"pl-k\">import</span> os\n<span class=\"pl-k\">with</span> tf.device(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/cpu:0<span class=\"pl-pds\">\"</span></span>):\n\n  filename_queue <span class=\"pl-k\">=</span> tf.train.string_input_producer([os.path.join(os.getcwd(),<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>train.csv<span class=\"pl-pds\">\"</span></span>)])\n  reader <span class=\"pl-k\">=</span> tf.TextLineReader(<span class=\"pl-v\">skip_header_lines</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span>)\n  key, value <span class=\"pl-k\">=</span> reader.read(filename_queue)\n  decoded <span class=\"pl-k\">=</span> tf.decode_csv(value, <span class=\"pl-v\">record_defaults</span> <span class=\"pl-k\">=</span> [[<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-c1\">0</span>], [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>],[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>], [<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>], [<span class=\"pl-c1\">0.0</span>], [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>], [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>]])\n  passenger_id, survived, pclass, name, sex, age, sibsp, parch, ticket, fare, cabin, embarked <span class=\"pl-k\">=</span> tf.train.shuffle_batch(decoded, <span class=\"pl-v\">batch_size</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">9</span>, <span class=\"pl-v\">capacity</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">450</span>, <span class=\"pl-v\">min_after_dequeue</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">9</span>)\n  <span class=\"pl-k\">with</span> tf.Session() <span class=\"pl-k\">as</span> session:\n      coordinator <span class=\"pl-k\">=</span> tf.train.Coordinator()\n      tf.train.start_queue_runners(session, <span class=\"pl-v\">coord</span><span class=\"pl-k\">=</span>coordinator)\n\n\n      <span class=\"pl-c1\">print</span> (session.run(name))\n\n      coordinator.request_stop()\n      coordinator.join()\n</pre></div>\n<p>This worked fine and produced the following output.</p>\n<pre><code>[b'Futrelle, Mrs. Jacques Heath (Lily May Peel)'\n b'Futrelle, Mrs. Jacques Heath (Lily May Peel)' b'Heikkinen, Miss. Laina'\n b'Cumings, Mrs. John Bradley (Florence Briggs Thayer)'\n b'Cumings, Mrs. John Bradley (Florence Briggs Thayer)'\n b'Heikkinen, Miss. Laina' b'Allen, Mr. William Henry' b'Moran, Mr. James'\n b'Cumings, Mrs. John Bradley (Florence Briggs Thayer)']\n</code></pre>\n<p>This stackoverflow might be helpful.<br>\n<a href=\"http://stackoverflow.com/questions/42156479/can-tensorflow-handle-categorical-features-with-multiple-inputs-within-one-colum/42168658#42168658\" rel=\"nofollow\">http://stackoverflow.com/questions/42156479/can-tensorflow-handle-categorical-features-with-multiple-inputs-within-one-colum/42168658#42168658</a></p>\n<p>Barring a reproducible test case, I will need to close the issue. Thanks!</p>", "body_text": "I changed your example to actually run\nimport tensorflow as tf\nimport os\nwith tf.device(\"/cpu:0\"):\n\n  filename_queue = tf.train.string_input_producer([os.path.join(os.getcwd(),\"train.csv\")])\n  reader = tf.TextLineReader(skip_header_lines=1)\n  key, value = reader.read(filename_queue)\n  decoded = tf.decode_csv(value, record_defaults = [[0.0], [0.0], [0], [\"\"],[\"\"], [0.0], [0.0], [0.0], [\"\"], [0.0], [\"\"], [\"\"]])\n  passenger_id, survived, pclass, name, sex, age, sibsp, parch, ticket, fare, cabin, embarked = tf.train.shuffle_batch(decoded, batch_size=9, capacity=450, min_after_dequeue=9)\n  with tf.Session() as session:\n      coordinator = tf.train.Coordinator()\n      tf.train.start_queue_runners(session, coord=coordinator)\n\n\n      print (session.run(name))\n\n      coordinator.request_stop()\n      coordinator.join()\n\nThis worked fine and produced the following output.\n[b'Futrelle, Mrs. Jacques Heath (Lily May Peel)'\n b'Futrelle, Mrs. Jacques Heath (Lily May Peel)' b'Heikkinen, Miss. Laina'\n b'Cumings, Mrs. John Bradley (Florence Briggs Thayer)'\n b'Cumings, Mrs. John Bradley (Florence Briggs Thayer)'\n b'Heikkinen, Miss. Laina' b'Allen, Mr. William Henry' b'Moran, Mr. James'\n b'Cumings, Mrs. John Bradley (Florence Briggs Thayer)']\n\nThis stackoverflow might be helpful.\nhttp://stackoverflow.com/questions/42156479/can-tensorflow-handle-categorical-features-with-multiple-inputs-within-one-colum/42168658#42168658\nBarring a reproducible test case, I will need to close the issue. Thanks!", "body": "I changed your example to actually run\r\n```python\r\n\r\nimport tensorflow as tf\r\nimport os\r\nwith tf.device(\"/cpu:0\"):\r\n\r\n  filename_queue = tf.train.string_input_producer([os.path.join(os.getcwd(),\"train.csv\")])\r\n  reader = tf.TextLineReader(skip_header_lines=1)\r\n  key, value = reader.read(filename_queue)\r\n  decoded = tf.decode_csv(value, record_defaults = [[0.0], [0.0], [0], [\"\"],[\"\"], [0.0], [0.0], [0.0], [\"\"], [0.0], [\"\"], [\"\"]])\r\n  passenger_id, survived, pclass, name, sex, age, sibsp, parch, ticket, fare, cabin, embarked = tf.train.shuffle_batch(decoded, batch_size=9, capacity=450, min_after_dequeue=9)\r\n  with tf.Session() as session:\r\n      coordinator = tf.train.Coordinator()\r\n      tf.train.start_queue_runners(session, coord=coordinator)\r\n\r\n\r\n      print (session.run(name))\r\n\r\n      coordinator.request_stop()\r\n      coordinator.join()\r\n\r\n```\r\n\r\nThis worked fine and produced the following output.\r\n```\r\n[b'Futrelle, Mrs. Jacques Heath (Lily May Peel)'\r\n b'Futrelle, Mrs. Jacques Heath (Lily May Peel)' b'Heikkinen, Miss. Laina'\r\n b'Cumings, Mrs. John Bradley (Florence Briggs Thayer)'\r\n b'Cumings, Mrs. John Bradley (Florence Briggs Thayer)'\r\n b'Heikkinen, Miss. Laina' b'Allen, Mr. William Henry' b'Moran, Mr. James'\r\n b'Cumings, Mrs. John Bradley (Florence Briggs Thayer)']\r\n```\r\n\r\nThis stackoverflow might be helpful. \r\nhttp://stackoverflow.com/questions/42156479/can-tensorflow-handle-categorical-features-with-multiple-inputs-within-one-colum/42168658#42168658\r\n\r\nBarring a reproducible test case, I will need to close the issue. Thanks!\r\n\r\n"}