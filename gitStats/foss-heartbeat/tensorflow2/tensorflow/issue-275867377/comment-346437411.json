{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/346437411", "html_url": "https://github.com/tensorflow/tensorflow/pull/14770#issuecomment-346437411", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14770", "id": 346437411, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjQzNzQxMQ==", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-22T18:33:53Z", "updated_at": "2017-11-22T18:33:53Z", "author_association": "MEMBER", "body_html": "<p>Makefile issue should be fixed now (mirrored the tarball).<br>\nHowever, GPU python3 issue seems to be related to this change.</p>\n<pre><code>FAIL: testHalf (__main__.SparseXentTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/sparse_xent_op_test.py\", line 184, in testHalf\n    np.array([3, 0]).astype(label_dtype))\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/sparse_xent_op_test.py\", line 70, in _testXent\n    self.assertAllCloseAccordingToType(np_loss, tf_loss)\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 1120, in assertAllCloseAccordingToType\n    self.assertAllClose(a, b, rtol=rtol, atol=atol)\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 1084, in assertAllClose\n    self._assertArrayLikeAllClose(a, b, rtol=rtol, atol=atol)\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 1054, in _assertArrayLikeAllClose\n    np.testing.assert_allclose(a, b, rtol=rtol, atol=atol, err_msg=msg)\n  File \"/usr/local/lib/python3.4/dist-packages/numpy/testing/utils.py\", line 1395, in assert_allclose\n    verbose=verbose, header=header, equal_nan=equal_nan)\n  File \"/usr/local/lib/python3.4/dist-packages/numpy/testing/utils.py\", line 778, in assert_array_compare\n    raise AssertionError(msg)\nAssertionError: \nNot equal to tolerance rtol=0.001, atol=0.001\nNone\n(mismatch 100.0%)\n x: array([ 1.386719,  3.441406], dtype=float16)\n y: array([ 18656.,  19024.], dtype=float16)\n</code></pre>", "body_text": "Makefile issue should be fixed now (mirrored the tarball).\nHowever, GPU python3 issue seems to be related to this change.\nFAIL: testHalf (__main__.SparseXentTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/sparse_xent_op_test.py\", line 184, in testHalf\n    np.array([3, 0]).astype(label_dtype))\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/sparse_xent_op_test.py\", line 70, in _testXent\n    self.assertAllCloseAccordingToType(np_loss, tf_loss)\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 1120, in assertAllCloseAccordingToType\n    self.assertAllClose(a, b, rtol=rtol, atol=atol)\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 1084, in assertAllClose\n    self._assertArrayLikeAllClose(a, b, rtol=rtol, atol=atol)\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 1054, in _assertArrayLikeAllClose\n    np.testing.assert_allclose(a, b, rtol=rtol, atol=atol, err_msg=msg)\n  File \"/usr/local/lib/python3.4/dist-packages/numpy/testing/utils.py\", line 1395, in assert_allclose\n    verbose=verbose, header=header, equal_nan=equal_nan)\n  File \"/usr/local/lib/python3.4/dist-packages/numpy/testing/utils.py\", line 778, in assert_array_compare\n    raise AssertionError(msg)\nAssertionError: \nNot equal to tolerance rtol=0.001, atol=0.001\nNone\n(mismatch 100.0%)\n x: array([ 1.386719,  3.441406], dtype=float16)\n y: array([ 18656.,  19024.], dtype=float16)", "body": "Makefile issue should be fixed now (mirrored the tarball).\r\nHowever, GPU python3 issue seems to be related to this change.\r\n```\r\nFAIL: testHalf (__main__.SparseXentTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/sparse_xent_op_test.py\", line 184, in testHalf\r\n    np.array([3, 0]).astype(label_dtype))\r\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/sparse_xent_op_test.py\", line 70, in _testXent\r\n    self.assertAllCloseAccordingToType(np_loss, tf_loss)\r\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 1120, in assertAllCloseAccordingToType\r\n    self.assertAllClose(a, b, rtol=rtol, atol=atol)\r\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 1084, in assertAllClose\r\n    self._assertArrayLikeAllClose(a, b, rtol=rtol, atol=atol)\r\n  File \"/tmpfs/tmp/bazel/execroot/org_tensorflow/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/sparse_xent_op_test.runfiles/org_tensorflow/tensorflow/python/framework/test_util.py\", line 1054, in _assertArrayLikeAllClose\r\n    np.testing.assert_allclose(a, b, rtol=rtol, atol=atol, err_msg=msg)\r\n  File \"/usr/local/lib/python3.4/dist-packages/numpy/testing/utils.py\", line 1395, in assert_allclose\r\n    verbose=verbose, header=header, equal_nan=equal_nan)\r\n  File \"/usr/local/lib/python3.4/dist-packages/numpy/testing/utils.py\", line 778, in assert_array_compare\r\n    raise AssertionError(msg)\r\nAssertionError: \r\nNot equal to tolerance rtol=0.001, atol=0.001\r\nNone\r\n(mismatch 100.0%)\r\n x: array([ 1.386719,  3.441406], dtype=float16)\r\n y: array([ 18656.,  19024.], dtype=float16)\r\n```"}