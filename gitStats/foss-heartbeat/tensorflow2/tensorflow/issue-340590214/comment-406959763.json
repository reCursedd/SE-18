{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/406959763", "html_url": "https://github.com/tensorflow/tensorflow/issues/20732#issuecomment-406959763", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20732", "id": 406959763, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjk1OTc2Mw==", "user": {"login": "akanyaani", "id": 11317416, "node_id": "MDQ6VXNlcjExMzE3NDE2", "avatar_url": "https://avatars0.githubusercontent.com/u/11317416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akanyaani", "html_url": "https://github.com/akanyaani", "followers_url": "https://api.github.com/users/akanyaani/followers", "following_url": "https://api.github.com/users/akanyaani/following{/other_user}", "gists_url": "https://api.github.com/users/akanyaani/gists{/gist_id}", "starred_url": "https://api.github.com/users/akanyaani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akanyaani/subscriptions", "organizations_url": "https://api.github.com/users/akanyaani/orgs", "repos_url": "https://api.github.com/users/akanyaani/repos", "events_url": "https://api.github.com/users/akanyaani/events{/privacy}", "received_events_url": "https://api.github.com/users/akanyaani/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-23T07:02:00Z", "updated_at": "2018-07-23T07:04:57Z", "author_association": "NONE", "body_html": "<p>Hi all,<br>\nI have resolved this issue, earlier i used to load model using this</p>\n<pre><code>tf.reset_default_graph()\nsaver = tf.train.import_meta_graph(\"{}.meta\".format(checkpoint_file))\nsaver.restore(sess, checkpoint_file)\n</code></pre>\n<p>But sometimes I was getting an LSTMBLOACKcell error sometimes some variable is not initialized.<br>\nNow While training, I am storing these variable to graph only.</p>\n<p><code>var_list = (tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES, scope) + tf.get_collection(tf.GraphKeys.SAVEABLE_OBJECTS, scope)) </code><br>\nAnd the time of loading the graph I am loading the same list of variables.</p>\n<pre><code>saver = tf.train.Saver(var_list)\nsaver.restore(sess, checkpoint_file)\n\n</code></pre>\n<p>Now its working fine, I am able to resume the training or making servable file.</p>\n<p>Thanks</p>", "body_text": "Hi all,\nI have resolved this issue, earlier i used to load model using this\ntf.reset_default_graph()\nsaver = tf.train.import_meta_graph(\"{}.meta\".format(checkpoint_file))\nsaver.restore(sess, checkpoint_file)\n\nBut sometimes I was getting an LSTMBLOACKcell error sometimes some variable is not initialized.\nNow While training, I am storing these variable to graph only.\nvar_list = (tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES, scope) + tf.get_collection(tf.GraphKeys.SAVEABLE_OBJECTS, scope)) \nAnd the time of loading the graph I am loading the same list of variables.\nsaver = tf.train.Saver(var_list)\nsaver.restore(sess, checkpoint_file)\n\n\nNow its working fine, I am able to resume the training or making servable file.\nThanks", "body": "Hi all,\r\nI have resolved this issue, earlier i used to load model using this \r\n\r\n```\r\ntf.reset_default_graph()\r\nsaver = tf.train.import_meta_graph(\"{}.meta\".format(checkpoint_file))\r\nsaver.restore(sess, checkpoint_file)\r\n```\r\n\r\nBut sometimes I was getting an LSTMBLOACKcell error sometimes some variable is not initialized.\r\nNow While training, I am storing these variable to graph only.\r\n\r\n`var_list = (tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES, scope) + tf.get_collection(tf.GraphKeys.SAVEABLE_OBJECTS, scope))\r\n`\r\nAnd the time of loading the graph I am loading the same list of variables.\r\n\r\n```\r\nsaver = tf.train.Saver(var_list)\r\nsaver.restore(sess, checkpoint_file)\r\n\r\n```\r\nNow its working fine, I am able to resume the training or making servable file.\r\n\r\nThanks\r\n"}