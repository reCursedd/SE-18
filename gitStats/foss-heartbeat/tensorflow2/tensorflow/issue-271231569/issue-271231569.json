{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14251", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14251/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14251/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14251/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/14251", "id": 271231569, "node_id": "MDExOlB1bGxSZXF1ZXN0MTUwNjk3ODgw", "number": 14251, "title": "Add int64 support of `axis` (`Tidx`) for ConcatV2", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 419840263, "node_id": "MDU6TGFiZWw0MTk4NDAyNjM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20testing%20(then%20merge)", "name": "awaiting testing (then merge)", "color": "c2e0c6", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-11-04T22:31:04Z", "updated_at": "2018-03-19T22:05:34Z", "closed_at": "2018-03-19T17:31:34Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14251", "html_url": "https://github.com/tensorflow/tensorflow/pull/14251", "diff_url": "https://github.com/tensorflow/tensorflow/pull/14251.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/14251.patch"}, "body_html": "<p>In <code>array_ops.cc</code>, it was specified that ConcatV2 support both int32 and int64 data types of <code>axis</code> (<code>Tidx</code>):</p>\n<pre><code>    .Attr(\"Tidx: {int32, int64} = DT_INT32\")\n</code></pre>\n<p>However, in actual kernel implementations only int32 is supported as there is an unnecessary <code>.TypeConstraint&lt;int32&gt;(\"Tidx\")</code> specified.</p>\n<p>This fix tries to address the discrepancy between the ops declaration and kernel registration by adding the int64 axis (<code>Tidx</code>) support for <code>ConcatV2</code>.</p>\n<p>This fix removes the TypeConstraint and adds additional processing so that differnt types (int32 or int64) of <code>axis</code> could be processed correctly.</p>\n<p>Additional test cases have been added to cover the changes as well.</p>\n<p>Signed-off-by: Yong Tang <a href=\"mailto:yong.tang.github@outlook.com\">yong.tang.github@outlook.com</a></p>", "body_text": "In array_ops.cc, it was specified that ConcatV2 support both int32 and int64 data types of axis (Tidx):\n    .Attr(\"Tidx: {int32, int64} = DT_INT32\")\n\nHowever, in actual kernel implementations only int32 is supported as there is an unnecessary .TypeConstraint<int32>(\"Tidx\") specified.\nThis fix tries to address the discrepancy between the ops declaration and kernel registration by adding the int64 axis (Tidx) support for ConcatV2.\nThis fix removes the TypeConstraint and adds additional processing so that differnt types (int32 or int64) of axis could be processed correctly.\nAdditional test cases have been added to cover the changes as well.\nSigned-off-by: Yong Tang yong.tang.github@outlook.com", "body": "In `array_ops.cc`, it was specified that ConcatV2 support both int32 and int64 data types of `axis` (`Tidx`):\r\n```\r\n    .Attr(\"Tidx: {int32, int64} = DT_INT32\")\r\n```\r\n\r\nHowever, in actual kernel implementations only int32 is supported as there is an unnecessary `.TypeConstraint<int32>(\"Tidx\")` specified.\r\n\r\nThis fix tries to address the discrepancy between the ops declaration and kernel registration by adding the int64 axis (`Tidx`) support for `ConcatV2`.\r\n\r\nThis fix removes the TypeConstraint and adds additional processing so that differnt types (int32 or int64) of `axis` could be processed correctly.\r\n\r\nAdditional test cases have been added to cover the changes as well.\r\n\r\nSigned-off-by: Yong Tang <yong.tang.github@outlook.com>"}