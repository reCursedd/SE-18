{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/311188754", "html_url": "https://github.com/tensorflow/tensorflow/pull/11049#issuecomment-311188754", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11049", "id": 311188754, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTE4ODc1NA==", "user": {"login": "jalammar", "id": 1007956, "node_id": "MDQ6VXNlcjEwMDc5NTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1007956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jalammar", "html_url": "https://github.com/jalammar", "followers_url": "https://api.github.com/users/jalammar/followers", "following_url": "https://api.github.com/users/jalammar/following{/other_user}", "gists_url": "https://api.github.com/users/jalammar/gists{/gist_id}", "starred_url": "https://api.github.com/users/jalammar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jalammar/subscriptions", "organizations_url": "https://api.github.com/users/jalammar/orgs", "repos_url": "https://api.github.com/users/jalammar/repos", "events_url": "https://api.github.com/users/jalammar/events{/privacy}", "received_events_url": "https://api.github.com/users/jalammar/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-26T21:34:29Z", "updated_at": "2017-06-26T21:34:29Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20959853\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drpngx\">@drpngx</a> I did. It's unrelated to the patch. It also occurred in a completely separate PR (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"238157325\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/11012\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/11012/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/11012\">#11012</a>).</p>\n<p>That error occurs occasionally depending on what random values were generated in the setup of <code>testSparsePartialFlatten</code>. Specifically the <code>random_ = np.random.rand(*shape)</code> command</p>\n<pre><code>  def testSparsePartialFlatten(self):\n    \"\"\"Test `_inner_flatten` on `SparseTensor`s.\"\"\"\n    shape = [4, 3, 11, 6, 1, 3]\n    np.random.seed(10301)\n    random_ = np.random.rand(*shape)\n    indices, values, _ = _sparsify(random_)\n    ...\n</code></pre>\n<p>I isolated the test (<a href=\"https://gist.github.com/jalammar/e560aea1557ea12fec943762f32ab6eb\">https://gist.github.com/jalammar/e560aea1557ea12fec943762f32ab6eb</a>) and ran it a few times. It fails about 40% of the time.</p>\n<p>Running the test again would likely pass. But that test needs to be addressed as well.</p>", "body_text": "@drpngx I did. It's unrelated to the patch. It also occurred in a completely separate PR (#11012).\nThat error occurs occasionally depending on what random values were generated in the setup of testSparsePartialFlatten. Specifically the random_ = np.random.rand(*shape) command\n  def testSparsePartialFlatten(self):\n    \"\"\"Test `_inner_flatten` on `SparseTensor`s.\"\"\"\n    shape = [4, 3, 11, 6, 1, 3]\n    np.random.seed(10301)\n    random_ = np.random.rand(*shape)\n    indices, values, _ = _sparsify(random_)\n    ...\n\nI isolated the test (https://gist.github.com/jalammar/e560aea1557ea12fec943762f32ab6eb) and ran it a few times. It fails about 40% of the time.\nRunning the test again would likely pass. But that test needs to be addressed as well.", "body": "@drpngx I did. It's unrelated to the patch. It also occurred in a completely separate PR (https://github.com/tensorflow/tensorflow/pull/11012).\r\n\r\nThat error occurs occasionally depending on what random values were generated in the setup of ```testSparsePartialFlatten```. Specifically the ```random_ = np.random.rand(*shape)``` command\r\n```\r\n  def testSparsePartialFlatten(self):\r\n    \"\"\"Test `_inner_flatten` on `SparseTensor`s.\"\"\"\r\n    shape = [4, 3, 11, 6, 1, 3]\r\n    np.random.seed(10301)\r\n    random_ = np.random.rand(*shape)\r\n    indices, values, _ = _sparsify(random_)\r\n    ...\r\n```\r\n\r\n\r\nI isolated the test (https://gist.github.com/jalammar/e560aea1557ea12fec943762f32ab6eb) and ran it a few times. It fails about 40% of the time.\r\n\r\nRunning the test again would likely pass. But that test needs to be addressed as well.\r\n"}