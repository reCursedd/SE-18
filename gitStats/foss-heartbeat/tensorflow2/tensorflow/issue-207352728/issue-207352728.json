{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7477", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7477/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7477/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7477/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7477", "id": 207352728, "node_id": "MDU6SXNzdWUyMDczNTI3Mjg=", "number": 7477, "title": "Add support for custom queue runners", "user": {"login": "jimfleming", "id": 226553, "node_id": "MDQ6VXNlcjIyNjU1Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/226553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimfleming", "html_url": "https://github.com/jimfleming", "followers_url": "https://api.github.com/users/jimfleming/followers", "following_url": "https://api.github.com/users/jimfleming/following{/other_user}", "gists_url": "https://api.github.com/users/jimfleming/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimfleming/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimfleming/subscriptions", "organizations_url": "https://api.github.com/users/jimfleming/orgs", "repos_url": "https://api.github.com/users/jimfleming/repos", "events_url": "https://api.github.com/users/jimfleming/events{/privacy}", "received_events_url": "https://api.github.com/users/jimfleming/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-02-13T22:02:35Z", "updated_at": "2017-02-19T18:00:46Z", "closed_at": "2017-02-19T17:58:24Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I have a custom implementation of <code>QueueRunner</code> but right now TF complains when serializing:</p>\n<blockquote>\n<p>WARNING - tensorflow - Error encountered when serializing queue_runners.<br>\nType is unsupported, or the types of the items don't match field type in CollectionDef.<br>\nunbound method to_proto() must be called with QueueRunner instance as first argument (got IteratorRunner instance instead)</p>\n</blockquote>\n<p>The use case for the implementation is to take advantage of automatic thread starting from <code>Experiment</code>, <code>Supervisor</code>, <code>managed_session</code>, etc.</p>\n<p>I could inherit from <code>QueueRunner</code> but a <code>QueueRunnerBase</code> would be ideal as much of the existing implementation assumes the use of <code>enqueue_ops</code>.</p>\n<p>As an example, I have <a href=\"https://gist.github.com/jimfleming/d1118cc630f5c883223a4b4645cc2e7b\"><code>GeneratorRunner</code></a> which runs a generator in a thread and enqueues the outputs. This is more flexible than the existing <code>QueueRunner</code> since it  supports placeholders with feed dictionaries.</p>", "body_text": "I have a custom implementation of QueueRunner but right now TF complains when serializing:\n\nWARNING - tensorflow - Error encountered when serializing queue_runners.\nType is unsupported, or the types of the items don't match field type in CollectionDef.\nunbound method to_proto() must be called with QueueRunner instance as first argument (got IteratorRunner instance instead)\n\nThe use case for the implementation is to take advantage of automatic thread starting from Experiment, Supervisor, managed_session, etc.\nI could inherit from QueueRunner but a QueueRunnerBase would be ideal as much of the existing implementation assumes the use of enqueue_ops.\nAs an example, I have GeneratorRunner which runs a generator in a thread and enqueues the outputs. This is more flexible than the existing QueueRunner since it  supports placeholders with feed dictionaries.", "body": "I have a custom implementation of `QueueRunner` but right now TF complains when serializing:\r\n\r\n> WARNING - tensorflow - Error encountered when serializing queue_runners.\r\n> Type is unsupported, or the types of the items don't match field type in CollectionDef.\r\n> unbound method to_proto() must be called with QueueRunner instance as first argument (got IteratorRunner instance instead)\r\n\r\nThe use case for the implementation is to take advantage of automatic thread starting from `Experiment`, `Supervisor`, `managed_session`, etc.\r\n\r\nI could inherit from `QueueRunner` but a `QueueRunnerBase` would be ideal as much of the existing implementation assumes the use of `enqueue_ops`.\r\n\r\nAs an example, I have [`GeneratorRunner`](https://gist.github.com/jimfleming/d1118cc630f5c883223a4b4645cc2e7b) which runs a generator in a thread and enqueues the outputs. This is more flexible than the existing `QueueRunner` since it  supports placeholders with feed dictionaries."}