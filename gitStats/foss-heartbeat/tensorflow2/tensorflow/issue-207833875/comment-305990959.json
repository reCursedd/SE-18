{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/305990959", "html_url": "https://github.com/tensorflow/tensorflow/issues/7531#issuecomment-305990959", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7531", "id": 305990959, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTk5MDk1OQ==", "user": {"login": "lakshayg", "id": 7976315, "node_id": "MDQ6VXNlcjc5NzYzMTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/7976315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lakshayg", "html_url": "https://github.com/lakshayg", "followers_url": "https://api.github.com/users/lakshayg/followers", "following_url": "https://api.github.com/users/lakshayg/following{/other_user}", "gists_url": "https://api.github.com/users/lakshayg/gists{/gist_id}", "starred_url": "https://api.github.com/users/lakshayg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lakshayg/subscriptions", "organizations_url": "https://api.github.com/users/lakshayg/orgs", "repos_url": "https://api.github.com/users/lakshayg/repos", "events_url": "https://api.github.com/users/lakshayg/events{/privacy}", "received_events_url": "https://api.github.com/users/lakshayg/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-03T17:53:50Z", "updated_at": "2017-06-04T05:52:06Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I have written some code for sinh and cosh based on the way sin and cos were implemented. On trying to run the unit tests for cwise_op, the compilation fails and I get the following error message</p>\n<pre><code>ERROR: /vagrant/tensorflow/tensorflow/core/kernels/BUILD:2339:1: C++ compilation of rule '//tensorflow/core/kernels:cwise_op' failed: gcc failed: error executing command \n  (cd /home/vagrant/.cache/bazel/_bazel_vagrant/d3fa2e3dc676facfecf1f12694332c83/execroot/tensorflow &amp;&amp; \\\n  exec env - \\\n    PWD=/proc/self/cwd \\\n    PYTHON_BIN_PATH=/usr/bin/python \\\n    PYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \\\n    TF_NEED_CUDA=0 \\\n    TF_NEED_OPENCL=0 \\\n  /usr/bin/gcc -U_FORTIFY_SOURCE -fstack-protector -Wall -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections -fdata-sections '-std=c++0x' -MD -MF bazel-out/local-opt/bin/tensorflow/core/kernels/_objs/cwise_op/tensorflow/core/kernels/cwise_op_cosh.pic.d '-frandom-seed=bazel-out/local-opt/bin/tensorflow/core/kernels/_objs/cwise_op/tensorflow/core/kernels/cwise_op_cosh.pic.o' -fPIC -DEIGEN_MPL2_ONLY -DTENSORFLOW_USE_JEMALLOC -DSNAPPY -iquote . -iquote bazel-out/local-opt/genfiles -iquote external/bazel_tools -iquote bazel-out/local-opt/genfiles/external/bazel_tools -iquote external/eigen_archive -iquote bazel-out/local-opt/genfiles/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/local-opt/genfiles/external/local_config_sycl -iquote external/jemalloc -iquote bazel-out/local-opt/genfiles/external/jemalloc -iquote external/protobuf -iquote bazel-out/local-opt/genfiles/external/protobuf -iquote external/gif_archive -iquote bazel-out/local-opt/genfiles/external/gif_archive -iquote external/jpeg -iquote bazel-out/local-opt/genfiles/external/jpeg -iquote external/com_googlesource_code_re2 -iquote bazel-out/local-opt/genfiles/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/local-opt/genfiles/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/local-opt/genfiles/external/fft2d -iquote external/highwayhash -iquote bazel-out/local-opt/genfiles/external/highwayhash -iquote external/png_archive -iquote bazel-out/local-opt/genfiles/external/png_archive -iquote external/zlib_archive -iquote bazel-out/local-opt/genfiles/external/zlib_archive -iquote external/snappy -iquote bazel-out/local-opt/genfiles/external/snappy -iquote external/local_config_cuda -iquote bazel-out/local-opt/genfiles/external/local_config_cuda -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/eigen_archive -isystem bazel-out/local-opt/genfiles/external/eigen_archive -isystem external/jemalloc/include -isystem bazel-out/local-opt/genfiles/external/jemalloc/include -isystem external/protobuf/src -isystem bazel-out/local-opt/genfiles/external/protobuf/src -isystem external/gif_archive/lib -isystem bazel-out/local-opt/genfiles/external/gif_archive/lib -isystem external/farmhash_archive/src -isystem bazel-out/local-opt/genfiles/external/farmhash_archive/src -isystem external/png_archive -isystem bazel-out/local-opt/genfiles/external/png_archive -isystem external/zlib_archive -isystem bazel-out/local-opt/genfiles/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/local-opt/genfiles/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/include -isystem bazel-out/local-opt/genfiles/external/local_config_cuda/cuda/include -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions -msse3 -pthread -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -c tensorflow/core/kernels/cwise_op_cosh.cc -o bazel-out/local-opt/bin/tensorflow/core/kernels/_objs/cwise_op/tensorflow/core/kernels/cwise_op_cosh.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:371:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h: In instantiation of 'T Eigen::numext::cosh(const T&amp;) [with T = Eigen::half]':\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/functors/UnaryFunctors.h:576:97:   required from 'const Scalar Eigen::internal::scalar_cosh_op&lt;Scalar&gt;::operator()(const Scalar&amp;) const [with Scalar = Eigen::half]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorEvaluator.h:341:44:   required from 'Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::CoeffReturnType Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::coeff(Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::Index) const [with UnaryOp = Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;; ArgType = const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::CoeffReturnType = Eigen::half; Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h:136:28:   required from 'void Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LhsXprType, RhsXprType&gt;, Device&gt;::evalScalar(Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LhsXprType, RhsXprType&gt;, Device&gt;::Index) [with LeftArgType = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; RightArgType = const Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt;; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LhsXprType, RhsXprType&gt;, Device&gt;::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:93:7:   required from 'static void Eigen::internal::EvalRange&lt;Evaluator, Index, Vectorizable&gt;::run(Evaluator*, Index, Index) [with Evaluator = Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;, const Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt; &gt;, Eigen::ThreadPoolDevice&gt;; Index = long int; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:157:74:   [ skipping 2 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:154:7:   required from 'static void Eigen::internal::TensorExecutor&lt;Expression, Eigen::ThreadPoolDevice, Vectorizable&gt;::run(const Expression&amp;, const Eigen::ThreadPoolDevice&amp;) [with Expression = const Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;, const Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt; &gt;; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35:62:   required from 'Eigen::TensorDevice&lt;ExpressionType, DeviceType&gt;&amp; Eigen::TensorDevice&lt;ExpressionType, DeviceType&gt;::operator=(const OtherDerived&amp;) [with OtherDerived = Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt;; ExpressionType = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; DeviceType = Eigen::ThreadPoolDevice]'\n./tensorflow/core/kernels/cwise_ops_common.h:255:17:   required from 'void tensorflow::functor::Assign(const D&amp;, Out, Rhs) [with D = Eigen::ThreadPoolDevice; Out = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; Rhs = Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt;]'\n./tensorflow/core/kernels/cwise_ops_common.h:448:11:   required from 'void tensorflow::functor::UnaryFunctor&lt;Eigen::ThreadPoolDevice, Functor&gt;::operator()(const CPUDevice&amp;, typename Functor::tout_type, typename Functor::tin_type) [with Functor = tensorflow::functor::cosh&lt;Eigen::half&gt;; tensorflow::functor::CPUDevice = Eigen::ThreadPoolDevice; typename Functor::tout_type = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; typename Functor::tin_type = Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;]'\n./tensorflow/core/kernels/cwise_ops_common.h:246:45:   required from 'void tensorflow::UnaryOp&lt;Device, Functor&gt;::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Functor = tensorflow::functor::cosh&lt;Eigen::half&gt;]'\ntensorflow/core/kernels/cwise_op_cosh.cc:37:1:   required from here\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14: error: no matching function for call to 'cosh(const Eigen::half&amp;)'\n   return cosh(x);\n              ^\nIn file included from /usr/include/features.h:367:0,\n                 from /usr/include/x86_64-linux-gnu/c++/5/bits/os_defines.h:39,\n                 from /usr/include/x86_64-linux-gnu/c++/5/bits/c++config.h:482,\n                 from /usr/include/c++/5/cmath:41,\n                 from ./tensorflow/core/kernels/cwise_ops.h:19,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\n/usr/include/x86_64-linux-gnu/bits/mathcalls.h:72:1: note: candidate: double cosh(double)\n __MATHCALL (cosh,, (_Mdouble_ __x));\n ^\n/usr/include/x86_64-linux-gnu/bits/mathcalls.h:72:1: note:   no known conversion for argument 1 from 'const Eigen::half' to 'double'\nIn file included from ./tensorflow/core/kernels/cwise_ops.h:19:0,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\n/usr/include/c++/5/cmath:222:3: note: candidate: constexpr float std::cosh(float)\n   cosh(float __x)\n   ^\n/usr/include/c++/5/cmath:222:3: note:   no known conversion for argument 1 from 'const Eigen::half' to 'float'\n/usr/include/c++/5/cmath:226:3: note: candidate: constexpr long double std::cosh(long double)\n   cosh(long double __x)\n   ^\n/usr/include/c++/5/cmath:226:3: note:   no known conversion for argument 1 from 'const Eigen::half' to 'long double'\n/usr/include/c++/5/cmath:234:5: note: candidate: template&lt;class _Tp&gt; constexpr typename __gnu_cxx::__enable_if&lt;std::__is_integer&lt;_Tp&gt;::__value, double&gt;::__type std::cosh(_Tp)\n     cosh(_Tp __x)\n     ^\n/usr/include/c++/5/cmath:234:5: note:   template argument deduction/substitution failed:\n/usr/include/c++/5/cmath: In substitution of 'template&lt;class _Tp&gt; constexpr typename __gnu_cxx::__enable_if&lt;std::__is_integer&lt;_Tp&gt;::__value, double&gt;::__type std::cosh(_Tp) [with _Tp = Eigen::half]':\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14:   required from 'T Eigen::numext::cosh(const T&amp;) [with T = Eigen::half]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/functors/UnaryFunctors.h:576:97:   required from 'const Scalar Eigen::internal::scalar_cosh_op&lt;Scalar&gt;::operator()(const Scalar&amp;) const [with Scalar = Eigen::half]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorEvaluator.h:341:44:   required from 'Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::CoeffReturnType Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::coeff(Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::Index) const [with UnaryOp = Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;; ArgType = const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::CoeffReturnType = Eigen::half; Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h:136:28:   required from 'void Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LhsXprType, RhsXprType&gt;, Device&gt;::evalScalar(Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LhsXprType, RhsXprType&gt;, Device&gt;::Index) [with LeftArgType = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; RightArgType = const Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt;; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LhsXprType, RhsXprType&gt;, Device&gt;::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:93:7:   required from 'static void Eigen::internal::EvalRange&lt;Evaluator, Index, Vectorizable&gt;::run(Evaluator*, Index, Index) [with Evaluator = Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;, const Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt; &gt;, Eigen::ThreadPoolDevice&gt;; Index = long int; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:157:74:   [ skipping 2 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:154:7:   required from 'static void Eigen::internal::TensorExecutor&lt;Expression, Eigen::ThreadPoolDevice, Vectorizable&gt;::run(const Expression&amp;, const Eigen::ThreadPoolDevice&amp;) [with Expression = const Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;, const Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt; &gt;; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35:62:   required from 'Eigen::TensorDevice&lt;ExpressionType, DeviceType&gt;&amp; Eigen::TensorDevice&lt;ExpressionType, DeviceType&gt;::operator=(const OtherDerived&amp;) [with OtherDerived = Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt;; ExpressionType = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; DeviceType = Eigen::ThreadPoolDevice]'\n./tensorflow/core/kernels/cwise_ops_common.h:255:17:   required from 'void tensorflow::functor::Assign(const D&amp;, Out, Rhs) [with D = Eigen::ThreadPoolDevice; Out = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; Rhs = Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt;]'\n./tensorflow/core/kernels/cwise_ops_common.h:448:11:   required from 'void tensorflow::functor::UnaryFunctor&lt;Eigen::ThreadPoolDevice, Functor&gt;::operator()(const CPUDevice&amp;, typename Functor::tout_type, typename Functor::tin_type) [with Functor = tensorflow::functor::cosh&lt;Eigen::half&gt;; tensorflow::functor::CPUDevice = Eigen::ThreadPoolDevice; typename Functor::tout_type = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; typename Functor::tin_type = Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;]'\n./tensorflow/core/kernels/cwise_ops_common.h:246:45:   required from 'void tensorflow::UnaryOp&lt;Device, Functor&gt;::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Functor = tensorflow::functor::cosh&lt;Eigen::half&gt;]'\ntensorflow/core/kernels/cwise_op_cosh.cc:37:1:   required from here\n/usr/include/c++/5/cmath:234:5: error: no type named '__type' in 'struct __gnu_cxx::__enable_if&lt;false, double&gt;'\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:78:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h: In instantiation of 'T Eigen::numext::cosh(const T&amp;) [with T = Eigen::half]':\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/functors/UnaryFunctors.h:576:97:   required from 'const Scalar Eigen::internal::scalar_cosh_op&lt;Scalar&gt;::operator()(const Scalar&amp;) const [with Scalar = Eigen::half]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorEvaluator.h:341:44:   required from 'Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::CoeffReturnType Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::coeff(Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::Index) const [with UnaryOp = Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;; ArgType = const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::CoeffReturnType = Eigen::half; Eigen::TensorEvaluator&lt;const Eigen::TensorCwiseUnaryOp&lt;UnaryOp, ArgType&gt;, Device&gt;::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h:136:28:   required from 'void Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LhsXprType, RhsXprType&gt;, Device&gt;::evalScalar(Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LhsXprType, RhsXprType&gt;, Device&gt;::Index) [with LeftArgType = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; RightArgType = const Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt;; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LhsXprType, RhsXprType&gt;, Device&gt;::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:93:7:   required from 'static void Eigen::internal::EvalRange&lt;Evaluator, Index, Vectorizable&gt;::run(Evaluator*, Index, Index) [with Evaluator = Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;, const Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt; &gt;, Eigen::ThreadPoolDevice&gt;; Index = long int; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:157:74:   [ skipping 2 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:154:7:   required from 'static void Eigen::internal::TensorExecutor&lt;Expression, Eigen::ThreadPoolDevice, Vectorizable&gt;::run(const Expression&amp;, const Eigen::ThreadPoolDevice&amp;) [with Expression = const Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;, const Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt; &gt;; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35:62:   required from 'Eigen::TensorDevice&lt;ExpressionType, DeviceType&gt;&amp; Eigen::TensorDevice&lt;ExpressionType, DeviceType&gt;::operator=(const OtherDerived&amp;) [with OtherDerived = Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt;; ExpressionType = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; DeviceType = Eigen::ThreadPoolDevice]'\n./tensorflow/core/kernels/cwise_ops_common.h:255:17:   required from 'void tensorflow::functor::Assign(const D&amp;, Out, Rhs) [with D = Eigen::ThreadPoolDevice; Out = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; Rhs = Eigen::TensorCwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;Eigen::half&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt; &gt;]'\n./tensorflow/core/kernels/cwise_ops_common.h:448:11:   required from 'void tensorflow::functor::UnaryFunctor&lt;Eigen::ThreadPoolDevice, Functor&gt;::operator()(const CPUDevice&amp;, typename Functor::tout_type, typename Functor::tin_type) [with Functor = tensorflow::functor::cosh&lt;Eigen::half&gt;; tensorflow::functor::CPUDevice = Eigen::ThreadPoolDevice; typename Functor::tout_type = Eigen::TensorMap&lt;Eigen::Tensor&lt;Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;; typename Functor::tin_type = Eigen::TensorMap&lt;Eigen::Tensor&lt;const Eigen::half, 1, 1, long int&gt;, 16, Eigen::MakePointer&gt;]'\n./tensorflow/core/kernels/cwise_ops_common.h:246:45:   required from 'void tensorflow::UnaryOp&lt;Device, Functor&gt;::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Functor = tensorflow::functor::cosh&lt;Eigen::half&gt;]'\ntensorflow/core/kernels/cwise_op_cosh.cc:37:1:   required from here\n/usr/include/c++/5/complex:732:5: note: candidate: template&lt;class _Tp&gt; std::complex&lt;_Tp&gt; std::cosh(const std::complex&lt;_Tp&gt;&amp;)\n     cosh(const complex&lt;_Tp&gt;&amp; __z) { return __complex_cosh(__z.__rep()); }\n     ^\n/usr/include/c++/5/complex:732:5: note:   template argument deduction/substitution failed:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:371:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14: note:   'const Eigen::half' is not derived from 'const std::complex&lt;_Tp&gt;'\n   return cosh(x);\n              ^\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:536:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GlobalFunctions.h:67:3: note: candidate: template&lt;class Derived&gt; const Eigen::CwiseUnaryOp&lt;Eigen::internal::scalar_cosh_op&lt;typename Derived::Scalar&gt;, const Derived&gt; Eigen::cosh(const Eigen::ArrayBase&lt;Derived&gt;&amp;)\n   EIGEN_ARRAY_DECLARE_GLOBAL_UNARY(cosh,scalar_cosh_op,hyperbolic cosine,\\sa ArrayBase::cosh)\n   ^\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GlobalFunctions.h:67:3: note:   template argument deduction/substitution failed:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:371:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14: note:   'const Eigen::half' is not derived from 'const Eigen::ArrayBase&lt;Derived&gt;'\n   return cosh(x);\n              ^\nTarget //tensorflow/core/kernels:cwise_op failed to build\n</code></pre>\n<p>It seems that this has something to do with <code>Eigen::half</code>. Should I just remove the support for <code>Eigen::half</code> from the definition of <code>sinh</code> and <code>cosh</code>? I have not been able to fix this issue, any help/hint is appreciated.<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=326106\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aselle\">@aselle</a></p>", "body_text": "I have written some code for sinh and cosh based on the way sin and cos were implemented. On trying to run the unit tests for cwise_op, the compilation fails and I get the following error message\nERROR: /vagrant/tensorflow/tensorflow/core/kernels/BUILD:2339:1: C++ compilation of rule '//tensorflow/core/kernels:cwise_op' failed: gcc failed: error executing command \n  (cd /home/vagrant/.cache/bazel/_bazel_vagrant/d3fa2e3dc676facfecf1f12694332c83/execroot/tensorflow && \\\n  exec env - \\\n    PWD=/proc/self/cwd \\\n    PYTHON_BIN_PATH=/usr/bin/python \\\n    PYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \\\n    TF_NEED_CUDA=0 \\\n    TF_NEED_OPENCL=0 \\\n  /usr/bin/gcc -U_FORTIFY_SOURCE -fstack-protector -Wall -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections -fdata-sections '-std=c++0x' -MD -MF bazel-out/local-opt/bin/tensorflow/core/kernels/_objs/cwise_op/tensorflow/core/kernels/cwise_op_cosh.pic.d '-frandom-seed=bazel-out/local-opt/bin/tensorflow/core/kernels/_objs/cwise_op/tensorflow/core/kernels/cwise_op_cosh.pic.o' -fPIC -DEIGEN_MPL2_ONLY -DTENSORFLOW_USE_JEMALLOC -DSNAPPY -iquote . -iquote bazel-out/local-opt/genfiles -iquote external/bazel_tools -iquote bazel-out/local-opt/genfiles/external/bazel_tools -iquote external/eigen_archive -iquote bazel-out/local-opt/genfiles/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/local-opt/genfiles/external/local_config_sycl -iquote external/jemalloc -iquote bazel-out/local-opt/genfiles/external/jemalloc -iquote external/protobuf -iquote bazel-out/local-opt/genfiles/external/protobuf -iquote external/gif_archive -iquote bazel-out/local-opt/genfiles/external/gif_archive -iquote external/jpeg -iquote bazel-out/local-opt/genfiles/external/jpeg -iquote external/com_googlesource_code_re2 -iquote bazel-out/local-opt/genfiles/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/local-opt/genfiles/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/local-opt/genfiles/external/fft2d -iquote external/highwayhash -iquote bazel-out/local-opt/genfiles/external/highwayhash -iquote external/png_archive -iquote bazel-out/local-opt/genfiles/external/png_archive -iquote external/zlib_archive -iquote bazel-out/local-opt/genfiles/external/zlib_archive -iquote external/snappy -iquote bazel-out/local-opt/genfiles/external/snappy -iquote external/local_config_cuda -iquote bazel-out/local-opt/genfiles/external/local_config_cuda -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/eigen_archive -isystem bazel-out/local-opt/genfiles/external/eigen_archive -isystem external/jemalloc/include -isystem bazel-out/local-opt/genfiles/external/jemalloc/include -isystem external/protobuf/src -isystem bazel-out/local-opt/genfiles/external/protobuf/src -isystem external/gif_archive/lib -isystem bazel-out/local-opt/genfiles/external/gif_archive/lib -isystem external/farmhash_archive/src -isystem bazel-out/local-opt/genfiles/external/farmhash_archive/src -isystem external/png_archive -isystem bazel-out/local-opt/genfiles/external/png_archive -isystem external/zlib_archive -isystem bazel-out/local-opt/genfiles/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/local-opt/genfiles/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/include -isystem bazel-out/local-opt/genfiles/external/local_config_cuda/cuda/include -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions -msse3 -pthread -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -c tensorflow/core/kernels/cwise_op_cosh.cc -o bazel-out/local-opt/bin/tensorflow/core/kernels/_objs/cwise_op/tensorflow/core/kernels/cwise_op_cosh.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:371:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h: In instantiation of 'T Eigen::numext::cosh(const T&) [with T = Eigen::half]':\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/functors/UnaryFunctors.h:576:97:   required from 'const Scalar Eigen::internal::scalar_cosh_op<Scalar>::operator()(const Scalar&) const [with Scalar = Eigen::half]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorEvaluator.h:341:44:   required from 'Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::coeff(Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index) const [with UnaryOp = Eigen::internal::scalar_cosh_op<Eigen::half>; ArgType = const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType = Eigen::half; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h:136:28:   required from 'void Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::evalScalar(Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index) [with LeftArgType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; RightArgType = const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:93:7:   required from 'static void Eigen::internal::EvalRange<Evaluator, Index, Vectorizable>::run(Evaluator*, Index, Index) [with Evaluator = Eigen::TensorEvaluator<const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >, Eigen::ThreadPoolDevice>; Index = long int; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:157:74:   [ skipping 2 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:154:7:   required from 'static void Eigen::internal::TensorExecutor<Expression, Eigen::ThreadPoolDevice, Vectorizable>::run(const Expression&, const Eigen::ThreadPoolDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35:62:   required from 'Eigen::TensorDevice<ExpressionType, DeviceType>& Eigen::TensorDevice<ExpressionType, DeviceType>::operator=(const OtherDerived&) [with OtherDerived = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; ExpressionType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; DeviceType = Eigen::ThreadPoolDevice]'\n./tensorflow/core/kernels/cwise_ops_common.h:255:17:   required from 'void tensorflow::functor::Assign(const D&, Out, Rhs) [with D = Eigen::ThreadPoolDevice; Out = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Rhs = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >]'\n./tensorflow/core/kernels/cwise_ops_common.h:448:11:   required from 'void tensorflow::functor::UnaryFunctor<Eigen::ThreadPoolDevice, Functor>::operator()(const CPUDevice&, typename Functor::tout_type, typename Functor::tin_type) [with Functor = tensorflow::functor::cosh<Eigen::half>; tensorflow::functor::CPUDevice = Eigen::ThreadPoolDevice; typename Functor::tout_type = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; typename Functor::tin_type = Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>]'\n./tensorflow/core/kernels/cwise_ops_common.h:246:45:   required from 'void tensorflow::UnaryOp<Device, Functor>::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Functor = tensorflow::functor::cosh<Eigen::half>]'\ntensorflow/core/kernels/cwise_op_cosh.cc:37:1:   required from here\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14: error: no matching function for call to 'cosh(const Eigen::half&)'\n   return cosh(x);\n              ^\nIn file included from /usr/include/features.h:367:0,\n                 from /usr/include/x86_64-linux-gnu/c++/5/bits/os_defines.h:39,\n                 from /usr/include/x86_64-linux-gnu/c++/5/bits/c++config.h:482,\n                 from /usr/include/c++/5/cmath:41,\n                 from ./tensorflow/core/kernels/cwise_ops.h:19,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\n/usr/include/x86_64-linux-gnu/bits/mathcalls.h:72:1: note: candidate: double cosh(double)\n __MATHCALL (cosh,, (_Mdouble_ __x));\n ^\n/usr/include/x86_64-linux-gnu/bits/mathcalls.h:72:1: note:   no known conversion for argument 1 from 'const Eigen::half' to 'double'\nIn file included from ./tensorflow/core/kernels/cwise_ops.h:19:0,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\n/usr/include/c++/5/cmath:222:3: note: candidate: constexpr float std::cosh(float)\n   cosh(float __x)\n   ^\n/usr/include/c++/5/cmath:222:3: note:   no known conversion for argument 1 from 'const Eigen::half' to 'float'\n/usr/include/c++/5/cmath:226:3: note: candidate: constexpr long double std::cosh(long double)\n   cosh(long double __x)\n   ^\n/usr/include/c++/5/cmath:226:3: note:   no known conversion for argument 1 from 'const Eigen::half' to 'long double'\n/usr/include/c++/5/cmath:234:5: note: candidate: template<class _Tp> constexpr typename __gnu_cxx::__enable_if<std::__is_integer<_Tp>::__value, double>::__type std::cosh(_Tp)\n     cosh(_Tp __x)\n     ^\n/usr/include/c++/5/cmath:234:5: note:   template argument deduction/substitution failed:\n/usr/include/c++/5/cmath: In substitution of 'template<class _Tp> constexpr typename __gnu_cxx::__enable_if<std::__is_integer<_Tp>::__value, double>::__type std::cosh(_Tp) [with _Tp = Eigen::half]':\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14:   required from 'T Eigen::numext::cosh(const T&) [with T = Eigen::half]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/functors/UnaryFunctors.h:576:97:   required from 'const Scalar Eigen::internal::scalar_cosh_op<Scalar>::operator()(const Scalar&) const [with Scalar = Eigen::half]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorEvaluator.h:341:44:   required from 'Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::coeff(Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index) const [with UnaryOp = Eigen::internal::scalar_cosh_op<Eigen::half>; ArgType = const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType = Eigen::half; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h:136:28:   required from 'void Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::evalScalar(Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index) [with LeftArgType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; RightArgType = const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:93:7:   required from 'static void Eigen::internal::EvalRange<Evaluator, Index, Vectorizable>::run(Evaluator*, Index, Index) [with Evaluator = Eigen::TensorEvaluator<const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >, Eigen::ThreadPoolDevice>; Index = long int; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:157:74:   [ skipping 2 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:154:7:   required from 'static void Eigen::internal::TensorExecutor<Expression, Eigen::ThreadPoolDevice, Vectorizable>::run(const Expression&, const Eigen::ThreadPoolDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35:62:   required from 'Eigen::TensorDevice<ExpressionType, DeviceType>& Eigen::TensorDevice<ExpressionType, DeviceType>::operator=(const OtherDerived&) [with OtherDerived = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; ExpressionType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; DeviceType = Eigen::ThreadPoolDevice]'\n./tensorflow/core/kernels/cwise_ops_common.h:255:17:   required from 'void tensorflow::functor::Assign(const D&, Out, Rhs) [with D = Eigen::ThreadPoolDevice; Out = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Rhs = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >]'\n./tensorflow/core/kernels/cwise_ops_common.h:448:11:   required from 'void tensorflow::functor::UnaryFunctor<Eigen::ThreadPoolDevice, Functor>::operator()(const CPUDevice&, typename Functor::tout_type, typename Functor::tin_type) [with Functor = tensorflow::functor::cosh<Eigen::half>; tensorflow::functor::CPUDevice = Eigen::ThreadPoolDevice; typename Functor::tout_type = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; typename Functor::tin_type = Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>]'\n./tensorflow/core/kernels/cwise_ops_common.h:246:45:   required from 'void tensorflow::UnaryOp<Device, Functor>::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Functor = tensorflow::functor::cosh<Eigen::half>]'\ntensorflow/core/kernels/cwise_op_cosh.cc:37:1:   required from here\n/usr/include/c++/5/cmath:234:5: error: no type named '__type' in 'struct __gnu_cxx::__enable_if<false, double>'\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:78:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h: In instantiation of 'T Eigen::numext::cosh(const T&) [with T = Eigen::half]':\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/functors/UnaryFunctors.h:576:97:   required from 'const Scalar Eigen::internal::scalar_cosh_op<Scalar>::operator()(const Scalar&) const [with Scalar = Eigen::half]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorEvaluator.h:341:44:   required from 'Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::coeff(Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index) const [with UnaryOp = Eigen::internal::scalar_cosh_op<Eigen::half>; ArgType = const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType = Eigen::half; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h:136:28:   required from 'void Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::evalScalar(Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index) [with LeftArgType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; RightArgType = const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index = long int]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:93:7:   required from 'static void Eigen::internal::EvalRange<Evaluator, Index, Vectorizable>::run(Evaluator*, Index, Index) [with Evaluator = Eigen::TensorEvaluator<const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >, Eigen::ThreadPoolDevice>; Index = long int; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:157:74:   [ skipping 2 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:154:7:   required from 'static void Eigen::internal::TensorExecutor<Expression, Eigen::ThreadPoolDevice, Vectorizable>::run(const Expression&, const Eigen::ThreadPoolDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >; bool Vectorizable = false]'\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35:62:   required from 'Eigen::TensorDevice<ExpressionType, DeviceType>& Eigen::TensorDevice<ExpressionType, DeviceType>::operator=(const OtherDerived&) [with OtherDerived = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; ExpressionType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; DeviceType = Eigen::ThreadPoolDevice]'\n./tensorflow/core/kernels/cwise_ops_common.h:255:17:   required from 'void tensorflow::functor::Assign(const D&, Out, Rhs) [with D = Eigen::ThreadPoolDevice; Out = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Rhs = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >]'\n./tensorflow/core/kernels/cwise_ops_common.h:448:11:   required from 'void tensorflow::functor::UnaryFunctor<Eigen::ThreadPoolDevice, Functor>::operator()(const CPUDevice&, typename Functor::tout_type, typename Functor::tin_type) [with Functor = tensorflow::functor::cosh<Eigen::half>; tensorflow::functor::CPUDevice = Eigen::ThreadPoolDevice; typename Functor::tout_type = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; typename Functor::tin_type = Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>]'\n./tensorflow/core/kernels/cwise_ops_common.h:246:45:   required from 'void tensorflow::UnaryOp<Device, Functor>::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Functor = tensorflow::functor::cosh<Eigen::half>]'\ntensorflow/core/kernels/cwise_op_cosh.cc:37:1:   required from here\n/usr/include/c++/5/complex:732:5: note: candidate: template<class _Tp> std::complex<_Tp> std::cosh(const std::complex<_Tp>&)\n     cosh(const complex<_Tp>& __z) { return __complex_cosh(__z.__rep()); }\n     ^\n/usr/include/c++/5/complex:732:5: note:   template argument deduction/substitution failed:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:371:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14: note:   'const Eigen::half' is not derived from 'const std::complex<_Tp>'\n   return cosh(x);\n              ^\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:536:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GlobalFunctions.h:67:3: note: candidate: template<class Derived> const Eigen::CwiseUnaryOp<Eigen::internal::scalar_cosh_op<typename Derived::Scalar>, const Derived> Eigen::cosh(const Eigen::ArrayBase<Derived>&)\n   EIGEN_ARRAY_DECLARE_GLOBAL_UNARY(cosh,scalar_cosh_op,hyperbolic cosine,\\sa ArrayBase::cosh)\n   ^\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GlobalFunctions.h:67:3: note:   template argument deduction/substitution failed:\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:371:0,\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14: note:   'const Eigen::half' is not derived from 'const Eigen::ArrayBase<Derived>'\n   return cosh(x);\n              ^\nTarget //tensorflow/core/kernels:cwise_op failed to build\n\nIt seems that this has something to do with Eigen::half. Should I just remove the support for Eigen::half from the definition of sinh and cosh? I have not been able to fix this issue, any help/hint is appreciated.\n@aselle", "body": "I have written some code for sinh and cosh based on the way sin and cos were implemented. On trying to run the unit tests for cwise_op, the compilation fails and I get the following error message\r\n\r\n```\r\nERROR: /vagrant/tensorflow/tensorflow/core/kernels/BUILD:2339:1: C++ compilation of rule '//tensorflow/core/kernels:cwise_op' failed: gcc failed: error executing command \r\n  (cd /home/vagrant/.cache/bazel/_bazel_vagrant/d3fa2e3dc676facfecf1f12694332c83/execroot/tensorflow && \\\r\n  exec env - \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python \\\r\n    PYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \\\r\n    TF_NEED_CUDA=0 \\\r\n    TF_NEED_OPENCL=0 \\\r\n  /usr/bin/gcc -U_FORTIFY_SOURCE -fstack-protector -Wall -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections -fdata-sections '-std=c++0x' -MD -MF bazel-out/local-opt/bin/tensorflow/core/kernels/_objs/cwise_op/tensorflow/core/kernels/cwise_op_cosh.pic.d '-frandom-seed=bazel-out/local-opt/bin/tensorflow/core/kernels/_objs/cwise_op/tensorflow/core/kernels/cwise_op_cosh.pic.o' -fPIC -DEIGEN_MPL2_ONLY -DTENSORFLOW_USE_JEMALLOC -DSNAPPY -iquote . -iquote bazel-out/local-opt/genfiles -iquote external/bazel_tools -iquote bazel-out/local-opt/genfiles/external/bazel_tools -iquote external/eigen_archive -iquote bazel-out/local-opt/genfiles/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/local-opt/genfiles/external/local_config_sycl -iquote external/jemalloc -iquote bazel-out/local-opt/genfiles/external/jemalloc -iquote external/protobuf -iquote bazel-out/local-opt/genfiles/external/protobuf -iquote external/gif_archive -iquote bazel-out/local-opt/genfiles/external/gif_archive -iquote external/jpeg -iquote bazel-out/local-opt/genfiles/external/jpeg -iquote external/com_googlesource_code_re2 -iquote bazel-out/local-opt/genfiles/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/local-opt/genfiles/external/farmhash_archive -iquote external/fft2d -iquote bazel-out/local-opt/genfiles/external/fft2d -iquote external/highwayhash -iquote bazel-out/local-opt/genfiles/external/highwayhash -iquote external/png_archive -iquote bazel-out/local-opt/genfiles/external/png_archive -iquote external/zlib_archive -iquote bazel-out/local-opt/genfiles/external/zlib_archive -iquote external/snappy -iquote bazel-out/local-opt/genfiles/external/snappy -iquote external/local_config_cuda -iquote bazel-out/local-opt/genfiles/external/local_config_cuda -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/eigen_archive -isystem bazel-out/local-opt/genfiles/external/eigen_archive -isystem external/jemalloc/include -isystem bazel-out/local-opt/genfiles/external/jemalloc/include -isystem external/protobuf/src -isystem bazel-out/local-opt/genfiles/external/protobuf/src -isystem external/gif_archive/lib -isystem bazel-out/local-opt/genfiles/external/gif_archive/lib -isystem external/farmhash_archive/src -isystem bazel-out/local-opt/genfiles/external/farmhash_archive/src -isystem external/png_archive -isystem bazel-out/local-opt/genfiles/external/png_archive -isystem external/zlib_archive -isystem bazel-out/local-opt/genfiles/external/zlib_archive -isystem external/local_config_cuda/cuda -isystem bazel-out/local-opt/genfiles/external/local_config_cuda/cuda -isystem external/local_config_cuda/cuda/include -isystem bazel-out/local-opt/genfiles/external/local_config_cuda/cuda/include -DEIGEN_AVOID_STL_ARRAY -Iexternal/gemmlowp -Wno-sign-compare -fno-exceptions -msse3 -pthread -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -c tensorflow/core/kernels/cwise_op_cosh.cc -o bazel-out/local-opt/bin/tensorflow/core/kernels/_objs/cwise_op/tensorflow/core/kernels/cwise_op_cosh.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:371:0,\r\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\r\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\r\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\r\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\r\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h: In instantiation of 'T Eigen::numext::cosh(const T&) [with T = Eigen::half]':\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/functors/UnaryFunctors.h:576:97:   required from 'const Scalar Eigen::internal::scalar_cosh_op<Scalar>::operator()(const Scalar&) const [with Scalar = Eigen::half]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorEvaluator.h:341:44:   required from 'Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::coeff(Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index) const [with UnaryOp = Eigen::internal::scalar_cosh_op<Eigen::half>; ArgType = const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType = Eigen::half; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index = long int]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h:136:28:   required from 'void Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::evalScalar(Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index) [with LeftArgType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; RightArgType = const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index = long int]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:93:7:   required from 'static void Eigen::internal::EvalRange<Evaluator, Index, Vectorizable>::run(Evaluator*, Index, Index) [with Evaluator = Eigen::TensorEvaluator<const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >, Eigen::ThreadPoolDevice>; Index = long int; bool Vectorizable = false]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:157:74:   [ skipping 2 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:154:7:   required from 'static void Eigen::internal::TensorExecutor<Expression, Eigen::ThreadPoolDevice, Vectorizable>::run(const Expression&, const Eigen::ThreadPoolDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >; bool Vectorizable = false]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35:62:   required from 'Eigen::TensorDevice<ExpressionType, DeviceType>& Eigen::TensorDevice<ExpressionType, DeviceType>::operator=(const OtherDerived&) [with OtherDerived = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; ExpressionType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; DeviceType = Eigen::ThreadPoolDevice]'\r\n./tensorflow/core/kernels/cwise_ops_common.h:255:17:   required from 'void tensorflow::functor::Assign(const D&, Out, Rhs) [with D = Eigen::ThreadPoolDevice; Out = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Rhs = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >]'\r\n./tensorflow/core/kernels/cwise_ops_common.h:448:11:   required from 'void tensorflow::functor::UnaryFunctor<Eigen::ThreadPoolDevice, Functor>::operator()(const CPUDevice&, typename Functor::tout_type, typename Functor::tin_type) [with Functor = tensorflow::functor::cosh<Eigen::half>; tensorflow::functor::CPUDevice = Eigen::ThreadPoolDevice; typename Functor::tout_type = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; typename Functor::tin_type = Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>]'\r\n./tensorflow/core/kernels/cwise_ops_common.h:246:45:   required from 'void tensorflow::UnaryOp<Device, Functor>::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Functor = tensorflow::functor::cosh<Eigen::half>]'\r\ntensorflow/core/kernels/cwise_op_cosh.cc:37:1:   required from here\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14: error: no matching function for call to 'cosh(const Eigen::half&)'\r\n   return cosh(x);\r\n              ^\r\nIn file included from /usr/include/features.h:367:0,\r\n                 from /usr/include/x86_64-linux-gnu/c++/5/bits/os_defines.h:39,\r\n                 from /usr/include/x86_64-linux-gnu/c++/5/bits/c++config.h:482,\r\n                 from /usr/include/c++/5/cmath:41,\r\n                 from ./tensorflow/core/kernels/cwise_ops.h:19,\r\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\r\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\r\n/usr/include/x86_64-linux-gnu/bits/mathcalls.h:72:1: note: candidate: double cosh(double)\r\n __MATHCALL (cosh,, (_Mdouble_ __x));\r\n ^\r\n/usr/include/x86_64-linux-gnu/bits/mathcalls.h:72:1: note:   no known conversion for argument 1 from 'const Eigen::half' to 'double'\r\nIn file included from ./tensorflow/core/kernels/cwise_ops.h:19:0,\r\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\r\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\r\n/usr/include/c++/5/cmath:222:3: note: candidate: constexpr float std::cosh(float)\r\n   cosh(float __x)\r\n   ^\r\n/usr/include/c++/5/cmath:222:3: note:   no known conversion for argument 1 from 'const Eigen::half' to 'float'\r\n/usr/include/c++/5/cmath:226:3: note: candidate: constexpr long double std::cosh(long double)\r\n   cosh(long double __x)\r\n   ^\r\n/usr/include/c++/5/cmath:226:3: note:   no known conversion for argument 1 from 'const Eigen::half' to 'long double'\r\n/usr/include/c++/5/cmath:234:5: note: candidate: template<class _Tp> constexpr typename __gnu_cxx::__enable_if<std::__is_integer<_Tp>::__value, double>::__type std::cosh(_Tp)\r\n     cosh(_Tp __x)\r\n     ^\r\n/usr/include/c++/5/cmath:234:5: note:   template argument deduction/substitution failed:\r\n/usr/include/c++/5/cmath: In substitution of 'template<class _Tp> constexpr typename __gnu_cxx::__enable_if<std::__is_integer<_Tp>::__value, double>::__type std::cosh(_Tp) [with _Tp = Eigen::half]':\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14:   required from 'T Eigen::numext::cosh(const T&) [with T = Eigen::half]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/functors/UnaryFunctors.h:576:97:   required from 'const Scalar Eigen::internal::scalar_cosh_op<Scalar>::operator()(const Scalar&) const [with Scalar = Eigen::half]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorEvaluator.h:341:44:   required from 'Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::coeff(Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index) const [with UnaryOp = Eigen::internal::scalar_cosh_op<Eigen::half>; ArgType = const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType = Eigen::half; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index = long int]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h:136:28:   required from 'void Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::evalScalar(Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index) [with LeftArgType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; RightArgType = const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index = long int]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:93:7:   required from 'static void Eigen::internal::EvalRange<Evaluator, Index, Vectorizable>::run(Evaluator*, Index, Index) [with Evaluator = Eigen::TensorEvaluator<const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >, Eigen::ThreadPoolDevice>; Index = long int; bool Vectorizable = false]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:157:74:   [ skipping 2 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:154:7:   required from 'static void Eigen::internal::TensorExecutor<Expression, Eigen::ThreadPoolDevice, Vectorizable>::run(const Expression&, const Eigen::ThreadPoolDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >; bool Vectorizable = false]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35:62:   required from 'Eigen::TensorDevice<ExpressionType, DeviceType>& Eigen::TensorDevice<ExpressionType, DeviceType>::operator=(const OtherDerived&) [with OtherDerived = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; ExpressionType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; DeviceType = Eigen::ThreadPoolDevice]'\r\n./tensorflow/core/kernels/cwise_ops_common.h:255:17:   required from 'void tensorflow::functor::Assign(const D&, Out, Rhs) [with D = Eigen::ThreadPoolDevice; Out = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Rhs = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >]'\r\n./tensorflow/core/kernels/cwise_ops_common.h:448:11:   required from 'void tensorflow::functor::UnaryFunctor<Eigen::ThreadPoolDevice, Functor>::operator()(const CPUDevice&, typename Functor::tout_type, typename Functor::tin_type) [with Functor = tensorflow::functor::cosh<Eigen::half>; tensorflow::functor::CPUDevice = Eigen::ThreadPoolDevice; typename Functor::tout_type = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; typename Functor::tin_type = Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>]'\r\n./tensorflow/core/kernels/cwise_ops_common.h:246:45:   required from 'void tensorflow::UnaryOp<Device, Functor>::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Functor = tensorflow::functor::cosh<Eigen::half>]'\r\ntensorflow/core/kernels/cwise_op_cosh.cc:37:1:   required from here\r\n/usr/include/c++/5/cmath:234:5: error: no type named '__type' in 'struct __gnu_cxx::__enable_if<false, double>'\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:78:0,\r\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\r\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\r\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\r\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\r\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h: In instantiation of 'T Eigen::numext::cosh(const T&) [with T = Eigen::half]':\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/functors/UnaryFunctors.h:576:97:   required from 'const Scalar Eigen::internal::scalar_cosh_op<Scalar>::operator()(const Scalar&) const [with Scalar = Eigen::half]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorEvaluator.h:341:44:   required from 'Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::coeff(Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index) const [with UnaryOp = Eigen::internal::scalar_cosh_op<Eigen::half>; ArgType = const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::CoeffReturnType = Eigen::half; Eigen::TensorEvaluator<const Eigen::TensorCwiseUnaryOp<UnaryOp, ArgType>, Device>::Index = long int]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h:136:28:   required from 'void Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::evalScalar(Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index) [with LeftArgType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; RightArgType = const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; Device = Eigen::ThreadPoolDevice; Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LhsXprType, RhsXprType>, Device>::Index = long int]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:93:7:   required from 'static void Eigen::internal::EvalRange<Evaluator, Index, Vectorizable>::run(Evaluator*, Index, Index) [with Evaluator = Eigen::TensorEvaluator<const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >, Eigen::ThreadPoolDevice>; Index = long int; bool Vectorizable = false]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:157:74:   [ skipping 2 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h:154:7:   required from 'static void Eigen::internal::TensorExecutor<Expression, Eigen::ThreadPoolDevice, Vectorizable>::run(const Expression&, const Eigen::ThreadPoolDevice&) [with Expression = const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>, const Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> > >; bool Vectorizable = false]'\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h:35:62:   required from 'Eigen::TensorDevice<ExpressionType, DeviceType>& Eigen::TensorDevice<ExpressionType, DeviceType>::operator=(const OtherDerived&) [with OtherDerived = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >; ExpressionType = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; DeviceType = Eigen::ThreadPoolDevice]'\r\n./tensorflow/core/kernels/cwise_ops_common.h:255:17:   required from 'void tensorflow::functor::Assign(const D&, Out, Rhs) [with D = Eigen::ThreadPoolDevice; Out = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; Rhs = Eigen::TensorCwiseUnaryOp<Eigen::internal::scalar_cosh_op<Eigen::half>, const Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer> >]'\r\n./tensorflow/core/kernels/cwise_ops_common.h:448:11:   required from 'void tensorflow::functor::UnaryFunctor<Eigen::ThreadPoolDevice, Functor>::operator()(const CPUDevice&, typename Functor::tout_type, typename Functor::tin_type) [with Functor = tensorflow::functor::cosh<Eigen::half>; tensorflow::functor::CPUDevice = Eigen::ThreadPoolDevice; typename Functor::tout_type = Eigen::TensorMap<Eigen::Tensor<Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>; typename Functor::tin_type = Eigen::TensorMap<Eigen::Tensor<const Eigen::half, 1, 1, long int>, 16, Eigen::MakePointer>]'\r\n./tensorflow/core/kernels/cwise_ops_common.h:246:45:   required from 'void tensorflow::UnaryOp<Device, Functor>::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Functor = tensorflow::functor::cosh<Eigen::half>]'\r\ntensorflow/core/kernels/cwise_op_cosh.cc:37:1:   required from here\r\n/usr/include/c++/5/complex:732:5: note: candidate: template<class _Tp> std::complex<_Tp> std::cosh(const std::complex<_Tp>&)\r\n     cosh(const complex<_Tp>& __z) { return __complex_cosh(__z.__rep()); }\r\n     ^\r\n/usr/include/c++/5/complex:732:5: note:   template argument deduction/substitution failed:\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:371:0,\r\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\r\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\r\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\r\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\r\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14: note:   'const Eigen::half' is not derived from 'const std::complex<_Tp>'\r\n   return cosh(x);\r\n              ^\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:536:0,\r\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\r\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\r\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\r\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\r\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GlobalFunctions.h:67:3: note: candidate: template<class Derived> const Eigen::CwiseUnaryOp<Eigen::internal::scalar_cosh_op<typename Derived::Scalar>, const Derived> Eigen::cosh(const Eigen::ArrayBase<Derived>&)\r\n   EIGEN_ARRAY_DECLARE_GLOBAL_UNARY(cosh,scalar_cosh_op,hyperbolic cosine,\\sa ArrayBase::cosh)\r\n   ^\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GlobalFunctions.h:67:3: note:   template argument deduction/substitution failed:\r\nIn file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:371:0,\r\n                 from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,\r\n                 from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\r\n                 from ./tensorflow/core/kernels/cwise_ops.h:21,\r\n                 from ./tensorflow/core/kernels/cwise_ops_common.h:27,\r\n                 from tensorflow/core/kernels/cwise_op_cosh.cc:16:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/MathFunctions.h:1428:14: note:   'const Eigen::half' is not derived from 'const Eigen::ArrayBase<Derived>'\r\n   return cosh(x);\r\n              ^\r\nTarget //tensorflow/core/kernels:cwise_op failed to build\r\n```\r\n\r\nIt seems that this has something to do with `Eigen::half`. Should I just remove the support for `Eigen::half` from the definition of `sinh` and `cosh`? I have not been able to fix this issue, any help/hint is appreciated.\r\n@aselle "}