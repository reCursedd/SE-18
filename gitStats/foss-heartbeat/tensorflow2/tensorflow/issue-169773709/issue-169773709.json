{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3681", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3681/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3681/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3681/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3681", "id": 169773709, "node_id": "MDU6SXNzdWUxNjk3NzM3MDk=", "number": 3681, "title": "Segmentation Fault When Importing Tensorflow", "user": {"login": "denru01", "id": 15931850, "node_id": "MDQ6VXNlcjE1OTMxODUw", "avatar_url": "https://avatars0.githubusercontent.com/u/15931850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denru01", "html_url": "https://github.com/denru01", "followers_url": "https://api.github.com/users/denru01/followers", "following_url": "https://api.github.com/users/denru01/following{/other_user}", "gists_url": "https://api.github.com/users/denru01/gists{/gist_id}", "starred_url": "https://api.github.com/users/denru01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denru01/subscriptions", "organizations_url": "https://api.github.com/users/denru01/orgs", "repos_url": "https://api.github.com/users/denru01/repos", "events_url": "https://api.github.com/users/denru01/events{/privacy}", "received_events_url": "https://api.github.com/users/denru01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-08-07T00:49:09Z", "updated_at": "2017-06-16T21:04:26Z", "closed_at": "2017-06-16T21:04:26Z", "author_association": "NONE", "body_html": "<p>GitHub issues are for bugs / installation problems / feature requests.<br>\nFor general support from the community, see <a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">StackOverflow</a>.<br>\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed<br>\nout of scope for GitHub Issues and point people to StackOverflow.</p>\n<p>For bugs or installation issues, please provide the following information.<br>\nThe more information you provide, the more easily we will be able to offer<br>\nhelp and advice.</p>\n<h3>Environment info</h3>\n<p>Operating System: CentOS 6.8/RedHat 6.8</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\nCUDA 7.5 + cuDNN v4</p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>Which pip package you installed.</li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)</li>\n<li>The output of <code>bazel version</code></li>\n</ol>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Install tensorflow by using anaconda (conda command)</li>\n<li>Install glibc \"locally\" and add the path /glibc-2.14/lib to LD_LIBRARY_PATH</li>\n<li>Open python and use the command \"import tensorflow as tf\", and then you will get the message \"Segmentation Fault\". No other messages.</li>\n</ol>\n<h3>What have you tried?</h3>\n<ol>\n<li>Use gdb to see what causes the segmentation fault.</li>\n</ol>\n<h3>Logs or other output that would be helpful</h3>\n<p>gdb messages:<br>\n[New Thread 0x7f653bf9f700 (LWP 71825)]<br>\n[New Thread 0x7f653b59e700 (LWP 71826)]<br>\n[New Thread 0x7f6538b9d700 (LWP 71827)]<br>\n[New Thread 0x7f653619c700 (LWP 71828)]<br>\n[New Thread 0x7f653379b700 (LWP 71829)]<br>\n[New Thread 0x7f6530d9a700 (LWP 71830)]<br>\n[New Thread 0x7f652e399700 (LWP 71831)]<br>\n[New Thread 0x7f652b998700 (LWP 71832)]<br>\n[New Thread 0x7f6528f97700 (LWP 71833)]<br>\n[New Thread 0x7f6526596700 (LWP 71834)]<br>\n[New Thread 0x7f6523b95700 (LWP 71835)]<br>\n[New Thread 0x7f6521194700 (LWP 71836)]<br>\n[New Thread 0x7f651e793700 (LWP 71837)]<br>\n[New Thread 0x7f651bd92700 (LWP 71838)]<br>\n[New Thread 0x7f6519391700 (LWP 71839)]<br>\n[New Thread 0x7f6516990700 (LWP 71840)]<br>\n[New Thread 0x7f6513f8f700 (LWP 71841)]<br>\n[New Thread 0x7f651158e700 (LWP 71842)]<br>\n[New Thread 0x7f650eb8d700 (LWP 71843)]<br>\n[New Thread 0x7f650c18c700 (LWP 71844)]<br>\n[New Thread 0x7f650978b700 (LWP 71845)]<br>\n[New Thread 0x7f6506d8a700 (LWP 71846)]<br>\n[New Thread 0x7f6504389700 (LWP 71847)]<br>\n[New Thread 0x7f6501988700 (LWP 71848)]<br>\n[New Thread 0x7f64fef87700 (LWP 71849)]<br>\n[New Thread 0x7f64fc586700 (LWP 71850)]<br>\n[New Thread 0x7f64f9b85700 (LWP 71851)]<br>\n[New Thread 0x7f64f5184700 (LWP 71852)]<br>\n[New Thread 0x7f64f4783700 (LWP 71853)]<br>\n[New Thread 0x7f64f1d82700 (LWP 71854)]<br>\n[New Thread 0x7f64ef381700 (LWP 71855)]<br>\n[New Thread 0x7f64ec980700 (LWP 71856)]<br>\n[New Thread 0x7f64e9f7f700 (LWP 71857)]<br>\n[New Thread 0x7f64e757e700 (LWP 71858)]<br>\n[New Thread 0x7f64e4b7d700 (LWP 71859)]<br>\n[New Thread 0x7f64e217c700 (LWP 71860)]<br>\n[New Thread 0x7f64df77b700 (LWP 71861)]<br>\n[New Thread 0x7f64dcd7a700 (LWP 71862)]<br>\n[New Thread 0x7f64da379700 (LWP 71863)]<br>\n[New Thread 0x7f64d7978700 (LWP 71864)]<br>\n[New Thread 0x7f64d4f77700 (LWP 71865)]<br>\n[New Thread 0x7f64d2576700 (LWP 71866)]<br>\n[New Thread 0x7f64cfb75700 (LWP 71867)]<br>\n[New Thread 0x7f64cd174700 (LWP 71868)]<br>\n[New Thread 0x7f64ca773700 (LWP 71869)]<br>\n[New Thread 0x7f64c7d72700 (LWP 71870)]<br>\n[New Thread 0x7f64c5371700 (LWP 71871)]<br>\n[New Thread 0x7f64c2970700 (LWP 71872)]<br>\n[New Thread 0x7f64bff6f700 (LWP 71873)]<br>\n[New Thread 0x7f64bd56e700 (LWP 71874)]<br>\n[New Thread 0x7f64bab6d700 (LWP 71875)]<br>\n[New Thread 0x7f64b816c700 (LWP 71876)]<br>\n[New Thread 0x7f64b576b700 (LWP 71877)]<br>\n[New Thread 0x7f64b2d6a700 (LWP 71878)]<br>\n[New Thread 0x7f64b0369700 (LWP 71879)]</p>\n<p>Program received signal SIGSEGV, Segmentation fault.<br>\n__pthread_init_static_tls (map=0x0) at allocatestack.c:1196<br>\n1196        init_one_static_tls (list_entry (runp, struct pthread, list), map);<br>\nfrom /home/abc/Libraries/glibc-2.14/install/lib/libpthread.so.0</p>\n<p>Because they are clusters, it is hard (or nearly impossible in the near future) to upgrade the OSs. I also have no root privilege.<br>\nAt first, I got an error telling that I don't have glibc_2.14.so because RedHat/CentOS 6.8 only comes with glibc 2.12. Therefore, I locally compiled the glibc and added it to LD_LIBRARY_PATH. After then, the glibc_2.14 error disappeared and was replaced by another error \"Segmentation Fault\" (no other messages). Something like this:<br>\nimport tensorflow as tf<br>\nSegmentation Fault<br>\n(tensorflow) bash-4.1$</p>\n<p>I tried to use gdb to see what causes this error, and it turns out it is \"libpthread.so.0\".</p>\n<p>Any ideas?</p>\n<p>Thanks.</p>", "body_text": "GitHub issues are for bugs / installation problems / feature requests.\nFor general support from the community, see StackOverflow.\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\nEnvironment info\nOperating System: CentOS 6.8/RedHat 6.8\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nCUDA 7.5 + cuDNN v4\nIf installed from binary pip package, provide:\n\nWhich pip package you installed.\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\nThe output of bazel version\n\nSteps to reproduce\n\nInstall tensorflow by using anaconda (conda command)\nInstall glibc \"locally\" and add the path /glibc-2.14/lib to LD_LIBRARY_PATH\nOpen python and use the command \"import tensorflow as tf\", and then you will get the message \"Segmentation Fault\". No other messages.\n\nWhat have you tried?\n\nUse gdb to see what causes the segmentation fault.\n\nLogs or other output that would be helpful\ngdb messages:\n[New Thread 0x7f653bf9f700 (LWP 71825)]\n[New Thread 0x7f653b59e700 (LWP 71826)]\n[New Thread 0x7f6538b9d700 (LWP 71827)]\n[New Thread 0x7f653619c700 (LWP 71828)]\n[New Thread 0x7f653379b700 (LWP 71829)]\n[New Thread 0x7f6530d9a700 (LWP 71830)]\n[New Thread 0x7f652e399700 (LWP 71831)]\n[New Thread 0x7f652b998700 (LWP 71832)]\n[New Thread 0x7f6528f97700 (LWP 71833)]\n[New Thread 0x7f6526596700 (LWP 71834)]\n[New Thread 0x7f6523b95700 (LWP 71835)]\n[New Thread 0x7f6521194700 (LWP 71836)]\n[New Thread 0x7f651e793700 (LWP 71837)]\n[New Thread 0x7f651bd92700 (LWP 71838)]\n[New Thread 0x7f6519391700 (LWP 71839)]\n[New Thread 0x7f6516990700 (LWP 71840)]\n[New Thread 0x7f6513f8f700 (LWP 71841)]\n[New Thread 0x7f651158e700 (LWP 71842)]\n[New Thread 0x7f650eb8d700 (LWP 71843)]\n[New Thread 0x7f650c18c700 (LWP 71844)]\n[New Thread 0x7f650978b700 (LWP 71845)]\n[New Thread 0x7f6506d8a700 (LWP 71846)]\n[New Thread 0x7f6504389700 (LWP 71847)]\n[New Thread 0x7f6501988700 (LWP 71848)]\n[New Thread 0x7f64fef87700 (LWP 71849)]\n[New Thread 0x7f64fc586700 (LWP 71850)]\n[New Thread 0x7f64f9b85700 (LWP 71851)]\n[New Thread 0x7f64f5184700 (LWP 71852)]\n[New Thread 0x7f64f4783700 (LWP 71853)]\n[New Thread 0x7f64f1d82700 (LWP 71854)]\n[New Thread 0x7f64ef381700 (LWP 71855)]\n[New Thread 0x7f64ec980700 (LWP 71856)]\n[New Thread 0x7f64e9f7f700 (LWP 71857)]\n[New Thread 0x7f64e757e700 (LWP 71858)]\n[New Thread 0x7f64e4b7d700 (LWP 71859)]\n[New Thread 0x7f64e217c700 (LWP 71860)]\n[New Thread 0x7f64df77b700 (LWP 71861)]\n[New Thread 0x7f64dcd7a700 (LWP 71862)]\n[New Thread 0x7f64da379700 (LWP 71863)]\n[New Thread 0x7f64d7978700 (LWP 71864)]\n[New Thread 0x7f64d4f77700 (LWP 71865)]\n[New Thread 0x7f64d2576700 (LWP 71866)]\n[New Thread 0x7f64cfb75700 (LWP 71867)]\n[New Thread 0x7f64cd174700 (LWP 71868)]\n[New Thread 0x7f64ca773700 (LWP 71869)]\n[New Thread 0x7f64c7d72700 (LWP 71870)]\n[New Thread 0x7f64c5371700 (LWP 71871)]\n[New Thread 0x7f64c2970700 (LWP 71872)]\n[New Thread 0x7f64bff6f700 (LWP 71873)]\n[New Thread 0x7f64bd56e700 (LWP 71874)]\n[New Thread 0x7f64bab6d700 (LWP 71875)]\n[New Thread 0x7f64b816c700 (LWP 71876)]\n[New Thread 0x7f64b576b700 (LWP 71877)]\n[New Thread 0x7f64b2d6a700 (LWP 71878)]\n[New Thread 0x7f64b0369700 (LWP 71879)]\nProgram received signal SIGSEGV, Segmentation fault.\n__pthread_init_static_tls (map=0x0) at allocatestack.c:1196\n1196        init_one_static_tls (list_entry (runp, struct pthread, list), map);\nfrom /home/abc/Libraries/glibc-2.14/install/lib/libpthread.so.0\nBecause they are clusters, it is hard (or nearly impossible in the near future) to upgrade the OSs. I also have no root privilege.\nAt first, I got an error telling that I don't have glibc_2.14.so because RedHat/CentOS 6.8 only comes with glibc 2.12. Therefore, I locally compiled the glibc and added it to LD_LIBRARY_PATH. After then, the glibc_2.14 error disappeared and was replaced by another error \"Segmentation Fault\" (no other messages). Something like this:\nimport tensorflow as tf\nSegmentation Fault\n(tensorflow) bash-4.1$\nI tried to use gdb to see what causes this error, and it turns out it is \"libpthread.so.0\".\nAny ideas?\nThanks.", "body": "GitHub issues are for bugs / installation problems / feature requests.  \nFor general support from the community, see [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\n\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\n### Environment info\n\nOperating System: CentOS 6.8/RedHat 6.8\n\nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\nCUDA 7.5 + cuDNN v4\n\nIf installed from binary pip package, provide:\n1. Which pip package you installed.\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\n\nIf installed from source, provide \n1. The commit hash (`git rev-parse HEAD`)\n2. The output of `bazel version`\n### Steps to reproduce\n1. Install tensorflow by using anaconda (conda command)\n2. Install glibc \"locally\" and add the path /glibc-2.14/lib to LD_LIBRARY_PATH\n3. Open python and use the command \"import tensorflow as tf\", and then you will get the message \"Segmentation Fault\". No other messages.\n### What have you tried?\n1. Use gdb to see what causes the segmentation fault.\n### Logs or other output that would be helpful\n\ngdb messages:\n[New Thread 0x7f653bf9f700 (LWP 71825)]\n[New Thread 0x7f653b59e700 (LWP 71826)]\n[New Thread 0x7f6538b9d700 (LWP 71827)]\n[New Thread 0x7f653619c700 (LWP 71828)]\n[New Thread 0x7f653379b700 (LWP 71829)]\n[New Thread 0x7f6530d9a700 (LWP 71830)]\n[New Thread 0x7f652e399700 (LWP 71831)]\n[New Thread 0x7f652b998700 (LWP 71832)]\n[New Thread 0x7f6528f97700 (LWP 71833)]\n[New Thread 0x7f6526596700 (LWP 71834)]\n[New Thread 0x7f6523b95700 (LWP 71835)]\n[New Thread 0x7f6521194700 (LWP 71836)]\n[New Thread 0x7f651e793700 (LWP 71837)]\n[New Thread 0x7f651bd92700 (LWP 71838)]\n[New Thread 0x7f6519391700 (LWP 71839)]\n[New Thread 0x7f6516990700 (LWP 71840)]\n[New Thread 0x7f6513f8f700 (LWP 71841)]\n[New Thread 0x7f651158e700 (LWP 71842)]\n[New Thread 0x7f650eb8d700 (LWP 71843)]\n[New Thread 0x7f650c18c700 (LWP 71844)]\n[New Thread 0x7f650978b700 (LWP 71845)]\n[New Thread 0x7f6506d8a700 (LWP 71846)]\n[New Thread 0x7f6504389700 (LWP 71847)]\n[New Thread 0x7f6501988700 (LWP 71848)]\n[New Thread 0x7f64fef87700 (LWP 71849)]\n[New Thread 0x7f64fc586700 (LWP 71850)]\n[New Thread 0x7f64f9b85700 (LWP 71851)]\n[New Thread 0x7f64f5184700 (LWP 71852)]\n[New Thread 0x7f64f4783700 (LWP 71853)]\n[New Thread 0x7f64f1d82700 (LWP 71854)]\n[New Thread 0x7f64ef381700 (LWP 71855)]\n[New Thread 0x7f64ec980700 (LWP 71856)]\n[New Thread 0x7f64e9f7f700 (LWP 71857)]\n[New Thread 0x7f64e757e700 (LWP 71858)]\n[New Thread 0x7f64e4b7d700 (LWP 71859)]\n[New Thread 0x7f64e217c700 (LWP 71860)]\n[New Thread 0x7f64df77b700 (LWP 71861)]\n[New Thread 0x7f64dcd7a700 (LWP 71862)]\n[New Thread 0x7f64da379700 (LWP 71863)]\n[New Thread 0x7f64d7978700 (LWP 71864)]\n[New Thread 0x7f64d4f77700 (LWP 71865)]\n[New Thread 0x7f64d2576700 (LWP 71866)]\n[New Thread 0x7f64cfb75700 (LWP 71867)]\n[New Thread 0x7f64cd174700 (LWP 71868)]\n[New Thread 0x7f64ca773700 (LWP 71869)]\n[New Thread 0x7f64c7d72700 (LWP 71870)]\n[New Thread 0x7f64c5371700 (LWP 71871)]\n[New Thread 0x7f64c2970700 (LWP 71872)]\n[New Thread 0x7f64bff6f700 (LWP 71873)]\n[New Thread 0x7f64bd56e700 (LWP 71874)]\n[New Thread 0x7f64bab6d700 (LWP 71875)]\n[New Thread 0x7f64b816c700 (LWP 71876)]\n[New Thread 0x7f64b576b700 (LWP 71877)]\n[New Thread 0x7f64b2d6a700 (LWP 71878)]\n[New Thread 0x7f64b0369700 (LWP 71879)]\n\nProgram received signal SIGSEGV, Segmentation fault.\n__pthread_init_static_tls (map=0x0) at allocatestack.c:1196\n1196        init_one_static_tls (list_entry (runp, struct pthread, list), map);\nfrom /home/abc/Libraries/glibc-2.14/install/lib/libpthread.so.0\n\nBecause they are clusters, it is hard (or nearly impossible in the near future) to upgrade the OSs. I also have no root privilege.\nAt first, I got an error telling that I don't have glibc_2.14.so because RedHat/CentOS 6.8 only comes with glibc 2.12. Therefore, I locally compiled the glibc and added it to LD_LIBRARY_PATH. After then, the glibc_2.14 error disappeared and was replaced by another error \"Segmentation Fault\" (no other messages). Something like this:\nimport tensorflow as tf\nSegmentation Fault\n(tensorflow) bash-4.1$\n\nI tried to use gdb to see what causes this error, and it turns out it is \"libpthread.so.0\".\n\nAny ideas?\n\nThanks.\n"}