{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/153357755", "pull_request_review_id": 79351069, "id": 153357755, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MzM1Nzc1NQ==", "diff_hunk": "@@ -687,6 +801,18 @@ $(PROTO_OBJS): $(PROTO_CC_SRCS) $(PBT_GEN_FILES)\n \n # Host compilation rules.\n \n+# NVCC compilation rules for Tegra\n+ifeq ($(BUILD_FOR_TEGRA),1)\n+$(OBJDIR)%.cu.o: %.cu.cc", "path": "tensorflow/contrib/makefile/Makefile", "position": null, "original_position": 159, "commit_id": "a73f5b2fd337dc5b9e95ef7dce8074df406014c0", "original_commit_id": "02bcf7c115180e3a2d77b874a8a1b031967b4021", "user": {"login": "lihanchen", "id": 5497974, "node_id": "MDQ6VXNlcjU0OTc5NzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5497974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lihanchen", "html_url": "https://github.com/lihanchen", "followers_url": "https://api.github.com/users/lihanchen/followers", "following_url": "https://api.github.com/users/lihanchen/following{/other_user}", "gists_url": "https://api.github.com/users/lihanchen/gists{/gist_id}", "starred_url": "https://api.github.com/users/lihanchen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lihanchen/subscriptions", "organizations_url": "https://api.github.com/users/lihanchen/orgs", "repos_url": "https://api.github.com/users/lihanchen/repos", "events_url": "https://api.github.com/users/lihanchen/events{/privacy}", "received_events_url": "https://api.github.com/users/lihanchen/received_events", "type": "User", "site_admin": false}, "body": "Make 3.81 was released in 2006.\r\nI can't find a working binary and I had a lot of problem building from source.\r\nHowever, can you try moving the\r\n\r\nifeq ($(BUILD_FOR_TEGRA),1)\r\n$(OBJDIR)%.cu.o: %.cu.cc\r\n\t@mkdir -p $(dir $@)\r\n\t@mkdir -p $(dir $(DEPDIR)$*)\r\n\t$(NVCC) $(NVCCFLAGS) -Xcompiler \"$(CXXFLAGS4NVCC) $(DEPFLAGS)\" $(INCLUDES) -c $< -o $@\r\n\r\n$(LIBDIR)libtfcuda.a: $(CUDA_CC_OBJS)\r\n\t@mkdir -p $(dir $@)\r\n\t$(AR) $(ARFLAGS) $@ $(CUDA_CC_OBJS)\r\nendif\r\n\r\n\r\nabove\r\n\r\n$(OBJDIR)%.o: %.cc | $(PBT_GEN_FILES)\r\n\t@mkdir -p $(dir $@)\r\n\t@mkdir -p $(dir $(DEPDIR)$*)\r\n\t$(CXX) $(CXXFLAGS) $(DEPFLAGS) $(INCLUDES) -c $< -o $@\r\n\t@mv -f $(DEPDIR)/$*.Td $(DEPDIR)/$*.d\r\n\r\nIt should work theoretically.", "created_at": "2017-11-27T23:43:39Z", "updated_at": "2018-01-04T19:32:46Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/14167#discussion_r153357755", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14167", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/153357755"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/14167#discussion_r153357755"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14167"}}, "body_html": "<p>Make 3.81 was released in 2006.<br>\nI can't find a working binary and I had a lot of problem building from source.<br>\nHowever, can you try moving the</p>\n<p>ifeq ($(BUILD_FOR_TEGRA),1)<br>\n$(OBJDIR)%.cu.o: %.cu.cc<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=35118252\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mkdir\">@mkdir</a> -p $(dir $@)<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=35118252\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mkdir\">@mkdir</a> -p $(dir $(DEPDIR)$*)<br>\n$(NVCC) $(NVCCFLAGS) -Xcompiler \"$(CXXFLAGS4NVCC) $(DEPFLAGS)\" $(INCLUDES) -c $&lt; -o $@</p>\n<p>$(LIBDIR)libtfcuda.a: $(CUDA_CC_OBJS)<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=35118252\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mkdir\">@mkdir</a> -p $(dir $@)<br>\n$(AR) $(ARFLAGS) $@ $(CUDA_CC_OBJS)<br>\nendif</p>\n<p>above</p>\n<p>$(OBJDIR)%.o: %.cc | $(PBT_GEN_FILES)<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=35118252\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mkdir\">@mkdir</a> -p $(dir $@)<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=35118252\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mkdir\">@mkdir</a> -p $(dir $(DEPDIR)$<em>)<br>\n$(CXX) $(CXXFLAGS) $(DEPFLAGS) $(INCLUDES) -c $&lt; -o $@<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=41629\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mv\">@mv</a> -f $(DEPDIR)/$</em>.Td $(DEPDIR)/$*.d</p>\n<p>It should work theoretically.</p>", "body_text": "Make 3.81 was released in 2006.\nI can't find a working binary and I had a lot of problem building from source.\nHowever, can you try moving the\nifeq ($(BUILD_FOR_TEGRA),1)\n$(OBJDIR)%.cu.o: %.cu.cc\n@mkdir -p $(dir $@)\n@mkdir -p $(dir $(DEPDIR)$*)\n$(NVCC) $(NVCCFLAGS) -Xcompiler \"$(CXXFLAGS4NVCC) $(DEPFLAGS)\" $(INCLUDES) -c $< -o $@\n$(LIBDIR)libtfcuda.a: $(CUDA_CC_OBJS)\n@mkdir -p $(dir $@)\n$(AR) $(ARFLAGS) $@ $(CUDA_CC_OBJS)\nendif\nabove\n$(OBJDIR)%.o: %.cc | $(PBT_GEN_FILES)\n@mkdir -p $(dir $@)\n@mkdir -p $(dir $(DEPDIR)$)\n$(CXX) $(CXXFLAGS) $(DEPFLAGS) $(INCLUDES) -c $< -o $@\n@mv -f $(DEPDIR)/$.Td $(DEPDIR)/$*.d\nIt should work theoretically.", "in_reply_to_id": 151821737}