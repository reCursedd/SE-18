{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13761", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13761/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13761/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13761/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13761", "id": 265941524, "node_id": "MDU6SXNzdWUyNjU5NDE1MjQ=", "number": 13761, "title": "tf.reduce_sum gives value error when given int64 as input.", "user": {"login": "kevinj22", "id": 20320568, "node_id": "MDQ6VXNlcjIwMzIwNTY4", "avatar_url": "https://avatars1.githubusercontent.com/u/20320568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinj22", "html_url": "https://github.com/kevinj22", "followers_url": "https://api.github.com/users/kevinj22/followers", "following_url": "https://api.github.com/users/kevinj22/following{/other_user}", "gists_url": "https://api.github.com/users/kevinj22/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinj22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinj22/subscriptions", "organizations_url": "https://api.github.com/users/kevinj22/orgs", "repos_url": "https://api.github.com/users/kevinj22/repos", "events_url": "https://api.github.com/users/kevinj22/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinj22/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-10-16T22:57:06Z", "updated_at": "2017-10-17T16:40:35Z", "closed_at": "2017-10-17T16:40:35Z", "author_association": "NONE", "body_html": "<p>Passing a tensor of dtype=int64 into tf.reduce sum I receive the following error:</p>\n<p>Tensor(\"loss/diff:0\", shape=(50,), dtype=int64)<br>\nValueError: Invalid type tf.int64 for loss/Sum:0, expected: [tf.float32, tf.float64, tf.float16].</p>\n<p>According to the documents from <a href=\"https://www.tensorflow.org/api_docs/python/tf/reduce_sum\" rel=\"nofollow\">https://www.tensorflow.org/api_docs/python/tf/reduce_sum</a>:</p>\n<p>input_tensor: The tensor to reduce. Should have numeric type.</p>\n<p>As int64 is a numeric type I am not sure what's wrong.</p>\n<p>To create the diff tensor I do:</p>\n<pre><code>        self.predictions = tf.argmax(self.logits, 1, name='predictions')\n\n         # Loss\n        with tf.name_scope(\"loss\"):\n            self.diff = tf.subtract(self.predictions, self.targets)\n            self.diff = tf.multiply(self.diff,self.diff, name='diff')\n            print self.diff\n            self.diff = tf.reduce_sum(self.diff)\n</code></pre>\n<p>Where predictions is of type int64 and my targets placeholder is also of type int64.</p>\n<p>Is this a tensorflow error or an error on my end?</p>", "body_text": "Passing a tensor of dtype=int64 into tf.reduce sum I receive the following error:\nTensor(\"loss/diff:0\", shape=(50,), dtype=int64)\nValueError: Invalid type tf.int64 for loss/Sum:0, expected: [tf.float32, tf.float64, tf.float16].\nAccording to the documents from https://www.tensorflow.org/api_docs/python/tf/reduce_sum:\ninput_tensor: The tensor to reduce. Should have numeric type.\nAs int64 is a numeric type I am not sure what's wrong.\nTo create the diff tensor I do:\n        self.predictions = tf.argmax(self.logits, 1, name='predictions')\n\n         # Loss\n        with tf.name_scope(\"loss\"):\n            self.diff = tf.subtract(self.predictions, self.targets)\n            self.diff = tf.multiply(self.diff,self.diff, name='diff')\n            print self.diff\n            self.diff = tf.reduce_sum(self.diff)\n\nWhere predictions is of type int64 and my targets placeholder is also of type int64.\nIs this a tensorflow error or an error on my end?", "body": "Passing a tensor of dtype=int64 into tf.reduce sum I receive the following error:\r\n\r\nTensor(\"loss/diff:0\", shape=(50,), dtype=int64)\r\nValueError: Invalid type tf.int64 for loss/Sum:0, expected: [tf.float32, tf.float64, tf.float16].\r\n\r\nAccording to the documents from https://www.tensorflow.org/api_docs/python/tf/reduce_sum:\r\n\r\ninput_tensor: The tensor to reduce. Should have numeric type.\r\n\r\nAs int64 is a numeric type I am not sure what's wrong. \r\n\r\nTo create the diff tensor I do:\r\n\r\n```\r\n        self.predictions = tf.argmax(self.logits, 1, name='predictions')\r\n\r\n         # Loss\r\n        with tf.name_scope(\"loss\"):\r\n            self.diff = tf.subtract(self.predictions, self.targets)\r\n            self.diff = tf.multiply(self.diff,self.diff, name='diff')\r\n            print self.diff\r\n            self.diff = tf.reduce_sum(self.diff)\r\n```\r\n\r\nWhere predictions is of type int64 and my targets placeholder is also of type int64.\r\n\r\nIs this a tensorflow error or an error on my end?\r\n"}