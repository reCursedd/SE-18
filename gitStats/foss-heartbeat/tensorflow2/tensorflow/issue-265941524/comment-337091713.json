{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/337091713", "html_url": "https://github.com/tensorflow/tensorflow/issues/13761#issuecomment-337091713", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13761", "id": 337091713, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzA5MTcxMw==", "user": {"login": "kevinj22", "id": 20320568, "node_id": "MDQ6VXNlcjIwMzIwNTY4", "avatar_url": "https://avatars1.githubusercontent.com/u/20320568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinj22", "html_url": "https://github.com/kevinj22", "followers_url": "https://api.github.com/users/kevinj22/followers", "following_url": "https://api.github.com/users/kevinj22/following{/other_user}", "gists_url": "https://api.github.com/users/kevinj22/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinj22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinj22/subscriptions", "organizations_url": "https://api.github.com/users/kevinj22/orgs", "repos_url": "https://api.github.com/users/kevinj22/repos", "events_url": "https://api.github.com/users/kevinj22/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinj22/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-17T01:38:00Z", "updated_at": "2017-10-17T01:38:00Z", "author_association": "NONE", "body_html": "<p>I tried making all tensors involved into int32's:</p>\n<pre><code>self.targets = tf.placeholder(tf.int32, [batchSize])\nself.predictions = tf.argmax(self.logits, 1, output_type=tf.int32, name='predictions')\n</code></pre>\n<p>Although I still receive the same error.</p>\n<p>ValueError: Invalid type tf.int32 for loss/Sum:0, expected: [tf.float32, tf.float64, tf.float16].</p>\n<p>I don't believe I can cast in this instance as casting is an operation that doesn't create a gradient. I initially tried casting both tensors to tf.float32 and using tf.losses.mean_squared_error but I received a 'ValueError: No gradients provided for any variable'. This is an attempt at a possible work around.</p>", "body_text": "I tried making all tensors involved into int32's:\nself.targets = tf.placeholder(tf.int32, [batchSize])\nself.predictions = tf.argmax(self.logits, 1, output_type=tf.int32, name='predictions')\n\nAlthough I still receive the same error.\nValueError: Invalid type tf.int32 for loss/Sum:0, expected: [tf.float32, tf.float64, tf.float16].\nI don't believe I can cast in this instance as casting is an operation that doesn't create a gradient. I initially tried casting both tensors to tf.float32 and using tf.losses.mean_squared_error but I received a 'ValueError: No gradients provided for any variable'. This is an attempt at a possible work around.", "body": "I tried making all tensors involved into int32's:\r\n\r\n```\r\nself.targets = tf.placeholder(tf.int32, [batchSize])\r\nself.predictions = tf.argmax(self.logits, 1, output_type=tf.int32, name='predictions')\r\n```\r\n\r\nAlthough I still receive the same error.\r\n\r\nValueError: Invalid type tf.int32 for loss/Sum:0, expected: [tf.float32, tf.float64, tf.float16].\r\n\r\nI don't believe I can cast in this instance as casting is an operation that doesn't create a gradient. I initially tried casting both tensors to tf.float32 and using tf.losses.mean_squared_error but I received a 'ValueError: No gradients provided for any variable'. This is an attempt at a possible work around.\r\n"}