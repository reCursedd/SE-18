{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/405973473", "html_url": "https://github.com/tensorflow/tensorflow/issues/20900#issuecomment-405973473", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20900", "id": 405973473, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTk3MzQ3Mw==", "user": {"login": "davlhd", "id": 2089635, "node_id": "MDQ6VXNlcjIwODk2MzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2089635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davlhd", "html_url": "https://github.com/davlhd", "followers_url": "https://api.github.com/users/davlhd/followers", "following_url": "https://api.github.com/users/davlhd/following{/other_user}", "gists_url": "https://api.github.com/users/davlhd/gists{/gist_id}", "starred_url": "https://api.github.com/users/davlhd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davlhd/subscriptions", "organizations_url": "https://api.github.com/users/davlhd/orgs", "repos_url": "https://api.github.com/users/davlhd/repos", "events_url": "https://api.github.com/users/davlhd/events{/privacy}", "received_events_url": "https://api.github.com/users/davlhd/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-18T15:31:33Z", "updated_at": "2018-07-18T15:31:55Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1162712\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/shashishekhar\">@shashishekhar</a><br>\nI get <code>error: invalid argument '--std=c++11' not allowed with 'C'</code><br>\nbecause of <code>CCFLAGS := ${CXXFLAGS}</code> inside <em>tensorflow/contrib/lite/Makefile</em>. I need to change it to</p>\n<pre><code>CCFLAGS := ${CXXFLAGS} -O3 -DNDEBUG\nCXXFLAGS += --std=c++11 -O3 -DNDEBUG\n</code></pre>\n<p>to make sure the c++11 argument is only put into CCFLAGS. After that I got</p>\n<pre><code>tensorflow/contrib/lite/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: thread-local storage is not supported for the current\n      target\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\n    ^\ntensorflow/contrib/lite/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n</code></pre>\n<p>and thats where I left it for the moment.</p>\n<p>But all of this could be due to some setup error on my side.</p>", "body_text": "@shashishekhar\nI get error: invalid argument '--std=c++11' not allowed with 'C'\nbecause of CCFLAGS := ${CXXFLAGS} inside tensorflow/contrib/lite/Makefile. I need to change it to\nCCFLAGS := ${CXXFLAGS} -O3 -DNDEBUG\nCXXFLAGS += --std=c++11 -O3 -DNDEBUG\n\nto make sure the c++11 argument is only put into CCFLAGS. After that I got\ntensorflow/contrib/lite/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: thread-local storage is not supported for the current\n      target\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\n    ^\ntensorflow/contrib/lite/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: expanded from macro 'EIGEN_THREAD_LOCAL'\n#define EIGEN_THREAD_LOCAL static __thread\n\nand thats where I left it for the moment.\nBut all of this could be due to some setup error on my side.", "body": "@shashishekhar \r\nI get `error: invalid argument '--std=c++11' not allowed with 'C'`\r\n because of `CCFLAGS := ${CXXFLAGS}` inside _tensorflow/contrib/lite/Makefile_. I need to change it to \r\n```\r\nCCFLAGS := ${CXXFLAGS} -O3 -DNDEBUG\r\nCXXFLAGS += --std=c++11 -O3 -DNDEBUG\r\n```\r\nto make sure the c++11 argument is only put into CCFLAGS. After that I got \r\n\r\n```\r\ntensorflow/contrib/lite/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:5: error: thread-local storage is not supported for the current\r\n      target\r\n    EIGEN_THREAD_LOCAL PerThread per_thread_;\r\n    ^\r\ntensorflow/contrib/lite/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/ThreadLocal.h:15:35: note: expanded from macro 'EIGEN_THREAD_LOCAL'\r\n#define EIGEN_THREAD_LOCAL static __thread\r\n```\r\nand thats where I left it for the moment.\r\n\r\nBut all of this could be due to some setup error on my side."}