{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/417989168", "html_url": "https://github.com/tensorflow/tensorflow/issues/3628#issuecomment-417989168", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3628", "id": 417989168, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzk4OTE2OA==", "user": {"login": "tjusxh", "id": 9691664, "node_id": "MDQ6VXNlcjk2OTE2NjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/9691664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tjusxh", "html_url": "https://github.com/tjusxh", "followers_url": "https://api.github.com/users/tjusxh/followers", "following_url": "https://api.github.com/users/tjusxh/following{/other_user}", "gists_url": "https://api.github.com/users/tjusxh/gists{/gist_id}", "starred_url": "https://api.github.com/users/tjusxh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tjusxh/subscriptions", "organizations_url": "https://api.github.com/users/tjusxh/orgs", "repos_url": "https://api.github.com/users/tjusxh/repos", "events_url": "https://api.github.com/users/tjusxh/events{/privacy}", "received_events_url": "https://api.github.com/users/tjusxh/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-03T03:11:52Z", "updated_at": "2018-09-03T03:11:52Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=274526\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/barbolo\">@barbolo</a>  I used the API tf.layers . I printed the operation in my net. I didn't found RefSwitch, So I can't resolve the question through your suggestion. The error ValueError: graph_def is invalid at node 'conv1/kernel/Assign': Input tensor 'conv1/kernel:0' Cannot convert a tensor of type float32 to an input of type float32_ref. Please Do you any suggestion?</p>\n<p>conv1/kernel/Initializer/random_uniform/shape<br>\nconv1/kernel/Initializer/random_uniform/min<br>\nconv1/kernel/Initializer/random_uniform/max<br>\nconv1/kernel/Initializer/random_uniform/RandomUniform<br>\nconv1/kernel/Initializer/random_uniform/sub<br>\nconv1/kernel/Initializer/random_uniform/mul<br>\nconv1/kernel/Initializer/random_uniform<br>\nconv1/kernel<br>\nconv1/kernel/Assign<br>\nconv1/kernel/read<br>\nconv1/bias/Initializer/zeros<br>\nconv1/bias<br>\nconv1/bias/Assign<br>\nconv1/bias/read<br>\nconv1/dilation_rate<br>\nconv1/Conv2D<br>\nconv1/BiasAdd<br>\nconv1/Relu<br>\nbatch_normalization/gamma/Initializer/ones<br>\nbatch_normalization/gamma<br>\nbatch_normalization/gamma/Assign<br>\nbatch_normalization/gamma/read<br>\nbatch_normalization/beta/Initializer/zeros<br>\nbatch_normalization/beta<br>\nbatch_normalization/beta/Assign<br>\nbatch_normalization/beta/read<br>\nbatch_normalization/moving_mean/Initializer/zeros<br>\nbatch_normalization/moving_mean<br>\nbatch_normalization/moving_mean/Assign<br>\nbatch_normalization/moving_mean/read<br>\nbatch_normalization/moving_variance/Initializer/ones<br>\nbatch_normalization/moving_variance<br>\nbatch_normalization/moving_variance/Assign<br>\nbatch_normalization/moving_variance/read<br>\nbatch_normalization/cond/Switch<br>\nbatch_normalization/cond/switch_t<br>\nbatch_normalization/cond/switch_f<br>\nbatch_normalization/cond/pred_id<br>\nbatch_normalization/cond/Const<br>\nbatch_normalization/cond/Const_1<br>\nbatch_normalization/cond/FusedBatchNorm/Switch<br>\nbatch_normalization/cond/FusedBatchNorm/Switch_1<br>\nbatch_normalization/cond/FusedBatchNorm/Switch_2<br>\nbatch_normalization/cond/FusedBatchNorm<br>\nbatch_normalization/cond/FusedBatchNorm_1/Switch<br>\nbatch_normalization/cond/FusedBatchNorm_1/Switch_1<br>\nbatch_normalization/cond/FusedBatchNorm_1/Switch_2<br>\nbatch_normalization/cond/FusedBatchNorm_1/Switch_3<br>\nbatch_normalization/cond/FusedBatchNorm_1/Switch_4<br>\nbatch_normalization/cond/FusedBatchNorm_1<br>\nbatch_normalization/cond/Merge<br>\nbatch_normalization/cond/Merge_1<br>\nbatch_normalization/cond/Merge_2<br>\nbatch_normalization/ExpandDims/input<br>\nbatch_normalization/ExpandDims/dim<br>\nbatch_normalization/ExpandDims<br>\nbatch_normalization/ExpandDims_1/input<br>\nbatch_normalization/ExpandDims_1/dim<br>\nbatch_normalization/ExpandDims_1<br>\nbatch_normalization/Reshape/shape<br>\nbatch_normalization/Reshape<br>\nbatch_normalization/Select<br>\nbatch_normalization/Squeeze<br>\nbatch_normalization/AssignMovingAvg/read<br>\nbatch_normalization/AssignMovingAvg/Sub<br>\nbatch_normalization/AssignMovingAvg/Mul<br>\nbatch_normalization/AssignMovingAvg<br>\nbatch_normalization/AssignMovingAvg_1/read<br>\nbatch_normalization/AssignMovingAvg_1/Sub<br>\nbatch_normalization/AssignMovingAvg_1/Mul<br>\nbatch_normalization/AssignMovingAvg_1</p>", "body_text": "@barbolo  I used the API tf.layers . I printed the operation in my net. I didn't found RefSwitch, So I can't resolve the question through your suggestion. The error ValueError: graph_def is invalid at node 'conv1/kernel/Assign': Input tensor 'conv1/kernel:0' Cannot convert a tensor of type float32 to an input of type float32_ref. Please Do you any suggestion?\nconv1/kernel/Initializer/random_uniform/shape\nconv1/kernel/Initializer/random_uniform/min\nconv1/kernel/Initializer/random_uniform/max\nconv1/kernel/Initializer/random_uniform/RandomUniform\nconv1/kernel/Initializer/random_uniform/sub\nconv1/kernel/Initializer/random_uniform/mul\nconv1/kernel/Initializer/random_uniform\nconv1/kernel\nconv1/kernel/Assign\nconv1/kernel/read\nconv1/bias/Initializer/zeros\nconv1/bias\nconv1/bias/Assign\nconv1/bias/read\nconv1/dilation_rate\nconv1/Conv2D\nconv1/BiasAdd\nconv1/Relu\nbatch_normalization/gamma/Initializer/ones\nbatch_normalization/gamma\nbatch_normalization/gamma/Assign\nbatch_normalization/gamma/read\nbatch_normalization/beta/Initializer/zeros\nbatch_normalization/beta\nbatch_normalization/beta/Assign\nbatch_normalization/beta/read\nbatch_normalization/moving_mean/Initializer/zeros\nbatch_normalization/moving_mean\nbatch_normalization/moving_mean/Assign\nbatch_normalization/moving_mean/read\nbatch_normalization/moving_variance/Initializer/ones\nbatch_normalization/moving_variance\nbatch_normalization/moving_variance/Assign\nbatch_normalization/moving_variance/read\nbatch_normalization/cond/Switch\nbatch_normalization/cond/switch_t\nbatch_normalization/cond/switch_f\nbatch_normalization/cond/pred_id\nbatch_normalization/cond/Const\nbatch_normalization/cond/Const_1\nbatch_normalization/cond/FusedBatchNorm/Switch\nbatch_normalization/cond/FusedBatchNorm/Switch_1\nbatch_normalization/cond/FusedBatchNorm/Switch_2\nbatch_normalization/cond/FusedBatchNorm\nbatch_normalization/cond/FusedBatchNorm_1/Switch\nbatch_normalization/cond/FusedBatchNorm_1/Switch_1\nbatch_normalization/cond/FusedBatchNorm_1/Switch_2\nbatch_normalization/cond/FusedBatchNorm_1/Switch_3\nbatch_normalization/cond/FusedBatchNorm_1/Switch_4\nbatch_normalization/cond/FusedBatchNorm_1\nbatch_normalization/cond/Merge\nbatch_normalization/cond/Merge_1\nbatch_normalization/cond/Merge_2\nbatch_normalization/ExpandDims/input\nbatch_normalization/ExpandDims/dim\nbatch_normalization/ExpandDims\nbatch_normalization/ExpandDims_1/input\nbatch_normalization/ExpandDims_1/dim\nbatch_normalization/ExpandDims_1\nbatch_normalization/Reshape/shape\nbatch_normalization/Reshape\nbatch_normalization/Select\nbatch_normalization/Squeeze\nbatch_normalization/AssignMovingAvg/read\nbatch_normalization/AssignMovingAvg/Sub\nbatch_normalization/AssignMovingAvg/Mul\nbatch_normalization/AssignMovingAvg\nbatch_normalization/AssignMovingAvg_1/read\nbatch_normalization/AssignMovingAvg_1/Sub\nbatch_normalization/AssignMovingAvg_1/Mul\nbatch_normalization/AssignMovingAvg_1", "body": "@barbolo  I used the API tf.layers . I printed the operation in my net. I didn't found RefSwitch, So I can't resolve the question through your suggestion. The error ValueError: graph_def is invalid at node 'conv1/kernel/Assign': Input tensor 'conv1/kernel:0' Cannot convert a tensor of type float32 to an input of type float32_ref. Please Do you any suggestion?\r\n\r\n\r\nconv1/kernel/Initializer/random_uniform/shape\r\nconv1/kernel/Initializer/random_uniform/min\r\nconv1/kernel/Initializer/random_uniform/max\r\nconv1/kernel/Initializer/random_uniform/RandomUniform\r\nconv1/kernel/Initializer/random_uniform/sub\r\nconv1/kernel/Initializer/random_uniform/mul\r\nconv1/kernel/Initializer/random_uniform\r\nconv1/kernel\r\nconv1/kernel/Assign\r\nconv1/kernel/read\r\nconv1/bias/Initializer/zeros\r\nconv1/bias\r\nconv1/bias/Assign\r\nconv1/bias/read\r\nconv1/dilation_rate\r\nconv1/Conv2D\r\nconv1/BiasAdd\r\nconv1/Relu\r\nbatch_normalization/gamma/Initializer/ones\r\nbatch_normalization/gamma\r\nbatch_normalization/gamma/Assign\r\nbatch_normalization/gamma/read\r\nbatch_normalization/beta/Initializer/zeros\r\nbatch_normalization/beta\r\nbatch_normalization/beta/Assign\r\nbatch_normalization/beta/read\r\nbatch_normalization/moving_mean/Initializer/zeros\r\nbatch_normalization/moving_mean\r\nbatch_normalization/moving_mean/Assign\r\nbatch_normalization/moving_mean/read\r\nbatch_normalization/moving_variance/Initializer/ones\r\nbatch_normalization/moving_variance\r\nbatch_normalization/moving_variance/Assign\r\nbatch_normalization/moving_variance/read\r\nbatch_normalization/cond/Switch\r\nbatch_normalization/cond/switch_t\r\nbatch_normalization/cond/switch_f\r\nbatch_normalization/cond/pred_id\r\nbatch_normalization/cond/Const\r\nbatch_normalization/cond/Const_1\r\nbatch_normalization/cond/FusedBatchNorm/Switch\r\nbatch_normalization/cond/FusedBatchNorm/Switch_1\r\nbatch_normalization/cond/FusedBatchNorm/Switch_2\r\nbatch_normalization/cond/FusedBatchNorm\r\nbatch_normalization/cond/FusedBatchNorm_1/Switch\r\nbatch_normalization/cond/FusedBatchNorm_1/Switch_1\r\nbatch_normalization/cond/FusedBatchNorm_1/Switch_2\r\nbatch_normalization/cond/FusedBatchNorm_1/Switch_3\r\nbatch_normalization/cond/FusedBatchNorm_1/Switch_4\r\nbatch_normalization/cond/FusedBatchNorm_1\r\nbatch_normalization/cond/Merge\r\nbatch_normalization/cond/Merge_1\r\nbatch_normalization/cond/Merge_2\r\nbatch_normalization/ExpandDims/input\r\nbatch_normalization/ExpandDims/dim\r\nbatch_normalization/ExpandDims\r\nbatch_normalization/ExpandDims_1/input\r\nbatch_normalization/ExpandDims_1/dim\r\nbatch_normalization/ExpandDims_1\r\nbatch_normalization/Reshape/shape\r\nbatch_normalization/Reshape\r\nbatch_normalization/Select\r\nbatch_normalization/Squeeze\r\nbatch_normalization/AssignMovingAvg/read\r\nbatch_normalization/AssignMovingAvg/Sub\r\nbatch_normalization/AssignMovingAvg/Mul\r\nbatch_normalization/AssignMovingAvg\r\nbatch_normalization/AssignMovingAvg_1/read\r\nbatch_normalization/AssignMovingAvg_1/Sub\r\nbatch_normalization/AssignMovingAvg_1/Mul\r\nbatch_normalization/AssignMovingAvg_1"}