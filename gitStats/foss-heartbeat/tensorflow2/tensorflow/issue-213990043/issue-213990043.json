{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8386", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8386/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8386/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8386/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8386", "id": 213990043, "node_id": "MDU6SXNzdWUyMTM5OTAwNDM=", "number": 8386, "title": "RegisterGradient for TF 1.0.x", "user": {"login": "philipperemy", "id": 4516927, "node_id": "MDQ6VXNlcjQ1MTY5Mjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/4516927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipperemy", "html_url": "https://github.com/philipperemy", "followers_url": "https://api.github.com/users/philipperemy/followers", "following_url": "https://api.github.com/users/philipperemy/following{/other_user}", "gists_url": "https://api.github.com/users/philipperemy/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipperemy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipperemy/subscriptions", "organizations_url": "https://api.github.com/users/philipperemy/orgs", "repos_url": "https://api.github.com/users/philipperemy/repos", "events_url": "https://api.github.com/users/philipperemy/events{/privacy}", "received_events_url": "https://api.github.com/users/philipperemy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-14T07:37:51Z", "updated_at": "2017-03-14T07:39:04Z", "closed_at": "2017-03-14T07:39:04Z", "author_association": "NONE", "body_html": "<p>Hello guys,</p>\n<p>What is the equivalent of <code>@ops.RegisterGradient('Mod')</code> for Tensorflow 1.0.x?</p>\n<p>It works for 0.12 but I have this error for 1.0.1:</p>\n<p><code>LookupError: No gradient defined for operation 'rnn/while/PhasedLSTMCell/FloorMod_1' (op type: FloorMod)</code></p>\n<p>Source code is:</p>\n<pre><code>@ops.RegisterGradient('Mod')\ndef _mod_grad(op, grad):\n    x, y = op.inputs\n    gz = grad\n    x_grad = gz\n    y_grad = tf.reduce_mean(-(x // y) * gz, axis=[0], keep_dims=True)[0]\n    return x_grad, y_grad\n</code></pre>\n<p>Thanks!</p>", "body_text": "Hello guys,\nWhat is the equivalent of @ops.RegisterGradient('Mod') for Tensorflow 1.0.x?\nIt works for 0.12 but I have this error for 1.0.1:\nLookupError: No gradient defined for operation 'rnn/while/PhasedLSTMCell/FloorMod_1' (op type: FloorMod)\nSource code is:\n@ops.RegisterGradient('Mod')\ndef _mod_grad(op, grad):\n    x, y = op.inputs\n    gz = grad\n    x_grad = gz\n    y_grad = tf.reduce_mean(-(x // y) * gz, axis=[0], keep_dims=True)[0]\n    return x_grad, y_grad\n\nThanks!", "body": "Hello guys,\r\n\r\nWhat is the equivalent of `@ops.RegisterGradient('Mod')` for Tensorflow 1.0.x?\r\n\r\nIt works for 0.12 but I have this error for 1.0.1:\r\n\r\n`LookupError: No gradient defined for operation 'rnn/while/PhasedLSTMCell/FloorMod_1' (op type: FloorMod)`\r\n\r\nSource code is:\r\n\r\n```\r\n@ops.RegisterGradient('Mod')\r\ndef _mod_grad(op, grad):\r\n    x, y = op.inputs\r\n    gz = grad\r\n    x_grad = gz\r\n    y_grad = tf.reduce_mean(-(x // y) * gz, axis=[0], keep_dims=True)[0]\r\n    return x_grad, y_grad\r\n```\r\n\r\nThanks!"}