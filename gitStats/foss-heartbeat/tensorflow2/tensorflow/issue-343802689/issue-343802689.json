{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21072", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21072/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21072/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21072/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/21072", "id": 343802689, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAzMzQ5MjU0", "number": 21072, "title": "Workaround for RefCounted error when using custom ops.", "user": {"login": "TimZaman", "id": 7721540, "node_id": "MDQ6VXNlcjc3MjE1NDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/7721540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimZaman", "html_url": "https://github.com/TimZaman", "followers_url": "https://api.github.com/users/TimZaman/followers", "following_url": "https://api.github.com/users/TimZaman/following{/other_user}", "gists_url": "https://api.github.com/users/TimZaman/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimZaman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimZaman/subscriptions", "organizations_url": "https://api.github.com/users/TimZaman/orgs", "repos_url": "https://api.github.com/users/TimZaman/repos", "events_url": "https://api.github.com/users/TimZaman/events{/privacy}", "received_events_url": "https://api.github.com/users/TimZaman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-07-23T21:29:16Z", "updated_at": "2018-11-14T19:23:25Z", "closed_at": "2018-11-14T19:20:14Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21072", "html_url": "https://github.com/tensorflow/tensorflow/pull/21072", "diff_url": "https://github.com/tensorflow/tensorflow/pull/21072.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/21072.patch"}, "body_html": "<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #17316.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"300869991\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/17316\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17316/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/17316\">#17316</a>.</p>\n<p>E.g. as described in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"300869991\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/17316\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17316/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/17316\">#17316</a> under some circumstances, when adding a custom op, after attempting to use it one gets a:</p>\n<pre><code>2018-07-23 20:59:22.060710: F external/tf_op_include/tensorflow/core/lib/core/refcount.h:79] Check failed: ref_.load() == 0 (1 vs. 0)\n/bin/bash: line 1: 31765 Aborted                 (core dumped) ( /tmp/run_bazel_1532379546 )\n</code></pre>\n<p>Relates to issues seen in other repos:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"306142574\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/cyberfire/tensorflow-mtcnn/issues/8\" data-hovercard-type=\"issue\" data-hovercard-url=\"/cyberfire/tensorflow-mtcnn/issues/8/hovercard\" href=\"https://github.com/cyberfire/tensorflow-mtcnn/issues/8\">cyberfire/tensorflow-mtcnn#8</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"284639361\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/cyberfire/tensorflow-mtcnn/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/cyberfire/tensorflow-mtcnn/issues/5/hovercard\" href=\"https://github.com/cyberfire/tensorflow-mtcnn/issues/5\">cyberfire/tensorflow-mtcnn#5</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"179905144\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4640\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4640/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4640\">#4640</a></p>\n<p>Solution conform suggestion of <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15258583\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/josh11b\">@josh11b</a> in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"300869991\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/17316\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/17316/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/17316\">#17316</a>.<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> Derek, i've taken the liberty to assign you a TODO here.</p>", "body_text": "Fixes #17316.\nE.g. as described in #17316 under some circumstances, when adding a custom op, after attempting to use it one gets a:\n2018-07-23 20:59:22.060710: F external/tf_op_include/tensorflow/core/lib/core/refcount.h:79] Check failed: ref_.load() == 0 (1 vs. 0)\n/bin/bash: line 1: 31765 Aborted                 (core dumped) ( /tmp/run_bazel_1532379546 )\n\nRelates to issues seen in other repos:\ncyberfire/tensorflow-mtcnn#8\ncyberfire/tensorflow-mtcnn#5\n#4640\nSolution conform suggestion of @josh11b in #17316.\n@mrry Derek, i've taken the liberty to assign you a TODO here.", "body": "Fixes #17316.\r\n\r\nE.g. as described in #17316 under some circumstances, when adding a custom op, after attempting to use it one gets a:\r\n```\r\n2018-07-23 20:59:22.060710: F external/tf_op_include/tensorflow/core/lib/core/refcount.h:79] Check failed: ref_.load() == 0 (1 vs. 0)\r\n/bin/bash: line 1: 31765 Aborted                 (core dumped) ( /tmp/run_bazel_1532379546 )\r\n```\r\n\r\nRelates to issues seen in other repos:\r\nhttps://github.com/cyberfire/tensorflow-mtcnn/issues/8\r\nhttps://github.com/cyberfire/tensorflow-mtcnn/issues/5\r\nhttps://github.com/tensorflow/tensorflow/issues/4640\r\n\r\nSolution conform suggestion of @josh11b in #17316.\r\n@mrry Derek, i've taken the liberty to assign you a TODO here."}