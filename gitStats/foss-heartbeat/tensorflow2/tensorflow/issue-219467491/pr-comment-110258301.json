{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/110258301", "pull_request_review_id": 31383143, "id": 110258301, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMDI1ODMwMQ==", "diff_hunk": "@@ -565,40 +732,21 @@ static void FillInputs(const Node* n,\n   }\n }\n \n-// TODO(nhasabni) We should move this to mkl_util.h.\n-void MklLayoutRewritePass::GetDummyMklTensorNode(std::unique_ptr<Graph>* g,\n-                                                 Node** out, Node* orign) {\n-  // We use a tensor of shape {8} and value 0,0,0,0,0,0,0,0 to represent\n-  // dummy Mkl tensor. 8 = 2*size_t.\n-  const DataType dt = DataTypeToEnum<uint8>::v();\n-  TensorProto proto;\n-  proto.set_dtype(dt);\n-  uint8 zero[8] = {0, 0, 0, 0, 0, 0, 0, 0};\n-  proto.set_tensor_content(const_cast<const void*>(static_cast<void*>(&zero)),\n-                           8);\n-  TensorShape dummy_shape({8});\n-  dummy_shape.AsProto(proto.mutable_tensor_shape());\n-  TF_CHECK_OK(NodeBuilder((*g)->NewName(\"DMT\"), \"Const\")\n-                 .Attr(\"value\", proto)\n-                 .Attr(\"dtype\", dt)\n-                 .Device(orign->def().device())  // We place this node on same\n-                                             // device as device of original\n-                                             // node.\n-                 .Finalize(&**g, out));\n-  (*out)->set_assigned_device_name(orign->assigned_device_name());\n-}\n-\n-Status MklLayoutRewritePass::SetUpInputs(\n-    std::unique_ptr<Graph>* g,\n-    const gtl::InlinedVector<std::pair<Node*, int>, 4>& inputs, NodeBuilder* nb,\n-    Node* orign) {\n-  std::vector<NodeBuilder::NodeOut> new_inputs;\n+#if 0", "path": "tensorflow/core/graph/mkl_layout_pass.cc", "position": null, "original_position": 453, "commit_id": "b5ef5bfcb39a0ba0cef4e1f7e9d766344f918ab2", "original_commit_id": "562d1842de0a50cccfb44597c00c1a30e9483c35", "user": {"login": "zhangyaobit", "id": 1034716, "node_id": "MDQ6VXNlcjEwMzQ3MTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1034716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangyaobit", "html_url": "https://github.com/zhangyaobit", "followers_url": "https://api.github.com/users/zhangyaobit/followers", "following_url": "https://api.github.com/users/zhangyaobit/following{/other_user}", "gists_url": "https://api.github.com/users/zhangyaobit/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangyaobit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangyaobit/subscriptions", "organizations_url": "https://api.github.com/users/zhangyaobit/orgs", "repos_url": "https://api.github.com/users/zhangyaobit/repos", "events_url": "https://api.github.com/users/zhangyaobit/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangyaobit/received_events", "type": "User", "site_admin": false}, "body": "What is this code section about?", "created_at": "2017-04-06T20:22:31Z", "updated_at": "2017-04-13T23:37:54Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/8968#discussion_r110258301", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8968", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/110258301"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/8968#discussion_r110258301"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8968"}}, "body_html": "<p>What is this code section about?</p>", "body_text": "What is this code section about?"}