{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/390144025", "html_url": "https://github.com/tensorflow/tensorflow/issues/19316#issuecomment-390144025", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19316", "id": 390144025, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDE0NDAyNQ==", "user": {"login": "HwMohanLiu", "id": 34759453, "node_id": "MDQ6VXNlcjM0NzU5NDUz", "avatar_url": "https://avatars3.githubusercontent.com/u/34759453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HwMohanLiu", "html_url": "https://github.com/HwMohanLiu", "followers_url": "https://api.github.com/users/HwMohanLiu/followers", "following_url": "https://api.github.com/users/HwMohanLiu/following{/other_user}", "gists_url": "https://api.github.com/users/HwMohanLiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/HwMohanLiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HwMohanLiu/subscriptions", "organizations_url": "https://api.github.com/users/HwMohanLiu/orgs", "repos_url": "https://api.github.com/users/HwMohanLiu/repos", "events_url": "https://api.github.com/users/HwMohanLiu/events{/privacy}", "received_events_url": "https://api.github.com/users/HwMohanLiu/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-18T09:03:02Z", "updated_at": "2018-05-18T09:03:02Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=49262\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jart\">@jart</a> I tried to add codecs.getreader(\"utf-8\"), but it does not work.<br>\n<code>with codecs.getreader(\"utf-8\")(tf.gfile.GFile(frozen_graph_file, 'rb')) as f:</code></p>\n<blockquote>\n<p>UnicodeDecodeError: 'utf8' codec can't decode byte 0x8b in position 1: invalid start byte</p>\n</blockquote>\n<p>Using the latest tf mobile demo to load the model is also failed.</p>\n<p>I opened the pb file by Notpad++. The structure of the content is totally different from that of the model created by tf.graph_utils.convert_variables_to_constants and tf.gfile.FastGFile API.</p>\n<p>The purpose of parsing the pb model is to get the input and output name, and then to convert it to tf-lite quantified version.</p>", "body_text": "@jart I tried to add codecs.getreader(\"utf-8\"), but it does not work.\nwith codecs.getreader(\"utf-8\")(tf.gfile.GFile(frozen_graph_file, 'rb')) as f:\n\nUnicodeDecodeError: 'utf8' codec can't decode byte 0x8b in position 1: invalid start byte\n\nUsing the latest tf mobile demo to load the model is also failed.\nI opened the pb file by Notpad++. The structure of the content is totally different from that of the model created by tf.graph_utils.convert_variables_to_constants and tf.gfile.FastGFile API.\nThe purpose of parsing the pb model is to get the input and output name, and then to convert it to tf-lite quantified version.", "body": "@jart I tried to add codecs.getreader(\"utf-8\"), but it does not work. \r\n`with codecs.getreader(\"utf-8\")(tf.gfile.GFile(frozen_graph_file, 'rb')) as f:`\r\n> UnicodeDecodeError: 'utf8' codec can't decode byte 0x8b in position 1: invalid start byte\r\n\r\nUsing the latest tf mobile demo to load the model is also failed. \r\n\r\nI opened the pb file by Notpad++. The structure of the content is totally different from that of the model created by tf.graph_utils.convert_variables_to_constants and tf.gfile.FastGFile API. \r\n\r\nThe purpose of parsing the pb model is to get the input and output name, and then to convert it to tf-lite quantified version. "}