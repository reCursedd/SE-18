{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/308207153", "html_url": "https://github.com/tensorflow/tensorflow/issues/8879#issuecomment-308207153", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8879", "id": 308207153, "node_id": "MDEyOklzc3VlQ29tbWVudDMwODIwNzE1Mw==", "user": {"login": "archenroot", "id": 553512, "node_id": "MDQ6VXNlcjU1MzUxMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/553512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/archenroot", "html_url": "https://github.com/archenroot", "followers_url": "https://api.github.com/users/archenroot/followers", "following_url": "https://api.github.com/users/archenroot/following{/other_user}", "gists_url": "https://api.github.com/users/archenroot/gists{/gist_id}", "starred_url": "https://api.github.com/users/archenroot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/archenroot/subscriptions", "organizations_url": "https://api.github.com/users/archenroot/orgs", "repos_url": "https://api.github.com/users/archenroot/repos", "events_url": "https://api.github.com/users/archenroot/events{/privacy}", "received_events_url": "https://api.github.com/users/archenroot/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-13T18:30:25Z", "updated_at": "2017-06-13T18:30:25Z", "author_association": "NONE", "body_html": "<p>I faced this issue and in my case the root cause was not reseting device via nvidia-smi --reset-gpu --id=0 for example, but by disabling CNMeM.</p>\n<p>I work with Theano and this is enabled there via entry in ~/.theanorc as following:<br>\n[lib]<br>\ncnmem = 1</p>\n<p>So removing this in my case helped resolution of this or very similar issue.</p>\n<p>Unfortunately TensorFlow uses its own memory management and doesn't utilize cnmem delivered by nvidia, so I don't know how to configure this here.</p>\n<p>There unfortunately isn't anything like externally <strong>configurable</strong> memory manager for GPU in Tensorflow as per my understanding and you can tune this only directly via code =&gt; gpu usage</p>\n<p>Note: my knowledge of TensorFlow is limited, just pointing out what I have discovered and how resolved issue with Theano on mobile graphic.</p>", "body_text": "I faced this issue and in my case the root cause was not reseting device via nvidia-smi --reset-gpu --id=0 for example, but by disabling CNMeM.\nI work with Theano and this is enabled there via entry in ~/.theanorc as following:\n[lib]\ncnmem = 1\nSo removing this in my case helped resolution of this or very similar issue.\nUnfortunately TensorFlow uses its own memory management and doesn't utilize cnmem delivered by nvidia, so I don't know how to configure this here.\nThere unfortunately isn't anything like externally configurable memory manager for GPU in Tensorflow as per my understanding and you can tune this only directly via code => gpu usage\nNote: my knowledge of TensorFlow is limited, just pointing out what I have discovered and how resolved issue with Theano on mobile graphic.", "body": "I faced this issue and in my case the root cause was not reseting device via nvidia-smi --reset-gpu --id=0 for example, but by disabling CNMeM.\r\n\r\nI work with Theano and this is enabled there via entry in ~/.theanorc as following:\r\n[lib]\r\ncnmem = 1\r\n\r\nSo removing this in my case helped resolution of this or very similar issue.\r\n\r\nUnfortunately TensorFlow uses its own memory management and doesn't utilize cnmem delivered by nvidia, so I don't know how to configure this here.\r\n\r\nThere unfortunately isn't anything like externally **configurable** memory manager for GPU in Tensorflow as per my understanding and you can tune this only directly via code => gpu usage\r\n\r\nNote: my knowledge of TensorFlow is limited, just pointing out what I have discovered and how resolved issue with Theano on mobile graphic.\r\n"}