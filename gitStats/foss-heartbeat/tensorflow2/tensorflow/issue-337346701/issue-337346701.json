{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20466", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20466/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20466/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20466/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20466", "id": 337346701, "node_id": "MDU6SXNzdWUzMzczNDY3MDE=", "number": 20466, "title": "InternalError (see above for traceback): CUB segmented reduce errorinvalid device function", "user": {"login": "l2yao", "id": 574997, "node_id": "MDQ6VXNlcjU3NDk5Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/574997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l2yao", "html_url": "https://github.com/l2yao", "followers_url": "https://api.github.com/users/l2yao/followers", "following_url": "https://api.github.com/users/l2yao/following{/other_user}", "gists_url": "https://api.github.com/users/l2yao/gists{/gist_id}", "starred_url": "https://api.github.com/users/l2yao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l2yao/subscriptions", "organizations_url": "https://api.github.com/users/l2yao/orgs", "repos_url": "https://api.github.com/users/l2yao/repos", "events_url": "https://api.github.com/users/l2yao/events{/privacy}", "received_events_url": "https://api.github.com/users/l2yao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-07-02T02:12:21Z", "updated_at": "2018-07-11T19:54:06Z", "closed_at": "2018-07-11T19:54:06Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: running training step from <a href=\"https://github.com/lengstrom/fast-style-transfer\">here</a></li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Windows 10 64 bit</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: installed using conda</li>\n<li><strong>TensorFlow version (use command below)</strong>: b'unknown' 1.8.0</li>\n<li><strong>Python version</strong>: 3.6.2</li>\n<li><strong>Bazel version (if compiling from source)</strong>: NA</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: NA</li>\n<li><strong>CUDA/cuDNN version</strong>:  CUDA 9.0 cuDNN 7.1.4</li>\n<li><strong>GPU model and memory</strong>: name: GeForce GTX 650 Ti major: 3 minor: 0 memoryClockRate(GHz): 0.928</li>\n<li><strong>Exact command to reproduce</strong>: python style.py --style examples\\poem.jpg --checkpoint-dir checkpoint</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Running a CNN training on fast style transfer, and using tensorflow-gpu. training crushed at moments/mean, is this a bug in tensorflow?</p>\n<h3>Source code / logs</h3>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1322, in _do_call<br>\nreturn fn(*args)<br>\nFile \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1307, in _run_fn<br>\noptions, feed_dict, fetch_list, target_list, run_metadata)<br>\nFile \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1409, in _call_tf_sessionrun<br>\nrun_metadata)<br>\ntensorflow.python.framework.errors_impl.InternalError: CUB segmented reduce errorinvalid device function<br>\n[[Node: moments/mean = Mean[T=DT_FLOAT, Tidx=DT_INT32, keep_dims=true, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](Conv2D_16, moments/mean-1-LayoutOptimizer)]]</p>\n</blockquote>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): running training step from here\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10 64 bit\nTensorFlow installed from (source or binary): installed using conda\nTensorFlow version (use command below): b'unknown' 1.8.0\nPython version: 3.6.2\nBazel version (if compiling from source): NA\nGCC/Compiler version (if compiling from source): NA\nCUDA/cuDNN version:  CUDA 9.0 cuDNN 7.1.4\nGPU model and memory: name: GeForce GTX 650 Ti major: 3 minor: 0 memoryClockRate(GHz): 0.928\nExact command to reproduce: python style.py --style examples\\poem.jpg --checkpoint-dir checkpoint\n\nDescribe the problem\nRunning a CNN training on fast style transfer, and using tensorflow-gpu. training crushed at moments/mean, is this a bug in tensorflow?\nSource code / logs\n\nTraceback (most recent call last):\nFile \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1322, in _do_call\nreturn fn(*args)\nFile \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1307, in _run_fn\noptions, feed_dict, fetch_list, target_list, run_metadata)\nFile \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1409, in _call_tf_sessionrun\nrun_metadata)\ntensorflow.python.framework.errors_impl.InternalError: CUB segmented reduce errorinvalid device function\n[[Node: moments/mean = Mean[T=DT_FLOAT, Tidx=DT_INT32, keep_dims=true, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](Conv2D_16, moments/mean-1-LayoutOptimizer)]]", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: running training step from [here](https://github.com/lengstrom/fast-style-transfer)\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Windows 10 64 bit\r\n- **TensorFlow installed from (source or binary)**: installed using conda\r\n- **TensorFlow version (use command below)**: b'unknown' 1.8.0\r\n- **Python version**: 3.6.2\r\n- **Bazel version (if compiling from source)**: NA\r\n- **GCC/Compiler version (if compiling from source)**: NA\r\n- **CUDA/cuDNN version**:  CUDA 9.0 cuDNN 7.1.4\r\n- **GPU model and memory**: name: GeForce GTX 650 Ti major: 3 minor: 0 memoryClockRate(GHz): 0.928\r\n- **Exact command to reproduce**: python style.py --style examples\\poem.jpg --checkpoint-dir checkpoint\r\n\r\n\r\n### Describe the problem\r\nRunning a CNN training on fast style transfer, and using tensorflow-gpu. training crushed at moments/mean, is this a bug in tensorflow?\r\n\r\n### Source code / logs\r\n\r\n> Traceback (most recent call last):\r\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1322, in _do_call\r\n    return fn(*args)\r\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1307, in _run_fn\r\n    options, feed_dict, fetch_list, target_list, run_metadata)\r\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1409, in _call_tf_sessionrun\r\n    run_metadata)\r\ntensorflow.python.framework.errors_impl.InternalError: CUB segmented reduce errorinvalid device function\r\n         [[Node: moments/mean = Mean[T=DT_FLOAT, Tidx=DT_INT32, keep_dims=true, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](Conv2D_16, moments/mean-1-LayoutOptimizer)]]\r\n\r\n"}