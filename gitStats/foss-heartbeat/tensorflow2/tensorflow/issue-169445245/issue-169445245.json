{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3647", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3647/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3647/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3647/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3647", "id": 169445245, "node_id": "MDU6SXNzdWUxNjk0NDUyNDU=", "number": 3647, "title": "Mismatch in gradient of 'abs' for complex values", "user": {"login": "harpone", "id": 5112840, "node_id": "MDQ6VXNlcjUxMTI4NDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5112840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harpone", "html_url": "https://github.com/harpone", "followers_url": "https://api.github.com/users/harpone/followers", "following_url": "https://api.github.com/users/harpone/following{/other_user}", "gists_url": "https://api.github.com/users/harpone/gists{/gist_id}", "starred_url": "https://api.github.com/users/harpone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harpone/subscriptions", "organizations_url": "https://api.github.com/users/harpone/orgs", "repos_url": "https://api.github.com/users/harpone/repos", "events_url": "https://api.github.com/users/harpone/events{/privacy}", "received_events_url": "https://api.github.com/users/harpone/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-04T18:44:05Z", "updated_at": "2016-08-04T18:58:19Z", "closed_at": "2016-08-04T18:58:19Z", "author_association": "NONE", "body_html": "<p>... in the <code>def abs(x, name=None):</code> <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/math_ops.py\">here</a></p>\n<p>The abs correctly returns complex abs if the input is complex, but the gradient always returns <code>math_ops.sign(x)</code>. There seems to be a <code>_ComplexAbsGrad</code> though, so maybe that should be used?</p>\n<p>Anyone have time for this? Clearly it's not that urgent (how many people are using complex valued tensors anyway), but maybe it should at least be flagged in the code...</p>", "body_text": "... in the def abs(x, name=None): here\nThe abs correctly returns complex abs if the input is complex, but the gradient always returns math_ops.sign(x). There seems to be a _ComplexAbsGrad though, so maybe that should be used?\nAnyone have time for this? Clearly it's not that urgent (how many people are using complex valued tensors anyway), but maybe it should at least be flagged in the code...", "body": "... in the `def abs(x, name=None):` [here](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/math_ops.py)\n\nThe abs correctly returns complex abs if the input is complex, but the gradient always returns `math_ops.sign(x)`. There seems to be a `_ComplexAbsGrad` though, so maybe that should be used?\n\nAnyone have time for this? Clearly it's not that urgent (how many people are using complex valued tensors anyway), but maybe it should at least be flagged in the code...\n"}