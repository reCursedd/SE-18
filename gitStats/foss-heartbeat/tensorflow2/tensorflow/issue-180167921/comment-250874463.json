{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/250874463", "html_url": "https://github.com/tensorflow/tensorflow/issues/4662#issuecomment-250874463", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4662", "id": 250874463, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MDg3NDQ2Mw==", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-30T23:25:31Z", "updated_at": "2016-09-30T23:25:31Z", "author_association": "MEMBER", "body_html": "<p>set -e is generally a good idea, unless we can include error messages<br>\nbetter than the ones generated by the failing commands.<br>\nOn Fri, Sep 30, 2016 at 19:16 David Z. Chen <a href=\"mailto:notifications@github.com\">notifications@github.com</a><br>\nwrote:</p>\n<blockquote>\n<p>+cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3721087\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/damienmg\">@damienmg</a> <a href=\"https://github.com/damienmg\">https://github.com/damienmg</a></p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=51099\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/llchan\">@llchan</a> <a href=\"https://github.com/llchan\">https://github.com/llchan</a> That is a good point. For those lines<br>\nwhere we have command substitution, would it be idiomatic to do the<br>\nfollowing to prevent the non-zero exit code:</p>\n<p>default_python_bin_path=$(which python || true)</p>\n<p>It is not ideal to have to run those bazel commands in the configure<br>\nscript. We are working on improving the cache invalidation for external<br>\nrepositories and have plans to let repository rules declare which<br>\nenvironment variables they consume and would invalidate the repository if<br>\nthey change.</p>\n<p>At the same time, ideally, a shell script as non-trivial as configure<br>\nshould try to be as strict as possible and exit immediately if any of the<br>\ncommands fail.</p>\n<p>\u2014<br>\nYou are receiving this because you were mentioned.<br>\nReply to this email directly, view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"180167921\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4662\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4662/hovercard?comment_id=250873132&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/4662#issuecomment-250873132\">#4662 (comment)</a>,<br>\nor mute the thread<br>\n<a href=\"https://github.com/notifications/unsubscribe-auth/AAjO_b3G4q6e6_S0udyuh5pk-ziuj_3Mks5qvZgygaJpZM4KKgF0\">https://github.com/notifications/unsubscribe-auth/AAjO_b3G4q6e6_S0udyuh5pk-ziuj_3Mks5qvZgygaJpZM4KKgF0</a><br>\n.</p>\n</blockquote>", "body_text": "set -e is generally a good idea, unless we can include error messages\nbetter than the ones generated by the failing commands.\nOn Fri, Sep 30, 2016 at 19:16 David Z. Chen notifications@github.com\nwrote:\n\n+cc @damienmg https://github.com/damienmg\n@llchan https://github.com/llchan That is a good point. For those lines\nwhere we have command substitution, would it be idiomatic to do the\nfollowing to prevent the non-zero exit code:\ndefault_python_bin_path=$(which python || true)\nIt is not ideal to have to run those bazel commands in the configure\nscript. We are working on improving the cache invalidation for external\nrepositories and have plans to let repository rules declare which\nenvironment variables they consume and would invalidate the repository if\nthey change.\nAt the same time, ideally, a shell script as non-trivial as configure\nshould try to be as strict as possible and exit immediately if any of the\ncommands fail.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\n#4662 (comment),\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAjO_b3G4q6e6_S0udyuh5pk-ziuj_3Mks5qvZgygaJpZM4KKgF0\n.", "body": "set -e is generally a good idea, unless we can include error messages\nbetter than the ones generated by the failing commands.\nOn Fri, Sep 30, 2016 at 19:16 David Z. Chen notifications@github.com\nwrote:\n\n> +cc @damienmg https://github.com/damienmg\n> \n> @llchan https://github.com/llchan That is a good point. For those lines\n> where we have command substitution, would it be idiomatic to do the\n> following to prevent the non-zero exit code:\n> \n> default_python_bin_path=$(which python || true)\n> \n> It is not ideal to have to run those bazel commands in the configure\n> script. We are working on improving the cache invalidation for external\n> repositories and have plans to let repository rules declare which\n> environment variables they consume and would invalidate the repository if\n> they change.\n> \n> At the same time, ideally, a shell script as non-trivial as configure\n> should try to be as strict as possible and exit immediately if any of the\n> commands fail.\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/4662#issuecomment-250873132,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAjO_b3G4q6e6_S0udyuh5pk-ziuj_3Mks5qvZgygaJpZM4KKgF0\n> .\n"}