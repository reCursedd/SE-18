{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/239100648", "html_url": "https://github.com/tensorflow/tensorflow/issues/3470#issuecomment-239100648", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3470", "id": 239100648, "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTEwMDY0OA==", "user": {"login": "hholst80", "id": 6200749, "node_id": "MDQ6VXNlcjYyMDA3NDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/6200749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hholst80", "html_url": "https://github.com/hholst80", "followers_url": "https://api.github.com/users/hholst80/followers", "following_url": "https://api.github.com/users/hholst80/following{/other_user}", "gists_url": "https://api.github.com/users/hholst80/gists{/gist_id}", "starred_url": "https://api.github.com/users/hholst80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hholst80/subscriptions", "organizations_url": "https://api.github.com/users/hholst80/orgs", "repos_url": "https://api.github.com/users/hholst80/repos", "events_url": "https://api.github.com/users/hholst80/events{/privacy}", "received_events_url": "https://api.github.com/users/hholst80/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-11T08:26:04Z", "updated_at": "2016-08-11T08:31:58Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Run this in a script:</p>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c1\">source</span> activate tensorflow <span class=\"pl-c\"><span class=\"pl-c\">#</span> &lt;--- adapt this to source TensorFlow 0.9 or 0.10 environment; remove if not using Anaconda.</span>\n<span class=\"pl-k\">export</span> CUDA_VISIBLE_DEVICES=<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span> <span class=\"pl-c\"><span class=\"pl-c\">#</span> &lt;--- the repro is for CPU</span>\npython cluster.py --job_name=ps --task_index=0 <span class=\"pl-k\">&amp;</span>\n<span class=\"pl-k\">for</span> <span class=\"pl-smi\">INDEX</span> <span class=\"pl-k\">in</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>seq 0 15<span class=\"pl-pds\">`</span></span> <span class=\"pl-c\"><span class=\"pl-c\">#</span> &lt;--- tune this parameter to your liking. My repro is for 16 processes.</span>\n<span class=\"pl-k\">do</span>\n    python cluster.py --job_name=worker --task_index=<span class=\"pl-smi\">$INDEX</span> <span class=\"pl-k\">&amp;</span>\n<span class=\"pl-k\">done</span></pre></div>", "body_text": "Run this in a script:\nsource activate tensorflow # <--- adapt this to source TensorFlow 0.9 or 0.10 environment; remove if not using Anaconda.\nexport CUDA_VISIBLE_DEVICES='' # <--- the repro is for CPU\npython cluster.py --job_name=ps --task_index=0 &\nfor INDEX in `seq 0 15` # <--- tune this parameter to your liking. My repro is for 16 processes.\ndo\n    python cluster.py --job_name=worker --task_index=$INDEX &\ndone", "body": "Run this in a script:\n\n``` .bash\nsource activate tensorflow # <--- adapt this to source TensorFlow 0.9 or 0.10 environment; remove if not using Anaconda.\nexport CUDA_VISIBLE_DEVICES='' # <--- the repro is for CPU\npython cluster.py --job_name=ps --task_index=0 &\nfor INDEX in `seq 0 15` # <--- tune this parameter to your liking. My repro is for 16 processes.\ndo\n    python cluster.py --job_name=worker --task_index=$INDEX &\ndone\n```\n"}