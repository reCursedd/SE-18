{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2213", "id": 68798792, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg3OTg3OTI=", "html_url": "https://github.com/tensorflow/tensorflow/pull/2213", "diff_url": "https://github.com/tensorflow/tensorflow/pull/2213.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/2213.patch", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2213", "number": 2213, "state": "closed", "locked": false, "title": "Add support for 3d convolutions", "user": {"login": "rewonc", "id": 3162580, "node_id": "MDQ6VXNlcjMxNjI1ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/3162580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rewonc", "html_url": "https://github.com/rewonc", "followers_url": "https://api.github.com/users/rewonc/followers", "following_url": "https://api.github.com/users/rewonc/following{/other_user}", "gists_url": "https://api.github.com/users/rewonc/gists{/gist_id}", "starred_url": "https://api.github.com/users/rewonc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rewonc/subscriptions", "organizations_url": "https://api.github.com/users/rewonc/orgs", "repos_url": "https://api.github.com/users/rewonc/repos", "events_url": "https://api.github.com/users/rewonc/events{/privacy}", "received_events_url": "https://api.github.com/users/rewonc/received_events", "type": "User", "site_admin": false}, "body": "This patch is a WIP, but adds functionality for 3d convolutions as requested in #150.\n### Approach\n\nThis patch adds 3d kernels and glue code, largely based off the 2d kernels, as separate modules. We add `conv_3d`, `conv3d_ops`, `conv3d_grad_ops`, and others to the original `conv_2d`, `conv_ops`, and `conv_grad_ops`, which remain unchanged.\n\nAs there is logic in the 2d kernels which the 3d kernel simply replicates, this patch is quite large. Generalizing the conv operator to n dimensions might solve 1d and 4d use cases (#1661 and #1136) as well as reducing the overall quantity of code in the codebase.  As this patch includes a comprehensive test suite, this patch should help if or when that happens. \n### Progress\n- [x] Test suite for GPU/CPU\n- [x] CPU kernel implementation\n- [ ] GPU kernel implementation \n\nCurrently, there are ~40 tests in `tensorflow/python/kernel_tests/conv3d_ops_test.py` which test shapes, outputs, strides, and gradients for a variety of input. They pass on my CPU instance: \n\n![image](https://cloud.githubusercontent.com/assets/3162580/15002320/d0bdaec0-1154-11e6-8e44-f9082e3108c6.png)\n\nI currently lack access to a GPU so I haven't worked on the GPU kernel yet, but hopefully that should happen soon.\n### Todo\n\nThis is a learning project for me, so I'd love to get feedback on how this might become more helpful, or how it might fit in better with the TF team's architectural design.  Thanks!\n", "created_at": "2016-05-04T01:03:20Z", "updated_at": "2016-12-23T03:52:13Z", "closed_at": "2016-05-06T18:12:52Z", "merged_at": null, "merge_commit_sha": "1ad3df92f0fa2a5c129388169ebf77d18f48a2af", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "milestone": null, "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2213/commits", "review_comments_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2213/comments", "review_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2213/comments", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/09b07bbee5b9d973d26b6fc8595219a67893f486", "head": {"label": "rewonc:rc-conv3d", "ref": "rc-conv3d", "sha": "09b07bbee5b9d973d26b6fc8595219a67893f486", "user": {"login": "rewonc", "id": 3162580, "node_id": "MDQ6VXNlcjMxNjI1ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/3162580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rewonc", "html_url": "https://github.com/rewonc", "followers_url": "https://api.github.com/users/rewonc/followers", "following_url": "https://api.github.com/users/rewonc/following{/other_user}", "gists_url": "https://api.github.com/users/rewonc/gists{/gist_id}", "starred_url": "https://api.github.com/users/rewonc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rewonc/subscriptions", "organizations_url": "https://api.github.com/users/rewonc/orgs", "repos_url": "https://api.github.com/users/rewonc/repos", "events_url": "https://api.github.com/users/rewonc/events{/privacy}", "received_events_url": "https://api.github.com/users/rewonc/received_events", "type": "User", "site_admin": false}, "repo": {"id": 46184542, "node_id": "MDEwOlJlcG9zaXRvcnk0NjE4NDU0Mg==", "name": "tensorflow", "full_name": "rewonc/tensorflow", "private": false, "owner": {"login": "rewonc", "id": 3162580, "node_id": "MDQ6VXNlcjMxNjI1ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/3162580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rewonc", "html_url": "https://github.com/rewonc", "followers_url": "https://api.github.com/users/rewonc/followers", "following_url": "https://api.github.com/users/rewonc/following{/other_user}", "gists_url": "https://api.github.com/users/rewonc/gists{/gist_id}", "starred_url": "https://api.github.com/users/rewonc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rewonc/subscriptions", "organizations_url": "https://api.github.com/users/rewonc/orgs", "repos_url": "https://api.github.com/users/rewonc/repos", "events_url": "https://api.github.com/users/rewonc/events{/privacy}", "received_events_url": "https://api.github.com/users/rewonc/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/rewonc/tensorflow", "description": " Open source software library for numerical computation using data flow graphs.", "fork": true, "url": "https://api.github.com/repos/rewonc/tensorflow", "forks_url": "https://api.github.com/repos/rewonc/tensorflow/forks", "keys_url": "https://api.github.com/repos/rewonc/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/rewonc/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/rewonc/tensorflow/teams", "hooks_url": "https://api.github.com/repos/rewonc/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/rewonc/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/rewonc/tensorflow/events", "assignees_url": "https://api.github.com/repos/rewonc/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/rewonc/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/rewonc/tensorflow/tags", "blobs_url": "https://api.github.com/repos/rewonc/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/rewonc/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/rewonc/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/rewonc/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/rewonc/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/rewonc/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/rewonc/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/rewonc/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/rewonc/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/rewonc/tensorflow/subscription", "commits_url": "https://api.github.com/repos/rewonc/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/rewonc/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/rewonc/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/rewonc/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/rewonc/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/rewonc/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/rewonc/tensorflow/merges", "archive_url": "https://api.github.com/repos/rewonc/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/rewonc/tensorflow/downloads", "issues_url": "https://api.github.com/repos/rewonc/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/rewonc/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/rewonc/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/rewonc/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/rewonc/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/rewonc/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/rewonc/tensorflow/deployments", "created_at": "2015-11-14T17:30:20Z", "updated_at": "2016-05-03T23:19:22Z", "pushed_at": "2016-05-04T00:05:37Z", "git_url": "git://github.com/rewonc/tensorflow.git", "ssh_url": "git@github.com:rewonc/tensorflow.git", "clone_url": "https://github.com/rewonc/tensorflow.git", "svn_url": "https://github.com/rewonc/tensorflow", "homepage": "http://tensorflow.org", "size": 86331, "stargazers_count": 0, "watchers_count": 0, "language": "C++", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 0, "mirror_url": null, "archived": false, "open_issues_count": 0, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "tensorflow:master", "ref": "master", "sha": "b8883a237b71e877759327fb4b9077847d4cb16c", "user": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 45717250, "node_id": "MDEwOlJlcG9zaXRvcnk0NTcxNzI1MA==", "name": "tensorflow", "full_name": "tensorflow/tensorflow", "private": false, "owner": {"login": "tensorflow", "id": 15658638, "node_id": "MDEyOk9yZ2FuaXphdGlvbjE1NjU4NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/15658638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow", "html_url": "https://github.com/tensorflow", "followers_url": "https://api.github.com/users/tensorflow/followers", "following_url": "https://api.github.com/users/tensorflow/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow/orgs", "repos_url": "https://api.github.com/users/tensorflow/repos", "events_url": "https://api.github.com/users/tensorflow/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/tensorflow/tensorflow", "description": "An Open Source Machine Learning Framework for Everyone", "fork": false, "url": "https://api.github.com/repos/tensorflow/tensorflow", "forks_url": "https://api.github.com/repos/tensorflow/tensorflow/forks", "keys_url": "https://api.github.com/repos/tensorflow/tensorflow/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/tensorflow/tensorflow/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/tensorflow/tensorflow/teams", "hooks_url": "https://api.github.com/repos/tensorflow/tensorflow/hooks", "issue_events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/events{/number}", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/events", "assignees_url": "https://api.github.com/repos/tensorflow/tensorflow/assignees{/user}", "branches_url": "https://api.github.com/repos/tensorflow/tensorflow/branches{/branch}", "tags_url": "https://api.github.com/repos/tensorflow/tensorflow/tags", "blobs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/tensorflow/tensorflow/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/tensorflow/tensorflow/git/refs{/sha}", "trees_url": "https://api.github.com/repos/tensorflow/tensorflow/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/tensorflow/tensorflow/statuses/{sha}", "languages_url": "https://api.github.com/repos/tensorflow/tensorflow/languages", "stargazers_url": "https://api.github.com/repos/tensorflow/tensorflow/stargazers", "contributors_url": "https://api.github.com/repos/tensorflow/tensorflow/contributors", "subscribers_url": "https://api.github.com/repos/tensorflow/tensorflow/subscribers", "subscription_url": "https://api.github.com/repos/tensorflow/tensorflow/subscription", "commits_url": "https://api.github.com/repos/tensorflow/tensorflow/commits{/sha}", "git_commits_url": "https://api.github.com/repos/tensorflow/tensorflow/git/commits{/sha}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/comments{/number}", "issue_comment_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments{/number}", "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/{+path}", "compare_url": "https://api.github.com/repos/tensorflow/tensorflow/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/tensorflow/tensorflow/merges", "archive_url": "https://api.github.com/repos/tensorflow/tensorflow/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/tensorflow/tensorflow/downloads", "issues_url": "https://api.github.com/repos/tensorflow/tensorflow/issues{/number}", "pulls_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls{/number}", "milestones_url": "https://api.github.com/repos/tensorflow/tensorflow/milestones{/number}", "notifications_url": "https://api.github.com/repos/tensorflow/tensorflow/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/labels{/name}", "releases_url": "https://api.github.com/repos/tensorflow/tensorflow/releases{/id}", "deployments_url": "https://api.github.com/repos/tensorflow/tensorflow/deployments", "created_at": "2015-11-07T01:19:20Z", "updated_at": "2018-11-24T22:13:04Z", "pushed_at": "2018-11-24T18:40:19Z", "git_url": "git://github.com/tensorflow/tensorflow.git", "ssh_url": "git@github.com:tensorflow/tensorflow.git", "clone_url": "https://github.com/tensorflow/tensorflow.git", "svn_url": "https://github.com/tensorflow/tensorflow", "homepage": "https://tensorflow.org", "size": 284546, "stargazers_count": 115176, "watchers_count": 115176, "language": "C++", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": false, "forks_count": 69946, "mirror_url": null, "archived": false, "open_issues_count": 1760, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "forks": 69946, "open_issues": 1760, "watchers": 115176, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2213"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/2213"}, "issue": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/2213"}, "comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/issues/2213/comments"}, "review_comments": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2213/comments"}, "review_comment": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2213/commits"}, "statuses": {"href": "https://api.github.com/repos/tensorflow/tensorflow/statuses/09b07bbee5b9d973d26b6fc8595219a67893f486"}}, "author_association": "NONE", "body_html": "<p>This patch is a WIP, but adds functionality for 3d convolutions as requested in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"116408949\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/150\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/150/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/150\">#150</a>.</p>\n<h3>Approach</h3>\n<p>This patch adds 3d kernels and glue code, largely based off the 2d kernels, as separate modules. We add <code>conv_3d</code>, <code>conv3d_ops</code>, <code>conv3d_grad_ops</code>, and others to the original <code>conv_2d</code>, <code>conv_ops</code>, and <code>conv_grad_ops</code>, which remain unchanged.</p>\n<p>As there is logic in the 2d kernels which the 3d kernel simply replicates, this patch is quite large. Generalizing the conv operator to n dimensions might solve 1d and 4d use cases (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"143749420\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1661\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1661/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1661\">#1661</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"134187927\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1136\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1136/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1136\">#1136</a>) as well as reducing the overall quantity of code in the codebase.  As this patch includes a comprehensive test suite, this patch should help if or when that happens.</p>\n<h3>Progress</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Test suite for GPU/CPU</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CPU kernel implementation</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> GPU kernel implementation</li>\n</ul>\n<p>Currently, there are ~40 tests in <code>tensorflow/python/kernel_tests/conv3d_ops_test.py</code> which test shapes, outputs, strides, and gradients for a variety of input. They pass on my CPU instance:</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/3162580/15002320/d0bdaec0-1154-11e6-8e44-f9082e3108c6.png\"><img src=\"https://cloud.githubusercontent.com/assets/3162580/15002320/d0bdaec0-1154-11e6-8e44-f9082e3108c6.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>\n<p>I currently lack access to a GPU so I haven't worked on the GPU kernel yet, but hopefully that should happen soon.</p>\n<h3>Todo</h3>\n<p>This is a learning project for me, so I'd love to get feedback on how this might become more helpful, or how it might fit in better with the TF team's architectural design.  Thanks!</p>", "body_text": "This patch is a WIP, but adds functionality for 3d convolutions as requested in #150.\nApproach\nThis patch adds 3d kernels and glue code, largely based off the 2d kernels, as separate modules. We add conv_3d, conv3d_ops, conv3d_grad_ops, and others to the original conv_2d, conv_ops, and conv_grad_ops, which remain unchanged.\nAs there is logic in the 2d kernels which the 3d kernel simply replicates, this patch is quite large. Generalizing the conv operator to n dimensions might solve 1d and 4d use cases (#1661 and #1136) as well as reducing the overall quantity of code in the codebase.  As this patch includes a comprehensive test suite, this patch should help if or when that happens.\nProgress\n\n Test suite for GPU/CPU\n CPU kernel implementation\n GPU kernel implementation\n\nCurrently, there are ~40 tests in tensorflow/python/kernel_tests/conv3d_ops_test.py which test shapes, outputs, strides, and gradients for a variety of input. They pass on my CPU instance:\n\nI currently lack access to a GPU so I haven't worked on the GPU kernel yet, but hopefully that should happen soon.\nTodo\nThis is a learning project for me, so I'd love to get feedback on how this might become more helpful, or how it might fit in better with the TF team's architectural design.  Thanks!", "merged": false, "mergeable": false, "rebaseable": false, "mergeable_state": "dirty", "merged_by": null, "comments": 20, "review_comments": 0, "maintainer_can_modify": false, "commits": 4, "additions": 2026, "deletions": 0, "changed_files": 17}