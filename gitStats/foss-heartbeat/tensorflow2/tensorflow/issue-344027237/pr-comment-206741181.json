{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/206741181", "pull_request_review_id": 142212036, "id": 206741181, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjc0MTE4MQ==", "diff_hunk": "@@ -0,0 +1,56 @@\n+package org.tensorflow.op.core;\n+\n+import java.nio.ByteBuffer;\n+\n+import org.tensorflow.DataType;\n+import org.tensorflow.Operand;\n+import org.tensorflow.Output;\n+import org.tensorflow.Shape;\n+import org.tensorflow.op.Op;\n+import org.tensorflow.op.Scope;\n+import org.tensorflow.op.annotation.Operator;\n+\n+/**\n+ * An operator creating a constant initialized with zeros w.r.t its type and shape.\n+ *\n+ * @param <T> constant type\n+ */\n+@Operator\n+public class Zeros<T> implements Op, Operand<T> {", "path": "tensorflow/java/src/main/java/org/tensorflow/op/core/Zeros.java", "position": 37, "original_position": 19, "commit_id": "e3bc2b0e764cacafb1156bc84299790fd9e60b89", "original_commit_id": "e5231a18a70064edc37aa12c7c7bbe9d0412cbd0", "user": {"login": "karllessard", "id": 10109534, "node_id": "MDQ6VXNlcjEwMTA5NTM0", "avatar_url": "https://avatars3.githubusercontent.com/u/10109534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karllessard", "html_url": "https://github.com/karllessard", "followers_url": "https://api.github.com/users/karllessard/followers", "following_url": "https://api.github.com/users/karllessard/following{/other_user}", "gists_url": "https://api.github.com/users/karllessard/gists{/gist_id}", "starred_url": "https://api.github.com/users/karllessard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karllessard/subscriptions", "organizations_url": "https://api.github.com/users/karllessard/orgs", "repos_url": "https://api.github.com/users/karllessard/repos", "events_url": "https://api.github.com/users/karllessard/events{/privacy}", "received_events_url": "https://api.github.com/users/karllessard/received_events", "type": "User", "site_admin": false}, "body": "Interesting... So when calling `tf.zeros([2, 2])` in python, it creates a shape tensor out of the array parameter? \r\n\r\nSo to resume. without the `Zeros` operator, we could achieve the same operation doing\r\n\r\n```ops.fill(Float.class, ops.constant(new long[]{2, 2}, Long.class), ops.constant(0.0f));```\r\n\r\nAnd with `Zeros`, it would be\r\n\r\n```ops.zeros(Float.class, ops.constant(new long[]{2, 2}, Long.class))```\r\n\r\nIt\u2019s still very verbose, that is why I liked the way Python does it, by passing a simple array. Or at least not passing the `Long.class` here would make it more succinct... is it frequent to create shape tensors out of an array like this? If so, maybe we could have special factory in `Constant` (or another operator) that takes only a `long[]` as parameter?\r\n", "created_at": "2018-08-01T02:45:48Z", "updated_at": "2018-08-03T19:04:27Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/21092#discussion_r206741181", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21092", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/206741181"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/21092#discussion_r206741181"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21092"}}, "body_html": "<p>Interesting... So when calling <code>tf.zeros([2, 2])</code> in python, it creates a shape tensor out of the array parameter?</p>\n<p>So to resume. without the <code>Zeros</code> operator, we could achieve the same operation doing</p>\n<p><code>ops.fill(Float.class, ops.constant(new long[]{2, 2}, Long.class), ops.constant(0.0f));</code></p>\n<p>And with <code>Zeros</code>, it would be</p>\n<p><code>ops.zeros(Float.class, ops.constant(new long[]{2, 2}, Long.class))</code></p>\n<p>It\u2019s still very verbose, that is why I liked the way Python does it, by passing a simple array. Or at least not passing the <code>Long.class</code> here would make it more succinct... is it frequent to create shape tensors out of an array like this? If so, maybe we could have special factory in <code>Constant</code> (or another operator) that takes only a <code>long[]</code> as parameter?</p>", "body_text": "Interesting... So when calling tf.zeros([2, 2]) in python, it creates a shape tensor out of the array parameter?\nSo to resume. without the Zeros operator, we could achieve the same operation doing\nops.fill(Float.class, ops.constant(new long[]{2, 2}, Long.class), ops.constant(0.0f));\nAnd with Zeros, it would be\nops.zeros(Float.class, ops.constant(new long[]{2, 2}, Long.class))\nIt\u2019s still very verbose, that is why I liked the way Python does it, by passing a simple array. Or at least not passing the Long.class here would make it more succinct... is it frequent to create shape tensors out of an array like this? If so, maybe we could have special factory in Constant (or another operator) that takes only a long[] as parameter?", "in_reply_to_id": 205214147}