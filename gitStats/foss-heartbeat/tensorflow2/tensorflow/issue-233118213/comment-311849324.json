{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/311849324", "html_url": "https://github.com/tensorflow/tensorflow/pull/10391#issuecomment-311849324", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10391", "id": 311849324, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTg0OTMyNA==", "user": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-29T03:02:10Z", "updated_at": "2017-06-29T03:02:10Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9864149\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/erilyth\">@erilyth</a> here's an example failure:</p>\n<pre><code>ERROR: testIrisMomentum (__main__.CustomOptimizer)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimators_test.py\", line 142, in testIrisMomentum\n    classifier.fit(x_train, y_train, steps=400)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/util/deprecation.py\", line 296, in new_func\n    return func(*args, **kwargs)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 442, in fit\n    SKCompat(self).fit(x, y, batch_size, steps, max_steps, monitors)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 1353, in fit\n    monitors=all_monitors)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/util/deprecation.py\", line 296, in new_func\n    return func(*args, **kwargs)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 458, in fit\n    loss = self._train_model(input_fn=input_fn, hooks=hooks)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 958, in _train_model\n    model_fn_ops = self._get_train_ops(features, labels)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 1165, in _get_train_ops\n    return self._call_model_fn(features, labels, model_fn_lib.ModeKeys.TRAIN)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 1136, in _call_model_fn\n    model_fn_results = self._model_fn(features, labels, **kwargs)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/dnn.py\", line 209, in _dnn_model_fn\n    logits=logits)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/head.py\", line 1059, in create_model_fn_ops\n    enable_centered_bias=self._enable_centered_bias)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/head.py\", line 649, in _create_model_fn_ops\n    batch_size, loss_fn, weight_tensor)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/head.py\", line 1911, in _train_op\n    train_op = train_op_fn(loss)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/dnn.py\", line 202, in _train_op_fn\n    summaries=[])\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/optimizers.py\", line 180, in optimize_loss\n    initializer=init_ops.constant_initializer(learning_rate))\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 1065, in get_variable\n    use_resource=use_resource, custom_getter=custom_getter)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 962, in get_variable\n    use_resource=use_resource, custom_getter=custom_getter)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 367, in get_variable\n    validate_shape=validate_shape, use_resource=use_resource)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 321, in _true_getter\n    use_resource=use_resource)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 463, in _get_partitioned_variable\n    \"shape: %s\" % shape)\nValueError: A partitioned Variable must have rank at least 1, shape: ()\n\n----------------------------------------------------------------------\n</code></pre>", "body_text": "@erilyth here's an example failure:\nERROR: testIrisMomentum (__main__.CustomOptimizer)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimators_test.py\", line 142, in testIrisMomentum\n    classifier.fit(x_train, y_train, steps=400)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/util/deprecation.py\", line 296, in new_func\n    return func(*args, **kwargs)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 442, in fit\n    SKCompat(self).fit(x, y, batch_size, steps, max_steps, monitors)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 1353, in fit\n    monitors=all_monitors)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/util/deprecation.py\", line 296, in new_func\n    return func(*args, **kwargs)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 458, in fit\n    loss = self._train_model(input_fn=input_fn, hooks=hooks)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 958, in _train_model\n    model_fn_ops = self._get_train_ops(features, labels)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 1165, in _get_train_ops\n    return self._call_model_fn(features, labels, model_fn_lib.ModeKeys.TRAIN)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 1136, in _call_model_fn\n    model_fn_results = self._model_fn(features, labels, **kwargs)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/dnn.py\", line 209, in _dnn_model_fn\n    logits=logits)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/head.py\", line 1059, in create_model_fn_ops\n    enable_centered_bias=self._enable_centered_bias)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/head.py\", line 649, in _create_model_fn_ops\n    batch_size, loss_fn, weight_tensor)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/head.py\", line 1911, in _train_op\n    train_op = train_op_fn(loss)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/dnn.py\", line 202, in _train_op_fn\n    summaries=[])\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/optimizers.py\", line 180, in optimize_loss\n    initializer=init_ops.constant_initializer(learning_rate))\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 1065, in get_variable\n    use_resource=use_resource, custom_getter=custom_getter)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 962, in get_variable\n    use_resource=use_resource, custom_getter=custom_getter)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 367, in get_variable\n    validate_shape=validate_shape, use_resource=use_resource)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 321, in _true_getter\n    use_resource=use_resource)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 463, in _get_partitioned_variable\n    \"shape: %s\" % shape)\nValueError: A partitioned Variable must have rank at least 1, shape: ()\n\n----------------------------------------------------------------------", "body": "@erilyth here's an example failure:\r\n\r\n```\r\nERROR: testIrisMomentum (__main__.CustomOptimizer)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimators_test.py\", line 142, in testIrisMomentum\r\n    classifier.fit(x_train, y_train, steps=400)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/util/deprecation.py\", line 296, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 442, in fit\r\n    SKCompat(self).fit(x, y, batch_size, steps, max_steps, monitors)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 1353, in fit\r\n    monitors=all_monitors)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/util/deprecation.py\", line 296, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 458, in fit\r\n    loss = self._train_model(input_fn=input_fn, hooks=hooks)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 958, in _train_model\r\n    model_fn_ops = self._get_train_ops(features, labels)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 1165, in _get_train_ops\r\n    return self._call_model_fn(features, labels, model_fn_lib.ModeKeys.TRAIN)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 1136, in _call_model_fn\r\n    model_fn_results = self._model_fn(features, labels, **kwargs)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/dnn.py\", line 209, in _dnn_model_fn\r\n    logits=logits)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/head.py\", line 1059, in create_model_fn_ops\r\n    enable_centered_bias=self._enable_centered_bias)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/head.py\", line 649, in _create_model_fn_ops\r\n    batch_size, loss_fn, weight_tensor)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/head.py\", line 1911, in _train_op\r\n    train_op = train_op_fn(loss)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/learn/python/learn/estimators/dnn.py\", line 202, in _train_op_fn\r\n    summaries=[])\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/optimizers.py\", line 180, in optimize_loss\r\n    initializer=init_ops.constant_initializer(learning_rate))\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 1065, in get_variable\r\n    use_resource=use_resource, custom_getter=custom_getter)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 962, in get_variable\r\n    use_resource=use_resource, custom_getter=custom_getter)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 367, in get_variable\r\n    validate_shape=validate_shape, use_resource=use_resource)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 321, in _true_getter\r\n    use_resource=use_resource)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-opt/bin/tensorflow/contrib/learn/estimators_test.runfiles/org_tensorflow/tensorflow/python/ops/variable_scope.py\", line 463, in _get_partitioned_variable\r\n    \"shape: %s\" % shape)\r\nValueError: A partitioned Variable must have rank at least 1, shape: ()\r\n\r\n----------------------------------------------------------------------\r\n```"}