{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/337186002", "html_url": "https://github.com/tensorflow/tensorflow/pull/13731#issuecomment-337186002", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13731", "id": 337186002, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzE4NjAwMg==", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-17T10:16:29Z", "updated_at": "2017-10-17T10:16:29Z", "author_association": "MEMBER", "body_html": "<p>Think I know where the issue is. Before this PR, the <code>tf.histogram_fixed_width</code> is only available in Python (no C++ for CPU or GPU). The python version of <code>tf.histogram_fixed_width</code> has a default value of <code>nbins=100</code>.</p>\n<p>This PR tries to preserve the <code>nbins=100</code> to keep API backward-compatibility. As a result this PR uses attribute instead of <code>input</code> tensor to carry nbins. (You could specify default value <code>=100</code> with attribute).</p>\n<p>But that somehow breaks the test utility code in <code>tensorflow/contrib/distributions/python/ops/test_util.py</code> where a tensor is passed in <code>nbins</code>.</p>\n<p>The fix might be quite tricky. Need to preserve api compatibility and also pass a tensor. Let me think if there is a way to fix the issue without breaking one way or another.</p>\n<p>The  PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"266046723\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/13776\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/13776/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/13776\">#13776</a> is the revert. It could be merged first for a quick solution.</p>", "body_text": "Think I know where the issue is. Before this PR, the tf.histogram_fixed_width is only available in Python (no C++ for CPU or GPU). The python version of tf.histogram_fixed_width has a default value of nbins=100.\nThis PR tries to preserve the nbins=100 to keep API backward-compatibility. As a result this PR uses attribute instead of input tensor to carry nbins. (You could specify default value =100 with attribute).\nBut that somehow breaks the test utility code in tensorflow/contrib/distributions/python/ops/test_util.py where a tensor is passed in nbins.\nThe fix might be quite tricky. Need to preserve api compatibility and also pass a tensor. Let me think if there is a way to fix the issue without breaking one way or another.\nThe  PR #13776 is the revert. It could be merged first for a quick solution.", "body": "Think I know where the issue is. Before this PR, the `tf.histogram_fixed_width` is only available in Python (no C++ for CPU or GPU). The python version of `tf.histogram_fixed_width` has a default value of `nbins=100`.\r\n\r\nThis PR tries to preserve the `nbins=100` to keep API backward-compatibility. As a result this PR uses attribute instead of `input` tensor to carry nbins. (You could specify default value `=100` with attribute).\r\n\r\nBut that somehow breaks the test utility code in `tensorflow/contrib/distributions/python/ops/test_util.py` where a tensor is passed in `nbins`.\r\n\r\nThe fix might be quite tricky. Need to preserve api compatibility and also pass a tensor. Let me think if there is a way to fix the issue without breaking one way or another.\r\n\r\nThe  PR #13776 is the revert. It could be merged first for a quick solution."}