{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/415380342", "html_url": "https://github.com/tensorflow/tensorflow/issues/21800#issuecomment-415380342", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21800", "id": 415380342, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTM4MDM0Mg==", "user": {"login": "mzgsxs", "id": 17554462, "node_id": "MDQ6VXNlcjE3NTU0NDYy", "avatar_url": "https://avatars3.githubusercontent.com/u/17554462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mzgsxs", "html_url": "https://github.com/mzgsxs", "followers_url": "https://api.github.com/users/mzgsxs/followers", "following_url": "https://api.github.com/users/mzgsxs/following{/other_user}", "gists_url": "https://api.github.com/users/mzgsxs/gists{/gist_id}", "starred_url": "https://api.github.com/users/mzgsxs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mzgsxs/subscriptions", "organizations_url": "https://api.github.com/users/mzgsxs/orgs", "repos_url": "https://api.github.com/users/mzgsxs/repos", "events_url": "https://api.github.com/users/mzgsxs/events{/privacy}", "received_events_url": "https://api.github.com/users/mzgsxs/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-23T11:20:42Z", "updated_at": "2018-08-23T11:20:42Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16018\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/asimshankar\">@asimshankar</a> solved, its because I should use c-&gt;Dim(dims2, 1) instead of c-&gt;Dim(dims2, 2), cause input(0) is rank 2..... T_T<br>\nLOOOOOOOOL<br>\nthank you for your help</p>\n<pre><code>        ::tensorflow::shape_inference::ShapeHandle dims1; \n        TF_RETURN_IF_ERROR(c-&gt;WithRank(c-&gt;input(0), 2, &amp;dims1));\n        ::tensorflow::shape_inference::ShapeHandle dims2; \n        TF_RETURN_IF_ERROR(c-&gt;WithRank(c-&gt;input(1), 1, &amp;dims2));\n        ::tensorflow::shape_inference::ShapeHandle dims3; \n        TF_RETURN_IF_ERROR(c-&gt;WithRank(c-&gt;input(2), 0, &amp;dims3));\n        ::tensorflow::shape_inference::ShapeHandle output = c-&gt;MakeShape({c-&gt;UnknownDim(), c-&gt;Dim(dims2, 1)});\n        c-&gt;set_output(0, output); \n        return Status::OK();\n</code></pre>", "body_text": "@asimshankar solved, its because I should use c->Dim(dims2, 1) instead of c->Dim(dims2, 2), cause input(0) is rank 2..... T_T\nLOOOOOOOOL\nthank you for your help\n        ::tensorflow::shape_inference::ShapeHandle dims1; \n        TF_RETURN_IF_ERROR(c->WithRank(c->input(0), 2, &dims1));\n        ::tensorflow::shape_inference::ShapeHandle dims2; \n        TF_RETURN_IF_ERROR(c->WithRank(c->input(1), 1, &dims2));\n        ::tensorflow::shape_inference::ShapeHandle dims3; \n        TF_RETURN_IF_ERROR(c->WithRank(c->input(2), 0, &dims3));\n        ::tensorflow::shape_inference::ShapeHandle output = c->MakeShape({c->UnknownDim(), c->Dim(dims2, 1)});\n        c->set_output(0, output); \n        return Status::OK();", "body": "@asimshankar solved, its because I should use c->Dim(dims2, 1) instead of c->Dim(dims2, 2), cause input(0) is rank 2..... T_T\r\nLOOOOOOOOL\r\nthank you for your help \r\n\r\n```\r\n        ::tensorflow::shape_inference::ShapeHandle dims1; \r\n        TF_RETURN_IF_ERROR(c->WithRank(c->input(0), 2, &dims1));\r\n        ::tensorflow::shape_inference::ShapeHandle dims2; \r\n        TF_RETURN_IF_ERROR(c->WithRank(c->input(1), 1, &dims2));\r\n        ::tensorflow::shape_inference::ShapeHandle dims3; \r\n        TF_RETURN_IF_ERROR(c->WithRank(c->input(2), 0, &dims3));\r\n        ::tensorflow::shape_inference::ShapeHandle output = c->MakeShape({c->UnknownDim(), c->Dim(dims2, 1)});\r\n        c->set_output(0, output); \r\n        return Status::OK();\r\n```"}