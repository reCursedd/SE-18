{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/190566879", "html_url": "https://github.com/tensorflow/tensorflow/issues/1310#issuecomment-190566879", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1310", "id": 190566879, "node_id": "MDEyOklzc3VlQ29tbWVudDE5MDU2Njg3OQ==", "user": {"login": "hotpxl", "id": 2174815, "node_id": "MDQ6VXNlcjIxNzQ4MTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2174815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hotpxl", "html_url": "https://github.com/hotpxl", "followers_url": "https://api.github.com/users/hotpxl/followers", "following_url": "https://api.github.com/users/hotpxl/following{/other_user}", "gists_url": "https://api.github.com/users/hotpxl/gists{/gist_id}", "starred_url": "https://api.github.com/users/hotpxl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hotpxl/subscriptions", "organizations_url": "https://api.github.com/users/hotpxl/orgs", "repos_url": "https://api.github.com/users/hotpxl/repos", "events_url": "https://api.github.com/users/hotpxl/events{/privacy}", "received_events_url": "https://api.github.com/users/hotpxl/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-01T06:20:44Z", "updated_at": "2016-03-01T06:20:44Z", "author_association": "NONE", "body_html": "<p>Previously I had</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">with</span> tf.device(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/job:ps/task:0<span class=\"pl-pds\">'</span></span>):\n    a <span class=\"pl-k\">=</span> tf.constant(<span class=\"pl-c1\">100</span>)\n\n<span class=\"pl-k\">with</span> tf.device(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/job:ps/task:1<span class=\"pl-pds\">'</span></span>):\n    b <span class=\"pl-k\">=</span> tf.constant(<span class=\"pl-c1\">100</span>)\n\n<span class=\"pl-k\">with</span> tf.Session(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>grpc://10.201.106.12:2222<span class=\"pl-pds\">'</span></span>, <span class=\"pl-v\">config</span><span class=\"pl-k\">=</span>tf.ConfigProto(<span class=\"pl-v\">log_device_placement</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>)) <span class=\"pl-k\">as</span> sess:\n    <span class=\"pl-c1\">print</span>(sess.run(a <span class=\"pl-k\">+</span> b))</pre></div>\n<p>and I encountered this <code>Could not satisfy explicit device specification '/job:ps/task:1'</code> error.</p>\n<p>Then I changed to</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">with</span> tf.device(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/job:ps/task:0<span class=\"pl-pds\">'</span></span>):\n    <span class=\"pl-k\">with</span> tf.device(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/cpu:0<span class=\"pl-pds\">'</span></span>):\n        a <span class=\"pl-k\">=</span> tf.constant(<span class=\"pl-c1\">100</span>)\n\n<span class=\"pl-k\">with</span> tf.device(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/job:ps/task:1<span class=\"pl-pds\">'</span></span>):\n    <span class=\"pl-k\">with</span> tf.device(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/cpu:0<span class=\"pl-pds\">'</span></span>):\n        b <span class=\"pl-k\">=</span> tf.constant(<span class=\"pl-c1\">100</span>)\n\n<span class=\"pl-k\">with</span> tf.Session(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>grpc://10.201.106.12:2222<span class=\"pl-pds\">'</span></span>, <span class=\"pl-v\">config</span><span class=\"pl-k\">=</span>tf.ConfigProto(<span class=\"pl-v\">log_device_placement</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>)) <span class=\"pl-k\">as</span> sess:\n    <span class=\"pl-c1\">print</span>(sess.run(a <span class=\"pl-k\">+</span> b))</pre></div>\n<p>but I still have this error.</p>\n<p>Am I getting the workaround right? Thanks!</p>", "body_text": "Previously I had\nwith tf.device('/job:ps/task:0'):\n    a = tf.constant(100)\n\nwith tf.device('/job:ps/task:1'):\n    b = tf.constant(100)\n\nwith tf.Session('grpc://10.201.106.12:2222', config=tf.ConfigProto(log_device_placement=True)) as sess:\n    print(sess.run(a + b))\nand I encountered this Could not satisfy explicit device specification '/job:ps/task:1' error.\nThen I changed to\nwith tf.device('/job:ps/task:0'):\n    with tf.device('/cpu:0'):\n        a = tf.constant(100)\n\nwith tf.device('/job:ps/task:1'):\n    with tf.device('/cpu:0'):\n        b = tf.constant(100)\n\nwith tf.Session('grpc://10.201.106.12:2222', config=tf.ConfigProto(log_device_placement=True)) as sess:\n    print(sess.run(a + b))\nbut I still have this error.\nAm I getting the workaround right? Thanks!", "body": "Previously I had\n\n``` python\nwith tf.device('/job:ps/task:0'):\n    a = tf.constant(100)\n\nwith tf.device('/job:ps/task:1'):\n    b = tf.constant(100)\n\nwith tf.Session('grpc://10.201.106.12:2222', config=tf.ConfigProto(log_device_placement=True)) as sess:\n    print(sess.run(a + b))\n```\n\nand I encountered this `Could not satisfy explicit device specification '/job:ps/task:1'` error.\n\nThen I changed to\n\n``` python\nwith tf.device('/job:ps/task:0'):\n    with tf.device('/cpu:0'):\n        a = tf.constant(100)\n\nwith tf.device('/job:ps/task:1'):\n    with tf.device('/cpu:0'):\n        b = tf.constant(100)\n\nwith tf.Session('grpc://10.201.106.12:2222', config=tf.ConfigProto(log_device_placement=True)) as sess:\n    print(sess.run(a + b))\n```\n\nbut I still have this error.\n\nAm I getting the workaround right? Thanks!\n"}