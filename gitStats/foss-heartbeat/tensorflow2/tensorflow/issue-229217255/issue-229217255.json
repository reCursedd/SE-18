{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9951", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9951/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9951/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9951/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9951", "id": 229217255, "node_id": "MDU6SXNzdWUyMjkyMTcyNTU=", "number": 9951, "title": "Would you please accomodate for building tensorflow with a custom clang (4.0.0) and libc++ instead of stdlibc++? ", "user": {"login": "HFTrader", "id": 11621271, "node_id": "MDQ6VXNlcjExNjIxMjcx", "avatar_url": "https://avatars1.githubusercontent.com/u/11621271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HFTrader", "html_url": "https://github.com/HFTrader", "followers_url": "https://api.github.com/users/HFTrader/followers", "following_url": "https://api.github.com/users/HFTrader/following{/other_user}", "gists_url": "https://api.github.com/users/HFTrader/gists{/gist_id}", "starred_url": "https://api.github.com/users/HFTrader/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HFTrader/subscriptions", "organizations_url": "https://api.github.com/users/HFTrader/orgs", "repos_url": "https://api.github.com/users/HFTrader/repos", "events_url": "https://api.github.com/users/HFTrader/events{/privacy}", "received_events_url": "https://api.github.com/users/HFTrader/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-17T02:02:35Z", "updated_at": "2017-06-05T02:08:27Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I have a custom clang with additional optimization passes but I cant get TS compiled with it.</p>\n<p>$ bazel build --cxxopt=-std=c++11 --cxxopt=-stdlib=libc++ tensorflow:libtensorflow.so<br>\nINFO: Found 1 target...<br>\nINFO: From Compiling external/protobuf/src/google/protobuf/compiler/js/embed.cc [for host]:<br>\nexternal/protobuf/src/google/protobuf/compiler/js/embed.cc:37:12: warning: unused variable 'output_file' [-Wunused-const-variable]<br>\nconst char output_file[] = \"well_known_types_embed.cc\";<br>\n^<br>\n1 warning generated.<br>\nERROR: /home/hbucher/.cache/bazel/_bazel_hbucher/ad427c7fddd5b68de5e1cfaa7cd8c8cc/external/com_googlesource_code_re2/BUILD:11:1: undeclared inclusion(s) in rule '@com_googlesource_code_re2//:re2':<br>\nthis rule is missing dependency declarations for the following files included by 'external/com_googlesource_code_re2/re2/bitstate.cc':<br>\n'/home/hbucher/install/include/c++/v1/stddef.h'<br>\n'/home/hbucher/install/include/c++/v1/__config'</p>", "body_text": "I have a custom clang with additional optimization passes but I cant get TS compiled with it.\n$ bazel build --cxxopt=-std=c++11 --cxxopt=-stdlib=libc++ tensorflow:libtensorflow.so\nINFO: Found 1 target...\nINFO: From Compiling external/protobuf/src/google/protobuf/compiler/js/embed.cc [for host]:\nexternal/protobuf/src/google/protobuf/compiler/js/embed.cc:37:12: warning: unused variable 'output_file' [-Wunused-const-variable]\nconst char output_file[] = \"well_known_types_embed.cc\";\n^\n1 warning generated.\nERROR: /home/hbucher/.cache/bazel/_bazel_hbucher/ad427c7fddd5b68de5e1cfaa7cd8c8cc/external/com_googlesource_code_re2/BUILD:11:1: undeclared inclusion(s) in rule '@com_googlesource_code_re2//:re2':\nthis rule is missing dependency declarations for the following files included by 'external/com_googlesource_code_re2/re2/bitstate.cc':\n'/home/hbucher/install/include/c++/v1/stddef.h'\n'/home/hbucher/install/include/c++/v1/__config'", "body": "I have a custom clang with additional optimization passes but I cant get TS compiled with it. \r\n\r\n$ bazel build --cxxopt=-std=c++11 --cxxopt=-stdlib=libc++ tensorflow:libtensorflow.so\r\nINFO: Found 1 target...\r\nINFO: From Compiling external/protobuf/src/google/protobuf/compiler/js/embed.cc [for host]:\r\nexternal/protobuf/src/google/protobuf/compiler/js/embed.cc:37:12: warning: unused variable 'output_file' [-Wunused-const-variable]\r\nconst char output_file[] = \"well_known_types_embed.cc\";\r\n           ^\r\n1 warning generated.\r\nERROR: /home/hbucher/.cache/bazel/_bazel_hbucher/ad427c7fddd5b68de5e1cfaa7cd8c8cc/external/com_googlesource_code_re2/BUILD:11:1: undeclared inclusion(s) in rule '@com_googlesource_code_re2//:re2':\r\nthis rule is missing dependency declarations for the following files included by 'external/com_googlesource_code_re2/re2/bitstate.cc':\r\n  '/home/hbucher/install/include/c++/v1/stddef.h'\r\n  '/home/hbucher/install/include/c++/v1/__config'"}