{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17471", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17471/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17471/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17471/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17471", "id": 302599565, "node_id": "MDU6SXNzdWUzMDI1OTk1NjU=", "number": 17471, "title": "Feature request: tf.data.Dataset.unordered_merge()", "user": {"login": "deasuke", "id": 1057390, "node_id": "MDQ6VXNlcjEwNTczOTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1057390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deasuke", "html_url": "https://github.com/deasuke", "followers_url": "https://api.github.com/users/deasuke/followers", "following_url": "https://api.github.com/users/deasuke/following{/other_user}", "gists_url": "https://api.github.com/users/deasuke/gists{/gist_id}", "starred_url": "https://api.github.com/users/deasuke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deasuke/subscriptions", "organizations_url": "https://api.github.com/users/deasuke/orgs", "repos_url": "https://api.github.com/users/deasuke/repos", "events_url": "https://api.github.com/users/deasuke/events{/privacy}", "received_events_url": "https://api.github.com/users/deasuke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-06T08:03:01Z", "updated_at": "2018-03-16T09:19:34Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>We're dealing with sequence models and we are bucketing training data by using<br>\n<code>tf.contrib.data.group_by_window.</code><br>\nHowever, it's sequential by nature and too slow.<br>\nSo we want to call it in parallel giving up completeness of shuffle. The <code>tf.data.Dataset</code> API has<br>\n<code>shard</code> operation, however, it doesn't have <code>unordered_merge.</code> The <code>zip</code> operation waits all coming datasets and so isn't useful for this purpose. unordered_merge takes data from any comming dataset ready. It can be used to parallelize data flows.</p>\n<h2>Following is only for satisfying the format; This request is independent of the System Information.</h2>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: YES</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source, HEAD of master 20180226</li>\n<li><strong>TensorFlow version (use command below)</strong>:source, HEAD of master 20180226</li>\n<li><strong>Python version</strong>: 3.5.2</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.10.0; installed by bazel-0.10.0-installer-linux-x86_64.sh</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:4.8.5</li>\n<li><strong>CUDA/cuDNN version</strong>:V9.1.85</li>\n<li><strong>GPU model and memory</strong>:Tesla V100/16GB</li>\n<li><strong>Exact command to reproduce</strong>:N/A</li>\n</ul>", "body_text": "We're dealing with sequence models and we are bucketing training data by using\ntf.contrib.data.group_by_window.\nHowever, it's sequential by nature and too slow.\nSo we want to call it in parallel giving up completeness of shuffle. The tf.data.Dataset API has\nshard operation, however, it doesn't have unordered_merge. The zip operation waits all coming datasets and so isn't useful for this purpose. unordered_merge takes data from any comming dataset ready. It can be used to parallelize data flows.\nFollowing is only for satisfying the format; This request is independent of the System Information.\nSystem information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): YES\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary): source, HEAD of master 20180226\nTensorFlow version (use command below):source, HEAD of master 20180226\nPython version: 3.5.2\nBazel version (if compiling from source): 0.10.0; installed by bazel-0.10.0-installer-linux-x86_64.sh\nGCC/Compiler version (if compiling from source):4.8.5\nCUDA/cuDNN version:V9.1.85\nGPU model and memory:Tesla V100/16GB\nExact command to reproduce:N/A", "body": "We're dealing with sequence models and we are bucketing training data by using\r\n`tf.contrib.data.group_by_window.`\r\nHowever, it's sequential by nature and too slow. \r\nSo we want to call it in parallel giving up completeness of shuffle. The `tf.data.Dataset` API has\r\n`shard` operation, however, it doesn't have `unordered_merge.` The `zip` operation waits all coming datasets and so isn't useful for this purpose. unordered_merge takes data from any comming dataset ready. It can be used to parallelize data flows.\r\n\r\n\r\nFollowing is only for satisfying the format; This request is independent of the System Information.\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: YES\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source, HEAD of master 20180226\r\n- **TensorFlow version (use command below)**:source, HEAD of master 20180226\r\n- **Python version**: 3.5.2\r\n- **Bazel version (if compiling from source)**: 0.10.0; installed by bazel-0.10.0-installer-linux-x86_64.sh\r\n- **GCC/Compiler version (if compiling from source)**:4.8.5\r\n- **CUDA/cuDNN version**:V9.1.85\r\n- **GPU model and memory**:Tesla V100/16GB\r\n- **Exact command to reproduce**:N/A\r\n\r\n"}