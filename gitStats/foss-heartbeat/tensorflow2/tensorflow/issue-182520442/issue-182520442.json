{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4913", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4913/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4913/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4913/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4913", "id": 182520442, "node_id": "MDU6SXNzdWUxODI1MjA0NDI=", "number": 4913, "title": "Saver returning paths that cause GetMatchingPaths to go digging around in parent dirs", "user": {"login": "osdf", "id": 193341, "node_id": "MDQ6VXNlcjE5MzM0MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/193341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osdf", "html_url": "https://github.com/osdf", "followers_url": "https://api.github.com/users/osdf/followers", "following_url": "https://api.github.com/users/osdf/following{/other_user}", "gists_url": "https://api.github.com/users/osdf/gists{/gist_id}", "starred_url": "https://api.github.com/users/osdf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osdf/subscriptions", "organizations_url": "https://api.github.com/users/osdf/orgs", "repos_url": "https://api.github.com/users/osdf/repos", "events_url": "https://api.github.com/users/osdf/events{/privacy}", "received_events_url": "https://api.github.com/users/osdf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2016-10-12T13:05:47Z", "updated_at": "2017-02-09T22:02:06Z", "closed_at": "2017-01-06T01:32:25Z", "author_association": "NONE", "body_html": "<p>Note: This works without problems in 0.10.0rc0 (default pip install-ed according to website).</p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nUbuntu 15.10</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<pre><code>-rw-r--r-- 1 root root 189170 Jan  1  2016 /usr/local/cuda/lib/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Jan  1  2016 /usr/local/cuda/lib/libcudart.so -&gt; libcudart.so.7.5\nlrwxrwxrwx 1 root root     19 Jan  1  2016 /usr/local/cuda/lib/libcudart.so.7.5 -&gt; libcudart.so.7.5.18\n-rwxr-xr-x 1 root root 311596 Jan  1  2016 /usr/local/cuda/lib/libcudart.so.7.5.18\n-rw-r--r-- 1 root root 558020 Jan  1  2016 /usr/local/cuda/lib/libcudart_static.a\n</code></pre>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed. Tried with two packages:\n<ul>\n<li><code>https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/lastSuccessfulBuild/artifact/pip_test/whl/tensorflow-0.11.0rc0-cp27-none-linux_x86_64.whl   </code></li>\n<li><code>https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc0-cp27-none-linux_x86_64.whl</code></li>\n</ul>\n</li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<pre><code>I tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcurand.so locally\n0.11.0rc0\n</code></pre>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<h3>What other attempted solutions have you tried?</h3>\n<h3>Logs or other output that would be helpful</h3>\n<p>Relevant part of error (the file <code>/tmp/6d7079c109e5_0-saver_853</code> is supposed to be loaded by <code>self.saver.restore</code> (tf.Saver instance), it exists).</p>\n<pre><code>Parameters according to early stopping: /tmp/6d7079c109e5_0-saver_853\nTraining finished after 854/854 iterations.\nTraceback (most recent call last):\n  File \"run.py\", line 297, in &lt;module&gt;\n    run(config)\n  File \"step.py\", line 109, in run\n    step(config=config)\n  File \"step.py\", line 237, in  step\n    model.fit(dset, config)\n  File \"model.py\", line 210, in fit\n    self.saver.restore(self.sess, save_path=early_stop_name)\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1360, in restore\n    if not file_io.get_matching_files(file_path):\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/lib/io/file_io.py\", line 254, in get_matching_files\n    compat.as_bytes(filename), status)]\n  File \"/anaconda/lib/python2.7/contextlib.py\", line 24, in __exit__\n    self.gen.next()\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/errors.py\", line 463, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.PermissionDeniedError: /tmp/systemd-private-a9da6f279d7b4869b7f687b66db5c7dd-rtkit-daemon.service-xozhXc\n</code></pre>\n<p>After restarting the computer and re-running the above, the <code>PermessionDeniedError</code> now points at <code>tensorflow.python.framework.errors.PermissionDeniedError: /tmp/systemd-private-bc171111db824721b4f4cec0e0a363ec-systemd-timesyncd.service-MARv8I</code></p>", "body_text": "Note: This works without problems in 0.10.0rc0 (default pip install-ed according to website).\nEnvironment info\nOperating System:\nUbuntu 15.10\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n-rw-r--r-- 1 root root 189170 Jan  1  2016 /usr/local/cuda/lib/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Jan  1  2016 /usr/local/cuda/lib/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root     19 Jan  1  2016 /usr/local/cuda/lib/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root 311596 Jan  1  2016 /usr/local/cuda/lib/libcudart.so.7.5.18\n-rw-r--r-- 1 root root 558020 Jan  1  2016 /usr/local/cuda/lib/libcudart_static.a\n\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed. Tried with two packages:\n\nhttps://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/lastSuccessfulBuild/artifact/pip_test/whl/tensorflow-0.11.0rc0-cp27-none-linux_x86_64.whl   \nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc0-cp27-none-linux_x86_64.whl\n\n\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcurand.so locally\n0.11.0rc0\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nWhat other attempted solutions have you tried?\nLogs or other output that would be helpful\nRelevant part of error (the file /tmp/6d7079c109e5_0-saver_853 is supposed to be loaded by self.saver.restore (tf.Saver instance), it exists).\nParameters according to early stopping: /tmp/6d7079c109e5_0-saver_853\nTraining finished after 854/854 iterations.\nTraceback (most recent call last):\n  File \"run.py\", line 297, in <module>\n    run(config)\n  File \"step.py\", line 109, in run\n    step(config=config)\n  File \"step.py\", line 237, in  step\n    model.fit(dset, config)\n  File \"model.py\", line 210, in fit\n    self.saver.restore(self.sess, save_path=early_stop_name)\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1360, in restore\n    if not file_io.get_matching_files(file_path):\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/lib/io/file_io.py\", line 254, in get_matching_files\n    compat.as_bytes(filename), status)]\n  File \"/anaconda/lib/python2.7/contextlib.py\", line 24, in __exit__\n    self.gen.next()\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/errors.py\", line 463, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.PermissionDeniedError: /tmp/systemd-private-a9da6f279d7b4869b7f687b66db5c7dd-rtkit-daemon.service-xozhXc\n\nAfter restarting the computer and re-running the above, the PermessionDeniedError now points at tensorflow.python.framework.errors.PermissionDeniedError: /tmp/systemd-private-bc171111db824721b4f4cec0e0a363ec-systemd-timesyncd.service-MARv8I", "body": "Note: This works without problems in 0.10.0rc0 (default pip install-ed according to website).\n### Environment info\n\nOperating System:\nUbuntu 15.10\n\nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\n```\n-rw-r--r-- 1 root root 189170 Jan  1  2016 /usr/local/cuda/lib/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Jan  1  2016 /usr/local/cuda/lib/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root     19 Jan  1  2016 /usr/local/cuda/lib/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root 311596 Jan  1  2016 /usr/local/cuda/lib/libcudart.so.7.5.18\n-rw-r--r-- 1 root root 558020 Jan  1  2016 /usr/local/cuda/lib/libcudart_static.a\n```\n\nIf installed from binary pip package, provide:\n1. A link to the pip package you installed. Tried with two packages:\n   -  `https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=gpu-linux/lastSuccessfulBuild/artifact/pip_test/whl/tensorflow-0.11.0rc0-cp27-none-linux_x86_64.whl\n     `\n   -  `https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc0-cp27-none-linux_x86_64.whl`\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\n\n```\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:116] successfully opened CUDA library libcurand.so locally\n0.11.0rc0\n```\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n### What other attempted solutions have you tried?\n### Logs or other output that would be helpful\n\nRelevant part of error (the file `/tmp/6d7079c109e5_0-saver_853` is supposed to be loaded by `self.saver.restore` (tf.Saver instance), it exists).\n\n```\nParameters according to early stopping: /tmp/6d7079c109e5_0-saver_853\nTraining finished after 854/854 iterations.\nTraceback (most recent call last):\n  File \"run.py\", line 297, in <module>\n    run(config)\n  File \"step.py\", line 109, in run\n    step(config=config)\n  File \"step.py\", line 237, in  step\n    model.fit(dset, config)\n  File \"model.py\", line 210, in fit\n    self.saver.restore(self.sess, save_path=early_stop_name)\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1360, in restore\n    if not file_io.get_matching_files(file_path):\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/lib/io/file_io.py\", line 254, in get_matching_files\n    compat.as_bytes(filename), status)]\n  File \"/anaconda/lib/python2.7/contextlib.py\", line 24, in __exit__\n    self.gen.next()\n  File \"/anaconda/lib/python2.7/site-packages/tensorflow/python/framework/errors.py\", line 463, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.PermissionDeniedError: /tmp/systemd-private-a9da6f279d7b4869b7f687b66db5c7dd-rtkit-daemon.service-xozhXc\n```\n\nAfter restarting the computer and re-running the above, the `PermessionDeniedError` now points at `tensorflow.python.framework.errors.PermissionDeniedError: /tmp/systemd-private-bc171111db824721b4f4cec0e0a363ec-systemd-timesyncd.service-MARv8I`\n"}