{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/286829911", "html_url": "https://github.com/tensorflow/tensorflow/issues/8208#issuecomment-286829911", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8208", "id": 286829911, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjgyOTkxMQ==", "user": {"login": "brianhayward", "id": 2965270, "node_id": "MDQ6VXNlcjI5NjUyNzA=", "avatar_url": "https://avatars3.githubusercontent.com/u/2965270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianhayward", "html_url": "https://github.com/brianhayward", "followers_url": "https://api.github.com/users/brianhayward/followers", "following_url": "https://api.github.com/users/brianhayward/following{/other_user}", "gists_url": "https://api.github.com/users/brianhayward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianhayward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianhayward/subscriptions", "organizations_url": "https://api.github.com/users/brianhayward/orgs", "repos_url": "https://api.github.com/users/brianhayward/repos", "events_url": "https://api.github.com/users/brianhayward/events{/privacy}", "received_events_url": "https://api.github.com/users/brianhayward/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-15T18:05:44Z", "updated_at": "2017-03-15T18:05:44Z", "author_association": "NONE", "body_html": "<p>I made the changes to the makefile that you suggested, I got the compilation to at least start, but I've run into a some issues that I'm not sure how to deal with. First I'm getting clang warnings about using sysroot for 'iPhoneOS but targeting Watch'  I'm not sure if these warnings are fatal though. The second issue is that I'm getting errors that fork and execv are not available in watchOS.</p>\n<p>I have included the compilation warnings and errors below:</p>\n<div class=\"highlight highlight-source-shell\"><pre>clang: warning: using sysroot <span class=\"pl-k\">for</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iPhoneOS<span class=\"pl-pds\">'</span></span> but targeting <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Watch<span class=\"pl-pds\">'</span></span>\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mwatchos-version-min=1.0 -arch armv7k -fembed-bitcode -D__thread= -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -mno-thumb -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk -MT /Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/util/bcast.o -MMD -MP -MF /Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/dep/ios_ARMV7K//tensorflow/core/util/bcast.Td -I. -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/downloads/ -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/downloads/eigen -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/downloads/gemmlowp -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/proto/ -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/proto_text/ -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/util/bcast.cc -o /Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/util/bcast.o\nclang: warning: using sysroot <span class=\"pl-k\">for</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iPhoneOS<span class=\"pl-pds\">'</span></span> but targeting <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Watch<span class=\"pl-pds\">'</span></span>\ntensorflow/core/platform/posix/subprocess.cc:204:10: error: call to unavailable <span class=\"pl-k\">function</span> <span class=\"pl-en\">'fork':</span> not available on watchOS\n  pid_ = <span class=\"pl-en\">fork</span>();\n         ^~~~\n/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk/usr/include/unistd.h:446:8: note: candidate <span class=\"pl-k\">function</span> <span class=\"pl-en\">has</span> been explicitly made unavailable\npid_t    fork(void) __WATCHOS_PROHIBITED __TVOS_PROHIBITED<span class=\"pl-k\">;</span>\n         ^\ntensorflow/core/platform/posix/subprocess.cc:277:3: error: call to unavailable <span class=\"pl-k\">function</span> <span class=\"pl-en\">'execv':</span> not available on watchOS\n  execv(exec_path_, exec_argv_)<span class=\"pl-k\">;</span>\n  ^~~~~\n/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk/usr/include/unistd.h:443:6: note: candidate <span class=\"pl-k\">function</span> <span class=\"pl-en\">has</span> been explicitly made unavailable\nint      execv(const char <span class=\"pl-k\">*</span> __path, char <span class=\"pl-k\">*</span> const <span class=\"pl-k\">*</span> __argv) __WATCHOS_PROHIBITED __TVOS_PROHIBITED<span class=\"pl-k\">;</span>\n         ^\n2 errors generated.\nmake: <span class=\"pl-k\">***</span> [/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/platform/posix/subprocess.o] Error 1\nmake: <span class=\"pl-k\">***</span> Waiting <span class=\"pl-k\">for</span> unfinished jobs....\n+ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>[<span class=\"pl-pds\">'</span></span> 2 -ne 0 <span class=\"pl-s\"><span class=\"pl-pds\">'</span>]<span class=\"pl-pds\">'</span></span>\n+ <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>armv7k compilation failed.<span class=\"pl-pds\">'</span></span>\n\narmv7k compilation failed.\n+ <span class=\"pl-c1\">exit</span> 1</pre></div>", "body_text": "I made the changes to the makefile that you suggested, I got the compilation to at least start, but I've run into a some issues that I'm not sure how to deal with. First I'm getting clang warnings about using sysroot for 'iPhoneOS but targeting Watch'  I'm not sure if these warnings are fatal though. The second issue is that I'm getting errors that fork and execv are not available in watchOS.\nI have included the compilation warnings and errors below:\nclang: warning: using sysroot for 'iPhoneOS' but targeting 'Watch'\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mwatchos-version-min=1.0 -arch armv7k -fembed-bitcode -D__thread= -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -mno-thumb -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk -MT /Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/util/bcast.o -MMD -MP -MF /Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/dep/ios_ARMV7K//tensorflow/core/util/bcast.Td -I. -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/downloads/ -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/downloads/eigen -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/downloads/gemmlowp -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/proto/ -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/proto_text/ -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/util/bcast.cc -o /Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/util/bcast.o\nclang: warning: using sysroot for 'iPhoneOS' but targeting 'Watch'\ntensorflow/core/platform/posix/subprocess.cc:204:10: error: call to unavailable function 'fork': not available on watchOS\n  pid_ = fork();\n         ^~~~\n/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk/usr/include/unistd.h:446:8: note: candidate function has been explicitly made unavailable\npid_t    fork(void) __WATCHOS_PROHIBITED __TVOS_PROHIBITED;\n         ^\ntensorflow/core/platform/posix/subprocess.cc:277:3: error: call to unavailable function 'execv': not available on watchOS\n  execv(exec_path_, exec_argv_);\n  ^~~~~\n/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk/usr/include/unistd.h:443:6: note: candidate function has been explicitly made unavailable\nint      execv(const char * __path, char * const * __argv) __WATCHOS_PROHIBITED __TVOS_PROHIBITED;\n         ^\n2 errors generated.\nmake: *** [/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/platform/posix/subprocess.o] Error 1\nmake: *** Waiting for unfinished jobs....\n+ '[' 2 -ne 0 ']'\n+ echo 'armv7k compilation failed.'\n\narmv7k compilation failed.\n+ exit 1", "body": "I made the changes to the makefile that you suggested, I got the compilation to at least start, but I've run into a some issues that I'm not sure how to deal with. First I'm getting clang warnings about using sysroot for 'iPhoneOS but targeting Watch'  I'm not sure if these warnings are fatal though. The second issue is that I'm getting errors that fork and execv are not available in watchOS.\r\n\r\nI have included the compilation warnings and errors below:\r\n\r\n```shell\r\nclang: warning: using sysroot for 'iPhoneOS' but targeting 'Watch'\r\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mwatchos-version-min=1.0 -arch armv7k -fembed-bitcode -D__thread= -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -mno-thumb -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk -MT /Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/util/bcast.o -MMD -MP -MF /Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/dep/ios_ARMV7K//tensorflow/core/util/bcast.Td -I. -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/downloads/ -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/downloads/eigen -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/downloads/gemmlowp -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/proto/ -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/proto_text/ -I/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/util/bcast.cc -o /Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/util/bcast.o\r\nclang: warning: using sysroot for 'iPhoneOS' but targeting 'Watch'\r\ntensorflow/core/platform/posix/subprocess.cc:204:10: error: call to unavailable function 'fork': not available on watchOS\r\n  pid_ = fork();\r\n         ^~~~\r\n/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk/usr/include/unistd.h:446:8: note: candidate function has been explicitly made unavailable\r\npid_t    fork(void) __WATCHOS_PROHIBITED __TVOS_PROHIBITED;\r\n         ^\r\ntensorflow/core/platform/posix/subprocess.cc:277:3: error: call to unavailable function 'execv': not available on watchOS\r\n  execv(exec_path_, exec_argv_);\r\n  ^~~~~\r\n/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk/usr/include/unistd.h:443:6: note: candidate function has been explicitly made unavailable\r\nint      execv(const char * __path, char * const * __argv) __WATCHOS_PROHIBITED __TVOS_PROHIBITED;\r\n         ^\r\n2 errors generated.\r\nmake: *** [/Users/brianhayward/Documents/projects/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/platform/posix/subprocess.o] Error 1\r\nmake: *** Waiting for unfinished jobs....\r\n+ '[' 2 -ne 0 ']'\r\n+ echo 'armv7k compilation failed.'\r\n\r\narmv7k compilation failed.\r\n+ exit 1\r\n```"}