{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/287486077", "html_url": "https://github.com/tensorflow/tensorflow/issues/8208#issuecomment-287486077", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8208", "id": 287486077, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzQ4NjA3Nw==", "user": {"login": "brianhayward", "id": 2965270, "node_id": "MDQ6VXNlcjI5NjUyNzA=", "avatar_url": "https://avatars3.githubusercontent.com/u/2965270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianhayward", "html_url": "https://github.com/brianhayward", "followers_url": "https://api.github.com/users/brianhayward/followers", "following_url": "https://api.github.com/users/brianhayward/following{/other_user}", "gists_url": "https://api.github.com/users/brianhayward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianhayward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianhayward/subscriptions", "organizations_url": "https://api.github.com/users/brianhayward/orgs", "repos_url": "https://api.github.com/users/brianhayward/repos", "events_url": "https://api.github.com/users/brianhayward/events{/privacy}", "received_events_url": "https://api.github.com/users/brianhayward/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-17T22:23:09Z", "updated_at": "2017-03-17T22:23:09Z", "author_association": "NONE", "body_html": "<p>I stubbed out the calls to fork() and execv() for the watch compilation and that worked for those errors. Now the problem is that WatchOS doesn't have the accelerate framework as part of its sdk.  I'm now getting a failure from files that are trying to include Accelerate.h. I'm guessing that any computations that require the functions from the accelerate framework would have to be re-written for WatchOS.</p>\n<p>These are the error I'm getting now:</p>\n<div class=\"highlight highlight-source-shell\"><pre>gcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mwatchos-version-min=1.0 -arch armv7k -fembed-bitcode -D__thread= -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -mno-thumb -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/WatchOS.platform/Developer/SDKs/WatchOS3.1.sdk -MT /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/concat_lib_cpu.o -MMD -MP -MF /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/dep/ios_ARMV7K//tensorflow/core/kernels/concat_lib_cpu.Td -I. -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/eigen -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/gemmlowp -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto_text/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/kernels/concat_lib_cpu.cc -o /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/concat_lib_cpu.o\nIn file included from tensorflow/core/kernels/conv_ops_using_gemm.cc:62:\n./tensorflow/core/kernels/gemm_functors.h:37:10: fatal error: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Accelerate/Accelerate.h<span class=\"pl-pds\">'</span></span> file not found\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>include &lt;Accelerate/Accelerate.h&gt;</span>\n         ^\n1 error generated.\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mwatchos-version-min=1.0 -arch armv7k -fembed-bitcode -D__thread= -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -mno-thumb -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/WatchOS.platform/Developer/SDKs/WatchOS3.1.sdk -MT /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/check_numerics_op.o -MMD -MP -MF /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/dep/ios_ARMV7K//tensorflow/core/kernels/check_numerics_op.Td -I. -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/eigen -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/gemmlowp -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto_text/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/kernels/check_numerics_op.cc -o /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/check_numerics_op.o\nmake: <span class=\"pl-k\">***</span> [/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/conv_ops_using_gemm.o] Error 1\nmake: <span class=\"pl-k\">***</span> Waiting <span class=\"pl-k\">for</span> unfinished jobs....\nIn file included from tensorflow/core/kernels/conv_ops_fused.cc:34:\n./tensorflow/core/kernels/gemm_functors.h:37:10: fatal error: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Accelerate/Accelerate.h<span class=\"pl-pds\">'</span></span> file not found\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>include &lt;Accelerate/Accelerate.h&gt;</span>\n         ^\n1 error generated.\nmake: <span class=\"pl-k\">***</span> [/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/conv_ops_fused.o] Error 1\n+ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>[<span class=\"pl-pds\">'</span></span> 2 -ne 0 <span class=\"pl-s\"><span class=\"pl-pds\">'</span>]<span class=\"pl-pds\">'</span></span>\n+ <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>armv7k compilation failed.<span class=\"pl-pds\">'</span></span>\narmv7k compilation failed.\n+ <span class=\"pl-c1\">exit</span> 1</pre></div>", "body_text": "I stubbed out the calls to fork() and execv() for the watch compilation and that worked for those errors. Now the problem is that WatchOS doesn't have the accelerate framework as part of its sdk.  I'm now getting a failure from files that are trying to include Accelerate.h. I'm guessing that any computations that require the functions from the accelerate framework would have to be re-written for WatchOS.\nThese are the error I'm getting now:\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mwatchos-version-min=1.0 -arch armv7k -fembed-bitcode -D__thread= -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -mno-thumb -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/WatchOS.platform/Developer/SDKs/WatchOS3.1.sdk -MT /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/concat_lib_cpu.o -MMD -MP -MF /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/dep/ios_ARMV7K//tensorflow/core/kernels/concat_lib_cpu.Td -I. -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/eigen -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/gemmlowp -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto_text/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/kernels/concat_lib_cpu.cc -o /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/concat_lib_cpu.o\nIn file included from tensorflow/core/kernels/conv_ops_using_gemm.cc:62:\n./tensorflow/core/kernels/gemm_functors.h:37:10: fatal error: 'Accelerate/Accelerate.h' file not found\n#include <Accelerate/Accelerate.h>\n         ^\n1 error generated.\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mwatchos-version-min=1.0 -arch armv7k -fembed-bitcode -D__thread= -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -mno-thumb -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/WatchOS.platform/Developer/SDKs/WatchOS3.1.sdk -MT /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/check_numerics_op.o -MMD -MP -MF /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/dep/ios_ARMV7K//tensorflow/core/kernels/check_numerics_op.Td -I. -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/eigen -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/gemmlowp -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto_text/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/kernels/check_numerics_op.cc -o /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/check_numerics_op.o\nmake: *** [/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/conv_ops_using_gemm.o] Error 1\nmake: *** Waiting for unfinished jobs....\nIn file included from tensorflow/core/kernels/conv_ops_fused.cc:34:\n./tensorflow/core/kernels/gemm_functors.h:37:10: fatal error: 'Accelerate/Accelerate.h' file not found\n#include <Accelerate/Accelerate.h>\n         ^\n1 error generated.\nmake: *** [/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/conv_ops_fused.o] Error 1\n+ '[' 2 -ne 0 ']'\n+ echo 'armv7k compilation failed.'\narmv7k compilation failed.\n+ exit 1", "body": "I stubbed out the calls to fork() and execv() for the watch compilation and that worked for those errors. Now the problem is that WatchOS doesn't have the accelerate framework as part of its sdk.  I'm now getting a failure from files that are trying to include Accelerate.h. I'm guessing that any computations that require the functions from the accelerate framework would have to be re-written for WatchOS.\r\n\r\nThese are the error I'm getting now:\r\n```shell\r\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mwatchos-version-min=1.0 -arch armv7k -fembed-bitcode -D__thread= -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -mno-thumb -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/WatchOS.platform/Developer/SDKs/WatchOS3.1.sdk -MT /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/concat_lib_cpu.o -MMD -MP -MF /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/dep/ios_ARMV7K//tensorflow/core/kernels/concat_lib_cpu.Td -I. -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/eigen -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/gemmlowp -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto_text/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/kernels/concat_lib_cpu.cc -o /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/concat_lib_cpu.o\r\nIn file included from tensorflow/core/kernels/conv_ops_using_gemm.cc:62:\r\n./tensorflow/core/kernels/gemm_functors.h:37:10: fatal error: 'Accelerate/Accelerate.h' file not found\r\n#include <Accelerate/Accelerate.h>\r\n         ^\r\n1 error generated.\r\ngcc --std=c++11 -DIS_SLIM_BUILD -fno-exceptions -DNDEBUG -O3 -mwatchos-version-min=1.0 -arch armv7k -fembed-bitcode -D__thread= -DUSE_GEMM_FOR_CONV -Wno-c++11-narrowing -mno-thumb -DTF_LEAN_BINARY -D__ANDROID_TYPES_SLIM__ -fno-exceptions -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/WatchOS.platform/Developer/SDKs/WatchOS3.1.sdk -MT /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/check_numerics_op.o -MMD -MP -MF /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/dep/ios_ARMV7K//tensorflow/core/kernels/check_numerics_op.Td -I. -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/eigen -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/downloads/gemmlowp -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/proto_text/ -I/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/protobuf-host/include -I/usr/local/include -c tensorflow/core/kernels/check_numerics_op.cc -o /Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/check_numerics_op.o\r\nmake: *** [/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/conv_ops_using_gemm.o] Error 1\r\nmake: *** Waiting for unfinished jobs....\r\nIn file included from tensorflow/core/kernels/conv_ops_fused.cc:34:\r\n./tensorflow/core/kernels/gemm_functors.h:37:10: fatal error: 'Accelerate/Accelerate.h' file not found\r\n#include <Accelerate/Accelerate.h>\r\n         ^\r\n1 error generated.\r\nmake: *** [/Volumes/MacintoshHD2/tensorflow-master/tensorflow/contrib/makefile/gen/obj/ios_ARMV7K/tensorflow/core/kernels/conv_ops_fused.o] Error 1\r\n+ '[' 2 -ne 0 ']'\r\n+ echo 'armv7k compilation failed.'\r\narmv7k compilation failed.\r\n+ exit 1\r\n```"}