{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/292607239", "html_url": "https://github.com/tensorflow/tensorflow/issues/8208#issuecomment-292607239", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8208", "id": 292607239, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MjYwNzIzOQ==", "user": {"login": "brianhayward", "id": 2965270, "node_id": "MDQ6VXNlcjI5NjUyNzA=", "avatar_url": "https://avatars3.githubusercontent.com/u/2965270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianhayward", "html_url": "https://github.com/brianhayward", "followers_url": "https://api.github.com/users/brianhayward/followers", "following_url": "https://api.github.com/users/brianhayward/following{/other_user}", "gists_url": "https://api.github.com/users/brianhayward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianhayward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianhayward/subscriptions", "organizations_url": "https://api.github.com/users/brianhayward/orgs", "repos_url": "https://api.github.com/users/brianhayward/repos", "events_url": "https://api.github.com/users/brianhayward/events{/privacy}", "received_events_url": "https://api.github.com/users/brianhayward/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-07T17:55:11Z", "updated_at": "2017-04-07T17:55:11Z", "author_association": "NONE", "body_html": "<p>No worries, I was out sick for the better part of last week so I wasn't making a lot of progress during that time either.</p>\n<p>So I tried with the the linker flags and I got two different outcomes.</p>\n<p>If I use the -force_load option like in the examples I'm getting a clang error saying no such file or directory: 'WatchKit'</p>\n<p>If I used -all_load I get errors about undefined symbols for armv7k</p>\n<pre lang=\"clang\"><code>Undefined symbols for architecture armv7k:\n  \"_deflate\", referenced from:\n      google::protobuf::io::GzipOutputStream::Deflate(int) in libprotobuf.a(gzip_stream.o)\n  \"_inflate\", referenced from:\n      google::protobuf::io::GzipInputStream::Inflate(int) in libprotobuf.a(gzip_stream.o)\n  \"_inflateInit2_\", referenced from:\n      google::protobuf::io::GzipInputStream::Inflate(int) in libprotobuf.a(gzip_stream.o)\n      google::protobuf::io::GzipInputStream::Next(void const**, int*) in libprotobuf.a(gzip_stream.o)\n  \"_deflateEnd\", referenced from:\n      google::protobuf::io::GzipOutputStream::Close() in libprotobuf.a(gzip_stream.o)\n  \"_deflateInit2_\", referenced from:\n      google::protobuf::io::GzipOutputStream::Init(google::protobuf::io::ZeroCopyOutputStream*, google::protobuf::io::GzipOutputStream::Options const&amp;) in libprotobuf.a(gzip_stream.o)\n  \"_inflateEnd\", referenced from:\n      google::protobuf::io::GzipInputStream::~GzipInputStream() in libprotobuf.a(gzip_stream.o)\n      google::protobuf::io::GzipInputStream::Next(void const**, int*) in libprotobuf.a(gzip_stream.o)\nld: symbol(s) not found for architecture armv7k\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n<p>I think -all_load is the right flag to go with, but I'm not sure what I need to change in the tensorflow build script to get symbols for these.</p>", "body_text": "No worries, I was out sick for the better part of last week so I wasn't making a lot of progress during that time either.\nSo I tried with the the linker flags and I got two different outcomes.\nIf I use the -force_load option like in the examples I'm getting a clang error saying no such file or directory: 'WatchKit'\nIf I used -all_load I get errors about undefined symbols for armv7k\nUndefined symbols for architecture armv7k:\n  \"_deflate\", referenced from:\n      google::protobuf::io::GzipOutputStream::Deflate(int) in libprotobuf.a(gzip_stream.o)\n  \"_inflate\", referenced from:\n      google::protobuf::io::GzipInputStream::Inflate(int) in libprotobuf.a(gzip_stream.o)\n  \"_inflateInit2_\", referenced from:\n      google::protobuf::io::GzipInputStream::Inflate(int) in libprotobuf.a(gzip_stream.o)\n      google::protobuf::io::GzipInputStream::Next(void const**, int*) in libprotobuf.a(gzip_stream.o)\n  \"_deflateEnd\", referenced from:\n      google::protobuf::io::GzipOutputStream::Close() in libprotobuf.a(gzip_stream.o)\n  \"_deflateInit2_\", referenced from:\n      google::protobuf::io::GzipOutputStream::Init(google::protobuf::io::ZeroCopyOutputStream*, google::protobuf::io::GzipOutputStream::Options const&) in libprotobuf.a(gzip_stream.o)\n  \"_inflateEnd\", referenced from:\n      google::protobuf::io::GzipInputStream::~GzipInputStream() in libprotobuf.a(gzip_stream.o)\n      google::protobuf::io::GzipInputStream::Next(void const**, int*) in libprotobuf.a(gzip_stream.o)\nld: symbol(s) not found for architecture armv7k\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\nI think -all_load is the right flag to go with, but I'm not sure what I need to change in the tensorflow build script to get symbols for these.", "body": "No worries, I was out sick for the better part of last week so I wasn't making a lot of progress during that time either.\r\n\r\nSo I tried with the the linker flags and I got two different outcomes.\r\n\r\nIf I use the -force_load option like in the examples I'm getting a clang error saying no such file or directory: 'WatchKit'\r\n\r\nIf I used -all_load I get errors about undefined symbols for armv7k\r\n\r\n```clang\r\nUndefined symbols for architecture armv7k:\r\n  \"_deflate\", referenced from:\r\n      google::protobuf::io::GzipOutputStream::Deflate(int) in libprotobuf.a(gzip_stream.o)\r\n  \"_inflate\", referenced from:\r\n      google::protobuf::io::GzipInputStream::Inflate(int) in libprotobuf.a(gzip_stream.o)\r\n  \"_inflateInit2_\", referenced from:\r\n      google::protobuf::io::GzipInputStream::Inflate(int) in libprotobuf.a(gzip_stream.o)\r\n      google::protobuf::io::GzipInputStream::Next(void const**, int*) in libprotobuf.a(gzip_stream.o)\r\n  \"_deflateEnd\", referenced from:\r\n      google::protobuf::io::GzipOutputStream::Close() in libprotobuf.a(gzip_stream.o)\r\n  \"_deflateInit2_\", referenced from:\r\n      google::protobuf::io::GzipOutputStream::Init(google::protobuf::io::ZeroCopyOutputStream*, google::protobuf::io::GzipOutputStream::Options const&) in libprotobuf.a(gzip_stream.o)\r\n  \"_inflateEnd\", referenced from:\r\n      google::protobuf::io::GzipInputStream::~GzipInputStream() in libprotobuf.a(gzip_stream.o)\r\n      google::protobuf::io::GzipInputStream::Next(void const**, int*) in libprotobuf.a(gzip_stream.o)\r\nld: symbol(s) not found for architecture armv7k\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n```\r\n\r\nI think -all_load is the right flag to go with, but I'm not sure what I need to change in the tensorflow build script to get symbols for these."}