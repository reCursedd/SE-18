{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/223054072", "html_url": "https://github.com/tensorflow/tensorflow/pull/2440#issuecomment-223054072", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2440", "id": 223054072, "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzA1NDA3Mg==", "user": {"login": "timbrucks", "id": 17724266, "node_id": "MDQ6VXNlcjE3NzI0MjY2", "avatar_url": "https://avatars1.githubusercontent.com/u/17724266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timbrucks", "html_url": "https://github.com/timbrucks", "followers_url": "https://api.github.com/users/timbrucks/followers", "following_url": "https://api.github.com/users/timbrucks/following{/other_user}", "gists_url": "https://api.github.com/users/timbrucks/gists{/gist_id}", "starred_url": "https://api.github.com/users/timbrucks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timbrucks/subscriptions", "organizations_url": "https://api.github.com/users/timbrucks/orgs", "repos_url": "https://api.github.com/users/timbrucks/repos", "events_url": "https://api.github.com/users/timbrucks/events{/privacy}", "received_events_url": "https://api.github.com/users/timbrucks/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-01T16:47:14Z", "updated_at": "2016-06-01T16:47:14Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=161459\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/petewarden\">@petewarden</a> Thanks for your contributions on this: the makefile works as advertised. I am running on OS X and can use this to produce the libtensorflow-core.a. I can build and run the example benchmark tool and it works.</p>\n<p>Now I am trying to create a tool in my development paradigm (which utilizes CMake) that links against this lib. I can load a graph in (using ReadBinaryProto), but when I try to create a TF session like this:</p>\n<blockquote>\n<p>tensorflow::GraphDef reinspect_graph_def;<br>\ntensorflow::Status graph_load_status = ReadBinaryProto(tensorflow::Env::Default(), reinspect_graph_file, &amp;reinspect_graph_def);<br>\n...<br>\ntensorflow::SessionOptions sess_opts;<br>\nstd::unique_ptrtensorflow::Session session_reinspect(tensorflow::NewSession(sess_opts));<br>\ntensorflow::Status session_create_status = session_reinspect-&gt;Create(reinspect_graph_def);</p>\n</blockquote>\n<p>I get this run time error:</p>\n<blockquote>\n<p>E tensorflow/core/common_runtime/session.cc:58] Not found: No session factory registered for the given session options: {target: \"\" config: } Registered factories are {}.<br>\nSegmentation fault: 11</p>\n</blockquote>\n<p>Any idea what us causing that error? My tool links against libtensorflow-core.a as well as the protobuf library that is installed on my machine. Perhaps I need to link against some other libs?</p>", "body_text": "@petewarden Thanks for your contributions on this: the makefile works as advertised. I am running on OS X and can use this to produce the libtensorflow-core.a. I can build and run the example benchmark tool and it works.\nNow I am trying to create a tool in my development paradigm (which utilizes CMake) that links against this lib. I can load a graph in (using ReadBinaryProto), but when I try to create a TF session like this:\n\ntensorflow::GraphDef reinspect_graph_def;\ntensorflow::Status graph_load_status = ReadBinaryProto(tensorflow::Env::Default(), reinspect_graph_file, &reinspect_graph_def);\n...\ntensorflow::SessionOptions sess_opts;\nstd::unique_ptrtensorflow::Session session_reinspect(tensorflow::NewSession(sess_opts));\ntensorflow::Status session_create_status = session_reinspect->Create(reinspect_graph_def);\n\nI get this run time error:\n\nE tensorflow/core/common_runtime/session.cc:58] Not found: No session factory registered for the given session options: {target: \"\" config: } Registered factories are {}.\nSegmentation fault: 11\n\nAny idea what us causing that error? My tool links against libtensorflow-core.a as well as the protobuf library that is installed on my machine. Perhaps I need to link against some other libs?", "body": "@petewarden Thanks for your contributions on this: the makefile works as advertised. I am running on OS X and can use this to produce the libtensorflow-core.a. I can build and run the example benchmark tool and it works.\n\nNow I am trying to create a tool in my development paradigm (which utilizes CMake) that links against this lib. I can load a graph in (using ReadBinaryProto), but when I try to create a TF session like this:\n\n> tensorflow::GraphDef reinspect_graph_def;\n> tensorflow::Status graph_load_status = ReadBinaryProto(tensorflow::Env::Default(), reinspect_graph_file, &reinspect_graph_def);\n> ...\n> tensorflow::SessionOptions sess_opts;\n> std::unique_ptrtensorflow::Session session_reinspect(tensorflow::NewSession(sess_opts));\n> tensorflow::Status session_create_status = session_reinspect->Create(reinspect_graph_def);\n\nI get this run time error:\n\n> E tensorflow/core/common_runtime/session.cc:58] Not found: No session factory registered for the given session options: {target: \"\" config: } Registered factories are {}.\n> Segmentation fault: 11\n\nAny idea what us causing that error? My tool links against libtensorflow-core.a as well as the protobuf library that is installed on my machine. Perhaps I need to link against some other libs?\n"}