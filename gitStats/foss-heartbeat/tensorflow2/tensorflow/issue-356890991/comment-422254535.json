{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/422254535", "html_url": "https://github.com/tensorflow/tensorflow/issues/22057#issuecomment-422254535", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22057", "id": 422254535, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjI1NDUzNQ==", "user": {"login": "ZacVawterKodiak", "id": 38889498, "node_id": "MDQ6VXNlcjM4ODg5NDk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38889498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZacVawterKodiak", "html_url": "https://github.com/ZacVawterKodiak", "followers_url": "https://api.github.com/users/ZacVawterKodiak/followers", "following_url": "https://api.github.com/users/ZacVawterKodiak/following{/other_user}", "gists_url": "https://api.github.com/users/ZacVawterKodiak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZacVawterKodiak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZacVawterKodiak/subscriptions", "organizations_url": "https://api.github.com/users/ZacVawterKodiak/orgs", "repos_url": "https://api.github.com/users/ZacVawterKodiak/repos", "events_url": "https://api.github.com/users/ZacVawterKodiak/events{/privacy}", "received_events_url": "https://api.github.com/users/ZacVawterKodiak/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-18T04:51:06Z", "updated_at": "2018-09-18T04:51:06Z", "author_association": "NONE", "body_html": "<p>Had some time for more digging.  Looks like the crosstools <code>cxx_builtin_include_directory</code> is getting nuked to <code>\\</code>, <a href=\"https://github.com/tensorflow/tensorflow/blob/b91e27a9c33d038af79a0944eb9046b926d483c8/third_party/gpus/cuda_configure.bzl#L1355\">here</a>.</p>\n<p>Setting the line back to what the above comment says it should be:<br>\n<code>cuda_defines[\"%{host_compiler_includes}\"] = (host_compiler_includes + \"\\n  cxx_builtin_include_directory: \\\"%s\\\"\" % cuda_include_path)</code></p>\n<p>Appears to fix the inconsistency problem.</p>\n<p>Now how to actually fix it...</p>", "body_text": "Had some time for more digging.  Looks like the crosstools cxx_builtin_include_directory is getting nuked to \\, here.\nSetting the line back to what the above comment says it should be:\ncuda_defines[\"%{host_compiler_includes}\"] = (host_compiler_includes + \"\\n  cxx_builtin_include_directory: \\\"%s\\\"\" % cuda_include_path)\nAppears to fix the inconsistency problem.\nNow how to actually fix it...", "body": "Had some time for more digging.  Looks like the crosstools `cxx_builtin_include_directory` is getting nuked to `\\`, [here](https://github.com/tensorflow/tensorflow/blob/b91e27a9c33d038af79a0944eb9046b926d483c8/third_party/gpus/cuda_configure.bzl#L1355).\r\n\r\nSetting the line back to what the above comment says it should be:\r\n`cuda_defines[\"%{host_compiler_includes}\"] = (host_compiler_includes + \"\\n  cxx_builtin_include_directory: \\\"%s\\\"\" % cuda_include_path)`\r\n\r\nAppears to fix the inconsistency problem.\r\n\r\nNow how to actually fix it..."}