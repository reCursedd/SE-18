{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/342035573", "html_url": "https://github.com/tensorflow/tensorflow/issues/13651#issuecomment-342035573", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13651", "id": 342035573, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjAzNTU3Mw==", "user": {"login": "selcouthlyBlue", "id": 13268675, "node_id": "MDQ6VXNlcjEzMjY4Njc1", "avatar_url": "https://avatars2.githubusercontent.com/u/13268675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/selcouthlyBlue", "html_url": "https://github.com/selcouthlyBlue", "followers_url": "https://api.github.com/users/selcouthlyBlue/followers", "following_url": "https://api.github.com/users/selcouthlyBlue/following{/other_user}", "gists_url": "https://api.github.com/users/selcouthlyBlue/gists{/gist_id}", "starred_url": "https://api.github.com/users/selcouthlyBlue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/selcouthlyBlue/subscriptions", "organizations_url": "https://api.github.com/users/selcouthlyBlue/orgs", "repos_url": "https://api.github.com/users/selcouthlyBlue/repos", "events_url": "https://api.github.com/users/selcouthlyBlue/events{/privacy}", "received_events_url": "https://api.github.com/users/selcouthlyBlue/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-06T03:11:42Z", "updated_at": "2017-11-06T03:55:21Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I managed to fix the error from applying <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13930252\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/eli99999\">@eli99999</a> 's solution by changing the bitmap image_width to 128 in the application's recognizer config. I don't know why but it just fixed that error.</p>\n<pre><code>Recognizer recognizer = new OfflineRecognizer(recognizerConfigBuilder.setAssetManager(context.getAssets())\n                .setImageHeight(128)\n                .setImageWidth(128)\n                .setModelFilename(\"frozen_bi_lstm_ctc_ocr.pb\")\n                .setCharsetFile(\"chars.txt\")\n                .build());\n</code></pre>\n<p>With that change, I now encounter this new error which happens upon fetching the outputs after running:</p>\n<pre><code>inferenceInterface.run(outputs);\ninferenceInterface.fetch(outputs[0], result); //where the error happens\n</code></pre>\n<p><code>java.lang.IllegalArgumentException: cannot use java.nio.FloatArrayBuffer with Tensor of type INT32</code></p>", "body_text": "I managed to fix the error from applying @eli99999 's solution by changing the bitmap image_width to 128 in the application's recognizer config. I don't know why but it just fixed that error.\nRecognizer recognizer = new OfflineRecognizer(recognizerConfigBuilder.setAssetManager(context.getAssets())\n                .setImageHeight(128)\n                .setImageWidth(128)\n                .setModelFilename(\"frozen_bi_lstm_ctc_ocr.pb\")\n                .setCharsetFile(\"chars.txt\")\n                .build());\n\nWith that change, I now encounter this new error which happens upon fetching the outputs after running:\ninferenceInterface.run(outputs);\ninferenceInterface.fetch(outputs[0], result); //where the error happens\n\njava.lang.IllegalArgumentException: cannot use java.nio.FloatArrayBuffer with Tensor of type INT32", "body": "I managed to fix the error from applying @eli99999 's solution by changing the bitmap image_width to 128 in the application's recognizer config. I don't know why but it just fixed that error.\r\n\r\n```\r\nRecognizer recognizer = new OfflineRecognizer(recognizerConfigBuilder.setAssetManager(context.getAssets())\r\n                .setImageHeight(128)\r\n                .setImageWidth(128)\r\n                .setModelFilename(\"frozen_bi_lstm_ctc_ocr.pb\")\r\n                .setCharsetFile(\"chars.txt\")\r\n                .build());\r\n```\r\n\r\nWith that change, I now encounter this new error which happens upon fetching the outputs after running:\r\n\r\n```\r\ninferenceInterface.run(outputs);\r\ninferenceInterface.fetch(outputs[0], result); //where the error happens\r\n```\r\n\r\n`java.lang.IllegalArgumentException: cannot use java.nio.FloatArrayBuffer with Tensor of type INT32`"}