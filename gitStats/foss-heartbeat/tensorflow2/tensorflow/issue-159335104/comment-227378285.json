{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/227378285", "html_url": "https://github.com/tensorflow/tensorflow/issues/2751#issuecomment-227378285", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2751", "id": 227378285, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNzM3ODI4NQ==", "user": {"login": "samfux84", "id": 11944875, "node_id": "MDQ6VXNlcjExOTQ0ODc1", "avatar_url": "https://avatars0.githubusercontent.com/u/11944875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samfux84", "html_url": "https://github.com/samfux84", "followers_url": "https://api.github.com/users/samfux84/followers", "following_url": "https://api.github.com/users/samfux84/following{/other_user}", "gists_url": "https://api.github.com/users/samfux84/gists{/gist_id}", "starred_url": "https://api.github.com/users/samfux84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samfux84/subscriptions", "organizations_url": "https://api.github.com/users/samfux84/orgs", "repos_url": "https://api.github.com/users/samfux84/repos", "events_url": "https://api.github.com/users/samfux84/events{/privacy}", "received_events_url": "https://api.github.com/users/samfux84/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-21T08:46:17Z", "updated_at": "2016-06-21T08:46:17Z", "author_association": "NONE", "body_html": "<p>Thank you very much for your help. With bazel 0.3.0 creating the wheel worked:</p>\n<pre><code>[sfux@e2319 tensorflow]$ bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\nTue Jun 21 10:11:31 CEST 2016 : === Using tmpdir: /scratch/21408461.tmpdir/tmp.uoFXuaUHI5\n/scratch/21408461.tmpdir/tmp.uoFXuaUHI5 /scratch/21408461.tmpdir/tensorflow\nTue Jun 21 10:11:31 CEST 2016 : === Building wheel\n/scratch/21408461.tmpdir/tensorflow\nTue Jun 21 10:11:40 CEST 2016 : === Output wheel file is in: /tmp/tensorflow_pkg\n[sfux@e2319 tensorflow]$ pip\npip         pip3        pip3.3      pipeclient  \n[sfux@e2319 tensorflow]$\n</code></pre>\n<p>Now pip is going ballistic and tries to delete parts of my numpy etc. installations (I would rather prefer to install a newer version of numpy in user space and to involve it through PYTHONPATH instead of pip trying to delete stuff and reinstalling a newer version, which does most likely not automatically link against OpenBLAS), but this problem is not related to tensorflow.</p>\n<pre><code>[sfux@e2319 tensorflow]$ pip install /tmp/tensorflow_pkg/tensorflow-0.9.0-py3-none-any.whl \nProcessing /tmp/tensorflow_pkg/tensorflow-0.9.0-py3-none-any.whl\nCollecting numpy&gt;=1.8.2 (from tensorflow==0.9.0)\n  Downloading numpy-1.11.0.tar.gz (4.2MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4.2MB 144kB/s \nCollecting six&gt;=1.10.0 (from tensorflow==0.9.0)\n  Downloading six-1.10.0-py2.py3-none-any.whl\nCollecting protobuf==3.0.0b2 (from tensorflow==0.9.0)\n  Downloading protobuf-3.0.0b2-py2.py3-none-any.whl (326kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 327kB 1.2MB/s \nRequirement already satisfied (use --upgrade to upgrade): wheel&gt;=0.26 in /cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/wheel-0.29.0-py3.3.egg (from tensorflow==0.9.0)\nCollecting setuptools (from protobuf==3.0.0b2-&gt;tensorflow==0.9.0)\n  Downloading setuptools-23.0.0-py2.py3-none-any.whl (435kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 438kB 1.1MB/s \nBuilding wheels for collected packages: numpy\n  Running setup.py bdist_wheel for numpy\n  Stored in directory: /cluster/home/sfux/.cache/pip/wheels/d9/cc/5c/f60303cc48ac18e6bd359aa88e4fa50e8bd88fc7e9f001cfd8\nSuccessfully built numpy\nInstalling collected packages: numpy, six, setuptools, protobuf, tensorflow\n  Found existing installation: numpy 1.8.0\n    DEPRECATION: Uninstalling a distutils installed project (numpy) has been deprecated and will be removed in a future version. This is due to the fact that uninstalling a distutils project will only partially uninstall the project.\n    Uninstalling numpy-1.8.0:\n      Successfully uninstalled numpy-1.8.0\n  Rolling back uninstall of numpy\nException:\nTraceback (most recent call last):\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/basecommand.py\", line 211, in main\n    status = self.run(options, args)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/commands/install.py\", line 311, in run\n    root=options.root_path,\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/req/req_set.py\", line 646, in install\n    **kwargs\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/req/req_install.py\", line 803, in install\n    self.move_wheel_files(self.source_dir, root=root)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/req/req_install.py\", line 998, in move_wheel_files\n    isolated=self.isolated,\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/wheel.py\", line 339, in move_wheel_files\n    clobber(source, lib_dir, True)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/wheel.py\", line 317, in clobber\n    shutil.copyfile(srcfile, destfile)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/shutil.py\", line 110, in copyfile\n    with open(dst, 'wb') as fdst:\nPermissionError: [Errno 13] Permission denied: '/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/numpy/_import_tools.py'\nYou are using pip version 7.1.2, however version 8.1.2 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n[sfux@e2319 tensorflow]$\n</code></pre>\n<p>Thank you again for your help. It would be very nice if you could add a note to</p>\n<p><a href=\"https://www.tensorflow.org/versions/r0.9/get_started/os_setup.html#requirements\" rel=\"nofollow\">https://www.tensorflow.org/versions/r0.9/get_started/os_setup.html#requirements</a></p>\n<p>which explains that you need to have a particular version of bazel (I am refering to the last reply from daminegm about how to correctly checkout 0.2.3 such that you get the proper version of bazel, because from the bazel webpage it is not very clear, what to download). Due to the dependency on bazel, one also need to have Java 1.8.0, SWIG &gt; 3.0.0. It would also be great if you would mention the dependencies of tensorflow with respect to other Python packages (numpy&gt;=1.8.2, six&gt;=1.10.0, protobus 3.0.0b2, setuptools 23.0.0, wheel&gt;=0.26), because on a larger clusters, one does not just run pip as root and hope that everything goes well. I usually check the list of dependencies, install all of them from source in user space and then try on install the main package in user space before installing anything centrally.</p>\n<p>Best regards</p>", "body_text": "Thank you very much for your help. With bazel 0.3.0 creating the wheel worked:\n[sfux@e2319 tensorflow]$ bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\nTue Jun 21 10:11:31 CEST 2016 : === Using tmpdir: /scratch/21408461.tmpdir/tmp.uoFXuaUHI5\n/scratch/21408461.tmpdir/tmp.uoFXuaUHI5 /scratch/21408461.tmpdir/tensorflow\nTue Jun 21 10:11:31 CEST 2016 : === Building wheel\n/scratch/21408461.tmpdir/tensorflow\nTue Jun 21 10:11:40 CEST 2016 : === Output wheel file is in: /tmp/tensorflow_pkg\n[sfux@e2319 tensorflow]$ pip\npip         pip3        pip3.3      pipeclient  \n[sfux@e2319 tensorflow]$\n\nNow pip is going ballistic and tries to delete parts of my numpy etc. installations (I would rather prefer to install a newer version of numpy in user space and to involve it through PYTHONPATH instead of pip trying to delete stuff and reinstalling a newer version, which does most likely not automatically link against OpenBLAS), but this problem is not related to tensorflow.\n[sfux@e2319 tensorflow]$ pip install /tmp/tensorflow_pkg/tensorflow-0.9.0-py3-none-any.whl \nProcessing /tmp/tensorflow_pkg/tensorflow-0.9.0-py3-none-any.whl\nCollecting numpy>=1.8.2 (from tensorflow==0.9.0)\n  Downloading numpy-1.11.0.tar.gz (4.2MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4.2MB 144kB/s \nCollecting six>=1.10.0 (from tensorflow==0.9.0)\n  Downloading six-1.10.0-py2.py3-none-any.whl\nCollecting protobuf==3.0.0b2 (from tensorflow==0.9.0)\n  Downloading protobuf-3.0.0b2-py2.py3-none-any.whl (326kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 327kB 1.2MB/s \nRequirement already satisfied (use --upgrade to upgrade): wheel>=0.26 in /cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/wheel-0.29.0-py3.3.egg (from tensorflow==0.9.0)\nCollecting setuptools (from protobuf==3.0.0b2->tensorflow==0.9.0)\n  Downloading setuptools-23.0.0-py2.py3-none-any.whl (435kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 438kB 1.1MB/s \nBuilding wheels for collected packages: numpy\n  Running setup.py bdist_wheel for numpy\n  Stored in directory: /cluster/home/sfux/.cache/pip/wheels/d9/cc/5c/f60303cc48ac18e6bd359aa88e4fa50e8bd88fc7e9f001cfd8\nSuccessfully built numpy\nInstalling collected packages: numpy, six, setuptools, protobuf, tensorflow\n  Found existing installation: numpy 1.8.0\n    DEPRECATION: Uninstalling a distutils installed project (numpy) has been deprecated and will be removed in a future version. This is due to the fact that uninstalling a distutils project will only partially uninstall the project.\n    Uninstalling numpy-1.8.0:\n      Successfully uninstalled numpy-1.8.0\n  Rolling back uninstall of numpy\nException:\nTraceback (most recent call last):\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/basecommand.py\", line 211, in main\n    status = self.run(options, args)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/commands/install.py\", line 311, in run\n    root=options.root_path,\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/req/req_set.py\", line 646, in install\n    **kwargs\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/req/req_install.py\", line 803, in install\n    self.move_wheel_files(self.source_dir, root=root)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/req/req_install.py\", line 998, in move_wheel_files\n    isolated=self.isolated,\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/wheel.py\", line 339, in move_wheel_files\n    clobber(source, lib_dir, True)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/wheel.py\", line 317, in clobber\n    shutil.copyfile(srcfile, destfile)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/shutil.py\", line 110, in copyfile\n    with open(dst, 'wb') as fdst:\nPermissionError: [Errno 13] Permission denied: '/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/numpy/_import_tools.py'\nYou are using pip version 7.1.2, however version 8.1.2 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n[sfux@e2319 tensorflow]$\n\nThank you again for your help. It would be very nice if you could add a note to\nhttps://www.tensorflow.org/versions/r0.9/get_started/os_setup.html#requirements\nwhich explains that you need to have a particular version of bazel (I am refering to the last reply from daminegm about how to correctly checkout 0.2.3 such that you get the proper version of bazel, because from the bazel webpage it is not very clear, what to download). Due to the dependency on bazel, one also need to have Java 1.8.0, SWIG > 3.0.0. It would also be great if you would mention the dependencies of tensorflow with respect to other Python packages (numpy>=1.8.2, six>=1.10.0, protobus 3.0.0b2, setuptools 23.0.0, wheel>=0.26), because on a larger clusters, one does not just run pip as root and hope that everything goes well. I usually check the list of dependencies, install all of them from source in user space and then try on install the main package in user space before installing anything centrally.\nBest regards", "body": "Thank you very much for your help. With bazel 0.3.0 creating the wheel worked:\n\n```\n[sfux@e2319 tensorflow]$ bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\nTue Jun 21 10:11:31 CEST 2016 : === Using tmpdir: /scratch/21408461.tmpdir/tmp.uoFXuaUHI5\n/scratch/21408461.tmpdir/tmp.uoFXuaUHI5 /scratch/21408461.tmpdir/tensorflow\nTue Jun 21 10:11:31 CEST 2016 : === Building wheel\n/scratch/21408461.tmpdir/tensorflow\nTue Jun 21 10:11:40 CEST 2016 : === Output wheel file is in: /tmp/tensorflow_pkg\n[sfux@e2319 tensorflow]$ pip\npip         pip3        pip3.3      pipeclient  \n[sfux@e2319 tensorflow]$\n```\n\nNow pip is going ballistic and tries to delete parts of my numpy etc. installations (I would rather prefer to install a newer version of numpy in user space and to involve it through PYTHONPATH instead of pip trying to delete stuff and reinstalling a newer version, which does most likely not automatically link against OpenBLAS), but this problem is not related to tensorflow.\n\n```\n[sfux@e2319 tensorflow]$ pip install /tmp/tensorflow_pkg/tensorflow-0.9.0-py3-none-any.whl \nProcessing /tmp/tensorflow_pkg/tensorflow-0.9.0-py3-none-any.whl\nCollecting numpy>=1.8.2 (from tensorflow==0.9.0)\n  Downloading numpy-1.11.0.tar.gz (4.2MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4.2MB 144kB/s \nCollecting six>=1.10.0 (from tensorflow==0.9.0)\n  Downloading six-1.10.0-py2.py3-none-any.whl\nCollecting protobuf==3.0.0b2 (from tensorflow==0.9.0)\n  Downloading protobuf-3.0.0b2-py2.py3-none-any.whl (326kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 327kB 1.2MB/s \nRequirement already satisfied (use --upgrade to upgrade): wheel>=0.26 in /cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/wheel-0.29.0-py3.3.egg (from tensorflow==0.9.0)\nCollecting setuptools (from protobuf==3.0.0b2->tensorflow==0.9.0)\n  Downloading setuptools-23.0.0-py2.py3-none-any.whl (435kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 438kB 1.1MB/s \nBuilding wheels for collected packages: numpy\n  Running setup.py bdist_wheel for numpy\n  Stored in directory: /cluster/home/sfux/.cache/pip/wheels/d9/cc/5c/f60303cc48ac18e6bd359aa88e4fa50e8bd88fc7e9f001cfd8\nSuccessfully built numpy\nInstalling collected packages: numpy, six, setuptools, protobuf, tensorflow\n  Found existing installation: numpy 1.8.0\n    DEPRECATION: Uninstalling a distutils installed project (numpy) has been deprecated and will be removed in a future version. This is due to the fact that uninstalling a distutils project will only partially uninstall the project.\n    Uninstalling numpy-1.8.0:\n      Successfully uninstalled numpy-1.8.0\n  Rolling back uninstall of numpy\nException:\nTraceback (most recent call last):\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/basecommand.py\", line 211, in main\n    status = self.run(options, args)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/commands/install.py\", line 311, in run\n    root=options.root_path,\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/req/req_set.py\", line 646, in install\n    **kwargs\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/req/req_install.py\", line 803, in install\n    self.move_wheel_files(self.source_dir, root=root)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/req/req_install.py\", line 998, in move_wheel_files\n    isolated=self.isolated,\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/wheel.py\", line 339, in move_wheel_files\n    clobber(source, lib_dir, True)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/pip-7.1.2-py3.3.egg/pip/wheel.py\", line 317, in clobber\n    shutil.copyfile(srcfile, destfile)\n  File \"/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/shutil.py\", line 110, in copyfile\n    with open(dst, 'wb') as fdst:\nPermissionError: [Errno 13] Permission denied: '/cluster/apps/python/3.3.3/x86_64/lib64/python3.3/site-packages/numpy/_import_tools.py'\nYou are using pip version 7.1.2, however version 8.1.2 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n[sfux@e2319 tensorflow]$\n```\n\nThank you again for your help. It would be very nice if you could add a note to\n\nhttps://www.tensorflow.org/versions/r0.9/get_started/os_setup.html#requirements\n\nwhich explains that you need to have a particular version of bazel (I am refering to the last reply from daminegm about how to correctly checkout 0.2.3 such that you get the proper version of bazel, because from the bazel webpage it is not very clear, what to download). Due to the dependency on bazel, one also need to have Java 1.8.0, SWIG > 3.0.0. It would also be great if you would mention the dependencies of tensorflow with respect to other Python packages (numpy>=1.8.2, six>=1.10.0, protobus 3.0.0b2, setuptools 23.0.0, wheel>=0.26), because on a larger clusters, one does not just run pip as root and hope that everything goes well. I usually check the list of dependencies, install all of them from source in user space and then try on install the main package in user space before installing anything centrally.\n\nBest regards\n"}