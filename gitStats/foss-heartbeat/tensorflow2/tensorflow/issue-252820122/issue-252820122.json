{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12588", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12588/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12588/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12588/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12588", "id": 252820122, "node_id": "MDU6SXNzdWUyNTI4MjAxMjI=", "number": 12588, "title": "Error with tf.losses.sparse_softmax_cross_entropy: weights?", "user": {"login": "Vonisoa", "id": 26404741, "node_id": "MDQ6VXNlcjI2NDA0NzQx", "avatar_url": "https://avatars0.githubusercontent.com/u/26404741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vonisoa", "html_url": "https://github.com/Vonisoa", "followers_url": "https://api.github.com/users/Vonisoa/followers", "following_url": "https://api.github.com/users/Vonisoa/following{/other_user}", "gists_url": "https://api.github.com/users/Vonisoa/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vonisoa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vonisoa/subscriptions", "organizations_url": "https://api.github.com/users/Vonisoa/orgs", "repos_url": "https://api.github.com/users/Vonisoa/repos", "events_url": "https://api.github.com/users/Vonisoa/events{/privacy}", "received_events_url": "https://api.github.com/users/Vonisoa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-25T07:31:59Z", "updated_at": "2017-08-28T10:43:58Z", "closed_at": "2017-08-28T03:55:18Z", "author_association": "NONE", "body_html": "<p>I use the function tf.losses.sparse_softmax_cross_entropy for my unbalanced dataset but i get error when using it. My question is if my labels in one batch have shape (8,4096) , my prediction or logits have shape (8,4096,14) and I have 14 classes. What should the shape of my weights?</p>\n<p>Another question: should i have one specific weight for each class or a specific weight for each sample?<br>\nThanks</p>", "body_text": "I use the function tf.losses.sparse_softmax_cross_entropy for my unbalanced dataset but i get error when using it. My question is if my labels in one batch have shape (8,4096) , my prediction or logits have shape (8,4096,14) and I have 14 classes. What should the shape of my weights?\nAnother question: should i have one specific weight for each class or a specific weight for each sample?\nThanks", "body": "I use the function tf.losses.sparse_softmax_cross_entropy for my unbalanced dataset but i get error when using it. My question is if my labels in one batch have shape (8,4096) , my prediction or logits have shape (8,4096,14) and I have 14 classes. What should the shape of my weights?\r\n\r\nAnother question: should i have one specific weight for each class or a specific weight for each sample?\r\nThanks"}