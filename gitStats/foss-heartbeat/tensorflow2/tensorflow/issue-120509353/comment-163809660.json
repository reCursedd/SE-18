{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/163809660", "html_url": "https://github.com/tensorflow/tensorflow/issues/414#issuecomment-163809660", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/414", "id": 163809660, "node_id": "MDEyOklzc3VlQ29tbWVudDE2MzgwOTY2MA==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2015-12-11T02:01:47Z", "updated_at": "2015-12-11T02:01:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The warnings are fine. The underlying Eigen library doesn't always mark<br>\nfunctions as OK to run on a gpu, even if they are. That results in many of<br>\nthe warnings.<br>\nOn Dec 8, 2015 7:25 PM, \"Luzy\" <a href=\"mailto:notifications@github.com\">notifications@github.com</a> wrote:</p>\n<blockquote>\n<p>Hi,<br>\nHere is an update. Unfortunately I don't have admin access to the machine.<br>\nI installed another python with config<br>\n./configure --prefix=$PWD/release/ --enable-shared<br>\nLDFLAGS=\"-L$PWD/release/lib/python2.7/config<br>\n-Wl,--rpath=$PWD/release/lib/python2.7/config -L$PWD/release/lib/<br>\n-Wl,--rpath=$PWD/release/lib/\" CPPFLAGS=\"-I$PWD/release/include\"<br>\n(I found these from some stackoverflow answers, though I don't fully<br>\nunderstand how it works yet)</p>\n<p>though libpython...so is still not under lib/python2.7/config/, nor does<br>\npython-config --ldflags<br>\n-lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic return<br>\n-L....</p>\n<p>I was able to get pass that libpython2.7.so.1.0 not found error building<br>\ntensorflow.</p>\n<p>But I encountered error<br>\n/usr/bin/env: python2.7: No such file or directory<br>\nERROR: /share/software/tensorflow/google/protobuf/BUILD:270:1: Linking of<br>\nrule '//google/protobuf:protoc' failed: crosstool_wrapper_driver_is_not_gcc<br>\nfailed: ....</p>\n<p>because the command generated by bazel seems not to set the PATH variable<br>\n(I do not understand why)<br>\n(cd<br>\n/home/zhiyunlu/.cache/bazel/_bazel_zhiyunlu/d568262eb4464bf011ab3d998aff21ac/tensorflow<br>\n&amp;&amp; <br>\nexec env - \\</p>\n<p>third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc....)</p>\n<p>So I fixed the problem by changing the first line of<br>\ncrosstool_wrapper_driver_is_not_gcc to be<br>\n#!/share/software/python/2.7.10/Python-2.7.10-tf/release/bin/python2<br>\nto run with specific python I installed.</p>\n<p>With some other modifications to use local gcc installation version (<br>\nissue649 <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"118691016\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/bazel/issues/649\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/649/hovercard\" href=\"https://github.com/bazelbuild/bazel/issues/649\">bazelbuild/bazel#649</a>), I am able to<br>\nbuild tensorflow successfully.</p>\n<p>I saw many warnings, for example<br>\nwarning: calling a <em>host</em> function from a <em>host</em> <em>device</em> function is not<br>\nallowed.<br>\nBut I assume it is okay...?</p>\n<p>So I think the libpython...so problem is fixed now. Thanks a lot for<br>\nhelping this out!</p>\n<p>\u2014<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"120509353\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/414\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/414/hovercard?comment_id=163113984&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/414#issuecomment-163113984\">#414 (comment)</a><br>\n.</p>\n</blockquote>", "body_text": "The warnings are fine. The underlying Eigen library doesn't always mark\nfunctions as OK to run on a gpu, even if they are. That results in many of\nthe warnings.\nOn Dec 8, 2015 7:25 PM, \"Luzy\" notifications@github.com wrote:\n\nHi,\nHere is an update. Unfortunately I don't have admin access to the machine.\nI installed another python with config\n./configure --prefix=$PWD/release/ --enable-shared\nLDFLAGS=\"-L$PWD/release/lib/python2.7/config\n-Wl,--rpath=$PWD/release/lib/python2.7/config -L$PWD/release/lib/\n-Wl,--rpath=$PWD/release/lib/\" CPPFLAGS=\"-I$PWD/release/include\"\n(I found these from some stackoverflow answers, though I don't fully\nunderstand how it works yet)\nthough libpython...so is still not under lib/python2.7/config/, nor does\npython-config --ldflags\n-lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic return\n-L....\nI was able to get pass that libpython2.7.so.1.0 not found error building\ntensorflow.\nBut I encountered error\n/usr/bin/env: python2.7: No such file or directory\nERROR: /share/software/tensorflow/google/protobuf/BUILD:270:1: Linking of\nrule '//google/protobuf:protoc' failed: crosstool_wrapper_driver_is_not_gcc\nfailed: ....\nbecause the command generated by bazel seems not to set the PATH variable\n(I do not understand why)\n(cd\n/home/zhiyunlu/.cache/bazel/_bazel_zhiyunlu/d568262eb4464bf011ab3d998aff21ac/tensorflow\n&& \nexec env - \\\nthird_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc....)\nSo I fixed the problem by changing the first line of\ncrosstool_wrapper_driver_is_not_gcc to be\n#!/share/software/python/2.7.10/Python-2.7.10-tf/release/bin/python2\nto run with specific python I installed.\nWith some other modifications to use local gcc installation version (\nissue649 bazelbuild/bazel#649), I am able to\nbuild tensorflow successfully.\nI saw many warnings, for example\nwarning: calling a host function from a host device function is not\nallowed.\nBut I assume it is okay...?\nSo I think the libpython...so problem is fixed now. Thanks a lot for\nhelping this out!\n\u2014\nReply to this email directly or view it on GitHub\n#414 (comment)\n.", "body": "The warnings are fine. The underlying Eigen library doesn't always mark\nfunctions as OK to run on a gpu, even if they are. That results in many of\nthe warnings.\nOn Dec 8, 2015 7:25 PM, \"Luzy\" notifications@github.com wrote:\n\n> Hi,\n> Here is an update. Unfortunately I don't have admin access to the machine.\n> I installed another python with config\n> ./configure --prefix=$PWD/release/ --enable-shared\n> LDFLAGS=\"-L$PWD/release/lib/python2.7/config\n> -Wl,--rpath=$PWD/release/lib/python2.7/config -L$PWD/release/lib/\n> -Wl,--rpath=$PWD/release/lib/\" CPPFLAGS=\"-I$PWD/release/include\"\n> (I found these from some stackoverflow answers, though I don't fully\n> understand how it works yet)\n> \n> though libpython...so is still not under lib/python2.7/config/, nor does\n> python-config --ldflags\n> -lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic return\n> -L....\n> \n> I was able to get pass that libpython2.7.so.1.0 not found error building\n> tensorflow.\n> \n> But I encountered error\n> /usr/bin/env: python2.7: No such file or directory\n> ERROR: /share/software/tensorflow/google/protobuf/BUILD:270:1: Linking of\n> rule '//google/protobuf:protoc' failed: crosstool_wrapper_driver_is_not_gcc\n> failed: ....\n> \n> because the command generated by bazel seems not to set the PATH variable\n> (I do not understand why)\n> (cd\n> /home/zhiyunlu/.cache/bazel/_bazel_zhiyunlu/d568262eb4464bf011ab3d998aff21ac/tensorflow\n> && \\\n> exec env - \\\n> \n> third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc....)\n> \n> So I fixed the problem by changing the first line of\n> crosstool_wrapper_driver_is_not_gcc to be\n> #!/share/software/python/2.7.10/Python-2.7.10-tf/release/bin/python2\n> to run with specific python I installed.\n> \n> With some other modifications to use local gcc installation version (\n> issue649 https://github.com/bazelbuild/bazel/issues/649), I am able to\n> build tensorflow successfully.\n> \n> I saw many warnings, for example\n> warning: calling a _host_ function from a _host_ _device_ function is not\n> allowed.\n> But I assume it is okay...?\n> \n> So I think the libpython...so problem is fixed now. Thanks a lot for\n> helping this out!\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/414#issuecomment-163113984\n> .\n"}