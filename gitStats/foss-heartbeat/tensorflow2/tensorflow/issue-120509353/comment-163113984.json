{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/163113984", "html_url": "https://github.com/tensorflow/tensorflow/issues/414#issuecomment-163113984", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/414", "id": 163113984, "node_id": "MDEyOklzc3VlQ29tbWVudDE2MzExMzk4NA==", "user": {"login": "zhiyun", "id": 2136926, "node_id": "MDQ6VXNlcjIxMzY5MjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/2136926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhiyun", "html_url": "https://github.com/zhiyun", "followers_url": "https://api.github.com/users/zhiyun/followers", "following_url": "https://api.github.com/users/zhiyun/following{/other_user}", "gists_url": "https://api.github.com/users/zhiyun/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhiyun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhiyun/subscriptions", "organizations_url": "https://api.github.com/users/zhiyun/orgs", "repos_url": "https://api.github.com/users/zhiyun/repos", "events_url": "https://api.github.com/users/zhiyun/events{/privacy}", "received_events_url": "https://api.github.com/users/zhiyun/received_events", "type": "User", "site_admin": false}, "created_at": "2015-12-09T05:25:07Z", "updated_at": "2015-12-09T05:26:38Z", "author_association": "NONE", "body_html": "<p>Hi,<br>\nHere is an update. Unfortunately I don't have admin access to the machine.<br>\nI installed another python with config<br>\n./configure --prefix=$PWD/release/ --enable-shared LDFLAGS=\"-L$PWD/release/lib/python2.7/config -Wl,--rpath=$PWD/release/lib/python2.7/config -L$PWD/release/lib/ -Wl,--rpath=$PWD/release/lib/\" CPPFLAGS=\"-I$PWD/release/include\"<br>\n(I found these from some stackoverflow answers, though I don't fully understand how it works yet)</p>\n<p>though libpython...so is still not under lib/python2.7/config/, nor does python-config --ldflags<br>\n-lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic return -L....</p>\n<p>I was able to get pass that libpython2.7.so.1.0 not found error building tensorflow.</p>\n<p>But I encountered error<br>\n/usr/bin/env: python2.7: No such file or directory<br>\nERROR: /share/software/tensorflow/google/protobuf/BUILD:270:1: Linking of rule '//google/protobuf:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: ....</p>\n<p>because the command generated by bazel seems not to set the PATH variable (I do not understand why)<br>\n(cd /home/zhiyunlu/.cache/bazel/_bazel_zhiyunlu/d568262eb4464bf011ab3d998aff21ac/tensorflow &amp;&amp; <br>\nexec env - <br>\nthird_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc....)</p>\n<p>So I fixed the problem by changing the first line of crosstool_wrapper_driver_is_not_gcc to be<br>\n#!/share/software/python/2.7.10/Python-2.7.10-tf/release/bin/python2<br>\nto run with specific python I installed.</p>\n<p>With some other modifications to use local gcc installation version (<a href=\"https://github.com/bazelbuild/bazel/issues/649\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/649/hovercard\">issue649</a>), I am able to build tensorflow successfully.</p>\n<p>I saw many warnings, for example<br>\nwarning: calling a <strong>host</strong> function from a <strong>host</strong> <strong>device</strong> function is not allowed.<br>\nBut I assume it is okay...?</p>\n<p>So I think the libpython...so problem is fixed now. Thanks a lot for helping this out!</p>", "body_text": "Hi,\nHere is an update. Unfortunately I don't have admin access to the machine.\nI installed another python with config\n./configure --prefix=$PWD/release/ --enable-shared LDFLAGS=\"-L$PWD/release/lib/python2.7/config -Wl,--rpath=$PWD/release/lib/python2.7/config -L$PWD/release/lib/ -Wl,--rpath=$PWD/release/lib/\" CPPFLAGS=\"-I$PWD/release/include\"\n(I found these from some stackoverflow answers, though I don't fully understand how it works yet)\nthough libpython...so is still not under lib/python2.7/config/, nor does python-config --ldflags\n-lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic return -L....\nI was able to get pass that libpython2.7.so.1.0 not found error building tensorflow.\nBut I encountered error\n/usr/bin/env: python2.7: No such file or directory\nERROR: /share/software/tensorflow/google/protobuf/BUILD:270:1: Linking of rule '//google/protobuf:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: ....\nbecause the command generated by bazel seems not to set the PATH variable (I do not understand why)\n(cd /home/zhiyunlu/.cache/bazel/_bazel_zhiyunlu/d568262eb4464bf011ab3d998aff21ac/tensorflow && \nexec env - \nthird_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc....)\nSo I fixed the problem by changing the first line of crosstool_wrapper_driver_is_not_gcc to be\n#!/share/software/python/2.7.10/Python-2.7.10-tf/release/bin/python2\nto run with specific python I installed.\nWith some other modifications to use local gcc installation version (issue649), I am able to build tensorflow successfully.\nI saw many warnings, for example\nwarning: calling a host function from a host device function is not allowed.\nBut I assume it is okay...?\nSo I think the libpython...so problem is fixed now. Thanks a lot for helping this out!", "body": "Hi,\nHere is an update. Unfortunately I don't have admin access to the machine.\nI installed another python with config\n./configure --prefix=$PWD/release/ --enable-shared LDFLAGS=\"-L$PWD/release/lib/python2.7/config -Wl,--rpath=$PWD/release/lib/python2.7/config -L$PWD/release/lib/ -Wl,--rpath=$PWD/release/lib/\" CPPFLAGS=\"-I$PWD/release/include\"\n(I found these from some stackoverflow answers, though I don't fully understand how it works yet)\n\nthough libpython...so is still not under lib/python2.7/config/, nor does python-config --ldflags\n-lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic return -L....\n\nI was able to get pass that libpython2.7.so.1.0 not found error building tensorflow.\n\nBut I encountered error\n/usr/bin/env: python2.7: No such file or directory\nERROR: /share/software/tensorflow/google/protobuf/BUILD:270:1: Linking of rule '//google/protobuf:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: ....\n\nbecause the command generated by bazel seems not to set the PATH variable (I do not understand why)\n(cd /home/zhiyunlu/.cache/bazel/_bazel_zhiyunlu/d568262eb4464bf011ab3d998aff21ac/tensorflow && \\\n  exec env - \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc....)\n\nSo I fixed the problem by changing the first line of crosstool_wrapper_driver_is_not_gcc to be\n#!/share/software/python/2.7.10/Python-2.7.10-tf/release/bin/python2\nto run with specific python I installed.\n\nWith some other modifications to use local gcc installation version ([issue649](https://github.com/bazelbuild/bazel/issues/649)), I am able to build tensorflow successfully.\n\nI saw many warnings, for example\nwarning: calling a __host__ function from a __host__ __device__ function is not allowed.\nBut I assume it is okay...?\n\nSo I think the libpython...so problem is fixed now. Thanks a lot for helping this out!\n"}