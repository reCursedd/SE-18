{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/373977567", "html_url": "https://github.com/tensorflow/tensorflow/issues/17803#issuecomment-373977567", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17803", "id": 373977567, "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mzk3NzU2Nw==", "user": {"login": "klyan", "id": 7780254, "node_id": "MDQ6VXNlcjc3ODAyNTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/7780254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klyan", "html_url": "https://github.com/klyan", "followers_url": "https://api.github.com/users/klyan/followers", "following_url": "https://api.github.com/users/klyan/following{/other_user}", "gists_url": "https://api.github.com/users/klyan/gists{/gist_id}", "starred_url": "https://api.github.com/users/klyan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klyan/subscriptions", "organizations_url": "https://api.github.com/users/klyan/orgs", "repos_url": "https://api.github.com/users/klyan/repos", "events_url": "https://api.github.com/users/klyan/events{/privacy}", "received_events_url": "https://api.github.com/users/klyan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-18T07:11:40Z", "updated_at": "2018-03-18T07:12:37Z", "author_association": "NONE", "body_html": "<p>Here is logs:</p>\n<h2>2018-03-18 14:28:01.368845: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: Tesla M60, pci bus id: 0000:00:15.0, compute capability: 5.2)<br>\nINFO:tensorflow:Error reported to Coordinator: &lt;class 'tensorflow.python.framework.errors_impl.InternalError'&gt;, Unsupported feed type<br>\n2018-03-18 14:28:08.345478: W tensorflow/core/framework/op_kernel.cc:1192] Out of range: FIFOQueue '_6_enqueue_input/fifo_queue' is closed and has insufficient elements (requested 1024, current size 0)<br>\n[[Node: fifo_queue_DequeueUpTo = QueueDequeueUpToV2[component_types=[DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_INT64], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](enqueue_input/fifo_queue, fifo_queue_DequeueUpTo/n)]]<br>\n2018-03-18 14:28:08.345610: W tensorflow/core/framework/op_kernel.cc:1192] Out of range: FIFOQueue '_6_enqueue_input/fifo_queue' is closed and has insufficient elements (requested 1024, current size 0)<br>\n[[Node: fifo_queue_DequeueUpTo = QueueDequeueUpToV2[component_types=[DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_INT64], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](enqueue_input/fifo_queue, fifo_queue_DequeueUpTo/n)]]<br>\nINFO:tensorflow:Saving checkpoints for 0 into /data/kai.zhang/dnn/model/model.ckpt.<br>\n2018-03-18 14:28:11.073924: E tensorflow/core/util/events_writer.cc:162] The events file /data/kai.zhang/dnn/model/events.out.tfevents.1521348849.xh-mlplatform-job-service01.gh.sankuai.com has disappeared.<br>\n2018-03-18 14:28:11.073981: E tensorflow/core/util/events_writer.cc:131] Failed to flush 30 events to /data/kai.zhang/dnn/model/events.out.tfevents.1521348849.xh-mlplatform-job-service01.gh.sankuai.com</h2>\n<p>InternalError                             Traceback (most recent call last)<br>\n in ()<br>\n1 shutil.rmtree(\"/data/kai.zhang/dnn/model/\", ignore_errors=True)<br>\n----&gt; 2 classifier.train(input_fn=train_input_fn, steps=500)</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/estimator/estimator.pyc in train(self, input_fn, hooks, steps, max_steps, saving_listeners)<br>\n300<br>\n301     saving_listeners = _check_listeners_type(saving_listeners)<br>\n--&gt; 302     loss = self._train_model(input_fn, hooks, saving_listeners)<br>\n303     logging.info('Loss for final step: %s.', loss)<br>\n304     return self</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/estimator/estimator.pyc in _train_model(self, input_fn, hooks, saving_listeners)<br>\n781         loss = None<br>\n782         while not mon_sess.should_stop():<br>\n--&gt; 783           _, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])<br>\n784       return loss<br>\n785</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in <strong>exit</strong>(self, exception_type, exception_value, traceback)<br>\n535     if exception_type in [errors.OutOfRangeError, StopIteration]:<br>\n536       exception_type = None<br>\n--&gt; 537     self._close_internal(exception_type)<br>\n538     # <strong>exit</strong> should return True to suppress an exception.<br>\n539     return exception_type is None</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in _close_internal(self, exception_type)<br>\n572         if self._sess is None:<br>\n573           raise RuntimeError('Session is already closed.')<br>\n--&gt; 574         self._sess.close()<br>\n575       finally:<br>\n576         self._sess = None</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in close(self)<br>\n818     if self._sess:<br>\n819       try:<br>\n--&gt; 820         self._sess.close()<br>\n821       except _PREEMPTION_ERRORS:<br>\n822         pass</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in close(self)<br>\n939       self._coord.join(<br>\n940           stop_grace_period_secs=self._stop_grace_period_secs,<br>\n--&gt; 941           ignore_live_threads=True)<br>\n942     finally:<br>\n943       try:</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/coordinator.pyc in join(self, threads, stop_grace_period_secs, ignore_live_threads)<br>\n387       self._registered_threads = set()<br>\n388       if self._exc_info_to_raise:<br>\n--&gt; 389         six.reraise(*self._exc_info_to_raise)<br>\n390       elif stragglers:<br>\n391         if ignore_live_threads:</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/estimator/inputs/queues/feeding_queue_runner.pyc in _run(self, sess, enqueue_op, feed_fn, coord)<br>\n92         try:<br>\n93           feed_dict = None if feed_fn is None else feed_fn()<br>\n---&gt; 94           sess.run(enqueue_op, feed_dict=feed_dict)<br>\n95         except (errors.OutOfRangeError, errors.CancelledError):<br>\n96           # This exception indicates that a queue was closed.</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in run(self, fetches, feed_dict, options, run_metadata)<br>\n887     try:<br>\n888       result = self._run(None, fetches, feed_dict, options_ptr,<br>\n--&gt; 889                          run_metadata_ptr)<br>\n890       if run_metadata:<br>\n891         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _run(self, handle, fetches, feed_dict, options, run_metadata)<br>\n1118     if final_fetches or final_targets or (handle and feed_dict_tensor):<br>\n1119       results = self._do_run(handle, final_targets, final_fetches,<br>\n-&gt; 1120                              feed_dict_tensor, options, run_metadata)<br>\n1121     else:<br>\n1122       results = []</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)<br>\n1315     if handle is None:<br>\n1316       return self._do_call(_run_fn, self._session, feeds, fetches, targets,<br>\n-&gt; 1317                            options, run_metadata)<br>\n1318     else:<br>\n1319       return self._do_call(_prun_fn, self._session, handle, feeds, fetches)</p>\n<p>/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_call(self, fn, *args)<br>\n1334         except KeyError:<br>\n1335           pass<br>\n-&gt; 1336       raise type(e)(node_def, op, message)<br>\n1337<br>\n1338   def _extend_graph(self):</p>\n<p>InternalError: Unsupported feed type</p>", "body_text": "Here is logs:\n2018-03-18 14:28:01.368845: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla M60, pci bus id: 0000:00:15.0, compute capability: 5.2)\nINFO:tensorflow:Error reported to Coordinator: <class 'tensorflow.python.framework.errors_impl.InternalError'>, Unsupported feed type\n2018-03-18 14:28:08.345478: W tensorflow/core/framework/op_kernel.cc:1192] Out of range: FIFOQueue '_6_enqueue_input/fifo_queue' is closed and has insufficient elements (requested 1024, current size 0)\n[[Node: fifo_queue_DequeueUpTo = QueueDequeueUpToV2[component_types=[DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_INT64], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](enqueue_input/fifo_queue, fifo_queue_DequeueUpTo/n)]]\n2018-03-18 14:28:08.345610: W tensorflow/core/framework/op_kernel.cc:1192] Out of range: FIFOQueue '_6_enqueue_input/fifo_queue' is closed and has insufficient elements (requested 1024, current size 0)\n[[Node: fifo_queue_DequeueUpTo = QueueDequeueUpToV2[component_types=[DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_INT64], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](enqueue_input/fifo_queue, fifo_queue_DequeueUpTo/n)]]\nINFO:tensorflow:Saving checkpoints for 0 into /data/kai.zhang/dnn/model/model.ckpt.\n2018-03-18 14:28:11.073924: E tensorflow/core/util/events_writer.cc:162] The events file /data/kai.zhang/dnn/model/events.out.tfevents.1521348849.xh-mlplatform-job-service01.gh.sankuai.com has disappeared.\n2018-03-18 14:28:11.073981: E tensorflow/core/util/events_writer.cc:131] Failed to flush 30 events to /data/kai.zhang/dnn/model/events.out.tfevents.1521348849.xh-mlplatform-job-service01.gh.sankuai.com\nInternalError                             Traceback (most recent call last)\n in ()\n1 shutil.rmtree(\"/data/kai.zhang/dnn/model/\", ignore_errors=True)\n----> 2 classifier.train(input_fn=train_input_fn, steps=500)\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/estimator/estimator.pyc in train(self, input_fn, hooks, steps, max_steps, saving_listeners)\n300\n301     saving_listeners = _check_listeners_type(saving_listeners)\n--> 302     loss = self._train_model(input_fn, hooks, saving_listeners)\n303     logging.info('Loss for final step: %s.', loss)\n304     return self\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/estimator/estimator.pyc in _train_model(self, input_fn, hooks, saving_listeners)\n781         loss = None\n782         while not mon_sess.should_stop():\n--> 783           _, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])\n784       return loss\n785\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in exit(self, exception_type, exception_value, traceback)\n535     if exception_type in [errors.OutOfRangeError, StopIteration]:\n536       exception_type = None\n--> 537     self._close_internal(exception_type)\n538     # exit should return True to suppress an exception.\n539     return exception_type is None\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in _close_internal(self, exception_type)\n572         if self._sess is None:\n573           raise RuntimeError('Session is already closed.')\n--> 574         self._sess.close()\n575       finally:\n576         self._sess = None\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in close(self)\n818     if self._sess:\n819       try:\n--> 820         self._sess.close()\n821       except _PREEMPTION_ERRORS:\n822         pass\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in close(self)\n939       self._coord.join(\n940           stop_grace_period_secs=self._stop_grace_period_secs,\n--> 941           ignore_live_threads=True)\n942     finally:\n943       try:\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/coordinator.pyc in join(self, threads, stop_grace_period_secs, ignore_live_threads)\n387       self._registered_threads = set()\n388       if self._exc_info_to_raise:\n--> 389         six.reraise(*self._exc_info_to_raise)\n390       elif stragglers:\n391         if ignore_live_threads:\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/estimator/inputs/queues/feeding_queue_runner.pyc in _run(self, sess, enqueue_op, feed_fn, coord)\n92         try:\n93           feed_dict = None if feed_fn is None else feed_fn()\n---> 94           sess.run(enqueue_op, feed_dict=feed_dict)\n95         except (errors.OutOfRangeError, errors.CancelledError):\n96           # This exception indicates that a queue was closed.\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in run(self, fetches, feed_dict, options, run_metadata)\n887     try:\n888       result = self._run(None, fetches, feed_dict, options_ptr,\n--> 889                          run_metadata_ptr)\n890       if run_metadata:\n891         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _run(self, handle, fetches, feed_dict, options, run_metadata)\n1118     if final_fetches or final_targets or (handle and feed_dict_tensor):\n1119       results = self._do_run(handle, final_targets, final_fetches,\n-> 1120                              feed_dict_tensor, options, run_metadata)\n1121     else:\n1122       results = []\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\n1315     if handle is None:\n1316       return self._do_call(_run_fn, self._session, feeds, fetches, targets,\n-> 1317                            options, run_metadata)\n1318     else:\n1319       return self._do_call(_prun_fn, self._session, handle, feeds, fetches)\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_call(self, fn, *args)\n1334         except KeyError:\n1335           pass\n-> 1336       raise type(e)(node_def, op, message)\n1337\n1338   def _extend_graph(self):\nInternalError: Unsupported feed type", "body": "Here is logs:\r\n\r\n2018-03-18 14:28:01.368845: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla M60, pci bus id: 0000:00:15.0, compute capability: 5.2)\r\nINFO:tensorflow:Error reported to Coordinator: <class 'tensorflow.python.framework.errors_impl.InternalError'>, Unsupported feed type\r\n2018-03-18 14:28:08.345478: W tensorflow/core/framework/op_kernel.cc:1192] Out of range: FIFOQueue '_6_enqueue_input/fifo_queue' is closed and has insufficient elements (requested 1024, current size 0)\r\n\t [[Node: fifo_queue_DequeueUpTo = QueueDequeueUpToV2[component_types=[DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_INT64], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](enqueue_input/fifo_queue, fifo_queue_DequeueUpTo/n)]]\r\n2018-03-18 14:28:08.345610: W tensorflow/core/framework/op_kernel.cc:1192] Out of range: FIFOQueue '_6_enqueue_input/fifo_queue' is closed and has insufficient elements (requested 1024, current size 0)\r\n\t [[Node: fifo_queue_DequeueUpTo = QueueDequeueUpToV2[component_types=[DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_DOUBLE, DT_INT64, DT_INT64], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](enqueue_input/fifo_queue, fifo_queue_DequeueUpTo/n)]]\r\nINFO:tensorflow:Saving checkpoints for 0 into /data/kai.zhang/dnn/model/model.ckpt.\r\n2018-03-18 14:28:11.073924: E tensorflow/core/util/events_writer.cc:162] The events file /data/kai.zhang/dnn/model/events.out.tfevents.1521348849.xh-mlplatform-job-service01.gh.sankuai.com has disappeared.\r\n2018-03-18 14:28:11.073981: E tensorflow/core/util/events_writer.cc:131] Failed to flush 30 events to /data/kai.zhang/dnn/model/events.out.tfevents.1521348849.xh-mlplatform-job-service01.gh.sankuai.com\r\n---------------------------------------------------------------------------\r\nInternalError                             Traceback (most recent call last)\r\n<ipython-input-38-00bd15f0669f> in <module>()\r\n      1 shutil.rmtree(\"/data/kai.zhang/dnn/model/\", ignore_errors=True)\r\n----> 2 classifier.train(input_fn=train_input_fn, steps=500)\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/estimator/estimator.pyc in train(self, input_fn, hooks, steps, max_steps, saving_listeners)\r\n    300\r\n    301     saving_listeners = _check_listeners_type(saving_listeners)\r\n--> 302     loss = self._train_model(input_fn, hooks, saving_listeners)\r\n    303     logging.info('Loss for final step: %s.', loss)\r\n    304     return self\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/estimator/estimator.pyc in _train_model(self, input_fn, hooks, saving_listeners)\r\n    781         loss = None\r\n    782         while not mon_sess.should_stop():\r\n--> 783           _, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])\r\n    784       return loss\r\n    785\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in __exit__(self, exception_type, exception_value, traceback)\r\n    535     if exception_type in [errors.OutOfRangeError, StopIteration]:\r\n    536       exception_type = None\r\n--> 537     self._close_internal(exception_type)\r\n    538     # __exit__ should return True to suppress an exception.\r\n    539     return exception_type is None\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in _close_internal(self, exception_type)\r\n    572         if self._sess is None:\r\n    573           raise RuntimeError('Session is already closed.')\r\n--> 574         self._sess.close()\r\n    575       finally:\r\n    576         self._sess = None\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in close(self)\r\n    818     if self._sess:\r\n    819       try:\r\n--> 820         self._sess.close()\r\n    821       except _PREEMPTION_ERRORS:\r\n    822         pass\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/monitored_session.pyc in close(self)\r\n    939       self._coord.join(\r\n    940           stop_grace_period_secs=self._stop_grace_period_secs,\r\n--> 941           ignore_live_threads=True)\r\n    942     finally:\r\n    943       try:\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/coordinator.pyc in join(self, threads, stop_grace_period_secs, ignore_live_threads)\r\n    387       self._registered_threads = set()\r\n    388       if self._exc_info_to_raise:\r\n--> 389         six.reraise(*self._exc_info_to_raise)\r\n    390       elif stragglers:\r\n    391         if ignore_live_threads:\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/estimator/inputs/queues/feeding_queue_runner.pyc in _run(self, sess, enqueue_op, feed_fn, coord)\r\n     92         try:\r\n     93           feed_dict = None if feed_fn is None else feed_fn()\r\n---> 94           sess.run(enqueue_op, feed_dict=feed_dict)\r\n     95         except (errors.OutOfRangeError, errors.CancelledError):\r\n     96           # This exception indicates that a queue was closed.\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in run(self, fetches, feed_dict, options, run_metadata)\r\n    887     try:\r\n    888       result = self._run(None, fetches, feed_dict, options_ptr,\r\n--> 889                          run_metadata_ptr)\r\n    890       if run_metadata:\r\n    891         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _run(self, handle, fetches, feed_dict, options, run_metadata)\r\n   1118     if final_fetches or final_targets or (handle and feed_dict_tensor):\r\n   1119       results = self._do_run(handle, final_targets, final_fetches,\r\n-> 1120                              feed_dict_tensor, options, run_metadata)\r\n   1121     else:\r\n   1122       results = []\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\r\n   1315     if handle is None:\r\n   1316       return self._do_call(_run_fn, self._session, feeds, fetches, targets,\r\n-> 1317                            options, run_metadata)\r\n   1318     else:\r\n   1319       return self._do_call(_prun_fn, self._session, handle, feeds, fetches)\r\n\r\n/data/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.pyc in _do_call(self, fn, *args)\r\n   1334         except KeyError:\r\n   1335           pass\r\n-> 1336       raise type(e)(node_def, op, message)\r\n   1337\r\n   1338   def _extend_graph(self):\r\n\r\nInternalError: Unsupported feed type\r\n"}