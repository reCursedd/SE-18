{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/221066068", "pull_request_review_id": 159627235, "id": 221066068, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMTA2NjA2OA==", "diff_hunk": "@@ -56,6 +57,10 @@ int32 NumInterOpThreadsFromSessionOptions(const SessionOptions& options) {\n   const int32 inter_op = options.config.inter_op_parallelism_threads();\n   if (inter_op != 0) return inter_op;\n #ifdef INTEL_MKL\n+  // Early return if MKL is disabled\n+  if (DisableMKL())\n+    return port::NumSchedulableCPUs();", "path": "tensorflow/core/common_runtime/process_util.cc", "position": null, "original_position": 14, "commit_id": "7dc5f7caa959c70d5ca948f7b0fc5abfea9a5935", "original_commit_id": "e65f88aa1abac315e88efdc58c00a69680016fcc", "user": {"login": "penpornk", "id": 38085909, "node_id": "MDQ6VXNlcjM4MDg1OTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/38085909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/penpornk", "html_url": "https://github.com/penpornk", "followers_url": "https://api.github.com/users/penpornk/followers", "following_url": "https://api.github.com/users/penpornk/following{/other_user}", "gists_url": "https://api.github.com/users/penpornk/gists{/gist_id}", "starred_url": "https://api.github.com/users/penpornk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/penpornk/subscriptions", "organizations_url": "https://api.github.com/users/penpornk/orgs", "repos_url": "https://api.github.com/users/penpornk/repos", "events_url": "https://api.github.com/users/penpornk/events{/privacy}", "received_events_url": "https://api.github.com/users/penpornk/received_events", "type": "User", "site_admin": false}, "body": "We don't want to duplicate the default logic (because if someone decides to update it in line 80, they might not know to change this line as well). Could you please  wrap the whole MKL code in `if(!DisableMKL())` instead?", "created_at": "2018-09-27T20:28:22Z", "updated_at": "2018-10-02T00:19:03Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/22493#discussion_r221066068", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/22493", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/221066068"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/22493#discussion_r221066068"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/22493"}}, "body_html": "<p>We don't want to duplicate the default logic (because if someone decides to update it in line 80, they might not know to change this line as well). Could you please  wrap the whole MKL code in <code>if(!DisableMKL())</code> instead?</p>", "body_text": "We don't want to duplicate the default logic (because if someone decides to update it in line 80, they might not know to change this line as well). Could you please  wrap the whole MKL code in if(!DisableMKL()) instead?"}