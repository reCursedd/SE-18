{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/59947145", "pull_request_review_id": null, "id": 59947145, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5OTQ3MTQ1", "diff_hunk": "@@ -0,0 +1,147 @@\n+package tensorflow\n+\n+import (\n+\t\"fmt\"\n+\t\"runtime\"\n+\n+\t\"github.com/golang/protobuf/proto\"\n+)\n+\n+// Session A Session instance lets a caller drive a TensorFlow graph\n+// computation.\n+type Session struct {\n+\tops     TF_SessionOptions\n+\tsession TF_Session\n+\tstatus  TF_Status\n+\tgraph   *Graph\n+}\n+\n+// NewSession initializes a new TensorFlow session.\n+func NewSession() (s *Session, err error) {\n+\tstatus := TF_NewStatus()\n+\tops := TF_NewSessionOptions()\n+\ts = &Session{\n+\t\tops:    ops,\n+\t\tstatus: status,\n+\t\tsession: TF_NewSession(\n+\t\t\tops,\n+\t\t\tstatus,\n+\t\t),\n+\t}\n+\n+\terr = s.statusToError(status)\n+\n+\t// Release the C allocated memory when the instance is destroyed\n+\truntime.SetFinalizer(s, (*Session).FreeAllocMem)\n+\n+\treturn\n+}\n+\n+// Run Runs the operations on the target nodes, or all the operations if not\n+// targets are specified. the Parameter Input in a dictionary where the key is\n+// the tensor name on the graph, and the value the Tensor. The parameter\n+// outputs is used to specify the tensors from the graph to be returned in the\n+// same order as they occur on the slice.\n+func (s *Session) Run(inputs map[string]*Tensor, outputs []string, targets []string) ([]*Tensor, error) {\n+\tinputNames := NewStringVector()\n+\tinputValues := NewTensorVector()\n+\tfor k, v := range inputs {\n+\t\tv.setCMemAsAlreadyRelease()\n+\t\tinputValues.Add(v.tensor)\n+\t\tinputNames.Add(k)\n+\t}\n+\toutputNames := NewStringVector()\n+\tfor _, n := range outputs {\n+\t\toutputNames.Add(n)\n+\t}\n+\n+\ttargetNames := NewStringVector()\n+\tfor _, n := range targets {\n+\t\ttargetNames.Add(n)\n+\t}\n+\n+\toutputValues := NewTensorVector()\n+\tstatus := TF_NewStatus()\n+\tdefer TF_DeleteStatus(status)\n+\n+\tTF_Run_wrapper(\n+\t\ts.session,\n+\t\tinputNames,\n+\t\tinputValues,\n+\t\toutputNames,\n+\t\toutputValues,\n+\t\ttargetNames,\n+\t\tstatus)\n+\n+\tresult := make([]*Tensor, 0, outputValues.Size())\n+\tfor i := int64(0); i < outputValues.Size(); i++ {\n+\t\tresult = append(result, &Tensor{\n+\t\t\ttensor: outputValues.Get(int(i)),\n+\t\t})\n+\t}\n+\n+\treturn result, s.statusToError(status)\n+}\n+\n+// ExtendGraph Loads the graph definition on the session.\n+func (s *Session) ExtendGraph(graph *Graph) (err error) {\n+\tstatus := TF_NewStatus()\n+\tdefer TF_DeleteStatus(status)\n+\tbuf, err := proto.Marshal(graph.def)\n+\tif err != nil {\n+\t\treturn err\n+\t}\n+\n+\tTF_ExtendGraph(s.session, buf, status)\n+\ts.graph = graph\n+\n+\treturn s.statusToError(status)\n+}\n+\n+// ExtendAndInitializeAllVariables Adds the \"init\" op to the graph in order to", "path": "tensorflow/contrib/go/session.go", "position": null, "original_position": 101, "commit_id": "942760424141d0f5a930982d5e78aaeb05869488", "original_commit_id": "210180befbd05694aa3285fef7d498bbd1be2dcc", "user": {"login": "alonsovidales", "id": 1468785, "node_id": "MDQ6VXNlcjE0Njg3ODU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1468785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alonsovidales", "html_url": "https://github.com/alonsovidales", "followers_url": "https://api.github.com/users/alonsovidales/followers", "following_url": "https://api.github.com/users/alonsovidales/following{/other_user}", "gists_url": "https://api.github.com/users/alonsovidales/gists{/gist_id}", "starred_url": "https://api.github.com/users/alonsovidales/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alonsovidales/subscriptions", "organizations_url": "https://api.github.com/users/alonsovidales/orgs", "repos_url": "https://api.github.com/users/alonsovidales/repos", "events_url": "https://api.github.com/users/alonsovidales/events{/privacy}", "received_events_url": "https://api.github.com/users/alonsovidales/received_events", "type": "User", "site_admin": false}, "body": "I don't understand what you mean here by \"I'll stop noting these\" . I already did the replacement of the de-capitalization of the second word for all the comments, but what do you mean by the \"comment sentences\"?\n", "created_at": "2016-04-15T21:59:21Z", "updated_at": "2016-05-05T08:12:14Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/1771#discussion_r59947145", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/1771", "author_association": "NONE", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/59947145"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/1771#discussion_r59947145"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/1771"}}, "body_html": "<p>I don't understand what you mean here by \"I'll stop noting these\" . I already did the replacement of the de-capitalization of the second word for all the comments, but what do you mean by the \"comment sentences\"?</p>", "body_text": "I don't understand what you mean here by \"I'll stop noting these\" . I already did the replacement of the de-capitalization of the second word for all the comments, but what do you mean by the \"comment sentences\"?"}