{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/281547339", "html_url": "https://github.com/tensorflow/tensorflow/issues/6509#issuecomment-281547339", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6509", "id": 281547339, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTU0NzMzOQ==", "user": {"login": "MikeZhu92", "id": 16514924, "node_id": "MDQ6VXNlcjE2NTE0OTI0", "avatar_url": "https://avatars1.githubusercontent.com/u/16514924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MikeZhu92", "html_url": "https://github.com/MikeZhu92", "followers_url": "https://api.github.com/users/MikeZhu92/followers", "following_url": "https://api.github.com/users/MikeZhu92/following{/other_user}", "gists_url": "https://api.github.com/users/MikeZhu92/gists{/gist_id}", "starred_url": "https://api.github.com/users/MikeZhu92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MikeZhu92/subscriptions", "organizations_url": "https://api.github.com/users/MikeZhu92/orgs", "repos_url": "https://api.github.com/users/MikeZhu92/repos", "events_url": "https://api.github.com/users/MikeZhu92/events{/privacy}", "received_events_url": "https://api.github.com/users/MikeZhu92/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-22T02:16:59Z", "updated_at": "2017-02-22T02:16:59Z", "author_association": "NONE", "body_html": "<p>I come up with the same issue. It can be solved by the solution provided by<code>name-name</code><br>\nHere is my computer info:</p>\n<blockquote>\n<p>Win 8.1  (64bit)<br>\nGPU     GT 750M 4G (GK107)<br>\nCUDA  8.0.60<br>\ncuDNN  5.1<br>\ntensorflow-gpu 0.12.1</p>\n</blockquote>\n<p>I have tried tensorflow-gpu 1.0.0 (not sure whether rc1 or 2) (Install using <code>pip install tensorflow-gpu</code>)</p>\n<p>It actually make things worse, the program will get error in both situations.<br>\n(1. with the original code      2. replace the tf.one_hot() )</p>\n<p>Here is the info I have got in tensorflow-gpu 1.0.0 with <code>tf.one_hot()</code></p>\n<pre><code>ValueError                                Traceback (most recent call last)\n&lt;ipython-input-8-967bb02bb6da&gt; in &lt;module&gt;()\n      2 \n      3 logits = LeNet(x)\n----&gt; 4 cross_entropy = tf.nn.softmax_cross_entropy_with_logits(logits, one_hot_y)\n      5 loss_operation = tf.reduce_mean(cross_entropy)\n      6 optimizer = tf.train.AdamOptimizer(learning_rate = rate)\n\nC:\\Users\\name \\Miniconda3\\envs\\env1\\lib\\site-packages\\tensorflow\\python\\ops\\nn_ops.py in softmax_cross_entropy_with_logits(_sentinel, labels, logits, dim, name)\n   1576   \"\"\"\n   1577   _ensure_xent_args(\"softmax_cross_entropy_with_logits\", _sentinel,\n-&gt; 1578                     labels, logits)\n   1579 \n   1580   # TODO(pcmurray) Raise an error when the labels do not sum to 1. Note: This\n\nC:\\Users\\name \\Miniconda3\\envs\\env1\\lib\\site-packages\\tensorflow\\python\\ops\\nn_ops.py in _ensure_xent_args(name, sentinel, labels, logits)\n   1531   if sentinel is not None:\n   1532     raise ValueError(\"Only call `%s` with \"\n-&gt; 1533                      \"named arguments (labels=..., logits=..., ...)\" % name)\n   1534   if labels is None or logits is None:\n   1535     raise ValueError(\"Both labels and logits must be provided.\")\n\nValueError: Only call `softmax_cross_entropy_with_logits` with named arguments (labels=..., logits=..., ...)\n</code></pre>\n<p>The info I have got in tensorflow-gpu 0.12.1 with <code>tf.one_hot()</code> is</p>\n<pre><code>c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS\n</code></pre>", "body_text": "I come up with the same issue. It can be solved by the solution provided byname-name\nHere is my computer info:\n\nWin 8.1  (64bit)\nGPU     GT 750M 4G (GK107)\nCUDA  8.0.60\ncuDNN  5.1\ntensorflow-gpu 0.12.1\n\nI have tried tensorflow-gpu 1.0.0 (not sure whether rc1 or 2) (Install using pip install tensorflow-gpu)\nIt actually make things worse, the program will get error in both situations.\n(1. with the original code      2. replace the tf.one_hot() )\nHere is the info I have got in tensorflow-gpu 1.0.0 with tf.one_hot()\nValueError                                Traceback (most recent call last)\n<ipython-input-8-967bb02bb6da> in <module>()\n      2 \n      3 logits = LeNet(x)\n----> 4 cross_entropy = tf.nn.softmax_cross_entropy_with_logits(logits, one_hot_y)\n      5 loss_operation = tf.reduce_mean(cross_entropy)\n      6 optimizer = tf.train.AdamOptimizer(learning_rate = rate)\n\nC:\\Users\\name \\Miniconda3\\envs\\env1\\lib\\site-packages\\tensorflow\\python\\ops\\nn_ops.py in softmax_cross_entropy_with_logits(_sentinel, labels, logits, dim, name)\n   1576   \"\"\"\n   1577   _ensure_xent_args(\"softmax_cross_entropy_with_logits\", _sentinel,\n-> 1578                     labels, logits)\n   1579 \n   1580   # TODO(pcmurray) Raise an error when the labels do not sum to 1. Note: This\n\nC:\\Users\\name \\Miniconda3\\envs\\env1\\lib\\site-packages\\tensorflow\\python\\ops\\nn_ops.py in _ensure_xent_args(name, sentinel, labels, logits)\n   1531   if sentinel is not None:\n   1532     raise ValueError(\"Only call `%s` with \"\n-> 1533                      \"named arguments (labels=..., logits=..., ...)\" % name)\n   1534   if labels is None or logits is None:\n   1535     raise ValueError(\"Both labels and logits must be provided.\")\n\nValueError: Only call `softmax_cross_entropy_with_logits` with named arguments (labels=..., logits=..., ...)\n\nThe info I have got in tensorflow-gpu 0.12.1 with tf.one_hot() is\nc:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS", "body": "I come up with the same issue. It can be solved by the solution provided by`name-name`\r\nHere is my computer info:\r\n>  Win 8.1  (64bit)\r\n>  GPU     GT 750M 4G (GK107)\r\n>    CUDA  8.0.60\r\n>  cuDNN  5.1\r\n>  tensorflow-gpu 0.12.1\r\n\r\nI have tried tensorflow-gpu 1.0.0 (not sure whether rc1 or 2) (Install using `pip install tensorflow-gpu`)\r\n\r\nIt actually make things worse, the program will get error in both situations. \r\n(1. with the original code      2. replace the tf.one_hot() ) \r\n\r\nHere is the info I have got in tensorflow-gpu 1.0.0 with `tf.one_hot()`\r\n```\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-8-967bb02bb6da> in <module>()\r\n      2 \r\n      3 logits = LeNet(x)\r\n----> 4 cross_entropy = tf.nn.softmax_cross_entropy_with_logits(logits, one_hot_y)\r\n      5 loss_operation = tf.reduce_mean(cross_entropy)\r\n      6 optimizer = tf.train.AdamOptimizer(learning_rate = rate)\r\n\r\nC:\\Users\\name \\Miniconda3\\envs\\env1\\lib\\site-packages\\tensorflow\\python\\ops\\nn_ops.py in softmax_cross_entropy_with_logits(_sentinel, labels, logits, dim, name)\r\n   1576   \"\"\"\r\n   1577   _ensure_xent_args(\"softmax_cross_entropy_with_logits\", _sentinel,\r\n-> 1578                     labels, logits)\r\n   1579 \r\n   1580   # TODO(pcmurray) Raise an error when the labels do not sum to 1. Note: This\r\n\r\nC:\\Users\\name \\Miniconda3\\envs\\env1\\lib\\site-packages\\tensorflow\\python\\ops\\nn_ops.py in _ensure_xent_args(name, sentinel, labels, logits)\r\n   1531   if sentinel is not None:\r\n   1532     raise ValueError(\"Only call `%s` with \"\r\n-> 1533                      \"named arguments (labels=..., logits=..., ...)\" % name)\r\n   1534   if labels is None or logits is None:\r\n   1535     raise ValueError(\"Both labels and logits must be provided.\")\r\n\r\nValueError: Only call `softmax_cross_entropy_with_logits` with named arguments (labels=..., logits=..., ...)\r\n```\r\n\r\nThe info I have got in tensorflow-gpu 0.12.1 with `tf.one_hot()` is\r\n```\r\nc:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_ILLEGAL_ADDRESS\r\n```"}