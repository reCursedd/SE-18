{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8332", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8332/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8332/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8332/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8332", "id": 213645533, "node_id": "MDU6SXNzdWUyMTM2NDU1MzM=", "number": 8332, "title": "Using control flow loops in @function.Defun fails with InvalidArgumentError", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "skye", "id": 88808, "node_id": "MDQ6VXNlcjg4ODA4", "avatar_url": "https://avatars1.githubusercontent.com/u/88808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skye", "html_url": "https://github.com/skye", "followers_url": "https://api.github.com/users/skye/followers", "following_url": "https://api.github.com/users/skye/following{/other_user}", "gists_url": "https://api.github.com/users/skye/gists{/gist_id}", "starred_url": "https://api.github.com/users/skye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skye/subscriptions", "organizations_url": "https://api.github.com/users/skye/orgs", "repos_url": "https://api.github.com/users/skye/repos", "events_url": "https://api.github.com/users/skye/events{/privacy}", "received_events_url": "https://api.github.com/users/skye/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skye", "id": 88808, "node_id": "MDQ6VXNlcjg4ODA4", "avatar_url": "https://avatars1.githubusercontent.com/u/88808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skye", "html_url": "https://github.com/skye", "followers_url": "https://api.github.com/users/skye/followers", "following_url": "https://api.github.com/users/skye/following{/other_user}", "gists_url": "https://api.github.com/users/skye/gists{/gist_id}", "starred_url": "https://api.github.com/users/skye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skye/subscriptions", "organizations_url": "https://api.github.com/users/skye/orgs", "repos_url": "https://api.github.com/users/skye/repos", "events_url": "https://api.github.com/users/skye/events{/privacy}", "received_events_url": "https://api.github.com/users/skye/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-03-12T23:37:33Z", "updated_at": "2017-03-13T19:57:05Z", "closed_at": "2017-03-13T19:57:05Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Quoting from <a href=\"http://stackoverflow.com/q/42752060/3574081\" rel=\"nofollow\">this Stack Overflow question</a>. The following code snippet:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">def</span> <span class=\"pl-en\">add_func</span>(<span class=\"pl-smi\">x</span>):\n    <span class=\"pl-k\">return</span> x<span class=\"pl-k\">+</span><span class=\"pl-c1\">1</span>\n\n<span class=\"pl-en\">@function.Defun</span>(tf.float32)\n<span class=\"pl-k\">def</span> <span class=\"pl-en\">test</span>(<span class=\"pl-smi\">a</span>):\n    <span class=\"pl-k\">return</span> tf.map_fn(add, a)\n\n<span class=\"pl-k\">with</span> tf.Session() <span class=\"pl-k\">as</span> sess:\n    a <span class=\"pl-k\">=</span> tf.ones(<span class=\"pl-v\">shape</span><span class=\"pl-k\">=</span>(<span class=\"pl-c1\">6</span>,<span class=\"pl-c1\">1</span>))\n    res <span class=\"pl-k\">=</span> sess.run(test(a))</pre></div>\n<p>...generates the following error:</p>\n<pre><code>InvalidArgumentError: 25 nodes in a cycle\n     [[Node: test_8028ca0d_2 = test_8028ca0d[_device=\"/job:localhost/replica:0/task:0/cpu:0\"](ones_4)]]\n\nCaused by op 'test_8028ca0d_2', defined at:\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\ipython\\start_kernel.py\", line 223, in &lt;module&gt;\n    main()\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\ipython\\start_kernel.py\", line 219, in main\n    kernel.start()\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelapp.py\", line 474, in start\n    ioloop.IOLoop.instance().start()\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\ioloop.py\", line 177, in start\n    super(ZMQIOLoop, self).start()\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tornado\\ioloop.py\", line 887, in start\n    handler_func(fd_obj, events)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tornado\\stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\zmqstream.py\", line 440, in _handle_events\n    self._handle_recv()\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\zmqstream.py\", line 472, in _handle_recv\n    self._run_callback(callback, msg)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\zmqstream.py\", line 414, in _run_callback\n    callback(*args, **kwargs)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tornado\\stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelbase.py\", line 276, in dispatcher\n    return self.dispatch_shell(stream, msg)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelbase.py\", line 228, in dispatch_shell\n    handler(stream, idents, msg)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelbase.py\", line 390, in execute_request\n    user_expressions, allow_stdin)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\ipkernel.py\", line 196, in do_execute\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\zmqshell.py\", line 501, in run_cell\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2717, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2827, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2881, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-19-c5e48d04d428&gt;\", line 1, in &lt;module&gt;\n    runfile('C:/Users/Nicki/.spyder-py3/temp.py', wdir='C:/Users/Nicki/.spyder-py3')\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 866, in runfile\n    execfile(filename, namespace)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 102, in execfile\n    exec(compile(f.read(), filename, 'exec'), namespace)\n  File \"C:/Users/Nicki/.spyder-py3/temp.py\", line 156, in &lt;module&gt;\n    res = sess.run(test(a))\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\function.py\", line 618, in __call__\n    return _call(self._definition.signature, *args, **kwargs)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\function.py\", line 271, in _call\n    compute_shapes=False)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2240, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1128, in __init__\n    self._traceback = _extract_stack()\n\nInvalidArgumentError (see above for traceback): 25 nodes in a cycle\n     [[Node: test_8028ca0d_2 = test_8028ca0d[_device=\"/job:localhost/replica:0/task:0/cpu:0\"](ones_4)]]\n</code></pre>\n<p>It looks like the error is coming from <a href=\"https://github.com/tensorflow/tensorflow/blob/12a98726e769e988f6368a029ec2f5b0ac3ccbd4/tensorflow/core/graph/graph_constructor.cc#L719\">this line in <code>graph_constructor.cc</code></a>, but I'm not sure what path a FunctionDef takes to get here.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=88808\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/skye\">@skye</a>: Preliminarily assigning this to you because you've been making functions work a lot better, but please feel free to nominate someone else (or I can help dig into it more).</p>", "body_text": "Quoting from this Stack Overflow question. The following code snippet:\ndef add_func(x):\n    return x+1\n\n@function.Defun(tf.float32)\ndef test(a):\n    return tf.map_fn(add, a)\n\nwith tf.Session() as sess:\n    a = tf.ones(shape=(6,1))\n    res = sess.run(test(a))\n...generates the following error:\nInvalidArgumentError: 25 nodes in a cycle\n     [[Node: test_8028ca0d_2 = test_8028ca0d[_device=\"/job:localhost/replica:0/task:0/cpu:0\"](ones_4)]]\n\nCaused by op 'test_8028ca0d_2', defined at:\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\ipython\\start_kernel.py\", line 223, in <module>\n    main()\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\ipython\\start_kernel.py\", line 219, in main\n    kernel.start()\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelapp.py\", line 474, in start\n    ioloop.IOLoop.instance().start()\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\ioloop.py\", line 177, in start\n    super(ZMQIOLoop, self).start()\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tornado\\ioloop.py\", line 887, in start\n    handler_func(fd_obj, events)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tornado\\stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\zmqstream.py\", line 440, in _handle_events\n    self._handle_recv()\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\zmqstream.py\", line 472, in _handle_recv\n    self._run_callback(callback, msg)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\zmqstream.py\", line 414, in _run_callback\n    callback(*args, **kwargs)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tornado\\stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelbase.py\", line 276, in dispatcher\n    return self.dispatch_shell(stream, msg)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelbase.py\", line 228, in dispatch_shell\n    handler(stream, idents, msg)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelbase.py\", line 390, in execute_request\n    user_expressions, allow_stdin)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\ipkernel.py\", line 196, in do_execute\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\zmqshell.py\", line 501, in run_cell\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2717, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2827, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2881, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-19-c5e48d04d428>\", line 1, in <module>\n    runfile('C:/Users/Nicki/.spyder-py3/temp.py', wdir='C:/Users/Nicki/.spyder-py3')\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 866, in runfile\n    execfile(filename, namespace)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 102, in execfile\n    exec(compile(f.read(), filename, 'exec'), namespace)\n  File \"C:/Users/Nicki/.spyder-py3/temp.py\", line 156, in <module>\n    res = sess.run(test(a))\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\function.py\", line 618, in __call__\n    return _call(self._definition.signature, *args, **kwargs)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\function.py\", line 271, in _call\n    compute_shapes=False)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2240, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1128, in __init__\n    self._traceback = _extract_stack()\n\nInvalidArgumentError (see above for traceback): 25 nodes in a cycle\n     [[Node: test_8028ca0d_2 = test_8028ca0d[_device=\"/job:localhost/replica:0/task:0/cpu:0\"](ones_4)]]\n\nIt looks like the error is coming from this line in graph_constructor.cc, but I'm not sure what path a FunctionDef takes to get here.\n@skye: Preliminarily assigning this to you because you've been making functions work a lot better, but please feel free to nominate someone else (or I can help dig into it more).", "body": "Quoting from [this Stack Overflow question](http://stackoverflow.com/q/42752060/3574081). The following code snippet:\r\n\r\n```python\r\ndef add_func(x):\r\n    return x+1\r\n\r\n@function.Defun(tf.float32)\r\ndef test(a):\r\n    return tf.map_fn(add, a)\r\n\r\nwith tf.Session() as sess:\r\n    a = tf.ones(shape=(6,1))\r\n    res = sess.run(test(a))\r\n```\r\n\r\n...generates the following error:\r\n\r\n```\r\nInvalidArgumentError: 25 nodes in a cycle\r\n     [[Node: test_8028ca0d_2 = test_8028ca0d[_device=\"/job:localhost/replica:0/task:0/cpu:0\"](ones_4)]]\r\n\r\nCaused by op 'test_8028ca0d_2', defined at:\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\ipython\\start_kernel.py\", line 223, in <module>\r\n    main()\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\ipython\\start_kernel.py\", line 219, in main\r\n    kernel.start()\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelapp.py\", line 474, in start\r\n    ioloop.IOLoop.instance().start()\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\ioloop.py\", line 177, in start\r\n    super(ZMQIOLoop, self).start()\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tornado\\ioloop.py\", line 887, in start\r\n    handler_func(fd_obj, events)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tornado\\stack_context.py\", line 275, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\zmqstream.py\", line 440, in _handle_events\r\n    self._handle_recv()\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\zmqstream.py\", line 472, in _handle_recv\r\n    self._run_callback(callback, msg)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\zmq\\eventloop\\zmqstream.py\", line 414, in _run_callback\r\n    callback(*args, **kwargs)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tornado\\stack_context.py\", line 275, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelbase.py\", line 276, in dispatcher\r\n    return self.dispatch_shell(stream, msg)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelbase.py\", line 228, in dispatch_shell\r\n    handler(stream, idents, msg)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\kernelbase.py\", line 390, in execute_request\r\n    user_expressions, allow_stdin)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\ipkernel.py\", line 196, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\ipykernel\\zmqshell.py\", line 501, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2717, in run_cell\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2827, in run_ast_nodes\r\n    if self.run_code(code, result):\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2881, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-19-c5e48d04d428>\", line 1, in <module>\r\n    runfile('C:/Users/Nicki/.spyder-py3/temp.py', wdir='C:/Users/Nicki/.spyder-py3')\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 866, in runfile\r\n    execfile(filename, namespace)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 102, in execfile\r\n    exec(compile(f.read(), filename, 'exec'), namespace)\r\n  File \"C:/Users/Nicki/.spyder-py3/temp.py\", line 156, in <module>\r\n    res = sess.run(test(a))\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\function.py\", line 618, in __call__\r\n    return _call(self._definition.signature, *args, **kwargs)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\function.py\", line 271, in _call\r\n    compute_shapes=False)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2240, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"C:\\Users\\Nicki\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1128, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nInvalidArgumentError (see above for traceback): 25 nodes in a cycle\r\n     [[Node: test_8028ca0d_2 = test_8028ca0d[_device=\"/job:localhost/replica:0/task:0/cpu:0\"](ones_4)]]\r\n```\r\n\r\nIt looks like the error is coming from [this line in `graph_constructor.cc`](https://github.com/tensorflow/tensorflow/blob/12a98726e769e988f6368a029ec2f5b0ac3ccbd4/tensorflow/core/graph/graph_constructor.cc#L719), but I'm not sure what path a FunctionDef takes to get here.\r\n\r\n@skye: Preliminarily assigning this to you because you've been making functions work a lot better, but please feel free to nominate someone else (or I can help dig into it more)."}