{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/292668444", "html_url": "https://github.com/tensorflow/tensorflow/issues/7380#issuecomment-292668444", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7380", "id": 292668444, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MjY2ODQ0NA==", "user": {"login": "MaskRay", "id": 416322, "node_id": "MDQ6VXNlcjQxNjMyMg==", "avatar_url": "https://avatars3.githubusercontent.com/u/416322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaskRay", "html_url": "https://github.com/MaskRay", "followers_url": "https://api.github.com/users/MaskRay/followers", "following_url": "https://api.github.com/users/MaskRay/following{/other_user}", "gists_url": "https://api.github.com/users/MaskRay/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaskRay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaskRay/subscriptions", "organizations_url": "https://api.github.com/users/MaskRay/orgs", "repos_url": "https://api.github.com/users/MaskRay/repos", "events_url": "https://api.github.com/users/MaskRay/events{/privacy}", "received_events_url": "https://api.github.com/users/MaskRay/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-07T22:38:49Z", "updated_at": "2017-04-07T22:49:40Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1381301\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ppwwyyxx\">@ppwwyyxx</a></p>\n<div class=\"highlight highlight-source-diff\"><pre><span class=\"pl-md\">--- a/tensorflow/tf_version_script.lds\t2017-04-07 22:37:11.949060397 +0000</span>\n<span class=\"pl-mi1\">+++ b/tensorflow/tf_version_script.lds\t2017-04-07 22:36:25.300982684 +0000</span>\n<span class=\"pl-mdr\">@@ -2,6 +2,9 @@</span>\n   global:\n     *tensorflow*;\n     *perftools*gputools*;\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>    extern \"C++\" {</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>      google::protobuf::MessageLite::*;</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>    };</span>\n   local:\n     *;\n };</pre></div>\n<pre><code>% bazel build --config=opt /* I need a graphics card... \ud83d\ude2d\ud83d\ude2d\ud83d\ude2d \u545c\u545c\u545c --config=cuda */ //tensorflow/tools/pip_package:build_pip_package\n% nm -CD bazel-out/local-py3-opt/bin/tensorflow/python/_pywrap_tensorflow_internal.so | grep ParseFromArray\n0000000002879f60 T google::protobuf::MessageLite::ParseFromArray(void const*, int)\n</code></pre>", "body_text": "@ppwwyyxx\n--- a/tensorflow/tf_version_script.lds\t2017-04-07 22:37:11.949060397 +0000\n+++ b/tensorflow/tf_version_script.lds\t2017-04-07 22:36:25.300982684 +0000\n@@ -2,6 +2,9 @@\n   global:\n     *tensorflow*;\n     *perftools*gputools*;\n+    extern \"C++\" {\n+      google::protobuf::MessageLite::*;\n+    };\n   local:\n     *;\n };\n% bazel build --config=opt /* I need a graphics card... \ud83d\ude2d\ud83d\ude2d\ud83d\ude2d \u545c\u545c\u545c --config=cuda */ //tensorflow/tools/pip_package:build_pip_package\n% nm -CD bazel-out/local-py3-opt/bin/tensorflow/python/_pywrap_tensorflow_internal.so | grep ParseFromArray\n0000000002879f60 T google::protobuf::MessageLite::ParseFromArray(void const*, int)", "body": "@ppwwyyxx \r\n\r\n```diff\r\n--- a/tensorflow/tf_version_script.lds\t2017-04-07 22:37:11.949060397 +0000\r\n+++ b/tensorflow/tf_version_script.lds\t2017-04-07 22:36:25.300982684 +0000\r\n@@ -2,6 +2,9 @@\r\n   global:\r\n     *tensorflow*;\r\n     *perftools*gputools*;\r\n+    extern \"C++\" {\r\n+      google::protobuf::MessageLite::*;\r\n+    };\r\n   local:\r\n     *;\r\n };\r\n```\r\n\r\n```\r\n% bazel build --config=opt /* I need a graphics card... \ud83d\ude2d\ud83d\ude2d\ud83d\ude2d \u545c\u545c\u545c --config=cuda */ //tensorflow/tools/pip_package:build_pip_package\r\n% nm -CD bazel-out/local-py3-opt/bin/tensorflow/python/_pywrap_tensorflow_internal.so | grep ParseFromArray\r\n0000000002879f60 T google::protobuf::MessageLite::ParseFromArray(void const*, int)\r\n```\r\n\r\n"}