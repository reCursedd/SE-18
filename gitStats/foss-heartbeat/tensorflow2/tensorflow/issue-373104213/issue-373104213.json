{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23191", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23191/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23191/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23191/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23191", "id": 373104213, "node_id": "MDU6SXNzdWUzNzMxMDQyMTM=", "number": 23191, "title": "Build from source Java", "user": {"login": "EduardoTayupanta", "id": 18728637, "node_id": "MDQ6VXNlcjE4NzI4NjM3", "avatar_url": "https://avatars0.githubusercontent.com/u/18728637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EduardoTayupanta", "html_url": "https://github.com/EduardoTayupanta", "followers_url": "https://api.github.com/users/EduardoTayupanta/followers", "following_url": "https://api.github.com/users/EduardoTayupanta/following{/other_user}", "gists_url": "https://api.github.com/users/EduardoTayupanta/gists{/gist_id}", "starred_url": "https://api.github.com/users/EduardoTayupanta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EduardoTayupanta/subscriptions", "organizations_url": "https://api.github.com/users/EduardoTayupanta/orgs", "repos_url": "https://api.github.com/users/EduardoTayupanta/repos", "events_url": "https://api.github.com/users/EduardoTayupanta/events{/privacy}", "received_events_url": "https://api.github.com/users/EduardoTayupanta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-10-23T17:06:31Z", "updated_at": "2018-11-23T18:40:12Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10</li>\n<li>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A</li>\n<li>TensorFlow installed from (source or binary): r1.11</li>\n<li>Python version:3.6</li>\n<li>Installed using virtualenv? pip? conda?: conda</li>\n<li>Bazel version (if compiling from source): 0.18.0</li>\n<li>CUDA/cuDNN version: 10.0</li>\n<li>GPU model and memory: nVidia970M</li>\n<li>Have I written custom code: N/A</li>\n<li>TensorFlow version: r1.11</li>\n<li>Exact command to reproduce: <code>bazel build --config=opt --config=cuda //tensorflow/java:tensorflow //tensorflow/java:libtensorflow_jni</code></li>\n</ul>\n<p>Error when installing tensorflow with java, generates the following error lines</p>\n<pre><code>tensorflow/java/BUILD:54:1: Building tensorflow/java/libprocessor_library-class.jar (1 source file) failed: Worker process quit or closed its stdin stream when we tried to send a WorkRequest:\n\n---8&lt;---8&lt;--- Exception details ---8&lt;---8&lt;---\njava.io.IOException:\n        at com.google.devtools.build.lib.windows.WindowsSubprocess.writeStream(WindowsSubprocess.java:252)\n        at com.google.devtools.build.lib.windows.WindowsSubprocess.access$000(WindowsSubprocess.java:33)\n        at com.google.devtools.build.lib.windows.WindowsSubprocess$ProcessOutputStream.write(WindowsSubprocess.java:52)\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.doFlush(CodedOutputStream.java:3003)\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.flushIfNotAvailable(CodedOutputStream.java:2998)\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.writeUInt32NoTag(CodedOutputStream.java:2825)\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.writeTag(CodedOutputStream.java:2670)\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.writeMessage(CodedOutputStream.java:2774)\n        at com.google.devtools.build.lib.worker.WorkerProtocol$WorkRequest.writeTo(WorkerProtocol.java:1009)\n        at com.google.protobuf.AbstractMessageLite.writeDelimitedTo(AbstractMessageLite.java:98)\n        at com.google.devtools.build.lib.worker.WorkerSpawnRunner.execInWorker(WorkerSpawnRunner.java:318)\n        at com.google.devtools.build.lib.worker.WorkerSpawnRunner.actuallyExec(WorkerSpawnRunner.java:160)\n        at com.google.devtools.build.lib.worker.WorkerSpawnRunner.exec(WorkerSpawnRunner.java:115)\n        at com.google.devtools.build.lib.exec.AbstractSpawnStrategy.exec(AbstractSpawnStrategy.java:106)\n        at com.google.devtools.build.lib.exec.AbstractSpawnStrategy.exec(AbstractSpawnStrategy.java:75)\n        at com.google.devtools.build.lib.exec.SpawnActionContextMaps$ProxySpawnActionContext.exec(SpawnActionContextMaps.java:362)\n        at com.google.devtools.build.lib.analysis.actions.SpawnAction.internalExecute(SpawnAction.java:288)\n        at com.google.devtools.build.lib.analysis.actions.SpawnAction.execute(SpawnAction.java:295)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.executeActionTask(SkyframeActionExecutor.java:994)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.prepareScheduleExecuteAndCompleteAction(SkyframeActionExecutor.java:923)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.access$800(SkyframeActionExecutor.java:121)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor$ActionRunner.call(SkyframeActionExecutor.java:763)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor$ActionRunner.call(SkyframeActionExecutor.java:718)\n        at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.executeAction(SkyframeActionExecutor.java:471)\n        at com.google.devtools.build.lib.skyframe.ActionExecutionFunction.checkCacheAndExecuteIfNeeded(ActionExecutionFunction.java:505)\n        at com.google.devtools.build.lib.skyframe.ActionExecutionFunction.compute(ActionExecutionFunction.java:215)\n        at com.google.devtools.build.skyframe.AbstractParallelEvaluator$Evaluate.run(AbstractParallelEvaluator.java:418)\n        at com.google.devtools.build.lib.concurrent.AbstractQueueVisitor$WrappedRunnable.run(AbstractQueueVisitor.java:368)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\n---8&lt;---8&lt;--- End of exception details ---8&lt;---8&lt;---\n\n---8&lt;---8&lt;--- Start of log, file at C:/users/eduar/_bazel_eduar/gr3cukxm/bazel-workers/worker-0-Javac.log ---8&lt;---8&lt;---\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nUnrecognized VM option 'CompactStrings'\n---8&lt;---8&lt;--- End of log ---8&lt;---8&lt;---\nINFO: Elapsed time: 281.132s, Critical Path: 94.67s\nINFO: 602 processes: 602 local.\nFAILED: Build did NOT complete successfully\n</code></pre>", "body_text": "System information\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\nTensorFlow installed from (source or binary): r1.11\nPython version:3.6\nInstalled using virtualenv? pip? conda?: conda\nBazel version (if compiling from source): 0.18.0\nCUDA/cuDNN version: 10.0\nGPU model and memory: nVidia970M\nHave I written custom code: N/A\nTensorFlow version: r1.11\nExact command to reproduce: bazel build --config=opt --config=cuda //tensorflow/java:tensorflow //tensorflow/java:libtensorflow_jni\n\nError when installing tensorflow with java, generates the following error lines\ntensorflow/java/BUILD:54:1: Building tensorflow/java/libprocessor_library-class.jar (1 source file) failed: Worker process quit or closed its stdin stream when we tried to send a WorkRequest:\n\n---8<---8<--- Exception details ---8<---8<---\njava.io.IOException:\n        at com.google.devtools.build.lib.windows.WindowsSubprocess.writeStream(WindowsSubprocess.java:252)\n        at com.google.devtools.build.lib.windows.WindowsSubprocess.access$000(WindowsSubprocess.java:33)\n        at com.google.devtools.build.lib.windows.WindowsSubprocess$ProcessOutputStream.write(WindowsSubprocess.java:52)\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.doFlush(CodedOutputStream.java:3003)\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.flushIfNotAvailable(CodedOutputStream.java:2998)\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.writeUInt32NoTag(CodedOutputStream.java:2825)\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.writeTag(CodedOutputStream.java:2670)\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.writeMessage(CodedOutputStream.java:2774)\n        at com.google.devtools.build.lib.worker.WorkerProtocol$WorkRequest.writeTo(WorkerProtocol.java:1009)\n        at com.google.protobuf.AbstractMessageLite.writeDelimitedTo(AbstractMessageLite.java:98)\n        at com.google.devtools.build.lib.worker.WorkerSpawnRunner.execInWorker(WorkerSpawnRunner.java:318)\n        at com.google.devtools.build.lib.worker.WorkerSpawnRunner.actuallyExec(WorkerSpawnRunner.java:160)\n        at com.google.devtools.build.lib.worker.WorkerSpawnRunner.exec(WorkerSpawnRunner.java:115)\n        at com.google.devtools.build.lib.exec.AbstractSpawnStrategy.exec(AbstractSpawnStrategy.java:106)\n        at com.google.devtools.build.lib.exec.AbstractSpawnStrategy.exec(AbstractSpawnStrategy.java:75)\n        at com.google.devtools.build.lib.exec.SpawnActionContextMaps$ProxySpawnActionContext.exec(SpawnActionContextMaps.java:362)\n        at com.google.devtools.build.lib.analysis.actions.SpawnAction.internalExecute(SpawnAction.java:288)\n        at com.google.devtools.build.lib.analysis.actions.SpawnAction.execute(SpawnAction.java:295)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.executeActionTask(SkyframeActionExecutor.java:994)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.prepareScheduleExecuteAndCompleteAction(SkyframeActionExecutor.java:923)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.access$800(SkyframeActionExecutor.java:121)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor$ActionRunner.call(SkyframeActionExecutor.java:763)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor$ActionRunner.call(SkyframeActionExecutor.java:718)\n        at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.executeAction(SkyframeActionExecutor.java:471)\n        at com.google.devtools.build.lib.skyframe.ActionExecutionFunction.checkCacheAndExecuteIfNeeded(ActionExecutionFunction.java:505)\n        at com.google.devtools.build.lib.skyframe.ActionExecutionFunction.compute(ActionExecutionFunction.java:215)\n        at com.google.devtools.build.skyframe.AbstractParallelEvaluator$Evaluate.run(AbstractParallelEvaluator.java:418)\n        at com.google.devtools.build.lib.concurrent.AbstractQueueVisitor$WrappedRunnable.run(AbstractQueueVisitor.java:368)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\n---8<---8<--- End of exception details ---8<---8<---\n\n---8<---8<--- Start of log, file at C:/users/eduar/_bazel_eduar/gr3cukxm/bazel-workers/worker-0-Javac.log ---8<---8<---\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nUnrecognized VM option 'CompactStrings'\n---8<---8<--- End of log ---8<---8<---\nINFO: Elapsed time: 281.132s, Critical Path: 94.67s\nINFO: 602 processes: 602 local.\nFAILED: Build did NOT complete successfully", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): r1.11\r\n- Python version:3.6\r\n- Installed using virtualenv? pip? conda?: conda\r\n- Bazel version (if compiling from source): 0.18.0\r\n- CUDA/cuDNN version: 10.0\r\n- GPU model and memory: nVidia970M\r\n- Have I written custom code: N/A\r\n- TensorFlow version: r1.11\r\n- Exact command to reproduce: `bazel build --config=opt --config=cuda //tensorflow/java:tensorflow //tensorflow/java:libtensorflow_jni`\r\n\r\nError when installing tensorflow with java, generates the following error lines\r\n\r\n```\r\ntensorflow/java/BUILD:54:1: Building tensorflow/java/libprocessor_library-class.jar (1 source file) failed: Worker process quit or closed its stdin stream when we tried to send a WorkRequest:\r\n\r\n---8<---8<--- Exception details ---8<---8<---\r\njava.io.IOException:\r\n        at com.google.devtools.build.lib.windows.WindowsSubprocess.writeStream(WindowsSubprocess.java:252)\r\n        at com.google.devtools.build.lib.windows.WindowsSubprocess.access$000(WindowsSubprocess.java:33)\r\n        at com.google.devtools.build.lib.windows.WindowsSubprocess$ProcessOutputStream.write(WindowsSubprocess.java:52)\r\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.doFlush(CodedOutputStream.java:3003)\r\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.flushIfNotAvailable(CodedOutputStream.java:2998)\r\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.writeUInt32NoTag(CodedOutputStream.java:2825)\r\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.writeTag(CodedOutputStream.java:2670)\r\n        at com.google.protobuf.CodedOutputStream$OutputStreamEncoder.writeMessage(CodedOutputStream.java:2774)\r\n        at com.google.devtools.build.lib.worker.WorkerProtocol$WorkRequest.writeTo(WorkerProtocol.java:1009)\r\n        at com.google.protobuf.AbstractMessageLite.writeDelimitedTo(AbstractMessageLite.java:98)\r\n        at com.google.devtools.build.lib.worker.WorkerSpawnRunner.execInWorker(WorkerSpawnRunner.java:318)\r\n        at com.google.devtools.build.lib.worker.WorkerSpawnRunner.actuallyExec(WorkerSpawnRunner.java:160)\r\n        at com.google.devtools.build.lib.worker.WorkerSpawnRunner.exec(WorkerSpawnRunner.java:115)\r\n        at com.google.devtools.build.lib.exec.AbstractSpawnStrategy.exec(AbstractSpawnStrategy.java:106)\r\n        at com.google.devtools.build.lib.exec.AbstractSpawnStrategy.exec(AbstractSpawnStrategy.java:75)\r\n        at com.google.devtools.build.lib.exec.SpawnActionContextMaps$ProxySpawnActionContext.exec(SpawnActionContextMaps.java:362)\r\n        at com.google.devtools.build.lib.analysis.actions.SpawnAction.internalExecute(SpawnAction.java:288)\r\n        at com.google.devtools.build.lib.analysis.actions.SpawnAction.execute(SpawnAction.java:295)\r\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.executeActionTask(SkyframeActionExecutor.java:994)\r\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.prepareScheduleExecuteAndCompleteAction(SkyframeActionExecutor.java:923)\r\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.access$800(SkyframeActionExecutor.java:121)\r\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor$ActionRunner.call(SkyframeActionExecutor.java:763)\r\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor$ActionRunner.call(SkyframeActionExecutor.java:718)\r\n        at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n        at com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.executeAction(SkyframeActionExecutor.java:471)\r\n        at com.google.devtools.build.lib.skyframe.ActionExecutionFunction.checkCacheAndExecuteIfNeeded(ActionExecutionFunction.java:505)\r\n        at com.google.devtools.build.lib.skyframe.ActionExecutionFunction.compute(ActionExecutionFunction.java:215)\r\n        at com.google.devtools.build.skyframe.AbstractParallelEvaluator$Evaluate.run(AbstractParallelEvaluator.java:418)\r\n        at com.google.devtools.build.lib.concurrent.AbstractQueueVisitor$WrappedRunnable.run(AbstractQueueVisitor.java:368)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\n---8<---8<--- End of exception details ---8<---8<---\r\n\r\n---8<---8<--- Start of log, file at C:/users/eduar/_bazel_eduar/gr3cukxm/bazel-workers/worker-0-Javac.log ---8<---8<---\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\nUnrecognized VM option 'CompactStrings'\r\n---8<---8<--- End of log ---8<---8<---\r\nINFO: Elapsed time: 281.132s, Critical Path: 94.67s\r\nINFO: 602 processes: 602 local.\r\nFAILED: Build did NOT complete successfully\r\n```\r\n"}