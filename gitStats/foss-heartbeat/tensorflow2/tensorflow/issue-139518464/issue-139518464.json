{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1439", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1439/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1439/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1439/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1439", "id": 139518464, "node_id": "MDU6SXNzdWUxMzk1MTg0NjQ=", "number": 1439, "title": "why tensorflow run slow in loop", "user": {"login": "MisayaZ", "id": 16910475, "node_id": "MDQ6VXNlcjE2OTEwNDc1", "avatar_url": "https://avatars2.githubusercontent.com/u/16910475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MisayaZ", "html_url": "https://github.com/MisayaZ", "followers_url": "https://api.github.com/users/MisayaZ/followers", "following_url": "https://api.github.com/users/MisayaZ/following{/other_user}", "gists_url": "https://api.github.com/users/MisayaZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/MisayaZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MisayaZ/subscriptions", "organizations_url": "https://api.github.com/users/MisayaZ/orgs", "repos_url": "https://api.github.com/users/MisayaZ/repos", "events_url": "https://api.github.com/users/MisayaZ/events{/privacy}", "received_events_url": "https://api.github.com/users/MisayaZ/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-03-09T09:09:59Z", "updated_at": "2018-07-22T15:40:02Z", "closed_at": "2016-03-09T17:20:19Z", "author_association": "NONE", "body_html": "<p>I just run many times of sess.run in loop like this:</p>\n<pre><code>input1 = tf.placeholder(tf.float32)\ninput2 = tf.placeholder(tf.float32)\nsess = tf.Session()\nfor image_num in range(128):\n  image_result_table=np.zeros((96,32),dtype=np.float32)\n  for sub_num in range(96):\n      for centroids_num in range(32):\n       vector_a = local3_value[image_num,sub_num*4:(sub_num+1)*4]\n       vector_b = centroids[sub_num,centroids_num]\n       mat_result = tf.mul(input1, input2)\n           reduce_sum = tf.reduce_sum(mat_result)\n       result =sess.run(reduce_sum,feed_dict={input1:vector_a, input2:vector_b})\n           print(result)\n</code></pre>\n<p>at first ,it run fast. howerver, it become slower and slower. It takes almost an hour to get the whole result.</p>", "body_text": "I just run many times of sess.run in loop like this:\ninput1 = tf.placeholder(tf.float32)\ninput2 = tf.placeholder(tf.float32)\nsess = tf.Session()\nfor image_num in range(128):\n  image_result_table=np.zeros((96,32),dtype=np.float32)\n  for sub_num in range(96):\n      for centroids_num in range(32):\n       vector_a = local3_value[image_num,sub_num*4:(sub_num+1)*4]\n       vector_b = centroids[sub_num,centroids_num]\n       mat_result = tf.mul(input1, input2)\n           reduce_sum = tf.reduce_sum(mat_result)\n       result =sess.run(reduce_sum,feed_dict={input1:vector_a, input2:vector_b})\n           print(result)\n\nat first ,it run fast. howerver, it become slower and slower. It takes almost an hour to get the whole result.", "body": "I just run many times of sess.run in loop like this:\n\n```\ninput1 = tf.placeholder(tf.float32)\ninput2 = tf.placeholder(tf.float32)\nsess = tf.Session()\nfor image_num in range(128):\n  image_result_table=np.zeros((96,32),dtype=np.float32)\n  for sub_num in range(96):\n      for centroids_num in range(32):\n       vector_a = local3_value[image_num,sub_num*4:(sub_num+1)*4]\n       vector_b = centroids[sub_num,centroids_num]\n       mat_result = tf.mul(input1, input2)\n           reduce_sum = tf.reduce_sum(mat_result)\n       result =sess.run(reduce_sum,feed_dict={input1:vector_a, input2:vector_b})\n           print(result)\n```\n\nat first ,it run fast. howerver, it become slower and slower. It takes almost an hour to get the whole result. \n"}