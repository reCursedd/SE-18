{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/215134534", "html_url": "https://github.com/tensorflow/tensorflow/issues/2109#issuecomment-215134534", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2109", "id": 215134534, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTEzNDUzNA==", "user": {"login": "damienmg", "id": 3721087, "node_id": "MDQ6VXNlcjM3MjEwODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3721087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/damienmg", "html_url": "https://github.com/damienmg", "followers_url": "https://api.github.com/users/damienmg/followers", "following_url": "https://api.github.com/users/damienmg/following{/other_user}", "gists_url": "https://api.github.com/users/damienmg/gists{/gist_id}", "starred_url": "https://api.github.com/users/damienmg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/damienmg/subscriptions", "organizations_url": "https://api.github.com/users/damienmg/orgs", "repos_url": "https://api.github.com/users/damienmg/repos", "events_url": "https://api.github.com/users/damienmg/events{/privacy}", "received_events_url": "https://api.github.com/users/damienmg/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-27T16:12:35Z", "updated_at": "2016-04-27T16:12:35Z", "author_association": "MEMBER", "body_html": "<p>For the four first issues:</p>\n<ul>\n<li>A known issue, and not an easy answer. I know that we have a inflight fix for resource detection on OS X, I will gather more info tomorrow.</li>\n<li>--genrule_strategy=standalone should be in tensorflow's bazel.rc until all the hermeticity issue in TF build are resolved. I think Bazel's one with custom c++ toolchain should be solved prior (see <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"138730164\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/bazel/issues/1019\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/1019/hovercard\" href=\"https://github.com/bazelbuild/bazel/issues/1019\">bazelbuild/bazel#1019</a>).</li>\n<li>(last 2 issues): TF's cuda crosstool should do autoconfiguration just like we do for the main c++</li>\n</ul>\n<p>Explanations extended:<br>\nExplanations:</p>\n<p>build: what bazel should do</p>\n<ul>\n<li>-c opt: build using optimization C++ flags</li>\n<li>--config=cuda: select cuda configuration, which is different from detecting the cuda environment which could be done inside bazel now.</li>\n<li>--genrule_strategy=standalone: deactivate namespace sandbox because some tools are outside of mounted paths, this can also be fixed remote repositories (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"138730164\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/bazel/issues/1019\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/1019/hovercard\" href=\"https://github.com/bazelbuild/bazel/issues/1019\">bazelbuild/bazel#1019</a> for bazel).</li>\n<li>--local_resources 4096,4.0,1.0: unecessary, -j 4 is sufficient</li>\n<li>-j 4: 4 simultaneous jobs maximum. We should improve resources detection and estimation to better compute than number.</li>\n<li>//tensorflow/cc:tutorials_example_trainer: What to build.</li>\n</ul>", "body_text": "For the four first issues:\n\nA known issue, and not an easy answer. I know that we have a inflight fix for resource detection on OS X, I will gather more info tomorrow.\n--genrule_strategy=standalone should be in tensorflow's bazel.rc until all the hermeticity issue in TF build are resolved. I think Bazel's one with custom c++ toolchain should be solved prior (see bazelbuild/bazel#1019).\n(last 2 issues): TF's cuda crosstool should do autoconfiguration just like we do for the main c++\n\nExplanations extended:\nExplanations:\nbuild: what bazel should do\n\n-c opt: build using optimization C++ flags\n--config=cuda: select cuda configuration, which is different from detecting the cuda environment which could be done inside bazel now.\n--genrule_strategy=standalone: deactivate namespace sandbox because some tools are outside of mounted paths, this can also be fixed remote repositories (bazelbuild/bazel#1019 for bazel).\n--local_resources 4096,4.0,1.0: unecessary, -j 4 is sufficient\n-j 4: 4 simultaneous jobs maximum. We should improve resources detection and estimation to better compute than number.\n//tensorflow/cc:tutorials_example_trainer: What to build.", "body": "For the four first issues:\n- A known issue, and not an easy answer. I know that we have a inflight fix for resource detection on OS X, I will gather more info tomorrow.\n- --genrule_strategy=standalone should be in tensorflow's bazel.rc until all the hermeticity issue in TF build are resolved. I think Bazel's one with custom c++ toolchain should be solved prior (see bazelbuild/bazel#1019).\n-  (last 2 issues): TF's cuda crosstool should do autoconfiguration just like we do for the main c++ \n\nExplanations extended:\nExplanations:\n\nbuild: what bazel should do\n- -c opt: build using optimization C++ flags\n- --config=cuda: select cuda configuration, which is different from detecting the cuda environment which could be done inside bazel now.\n- --genrule_strategy=standalone: deactivate namespace sandbox because some tools are outside of mounted paths, this can also be fixed remote repositories (bazelbuild/bazel#1019 for bazel).\n- --local_resources 4096,4.0,1.0: unecessary, -j 4 is sufficient\n- -j 4: 4 simultaneous jobs maximum. We should improve resources detection and estimation to better compute than number.\n- //tensorflow/cc:tutorials_example_trainer: What to build.\n"}