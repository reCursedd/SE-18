{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6893", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6893/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6893/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6893/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6893", "id": 201180337, "node_id": "MDU6SXNzdWUyMDExODAzMzc=", "number": 6893, "title": "get_matching_files issue", "user": {"login": "vv1133", "id": 1709792, "node_id": "MDQ6VXNlcjE3MDk3OTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1709792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vv1133", "html_url": "https://github.com/vv1133", "followers_url": "https://api.github.com/users/vv1133/followers", "following_url": "https://api.github.com/users/vv1133/following{/other_user}", "gists_url": "https://api.github.com/users/vv1133/gists{/gist_id}", "starred_url": "https://api.github.com/users/vv1133/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vv1133/subscriptions", "organizations_url": "https://api.github.com/users/vv1133/orgs", "repos_url": "https://api.github.com/users/vv1133/repos", "events_url": "https://api.github.com/users/vv1133/events{/privacy}", "received_events_url": "https://api.github.com/users/vv1133/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-01-17T05:33:55Z", "updated_at": "2018-02-07T23:58:58Z", "closed_at": "2018-02-07T23:58:58Z", "author_association": "CONTRIBUTOR", "body_html": "<p>In <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/saver.py\">saver.py</a>, if the argument of <code>get_matching_files</code> is a relative path with no ./ in the beginning, <code>get_matching_files</code> will return an empty list. e.g., <code>get_matching_files(\"filename\")</code> returns <code>[]</code>, while <code>get_matching_files(\"./filename\")</code> returns <code>['filename']</code></p>\n<p>Thus when using <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/tools/freeze_graph.py\">freeze_graph</a> with input checkpoint in the same directory, I found the issue below:</p>\n<pre><code>python freeze_graph.py \\\n--input_graph=input_graph.pb \\\n--input_checkpoint=input.ckpt \\\n--output_graph=output_graph.pb \\\n--output_node_names=Softmax\n\nInput checkpoint 'input.ckpt' doesn't exist!\n</code></pre>", "body_text": "In saver.py, if the argument of get_matching_files is a relative path with no ./ in the beginning, get_matching_files will return an empty list. e.g., get_matching_files(\"filename\") returns [], while get_matching_files(\"./filename\") returns ['filename']\nThus when using freeze_graph with input checkpoint in the same directory, I found the issue below:\npython freeze_graph.py \\\n--input_graph=input_graph.pb \\\n--input_checkpoint=input.ckpt \\\n--output_graph=output_graph.pb \\\n--output_node_names=Softmax\n\nInput checkpoint 'input.ckpt' doesn't exist!", "body": "In [saver.py](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/saver.py), if the argument of `get_matching_files` is a relative path with no ./ in the beginning, `get_matching_files` will return an empty list. e.g., `get_matching_files(\"filename\")` returns `[]`, while `get_matching_files(\"./filename\")` returns `['filename']`\r\n\r\nThus when using [freeze_graph](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/tools/freeze_graph.py) with input checkpoint in the same directory, I found the issue below:\r\n\r\n```\r\npython freeze_graph.py \\\r\n--input_graph=input_graph.pb \\\r\n--input_checkpoint=input.ckpt \\\r\n--output_graph=output_graph.pb \\\r\n--output_node_names=Softmax\r\n\r\nInput checkpoint 'input.ckpt' doesn't exist!\r\n```\r\n\r\n"}