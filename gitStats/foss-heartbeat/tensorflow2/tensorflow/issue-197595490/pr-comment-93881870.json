{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/93881870", "pull_request_review_id": 14414536, "id": 93881870, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkzODgxODcw", "diff_hunk": "@@ -500,14 +500,13 @@ For NVidia GPU support install latest NVidia drivers and\n $ nvidia-docker run -it -p 8888:8888 gcr.io/tensorflow/tensorflow:latest-gpu\n ```\n \n-If you have a problem running `nvidia-docker`, then using the default config, we\n-include a\n-[script](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/docker/docker_run_gpu.sh)\n-in the repo with these flags, so the command-line would look like\n+Note: If you have a problem running `nvidia-docker`, you may try the old way\n+we have used. But it is not recomended. If you find a bug in `nvidia-docker`, report\n+it there please and try using the `nvidia-docker` as described above.\n \n-```bash\n-$ path/to/repo/tensorflow/tools/docker/docker_run_gpu.sh -p 8888:8888 gcr.io/tensorflow/tensorflow:latest-gpu\n-```\n+    $ export CUDA_SO=$(\\ls /usr/lib/x86_64-linux-gnu/libcuda.* | xargs -I{} echo '-v {}:{}')\n+    $ export DEVICES=$(\\ls /dev/nvidia* | xargs -I{} echo '--device {}:{}')\n+    $ docker run -it -p 8888:8888 $CUDA_SO $DEVICES gcr.io/tensorflow/tensorflow:latest-gpu", "path": "tensorflow/g3doc/get_started/os_setup.md", "position": 17, "original_position": 17, "commit_id": "a5536f979d6c1d8be4139115b538a8828acc897f", "original_commit_id": "a5536f979d6c1d8be4139115b538a8828acc897f", "user": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "body": "I think it's good to copy the comands from docker_run_gpu.sh here, in case the user doesn't want to clone the tensorflow repo. However, having the script might be convenience. Can you add a sentence here to say something along the line of: \"the script at path/to/repo/tensorflow/tools/docker/docker_run_gpu.sh provides a convenient way to run docker in this old-fashioned way: $ path/to/repo/tensorflow/tools/docker/docker_run_gpu.sh -p 8888:8888 gcr.io/tensorflow/tensorflow:latest-gpu\"", "created_at": "2016-12-26T19:19:05Z", "updated_at": "2016-12-26T19:19:30Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/6505#discussion_r93881870", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6505", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/93881870"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/6505#discussion_r93881870"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6505"}}, "body_html": "<p>I think it's good to copy the comands from docker_run_gpu.sh here, in case the user doesn't want to clone the tensorflow repo. However, having the script might be convenience. Can you add a sentence here to say something along the line of: \"the script at path/to/repo/tensorflow/tools/docker/docker_run_gpu.sh provides a convenient way to run docker in this old-fashioned way: $ path/to/repo/tensorflow/tools/docker/docker_run_gpu.sh -p 8888:8888 gcr.io/tensorflow/tensorflow:latest-gpu\"</p>", "body_text": "I think it's good to copy the comands from docker_run_gpu.sh here, in case the user doesn't want to clone the tensorflow repo. However, having the script might be convenience. Can you add a sentence here to say something along the line of: \"the script at path/to/repo/tensorflow/tools/docker/docker_run_gpu.sh provides a convenient way to run docker in this old-fashioned way: $ path/to/repo/tensorflow/tools/docker/docker_run_gpu.sh -p 8888:8888 gcr.io/tensorflow/tensorflow:latest-gpu\""}