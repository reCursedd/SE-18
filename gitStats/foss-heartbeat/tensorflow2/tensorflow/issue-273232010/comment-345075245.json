{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/345075245", "html_url": "https://github.com/tensorflow/tensorflow/issues/14496#issuecomment-345075245", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14496", "id": 345075245, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTA3NTI0NQ==", "user": {"login": "vivek-rane", "id": 25373098, "node_id": "MDQ6VXNlcjI1MzczMDk4", "avatar_url": "https://avatars1.githubusercontent.com/u/25373098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vivek-rane", "html_url": "https://github.com/vivek-rane", "followers_url": "https://api.github.com/users/vivek-rane/followers", "following_url": "https://api.github.com/users/vivek-rane/following{/other_user}", "gists_url": "https://api.github.com/users/vivek-rane/gists{/gist_id}", "starred_url": "https://api.github.com/users/vivek-rane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vivek-rane/subscriptions", "organizations_url": "https://api.github.com/users/vivek-rane/orgs", "repos_url": "https://api.github.com/users/vivek-rane/repos", "events_url": "https://api.github.com/users/vivek-rane/events{/privacy}", "received_events_url": "https://api.github.com/users/vivek-rane/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-16T21:55:16Z", "updated_at": "2017-11-16T21:55:16Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I agree with Toby that the inter-op should be set to somewhere around the number of sockets on the system, which is typically 1.</p>\n<p>I looked at the timeline and there are no ops in there that are currently supported with MKL on TensorFlow. If this timeline is representative of your workload, you will not gain any benefit from switching to MKL. The top 5 ops here are listed below, and matmul is probably the only thing that stands to gain from MKL. If this timeline is off, we need to find a way of getting the correct timeline.</p>\n<ul>\n<li>Pack</li>\n<li>Mul</li>\n<li>StridedSlice</li>\n<li>Matmul</li>\n<li>Add</li>\n</ul>", "body_text": "I agree with Toby that the inter-op should be set to somewhere around the number of sockets on the system, which is typically 1.\nI looked at the timeline and there are no ops in there that are currently supported with MKL on TensorFlow. If this timeline is representative of your workload, you will not gain any benefit from switching to MKL. The top 5 ops here are listed below, and matmul is probably the only thing that stands to gain from MKL. If this timeline is off, we need to find a way of getting the correct timeline.\n\nPack\nMul\nStridedSlice\nMatmul\nAdd", "body": "I agree with Toby that the inter-op should be set to somewhere around the number of sockets on the system, which is typically 1. \r\n\r\nI looked at the timeline and there are no ops in there that are currently supported with MKL on TensorFlow. If this timeline is representative of your workload, you will not gain any benefit from switching to MKL. The top 5 ops here are listed below, and matmul is probably the only thing that stands to gain from MKL. If this timeline is off, we need to find a way of getting the correct timeline.\r\n\r\n- Pack\r\n- Mul\r\n- StridedSlice\r\n- Matmul\r\n- Add"}