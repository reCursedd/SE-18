{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/231477380", "html_url": "https://github.com/tensorflow/tensorflow/issues/1528#issuecomment-231477380", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1528", "id": 231477380, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTQ3NzM4MA==", "user": {"login": "zxzhijia", "id": 11791424, "node_id": "MDQ6VXNlcjExNzkxNDI0", "avatar_url": "https://avatars3.githubusercontent.com/u/11791424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zxzhijia", "html_url": "https://github.com/zxzhijia", "followers_url": "https://api.github.com/users/zxzhijia/followers", "following_url": "https://api.github.com/users/zxzhijia/following{/other_user}", "gists_url": "https://api.github.com/users/zxzhijia/gists{/gist_id}", "starred_url": "https://api.github.com/users/zxzhijia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zxzhijia/subscriptions", "organizations_url": "https://api.github.com/users/zxzhijia/orgs", "repos_url": "https://api.github.com/users/zxzhijia/repos", "events_url": "https://api.github.com/users/zxzhijia/events{/privacy}", "received_events_url": "https://api.github.com/users/zxzhijia/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-08T21:29:13Z", "updated_at": "2016-07-08T21:29:13Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1865964\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/thammegowda\">@thammegowda</a> I tried to use your classify.py as below: it gives me the same error:</p>\n<p>python classify.py --in=/home/xu/Desktop/Robot/Data/a/0.jpg --model=/home/xu/Desktop/Robot/retrained_graph.pb --labels=/home/xu/Desktop/Robot/retrained_labels.txt<br>\nW tensorflow/core/framework/op_def_util.cc:332] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().<br>\nE tensorflow/core/common_runtime/executor.cc:334] Executor failed to create kernel. Invalid argument: NodeDef mentions attr 'T' not in Op&lt;name=MaxPool; signature=input:float -&gt; output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]&gt;; NodeDef: pool = MaxPool<a href=\"pool/control_dependency\">T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a><br>\n[[Node: pool = MaxPool<a href=\"pool/control_dependency\">T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a>]]<br>\nTraceback (most recent call last):<br>\nFile \"classify.py\", line 81, in <br>\nrun_inference(images=images, out_file=args['out'], labels=labels, model_file=args['model'])<br>\nFile \"classify.py\", line 35, in run_inference<br>\n{'DecodeJpeg/contents:0': image_data})<br>\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 372, in run<br>\nrun_metadata_ptr)<br>\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 636, in _run<br>\nfeed_dict_string, options, run_metadata)<br>\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 708, in _do_run<br>\ntarget_list, options, run_metadata)<br>\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 728, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors.InvalidArgumentError: NodeDef mentions attr 'T' not in Op&lt;name=MaxPool; signature=input:float -&gt; output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]&gt;; NodeDef: pool = MaxPool<a href=\"pool/control_dependency\">T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a><br>\n[[Node: pool = MaxPool<a href=\"pool/control_dependency\">T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a>]]<br>\nCaused by op u'pool', defined at:<br>\nFile \"classify.py\", line 81, in <br>\nrun_inference(images=images, out_file=args['out'], labels=labels, model_file=args['model'])<br>\nFile \"classify.py\", line 20, in run_inference<br>\ncreate_graph(model_file)<br>\nFile \"classify.py\", line 13, in create_graph<br>\n_ = tf.import_graph_def(graph_def, name='')<br>\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/importer.py\", line 274, in import_graph_def<br>\nop_def=op_def)<br>\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2260, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1230, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>", "body_text": "@thammegowda I tried to use your classify.py as below: it gives me the same error:\npython classify.py --in=/home/xu/Desktop/Robot/Data/a/0.jpg --model=/home/xu/Desktop/Robot/retrained_graph.pb --labels=/home/xu/Desktop/Robot/retrained_labels.txt\nW tensorflow/core/framework/op_def_util.cc:332] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().\nE tensorflow/core/common_runtime/executor.cc:334] Executor failed to create kernel. Invalid argument: NodeDef mentions attr 'T' not in Op<name=MaxPool; signature=input:float -> output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: pool = MaxPoolT=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"\n[[Node: pool = MaxPoolT=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]\nTraceback (most recent call last):\nFile \"classify.py\", line 81, in \nrun_inference(images=images, out_file=args['out'], labels=labels, model_file=args['model'])\nFile \"classify.py\", line 35, in run_inference\n{'DecodeJpeg/contents:0': image_data})\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 372, in run\nrun_metadata_ptr)\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 636, in _run\nfeed_dict_string, options, run_metadata)\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 708, in _do_run\ntarget_list, options, run_metadata)\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 728, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InvalidArgumentError: NodeDef mentions attr 'T' not in Op<name=MaxPool; signature=input:float -> output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: pool = MaxPoolT=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"\n[[Node: pool = MaxPoolT=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]\nCaused by op u'pool', defined at:\nFile \"classify.py\", line 81, in \nrun_inference(images=images, out_file=args['out'], labels=labels, model_file=args['model'])\nFile \"classify.py\", line 20, in run_inference\ncreate_graph(model_file)\nFile \"classify.py\", line 13, in create_graph\n_ = tf.import_graph_def(graph_def, name='')\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/importer.py\", line 274, in import_graph_def\nop_def=op_def)\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2260, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1230, in init\nself._traceback = _extract_stack()", "body": "@thammegowda I tried to use your classify.py as below: it gives me the same error:\n\npython classify.py --in=/home/xu/Desktop/Robot/Data/a/0.jpg --model=/home/xu/Desktop/Robot/retrained_graph.pb --labels=/home/xu/Desktop/Robot/retrained_labels.txt  \nW tensorflow/core/framework/op_def_util.cc:332] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().\nE tensorflow/core/common_runtime/executor.cc:334] Executor failed to create kernel. Invalid argument: NodeDef mentions attr 'T' not in Op<name=MaxPool; signature=input:float -> output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)\n     [[Node: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)]]\nTraceback (most recent call last):\n  File \"classify.py\", line 81, in <module>\n    run_inference(images=images, out_file=args['out'], labels=labels, model_file=args['model'])\n  File \"classify.py\", line 35, in run_inference\n    {'DecodeJpeg/contents:0': image_data})\n  File \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 372, in run\n    run_metadata_ptr)\n  File \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 636, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 708, in _do_run\n    target_list, options, run_metadata)\n  File \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 728, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InvalidArgumentError: NodeDef mentions attr 'T' not in Op<name=MaxPool; signature=input:float -> output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)\n     [[Node: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)]]\nCaused by op u'pool', defined at:\n  File \"classify.py\", line 81, in <module>\n    run_inference(images=images, out_file=args['out'], labels=labels, model_file=args['model'])\n  File \"classify.py\", line 20, in run_inference\n    create_graph(model_file)\n  File \"classify.py\", line 13, in create_graph\n    _ = tf.import_graph_def(graph_def, name='')\n  File \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/importer.py\", line 274, in import_graph_def\n    op_def=op_def)\n  File \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2260, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/home/xu/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1230, in __init__\n    self._traceback = _extract_stack()\n"}