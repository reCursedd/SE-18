{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/230132772", "html_url": "https://github.com/tensorflow/tensorflow/issues/1528#issuecomment-230132772", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1528", "id": 230132772, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDEzMjc3Mg==", "user": {"login": "thammegowda", "id": 1865964, "node_id": "MDQ6VXNlcjE4NjU5NjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1865964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thammegowda", "html_url": "https://github.com/thammegowda", "followers_url": "https://api.github.com/users/thammegowda/followers", "following_url": "https://api.github.com/users/thammegowda/following{/other_user}", "gists_url": "https://api.github.com/users/thammegowda/gists{/gist_id}", "starred_url": "https://api.github.com/users/thammegowda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thammegowda/subscriptions", "organizations_url": "https://api.github.com/users/thammegowda/orgs", "repos_url": "https://api.github.com/users/thammegowda/repos", "events_url": "https://api.github.com/users/thammegowda/events{/privacy}", "received_events_url": "https://api.github.com/users/thammegowda/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-03T03:08:46Z", "updated_at": "2016-07-03T20:37:45Z", "author_association": "NONE", "body_html": "<p>I am having the same problem. I see that the proposed solution was to use nightly build.<br>\nI created a model using <code>v0.9.0</code> (which is built by pulling master branch today) and I am trying to use it in  a script which uses <code>v0.9.0rc0</code> (installed by pip, must be super nightly for <code>v0.7.1</code>).</p>\n<p>The python script is here <a href=\"https://github.com/eldor4do/Tensorflow-Examples/blob/master/retraining-example.py\">https://github.com/eldor4do/Tensorflow-Examples/blob/master/retraining-example.py</a></p>\n<p>and full stack trace here :</p>\n<pre>W tensorflow/core/framework/op_def_util.cc:332] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().\nE tensorflow/core/common_runtime/executor.cc:334] Executor failed to create kernel. Invalid argument: NodeDef mentions attr 'T' not in Op output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]&gt;; NodeDef: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)\n     [[Node: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)]]\nTraceback (most recent call last):\n  File \"classify.py\", line 51, in \n    run_inference_on_image()\n  File \"classify.py\", line 34, in run_inference_on_image\n    {'DecodeJpeg/contents:0': image_data})\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 372, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 636, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 708, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 728, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InvalidArgumentError: NodeDef mentions attr 'T' not in Op output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]&gt;; NodeDef: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)\n     [[Node: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)]]\nCaused by op u'pool', defined at:\n  File \"classify.py\", line 51, in \n    run_inference_on_image()\n  File \"classify.py\", line 28, in run_inference_on_image\n    create_graph()\n  File \"classify.py\", line 15, in create_graph\n    _ = tf.import_graph_def(graph_def, name='')\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/importer.py\", line 274, in import_graph_def\n    op_def=op_def)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2260, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1230, in __init__\n    self._traceback = _extract_stack()\n</pre>\n<p>CC <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=161459\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/petewarden\">@petewarden</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> Please help!</p>\n<h3>EDIT / UPDATE:</h3>\n<p>This is strange, I used <code>0.9.0rc0</code> (installed by pip on OS X) for creating the model as well as utilizing the model, It worked! Previously I created a model with <code>0.9.0</code> built from sources on Ubuntu 14.04 and tried to use it on OS X (<code>0.9.0rc0</code> from pip), it raised the above exception.</p>", "body_text": "I am having the same problem. I see that the proposed solution was to use nightly build.\nI created a model using v0.9.0 (which is built by pulling master branch today) and I am trying to use it in  a script which uses v0.9.0rc0 (installed by pip, must be super nightly for v0.7.1).\nThe python script is here https://github.com/eldor4do/Tensorflow-Examples/blob/master/retraining-example.py\nand full stack trace here :\nW tensorflow/core/framework/op_def_util.cc:332] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().\nE tensorflow/core/common_runtime/executor.cc:334] Executor failed to create kernel. Invalid argument: NodeDef mentions attr 'T' not in Op output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)\n     [[Node: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)]]\nTraceback (most recent call last):\n  File \"classify.py\", line 51, in \n    run_inference_on_image()\n  File \"classify.py\", line 34, in run_inference_on_image\n    {'DecodeJpeg/contents:0': image_data})\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 372, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 636, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 708, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 728, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InvalidArgumentError: NodeDef mentions attr 'T' not in Op output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)\n     [[Node: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)]]\nCaused by op u'pool', defined at:\n  File \"classify.py\", line 51, in \n    run_inference_on_image()\n  File \"classify.py\", line 28, in run_inference_on_image\n    create_graph()\n  File \"classify.py\", line 15, in create_graph\n    _ = tf.import_graph_def(graph_def, name='')\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/importer.py\", line 274, in import_graph_def\n    op_def=op_def)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2260, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1230, in __init__\n    self._traceback = _extract_stack()\n\nCC @petewarden @mrry Please help!\nEDIT / UPDATE:\nThis is strange, I used 0.9.0rc0 (installed by pip on OS X) for creating the model as well as utilizing the model, It worked! Previously I created a model with 0.9.0 built from sources on Ubuntu 14.04 and tried to use it on OS X (0.9.0rc0 from pip), it raised the above exception.", "body": "I am having the same problem. I see that the proposed solution was to use nightly build. \nI created a model using `v0.9.0` (which is built by pulling master branch today) and I am trying to use it in  a script which uses `v0.9.0rc0` (installed by pip, must be super nightly for `v0.7.1`). \n\nThe python script is here https://github.com/eldor4do/Tensorflow-Examples/blob/master/retraining-example.py\n\nand full stack trace here :\n\n<pre>\nW tensorflow/core/framework/op_def_util.cc:332] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().\nE tensorflow/core/common_runtime/executor.cc:334] Executor failed to create kernel. Invalid argument: NodeDef mentions attr 'T' not in Op<name=MaxPool; signature=input:float -> output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)\n     [[Node: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)]]\nTraceback (most recent call last):\n  File \"classify.py\", line 51, in <module>\n    run_inference_on_image()\n  File \"classify.py\", line 34, in run_inference_on_image\n    {'DecodeJpeg/contents:0': image_data})\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 372, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 636, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 708, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 728, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InvalidArgumentError: NodeDef mentions attr 'T' not in Op<name=MaxPool; signature=input:float -> output:float; attr=ksize:list(int),min=4; attr=strides:list(int),min=4; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)\n     [[Node: pool = MaxPool[T=DT_FLOAT, data_format=\"NHWC\", ksize=[1, 3, 3, 1], padding=\"VALID\", strides=[1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](pool/control_dependency)]]\nCaused by op u'pool', defined at:\n  File \"classify.py\", line 51, in <module>\n    run_inference_on_image()\n  File \"classify.py\", line 28, in run_inference_on_image\n    create_graph()\n  File \"classify.py\", line 15, in create_graph\n    _ = tf.import_graph_def(graph_def, name='')\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/importer.py\", line 274, in import_graph_def\n    op_def=op_def)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2260, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1230, in __init__\n    self._traceback = _extract_stack()\n</pre>\n\nCC @petewarden @mrry Please help!\n\n### EDIT / UPDATE:\n\nThis is strange, I used `0.9.0rc0` (installed by pip on OS X) for creating the model as well as utilizing the model, It worked! Previously I created a model with `0.9.0` built from sources on Ubuntu 14.04 and tried to use it on OS X (`0.9.0rc0` from pip), it raised the above exception.\n"}