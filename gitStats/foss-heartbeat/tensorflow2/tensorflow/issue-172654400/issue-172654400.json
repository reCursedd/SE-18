{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3979", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3979/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3979/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3979/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3979", "id": 172654400, "node_id": "MDU6SXNzdWUxNzI2NTQ0MDA=", "number": 3979, "title": "Quantization ops missing from benchmark program", "user": {"login": "kalle", "id": 370192, "node_id": "MDQ6VXNlcjM3MDE5Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/370192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kalle", "html_url": "https://github.com/kalle", "followers_url": "https://api.github.com/users/kalle/followers", "following_url": "https://api.github.com/users/kalle/following{/other_user}", "gists_url": "https://api.github.com/users/kalle/gists{/gist_id}", "starred_url": "https://api.github.com/users/kalle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kalle/subscriptions", "organizations_url": "https://api.github.com/users/kalle/orgs", "repos_url": "https://api.github.com/users/kalle/repos", "events_url": "https://api.github.com/users/kalle/events{/privacy}", "received_events_url": "https://api.github.com/users/kalle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-08-23T09:39:37Z", "updated_at": "2016-08-24T16:33:58Z", "closed_at": "2016-08-24T16:30:40Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Mac OS X 10.11.4<br>\nCUDA: No<br>\nTF installed from source<br>\n<code>git rev-parse HEAD</code>: <code>6d04d601e9e8758ec4642fa9d548b7321d804d63</code></p>\n<pre><code>bazel version\nBuild label: 0.2.3-homebrew\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Tue May 17 15:07:52 2016 (1463497672)\nBuild timestamp: 1463497672\nBuild timestamp as int: 1463497672\n</code></pre>\n<h3>Problem</h3>\n<p>I want to run inference on mobile and thought quantization would be a good idea. I also want to use the <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/benchmark\">benchmark program</a> to see speed and memory consumption of different models before starting to train them.</p>\n<p>However the benchmark seems to be missing the quantization ops needed (it doesn't matter which quantization mode I use):</p>\n<pre><code>E tensorflow/tools/benchmark/benchmark_model.cc:72] Could not create TensorFlow Session: Not found: Op type not registered 'QuantizeV2'\n</code></pre>\n<p>I realize that I should modify this <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/benchmark/BUILD\">BUILD</a> file somehow to include the missing ops but I can't figure out Bazel's name of the built library or how to link it statically into the benchmark program. Or are the ops missing for a reason (incompatible with the normals ops etc)?</p>\n<p>I know that this is more of a question than a bug report, but I don't think I'm the only one with problem so perhaps you can treat is as a documentation bug?</p>", "body_text": "Environment info\nOperating System: Mac OS X 10.11.4\nCUDA: No\nTF installed from source\ngit rev-parse HEAD: 6d04d601e9e8758ec4642fa9d548b7321d804d63\nbazel version\nBuild label: 0.2.3-homebrew\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Tue May 17 15:07:52 2016 (1463497672)\nBuild timestamp: 1463497672\nBuild timestamp as int: 1463497672\n\nProblem\nI want to run inference on mobile and thought quantization would be a good idea. I also want to use the benchmark program to see speed and memory consumption of different models before starting to train them.\nHowever the benchmark seems to be missing the quantization ops needed (it doesn't matter which quantization mode I use):\nE tensorflow/tools/benchmark/benchmark_model.cc:72] Could not create TensorFlow Session: Not found: Op type not registered 'QuantizeV2'\n\nI realize that I should modify this BUILD file somehow to include the missing ops but I can't figure out Bazel's name of the built library or how to link it statically into the benchmark program. Or are the ops missing for a reason (incompatible with the normals ops etc)?\nI know that this is more of a question than a bug report, but I don't think I'm the only one with problem so perhaps you can treat is as a documentation bug?", "body": "### Environment info\n\nOperating System: Mac OS X 10.11.4\nCUDA: No\nTF installed from source\n`git rev-parse HEAD`: `6d04d601e9e8758ec4642fa9d548b7321d804d63`\n\n```\nbazel version\nBuild label: 0.2.3-homebrew\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Tue May 17 15:07:52 2016 (1463497672)\nBuild timestamp: 1463497672\nBuild timestamp as int: 1463497672\n```\n### Problem\n\nI want to run inference on mobile and thought quantization would be a good idea. I also want to use the [benchmark program](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/benchmark) to see speed and memory consumption of different models before starting to train them.\n\nHowever the benchmark seems to be missing the quantization ops needed (it doesn't matter which quantization mode I use):\n\n```\nE tensorflow/tools/benchmark/benchmark_model.cc:72] Could not create TensorFlow Session: Not found: Op type not registered 'QuantizeV2'\n```\n\nI realize that I should modify this [BUILD](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/benchmark/BUILD) file somehow to include the missing ops but I can't figure out Bazel's name of the built library or how to link it statically into the benchmark program. Or are the ops missing for a reason (incompatible with the normals ops etc)?\n\nI know that this is more of a question than a bug report, but I don't think I'm the only one with problem so perhaps you can treat is as a documentation bug?\n"}