{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23206", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23206/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23206/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23206/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/23206", "id": 373325767, "node_id": "MDExOlB1bGxSZXF1ZXN0MjI1MjgwNzI3", "number": 23206, "title": "Switch from Deprecated to Current Docker Images on Docker Hub", "user": {"login": "IMBurbank", "id": 21133719, "node_id": "MDQ6VXNlcjIxMTMzNzE5", "avatar_url": "https://avatars1.githubusercontent.com/u/21133719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IMBurbank", "html_url": "https://github.com/IMBurbank", "followers_url": "https://api.github.com/users/IMBurbank/followers", "following_url": "https://api.github.com/users/IMBurbank/following{/other_user}", "gists_url": "https://api.github.com/users/IMBurbank/gists{/gist_id}", "starred_url": "https://api.github.com/users/IMBurbank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IMBurbank/subscriptions", "organizations_url": "https://api.github.com/users/IMBurbank/orgs", "repos_url": "https://api.github.com/users/IMBurbank/repos", "events_url": "https://api.github.com/users/IMBurbank/events{/privacy}", "received_events_url": "https://api.github.com/users/IMBurbank/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-10-24T06:33:50Z", "updated_at": "2018-10-25T21:47:28Z", "closed_at": "2018-10-25T21:47:28Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23206", "html_url": "https://github.com/tensorflow/tensorflow/pull/23206", "diff_url": "https://github.com/tensorflow/tensorflow/pull/23206.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/23206.patch"}, "body_html": "<p>This PR is intended as follow-up to the proposal in Issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"372651821\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/23170\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/23170/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/23170\">#23170</a> to host Tensorflow's currently developed Dockerfile images on Docker Hub.</p>\n<p>From the Issue:</p>\n<blockquote>\n<p>Tensorflow's Dockerfiles are <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/dockerfiles/dockerfiles\">currently located</a> at <code>tensorflow/tensorflow/tools/dockerfiles/dockerfiles/</code>. The parent directory (<code>tensorflow/tensorflow/tools/dockerfiles/</code>) includes instructions to build the images from that directory. This is done so the Dockerfiles have the <code>bashrc</code> file in their build context to <code>COPY</code> into containers at runtime.</p>\n<p>There are another set of Dockerfiles at <code>tensorflow/tensorflow/tools/docker/</code> which are marked deprecated/for-deletion. These deprecated Dockerfiles are the ones currently hosted on <a href=\"https://hub.docker.com/r/tensorflow/tensorflow/\" rel=\"nofollow\">Docker Hub</a>.</p>\n<p>I propose Tensorflow switch their publicly available Docker images from the deprecated set to current ones. With minimal upfront effort, all eight current images could be hosted on Docker Hub and automatically rebuilt with each repo update.</p>\n</blockquote>\n<p>I pushed the images from this PR to the <code>imburbank/tensorflow</code> <a href=\"https://hub.docker.com/r/imburbank/tensorflow/\" title=\"Docker Hub\" rel=\"nofollow\">repo</a> on Docker Hub for now. All the images can be run with <code>imburbank/tensorflow:[Docker Tag Name]</code>. The hosted images:tags are as follows:</p>\n<table>\n<thead>\n<tr>\n<th>Dockerfile Location</th>\n<th>Docker Tag Name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>tools/dockerfiles/dockerfiles/cpu.Dockerfile</code></td>\n<td>latest</td>\n</tr>\n<tr>\n<td><code>tools/dockerfiles/dockerfiles/cpu-devel.Dockerfile</code></td>\n<td>latest-devel</td>\n</tr>\n<tr>\n<td><code>tools/dockerfiles/dockerfiles/cpu-jupyter.Dockerfile</code></td>\n<td>latest-jupyter</td>\n</tr>\n<tr>\n<td><code>tools/dockerfiles/dockerfiles/cpu-devel-jupyter.Dockerfile</code></td>\n<td>latest-devel-jupyter</td>\n</tr>\n<tr>\n<td><code>tools/dockerfiles/dockerfiles/nvidia.Dockerfile</code></td>\n<td>latest-gpu</td>\n</tr>\n<tr>\n<td><code>tools/dockerfiles/dockerfiles/nvidia-devel.Dockerfile</code></td>\n<td>latest-gpu-devel</td>\n</tr>\n<tr>\n<td><code>tools/dockerfiles/dockerfiles/nvidia-jupyter.Dockerfile</code></td>\n<td>latest-gpu-jupyter</td>\n</tr>\n<tr>\n<td><code>tools/dockerfiles/dockerfiles/nvidia-devel-jupyter.Dockerfile</code></td>\n<td>latest-gpu-devel-jupyter</td>\n</tr>\n</tbody>\n</table>\n<p>For example, to run <code>nvidia.Dockerfile</code>:</p>\n<div class=\"highlight highlight-source-shell\"><pre>docker run --runtime=nvidia -u <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>id -u<span class=\"pl-pds\">)</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>id -g<span class=\"pl-pds\">)</span></span> -v <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>pwd<span class=\"pl-pds\">)</span></span>:/my-devel -it imburbank/tensorflow:latest-gpu</pre></div>\n<p>I also propose that Tensorflow take over hosting these images in the official Docker Hub repo.</p>\n<p>As a follow up, the <code>README.md</code>s at <code>tensorflow/tools/dockerfiles/</code> and <code>tensorflow/tools/docker/</code> should be updated when Tensorflow begins hosting the current images.</p>", "body_text": "This PR is intended as follow-up to the proposal in Issue #23170 to host Tensorflow's currently developed Dockerfile images on Docker Hub.\nFrom the Issue:\n\nTensorflow's Dockerfiles are currently located at tensorflow/tensorflow/tools/dockerfiles/dockerfiles/. The parent directory (tensorflow/tensorflow/tools/dockerfiles/) includes instructions to build the images from that directory. This is done so the Dockerfiles have the bashrc file in their build context to COPY into containers at runtime.\nThere are another set of Dockerfiles at tensorflow/tensorflow/tools/docker/ which are marked deprecated/for-deletion. These deprecated Dockerfiles are the ones currently hosted on Docker Hub.\nI propose Tensorflow switch their publicly available Docker images from the deprecated set to current ones. With minimal upfront effort, all eight current images could be hosted on Docker Hub and automatically rebuilt with each repo update.\n\nI pushed the images from this PR to the imburbank/tensorflow repo on Docker Hub for now. All the images can be run with imburbank/tensorflow:[Docker Tag Name]. The hosted images:tags are as follows:\n\n\n\nDockerfile Location\nDocker Tag Name\n\n\n\n\ntools/dockerfiles/dockerfiles/cpu.Dockerfile\nlatest\n\n\ntools/dockerfiles/dockerfiles/cpu-devel.Dockerfile\nlatest-devel\n\n\ntools/dockerfiles/dockerfiles/cpu-jupyter.Dockerfile\nlatest-jupyter\n\n\ntools/dockerfiles/dockerfiles/cpu-devel-jupyter.Dockerfile\nlatest-devel-jupyter\n\n\ntools/dockerfiles/dockerfiles/nvidia.Dockerfile\nlatest-gpu\n\n\ntools/dockerfiles/dockerfiles/nvidia-devel.Dockerfile\nlatest-gpu-devel\n\n\ntools/dockerfiles/dockerfiles/nvidia-jupyter.Dockerfile\nlatest-gpu-jupyter\n\n\ntools/dockerfiles/dockerfiles/nvidia-devel-jupyter.Dockerfile\nlatest-gpu-devel-jupyter\n\n\n\nFor example, to run nvidia.Dockerfile:\ndocker run --runtime=nvidia -u $(id -u):$(id -g) -v $(pwd):/my-devel -it imburbank/tensorflow:latest-gpu\nI also propose that Tensorflow take over hosting these images in the official Docker Hub repo.\nAs a follow up, the README.mds at tensorflow/tools/dockerfiles/ and tensorflow/tools/docker/ should be updated when Tensorflow begins hosting the current images.", "body": "This PR is intended as follow-up to the proposal in Issue #23170 to host Tensorflow's currently developed Dockerfile images on Docker Hub.\r\n\r\nFrom the Issue:\r\n\r\n>Tensorflow's Dockerfiles are [currently located](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/dockerfiles/dockerfiles) at `tensorflow/tensorflow/tools/dockerfiles/dockerfiles/`. The parent directory (`tensorflow/tensorflow/tools/dockerfiles/`) includes instructions to build the images from that directory. This is done so the Dockerfiles have the `bashrc` file in their build context to `COPY` into containers at runtime. \r\n>\r\n>There are another set of Dockerfiles at `tensorflow/tensorflow/tools/docker/` which are marked deprecated/for-deletion. These deprecated Dockerfiles are the ones currently hosted on [Docker Hub](https://hub.docker.com/r/tensorflow/tensorflow/).\r\n>\r\n>I propose Tensorflow switch their publicly available Docker images from the deprecated set to current ones. With minimal upfront effort, all eight current images could be hosted on Docker Hub and automatically rebuilt with each repo update.\r\n\r\nI pushed the images from this PR to the `imburbank/tensorflow` [repo](https://hub.docker.com/r/imburbank/tensorflow/ 'Docker Hub') on Docker Hub for now. All the images can be run with `imburbank/tensorflow:[Docker Tag Name]`. The hosted images:tags are as follows:\r\n\r\n| Dockerfile Location                                                                          |  Docker Tag Name          |\r\n|----------------------------------------------------------------------------------------|----------------------------------|\r\n| `tools/dockerfiles/dockerfiles/cpu.Dockerfile`                                  | latest                               |\r\n| `tools/dockerfiles/dockerfiles/cpu-devel.Dockerfile`                        | latest-devel                      |\r\n| `tools/dockerfiles/dockerfiles/cpu-jupyter.Dockerfile`                      | latest-jupyter                    |\r\n| `tools/dockerfiles/dockerfiles/cpu-devel-jupyter.Dockerfile`            | latest-devel-jupyter          |\r\n| `tools/dockerfiles/dockerfiles/nvidia.Dockerfile`                              | latest-gpu                        |\r\n| `tools/dockerfiles/dockerfiles/nvidia-devel.Dockerfile`                    | latest-gpu-devel               |\r\n| `tools/dockerfiles/dockerfiles/nvidia-jupyter.Dockerfile`                  | latest-gpu-jupyter             |\r\n| `tools/dockerfiles/dockerfiles/nvidia-devel-jupyter.Dockerfile`        | latest-gpu-devel-jupyter   |\r\n\r\nFor example, to run `nvidia.Dockerfile`:\r\n\r\n```bash\r\ndocker run --runtime=nvidia -u $(id -u):$(id -g) -v $(pwd):/my-devel -it imburbank/tensorflow:latest-gpu\r\n```\r\n\r\nI also propose that Tensorflow take over hosting these images in the official Docker Hub repo. \r\n\r\nAs a follow up, the `README.md`s at `tensorflow/tools/dockerfiles/` and `tensorflow/tools/docker/` should be updated when Tensorflow begins hosting the current images."}