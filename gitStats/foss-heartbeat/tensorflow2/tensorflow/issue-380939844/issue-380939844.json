{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23758", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23758/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23758/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23758/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23758", "id": 380939844, "node_id": "MDU6SXNzdWUzODA5Mzk4NDQ=", "number": 23758, "title": "ImportError: cannot import name 'cloud'", "user": {"login": "sadatnfs", "id": 19790145, "node_id": "MDQ6VXNlcjE5NzkwMTQ1", "avatar_url": "https://avatars2.githubusercontent.com/u/19790145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sadatnfs", "html_url": "https://github.com/sadatnfs", "followers_url": "https://api.github.com/users/sadatnfs/followers", "following_url": "https://api.github.com/users/sadatnfs/following{/other_user}", "gists_url": "https://api.github.com/users/sadatnfs/gists{/gist_id}", "starred_url": "https://api.github.com/users/sadatnfs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sadatnfs/subscriptions", "organizations_url": "https://api.github.com/users/sadatnfs/orgs", "repos_url": "https://api.github.com/users/sadatnfs/repos", "events_url": "https://api.github.com/users/sadatnfs/events{/privacy}", "received_events_url": "https://api.github.com/users/sadatnfs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2018-11-14T23:56:39Z", "updated_at": "2018-11-23T05:49:21Z", "closed_at": "2018-11-20T21:51:11Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The latest build is giving me a weird Import Error on a module, even though I added extra stuff to the necessary <strong>init</strong>.py. Build command and trace below:</p>\n<p><strong>System information</strong></p>\n<ul>\n<li>Have I written custom code (as opposed to using a stock example script provided in TensorFlow): N/A</li>\n<li>OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Debian</li>\n<li>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A</li>\n<li>TensorFlow installed from (source or binary): source</li>\n<li>TensorFlow version (use command below): Master branch</li>\n<li>Python version: 3.6.5</li>\n<li>Bazel version (if compiling from source): 0.15.0</li>\n<li>GCC/Compiler version (if compiling from source): 8.2.0</li>\n<li>CUDA/cuDNN version: N/A</li>\n<li>GPU model and memory: N/A</li>\n</ul>\n<p><strong>Code to reproduce the issue</strong></p>\n<div class=\"highlight highlight-source-shell\"><pre>wget https://github.com/bazelbuild/bazel/releases/download/0.15.0/bazel_0.15.0-linux-x86_64.deb <span class=\"pl-k\">&amp;&amp;</span> \\\n    sudo dpkg -i bazel_0.15.0-linux-x86_64.deb <span class=\"pl-k\">&amp;&amp;</span> \\\n    sudo apt-get install -f <span class=\"pl-k\">&amp;&amp;</span> \\\n    rm bazel_0.15.0-linux-x86_64.deb <span class=\"pl-k\">&amp;&amp;</span> \\\n    pip uninstall -y tensorflow-tensorboard tfp-nightly tensorflow_estimator tb-nightly tf-nightly tensorflow <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">cd</span> /opt <span class=\"pl-k\">&amp;&amp;</span> \\\n    git clone --recursive   https://github.com/tensorflow/tensorflow.git <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">cd</span> /opt/tensorflow <span class=\"pl-k\">&amp;&amp;</span> \\\n    sed -i <span class=\"pl-s\"><span class=\"pl-pds\">'</span>s/2018\\.0\\.3\\.20180406/2019\\.0\\.1\\.20180928/g<span class=\"pl-pds\">'</span></span> tensorflow/contrib/cmake/external/mkl.cmake <span class=\"pl-k\">&amp;&amp;</span> \\\n    sed -i <span class=\"pl-s\"><span class=\"pl-pds\">'</span>s/v0\\.14/v0\\.17\\-rc/g<span class=\"pl-pds\">'</span></span> tensorflow/contrib/cmake/external/mkl.cmake <span class=\"pl-k\">&amp;&amp;</span> \\\n    sed -i <span class=\"pl-s\"><span class=\"pl-pds\">'</span>s/3063b2e4c943983f6bf5f2fb9a490d4a998cd291/21fb5f2af1dd14e132af4f1b79160977ee487818/g<span class=\"pl-pds\">'</span></span> tensorflow/contrib/cmake/external/mkldnn.cmake <span class=\"pl-k\">&amp;&amp;</span> \\\n    ln -s /usr/lib/libmkldnn.so /usr/lib/libiomp5.so /usr/lib/libmklml_gnu.so  /usr/lib/libmklml_intel.so <span class=\"pl-smi\">$MKLROOT</span>/lib/intel64_lin <span class=\"pl-k\">&amp;&amp;</span> \\\n    ln -s /usr/include/mkldnn<span class=\"pl-k\">*</span> <span class=\"pl-smi\">$MKLROOT</span>/include <span class=\"pl-k\">&amp;&amp;</span> \\\n    ln -s <span class=\"pl-smi\">$MKLROOT</span>/lib/intel64_lin/<span class=\"pl-k\">*</span> <span class=\"pl-smi\">$MKLROOT</span>/lib <span class=\"pl-k\">&amp;&amp;</span> \\\n    ln -s /usr/lib /usr/lib/lib <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">&gt;</span> /usr/local/lib/license.txt <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">&gt;</span> /usr/local/include/license.txt <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>from tensorflow.contrib import cloud<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">&gt;&gt;</span> tensorflow/contrib/__init__.py <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>from tensorflow.contrib import *<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">&gt;&gt;</span> tensorflow/contrib/__init__.py <span class=\"pl-k\">&amp;&amp;</span> \\\n    TF_MKL_ROOT=/usr/lib  \\\n    TF_MKL_DOWNLOAD=0 \\\n    USE_DEFAULT_PYTHON_LIB_PATH=1 \\\n    TF_NEED_MKL=1 \\\n    TF_NEED_JEMALLOC=1 \\\n    TF_NEED_GCP=0 \\\n    TF_NEED_HDFS=0 \\\n    TF_ENABLE_XLA=1 \\\n    TF_NEED_MPI=0 \\\n    TF_NEED_GDR=0 \\\n    TF_NEED_S3=1 \\\n    TF_NEED_KAFKA=0 \\\n    TF_SET_ANDROID_WORKSPACE=0 \\\n    TF_NEED_CUDA=0 \\\n    TF_MKL_ENABLED=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>true<span class=\"pl-pds\">\"</span></span> \\\n    CI_BUILD_PYTHON=/opt/conda/bin/python \\\n    PYTHON_BIN_PATH=/opt/conda/bin/python \\\n    PYTHON_LIB_PATH=/opt/conda/lib/python3.6/site-packages \\\n    GCC_HOST_COMPILER_PATH=/usr/bin/gcc \\\n    CC_OPT_FLAGS=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-msse4.2 -msse4.1 -mavx -msse2 -msse3 -mfpmath=sse -lmkl_gf_lp64 -Wl,--start-group -lmkldnn -lmklml_intel -lmkl_gnu_thread -lmkl_core -Wl,--end-group -dl -lpthread -lm <span class=\"pl-pds\">\"</span></span> \\\n    /bin/bash ./configure \\\n    <span class=\"pl-k\">&amp;&amp;</span> \\\n    bazel build \\\n    --config=mkl --config=opt \\\n    --config=noaws --config=nogcp --config=verbs --config=noignite --config=nokafka \\\n    --cxxopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-D_GLIBCXX_USE_CXX11_ABI=0<span class=\"pl-pds\">\"</span></span> \\\n    --copt=-msse4.2 --copt=-msse4.1 --copt=-mavx --copt=-msse2 --copt=-msse3  \\\n    --copt=-O3 --copt=-mfpmath=both \\\n    --copt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-DMKL_LP64<span class=\"pl-pds\">\"</span></span> \\\n    --copt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-fPIC<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_gf_lp64<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_gnu_thread<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-dl<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-ldl<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lpthread<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_core<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lm<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkl_rt<span class=\"pl-pds\">\"</span></span> \\\n    --linkopt=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lmkldnn<span class=\"pl-pds\">\"</span></span> \\\n    tensorflow/tools/pip_package:build_pip_package <span class=\"pl-k\">&amp;&amp;</span> \\\n    bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/pip <span class=\"pl-k\">&amp;&amp;</span> \\\n    pip install --no-deps /tmp/pip/tensorflow-<span class=\"pl-k\">*</span>.whl <span class=\"pl-k\">&amp;&amp;</span> \\\n    <span class=\"pl-c1\">cd</span> /opt <span class=\"pl-k\">&amp;&amp;</span> rm -rf /opt/tensorflow /tmp/<span class=\"pl-k\">*</span> <span class=\"pl-k\">&amp;&amp;</span> \\\n    python -c <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>import tensorflow as tf; hello = tf.constant('Hello, TensorFlow!'); sess = tf.Session(); print(sess.run(hello))<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">&amp;&amp;</span> \\\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>## Build TFP after this ###</span>\n\n    python -c <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>import tensorflow_probability<span class=\"pl-pds\">\"</span></span>\n</pre></div>\n<p>** Trace **</p>\n<div class=\"highlight highlight-source-python\"><pre>Traceback (most recent call last):\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>&lt;string&gt;<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">1</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/opt/conda/lib/python3.6/site-packages/tensorflow_probability/__init__.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">78</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    <span class=\"pl-k\">from</span> tensorflow_probability.python <span class=\"pl-k\">import</span> <span class=\"pl-k\">*</span>  <span class=\"pl-c\"><span class=\"pl-c\">#</span> pylint: disable=wildcard-import</span>\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/__init__.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">22</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    <span class=\"pl-k\">from</span> tensorflow_probability.python <span class=\"pl-k\">import</span> distributions\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/distributions/__init__.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">66</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    <span class=\"pl-k\">from</span> tensorflow_probability.python.distributions.multivariate_student_t <span class=\"pl-k\">import</span> MultivariateStudentTLinearOperator\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/distributions/multivariate_student_t.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">25</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    <span class=\"pl-k\">from</span> tensorflow_probability.python <span class=\"pl-k\">import</span> math\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/math/__init__.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">22</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    <span class=\"pl-k\">from</span> tensorflow_probability.python.math.diag_jacobian <span class=\"pl-k\">import</span> diag_jacobian\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/math/diag_jacobian.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">24</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    tfe <span class=\"pl-k\">=</span> tf.contrib.eager\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/opt/conda/lib/python3.6/site-packages/tensorflow/python/util/lazy_loader.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">53</span>, <span class=\"pl-k\">in</span> <span class=\"pl-c1\">__getattr__</span>\n    module <span class=\"pl-k\">=</span> <span class=\"pl-c1\">self</span>._load()\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/opt/conda/lib/python3.6/site-packages/tensorflow/python/util/lazy_loader.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">42</span>, <span class=\"pl-k\">in</span> _load\n    module <span class=\"pl-k\">=</span> importlib.import_module(<span class=\"pl-c1\">self</span>.<span class=\"pl-c1\">__name__</span>)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/opt/conda/lib/python3.6/importlib/__init__.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">126</span>, <span class=\"pl-k\">in</span> import_module\n    <span class=\"pl-k\">return</span> _bootstrap._gcd_import(name[level:], package, level)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/__init__.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">30</span>, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    <span class=\"pl-k\">from</span> tensorflow.contrib <span class=\"pl-k\">import</span> cloud\n<span class=\"pl-c1\">ImportError</span>: cannot <span class=\"pl-k\">import</span> name <span class=\"pl-s\"><span class=\"pl-pds\">'</span>cloud<span class=\"pl-pds\">'</span></span>\n</pre></div>", "body_text": "The latest build is giving me a weird Import Error on a module, even though I added extra stuff to the necessary init.py. Build command and trace below:\nSystem information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): N/A\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Debian\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): Master branch\nPython version: 3.6.5\nBazel version (if compiling from source): 0.15.0\nGCC/Compiler version (if compiling from source): 8.2.0\nCUDA/cuDNN version: N/A\nGPU model and memory: N/A\n\nCode to reproduce the issue\nwget https://github.com/bazelbuild/bazel/releases/download/0.15.0/bazel_0.15.0-linux-x86_64.deb && \\\n    sudo dpkg -i bazel_0.15.0-linux-x86_64.deb && \\\n    sudo apt-get install -f && \\\n    rm bazel_0.15.0-linux-x86_64.deb && \\\n    pip uninstall -y tensorflow-tensorboard tfp-nightly tensorflow_estimator tb-nightly tf-nightly tensorflow && \\\n    cd /opt && \\\n    git clone --recursive   https://github.com/tensorflow/tensorflow.git && \\\n    cd /opt/tensorflow && \\\n    sed -i 's/2018\\.0\\.3\\.20180406/2019\\.0\\.1\\.20180928/g' tensorflow/contrib/cmake/external/mkl.cmake && \\\n    sed -i 's/v0\\.14/v0\\.17\\-rc/g' tensorflow/contrib/cmake/external/mkl.cmake && \\\n    sed -i 's/3063b2e4c943983f6bf5f2fb9a490d4a998cd291/21fb5f2af1dd14e132af4f1b79160977ee487818/g' tensorflow/contrib/cmake/external/mkldnn.cmake && \\\n    ln -s /usr/lib/libmkldnn.so /usr/lib/libiomp5.so /usr/lib/libmklml_gnu.so  /usr/lib/libmklml_intel.so $MKLROOT/lib/intel64_lin && \\\n    ln -s /usr/include/mkldnn* $MKLROOT/include && \\\n    ln -s $MKLROOT/lib/intel64_lin/* $MKLROOT/lib && \\\n    ln -s /usr/lib /usr/lib/lib && \\\n    echo \"\" > /usr/local/lib/license.txt && \\\n    echo \"\" > /usr/local/include/license.txt && \\\n    echo \"from tensorflow.contrib import cloud\" >> tensorflow/contrib/__init__.py && \\\n    echo \"from tensorflow.contrib import *\" >> tensorflow/contrib/__init__.py && \\\n    TF_MKL_ROOT=/usr/lib  \\\n    TF_MKL_DOWNLOAD=0 \\\n    USE_DEFAULT_PYTHON_LIB_PATH=1 \\\n    TF_NEED_MKL=1 \\\n    TF_NEED_JEMALLOC=1 \\\n    TF_NEED_GCP=0 \\\n    TF_NEED_HDFS=0 \\\n    TF_ENABLE_XLA=1 \\\n    TF_NEED_MPI=0 \\\n    TF_NEED_GDR=0 \\\n    TF_NEED_S3=1 \\\n    TF_NEED_KAFKA=0 \\\n    TF_SET_ANDROID_WORKSPACE=0 \\\n    TF_NEED_CUDA=0 \\\n    TF_MKL_ENABLED=\"true\" \\\n    CI_BUILD_PYTHON=/opt/conda/bin/python \\\n    PYTHON_BIN_PATH=/opt/conda/bin/python \\\n    PYTHON_LIB_PATH=/opt/conda/lib/python3.6/site-packages \\\n    GCC_HOST_COMPILER_PATH=/usr/bin/gcc \\\n    CC_OPT_FLAGS=\"-msse4.2 -msse4.1 -mavx -msse2 -msse3 -mfpmath=sse -lmkl_gf_lp64 -Wl,--start-group -lmkldnn -lmklml_intel -lmkl_gnu_thread -lmkl_core -Wl,--end-group -dl -lpthread -lm \" \\\n    /bin/bash ./configure \\\n    && \\\n    bazel build \\\n    --config=mkl --config=opt \\\n    --config=noaws --config=nogcp --config=verbs --config=noignite --config=nokafka \\\n    --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" \\\n    --copt=-msse4.2 --copt=-msse4.1 --copt=-mavx --copt=-msse2 --copt=-msse3  \\\n    --copt=-O3 --copt=-mfpmath=both \\\n    --copt=\"-DMKL_LP64\" \\\n    --copt=\"-fPIC\" \\\n    --linkopt=\"-lmkl_gf_lp64\" \\\n    --linkopt=\"-lmkl_gnu_thread\" \\\n    --linkopt=\"-dl\" \\\n    --linkopt=\"-ldl\" \\\n    --linkopt=\"-lpthread\" \\\n    --linkopt=\"-lmkl_core\" \\\n    --linkopt=\"-lm\" \\\n    --linkopt=\"-lmkl_rt\" \\\n    --linkopt=\"-lmkldnn\" \\\n    tensorflow/tools/pip_package:build_pip_package && \\\n    bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/pip && \\\n    pip install --no-deps /tmp/pip/tensorflow-*.whl && \\\n    cd /opt && rm -rf /opt/tensorflow /tmp/* && \\\n    python -c \"import tensorflow as tf; hello = tf.constant('Hello, TensorFlow!'); sess = tf.Session(); print(sess.run(hello))\" && \\\n\n### Build TFP after this ###\n\n    python -c \"import tensorflow_probability\"\n\n** Trace **\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/__init__.py\", line 78, in <module>\n    from tensorflow_probability.python import *  # pylint: disable=wildcard-import\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/__init__.py\", line 22, in <module>\n    from tensorflow_probability.python import distributions\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/distributions/__init__.py\", line 66, in <module>\n    from tensorflow_probability.python.distributions.multivariate_student_t import MultivariateStudentTLinearOperator\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/distributions/multivariate_student_t.py\", line 25, in <module>\n    from tensorflow_probability.python import math\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/math/__init__.py\", line 22, in <module>\n    from tensorflow_probability.python.math.diag_jacobian import diag_jacobian\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/math/diag_jacobian.py\", line 24, in <module>\n    tfe = tf.contrib.eager\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\n    module = self._load()\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\n    module = importlib.import_module(self.__name__)\n  File \"/opt/conda/lib/python3.6/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/__init__.py\", line 30, in <module>\n    from tensorflow.contrib import cloud\nImportError: cannot import name 'cloud'", "body": "The latest build is giving me a weird Import Error on a module, even though I added extra stuff to the necessary __init__.py. Build command and trace below:\r\n\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): N/A\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Debian\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): Master branch\r\n- Python version: 3.6.5\r\n- Bazel version (if compiling from source): 0.15.0\r\n- GCC/Compiler version (if compiling from source): 8.2.0\r\n- CUDA/cuDNN version: N/A\r\n- GPU model and memory: N/A\r\n\r\n**Code to reproduce the issue**\r\n```bash \r\nwget https://github.com/bazelbuild/bazel/releases/download/0.15.0/bazel_0.15.0-linux-x86_64.deb && \\\r\n    sudo dpkg -i bazel_0.15.0-linux-x86_64.deb && \\\r\n    sudo apt-get install -f && \\\r\n    rm bazel_0.15.0-linux-x86_64.deb && \\\r\n    pip uninstall -y tensorflow-tensorboard tfp-nightly tensorflow_estimator tb-nightly tf-nightly tensorflow && \\\r\n    cd /opt && \\\r\n    git clone --recursive   https://github.com/tensorflow/tensorflow.git && \\\r\n    cd /opt/tensorflow && \\\r\n    sed -i 's/2018\\.0\\.3\\.20180406/2019\\.0\\.1\\.20180928/g' tensorflow/contrib/cmake/external/mkl.cmake && \\\r\n    sed -i 's/v0\\.14/v0\\.17\\-rc/g' tensorflow/contrib/cmake/external/mkl.cmake && \\\r\n    sed -i 's/3063b2e4c943983f6bf5f2fb9a490d4a998cd291/21fb5f2af1dd14e132af4f1b79160977ee487818/g' tensorflow/contrib/cmake/external/mkldnn.cmake && \\\r\n    ln -s /usr/lib/libmkldnn.so /usr/lib/libiomp5.so /usr/lib/libmklml_gnu.so  /usr/lib/libmklml_intel.so $MKLROOT/lib/intel64_lin && \\\r\n    ln -s /usr/include/mkldnn* $MKLROOT/include && \\\r\n    ln -s $MKLROOT/lib/intel64_lin/* $MKLROOT/lib && \\\r\n    ln -s /usr/lib /usr/lib/lib && \\\r\n    echo \"\" > /usr/local/lib/license.txt && \\\r\n    echo \"\" > /usr/local/include/license.txt && \\\r\n    echo \"from tensorflow.contrib import cloud\" >> tensorflow/contrib/__init__.py && \\\r\n    echo \"from tensorflow.contrib import *\" >> tensorflow/contrib/__init__.py && \\\r\n    TF_MKL_ROOT=/usr/lib  \\\r\n    TF_MKL_DOWNLOAD=0 \\\r\n    USE_DEFAULT_PYTHON_LIB_PATH=1 \\\r\n    TF_NEED_MKL=1 \\\r\n    TF_NEED_JEMALLOC=1 \\\r\n    TF_NEED_GCP=0 \\\r\n    TF_NEED_HDFS=0 \\\r\n    TF_ENABLE_XLA=1 \\\r\n    TF_NEED_MPI=0 \\\r\n    TF_NEED_GDR=0 \\\r\n    TF_NEED_S3=1 \\\r\n    TF_NEED_KAFKA=0 \\\r\n    TF_SET_ANDROID_WORKSPACE=0 \\\r\n    TF_NEED_CUDA=0 \\\r\n    TF_MKL_ENABLED=\"true\" \\\r\n    CI_BUILD_PYTHON=/opt/conda/bin/python \\\r\n    PYTHON_BIN_PATH=/opt/conda/bin/python \\\r\n    PYTHON_LIB_PATH=/opt/conda/lib/python3.6/site-packages \\\r\n    GCC_HOST_COMPILER_PATH=/usr/bin/gcc \\\r\n    CC_OPT_FLAGS=\"-msse4.2 -msse4.1 -mavx -msse2 -msse3 -mfpmath=sse -lmkl_gf_lp64 -Wl,--start-group -lmkldnn -lmklml_intel -lmkl_gnu_thread -lmkl_core -Wl,--end-group -dl -lpthread -lm \" \\\r\n    /bin/bash ./configure \\\r\n    && \\\r\n    bazel build \\\r\n    --config=mkl --config=opt \\\r\n    --config=noaws --config=nogcp --config=verbs --config=noignite --config=nokafka \\\r\n    --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" \\\r\n    --copt=-msse4.2 --copt=-msse4.1 --copt=-mavx --copt=-msse2 --copt=-msse3  \\\r\n    --copt=-O3 --copt=-mfpmath=both \\\r\n    --copt=\"-DMKL_LP64\" \\\r\n    --copt=\"-fPIC\" \\\r\n    --linkopt=\"-lmkl_gf_lp64\" \\\r\n    --linkopt=\"-lmkl_gnu_thread\" \\\r\n    --linkopt=\"-dl\" \\\r\n    --linkopt=\"-ldl\" \\\r\n    --linkopt=\"-lpthread\" \\\r\n    --linkopt=\"-lmkl_core\" \\\r\n    --linkopt=\"-lm\" \\\r\n    --linkopt=\"-lmkl_rt\" \\\r\n    --linkopt=\"-lmkldnn\" \\\r\n    tensorflow/tools/pip_package:build_pip_package && \\\r\n    bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/pip && \\\r\n    pip install --no-deps /tmp/pip/tensorflow-*.whl && \\\r\n    cd /opt && rm -rf /opt/tensorflow /tmp/* && \\\r\n    python -c \"import tensorflow as tf; hello = tf.constant('Hello, TensorFlow!'); sess = tf.Session(); print(sess.run(hello))\" && \\\r\n\r\n### Build TFP after this ###\r\n\r\n    python -c \"import tensorflow_probability\"\r\n\r\n```\r\n\r\n** Trace **\r\n```python \r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/__init__.py\", line 78, in <module>\r\n    from tensorflow_probability.python import *  # pylint: disable=wildcard-import\r\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/__init__.py\", line 22, in <module>\r\n    from tensorflow_probability.python import distributions\r\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/distributions/__init__.py\", line 66, in <module>\r\n    from tensorflow_probability.python.distributions.multivariate_student_t import MultivariateStudentTLinearOperator\r\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/distributions/multivariate_student_t.py\", line 25, in <module>\r\n    from tensorflow_probability.python import math\r\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/math/__init__.py\", line 22, in <module>\r\n    from tensorflow_probability.python.math.diag_jacobian import diag_jacobian\r\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow_probability/python/math/diag_jacobian.py\", line 24, in <module>\r\n    tfe = tf.contrib.eager\r\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\r\n    module = self._load()\r\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\r\n    module = importlib.import_module(self.__name__)\r\n  File \"/opt/conda/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"/opt/conda/lib/python3.6/site-packages/tensorflow/contrib/__init__.py\", line 30, in <module>\r\n    from tensorflow.contrib import cloud\r\nImportError: cannot import name 'cloud'\r\n\r\n```"}