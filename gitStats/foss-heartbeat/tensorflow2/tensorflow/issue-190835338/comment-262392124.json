{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/262392124", "html_url": "https://github.com/tensorflow/tensorflow/issues/5758#issuecomment-262392124", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5758", "id": 262392124, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjM5MjEyNA==", "user": {"login": "prb12", "id": 11547801, "node_id": "MDQ6VXNlcjExNTQ3ODAx", "avatar_url": "https://avatars1.githubusercontent.com/u/11547801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prb12", "html_url": "https://github.com/prb12", "followers_url": "https://api.github.com/users/prb12/followers", "following_url": "https://api.github.com/users/prb12/following{/other_user}", "gists_url": "https://api.github.com/users/prb12/gists{/gist_id}", "starred_url": "https://api.github.com/users/prb12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prb12/subscriptions", "organizations_url": "https://api.github.com/users/prb12/orgs", "repos_url": "https://api.github.com/users/prb12/repos", "events_url": "https://api.github.com/users/prb12/events{/privacy}", "received_events_url": "https://api.github.com/users/prb12/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-22T23:02:03Z", "updated_at": "2016-11-22T23:02:03Z", "author_association": "MEMBER", "body_html": "<p>I'm struggling to follow your confusing issue report, but ...</p>\n<p>With TF 0.11, I get the following output:</p>\n<pre><code>&gt;&gt;&gt; x = tf.Variable([1.,2.,3.,4.])\n&gt;&gt;&gt; y = tf.tile(x,tf.constant(2))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2859, in tile\n    name=name)\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 749, in apply_op\n    op_def=op_def)\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2382, in create_op\n    set_shapes_for_outputs(ret)\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1783, in set_shapes_for_outputs\n    shapes = shape_func(op)\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1789, in _TileShape\n    multiples_shape = op.inputs[1].get_shape().with_rank(1)\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 650, in with_rank\n    raise ValueError(\"Shape %s must have rank %d\" % (self, rank))\nValueError: Shape () must have rank 1\n</code></pre>\n<p>...as per the <a href=\"https://www.tensorflow.org/versions/r0.11/api_docs/python/array_ops.html#tile\" rel=\"nofollow\">documentation</a>.  You are passing a scalar and the documentation states that the <code>multiples</code> argument must be 1-D.</p>\n<pre><code>&gt;&gt;&gt; y = tf.tile(x, tf.constant([2]))\n&gt;&gt;&gt; \n</code></pre>\n<p>Seems to work for me?</p>\n<blockquote>\n<p>x = tf.constant(shape=[],dtype=\"int32\")<br>\nThis produced the memorable message \"TypeError: constant() takes at least 1 argument (2 given)\"<br>\nThe signature of <code>tf.constant</code> is:</p>\n</blockquote>\n<pre><code>def constant(value, dtype=None, shape=None, name=\"Const\"):\n</code></pre>\n<p>The <a href=\"https://www.tensorflow.org/versions/r0.11/api_docs/python/constant_op.html#constant\" rel=\"nofollow\">documentation</a> states:</p>\n<pre><code>  Args:\n    value:     A constant value (or list) of output type `dtype`.\n    dtype:     The type of the elements of the resulting tensor.\n    shape:     Optional dimensions of resulting tensor.\n    name:      Optional name for the tensor.\n  Returns:\n    A Constant Tensor.\n</code></pre>\n<p>i.e. you <em>must</em> pass an argument for the positional argument <code>value</code>, and the keyword argument <code>dtype</code></p>\n<p>This error message is lamentable, but not TensorFlow's fault. Consider the following simple Python program:</p>\n<pre><code>&gt;&gt;&gt; def foo(value, dtype=None, shape=None): return value\n&gt;&gt;&gt; foo\n&lt;function foo at 0x7f2f7ae0bb90&gt;\n&gt;&gt;&gt; foo(dtype=2, shape=3)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: foo() takes at least 1 argument (2 given)\n</code></pre>\n<blockquote>\n<p>tf.tile(1.,[0]) produces an error \"Shape () must have rank 1\".</p>\n</blockquote>\n<p>The args to <a href=\"https://www.tensorflow.org/versions/r0.11/api_docs/python/array_ops.html#tile\" rel=\"nofollow\">tf.tile</a> are as follows:</p>\n<pre><code>Args:\ninput: A Tensor. 1-D or higher.\nmultiples: A Tensor. Must be one of the following types: int32, int64. 1-D. Length must be the same as the number of dimensions in input\nname: A name for the operation (optional).\n</code></pre>\n<p>Your error is because you passed a scalar as the input, which is required to be 1-D or higher.</p>\n<blockquote>\n<p>As a PS, one would expect that tiling with a multiple of 0 would give an empty tensor as result.</p>\n</blockquote>\n<pre><code>&gt;&gt;&gt; with tf.Session() as sess: tf.tile([1], [1]).eval()\n... \narray([1], dtype=int32)\n&gt;&gt;&gt; with tf.Session() as sess: tf.tile([1], [0]).eval()\n... \narray([], dtype=int32)\n</code></pre>\n<p>...as it does?</p>\n<p>Please feel free to reopen if this doesn't solve your problem.</p>", "body_text": "I'm struggling to follow your confusing issue report, but ...\nWith TF 0.11, I get the following output:\n>>> x = tf.Variable([1.,2.,3.,4.])\n>>> y = tf.tile(x,tf.constant(2))\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2859, in tile\n    name=name)\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 749, in apply_op\n    op_def=op_def)\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2382, in create_op\n    set_shapes_for_outputs(ret)\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1783, in set_shapes_for_outputs\n    shapes = shape_func(op)\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1789, in _TileShape\n    multiples_shape = op.inputs[1].get_shape().with_rank(1)\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 650, in with_rank\n    raise ValueError(\"Shape %s must have rank %d\" % (self, rank))\nValueError: Shape () must have rank 1\n\n...as per the documentation.  You are passing a scalar and the documentation states that the multiples argument must be 1-D.\n>>> y = tf.tile(x, tf.constant([2]))\n>>> \n\nSeems to work for me?\n\nx = tf.constant(shape=[],dtype=\"int32\")\nThis produced the memorable message \"TypeError: constant() takes at least 1 argument (2 given)\"\nThe signature of tf.constant is:\n\ndef constant(value, dtype=None, shape=None, name=\"Const\"):\n\nThe documentation states:\n  Args:\n    value:     A constant value (or list) of output type `dtype`.\n    dtype:     The type of the elements of the resulting tensor.\n    shape:     Optional dimensions of resulting tensor.\n    name:      Optional name for the tensor.\n  Returns:\n    A Constant Tensor.\n\ni.e. you must pass an argument for the positional argument value, and the keyword argument dtype\nThis error message is lamentable, but not TensorFlow's fault. Consider the following simple Python program:\n>>> def foo(value, dtype=None, shape=None): return value\n>>> foo\n<function foo at 0x7f2f7ae0bb90>\n>>> foo(dtype=2, shape=3)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nTypeError: foo() takes at least 1 argument (2 given)\n\n\ntf.tile(1.,[0]) produces an error \"Shape () must have rank 1\".\n\nThe args to tf.tile are as follows:\nArgs:\ninput: A Tensor. 1-D or higher.\nmultiples: A Tensor. Must be one of the following types: int32, int64. 1-D. Length must be the same as the number of dimensions in input\nname: A name for the operation (optional).\n\nYour error is because you passed a scalar as the input, which is required to be 1-D or higher.\n\nAs a PS, one would expect that tiling with a multiple of 0 would give an empty tensor as result.\n\n>>> with tf.Session() as sess: tf.tile([1], [1]).eval()\n... \narray([1], dtype=int32)\n>>> with tf.Session() as sess: tf.tile([1], [0]).eval()\n... \narray([], dtype=int32)\n\n...as it does?\nPlease feel free to reopen if this doesn't solve your problem.", "body": "I'm struggling to follow your confusing issue report, but ... \r\n\r\nWith TF 0.11, I get the following output:\r\n```\r\n>>> x = tf.Variable([1.,2.,3.,4.])\r\n>>> y = tf.tile(x,tf.constant(2))\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2859, in tile\r\n    name=name)\r\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 749, in apply_op\r\n    op_def=op_def)\r\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2382, in create_op\r\n    set_shapes_for_outputs(ret)\r\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1783, in set_shapes_for_outputs\r\n    shapes = shape_func(op)\r\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1789, in _TileShape\r\n    multiples_shape = op.inputs[1].get_shape().with_rank(1)\r\n  File \"/usr/local/google/home/pbar/tensorflow.0.11rc2/local/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 650, in with_rank\r\n    raise ValueError(\"Shape %s must have rank %d\" % (self, rank))\r\nValueError: Shape () must have rank 1\r\n```\r\n...as per the [documentation](https://www.tensorflow.org/versions/r0.11/api_docs/python/array_ops.html#tile).  You are passing a scalar and the documentation states that the `multiples` argument must be 1-D.\r\n```\r\n>>> y = tf.tile(x, tf.constant([2]))\r\n>>> \r\n```\r\nSeems to work for me?\r\n\r\n> x = tf.constant(shape=[],dtype=\"int32\")\r\nThis produced the memorable message \"TypeError: constant() takes at least 1 argument (2 given)\"\r\nThe signature of `tf.constant` is:\r\n```\r\ndef constant(value, dtype=None, shape=None, name=\"Const\"):\r\n```\r\nThe [documentation](https://www.tensorflow.org/versions/r0.11/api_docs/python/constant_op.html#constant) states:\r\n```\r\n  Args:\r\n    value:     A constant value (or list) of output type `dtype`.\r\n    dtype:     The type of the elements of the resulting tensor.\r\n    shape:     Optional dimensions of resulting tensor.\r\n    name:      Optional name for the tensor.\r\n  Returns:\r\n    A Constant Tensor.\r\n```\r\ni.e. you *must* pass an argument for the positional argument `value`, and the keyword argument `dtype`\r\n\r\nThis error message is lamentable, but not TensorFlow's fault. Consider the following simple Python program:\r\n```\r\n>>> def foo(value, dtype=None, shape=None): return value\r\n>>> foo\r\n<function foo at 0x7f2f7ae0bb90>\r\n>>> foo(dtype=2, shape=3)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nTypeError: foo() takes at least 1 argument (2 given)\r\n```\r\n\r\n> tf.tile(1.,[0]) produces an error \"Shape () must have rank 1\".\r\n\r\nThe args to [tf.tile](https://www.tensorflow.org/versions/r0.11/api_docs/python/array_ops.html#tile) are as follows:\r\n```\r\nArgs:\r\ninput: A Tensor. 1-D or higher.\r\nmultiples: A Tensor. Must be one of the following types: int32, int64. 1-D. Length must be the same as the number of dimensions in input\r\nname: A name for the operation (optional).\r\n```\r\nYour error is because you passed a scalar as the input, which is required to be 1-D or higher.\r\n\r\n> As a PS, one would expect that tiling with a multiple of 0 would give an empty tensor as result.\r\n```\r\n>>> with tf.Session() as sess: tf.tile([1], [1]).eval()\r\n... \r\narray([1], dtype=int32)\r\n>>> with tf.Session() as sess: tf.tile([1], [0]).eval()\r\n... \r\narray([], dtype=int32)\r\n```\r\n...as it does?\r\n\r\nPlease feel free to reopen if this doesn't solve your problem."}