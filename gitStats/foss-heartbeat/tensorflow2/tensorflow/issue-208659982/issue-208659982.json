{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7651", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7651/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7651/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7651/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7651", "id": 208659982, "node_id": "MDU6SXNzdWUyMDg2NTk5ODI=", "number": 7651, "title": "AttributeError: 'module' object has no attribute 'Default' (revisited)", "user": {"login": "zd3nik", "id": 1753175, "node_id": "MDQ6VXNlcjE3NTMxNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1753175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zd3nik", "html_url": "https://github.com/zd3nik", "followers_url": "https://api.github.com/users/zd3nik/followers", "following_url": "https://api.github.com/users/zd3nik/following{/other_user}", "gists_url": "https://api.github.com/users/zd3nik/gists{/gist_id}", "starred_url": "https://api.github.com/users/zd3nik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zd3nik/subscriptions", "organizations_url": "https://api.github.com/users/zd3nik/orgs", "repos_url": "https://api.github.com/users/zd3nik/repos", "events_url": "https://api.github.com/users/zd3nik/events{/privacy}", "received_events_url": "https://api.github.com/users/zd3nik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-02-18T18:27:45Z", "updated_at": "2018-08-14T08:23:44Z", "closed_at": "2017-02-19T16:36:22Z", "author_association": "NONE", "body_html": "<h3>Issue</h3>\n<pre><code>$ python\nPython 2.7.6 (default, Oct 26 2016, 20:30:19) \n[GCC 4.8.4] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import tensorflow as tf\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/__init__.py\", line 24, in &lt;module&gt;\n    from tensorflow.python import *\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/python/__init__.py\", line 75, in &lt;module&gt;\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/core/framework/graph_pb2.py\", line 9, in &lt;module&gt;\n    from google.protobuf import symbol_database as _symbol_database\n  File \"/usr/local/lib/python2.7/dist-packages/google/protobuf/symbol_database.py\", line 165, in &lt;module&gt;\n    _DEFAULT = SymbolDatabase(pool=descriptor_pool.Default())\nAttributeError: 'module' object has no attribute 'Default'\n</code></pre>\n<h3>Existing issues</h3>\n<p>Already found issues: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"186693814\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5344\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5344/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5344\">#5344</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"186479590\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5319\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5319/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5319\">#5319</a> but neither provides a solution to the problem - that I could see (perhaps I just missed it somewhere)</p>\n<h3>Environment info</h3>\n<p>Operating System: Linux Mint 17.3 Rosa</p>\n<h3>Reproduction details</h3>\n<p>First I built tensorflow from git source, branch r1.0.</p>\n<pre><code>$ git remote -v\norigin\thttps://github.com/tensorflow/tensorflow (fetch)\norigin\thttps://github.com/tensorflow/tensorflow (push)\n$ git branch\n  master\n* r1.0\n$ bazel version\nBuild label: 0.4.4\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)\nBuild timestamp: 1485975261\nBuild timestamp as int: 1485975261\n</code></pre>\n<p>No apparent problems encountered during the build.  This resulted in a .whl file in the /tmp directory and I installed it with pip:</p>\n<pre><code>$ sudo pip install /tmp/tensorflow_pkg/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\n</code></pre>\n<p>At this point I get the import error shown at the top of this post whenever <code>import tensorflow</code> is used in a python shell.</p>\n<p>So I removed the locally built tensorflow with <code>sudo pip uninstall tensorflow</code> and re-installed with the pre-built .whl file:</p>\n<pre><code>$ sudo pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\n</code></pre>\n<p>Same import error.  Uninstalled again and tried using a virtualenv.  But I'm still getting the import errors:</p>\n<pre><code>$ virtualenv --system-site-packages ~/usr/tf\n$ source ~/usr/tf/bin/activate\n(tf)$ pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\nDownloading/unpacking https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\n  Downloading tensorflow-1.0.0-cp27-none-linux_x86_64.whl (44.1MB): 44.1MB downloaded\nRequirement already satisfied (use --upgrade to upgrade): protobuf&gt;=3.1.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\nRequirement already satisfied (use --upgrade to upgrade): wheel in /usr/lib/python2.7/dist-packages (from tensorflow==1.0.0)\nRequirement already satisfied (use --upgrade to upgrade): mock&gt;=2.0.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\nRequirement already satisfied (use --upgrade to upgrade): numpy&gt;=1.11.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\nRequirement already satisfied (use --upgrade to upgrade): six&gt;=1.10.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\nInstalling collected packages: tensorflow\nSuccessfully installed tensorflow\nCleaning up...\n(tf)$ python\nPython 2.7.6 (default, Oct 26 2016, 20:30:19) \n[GCC 4.8.4] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import tensorflow as tf\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/__init__.py\", line 24, in &lt;module&gt;\n    from tensorflow.python import *\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/python/__init__.py\", line 75, in &lt;module&gt;\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/core/framework/graph_pb2.py\", line 9, in &lt;module&gt;\n    from google.protobuf import symbol_database as _symbol_database\n  File \"/usr/local/lib/python2.7/dist-packages/google/protobuf/symbol_database.py\", line 165, in &lt;module&gt;\n    _DEFAULT = SymbolDatabase(pool=descriptor_pool.Default())\nAttributeError: 'module' object has no attribute 'Default'\n</code></pre>\n<p>I've tried the following, but neither had any effect:</p>\n<pre><code> pip install --upgrade protobuf\n pip install --upgrade tensorflow\n</code></pre>\n<p>My best guess is that the python protobuf lib version available for the older version of Linux Mint I'm using is the problem.  But I don't know how to verify that or fix it - if that is indeed the problem.</p>", "body_text": "Issue\n$ python\nPython 2.7.6 (default, Oct 26 2016, 20:30:19) \n[GCC 4.8.4] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tensorflow as tf\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/__init__.py\", line 24, in <module>\n    from tensorflow.python import *\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/python/__init__.py\", line 75, in <module>\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/core/framework/graph_pb2.py\", line 9, in <module>\n    from google.protobuf import symbol_database as _symbol_database\n  File \"/usr/local/lib/python2.7/dist-packages/google/protobuf/symbol_database.py\", line 165, in <module>\n    _DEFAULT = SymbolDatabase(pool=descriptor_pool.Default())\nAttributeError: 'module' object has no attribute 'Default'\n\nExisting issues\nAlready found issues: #5344 and #5319 but neither provides a solution to the problem - that I could see (perhaps I just missed it somewhere)\nEnvironment info\nOperating System: Linux Mint 17.3 Rosa\nReproduction details\nFirst I built tensorflow from git source, branch r1.0.\n$ git remote -v\norigin\thttps://github.com/tensorflow/tensorflow (fetch)\norigin\thttps://github.com/tensorflow/tensorflow (push)\n$ git branch\n  master\n* r1.0\n$ bazel version\nBuild label: 0.4.4\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)\nBuild timestamp: 1485975261\nBuild timestamp as int: 1485975261\n\nNo apparent problems encountered during the build.  This resulted in a .whl file in the /tmp directory and I installed it with pip:\n$ sudo pip install /tmp/tensorflow_pkg/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\n\nAt this point I get the import error shown at the top of this post whenever import tensorflow is used in a python shell.\nSo I removed the locally built tensorflow with sudo pip uninstall tensorflow and re-installed with the pre-built .whl file:\n$ sudo pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\n\nSame import error.  Uninstalled again and tried using a virtualenv.  But I'm still getting the import errors:\n$ virtualenv --system-site-packages ~/usr/tf\n$ source ~/usr/tf/bin/activate\n(tf)$ pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\nDownloading/unpacking https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\n  Downloading tensorflow-1.0.0-cp27-none-linux_x86_64.whl (44.1MB): 44.1MB downloaded\nRequirement already satisfied (use --upgrade to upgrade): protobuf>=3.1.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\nRequirement already satisfied (use --upgrade to upgrade): wheel in /usr/lib/python2.7/dist-packages (from tensorflow==1.0.0)\nRequirement already satisfied (use --upgrade to upgrade): mock>=2.0.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\nRequirement already satisfied (use --upgrade to upgrade): numpy>=1.11.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\nRequirement already satisfied (use --upgrade to upgrade): six>=1.10.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\nInstalling collected packages: tensorflow\nSuccessfully installed tensorflow\nCleaning up...\n(tf)$ python\nPython 2.7.6 (default, Oct 26 2016, 20:30:19) \n[GCC 4.8.4] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tensorflow as tf\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/__init__.py\", line 24, in <module>\n    from tensorflow.python import *\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/python/__init__.py\", line 75, in <module>\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/core/framework/graph_pb2.py\", line 9, in <module>\n    from google.protobuf import symbol_database as _symbol_database\n  File \"/usr/local/lib/python2.7/dist-packages/google/protobuf/symbol_database.py\", line 165, in <module>\n    _DEFAULT = SymbolDatabase(pool=descriptor_pool.Default())\nAttributeError: 'module' object has no attribute 'Default'\n\nI've tried the following, but neither had any effect:\n pip install --upgrade protobuf\n pip install --upgrade tensorflow\n\nMy best guess is that the python protobuf lib version available for the older version of Linux Mint I'm using is the problem.  But I don't know how to verify that or fix it - if that is indeed the problem.", "body": "### Issue\r\n\r\n```\r\n$ python\r\nPython 2.7.6 (default, Oct 26 2016, 20:30:19) \r\n[GCC 4.8.4] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow as tf\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import *\r\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/python/__init__.py\", line 75, in <module>\r\n    from tensorflow.core.framework.graph_pb2 import *\r\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/core/framework/graph_pb2.py\", line 9, in <module>\r\n    from google.protobuf import symbol_database as _symbol_database\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/protobuf/symbol_database.py\", line 165, in <module>\r\n    _DEFAULT = SymbolDatabase(pool=descriptor_pool.Default())\r\nAttributeError: 'module' object has no attribute 'Default'\r\n```\r\n\r\n### Existing issues\r\nAlready found issues: #5344 and #5319 but neither provides a solution to the problem - that I could see (perhaps I just missed it somewhere)\r\n\r\n### Environment info\r\nOperating System: Linux Mint 17.3 Rosa\r\n\r\n### Reproduction details\r\nFirst I built tensorflow from git source, branch r1.0.\r\n\r\n```\r\n$ git remote -v\r\norigin\thttps://github.com/tensorflow/tensorflow (fetch)\r\norigin\thttps://github.com/tensorflow/tensorflow (push)\r\n$ git branch\r\n  master\r\n* r1.0\r\n$ bazel version\r\nBuild label: 0.4.4\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)\r\nBuild timestamp: 1485975261\r\nBuild timestamp as int: 1485975261\r\n```\r\n\r\nNo apparent problems encountered during the build.  This resulted in a .whl file in the /tmp directory and I installed it with pip:\r\n\r\n```\r\n$ sudo pip install /tmp/tensorflow_pkg/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\r\n```\r\n\r\nAt this point I get the import error shown at the top of this post whenever `import tensorflow` is used in a python shell.\r\n\r\nSo I removed the locally built tensorflow with `sudo pip uninstall tensorflow` and re-installed with the pre-built .whl file:\r\n\r\n```\r\n$ sudo pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\r\n```\r\n\r\nSame import error.  Uninstalled again and tried using a virtualenv.  But I'm still getting the import errors:\r\n\r\n```\r\n$ virtualenv --system-site-packages ~/usr/tf\r\n$ source ~/usr/tf/bin/activate\r\n(tf)$ pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\r\nDownloading/unpacking https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\r\n  Downloading tensorflow-1.0.0-cp27-none-linux_x86_64.whl (44.1MB): 44.1MB downloaded\r\nRequirement already satisfied (use --upgrade to upgrade): protobuf>=3.1.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\r\nRequirement already satisfied (use --upgrade to upgrade): wheel in /usr/lib/python2.7/dist-packages (from tensorflow==1.0.0)\r\nRequirement already satisfied (use --upgrade to upgrade): mock>=2.0.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\r\nRequirement already satisfied (use --upgrade to upgrade): numpy>=1.11.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\r\nRequirement already satisfied (use --upgrade to upgrade): six>=1.10.0 in /usr/local/lib/python2.7/dist-packages (from tensorflow==1.0.0)\r\nInstalling collected packages: tensorflow\r\nSuccessfully installed tensorflow\r\nCleaning up...\r\n(tf)$ python\r\nPython 2.7.6 (default, Oct 26 2016, 20:30:19) \r\n[GCC 4.8.4] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow as tf\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import *\r\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/python/__init__.py\", line 75, in <module>\r\n    from tensorflow.core.framework.graph_pb2 import *\r\n  File \"/home/schidester/usr/tf/local/lib/python2.7/site-packages/tensorflow/core/framework/graph_pb2.py\", line 9, in <module>\r\n    from google.protobuf import symbol_database as _symbol_database\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/protobuf/symbol_database.py\", line 165, in <module>\r\n    _DEFAULT = SymbolDatabase(pool=descriptor_pool.Default())\r\nAttributeError: 'module' object has no attribute 'Default'\r\n```\r\n\r\nI've tried the following, but neither had any effect:\r\n\r\n```\r\n pip install --upgrade protobuf\r\n pip install --upgrade tensorflow\r\n```\r\n\r\nMy best guess is that the python protobuf lib version available for the older version of Linux Mint I'm using is the problem.  But I don't know how to verify that or fix it - if that is indeed the problem."}