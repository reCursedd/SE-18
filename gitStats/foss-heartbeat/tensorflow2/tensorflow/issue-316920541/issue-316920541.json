{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18802", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18802/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18802/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18802/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18802", "id": 316920541, "node_id": "MDU6SXNzdWUzMTY5MjA1NDE=", "number": 18802, "title": "Training iteration stops silently if not Debugging", "user": {"login": "iustin94", "id": 13846875, "node_id": "MDQ6VXNlcjEzODQ2ODc1", "avatar_url": "https://avatars2.githubusercontent.com/u/13846875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iustin94", "html_url": "https://github.com/iustin94", "followers_url": "https://api.github.com/users/iustin94/followers", "following_url": "https://api.github.com/users/iustin94/following{/other_user}", "gists_url": "https://api.github.com/users/iustin94/gists{/gist_id}", "starred_url": "https://api.github.com/users/iustin94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iustin94/subscriptions", "organizations_url": "https://api.github.com/users/iustin94/orgs", "repos_url": "https://api.github.com/users/iustin94/repos", "events_url": "https://api.github.com/users/iustin94/events{/privacy}", "received_events_url": "https://api.github.com/users/iustin94/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "omalleyt12", "id": 29100818, "node_id": "MDQ6VXNlcjI5MTAwODE4", "avatar_url": "https://avatars3.githubusercontent.com/u/29100818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omalleyt12", "html_url": "https://github.com/omalleyt12", "followers_url": "https://api.github.com/users/omalleyt12/followers", "following_url": "https://api.github.com/users/omalleyt12/following{/other_user}", "gists_url": "https://api.github.com/users/omalleyt12/gists{/gist_id}", "starred_url": "https://api.github.com/users/omalleyt12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omalleyt12/subscriptions", "organizations_url": "https://api.github.com/users/omalleyt12/orgs", "repos_url": "https://api.github.com/users/omalleyt12/repos", "events_url": "https://api.github.com/users/omalleyt12/events{/privacy}", "received_events_url": "https://api.github.com/users/omalleyt12/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "omalleyt12", "id": 29100818, "node_id": "MDQ6VXNlcjI5MTAwODE4", "avatar_url": "https://avatars3.githubusercontent.com/u/29100818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omalleyt12", "html_url": "https://github.com/omalleyt12", "followers_url": "https://api.github.com/users/omalleyt12/followers", "following_url": "https://api.github.com/users/omalleyt12/following{/other_user}", "gists_url": "https://api.github.com/users/omalleyt12/gists{/gist_id}", "starred_url": "https://api.github.com/users/omalleyt12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omalleyt12/subscriptions", "organizations_url": "https://api.github.com/users/omalleyt12/orgs", "repos_url": "https://api.github.com/users/omalleyt12/repos", "events_url": "https://api.github.com/users/omalleyt12/events{/privacy}", "received_events_url": "https://api.github.com/users/omalleyt12/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2018-04-23T18:04:18Z", "updated_at": "2018-07-13T17:00:58Z", "closed_at": "2018-07-13T17:00:58Z", "author_association": "NONE", "body_html": "<p>Have I written custom code: Yes<br>\nOS Platform and Distribution: Windows server 2012 R2 Standard<br>\nTensorFlow installed from: Pip repositories<br>\nTensorFlow version: 1.7.0<br>\nBazel version: NA<br>\nCUDA/cuDNN version: NA<br>\nGPU model and memory: NA<br>\nExact command to reproduce NA</p>\n<p>I'm attempting to train a tensorflow.contrib.keras.model.Sequencial on an image dataset. I have noticed however that when running the script normally, everything appears to work fine until the process does not exit. When I ran the scrip in debug mode, I received the message \"StopIteration: Could not import PIL.Image. The use of 'array_to_img' requires PIL\". The error is pretty self-explanatory, however is it intended behavior to fail silently like this?  I did not realize at first that the execution halted without exiting, until sometime passed.</p>\n<p>This is my model initialization and training block:</p>\n<pre><code>    model = tf.contrib.keras.models.Sequential()\n    model.add(tf.contrib.keras.layers.Conv2D(32, kernel_size=(3, 3),\n                     activation='relu',\n                     input_shape=data_train.image_shape))\n    model.add(tf.contrib.keras.layers.Conv2D(64, (3, 3), activation='relu'))\n    model.add(tf.contrib.keras.layers.MaxPooling2D(pool_size=(2, 2)))\n    model.add(tf.contrib.keras.layers.Dropout(0.25))\n    model.add(tf.contrib.keras.layers.Flatten())\n    model.add(tf.contrib.keras.layers.Dense(128, activation='relu'))\n    model.add(tf.contrib.keras.layers.Dropout(0.5))\n    model.add(tf.contrib.keras.layers.Dense(4, activation='softmax'))\n    \n    model.compile(loss=tf.contrib.keras.losses.categorical_crossentropy,\n                  optimizer=tf.contrib.keras.optimizers.Adadelta(),\n                  metrics=['accuracy'])\n\n    model.fit_generator(data_train,\n                        steps_per_epoch=100,\n                        epochs=5,\n                        validation_data=data_test,\n                        validation_steps= data_test.batch_size)\n</code></pre>", "body_text": "Have I written custom code: Yes\nOS Platform and Distribution: Windows server 2012 R2 Standard\nTensorFlow installed from: Pip repositories\nTensorFlow version: 1.7.0\nBazel version: NA\nCUDA/cuDNN version: NA\nGPU model and memory: NA\nExact command to reproduce NA\nI'm attempting to train a tensorflow.contrib.keras.model.Sequencial on an image dataset. I have noticed however that when running the script normally, everything appears to work fine until the process does not exit. When I ran the scrip in debug mode, I received the message \"StopIteration: Could not import PIL.Image. The use of 'array_to_img' requires PIL\". The error is pretty self-explanatory, however is it intended behavior to fail silently like this?  I did not realize at first that the execution halted without exiting, until sometime passed.\nThis is my model initialization and training block:\n    model = tf.contrib.keras.models.Sequential()\n    model.add(tf.contrib.keras.layers.Conv2D(32, kernel_size=(3, 3),\n                     activation='relu',\n                     input_shape=data_train.image_shape))\n    model.add(tf.contrib.keras.layers.Conv2D(64, (3, 3), activation='relu'))\n    model.add(tf.contrib.keras.layers.MaxPooling2D(pool_size=(2, 2)))\n    model.add(tf.contrib.keras.layers.Dropout(0.25))\n    model.add(tf.contrib.keras.layers.Flatten())\n    model.add(tf.contrib.keras.layers.Dense(128, activation='relu'))\n    model.add(tf.contrib.keras.layers.Dropout(0.5))\n    model.add(tf.contrib.keras.layers.Dense(4, activation='softmax'))\n    \n    model.compile(loss=tf.contrib.keras.losses.categorical_crossentropy,\n                  optimizer=tf.contrib.keras.optimizers.Adadelta(),\n                  metrics=['accuracy'])\n\n    model.fit_generator(data_train,\n                        steps_per_epoch=100,\n                        epochs=5,\n                        validation_data=data_test,\n                        validation_steps= data_test.batch_size)", "body": "Have I written custom code: Yes\r\nOS Platform and Distribution: Windows server 2012 R2 Standard\r\nTensorFlow installed from: Pip repositories\r\nTensorFlow version: 1.7.0\r\nBazel version: NA\r\nCUDA/cuDNN version: NA\r\nGPU model and memory: NA\r\nExact command to reproduce NA\r\n\r\n\r\nI'm attempting to train a tensorflow.contrib.keras.model.Sequencial on an image dataset. I have noticed however that when running the script normally, everything appears to work fine until the process does not exit. When I ran the scrip in debug mode, I received the message \"StopIteration: Could not import PIL.Image. The use of 'array_to_img' requires PIL\". The error is pretty self-explanatory, however is it intended behavior to fail silently like this?  I did not realize at first that the execution halted without exiting, until sometime passed.\r\n\r\nThis is my model initialization and training block:\r\n \r\n        model = tf.contrib.keras.models.Sequential()\r\n        model.add(tf.contrib.keras.layers.Conv2D(32, kernel_size=(3, 3),\r\n                         activation='relu',\r\n                         input_shape=data_train.image_shape))\r\n        model.add(tf.contrib.keras.layers.Conv2D(64, (3, 3), activation='relu'))\r\n        model.add(tf.contrib.keras.layers.MaxPooling2D(pool_size=(2, 2)))\r\n        model.add(tf.contrib.keras.layers.Dropout(0.25))\r\n        model.add(tf.contrib.keras.layers.Flatten())\r\n        model.add(tf.contrib.keras.layers.Dense(128, activation='relu'))\r\n        model.add(tf.contrib.keras.layers.Dropout(0.5))\r\n        model.add(tf.contrib.keras.layers.Dense(4, activation='softmax'))\r\n        \r\n        model.compile(loss=tf.contrib.keras.losses.categorical_crossentropy,\r\n                      optimizer=tf.contrib.keras.optimizers.Adadelta(),\r\n                      metrics=['accuracy'])\r\n\r\n        model.fit_generator(data_train,\r\n                            steps_per_epoch=100,\r\n                            epochs=5,\r\n                            validation_data=data_test,\r\n                            validation_steps= data_test.batch_size)"}