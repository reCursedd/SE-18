{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/416835718", "html_url": "https://github.com/tensorflow/tensorflow/issues/10338#issuecomment-416835718", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10338", "id": 416835718, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjgzNTcxOA==", "user": {"login": "jonasrauber", "id": 5837385, "node_id": "MDQ6VXNlcjU4MzczODU=", "avatar_url": "https://avatars1.githubusercontent.com/u/5837385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonasrauber", "html_url": "https://github.com/jonasrauber", "followers_url": "https://api.github.com/users/jonasrauber/followers", "following_url": "https://api.github.com/users/jonasrauber/following{/other_user}", "gists_url": "https://api.github.com/users/jonasrauber/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonasrauber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonasrauber/subscriptions", "organizations_url": "https://api.github.com/users/jonasrauber/orgs", "repos_url": "https://api.github.com/users/jonasrauber/repos", "events_url": "https://api.github.com/users/jonasrauber/events{/privacy}", "received_events_url": "https://api.github.com/users/jonasrauber/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-29T06:08:27Z", "updated_at": "2018-08-29T06:08:51Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Using the latest versions of TensorFlow, PyTorch and SciPy, this does not seem to be a problem anymore:</p>\n<pre><code>FROM nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\n\nRUN apt-get update -qq \\\n &amp;&amp; apt-get install -yq -qq --no-install-recommends \\\n    python3 \\\n    python3-dev \\\n    curl \\\n    ca-certificates\nRUN curl -O https://bootstrap.pypa.io/get-pip.py &amp;&amp; python3 get-pip.py &amp;&amp; rm get-pip.py\nRUN pip3 install numpy scipy\nRUN pip3 install --no-cache-dir \"tensorflow-gpu==1.10.1\"\nRUN pip3 install --no-cache-dir \"torch==0.4.1\"\n</code></pre>\n<p>works as expected:</p>\n<pre><code>Python 3.5.2 (default, Nov 23 2017, 16:37:01) \n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import scipy.optimize\n&gt;&gt;&gt; import torch\n&gt;&gt;&gt; import tensorflow\n&gt;&gt;&gt; \n&gt;&gt;&gt; tensorflow.Session()\n2018-08-29 06:06:15.578937: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-08-29 06:06:16.351733: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: \nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582\npciBusID: 0000:06:00.0\ntotalMemory: 10.91GiB freeMemory: 1.00GiB\n2018-08-29 06:06:16.351830: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0\n2018-08-29 06:06:16.950514: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-08-29 06:06:16.950610: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 \n2018-08-29 06:06:16.950633: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N \n2018-08-29 06:06:16.950953: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 729 MB memory) -&gt; physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)\n&lt;tensorflow.python.client.session.Session object at 0x7f1113676dd8&gt;\n&gt;&gt;&gt; \n</code></pre>", "body_text": "Using the latest versions of TensorFlow, PyTorch and SciPy, this does not seem to be a problem anymore:\nFROM nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\n\nRUN apt-get update -qq \\\n && apt-get install -yq -qq --no-install-recommends \\\n    python3 \\\n    python3-dev \\\n    curl \\\n    ca-certificates\nRUN curl -O https://bootstrap.pypa.io/get-pip.py && python3 get-pip.py && rm get-pip.py\nRUN pip3 install numpy scipy\nRUN pip3 install --no-cache-dir \"tensorflow-gpu==1.10.1\"\nRUN pip3 install --no-cache-dir \"torch==0.4.1\"\n\nworks as expected:\nPython 3.5.2 (default, Nov 23 2017, 16:37:01) \n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import scipy.optimize\n>>> import torch\n>>> import tensorflow\n>>> \n>>> tensorflow.Session()\n2018-08-29 06:06:15.578937: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-08-29 06:06:16.351733: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: \nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582\npciBusID: 0000:06:00.0\ntotalMemory: 10.91GiB freeMemory: 1.00GiB\n2018-08-29 06:06:16.351830: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0\n2018-08-29 06:06:16.950514: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-08-29 06:06:16.950610: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 \n2018-08-29 06:06:16.950633: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N \n2018-08-29 06:06:16.950953: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 729 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)\n<tensorflow.python.client.session.Session object at 0x7f1113676dd8>\n>>>", "body": "Using the latest versions of TensorFlow, PyTorch and SciPy, this does not seem to be a problem anymore:\r\n\r\n```\r\nFROM nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\r\n\r\nRUN apt-get update -qq \\\r\n && apt-get install -yq -qq --no-install-recommends \\\r\n    python3 \\\r\n    python3-dev \\\r\n    curl \\\r\n    ca-certificates\r\nRUN curl -O https://bootstrap.pypa.io/get-pip.py && python3 get-pip.py && rm get-pip.py\r\nRUN pip3 install numpy scipy\r\nRUN pip3 install --no-cache-dir \"tensorflow-gpu==1.10.1\"\r\nRUN pip3 install --no-cache-dir \"torch==0.4.1\"\r\n```\r\n\r\nworks as expected:\r\n\r\n```\r\nPython 3.5.2 (default, Nov 23 2017, 16:37:01) \r\n[GCC 5.4.0 20160609] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import scipy.optimize\r\n>>> import torch\r\n>>> import tensorflow\r\n>>> \r\n>>> tensorflow.Session()\r\n2018-08-29 06:06:15.578937: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2018-08-29 06:06:16.351733: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: \r\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.582\r\npciBusID: 0000:06:00.0\r\ntotalMemory: 10.91GiB freeMemory: 1.00GiB\r\n2018-08-29 06:06:16.351830: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0\r\n2018-08-29 06:06:16.950514: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-08-29 06:06:16.950610: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 \r\n2018-08-29 06:06:16.950633: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N \r\n2018-08-29 06:06:16.950953: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 729 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:06:00.0, compute capability: 6.1)\r\n<tensorflow.python.client.session.Session object at 0x7f1113676dd8>\r\n>>> \r\n```"}