{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/196230983", "pull_request_review_id": 129745526, "id": 196230983, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjIzMDk4Mw==", "diff_hunk": "@@ -45,3 +57,47 @@ func TestOperationAttrs(t *testing.T) {\n \t\t}\n \t}\n }\n+\n+func TestOperationAttrsEmptyList(t *testing.T) {\n+\tattrs := map[string]interface{}{\n+\t\t\"dtype\": Float,\n+\t}\n+\n+\tg := NewGraph()\n+\top, err := g.AddOperation(OpSpec{\n+\t\tType:  \"Placeholder\",\n+\t\tName:  \"placeholder\",\n+\t\tAttrs: attrs,\n+\t})\n+\tif err != nil {\n+\t\tt.Fatal(err)\n+\t}\n+\n+\tname := \"foo\"\n+\tfor _, attrType := range attrTypes {\n+\t\ttestListAttribute(op, name, attrType, 0, 0)\n+\t\ttestListAttribute(op, name, attrType, 1, 0)\n+\t}\n+}\n+\n+func TestOperationAttrsEmptyScalar(t *testing.T) {", "path": "tensorflow/go/attrs_test.go", "position": null, "original_position": 46, "commit_id": "577b256460dfca4e7c429437dded48e76715fee7", "original_commit_id": "366b046bfb2baa035c56f497fbea8ed6dae9d482", "user": {"login": "d4l3k", "id": 909104, "node_id": "MDQ6VXNlcjkwOTEwNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/909104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/d4l3k", "html_url": "https://github.com/d4l3k", "followers_url": "https://api.github.com/users/d4l3k/followers", "following_url": "https://api.github.com/users/d4l3k/following{/other_user}", "gists_url": "https://api.github.com/users/d4l3k/gists{/gist_id}", "starred_url": "https://api.github.com/users/d4l3k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/d4l3k/subscriptions", "organizations_url": "https://api.github.com/users/d4l3k/orgs", "repos_url": "https://api.github.com/users/d4l3k/repos", "events_url": "https://api.github.com/users/d4l3k/events{/privacy}", "received_events_url": "https://api.github.com/users/d4l3k/received_events", "type": "User", "site_admin": false}, "body": "Uh, it returns an error for all but []Shape and String. These tests are mostly intended to be nil panic tests since the previous code caused that.\r\n\r\nIt seems like the best way to make testing easier would be to add test types to the libtensorflow.so generated file when running tests, but that also seems nontrivial.", "created_at": "2018-06-18T21:26:12Z", "updated_at": "2018-06-19T21:50:40Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/20103#discussion_r196230983", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20103", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/196230983"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/20103#discussion_r196230983"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20103"}}, "body_html": "<p>Uh, it returns an error for all but []Shape and String. These tests are mostly intended to be nil panic tests since the previous code caused that.</p>\n<p>It seems like the best way to make testing easier would be to add test types to the libtensorflow.so generated file when running tests, but that also seems nontrivial.</p>", "body_text": "Uh, it returns an error for all but []Shape and String. These tests are mostly intended to be nil panic tests since the previous code caused that.\nIt seems like the best way to make testing easier would be to add test types to the libtensorflow.so generated file when running tests, but that also seems nontrivial.", "in_reply_to_id": 196225048}