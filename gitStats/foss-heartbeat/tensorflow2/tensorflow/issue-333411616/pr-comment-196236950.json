{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/196236950", "pull_request_review_id": 129752638, "id": 196236950, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjIzNjk1MA==", "diff_hunk": "@@ -45,3 +57,47 @@ func TestOperationAttrs(t *testing.T) {\n \t\t}\n \t}\n }\n+\n+func TestOperationAttrsEmptyList(t *testing.T) {\n+\tattrs := map[string]interface{}{\n+\t\t\"dtype\": Float,\n+\t}\n+\n+\tg := NewGraph()\n+\top, err := g.AddOperation(OpSpec{\n+\t\tType:  \"Placeholder\",\n+\t\tName:  \"placeholder\",\n+\t\tAttrs: attrs,\n+\t})\n+\tif err != nil {\n+\t\tt.Fatal(err)\n+\t}\n+\n+\tname := \"foo\"\n+\tfor _, attrType := range attrTypes {\n+\t\ttestListAttribute(op, name, attrType, 0, 0)\n+\t\ttestListAttribute(op, name, attrType, 1, 0)\n+\t}\n+}\n+\n+func TestOperationAttrsEmptyScalar(t *testing.T) {", "path": "tensorflow/go/attrs_test.go", "position": null, "original_position": 46, "commit_id": "577b256460dfca4e7c429437dded48e76715fee7", "original_commit_id": "366b046bfb2baa035c56f497fbea8ed6dae9d482", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "body": "I see that the point here is to just test that we don't see the nil-panics that motivated this PR in the first place. So, I feel the testing here is ... incomplete.\r\n\r\nIt would be an option to use existing operations instead of adding test types, and I think coverage from that would be best.\r\n\r\nIf you insist on keeping these, I'm okay, but perhaps call the tests `Test...DoesNotPanic`, since the test itself doesn't actually validate any of the returned values.", "created_at": "2018-06-18T21:50:50Z", "updated_at": "2018-06-19T21:50:40Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/20103#discussion_r196236950", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20103", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/196236950"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/20103#discussion_r196236950"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20103"}}, "body_html": "<p>I see that the point here is to just test that we don't see the nil-panics that motivated this PR in the first place. So, I feel the testing here is ... incomplete.</p>\n<p>It would be an option to use existing operations instead of adding test types, and I think coverage from that would be best.</p>\n<p>If you insist on keeping these, I'm okay, but perhaps call the tests <code>Test...DoesNotPanic</code>, since the test itself doesn't actually validate any of the returned values.</p>", "body_text": "I see that the point here is to just test that we don't see the nil-panics that motivated this PR in the first place. So, I feel the testing here is ... incomplete.\nIt would be an option to use existing operations instead of adding test types, and I think coverage from that would be best.\nIf you insist on keeping these, I'm okay, but perhaps call the tests Test...DoesNotPanic, since the test itself doesn't actually validate any of the returned values.", "in_reply_to_id": 196225048}