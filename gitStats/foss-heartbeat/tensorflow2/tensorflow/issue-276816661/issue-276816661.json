{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14886", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14886/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14886/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14886/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14886", "id": 276816661, "node_id": "MDU6SXNzdWUyNzY4MTY2NjE=", "number": 14886, "title": "avg_pool ignores channel stride dimension, but max_pool does not", "user": {"login": "themightyoarfish", "id": 11613312, "node_id": "MDQ6VXNlcjExNjEzMzEy", "avatar_url": "https://avatars0.githubusercontent.com/u/11613312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/themightyoarfish", "html_url": "https://github.com/themightyoarfish", "followers_url": "https://api.github.com/users/themightyoarfish/followers", "following_url": "https://api.github.com/users/themightyoarfish/following{/other_user}", "gists_url": "https://api.github.com/users/themightyoarfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/themightyoarfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/themightyoarfish/subscriptions", "organizations_url": "https://api.github.com/users/themightyoarfish/orgs", "repos_url": "https://api.github.com/users/themightyoarfish/repos", "events_url": "https://api.github.com/users/themightyoarfish/events{/privacy}", "received_events_url": "https://api.github.com/users/themightyoarfish/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-11-26T11:11:25Z", "updated_at": "2018-02-11T00:58:34Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: binary (conda-tensorflow-gpu)</li>\n<li><strong>TensorFlow version (use command below)</strong>: <code>b'unknown' 1.3.0</code></li>\n<li><strong>Python version</strong>: 3.6</li>\n<li><strong>Bazel version (if compiling from source)</strong>: N/A</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: N/A</li>\n<li><strong>CUDA/cuDNN version</strong>: 9/7</li>\n<li><strong>GPU model and memory</strong>: GeForce GTX 1050 Ti</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<pre><code>import tensorflow as tf\n\nx = tf.get_variable('x', shape=(100, 32, 32, 64),\n        initializer=tf.constant_initializer(5), dtype=tf.float32)\nksize = (1, 2, 2, 2)\nstrides = (1, 2, 2, 2)\nmax_pool = tf.nn.max_pool(x, ksize, strides, padding='SAME')\navg_pool = tf.nn.avg_pool(x, ksize, strides, padding='SAME')\nprint(max_pool.shape)\nprint(avg_pool.shape)\n</code></pre>\n<p>The unexpected output is</p>\n<pre><code>(100, 16, 16, 32)\n(100, 16, 16, 64)\n</code></pre>\n<p>It says <a href=\"https://github.com/Hvass-Labs/TensorFlow-Tutorials/issues/19#issuecomment-274249942\" data-hovercard-type=\"issue\" data-hovercard-url=\"/Hvass-Labs/TensorFlow-Tutorials/issues/19/hovercard\">here</a> that first and last stride dimension must be 1, but apparently it isn't implemented like this. If this is a feature, there should be consistent behaviour and documentation.</p>\n<p>Link to StackOverflow question: <a href=\"https://stackoverflow.com/q/47423172/2397253\" rel=\"nofollow\">https://stackoverflow.com/q/47423172/2397253</a></p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):Linux Ubuntu 16.04\nTensorFlow installed from (source or binary): binary (conda-tensorflow-gpu)\nTensorFlow version (use command below): b'unknown' 1.3.0\nPython version: 3.6\nBazel version (if compiling from source): N/A\nGCC/Compiler version (if compiling from source): N/A\nCUDA/cuDNN version: 9/7\nGPU model and memory: GeForce GTX 1050 Ti\nExact command to reproduce:\n\nimport tensorflow as tf\n\nx = tf.get_variable('x', shape=(100, 32, 32, 64),\n        initializer=tf.constant_initializer(5), dtype=tf.float32)\nksize = (1, 2, 2, 2)\nstrides = (1, 2, 2, 2)\nmax_pool = tf.nn.max_pool(x, ksize, strides, padding='SAME')\navg_pool = tf.nn.avg_pool(x, ksize, strides, padding='SAME')\nprint(max_pool.shape)\nprint(avg_pool.shape)\n\nThe unexpected output is\n(100, 16, 16, 32)\n(100, 16, 16, 64)\n\nIt says here that first and last stride dimension must be 1, but apparently it isn't implemented like this. If this is a feature, there should be consistent behaviour and documentation.\nLink to StackOverflow question: https://stackoverflow.com/q/47423172/2397253", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: binary (conda-tensorflow-gpu)\r\n- **TensorFlow version (use command below)**: `b'unknown' 1.3.0`\r\n- **Python version**: 3.6\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **GCC/Compiler version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: 9/7\r\n- **GPU model and memory**: GeForce GTX 1050 Ti\r\n- **Exact command to reproduce**:\r\n```\r\nimport tensorflow as tf\r\n\r\nx = tf.get_variable('x', shape=(100, 32, 32, 64),\r\n        initializer=tf.constant_initializer(5), dtype=tf.float32)\r\nksize = (1, 2, 2, 2)\r\nstrides = (1, 2, 2, 2)\r\nmax_pool = tf.nn.max_pool(x, ksize, strides, padding='SAME')\r\navg_pool = tf.nn.avg_pool(x, ksize, strides, padding='SAME')\r\nprint(max_pool.shape)\r\nprint(avg_pool.shape)\r\n``` \r\n\r\nThe unexpected output is\r\n```\r\n(100, 16, 16, 32)\r\n(100, 16, 16, 64)\r\n```\r\n\r\nIt says [here](https://github.com/Hvass-Labs/TensorFlow-Tutorials/issues/19#issuecomment-274249942) that first and last stride dimension must be 1, but apparently it isn't implemented like this. If this is a feature, there should be consistent behaviour and documentation.\r\n\r\nLink to StackOverflow question: https://stackoverflow.com/q/47423172/2397253"}