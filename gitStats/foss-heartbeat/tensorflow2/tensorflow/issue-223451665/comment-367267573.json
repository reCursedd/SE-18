{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/367267573", "html_url": "https://github.com/tensorflow/tensorflow/issues/9371#issuecomment-367267573", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9371", "id": 367267573, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NzI2NzU3Mw==", "user": {"login": "dmak", "id": 366965, "node_id": "MDQ6VXNlcjM2Njk2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/366965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmak", "html_url": "https://github.com/dmak", "followers_url": "https://api.github.com/users/dmak/followers", "following_url": "https://api.github.com/users/dmak/following{/other_user}", "gists_url": "https://api.github.com/users/dmak/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmak/subscriptions", "organizations_url": "https://api.github.com/users/dmak/orgs", "repos_url": "https://api.github.com/users/dmak/repos", "events_url": "https://api.github.com/users/dmak/events{/privacy}", "received_events_url": "https://api.github.com/users/dmak/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-21T09:41:05Z", "updated_at": "2018-02-21T09:41:05Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=738972\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/timmolter\">@timmolter</a> It would be fantastic if you could add links (e.g. to Python API) to your above post to tell the difference between <code>Saver API</code> and <code>aver Model API</code>. Thanks!</p>\n<p>The argument for <code>SavedModelBundle.load()</code> should be a directory containing a <code>.pb</code> or <code>.pbtxt</code> file. Just for case I've tried <code>SavedModelBundle.load(\"D:/model/ende_gnmt_model_4_layer/translate.ckpt\")</code> and it didn't work either. I had to convert <code>.ckpt</code> to <code>.pb</code> using the \"model freezing\" approach described in <a href=\"https://stackoverflow.com/a/45868106/267197\" rel=\"nofollow\">How to convert .meta, .data and .index model files into one graph.pb file</a>. After that the graph could be loaded like that:</p>\n<pre><code>import org.apache.commons.io.FileUtils;\nimport org.tensorflow.Graph;\n\ntry (Graph graph = new Graph()) {\n    graph.importGraphDef(FileUtils.readFileToByteArray(new File(\"D:/translate.pb\")));\n}\n</code></pre>", "body_text": "@timmolter It would be fantastic if you could add links (e.g. to Python API) to your above post to tell the difference between Saver API and aver Model API. Thanks!\nThe argument for SavedModelBundle.load() should be a directory containing a .pb or .pbtxt file. Just for case I've tried SavedModelBundle.load(\"D:/model/ende_gnmt_model_4_layer/translate.ckpt\") and it didn't work either. I had to convert .ckpt to .pb using the \"model freezing\" approach described in How to convert .meta, .data and .index model files into one graph.pb file. After that the graph could be loaded like that:\nimport org.apache.commons.io.FileUtils;\nimport org.tensorflow.Graph;\n\ntry (Graph graph = new Graph()) {\n    graph.importGraphDef(FileUtils.readFileToByteArray(new File(\"D:/translate.pb\")));\n}", "body": "@timmolter It would be fantastic if you could add links (e.g. to Python API) to your above post to tell the difference between `Saver API` and `aver Model API`. Thanks!\r\n\r\nThe argument for `SavedModelBundle.load()` should be a directory containing a `.pb` or `.pbtxt` file. Just for case I've tried `SavedModelBundle.load(\"D:/model/ende_gnmt_model_4_layer/translate.ckpt\")` and it didn't work either. I had to convert `.ckpt` to `.pb` using the \"model freezing\" approach described in [How to convert .meta, .data and .index model files into one graph.pb file](https://stackoverflow.com/a/45868106/267197). After that the graph could be loaded like that:\r\n```\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.tensorflow.Graph;\r\n\r\ntry (Graph graph = new Graph()) {\r\n    graph.importGraphDef(FileUtils.readFileToByteArray(new File(\"D:/translate.pb\")));\r\n}\r\n```"}