{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16652", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16652/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16652/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16652/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16652", "id": 293469423, "node_id": "MDU6SXNzdWUyOTM0Njk0MjM=", "number": 16652, "title": "v1.3 batch_norm layer", "user": {"login": "sddi", "id": 4221050, "node_id": "MDQ6VXNlcjQyMjEwNTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/4221050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sddi", "html_url": "https://github.com/sddi", "followers_url": "https://api.github.com/users/sddi/followers", "following_url": "https://api.github.com/users/sddi/following{/other_user}", "gists_url": "https://api.github.com/users/sddi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sddi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sddi/subscriptions", "organizations_url": "https://api.github.com/users/sddi/orgs", "repos_url": "https://api.github.com/users/sddi/repos", "events_url": "https://api.github.com/users/sddi/events{/privacy}", "received_events_url": "https://api.github.com/users/sddi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-01T10:02:01Z", "updated_at": "2018-02-02T02:10:41Z", "closed_at": "2018-02-02T02:10:41Z", "author_association": "NONE", "body_html": "<p>I use the batch norm layer like this:<br>\n`def batch_norm_layer(x,train_phase,scope_bn):</p>\n<pre><code>bn_train = batch_norm(x, decay=0.999, center=True, scale=True,\nis_training=True,\nreuse=None, # is this right?\ntrainable=True,\nscope=scope_bn)\nbn_inference = batch_norm(x, decay=0.999, center=True, scale=True,\nis_training=False,\nreuse=True, # is this right?\ntrainable=True,\nscope=scope_bn)\nz = tf.cond(train_phase, lambda: bn_train, lambda: bn_inference)\nreturn z`\n</code></pre>\n<p>I don't know in v1.3.0 is the code worked?<br>\nI saw the <a href=\"https://github.com/tensorflow/tensorflow/issues/1122#issuecomment-232535426\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1122/hovercard\">issue1122</a>, someone said it would not work well.</p>\n<p>thank you in advance.</p>", "body_text": "I use the batch norm layer like this:\n`def batch_norm_layer(x,train_phase,scope_bn):\nbn_train = batch_norm(x, decay=0.999, center=True, scale=True,\nis_training=True,\nreuse=None, # is this right?\ntrainable=True,\nscope=scope_bn)\nbn_inference = batch_norm(x, decay=0.999, center=True, scale=True,\nis_training=False,\nreuse=True, # is this right?\ntrainable=True,\nscope=scope_bn)\nz = tf.cond(train_phase, lambda: bn_train, lambda: bn_inference)\nreturn z`\n\nI don't know in v1.3.0 is the code worked?\nI saw the issue1122, someone said it would not work well.\nthank you in advance.", "body": "I use the batch norm layer like this:\r\n`def batch_norm_layer(x,train_phase,scope_bn):\r\n\r\n\tbn_train = batch_norm(x, decay=0.999, center=True, scale=True,\r\n\tis_training=True,\r\n\treuse=None, # is this right?\r\n\ttrainable=True,\r\n\tscope=scope_bn)\r\n\tbn_inference = batch_norm(x, decay=0.999, center=True, scale=True,\r\n\tis_training=False,\r\n\treuse=True, # is this right?\r\n\ttrainable=True,\r\n\tscope=scope_bn)\r\n\tz = tf.cond(train_phase, lambda: bn_train, lambda: bn_inference)\r\n\treturn z`\r\nI don't know in v1.3.0 is the code worked?\r\nI saw the [issue1122](https://github.com/tensorflow/tensorflow/issues/1122#issuecomment-232535426), someone said it would not work well.\r\n\r\nthank you in advance."}