{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/423521936", "html_url": "https://github.com/tensorflow/tensorflow/issues/22390#issuecomment-423521936", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22390", "id": 423521936, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzUyMTkzNg==", "user": {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-21T12:57:45Z", "updated_at": "2018-09-21T12:57:45Z", "author_association": "MEMBER", "body_html": "<p>The zip file is created by a <a href=\"https://github.com/bazelbuild/bazel/blob/0.17.1/third_party/ijar/BUILD#L11\">custom zipper binary</a> built from source in bazel, which doesn't have zip64 support. So installing zip64 from pacman is not going to help.</p>\n<p>The root cause here is we are zipping redundant files in <code>./bazel-bin/tensorflow/tools/pip_package/simple_console_for_windows.zip</code> because it depends on some other py_binary targets which are also built as a zip file. This results a zip file containing many other zip files, and all of them have <code>//tensorflow:tensorflow_py</code> as a dependency.</p>\n<p>I'm trying to figure out a way to exclude redundant files.</p>", "body_text": "The zip file is created by a custom zipper binary built from source in bazel, which doesn't have zip64 support. So installing zip64 from pacman is not going to help.\nThe root cause here is we are zipping redundant files in ./bazel-bin/tensorflow/tools/pip_package/simple_console_for_windows.zip because it depends on some other py_binary targets which are also built as a zip file. This results a zip file containing many other zip files, and all of them have //tensorflow:tensorflow_py as a dependency.\nI'm trying to figure out a way to exclude redundant files.", "body": "The zip file is created by a [custom zipper binary](https://github.com/bazelbuild/bazel/blob/0.17.1/third_party/ijar/BUILD#L11) built from source in bazel, which doesn't have zip64 support. So installing zip64 from pacman is not going to help.\r\n\r\nThe root cause here is we are zipping redundant files in `./bazel-bin/tensorflow/tools/pip_package/simple_console_for_windows.zip` because it depends on some other py_binary targets which are also built as a zip file. This results a zip file containing many other zip files, and all of them have `//tensorflow:tensorflow_py` as a dependency.\r\n\r\nI'm trying to figure out a way to exclude redundant files.\r\n\r\n"}