{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/433393060", "html_url": "https://github.com/tensorflow/tensorflow/pull/23095#issuecomment-433393060", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23095", "id": 433393060, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzM5MzA2MA==", "user": {"login": "Kirayue", "id": 13309212, "node_id": "MDQ6VXNlcjEzMzA5MjEy", "avatar_url": "https://avatars2.githubusercontent.com/u/13309212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirayue", "html_url": "https://github.com/Kirayue", "followers_url": "https://api.github.com/users/Kirayue/followers", "following_url": "https://api.github.com/users/Kirayue/following{/other_user}", "gists_url": "https://api.github.com/users/Kirayue/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirayue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirayue/subscriptions", "organizations_url": "https://api.github.com/users/Kirayue/orgs", "repos_url": "https://api.github.com/users/Kirayue/repos", "events_url": "https://api.github.com/users/Kirayue/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirayue/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-26T12:36:51Z", "updated_at": "2018-10-26T12:36:51Z", "author_association": "NONE", "body_html": "<p>Hi, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=710255\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fchollet\">@fchollet</a>, thank you for your reply.<br>\nI\u2019m not sure I get your meaning. The error caused is due to <code>tf.keras.model.load_model</code>, not the argument I passed to the function.</p>\n<p>My tensorflow version is 1.11.0, python version is 3.6.7.</p>\n<p>I attach the code which would cause error message below, could you help me to check that is there something wrong with my environment or my usage.  Thank you.</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n<span class=\"pl-k\">from</span> tensorflow <span class=\"pl-k\">import</span> keras\n\n<span class=\"pl-c1\">print</span>(tf.<span class=\"pl-c1\">__version__</span>)\n\nmodel <span class=\"pl-k\">=</span> keras.models.Sequential([\n    keras.layers.Dense(<span class=\"pl-c1\">512</span>, <span class=\"pl-v\">input_shape</span><span class=\"pl-k\">=</span>(<span class=\"pl-c1\">784</span>, )),\n    keras.layers.ReLU(),\n    keras.layers.Dense(<span class=\"pl-c1\">200</span>),\n    keras.layers.ReLU()\n])\n\nmodel.compile(<span class=\"pl-v\">optimizer</span><span class=\"pl-k\">=</span>keras.optimizers.Adam(), <span class=\"pl-v\">loss</span><span class=\"pl-k\">=</span>keras.losses.categorical_crossentropy, <span class=\"pl-v\">metrics</span><span class=\"pl-k\">=</span>[<span class=\"pl-s\"><span class=\"pl-pds\">'</span>accuracy<span class=\"pl-pds\">'</span></span>])\nmodel.summary()\n\nmodel.save(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>./model.h5<span class=\"pl-pds\">'</span></span>)\n\nmodel2 <span class=\"pl-k\">=</span> keras.models.load_model(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>./model.h5<span class=\"pl-pds\">'</span></span>)\nmodel2.summary()</pre></div>", "body_text": "Hi, @fchollet, thank you for your reply.\nI\u2019m not sure I get your meaning. The error caused is due to tf.keras.model.load_model, not the argument I passed to the function.\nMy tensorflow version is 1.11.0, python version is 3.6.7.\nI attach the code which would cause error message below, could you help me to check that is there something wrong with my environment or my usage.  Thank you.\nimport tensorflow as tf\nfrom tensorflow import keras\n\nprint(tf.__version__)\n\nmodel = keras.models.Sequential([\n    keras.layers.Dense(512, input_shape=(784, )),\n    keras.layers.ReLU(),\n    keras.layers.Dense(200),\n    keras.layers.ReLU()\n])\n\nmodel.compile(optimizer=keras.optimizers.Adam(), loss=keras.losses.categorical_crossentropy, metrics=['accuracy'])\nmodel.summary()\n\nmodel.save('./model.h5')\n\nmodel2 = keras.models.load_model('./model.h5')\nmodel2.summary()", "body": "Hi, @fchollet, thank you for your reply.\r\nI\u2019m not sure I get your meaning. The error caused is due to `tf.keras.model.load_model`, not the argument I passed to the function.\r\n\r\nMy tensorflow version is 1.11.0, python version is 3.6.7.\r\n\r\nI attach the code which would cause error message below, could you help me to check that is there something wrong with my environment or my usage.  Thank you.\r\n\r\n```python3\r\nimport tensorflow as tf\r\nfrom tensorflow import keras\r\n\r\nprint(tf.__version__)\r\n\r\nmodel = keras.models.Sequential([\r\n    keras.layers.Dense(512, input_shape=(784, )),\r\n    keras.layers.ReLU(),\r\n    keras.layers.Dense(200),\r\n    keras.layers.ReLU()\r\n])\r\n\r\nmodel.compile(optimizer=keras.optimizers.Adam(), loss=keras.losses.categorical_crossentropy, metrics=['accuracy'])\r\nmodel.summary()\r\n\r\nmodel.save('./model.h5')\r\n\r\nmodel2 = keras.models.load_model('./model.h5')\r\nmodel2.summary()\r\n```"}