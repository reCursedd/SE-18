{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/322454592", "html_url": "https://github.com/tensorflow/tensorflow/issues/11825#issuecomment-322454592", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11825", "id": 322454592, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjQ1NDU5Mg==", "user": {"login": "shamoya", "id": 22274255, "node_id": "MDQ6VXNlcjIyMjc0MjU1", "avatar_url": "https://avatars2.githubusercontent.com/u/22274255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shamoya", "html_url": "https://github.com/shamoya", "followers_url": "https://api.github.com/users/shamoya/followers", "following_url": "https://api.github.com/users/shamoya/following{/other_user}", "gists_url": "https://api.github.com/users/shamoya/gists{/gist_id}", "starred_url": "https://api.github.com/users/shamoya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shamoya/subscriptions", "organizations_url": "https://api.github.com/users/shamoya/orgs", "repos_url": "https://api.github.com/users/shamoya/repos", "events_url": "https://api.github.com/users/shamoya/events{/privacy}", "received_events_url": "https://api.github.com/users/shamoya/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-15T12:35:46Z", "updated_at": "2017-08-15T12:35:46Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=12075848\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/junshi15\">@junshi15</a><br>\nMaybe I'm missing something, but I don't see where we have a shared pinned memory in the design.<br>\nEach RdmaTensorBuffer (hashed by its name) has it's own pinned buffer on both sides.<br>\nI thought the necessity of the tolerate_dup_recv in the verbs code is the RDMA_BUFFER_REQUEST (first Tensor transfer, change in tensor size) which will follow a second <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/verbs/rdma.cc#L822\">RecvAsyncLocal</a>.</p>", "body_text": "@junshi15\nMaybe I'm missing something, but I don't see where we have a shared pinned memory in the design.\nEach RdmaTensorBuffer (hashed by its name) has it's own pinned buffer on both sides.\nI thought the necessity of the tolerate_dup_recv in the verbs code is the RDMA_BUFFER_REQUEST (first Tensor transfer, change in tensor size) which will follow a second RecvAsyncLocal.", "body": "@junshi15 \r\nMaybe I'm missing something, but I don't see where we have a shared pinned memory in the design.\r\nEach RdmaTensorBuffer (hashed by its name) has it's own pinned buffer on both sides.\r\nI thought the necessity of the tolerate_dup_recv in the verbs code is the RDMA_BUFFER_REQUEST (first Tensor transfer, change in tensor size) which will follow a second [RecvAsyncLocal](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/verbs/rdma.cc#L822)."}