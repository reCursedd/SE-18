{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/243801551", "html_url": "https://github.com/tensorflow/tensorflow/issues/4029#issuecomment-243801551", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4029", "id": 243801551, "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzgwMTU1MQ==", "user": {"login": "rieram", "id": 1666696, "node_id": "MDQ6VXNlcjE2NjY2OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1666696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rieram", "html_url": "https://github.com/rieram", "followers_url": "https://api.github.com/users/rieram/followers", "following_url": "https://api.github.com/users/rieram/following{/other_user}", "gists_url": "https://api.github.com/users/rieram/gists{/gist_id}", "starred_url": "https://api.github.com/users/rieram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rieram/subscriptions", "organizations_url": "https://api.github.com/users/rieram/orgs", "repos_url": "https://api.github.com/users/rieram/repos", "events_url": "https://api.github.com/users/rieram/events{/privacy}", "received_events_url": "https://api.github.com/users/rieram/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-31T15:27:58Z", "updated_at": "2016-08-31T15:27:58Z", "author_association": "NONE", "body_html": "<p>Yea, I got this error awhile back and I had to modify MakeNdarray in /tensorflow/python/framework/tensor_util.py to support float16 in the if/elseif block. I added a case for float16 and it seems to work.</p>\n<p>elif tensor_dtype == dtypes.float16:<br>\nif len(tensor.half_val) == 1:<br>\nreturn np.repeat(np.array(tensor.half_val[0], dtype=dtype),<br>\nnum_elements).reshape(shape)<br>\nelse:<br>\nreturn np.fromiter(tensor.half_val, dtype=dtype).reshape(shape)</p>\n<p>Hope this helps.</p>", "body_text": "Yea, I got this error awhile back and I had to modify MakeNdarray in /tensorflow/python/framework/tensor_util.py to support float16 in the if/elseif block. I added a case for float16 and it seems to work.\nelif tensor_dtype == dtypes.float16:\nif len(tensor.half_val) == 1:\nreturn np.repeat(np.array(tensor.half_val[0], dtype=dtype),\nnum_elements).reshape(shape)\nelse:\nreturn np.fromiter(tensor.half_val, dtype=dtype).reshape(shape)\nHope this helps.", "body": "Yea, I got this error awhile back and I had to modify MakeNdarray in /tensorflow/python/framework/tensor_util.py to support float16 in the if/elseif block. I added a case for float16 and it seems to work.\n\n elif tensor_dtype == dtypes.float16:\n    if len(tensor.half_val) == 1:\n      return np.repeat(np.array(tensor.half_val[0], dtype=dtype),\n                       num_elements).reshape(shape)\n    else:\n      return np.fromiter(tensor.half_val, dtype=dtype).reshape(shape)\n\nHope this helps.\n"}