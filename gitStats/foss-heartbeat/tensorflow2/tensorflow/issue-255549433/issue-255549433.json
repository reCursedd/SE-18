{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12843", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12843/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12843/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12843/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12843", "id": 255549433, "node_id": "MDU6SXNzdWUyNTU1NDk0MzM=", "number": 12843, "title": "Error message of scatter_update is misleading ", "user": {"login": "georgh", "id": 1831252, "node_id": "MDQ6VXNlcjE4MzEyNTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1831252?v=4", "gravatar_id": "", "url": "https://api.github.com/users/georgh", "html_url": "https://github.com/georgh", "followers_url": "https://api.github.com/users/georgh/followers", "following_url": "https://api.github.com/users/georgh/following{/other_user}", "gists_url": "https://api.github.com/users/georgh/gists{/gist_id}", "starred_url": "https://api.github.com/users/georgh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/georgh/subscriptions", "organizations_url": "https://api.github.com/users/georgh/orgs", "repos_url": "https://api.github.com/users/georgh/repos", "events_url": "https://api.github.com/users/georgh/events{/privacy}", "received_events_url": "https://api.github.com/users/georgh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-06T10:06:51Z", "updated_at": "2017-09-07T08:26:29Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>When you call scatter_update with a wrong input vector, the error message will tell you that the rank is<br>\nwrong, which is not very helpful.<br>\nAn example case in the documentation (provided) would be great.</p>\n<p>Example:</p>\n<pre><code>      testVar = tf.Variable(tf.zeros([5,1]))\n      ind = tf.constant([0,3])\n      data = tf.constant([5,7], dtype=tf.float32)\n      up = tf.scatter_update(testVar,  ind,  data  )\n</code></pre>\n<p>Error Message:<br>\n<strong>ValueError: Shapes must be equal rank, but are 1 and 2 for 'ScatterUpdate' (op: 'ScatterUpdate') with input shapes: [5,1], [2], [2].</strong><br>\nThat's not that helpful because you don't know which of the three input shapes are wrong, but mostly fine.<br>\nChanging the Code to:</p>\n<pre><code>      testVar = tf.Variable(tf.zeros([5,1]))\n      ind = tf.expand_dims(tf.constant([0,3]),0)\n      data = tf.expand_dims(tf.constant([5,7], dtype=tf.float32),0)\n      up = tf.scatter_update(testVar,  ind,  data  )\n</code></pre>\n<p><strong>ValueError: Shapes must be equal rank, but are 2 and 3 for 'ScatterUpdate' (op: 'ScatterUpdate') with input shapes: [5,1], [1,2], [1,2].</strong><br>\nIs clearly wrong, because non of the inputs has rank 3!</p>\n<p>In addition, it would be really awesome if you could add the following code as an example to the scatter_update documentation (<a href=\"https://www.tensorflow.org/api_docs/python/tf/scatter_update\" rel=\"nofollow\">https://www.tensorflow.org/api_docs/python/tf/scatter_update</a>).<br>\n(I couldn't find it in the repo(?), otherwise I would habe created a pull request)</p>\n<p>Working Example:</p>\n<pre><code>      testVar = tf.Variable(tf.zeros([5,1]))\n      ind = tf.constant([0,3])\n      data = tf.expand_dims(tf.constant([5,7], dtype=tf.float32),1)\n      up = tf.scatter_update(testVar,  ind,  data  )\n</code></pre>", "body_text": "When you call scatter_update with a wrong input vector, the error message will tell you that the rank is\nwrong, which is not very helpful.\nAn example case in the documentation (provided) would be great.\nExample:\n      testVar = tf.Variable(tf.zeros([5,1]))\n      ind = tf.constant([0,3])\n      data = tf.constant([5,7], dtype=tf.float32)\n      up = tf.scatter_update(testVar,  ind,  data  )\n\nError Message:\nValueError: Shapes must be equal rank, but are 1 and 2 for 'ScatterUpdate' (op: 'ScatterUpdate') with input shapes: [5,1], [2], [2].\nThat's not that helpful because you don't know which of the three input shapes are wrong, but mostly fine.\nChanging the Code to:\n      testVar = tf.Variable(tf.zeros([5,1]))\n      ind = tf.expand_dims(tf.constant([0,3]),0)\n      data = tf.expand_dims(tf.constant([5,7], dtype=tf.float32),0)\n      up = tf.scatter_update(testVar,  ind,  data  )\n\nValueError: Shapes must be equal rank, but are 2 and 3 for 'ScatterUpdate' (op: 'ScatterUpdate') with input shapes: [5,1], [1,2], [1,2].\nIs clearly wrong, because non of the inputs has rank 3!\nIn addition, it would be really awesome if you could add the following code as an example to the scatter_update documentation (https://www.tensorflow.org/api_docs/python/tf/scatter_update).\n(I couldn't find it in the repo(?), otherwise I would habe created a pull request)\nWorking Example:\n      testVar = tf.Variable(tf.zeros([5,1]))\n      ind = tf.constant([0,3])\n      data = tf.expand_dims(tf.constant([5,7], dtype=tf.float32),1)\n      up = tf.scatter_update(testVar,  ind,  data  )", "body": "When you call scatter_update with a wrong input vector, the error message will tell you that the rank is \r\nwrong, which is not very helpful.\r\nAn example case in the documentation (provided) would be great.\r\n\r\nExample:\r\n```\r\n      testVar = tf.Variable(tf.zeros([5,1]))\r\n      ind = tf.constant([0,3])\r\n      data = tf.constant([5,7], dtype=tf.float32)\r\n      up = tf.scatter_update(testVar,  ind,  data  )\r\n```\r\nError Message: \r\n**ValueError: Shapes must be equal rank, but are 1 and 2 for 'ScatterUpdate' (op: 'ScatterUpdate') with input shapes: [5,1], [2], [2].**\r\nThat's not that helpful because you don't know which of the three input shapes are wrong, but mostly fine.\r\nChanging the Code to:\r\n```\r\n      testVar = tf.Variable(tf.zeros([5,1]))\r\n      ind = tf.expand_dims(tf.constant([0,3]),0)\r\n      data = tf.expand_dims(tf.constant([5,7], dtype=tf.float32),0)\r\n      up = tf.scatter_update(testVar,  ind,  data  )\r\n```\r\n**ValueError: Shapes must be equal rank, but are 2 and 3 for 'ScatterUpdate' (op: 'ScatterUpdate') with input shapes: [5,1], [1,2], [1,2].**\r\nIs clearly wrong, because non of the inputs has rank 3!\r\n\r\nIn addition, it would be really awesome if you could add the following code as an example to the scatter_update documentation (https://www.tensorflow.org/api_docs/python/tf/scatter_update). \r\n(I couldn't find it in the repo(?), otherwise I would habe created a pull request)\r\n\r\nWorking Example:\r\n```\r\n      testVar = tf.Variable(tf.zeros([5,1]))\r\n      ind = tf.constant([0,3])\r\n      data = tf.expand_dims(tf.constant([5,7], dtype=tf.float32),1)\r\n      up = tf.scatter_update(testVar,  ind,  data  )\r\n```\r\n"}