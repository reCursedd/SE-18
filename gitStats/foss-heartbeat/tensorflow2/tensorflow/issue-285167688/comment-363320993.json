{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/363320993", "html_url": "https://github.com/tensorflow/tensorflow/issues/15722#issuecomment-363320993", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15722", "id": 363320993, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzMyMDk5Mw==", "user": {"login": "ahundt", "id": 55744, "node_id": "MDQ6VXNlcjU1NzQ0", "avatar_url": "https://avatars1.githubusercontent.com/u/55744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahundt", "html_url": "https://github.com/ahundt", "followers_url": "https://api.github.com/users/ahundt/followers", "following_url": "https://api.github.com/users/ahundt/following{/other_user}", "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions", "organizations_url": "https://api.github.com/users/ahundt/orgs", "repos_url": "https://api.github.com/users/ahundt/repos", "events_url": "https://api.github.com/users/ahundt/events{/privacy}", "received_events_url": "https://api.github.com/users/ahundt/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-06T06:08:46Z", "updated_at": "2018-02-06T06:09:31Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6313583\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/parag2489\">@parag2489</a> Thanks for your comments. I re-read several places where preprocessing is done and it seems you're right, dividing by 255 is the most common image preprocessing to do in tf. I've updated <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"285167688\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/15722\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/15722/hovercard?comment_id=354625196&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/15722#issuecomment-354625196\">#15722 (comment)</a> accordingly.</p>\n<p>However, It is important to note <code>img/255</code> is not the only valid approach, as you can see from <a href=\"https://github.com/keras-team/keras/blob/master/keras/applications/imagenet_utils.py#L149\">keras' preprocess_input function</a>, which has improved since my initial post. There are options for 'tf', 'torch', and 'caffe' style preprocessing which all vary. The most important conclusion is to evaluate using the same preprocessing algorithm you trained your weights on, excluding the image augmentation steps.</p>\n<p>As for the tf documentation here I'm hopeful it can be updated to capture my outline, so others can be saved the trouble.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=32556631\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/anj-s\">@anj-s</a> just wanted to ping you, any availability on this?</p>", "body_text": "@parag2489 Thanks for your comments. I re-read several places where preprocessing is done and it seems you're right, dividing by 255 is the most common image preprocessing to do in tf. I've updated #15722 (comment) accordingly.\nHowever, It is important to note img/255 is not the only valid approach, as you can see from keras' preprocess_input function, which has improved since my initial post. There are options for 'tf', 'torch', and 'caffe' style preprocessing which all vary. The most important conclusion is to evaluate using the same preprocessing algorithm you trained your weights on, excluding the image augmentation steps.\nAs for the tf documentation here I'm hopeful it can be updated to capture my outline, so others can be saved the trouble.\n@anj-s just wanted to ping you, any availability on this?", "body": "@parag2489 Thanks for your comments. I re-read several places where preprocessing is done and it seems you're right, dividing by 255 is the most common image preprocessing to do in tf. I've updated https://github.com/tensorflow/tensorflow/issues/15722#issuecomment-354625196 accordingly. \r\n\r\nHowever, It is important to note `img/255` is not the only valid approach, as you can see from [keras' preprocess_input function](https://github.com/keras-team/keras/blob/master/keras/applications/imagenet_utils.py#L149), which has improved since my initial post. There are options for 'tf', 'torch', and 'caffe' style preprocessing which all vary. The most important conclusion is to evaluate using the same preprocessing algorithm you trained your weights on, excluding the image augmentation steps.\r\n\r\nAs for the tf documentation here I'm hopeful it can be updated to capture my outline, so others can be saved the trouble. \r\n\r\n@anj-s just wanted to ping you, any availability on this?\r\n"}