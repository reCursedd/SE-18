{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22530", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22530/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22530/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22530/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22530", "id": 363968060, "node_id": "MDU6SXNzdWUzNjM5NjgwNjA=", "number": 22530, "title": "Inconsistent behaviour of tf.range", "user": {"login": "AlessioTonioni", "id": 6823414, "node_id": "MDQ6VXNlcjY4MjM0MTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/6823414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlessioTonioni", "html_url": "https://github.com/AlessioTonioni", "followers_url": "https://api.github.com/users/AlessioTonioni/followers", "following_url": "https://api.github.com/users/AlessioTonioni/following{/other_user}", "gists_url": "https://api.github.com/users/AlessioTonioni/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlessioTonioni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlessioTonioni/subscriptions", "organizations_url": "https://api.github.com/users/AlessioTonioni/orgs", "repos_url": "https://api.github.com/users/AlessioTonioni/repos", "events_url": "https://api.github.com/users/AlessioTonioni/events{/privacy}", "received_events_url": "https://api.github.com/users/AlessioTonioni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-09-26T10:49:36Z", "updated_at": "2018-11-20T13:31:12Z", "closed_at": null, "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 16.04</li>\n<li><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>: No</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: v1.10.0-0-g656e7a2b34 1.10.0</li>\n<li><strong>Python version</strong>: 3.5.2</li>\n<li><strong>CUDA/cuDNN version</strong>: V9.0.176</li>\n<li><strong>GPU model and memory</strong>: GTX Titan X + 2xGTX Titan Black</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>the tensor produced by tf.range exceeds the limit with the configuration of parameters below.</p>\n<h3>Source code / logs</h3>\n<pre><code>import tensorflow as tf\n\nwith tf.Session() as sess:\n\tmax_value=379.0\n\tdelta=379.0/94.0\n\n\trange_tensor = tf.range(max_value,delta=delta,dtype=tf.float32)\n\n\tprint(sess.run(range_tensor))\n</code></pre>\n<p>Result:</p>\n<blockquote>\n<p>[  0.          4.0319147   8.063829   12.095744   16.127659   20.159573<br>\n24.191486   28.2234     32.255314   36.287228   40.31914    44.351055<br>\n48.38297    52.414883   56.446796   60.47871    64.51063    68.54254<br>\n72.574455   76.60637    80.63828    84.6702     88.70211    92.734024<br>\n96.76594   100.79785   104.829765  108.86168   112.89359   116.92551<br>\n120.95742   124.989334  129.02126   133.05318   137.0851    141.11702<br>\n145.14894   149.18086   153.21278   157.2447    161.27663   165.30855<br>\n169.34047   173.37239   177.40431   181.43623   185.46815   189.50008<br>\n193.532     197.56392   201.59584   205.62776   209.65968   213.6916<br>\n217.72353   221.75545   225.78737   229.81929   233.85121   237.88313<br>\n241.91505   245.94698   249.9789    254.01082   258.04272   262.07465<br>\n266.10657   270.1385    274.1704    278.20233   282.23425   286.26617<br>\n290.2981    294.33002   298.36194   302.39386   306.42578   310.4577<br>\n314.48962   318.52155   322.55347   326.5854    330.6173    334.64923<br>\n338.68115   342.71307   346.745     350.77692   354.80884   358.84076<br>\n362.87268   366.9046    370.93652   374.96844   379.00037  ]</p>\n</blockquote>\n<p>379.00037 should not be there!</p>\n<p>Equivalent numpy code</p>\n<pre><code>import numpy as np\nmax_value=379.0\ndelta=379.0/94.0\nprint(np.arange(0,max_value,delta))\n</code></pre>\n<p>Result:</p>\n<blockquote>\n<p>[  0.           4.03191489   8.06382979  12.09574468  16.12765957<br>\n20.15957447  24.19148936  28.22340426  32.25531915  36.28723404<br>\n40.31914894  44.35106383  48.38297872  52.41489362  56.44680851<br>\n60.4787234   64.5106383   68.54255319  72.57446809  76.60638298<br>\n80.63829787  84.67021277  88.70212766  92.73404255  96.76595745<br>\n100.79787234 104.82978723 108.86170213 112.89361702 116.92553191<br>\n120.95744681 124.9893617  129.0212766  133.05319149 137.08510638<br>\n141.11702128 145.14893617 149.18085106 153.21276596 157.24468085<br>\n161.27659574 165.30851064 169.34042553 173.37234043 177.40425532<br>\n181.43617021 185.46808511 189.5        193.53191489 197.56382979<br>\n201.59574468 205.62765957 209.65957447 213.69148936 217.72340426<br>\n221.75531915 225.78723404 229.81914894 233.85106383 237.88297872<br>\n241.91489362 245.94680851 249.9787234  254.0106383  258.04255319<br>\n262.07446809 266.10638298 270.13829787 274.17021277 278.20212766<br>\n282.23404255 286.26595745 290.29787234 294.32978723 298.36170213<br>\n302.39361702 306.42553191 310.45744681 314.4893617  318.5212766<br>\n322.55319149 326.58510638 330.61702128 334.64893617 338.68085106<br>\n342.71276596 346.74468085 350.77659574 354.80851064 358.84042553<br>\n362.87234043 366.90425532 370.93617021 374.96808511]</p>\n</blockquote>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: No\nTensorFlow installed from (source or binary): Binary\nTensorFlow version (use command below): v1.10.0-0-g656e7a2b34 1.10.0\nPython version: 3.5.2\nCUDA/cuDNN version: V9.0.176\nGPU model and memory: GTX Titan X + 2xGTX Titan Black\n\nDescribe the problem\nthe tensor produced by tf.range exceeds the limit with the configuration of parameters below.\nSource code / logs\nimport tensorflow as tf\n\nwith tf.Session() as sess:\n\tmax_value=379.0\n\tdelta=379.0/94.0\n\n\trange_tensor = tf.range(max_value,delta=delta,dtype=tf.float32)\n\n\tprint(sess.run(range_tensor))\n\nResult:\n\n[  0.          4.0319147   8.063829   12.095744   16.127659   20.159573\n24.191486   28.2234     32.255314   36.287228   40.31914    44.351055\n48.38297    52.414883   56.446796   60.47871    64.51063    68.54254\n72.574455   76.60637    80.63828    84.6702     88.70211    92.734024\n96.76594   100.79785   104.829765  108.86168   112.89359   116.92551\n120.95742   124.989334  129.02126   133.05318   137.0851    141.11702\n145.14894   149.18086   153.21278   157.2447    161.27663   165.30855\n169.34047   173.37239   177.40431   181.43623   185.46815   189.50008\n193.532     197.56392   201.59584   205.62776   209.65968   213.6916\n217.72353   221.75545   225.78737   229.81929   233.85121   237.88313\n241.91505   245.94698   249.9789    254.01082   258.04272   262.07465\n266.10657   270.1385    274.1704    278.20233   282.23425   286.26617\n290.2981    294.33002   298.36194   302.39386   306.42578   310.4577\n314.48962   318.52155   322.55347   326.5854    330.6173    334.64923\n338.68115   342.71307   346.745     350.77692   354.80884   358.84076\n362.87268   366.9046    370.93652   374.96844   379.00037  ]\n\n379.00037 should not be there!\nEquivalent numpy code\nimport numpy as np\nmax_value=379.0\ndelta=379.0/94.0\nprint(np.arange(0,max_value,delta))\n\nResult:\n\n[  0.           4.03191489   8.06382979  12.09574468  16.12765957\n20.15957447  24.19148936  28.22340426  32.25531915  36.28723404\n40.31914894  44.35106383  48.38297872  52.41489362  56.44680851\n60.4787234   64.5106383   68.54255319  72.57446809  76.60638298\n80.63829787  84.67021277  88.70212766  92.73404255  96.76595745\n100.79787234 104.82978723 108.86170213 112.89361702 116.92553191\n120.95744681 124.9893617  129.0212766  133.05319149 137.08510638\n141.11702128 145.14893617 149.18085106 153.21276596 157.24468085\n161.27659574 165.30851064 169.34042553 173.37234043 177.40425532\n181.43617021 185.46808511 189.5        193.53191489 197.56382979\n201.59574468 205.62765957 209.65957447 213.69148936 217.72340426\n221.75531915 225.78723404 229.81914894 233.85106383 237.88297872\n241.91489362 245.94680851 249.9787234  254.0106383  258.04255319\n262.07446809 266.10638298 270.13829787 274.17021277 278.20212766\n282.23404255 286.26595745 290.29787234 294.32978723 298.36170213\n302.39361702 306.42553191 310.45744681 314.4893617  318.5212766\n322.55319149 326.58510638 330.61702128 334.64893617 338.68085106\n342.71276596 346.74468085 350.77659574 354.80851064 358.84042553\n362.87234043 366.90425532 370.93617021 374.96808511]", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: No\r\n- **TensorFlow installed from (source or binary)**: Binary\r\n- **TensorFlow version (use command below)**: v1.10.0-0-g656e7a2b34 1.10.0\r\n- **Python version**: 3.5.2\r\n- **CUDA/cuDNN version**: V9.0.176\r\n- **GPU model and memory**: GTX Titan X + 2xGTX Titan Black\r\n\r\n\r\n### Describe the problem\r\nthe tensor produced by tf.range exceeds the limit with the configuration of parameters below.\r\n\r\n### Source code / logs\r\n```\r\nimport tensorflow as tf\r\n\r\nwith tf.Session() as sess:\r\n\tmax_value=379.0\r\n\tdelta=379.0/94.0\r\n\r\n\trange_tensor = tf.range(max_value,delta=delta,dtype=tf.float32)\r\n\r\n\tprint(sess.run(range_tensor))\r\n```\r\nResult:\r\n\r\n> [  0.          4.0319147   8.063829   12.095744   16.127659   20.159573\r\n  24.191486   28.2234     32.255314   36.287228   40.31914    44.351055\r\n  48.38297    52.414883   56.446796   60.47871    64.51063    68.54254\r\n  72.574455   76.60637    80.63828    84.6702     88.70211    92.734024\r\n  96.76594   100.79785   104.829765  108.86168   112.89359   116.92551\r\n 120.95742   124.989334  129.02126   133.05318   137.0851    141.11702\r\n 145.14894   149.18086   153.21278   157.2447    161.27663   165.30855\r\n 169.34047   173.37239   177.40431   181.43623   185.46815   189.50008\r\n 193.532     197.56392   201.59584   205.62776   209.65968   213.6916\r\n 217.72353   221.75545   225.78737   229.81929   233.85121   237.88313\r\n 241.91505   245.94698   249.9789    254.01082   258.04272   262.07465\r\n 266.10657   270.1385    274.1704    278.20233   282.23425   286.26617\r\n 290.2981    294.33002   298.36194   302.39386   306.42578   310.4577\r\n 314.48962   318.52155   322.55347   326.5854    330.6173    334.64923\r\n 338.68115   342.71307   346.745     350.77692   354.80884   358.84076\r\n 362.87268   366.9046    370.93652   374.96844   379.00037  ]\r\n\r\n379.00037 should not be there!\r\n\r\nEquivalent numpy code\r\n```\r\nimport numpy as np\r\nmax_value=379.0\r\ndelta=379.0/94.0\r\nprint(np.arange(0,max_value,delta))\r\n```\r\nResult:\r\n> [  0.           4.03191489   8.06382979  12.09574468  16.12765957\r\n  20.15957447  24.19148936  28.22340426  32.25531915  36.28723404\r\n  40.31914894  44.35106383  48.38297872  52.41489362  56.44680851\r\n  60.4787234   64.5106383   68.54255319  72.57446809  76.60638298\r\n  80.63829787  84.67021277  88.70212766  92.73404255  96.76595745\r\n 100.79787234 104.82978723 108.86170213 112.89361702 116.92553191\r\n 120.95744681 124.9893617  129.0212766  133.05319149 137.08510638\r\n 141.11702128 145.14893617 149.18085106 153.21276596 157.24468085\r\n 161.27659574 165.30851064 169.34042553 173.37234043 177.40425532\r\n 181.43617021 185.46808511 189.5        193.53191489 197.56382979\r\n 201.59574468 205.62765957 209.65957447 213.69148936 217.72340426\r\n 221.75531915 225.78723404 229.81914894 233.85106383 237.88297872\r\n 241.91489362 245.94680851 249.9787234  254.0106383  258.04255319\r\n 262.07446809 266.10638298 270.13829787 274.17021277 278.20212766\r\n 282.23404255 286.26595745 290.29787234 294.32978723 298.36170213\r\n 302.39361702 306.42553191 310.45744681 314.4893617  318.5212766\r\n 322.55319149 326.58510638 330.61702128 334.64893617 338.68085106\r\n 342.71276596 346.74468085 350.77659574 354.80851064 358.84042553\r\n 362.87234043 366.90425532 370.93617021 374.96808511]\r\n"}