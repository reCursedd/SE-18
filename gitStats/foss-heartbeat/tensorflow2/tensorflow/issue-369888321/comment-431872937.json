{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/431872937", "html_url": "https://github.com/tensorflow/tensorflow/issues/22969#issuecomment-431872937", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22969", "id": 431872937, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTg3MjkzNw==", "user": {"login": "tayyabvohra", "id": 11913417, "node_id": "MDQ6VXNlcjExOTEzNDE3", "avatar_url": "https://avatars3.githubusercontent.com/u/11913417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tayyabvohra", "html_url": "https://github.com/tayyabvohra", "followers_url": "https://api.github.com/users/tayyabvohra/followers", "following_url": "https://api.github.com/users/tayyabvohra/following{/other_user}", "gists_url": "https://api.github.com/users/tayyabvohra/gists{/gist_id}", "starred_url": "https://api.github.com/users/tayyabvohra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tayyabvohra/subscriptions", "organizations_url": "https://api.github.com/users/tayyabvohra/orgs", "repos_url": "https://api.github.com/users/tayyabvohra/repos", "events_url": "https://api.github.com/users/tayyabvohra/events{/privacy}", "received_events_url": "https://api.github.com/users/tayyabvohra/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-22T15:41:37Z", "updated_at": "2018-10-22T15:41:37Z", "author_association": "NONE", "body_html": "<p>I have shape of input_data is</p>\n<p>`Tensor(\"Placeholder_1:0\", shape=(24, 30), dtype=int32)</p>\n<p>and when i am running the tf.nn.embedding_lookup(wordVectors,input_data) then shape of my data is</p>\n<p>Tensor(\"embedding_lookup:0\", shape=(24, 30, 1, 2), dtype=int32)<br>\nI am getting error when i am running the function tf.nn.dynamic_rnn()</p>\n<p>this is my code</p>\n<p>import tensorflow as tf</p>\n<p>batchSize = 24<br>\nlstmUnits = 64<br>\nnumClasses = 2<br>\niterations = 10000<br>\nmaxSeqLength=30<br>\nnumDimensions = 200 #Dimensions for each word vector</p>\n<p>tf.reset_default_graph()</p>\n<p>labels = tf.placeholder(tf.int32, [batchSize, numClasses])<br>\ninput_data = tf.placeholder(tf.int32, [batchSize, maxSeqLength])<br>\ndata = tf.Variable(tf.zeros([batchSize, maxSeqLength, numDimensions]))<br>\ndata = tf.nn.embedding_lookup(wordVectors,input_data)<br>\nlstmCell = tf.contrib.rnn.BasicLSTMCell(lstmUnits)<br>\ninitial_state = lstmCell.zero_state(batchSize, dtype=tf.int32)<br>\nlstmCell = tf.contrib.rnn.DropoutWrapper(cell=lstmCell, output_keep_prob=0.25)<br>\nvalue, _=tf.nn.dynamic_rnn(lstmCell,data,initial_state=initial_state,dtype=tf.float32)<br>\nthis is the shape of my wordVectors</p>\n<p>[[[    0     1]]</p>\n<p>[[    1     1]]</p>\n<p>[[    2     1]]</p>\n<p>...</p>\n<p>[[14784     1]]</p>\n<p>[[14784     1]]</p>\n<p>[[11095     1]]]<br>\nValueError: Input 0 of layer basic_lstm_cell_1 is incompatible with the layer: expected ndim=2, found ndim=3. Full shape received: [24, 1, 2]</p>", "body_text": "I have shape of input_data is\n`Tensor(\"Placeholder_1:0\", shape=(24, 30), dtype=int32)\nand when i am running the tf.nn.embedding_lookup(wordVectors,input_data) then shape of my data is\nTensor(\"embedding_lookup:0\", shape=(24, 30, 1, 2), dtype=int32)\nI am getting error when i am running the function tf.nn.dynamic_rnn()\nthis is my code\nimport tensorflow as tf\nbatchSize = 24\nlstmUnits = 64\nnumClasses = 2\niterations = 10000\nmaxSeqLength=30\nnumDimensions = 200 #Dimensions for each word vector\ntf.reset_default_graph()\nlabels = tf.placeholder(tf.int32, [batchSize, numClasses])\ninput_data = tf.placeholder(tf.int32, [batchSize, maxSeqLength])\ndata = tf.Variable(tf.zeros([batchSize, maxSeqLength, numDimensions]))\ndata = tf.nn.embedding_lookup(wordVectors,input_data)\nlstmCell = tf.contrib.rnn.BasicLSTMCell(lstmUnits)\ninitial_state = lstmCell.zero_state(batchSize, dtype=tf.int32)\nlstmCell = tf.contrib.rnn.DropoutWrapper(cell=lstmCell, output_keep_prob=0.25)\nvalue, _=tf.nn.dynamic_rnn(lstmCell,data,initial_state=initial_state,dtype=tf.float32)\nthis is the shape of my wordVectors\n[[[    0     1]]\n[[    1     1]]\n[[    2     1]]\n...\n[[14784     1]]\n[[14784     1]]\n[[11095     1]]]\nValueError: Input 0 of layer basic_lstm_cell_1 is incompatible with the layer: expected ndim=2, found ndim=3. Full shape received: [24, 1, 2]", "body": "I have shape of input_data is\r\n\r\n`Tensor(\"Placeholder_1:0\", shape=(24, 30), dtype=int32)\r\n\r\nand when i am running the tf.nn.embedding_lookup(wordVectors,input_data) then shape of my data is\r\n\r\nTensor(\"embedding_lookup:0\", shape=(24, 30, 1, 2), dtype=int32)\r\nI am getting error when i am running the function tf.nn.dynamic_rnn()\r\n\r\nthis is my code\r\n\r\nimport tensorflow as tf\r\n\r\nbatchSize = 24\r\nlstmUnits = 64\r\nnumClasses = 2\r\niterations = 10000\r\nmaxSeqLength=30\r\nnumDimensions = 200 #Dimensions for each word vector\r\n\r\ntf.reset_default_graph()\r\n\r\nlabels = tf.placeholder(tf.int32, [batchSize, numClasses])\r\ninput_data = tf.placeholder(tf.int32, [batchSize, maxSeqLength])\r\ndata = tf.Variable(tf.zeros([batchSize, maxSeqLength, numDimensions]))\r\ndata = tf.nn.embedding_lookup(wordVectors,input_data)\r\nlstmCell = tf.contrib.rnn.BasicLSTMCell(lstmUnits)\r\ninitial_state = lstmCell.zero_state(batchSize, dtype=tf.int32)\r\nlstmCell = tf.contrib.rnn.DropoutWrapper(cell=lstmCell, output_keep_prob=0.25)\r\nvalue, _=tf.nn.dynamic_rnn(lstmCell,data,initial_state=initial_state,dtype=tf.float32)\r\nthis is the shape of my wordVectors\r\n\r\n[[[    0     1]]\r\n\r\n [[    1     1]]\r\n\r\n [[    2     1]]\r\n\r\n ...\r\n\r\n [[14784     1]]\r\n\r\n [[14784     1]]\r\n\r\n [[11095     1]]]\r\nValueError: Input 0 of layer basic_lstm_cell_1 is incompatible with the layer: expected ndim=2, found ndim=3. Full shape received: [24, 1, 2]"}