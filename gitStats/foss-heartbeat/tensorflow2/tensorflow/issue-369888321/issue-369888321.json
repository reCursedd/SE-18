{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22969", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22969/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22969/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22969/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22969", "id": 369888321, "node_id": "MDU6SXNzdWUzNjk4ODgzMjE=", "number": 22969, "title": "ValueError: sequence_length must be a vector of length batch_size, but saw shape: (24, 1, 2)", "user": {"login": "tayyabvohra", "id": 11913417, "node_id": "MDQ6VXNlcjExOTEzNDE3", "avatar_url": "https://avatars3.githubusercontent.com/u/11913417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tayyabvohra", "html_url": "https://github.com/tayyabvohra", "followers_url": "https://api.github.com/users/tayyabvohra/followers", "following_url": "https://api.github.com/users/tayyabvohra/following{/other_user}", "gists_url": "https://api.github.com/users/tayyabvohra/gists{/gist_id}", "starred_url": "https://api.github.com/users/tayyabvohra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tayyabvohra/subscriptions", "organizations_url": "https://api.github.com/users/tayyabvohra/orgs", "repos_url": "https://api.github.com/users/tayyabvohra/repos", "events_url": "https://api.github.com/users/tayyabvohra/events{/privacy}", "received_events_url": "https://api.github.com/users/tayyabvohra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "yifeif", "id": 1192265, "node_id": "MDQ6VXNlcjExOTIyNjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1192265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yifeif", "html_url": "https://github.com/yifeif", "followers_url": "https://api.github.com/users/yifeif/followers", "following_url": "https://api.github.com/users/yifeif/following{/other_user}", "gists_url": "https://api.github.com/users/yifeif/gists{/gist_id}", "starred_url": "https://api.github.com/users/yifeif/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yifeif/subscriptions", "organizations_url": "https://api.github.com/users/yifeif/orgs", "repos_url": "https://api.github.com/users/yifeif/repos", "events_url": "https://api.github.com/users/yifeif/events{/privacy}", "received_events_url": "https://api.github.com/users/yifeif/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yifeif", "id": 1192265, "node_id": "MDQ6VXNlcjExOTIyNjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1192265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yifeif", "html_url": "https://github.com/yifeif", "followers_url": "https://api.github.com/users/yifeif/followers", "following_url": "https://api.github.com/users/yifeif/following{/other_user}", "gists_url": "https://api.github.com/users/yifeif/gists{/gist_id}", "starred_url": "https://api.github.com/users/yifeif/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yifeif/subscriptions", "organizations_url": "https://api.github.com/users/yifeif/orgs", "repos_url": "https://api.github.com/users/yifeif/repos", "events_url": "https://api.github.com/users/yifeif/events{/privacy}", "received_events_url": "https://api.github.com/users/yifeif/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-10-14T10:24:46Z", "updated_at": "2018-10-24T18:08:48Z", "closed_at": "2018-10-24T18:08:19Z", "author_association": "NONE", "body_html": "<p>import tensorflow as tf</p>\n<p>I am working with lstm using tensor flow when I am running the code it is showing me the error. the code is running fine but when I am running the function tf.nn.dynamic_rnn(lstmCell, data, dtype=tf.float64) it is showing Value ERROR</p>\n<p>wordsList = np.load('urduwords.npy')<br>\nwordVectors = np.load('urduwordsMatrix.npy')</p>\n<p>batchSize = 24<br>\nlstmUnits = 64<br>\nnumClasses = 2<br>\niterations = 10000</p>\n<p>tf.reset_default_graph()</p>\n<p>labels = tf.placeholder(tf.float32, [batchSize, numClasses])<br>\ninput_data = tf.placeholder(tf.int32, [batchSize, maxSeqLength])</p>\n<p>print(labels)</p>\n<p>data = tf.Variable(tf.zeros([batchSize, maxSeqLength, numDimensions]),dtype=tf.float32)<br>\nprint(data)</p>\n<p>data = tf.nn.embedding_lookup(wordVectors,input_data)<br>\nprint(data)</p>\n<p>lstmCell = tf.contrib.rnn.BasicLSTMCell(lstmUnits)<br>\nlstmCell = tf.contrib.rnn.DropoutWrapper(cell=lstmCell, output_keep_prob=0.1)</p>\n<p>value, _ = tf.nn.dynamic_rnn(lstmCell, data, dtype=tf.float64)</p>\n<p>data_mask = tf.cast(data, tf.bool)<br>\ndata_len = tf.reduce_sum(tf.cast(data_mask, tf.float32), axis=1)<br>\ntf.nn.dynamic_rnn(lstmCell, data, sequence_length=data_len, initial_state=initial_state)</p>\n<p>sequence_length must be a vector of length batch_size, but saw shape: (24, 1, 2)</p>", "body_text": "import tensorflow as tf\nI am working with lstm using tensor flow when I am running the code it is showing me the error. the code is running fine but when I am running the function tf.nn.dynamic_rnn(lstmCell, data, dtype=tf.float64) it is showing Value ERROR\nwordsList = np.load('urduwords.npy')\nwordVectors = np.load('urduwordsMatrix.npy')\nbatchSize = 24\nlstmUnits = 64\nnumClasses = 2\niterations = 10000\ntf.reset_default_graph()\nlabels = tf.placeholder(tf.float32, [batchSize, numClasses])\ninput_data = tf.placeholder(tf.int32, [batchSize, maxSeqLength])\nprint(labels)\ndata = tf.Variable(tf.zeros([batchSize, maxSeqLength, numDimensions]),dtype=tf.float32)\nprint(data)\ndata = tf.nn.embedding_lookup(wordVectors,input_data)\nprint(data)\nlstmCell = tf.contrib.rnn.BasicLSTMCell(lstmUnits)\nlstmCell = tf.contrib.rnn.DropoutWrapper(cell=lstmCell, output_keep_prob=0.1)\nvalue, _ = tf.nn.dynamic_rnn(lstmCell, data, dtype=tf.float64)\ndata_mask = tf.cast(data, tf.bool)\ndata_len = tf.reduce_sum(tf.cast(data_mask, tf.float32), axis=1)\ntf.nn.dynamic_rnn(lstmCell, data, sequence_length=data_len, initial_state=initial_state)\nsequence_length must be a vector of length batch_size, but saw shape: (24, 1, 2)", "body": "import tensorflow as tf\r\n\r\nI am working with lstm using tensor flow when I am running the code it is showing me the error. the code is running fine but when I am running the function tf.nn.dynamic_rnn(lstmCell, data, dtype=tf.float64) it is showing Value ERROR\r\n\r\nwordsList = np.load('urduwords.npy')\r\nwordVectors = np.load('urduwordsMatrix.npy')\r\n\r\nbatchSize = 24\r\nlstmUnits = 64\r\nnumClasses = 2\r\niterations = 10000\r\n\r\ntf.reset_default_graph()\r\n\r\n\r\nlabels = tf.placeholder(tf.float32, [batchSize, numClasses])\r\ninput_data = tf.placeholder(tf.int32, [batchSize, maxSeqLength])\r\n\r\nprint(labels)\r\n\r\ndata = tf.Variable(tf.zeros([batchSize, maxSeqLength, numDimensions]),dtype=tf.float32)\r\nprint(data)\r\n\r\n\r\ndata = tf.nn.embedding_lookup(wordVectors,input_data)\r\nprint(data)\r\n\r\n\r\nlstmCell = tf.contrib.rnn.BasicLSTMCell(lstmUnits)\r\nlstmCell = tf.contrib.rnn.DropoutWrapper(cell=lstmCell, output_keep_prob=0.1)\r\n\r\nvalue, _ = tf.nn.dynamic_rnn(lstmCell, data, dtype=tf.float64)\r\n\r\ndata_mask = tf.cast(data, tf.bool)\r\ndata_len = tf.reduce_sum(tf.cast(data_mask, tf.float32), axis=1)\r\ntf.nn.dynamic_rnn(lstmCell, data, sequence_length=data_len, initial_state=initial_state)\r\n\r\nsequence_length must be a vector of length batch_size, but saw shape: (24, 1, 2)"}