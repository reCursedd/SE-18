{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/468", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/468/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/468/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/468/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/468", "id": 121546676, "node_id": "MDU6SXNzdWUxMjE1NDY2NzY=", "number": 468, "title": "Generated wheel files are named incorrectly (python wheel experts, please help!)", "user": {"login": "craigcitro", "id": 468559, "node_id": "MDQ6VXNlcjQ2ODU1OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/468559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/craigcitro", "html_url": "https://github.com/craigcitro", "followers_url": "https://api.github.com/users/craigcitro/followers", "following_url": "https://api.github.com/users/craigcitro/following{/other_user}", "gists_url": "https://api.github.com/users/craigcitro/gists{/gist_id}", "starred_url": "https://api.github.com/users/craigcitro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/craigcitro/subscriptions", "organizations_url": "https://api.github.com/users/craigcitro/orgs", "repos_url": "https://api.github.com/users/craigcitro/repos", "events_url": "https://api.github.com/users/craigcitro/events{/privacy}", "received_events_url": "https://api.github.com/users/craigcitro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-10T18:16:47Z", "updated_at": "2016-04-29T15:57:30Z", "closed_at": "2016-04-29T15:57:30Z", "author_association": "MEMBER", "body_html": "<p><strong>Note:</strong> If you know lots about python wheels, and can answer some of the questions here, please jump in!</p>\n<p>Python wheel files encode metadata about supported architectures into their names, cf <a href=\"https://www.python.org/dev/peps/pep-0427/\" rel=\"nofollow\">the wheel PEP</a> and <a href=\"https://www.python.org/dev/peps/pep-0425/\" rel=\"nofollow\">the suffix PEP</a>.</p>\n<p>Currently, when we generate wheel files, we end up with either too-broad names (eg all Mac wheels are <code>py2-none-any</code>, which is wrong) or too-specific (some linux wheels are tagged <code>cp34-cp34m-linux-x86_64</code>, but we think the abi component should be <code>none</code>). This leads to issues like <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"121529875\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/467\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/467/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/467\">#467</a>.</p>\n<p>A part of the issue here is that we're not sure what some of these tags mean -- for instance, the only explanation I've found of the <code>m</code> suffix is in <a href=\"https://bitbucket.org/pypa/wheel/issues/61/abi-version-is-not-found\" rel=\"nofollow\">an issue on the wheel bug tracker</a> and even that doesn't clear things up.</p>\n<p>There are really three parts to fixing this:</p>\n<ul>\n<li>we should know what the \"right\" filename is for these wheel files.</li>\n<li>we should fix our build process to generate the right output on all architectures.</li>\n<li>we should consider serving our wheel files via a custom PyPA.</li>\n</ul>\n<p>More details on the last one: we're making our lives harder by asking people to point to the \"right\" wheel file. <code>pip</code> knows how to take a package name (eg <code>tensorflow</code>) and a list of wheel files, and then install the right one. We can and should serve our own PyPA, so that installation instructions on <strong>all</strong> platforms we support would be something like</p>\n<pre><code>pip install --extra_index_url=https://tensorflow.org/pypa tensorflow\n</code></pre>\n<p>/cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=463737\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vrv\">@vrv</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=577277\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/martinwicke\">@martinwicke</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=229914\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/keveman\">@keveman</a> on the TF side.</p>", "body_text": "Note: If you know lots about python wheels, and can answer some of the questions here, please jump in!\nPython wheel files encode metadata about supported architectures into their names, cf the wheel PEP and the suffix PEP.\nCurrently, when we generate wheel files, we end up with either too-broad names (eg all Mac wheels are py2-none-any, which is wrong) or too-specific (some linux wheels are tagged cp34-cp34m-linux-x86_64, but we think the abi component should be none). This leads to issues like #467.\nA part of the issue here is that we're not sure what some of these tags mean -- for instance, the only explanation I've found of the m suffix is in an issue on the wheel bug tracker and even that doesn't clear things up.\nThere are really three parts to fixing this:\n\nwe should know what the \"right\" filename is for these wheel files.\nwe should fix our build process to generate the right output on all architectures.\nwe should consider serving our wheel files via a custom PyPA.\n\nMore details on the last one: we're making our lives harder by asking people to point to the \"right\" wheel file. pip knows how to take a package name (eg tensorflow) and a list of wheel files, and then install the right one. We can and should serve our own PyPA, so that installation instructions on all platforms we support would be something like\npip install --extra_index_url=https://tensorflow.org/pypa tensorflow\n\n/cc @vrv @martinwicke @keveman on the TF side.", "body": "**Note:** If you know lots about python wheels, and can answer some of the questions here, please jump in!\n\nPython wheel files encode metadata about supported architectures into their names, cf [the wheel PEP](https://www.python.org/dev/peps/pep-0427/) and [the suffix PEP](https://www.python.org/dev/peps/pep-0425/).\n\nCurrently, when we generate wheel files, we end up with either too-broad names (eg all Mac wheels are `py2-none-any`, which is wrong) or too-specific (some linux wheels are tagged `cp34-cp34m-linux-x86_64`, but we think the abi component should be `none`). This leads to issues like #467.\n\nA part of the issue here is that we're not sure what some of these tags mean -- for instance, the only explanation I've found of the `m` suffix is in [an issue on the wheel bug tracker](https://bitbucket.org/pypa/wheel/issues/61/abi-version-is-not-found) and even that doesn't clear things up.\n\nThere are really three parts to fixing this:\n- we should know what the \"right\" filename is for these wheel files.\n- we should fix our build process to generate the right output on all architectures.\n- we should consider serving our wheel files via a custom PyPA.\n\nMore details on the last one: we're making our lives harder by asking people to point to the \"right\" wheel file. `pip` knows how to take a package name (eg `tensorflow`) and a list of wheel files, and then install the right one. We can and should serve our own PyPA, so that installation instructions on **all** platforms we support would be something like\n\n```\npip install --extra_index_url=https://tensorflow.org/pypa tensorflow\n```\n\n/cc @vrv @martinwicke @keveman on the TF side.\n"}