{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/217612950", "html_url": "https://github.com/tensorflow/tensorflow/issues/2253#issuecomment-217612950", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2253", "id": 217612950, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzYxMjk1MA==", "user": {"login": "puneet336", "id": 5935825, "node_id": "MDQ6VXNlcjU5MzU4MjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/5935825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/puneet336", "html_url": "https://github.com/puneet336", "followers_url": "https://api.github.com/users/puneet336/followers", "following_url": "https://api.github.com/users/puneet336/following{/other_user}", "gists_url": "https://api.github.com/users/puneet336/gists{/gist_id}", "starred_url": "https://api.github.com/users/puneet336/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/puneet336/subscriptions", "organizations_url": "https://api.github.com/users/puneet336/orgs", "repos_url": "https://api.github.com/users/puneet336/repos", "events_url": "https://api.github.com/users/puneet336/events{/privacy}", "received_events_url": "https://api.github.com/users/puneet336/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-07T07:19:09Z", "updated_at": "2016-05-07T07:21:10Z", "author_association": "NONE", "body_html": "<p>Hi,<br>\ninitially With <strong>crosstool_wrapper_driver_is_not_gcc</strong>, i ran into  compilation errors (mentioned below) like  <strong>error: unrecognized command line option \"-std=c++11\"</strong>, so i manually replaced the same with <strong>gcc</strong>. I had modified the third_party/gpus/crosstool/CROSSTOOL as per rdipietro's comment for my gcc 4.9.3 (7 Mar) at : <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"125622945\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/bazel/issues/760\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/760/hovercard\" href=\"https://github.com/bazelbuild/bazel/issues/760\">bazelbuild/bazel#760</a>.<br>\nOne of the replacement was:<br>\ntool_path { name: \"gcc\" path: \"clang/bin/crosstool_wrapper_driver_is_not_gcc\" } ===&gt;  tool_path { name: \"gcc\" path: \"/home/soft/gcc-4.9.3/bin/gcc\" }.</p>\n<p>You may like to have a look at the <a href=\"https://drive.google.com/open?id=0B2ywpNeYZkgydEI3cHEzT3ZmMHM\" rel=\"nofollow\">CROSSTOOL file</a> which i am currently using.  Please suggest modifications if any.</p>\n<p>error log:<br>\n<code>____Building... ____[1 / 139] Compiling external/re2/util/valgrind.cc ____[1 / 303] Compiling external/re2/util/stringprintf.cc [for host] ____[1 / 324] Compiling external/re2/re2/dfa.cc [for host] ERROR: /home/user/.cache/bazel/_bazel_jca142469/fc6103a815c76da222bbe3b7c887440a/external/re2/BUILD:9:1: C++ compilation of rule '@re2//:re2' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command (cd /home/user/.cache/bazel/_bazel_jca142469/fc6103a815c76da222bbe3b7c887440a/tensorflow &amp;&amp; \\ exec env - \\ PATH=/home/soft/cuda-7.0/bin:/home/apps/BINUTILS/2.25/gnu/bin:/home/soft/intel2015/composer_xe_2015.3.187/mkl/bin:/home/soft/gcc-4.9.3/bin:/home/user/TENSOR_GPU/jdk1.8.0_92/jre/bin:/home/user/TENSOR_GPU/jdk1.8.0_92/bin:/home/apps/PROTOBUF/2.6.1/gnu/include:/home/apps/PROTOBUF/2.6.1/gnu/bin:/home/apps/Caffe/CaffeDependencies/include:/home/soft/cuda-6.5/bin:/usr/lib64/qt-3.3/bin:/usr/kerberos/sbin:/usr/kerberos/bin:/opt/pbs/default/bin:/opt/pbs/default/sbin:/opt/pbs/default/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/ibutils/bin:/home/apps/MATLAB/R2014b/bin:/home/user/bin \\ third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -iquote external/re2 -iquote bazel-out/local_linux-opt/genfiles/external/re2 -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -isystem external/re2 -isystem bazel-out/local_linux-opt/genfiles/external/re2 -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers '-frandom-seed=bazel-out/local_linux-opt/bin/external/re2/_objs/re2/external/re2/re2/set.pic.o' -MD -MF bazel-out/local_linux-opt/bin/external/re2/_objs/re2/external/re2/re2/set.pic.d -fPIC -c external/re2/re2/set.cc -o bazel-out/local_linux-opt/bin/external/re2/_objs/re2/external/re2/re2/set.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1. gcc: unrecognized option '-no-canonical-prefixes' cc1plus: error: unrecognized command line option \"-std=c++11\" cc1plus: error: unrecognized command line option \"-fno-canonical-system-headers\" cc1plus: warning: unrecognized command line option \"-Wno-free-nonheap-object\" ____Building complete. Target //tensorflow/tools/pip_package:build_pip_package failed to build ____Elapsed time: 2.826s, Critical Path: 2.08s </code></p>", "body_text": "Hi,\ninitially With crosstool_wrapper_driver_is_not_gcc, i ran into  compilation errors (mentioned below) like  error: unrecognized command line option \"-std=c++11\", so i manually replaced the same with gcc. I had modified the third_party/gpus/crosstool/CROSSTOOL as per rdipietro's comment for my gcc 4.9.3 (7 Mar) at : bazelbuild/bazel#760.\nOne of the replacement was:\ntool_path { name: \"gcc\" path: \"clang/bin/crosstool_wrapper_driver_is_not_gcc\" } ===>  tool_path { name: \"gcc\" path: \"/home/soft/gcc-4.9.3/bin/gcc\" }.\nYou may like to have a look at the CROSSTOOL file which i am currently using.  Please suggest modifications if any.\nerror log:\n____Building... ____[1 / 139] Compiling external/re2/util/valgrind.cc ____[1 / 303] Compiling external/re2/util/stringprintf.cc [for host] ____[1 / 324] Compiling external/re2/re2/dfa.cc [for host] ERROR: /home/user/.cache/bazel/_bazel_jca142469/fc6103a815c76da222bbe3b7c887440a/external/re2/BUILD:9:1: C++ compilation of rule '@re2//:re2' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command (cd /home/user/.cache/bazel/_bazel_jca142469/fc6103a815c76da222bbe3b7c887440a/tensorflow && \\ exec env - \\ PATH=/home/soft/cuda-7.0/bin:/home/apps/BINUTILS/2.25/gnu/bin:/home/soft/intel2015/composer_xe_2015.3.187/mkl/bin:/home/soft/gcc-4.9.3/bin:/home/user/TENSOR_GPU/jdk1.8.0_92/jre/bin:/home/user/TENSOR_GPU/jdk1.8.0_92/bin:/home/apps/PROTOBUF/2.6.1/gnu/include:/home/apps/PROTOBUF/2.6.1/gnu/bin:/home/apps/Caffe/CaffeDependencies/include:/home/soft/cuda-6.5/bin:/usr/lib64/qt-3.3/bin:/usr/kerberos/sbin:/usr/kerberos/bin:/opt/pbs/default/bin:/opt/pbs/default/sbin:/opt/pbs/default/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/ibutils/bin:/home/apps/MATLAB/R2014b/bin:/home/user/bin \\ third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -iquote external/re2 -iquote bazel-out/local_linux-opt/genfiles/external/re2 -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -isystem external/re2 -isystem bazel-out/local_linux-opt/genfiles/external/re2 -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers '-frandom-seed=bazel-out/local_linux-opt/bin/external/re2/_objs/re2/external/re2/re2/set.pic.o' -MD -MF bazel-out/local_linux-opt/bin/external/re2/_objs/re2/external/re2/re2/set.pic.d -fPIC -c external/re2/re2/set.cc -o bazel-out/local_linux-opt/bin/external/re2/_objs/re2/external/re2/re2/set.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1. gcc: unrecognized option '-no-canonical-prefixes' cc1plus: error: unrecognized command line option \"-std=c++11\" cc1plus: error: unrecognized command line option \"-fno-canonical-system-headers\" cc1plus: warning: unrecognized command line option \"-Wno-free-nonheap-object\" ____Building complete. Target //tensorflow/tools/pip_package:build_pip_package failed to build ____Elapsed time: 2.826s, Critical Path: 2.08s", "body": "Hi,\ninitially With **crosstool_wrapper_driver_is_not_gcc**, i ran into  compilation errors (mentioned below) like  **error: unrecognized command line option \"-std=c++11\"**, so i manually replaced the same with **gcc**. I had modified the third_party/gpus/crosstool/CROSSTOOL as per rdipietro's comment for my gcc 4.9.3 (7 Mar) at : https://github.com/bazelbuild/bazel/issues/760.\nOne of the replacement was:\n tool_path { name: \"gcc\" path: \"clang/bin/crosstool_wrapper_driver_is_not_gcc\" } ===>  tool_path { name: \"gcc\" path: \"/home/soft/gcc-4.9.3/bin/gcc\" }.\n\nYou may like to have a look at the [CROSSTOOL file](https://drive.google.com/open?id=0B2ywpNeYZkgydEI3cHEzT3ZmMHM) which i am currently using.  Please suggest modifications if any.\n\nerror log:\n`____Building...\n____[1 / 139] Compiling external/re2/util/valgrind.cc\n____[1 / 303] Compiling external/re2/util/stringprintf.cc [for host]\n____[1 / 324] Compiling external/re2/re2/dfa.cc [for host]\nERROR: /home/user/.cache/bazel/_bazel_jca142469/fc6103a815c76da222bbe3b7c887440a/external/re2/BUILD:9:1: C++ compilation of rule '@re2//:re2' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /home/user/.cache/bazel/_bazel_jca142469/fc6103a815c76da222bbe3b7c887440a/tensorflow && \\\n  exec env - \\\n    PATH=/home/soft/cuda-7.0/bin:/home/apps/BINUTILS/2.25/gnu/bin:/home/soft/intel2015/composer_xe_2015.3.187/mkl/bin:/home/soft/gcc-4.9.3/bin:/home/user/TENSOR_GPU/jdk1.8.0_92/jre/bin:/home/user/TENSOR_GPU/jdk1.8.0_92/bin:/home/apps/PROTOBUF/2.6.1/gnu/include:/home/apps/PROTOBUF/2.6.1/gnu/bin:/home/apps/Caffe/CaffeDependencies/include:/home/soft/cuda-6.5/bin:/usr/lib64/qt-3.3/bin:/usr/kerberos/sbin:/usr/kerberos/bin:/opt/pbs/default/bin:/opt/pbs/default/sbin:/opt/pbs/default/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/ibutils/bin:/home/apps/MATLAB/R2014b/bin:/home/user/bin \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -iquote external/re2 -iquote bazel-out/local_linux-opt/genfiles/external/re2 -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -isystem external/re2 -isystem bazel-out/local_linux-opt/genfiles/external/re2 -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers '-frandom-seed=bazel-out/local_linux-opt/bin/external/re2/_objs/re2/external/re2/re2/set.pic.o' -MD -MF bazel-out/local_linux-opt/bin/external/re2/_objs/re2/external/re2/re2/set.pic.d -fPIC -c external/re2/re2/set.cc -o bazel-out/local_linux-opt/bin/external/re2/_objs/re2/external/re2/re2/set.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ngcc: unrecognized option '-no-canonical-prefixes'\ncc1plus: error: unrecognized command line option \"-std=c++11\"\ncc1plus: error: unrecognized command line option \"-fno-canonical-system-headers\"\ncc1plus: warning: unrecognized command line option \"-Wno-free-nonheap-object\"\n____Building complete.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n____Elapsed time: 2.826s, Critical Path: 2.08s\n`\n"}