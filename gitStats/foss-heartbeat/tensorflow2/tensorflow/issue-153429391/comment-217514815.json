{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/217514815", "html_url": "https://github.com/tensorflow/tensorflow/issues/2253#issuecomment-217514815", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2253", "id": 217514815, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzUxNDgxNQ==", "user": {"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-06T17:58:36Z", "updated_at": "2016-05-06T17:58:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The problem is that file should not be sent to gcc. It could be a bazel misconfiguration somewhere.</p>\n<p>The correct sequence is as follows. You can follow it and see where things went wrong.</p>\n<ul>\n<li>bazel.rc has this line \"build:cuda --crosstool_top=@tf//third_party/gpus/crosstool\". So under \"--config=cuda\" third_party/gpus/crosstool should be used instead of the default.</li>\n<li>third_party/gpus/crosstool should have this line \"tool_path { name: \"gcc\" path: \"clang/bin/crosstool_wrapper_driver_is_not_gcc\" }\", which instructs the bazel to use that as the compiler instead of gcc. It understands the \"-x cuda\" option and knows which compiler to use.</li>\n</ul>", "body_text": "The problem is that file should not be sent to gcc. It could be a bazel misconfiguration somewhere.\nThe correct sequence is as follows. You can follow it and see where things went wrong.\n\nbazel.rc has this line \"build:cuda --crosstool_top=@tf//third_party/gpus/crosstool\". So under \"--config=cuda\" third_party/gpus/crosstool should be used instead of the default.\nthird_party/gpus/crosstool should have this line \"tool_path { name: \"gcc\" path: \"clang/bin/crosstool_wrapper_driver_is_not_gcc\" }\", which instructs the bazel to use that as the compiler instead of gcc. It understands the \"-x cuda\" option and knows which compiler to use.", "body": "The problem is that file should not be sent to gcc. It could be a bazel misconfiguration somewhere. \n\nThe correct sequence is as follows. You can follow it and see where things went wrong. \n- bazel.rc has this line \"build:cuda --crosstool_top=@tf//third_party/gpus/crosstool\". So under \"--config=cuda\" third_party/gpus/crosstool should be used instead of the default. \n- third_party/gpus/crosstool should have this line \"tool_path { name: \"gcc\" path: \"clang/bin/crosstool_wrapper_driver_is_not_gcc\" }\", which instructs the bazel to use that as the compiler instead of gcc. It understands the \"-x cuda\" option and knows which compiler to use. \n"}