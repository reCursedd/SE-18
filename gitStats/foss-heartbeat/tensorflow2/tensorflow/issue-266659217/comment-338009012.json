{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/338009012", "html_url": "https://github.com/tensorflow/tensorflow/issues/13821#issuecomment-338009012", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13821", "id": 338009012, "node_id": "MDEyOklzc3VlQ29tbWVudDMzODAwOTAxMg==", "user": {"login": "alltom", "id": 1678, "node_id": "MDQ6VXNlcjE2Nzg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alltom", "html_url": "https://github.com/alltom", "followers_url": "https://api.github.com/users/alltom/followers", "following_url": "https://api.github.com/users/alltom/following{/other_user}", "gists_url": "https://api.github.com/users/alltom/gists{/gist_id}", "starred_url": "https://api.github.com/users/alltom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alltom/subscriptions", "organizations_url": "https://api.github.com/users/alltom/orgs", "repos_url": "https://api.github.com/users/alltom/repos", "events_url": "https://api.github.com/users/alltom/events{/privacy}", "received_events_url": "https://api.github.com/users/alltom/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-19T19:15:53Z", "updated_at": "2017-10-19T19:17:26Z", "author_association": "NONE", "body_html": "<p>I ran it again, but memory and disk usage remained stable (save for the tiny model files the DNNClassifiers were saving, and nowhere near full), so my guess it's file handle exhaustion.</p>\n<p>I added a call to <code>gc.collect()</code> right before every time a new model is trained, and this time instead of failing with the \"resource exhausted\" error, it failed with <code>Segmentation fault: 11</code> at the same part (~125 models trained). So\u2026 don't know how to reconcile that with Activity Monitor showing flat memory pressure.</p>", "body_text": "I ran it again, but memory and disk usage remained stable (save for the tiny model files the DNNClassifiers were saving, and nowhere near full), so my guess it's file handle exhaustion.\nI added a call to gc.collect() right before every time a new model is trained, and this time instead of failing with the \"resource exhausted\" error, it failed with Segmentation fault: 11 at the same part (~125 models trained). So\u2026 don't know how to reconcile that with Activity Monitor showing flat memory pressure.", "body": "I ran it again, but memory and disk usage remained stable (save for the tiny model files the DNNClassifiers were saving, and nowhere near full), so my guess it's file handle exhaustion.\r\n\r\nI added a call to `gc.collect()` right before every time a new model is trained, and this time instead of failing with the \"resource exhausted\" error, it failed with `Segmentation fault: 11` at the same part (~125 models trained). So\u2026 don't know how to reconcile that with Activity Monitor showing flat memory pressure."}