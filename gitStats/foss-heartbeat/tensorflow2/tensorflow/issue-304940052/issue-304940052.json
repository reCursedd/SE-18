{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17692", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17692/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17692/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17692/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/17692", "id": 304940052, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc0NzkzMjgz", "number": 17692, "title": "Fix floating point exception when loading from a small events log file using the loader", "user": {"login": "skambha", "id": 16563220, "node_id": "MDQ6VXNlcjE2NTYzMjIw", "avatar_url": "https://avatars3.githubusercontent.com/u/16563220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skambha", "html_url": "https://github.com/skambha", "followers_url": "https://api.github.com/users/skambha/followers", "following_url": "https://api.github.com/users/skambha/following{/other_user}", "gists_url": "https://api.github.com/users/skambha/gists{/gist_id}", "starred_url": "https://api.github.com/users/skambha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skambha/subscriptions", "organizations_url": "https://api.github.com/users/skambha/orgs", "repos_url": "https://api.github.com/users/skambha/repos", "events_url": "https://api.github.com/users/skambha/events{/privacy}", "received_events_url": "https://api.github.com/users/skambha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 419840263, "node_id": "MDU6TGFiZWw0MTk4NDAyNjM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20testing%20(then%20merge)", "name": "awaiting testing (then merge)", "color": "c2e0c6", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "protoget", "id": 5117188, "node_id": "MDQ6VXNlcjUxMTcxODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5117188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/protoget", "html_url": "https://github.com/protoget", "followers_url": "https://api.github.com/users/protoget/followers", "following_url": "https://api.github.com/users/protoget/following{/other_user}", "gists_url": "https://api.github.com/users/protoget/gists{/gist_id}", "starred_url": "https://api.github.com/users/protoget/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/protoget/subscriptions", "organizations_url": "https://api.github.com/users/protoget/orgs", "repos_url": "https://api.github.com/users/protoget/repos", "events_url": "https://api.github.com/users/protoget/events{/privacy}", "received_events_url": "https://api.github.com/users/protoget/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "protoget", "id": 5117188, "node_id": "MDQ6VXNlcjUxMTcxODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5117188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/protoget", "html_url": "https://github.com/protoget", "followers_url": "https://api.github.com/users/protoget/followers", "following_url": "https://api.github.com/users/protoget/following{/other_user}", "gists_url": "https://api.github.com/users/protoget/gists{/gist_id}", "starred_url": "https://api.github.com/users/protoget/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/protoget/subscriptions", "organizations_url": "https://api.github.com/users/protoget/orgs", "repos_url": "https://api.github.com/users/protoget/repos", "events_url": "https://api.github.com/users/protoget/events{/privacy}", "received_events_url": "https://api.github.com/users/protoget/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2018-03-13T21:21:17Z", "updated_at": "2018-09-19T00:02:45Z", "closed_at": "2018-09-19T00:02:45Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/17692", "html_url": "https://github.com/tensorflow/tensorflow/pull/17692", "diff_url": "https://github.com/tensorflow/tensorflow/pull/17692.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/17692.patch"}, "body_html": "<p>Issue:  Floating point exception when using the loader to load some data from a small events log file</p>\n<ul>\n<li>Fixed the bps calculation to guard against div by 0</li>\n<li>Tested this manually with the different size logs we have from our experiment.</li>\n</ul>\n<p>If you have suggestions or a recommended way to add a unit test for the loader, I'd be glad to look into it.  Please let me know. Thanks.</p>\n<p>TESTING:<br>\nFor now, I have tested this manually with the logs we have from our experiment.</p>\n<p><strong>With Fix:</strong></p>\n<pre><code>./loader --events=/data_location/experiments/mitoses/jan/events.out.tfevents.xyz.com --db=/db_location/tb/db/test14db --experiment_name=test --run_name=run1 --user_name=s\n&lt;snipped&gt;\n2018-03-29 10:58:59.092540: I tensorflow/contrib/tensorboard/db/loader.cc:116] Loaded 624,975 bytes with 31 records at 2,130,206 bps\n</code></pre>\n<p>Empty events file:</p>\n<pre><code>./loader --events=test --db=/db_location/tb/db/test14db --experiment_name=test --run_name=run1 --user_name=s\n&lt;snipped&gt;\n2018-03-29 12:20:03.849826: I tensorflow/contrib/tensorboard/db/loader.cc:116] Loaded 0 bytes with 0 records at 0 bps\n</code></pre>\n<p><strong>Without Fix:</strong></p>\n<pre><code>./loader --events=/data_location/experiments/mitoses/jan/events.out.tfevents.xyz.com --db=/db_location/tb/db/test14db --experiment_name=test --run_name=run1 --user_name=s\n2018-03-13 11:53:35.910348: I tensorflow/contrib/tensorboard/db/loader.cc:75] Opening SQLite file: /db_location/tb/db/test14db\n2018-03-13 11:53:35.911059: I tensorflow/contrib/tensorboard/db/loader.cc:82] Initializing TensorBoard schema\n2018-03-13 11:53:35.914771: I tensorflow/contrib/tensorboard/db/loader.cc:85] Creating SummaryDbWriter\n2018-03-13 11:53:35.914792: I tensorflow/contrib/tensorboard/db/loader.cc:91] Loading TF event log: /data_location/experiments/mitoses/jan/events.out.tfevents.xyz.com\nFloating point exception: 8\n</code></pre>", "body_text": "Issue:  Floating point exception when using the loader to load some data from a small events log file\n\nFixed the bps calculation to guard against div by 0\nTested this manually with the different size logs we have from our experiment.\n\nIf you have suggestions or a recommended way to add a unit test for the loader, I'd be glad to look into it.  Please let me know. Thanks.\nTESTING:\nFor now, I have tested this manually with the logs we have from our experiment.\nWith Fix:\n./loader --events=/data_location/experiments/mitoses/jan/events.out.tfevents.xyz.com --db=/db_location/tb/db/test14db --experiment_name=test --run_name=run1 --user_name=s\n<snipped>\n2018-03-29 10:58:59.092540: I tensorflow/contrib/tensorboard/db/loader.cc:116] Loaded 624,975 bytes with 31 records at 2,130,206 bps\n\nEmpty events file:\n./loader --events=test --db=/db_location/tb/db/test14db --experiment_name=test --run_name=run1 --user_name=s\n<snipped>\n2018-03-29 12:20:03.849826: I tensorflow/contrib/tensorboard/db/loader.cc:116] Loaded 0 bytes with 0 records at 0 bps\n\nWithout Fix:\n./loader --events=/data_location/experiments/mitoses/jan/events.out.tfevents.xyz.com --db=/db_location/tb/db/test14db --experiment_name=test --run_name=run1 --user_name=s\n2018-03-13 11:53:35.910348: I tensorflow/contrib/tensorboard/db/loader.cc:75] Opening SQLite file: /db_location/tb/db/test14db\n2018-03-13 11:53:35.911059: I tensorflow/contrib/tensorboard/db/loader.cc:82] Initializing TensorBoard schema\n2018-03-13 11:53:35.914771: I tensorflow/contrib/tensorboard/db/loader.cc:85] Creating SummaryDbWriter\n2018-03-13 11:53:35.914792: I tensorflow/contrib/tensorboard/db/loader.cc:91] Loading TF event log: /data_location/experiments/mitoses/jan/events.out.tfevents.xyz.com\nFloating point exception: 8", "body": "Issue:  Floating point exception when using the loader to load some data from a small events log file\r\n\r\n- Fixed the bps calculation to guard against div by 0\r\n- Tested this manually with the different size logs we have from our experiment.\r\n\r\nIf you have suggestions or a recommended way to add a unit test for the loader, I'd be glad to look into it.  Please let me know. Thanks.\r\n\r\nTESTING:\r\nFor now, I have tested this manually with the logs we have from our experiment.\r\n\r\n**With Fix:**\r\n ```\r\n./loader --events=/data_location/experiments/mitoses/jan/events.out.tfevents.xyz.com --db=/db_location/tb/db/test14db --experiment_name=test --run_name=run1 --user_name=s\r\n<snipped>\r\n2018-03-29 10:58:59.092540: I tensorflow/contrib/tensorboard/db/loader.cc:116] Loaded 624,975 bytes with 31 records at 2,130,206 bps\r\n```\r\n\r\nEmpty events file: \r\n```\r\n./loader --events=test --db=/db_location/tb/db/test14db --experiment_name=test --run_name=run1 --user_name=s\r\n<snipped>\r\n2018-03-29 12:20:03.849826: I tensorflow/contrib/tensorboard/db/loader.cc:116] Loaded 0 bytes with 0 records at 0 bps\r\n```\r\n\r\n**Without Fix:**\r\n```\r\n./loader --events=/data_location/experiments/mitoses/jan/events.out.tfevents.xyz.com --db=/db_location/tb/db/test14db --experiment_name=test --run_name=run1 --user_name=s\r\n2018-03-13 11:53:35.910348: I tensorflow/contrib/tensorboard/db/loader.cc:75] Opening SQLite file: /db_location/tb/db/test14db\r\n2018-03-13 11:53:35.911059: I tensorflow/contrib/tensorboard/db/loader.cc:82] Initializing TensorBoard schema\r\n2018-03-13 11:53:35.914771: I tensorflow/contrib/tensorboard/db/loader.cc:85] Creating SummaryDbWriter\r\n2018-03-13 11:53:35.914792: I tensorflow/contrib/tensorboard/db/loader.cc:91] Loading TF event log: /data_location/experiments/mitoses/jan/events.out.tfevents.xyz.com\r\nFloating point exception: 8\r\n```"}