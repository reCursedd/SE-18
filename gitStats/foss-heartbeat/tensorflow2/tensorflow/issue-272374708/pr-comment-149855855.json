{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/149855855", "pull_request_review_id": 75317246, "id": 149855855, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0OTg1NTg1NQ==", "diff_hunk": "@@ -65,6 +65,53 @@ func NewSession(graph *Graph, options *SessionOptions) (*Session, error) {\n \treturn s, nil\n }\n \n+type Device struct {\n+\tName, Type  string\n+\tMemoryLimit int64\n+}\n+\n+// Return list of devices associated with a Session\n+func (s *Session) ListDevices() ([]Device, error) {\n+\tvar devices []Device\n+\n+\tstatus := newStatus()\n+\tdevices_list := C.TF_SessionListDevices(s.c, status.c)\n+\tif err := status.Err(); err != nil {\n+\t\treturn nil, fmt.Errorf(\"TF_SessionListDevices() failed: %v\", err)", "path": "tensorflow/go/session.go", "position": null, "original_position": 16, "commit_id": "81b79cee251f1ad8d9c9c298c9dbf034d8fc02cc", "original_commit_id": "ec1e5735cd23f301ba38f95b65d8348c5a50067e", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "body": "Listing the C API method in the error string might be confusing to a Go user since most users should have no idea what `TF_Session*` means.\r\n\r\nPerhaps rephrase the error messages? For example, this one can perhaps just be `return nil, err`, while the ones in the loop can be `return nil, fmt.Errorf(\"failed to fetch name for device #%d: %v\", i, err)` etc.?", "created_at": "2017-11-09T02:51:18Z", "updated_at": "2017-11-09T14:41:59Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/14385#discussion_r149855855", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14385", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/149855855"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/14385#discussion_r149855855"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14385"}}, "body_html": "<p>Listing the C API method in the error string might be confusing to a Go user since most users should have no idea what <code>TF_Session*</code> means.</p>\n<p>Perhaps rephrase the error messages? For example, this one can perhaps just be <code>return nil, err</code>, while the ones in the loop can be <code>return nil, fmt.Errorf(\"failed to fetch name for device #%d: %v\", i, err)</code> etc.?</p>", "body_text": "Listing the C API method in the error string might be confusing to a Go user since most users should have no idea what TF_Session* means.\nPerhaps rephrase the error messages? For example, this one can perhaps just be return nil, err, while the ones in the loop can be return nil, fmt.Errorf(\"failed to fetch name for device #%d: %v\", i, err) etc.?"}