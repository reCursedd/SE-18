{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23774", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23774/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23774/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23774/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23774", "id": 381175472, "node_id": "MDU6SXNzdWUzODExNzU0NzI=", "number": 23774, "title": "\"ValueError: list.remove(x): x not in list\" in eager mode for decorated keras method", "user": {"login": "simonm3", "id": 1199593, "node_id": "MDQ6VXNlcjExOTk1OTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1199593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonm3", "html_url": "https://github.com/simonm3", "followers_url": "https://api.github.com/users/simonm3/followers", "following_url": "https://api.github.com/users/simonm3/following{/other_user}", "gists_url": "https://api.github.com/users/simonm3/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonm3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonm3/subscriptions", "organizations_url": "https://api.github.com/users/simonm3/orgs", "repos_url": "https://api.github.com/users/simonm3/repos", "events_url": "https://api.github.com/users/simonm3/events{/privacy}", "received_events_url": "https://api.github.com/users/simonm3/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-11-15T14:05:23Z", "updated_at": "2018-11-16T10:55:17Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>The below runs without the decorator but when the decorator is added then it fails with the above error.</p>\n<p>tf.<strong>version</strong>, keras.<strong>version</strong> = ('1.12.0', '2.1.6-tf')<br>\nubuntu 16.04</p>\n<pre><code>import tensorflow.keras.layers as KL\nfrom functools import wraps\n\ndef decorator(f):\n    @wraps(f)\n    def wrapper(*args, **kwargs):\n        return f(*args, **kwargs)\n    return wrapper\n\nclass MyLayer(KL.Layer):\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n\n    @decorator\n    def call(self, inputs):\n        pass\na=MyLayer()\n</code></pre>", "body_text": "The below runs without the decorator but when the decorator is added then it fails with the above error.\ntf.version, keras.version = ('1.12.0', '2.1.6-tf')\nubuntu 16.04\nimport tensorflow.keras.layers as KL\nfrom functools import wraps\n\ndef decorator(f):\n    @wraps(f)\n    def wrapper(*args, **kwargs):\n        return f(*args, **kwargs)\n    return wrapper\n\nclass MyLayer(KL.Layer):\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n\n    @decorator\n    def call(self, inputs):\n        pass\na=MyLayer()", "body": "The below runs without the decorator but when the decorator is added then it fails with the above error.\r\n\r\ntf.__version__, keras.__version__ = ('1.12.0', '2.1.6-tf')\r\nubuntu 16.04\r\n```\r\nimport tensorflow.keras.layers as KL\r\nfrom functools import wraps\r\n\r\ndef decorator(f):\r\n    @wraps(f)\r\n    def wrapper(*args, **kwargs):\r\n        return f(*args, **kwargs)\r\n    return wrapper\r\n\r\nclass MyLayer(KL.Layer):\r\n    def __init__(self, *args, **kwargs):\r\n        super().__init__(*args, **kwargs)\r\n\r\n    @decorator\r\n    def call(self, inputs):\r\n        pass\r\na=MyLayer()\r\n```"}