{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17013", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17013/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17013/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17013/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17013", "id": 297140317, "node_id": "MDU6SXNzdWUyOTcxNDAzMTc=", "number": 17013, "title": "[Android Studio + TensorFlow] Error with some Kernel's Operations", "user": {"login": "gabrielrlp", "id": 29979626, "node_id": "MDQ6VXNlcjI5OTc5NjI2", "avatar_url": "https://avatars3.githubusercontent.com/u/29979626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gabrielrlp", "html_url": "https://github.com/gabrielrlp", "followers_url": "https://api.github.com/users/gabrielrlp/followers", "following_url": "https://api.github.com/users/gabrielrlp/following{/other_user}", "gists_url": "https://api.github.com/users/gabrielrlp/gists{/gist_id}", "starred_url": "https://api.github.com/users/gabrielrlp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gabrielrlp/subscriptions", "organizations_url": "https://api.github.com/users/gabrielrlp/orgs", "repos_url": "https://api.github.com/users/gabrielrlp/repos", "events_url": "https://api.github.com/users/gabrielrlp/events{/privacy}", "received_events_url": "https://api.github.com/users/gabrielrlp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 17, "created_at": "2018-02-14T15:37:17Z", "updated_at": "2018-06-10T18:53:07Z", "closed_at": "2018-06-10T18:33:05Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code</strong>: Yes</li>\n<li><strong>OS Platform and Distribution</strong>: Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from</strong>: Source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.5.0</li>\n<li><strong>Python version</strong>: 2.7.12</li>\n<li><strong>Bazel version</strong>: 0.10.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: 5.4.0</li>\n<li><strong>GPU model and memory</strong>: GTX 1050 TI 256MB</li>\n<li><strong>Exact command to reproduce</strong>: Build on Android Studio</li>\n</ul>\n<h2>Describe the problem</h2>\n<p>Hello guys,</p>\n<p>My team and I are attempting to import and use a specific model on Android Studio. This functionality is pretty easy, we feed this model with an image in bitmap format and we receive a matrix points with results.<br>\nBut on <strong>Run</strong> step this model shows different errors according to <strong>libtensorflow_inference.so</strong>.</p>\n<p>I create an image to better explain my problem to you. See below:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/29979626/36210004-7405189e-1184-11e8-80b4-1f77044c100a.png\"><img src=\"https://user-images.githubusercontent.com/29979626/36210004-7405189e-1184-11e8-80b4-1f77044c100a.png\" alt=\"issue\" style=\"max-width:100%;\"></a></p>\n<h2>Source code / logs</h2>\n<h3>Initially, I want to load my model:</h3>\n<pre><code>public static Detector testCreate(AssetManager assetManager, String modelFileName, String labelFileName, int inputWidth, int inputHeight, int inputDepth, String inputName, String outputName) throws IOException {\n\n\tTensorFlowImageDetector d = new TensorFlowImageDetector();\n        d.inputName = inputName;\n        d.outputName = outputName;\n        d.inferenceInterface = new TensorFlowInferenceInterface(assetManager, modelFileName);\n\n        d.inputWidth = inputWidth;\n        d.inputHeight = inputHeight;\n        d.inputDepth = inputDepth;\n\n        d.outputNames = new String[]{outputName};\n        // start outputs\n        // fix labelfilename != null\n\n        return d;\n}\n</code></pre>\n<h3>Before I need to detect element on image (feed, run and fetch):</h3>\n<pre><code>public Detection testDetectImage(final float[] pixels) {\n\n        // Log this method so that it can be analyzed with systrace.\n        TraceCompat.beginSection(\"detectImage\");\n\n        // Copy the input data into TensorFlow.\n        TraceCompat.beginSection(\"feed\");\n        inferenceInterface.feed(inputName, pixels, 1, inputWidth, inputHeight, inputDepth);\n        TraceCompat.endSection();\n\n        // Run the inference call.\n        TraceCompat.beginSection(\"run\");\n        inferenceInterface.run(outputNames, Boolean.parseBoolean(null));\n        TraceCompat.endSection();\n\n        // Copy the output Tensor back into the output array.\n        TraceCompat.beginSection(\"fetch\");\n        //inferenceInterface.fetch(outputName, outputs);\n        TraceCompat.endSection();\n\n        return null;\n}\n</code></pre>\n<h3>Comments</h3>\n<ol>\n<li>Errors occurring on <strong>Run</strong> function</li>\n<li>We already tried to solve the problem with 3 different ways mentioned in the image</li>\n<li>My model has an input size of 1x256x256x3 and for test, I'm using a matrix of zeros</li>\n<li>To generate a custom library we used this tutorial: <a href=\"https://medium.com/@daj/how-to-shrink-the-tensorflow-android-inference-library-cb698facf758\" rel=\"nofollow\">https://medium.com/@daj/how-to-shrink-the-tensorflow-android-inference-library-cb698facf758</a></li>\n<li>To generate a full library of Android, on Bazel, we used <code>--copt=-D__ANDROID_TYPES_FULL__</code> flag</li>\n<li>We used JAR created by Bazel when generated custom libraries</li>\n</ol>\n<h3>Logs for errors</h3>\n<blockquote>\n<p><strong>Op Sin</strong></p>\n</blockquote>\n<pre><code>02-14 13:23:08.584 8090-8090/? E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\n02-14 13:23:08.584 8090-8090/? I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\n02-14 13:23:08.685 8090-8090/? I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\n02-14 13:23:11.083 8090-8090/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Model load took 518ms, TensorFlow version: 1.6.0-rc0\n02-14 13:23:11.092 8090-8090/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Successfully loaded model from 'file:///android_asset/frozen_pose3d.pb'\n02-14 13:23:11.092 8090-8090/com.example.lis.zitronenkuchen D/MainActivity: Load Success!\n02-14 13:23:11.215 8090-8090/com.example.lis.zitronenkuchen E/TensorFlowInferenceInterface: Failed to run TensorFlow inference with inputs:[input_image], outputs:[MatMul]\n02-14 13:23:11.216 8090-8090/com.example.lis.zitronenkuchen D/AndroidRuntime: Shutting down VM\n02-14 13:23:11.217 8090-8090/com.example.lis.zitronenkuchen E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                              Process: com.example.lis.zitronenkuchen, PID: 8090\n                                                                              java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lis.zitronenkuchen/com.example.lis.zitronenkuchen.MainActivity}: java.lang.RuntimeException: Error initializing TensorFlow!\n                                                                                  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2659)\n                                                                                  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\n                                                                                  at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                                  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\n                                                                                  at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                  at android.os.Looper.loop(Looper.java:154)\n                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6123)\n                                                                                  at java.lang.reflect.Method.invoke(Native Method)\n                                                                                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\n                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\n                                                                               Caused by: java.lang.RuntimeException: Error initializing TensorFlow!\n                                                                                  at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:44)\n                                                                                  at android.app.Activity.performCreate(Activity.java:6672)\n                                                                                  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\n                                                                                  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\n                                                                                  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\u00a0\n                                                                                  at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n                                                                                  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\u00a0\n                                                                                  at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                                  at android.os.Looper.loop(Looper.java:154)\u00a0\n                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\n                                                                                  at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\n                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\n                                                                               Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Sin' with these attrs.  Registered devices: [CPU], Registered kernels:\n                                                                                &lt;no registered kernels&gt;\n                                                                              \n                                                                              \t [[Node: ViewpointNet/get_rot_mat/Sin = Sin[T=DT_FLOAT](ViewpointNet/get_rot_mat/Sqrt)]]\n                                                                                  at org.tensorflow.Session.run(Native Method)\n                                                                                  at org.tensorflow.Session.access$100(Session.java:48)\n                                                                                  at org.tensorflow.Session$Runner.runHelper(Session.java:298)\n                                                                                  at org.tensorflow.Session$Runner.run(Session.java:248)\n                                                                                  at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:230)\n                                                                                  at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:197)\n                                                                                  at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:187)\n                                                                                  at com.example.lis.zitronenkuchen.TensorFlowImageDetector.detectImage(TensorFlowImageDetector.java:73)\n                                                                                  at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:41)\n                                                                                  \t... 12 more\n</code></pre>\n<blockquote>\n<p><strong>Op Identity</strong></p>\n</blockquote>\n<pre><code>E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\nI/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\nI/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\nD/AndroidRuntime: Shutting down VM\n\n\n                  --------- beginning of crash\nE/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.example.lis.zitronenkuchen, PID: 6521\n                  java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lis.zitronenkuchen/com.example.lis.zitronenkuchen.MainActivity}: java.lang.RuntimeException: Error initializing TensorFlow!\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2659)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\n                      at android.os.Looper.loop(Looper.java:154)\n                      at android.app.ActivityThread.main(ActivityThread.java:6123)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\n                   Caused by: java.lang.RuntimeException: Error initializing TensorFlow!\n                      at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:44)\n                      at android.app.Activity.performCreate(Activity.java:6672)\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\u00a0\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\u00a0\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                      at android.os.Looper.loop(Looper.java:154)\u00a0\n                      at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\n                   Caused by: org.tensorflow.TensorFlowException: Op type not registered 'Identity' in binary running on localhost. Make sure the Op and Kernel are registered in the binary running in this process.\n                      at org.tensorflow.Graph.importGraphDef(Native Method)\n                      at org.tensorflow.Graph.importGraphDef(Graph.java:130)\n                      at org.tensorflow.Graph.importGraphDef(Graph.java:114)\n                      at org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:561)\n                      at org.tensorflow.contrib.android.TensorFlowInferenceInterface.&lt;init&gt;(TensorFlowInferenceInterface.java:105)\n                      at com.example.lis.zitronenkuchen.TensorFlowImageDetector.create(TensorFlowImageDetector.java:47)\n                      at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:29)\n                      at android.app.Activity.performCreate(Activity.java:6672)\u00a0\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\u00a0\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\u00a0\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\u00a0\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\u00a0\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                      at android.os.Looper.loop(Looper.java:154)\u00a0\n                      at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\n</code></pre>\n<blockquote>\n<p><strong>Op Switch</strong></p>\n</blockquote>\n<pre><code>02-14 13:09:36.334 26040-26040/com.example.lis.zitronenkuchen E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\n02-14 13:09:36.334 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\n02-14 13:09:36.406 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\n02-14 13:09:37.835 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Model load took 1382ms, TensorFlow version: 1.3.1\n02-14 13:09:37.843 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Successfully loaded model from 'file:///android_asset/frozen_pose3d.pb'\n02-14 13:09:37.843 26040-26040/com.example.lis.zitronenkuchen D/MainActivity: Load Success!\n02-14 13:09:37.892 26040-26040/com.example.lis.zitronenkuchen E/TensorFlowInferenceInterface: Failed to run TensorFlow inference with inputs:[input_image], outputs:[MatMul]\n02-14 13:09:37.892 26040-26040/com.example.lis.zitronenkuchen D/AndroidRuntime: Shutting down VM\n02-14 13:09:37.893 26040-26040/com.example.lis.zitronenkuchen E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                                Process: com.example.lis.zitronenkuchen, PID: 26040\n                                                                                java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lis.zitronenkuchen/com.example.lis.zitronenkuchen.MainActivity}: java.lang.RuntimeException: Error initializing TensorFlow!\n                                                                                    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2426)\n                                                                                    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2490)\n                                                                                    at android.app.ActivityThread.-wrap11(ActivityThread.java)\n                                                                                    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)\n                                                                                    at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                    at android.os.Looper.loop(Looper.java:148)\n                                                                                    at android.app.ActivityThread.main(ActivityThread.java:5443)\n                                                                                    at java.lang.reflect.Method.invoke(Native Method)\n                                                                                    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\n                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n                                                                                 Caused by: java.lang.RuntimeException: Error initializing TensorFlow!\n                                                                                    at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:44)\n                                                                                    at android.app.Activity.performCreate(Activity.java:6245)\n                                                                                    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1130)\n                                                                                    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2379)\n                                                                                    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2490)\u00a0\n                                                                                    at android.app.ActivityThread.-wrap11(ActivityThread.java)\u00a0\n                                                                                    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)\u00a0\n                                                                                    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                                    at android.os.Looper.loop(Looper.java:148)\u00a0\n                                                                                    at android.app.ActivityThread.main(ActivityThread.java:5443)\u00a0\n                                                                                    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                                    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\u00a0\n                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\u00a0\n                                                                                 Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Switch' with these attrs.  Registered devices: [CPU], Registered kernels:\n                                                                                  device='GPU'; T in [DT_STRING]\n                                                                                  device='GPU'; T in [DT_BOOL]\n                                                                                  device='GPU'; T in [DT_INT32]\n                                                                                  device='GPU'; T in [DT_INT64]\n                                                                                  device='GPU'; T in [DT_FLOAT]\n                                                                                  device='GPU'; T in [DT_HALF]\n                                                                                  device='CPU'; T in [DT_QINT32]\n                                                                                  device='CPU'; T in [DT_QUINT8]\n                                                                                  device='CPU'; T in [DT_QINT8]\n                                                                                  device='CPU'; T in [DT_FLOAT]\n                                                                                  device='CPU'; T in [DT_HALF]\n                                                                                  device='CPU'; T in [DT_INT32]\n                                                                                  device='CPU'; T in [DT_INT64]\n                                                                                \n                                                                                \t [[Node: PosePrior/dropout/cond/Switch = Switch[T=DT_BOOL](PlaceholderWithDefault, PlaceholderWithDefault)]]\n                                                                                    at org.tensorflow.Session.run(Native Method)\n                                                                                    at org.tensorflow.Session.access$100(Session.java:48)\n                                                                                    at org.tensorflow.Session$Runner.runHelper(Session.java:295)\n                                                                                    at org.tensorflow.Session$Runner.run(Session.java:245)\n                                                                                    at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:143)\n                                                                                    at com.example.lis.zitronenkuchen.TensorFlowImageDetector.detectImage(TensorFlowImageDetector.java:73)\n                                                                                    at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:41)\n                                                                                    \t... 12 more\n</code></pre>\n<p>Thank you! <g-emoji class=\"g-emoji\" alias=\"grin\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f601.png\">\ud83d\ude01</g-emoji></p>", "body_text": "System information\n\nHave I written custom code: Yes\nOS Platform and Distribution: Linux Ubuntu 16.04\nTensorFlow installed from: Source\nTensorFlow version (use command below): 1.5.0\nPython version: 2.7.12\nBazel version: 0.10.0\nGCC/Compiler version (if compiling from source): 5.4.0\nGPU model and memory: GTX 1050 TI 256MB\nExact command to reproduce: Build on Android Studio\n\nDescribe the problem\nHello guys,\nMy team and I are attempting to import and use a specific model on Android Studio. This functionality is pretty easy, we feed this model with an image in bitmap format and we receive a matrix points with results.\nBut on Run step this model shows different errors according to libtensorflow_inference.so.\nI create an image to better explain my problem to you. See below:\n\nSource code / logs\nInitially, I want to load my model:\npublic static Detector testCreate(AssetManager assetManager, String modelFileName, String labelFileName, int inputWidth, int inputHeight, int inputDepth, String inputName, String outputName) throws IOException {\n\n\tTensorFlowImageDetector d = new TensorFlowImageDetector();\n        d.inputName = inputName;\n        d.outputName = outputName;\n        d.inferenceInterface = new TensorFlowInferenceInterface(assetManager, modelFileName);\n\n        d.inputWidth = inputWidth;\n        d.inputHeight = inputHeight;\n        d.inputDepth = inputDepth;\n\n        d.outputNames = new String[]{outputName};\n        // start outputs\n        // fix labelfilename != null\n\n        return d;\n}\n\nBefore I need to detect element on image (feed, run and fetch):\npublic Detection testDetectImage(final float[] pixels) {\n\n        // Log this method so that it can be analyzed with systrace.\n        TraceCompat.beginSection(\"detectImage\");\n\n        // Copy the input data into TensorFlow.\n        TraceCompat.beginSection(\"feed\");\n        inferenceInterface.feed(inputName, pixels, 1, inputWidth, inputHeight, inputDepth);\n        TraceCompat.endSection();\n\n        // Run the inference call.\n        TraceCompat.beginSection(\"run\");\n        inferenceInterface.run(outputNames, Boolean.parseBoolean(null));\n        TraceCompat.endSection();\n\n        // Copy the output Tensor back into the output array.\n        TraceCompat.beginSection(\"fetch\");\n        //inferenceInterface.fetch(outputName, outputs);\n        TraceCompat.endSection();\n\n        return null;\n}\n\nComments\n\nErrors occurring on Run function\nWe already tried to solve the problem with 3 different ways mentioned in the image\nMy model has an input size of 1x256x256x3 and for test, I'm using a matrix of zeros\nTo generate a custom library we used this tutorial: https://medium.com/@daj/how-to-shrink-the-tensorflow-android-inference-library-cb698facf758\nTo generate a full library of Android, on Bazel, we used --copt=-D__ANDROID_TYPES_FULL__ flag\nWe used JAR created by Bazel when generated custom libraries\n\nLogs for errors\n\nOp Sin\n\n02-14 13:23:08.584 8090-8090/? E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\n02-14 13:23:08.584 8090-8090/? I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\n02-14 13:23:08.685 8090-8090/? I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\n02-14 13:23:11.083 8090-8090/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Model load took 518ms, TensorFlow version: 1.6.0-rc0\n02-14 13:23:11.092 8090-8090/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Successfully loaded model from 'file:///android_asset/frozen_pose3d.pb'\n02-14 13:23:11.092 8090-8090/com.example.lis.zitronenkuchen D/MainActivity: Load Success!\n02-14 13:23:11.215 8090-8090/com.example.lis.zitronenkuchen E/TensorFlowInferenceInterface: Failed to run TensorFlow inference with inputs:[input_image], outputs:[MatMul]\n02-14 13:23:11.216 8090-8090/com.example.lis.zitronenkuchen D/AndroidRuntime: Shutting down VM\n02-14 13:23:11.217 8090-8090/com.example.lis.zitronenkuchen E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                              Process: com.example.lis.zitronenkuchen, PID: 8090\n                                                                              java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lis.zitronenkuchen/com.example.lis.zitronenkuchen.MainActivity}: java.lang.RuntimeException: Error initializing TensorFlow!\n                                                                                  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2659)\n                                                                                  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\n                                                                                  at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                                  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\n                                                                                  at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                  at android.os.Looper.loop(Looper.java:154)\n                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6123)\n                                                                                  at java.lang.reflect.Method.invoke(Native Method)\n                                                                                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\n                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\n                                                                               Caused by: java.lang.RuntimeException: Error initializing TensorFlow!\n                                                                                  at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:44)\n                                                                                  at android.app.Activity.performCreate(Activity.java:6672)\n                                                                                  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\n                                                                                  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\n                                                                                  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\u00a0\n                                                                                  at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n                                                                                  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\u00a0\n                                                                                  at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                                  at android.os.Looper.loop(Looper.java:154)\u00a0\n                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\n                                                                                  at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\n                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\n                                                                               Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Sin' with these attrs.  Registered devices: [CPU], Registered kernels:\n                                                                                <no registered kernels>\n                                                                              \n                                                                              \t [[Node: ViewpointNet/get_rot_mat/Sin = Sin[T=DT_FLOAT](ViewpointNet/get_rot_mat/Sqrt)]]\n                                                                                  at org.tensorflow.Session.run(Native Method)\n                                                                                  at org.tensorflow.Session.access$100(Session.java:48)\n                                                                                  at org.tensorflow.Session$Runner.runHelper(Session.java:298)\n                                                                                  at org.tensorflow.Session$Runner.run(Session.java:248)\n                                                                                  at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:230)\n                                                                                  at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:197)\n                                                                                  at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:187)\n                                                                                  at com.example.lis.zitronenkuchen.TensorFlowImageDetector.detectImage(TensorFlowImageDetector.java:73)\n                                                                                  at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:41)\n                                                                                  \t... 12 more\n\n\nOp Identity\n\nE/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\nI/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\nI/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\nD/AndroidRuntime: Shutting down VM\n\n\n                  --------- beginning of crash\nE/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.example.lis.zitronenkuchen, PID: 6521\n                  java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lis.zitronenkuchen/com.example.lis.zitronenkuchen.MainActivity}: java.lang.RuntimeException: Error initializing TensorFlow!\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2659)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\n                      at android.os.Looper.loop(Looper.java:154)\n                      at android.app.ActivityThread.main(ActivityThread.java:6123)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\n                   Caused by: java.lang.RuntimeException: Error initializing TensorFlow!\n                      at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:44)\n                      at android.app.Activity.performCreate(Activity.java:6672)\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\u00a0\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\u00a0\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                      at android.os.Looper.loop(Looper.java:154)\u00a0\n                      at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\n                   Caused by: org.tensorflow.TensorFlowException: Op type not registered 'Identity' in binary running on localhost. Make sure the Op and Kernel are registered in the binary running in this process.\n                      at org.tensorflow.Graph.importGraphDef(Native Method)\n                      at org.tensorflow.Graph.importGraphDef(Graph.java:130)\n                      at org.tensorflow.Graph.importGraphDef(Graph.java:114)\n                      at org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:561)\n                      at org.tensorflow.contrib.android.TensorFlowInferenceInterface.<init>(TensorFlowInferenceInterface.java:105)\n                      at com.example.lis.zitronenkuchen.TensorFlowImageDetector.create(TensorFlowImageDetector.java:47)\n                      at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:29)\n                      at android.app.Activity.performCreate(Activity.java:6672)\u00a0\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\u00a0\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\u00a0\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\u00a0\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\u00a0\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                      at android.os.Looper.loop(Looper.java:154)\u00a0\n                      at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\n\n\nOp Switch\n\n02-14 13:09:36.334 26040-26040/com.example.lis.zitronenkuchen E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\n02-14 13:09:36.334 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\n02-14 13:09:36.406 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\n02-14 13:09:37.835 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Model load took 1382ms, TensorFlow version: 1.3.1\n02-14 13:09:37.843 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Successfully loaded model from 'file:///android_asset/frozen_pose3d.pb'\n02-14 13:09:37.843 26040-26040/com.example.lis.zitronenkuchen D/MainActivity: Load Success!\n02-14 13:09:37.892 26040-26040/com.example.lis.zitronenkuchen E/TensorFlowInferenceInterface: Failed to run TensorFlow inference with inputs:[input_image], outputs:[MatMul]\n02-14 13:09:37.892 26040-26040/com.example.lis.zitronenkuchen D/AndroidRuntime: Shutting down VM\n02-14 13:09:37.893 26040-26040/com.example.lis.zitronenkuchen E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                                Process: com.example.lis.zitronenkuchen, PID: 26040\n                                                                                java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lis.zitronenkuchen/com.example.lis.zitronenkuchen.MainActivity}: java.lang.RuntimeException: Error initializing TensorFlow!\n                                                                                    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2426)\n                                                                                    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2490)\n                                                                                    at android.app.ActivityThread.-wrap11(ActivityThread.java)\n                                                                                    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)\n                                                                                    at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                    at android.os.Looper.loop(Looper.java:148)\n                                                                                    at android.app.ActivityThread.main(ActivityThread.java:5443)\n                                                                                    at java.lang.reflect.Method.invoke(Native Method)\n                                                                                    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\n                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n                                                                                 Caused by: java.lang.RuntimeException: Error initializing TensorFlow!\n                                                                                    at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:44)\n                                                                                    at android.app.Activity.performCreate(Activity.java:6245)\n                                                                                    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1130)\n                                                                                    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2379)\n                                                                                    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2490)\u00a0\n                                                                                    at android.app.ActivityThread.-wrap11(ActivityThread.java)\u00a0\n                                                                                    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)\u00a0\n                                                                                    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                                    at android.os.Looper.loop(Looper.java:148)\u00a0\n                                                                                    at android.app.ActivityThread.main(ActivityThread.java:5443)\u00a0\n                                                                                    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                                    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\u00a0\n                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\u00a0\n                                                                                 Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Switch' with these attrs.  Registered devices: [CPU], Registered kernels:\n                                                                                  device='GPU'; T in [DT_STRING]\n                                                                                  device='GPU'; T in [DT_BOOL]\n                                                                                  device='GPU'; T in [DT_INT32]\n                                                                                  device='GPU'; T in [DT_INT64]\n                                                                                  device='GPU'; T in [DT_FLOAT]\n                                                                                  device='GPU'; T in [DT_HALF]\n                                                                                  device='CPU'; T in [DT_QINT32]\n                                                                                  device='CPU'; T in [DT_QUINT8]\n                                                                                  device='CPU'; T in [DT_QINT8]\n                                                                                  device='CPU'; T in [DT_FLOAT]\n                                                                                  device='CPU'; T in [DT_HALF]\n                                                                                  device='CPU'; T in [DT_INT32]\n                                                                                  device='CPU'; T in [DT_INT64]\n                                                                                \n                                                                                \t [[Node: PosePrior/dropout/cond/Switch = Switch[T=DT_BOOL](PlaceholderWithDefault, PlaceholderWithDefault)]]\n                                                                                    at org.tensorflow.Session.run(Native Method)\n                                                                                    at org.tensorflow.Session.access$100(Session.java:48)\n                                                                                    at org.tensorflow.Session$Runner.runHelper(Session.java:295)\n                                                                                    at org.tensorflow.Session$Runner.run(Session.java:245)\n                                                                                    at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:143)\n                                                                                    at com.example.lis.zitronenkuchen.TensorFlowImageDetector.detectImage(TensorFlowImageDetector.java:73)\n                                                                                    at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:41)\n                                                                                    \t... 12 more\n\nThank you! \ud83d\ude01", "body": "### System information\r\n- **Have I written custom code**: Yes\r\n- **OS Platform and Distribution**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from**: Source\r\n- **TensorFlow version (use command below)**: 1.5.0\r\n- **Python version**: 2.7.12\r\n- **Bazel version**: 0.10.0\r\n- **GCC/Compiler version (if compiling from source)**: 5.4.0\r\n- **GPU model and memory**: GTX 1050 TI 256MB\r\n- **Exact command to reproduce**: Build on Android Studio\r\n\r\n## Describe the problem\r\nHello guys,\r\n\r\nMy team and I are attempting to import and use a specific model on Android Studio. This functionality is pretty easy, we feed this model with an image in bitmap format and we receive a matrix points with results.\r\nBut on **Run** step this model shows different errors according to **libtensorflow_inference.so**.\r\n\r\nI create an image to better explain my problem to you. See below:\r\n![issue](https://user-images.githubusercontent.com/29979626/36210004-7405189e-1184-11e8-80b4-1f77044c100a.png)\r\n\r\n\r\n## Source code / logs\r\n### Initially, I want to load my model:\r\n```\r\npublic static Detector testCreate(AssetManager assetManager, String modelFileName, String labelFileName, int inputWidth, int inputHeight, int inputDepth, String inputName, String outputName) throws IOException {\r\n\r\n\tTensorFlowImageDetector d = new TensorFlowImageDetector();\r\n        d.inputName = inputName;\r\n        d.outputName = outputName;\r\n        d.inferenceInterface = new TensorFlowInferenceInterface(assetManager, modelFileName);\r\n\r\n        d.inputWidth = inputWidth;\r\n        d.inputHeight = inputHeight;\r\n        d.inputDepth = inputDepth;\r\n\r\n        d.outputNames = new String[]{outputName};\r\n        // start outputs\r\n        // fix labelfilename != null\r\n\r\n        return d;\r\n}\r\n```\r\n\r\n### Before I need to detect element on image (feed, run and fetch):\r\n```\r\npublic Detection testDetectImage(final float[] pixels) {\r\n\r\n        // Log this method so that it can be analyzed with systrace.\r\n        TraceCompat.beginSection(\"detectImage\");\r\n\r\n        // Copy the input data into TensorFlow.\r\n        TraceCompat.beginSection(\"feed\");\r\n        inferenceInterface.feed(inputName, pixels, 1, inputWidth, inputHeight, inputDepth);\r\n        TraceCompat.endSection();\r\n\r\n        // Run the inference call.\r\n        TraceCompat.beginSection(\"run\");\r\n        inferenceInterface.run(outputNames, Boolean.parseBoolean(null));\r\n        TraceCompat.endSection();\r\n\r\n        // Copy the output Tensor back into the output array.\r\n        TraceCompat.beginSection(\"fetch\");\r\n        //inferenceInterface.fetch(outputName, outputs);\r\n        TraceCompat.endSection();\r\n\r\n        return null;\r\n}\r\n```\r\n### Comments\r\n1. Errors occurring on **Run** function\r\n2. We already tried to solve the problem with 3 different ways mentioned in the image\r\n3. My model has an input size of 1x256x256x3 and for test, I'm using a matrix of zeros\r\n4. To generate a custom library we used this tutorial: https://medium.com/@daj/how-to-shrink-the-tensorflow-android-inference-library-cb698facf758\r\n5. To generate a full library of Android, on Bazel, we used `--copt=-D__ANDROID_TYPES_FULL__` flag\r\n6. We used JAR created by Bazel when generated custom libraries\r\n\r\n### Logs for errors\r\n>**Op Sin**\r\n```\r\n02-14 13:23:08.584 8090-8090/? E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\r\n02-14 13:23:08.584 8090-8090/? I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\r\n02-14 13:23:08.685 8090-8090/? I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\r\n02-14 13:23:11.083 8090-8090/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Model load took 518ms, TensorFlow version: 1.6.0-rc0\r\n02-14 13:23:11.092 8090-8090/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Successfully loaded model from 'file:///android_asset/frozen_pose3d.pb'\r\n02-14 13:23:11.092 8090-8090/com.example.lis.zitronenkuchen D/MainActivity: Load Success!\r\n02-14 13:23:11.215 8090-8090/com.example.lis.zitronenkuchen E/TensorFlowInferenceInterface: Failed to run TensorFlow inference with inputs:[input_image], outputs:[MatMul]\r\n02-14 13:23:11.216 8090-8090/com.example.lis.zitronenkuchen D/AndroidRuntime: Shutting down VM\r\n02-14 13:23:11.217 8090-8090/com.example.lis.zitronenkuchen E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                              Process: com.example.lis.zitronenkuchen, PID: 8090\r\n                                                                              java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lis.zitronenkuchen/com.example.lis.zitronenkuchen.MainActivity}: java.lang.RuntimeException: Error initializing TensorFlow!\r\n                                                                                  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2659)\r\n                                                                                  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\r\n                                                                                  at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n                                                                                  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\r\n                                                                                  at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                  at android.os.Looper.loop(Looper.java:154)\r\n                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6123)\r\n                                                                                  at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\r\n                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\r\n                                                                               Caused by: java.lang.RuntimeException: Error initializing TensorFlow!\r\n                                                                                  at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:44)\r\n                                                                                  at android.app.Activity.performCreate(Activity.java:6672)\r\n                                                                                  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\r\n                                                                                  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\r\n                                                                                  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\u00a0\r\n                                                                                  at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\r\n                                                                                  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\u00a0\r\n                                                                                  at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\r\n                                                                                  at android.os.Looper.loop(Looper.java:154)\u00a0\r\n                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\r\n                                                                                  at java.lang.reflect.Method.invoke(Native Method)\u00a0\r\n                                                                                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\r\n                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\r\n                                                                               Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Sin' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n                                                                                <no registered kernels>\r\n                                                                              \r\n                                                                              \t [[Node: ViewpointNet/get_rot_mat/Sin = Sin[T=DT_FLOAT](ViewpointNet/get_rot_mat/Sqrt)]]\r\n                                                                                  at org.tensorflow.Session.run(Native Method)\r\n                                                                                  at org.tensorflow.Session.access$100(Session.java:48)\r\n                                                                                  at org.tensorflow.Session$Runner.runHelper(Session.java:298)\r\n                                                                                  at org.tensorflow.Session$Runner.run(Session.java:248)\r\n                                                                                  at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:230)\r\n                                                                                  at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:197)\r\n                                                                                  at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:187)\r\n                                                                                  at com.example.lis.zitronenkuchen.TensorFlowImageDetector.detectImage(TensorFlowImageDetector.java:73)\r\n                                                                                  at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:41)\r\n                                                                                  \t... 12 more\r\n```\r\n\r\n>**Op Identity**\r\n```\r\nE/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\r\nI/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\r\nI/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\r\nD/AndroidRuntime: Shutting down VM\r\n\r\n\r\n                  --------- beginning of crash\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: com.example.lis.zitronenkuchen, PID: 6521\r\n                  java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lis.zitronenkuchen/com.example.lis.zitronenkuchen.MainActivity}: java.lang.RuntimeException: Error initializing TensorFlow!\r\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2659)\r\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\r\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                      at android.os.Looper.loop(Looper.java:154)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:6123)\r\n                      at java.lang.reflect.Method.invoke(Native Method)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\r\n                   Caused by: java.lang.RuntimeException: Error initializing TensorFlow!\r\n                      at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:44)\r\n                      at android.app.Activity.performCreate(Activity.java:6672)\r\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\r\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\r\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\u00a0\r\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\u00a0\r\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\r\n                      at android.os.Looper.loop(Looper.java:154)\u00a0\r\n                      at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\r\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\r\n                   Caused by: org.tensorflow.TensorFlowException: Op type not registered 'Identity' in binary running on localhost. Make sure the Op and Kernel are registered in the binary running in this process.\r\n                      at org.tensorflow.Graph.importGraphDef(Native Method)\r\n                      at org.tensorflow.Graph.importGraphDef(Graph.java:130)\r\n                      at org.tensorflow.Graph.importGraphDef(Graph.java:114)\r\n                      at org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:561)\r\n                      at org.tensorflow.contrib.android.TensorFlowInferenceInterface.<init>(TensorFlowInferenceInterface.java:105)\r\n                      at com.example.lis.zitronenkuchen.TensorFlowImageDetector.create(TensorFlowImageDetector.java:47)\r\n                      at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:29)\r\n                      at android.app.Activity.performCreate(Activity.java:6672)\u00a0\r\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1140)\u00a0\r\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2612)\u00a0\r\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724)\u00a0\r\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)\u00a0\r\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\r\n                      at android.os.Looper.loop(Looper.java:154)\u00a0\r\n                      at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\r\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\r\n```\r\n\r\n>**Op Switch**\r\n```\r\n02-14 13:09:36.334 26040-26040/com.example.lis.zitronenkuchen E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\r\n02-14 13:09:36.334 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\r\n02-14 13:09:36.406 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\r\n02-14 13:09:37.835 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Model load took 1382ms, TensorFlow version: 1.3.1\r\n02-14 13:09:37.843 26040-26040/com.example.lis.zitronenkuchen I/TensorFlowInferenceInterface: Successfully loaded model from 'file:///android_asset/frozen_pose3d.pb'\r\n02-14 13:09:37.843 26040-26040/com.example.lis.zitronenkuchen D/MainActivity: Load Success!\r\n02-14 13:09:37.892 26040-26040/com.example.lis.zitronenkuchen E/TensorFlowInferenceInterface: Failed to run TensorFlow inference with inputs:[input_image], outputs:[MatMul]\r\n02-14 13:09:37.892 26040-26040/com.example.lis.zitronenkuchen D/AndroidRuntime: Shutting down VM\r\n02-14 13:09:37.893 26040-26040/com.example.lis.zitronenkuchen E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                                Process: com.example.lis.zitronenkuchen, PID: 26040\r\n                                                                                java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lis.zitronenkuchen/com.example.lis.zitronenkuchen.MainActivity}: java.lang.RuntimeException: Error initializing TensorFlow!\r\n                                                                                    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2426)\r\n                                                                                    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2490)\r\n                                                                                    at android.app.ActivityThread.-wrap11(ActivityThread.java)\r\n                                                                                    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)\r\n                                                                                    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                    at android.os.Looper.loop(Looper.java:148)\r\n                                                                                    at android.app.ActivityThread.main(ActivityThread.java:5443)\r\n                                                                                    at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\r\n                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\r\n                                                                                 Caused by: java.lang.RuntimeException: Error initializing TensorFlow!\r\n                                                                                    at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:44)\r\n                                                                                    at android.app.Activity.performCreate(Activity.java:6245)\r\n                                                                                    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1130)\r\n                                                                                    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2379)\r\n                                                                                    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2490)\u00a0\r\n                                                                                    at android.app.ActivityThread.-wrap11(ActivityThread.java)\u00a0\r\n                                                                                    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)\u00a0\r\n                                                                                    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\r\n                                                                                    at android.os.Looper.loop(Looper.java:148)\u00a0\r\n                                                                                    at android.app.ActivityThread.main(ActivityThread.java:5443)\u00a0\r\n                                                                                    at java.lang.reflect.Method.invoke(Native Method)\u00a0\r\n                                                                                    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\u00a0\r\n                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\u00a0\r\n                                                                                 Caused by: java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Switch' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n                                                                                  device='GPU'; T in [DT_STRING]\r\n                                                                                  device='GPU'; T in [DT_BOOL]\r\n                                                                                  device='GPU'; T in [DT_INT32]\r\n                                                                                  device='GPU'; T in [DT_INT64]\r\n                                                                                  device='GPU'; T in [DT_FLOAT]\r\n                                                                                  device='GPU'; T in [DT_HALF]\r\n                                                                                  device='CPU'; T in [DT_QINT32]\r\n                                                                                  device='CPU'; T in [DT_QUINT8]\r\n                                                                                  device='CPU'; T in [DT_QINT8]\r\n                                                                                  device='CPU'; T in [DT_FLOAT]\r\n                                                                                  device='CPU'; T in [DT_HALF]\r\n                                                                                  device='CPU'; T in [DT_INT32]\r\n                                                                                  device='CPU'; T in [DT_INT64]\r\n                                                                                \r\n                                                                                \t [[Node: PosePrior/dropout/cond/Switch = Switch[T=DT_BOOL](PlaceholderWithDefault, PlaceholderWithDefault)]]\r\n                                                                                    at org.tensorflow.Session.run(Native Method)\r\n                                                                                    at org.tensorflow.Session.access$100(Session.java:48)\r\n                                                                                    at org.tensorflow.Session$Runner.runHelper(Session.java:295)\r\n                                                                                    at org.tensorflow.Session$Runner.run(Session.java:245)\r\n                                                                                    at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:143)\r\n                                                                                    at com.example.lis.zitronenkuchen.TensorFlowImageDetector.detectImage(TensorFlowImageDetector.java:73)\r\n                                                                                    at com.example.lis.zitronenkuchen.MainActivity.onCreate(MainActivity.java:41)\r\n                                                                                    \t... 12 more\r\n```\r\n\r\nThank you! :grin:"}