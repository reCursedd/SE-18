{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/254413977", "html_url": "https://github.com/tensorflow/tensorflow/issues/5022#issuecomment-254413977", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5022", "id": 254413977, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDQxMzk3Nw==", "user": {"login": "jmchen-g", "id": 15792374, "node_id": "MDQ6VXNlcjE1NzkyMzc0", "avatar_url": "https://avatars3.githubusercontent.com/u/15792374?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchen-g", "html_url": "https://github.com/jmchen-g", "followers_url": "https://api.github.com/users/jmchen-g/followers", "following_url": "https://api.github.com/users/jmchen-g/following{/other_user}", "gists_url": "https://api.github.com/users/jmchen-g/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchen-g/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchen-g/subscriptions", "organizations_url": "https://api.github.com/users/jmchen-g/orgs", "repos_url": "https://api.github.com/users/jmchen-g/repos", "events_url": "https://api.github.com/users/jmchen-g/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchen-g/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-18T05:55:54Z", "updated_at": "2016-10-18T05:55:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Can you give more context here? So your training went fine for the first epoch and you stop the training at the end of an epoch and it didn't stop correctly? The token is used to exit one step, not to start one. So it should be fine if the worker started after the token is out.</p>\n<p>When do the workers get stuck in the sync op? The only expected hang is that when some worker took the token AND died AND didn't restart AND no backups available. This can be solved by adding a timeout for the session.</p>\n<p>It will be good to figure out the exact reason of the hang before thinking about solutions. :)</p>", "body_text": "Can you give more context here? So your training went fine for the first epoch and you stop the training at the end of an epoch and it didn't stop correctly? The token is used to exit one step, not to start one. So it should be fine if the worker started after the token is out.\nWhen do the workers get stuck in the sync op? The only expected hang is that when some worker took the token AND died AND didn't restart AND no backups available. This can be solved by adding a timeout for the session.\nIt will be good to figure out the exact reason of the hang before thinking about solutions. :)", "body": "Can you give more context here? So your training went fine for the first epoch and you stop the training at the end of an epoch and it didn't stop correctly? The token is used to exit one step, not to start one. So it should be fine if the worker started after the token is out.\n\nWhen do the workers get stuck in the sync op? The only expected hang is that when some worker took the token AND died AND didn't restart AND no backups available. This can be solved by adding a timeout for the session.\n\nIt will be good to figure out the exact reason of the hang before thinking about solutions. :)\n"}