{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3446", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3446/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3446/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3446/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3446", "id": 166864185, "node_id": "MDU6SXNzdWUxNjY4NjQxODU=", "number": 3446, "title": "iOS example with Image Retraining model always gives the same prediction", "user": {"login": "Tugees", "id": 20480534, "node_id": "MDQ6VXNlcjIwNDgwNTM0", "avatar_url": "https://avatars0.githubusercontent.com/u/20480534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tugees", "html_url": "https://github.com/Tugees", "followers_url": "https://api.github.com/users/Tugees/followers", "following_url": "https://api.github.com/users/Tugees/following{/other_user}", "gists_url": "https://api.github.com/users/Tugees/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tugees/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tugees/subscriptions", "organizations_url": "https://api.github.com/users/Tugees/orgs", "repos_url": "https://api.github.com/users/Tugees/repos", "events_url": "https://api.github.com/users/Tugees/events{/privacy}", "received_events_url": "https://api.github.com/users/Tugees/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-07-21T16:36:47Z", "updated_at": "2016-09-28T19:56:56Z", "closed_at": "2016-09-28T19:56:55Z", "author_association": "NONE", "body_html": "<h2>Environment info</h2>\n<p>Running on: iOS 9.1<br>\nBuilding on OS X El Capitan version 10.11, Xcode version 7.3.1<br>\nTensorFlow release 0.9</p>\n<h2>Steps to reproduce</h2>\n<p>Follow the contrib/makefile/README to install the tensorflow iOS core lib<br>\nCreate my own model with the Image Retraining tutorial<br>\nRun the iOS example, same error as <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"160436607\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2883\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2883/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2883\">#2883</a> is logged.<br>\nAfter fixing errors as suggested same prediction is always given.<br>\nLogs or other output that would be helpful</p>\n<pre><code>2016-07-21 18:20:06.582 tf_ios_makefile_example[949:323060] Unable to simultaneously satisfy constraints.\n    Probably at least one of the constraints in the following list is one you don't want. \n    Try this: \n        (1) look at each constraint and try to figure out which you don't expect; \n        (2) find the code that added the unwanted constraint or constraints and fix it. \n(\n    \"&lt;NSLayoutConstraint:0x17594000 V:|-(20)-[UIInputSetContainerView:0x176b59d0]   (Names: '|':UITextEffectsWindow:0x17597ab0 )&gt;\",\n    \"&lt;NSLayoutConstraint:0x17593e30 'UIInputWindowController-top' V:|-(0)-[UIInputSetContainerView:0x176b59d0]   (Names: '|':UITextEffectsWindow:0x17597ab0 )&gt;\"\n)\n\nWill attempt to recover by breaking constraint \n&lt;NSLayoutConstraint:0x17594000 V:|-(20)-[UIInputSetContainerView:0x176b59d0]   (Names: '|':UITextEffectsWindow:0x17597ab0 )&gt;\n\nMake a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.\nThe methods in the UIConstraintBasedLayoutDebugging category on UIView listed in &lt;UIKit/UIView.h&gt; may also be helpful.\n2016-07-21 18:20:08.017 tf_ios_makefile_example[949:323060] 1\n2016-07-21 18:20:16.855 tf_ios_makefile_example[949:323060] Image path: /var/mobile/Containers/Data/Application/3AEB6ED8-B068-45FA-85D3-36FCFFA21DD1/Documents/photos/image.jpg\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:302] Session created.\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:305] Graph created.\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:310] Creating session.\nW tensorflow/core/framework/op_def_util.cc:332] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().\n2016-07-21 18:20:25.542 tf_ios_makefile_example[949:323060] Received memory warning.\n2016-07-21 18:20:25.653 tf_ios_makefile_example[949:323060] Received memory warning.\n2016-07-21 18:20:38.698 tf_ios_makefile_example[949:323060] Received memory warning.\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:410] Predictions: 259 4.32 n01342269  moneran, moneron\n10 3.69 n00141669   check-in\n800 3.67 n01601410  great bowerbird, Chlamydera nuchalis\n552 3.59 n01531811  redpoll, Carduelis flammea\n0 3.58 n00004475    organism, being\n</code></pre>\n<h2>Related to</h2>\n<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"160436607\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2883\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2883/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2883\">#2883</a> I encountered the same error related to DecodeJpeg and then followed the fixes suggested there, but I get the same prediction no matter what I point the camera at. Similarly if i work with the \"simple\" project and change the photo being identified I still get the same prediction that in the log output above</p>", "body_text": "Environment info\nRunning on: iOS 9.1\nBuilding on OS X El Capitan version 10.11, Xcode version 7.3.1\nTensorFlow release 0.9\nSteps to reproduce\nFollow the contrib/makefile/README to install the tensorflow iOS core lib\nCreate my own model with the Image Retraining tutorial\nRun the iOS example, same error as #2883 is logged.\nAfter fixing errors as suggested same prediction is always given.\nLogs or other output that would be helpful\n2016-07-21 18:20:06.582 tf_ios_makefile_example[949:323060] Unable to simultaneously satisfy constraints.\n    Probably at least one of the constraints in the following list is one you don't want. \n    Try this: \n        (1) look at each constraint and try to figure out which you don't expect; \n        (2) find the code that added the unwanted constraint or constraints and fix it. \n(\n    \"<NSLayoutConstraint:0x17594000 V:|-(20)-[UIInputSetContainerView:0x176b59d0]   (Names: '|':UITextEffectsWindow:0x17597ab0 )>\",\n    \"<NSLayoutConstraint:0x17593e30 'UIInputWindowController-top' V:|-(0)-[UIInputSetContainerView:0x176b59d0]   (Names: '|':UITextEffectsWindow:0x17597ab0 )>\"\n)\n\nWill attempt to recover by breaking constraint \n<NSLayoutConstraint:0x17594000 V:|-(20)-[UIInputSetContainerView:0x176b59d0]   (Names: '|':UITextEffectsWindow:0x17597ab0 )>\n\nMake a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.\nThe methods in the UIConstraintBasedLayoutDebugging category on UIView listed in <UIKit/UIView.h> may also be helpful.\n2016-07-21 18:20:08.017 tf_ios_makefile_example[949:323060] 1\n2016-07-21 18:20:16.855 tf_ios_makefile_example[949:323060] Image path: /var/mobile/Containers/Data/Application/3AEB6ED8-B068-45FA-85D3-36FCFFA21DD1/Documents/photos/image.jpg\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:302] Session created.\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:305] Graph created.\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:310] Creating session.\nW tensorflow/core/framework/op_def_util.cc:332] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().\n2016-07-21 18:20:25.542 tf_ios_makefile_example[949:323060] Received memory warning.\n2016-07-21 18:20:25.653 tf_ios_makefile_example[949:323060] Received memory warning.\n2016-07-21 18:20:38.698 tf_ios_makefile_example[949:323060] Received memory warning.\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:410] Predictions: 259 4.32 n01342269  moneran, moneron\n10 3.69 n00141669   check-in\n800 3.67 n01601410  great bowerbird, Chlamydera nuchalis\n552 3.59 n01531811  redpoll, Carduelis flammea\n0 3.58 n00004475    organism, being\n\nRelated to\n#2883 I encountered the same error related to DecodeJpeg and then followed the fixes suggested there, but I get the same prediction no matter what I point the camera at. Similarly if i work with the \"simple\" project and change the photo being identified I still get the same prediction that in the log output above", "body": "## Environment info\n\nRunning on: iOS 9.1\nBuilding on OS X El Capitan version 10.11, Xcode version 7.3.1\nTensorFlow release 0.9\n## Steps to reproduce\n\nFollow the contrib/makefile/README to install the tensorflow iOS core lib\nCreate my own model with the Image Retraining tutorial\nRun the iOS example, same error as #2883 is logged.\nAfter fixing errors as suggested same prediction is always given. \nLogs or other output that would be helpful\n\n```\n2016-07-21 18:20:06.582 tf_ios_makefile_example[949:323060] Unable to simultaneously satisfy constraints.\n    Probably at least one of the constraints in the following list is one you don't want. \n    Try this: \n        (1) look at each constraint and try to figure out which you don't expect; \n        (2) find the code that added the unwanted constraint or constraints and fix it. \n(\n    \"<NSLayoutConstraint:0x17594000 V:|-(20)-[UIInputSetContainerView:0x176b59d0]   (Names: '|':UITextEffectsWindow:0x17597ab0 )>\",\n    \"<NSLayoutConstraint:0x17593e30 'UIInputWindowController-top' V:|-(0)-[UIInputSetContainerView:0x176b59d0]   (Names: '|':UITextEffectsWindow:0x17597ab0 )>\"\n)\n\nWill attempt to recover by breaking constraint \n<NSLayoutConstraint:0x17594000 V:|-(20)-[UIInputSetContainerView:0x176b59d0]   (Names: '|':UITextEffectsWindow:0x17597ab0 )>\n\nMake a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.\nThe methods in the UIConstraintBasedLayoutDebugging category on UIView listed in <UIKit/UIView.h> may also be helpful.\n2016-07-21 18:20:08.017 tf_ios_makefile_example[949:323060] 1\n2016-07-21 18:20:16.855 tf_ios_makefile_example[949:323060] Image path: /var/mobile/Containers/Data/Application/3AEB6ED8-B068-45FA-85D3-36FCFFA21DD1/Documents/photos/image.jpg\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:302] Session created.\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:305] Graph created.\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:310] Creating session.\nW tensorflow/core/framework/op_def_util.cc:332] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().\n2016-07-21 18:20:25.542 tf_ios_makefile_example[949:323060] Received memory warning.\n2016-07-21 18:20:25.653 tf_ios_makefile_example[949:323060] Received memory warning.\n2016-07-21 18:20:38.698 tf_ios_makefile_example[949:323060] Received memory warning.\nI ../tensorflow/contrib/ios_examples/simple/RunModelViewController.mm:410] Predictions: 259 4.32 n01342269  moneran, moneron\n10 3.69 n00141669   check-in\n800 3.67 n01601410  great bowerbird, Chlamydera nuchalis\n552 3.59 n01531811  redpoll, Carduelis flammea\n0 3.58 n00004475    organism, being\n```\n## Related to\n#2883 I encountered the same error related to DecodeJpeg and then followed the fixes suggested there, but I get the same prediction no matter what I point the camera at. Similarly if i work with the \"simple\" project and change the photo being identified I still get the same prediction that in the log output above\n"}