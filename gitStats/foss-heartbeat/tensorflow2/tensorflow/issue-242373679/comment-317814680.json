{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/317814680", "html_url": "https://github.com/tensorflow/tensorflow/issues/11456#issuecomment-317814680", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11456", "id": 317814680, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzgxNDY4MA==", "user": {"login": "MtDersvan", "id": 7069222, "node_id": "MDQ6VXNlcjcwNjkyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/7069222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MtDersvan", "html_url": "https://github.com/MtDersvan", "followers_url": "https://api.github.com/users/MtDersvan/followers", "following_url": "https://api.github.com/users/MtDersvan/following{/other_user}", "gists_url": "https://api.github.com/users/MtDersvan/gists{/gist_id}", "starred_url": "https://api.github.com/users/MtDersvan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MtDersvan/subscriptions", "organizations_url": "https://api.github.com/users/MtDersvan/orgs", "repos_url": "https://api.github.com/users/MtDersvan/repos", "events_url": "https://api.github.com/users/MtDersvan/events{/privacy}", "received_events_url": "https://api.github.com/users/MtDersvan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-25T17:44:51Z", "updated_at": "2017-07-25T17:44:51Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> do you mean keeping the same <code>tf.train.ClusterSpec</code>:</p>\n<pre><code>cluster = tf.train.ClusterSpec({\"local\": [\"dockerhost:8000\", \"dockerhost:8001\"]})\n</code></pre>\n<p>, but just creating three <code>tf.Session</code> or <code>tf.train.Server</code>? With what targets?</p>\n<p>Creating the same <code>tf.train.Server(cluster, job_name=\"local\", task_index=1)</code> not surprisingly shows <code>UnknownError: Could not start gRPC server</code>, because <code>task_index</code> job is already started.</p>\n<p>Running this:</p>\n<pre><code>with tf.Session('grpc://dockerhost:8000'.encode()) as sess:\n    print(sess.run(tf.constant(0)))\n</code></pre>\n<p>multiple times with any targets (8000 or 8001) does not show any errors.</p>\n<p>If this is not what you wanted me to reproduce, please, provide a snippet to run, thanks.</p>", "body_text": "@mrry do you mean keeping the same tf.train.ClusterSpec:\ncluster = tf.train.ClusterSpec({\"local\": [\"dockerhost:8000\", \"dockerhost:8001\"]})\n\n, but just creating three tf.Session or tf.train.Server? With what targets?\nCreating the same tf.train.Server(cluster, job_name=\"local\", task_index=1) not surprisingly shows UnknownError: Could not start gRPC server, because task_index job is already started.\nRunning this:\nwith tf.Session('grpc://dockerhost:8000'.encode()) as sess:\n    print(sess.run(tf.constant(0)))\n\nmultiple times with any targets (8000 or 8001) does not show any errors.\nIf this is not what you wanted me to reproduce, please, provide a snippet to run, thanks.", "body": "@mrry do you mean keeping the same `tf.train.ClusterSpec`:\r\n```\r\ncluster = tf.train.ClusterSpec({\"local\": [\"dockerhost:8000\", \"dockerhost:8001\"]})\r\n```\r\n, but just creating three `tf.Session` or `tf.train.Server`? With what targets?\r\n\r\nCreating the same `tf.train.Server(cluster, job_name=\"local\", task_index=1)` not surprisingly shows `UnknownError: Could not start gRPC server`, because `task_index` job is already started.\r\n\r\nRunning this:\r\n```\r\nwith tf.Session('grpc://dockerhost:8000'.encode()) as sess:\r\n    print(sess.run(tf.constant(0)))\r\n```\r\nmultiple times with any targets (8000 or 8001) does not show any errors.\r\n\r\nIf this is not what you wanted me to reproduce, please, provide a snippet to run, thanks."}