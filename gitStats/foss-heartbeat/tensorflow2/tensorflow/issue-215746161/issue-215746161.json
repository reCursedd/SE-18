{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8583", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8583/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8583/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8583/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8583", "id": 215746161, "node_id": "MDU6SXNzdWUyMTU3NDYxNjE=", "number": 8583, "title": "Bernoulli's probability mass function produces output beyond its support", "user": {"login": "dustinvtran", "id": 2569867, "node_id": "MDQ6VXNlcjI1Njk4Njc=", "avatar_url": "https://avatars1.githubusercontent.com/u/2569867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dustinvtran", "html_url": "https://github.com/dustinvtran", "followers_url": "https://api.github.com/users/dustinvtran/followers", "following_url": "https://api.github.com/users/dustinvtran/following{/other_user}", "gists_url": "https://api.github.com/users/dustinvtran/gists{/gist_id}", "starred_url": "https://api.github.com/users/dustinvtran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dustinvtran/subscriptions", "organizations_url": "https://api.github.com/users/dustinvtran/orgs", "repos_url": "https://api.github.com/users/dustinvtran/repos", "events_url": "https://api.github.com/users/dustinvtran/events{/privacy}", "received_events_url": "https://api.github.com/users/dustinvtran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-21T13:51:49Z", "updated_at": "2017-04-11T01:25:03Z", "closed_at": "2017-04-11T01:25:03Z", "author_association": "MEMBER", "body_html": "<p>Bernoulli's (log) probability mass function is valid for values between 0 and 1, even though its support is only {0, 1}. This is a result of <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.0/tensorflow/contrib/distributions/python/ops/bernoulli.py#L150\">its implementation</a> relying on <code>tf.sigmoid_cross_entropy_with_logits(logits, targets)</code>, where <code>targets</code> does not have to be {0, 1}.</p>\n<p>Is this intended behavior?</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">from</span> tensorflow.contrib <span class=\"pl-k\">import</span> distributions <span class=\"pl-k\">as</span> ds\n\nx <span class=\"pl-k\">=</span> ds.Bernoulli(<span class=\"pl-v\">p</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">0.5</span>)\ny <span class=\"pl-k\">=</span> x.log_prob(<span class=\"pl-c1\">0.5</span>)\n\nsess <span class=\"pl-k\">=</span> tf.Session()\nsess.run(y)\n<span class=\"pl-c\"><span class=\"pl-c\">#</span># -0.69314718</span></pre></div>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-c1\">print</span>(tf.<span class=\"pl-c1\">__version__</span>)\n<span class=\"pl-c\"><span class=\"pl-c\">#</span># 1.0.1</span></pre></div>", "body_text": "Bernoulli's (log) probability mass function is valid for values between 0 and 1, even though its support is only {0, 1}. This is a result of its implementation relying on tf.sigmoid_cross_entropy_with_logits(logits, targets), where targets does not have to be {0, 1}.\nIs this intended behavior?\nfrom tensorflow.contrib import distributions as ds\n\nx = ds.Bernoulli(p=0.5)\ny = x.log_prob(0.5)\n\nsess = tf.Session()\nsess.run(y)\n## -0.69314718\nprint(tf.__version__)\n## 1.0.1", "body": "Bernoulli's (log) probability mass function is valid for values between 0 and 1, even though its support is only {0, 1}. This is a result of [its implementation](https://github.com/tensorflow/tensorflow/blob/r1.0/tensorflow/contrib/distributions/python/ops/bernoulli.py#L150) relying on `tf.sigmoid_cross_entropy_with_logits(logits, targets)`, where `targets` does not have to be {0, 1}.\r\n\r\nIs this intended behavior?\r\n\r\n```python\r\nfrom tensorflow.contrib import distributions as ds\r\n\r\nx = ds.Bernoulli(p=0.5)\r\ny = x.log_prob(0.5)\r\n\r\nsess = tf.Session()\r\nsess.run(y)\r\n## -0.69314718\r\n```\r\n\r\n```python\r\nprint(tf.__version__)\r\n## 1.0.1\r\n```"}