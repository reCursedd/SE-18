{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/236492068", "html_url": "https://github.com/tensorflow/tensorflow/issues/2973#issuecomment-236492068", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2973", "id": 236492068, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjQ5MjA2OA==", "user": {"login": "jaredmessenger", "id": 1002348, "node_id": "MDQ6VXNlcjEwMDIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1002348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaredmessenger", "html_url": "https://github.com/jaredmessenger", "followers_url": "https://api.github.com/users/jaredmessenger/followers", "following_url": "https://api.github.com/users/jaredmessenger/following{/other_user}", "gists_url": "https://api.github.com/users/jaredmessenger/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaredmessenger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaredmessenger/subscriptions", "organizations_url": "https://api.github.com/users/jaredmessenger/orgs", "repos_url": "https://api.github.com/users/jaredmessenger/repos", "events_url": "https://api.github.com/users/jaredmessenger/events{/privacy}", "received_events_url": "https://api.github.com/users/jaredmessenger/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-01T05:23:28Z", "updated_at": "2016-08-01T05:23:28Z", "author_association": "NONE", "body_html": "<p>I can confirm this is still an issue with <code>'0.10.0rc0'</code><br>\nI was using <code>os.path.join(os.getcwd(), \"checkpoints\")</code> in my code to save and restore, and we ran into problems. Specifically restoring the checkpoint on another machine fails because it's looking for an absolute path on my machine.</p>\n<pre><code>    checkpoint = tf.train.latest_checkpoint(checkpoint_dir)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/training/saver.py\", line 1157, in latest_checkpoint\n    if file_io.get_matching_files(ckpt.model_checkpoint_path):\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/lib/io/file_io.py\", line 52, in get_matching_files\n    return pywrap_tensorflow.GetMatchingFiles(compat.as_bytes(filename), status)\n  File \"/usr/lib/python3.4/contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/errors.py\", line 450, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.NotFoundError: /Users/Jared/Documents/MyProject/checkpoints\n</code></pre>\n<p>We tried loading a relative path, but that only worked AFTER I re-trained it with relative path.<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=577277\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/martinwicke\">@martinwicke</a>'s workaround works (train and restore with the same path)</p>", "body_text": "I can confirm this is still an issue with '0.10.0rc0'\nI was using os.path.join(os.getcwd(), \"checkpoints\") in my code to save and restore, and we ran into problems. Specifically restoring the checkpoint on another machine fails because it's looking for an absolute path on my machine.\n    checkpoint = tf.train.latest_checkpoint(checkpoint_dir)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/training/saver.py\", line 1157, in latest_checkpoint\n    if file_io.get_matching_files(ckpt.model_checkpoint_path):\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/lib/io/file_io.py\", line 52, in get_matching_files\n    return pywrap_tensorflow.GetMatchingFiles(compat.as_bytes(filename), status)\n  File \"/usr/lib/python3.4/contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/errors.py\", line 450, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.NotFoundError: /Users/Jared/Documents/MyProject/checkpoints\n\nWe tried loading a relative path, but that only worked AFTER I re-trained it with relative path.\n@martinwicke's workaround works (train and restore with the same path)", "body": "I can confirm this is still an issue with `'0.10.0rc0'`\nI was using `os.path.join(os.getcwd(), \"checkpoints\")` in my code to save and restore, and we ran into problems. Specifically restoring the checkpoint on another machine fails because it's looking for an absolute path on my machine.\n\n```\n    checkpoint = tf.train.latest_checkpoint(checkpoint_dir)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/training/saver.py\", line 1157, in latest_checkpoint\n    if file_io.get_matching_files(ckpt.model_checkpoint_path):\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/lib/io/file_io.py\", line 52, in get_matching_files\n    return pywrap_tensorflow.GetMatchingFiles(compat.as_bytes(filename), status)\n  File \"/usr/lib/python3.4/contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/errors.py\", line 450, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.NotFoundError: /Users/Jared/Documents/MyProject/checkpoints\n```\n\nWe tried loading a relative path, but that only worked AFTER I re-trained it with relative path.\n@martinwicke's workaround works (train and restore with the same path)\n"}