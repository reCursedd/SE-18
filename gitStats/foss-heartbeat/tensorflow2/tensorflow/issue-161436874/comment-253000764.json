{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/253000764", "html_url": "https://github.com/tensorflow/tensorflow/issues/2973#issuecomment-253000764", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2973", "id": 253000764, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzAwMDc2NA==", "user": {"login": "concretevitamin", "id": 592670, "node_id": "MDQ6VXNlcjU5MjY3MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/592670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/concretevitamin", "html_url": "https://github.com/concretevitamin", "followers_url": "https://api.github.com/users/concretevitamin/followers", "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}", "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}", "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions", "organizations_url": "https://api.github.com/users/concretevitamin/orgs", "repos_url": "https://api.github.com/users/concretevitamin/repos", "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}", "received_events_url": "https://api.github.com/users/concretevitamin/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-11T18:20:28Z", "updated_at": "2016-10-11T18:20:28Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Just to confirm my understanding -- the workflow of \"saving on one machine using relative path, moving the ckpt to another machine, restore there\" <strong>is</strong> supported, correct?</p>\n<p>I tried with this snippet:</p>\n<div class=\"highlight highlight-source-python\"><pre>  <span class=\"pl-k\">def</span> <span class=\"pl-en\">testSaveRelative</span>(<span class=\"pl-smi\"><span class=\"pl-smi\">self</span></span>):\n    rel_path <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ckpts/step0<span class=\"pl-pds\">\"</span></span>\n    os.mkdir(os.path.join(os.getcwd(), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ckpts<span class=\"pl-pds\">\"</span></span>))\n\n    <span class=\"pl-k\">with</span> <span class=\"pl-c1\">self</span>.test_session() <span class=\"pl-k\">as</span> sess:\n      v <span class=\"pl-k\">=</span> tf.Variable(<span class=\"pl-c1\">1.0</span>, <span class=\"pl-v\">name</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>v<span class=\"pl-pds\">\"</span></span>)\n      tf.initialize_all_variables().run()\n      saver <span class=\"pl-k\">=</span> tf.train.Saver()\n      path <span class=\"pl-k\">=</span> saver.save(sess, rel_path)\n    <span class=\"pl-c1\">self</span>.assertEqual(rel_path, path)</pre></div>\n<p>and it passed, generating this <code>checkpoint</code> file:</p>\n<pre><code>model_checkpoint_path: \"step0\"\nall_model_checkpoint_paths: \"step0\"\n</code></pre>\n<p>So this should not be marked as a \"bug\", and more like a feature request (use relative paths by default).  For this request, I am not the best person to evaluate the consequences (if any) though.</p>", "body_text": "Just to confirm my understanding -- the workflow of \"saving on one machine using relative path, moving the ckpt to another machine, restore there\" is supported, correct?\nI tried with this snippet:\n  def testSaveRelative(self):\n    rel_path = \"ckpts/step0\"\n    os.mkdir(os.path.join(os.getcwd(), \"ckpts\"))\n\n    with self.test_session() as sess:\n      v = tf.Variable(1.0, name=\"v\")\n      tf.initialize_all_variables().run()\n      saver = tf.train.Saver()\n      path = saver.save(sess, rel_path)\n    self.assertEqual(rel_path, path)\nand it passed, generating this checkpoint file:\nmodel_checkpoint_path: \"step0\"\nall_model_checkpoint_paths: \"step0\"\n\nSo this should not be marked as a \"bug\", and more like a feature request (use relative paths by default).  For this request, I am not the best person to evaluate the consequences (if any) though.", "body": "Just to confirm my understanding -- the workflow of \"saving on one machine using relative path, moving the ckpt to another machine, restore there\" **is** supported, correct?\n\nI tried with this snippet:\n\n``` python\n  def testSaveRelative(self):\n    rel_path = \"ckpts/step0\"\n    os.mkdir(os.path.join(os.getcwd(), \"ckpts\"))\n\n    with self.test_session() as sess:\n      v = tf.Variable(1.0, name=\"v\")\n      tf.initialize_all_variables().run()\n      saver = tf.train.Saver()\n      path = saver.save(sess, rel_path)\n    self.assertEqual(rel_path, path)\n```\n\nand it passed, generating this `checkpoint` file:\n\n```\nmodel_checkpoint_path: \"step0\"\nall_model_checkpoint_paths: \"step0\"\n```\n\nSo this should not be marked as a \"bug\", and more like a feature request (use relative paths by default).  For this request, I am not the best person to evaluate the consequences (if any) though.\n"}