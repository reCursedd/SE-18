{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/99159783", "pull_request_review_id": 19827306, "id": 99159783, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk5MTU5Nzgz", "diff_hunk": "@@ -77,14 +77,17 @@ void LogMessage::GenerateLogMessage() {\n \n void LogMessage::GenerateLogMessage() {\n   static EnvTime* env_time = tensorflow::EnvTime::Default();\n-  time_t now = static_cast<time_t>(env_time->NowSeconds());\n+  uint64 now_micros = env_time->NowMicros();\n+  time_t now_seconds = static_cast<time_t>(now_micros / 1000000);\n+  int32 micros_remainder = static_cast<int32>(now_micros % 1000000);\n   const size_t time_buffer_size = 30;\n   char time_buffer[time_buffer_size];\n-  strftime(time_buffer, time_buffer_size, \"%Y-%m-%d %H:%M:%S\", localtime(&now));\n+  strftime(time_buffer, time_buffer_size, \"%Y-%m-%d %H:%M:%S\",\n+\t   localtime(&now_seconds));\n \n   // TODO(jeff,sanjay): Replace this with something that logs through the env.\n-  fprintf(stderr, \"%s: %c %s:%d] %s\\n\", time_buffer, \"IWEF\"[severity_], fname_,\n-          line_, str().c_str());\n+  fprintf(stderr, \"%s.%d: %c %s:%d] %s\\n\", time_buffer, micros_remainder,", "path": "tensorflow/core/platform/default/logging.cc", "position": 17, "original_position": 17, "commit_id": "63b44ecd3a43121a46c7888fae34b2563ac41418", "original_commit_id": "63b44ecd3a43121a46c7888fae34b2563ac41418", "user": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "body": "Gah, just realized this format should be %05d or something like that. Otherwise 1s + 1 microsecond becomes 1.1s.", "created_at": "2017-02-02T16:28:06Z", "updated_at": "2017-02-02T16:28:36Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/7197#discussion_r99159783", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7197", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/99159783"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/7197#discussion_r99159783"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7197"}}, "body_html": "<p>Gah, just realized this format should be %05d or something like that. Otherwise 1s + 1 microsecond becomes 1.1s.</p>", "body_text": "Gah, just realized this format should be %05d or something like that. Otherwise 1s + 1 microsecond becomes 1.1s."}