{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14575", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14575/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14575/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14575/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14575", "id": 274081388, "node_id": "MDU6SXNzdWUyNzQwODEzODg=", "number": 14575, "title": "How to configure gpu memory fraction outside of my own code?", "user": {"login": "rayjang", "id": 9244296, "node_id": "MDQ6VXNlcjkyNDQyOTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/9244296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayjang", "html_url": "https://github.com/rayjang", "followers_url": "https://api.github.com/users/rayjang/followers", "following_url": "https://api.github.com/users/rayjang/following{/other_user}", "gists_url": "https://api.github.com/users/rayjang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayjang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayjang/subscriptions", "organizations_url": "https://api.github.com/users/rayjang/orgs", "repos_url": "https://api.github.com/users/rayjang/repos", "events_url": "https://api.github.com/users/rayjang/events{/privacy}", "received_events_url": "https://api.github.com/users/rayjang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2017-11-15T09:05:06Z", "updated_at": "2018-06-02T07:18:40Z", "closed_at": "2018-06-02T07:05:24Z", "author_association": "NONE", "body_html": "<p>My tensorflow automatically allocates all of my GPU memory.<br>\nI know the way to configure 'gpu memory fraction' in my own code like the below</p>\n<pre><code>import tensorflow as tf\ngpu_options = tf.GPUOptions(per_process_gpu_memory_fraction=0.2)\nsess = tf.Session(config=tf.ConfigProto(gpu_options=gpu_options))\n</code></pre>\n<p>I added the codes at the front of my code, so it worked well.</p>\n<p>BUT I want to use tensorflow in distributed processing (e.g. spark)<br>\nAdding the configuration code in the code is not working in the distributed processing since configuration in the code is applied to only master machine, not to other machines.</p>\n<p>SO, I try to configure gpu memory fraction of tensorflow itself.<br>\nhow can I do??</p>", "body_text": "My tensorflow automatically allocates all of my GPU memory.\nI know the way to configure 'gpu memory fraction' in my own code like the below\nimport tensorflow as tf\ngpu_options = tf.GPUOptions(per_process_gpu_memory_fraction=0.2)\nsess = tf.Session(config=tf.ConfigProto(gpu_options=gpu_options))\n\nI added the codes at the front of my code, so it worked well.\nBUT I want to use tensorflow in distributed processing (e.g. spark)\nAdding the configuration code in the code is not working in the distributed processing since configuration in the code is applied to only master machine, not to other machines.\nSO, I try to configure gpu memory fraction of tensorflow itself.\nhow can I do??", "body": "My tensorflow automatically allocates all of my GPU memory.\r\nI know the way to configure 'gpu memory fraction' in my own code like the below\r\n```\r\nimport tensorflow as tf\r\ngpu_options = tf.GPUOptions(per_process_gpu_memory_fraction=0.2)\r\nsess = tf.Session(config=tf.ConfigProto(gpu_options=gpu_options))\r\n```\r\nI added the codes at the front of my code, so it worked well.\r\n\r\nBUT I want to use tensorflow in distributed processing (e.g. spark)\r\nAdding the configuration code in the code is not working in the distributed processing since configuration in the code is applied to only master machine, not to other machines.\r\n\r\nSO, I try to configure gpu memory fraction of tensorflow itself.\r\nhow can I do??"}