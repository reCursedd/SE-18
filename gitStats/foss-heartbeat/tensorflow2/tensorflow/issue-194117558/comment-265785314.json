{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/265785314", "html_url": "https://github.com/tensorflow/tensorflow/issues/6166#issuecomment-265785314", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6166", "id": 265785314, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTc4NTMxNA==", "user": {"login": "beniroquai", "id": 4345528, "node_id": "MDQ6VXNlcjQzNDU1Mjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/4345528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beniroquai", "html_url": "https://github.com/beniroquai", "followers_url": "https://api.github.com/users/beniroquai/followers", "following_url": "https://api.github.com/users/beniroquai/following{/other_user}", "gists_url": "https://api.github.com/users/beniroquai/gists{/gist_id}", "starred_url": "https://api.github.com/users/beniroquai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beniroquai/subscriptions", "organizations_url": "https://api.github.com/users/beniroquai/orgs", "repos_url": "https://api.github.com/users/beniroquai/repos", "events_url": "https://api.github.com/users/beniroquai/events{/privacy}", "received_events_url": "https://api.github.com/users/beniroquai/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-08T16:31:27Z", "updated_at": "2016-12-08T16:47:57Z", "author_association": "NONE", "body_html": "<p>Thank you very much for your reply. I tested the code above and got the following error (Mac and Linux UBuntu 16.04 - all dependencies should have been met):</p>\n<pre><code>\n&gt; INFO: Found 1 target...\n&gt; ERROR: /home/useradmin/tensorflow/tensorflow/contrib/android/BUILD:71:1: Linking of rule '//tensorflow/contrib/android:libtensorflow_inference.so' failed: link_dynamic_library.sh failed: error executing command \n&gt;   (cd /home/useradmin/.cache/bazel/_bazel_useradmin/b73e43c9f90fc31eeb7e686c21abd9f4/execroot/tensorflow &amp;&amp; \\\n&gt;   exec env - \\\n\n[.....]\n\n\n&gt; bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/kernels/libandroid_tensorflow_kernels.lo(quantized_activation_ops.o):quantized_activation_ops.cc:function Eigen::QInt32 tensorflow::FloatToQuantized&lt;Eigen::QInt32&gt;(float, float, float): error: undefined reference to 'round'\n&gt; bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/libandroid_tensorflow_lib_lite.lo(simple_graph_execution_state.o):simple_graph_execution_state.cc:function tensorflow::SimpleGraphExecutionState::Extend(tensorflow::GraphDef const&amp;, std::unique_ptr&lt;tensorflow::SimpleGraphExecutionState, std::default_delete&lt;tensorflow::SimpleGraphExecutionState&gt; &gt;*) const: error: undefined reference to 'ceil'\n&gt; bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/libandroid_tensorflow_lib_lite.lo(unique_tensor_references.o):unique_tensor_references.cc:function tensorflow::UniqueTensorReferences::Add(tensorflow::Tensor const&amp;): error: undefined reference to 'ceil'\n&gt; bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/libandroid_tensorflow_lib_lite.lo(logging.o):logging.cc:function tensorflow::internal::LogMessage::GenerateLogMessage(): error: undefined reference to '__android_log_write'\n&gt; collect2: error: ld returned 1 exit status\n&gt; Target //tensorflow/contrib/android:libtensorflow_inference.so failed to build\n&gt; Use --verbose_failures to see the command lines of failed build steps.\n&gt; INFO: Elapsed time: 97.991s, Critical Path: 85.88s\n&gt; \n</code></pre>\n<p>This is just a tiny snipped of the whole Warning/Error dialog. The Demo-App was built sucessully it says, but</p>\n<pre><code>bazel build //tensorflow/contrib/android:libtensorflow_inference.so \\\n   --crosstool_top=//external:android/crosstool \\\n   --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\n   --cpu=armeabi-v7a\n\n</code></pre>\n<p>didn't work. I'm using TF 0.12.</p>", "body_text": "Thank you very much for your reply. I tested the code above and got the following error (Mac and Linux UBuntu 16.04 - all dependencies should have been met):\n\n> INFO: Found 1 target...\n> ERROR: /home/useradmin/tensorflow/tensorflow/contrib/android/BUILD:71:1: Linking of rule '//tensorflow/contrib/android:libtensorflow_inference.so' failed: link_dynamic_library.sh failed: error executing command \n>   (cd /home/useradmin/.cache/bazel/_bazel_useradmin/b73e43c9f90fc31eeb7e686c21abd9f4/execroot/tensorflow && \\\n>   exec env - \\\n\n[.....]\n\n\n> bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/kernels/libandroid_tensorflow_kernels.lo(quantized_activation_ops.o):quantized_activation_ops.cc:function Eigen::QInt32 tensorflow::FloatToQuantized<Eigen::QInt32>(float, float, float): error: undefined reference to 'round'\n> bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/libandroid_tensorflow_lib_lite.lo(simple_graph_execution_state.o):simple_graph_execution_state.cc:function tensorflow::SimpleGraphExecutionState::Extend(tensorflow::GraphDef const&, std::unique_ptr<tensorflow::SimpleGraphExecutionState, std::default_delete<tensorflow::SimpleGraphExecutionState> >*) const: error: undefined reference to 'ceil'\n> bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/libandroid_tensorflow_lib_lite.lo(unique_tensor_references.o):unique_tensor_references.cc:function tensorflow::UniqueTensorReferences::Add(tensorflow::Tensor const&): error: undefined reference to 'ceil'\n> bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/libandroid_tensorflow_lib_lite.lo(logging.o):logging.cc:function tensorflow::internal::LogMessage::GenerateLogMessage(): error: undefined reference to '__android_log_write'\n> collect2: error: ld returned 1 exit status\n> Target //tensorflow/contrib/android:libtensorflow_inference.so failed to build\n> Use --verbose_failures to see the command lines of failed build steps.\n> INFO: Elapsed time: 97.991s, Critical Path: 85.88s\n> \n\nThis is just a tiny snipped of the whole Warning/Error dialog. The Demo-App was built sucessully it says, but\nbazel build //tensorflow/contrib/android:libtensorflow_inference.so \\\n   --crosstool_top=//external:android/crosstool \\\n   --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\n   --cpu=armeabi-v7a\n\n\ndidn't work. I'm using TF 0.12.", "body": "Thank you very much for your reply. I tested the code above and got the following error (Mac and Linux UBuntu 16.04 - all dependencies should have been met):\r\n\r\n```\r\n\r\n> INFO: Found 1 target...\r\n> ERROR: /home/useradmin/tensorflow/tensorflow/contrib/android/BUILD:71:1: Linking of rule '//tensorflow/contrib/android:libtensorflow_inference.so' failed: link_dynamic_library.sh failed: error executing command \r\n>   (cd /home/useradmin/.cache/bazel/_bazel_useradmin/b73e43c9f90fc31eeb7e686c21abd9f4/execroot/tensorflow && \\\r\n>   exec env - \\\r\n\r\n[.....]\r\n\r\n\r\n> bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/kernels/libandroid_tensorflow_kernels.lo(quantized_activation_ops.o):quantized_activation_ops.cc:function Eigen::QInt32 tensorflow::FloatToQuantized<Eigen::QInt32>(float, float, float): error: undefined reference to 'round'\r\n> bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/libandroid_tensorflow_lib_lite.lo(simple_graph_execution_state.o):simple_graph_execution_state.cc:function tensorflow::SimpleGraphExecutionState::Extend(tensorflow::GraphDef const&, std::unique_ptr<tensorflow::SimpleGraphExecutionState, std::default_delete<tensorflow::SimpleGraphExecutionState> >*) const: error: undefined reference to 'ceil'\r\n> bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/libandroid_tensorflow_lib_lite.lo(unique_tensor_references.o):unique_tensor_references.cc:function tensorflow::UniqueTensorReferences::Add(tensorflow::Tensor const&): error: undefined reference to 'ceil'\r\n> bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-fastbuild/bin/tensorflow/core/libandroid_tensorflow_lib_lite.lo(logging.o):logging.cc:function tensorflow::internal::LogMessage::GenerateLogMessage(): error: undefined reference to '__android_log_write'\r\n> collect2: error: ld returned 1 exit status\r\n> Target //tensorflow/contrib/android:libtensorflow_inference.so failed to build\r\n> Use --verbose_failures to see the command lines of failed build steps.\r\n> INFO: Elapsed time: 97.991s, Critical Path: 85.88s\r\n> \r\n```\r\nThis is just a tiny snipped of the whole Warning/Error dialog. The Demo-App was built sucessully it says, but \r\n\r\n```\r\nbazel build //tensorflow/contrib/android:libtensorflow_inference.so \\\r\n   --crosstool_top=//external:android/crosstool \\\r\n   --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\r\n   --cpu=armeabi-v7a\r\n\r\n```\r\ndidn't work. I'm using TF 0.12."}