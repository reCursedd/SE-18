{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13092", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13092/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13092/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13092/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13092", "id": 258280174, "node_id": "MDU6SXNzdWUyNTgyODAxNzQ=", "number": 13092, "title": "Errror in creatinig training and inference logits", "user": {"login": "shreyneil", "id": 20383947, "node_id": "MDQ6VXNlcjIwMzgzOTQ3", "avatar_url": "https://avatars2.githubusercontent.com/u/20383947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shreyneil", "html_url": "https://github.com/shreyneil", "followers_url": "https://api.github.com/users/shreyneil/followers", "following_url": "https://api.github.com/users/shreyneil/following{/other_user}", "gists_url": "https://api.github.com/users/shreyneil/gists{/gist_id}", "starred_url": "https://api.github.com/users/shreyneil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shreyneil/subscriptions", "organizations_url": "https://api.github.com/users/shreyneil/orgs", "repos_url": "https://api.github.com/users/shreyneil/repos", "events_url": "https://api.github.com/users/shreyneil/events{/privacy}", "received_events_url": "https://api.github.com/users/shreyneil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-17T05:06:55Z", "updated_at": "2017-09-20T22:06:26Z", "closed_at": "2017-09-20T22:06:25Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I am using ubuntu 16.04<br>\nversion of tensorflow is 1.3.0<br>\ninstalled and validated using anaconda<br>\nWhile trying to create training and inference logits of input[32] of the following python notebook<br>\n<a href=\"https://github.com/Currie32/Chatbot-from-Movie-Dialogue/blob/master/Chatbot_Attention.ipynb\">https://github.com/Currie32/Chatbot-from-Movie-Dialogue/blob/master/Chatbot_Attention.ipynb</a></p>\n<p>I was getting errors while executing the following command:</p>\n<p>train_logits, inference_logits = seq2seq_model( tf.reverse(input_data, [-1]), targets, keep_prob, batch_size, sequence_length, len(answers_vocab_to_int), len(questions_vocab_to_int), encoding_embedding_size, decoding_embedding_size, rnn_size, num_layers, questions_vocab_to_int)</p>\n<p>Stack trace:<br>\nTraceback (most recent call last):<br>\nFile \"\", line 4, in <br>\nFile \"\", line 6, in seq2seq_model<br>\nFile \"\", line 10, in encoding_layer<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 405, in bidirectional_dynamic_rnn<br>\ntime_major=time_major, scope=fw_scope)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 598, in dynamic_rnn<br>\ndtype=dtype)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 761, in _dynamic_rnn_loop<br>\nswap_memory=swap_memory)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 2775, in while_loop<br>\nresult = context.BuildLoop(cond, body, loop_vars, shape_invariants)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 2604, in BuildLoop<br>\npred, body, original_loop_vars, loop_vars, shape_invariants)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 2554, in _BuildLoop<br>\nbody_result = body(*packed_vars_for_body)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 744, in _time_step<br>\nskip_conditionals=True)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 236, in _rnn_step<br>\nnew_output, new_state = call_cell()<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 732, in <br>\ncall_cell = lambda: cell(input_t, state)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 180, in <strong>call</strong><br>\nreturn super(RNNCell, self).<strong>call</strong>(inputs, state)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/layers/base.py\", line 450, in <strong>call</strong><br>\noutputs = self.call(inputs, *args, **kwargs)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 938, in call<br>\ncur_inp, new_state = cell(cur_inp, cur_state)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 774, in <strong>call</strong><br>\noutput, new_state = self._cell(inputs, state, scope)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 180, in <strong>call</strong><br>\nreturn super(RNNCell, self).<strong>call</strong>(inputs, state)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/layers/base.py\", line 450, in <strong>call</strong><br>\noutputs = self.call(inputs, *args, **kwargs)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 401, in call<br>\nconcat = _linear([inputs, h], 4 * self._num_units, True)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 1039, in _linear<br>\ninitializer=kernel_initializer)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 1065, in get_variable<br>\nuse_resource=use_resource, custom_getter=custom_getter)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 962, in get_variable<br>\nuse_resource=use_resource, custom_getter=custom_getter)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 360, in get_variable<br>\nvalidate_shape=validate_shape, use_resource=use_resource)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 1405, in wrapped_custom_getter<br>\n*args, **kwargs)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 183, in _rnn_get_variable<br>\nvariable = getter(*args, **kwargs)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 183, in _rnn_get_variable<br>\nvariable = getter(*args, **kwargs)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 352, in _true_getter<br>\nuse_resource=use_resource)<br>\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 664, in _get_single_variable<br>\nname, \"\".join(traceback.format_list(tb))))<br>\nValueError: Variable bidirectional_rnn/fw/multi_rnn_cell/cell_0/basic_lstm_cell/kernel already exists, disallowed. Did you mean to set reuse=True in VarScope? Originally defined at:</p>\n<p>File \"\", line 10, in encoding_layer<br>\nFile \"\", line 6, in seq2seq_model<br>\nFile \"\", line 2, in </p>", "body_text": "I am using ubuntu 16.04\nversion of tensorflow is 1.3.0\ninstalled and validated using anaconda\nWhile trying to create training and inference logits of input[32] of the following python notebook\nhttps://github.com/Currie32/Chatbot-from-Movie-Dialogue/blob/master/Chatbot_Attention.ipynb\nI was getting errors while executing the following command:\ntrain_logits, inference_logits = seq2seq_model( tf.reverse(input_data, [-1]), targets, keep_prob, batch_size, sequence_length, len(answers_vocab_to_int), len(questions_vocab_to_int), encoding_embedding_size, decoding_embedding_size, rnn_size, num_layers, questions_vocab_to_int)\nStack trace:\nTraceback (most recent call last):\nFile \"\", line 4, in \nFile \"\", line 6, in seq2seq_model\nFile \"\", line 10, in encoding_layer\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 405, in bidirectional_dynamic_rnn\ntime_major=time_major, scope=fw_scope)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 598, in dynamic_rnn\ndtype=dtype)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 761, in _dynamic_rnn_loop\nswap_memory=swap_memory)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 2775, in while_loop\nresult = context.BuildLoop(cond, body, loop_vars, shape_invariants)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 2604, in BuildLoop\npred, body, original_loop_vars, loop_vars, shape_invariants)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 2554, in _BuildLoop\nbody_result = body(*packed_vars_for_body)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 744, in _time_step\nskip_conditionals=True)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 236, in _rnn_step\nnew_output, new_state = call_cell()\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 732, in \ncall_cell = lambda: cell(input_t, state)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 180, in call\nreturn super(RNNCell, self).call(inputs, state)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/layers/base.py\", line 450, in call\noutputs = self.call(inputs, *args, **kwargs)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 938, in call\ncur_inp, new_state = cell(cur_inp, cur_state)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 774, in call\noutput, new_state = self._cell(inputs, state, scope)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 180, in call\nreturn super(RNNCell, self).call(inputs, state)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/layers/base.py\", line 450, in call\noutputs = self.call(inputs, *args, **kwargs)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 401, in call\nconcat = _linear([inputs, h], 4 * self._num_units, True)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 1039, in _linear\ninitializer=kernel_initializer)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 1065, in get_variable\nuse_resource=use_resource, custom_getter=custom_getter)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 962, in get_variable\nuse_resource=use_resource, custom_getter=custom_getter)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 360, in get_variable\nvalidate_shape=validate_shape, use_resource=use_resource)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 1405, in wrapped_custom_getter\n*args, **kwargs)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 183, in _rnn_get_variable\nvariable = getter(*args, **kwargs)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 183, in _rnn_get_variable\nvariable = getter(*args, **kwargs)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 352, in _true_getter\nuse_resource=use_resource)\nFile \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 664, in _get_single_variable\nname, \"\".join(traceback.format_list(tb))))\nValueError: Variable bidirectional_rnn/fw/multi_rnn_cell/cell_0/basic_lstm_cell/kernel already exists, disallowed. Did you mean to set reuse=True in VarScope? Originally defined at:\nFile \"\", line 10, in encoding_layer\nFile \"\", line 6, in seq2seq_model\nFile \"\", line 2, in", "body": "I am using ubuntu 16.04\r\nversion of tensorflow is 1.3.0\r\ninstalled and validated using anaconda\r\nWhile trying to create training and inference logits of input[32] of the following python notebook\r\nhttps://github.com/Currie32/Chatbot-from-Movie-Dialogue/blob/master/Chatbot_Attention.ipynb\r\n\r\nI was getting errors while executing the following command:\r\n\r\ntrain_logits, inference_logits = seq2seq_model( tf.reverse(input_data, [-1]), targets, keep_prob, batch_size, sequence_length, len(answers_vocab_to_int), len(questions_vocab_to_int), encoding_embedding_size, decoding_embedding_size, rnn_size, num_layers, questions_vocab_to_int)\r\n\r\nStack trace:\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 4, in <module>\r\n  File \"<stdin>\", line 6, in seq2seq_model\r\n  File \"<stdin>\", line 10, in encoding_layer\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 405, in bidirectional_dynamic_rnn\r\n    time_major=time_major, scope=fw_scope)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 598, in dynamic_rnn\r\n    dtype=dtype)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 761, in _dynamic_rnn_loop\r\n    swap_memory=swap_memory)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 2775, in while_loop\r\n    result = context.BuildLoop(cond, body, loop_vars, shape_invariants)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 2604, in BuildLoop\r\n    pred, body, original_loop_vars, loop_vars, shape_invariants)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 2554, in _BuildLoop\r\n    body_result = body(*packed_vars_for_body)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 744, in _time_step\r\n    skip_conditionals=True)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 236, in _rnn_step\r\n    new_output, new_state = call_cell()\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn.py\", line 732, in <lambda>\r\n    call_cell = lambda: cell(input_t, state)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 180, in __call__\r\n    return super(RNNCell, self).__call__(inputs, state)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/layers/base.py\", line 450, in __call__\r\n    outputs = self.call(inputs, *args, **kwargs)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 938, in call\r\n    cur_inp, new_state = cell(cur_inp, cur_state)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 774, in __call__\r\n    output, new_state = self._cell(inputs, state, scope)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 180, in __call__\r\n    return super(RNNCell, self).__call__(inputs, state)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/layers/base.py\", line 450, in __call__\r\n    outputs = self.call(inputs, *args, **kwargs)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 401, in call\r\n    concat = _linear([inputs, h], 4 * self._num_units, True)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 1039, in _linear\r\n    initializer=kernel_initializer)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 1065, in get_variable\r\n    use_resource=use_resource, custom_getter=custom_getter)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 962, in get_variable\r\n    use_resource=use_resource, custom_getter=custom_getter)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 360, in get_variable\r\n    validate_shape=validate_shape, use_resource=use_resource)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 1405, in wrapped_custom_getter\r\n    *args, **kwargs)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 183, in _rnn_get_variable\r\n    variable = getter(*args, **kwargs)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell_impl.py\", line 183, in _rnn_get_variable\r\n    variable = getter(*args, **kwargs)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 352, in _true_getter\r\n    use_resource=use_resource)\r\n  File \"/home/shreyash/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 664, in _get_single_variable\r\n    name, \"\".join(traceback.format_list(tb))))\r\nValueError: Variable bidirectional_rnn/fw/multi_rnn_cell/cell_0/basic_lstm_cell/kernel already exists, disallowed. Did you mean to set reuse=True in VarScope? Originally defined at:\r\n\r\n  File \"<stdin>\", line 10, in encoding_layer\r\n  File \"<stdin>\", line 6, in seq2seq_model\r\n  File \"<stdin>\", line 2, in <module>\r\n"}