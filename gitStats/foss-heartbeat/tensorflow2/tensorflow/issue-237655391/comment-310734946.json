{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/310734946", "html_url": "https://github.com/tensorflow/tensorflow/issues/10963#issuecomment-310734946", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10963", "id": 310734946, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDczNDk0Ng==", "user": {"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-23T18:07:41Z", "updated_at": "2017-06-23T18:07:41Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3526172\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/melvinma\">@melvinma</a> Thanks for the very clear issue including all necessary info!</p>\n<p>I believe this is working-as-intended.  Note that when you call <code>TensorArray.stack</code>, more than one operation gets added to the graph.  Thus the <code>name=stackme</code> you're passing in is used both as a name scope for all of the operations, as well as the name of the last operation.</p>\n<p>The behavior may be more clear if you try removing the name:</p>\n<pre><code>imemory = tf.TensorArray(tf.float32, size=0, dynamic_size=True, name=\"memory\")\nresult = imemory.stack()\nprint(result)\n\n&lt;output&gt; Tensor(\"TensorArrayStack/TensorArrayGatherV3:0\", dtype=float32)\n</code></pre>\n<p>Here the first component <code>TensorArrayStack</code> is the name scope for all operations, and the second component <code>TensorArrayGatherV3</code> is the name of the last operation.</p>", "body_text": "@melvinma Thanks for the very clear issue including all necessary info!\nI believe this is working-as-intended.  Note that when you call TensorArray.stack, more than one operation gets added to the graph.  Thus the name=stackme you're passing in is used both as a name scope for all of the operations, as well as the name of the last operation.\nThe behavior may be more clear if you try removing the name:\nimemory = tf.TensorArray(tf.float32, size=0, dynamic_size=True, name=\"memory\")\nresult = imemory.stack()\nprint(result)\n\n<output> Tensor(\"TensorArrayStack/TensorArrayGatherV3:0\", dtype=float32)\n\nHere the first component TensorArrayStack is the name scope for all operations, and the second component TensorArrayGatherV3 is the name of the last operation.", "body": "@melvinma Thanks for the very clear issue including all necessary info!\r\n\r\nI believe this is working-as-intended.  Note that when you call `TensorArray.stack`, more than one operation gets added to the graph.  Thus the `name=stackme` you're passing in is used both as a name scope for all of the operations, as well as the name of the last operation.\r\n\r\nThe behavior may be more clear if you try removing the name:\r\n```\r\nimemory = tf.TensorArray(tf.float32, size=0, dynamic_size=True, name=\"memory\")\r\nresult = imemory.stack()\r\nprint(result)\r\n\r\n<output> Tensor(\"TensorArrayStack/TensorArrayGatherV3:0\", dtype=float32)\r\n```\r\n\r\nHere the first component `TensorArrayStack` is the name scope for all operations, and the second component `TensorArrayGatherV3` is the name of the last operation."}