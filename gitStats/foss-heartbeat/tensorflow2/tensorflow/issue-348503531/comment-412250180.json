{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/412250180", "html_url": "https://github.com/tensorflow/tensorflow/issues/21459#issuecomment-412250180", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21459", "id": 412250180, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjI1MDE4MA==", "user": {"login": "jackd", "id": 659115, "node_id": "MDQ6VXNlcjY1OTExNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/659115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackd", "html_url": "https://github.com/jackd", "followers_url": "https://api.github.com/users/jackd/followers", "following_url": "https://api.github.com/users/jackd/following{/other_user}", "gists_url": "https://api.github.com/users/jackd/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackd/subscriptions", "organizations_url": "https://api.github.com/users/jackd/orgs", "repos_url": "https://api.github.com/users/jackd/repos", "events_url": "https://api.github.com/users/jackd/events{/privacy}", "received_events_url": "https://api.github.com/users/jackd/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-11T04:35:18Z", "updated_at": "2018-08-11T04:35:18Z", "author_association": "NONE", "body_html": "<p>What do you results look like if you infer using <code>is_training=True</code>? Obviously that's not what you -want- to do, but I've found I have similar issues with transfering <code>slim</code> model weights to different applications that are resolved by inferring in training mode, which would indicate the problem is likely related to <code>slim</code>'s batch normalization - either not saving moving averages, or not loading them correctly.</p>\n<p>I haven't got to the bottom of the issue yet, but I can't make a minimal working example which exhibits similar behaviour either... but it sounds like I might not be the only one with such issues.</p>", "body_text": "What do you results look like if you infer using is_training=True? Obviously that's not what you -want- to do, but I've found I have similar issues with transfering slim model weights to different applications that are resolved by inferring in training mode, which would indicate the problem is likely related to slim's batch normalization - either not saving moving averages, or not loading them correctly.\nI haven't got to the bottom of the issue yet, but I can't make a minimal working example which exhibits similar behaviour either... but it sounds like I might not be the only one with such issues.", "body": "What do you results look like if you infer using `is_training=True`? Obviously that's not what you -want- to do, but I've found I have similar issues with transfering `slim` model weights to different applications that are resolved by inferring in training mode, which would indicate the problem is likely related to `slim`'s batch normalization - either not saving moving averages, or not loading them correctly.\r\n\r\nI haven't got to the bottom of the issue yet, but I can't make a minimal working example which exhibits similar behaviour either... but it sounds like I might not be the only one with such issues."}