{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21805", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21805/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21805/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21805/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21805", "id": 353000007, "node_id": "MDU6SXNzdWUzNTMwMDAwMDc=", "number": 21805, "title": "Unable to convert frozen graph model to required fromat", "user": {"login": "crimsontrigger", "id": 38962342, "node_id": "MDQ6VXNlcjM4OTYyMzQy", "avatar_url": "https://avatars3.githubusercontent.com/u/38962342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crimsontrigger", "html_url": "https://github.com/crimsontrigger", "followers_url": "https://api.github.com/users/crimsontrigger/followers", "following_url": "https://api.github.com/users/crimsontrigger/following{/other_user}", "gists_url": "https://api.github.com/users/crimsontrigger/gists{/gist_id}", "starred_url": "https://api.github.com/users/crimsontrigger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crimsontrigger/subscriptions", "organizations_url": "https://api.github.com/users/crimsontrigger/orgs", "repos_url": "https://api.github.com/users/crimsontrigger/repos", "events_url": "https://api.github.com/users/crimsontrigger/events{/privacy}", "received_events_url": "https://api.github.com/users/crimsontrigger/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-08-22T15:12:46Z", "updated_at": "2018-09-12T17:27:43Z", "closed_at": "2018-09-12T17:27:43Z", "author_association": "NONE", "body_html": "<p>I am working on the AIY vision kit and trying to implement object detection in a video stream. I have tried following the method posted on the AIY website(<a href=\"https://aiyprojects.withgoogle.com/\" rel=\"nofollow\">https://aiyprojects.withgoogle.com/</a>) but seem to be facing a problem when I try to convert the model using the bonnet model compiler. This is a brief summary of the steps I followed:</p>\n<pre><code>1.create annotations for each image in the training set in xml format(256x256).\n2.convert all the images to 256x256.\n3.create the tf records.\n4.downloaded the base model of ssd_mobilnet_v1_coco.config and made the required changes.(set \n   num classes = 2, and path to train and val tf records).\n5.trained the model\n6.exported the frozen graph to binaryproto format. These 5 steps are can be seen by following this \n   link,the same images were used but resized.(https://medium.freecodecamp.org/trackin ... \n   c86419225e) all the functions such as create tf record and other related functions can be found in \n   this git repo https://github.com/bourdakos1/Custom-Object-Detection\n</code></pre>\n<p>After I export the model, I get the following error while using the bonnet model compiler:</p>\n<p>2018-08-14 10:39:19.285588: I external/org_tensorflow/tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 556 operators, 893 arrays (0 quantized)</p>\n<p>2018-08-14 10:39:19.302398: I external/org_tensorflow/tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 556 operators, 893 arrays (0 quantized)</p>\n<p>2018-08-14 10:39:19.324886: F external/org_tensorflow/tensorflow/contrib/lite/toco/tooling_util.cc:628] Check failed: dim &gt;= 1 (0 vs. 1)</p>\n<p>I have also attached th3 frozen graph below<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/2310933/frozen_inference_graph.zip\">frozen_inference_graph.zip</a></p>", "body_text": "I am working on the AIY vision kit and trying to implement object detection in a video stream. I have tried following the method posted on the AIY website(https://aiyprojects.withgoogle.com/) but seem to be facing a problem when I try to convert the model using the bonnet model compiler. This is a brief summary of the steps I followed:\n1.create annotations for each image in the training set in xml format(256x256).\n2.convert all the images to 256x256.\n3.create the tf records.\n4.downloaded the base model of ssd_mobilnet_v1_coco.config and made the required changes.(set \n   num classes = 2, and path to train and val tf records).\n5.trained the model\n6.exported the frozen graph to binaryproto format. These 5 steps are can be seen by following this \n   link,the same images were used but resized.(https://medium.freecodecamp.org/trackin ... \n   c86419225e) all the functions such as create tf record and other related functions can be found in \n   this git repo https://github.com/bourdakos1/Custom-Object-Detection\n\nAfter I export the model, I get the following error while using the bonnet model compiler:\n2018-08-14 10:39:19.285588: I external/org_tensorflow/tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 556 operators, 893 arrays (0 quantized)\n2018-08-14 10:39:19.302398: I external/org_tensorflow/tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 556 operators, 893 arrays (0 quantized)\n2018-08-14 10:39:19.324886: F external/org_tensorflow/tensorflow/contrib/lite/toco/tooling_util.cc:628] Check failed: dim >= 1 (0 vs. 1)\nI have also attached th3 frozen graph below\nfrozen_inference_graph.zip", "body": "I am working on the AIY vision kit and trying to implement object detection in a video stream. I have tried following the method posted on the AIY website(https://aiyprojects.withgoogle.com/) but seem to be facing a problem when I try to convert the model using the bonnet model compiler. This is a brief summary of the steps I followed:\r\n\r\n    1.create annotations for each image in the training set in xml format(256x256).\r\n    2.convert all the images to 256x256.\r\n    3.create the tf records.\r\n    4.downloaded the base model of ssd_mobilnet_v1_coco.config and made the required changes.(set \r\n       num classes = 2, and path to train and val tf records).\r\n    5.trained the model\r\n    6.exported the frozen graph to binaryproto format. These 5 steps are can be seen by following this \r\n       link,the same images were used but resized.(https://medium.freecodecamp.org/trackin ... \r\n       c86419225e) all the functions such as create tf record and other related functions can be found in \r\n       this git repo https://github.com/bourdakos1/Custom-Object-Detection\r\nAfter I export the model, I get the following error while using the bonnet model compiler:\r\n\r\n2018-08-14 10:39:19.285588: I external/org_tensorflow/tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 556 operators, 893 arrays (0 quantized)\r\n\r\n2018-08-14 10:39:19.302398: I external/org_tensorflow/tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 556 operators, 893 arrays (0 quantized)\r\n\r\n2018-08-14 10:39:19.324886: F external/org_tensorflow/tensorflow/contrib/lite/toco/tooling_util.cc:628] Check failed: dim >= 1 (0 vs. 1)\r\n\r\nI have also attached th3 frozen graph below\r\n[frozen_inference_graph.zip](https://github.com/tensorflow/tensorflow/files/2310933/frozen_inference_graph.zip)\r\n"}