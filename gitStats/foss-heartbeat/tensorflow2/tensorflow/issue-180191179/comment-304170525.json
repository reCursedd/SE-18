{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/304170525", "html_url": "https://github.com/tensorflow/tensorflow/issues/4663#issuecomment-304170525", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4663", "id": 304170525, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDE3MDUyNQ==", "user": {"login": "yuh8", "id": 28882068, "node_id": "MDQ6VXNlcjI4ODgyMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/28882068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuh8", "html_url": "https://github.com/yuh8", "followers_url": "https://api.github.com/users/yuh8/followers", "following_url": "https://api.github.com/users/yuh8/following{/other_user}", "gists_url": "https://api.github.com/users/yuh8/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuh8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuh8/subscriptions", "organizations_url": "https://api.github.com/users/yuh8/orgs", "repos_url": "https://api.github.com/users/yuh8/repos", "events_url": "https://api.github.com/users/yuh8/events{/privacy}", "received_events_url": "https://api.github.com/users/yuh8/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-26T01:57:12Z", "updated_at": "2017-05-26T01:57:12Z", "author_association": "NONE", "body_html": "<p>Don't think this is a bug. tf.identity simply copied the shape and content of x, WHERE x IS UPDATED EVERYTIME BY tf.assign(x,x+1) though you have defined a new tensor new_val.</p>\n<p>the definition of tf.assign is<br>\n\"assign(<br>\nref,<br>\nvalue,<br>\nvalidate_shape=None,<br>\nuse_locking=None,<br>\nname=None<br>\n)<br>\nUpdate 'ref' by assigning 'value' to it.</p>\n<p>This operation outputs \"ref\" after the assignment is done. This makes it easier to chain operations that need to use the reset value.\"</p>\n<p>So x is constantly being updated and copied to new_val</p>", "body_text": "Don't think this is a bug. tf.identity simply copied the shape and content of x, WHERE x IS UPDATED EVERYTIME BY tf.assign(x,x+1) though you have defined a new tensor new_val.\nthe definition of tf.assign is\n\"assign(\nref,\nvalue,\nvalidate_shape=None,\nuse_locking=None,\nname=None\n)\nUpdate 'ref' by assigning 'value' to it.\nThis operation outputs \"ref\" after the assignment is done. This makes it easier to chain operations that need to use the reset value.\"\nSo x is constantly being updated and copied to new_val", "body": "Don't think this is a bug. tf.identity simply copied the shape and content of x, WHERE x IS UPDATED EVERYTIME BY tf.assign(x,x+1) though you have defined a new tensor new_val.\r\n\r\nthe definition of tf.assign is \r\n\"assign(\r\n    ref,\r\n    value,\r\n    validate_shape=None,\r\n    use_locking=None,\r\n    name=None\r\n)\r\nUpdate 'ref' by assigning 'value' to it.\r\n\r\nThis operation outputs \"ref\" after the assignment is done. This makes it easier to chain operations that need to use the reset value.\"\r\n\r\nSo x is constantly being updated and copied to new_val\r\n\r\n"}