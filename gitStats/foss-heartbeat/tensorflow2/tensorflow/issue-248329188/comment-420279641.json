{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/420279641", "html_url": "https://github.com/tensorflow/tensorflow/issues/12071#issuecomment-420279641", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12071", "id": 420279641, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDI3OTY0MQ==", "user": {"login": "gokul-uf", "id": 5398125, "node_id": "MDQ6VXNlcjUzOTgxMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5398125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gokul-uf", "html_url": "https://github.com/gokul-uf", "followers_url": "https://api.github.com/users/gokul-uf/followers", "following_url": "https://api.github.com/users/gokul-uf/following{/other_user}", "gists_url": "https://api.github.com/users/gokul-uf/gists{/gist_id}", "starred_url": "https://api.github.com/users/gokul-uf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gokul-uf/subscriptions", "organizations_url": "https://api.github.com/users/gokul-uf/orgs", "repos_url": "https://api.github.com/users/gokul-uf/repos", "events_url": "https://api.github.com/users/gokul-uf/events{/privacy}", "received_events_url": "https://api.github.com/users/gokul-uf/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-11T13:44:28Z", "updated_at": "2018-09-11T13:44:28Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a> Thanks for the snippet!. Unfortunately, with eager execution enabled,<br>\nI get the following error<br>\n<code>AttributeError: Tensor.op is meaningless when eager execution is enabled.</code></p>\n<p>The following works with eager execution enabled</p>\n<pre><code>@tf.custom_gradient\n  def norm(x, axis=None, keep_dims=False):\n      y = tf.norm(x, axis=axis, keep_dims=keep_dims)\n  \n      def grad(dy):\n          return dy * (x / (y + 1e-19))\n  \n      return y, grad\n\n</code></pre>", "body_text": "@yaroslavvb Thanks for the snippet!. Unfortunately, with eager execution enabled,\nI get the following error\nAttributeError: Tensor.op is meaningless when eager execution is enabled.\nThe following works with eager execution enabled\n@tf.custom_gradient\n  def norm(x, axis=None, keep_dims=False):\n      y = tf.norm(x, axis=axis, keep_dims=keep_dims)\n  \n      def grad(dy):\n          return dy * (x / (y + 1e-19))\n  \n      return y, grad", "body": "@yaroslavvb Thanks for the snippet!. Unfortunately, with eager execution enabled,\r\nI get the following error\r\n`AttributeError: Tensor.op is meaningless when eager execution is enabled.`\r\n\r\nThe following works with eager execution enabled\r\n\r\n```\r\n@tf.custom_gradient\r\n  def norm(x, axis=None, keep_dims=False):\r\n      y = tf.norm(x, axis=axis, keep_dims=keep_dims)\r\n  \r\n      def grad(dy):\r\n          return dy * (x / (y + 1e-19))\r\n  \r\n      return y, grad\r\n\r\n```"}