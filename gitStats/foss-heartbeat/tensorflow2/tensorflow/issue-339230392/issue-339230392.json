{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20625", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20625/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20625/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20625/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20625", "id": 339230392, "node_id": "MDU6SXNzdWUzMzkyMzAzOTI=", "number": 20625, "title": "How do I represent a TShape in the TF_Output object ?", "user": {"login": "axmand", "id": 5127112, "node_id": "MDQ6VXNlcjUxMjcxMTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5127112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/axmand", "html_url": "https://github.com/axmand", "followers_url": "https://api.github.com/users/axmand/followers", "following_url": "https://api.github.com/users/axmand/following{/other_user}", "gists_url": "https://api.github.com/users/axmand/gists{/gist_id}", "starred_url": "https://api.github.com/users/axmand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/axmand/subscriptions", "organizations_url": "https://api.github.com/users/axmand/orgs", "repos_url": "https://api.github.com/users/axmand/repos", "events_url": "https://api.github.com/users/axmand/events{/privacy}", "received_events_url": "https://api.github.com/users/axmand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-07-08T14:30:41Z", "updated_at": "2018-08-08T15:48:07Z", "closed_at": "2018-08-08T15:48:07Z", "author_association": "NONE", "body_html": "<p>In tesnorflow/core array_op.cc file,the Reshape defined as follows <a href=\"https://github.com/tensorflow/tensorflow/blob/35287be3bb7daa0448af064f5d005a25201d6853/tensorflow/core/ops/array_ops.cc#L1274\">Source Code</a></p>\n<div class=\"highlight highlight-source-c\"><pre><span class=\"pl-en\">REGISTER_OP</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Reshape<span class=\"pl-pds\">\"</span></span>)\n    .Input(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tensor: T<span class=\"pl-pds\">\"</span></span>)\n    .Input(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>shape: Tshape<span class=\"pl-pds\">\"</span></span>)\n    .Output(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>output: T<span class=\"pl-pds\">\"</span></span>)\n    .Attr(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>T: type<span class=\"pl-pds\">\"</span></span>)\n    .Attr(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Tshape: {int32, int64} = DT_INT32<span class=\"pl-pds\">\"</span></span>)\n    .SetShapeFn([](InferenceContext* c) {\n      <span class=\"pl-k\">return</span> <span class=\"pl-c1\">SetOutputShapeForReshape</span>(c);\n    });</pre></div>\n<p>in tensorflow/c_api.cc file,the TF_AddInput and TF_Output define as follows</p>\n<div class=\"highlight highlight-source-c\"><pre><span class=\"pl-k\">void</span> <span class=\"pl-en\">TF_AddInput</span>(TF_OperationDescription* desc, TF_Output input) {\n  desc-&gt;<span class=\"pl-smi\">node_builder</span>.<span class=\"pl-c1\">Input</span>(&amp;input.<span class=\"pl-smi\">oper</span>-&gt;<span class=\"pl-smi\">node</span>, input.<span class=\"pl-smi\">index</span>);\n}</pre></div>\n<div class=\"highlight highlight-source-c\"><pre><span class=\"pl-k\">typedef</span> <span class=\"pl-k\">struct</span> TF_Output {\n  TF_Operation* oper;\n  <span class=\"pl-k\">int</span> <span class=\"pl-c1\">index</span>;  <span class=\"pl-c\"><span class=\"pl-c\">//</span> The index of the output within oper.</span>\n} TF_Output;</pre></div>\n<p>When I bind \"Reshape\" method in c#,the first parameter \"input tensor:T\" can be replaced with the previous return value .The second paramater type is \"long[]\". How do i convert object type  'long[]' to 'TF_Output'?</p>", "body_text": "In tesnorflow/core array_op.cc file,the Reshape defined as follows Source Code\nREGISTER_OP(\"Reshape\")\n    .Input(\"tensor: T\")\n    .Input(\"shape: Tshape\")\n    .Output(\"output: T\")\n    .Attr(\"T: type\")\n    .Attr(\"Tshape: {int32, int64} = DT_INT32\")\n    .SetShapeFn([](InferenceContext* c) {\n      return SetOutputShapeForReshape(c);\n    });\nin tensorflow/c_api.cc file,the TF_AddInput and TF_Output define as follows\nvoid TF_AddInput(TF_OperationDescription* desc, TF_Output input) {\n  desc->node_builder.Input(&input.oper->node, input.index);\n}\ntypedef struct TF_Output {\n  TF_Operation* oper;\n  int index;  // The index of the output within oper.\n} TF_Output;\nWhen I bind \"Reshape\" method in c#,the first parameter \"input tensor:T\" can be replaced with the previous return value .The second paramater type is \"long[]\". How do i convert object type  'long[]' to 'TF_Output'?", "body": "In tesnorflow/core array_op.cc file,the Reshape defined as follows [Source Code](https://github.com/tensorflow/tensorflow/blob/35287be3bb7daa0448af064f5d005a25201d6853/tensorflow/core/ops/array_ops.cc#L1274)\r\n```c\r\nREGISTER_OP(\"Reshape\")\r\n    .Input(\"tensor: T\")\r\n    .Input(\"shape: Tshape\")\r\n    .Output(\"output: T\")\r\n    .Attr(\"T: type\")\r\n    .Attr(\"Tshape: {int32, int64} = DT_INT32\")\r\n    .SetShapeFn([](InferenceContext* c) {\r\n      return SetOutputShapeForReshape(c);\r\n    });\r\n```\r\nin tensorflow/c_api.cc file,the TF_AddInput and TF_Output define as follows\r\n```c\r\nvoid TF_AddInput(TF_OperationDescription* desc, TF_Output input) {\r\n  desc->node_builder.Input(&input.oper->node, input.index);\r\n}\r\n```\r\n```c\r\ntypedef struct TF_Output {\r\n  TF_Operation* oper;\r\n  int index;  // The index of the output within oper.\r\n} TF_Output;\r\n```\r\nWhen I bind \"Reshape\" method in c#,the first parameter \"input tensor:T\" can be replaced with the previous return value .The second paramater type is \"long[]\". How do i convert object type  'long[]' to 'TF_Output'?\r\n\r\n"}