{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12196", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12196/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12196/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12196/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/12196", "id": 249513778, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM1MjUwNDU0", "number": 12196, "title": "Add regression tests  and fix some minor bugs", "user": {"login": "frreiss", "id": 12436991, "node_id": "MDQ6VXNlcjEyNDM2OTkx", "avatar_url": "https://avatars1.githubusercontent.com/u/12436991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frreiss", "html_url": "https://github.com/frreiss", "followers_url": "https://api.github.com/users/frreiss/followers", "following_url": "https://api.github.com/users/frreiss/following{/other_user}", "gists_url": "https://api.github.com/users/frreiss/gists{/gist_id}", "starred_url": "https://api.github.com/users/frreiss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frreiss/subscriptions", "organizations_url": "https://api.github.com/users/frreiss/orgs", "repos_url": "https://api.github.com/users/frreiss/repos", "events_url": "https://api.github.com/users/frreiss/events{/privacy}", "received_events_url": "https://api.github.com/users/frreiss/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 419840263, "node_id": "MDU6TGFiZWw0MTk4NDAyNjM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20testing%20(then%20merge)", "name": "awaiting testing (then merge)", "color": "c2e0c6", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-08-11T00:41:13Z", "updated_at": "2017-08-12T06:29:08Z", "closed_at": "2017-08-12T06:29:08Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12196", "html_url": "https://github.com/tensorflow/tensorflow/pull/12196", "diff_url": "https://github.com/tensorflow/tensorflow/pull/12196.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/12196.patch"}, "body_html": "<p>This pull request adds some additional unit tests for the <code>add_n</code>  and <code>accumulate_n</code> operators. I'm adding these tests as preparation for working on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"234982067\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/10607\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/10607/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/10607\">#10607</a> . Specifically, I added tests of the argument validation code in <code>accumulate_n</code> and a test of gradient computation for <code>add_n</code>.</p>\n<p>This pull request also fixes two minor bugs that I encountered in the process of adding the unit tests:</p>\n<ul>\n<li><code>accumulate_n</code> ignores its <code>tensor_dtype</code> argument when the operator has only one input. I've added additional error-handling logic to <code>accumulate_n</code> that rejects values of <code>tensor_dtype</code> that are different from the input type.</li>\n<li>The  test<code>UnaryOpTest.testComplex64Basic</code> was failing on my Mac because the <code>acosh</code> and <code>asinh</code> functions for single-precision complex floating point are only accurate to 6 decimal places. Under the assumption that 6 significant figures is good enough, I increased the threshold that the test cases use when comparing gradients.</li>\n</ul>\n<p>Note that if 6 significant figures is <em>not</em> good enough for <code>acosh</code> and <code>asinh</code>, a more involved fix will be necessary for the second problem.</p>", "body_text": "This pull request adds some additional unit tests for the add_n  and accumulate_n operators. I'm adding these tests as preparation for working on #10607 . Specifically, I added tests of the argument validation code in accumulate_n and a test of gradient computation for add_n.\nThis pull request also fixes two minor bugs that I encountered in the process of adding the unit tests:\n\naccumulate_n ignores its tensor_dtype argument when the operator has only one input. I've added additional error-handling logic to accumulate_n that rejects values of tensor_dtype that are different from the input type.\nThe  testUnaryOpTest.testComplex64Basic was failing on my Mac because the acosh and asinh functions for single-precision complex floating point are only accurate to 6 decimal places. Under the assumption that 6 significant figures is good enough, I increased the threshold that the test cases use when comparing gradients.\n\nNote that if 6 significant figures is not good enough for acosh and asinh, a more involved fix will be necessary for the second problem.", "body": "This pull request adds some additional unit tests for the `add_n`  and `accumulate_n` operators. I'm adding these tests as preparation for working on https://github.com/tensorflow/tensorflow/issues/10607 . Specifically, I added tests of the argument validation code in `accumulate_n` and a test of gradient computation for `add_n`.\r\n\r\nThis pull request also fixes two minor bugs that I encountered in the process of adding the unit tests:\r\n* `accumulate_n` ignores its `tensor_dtype` argument when the operator has only one input. I've added additional error-handling logic to `accumulate_n` that rejects values of `tensor_dtype` that are different from the input type.\r\n* The  test`UnaryOpTest.testComplex64Basic` was failing on my Mac because the `acosh` and `asinh` functions for single-precision complex floating point are only accurate to 6 decimal places. Under the assumption that 6 significant figures is good enough, I increased the threshold that the test cases use when comparing gradients. \r\n\r\nNote that if 6 significant figures is *not* good enough for `acosh` and `asinh`, a more involved fix will be necessary for the second problem."}