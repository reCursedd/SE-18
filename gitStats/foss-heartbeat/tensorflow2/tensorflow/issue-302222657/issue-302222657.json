{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17432", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17432/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17432/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17432/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17432", "id": 302222657, "node_id": "MDU6SXNzdWUzMDIyMjI2NTc=", "number": 17432, "title": "\"tensorflow/core/platform/posix/net.cc:75:17: error: invalid 'asm': invalid operand for code 'w'    actual_port = ntohs(addr.sin_port);\" Error While Cross Compiling for Raspberry Pi 3 with the given script \"build_raspberry_pi.sh\"", "user": {"login": "AnchoretBaladev", "id": 36757418, "node_id": "MDQ6VXNlcjM2NzU3NDE4", "avatar_url": "https://avatars3.githubusercontent.com/u/36757418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnchoretBaladev", "html_url": "https://github.com/AnchoretBaladev", "followers_url": "https://api.github.com/users/AnchoretBaladev/followers", "following_url": "https://api.github.com/users/AnchoretBaladev/following{/other_user}", "gists_url": "https://api.github.com/users/AnchoretBaladev/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnchoretBaladev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnchoretBaladev/subscriptions", "organizations_url": "https://api.github.com/users/AnchoretBaladev/orgs", "repos_url": "https://api.github.com/users/AnchoretBaladev/repos", "events_url": "https://api.github.com/users/AnchoretBaladev/events{/privacy}", "received_events_url": "https://api.github.com/users/AnchoretBaladev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-03-05T09:18:45Z", "updated_at": "2018-10-08T17:21:09Z", "closed_at": "2018-10-08T17:21:09Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>\n<p><strong><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong></strong>: No, Using the provided Script(build_raspberry_pi.sh)</p>\n</li>\n<li>\n<p><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: 16.04LTS</p>\n</li>\n<li>\n<p><strong>TensorFlow installed from (source or binary)</strong>: Source</p>\n</li>\n<li>\n<p><strong>TensorFlow version (use command below)</strong>: 1.6.0</p>\n</li>\n<li>\n<p><strong>Python version</strong>:  2.7</p>\n</li>\n<li>\n<p><strong>Bazel version (if compiling from source)</strong>: 0.8.0</p>\n</li>\n<li>\n<p><strong>GCC/Compiler version (if compiling from source)</strong>: arm-linux-gnueabihf-gcc 4.9</p>\n</li>\n<li>\n<p><strong>CUDA/cuDNN version</strong>:No</p>\n</li>\n<li>\n<p><strong>GPU model and memory</strong>: NO</p>\n</li>\n<li>\n<p><strong>Exact command to reproduce</strong>: ./tensorflow/tools/ci_build/pi/build_raspberry_pi.sh</p>\n</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I'm trying to cross compile tensorflow for Raspberry Pi 3 and I'm following the below steps,</p>\n<p>**1:- Cloning Tensorflow 1.6.0</p>\n<p>2:- Installing Bazel 0.8.0</p>\n<p>3:- Running the script ./tensorflow/tools/ci_build/pi/build_raspberry_pi.sh**</p>\n<p><strong>Getting Error:-</strong><br>\n\"tensorflow/core/platform/posix/net.cc:60:19: error: invalid 'asm': invalid operand for code 'w'<br>\naddr.sin_port = htons(static_cast&lt;uint16_t&gt;(*port));<br>\n^<br>\ntensorflow/core/platform/posix/net.cc:75:17: error: invalid 'asm': invalid operand for code 'w'<br>\nactual_port = ntohs(addr.sin_port);\"<br>\n<strong>Note:-</strong><br>\n<strong>\"error: invalid 'asm': invalid operand for code 'w'\", Chances are, if you got this error then you were cross-compiling, probably from an x86 or x86_64 host to an ARM target. The error most likely occurred when you used, directly or indirectly, a network byte order translation function from the C library like htons(), or ntohl().</strong></p>\n<h3>Source code / logs</h3>\n<p>GNU C++ (crosstool-NG crosstool-ng-1.22.0-88-g8460611) version 4.9.3 (arm-linux-gnueabihf)<br>\ncompiled by GNU C version 4.8.4, GMP version 6.0.0, MPFR version 3.1.3, MPC version 1.0.3<br>\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072<br>\nCompiler executable checksum: 5490cb547d5e63dcf8255bc3ba4b9a59<br>\nIn file included from /usr/include/bits/byteswap.h:35:0,<br>\nfrom /usr/include/endian.h:60,<br>\nfrom /usr/include/bits/waitstatus.h:64,<br>\nfrom /usr/include/stdlib.h:42,<br>\nfrom /home/baladev/.cache/bazel/_bazel_baladev/da0e175f87e998fe3d550279550cec2c/external/arm_compiler/bin/../lib/gcc/arm-linux-gnueabihf/4.9.3/../../../../arm-linux-gnueabihf/include/c++/4.9.3/cstdlib:72,<br>\nfrom # tensorflow/core/platform/posix/net.cc:19:<br>\ntensorflow/core/platform/posix/net.cc: In function 'bool tensorflow::internal::{anonymous}::IsPortAvailable(int*, bool)':<br>\ntensorflow/core/platform/posix/net.cc:60:19: error: invalid 'asm': invalid operand for code 'w'<br>\naddr.sin_port = htons(static_cast&lt;uint16_t&gt;(*port));<br>\n^<br>\ntensorflow/core/platform/posix/net.cc:75:17: error: invalid 'asm': invalid operand for code 'w'<br>\nactual_port = ntohs(addr.sin_port);<br>\n^</p>", "body_text": "System information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No, Using the provided Script(build_raspberry_pi.sh)\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): 16.04LTS\n\n\nTensorFlow installed from (source or binary): Source\n\n\nTensorFlow version (use command below): 1.6.0\n\n\nPython version:  2.7\n\n\nBazel version (if compiling from source): 0.8.0\n\n\nGCC/Compiler version (if compiling from source): arm-linux-gnueabihf-gcc 4.9\n\n\nCUDA/cuDNN version:No\n\n\nGPU model and memory: NO\n\n\nExact command to reproduce: ./tensorflow/tools/ci_build/pi/build_raspberry_pi.sh\n\n\nDescribe the problem\nI'm trying to cross compile tensorflow for Raspberry Pi 3 and I'm following the below steps,\n**1:- Cloning Tensorflow 1.6.0\n2:- Installing Bazel 0.8.0\n3:- Running the script ./tensorflow/tools/ci_build/pi/build_raspberry_pi.sh**\nGetting Error:-\n\"tensorflow/core/platform/posix/net.cc:60:19: error: invalid 'asm': invalid operand for code 'w'\naddr.sin_port = htons(static_cast<uint16_t>(*port));\n^\ntensorflow/core/platform/posix/net.cc:75:17: error: invalid 'asm': invalid operand for code 'w'\nactual_port = ntohs(addr.sin_port);\"\nNote:-\n\"error: invalid 'asm': invalid operand for code 'w'\", Chances are, if you got this error then you were cross-compiling, probably from an x86 or x86_64 host to an ARM target. The error most likely occurred when you used, directly or indirectly, a network byte order translation function from the C library like htons(), or ntohl().\nSource code / logs\nGNU C++ (crosstool-NG crosstool-ng-1.22.0-88-g8460611) version 4.9.3 (arm-linux-gnueabihf)\ncompiled by GNU C version 4.8.4, GMP version 6.0.0, MPFR version 3.1.3, MPC version 1.0.3\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nCompiler executable checksum: 5490cb547d5e63dcf8255bc3ba4b9a59\nIn file included from /usr/include/bits/byteswap.h:35:0,\nfrom /usr/include/endian.h:60,\nfrom /usr/include/bits/waitstatus.h:64,\nfrom /usr/include/stdlib.h:42,\nfrom /home/baladev/.cache/bazel/_bazel_baladev/da0e175f87e998fe3d550279550cec2c/external/arm_compiler/bin/../lib/gcc/arm-linux-gnueabihf/4.9.3/../../../../arm-linux-gnueabihf/include/c++/4.9.3/cstdlib:72,\nfrom # tensorflow/core/platform/posix/net.cc:19:\ntensorflow/core/platform/posix/net.cc: In function 'bool tensorflow::internal::{anonymous}::IsPortAvailable(int*, bool)':\ntensorflow/core/platform/posix/net.cc:60:19: error: invalid 'asm': invalid operand for code 'w'\naddr.sin_port = htons(static_cast<uint16_t>(*port));\n^\ntensorflow/core/platform/posix/net.cc:75:17: error: invalid 'asm': invalid operand for code 'w'\nactual_port = ntohs(addr.sin_port);\n^", "body": "### System information\r\n- ****Have I written custom code (as opposed to using a stock example script provided in TensorFlow)****: No, Using the provided Script(build_raspberry_pi.sh)\r\n\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: 16.04LTS\r\n\r\n- **TensorFlow installed from (source or binary)**: Source\r\n\r\n- **TensorFlow version (use command below)**: 1.6.0\r\n\r\n- **Python version**:  2.7\r\n\r\n- **Bazel version (if compiling from source)**: 0.8.0\r\n\r\n- **GCC/Compiler version (if compiling from source)**: arm-linux-gnueabihf-gcc 4.9\r\n\r\n- **CUDA/cuDNN version**:No\r\n\r\n- **GPU model and memory**: NO\r\n\r\n- **Exact command to reproduce**: ./tensorflow/tools/ci_build/pi/build_raspberry_pi.sh\r\n\r\n### Describe the problem\r\nI'm trying to cross compile tensorflow for Raspberry Pi 3 and I'm following the below steps,\r\n\r\n**1:- Cloning Tensorflow 1.6.0 \r\n\r\n2:- Installing Bazel 0.8.0\r\n\r\n3:- Running the script ./tensorflow/tools/ci_build/pi/build_raspberry_pi.sh**\r\n\r\n**Getting Error:-** \r\n\"tensorflow/core/platform/posix/net.cc:60:19: error: invalid 'asm': invalid operand for code 'w'\r\n   addr.sin_port = htons(static_cast<uint16_t>(*port));\r\n                   ^\r\ntensorflow/core/platform/posix/net.cc:75:17: error: invalid 'asm': invalid operand for code 'w'\r\n   actual_port = ntohs(addr.sin_port);\"\r\n**Note:-**\r\n**\"error: invalid 'asm': invalid operand for code 'w'\", Chances are, if you got this error then you were cross-compiling, probably from an x86 or x86_64 host to an ARM target. The error most likely occurred when you used, directly or indirectly, a network byte order translation function from the C library like htons(), or ntohl().**\r\n\r\n### Source code / logs\r\nGNU C++ (crosstool-NG crosstool-ng-1.22.0-88-g8460611) version 4.9.3 (arm-linux-gnueabihf)\r\n\tcompiled by GNU C version 4.8.4, GMP version 6.0.0, MPFR version 3.1.3, MPC version 1.0.3\r\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\r\nCompiler executable checksum: 5490cb547d5e63dcf8255bc3ba4b9a59\r\nIn file included from /usr/include/bits/byteswap.h:35:0,\r\n                 from /usr/include/endian.h:60,\r\n                 from /usr/include/bits/waitstatus.h:64,\r\n                 from /usr/include/stdlib.h:42,\r\n                 from /home/baladev/.cache/bazel/_bazel_baladev/da0e175f87e998fe3d550279550cec2c/external/arm_compiler/bin/../lib/gcc/arm-linux-gnueabihf/4.9.3/../../../../arm-linux-gnueabihf/include/c++/4.9.3/cstdlib:72,\r\n                 from # tensorflow/core/platform/posix/net.cc:19:\r\ntensorflow/core/platform/posix/net.cc: In function 'bool tensorflow::internal::{anonymous}::IsPortAvailable(int*, bool)':\r\ntensorflow/core/platform/posix/net.cc:60:19: error: invalid 'asm': invalid operand for code 'w'\r\n   addr.sin_port = htons(static_cast<uint16_t>(*port));\r\n                   ^\r\ntensorflow/core/platform/posix/net.cc:75:17: error: invalid 'asm': invalid operand for code 'w'\r\n   actual_port = ntohs(addr.sin_port);\r\n                 ^\r\n\r\n"}