{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11617", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11617/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11617/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11617/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11617", "id": 244123854, "node_id": "MDU6SXNzdWUyNDQxMjM4NTQ=", "number": 11617, "title": "Error Building from source with ARM processor gif_io/png_io errors", "user": {"login": "dhalden", "id": 3957168, "node_id": "MDQ6VXNlcjM5NTcxNjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3957168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhalden", "html_url": "https://github.com/dhalden", "followers_url": "https://api.github.com/users/dhalden/followers", "following_url": "https://api.github.com/users/dhalden/following{/other_user}", "gists_url": "https://api.github.com/users/dhalden/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhalden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhalden/subscriptions", "organizations_url": "https://api.github.com/users/dhalden/orgs", "repos_url": "https://api.github.com/users/dhalden/repos", "events_url": "https://api.github.com/users/dhalden/events{/privacy}", "received_events_url": "https://api.github.com/users/dhalden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-19T17:58:04Z", "updated_at": "2017-07-25T02:05:53Z", "closed_at": "2017-07-25T02:05:53Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>\n<p><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nI'm following <a href=\"https://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md\">this</a> guide for installing tensorflow on a raspberry pi, because it most closely resembles the environment that I am building on.<br>\nI noticed that there were a couple of things that had changed since those instructions were written, so if things had changed in the code when I checked them, I didn't follow those instructions for changing the code. (I don't think the error is because of these instructions, which is why I am posting here, instead of there).</p>\n</li>\n<li>\n<p><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nI am building in a Debian Jessie environment, that I have built exclusively for the purposes of building tensorflow on ARM, with the latest versions of gcc/g++ that I could find.</p>\n</li>\n<li>\n<p><strong>TensorFlow installed from (source or binary)</strong>:<br>\nSource</p>\n</li>\n<li>\n<p><strong>TensorFlow version (use command below)</strong>:<br>\nI'm assuming the most recent, because I just cloned it yesterday.<br>\nThe script errors because tf hasn't actually made it to the installation step.<br>\n== cat /etc/issue ===============================================<br>\nLinux 3.14.38-yocto-00005-ge466b18 <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP PREEMPT Tue May 30 10:41:58 MDT 2017 armv7l GNU/Linux<br>\nVERSION_ID=\"8\"<br>\nVERSION=\"8 (jessie)\"<br>\n== compiler =====================================================<br>\nc++ (Debian 4.8.4-1) 4.8.4<br>\ngcc version 4.8.4 (Debian 4.8.4-1)<br>\nCopyright (C) 2013 Free Software Foundation, Inc.<br>\nThis is free software; see the source for copying conditions.  There is NO<br>\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.<br>\n== uname -a =====================================================<br>\nLinux 3.14.38-yocto-00005-ge466b18 <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP PREEMPT Tue May 30 10:41:58 MDT 2017 armv7l GNU/Linux<br>\n== check pips ===================================================<br>\nnumpy (1.8.2)</p>\n</li>\n<li>\n<p><strong>Python version</strong>:<br>\nPython 2.7.9</p>\n</li>\n<li>\n<p><strong>Bazel version (if compiling from source)</strong>:<br>\nBuild label: 0.4.5- (@non-git)</p>\n</li>\n<li>\n<p><strong>CUDA/cuDNN version</strong>:\"<br>\nN/A</p>\n</li>\n<li>\n<p><strong>GPU model and memory</strong>:<br>\nN/A</p>\n</li>\n<li>\n<p><strong>Exact command to reproduce</strong>:<br>\n<code>bazel build -c opt //tensorflow/tools/pip_package:build_pip_package</code><br>\nThough, I've also gotten errors with</p>\n</li>\n</ul>\n<pre><code>bazel build -c opt --copt=\"-mfpu=neon-vfpv4\" --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --local_resources 1024,1.0,1.0 --verbose_failures tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>and</p>\n<pre><code>bazel build -c opt --copt=\"-mfpu=neon-vfpv4\" --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --local_resources 1024,1.0,1.0 --verbose_failures tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<h3>Describe the problem</h3>\n<p>I am getting the included error when I build tensorflow. I've gotten the same error with the png_io.cc file as well. I installed the libpng-dev library as was recommended <a href=\"https://github.com/tensorflow/tensorflow/issues/3631\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/3631/hovercard\">here</a>. Unlike in that example, that library did not exist on the computer I was installing it on (neither did libgif-dev, which was my guess for the gif library error). Is there a reason these libraries should be installed at the point that I run that command? Will I also need a libjpg-dev or something of the sort?</p>\n<h3>Source code / logs</h3>\n<pre><code>ERROR: /root/tf/tensorflow/tensorflow/core/BUILD:1357:1: C++ compilation of rule '//tensorflow/core:gif_internal' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE -fstack-protector -Wall -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG ... (remaining 106 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from tensorflow/core/lib/gif/gif_io.cc:20:0:\n./tensorflow/core/platform/gif.h:26:2: error: #error Define the appropriate PLATFORM_&lt;foo&gt; macro for this platform\n #error Define the appropriate PLATFORM_&lt;foo&gt; macro for this platform\n  ^\ntensorflow/core/lib/gif/gif_io.cc:33:20: error: 'GifFileType' was not declared in this scope\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                    ^\ntensorflow/core/lib/gif/gif_io.cc:33:33: error: 'gif_file' was not declared in this scope\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                 ^\ntensorflow/core/lib/gif/gif_io.cc:33:43: error: 'GifByteType' was not declared in this scope\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                           ^\ntensorflow/core/lib/gif/gif_io.cc:33:56: error: 'buf' was not declared in this scope\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                                        ^\ntensorflow/core/lib/gif/gif_io.cc:33:61: error: expected primary-expression before 'int'\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                                             ^\ntensorflow/core/lib/gif/gif_io.cc:33:69: error: expression list treated as compound expression in initializer [-fpermissive]\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                                                     ^\ntensorflow/core/lib/gif/gif_io.cc:33:71: error: expected ',' or ';' before '{' token\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                                                       ^\ntensorflow/core/lib/gif/gif_io.cc:111:1: error: expected '}' at end of input\n }  // namespace tensorflow\n ^\ntensorflow/core/lib/gif/gif_io.cc:111:1: error: expected '}' at end of input\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\n\n</code></pre>", "body_text": "System information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nI'm following this guide for installing tensorflow on a raspberry pi, because it most closely resembles the environment that I am building on.\nI noticed that there were a couple of things that had changed since those instructions were written, so if things had changed in the code when I checked them, I didn't follow those instructions for changing the code. (I don't think the error is because of these instructions, which is why I am posting here, instead of there).\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nI am building in a Debian Jessie environment, that I have built exclusively for the purposes of building tensorflow on ARM, with the latest versions of gcc/g++ that I could find.\n\n\nTensorFlow installed from (source or binary):\nSource\n\n\nTensorFlow version (use command below):\nI'm assuming the most recent, because I just cloned it yesterday.\nThe script errors because tf hasn't actually made it to the installation step.\n== cat /etc/issue ===============================================\nLinux 3.14.38-yocto-00005-ge466b18 #1 SMP PREEMPT Tue May 30 10:41:58 MDT 2017 armv7l GNU/Linux\nVERSION_ID=\"8\"\nVERSION=\"8 (jessie)\"\n== compiler =====================================================\nc++ (Debian 4.8.4-1) 4.8.4\ngcc version 4.8.4 (Debian 4.8.4-1)\nCopyright (C) 2013 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n== uname -a =====================================================\nLinux 3.14.38-yocto-00005-ge466b18 #1 SMP PREEMPT Tue May 30 10:41:58 MDT 2017 armv7l GNU/Linux\n== check pips ===================================================\nnumpy (1.8.2)\n\n\nPython version:\nPython 2.7.9\n\n\nBazel version (if compiling from source):\nBuild label: 0.4.5- (@non-git)\n\n\nCUDA/cuDNN version:\"\nN/A\n\n\nGPU model and memory:\nN/A\n\n\nExact command to reproduce:\nbazel build -c opt //tensorflow/tools/pip_package:build_pip_package\nThough, I've also gotten errors with\n\n\nbazel build -c opt --copt=\"-mfpu=neon-vfpv4\" --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --local_resources 1024,1.0,1.0 --verbose_failures tensorflow/tools/pip_package:build_pip_package\n\nand\nbazel build -c opt --copt=\"-mfpu=neon-vfpv4\" --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --local_resources 1024,1.0,1.0 --verbose_failures tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nI am getting the included error when I build tensorflow. I've gotten the same error with the png_io.cc file as well. I installed the libpng-dev library as was recommended here. Unlike in that example, that library did not exist on the computer I was installing it on (neither did libgif-dev, which was my guess for the gif library error). Is there a reason these libraries should be installed at the point that I run that command? Will I also need a libjpg-dev or something of the sort?\nSource code / logs\nERROR: /root/tf/tensorflow/tensorflow/core/BUILD:1357:1: C++ compilation of rule '//tensorflow/core:gif_internal' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE -fstack-protector -Wall -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG ... (remaining 106 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from tensorflow/core/lib/gif/gif_io.cc:20:0:\n./tensorflow/core/platform/gif.h:26:2: error: #error Define the appropriate PLATFORM_<foo> macro for this platform\n #error Define the appropriate PLATFORM_<foo> macro for this platform\n  ^\ntensorflow/core/lib/gif/gif_io.cc:33:20: error: 'GifFileType' was not declared in this scope\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                    ^\ntensorflow/core/lib/gif/gif_io.cc:33:33: error: 'gif_file' was not declared in this scope\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                 ^\ntensorflow/core/lib/gif/gif_io.cc:33:43: error: 'GifByteType' was not declared in this scope\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                           ^\ntensorflow/core/lib/gif/gif_io.cc:33:56: error: 'buf' was not declared in this scope\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                                        ^\ntensorflow/core/lib/gif/gif_io.cc:33:61: error: expected primary-expression before 'int'\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                                             ^\ntensorflow/core/lib/gif/gif_io.cc:33:69: error: expression list treated as compound expression in initializer [-fpermissive]\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                                                     ^\ntensorflow/core/lib/gif/gif_io.cc:33:71: error: expected ',' or ';' before '{' token\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\n                                                                       ^\ntensorflow/core/lib/gif/gif_io.cc:111:1: error: expected '}' at end of input\n }  // namespace tensorflow\n ^\ntensorflow/core/lib/gif/gif_io.cc:111:1: error: expected '}' at end of input\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nI'm following [this](https://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md) guide for installing tensorflow on a raspberry pi, because it most closely resembles the environment that I am building on.\r\nI noticed that there were a couple of things that had changed since those instructions were written, so if things had changed in the code when I checked them, I didn't follow those instructions for changing the code. (I don't think the error is because of these instructions, which is why I am posting here, instead of there).\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nI am building in a Debian Jessie environment, that I have built exclusively for the purposes of building tensorflow on ARM, with the latest versions of gcc/g++ that I could find.\r\n- **TensorFlow installed from (source or binary)**:\r\nSource\r\n\r\n- **TensorFlow version (use command below)**:\r\nI'm assuming the most recent, because I just cloned it yesterday.\r\nThe script errors because tf hasn't actually made it to the installation step.\r\n== cat /etc/issue ===============================================\r\nLinux 3.14.38-yocto-00005-ge466b18 #1 SMP PREEMPT Tue May 30 10:41:58 MDT 2017 armv7l GNU/Linux\r\nVERSION_ID=\"8\"\r\nVERSION=\"8 (jessie)\"\r\n== compiler =====================================================\r\nc++ (Debian 4.8.4-1) 4.8.4\r\ngcc version 4.8.4 (Debian 4.8.4-1) \r\nCopyright (C) 2013 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n== uname -a =====================================================\r\nLinux 3.14.38-yocto-00005-ge466b18 #1 SMP PREEMPT Tue May 30 10:41:58 MDT 2017 armv7l GNU/Linux\r\n== check pips ===================================================\r\nnumpy (1.8.2)\r\n\r\n- **Python version**: \r\nPython 2.7.9\r\n\r\n- **Bazel version (if compiling from source)**:\r\nBuild label: 0.4.5- (@non-git)\r\n\r\n- **CUDA/cuDNN version**:\"\r\nN/A\r\n\r\n- **GPU model and memory**:\r\nN/A\r\n\r\n- **Exact command to reproduce**:\r\n`bazel build -c opt //tensorflow/tools/pip_package:build_pip_package`\r\nThough, I've also gotten errors with \r\n```\r\nbazel build -c opt --copt=\"-mfpu=neon-vfpv4\" --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --local_resources 1024,1.0,1.0 --verbose_failures tensorflow/tools/pip_package:build_pip_package\r\n```\r\nand \r\n```\r\nbazel build -c opt --copt=\"-mfpu=neon-vfpv4\" --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --local_resources 1024,1.0,1.0 --verbose_failures tensorflow/tools/pip_package:build_pip_package\r\n```\r\n\r\n### Describe the problem\r\nI am getting the included error when I build tensorflow. I've gotten the same error with the png_io.cc file as well. I installed the libpng-dev library as was recommended [here](https://github.com/tensorflow/tensorflow/issues/3631). Unlike in that example, that library did not exist on the computer I was installing it on (neither did libgif-dev, which was my guess for the gif library error). Is there a reason these libraries should be installed at the point that I run that command? Will I also need a libjpg-dev or something of the sort?\r\n\r\n### Source code / logs\r\n```\r\nERROR: /root/tf/tensorflow/tensorflow/core/BUILD:1357:1: C++ compilation of rule '//tensorflow/core:gif_internal' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE -fstack-protector -Wall -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG ... (remaining 106 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nIn file included from tensorflow/core/lib/gif/gif_io.cc:20:0:\r\n./tensorflow/core/platform/gif.h:26:2: error: #error Define the appropriate PLATFORM_<foo> macro for this platform\r\n #error Define the appropriate PLATFORM_<foo> macro for this platform\r\n  ^\r\ntensorflow/core/lib/gif/gif_io.cc:33:20: error: 'GifFileType' was not declared in this scope\r\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\r\n                    ^\r\ntensorflow/core/lib/gif/gif_io.cc:33:33: error: 'gif_file' was not declared in this scope\r\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\r\n                                 ^\r\ntensorflow/core/lib/gif/gif_io.cc:33:43: error: 'GifByteType' was not declared in this scope\r\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\r\n                                           ^\r\ntensorflow/core/lib/gif/gif_io.cc:33:56: error: 'buf' was not declared in this scope\r\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\r\n                                                        ^\r\ntensorflow/core/lib/gif/gif_io.cc:33:61: error: expected primary-expression before 'int'\r\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\r\n                                                             ^\r\ntensorflow/core/lib/gif/gif_io.cc:33:69: error: expression list treated as compound expression in initializer [-fpermissive]\r\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\r\n                                                                     ^\r\ntensorflow/core/lib/gif/gif_io.cc:33:71: error: expected ',' or ';' before '{' token\r\n int input_callback(GifFileType* gif_file, GifByteType* buf, int size) {\r\n                                                                       ^\r\ntensorflow/core/lib/gif/gif_io.cc:111:1: error: expected '}' at end of input\r\n }  // namespace tensorflow\r\n ^\r\ntensorflow/core/lib/gif/gif_io.cc:111:1: error: expected '}' at end of input\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\n\r\n```\r\n"}