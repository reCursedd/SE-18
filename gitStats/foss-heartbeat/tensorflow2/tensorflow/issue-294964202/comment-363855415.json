{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/363855415", "html_url": "https://github.com/tensorflow/tensorflow/issues/16813#issuecomment-363855415", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16813", "id": 363855415, "node_id": "MDEyOklzc3VlQ29tbWVudDM2Mzg1NTQxNQ==", "user": {"login": "Johnson145", "id": 6339078, "node_id": "MDQ6VXNlcjYzMzkwNzg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6339078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Johnson145", "html_url": "https://github.com/Johnson145", "followers_url": "https://api.github.com/users/Johnson145/followers", "following_url": "https://api.github.com/users/Johnson145/following{/other_user}", "gists_url": "https://api.github.com/users/Johnson145/gists{/gist_id}", "starred_url": "https://api.github.com/users/Johnson145/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Johnson145/subscriptions", "organizations_url": "https://api.github.com/users/Johnson145/orgs", "repos_url": "https://api.github.com/users/Johnson145/repos", "events_url": "https://api.github.com/users/Johnson145/events{/privacy}", "received_events_url": "https://api.github.com/users/Johnson145/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-07T18:00:04Z", "updated_at": "2018-02-07T18:00:04Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Unfortunately, I still can't use any inception model that I retrained on my own. Using the master branch fixes the above error and allows using the <a href=\"https://storage.googleapis.com/download.tensorflow.org/models/tflite/inception_v3_slim_2016_android_2017_11_10.zip\" rel=\"nofollow\">precompiled inception-v3 slim model</a>. The latter implies that there shouldn't be any problem with the slim version in general. It doesn't work with mine though. The tflite conversion seems to be completed without any errors now, but if I want to use the graph in the Android example app, I always get the following crash log:</p>\n<pre><code>02-07 17:32:06.651 18636-18651/android.example.com.tflitecamerademo E/AndroidRuntime: FATAL EXCEPTION: CameraBackground\n                                                                                      Process: android.example.com.tflitecamerademo, PID: 18636\n                                                                                      java.lang.IllegalArgumentException: Invalid handle to Interpreter.\n                                                                                          at org.tensorflow.lite.NativeInterpreterWrapper.getInputDims(Native Method)\n                                                                                          at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:82)\n                                                                                          at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:112)\n                                                                                          at org.tensorflow.lite.Interpreter.run(Interpreter.java:93)\n                                                                                          at com.example.android.tflitecamerademo.ImageClassifierFloatInception.runInference(ImageClassifierFloatInception.java:103)\n                                                                                          at com.example.android.tflitecamerademo.ImageClassifier.classifyFrame(ImageClassifier.java:107)\n                                                                                          at com.example.android.tflitecamerademo.Camera2BasicFragment.classifyFrame(Camera2BasicFragment.java:664)\n                                                                                          at com.example.android.tflitecamerademo.Camera2BasicFragment.-wrap0(Camera2BasicFragment.java)\n                                                                                          at com.example.android.tflitecamerademo.Camera2BasicFragment$4.run(Camera2BasicFragment.java:559)\n                                                                                          at android.os.Handler.handleCallback(Handler.java:739)\n                                                                                          at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                                          at android.os.Looper.loop(Looper.java:158)\n                                                                                          at android.os.HandlerThread.run(HandlerThread.java:61)\n</code></pre>\n<p>It doesn't help to recreate the input graph using the current TensorFlow version. I also tried to start the conversion using python instead of the command line, but it doesn't help either.</p>\n<p>Any thoughts?</p>", "body_text": "Unfortunately, I still can't use any inception model that I retrained on my own. Using the master branch fixes the above error and allows using the precompiled inception-v3 slim model. The latter implies that there shouldn't be any problem with the slim version in general. It doesn't work with mine though. The tflite conversion seems to be completed without any errors now, but if I want to use the graph in the Android example app, I always get the following crash log:\n02-07 17:32:06.651 18636-18651/android.example.com.tflitecamerademo E/AndroidRuntime: FATAL EXCEPTION: CameraBackground\n                                                                                      Process: android.example.com.tflitecamerademo, PID: 18636\n                                                                                      java.lang.IllegalArgumentException: Invalid handle to Interpreter.\n                                                                                          at org.tensorflow.lite.NativeInterpreterWrapper.getInputDims(Native Method)\n                                                                                          at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:82)\n                                                                                          at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:112)\n                                                                                          at org.tensorflow.lite.Interpreter.run(Interpreter.java:93)\n                                                                                          at com.example.android.tflitecamerademo.ImageClassifierFloatInception.runInference(ImageClassifierFloatInception.java:103)\n                                                                                          at com.example.android.tflitecamerademo.ImageClassifier.classifyFrame(ImageClassifier.java:107)\n                                                                                          at com.example.android.tflitecamerademo.Camera2BasicFragment.classifyFrame(Camera2BasicFragment.java:664)\n                                                                                          at com.example.android.tflitecamerademo.Camera2BasicFragment.-wrap0(Camera2BasicFragment.java)\n                                                                                          at com.example.android.tflitecamerademo.Camera2BasicFragment$4.run(Camera2BasicFragment.java:559)\n                                                                                          at android.os.Handler.handleCallback(Handler.java:739)\n                                                                                          at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                                          at android.os.Looper.loop(Looper.java:158)\n                                                                                          at android.os.HandlerThread.run(HandlerThread.java:61)\n\nIt doesn't help to recreate the input graph using the current TensorFlow version. I also tried to start the conversion using python instead of the command line, but it doesn't help either.\nAny thoughts?", "body": "Unfortunately, I still can't use any inception model that I retrained on my own. Using the master branch fixes the above error and allows using the [precompiled inception-v3 slim model](https://storage.googleapis.com/download.tensorflow.org/models/tflite/inception_v3_slim_2016_android_2017_11_10.zip). The latter implies that there shouldn't be any problem with the slim version in general. It doesn't work with mine though. The tflite conversion seems to be completed without any errors now, but if I want to use the graph in the Android example app, I always get the following crash log:\r\n```\r\n02-07 17:32:06.651 18636-18651/android.example.com.tflitecamerademo E/AndroidRuntime: FATAL EXCEPTION: CameraBackground\r\n                                                                                      Process: android.example.com.tflitecamerademo, PID: 18636\r\n                                                                                      java.lang.IllegalArgumentException: Invalid handle to Interpreter.\r\n                                                                                          at org.tensorflow.lite.NativeInterpreterWrapper.getInputDims(Native Method)\r\n                                                                                          at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:82)\r\n                                                                                          at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:112)\r\n                                                                                          at org.tensorflow.lite.Interpreter.run(Interpreter.java:93)\r\n                                                                                          at com.example.android.tflitecamerademo.ImageClassifierFloatInception.runInference(ImageClassifierFloatInception.java:103)\r\n                                                                                          at com.example.android.tflitecamerademo.ImageClassifier.classifyFrame(ImageClassifier.java:107)\r\n                                                                                          at com.example.android.tflitecamerademo.Camera2BasicFragment.classifyFrame(Camera2BasicFragment.java:664)\r\n                                                                                          at com.example.android.tflitecamerademo.Camera2BasicFragment.-wrap0(Camera2BasicFragment.java)\r\n                                                                                          at com.example.android.tflitecamerademo.Camera2BasicFragment$4.run(Camera2BasicFragment.java:559)\r\n                                                                                          at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                                          at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                                          at android.os.Looper.loop(Looper.java:158)\r\n                                                                                          at android.os.HandlerThread.run(HandlerThread.java:61)\r\n```\r\n\r\nIt doesn't help to recreate the input graph using the current TensorFlow version. I also tried to start the conversion using python instead of the command line, but it doesn't help either.\r\n\r\nAny thoughts?"}