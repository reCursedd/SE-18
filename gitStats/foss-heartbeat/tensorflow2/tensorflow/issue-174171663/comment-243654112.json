{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/243654112", "html_url": "https://github.com/tensorflow/tensorflow/issues/4114#issuecomment-243654112", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4114", "id": 243654112, "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzY1NDExMg==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-31T04:17:02Z", "updated_at": "2016-08-31T04:17:02Z", "author_association": "CONTRIBUTOR", "body_html": "<p>You can create a rank-3 SparseTensor that contains all batches.  Its indices matrix would look like, e.g. (from your example):</p>\n<pre><code>[0  2]\n[0  8]\n[1  1]\n[1  5]\n[1 25]\n[2  1]\n[2  8]\n</code></pre>\n<p>and its values would be a vector with the concatenated values of the 3 batch entries.</p>\n<p><code>safe_embedding_lookup_sparse</code> can handle this kind of SparseTensor (actually i think the others can too?)</p>\n<p>Does this answer your question?  I'm not 100% sure.</p>", "body_text": "You can create a rank-3 SparseTensor that contains all batches.  Its indices matrix would look like, e.g. (from your example):\n[0  2]\n[0  8]\n[1  1]\n[1  5]\n[1 25]\n[2  1]\n[2  8]\n\nand its values would be a vector with the concatenated values of the 3 batch entries.\nsafe_embedding_lookup_sparse can handle this kind of SparseTensor (actually i think the others can too?)\nDoes this answer your question?  I'm not 100% sure.", "body": "You can create a rank-3 SparseTensor that contains all batches.  Its indices matrix would look like, e.g. (from your example):\n\n```\n[0  2]\n[0  8]\n[1  1]\n[1  5]\n[1 25]\n[2  1]\n[2  8]\n```\n\nand its values would be a vector with the concatenated values of the 3 batch entries.\n\n`safe_embedding_lookup_sparse` can handle this kind of SparseTensor (actually i think the others can too?)\n\nDoes this answer your question?  I'm not 100% sure.\n"}