{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/286011716", "html_url": "https://github.com/tensorflow/tensorflow/issues/8059#issuecomment-286011716", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8059", "id": 286011716, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjAxMTcxNg==", "user": {"login": "ArtsiomCh", "id": 14268320, "node_id": "MDQ6VXNlcjE0MjY4MzIw", "avatar_url": "https://avatars1.githubusercontent.com/u/14268320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArtsiomCh", "html_url": "https://github.com/ArtsiomCh", "followers_url": "https://api.github.com/users/ArtsiomCh/followers", "following_url": "https://api.github.com/users/ArtsiomCh/following{/other_user}", "gists_url": "https://api.github.com/users/ArtsiomCh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArtsiomCh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArtsiomCh/subscriptions", "organizations_url": "https://api.github.com/users/ArtsiomCh/orgs", "repos_url": "https://api.github.com/users/ArtsiomCh/repos", "events_url": "https://api.github.com/users/ArtsiomCh/events{/privacy}", "received_events_url": "https://api.github.com/users/ArtsiomCh/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-13T04:11:52Z", "updated_at": "2017-03-13T04:11:52Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Have similar problems starting on real device (LP5.1) successfully created apk with Android studio.<br>\nApk created by Bazel works fine. Comparing two apks (Old - android-debug.apk from Android studio; New - tensorflow_demo.apk from Bazel) shows the next:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/14268320/23840746/a72deb64-079f-11e7-8285-292d33820226.png\"><img src=\"https://cloud.githubusercontent.com/assets/14268320/23840746/a72deb64-079f-11e7-8285-292d33820226.png\" alt=\"image\" style=\"max-width:100%;\"></a><br>\nLooks like existence of libtensorflow_inference.so doesn't metter. It's not exist at tensorflow_demo.apk from Bazel and apk work fine.</p>\n<p>PS Logcat (through Android Monitor in Android Studio) when starting android-debug.apk shows next error:<br>\n03-12 23:53:26.525 26147-26147/org.tensorflow.demo E/AndroidRuntime: FATAL EXCEPTION: main<br>\nProcess: org.tensorflow.demo, PID: 26147<br>\njava.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file \"/data/app/org.tensorflow.demo-1/base.apk\", zip file \"/data/app/org.tensorflow.demo-1/split_lib_slice_0_apk.apk\", ....... ],nativeLibraryDirectories=[/data/app/org.tensorflow.demo-1/lib/arm64, /vendor/lib64, /system/lib64]]] couldn't find \"libtensorflow_demo.so\"<br>\nLooks like libtensorflow_demo.so is included in Libs but not linked for some reason... Will keep investigating.</p>", "body_text": "Have similar problems starting on real device (LP5.1) successfully created apk with Android studio.\nApk created by Bazel works fine. Comparing two apks (Old - android-debug.apk from Android studio; New - tensorflow_demo.apk from Bazel) shows the next:\n\nLooks like existence of libtensorflow_inference.so doesn't metter. It's not exist at tensorflow_demo.apk from Bazel and apk work fine.\nPS Logcat (through Android Monitor in Android Studio) when starting android-debug.apk shows next error:\n03-12 23:53:26.525 26147-26147/org.tensorflow.demo E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: org.tensorflow.demo, PID: 26147\njava.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file \"/data/app/org.tensorflow.demo-1/base.apk\", zip file \"/data/app/org.tensorflow.demo-1/split_lib_slice_0_apk.apk\", ....... ],nativeLibraryDirectories=[/data/app/org.tensorflow.demo-1/lib/arm64, /vendor/lib64, /system/lib64]]] couldn't find \"libtensorflow_demo.so\"\nLooks like libtensorflow_demo.so is included in Libs but not linked for some reason... Will keep investigating.", "body": "Have similar problems starting on real device (LP5.1) successfully created apk with Android studio.\r\nApk created by Bazel works fine. Comparing two apks (Old - android-debug.apk from Android studio; New - tensorflow_demo.apk from Bazel) shows the next:\r\n![image](https://cloud.githubusercontent.com/assets/14268320/23840746/a72deb64-079f-11e7-8285-292d33820226.png)\r\nLooks like existence of libtensorflow_inference.so doesn't metter. It's not exist at tensorflow_demo.apk from Bazel and apk work fine.\r\n\r\nPS Logcat (through Android Monitor in Android Studio) when starting android-debug.apk shows next error:\r\n03-12 23:53:26.525 26147-26147/org.tensorflow.demo E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                     Process: org.tensorflow.demo, PID: 26147\r\n                                                                     java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file \"/data/app/org.tensorflow.demo-1/base.apk\", zip file \"/data/app/org.tensorflow.demo-1/split_lib_slice_0_apk.apk\", ....<censored>... ],nativeLibraryDirectories=[/data/app/org.tensorflow.demo-1/lib/arm64, /vendor/lib64, /system/lib64]]] couldn't find \"libtensorflow_demo.so\"\r\nLooks like libtensorflow_demo.so is included in Libs but not linked for some reason... Will keep investigating."}