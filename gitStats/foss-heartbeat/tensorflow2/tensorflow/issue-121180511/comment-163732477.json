{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/163732477", "html_url": "https://github.com/tensorflow/tensorflow/issues/452#issuecomment-163732477", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/452", "id": 163732477, "node_id": "MDEyOklzc3VlQ29tbWVudDE2MzczMjQ3Nw==", "user": {"login": "hamidb", "id": 4418982, "node_id": "MDQ6VXNlcjQ0MTg5ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4418982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hamidb", "html_url": "https://github.com/hamidb", "followers_url": "https://api.github.com/users/hamidb/followers", "following_url": "https://api.github.com/users/hamidb/following{/other_user}", "gists_url": "https://api.github.com/users/hamidb/gists{/gist_id}", "starred_url": "https://api.github.com/users/hamidb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hamidb/subscriptions", "organizations_url": "https://api.github.com/users/hamidb/orgs", "repos_url": "https://api.github.com/users/hamidb/repos", "events_url": "https://api.github.com/users/hamidb/events{/privacy}", "received_events_url": "https://api.github.com/users/hamidb/received_events", "type": "User", "site_admin": false}, "created_at": "2015-12-10T19:54:00Z", "updated_at": "2015-12-10T19:54:00Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3376817\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewharp\">@andrewharp</a><br>\nI can reproduce it when using <code>bazel 0.1.1</code>. It compiles with <code>0.1.2</code><br>\nHere are the steps to reproduce:</p>\n<p>1- bazel clean --expunge</p>\n<p>2- cd google/protpbuf/ &amp; make clean</p>\n<p>3- rm -rf ~/.cache/bazel/_bazel_user</p>\n<p>4- compile bazel</p>\n<p>5- ./configure tensorflow without gpu</p>\n<p>6- bazel build --verbose_failures  //tensorflow/examples/android:tensorflow_demo</p>\n<p>I get this:</p>\n<pre><code>ERROR: /home/hamid/.cache/bazel/_bazel_hamid/f7e3d3cb1f79b9a7f53120cc4d577bcd/external/default_android_tools/src/main/protobuf/BUILD:19:2: every rule of type gensrcjar implicitly depends upon the target '//third_party:protoc',  but this target could not be found. If this is an integration test, maybe you forgot to add a mock for your new tool?.\nERROR: Loading failed; build aborted.\n</code></pre>\n<p>It will be OK if I first compile protobuf and then build the demo. But it would be nicer for the demo build flow to automatically resolve it.</p>", "body_text": "@andrewharp\nI can reproduce it when using bazel 0.1.1. It compiles with 0.1.2\nHere are the steps to reproduce:\n1- bazel clean --expunge\n2- cd google/protpbuf/ & make clean\n3- rm -rf ~/.cache/bazel/_bazel_user\n4- compile bazel\n5- ./configure tensorflow without gpu\n6- bazel build --verbose_failures  //tensorflow/examples/android:tensorflow_demo\nI get this:\nERROR: /home/hamid/.cache/bazel/_bazel_hamid/f7e3d3cb1f79b9a7f53120cc4d577bcd/external/default_android_tools/src/main/protobuf/BUILD:19:2: every rule of type gensrcjar implicitly depends upon the target '//third_party:protoc',  but this target could not be found. If this is an integration test, maybe you forgot to add a mock for your new tool?.\nERROR: Loading failed; build aborted.\n\nIt will be OK if I first compile protobuf and then build the demo. But it would be nicer for the demo build flow to automatically resolve it.", "body": "@andrewharp \nI can reproduce it when using `bazel 0.1.1`. It compiles with `0.1.2`\nHere are the steps to reproduce:\n\n1- bazel clean --expunge\n\n2- cd google/protpbuf/ & make clean\n\n3- rm -rf ~/.cache/bazel/_bazel_user\n\n4- compile bazel\n\n5- ./configure tensorflow without gpu\n\n6- bazel build --verbose_failures  //tensorflow/examples/android:tensorflow_demo\n\nI get this:\n\n```\nERROR: /home/hamid/.cache/bazel/_bazel_hamid/f7e3d3cb1f79b9a7f53120cc4d577bcd/external/default_android_tools/src/main/protobuf/BUILD:19:2: every rule of type gensrcjar implicitly depends upon the target '//third_party:protoc',  but this target could not be found. If this is an integration test, maybe you forgot to add a mock for your new tool?.\nERROR: Loading failed; build aborted.\n```\n\nIt will be OK if I first compile protobuf and then build the demo. But it would be nicer for the demo build flow to automatically resolve it.\n"}