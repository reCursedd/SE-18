{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/371124792", "html_url": "https://github.com/tensorflow/tensorflow/issues/17431#issuecomment-371124792", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17431", "id": 371124792, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTEyNDc5Mg==", "user": {"login": "voegtlel", "id": 5764745, "node_id": "MDQ6VXNlcjU3NjQ3NDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/5764745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/voegtlel", "html_url": "https://github.com/voegtlel", "followers_url": "https://api.github.com/users/voegtlel/followers", "following_url": "https://api.github.com/users/voegtlel/following{/other_user}", "gists_url": "https://api.github.com/users/voegtlel/gists{/gist_id}", "starred_url": "https://api.github.com/users/voegtlel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/voegtlel/subscriptions", "organizations_url": "https://api.github.com/users/voegtlel/orgs", "repos_url": "https://api.github.com/users/voegtlel/repos", "events_url": "https://api.github.com/users/voegtlel/events{/privacy}", "received_events_url": "https://api.github.com/users/voegtlel/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-07T12:34:55Z", "updated_at": "2018-03-07T12:34:55Z", "author_association": "CONTRIBUTOR", "body_html": "<p>In case anyone needs a workaround: Go to <a href=\"https://developer.nvidia.com/cuda-90-download-archive\" rel=\"nofollow\">https://developer.nvidia.com/cuda-90-download-archive</a>, Select: Linux, x86_64, Ubuntu, 16.04, deb (local). Download base installer and all patches.</p>\n<p>Build a new docker image with Dockerfile:</p>\n<div class=\"highlight highlight-source-dockerfile\"><pre><span class=\"pl-k\">FROM</span> tensorflow/tensorflow:1.6.0-gpu-py3\n<span class=\"pl-k\">ADD</span> cuda-repo-ubuntu1604-9-0-local_9.0.176-1_amd64.deb /tmp\n<span class=\"pl-k\">ADD</span> cuda-repo-ubuntu1604-9-0-local-cublas-performance-update_1.0-1_amd64.deb /tmp\n<span class=\"pl-k\">ADD</span> cuda-repo-ubuntu1604-9-0-local-cublas-performance-update-2_1.0-1_amd64.deb /tmp\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Does not require any internet connection</span>\n<span class=\"pl-k\">RUN</span> dpkg -i /tmp/cuda-repo-ubuntu1604-9-0-local_9.0.176-1_amd64.deb &amp;&amp; \\\n dpkg -i /tmp/cuda-repo-ubuntu1604-9-0-local-cublas-performance-update_1.0-1_amd64.deb &amp;&amp; \\\n dpkg -i /tmp/cuda-repo-ubuntu1604-9-0-local-cublas-performance-update-2_1.0-1_amd64.deb &amp;&amp; \\\n apt-key add /var/cuda-repo-9-0-local/7fa2af80.pub &amp;&amp; \\\n apt-get update -o Dir::Etc::sourcelist=<span class=\"pl-s\">\"sources.list.d/cuda-9-0-local.list\"</span> -o Dir::Etc::sourceparts=<span class=\"pl-s\">\"-\"</span> -o APT::Get::List-Cleanup=<span class=\"pl-s\">\"0\"</span> &amp;&amp; \\\n apt-get update -o Dir::Etc::sourcelist=<span class=\"pl-s\">\"sources.list.d/cuda-9-0-local-cublas-performance-update.list\"</span> -o Dir::Etc::sourceparts=<span class=\"pl-s\">\"-\"</span> -o APT::Get::List-Cleanup=<span class=\"pl-s\">\"0\"</span> &amp;&amp; \\\n apt-get update -o Dir::Etc::sourcelist=<span class=\"pl-s\">\"sources.list.d/cuda-9-0-local-cublas-performance-update-2.list\"</span> -o Dir::Etc::sourceparts=<span class=\"pl-s\">\"-\"</span> -o APT::Get::List-Cleanup=<span class=\"pl-s\">\"0\"</span> &amp;&amp; \\\n apt-get install -y cuda-libraries-9-0 cuda-command-line-tools-9-0 cuda-cublas-9-0</pre></div>", "body_text": "In case anyone needs a workaround: Go to https://developer.nvidia.com/cuda-90-download-archive, Select: Linux, x86_64, Ubuntu, 16.04, deb (local). Download base installer and all patches.\nBuild a new docker image with Dockerfile:\nFROM tensorflow/tensorflow:1.6.0-gpu-py3\nADD cuda-repo-ubuntu1604-9-0-local_9.0.176-1_amd64.deb /tmp\nADD cuda-repo-ubuntu1604-9-0-local-cublas-performance-update_1.0-1_amd64.deb /tmp\nADD cuda-repo-ubuntu1604-9-0-local-cublas-performance-update-2_1.0-1_amd64.deb /tmp\n# Does not require any internet connection\nRUN dpkg -i /tmp/cuda-repo-ubuntu1604-9-0-local_9.0.176-1_amd64.deb && \\\n dpkg -i /tmp/cuda-repo-ubuntu1604-9-0-local-cublas-performance-update_1.0-1_amd64.deb && \\\n dpkg -i /tmp/cuda-repo-ubuntu1604-9-0-local-cublas-performance-update-2_1.0-1_amd64.deb && \\\n apt-key add /var/cuda-repo-9-0-local/7fa2af80.pub && \\\n apt-get update -o Dir::Etc::sourcelist=\"sources.list.d/cuda-9-0-local.list\" -o Dir::Etc::sourceparts=\"-\" -o APT::Get::List-Cleanup=\"0\" && \\\n apt-get update -o Dir::Etc::sourcelist=\"sources.list.d/cuda-9-0-local-cublas-performance-update.list\" -o Dir::Etc::sourceparts=\"-\" -o APT::Get::List-Cleanup=\"0\" && \\\n apt-get update -o Dir::Etc::sourcelist=\"sources.list.d/cuda-9-0-local-cublas-performance-update-2.list\" -o Dir::Etc::sourceparts=\"-\" -o APT::Get::List-Cleanup=\"0\" && \\\n apt-get install -y cuda-libraries-9-0 cuda-command-line-tools-9-0 cuda-cublas-9-0", "body": "In case anyone needs a workaround: Go to https://developer.nvidia.com/cuda-90-download-archive, Select: Linux, x86_64, Ubuntu, 16.04, deb (local). Download base installer and all patches.\r\n\r\nBuild a new docker image with Dockerfile:\r\n```Dockerfile\r\nFROM tensorflow/tensorflow:1.6.0-gpu-py3\r\nADD cuda-repo-ubuntu1604-9-0-local_9.0.176-1_amd64.deb /tmp\r\nADD cuda-repo-ubuntu1604-9-0-local-cublas-performance-update_1.0-1_amd64.deb /tmp\r\nADD cuda-repo-ubuntu1604-9-0-local-cublas-performance-update-2_1.0-1_amd64.deb /tmp\r\n# Does not require any internet connection\r\nRUN dpkg -i /tmp/cuda-repo-ubuntu1604-9-0-local_9.0.176-1_amd64.deb && \\\r\n dpkg -i /tmp/cuda-repo-ubuntu1604-9-0-local-cublas-performance-update_1.0-1_amd64.deb && \\\r\n dpkg -i /tmp/cuda-repo-ubuntu1604-9-0-local-cublas-performance-update-2_1.0-1_amd64.deb && \\\r\n apt-key add /var/cuda-repo-9-0-local/7fa2af80.pub && \\\r\n apt-get update -o Dir::Etc::sourcelist=\"sources.list.d/cuda-9-0-local.list\" -o Dir::Etc::sourceparts=\"-\" -o APT::Get::List-Cleanup=\"0\" && \\\r\n apt-get update -o Dir::Etc::sourcelist=\"sources.list.d/cuda-9-0-local-cublas-performance-update.list\" -o Dir::Etc::sourceparts=\"-\" -o APT::Get::List-Cleanup=\"0\" && \\\r\n apt-get update -o Dir::Etc::sourcelist=\"sources.list.d/cuda-9-0-local-cublas-performance-update-2.list\" -o Dir::Etc::sourceparts=\"-\" -o APT::Get::List-Cleanup=\"0\" && \\\r\n apt-get install -y cuda-libraries-9-0 cuda-command-line-tools-9-0 cuda-cublas-9-0\r\n```"}