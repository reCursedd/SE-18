{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10789", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10789/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10789/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10789/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10789", "id": 236630575, "node_id": "MDU6SXNzdWUyMzY2MzA1NzU=", "number": 10789, "title": "quantize_graph error in simple graph", "user": {"login": "xzj6795365", "id": 20142416, "node_id": "MDQ6VXNlcjIwMTQyNDE2", "avatar_url": "https://avatars2.githubusercontent.com/u/20142416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xzj6795365", "html_url": "https://github.com/xzj6795365", "followers_url": "https://api.github.com/users/xzj6795365/followers", "following_url": "https://api.github.com/users/xzj6795365/following{/other_user}", "gists_url": "https://api.github.com/users/xzj6795365/gists{/gist_id}", "starred_url": "https://api.github.com/users/xzj6795365/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xzj6795365/subscriptions", "organizations_url": "https://api.github.com/users/xzj6795365/orgs", "repos_url": "https://api.github.com/users/xzj6795365/repos", "events_url": "https://api.github.com/users/xzj6795365/events{/privacy}", "received_events_url": "https://api.github.com/users/xzj6795365/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-06-17T01:32:54Z", "updated_at": "2018-01-27T02:53:15Z", "closed_at": "2018-01-27T02:53:15Z", "author_association": "NONE", "body_html": "<p>when my graph is as follows, it will fail to quantize, the error info is <strong>AssertionError: Failed to quantized constant ones_1 of type</strong><br>\n<code>x = tf.ones((1000,1),'int32') **ones = tf.ones((1, 100), \"int32\")** x = tf.reshape(x, shape=(-1,1))</code></p>\n<p>when i change graph to the following, it works:<br>\n<code>x = tf.ones((1000,1),'int32') **ones = tf.ones((1, 100), \"int32\") ones = tf.reshape(ones, shape=(1,-1))** x = tf.reshape(x, shape=(-1,1))</code></p>\n<p>is there anyone can help me to find out the reason, because even i change my code and successfully generated quantized graph, the graph is wrong when importing, BTW my graph is much more complex than the code above.</p>", "body_text": "when my graph is as follows, it will fail to quantize, the error info is AssertionError: Failed to quantized constant ones_1 of type\nx = tf.ones((1000,1),'int32') **ones = tf.ones((1, 100), \"int32\")** x = tf.reshape(x, shape=(-1,1))\nwhen i change graph to the following, it works:\nx = tf.ones((1000,1),'int32') **ones = tf.ones((1, 100), \"int32\") ones = tf.reshape(ones, shape=(1,-1))** x = tf.reshape(x, shape=(-1,1))\nis there anyone can help me to find out the reason, because even i change my code and successfully generated quantized graph, the graph is wrong when importing, BTW my graph is much more complex than the code above.", "body": "\r\nwhen my graph is as follows, it will fail to quantize, the error info is **AssertionError: Failed to quantized constant ones_1 of type**\r\n`x = tf.ones((1000,1),'int32')\r\n**ones = tf.ones((1, 100), \"int32\")**\r\nx = tf.reshape(x, shape=(-1,1))`\r\n\r\nwhen i change graph to the following, it works:\r\n`x = tf.ones((1000,1),'int32')\r\n**ones = tf.ones((1, 100), \"int32\")\r\nones = tf.reshape(ones, shape=(1,-1))**\r\nx = tf.reshape(x, shape=(-1,1))`\r\n\r\nis there anyone can help me to find out the reason, because even i change my code and successfully generated quantized graph, the graph is wrong when importing, BTW my graph is much more complex than the code above."}