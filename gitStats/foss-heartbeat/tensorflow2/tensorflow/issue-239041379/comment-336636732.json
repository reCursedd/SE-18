{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/336636732", "html_url": "https://github.com/tensorflow/tensorflow/issues/11096#issuecomment-336636732", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11096", "id": 336636732, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjYzNjczMg==", "user": {"login": "kalengi", "id": 2128805, "node_id": "MDQ6VXNlcjIxMjg4MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2128805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kalengi", "html_url": "https://github.com/kalengi", "followers_url": "https://api.github.com/users/kalengi/followers", "following_url": "https://api.github.com/users/kalengi/following{/other_user}", "gists_url": "https://api.github.com/users/kalengi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kalengi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kalengi/subscriptions", "organizations_url": "https://api.github.com/users/kalengi/orgs", "repos_url": "https://api.github.com/users/kalengi/repos", "events_url": "https://api.github.com/users/kalengi/events{/privacy}", "received_events_url": "https://api.github.com/users/kalengi/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-14T14:01:34Z", "updated_at": "2017-10-14T14:02:31Z", "author_association": "NONE", "body_html": "<p>I followed the steps by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=65741\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/davidshen84\">@davidshen84</a> with a few differences:</p>\n<ol>\n<li><strong>cmake command:</strong></li>\n</ol>\n<pre><code>cmake .. -G \"Visual Studio 15 2017 Win64\" ^\n-DCMAKE_BUILD_TYPE=Release ^\n-DSWIG_EXECUTABLE=C:/tools/swigwin-3.0.12/swig.exe ^\n-DPYTHON_EXECUTABLE=C:/Python36/python.exe ^\n-DPYTHON_LIBRARIES=C:/Python36/libs/python36.lib ^\n-Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX\n</code></pre>\n<ol start=\"2\">\n<li><strong>Command used to build:</strong></li>\n</ol>\n<pre><code>\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" /m:2 /p:CL_MPCount=1 /p:Configuration=Release /p:Platform=x64 /p:PreferredToolArchitecture=x64 ALL_BUILD.vcxproj\n\n\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" /m:2 /p:CL_MPCount=1 /p:Configuration=Release /p:Platform=x64 /p:PreferredToolArchitecture=x64 tf_python_build_pip_package.vcxproj\n</code></pre>\n<ul>\n<li>Despite being in the 64-bit VS 2017 command line, I still had to explicitly run the 64-bit version of MSBuild. The default is 32-bit.</li>\n<li>I used <code>/m:2</code> and <code>/p:CL_MPCount=1</code> to limit the number of parallel compilations running in order to avoid running out of heap space.</li>\n<li>I'm not sure <code>/p:Platform=x64</code> and <code>/p:PreferredToolArchitecture=x64</code> added any value, but had them in there anyway to explicitly emphasize 64-bit tools.</li>\n</ul>", "body_text": "I followed the steps by @davidshen84 with a few differences:\n\ncmake command:\n\ncmake .. -G \"Visual Studio 15 2017 Win64\" ^\n-DCMAKE_BUILD_TYPE=Release ^\n-DSWIG_EXECUTABLE=C:/tools/swigwin-3.0.12/swig.exe ^\n-DPYTHON_EXECUTABLE=C:/Python36/python.exe ^\n-DPYTHON_LIBRARIES=C:/Python36/libs/python36.lib ^\n-Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX\n\n\nCommand used to build:\n\n\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" /m:2 /p:CL_MPCount=1 /p:Configuration=Release /p:Platform=x64 /p:PreferredToolArchitecture=x64 ALL_BUILD.vcxproj\n\n\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" /m:2 /p:CL_MPCount=1 /p:Configuration=Release /p:Platform=x64 /p:PreferredToolArchitecture=x64 tf_python_build_pip_package.vcxproj\n\n\nDespite being in the 64-bit VS 2017 command line, I still had to explicitly run the 64-bit version of MSBuild. The default is 32-bit.\nI used /m:2 and /p:CL_MPCount=1 to limit the number of parallel compilations running in order to avoid running out of heap space.\nI'm not sure /p:Platform=x64 and /p:PreferredToolArchitecture=x64 added any value, but had them in there anyway to explicitly emphasize 64-bit tools.", "body": "I followed the steps by @davidshen84 with a few differences:\r\n\r\n1. **cmake command:**\r\n```\r\ncmake .. -G \"Visual Studio 15 2017 Win64\" ^\r\n-DCMAKE_BUILD_TYPE=Release ^\r\n-DSWIG_EXECUTABLE=C:/tools/swigwin-3.0.12/swig.exe ^\r\n-DPYTHON_EXECUTABLE=C:/Python36/python.exe ^\r\n-DPYTHON_LIBRARIES=C:/Python36/libs/python36.lib ^\r\n-Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX\r\n```\r\n\r\n2. **Command used to build:**\r\n```\r\n\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" /m:2 /p:CL_MPCount=1 /p:Configuration=Release /p:Platform=x64 /p:PreferredToolArchitecture=x64 ALL_BUILD.vcxproj\r\n\r\n\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" /m:2 /p:CL_MPCount=1 /p:Configuration=Release /p:Platform=x64 /p:PreferredToolArchitecture=x64 tf_python_build_pip_package.vcxproj\r\n```\r\n\r\n- Despite being in the 64-bit VS 2017 command line, I still had to explicitly run the 64-bit version of MSBuild. The default is 32-bit. \r\n- I used `/m:2` and `/p:CL_MPCount=1` to limit the number of parallel compilations running in order to avoid running out of heap space.\r\n- I'm not sure `/p:Platform=x64` and `/p:PreferredToolArchitecture=x64` added any value, but had them in there anyway to explicitly emphasize 64-bit tools.\r\n"}