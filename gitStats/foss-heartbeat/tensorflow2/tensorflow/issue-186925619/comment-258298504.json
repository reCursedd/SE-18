{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/258298504", "html_url": "https://github.com/tensorflow/tensorflow/issues/5362#issuecomment-258298504", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5362", "id": 258298504, "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODI5ODUwNA==", "user": {"login": "alexatknit", "id": 15474222, "node_id": "MDQ6VXNlcjE1NDc0MjIy", "avatar_url": "https://avatars2.githubusercontent.com/u/15474222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexatknit", "html_url": "https://github.com/alexatknit", "followers_url": "https://api.github.com/users/alexatknit/followers", "following_url": "https://api.github.com/users/alexatknit/following{/other_user}", "gists_url": "https://api.github.com/users/alexatknit/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexatknit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexatknit/subscriptions", "organizations_url": "https://api.github.com/users/alexatknit/orgs", "repos_url": "https://api.github.com/users/alexatknit/repos", "events_url": "https://api.github.com/users/alexatknit/events{/privacy}", "received_events_url": "https://api.github.com/users/alexatknit/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-03T22:55:25Z", "updated_at": "2016-11-03T22:55:25Z", "author_association": "NONE", "body_html": "<p>Alright, I updated the architecture to support setting environment variables before deserialization and it appears that it still fails:</p>\n<pre><code>creating ec2 cluster\nlaunching instances\nwaiting for ip addresses to be assigned\ncluster config: {\n  \"worker_hosts\": [\n    \"35.160.255.186\",\n    \"35.160.255.186\"\n  ],\n  \"ps_hosts\": [\n    \"35.160.255.186\"\n  ]\n}\nsetting rules for security group.\nwaiting for cluster instances to boot up.\nstarting ps host at: 35.160.255.186\nstarting worker host at: 35.160.255.186\nstarting master worker host at: 35.160.255.186\n35.160.255.186: env = {}\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\n35.160.255.186: env = {'CUDA_VISIBLE_DEVICES': '0,1,2,3,4,5,6,7'}\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\n35.160.255.186: env = {'CUDA_VISIBLE_DEVICES': '8,9,10,11,12,13,14,15'}\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\n35.160.255.186: INFO: starting parameter server 0\n35.160.255.186: INFO: starting master worker.\n35.160.255.186: INFO: starting training worker 1\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:17.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e64e3f6b0\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:0f.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:0f.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e60e3c540\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebd0934f0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 1 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:18.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e6522b7e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 1 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:10.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebd4e4f80\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 1 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:10.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e612288e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 2 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:0f.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e65619840\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 2 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:11.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebd9357e0\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 2 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:11.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e61616d00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 3 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:10.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e65a08fc0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 3 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:12.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebdd89f40\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 3 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:12.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e61a060c0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 4 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:11.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e65df9aa0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 4 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:13.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebe1e2600\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 4 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:13.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e61df67e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 5 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:12.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e661eb520\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 5 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:14.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebe63ec40\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 5 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:14.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e621e8260\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 6 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:13.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e665dedc0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 6 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:15.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebea9f5a0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 6 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:15.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e625dbb00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 7 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:14.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 7 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:16.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebef03bb0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 7 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:16.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0 1 2 3 4 5 6 7\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 1:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 2:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 3:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 4:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 5:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 6:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 7:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: Tesla K80, pci bus id: 0000:00:17.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:1) -&gt; (device: 1, name: Tesla K80, pci bus id: 0000:00:18.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:2) -&gt; (device: 2, name: Tesla K80, pci bus id: 0000:00:0f.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:3) -&gt; (device: 3, name: Tesla K80, pci bus id: 0000:00:10.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:4) -&gt; (device: 4, name: Tesla K80, pci bus id: 0000:00:11.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:5) -&gt; (device: 5, name: Tesla K80, pci bus id: 0000:00:12.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:6) -&gt; (device: 6, name: Tesla K80, pci bus id: 0000:00:13.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:7) -&gt; (device: 7, name: Tesla K80, pci bus id: 0000:00:14.0)\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 8 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:17.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 565.56MiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebf36c090\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 9 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:18.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 504.81MiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebf7d8550\n35.160.255.186: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:197] Initialize GrpcChannelCache for job ps -&gt; {0 -&gt; 127.0.0.1:40842}\n35.160.255.186: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:197] Initialize GrpcChannelCache for job worker -&gt; {0 -&gt; 127.0.0.1:50425, 1 -&gt; localhost:52197}\n35.160.255.186: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:206] Started server with target: grpc://localhost:52197\n35.160.255.186: INFO: training model res_net_v10_20161103_2_fcn.0\n35.160.255.186: INFO: setting up device: '/job:worker/task:1'\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 10 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:19.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebfc48b00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 11 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1a.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce40bd6e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 12 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1b.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce4535a80\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 13 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1c.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce49b1e00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 14 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1d.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce4e320b0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 15 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1e.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/dist-packages/KnitPyUtils-0.0.40-py3.4.egg/knitutils/parallel/future.py\", line 18, in _deploy_worker\n    result = (\"#RETURN\", fn(*args, **kwargs))\n  File \"/usr/local/lib/python3.4/dist-packages/KnitPyUtils-0.0.40-py3.4.egg/knitutils/parallel/cluster.py\", line 23, in _run_worker\n    return fn(*args, **kwargs)\n  File \"/usr/local/lib/python3.4/dist-packages/KnitNN-0.5.30-py3.4.egg/nn/train/train.py\", line 406, in train_master\n    server = tf.train.Server(cluster, job_name='worker', task_index=0)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/training/server_lib.py\", line 152, in __init__\n    self._server_def.SerializeToString(), status)\n  File \"/usr/lib/python3.4/contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/errors.py\", line 463, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.InternalError: Internal: failed to enable peer access from 0x7f4e79688120 to 0x7f4e7aa4ebb0: CUDA_ERROR_TOO_MANY_PEERS\nscheduling instances for termination: ['35.160.255.186']\nwaiting for termination to complete.\n</code></pre>", "body_text": "Alright, I updated the architecture to support setting environment variables before deserialization and it appears that it still fails:\ncreating ec2 cluster\nlaunching instances\nwaiting for ip addresses to be assigned\ncluster config: {\n  \"worker_hosts\": [\n    \"35.160.255.186\",\n    \"35.160.255.186\"\n  ],\n  \"ps_hosts\": [\n    \"35.160.255.186\"\n  ]\n}\nsetting rules for security group.\nwaiting for cluster instances to boot up.\nstarting ps host at: 35.160.255.186\nstarting worker host at: 35.160.255.186\nstarting master worker host at: 35.160.255.186\n35.160.255.186: env = {}\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\n35.160.255.186: env = {'CUDA_VISIBLE_DEVICES': '0,1,2,3,4,5,6,7'}\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\n35.160.255.186: env = {'CUDA_VISIBLE_DEVICES': '8,9,10,11,12,13,14,15'}\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\n35.160.255.186: INFO: starting parameter server 0\n35.160.255.186: INFO: starting master worker.\n35.160.255.186: INFO: starting training worker 1\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:17.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e64e3f6b0\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:0f.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:0f.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e60e3c540\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebd0934f0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 1 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:18.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e6522b7e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 1 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:10.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebd4e4f80\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 1 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:10.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e612288e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 2 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:0f.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e65619840\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 2 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:11.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebd9357e0\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 2 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:11.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e61616d00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 3 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:10.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e65a08fc0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 3 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:12.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebdd89f40\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 3 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:12.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e61a060c0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 4 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:11.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e65df9aa0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 4 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:13.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebe1e2600\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 4 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:13.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e61df67e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 5 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:12.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e661eb520\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 5 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:14.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebe63ec40\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 5 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:14.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e621e8260\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 6 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:13.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e665dedc0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 6 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:15.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebea9f5a0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 6 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:15.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e625dbb00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 7 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:14.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 7 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:16.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebef03bb0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 7 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:16.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0 1 2 3 4 5 6 7\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 1:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 2:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 3:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 4:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 5:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 6:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 7:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:00:17.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:1) -> (device: 1, name: Tesla K80, pci bus id: 0000:00:18.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:2) -> (device: 2, name: Tesla K80, pci bus id: 0000:00:0f.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:3) -> (device: 3, name: Tesla K80, pci bus id: 0000:00:10.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:4) -> (device: 4, name: Tesla K80, pci bus id: 0000:00:11.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:5) -> (device: 5, name: Tesla K80, pci bus id: 0000:00:12.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:6) -> (device: 6, name: Tesla K80, pci bus id: 0000:00:13.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:7) -> (device: 7, name: Tesla K80, pci bus id: 0000:00:14.0)\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 8 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:17.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 565.56MiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebf36c090\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 9 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:18.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 504.81MiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebf7d8550\n35.160.255.186: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:197] Initialize GrpcChannelCache for job ps -> {0 -> 127.0.0.1:40842}\n35.160.255.186: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:197] Initialize GrpcChannelCache for job worker -> {0 -> 127.0.0.1:50425, 1 -> localhost:52197}\n35.160.255.186: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:206] Started server with target: grpc://localhost:52197\n35.160.255.186: INFO: training model res_net_v10_20161103_2_fcn.0\n35.160.255.186: INFO: setting up device: '/job:worker/task:1'\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 10 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:19.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebfc48b00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 11 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1a.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce40bd6e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 12 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1b.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce4535a80\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 13 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1c.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce49b1e00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 14 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1d.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce4e320b0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 15 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1e.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/dist-packages/KnitPyUtils-0.0.40-py3.4.egg/knitutils/parallel/future.py\", line 18, in _deploy_worker\n    result = (\"#RETURN\", fn(*args, **kwargs))\n  File \"/usr/local/lib/python3.4/dist-packages/KnitPyUtils-0.0.40-py3.4.egg/knitutils/parallel/cluster.py\", line 23, in _run_worker\n    return fn(*args, **kwargs)\n  File \"/usr/local/lib/python3.4/dist-packages/KnitNN-0.5.30-py3.4.egg/nn/train/train.py\", line 406, in train_master\n    server = tf.train.Server(cluster, job_name='worker', task_index=0)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/training/server_lib.py\", line 152, in __init__\n    self._server_def.SerializeToString(), status)\n  File \"/usr/lib/python3.4/contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/errors.py\", line 463, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.InternalError: Internal: failed to enable peer access from 0x7f4e79688120 to 0x7f4e7aa4ebb0: CUDA_ERROR_TOO_MANY_PEERS\nscheduling instances for termination: ['35.160.255.186']\nwaiting for termination to complete.", "body": "Alright, I updated the architecture to support setting environment variables before deserialization and it appears that it still fails:\n\n```\ncreating ec2 cluster\nlaunching instances\nwaiting for ip addresses to be assigned\ncluster config: {\n  \"worker_hosts\": [\n    \"35.160.255.186\",\n    \"35.160.255.186\"\n  ],\n  \"ps_hosts\": [\n    \"35.160.255.186\"\n  ]\n}\nsetting rules for security group.\nwaiting for cluster instances to boot up.\nstarting ps host at: 35.160.255.186\nstarting worker host at: 35.160.255.186\nstarting master worker host at: 35.160.255.186\n35.160.255.186: env = {}\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\n35.160.255.186: env = {'CUDA_VISIBLE_DEVICES': '0,1,2,3,4,5,6,7'}\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\n35.160.255.186: env = {'CUDA_VISIBLE_DEVICES': '8,9,10,11,12,13,14,15'}\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so.8.0 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\n35.160.255.186: I tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so.8.0 locally\n35.160.255.186: INFO: starting parameter server 0\n35.160.255.186: INFO: starting master worker.\n35.160.255.186: INFO: starting training worker 1\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:17.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e64e3f6b0\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:0f.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:0f.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e60e3c540\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebd0934f0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 1 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:18.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e6522b7e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 1 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:10.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebd4e4f80\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 1 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:10.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e612288e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 2 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:0f.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e65619840\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 2 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:11.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebd9357e0\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 2 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:11.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e61616d00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 3 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:10.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e65a08fc0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 3 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:12.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebdd89f40\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 3 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:12.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e61a060c0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 4 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:11.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e65df9aa0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 4 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:13.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebe1e2600\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 4 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:13.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e61df67e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 5 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:12.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e661eb520\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 5 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:14.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebe63ec40\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 5 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:14.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e621e8260\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 6 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:13.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e665dedc0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 6 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:15.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebea9f5a0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 6 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:15.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4e625dbb00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 7 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:14.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 10.99GiB\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 7 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:16.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebef03bb0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 7 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:16.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.05GiB\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0 1 2 3 4 5 6 7\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 1:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 2:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 3:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 4:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 5:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 6:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 7:   Y Y Y Y Y Y Y Y\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:00:17.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:1) -> (device: 1, name: Tesla K80, pci bus id: 0000:00:18.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:2) -> (device: 2, name: Tesla K80, pci bus id: 0000:00:0f.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:3) -> (device: 3, name: Tesla K80, pci bus id: 0000:00:10.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:4) -> (device: 4, name: Tesla K80, pci bus id: 0000:00:11.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:5) -> (device: 5, name: Tesla K80, pci bus id: 0000:00:12.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:6) -> (device: 6, name: Tesla K80, pci bus id: 0000:00:13.0)\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:7) -> (device: 7, name: Tesla K80, pci bus id: 0000:00:14.0)\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 8 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:17.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 565.56MiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebf36c090\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 9 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:18.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 504.81MiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebf7d8550\n35.160.255.186: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:197] Initialize GrpcChannelCache for job ps -> {0 -> 127.0.0.1:40842}\n35.160.255.186: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:197] Initialize GrpcChannelCache for job worker -> {0 -> 127.0.0.1:50425, 1 -> localhost:52197}\n35.160.255.186: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:206] Started server with target: grpc://localhost:52197\n35.160.255.186: INFO: training model res_net_v10_20161103_2_fcn.0\n35.160.255.186: INFO: setting up device: '/job:worker/task:1'\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 10 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:19.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ebfc48b00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 11 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1a.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce40bd6e0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 12 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1b.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce4535a80\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 13 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1c.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce49b1e00\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 14 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1d.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\n35.160.255.186: W tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x7f4ce4e320b0\n35.160.255.186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n35.160.255.186: I tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 15 with properties:\n35.160.255.186: name: Tesla K80\n35.160.255.186: major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n35.160.255.186: pciBusID 0000:00:1e.0\n35.160.255.186: Total memory: 11.17GiB\n35.160.255.186: Free memory: 11.11GiB\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/dist-packages/KnitPyUtils-0.0.40-py3.4.egg/knitutils/parallel/future.py\", line 18, in _deploy_worker\n    result = (\"#RETURN\", fn(*args, **kwargs))\n  File \"/usr/local/lib/python3.4/dist-packages/KnitPyUtils-0.0.40-py3.4.egg/knitutils/parallel/cluster.py\", line 23, in _run_worker\n    return fn(*args, **kwargs)\n  File \"/usr/local/lib/python3.4/dist-packages/KnitNN-0.5.30-py3.4.egg/nn/train/train.py\", line 406, in train_master\n    server = tf.train.Server(cluster, job_name='worker', task_index=0)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/training/server_lib.py\", line 152, in __init__\n    self._server_def.SerializeToString(), status)\n  File \"/usr/lib/python3.4/contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/errors.py\", line 463, in raise_exception_on_not_ok_status\n    pywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors.InternalError: Internal: failed to enable peer access from 0x7f4e79688120 to 0x7f4e7aa4ebb0: CUDA_ERROR_TOO_MANY_PEERS\nscheduling instances for termination: ['35.160.255.186']\nwaiting for termination to complete.\n```\n"}