{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7717", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7717/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7717/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7717/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7717", "id": 209025424, "node_id": "MDU6SXNzdWUyMDkwMjU0MjQ=", "number": 7717, "title": "Segmentation fault with TensorFlow 1.0", "user": {"login": "llhe", "id": 192829, "node_id": "MDQ6VXNlcjE5MjgyOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/192829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llhe", "html_url": "https://github.com/llhe", "followers_url": "https://api.github.com/users/llhe/followers", "following_url": "https://api.github.com/users/llhe/following{/other_user}", "gists_url": "https://api.github.com/users/llhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/llhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llhe/subscriptions", "organizations_url": "https://api.github.com/users/llhe/orgs", "repos_url": "https://api.github.com/users/llhe/repos", "events_url": "https://api.github.com/users/llhe/events{/privacy}", "received_events_url": "https://api.github.com/users/llhe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-21T02:26:46Z", "updated_at": "2017-02-21T03:06:36Z", "closed_at": "2017-02-21T03:06:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.</p>\n<p>For general support from the community, see <a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">StackOverflow</a>.<br>\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed<br>\nout of scope for GitHub Issues and point people to StackOverflow.</p>\n<p>For bugs or installation issues, please provide the following information.<br>\nThe more information you provide, the more easily we will be able to offer<br>\nhelp and advice.</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<ul>\n<li>No</li>\n</ul>\n<h3>Environment info</h3>\n<p>Operating System:</p>\n<ul>\n<li>Ubuntu 14.04/3.13.0-100-generic</li>\n<li>CentOS 7/3.10.0-123.el7.x86_64</li>\n</ul>\n<p>Python Version:</p>\n<ul>\n<li>2.7.5</li>\n<li>3.5</li>\n</ul>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<ul>\n<li>Both CPU/GPU version crash, not related to CUDA</li>\n</ul>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed:</li>\n</ol>\n<ul>\n<li><a href=\"https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl</a></li>\n<li><a href=\"https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.0-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.0-cp27-none-linux_x86_64.whl</a></li>\n<li><a href=\"https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp35-cp35m-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp35-cp35m-linux_x86_64.whl</a></li>\n</ul>\n<ol start=\"2\">\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<ul>\n<li>1.0.0</li>\n</ul>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)</li>\n<li>The output of <code>bazel version</code></li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>I can make repro with ubuntu 14.04 + python 2.7, 3.5 and centos 7 + python 2.7, but not with ubuntu 16.04 + python 2.7:<br>\n<a href=\"https://gist.github.com/llhe/6d95d2e31ad3c5a886dc8c3bd6ace95b\">https://gist.github.com/llhe/6d95d2e31ad3c5a886dc8c3bd6ace95b</a></p>\n<h3>What other attempted solutions have you tried?</h3>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).<br>\nTypical outputs:</p>\n<pre><code>Extracting /tmp/data/train-images-idx3-ubyte.gz\nExtracting /tmp/data/train-labels-idx1-ubyte.gz\nExtracting /tmp/data/t10k-images-idx3-ubyte.gz\nExtracting /tmp/data/t10k-labels-idx1-ubyte.gz\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE3 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\nTraceback (most recent call last):\n  File \"coredump.py\", line 18, in &lt;module&gt;\n    train()\n  File \"coredump.py\", line 15, in train\n    tf.image_summary('input', x, 10)\nAttributeError: 'module' object has no attribute 'image_summary'\nSegmentation fault (core dumped)\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>(gdb) bt\n#0  visit_decref (op=&lt;unknown at remote 0x-1&gt;, data=0x0) at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:429\n#1  0x00007f610674d8de in dict_traverse (op=\n    {0x0: &lt;unknown at remote 0x-1&gt;, '__ne__': &lt;wrapper_descriptor at remote 0x1f7d730&gt;, '__ror__': &lt;wrapper_descriptor at remote 0x1f7da00&gt;, '__nonzero__': &lt;wrapper_descriptor at remote 0x1f7d820&gt;, '__new__': &lt;built-in method __new__ of type object at remote 0x7f60fde34f60&gt;, '__rand__': &lt;wrapper_descriptor at remote 0x1f7d8c0&gt;, '__doc__': None, '__xor__': &lt;wrapper_descriptor at remote 0x1f7d910&gt;, '__and__': &lt;wrapper_descriptor at remote 0x1f7d870&gt;, '__le__': &lt;wrapper_descriptor at remote 0x1f7d690&gt;, '__or__': &lt;wrapper_descriptor at remote 0x1f7d9b0&gt;, '__gt__': &lt;wrapper_descriptor at remote 0x1f7d780&gt;, '__hash__': &lt;wrapper_descriptor at remote 0x1f7d5f0&gt;, '__index__': &lt;wrapper_descriptor at remote 0x1f7da50&gt;, '__lt__': &lt;wrapper_descriptor at remote 0x1f7d640&gt;, '__eq__': &lt;wrapper_descriptor at remote 0x1f7d6e0&gt;, '__rxor__': &lt;wrapper_descriptor at remote 0x1f7d960&gt;, '__ge__': &lt;wrapper_descriptor at remote 0x1f7d7d0&gt;}, visit=0x7f61067db1f0 &lt;visit_decref&gt;, arg=0x0)\n    at /usr/src/debug/Python-2.7.5/Objects/dictobject.c:2123\n#2  0x00007f61067db5b7 in subtract_refs (containers=&lt;optimized out&gt;) at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:456\n#3  collect (generation=generation@entry=2) at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:999\n#4  0x00007f61067dc078 in PyGC_Collect () at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:1514\n#5  0x00007f61067c9339 in Py_Finalize () at /usr/src/debug/Python-2.7.5/Python/pythonrun.c:444\n#6  0x00007f61067da545 in Py_Main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at /usr/src/debug/Python-2.7.5/Modules/main.c:665\n#7  0x00007f6105a07af5 in __libc_start_main () from /usr/lib64/libc.so.6\n#8  0x0000000000400721 in _start ()\n</code></pre>", "body_text": "NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\nFor general support from the community, see StackOverflow.\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\n\nNo\n\nEnvironment info\nOperating System:\n\nUbuntu 14.04/3.13.0-100-generic\nCentOS 7/3.10.0-123.el7.x86_64\n\nPython Version:\n\n2.7.5\n3.5\n\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n\nBoth CPU/GPU version crash, not related to CUDA\n\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed:\n\n\nhttps://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.0-cp27-none-linux_x86_64.whl\nhttps://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp35-cp35m-linux_x86_64.whl\n\n\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\n\n1.0.0\n\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\nThe output of bazel version\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nI can make repro with ubuntu 14.04 + python 2.7, 3.5 and centos 7 + python 2.7, but not with ubuntu 16.04 + python 2.7:\nhttps://gist.github.com/llhe/6d95d2e31ad3c5a886dc8c3bd6ace95b\nWhat other attempted solutions have you tried?\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nTypical outputs:\nExtracting /tmp/data/train-images-idx3-ubyte.gz\nExtracting /tmp/data/train-labels-idx1-ubyte.gz\nExtracting /tmp/data/t10k-images-idx3-ubyte.gz\nExtracting /tmp/data/t10k-labels-idx1-ubyte.gz\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE3 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\nTraceback (most recent call last):\n  File \"coredump.py\", line 18, in <module>\n    train()\n  File \"coredump.py\", line 15, in train\n    tf.image_summary('input', x, 10)\nAttributeError: 'module' object has no attribute 'image_summary'\nSegmentation fault (core dumped)\n\nStack trace:\n(gdb) bt\n#0  visit_decref (op=<unknown at remote 0x-1>, data=0x0) at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:429\n#1  0x00007f610674d8de in dict_traverse (op=\n    {0x0: <unknown at remote 0x-1>, '__ne__': <wrapper_descriptor at remote 0x1f7d730>, '__ror__': <wrapper_descriptor at remote 0x1f7da00>, '__nonzero__': <wrapper_descriptor at remote 0x1f7d820>, '__new__': <built-in method __new__ of type object at remote 0x7f60fde34f60>, '__rand__': <wrapper_descriptor at remote 0x1f7d8c0>, '__doc__': None, '__xor__': <wrapper_descriptor at remote 0x1f7d910>, '__and__': <wrapper_descriptor at remote 0x1f7d870>, '__le__': <wrapper_descriptor at remote 0x1f7d690>, '__or__': <wrapper_descriptor at remote 0x1f7d9b0>, '__gt__': <wrapper_descriptor at remote 0x1f7d780>, '__hash__': <wrapper_descriptor at remote 0x1f7d5f0>, '__index__': <wrapper_descriptor at remote 0x1f7da50>, '__lt__': <wrapper_descriptor at remote 0x1f7d640>, '__eq__': <wrapper_descriptor at remote 0x1f7d6e0>, '__rxor__': <wrapper_descriptor at remote 0x1f7d960>, '__ge__': <wrapper_descriptor at remote 0x1f7d7d0>}, visit=0x7f61067db1f0 <visit_decref>, arg=0x0)\n    at /usr/src/debug/Python-2.7.5/Objects/dictobject.c:2123\n#2  0x00007f61067db5b7 in subtract_refs (containers=<optimized out>) at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:456\n#3  collect (generation=generation@entry=2) at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:999\n#4  0x00007f61067dc078 in PyGC_Collect () at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:1514\n#5  0x00007f61067c9339 in Py_Finalize () at /usr/src/debug/Python-2.7.5/Python/pythonrun.c:444\n#6  0x00007f61067da545 in Py_Main (argc=<optimized out>, argv=<optimized out>) at /usr/src/debug/Python-2.7.5/Modules/main.c:665\n#7  0x00007f6105a07af5 in __libc_start_main () from /usr/lib64/libc.so.6\n#8  0x0000000000400721 in _start ()", "body": "NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\r\n\r\nFor general support from the community, see [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\r\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\r\nout of scope for GitHub Issues and point people to StackOverflow.\r\n\r\nFor bugs or installation issues, please provide the following information.\r\nThe more information you provide, the more easily we will be able to offer\r\nhelp and advice.\r\n\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n* No\r\n\r\n### Environment info\r\nOperating System:\r\n* Ubuntu 14.04/3.13.0-100-generic\r\n* CentOS 7/3.10.0-123.el7.x86_64\r\n\r\nPython Version:\r\n* 2.7.5\r\n* 3.5\r\n\r\nInstalled version of CUDA and cuDNN: \r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\n * Both CPU/GPU version crash, not related to CUDA\r\n\r\nIf installed from binary pip package, provide:\r\n\r\n1. A link to the pip package you installed:\r\n  * https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp27-none-linux_x86_64.whl\r\n  * https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.0-cp27-none-linux_x86_64.whl\r\n  * https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp35-cp35m-linux_x86_64.whl\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\n  * 1.0.0\r\n\r\nIf installed from source, provide \r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\n2. The output of `bazel version`\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\nI can make repro with ubuntu 14.04 + python 2.7, 3.5 and centos 7 + python 2.7, but not with ubuntu 16.04 + python 2.7:\r\nhttps://gist.github.com/llhe/6d95d2e31ad3c5a886dc8c3bd6ace95b\r\n\r\n### What other attempted solutions have you tried?\r\n\r\n### Logs or other output that would be helpful\r\n(If logs are large, please upload as attachment or provide link).\r\nTypical outputs:\r\n```\r\nExtracting /tmp/data/train-images-idx3-ubyte.gz\r\nExtracting /tmp/data/train-labels-idx1-ubyte.gz\r\nExtracting /tmp/data/t10k-images-idx3-ubyte.gz\r\nExtracting /tmp/data/t10k-labels-idx1-ubyte.gz\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE3 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\nTraceback (most recent call last):\r\n  File \"coredump.py\", line 18, in <module>\r\n    train()\r\n  File \"coredump.py\", line 15, in train\r\n    tf.image_summary('input', x, 10)\r\nAttributeError: 'module' object has no attribute 'image_summary'\r\nSegmentation fault (core dumped)\r\n```\r\nStack trace:\r\n```\r\n(gdb) bt\r\n#0  visit_decref (op=<unknown at remote 0x-1>, data=0x0) at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:429\r\n#1  0x00007f610674d8de in dict_traverse (op=\r\n    {0x0: <unknown at remote 0x-1>, '__ne__': <wrapper_descriptor at remote 0x1f7d730>, '__ror__': <wrapper_descriptor at remote 0x1f7da00>, '__nonzero__': <wrapper_descriptor at remote 0x1f7d820>, '__new__': <built-in method __new__ of type object at remote 0x7f60fde34f60>, '__rand__': <wrapper_descriptor at remote 0x1f7d8c0>, '__doc__': None, '__xor__': <wrapper_descriptor at remote 0x1f7d910>, '__and__': <wrapper_descriptor at remote 0x1f7d870>, '__le__': <wrapper_descriptor at remote 0x1f7d690>, '__or__': <wrapper_descriptor at remote 0x1f7d9b0>, '__gt__': <wrapper_descriptor at remote 0x1f7d780>, '__hash__': <wrapper_descriptor at remote 0x1f7d5f0>, '__index__': <wrapper_descriptor at remote 0x1f7da50>, '__lt__': <wrapper_descriptor at remote 0x1f7d640>, '__eq__': <wrapper_descriptor at remote 0x1f7d6e0>, '__rxor__': <wrapper_descriptor at remote 0x1f7d960>, '__ge__': <wrapper_descriptor at remote 0x1f7d7d0>}, visit=0x7f61067db1f0 <visit_decref>, arg=0x0)\r\n    at /usr/src/debug/Python-2.7.5/Objects/dictobject.c:2123\r\n#2  0x00007f61067db5b7 in subtract_refs (containers=<optimized out>) at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:456\r\n#3  collect (generation=generation@entry=2) at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:999\r\n#4  0x00007f61067dc078 in PyGC_Collect () at /usr/src/debug/Python-2.7.5/Modules/gcmodule.c:1514\r\n#5  0x00007f61067c9339 in Py_Finalize () at /usr/src/debug/Python-2.7.5/Python/pythonrun.c:444\r\n#6  0x00007f61067da545 in Py_Main (argc=<optimized out>, argv=<optimized out>) at /usr/src/debug/Python-2.7.5/Modules/main.c:665\r\n#7  0x00007f6105a07af5 in __libc_start_main () from /usr/lib64/libc.so.6\r\n#8  0x0000000000400721 in _start ()\r\n```"}