{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7577", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7577/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7577/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7577/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7577", "id": 208128768, "node_id": "MDU6SXNzdWUyMDgxMjg3Njg=", "number": 7577, "title": "A suggestion for controlled dependency in batch normalization layer", "user": {"login": "soloice", "id": 8534653, "node_id": "MDQ6VXNlcjg1MzQ2NTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8534653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soloice", "html_url": "https://github.com/soloice", "followers_url": "https://api.github.com/users/soloice/followers", "following_url": "https://api.github.com/users/soloice/following{/other_user}", "gists_url": "https://api.github.com/users/soloice/gists{/gist_id}", "starred_url": "https://api.github.com/users/soloice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soloice/subscriptions", "organizations_url": "https://api.github.com/users/soloice/orgs", "repos_url": "https://api.github.com/users/soloice/repos", "events_url": "https://api.github.com/users/soloice/events{/privacy}", "received_events_url": "https://api.github.com/users/soloice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-16T13:58:50Z", "updated_at": "2017-02-17T01:55:30Z", "closed_at": "2017-02-17T01:55:21Z", "author_association": "CONTRIBUTOR", "body_html": "<p>In documents of <code>tf.contrib.layers.batch_norm</code>, it is suggested to bind update op of moving_mean and moving_variance with loss function, as follows:</p>\n<pre><code>update_ops = tf.get_collection(tf.GraphKeys.UPDATE_OPS) \nif update_ops: \n    updates = tf.group(*update_ops)\n    total_loss = control_flow_ops.with_dependencies([updates], total_loss)\n</code></pre>\n<p>Is it better to bind <code>update_op</code> with <code>train_op</code>? Say, maybe one want to evaluate loss but do not update parameters?</p>", "body_text": "In documents of tf.contrib.layers.batch_norm, it is suggested to bind update op of moving_mean and moving_variance with loss function, as follows:\nupdate_ops = tf.get_collection(tf.GraphKeys.UPDATE_OPS) \nif update_ops: \n    updates = tf.group(*update_ops)\n    total_loss = control_flow_ops.with_dependencies([updates], total_loss)\n\nIs it better to bind update_op with train_op? Say, maybe one want to evaluate loss but do not update parameters?", "body": "In documents of `tf.contrib.layers.batch_norm`, it is suggested to bind update op of moving_mean and moving_variance with loss function, as follows:\r\n```\r\nupdate_ops = tf.get_collection(tf.GraphKeys.UPDATE_OPS) \r\nif update_ops: \r\n    updates = tf.group(*update_ops)\r\n    total_loss = control_flow_ops.with_dependencies([updates], total_loss)\r\n```\r\nIs it better to bind `update_op` with `train_op`? Say, maybe one want to evaluate loss but do not update parameters?"}