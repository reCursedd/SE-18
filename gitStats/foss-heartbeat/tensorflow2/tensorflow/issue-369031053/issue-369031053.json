{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22891", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22891/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22891/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22891/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22891", "id": 369031053, "node_id": "MDU6SXNzdWUzNjkwMzEwNTM=", "number": 22891, "title": "Cannot obtain the output feature map value of certain tensor in tensorflow-lite", "user": {"login": "pcub", "id": 7065417, "node_id": "MDQ6VXNlcjcwNjU0MTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/7065417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcub", "html_url": "https://github.com/pcub", "followers_url": "https://api.github.com/users/pcub/followers", "following_url": "https://api.github.com/users/pcub/following{/other_user}", "gists_url": "https://api.github.com/users/pcub/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcub/subscriptions", "organizations_url": "https://api.github.com/users/pcub/orgs", "repos_url": "https://api.github.com/users/pcub/repos", "events_url": "https://api.github.com/users/pcub/events{/privacy}", "received_events_url": "https://api.github.com/users/pcub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": {"login": "achowdhery", "id": 4723042, "node_id": "MDQ6VXNlcjQ3MjMwNDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4723042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achowdhery", "html_url": "https://github.com/achowdhery", "followers_url": "https://api.github.com/users/achowdhery/followers", "following_url": "https://api.github.com/users/achowdhery/following{/other_user}", "gists_url": "https://api.github.com/users/achowdhery/gists{/gist_id}", "starred_url": "https://api.github.com/users/achowdhery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achowdhery/subscriptions", "organizations_url": "https://api.github.com/users/achowdhery/orgs", "repos_url": "https://api.github.com/users/achowdhery/repos", "events_url": "https://api.github.com/users/achowdhery/events{/privacy}", "received_events_url": "https://api.github.com/users/achowdhery/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "achowdhery", "id": 4723042, "node_id": "MDQ6VXNlcjQ3MjMwNDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4723042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achowdhery", "html_url": "https://github.com/achowdhery", "followers_url": "https://api.github.com/users/achowdhery/followers", "following_url": "https://api.github.com/users/achowdhery/following{/other_user}", "gists_url": "https://api.github.com/users/achowdhery/gists{/gist_id}", "starred_url": "https://api.github.com/users/achowdhery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achowdhery/subscriptions", "organizations_url": "https://api.github.com/users/achowdhery/orgs", "repos_url": "https://api.github.com/users/achowdhery/repos", "events_url": "https://api.github.com/users/achowdhery/events{/privacy}", "received_events_url": "https://api.github.com/users/achowdhery/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-10-11T09:27:47Z", "updated_at": "2018-11-11T18:42:01Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Hello, I am analysing each layer of mobilenet-ssd in tensorflow-lite. I am using python interpreter.<br>\nhere is the sample of python script for accessing certain tensor of detect.tflite.</p>\n<pre><code>interpreter = interpreter_wrapper.Interpreter(model_path=resource_loader.get_path_to_datafile(\"detect.tflite\"))\ninterpreter.allocate_tensors()\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninterpreter.set_tensor(input_details[0]['index'], input_data)\ninterpreter.invoke()\ntensorIndex  = 173\ntmpTensor = interpreter._get_tensor_details(tensorIndex)\nvalue = interpreter.get_tensor(tensorIndex)\nvalueShape = value.shape\ntensorName = interpreter._get_tensor_details(tensorIndex)\nLayerNames = tensorName['name']\nplt.imshow(value)\nplt.show()\n</code></pre>\n<p>in this way I want to check the output feature map of certain tensor. However, the output feature map seems show trash values all the time.</p>\n<blockquote>\n<p>Note: given python script can show the image_tensor (input image) and cannot obtain any detection results</p>\n</blockquote>\n<p>How to check the other output feature map of certain tensor in tensorflow lite?</p>\n<p>Thank you.</p>", "body_text": "Hello, I am analysing each layer of mobilenet-ssd in tensorflow-lite. I am using python interpreter.\nhere is the sample of python script for accessing certain tensor of detect.tflite.\ninterpreter = interpreter_wrapper.Interpreter(model_path=resource_loader.get_path_to_datafile(\"detect.tflite\"))\ninterpreter.allocate_tensors()\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninterpreter.set_tensor(input_details[0]['index'], input_data)\ninterpreter.invoke()\ntensorIndex  = 173\ntmpTensor = interpreter._get_tensor_details(tensorIndex)\nvalue = interpreter.get_tensor(tensorIndex)\nvalueShape = value.shape\ntensorName = interpreter._get_tensor_details(tensorIndex)\nLayerNames = tensorName['name']\nplt.imshow(value)\nplt.show()\n\nin this way I want to check the output feature map of certain tensor. However, the output feature map seems show trash values all the time.\n\nNote: given python script can show the image_tensor (input image) and cannot obtain any detection results\n\nHow to check the other output feature map of certain tensor in tensorflow lite?\nThank you.", "body": "Hello, I am analysing each layer of mobilenet-ssd in tensorflow-lite. I am using python interpreter.\r\nhere is the sample of python script for accessing certain tensor of detect.tflite.\r\n\r\n```\r\ninterpreter = interpreter_wrapper.Interpreter(model_path=resource_loader.get_path_to_datafile(\"detect.tflite\"))\r\ninterpreter.allocate_tensors()\r\ninput_details = interpreter.get_input_details()\r\noutput_details = interpreter.get_output_details()\r\ninterpreter.set_tensor(input_details[0]['index'], input_data)\r\ninterpreter.invoke()\r\ntensorIndex  = 173\r\ntmpTensor = interpreter._get_tensor_details(tensorIndex)\r\nvalue = interpreter.get_tensor(tensorIndex)\r\nvalueShape = value.shape\r\ntensorName = interpreter._get_tensor_details(tensorIndex)\r\nLayerNames = tensorName['name']\r\nplt.imshow(value)\r\nplt.show()\r\n```\r\nin this way I want to check the output feature map of certain tensor. However, the output feature map seems show trash values all the time.\r\n\r\n> Note: given python script can show the image_tensor (input image) and cannot obtain any detection results\r\n\r\nHow to check the other output feature map of certain tensor in tensorflow lite?\r\n\r\nThank you."}