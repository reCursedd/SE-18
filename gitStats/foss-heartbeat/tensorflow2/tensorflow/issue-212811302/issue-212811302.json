{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8207", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8207/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8207/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8207/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8207", "id": 212811302, "node_id": "MDU6SXNzdWUyMTI4MTEzMDI=", "number": 8207, "title": "Operation Documentation has \" within it", "user": {"login": "aidan-plenert-macdonald", "id": 6690599, "node_id": "MDQ6VXNlcjY2OTA1OTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/6690599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aidan-plenert-macdonald", "html_url": "https://github.com/aidan-plenert-macdonald", "followers_url": "https://api.github.com/users/aidan-plenert-macdonald/followers", "following_url": "https://api.github.com/users/aidan-plenert-macdonald/following{/other_user}", "gists_url": "https://api.github.com/users/aidan-plenert-macdonald/gists{/gist_id}", "starred_url": "https://api.github.com/users/aidan-plenert-macdonald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aidan-plenert-macdonald/subscriptions", "organizations_url": "https://api.github.com/users/aidan-plenert-macdonald/orgs", "repos_url": "https://api.github.com/users/aidan-plenert-macdonald/repos", "events_url": "https://api.github.com/users/aidan-plenert-macdonald/events{/privacy}", "received_events_url": "https://api.github.com/users/aidan-plenert-macdonald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "dr4b", "id": 5649718, "node_id": "MDQ6VXNlcjU2NDk3MTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5649718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dr4b", "html_url": "https://github.com/dr4b", "followers_url": "https://api.github.com/users/dr4b/followers", "following_url": "https://api.github.com/users/dr4b/following{/other_user}", "gists_url": "https://api.github.com/users/dr4b/gists{/gist_id}", "starred_url": "https://api.github.com/users/dr4b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dr4b/subscriptions", "organizations_url": "https://api.github.com/users/dr4b/orgs", "repos_url": "https://api.github.com/users/dr4b/repos", "events_url": "https://api.github.com/users/dr4b/events{/privacy}", "received_events_url": "https://api.github.com/users/dr4b/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dr4b", "id": 5649718, "node_id": "MDQ6VXNlcjU2NDk3MTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5649718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dr4b", "html_url": "https://github.com/dr4b", "followers_url": "https://api.github.com/users/dr4b/followers", "following_url": "https://api.github.com/users/dr4b/following{/other_user}", "gists_url": "https://api.github.com/users/dr4b/gists{/gist_id}", "starred_url": "https://api.github.com/users/dr4b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dr4b/subscriptions", "organizations_url": "https://api.github.com/users/dr4b/orgs", "repos_url": "https://api.github.com/users/dr4b/repos", "events_url": "https://api.github.com/users/dr4b/events{/privacy}", "received_events_url": "https://api.github.com/users/dr4b/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-03-08T18:05:05Z", "updated_at": "2017-06-16T17:55:52Z", "closed_at": "2017-06-16T17:55:52Z", "author_association": "NONE", "body_html": "<p><a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/array_ops.cc#L1154\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/array_ops.cc#L1154</a></p>\n<p>This wasn't causing a problem because TF was stripping out the documentation before hitting Python and the Python Protobuf text_format.py <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"212546040\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/protocolbuffers/protobuf/issues/2798\" data-hovercard-type=\"issue\" data-hovercard-url=\"/protocolbuffers/protobuf/issues/2798/hovercard\" href=\"https://github.com/protocolbuffers/protobuf/issues/2798\">protocolbuffers/protobuf#2798</a>. I wanted to expose the documentation in the Python (A patch I am NOT recommending!!) per <a href=\"http://stackoverflow.com/questions/42521166/tensorflow-operation-documentation\" rel=\"nofollow\">http://stackoverflow.com/questions/42521166/tensorflow-operation-documentation</a>, but ran into numerous issues in the Protobuf seen in the above issue posted to Protobuf. The last problem I had stemmed from TF's misuse of \" within the documentation</p>\n<p>I did a batch replacement with a small script,</p>\n<pre><code>import os, re\n\nfor fname in os.listdir('./'):\n    if fname[-3:] != \".cc\":\n        print \"Skipping\", fname\n        continue\n\n    with open(fname) as f:\n        code = f.read()\n\n    quotes = 0\n    blocks = re.findall('\\\"[Dd]oc\\((?:(?!REG).|\\n)*\\)[Dd]oc\\\"', code)\n    for sub in blocks:\n        if sub.count('\"') &lt;= 2:\n            continue\n\n        s = sub.find('\"')\n        e = sub.rfind('\"')\n        new_sub = sub[:s+1] + sub[s+1:e].replace('\"', \"'\") + sub[e:]\n        quotes += sub.count('\"') - new_sub.count('\"')\n        code = code.replace(sub, new_sub)\n\n    print \"Replacing\", quotes, \"in\", fname\n    f = open(fname, 'w')\n    f.write(code)\n    f.close()\n</code></pre>\n<p>I can submit a pull request if you like, but running that script in <code>tensorflow/tensorflow/core/ops</code> achieves the same thing.</p>", "body_text": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/array_ops.cc#L1154\nThis wasn't causing a problem because TF was stripping out the documentation before hitting Python and the Python Protobuf text_format.py protocolbuffers/protobuf#2798. I wanted to expose the documentation in the Python (A patch I am NOT recommending!!) per http://stackoverflow.com/questions/42521166/tensorflow-operation-documentation, but ran into numerous issues in the Protobuf seen in the above issue posted to Protobuf. The last problem I had stemmed from TF's misuse of \" within the documentation\nI did a batch replacement with a small script,\nimport os, re\n\nfor fname in os.listdir('./'):\n    if fname[-3:] != \".cc\":\n        print \"Skipping\", fname\n        continue\n\n    with open(fname) as f:\n        code = f.read()\n\n    quotes = 0\n    blocks = re.findall('\\\"[Dd]oc\\((?:(?!REG).|\\n)*\\)[Dd]oc\\\"', code)\n    for sub in blocks:\n        if sub.count('\"') <= 2:\n            continue\n\n        s = sub.find('\"')\n        e = sub.rfind('\"')\n        new_sub = sub[:s+1] + sub[s+1:e].replace('\"', \"'\") + sub[e:]\n        quotes += sub.count('\"') - new_sub.count('\"')\n        code = code.replace(sub, new_sub)\n\n    print \"Replacing\", quotes, \"in\", fname\n    f = open(fname, 'w')\n    f.write(code)\n    f.close()\n\nI can submit a pull request if you like, but running that script in tensorflow/tensorflow/core/ops achieves the same thing.", "body": "https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/ops/array_ops.cc#L1154\r\n\r\nThis wasn't causing a problem because TF was stripping out the documentation before hitting Python and the Python Protobuf text_format.py https://github.com/google/protobuf/issues/2798. I wanted to expose the documentation in the Python (A patch I am NOT recommending!!) per http://stackoverflow.com/questions/42521166/tensorflow-operation-documentation, but ran into numerous issues in the Protobuf seen in the above issue posted to Protobuf. The last problem I had stemmed from TF's misuse of \" within the documentation\r\n\r\nI did a batch replacement with a small script,\r\n```\r\nimport os, re\r\n\r\nfor fname in os.listdir('./'):\r\n    if fname[-3:] != \".cc\":\r\n        print \"Skipping\", fname\r\n        continue\r\n\r\n    with open(fname) as f:\r\n        code = f.read()\r\n\r\n    quotes = 0\r\n    blocks = re.findall('\\\"[Dd]oc\\((?:(?!REG).|\\n)*\\)[Dd]oc\\\"', code)\r\n    for sub in blocks:\r\n        if sub.count('\"') <= 2:\r\n            continue\r\n\r\n        s = sub.find('\"')\r\n        e = sub.rfind('\"')\r\n        new_sub = sub[:s+1] + sub[s+1:e].replace('\"', \"'\") + sub[e:]\r\n        quotes += sub.count('\"') - new_sub.count('\"')\r\n        code = code.replace(sub, new_sub)\r\n\r\n    print \"Replacing\", quotes, \"in\", fname\r\n    f = open(fname, 'w')\r\n    f.write(code)\r\n    f.close()\r\n```\r\n\r\nI can submit a pull request if you like, but running that script in `tensorflow/tensorflow/core/ops` achieves the same thing.\r\n"}