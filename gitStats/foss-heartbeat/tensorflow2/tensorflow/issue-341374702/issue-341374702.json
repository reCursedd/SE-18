{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20824", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20824/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20824/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20824/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20824", "id": 341374702, "node_id": "MDU6SXNzdWUzNDEzNzQ3MDI=", "number": 20824, "title": "TF Lite ---- Not a variable: Tensor(\"w1:0\", shape=(1, 128, 128, 3), dtype=float32)", "user": {"login": "longchr123", "id": 15262666, "node_id": "MDQ6VXNlcjE1MjYyNjY2", "avatar_url": "https://avatars0.githubusercontent.com/u/15262666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/longchr123", "html_url": "https://github.com/longchr123", "followers_url": "https://api.github.com/users/longchr123/followers", "following_url": "https://api.github.com/users/longchr123/following{/other_user}", "gists_url": "https://api.github.com/users/longchr123/gists{/gist_id}", "starred_url": "https://api.github.com/users/longchr123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/longchr123/subscriptions", "organizations_url": "https://api.github.com/users/longchr123/orgs", "repos_url": "https://api.github.com/users/longchr123/repos", "events_url": "https://api.github.com/users/longchr123/events{/privacy}", "received_events_url": "https://api.github.com/users/longchr123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "shashishekhar", "id": 1162712, "node_id": "MDQ6VXNlcjExNjI3MTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1162712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shashishekhar", "html_url": "https://github.com/shashishekhar", "followers_url": "https://api.github.com/users/shashishekhar/followers", "following_url": "https://api.github.com/users/shashishekhar/following{/other_user}", "gists_url": "https://api.github.com/users/shashishekhar/gists{/gist_id}", "starred_url": "https://api.github.com/users/shashishekhar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shashishekhar/subscriptions", "organizations_url": "https://api.github.com/users/shashishekhar/orgs", "repos_url": "https://api.github.com/users/shashishekhar/repos", "events_url": "https://api.github.com/users/shashishekhar/events{/privacy}", "received_events_url": "https://api.github.com/users/shashishekhar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shashishekhar", "id": 1162712, "node_id": "MDQ6VXNlcjExNjI3MTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1162712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shashishekhar", "html_url": "https://github.com/shashishekhar", "followers_url": "https://api.github.com/users/shashishekhar/followers", "following_url": "https://api.github.com/users/shashishekhar/following{/other_user}", "gists_url": "https://api.github.com/users/shashishekhar/gists{/gist_id}", "starred_url": "https://api.github.com/users/shashishekhar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shashishekhar/subscriptions", "organizations_url": "https://api.github.com/users/shashishekhar/orgs", "repos_url": "https://api.github.com/users/shashishekhar/repos", "events_url": "https://api.github.com/users/shashishekhar/events{/privacy}", "received_events_url": "https://api.github.com/users/shashishekhar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-07-16T02:27:26Z", "updated_at": "2018-07-20T01:28:21Z", "closed_at": "2018-07-20T01:28:21Z", "author_association": "NONE", "body_html": "<p><strong>Environment:</strong><br>\ntensorflow 1.8,ubuntu16.0.4,cuda9.0,cudnn:7.0.5</p>\n<p><strong>Test Demo:</strong></p>\n<p>def save_to_pb(sess):<br>\nconstant_graph = graph_util.convert_variables_to_constants(sess, sess.graph_def, ['out'])<br>\nwith tf.gfile.FastGFile(MODEL_DIR + 'expert-graph.pb', mode='wb') as f:<br>\nf.write(constant_graph.SerializeToString())</p>\n<p>train_model():<br>\nimg = tf.placeholder(name=\"img\", dtype=tf.float32, shape=(1, 128, 128, 3))<br>\nb = tf.Variable(tf.truncated_normal((1, 128, 128, 3), seed=1),name='w1')<br>\ny_real = img + tf.constant([1., 2., 3.]) + tf.constant([1., 4., 4.])</p>\n<pre><code>val = tf.add(img, b)\nval = batch_norm_lite(val)\nout = tf.identity(val, name=\"out\")\n\nMSE = tf.reduce_mean(tf.square(y_real - out), name='mse')\ntrain_step = tf.train.GradientDescentOptimizer(0.9).minimize(MSE)\n\nsaver = tf.train.Saver(var_list={'w1':b},max_to_keep=10)\n\nos.environ[\"CUDA_VISIBLE_DEVICES\"] = ''\nconfig = tf.ConfigProto()\nconfig.gpu_options.per_process_gpu_memory_fraction = 0.1\nconfig.gpu_options.allow_growth = True\n\nwith tf.Session() as sess:\n    sess.run(tf.initialize_all_variables())\n    for epoch in range(100):\n        sess.run(train_step,feed_dict={img:read_data(sess)})\n        if epoch % 20 == 0:\n            save_path = saver.save(sess, MODEL_DIR + MODEL_NAME, global_step=epoch + 1)\n        print('step = ' + str(epoch))\n    save_to_pb(sess)\n</code></pre>\n<p><strong>Terminal:</strong><br>\nbazel-bin/tensorflow/python/tools/freeze_graph --input_graph=/path/to/expert-graph.pb --input_checkpoint=/path/to/model.ckpt --output_node_names=output --output_graph=/path/to/frozen.pb --input_binary=true</p>\n<p><strong>Error\uff1a</strong><br>\n/home/leve/anaconda3/lib/python3.6/site-packages/h5py/<strong>init</strong>.py:36: FutureWarning: Conversion of the second argument of issubdtype from <code>float</code> to <code>np.floating</code> is deprecated. In future, it will be treated as <code>np.float64 == np.dtype(float).type</code>.<br>\nfrom ._conv import register_converters as _register_converters<br>\n2018-07-13 18:37:04.467417: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA<br>\n2018-07-13 18:37:04.579724: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero<br>\n2018-07-13 18:37:04.580044: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties:<br>\nname: GeForce GTX 1060 6GB major: 6 minor: 1 memoryClockRate(GHz): 1.7845<br>\npciBusID: 0000:01:00.0<br>\ntotalMemory: 5.93GiB freeMemory: 5.29GiB<br>\n2018-07-13 18:37:04.580057: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0<br>\n2018-07-13 18:37:04.747082: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:<br>\n2018-07-13 18:37:04.747104: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0<br>\n2018-07-13 18:37:04.747109: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N<br>\n2018-07-13 18:37:04.747225: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 5066 MB memory) -&gt; physical GPU (device: 0, name: GeForce GTX 1060 6GB, pci bus id: 0000:01:00.0, compute capability: 6.1)<br>\nTraceback (most recent call last):<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 382, in <br>\nrun_main()<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 379, in run_main<br>\napp.run(main=my_main, argv=[sys.argv[0]] + unparsed)<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run<br>\n_sys.exit(main(argv))<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 378, in <br>\nmy_main = lambda unused_args: main(unused_args, flags)<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 272, in main<br>\nflags.saved_model_tags, checkpoint_version)<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 254, in freeze_graph<br>\ncheckpoint_version=checkpoint_version)<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 128, in freeze_graph_with_def_protos<br>\nvar_list=var_list, write_version=checkpoint_version)<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1338, in <strong>init</strong><br>\nself.build()<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1347, in build<br>\nself._build(self._filename, build_save=True, build_restore=True)<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1384, in _build<br>\nbuild_save=build_save, build_restore=build_restore)<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 813, in _build_internal<br>\nsaveables = self._ValidateAndSliceInputs(names_to_saveables)<br>\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 714, in _ValidateAndSliceInputs<br>\nvariable)<br>\n<strong>TypeError: names_to_saveables must be a dict mapping string names to Tensors/Variables. Not a variable: Tensor(\"w1:0\", shape=(1, 128, 128, 3), dtype=float32)</strong></p>", "body_text": "Environment:\ntensorflow 1.8,ubuntu16.0.4,cuda9.0,cudnn:7.0.5\nTest Demo:\ndef save_to_pb(sess):\nconstant_graph = graph_util.convert_variables_to_constants(sess, sess.graph_def, ['out'])\nwith tf.gfile.FastGFile(MODEL_DIR + 'expert-graph.pb', mode='wb') as f:\nf.write(constant_graph.SerializeToString())\ntrain_model():\nimg = tf.placeholder(name=\"img\", dtype=tf.float32, shape=(1, 128, 128, 3))\nb = tf.Variable(tf.truncated_normal((1, 128, 128, 3), seed=1),name='w1')\ny_real = img + tf.constant([1., 2., 3.]) + tf.constant([1., 4., 4.])\nval = tf.add(img, b)\nval = batch_norm_lite(val)\nout = tf.identity(val, name=\"out\")\n\nMSE = tf.reduce_mean(tf.square(y_real - out), name='mse')\ntrain_step = tf.train.GradientDescentOptimizer(0.9).minimize(MSE)\n\nsaver = tf.train.Saver(var_list={'w1':b},max_to_keep=10)\n\nos.environ[\"CUDA_VISIBLE_DEVICES\"] = ''\nconfig = tf.ConfigProto()\nconfig.gpu_options.per_process_gpu_memory_fraction = 0.1\nconfig.gpu_options.allow_growth = True\n\nwith tf.Session() as sess:\n    sess.run(tf.initialize_all_variables())\n    for epoch in range(100):\n        sess.run(train_step,feed_dict={img:read_data(sess)})\n        if epoch % 20 == 0:\n            save_path = saver.save(sess, MODEL_DIR + MODEL_NAME, global_step=epoch + 1)\n        print('step = ' + str(epoch))\n    save_to_pb(sess)\n\nTerminal:\nbazel-bin/tensorflow/python/tools/freeze_graph --input_graph=/path/to/expert-graph.pb --input_checkpoint=/path/to/model.ckpt --output_node_names=output --output_graph=/path/to/frozen.pb --input_binary=true\nError\uff1a\n/home/leve/anaconda3/lib/python3.6/site-packages/h5py/init.py:36: FutureWarning: Conversion of the second argument of issubdtype from float to np.floating is deprecated. In future, it will be treated as np.float64 == np.dtype(float).type.\nfrom ._conv import register_converters as _register_converters\n2018-07-13 18:37:04.467417: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\n2018-07-13 18:37:04.579724: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-07-13 18:37:04.580044: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties:\nname: GeForce GTX 1060 6GB major: 6 minor: 1 memoryClockRate(GHz): 1.7845\npciBusID: 0000:01:00.0\ntotalMemory: 5.93GiB freeMemory: 5.29GiB\n2018-07-13 18:37:04.580057: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0\n2018-07-13 18:37:04.747082: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-07-13 18:37:04.747104: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0\n2018-07-13 18:37:04.747109: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N\n2018-07-13 18:37:04.747225: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 5066 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1060 6GB, pci bus id: 0000:01:00.0, compute capability: 6.1)\nTraceback (most recent call last):\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 382, in \nrun_main()\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 379, in run_main\napp.run(main=my_main, argv=[sys.argv[0]] + unparsed)\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run\n_sys.exit(main(argv))\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 378, in \nmy_main = lambda unused_args: main(unused_args, flags)\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 272, in main\nflags.saved_model_tags, checkpoint_version)\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 254, in freeze_graph\ncheckpoint_version=checkpoint_version)\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 128, in freeze_graph_with_def_protos\nvar_list=var_list, write_version=checkpoint_version)\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1338, in init\nself.build()\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1347, in build\nself._build(self._filename, build_save=True, build_restore=True)\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1384, in _build\nbuild_save=build_save, build_restore=build_restore)\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 813, in _build_internal\nsaveables = self._ValidateAndSliceInputs(names_to_saveables)\nFile \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 714, in _ValidateAndSliceInputs\nvariable)\nTypeError: names_to_saveables must be a dict mapping string names to Tensors/Variables. Not a variable: Tensor(\"w1:0\", shape=(1, 128, 128, 3), dtype=float32)", "body": "**Environment:**\r\ntensorflow 1.8,ubuntu16.0.4,cuda9.0,cudnn:7.0.5\r\n\r\n**Test Demo:**\r\n\r\ndef save_to_pb(sess):\r\n    constant_graph = graph_util.convert_variables_to_constants(sess, sess.graph_def, ['out'])\r\n    with tf.gfile.FastGFile(MODEL_DIR + 'expert-graph.pb', mode='wb') as f:\r\n        f.write(constant_graph.SerializeToString())\r\n\r\ntrain_model():\r\n    img = tf.placeholder(name=\"img\", dtype=tf.float32, shape=(1, 128, 128, 3))\r\n    b = tf.Variable(tf.truncated_normal((1, 128, 128, 3), seed=1),name='w1')\r\n    y_real = img + tf.constant([1., 2., 3.]) + tf.constant([1., 4., 4.])\r\n\r\n    val = tf.add(img, b)\r\n    val = batch_norm_lite(val)\r\n    out = tf.identity(val, name=\"out\")\r\n\r\n    MSE = tf.reduce_mean(tf.square(y_real - out), name='mse')\r\n    train_step = tf.train.GradientDescentOptimizer(0.9).minimize(MSE)\r\n\r\n    saver = tf.train.Saver(var_list={'w1':b},max_to_keep=10)\r\n\r\n    os.environ[\"CUDA_VISIBLE_DEVICES\"] = ''\r\n    config = tf.ConfigProto()\r\n    config.gpu_options.per_process_gpu_memory_fraction = 0.1\r\n    config.gpu_options.allow_growth = True\r\n\r\n    with tf.Session() as sess:\r\n        sess.run(tf.initialize_all_variables())\r\n        for epoch in range(100):\r\n            sess.run(train_step,feed_dict={img:read_data(sess)})\r\n            if epoch % 20 == 0:\r\n                save_path = saver.save(sess, MODEL_DIR + MODEL_NAME, global_step=epoch + 1)\r\n            print('step = ' + str(epoch))\r\n        save_to_pb(sess)\r\n\r\n**Terminal:**\r\nbazel-bin/tensorflow/python/tools/freeze_graph --input_graph=/path/to/expert-graph.pb --input_checkpoint=/path/to/model.ckpt --output_node_names=output --output_graph=/path/to/frozen.pb --input_binary=true\r\n\r\n**Error\uff1a**\r\n/home/leve/anaconda3/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\n2018-07-13 18:37:04.467417: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\r\n2018-07-13 18:37:04.579724: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2018-07-13 18:37:04.580044: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: \r\nname: GeForce GTX 1060 6GB major: 6 minor: 1 memoryClockRate(GHz): 1.7845\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 5.93GiB freeMemory: 5.29GiB\r\n2018-07-13 18:37:04.580057: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0\r\n2018-07-13 18:37:04.747082: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-07-13 18:37:04.747104: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 \r\n2018-07-13 18:37:04.747109: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N \r\n2018-07-13 18:37:04.747225: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 5066 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1060 6GB, pci bus id: 0000:01:00.0, compute capability: 6.1)\r\nTraceback (most recent call last):\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 382, in <module>\r\n    run_main()\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 379, in run_main\r\n    app.run(main=my_main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 126, in run\r\n    _sys.exit(main(argv))\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 378, in <lambda>\r\n    my_main = lambda unused_args: main(unused_args, flags)\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 272, in main\r\n    flags.saved_model_tags, checkpoint_version)\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 254, in freeze_graph\r\n    checkpoint_version=checkpoint_version)\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 128, in freeze_graph_with_def_protos\r\n    var_list=var_list, write_version=checkpoint_version)\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1338, in __init__\r\n    self.build()\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1347, in build\r\n    self._build(self._filename, build_save=True, build_restore=True)\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1384, in _build\r\n    build_save=build_save, build_restore=build_restore)\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 813, in _build_internal\r\n    saveables = self._ValidateAndSliceInputs(names_to_saveables)\r\n  File \"/home/leve/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 714, in _ValidateAndSliceInputs\r\n    variable)\r\n**TypeError: names_to_saveables must be a dict mapping string names to Tensors/Variables. Not a variable: Tensor(\"w1:0\", shape=(1, 128, 128, 3), dtype=float32)**\r\n"}