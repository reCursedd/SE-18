{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/329089985", "html_url": "https://github.com/tensorflow/tensorflow/issues/9638#issuecomment-329089985", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9638", "id": 329089985, "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTA4OTk4NQ==", "user": {"login": "nylocx", "id": 3329124, "node_id": "MDQ6VXNlcjMzMjkxMjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3329124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nylocx", "html_url": "https://github.com/nylocx", "followers_url": "https://api.github.com/users/nylocx/followers", "following_url": "https://api.github.com/users/nylocx/following{/other_user}", "gists_url": "https://api.github.com/users/nylocx/gists{/gist_id}", "starred_url": "https://api.github.com/users/nylocx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nylocx/subscriptions", "organizations_url": "https://api.github.com/users/nylocx/orgs", "repos_url": "https://api.github.com/users/nylocx/repos", "events_url": "https://api.github.com/users/nylocx/events{/privacy}", "received_events_url": "https://api.github.com/users/nylocx/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-13T08:01:18Z", "updated_at": "2017-09-13T08:04:34Z", "author_association": "NONE", "body_html": "<p>I can confirm this issue. I just build tensorflow on Ubuntu 16.04.3 LTS with gcc (Ubuntu 5.4.0-6ubuntu1~16.04.4). I had to build against Eigen master (034fba127699) for a successful build using tensorflow master and 1.3.0 with bazel.  My Python version is 3.5.2.</p>\n<p>The simple hello world is working fine. I can reproduce the error by using the mnist deep example (mnist_deep.py).</p>\n<p>This only happens with march=native (My CPU: Intel(R) Core(TM) i7-7800X CPU).</p>\n<p>The error I could extract using gdb on python was:<br>\n<code>Thread 20 \"python3\" received signal SIGSEGV, Segmentation fault. [Switching to Thread 0x7fffcf879700 (LWP 68916)] 0x00007fffd47bc355 in Eigen::internal::gemm_pack_lhs&lt;float, long, Eigen::internal::TensorContractionSubMapper&lt;float, long, 1, Eigen::TensorEvaluator&lt;Eigen::TensorReshapingOp&lt;Eigen::DSizes&lt;long, 2&gt; const, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 4, 1, long&gt;, 16, Eigen::MakePointer&gt; const&gt; const, Eigen::ThreadPoolDevice&gt;, Eigen::array&lt;long, 1ul&gt;, Eigen::array&lt;long, 1ul&gt;, 16, true, false, 0, Eigen::MakePointer&gt;, 48, 16, 0, false, false&gt;::operator()(float*, Eigen::internal::TensorContractionSubMapper&lt;float, long, 1, Eigen::TensorEvaluator&lt;Eigen::TensorReshapingOp&lt;Eigen::DSizes&lt;long, 2&gt; const, Eigen::TensorMap&lt;Eigen::Tensor&lt;float const, 4, 1, long&gt;, 16, Eigen::MakePointer&gt; const&gt; const, Eigen::ThreadPoolDevice&gt;, Eigen::array&lt;long, 1ul&gt;, Eigen::array&lt;long, 1ul&gt;, 16, true, false, 0, Eigen::MakePointer&gt; const&amp;, long, long, long, long) () from /projects/tensorflow/venv/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so</code></p>", "body_text": "I can confirm this issue. I just build tensorflow on Ubuntu 16.04.3 LTS with gcc (Ubuntu 5.4.0-6ubuntu1~16.04.4). I had to build against Eigen master (034fba127699) for a successful build using tensorflow master and 1.3.0 with bazel.  My Python version is 3.5.2.\nThe simple hello world is working fine. I can reproduce the error by using the mnist deep example (mnist_deep.py).\nThis only happens with march=native (My CPU: Intel(R) Core(TM) i7-7800X CPU).\nThe error I could extract using gdb on python was:\nThread 20 \"python3\" received signal SIGSEGV, Segmentation fault. [Switching to Thread 0x7fffcf879700 (LWP 68916)] 0x00007fffd47bc355 in Eigen::internal::gemm_pack_lhs<float, long, Eigen::internal::TensorContractionSubMapper<float, long, 1, Eigen::TensorEvaluator<Eigen::TensorReshapingOp<Eigen::DSizes<long, 2> const, Eigen::TensorMap<Eigen::Tensor<float const, 4, 1, long>, 16, Eigen::MakePointer> const> const, Eigen::ThreadPoolDevice>, Eigen::array<long, 1ul>, Eigen::array<long, 1ul>, 16, true, false, 0, Eigen::MakePointer>, 48, 16, 0, false, false>::operator()(float*, Eigen::internal::TensorContractionSubMapper<float, long, 1, Eigen::TensorEvaluator<Eigen::TensorReshapingOp<Eigen::DSizes<long, 2> const, Eigen::TensorMap<Eigen::Tensor<float const, 4, 1, long>, 16, Eigen::MakePointer> const> const, Eigen::ThreadPoolDevice>, Eigen::array<long, 1ul>, Eigen::array<long, 1ul>, 16, true, false, 0, Eigen::MakePointer> const&, long, long, long, long) () from /projects/tensorflow/venv/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so", "body": "I can confirm this issue. I just build tensorflow on Ubuntu 16.04.3 LTS with gcc (Ubuntu 5.4.0-6ubuntu1~16.04.4). I had to build against Eigen master (034fba127699) for a successful build using tensorflow master and 1.3.0 with bazel.  My Python version is 3.5.2.\r\n\r\nThe simple hello world is working fine. I can reproduce the error by using the mnist deep example (mnist_deep.py).\r\n\r\nThis only happens with march=native (My CPU: Intel(R) Core(TM) i7-7800X CPU).\r\n\r\nThe error I could extract using gdb on python was:\r\n`\r\nThread 20 \"python3\" received signal SIGSEGV, Segmentation fault.\r\n[Switching to Thread 0x7fffcf879700 (LWP 68916)]\r\n0x00007fffd47bc355 in Eigen::internal::gemm_pack_lhs<float, long, Eigen::internal::TensorContractionSubMapper<float, long, 1, Eigen::TensorEvaluator<Eigen::TensorReshapingOp<Eigen::DSizes<long, 2> const, Eigen::TensorMap<Eigen::Tensor<float const, 4, 1, long>, 16, Eigen::MakePointer> const> const, Eigen::ThreadPoolDevice>, Eigen::array<long, 1ul>, Eigen::array<long, 1ul>, 16, true, false, 0, Eigen::MakePointer>, 48, 16, 0, false, false>::operator()(float*, Eigen::internal::TensorContractionSubMapper<float, long, 1, Eigen::TensorEvaluator<Eigen::TensorReshapingOp<Eigen::DSizes<long, 2> const, Eigen::TensorMap<Eigen::Tensor<float const, 4, 1, long>, 16, Eigen::MakePointer> const> const, Eigen::ThreadPoolDevice>, Eigen::array<long, 1ul>, Eigen::array<long, 1ul>, 16, true, false, 0, Eigen::MakePointer> const&, long, long, long, long) () from /projects/tensorflow/venv/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n`\r\n  "}