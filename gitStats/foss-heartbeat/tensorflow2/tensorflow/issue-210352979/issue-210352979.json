{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7905", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7905/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7905/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7905/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7905", "id": 210352979, "node_id": "MDU6SXNzdWUyMTAzNTI5Nzk=", "number": 7905, "title": "pi_examples: Building label_image shows missing graph.pb.h then graph.pb.h version error", "user": {"login": "avantol", "id": 5302633, "node_id": "MDQ6VXNlcjUzMDI2MzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/5302633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avantol", "html_url": "https://github.com/avantol", "followers_url": "https://api.github.com/users/avantol/followers", "following_url": "https://api.github.com/users/avantol/following{/other_user}", "gists_url": "https://api.github.com/users/avantol/gists{/gist_id}", "starred_url": "https://api.github.com/users/avantol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avantol/subscriptions", "organizations_url": "https://api.github.com/users/avantol/orgs", "repos_url": "https://api.github.com/users/avantol/repos", "events_url": "https://api.github.com/users/avantol/events{/privacy}", "received_events_url": "https://api.github.com/users/avantol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-26T22:09:06Z", "updated_at": "2017-03-02T20:18:06Z", "closed_at": "2017-03-02T20:18:06Z", "author_association": "NONE", "body_html": "<p>When building the label_image example in pi_examples:</p>\n<p>./tensorflow/core/framework/graph.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is<br>\n./tensorflow/core/framework/graph.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>None, the mentions of graph.pb.h were all for that file simply being missing.</p>\n<p>In my case, moving graph.pb.h to the location the compiler expects resulted in the version error message, above.</p>\n<p>Also, the issue reports seemed to be pre- TF v.1.0.0, and likely not relevant.</p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nRaspbian Jessie, version \"Jan 2017\", release date \"2017-01-11\"<br>\n<a href=\"https://www.raspberrypi.org/downloads/raspbian/\" rel=\"nofollow\">https://www.raspberrypi.org/downloads/raspbian/</a></p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\nN/A</p>\n<p>If installed from binary pip package, provide:<br>\nN/A</p>\n<ol>\n<li>A link to the pip package you installed:</li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<p>If installed from source, provide</p>\n<ol>\n<li>\n<p>The commit hash (<code>git rev-parse HEAD</code>)<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/321d38ee0ff76d749a8578f37128b02bf033ce76/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/321d38ee0ff76d749a8578f37128b02bf033ce76\"><tt>321d38e</tt></a></p>\n</li>\n<li>\n<p>The output of <code>bazel version</code><br>\nBuild label: 0.4.3- (@non-git)<br>\nBuild target: bazel-out/local-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Fri Feb 24 03:14:34 2017 (1487906074)<br>\nBuild timestamp: 1487906074<br>\nBuild timestamp as int: 1487906074</p>\n</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>Build tensorflow from source, exactly as at:<br>\n<a href=\"https://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md\">https://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md</a></p>\n<p>Attempt tp build label_image example, exactly as at:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/pi_examples/\">https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/pi_examples/</a></p>\n<p>Corrected error caused by missing graph.pb.h by copying graph.pb.h from:<br>\n/home/pi/tensorflow/bazel-tensorflow/tensorflow/core/framework/graph.pb.h<br>\nto<br>\n/home/pi/tensorflow/tensorflow/core/framework/node_def.pb.h</p>\n<p>and ran the label_image make again. Error shown below.</p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>None, not very familiar w/Bazel and TF building yet... after all, the pi_examples are for newbies to get started with and learn TF, right?</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>\n<p>pi@raspberrypi:~/tensorflow $ make -f tensorflow/contrib/pi_examples/label_image/Makefile<br>\ngcc --std=c++11 -O0 -I/usr/local/include -I. -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/downloads -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/downloads/eigen/ -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/gen/proto/ -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/gen/proto_text/ -c tensorflow/contrib/pi_examples/label_image/label_image.cc -o /home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/obj/tensorflow/contrib/pi_examples/label_image/label_image.o<br>\nIn file included from tensorflow/contrib/pi_examples/label_image/label_image.cc:32:0:<br>\n./tensorflow/core/framework/graph.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is<br>\n#error This file was generated by a newer version of protoc which is<br>\n^<br>\n./tensorflow/core/framework/graph.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update<br>\n#error incompatible with your Protocol Buffer headers.  Please update<br>\n^<br>\n./tensorflow/core/framework/graph.pb.h:14:2: error: #error your headers.<br>\n#error your headers.<br>\n^<br>\nIn file included from tensorflow/contrib/pi_examples/label_image/label_image.cc:32:0:<br>\n./tensorflow/core/framework/graph.pb.h:31:51: fatal error: tensorflow/core/framework/node_def.pb.h: No such file or directory<br>\n#include \"tensorflow/core/framework/node_def.pb.h\"<br>\n^<br>\ncompilation terminated.<br>\ntensorflow/contrib/pi_examples/label_image/Makefile:79: recipe for target '/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/obj/tensorflow/contrib/pi_examples/label_image/label_image.o' failed<br>\nmake: *** [/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/obj/tensorflow/contrib/pi_examples/label_image/label_image.o] Error 1</p>", "body_text": "When building the label_image example in pi_examples:\n./tensorflow/core/framework/graph.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\n./tensorflow/core/framework/graph.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nNone, the mentions of graph.pb.h were all for that file simply being missing.\nIn my case, moving graph.pb.h to the location the compiler expects resulted in the version error message, above.\nAlso, the issue reports seemed to be pre- TF v.1.0.0, and likely not relevant.\nEnvironment info\nOperating System:\nRaspbian Jessie, version \"Jan 2017\", release date \"2017-01-11\"\nhttps://www.raspberrypi.org/downloads/raspbian/\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nN/A\nIf installed from binary pip package, provide:\nN/A\n\nA link to the pip package you installed:\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\nIf installed from source, provide\n\n\nThe commit hash (git rev-parse HEAD)\n321d38e\n\n\nThe output of bazel version\nBuild label: 0.4.3- (@non-git)\nBuild target: bazel-out/local-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Feb 24 03:14:34 2017 (1487906074)\nBuild timestamp: 1487906074\nBuild timestamp as int: 1487906074\n\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nBuild tensorflow from source, exactly as at:\nhttps://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md\nAttempt tp build label_image example, exactly as at:\nhttps://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/pi_examples/\nCorrected error caused by missing graph.pb.h by copying graph.pb.h from:\n/home/pi/tensorflow/bazel-tensorflow/tensorflow/core/framework/graph.pb.h\nto\n/home/pi/tensorflow/tensorflow/core/framework/node_def.pb.h\nand ran the label_image make again. Error shown below.\nWhat other attempted solutions have you tried?\nNone, not very familiar w/Bazel and TF building yet... after all, the pi_examples are for newbies to get started with and learn TF, right?\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\npi@raspberrypi:~/tensorflow $ make -f tensorflow/contrib/pi_examples/label_image/Makefile\ngcc --std=c++11 -O0 -I/usr/local/include -I. -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/downloads -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/downloads/eigen/ -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/gen/proto/ -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/gen/proto_text/ -c tensorflow/contrib/pi_examples/label_image/label_image.cc -o /home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/obj/tensorflow/contrib/pi_examples/label_image/label_image.o\nIn file included from tensorflow/contrib/pi_examples/label_image/label_image.cc:32:0:\n./tensorflow/core/framework/graph.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\n#error This file was generated by a newer version of protoc which is\n^\n./tensorflow/core/framework/graph.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\n#error incompatible with your Protocol Buffer headers.  Please update\n^\n./tensorflow/core/framework/graph.pb.h:14:2: error: #error your headers.\n#error your headers.\n^\nIn file included from tensorflow/contrib/pi_examples/label_image/label_image.cc:32:0:\n./tensorflow/core/framework/graph.pb.h:31:51: fatal error: tensorflow/core/framework/node_def.pb.h: No such file or directory\n#include \"tensorflow/core/framework/node_def.pb.h\"\n^\ncompilation terminated.\ntensorflow/contrib/pi_examples/label_image/Makefile:79: recipe for target '/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/obj/tensorflow/contrib/pi_examples/label_image/label_image.o' failed\nmake: *** [/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/obj/tensorflow/contrib/pi_examples/label_image/label_image.o] Error 1", "body": "When building the label_image example in pi_examples:\r\n\r\n./tensorflow/core/framework/graph.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n./tensorflow/core/framework/graph.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\r\nNone, the mentions of graph.pb.h were all for that file simply being missing. \r\n\r\nIn my case, moving graph.pb.h to the location the compiler expects resulted in the version error message, above.\r\n\r\nAlso, the issue reports seemed to be pre- TF v.1.0.0, and likely not relevant.\r\n\r\n### Environment info\r\nOperating System:\r\nRaspbian Jessie, version \"Jan 2017\", release date \"2017-01-11\"\r\nhttps://www.raspberrypi.org/downloads/raspbian/\r\n\r\nInstalled version of CUDA and cuDNN: \r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\nN/A\r\n\r\nIf installed from binary pip package, provide:\r\nN/A\r\n\r\n1. A link to the pip package you installed:\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\n\r\nIf installed from source, provide \r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\n321d38ee0ff76d749a8578f37128b02bf033ce76\r\n\r\n2. The output of `bazel version`\r\nBuild label: 0.4.3- (@non-git)\r\nBuild target: bazel-out/local-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Fri Feb 24 03:14:34 2017 (1487906074)\r\nBuild timestamp: 1487906074\r\nBuild timestamp as int: 1487906074\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\n\r\nBuild tensorflow from source, exactly as at:\r\nhttps://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md\r\n\r\nAttempt tp build label_image example, exactly as at:\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/pi_examples/\r\n\r\nCorrected error caused by missing graph.pb.h by copying graph.pb.h from:\r\n/home/pi/tensorflow/bazel-tensorflow/tensorflow/core/framework/graph.pb.h\r\nto\r\n/home/pi/tensorflow/tensorflow/core/framework/node_def.pb.h\r\n\r\nand ran the label_image make again. Error shown below.\r\n\r\n### What other attempted solutions have you tried?\r\nNone, not very familiar w/Bazel and TF building yet... after all, the pi_examples are for newbies to get started with and learn TF, right? \r\n\r\n### Logs or other output that would be helpful\r\n(If logs are large, please upload as attachment or provide link).\r\n\r\npi@raspberrypi:~/tensorflow $ make -f tensorflow/contrib/pi_examples/label_image/Makefile\r\ngcc --std=c++11 -O0 -I/usr/local/include -I. -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/downloads -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/downloads/eigen/ -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/gen/proto/ -I/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/../../makefile/gen/proto_text/ -c tensorflow/contrib/pi_examples/label_image/label_image.cc -o /home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/obj/tensorflow/contrib/pi_examples/label_image/label_image.o\r\nIn file included from tensorflow/contrib/pi_examples/label_image/label_image.cc:32:0:\r\n./tensorflow/core/framework/graph.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n./tensorflow/core/framework/graph.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n./tensorflow/core/framework/graph.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from tensorflow/contrib/pi_examples/label_image/label_image.cc:32:0:\r\n./tensorflow/core/framework/graph.pb.h:31:51: fatal error: tensorflow/core/framework/node_def.pb.h: No such file or directory\r\n #include \"tensorflow/core/framework/node_def.pb.h\"\r\n                                                   ^\r\ncompilation terminated.\r\ntensorflow/contrib/pi_examples/label_image/Makefile:79: recipe for target '/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/obj/tensorflow/contrib/pi_examples/label_image/label_image.o' failed\r\nmake: *** [/home/pi/tensorflow/tensorflow/contrib/pi_examples/label_image/gen/obj/tensorflow/contrib/pi_examples/label_image/label_image.o] Error 1"}