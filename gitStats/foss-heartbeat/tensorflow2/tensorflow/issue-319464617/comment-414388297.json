{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/414388297", "html_url": "https://github.com/tensorflow/tensorflow/issues/19021#issuecomment-414388297", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19021", "id": 414388297, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDM4ODI5Nw==", "user": {"login": "gbildson", "id": 1090775, "node_id": "MDQ6VXNlcjEwOTA3NzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1090775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbildson", "html_url": "https://github.com/gbildson", "followers_url": "https://api.github.com/users/gbildson/followers", "following_url": "https://api.github.com/users/gbildson/following{/other_user}", "gists_url": "https://api.github.com/users/gbildson/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbildson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbildson/subscriptions", "organizations_url": "https://api.github.com/users/gbildson/orgs", "repos_url": "https://api.github.com/users/gbildson/repos", "events_url": "https://api.github.com/users/gbildson/events{/privacy}", "received_events_url": "https://api.github.com/users/gbildson/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-20T16:58:01Z", "updated_at": "2018-08-20T16:58:01Z", "author_association": "NONE", "body_html": "<div class=\"email-fragment\">I'm using InstanceNormalization in a trained Image Transformation Network.\u00a0 This uses tf.moments to do it's thing so I do need it.\u00a0 My realization and workaround was that I can replace the squared_difference in tf.moments with a tf.subtraction and tf.multiply to do the same.\u00a0 This appears to work although may not be as performant.\u00a0\nThanks-greg\n    On Saturday, August 18, 2018, 8:39:36 PM EDT, Suharsh Sivakumar &lt;notifications@github.com&gt; wrote:\n\n\nIs SquaredDifference being used in your training graph or eval graph. Right now you should only try to convert an eval graph which should probably not have the squared difference operation (commonly used in the loss). So create a separate eval graph and freeze the training checkpoint into that.\n\nIf SquaredDifference is needed in your eval graph, ignore my above comment. And I have tracked your ask of squared difference in the aggregation issue above.\n\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.</div>", "body_text": "I'm using InstanceNormalization in a trained Image Transformation Network.\u00a0 This uses tf.moments to do it's thing so I do need it.\u00a0 My realization and workaround was that I can replace the squared_difference in tf.moments with a tf.subtraction and tf.multiply to do the same.\u00a0 This appears to work although may not be as performant.\u00a0\nThanks-greg\n    On Saturday, August 18, 2018, 8:39:36 PM EDT, Suharsh Sivakumar <notifications@github.com> wrote:\n\n\nIs SquaredDifference being used in your training graph or eval graph. Right now you should only try to convert an eval graph which should probably not have the squared difference operation (commonly used in the loss). So create a separate eval graph and freeze the training checkpoint into that.\n\nIf SquaredDifference is needed in your eval graph, ignore my above comment. And I have tracked your ask of squared difference in the aggregation issue above.\n\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.", "body": " I'm using InstanceNormalization in a trained Image Transformation Network.\u00a0 This uses tf.moments to do it's thing so I do need it.\u00a0 My realization and workaround was that I can replace the squared_difference in tf.moments with a tf.subtraction and tf.multiply to do the same.\u00a0 This appears to work although may not be as performant.\u00a0\nThanks-greg\n    On Saturday, August 18, 2018, 8:39:36 PM EDT, Suharsh Sivakumar <notifications@github.com> wrote:  \n \n \nIs SquaredDifference being used in your training graph or eval graph. Right now you should only try to convert an eval graph which should probably not have the squared difference operation (commonly used in the loss). So create a separate eval graph and freeze the training checkpoint into that.\n\nIf SquaredDifference is needed in your eval graph, ignore my above comment. And I have tracked your ask of squared difference in the aggregation issue above.\n\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n   "}