{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/271189150", "html_url": "https://github.com/tensorflow/tensorflow/issues/6729#issuecomment-271189150", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6729", "id": 271189150, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTE4OTE1MA==", "user": {"login": "abossenbroek", "id": 7729, "node_id": "MDQ6VXNlcjc3Mjk=", "avatar_url": "https://avatars0.githubusercontent.com/u/7729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abossenbroek", "html_url": "https://github.com/abossenbroek", "followers_url": "https://api.github.com/users/abossenbroek/followers", "following_url": "https://api.github.com/users/abossenbroek/following{/other_user}", "gists_url": "https://api.github.com/users/abossenbroek/gists{/gist_id}", "starred_url": "https://api.github.com/users/abossenbroek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abossenbroek/subscriptions", "organizations_url": "https://api.github.com/users/abossenbroek/orgs", "repos_url": "https://api.github.com/users/abossenbroek/repos", "events_url": "https://api.github.com/users/abossenbroek/events{/privacy}", "received_events_url": "https://api.github.com/users/abossenbroek/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-08T23:41:34Z", "updated_at": "2017-01-08T23:49:33Z", "author_association": "NONE", "body_html": "<p>Same issue:</p>\n<pre><code>In [1]: import tensorflow as tf\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/__init__.py in &lt;module&gt;()\n     48     sys.setdlopenflags(_default_dlopen_flags | ctypes.RTLD_GLOBAL)\n---&gt; 49     from tensorflow.python import pywrap_tensorflow\n     50     sys.setdlopenflags(_default_dlopen_flags)\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py in &lt;module&gt;()\n     27             return _mod\n---&gt; 28     _pywrap_tensorflow = swig_import_helper()\n     29     del swig_import_helper\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py in swig_import_helper()\n     23             try:\n---&gt; 24                 _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\n     25             finally:\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/imp.py in load_module(name, file, filename, details)\n    241         else:\n--&gt; 242             return load_dynamic(name, filename, file)\n    243     elif type_ == PKG_DIRECTORY:\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/imp.py in load_dynamic(name, path, file)\n    341             name=name, loader=loader, origin=path)\n--&gt; 342         return _load(spec)\n    343 \n\nImportError: dlopen(/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow.so, 10): Library not loaded: @rpath/libcudart.8.0.dylib\n  Referenced from: /Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow.so\n  Reason: image not found\n</code></pre>\n<p>now I tried to change the library path:</p>\n<pre><code>sudo install_name_tool -change @rpath/libcudart.8.0.dylib /usr/local/cuda/lib/libcudart.8.0.dylib _pywrap_tensorflow.so \n</code></pre>\n<p>which leads to a segfault when importing tensorflow</p>\n<pre><code>In [1]: import tensorflow as tf\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/bin/python.app: line 3: 52118 Segmentation fault: 11  /Users/anton/.pyenv/versions/anaconda3-4.1.1/python.app/Contents/MacOS/python \"$@\"\n</code></pre>\n<p>Reran with <code>python3 -v</code></p>\n<pre><code>....(lots of messages)...\nimport 'importlib.abc' # &lt;_frozen_importlib_external.SourceFileLoader object at 0x104a51080&gt;\nimport 'importlib.util' # &lt;_frozen_importlib_external.SourceFileLoader object at 0x104a45828&gt;\nimport 'imp' # &lt;_frozen_importlib_external.SourceFileLoader object at 0x104a41f98&gt;\nSegmentation fault: 11\n</code></pre>", "body_text": "Same issue:\nIn [1]: import tensorflow as tf\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/__init__.py in <module>()\n     48     sys.setdlopenflags(_default_dlopen_flags | ctypes.RTLD_GLOBAL)\n---> 49     from tensorflow.python import pywrap_tensorflow\n     50     sys.setdlopenflags(_default_dlopen_flags)\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py in <module>()\n     27             return _mod\n---> 28     _pywrap_tensorflow = swig_import_helper()\n     29     del swig_import_helper\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py in swig_import_helper()\n     23             try:\n---> 24                 _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\n     25             finally:\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/imp.py in load_module(name, file, filename, details)\n    241         else:\n--> 242             return load_dynamic(name, filename, file)\n    243     elif type_ == PKG_DIRECTORY:\n\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/imp.py in load_dynamic(name, path, file)\n    341             name=name, loader=loader, origin=path)\n--> 342         return _load(spec)\n    343 \n\nImportError: dlopen(/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow.so, 10): Library not loaded: @rpath/libcudart.8.0.dylib\n  Referenced from: /Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow.so\n  Reason: image not found\n\nnow I tried to change the library path:\nsudo install_name_tool -change @rpath/libcudart.8.0.dylib /usr/local/cuda/lib/libcudart.8.0.dylib _pywrap_tensorflow.so \n\nwhich leads to a segfault when importing tensorflow\nIn [1]: import tensorflow as tf\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/bin/python.app: line 3: 52118 Segmentation fault: 11  /Users/anton/.pyenv/versions/anaconda3-4.1.1/python.app/Contents/MacOS/python \"$@\"\n\nReran with python3 -v\n....(lots of messages)...\nimport 'importlib.abc' # <_frozen_importlib_external.SourceFileLoader object at 0x104a51080>\nimport 'importlib.util' # <_frozen_importlib_external.SourceFileLoader object at 0x104a45828>\nimport 'imp' # <_frozen_importlib_external.SourceFileLoader object at 0x104a41f98>\nSegmentation fault: 11", "body": "Same issue:\r\n```\r\nIn [1]: import tensorflow as tf\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/__init__.py in <module>()\r\n     48     sys.setdlopenflags(_default_dlopen_flags | ctypes.RTLD_GLOBAL)\r\n---> 49     from tensorflow.python import pywrap_tensorflow\r\n     50     sys.setdlopenflags(_default_dlopen_flags)\r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py in <module>()\r\n     27             return _mod\r\n---> 28     _pywrap_tensorflow = swig_import_helper()\r\n     29     del swig_import_helper\r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py in swig_import_helper()\r\n     23             try:\r\n---> 24                 _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\r\n     25             finally:\r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/imp.py in load_module(name, file, filename, details)\r\n    241         else:\r\n--> 242             return load_dynamic(name, filename, file)\r\n    243     elif type_ == PKG_DIRECTORY:\r\n\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/imp.py in load_dynamic(name, path, file)\r\n    341             name=name, loader=loader, origin=path)\r\n--> 342         return _load(spec)\r\n    343 \r\n\r\nImportError: dlopen(/Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow.so, 10): Library not loaded: @rpath/libcudart.8.0.dylib\r\n  Referenced from: /Users/anton/.pyenv/versions/anaconda3-4.1.1/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow.so\r\n  Reason: image not found\r\n```\r\n\r\nnow I tried to change the library path:\r\n```\r\nsudo install_name_tool -change @rpath/libcudart.8.0.dylib /usr/local/cuda/lib/libcudart.8.0.dylib _pywrap_tensorflow.so \r\n```\r\n\r\nwhich leads to a segfault when importing tensorflow\r\n\r\n```\r\nIn [1]: import tensorflow as tf\r\n/Users/anton/.pyenv/versions/anaconda3-4.1.1/bin/python.app: line 3: 52118 Segmentation fault: 11  /Users/anton/.pyenv/versions/anaconda3-4.1.1/python.app/Contents/MacOS/python \"$@\"\r\n```\r\n\r\nReran with `python3 -v`\r\n\r\n```\r\n....(lots of messages)...\r\nimport 'importlib.abc' # <_frozen_importlib_external.SourceFileLoader object at 0x104a51080>\r\nimport 'importlib.util' # <_frozen_importlib_external.SourceFileLoader object at 0x104a45828>\r\nimport 'imp' # <_frozen_importlib_external.SourceFileLoader object at 0x104a41f98>\r\nSegmentation fault: 11\r\n```"}