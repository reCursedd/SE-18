{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20984", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20984/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20984/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20984/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20984", "id": 342947602, "node_id": "MDU6SXNzdWUzNDI5NDc2MDI=", "number": 20984, "title": "Can't convert .pb file to .lite, \"toco: error: argument --output_file is required\"", "user": {"login": "denged", "id": 41391641, "node_id": "MDQ6VXNlcjQxMzkxNjQx", "avatar_url": "https://avatars1.githubusercontent.com/u/41391641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denged", "html_url": "https://github.com/denged", "followers_url": "https://api.github.com/users/denged/followers", "following_url": "https://api.github.com/users/denged/following{/other_user}", "gists_url": "https://api.github.com/users/denged/gists{/gist_id}", "starred_url": "https://api.github.com/users/denged/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denged/subscriptions", "organizations_url": "https://api.github.com/users/denged/orgs", "repos_url": "https://api.github.com/users/denged/repos", "events_url": "https://api.github.com/users/denged/events{/privacy}", "received_events_url": "https://api.github.com/users/denged/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}, {"login": "andrehentz", "id": 25754898, "node_id": "MDQ6VXNlcjI1NzU0ODk4", "avatar_url": "https://avatars3.githubusercontent.com/u/25754898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrehentz", "html_url": "https://github.com/andrehentz", "followers_url": "https://api.github.com/users/andrehentz/followers", "following_url": "https://api.github.com/users/andrehentz/following{/other_user}", "gists_url": "https://api.github.com/users/andrehentz/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrehentz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrehentz/subscriptions", "organizations_url": "https://api.github.com/users/andrehentz/orgs", "repos_url": "https://api.github.com/users/andrehentz/repos", "events_url": "https://api.github.com/users/andrehentz/events{/privacy}", "received_events_url": "https://api.github.com/users/andrehentz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-07-20T02:05:36Z", "updated_at": "2018-08-09T16:49:10Z", "closed_at": "2018-08-09T16:49:10Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 18.04 virtual machine that is run on legitimate Windows 10 OS</li>\n<li><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>: N/A</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: github.com/googlecodelabs/tensorflow-for-poets-2</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.9.0 (also tested 1.5.0, and 1.8.0)</li>\n<li><strong>Python version</strong>: 3.6</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.15.2</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: N/A</li>\n<li><strong>CUDA/cuDNN version</strong>: N/A? the tf_env_collect.sh program didnt pull any information on this</li>\n<li><strong>GPU model and memory</strong>:Rx480 with 4gb of ram</li>\n<li><strong>Exact command to reproduce</strong>:<br>\n/home/(user name)/.local/bin/toco <br>\n \u2014 input_file=tf_files/retrained_graph.pb <br>\n \u2014 output_file=tf_files/optimized_graph.lite <br>\n \u2014 input_format=TENSORFLOW_GRAPHDEF <br>\n \u2014 output_format=TFLITE <br>\n \u2014 input_shape=1,224,224,3 <br>\n \u2014 input_array=input <br>\n \u2014 output_array=final_result <br>\n \u2014 inference_type=FLOAT <br>\n \u2014 input_data_type=FLOAT</li>\n</ul>\n<p>taken from THIS tutorial:<br>\n<a href=\"https://heartbeat.fritz.ai/working-through-a-tensorflow-lite-tutorial-on-windows-10-e27ee0e8b8cc\" rel=\"nofollow\">https://heartbeat.fritz.ai/working-through-a-tensorflow-lite-tutorial-on-windows-10-e27ee0e8b8cc</a></p>\n<p>(I followed the tutorial pretty much word for word, virtual ubuntu machine and everything since TOCO never worked originally on my windows machine.)</p>\n<h3>Describe the problem</h3>\n<p>Describe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.git</p>\n<p>When I executed the command above after following the directions of that tutorial, originally with tensorflow 1.5.0 installed, the command failes saying<br>\n\"Check failed: parsed_toco_flags.input_format.specified() Missing required flag: input_format<br>\nAborted (core dumped)\"<br>\nI'm a novice in tensor flow programming but doesn't the command specify input_format?</p>\n<p>I looked on other github issues with a similar problem and the experts suggested upgrading tensorflow to 1.8.0 which only results in issues like missing module attributes or import errors. Its probably much more likely that I'm doing something wrong rather than there being a bug with tensorflow, but I'm just so confused as to what mistake I made; I need some expert help.</p>\n<h3>Source code / logs</h3>\n<p>Include any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.</p>\n<p>v. 1.5.0<br>\nubuntu@ubuntu:~$ /home/ubuntu/.local/bin/toco \\\u2014 input_file=tf_files/retrained_graph.pb \\\u2014 output_file=tf_files/optimized_graph.lite \\\u2014 input_format=TENSORFLOW_GRAPHDEF \\\u2014 output_format=TFLITE \\\u2014 input_shape=1,224,224,3 \\\u2014 input_array=input \\\u2014 output_array=final_result \\\u2014 inference_type=FLOAT \\\u2014 input_data_type=FLOAT<br>\n2018-07-20 01:55:55.974573: F tensorflow/contrib/lite/toco/toco_cmdline_flags.cc:165] Check failed: parsed_toco_flags.input_format.specified() Missing required flag: input_format<br>\nAborted (core dumped)</p>\n<p>v. 1.8.0<br>\nubuntu@ubuntu:~$ /home/ubuntu/.local/bin/toco \\\u2014 input_file=tf_files/retrained_graph.pb \\\u2014 output_file=tf_files/optimized_graph.lite \\\u2014 input_format=TENSORFLOW_GRAPHDEF \\\u2014 output_format=TFLITE \\\u2014 input_shape=1,224,224,3 \\\u2014 input_array=input \\\u2014 output_array=final_result \\\u2014 inference_type=FLOAT \\\u2014 input_data_type=FLOAT<br>\nTraceback (most recent call last):<br>\nFile \"/home/ubuntu/.local/bin/toco\", line 7, in <br>\nfrom tensorflow.contrib.lite.toco.python.toco_wrapper import main<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/<strong>init</strong>.py\", line 24, in <br>\nfrom tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/<strong>init</strong>.py\", line 63, in <br>\nfrom tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/framework/framework_lib.py\", line 104, in <br>\nfrom tensorflow.python.framework.importer import import_graph_def<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\", line 32, in <br>\nfrom tensorflow.python.framework import function<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/framework/function.py\", line 36, in <br>\nfrom tensorflow.python.ops import resource_variable_ops<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/ops/resource_variable_ops.py\", line 35, in <br>\nfrom tensorflow.python.ops import variables<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/ops/variables.py\", line 40, in <br>\nclass Variable(checkpointable.CheckpointableBase):<br>\nAttributeError: module 'tensorflow.python.training.checkpointable' has no attribute 'CheckpointableBase'</p>\n<p>v. 1.9.0<br>\nubuntu@ubuntu:~$ /home/ubuntu/.local/bin/toco \\\u2014 input_file=tf_files/retrained_graph.pb \\\u2014 output_file=tf_files/optimized_graph.lite \\\u2014 input_format=TENSORFLOW_GRAPHDEF \\\u2014 output_format=TFLITE \\\u2014 input_shape=1,224,224,3 \\\u2014 input_array=input \\\u2014 output_array=final_result \\\u2014 inference_type=FLOAT \\\u2014 input_data_type=FLOAT<br>\nTraceback (most recent call last):<br>\nFile \"/home/ubuntu/.local/bin/toco\", line 7, in <br>\nfrom tensorflow.contrib.lite.python.tflite_convert import main<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/<strong>init</strong>.py\", line 22, in <br>\nfrom tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/<strong>init</strong>.py\", line 81, in <br>\nfrom tensorflow.python import keras<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/<strong>init</strong>.py\", line 24, in <br>\nfrom tensorflow.python.keras import activations<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/activations/<strong>init</strong>.py\", line 22, in <br>\nfrom tensorflow.python.keras._impl.keras.activations import elu<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/<strong>init</strong>.py\", line 21, in <br>\nfrom tensorflow.python.keras._impl.keras import activations<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/activations.py\", line 23, in <br>\nfrom tensorflow.python.keras._impl.keras import backend as K<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/backend.py\", line 38, in <br>\nfrom tensorflow.python.layers import base as tf_base_layers<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/layers/base.py\", line 25, in <br>\nfrom tensorflow.python.keras.engine import base_layer<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/engine/<strong>init</strong>.py\", line 21, in <br>\nfrom tensorflow.python.keras.engine.base_layer import InputSpec<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 33, in <br>\nfrom tensorflow.python.keras import backend<br>\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/backend/<strong>init</strong>.py\", line 22, in <br>\nfrom tensorflow.python.keras._impl.keras.backend import abs<br>\nImportError: cannot import name 'abs'</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04 virtual machine that is run on legitimate Windows 10 OS\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\nTensorFlow installed from (source or binary): github.com/googlecodelabs/tensorflow-for-poets-2\nTensorFlow version (use command below): 1.9.0 (also tested 1.5.0, and 1.8.0)\nPython version: 3.6\nBazel version (if compiling from source): 0.15.2\nGCC/Compiler version (if compiling from source): N/A\nCUDA/cuDNN version: N/A? the tf_env_collect.sh program didnt pull any information on this\nGPU model and memory:Rx480 with 4gb of ram\nExact command to reproduce:\n/home/(user name)/.local/bin/toco \n \u2014 input_file=tf_files/retrained_graph.pb \n \u2014 output_file=tf_files/optimized_graph.lite \n \u2014 input_format=TENSORFLOW_GRAPHDEF \n \u2014 output_format=TFLITE \n \u2014 input_shape=1,224,224,3 \n \u2014 input_array=input \n \u2014 output_array=final_result \n \u2014 inference_type=FLOAT \n \u2014 input_data_type=FLOAT\n\ntaken from THIS tutorial:\nhttps://heartbeat.fritz.ai/working-through-a-tensorflow-lite-tutorial-on-windows-10-e27ee0e8b8cc\n(I followed the tutorial pretty much word for word, virtual ubuntu machine and everything since TOCO never worked originally on my windows machine.)\nDescribe the problem\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.git\nWhen I executed the command above after following the directions of that tutorial, originally with tensorflow 1.5.0 installed, the command failes saying\n\"Check failed: parsed_toco_flags.input_format.specified() Missing required flag: input_format\nAborted (core dumped)\"\nI'm a novice in tensor flow programming but doesn't the command specify input_format?\nI looked on other github issues with a similar problem and the experts suggested upgrading tensorflow to 1.8.0 which only results in issues like missing module attributes or import errors. Its probably much more likely that I'm doing something wrong rather than there being a bug with tensorflow, but I'm just so confused as to what mistake I made; I need some expert help.\nSource code / logs\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\nv. 1.5.0\nubuntu@ubuntu:~$ /home/ubuntu/.local/bin/toco \\\u2014 input_file=tf_files/retrained_graph.pb \\\u2014 output_file=tf_files/optimized_graph.lite \\\u2014 input_format=TENSORFLOW_GRAPHDEF \\\u2014 output_format=TFLITE \\\u2014 input_shape=1,224,224,3 \\\u2014 input_array=input \\\u2014 output_array=final_result \\\u2014 inference_type=FLOAT \\\u2014 input_data_type=FLOAT\n2018-07-20 01:55:55.974573: F tensorflow/contrib/lite/toco/toco_cmdline_flags.cc:165] Check failed: parsed_toco_flags.input_format.specified() Missing required flag: input_format\nAborted (core dumped)\nv. 1.8.0\nubuntu@ubuntu:~$ /home/ubuntu/.local/bin/toco \\\u2014 input_file=tf_files/retrained_graph.pb \\\u2014 output_file=tf_files/optimized_graph.lite \\\u2014 input_format=TENSORFLOW_GRAPHDEF \\\u2014 output_format=TFLITE \\\u2014 input_shape=1,224,224,3 \\\u2014 input_array=input \\\u2014 output_array=final_result \\\u2014 inference_type=FLOAT \\\u2014 input_data_type=FLOAT\nTraceback (most recent call last):\nFile \"/home/ubuntu/.local/bin/toco\", line 7, in \nfrom tensorflow.contrib.lite.toco.python.toco_wrapper import main\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/init.py\", line 24, in \nfrom tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/init.py\", line 63, in \nfrom tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/framework/framework_lib.py\", line 104, in \nfrom tensorflow.python.framework.importer import import_graph_def\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\", line 32, in \nfrom tensorflow.python.framework import function\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/framework/function.py\", line 36, in \nfrom tensorflow.python.ops import resource_variable_ops\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/ops/resource_variable_ops.py\", line 35, in \nfrom tensorflow.python.ops import variables\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/ops/variables.py\", line 40, in \nclass Variable(checkpointable.CheckpointableBase):\nAttributeError: module 'tensorflow.python.training.checkpointable' has no attribute 'CheckpointableBase'\nv. 1.9.0\nubuntu@ubuntu:~$ /home/ubuntu/.local/bin/toco \\\u2014 input_file=tf_files/retrained_graph.pb \\\u2014 output_file=tf_files/optimized_graph.lite \\\u2014 input_format=TENSORFLOW_GRAPHDEF \\\u2014 output_format=TFLITE \\\u2014 input_shape=1,224,224,3 \\\u2014 input_array=input \\\u2014 output_array=final_result \\\u2014 inference_type=FLOAT \\\u2014 input_data_type=FLOAT\nTraceback (most recent call last):\nFile \"/home/ubuntu/.local/bin/toco\", line 7, in \nfrom tensorflow.contrib.lite.python.tflite_convert import main\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/init.py\", line 22, in \nfrom tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/init.py\", line 81, in \nfrom tensorflow.python import keras\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/init.py\", line 24, in \nfrom tensorflow.python.keras import activations\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/activations/init.py\", line 22, in \nfrom tensorflow.python.keras._impl.keras.activations import elu\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/init.py\", line 21, in \nfrom tensorflow.python.keras._impl.keras import activations\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/activations.py\", line 23, in \nfrom tensorflow.python.keras._impl.keras import backend as K\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/backend.py\", line 38, in \nfrom tensorflow.python.layers import base as tf_base_layers\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/layers/base.py\", line 25, in \nfrom tensorflow.python.keras.engine import base_layer\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/engine/init.py\", line 21, in \nfrom tensorflow.python.keras.engine.base_layer import InputSpec\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 33, in \nfrom tensorflow.python.keras import backend\nFile \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/backend/init.py\", line 22, in \nfrom tensorflow.python.keras._impl.keras.backend import abs\nImportError: cannot import name 'abs'", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 18.04 virtual machine that is run on legitimate Windows 10 OS\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: N/A\r\n- **TensorFlow installed from (source or binary)**: github.com/googlecodelabs/tensorflow-for-poets-2\r\n- **TensorFlow version (use command below)**: 1.9.0 (also tested 1.5.0, and 1.8.0)\r\n- **Python version**: 3.6\r\n- **Bazel version (if compiling from source)**: 0.15.2 \r\n- **GCC/Compiler version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: N/A? the tf_env_collect.sh program didnt pull any information on this\r\n- **GPU model and memory**:Rx480 with 4gb of ram\r\n- **Exact command to reproduce**: \r\n/home/(user name)/.local/bin/toco \\\r\n \u2014 input_file=tf_files/retrained_graph.pb \\\r\n \u2014 output_file=tf_files/optimized_graph.lite \\\r\n \u2014 input_format=TENSORFLOW_GRAPHDEF \\\r\n \u2014 output_format=TFLITE \\\r\n \u2014 input_shape=1,224,224,3 \\\r\n \u2014 input_array=input \\\r\n \u2014 output_array=final_result \\\r\n \u2014 inference_type=FLOAT \\\r\n \u2014 input_data_type=FLOAT\r\n\r\ntaken from THIS tutorial:\r\nhttps://heartbeat.fritz.ai/working-through-a-tensorflow-lite-tutorial-on-windows-10-e27ee0e8b8cc\r\n\r\n(I followed the tutorial pretty much word for word, virtual ubuntu machine and everything since TOCO never worked originally on my windows machine.)\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.git\r\n\r\nWhen I executed the command above after following the directions of that tutorial, originally with tensorflow 1.5.0 installed, the command failes saying \r\n\"Check failed: parsed_toco_flags.input_format.specified() Missing required flag: input_format\r\nAborted (core dumped)\"\r\nI'm a novice in tensor flow programming but doesn't the command specify input_format?\r\n\r\n\r\nI looked on other github issues with a similar problem and the experts suggested upgrading tensorflow to 1.8.0 which only results in issues like missing module attributes or import errors. Its probably much more likely that I'm doing something wrong rather than there being a bug with tensorflow, but I'm just so confused as to what mistake I made; I need some expert help. \r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\nv. 1.5.0 \r\nubuntu@ubuntu:~$ /home/ubuntu/.local/bin/toco \\\u2014 input_file=tf_files/retrained_graph.pb \\\u2014 output_file=tf_files/optimized_graph.lite \\\u2014 input_format=TENSORFLOW_GRAPHDEF \\\u2014 output_format=TFLITE \\\u2014 input_shape=1,224,224,3 \\\u2014 input_array=input \\\u2014 output_array=final_result \\\u2014 inference_type=FLOAT \\\u2014 input_data_type=FLOAT\r\n2018-07-20 01:55:55.974573: F tensorflow/contrib/lite/toco/toco_cmdline_flags.cc:165] Check failed: parsed_toco_flags.input_format.specified() Missing required flag: input_format\r\nAborted (core dumped)\r\n\r\nv. 1.8.0\r\nubuntu@ubuntu:~$ /home/ubuntu/.local/bin/toco \\\u2014 input_file=tf_files/retrained_graph.pb \\\u2014 output_file=tf_files/optimized_graph.lite \\\u2014 input_format=TENSORFLOW_GRAPHDEF \\\u2014 output_format=TFLITE \\\u2014 input_shape=1,224,224,3 \\\u2014 input_array=input \\\u2014 output_array=final_result \\\u2014 inference_type=FLOAT \\\u2014 input_data_type=FLOAT\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/.local/bin/toco\", line 7, in <module>\r\n    from tensorflow.contrib.lite.toco.python.toco_wrapper import main\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/__init__.py\", line 63, in <module>\r\n    from tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/framework/framework_lib.py\", line 104, in <module>\r\n    from tensorflow.python.framework.importer import import_graph_def\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/framework/importer.py\", line 32, in <module>\r\n    from tensorflow.python.framework import function\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/framework/function.py\", line 36, in <module>\r\n    from tensorflow.python.ops import resource_variable_ops\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/ops/resource_variable_ops.py\", line 35, in <module>\r\n    from tensorflow.python.ops import variables\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/ops/variables.py\", line 40, in <module>\r\n    class Variable(checkpointable.CheckpointableBase):\r\nAttributeError: module 'tensorflow.python.training.checkpointable' has no attribute 'CheckpointableBase'\r\n\r\nv. 1.9.0\r\nubuntu@ubuntu:~$ /home/ubuntu/.local/bin/toco \\\u2014 input_file=tf_files/retrained_graph.pb \\\u2014 output_file=tf_files/optimized_graph.lite \\\u2014 input_format=TENSORFLOW_GRAPHDEF \\\u2014 output_format=TFLITE \\\u2014 input_shape=1,224,224,3 \\\u2014 input_array=input \\\u2014 output_array=final_result \\\u2014 inference_type=FLOAT \\\u2014 input_data_type=FLOAT\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/.local/bin/toco\", line 7, in <module>\r\n    from tensorflow.contrib.lite.python.tflite_convert import main\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/__init__.py\", line 22, in <module>\r\n    from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/__init__.py\", line 81, in <module>\r\n    from tensorflow.python import keras\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/__init__.py\", line 24, in <module>\r\n    from tensorflow.python.keras import activations\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/activations/__init__.py\", line 22, in <module>\r\n    from tensorflow.python.keras._impl.keras.activations import elu\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/__init__.py\", line 21, in <module>\r\n    from tensorflow.python.keras._impl.keras import activations\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/activations.py\", line 23, in <module>\r\n    from tensorflow.python.keras._impl.keras import backend as K\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/backend.py\", line 38, in <module>\r\n    from tensorflow.python.layers import base as tf_base_layers\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/layers/base.py\", line 25, in <module>\r\n    from tensorflow.python.keras.engine import base_layer\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/engine/__init__.py\", line 21, in <module>\r\n    from tensorflow.python.keras.engine.base_layer import InputSpec\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 33, in <module>\r\n    from tensorflow.python.keras import backend\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/tensorflow/python/keras/backend/__init__.py\", line 22, in <module>\r\n    from tensorflow.python.keras._impl.keras.backend import abs\r\nImportError: cannot import name 'abs'"}