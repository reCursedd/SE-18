{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/386183124", "html_url": "https://github.com/tensorflow/tensorflow/issues/18994#issuecomment-386183124", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18994", "id": 386183124, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjE4MzEyNA==", "user": {"login": "oscarriddle", "id": 13745902, "node_id": "MDQ6VXNlcjEzNzQ1OTAy", "avatar_url": "https://avatars0.githubusercontent.com/u/13745902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oscarriddle", "html_url": "https://github.com/oscarriddle", "followers_url": "https://api.github.com/users/oscarriddle/followers", "following_url": "https://api.github.com/users/oscarriddle/following{/other_user}", "gists_url": "https://api.github.com/users/oscarriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/oscarriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oscarriddle/subscriptions", "organizations_url": "https://api.github.com/users/oscarriddle/orgs", "repos_url": "https://api.github.com/users/oscarriddle/repos", "events_url": "https://api.github.com/users/oscarriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/oscarriddle/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-03T03:30:05Z", "updated_at": "2018-05-03T03:30:05Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=10539540\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/samikama\">@samikama</a></p>\n<p>Thanks for your reply, it helps me understand the behind mechanism.<br>\nI added this line to partition the available memory in creating a session, and now previous error disappeared, but a new one popped that:<br>\n<code>tensorflow.python.framework.errors_impl.NotFoundError: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables</code></p>\n<p>I noticed the saved_model, which is generated based on a optimized frozen model, is in a different format from normal saved_models. The new saved_model has below file list:</p>\n<pre><code>-rw-r--r-- 1 web_server users 85M 5\u6708   2 14:54 saved_model.pb\ndrwxr-xr-x 2 web_server users   6 5\u6708   2 14:54 variables\n</code></pre>\n<p>And the folder \"varibales\" is actually empty. This is different from normal saved_models that generated from the original model:</p>\n<pre><code>-rw-r--r-- 1 web_server users      1.8M 4\u6708  16 17:09 saved_model.pb\ndrwxr-xr-x 2 web_server users        66 4\u6708  17 17:08 variables\n</code></pre>\n<p>And in ./variables/*</p>\n<pre><code>-rw-r--r-- 1 web_server users 95M 4\u6708  16 18:57 variables.data-00000-of-00001\n-rw-r--r-- 1 web_server users 17K 4\u6708  16 18:57 variables.index\n</code></pre>\n<p>I'm not quite familiar with the saved_model mechanism, but I suggests this difference comes from the source model is a TRT optimized frozen model, but not the original one.</p>\n<p>However, seems that saved_model loader is unable to load this \"saved_model\" in this format.</p>\n<p>Let me share the log:</p>\n<pre><code>2018-05-03 11:10:03.502930: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-05-03 11:10:04.112785: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-05-03 11:10:04.113087: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties: \nname: Tesla P4 major: 6 minor: 1 memoryClockRate(GHz): 1.1135\npciBusID: 0000:00:08.0\ntotalMemory: 7.43GiB freeMemory: 7.31GiB\n2018-05-03 11:10:04.113124: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\n2018-05-03 11:10:04.566803: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-05-03 11:10:04.566852: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0 \n2018-05-03 11:10:04.566861: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N \n2018-05-03 11:10:04.567079: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 3805 MB memory) -&gt; physical GPU (device: 0, name: Tesla P4, pci bus id: 0000:00:08.0, compute capability: 6.1)\n2018-05-03 11:10:06.909755: W tensorflow/core/framework/op_kernel.cc:1273] OP_REQUIRES failed at save_restore_tensor.cc:170 : Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables\nTraceback (most recent call last):\n  File \"trt_run_saved.py\", line 115, in &lt;module&gt;\n    _main()\n  File \"trt_run_saved.py\", line 103, in _main\n    tf.saved_model.loader.load(sess, ['serve'], './fs2')\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/saved_model/loader_impl.py\", line 229, in load\n    saver.restore(sess, variables_path)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1775, in restore\n    {self.saver_def.filename_tensor_name: save_path})\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 905, in run\n    run_metadata_ptr)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1140, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1321, in _do_run\n    run_metadata)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1340, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.NotFoundError: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables\n\t [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\n\t [[Node: save/RestoreV2/_301 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device_incarnation=1, tensor_name=\"edge_306_save/RestoreV2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"]()]]\n\nCaused by op u'save/RestoreV2', defined at:\n  File \"trt_run_saved.py\", line 115, in &lt;module&gt;\n    _main()\n  File \"trt_run_saved.py\", line 103, in _main\n    tf.saved_model.loader.load(sess, ['serve'], './fs2')\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/saved_model/loader_impl.py\", line 219, in load\n    saver = tf_saver.import_meta_graph(meta_graph_def_to_load, **saver_kwargs)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1933, in import_meta_graph\n    return Saver()\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1311, in __init__\n    self.build()\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1320, in build\n    self._build(self._filename, build_save=True, build_restore=True)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1357, in _build\n    build_save=build_save, build_restore=build_restore)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 809, in _build_internal\n    restore_sequentially, reshape)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 448, in _AddRestoreOps\n    restore_sequentially)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 860, in bulk_restore\n    return io_ops.restore_v2(filename_tensor, names, slices, dtypes)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/ops/gen_io_ops.py\", line 1458, in restore_v2\n    shape_and_slices=shape_and_slices, dtypes=dtypes, name=name)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 3290, in create_op\n    op_def=op_def)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1654, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nNotFoundError (see above for traceback): Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables\n\t [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\n\t [[Node: save/RestoreV2/_301 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device_incarnation=1, tensor_name=\"edge_306_save/RestoreV2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"]()]]\n</code></pre>\n<p>Thanks,</p>", "body_text": "Hi @samikama\nThanks for your reply, it helps me understand the behind mechanism.\nI added this line to partition the available memory in creating a session, and now previous error disappeared, but a new one popped that:\ntensorflow.python.framework.errors_impl.NotFoundError: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables\nI noticed the saved_model, which is generated based on a optimized frozen model, is in a different format from normal saved_models. The new saved_model has below file list:\n-rw-r--r-- 1 web_server users 85M 5\u6708   2 14:54 saved_model.pb\ndrwxr-xr-x 2 web_server users   6 5\u6708   2 14:54 variables\n\nAnd the folder \"varibales\" is actually empty. This is different from normal saved_models that generated from the original model:\n-rw-r--r-- 1 web_server users      1.8M 4\u6708  16 17:09 saved_model.pb\ndrwxr-xr-x 2 web_server users        66 4\u6708  17 17:08 variables\n\nAnd in ./variables/*\n-rw-r--r-- 1 web_server users 95M 4\u6708  16 18:57 variables.data-00000-of-00001\n-rw-r--r-- 1 web_server users 17K 4\u6708  16 18:57 variables.index\n\nI'm not quite familiar with the saved_model mechanism, but I suggests this difference comes from the source model is a TRT optimized frozen model, but not the original one.\nHowever, seems that saved_model loader is unable to load this \"saved_model\" in this format.\nLet me share the log:\n2018-05-03 11:10:03.502930: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-05-03 11:10:04.112785: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-05-03 11:10:04.113087: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties: \nname: Tesla P4 major: 6 minor: 1 memoryClockRate(GHz): 1.1135\npciBusID: 0000:00:08.0\ntotalMemory: 7.43GiB freeMemory: 7.31GiB\n2018-05-03 11:10:04.113124: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\n2018-05-03 11:10:04.566803: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-05-03 11:10:04.566852: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0 \n2018-05-03 11:10:04.566861: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N \n2018-05-03 11:10:04.567079: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 3805 MB memory) -> physical GPU (device: 0, name: Tesla P4, pci bus id: 0000:00:08.0, compute capability: 6.1)\n2018-05-03 11:10:06.909755: W tensorflow/core/framework/op_kernel.cc:1273] OP_REQUIRES failed at save_restore_tensor.cc:170 : Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables\nTraceback (most recent call last):\n  File \"trt_run_saved.py\", line 115, in <module>\n    _main()\n  File \"trt_run_saved.py\", line 103, in _main\n    tf.saved_model.loader.load(sess, ['serve'], './fs2')\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/saved_model/loader_impl.py\", line 229, in load\n    saver.restore(sess, variables_path)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1775, in restore\n    {self.saver_def.filename_tensor_name: save_path})\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 905, in run\n    run_metadata_ptr)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1140, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1321, in _do_run\n    run_metadata)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1340, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.NotFoundError: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables\n\t [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\n\t [[Node: save/RestoreV2/_301 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device_incarnation=1, tensor_name=\"edge_306_save/RestoreV2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"]()]]\n\nCaused by op u'save/RestoreV2', defined at:\n  File \"trt_run_saved.py\", line 115, in <module>\n    _main()\n  File \"trt_run_saved.py\", line 103, in _main\n    tf.saved_model.loader.load(sess, ['serve'], './fs2')\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/saved_model/loader_impl.py\", line 219, in load\n    saver = tf_saver.import_meta_graph(meta_graph_def_to_load, **saver_kwargs)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1933, in import_meta_graph\n    return Saver()\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1311, in __init__\n    self.build()\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1320, in build\n    self._build(self._filename, build_save=True, build_restore=True)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1357, in _build\n    build_save=build_save, build_restore=build_restore)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 809, in _build_internal\n    restore_sequentially, reshape)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 448, in _AddRestoreOps\n    restore_sequentially)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 860, in bulk_restore\n    return io_ops.restore_v2(filename_tensor, names, slices, dtypes)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/ops/gen_io_ops.py\", line 1458, in restore_v2\n    shape_and_slices=shape_and_slices, dtypes=dtypes, name=name)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 3290, in create_op\n    op_def=op_def)\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1654, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nNotFoundError (see above for traceback): Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables\n\t [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\n\t [[Node: save/RestoreV2/_301 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device_incarnation=1, tensor_name=\"edge_306_save/RestoreV2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"]()]]\n\nThanks,", "body": "Hi @samikama \r\n\r\nThanks for your reply, it helps me understand the behind mechanism.\r\nI added this line to partition the available memory in creating a session, and now previous error disappeared, but a new one popped that:\r\n`tensorflow.python.framework.errors_impl.NotFoundError: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables`\r\n\r\nI noticed the saved_model, which is generated based on a optimized frozen model, is in a different format from normal saved_models. The new saved_model has below file list:\r\n```\r\n-rw-r--r-- 1 web_server users 85M 5\u6708   2 14:54 saved_model.pb\r\ndrwxr-xr-x 2 web_server users   6 5\u6708   2 14:54 variables\r\n```\r\nAnd the folder \"varibales\" is actually empty. This is different from normal saved_models that generated from the original model:\r\n```\r\n-rw-r--r-- 1 web_server users      1.8M 4\u6708  16 17:09 saved_model.pb\r\ndrwxr-xr-x 2 web_server users        66 4\u6708  17 17:08 variables\r\n```\r\nAnd in ./variables/*\r\n```\r\n-rw-r--r-- 1 web_server users 95M 4\u6708  16 18:57 variables.data-00000-of-00001\r\n-rw-r--r-- 1 web_server users 17K 4\u6708  16 18:57 variables.index\r\n```\r\n\r\nI'm not quite familiar with the saved_model mechanism, but I suggests this difference comes from the source model is a TRT optimized frozen model, but not the original one.\r\n\r\nHowever, seems that saved_model loader is unable to load this \"saved_model\" in this format. \r\n\r\nLet me share the log:\r\n```\r\n2018-05-03 11:10:03.502930: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2018-05-03 11:10:04.112785: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2018-05-03 11:10:04.113087: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties: \r\nname: Tesla P4 major: 6 minor: 1 memoryClockRate(GHz): 1.1135\r\npciBusID: 0000:00:08.0\r\ntotalMemory: 7.43GiB freeMemory: 7.31GiB\r\n2018-05-03 11:10:04.113124: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\r\n2018-05-03 11:10:04.566803: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-05-03 11:10:04.566852: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0 \r\n2018-05-03 11:10:04.566861: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N \r\n2018-05-03 11:10:04.567079: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 3805 MB memory) -> physical GPU (device: 0, name: Tesla P4, pci bus id: 0000:00:08.0, compute capability: 6.1)\r\n2018-05-03 11:10:06.909755: W tensorflow/core/framework/op_kernel.cc:1273] OP_REQUIRES failed at save_restore_tensor.cc:170 : Not found: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables\r\nTraceback (most recent call last):\r\n  File \"trt_run_saved.py\", line 115, in <module>\r\n    _main()\r\n  File \"trt_run_saved.py\", line 103, in _main\r\n    tf.saved_model.loader.load(sess, ['serve'], './fs2')\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/saved_model/loader_impl.py\", line 229, in load\r\n    saver.restore(sess, variables_path)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1775, in restore\r\n    {self.saver_def.filename_tensor_name: save_path})\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 905, in run\r\n    run_metadata_ptr)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1140, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1321, in _do_run\r\n    run_metadata)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1340, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.NotFoundError: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables\r\n\t [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\r\n\t [[Node: save/RestoreV2/_301 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device_incarnation=1, tensor_name=\"edge_306_save/RestoreV2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"]()]]\r\n\r\nCaused by op u'save/RestoreV2', defined at:\r\n  File \"trt_run_saved.py\", line 115, in <module>\r\n    _main()\r\n  File \"trt_run_saved.py\", line 103, in _main\r\n    tf.saved_model.loader.load(sess, ['serve'], './fs2')\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/saved_model/loader_impl.py\", line 219, in load\r\n    saver = tf_saver.import_meta_graph(meta_graph_def_to_load, **saver_kwargs)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1933, in import_meta_graph\r\n    return Saver()\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1311, in __init__\r\n    self.build()\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1320, in build\r\n    self._build(self._filename, build_save=True, build_restore=True)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 1357, in _build\r\n    build_save=build_save, build_restore=build_restore)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 809, in _build_internal\r\n    restore_sequentially, reshape)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 448, in _AddRestoreOps\r\n    restore_sequentially)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/training/saver.py\", line 860, in bulk_restore\r\n    return io_ops.restore_v2(filename_tensor, names, slices, dtypes)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/ops/gen_io_ops.py\", line 1458, in restore_v2\r\n    shape_and_slices=shape_and_slices, dtypes=dtypes, name=name)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 3290, in create_op\r\n    op_def=op_def)\r\n  File \"/home/web_server/dlpy72/dlpy/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1654, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\nNotFoundError (see above for traceback): Unsuccessful TensorSliceReader constructor: Failed to find any matching files for ./fs2/variables/variables\r\n\t [[Node: save/RestoreV2 = RestoreV2[dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2/tensor_names, save/RestoreV2/shape_and_slices)]]\r\n\t [[Node: save/RestoreV2/_301 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device_incarnation=1, tensor_name=\"edge_306_save/RestoreV2\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"]()]]\r\n```\r\n\r\nThanks,\r\n"}