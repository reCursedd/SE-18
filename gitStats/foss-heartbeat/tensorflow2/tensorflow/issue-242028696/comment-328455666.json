{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/328455666", "html_url": "https://github.com/tensorflow/tensorflow/issues/11431#issuecomment-328455666", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11431", "id": 328455666, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODQ1NTY2Ng==", "user": {"login": "shahidhs-ibm", "id": 13886965, "node_id": "MDQ6VXNlcjEzODg2OTY1", "avatar_url": "https://avatars3.githubusercontent.com/u/13886965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shahidhs-ibm", "html_url": "https://github.com/shahidhs-ibm", "followers_url": "https://api.github.com/users/shahidhs-ibm/followers", "following_url": "https://api.github.com/users/shahidhs-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/shahidhs-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/shahidhs-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shahidhs-ibm/subscriptions", "organizations_url": "https://api.github.com/users/shahidhs-ibm/orgs", "repos_url": "https://api.github.com/users/shahidhs-ibm/repos", "events_url": "https://api.github.com/users/shahidhs-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/shahidhs-ibm/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-11T08:23:55Z", "updated_at": "2017-09-11T08:23:55Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> Yes, indeed this is a bug in NumPy implementation.</p>\n<p>On Intel:</p>\n<pre><code># python\nPython 2.7.12 (default, Nov 19 2016, 06:48:10)\n[GCC 5.4.0 20160609] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; z = np.ndarray(shape=(), buffer=np.array([1,2,3]), dtype=np.int32)\n&gt;&gt;&gt; z\narray(1, dtype=int32)\n&gt;&gt;&gt; z = np.ndarray(shape=(), buffer=np.array([1,2,3], dtype=np.int32), dtype=np.int32)\n&gt;&gt;&gt; z\narray(1, dtype=int32)\n&gt;&gt;&gt;\n\n</code></pre>\n<p>On zSystems:</p>\n<pre><code># python\nPython 2.7.12 (default, Nov 19 2016, 06:48:10)\n[GCC 5.4.0 20160609] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; z = np.ndarray(shape=(), buffer=np.array([1,2,3]), dtype=np.int32)\n&gt;&gt;&gt; z\narray(0, dtype=int32)\n&gt;&gt;&gt; z = np.ndarray(shape=(), buffer=np.array([1,2,3], dtype=np.int32), dtype=np.int32)\n&gt;&gt;&gt; z\narray(1, dtype=int32)\n&gt;&gt;&gt;\n</code></pre>\n<p>We will log a bug on NumPy for the incorrect conversion happening for ndarray.</p>", "body_text": "@mrry Yes, indeed this is a bug in NumPy implementation.\nOn Intel:\n# python\nPython 2.7.12 (default, Nov 19 2016, 06:48:10)\n[GCC 5.4.0 20160609] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import numpy as np\n>>> z = np.ndarray(shape=(), buffer=np.array([1,2,3]), dtype=np.int32)\n>>> z\narray(1, dtype=int32)\n>>> z = np.ndarray(shape=(), buffer=np.array([1,2,3], dtype=np.int32), dtype=np.int32)\n>>> z\narray(1, dtype=int32)\n>>>\n\n\nOn zSystems:\n# python\nPython 2.7.12 (default, Nov 19 2016, 06:48:10)\n[GCC 5.4.0 20160609] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import numpy as np\n>>> z = np.ndarray(shape=(), buffer=np.array([1,2,3]), dtype=np.int32)\n>>> z\narray(0, dtype=int32)\n>>> z = np.ndarray(shape=(), buffer=np.array([1,2,3], dtype=np.int32), dtype=np.int32)\n>>> z\narray(1, dtype=int32)\n>>>\n\nWe will log a bug on NumPy for the incorrect conversion happening for ndarray.", "body": "@mrry Yes, indeed this is a bug in NumPy implementation.\r\n\r\nOn Intel:\r\n```\r\n# python\r\nPython 2.7.12 (default, Nov 19 2016, 06:48:10)\r\n[GCC 5.4.0 20160609] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import numpy as np\r\n>>> z = np.ndarray(shape=(), buffer=np.array([1,2,3]), dtype=np.int32)\r\n>>> z\r\narray(1, dtype=int32)\r\n>>> z = np.ndarray(shape=(), buffer=np.array([1,2,3], dtype=np.int32), dtype=np.int32)\r\n>>> z\r\narray(1, dtype=int32)\r\n>>>\r\n\r\n```\r\nOn zSystems:\r\n```\r\n# python\r\nPython 2.7.12 (default, Nov 19 2016, 06:48:10)\r\n[GCC 5.4.0 20160609] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import numpy as np\r\n>>> z = np.ndarray(shape=(), buffer=np.array([1,2,3]), dtype=np.int32)\r\n>>> z\r\narray(0, dtype=int32)\r\n>>> z = np.ndarray(shape=(), buffer=np.array([1,2,3], dtype=np.int32), dtype=np.int32)\r\n>>> z\r\narray(1, dtype=int32)\r\n>>>\r\n```\r\nWe will log a bug on NumPy for the incorrect conversion happening for ndarray."}