{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/362791566", "html_url": "https://github.com/tensorflow/tensorflow/issues/16683#issuecomment-362791566", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16683", "id": 362791566, "node_id": "MDEyOklzc3VlQ29tbWVudDM2Mjc5MTU2Ng==", "user": {"login": "hgffly", "id": 20164141, "node_id": "MDQ6VXNlcjIwMTY0MTQx", "avatar_url": "https://avatars3.githubusercontent.com/u/20164141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hgffly", "html_url": "https://github.com/hgffly", "followers_url": "https://api.github.com/users/hgffly/followers", "following_url": "https://api.github.com/users/hgffly/following{/other_user}", "gists_url": "https://api.github.com/users/hgffly/gists{/gist_id}", "starred_url": "https://api.github.com/users/hgffly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hgffly/subscriptions", "organizations_url": "https://api.github.com/users/hgffly/orgs", "repos_url": "https://api.github.com/users/hgffly/repos", "events_url": "https://api.github.com/users/hgffly/events{/privacy}", "received_events_url": "https://api.github.com/users/hgffly/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-03T08:52:53Z", "updated_at": "2018-02-03T08:52:53Z", "author_association": "NONE", "body_html": "<p>I tried to delete ~/.keras/models and rerun the codes<br>\nThe process would download the model, but it raises the same error<br>\nNot only me but my colleagues have the same issues with Tensorflow 1.5 but it does work with Tensorflow 1.4<br>\nfchollet, do you try with Tensorflow 1.5 as well?</p>\n<p>Downloading data from <a href=\"https://github.com/fchollet/deep-learning-models/releases/download/v0.6/mobilenet_1_0_224_tf.h5\">https://github.com/fchollet/deep-learning-models/releases/download/v0.6/mobilenet_1_0_224_tf.h5</a><br>\n17227776/17225924 [==============================]17227776/17225924 [==============================] - 8s 0us/step</p>\n<hr>\n<p>OSError                                   Traceback (most recent call last)<br>\n in ()<br>\n----&gt; 1 model = tf.keras.applications.MobileNet()</p>\n<p>/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/applications/mobilenet.py in MobileNet(input_shape, alpha, depth_multiplier, dropout, include_top, weights, input_tensor, pooling, classes)<br>\n538     K.set_image_data_format(old_data_format)<br>\n539   elif weights is not None:<br>\n--&gt; 540     model.load_weights(weights)<br>\n541   return model<br>\n542</p>\n<p>/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/engine/topology.py in load_weights(self, filepath, by_name)<br>\n1099     if h5py is None:<br>\n1100       raise ImportError('<code>load_weights</code> requires h5py.')<br>\n-&gt; 1101     f = h5py.File(filepath, mode='r')<br>\n1102     if 'layer_names' not in f.attrs and 'model_weights' in f:<br>\n1103       f = f['model_weights']</p>\n<p>/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in <strong>init</strong>(self, name, mode, driver, libver, userblock_size, swmr, **kwds)<br>\n267             with phil:<br>\n268                 fapl = make_fapl(driver, libver, **kwds)<br>\n--&gt; 269                 fid = make_fid(name, mode, userblock_size, fapl, swmr=swmr)<br>\n270<br>\n271                 if swmr_support:</p>\n<p>/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in make_fid(name, mode, userblock_size, fapl, fcpl, swmr)<br>\n97         if swmr and swmr_support:<br>\n98             flags |= h5f.ACC_SWMR_READ<br>\n---&gt; 99         fid = h5f.open(name, flags, fapl=fapl)<br>\n100     elif mode == 'r+':<br>\n101         fid = h5f.open(name, h5f.ACC_RDWR, fapl=fapl)</p>\n<p>h5py/_objects.pyx in h5py._objects.with_phil.wrapper()</p>\n<p>h5py/_objects.pyx in h5py._objects.with_phil.wrapper()</p>\n<p>h5py/h5f.pyx in h5py.h5f.open()</p>\n<p>OSError: Unable to open file (unable to open file: name = 'imagenet', errno = 2, error message = 'No such file or directory', flags = 0, o_flags = 0)</p>", "body_text": "I tried to delete ~/.keras/models and rerun the codes\nThe process would download the model, but it raises the same error\nNot only me but my colleagues have the same issues with Tensorflow 1.5 but it does work with Tensorflow 1.4\nfchollet, do you try with Tensorflow 1.5 as well?\nDownloading data from https://github.com/fchollet/deep-learning-models/releases/download/v0.6/mobilenet_1_0_224_tf.h5\n17227776/17225924 [==============================]17227776/17225924 [==============================] - 8s 0us/step\n\nOSError                                   Traceback (most recent call last)\n in ()\n----> 1 model = tf.keras.applications.MobileNet()\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/applications/mobilenet.py in MobileNet(input_shape, alpha, depth_multiplier, dropout, include_top, weights, input_tensor, pooling, classes)\n538     K.set_image_data_format(old_data_format)\n539   elif weights is not None:\n--> 540     model.load_weights(weights)\n541   return model\n542\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/engine/topology.py in load_weights(self, filepath, by_name)\n1099     if h5py is None:\n1100       raise ImportError('load_weights requires h5py.')\n-> 1101     f = h5py.File(filepath, mode='r')\n1102     if 'layer_names' not in f.attrs and 'model_weights' in f:\n1103       f = f['model_weights']\n/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in init(self, name, mode, driver, libver, userblock_size, swmr, **kwds)\n267             with phil:\n268                 fapl = make_fapl(driver, libver, **kwds)\n--> 269                 fid = make_fid(name, mode, userblock_size, fapl, swmr=swmr)\n270\n271                 if swmr_support:\n/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in make_fid(name, mode, userblock_size, fapl, fcpl, swmr)\n97         if swmr and swmr_support:\n98             flags |= h5f.ACC_SWMR_READ\n---> 99         fid = h5f.open(name, flags, fapl=fapl)\n100     elif mode == 'r+':\n101         fid = h5f.open(name, h5f.ACC_RDWR, fapl=fapl)\nh5py/_objects.pyx in h5py._objects.with_phil.wrapper()\nh5py/_objects.pyx in h5py._objects.with_phil.wrapper()\nh5py/h5f.pyx in h5py.h5f.open()\nOSError: Unable to open file (unable to open file: name = 'imagenet', errno = 2, error message = 'No such file or directory', flags = 0, o_flags = 0)", "body": "I tried to delete ~/.keras/models and rerun the codes\r\nThe process would download the model, but it raises the same error\r\nNot only me but my colleagues have the same issues with Tensorflow 1.5 but it does work with Tensorflow 1.4\r\nfchollet, do you try with Tensorflow 1.5 as well?\r\n\r\nDownloading data from https://github.com/fchollet/deep-learning-models/releases/download/v0.6/mobilenet_1_0_224_tf.h5\r\n17227776/17225924 [==============================]17227776/17225924 [==============================] - 8s 0us/step\r\n\r\n---------------------------------------------------------------------------\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-3-2182e918e983> in <module>()\r\n----> 1 model = tf.keras.applications.MobileNet()\r\n\r\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/applications/mobilenet.py in MobileNet(input_shape, alpha, depth_multiplier, dropout, include_top, weights, input_tensor, pooling, classes)\r\n    538     K.set_image_data_format(old_data_format)\r\n    539   elif weights is not None:\r\n--> 540     model.load_weights(weights)\r\n    541   return model\r\n    542 \r\n\r\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/engine/topology.py in load_weights(self, filepath, by_name)\r\n   1099     if h5py is None:\r\n   1100       raise ImportError('`load_weights` requires h5py.')\r\n-> 1101     f = h5py.File(filepath, mode='r')\r\n   1102     if 'layer_names' not in f.attrs and 'model_weights' in f:\r\n   1103       f = f['model_weights']\r\n\r\n/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in __init__(self, name, mode, driver, libver, userblock_size, swmr, **kwds)\r\n    267             with phil:\r\n    268                 fapl = make_fapl(driver, libver, **kwds)\r\n--> 269                 fid = make_fid(name, mode, userblock_size, fapl, swmr=swmr)\r\n    270 \r\n    271                 if swmr_support:\r\n\r\n/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in make_fid(name, mode, userblock_size, fapl, fcpl, swmr)\r\n     97         if swmr and swmr_support:\r\n     98             flags |= h5f.ACC_SWMR_READ\r\n---> 99         fid = h5f.open(name, flags, fapl=fapl)\r\n    100     elif mode == 'r+':\r\n    101         fid = h5f.open(name, h5f.ACC_RDWR, fapl=fapl)\r\n\r\nh5py/_objects.pyx in h5py._objects.with_phil.wrapper()\r\n\r\nh5py/_objects.pyx in h5py._objects.with_phil.wrapper()\r\n\r\nh5py/h5f.pyx in h5py.h5f.open()\r\n\r\nOSError: Unable to open file (unable to open file: name = 'imagenet', errno = 2, error message = 'No such file or directory', flags = 0, o_flags = 0)"}