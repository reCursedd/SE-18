{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16683", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16683/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16683/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16683/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16683", "id": 293764139, "node_id": "MDU6SXNzdWUyOTM3NjQxMzk=", "number": 16683, "title": "Tensorflow 1.5: failed to use tf.keras.applications.MobileNet()", "user": {"login": "hgffly", "id": 20164141, "node_id": "MDQ6VXNlcjIwMTY0MTQx", "avatar_url": "https://avatars3.githubusercontent.com/u/20164141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hgffly", "html_url": "https://github.com/hgffly", "followers_url": "https://api.github.com/users/hgffly/followers", "following_url": "https://api.github.com/users/hgffly/following{/other_user}", "gists_url": "https://api.github.com/users/hgffly/gists{/gist_id}", "starred_url": "https://api.github.com/users/hgffly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hgffly/subscriptions", "organizations_url": "https://api.github.com/users/hgffly/orgs", "repos_url": "https://api.github.com/users/hgffly/repos", "events_url": "https://api.github.com/users/hgffly/events{/privacy}", "received_events_url": "https://api.github.com/users/hgffly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-02-02T03:43:16Z", "updated_at": "2018-02-07T01:11:34Z", "closed_at": "2018-02-07T01:11:21Z", "author_association": "NONE", "body_html": "<p>I updated my Tensorflow to 1.5, and I tried to run the codes as below:<br>\n<code>import tensorflow as tf</code><br>\n<code>model = tf.keras.applications.MobileNet()</code></p>\n<h2>But it raised an error  as below:</h2>\n<p>OSError                                   Traceback (most recent call last)<br>\n in ()<br>\n----&gt; 1 model = tf.keras.applications.MobileNet()</p>\n<p>/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/applications/mobilenet.py in MobileNet(input_shape, alpha, depth_multiplier, dropout, include_top, weights, input_tensor, pooling, classes)<br>\n538     K.set_image_data_format(old_data_format)<br>\n539   elif weights is not None:<br>\n--&gt; 540     model.load_weights(weights)<br>\n541   return model<br>\n542</p>\n<p>/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/engine/topology.py in load_weights(self, filepath, by_name)<br>\n1099     if h5py is None:<br>\n1100       raise ImportError('<code>load_weights</code> requires h5py.')<br>\n-&gt; 1101     f = h5py.File(filepath, mode='r')<br>\n1102     if 'layer_names' not in f.attrs and 'model_weights' in f:<br>\n1103       f = f['model_weights']</p>\n<p>/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in <strong>init</strong>(self, name, mode, driver, libver, userblock_size, swmr, **kwds)<br>\n267             with phil:<br>\n268                 fapl = make_fapl(driver, libver, **kwds)<br>\n--&gt; 269                 fid = make_fid(name, mode, userblock_size, fapl, swmr=swmr)<br>\n270<br>\n271                 if swmr_support:</p>\n<p>/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in make_fid(name, mode, userblock_size, fapl, fcpl, swmr)<br>\n97         if swmr and swmr_support:<br>\n98             flags |= h5f.ACC_SWMR_READ<br>\n---&gt; 99         fid = h5f.open(name, flags, fapl=fapl)<br>\n100     elif mode == 'r+':<br>\n101         fid = h5f.open(name, h5f.ACC_RDWR, fapl=fapl)</p>\n<p>h5py/_objects.pyx in h5py._objects.with_phil.wrapper()</p>\n<p>h5py/_objects.pyx in h5py._objects.with_phil.wrapper()</p>\n<p>h5py/h5f.pyx in h5py.h5f.open()</p>\n<p>OSError: Unable to open file (unable to open file: name = 'imagenet', errno = 2, error message = 'No such file or directory', flags = 0, o_flags = 0)</p>\n<p>It seems like that something wrong with h5py<br>\nI try to upgrade h5py but it's still invalid<br>\nThis works well in Tensorflow 1.4<br>\nHow should I resolve it with Tensorflow 1.5, thanks</p>", "body_text": "I updated my Tensorflow to 1.5, and I tried to run the codes as below:\nimport tensorflow as tf\nmodel = tf.keras.applications.MobileNet()\nBut it raised an error  as below:\nOSError                                   Traceback (most recent call last)\n in ()\n----> 1 model = tf.keras.applications.MobileNet()\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/applications/mobilenet.py in MobileNet(input_shape, alpha, depth_multiplier, dropout, include_top, weights, input_tensor, pooling, classes)\n538     K.set_image_data_format(old_data_format)\n539   elif weights is not None:\n--> 540     model.load_weights(weights)\n541   return model\n542\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/engine/topology.py in load_weights(self, filepath, by_name)\n1099     if h5py is None:\n1100       raise ImportError('load_weights requires h5py.')\n-> 1101     f = h5py.File(filepath, mode='r')\n1102     if 'layer_names' not in f.attrs and 'model_weights' in f:\n1103       f = f['model_weights']\n/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in init(self, name, mode, driver, libver, userblock_size, swmr, **kwds)\n267             with phil:\n268                 fapl = make_fapl(driver, libver, **kwds)\n--> 269                 fid = make_fid(name, mode, userblock_size, fapl, swmr=swmr)\n270\n271                 if swmr_support:\n/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in make_fid(name, mode, userblock_size, fapl, fcpl, swmr)\n97         if swmr and swmr_support:\n98             flags |= h5f.ACC_SWMR_READ\n---> 99         fid = h5f.open(name, flags, fapl=fapl)\n100     elif mode == 'r+':\n101         fid = h5f.open(name, h5f.ACC_RDWR, fapl=fapl)\nh5py/_objects.pyx in h5py._objects.with_phil.wrapper()\nh5py/_objects.pyx in h5py._objects.with_phil.wrapper()\nh5py/h5f.pyx in h5py.h5f.open()\nOSError: Unable to open file (unable to open file: name = 'imagenet', errno = 2, error message = 'No such file or directory', flags = 0, o_flags = 0)\nIt seems like that something wrong with h5py\nI try to upgrade h5py but it's still invalid\nThis works well in Tensorflow 1.4\nHow should I resolve it with Tensorflow 1.5, thanks", "body": "I updated my Tensorflow to 1.5, and I tried to run the codes as below:\r\n`import tensorflow as tf`\r\n`model = tf.keras.applications.MobileNet()`\r\n\r\nBut it raised an error  as below:\r\n---------------------------------------------------------------------------\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-14-2182e918e983> in <module>()\r\n----> 1 model = tf.keras.applications.MobileNet()\r\n\r\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/applications/mobilenet.py in MobileNet(input_shape, alpha, depth_multiplier, dropout, include_top, weights, input_tensor, pooling, classes)\r\n    538     K.set_image_data_format(old_data_format)\r\n    539   elif weights is not None:\r\n--> 540     model.load_weights(weights)\r\n    541   return model\r\n    542 \r\n\r\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/_impl/keras/engine/topology.py in load_weights(self, filepath, by_name)\r\n   1099     if h5py is None:\r\n   1100       raise ImportError('`load_weights` requires h5py.')\r\n-> 1101     f = h5py.File(filepath, mode='r')\r\n   1102     if 'layer_names' not in f.attrs and 'model_weights' in f:\r\n   1103       f = f['model_weights']\r\n\r\n/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in __init__(self, name, mode, driver, libver, userblock_size, swmr, **kwds)\r\n    267             with phil:\r\n    268                 fapl = make_fapl(driver, libver, **kwds)\r\n--> 269                 fid = make_fid(name, mode, userblock_size, fapl, swmr=swmr)\r\n    270 \r\n    271                 if swmr_support:\r\n\r\n/usr/local/lib/python3.5/dist-packages/h5py/_hl/files.py in make_fid(name, mode, userblock_size, fapl, fcpl, swmr)\r\n     97         if swmr and swmr_support:\r\n     98             flags |= h5f.ACC_SWMR_READ\r\n---> 99         fid = h5f.open(name, flags, fapl=fapl)\r\n    100     elif mode == 'r+':\r\n    101         fid = h5f.open(name, h5f.ACC_RDWR, fapl=fapl)\r\n\r\nh5py/_objects.pyx in h5py._objects.with_phil.wrapper()\r\n\r\nh5py/_objects.pyx in h5py._objects.with_phil.wrapper()\r\n\r\nh5py/h5f.pyx in h5py.h5f.open()\r\n\r\nOSError: Unable to open file (unable to open file: name = 'imagenet', errno = 2, error message = 'No such file or directory', flags = 0, o_flags = 0)\r\n\r\nIt seems like that something wrong with h5py\r\nI try to upgrade h5py but it's still invalid\r\nThis works well in Tensorflow 1.4\r\nHow should I resolve it with Tensorflow 1.5, thanks\r\n"}