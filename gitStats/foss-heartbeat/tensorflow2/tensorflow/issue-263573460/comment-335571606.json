{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/335571606", "html_url": "https://github.com/tensorflow/tensorflow/issues/13537#issuecomment-335571606", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13537", "id": 335571606, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTU3MTYwNg==", "user": {"login": "Mazecreator", "id": 18412448, "node_id": "MDQ6VXNlcjE4NDEyNDQ4", "avatar_url": "https://avatars2.githubusercontent.com/u/18412448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mazecreator", "html_url": "https://github.com/Mazecreator", "followers_url": "https://api.github.com/users/Mazecreator/followers", "following_url": "https://api.github.com/users/Mazecreator/following{/other_user}", "gists_url": "https://api.github.com/users/Mazecreator/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mazecreator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mazecreator/subscriptions", "organizations_url": "https://api.github.com/users/Mazecreator/orgs", "repos_url": "https://api.github.com/users/Mazecreator/repos", "events_url": "https://api.github.com/users/Mazecreator/events{/privacy}", "received_events_url": "https://api.github.com/users/Mazecreator/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-10T18:50:46Z", "updated_at": "2017-10-10T18:50:46Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I have been working on this for a while now.  I was not certain what needs to replace \"#variable_tuple,\" in the map_structure but have a better guess:</p>\n<pre><code>    output, self.new_state = tf.nn.dynamic_rnn(self.cell_L1,hidden_input,time_major=True,\\\n            initial_state=self.state,  dtype=tf.float32, swap_memory=True)\n\n    update = tf.contrib.framework.nest.map_structure(\n            lambda state, var: tf.assign(var, state),\n            self.new_state,\n            self.state,\n            check_types=False)\n\n    with tf.control_dependencies([update]):\n        outputs = tf.identity(output) \n</code></pre>\n<p>The problem now is I get a different error which doesn't really make sense to me as Tensors should allow an assign() should it?</p>\n<pre><code>File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/nest.py\", line 325, in map_structure\nstructure[0], [func(*x) for x in entries])\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/nest.py\", line 325, in &lt;listcomp&gt;\nstructure[0], [func(*x) for x in entries])\nFile \"/home/greg/DFP_trading_sequence/test6/Network_sequence_new1.py\", line 143, in &lt;lambda&gt;\nlambda state, var: tf.assign(var,state) ,\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/state_ops.py\", line 272, in assign\nreturn ref.assign(value)\nAttributeError: 'Tensor' object has no attribute 'assign'\n</code></pre>", "body_text": "I have been working on this for a while now.  I was not certain what needs to replace \"#variable_tuple,\" in the map_structure but have a better guess:\n    output, self.new_state = tf.nn.dynamic_rnn(self.cell_L1,hidden_input,time_major=True,\\\n            initial_state=self.state,  dtype=tf.float32, swap_memory=True)\n\n    update = tf.contrib.framework.nest.map_structure(\n            lambda state, var: tf.assign(var, state),\n            self.new_state,\n            self.state,\n            check_types=False)\n\n    with tf.control_dependencies([update]):\n        outputs = tf.identity(output) \n\nThe problem now is I get a different error which doesn't really make sense to me as Tensors should allow an assign() should it?\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/nest.py\", line 325, in map_structure\nstructure[0], [func(*x) for x in entries])\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/nest.py\", line 325, in <listcomp>\nstructure[0], [func(*x) for x in entries])\nFile \"/home/greg/DFP_trading_sequence/test6/Network_sequence_new1.py\", line 143, in <lambda>\nlambda state, var: tf.assign(var,state) ,\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/state_ops.py\", line 272, in assign\nreturn ref.assign(value)\nAttributeError: 'Tensor' object has no attribute 'assign'", "body": "I have been working on this for a while now.  I was not certain what needs to replace \"#variable_tuple,\" in the map_structure but have a better guess:\r\n\r\n        output, self.new_state = tf.nn.dynamic_rnn(self.cell_L1,hidden_input,time_major=True,\\\r\n                initial_state=self.state,  dtype=tf.float32, swap_memory=True)\r\n\r\n        update = tf.contrib.framework.nest.map_structure(\r\n                lambda state, var: tf.assign(var, state),\r\n                self.new_state,\r\n                self.state,\r\n                check_types=False)\r\n\r\n        with tf.control_dependencies([update]):\r\n            outputs = tf.identity(output) \r\n\r\nThe problem now is I get a different error which doesn't really make sense to me as Tensors should allow an assign() should it?\r\n\r\n    File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/nest.py\", line 325, in map_structure\r\n    structure[0], [func(*x) for x in entries])\r\n    File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/nest.py\", line 325, in <listcomp>\r\n    structure[0], [func(*x) for x in entries])\r\n    File \"/home/greg/DFP_trading_sequence/test6/Network_sequence_new1.py\", line 143, in <lambda>\r\n    lambda state, var: tf.assign(var,state) ,\r\n    File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/state_ops.py\", line 272, in assign\r\n    return ref.assign(value)\r\n    AttributeError: 'Tensor' object has no attribute 'assign'"}