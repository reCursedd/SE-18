{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/94328168", "pull_request_review_id": 14855358, "id": 94328168, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0MzI4MTY4", "diff_hunk": "@@ -1070,6 +1070,10 @@ def save(self, sess, save_path, global_step=None, latest_filename=None,\n     if not isinstance(sess, session.SessionInterface):\n       raise TypeError(\"'sess' must be a Session; %s\" % sess)\n \n+    # Note a few lines above save_path was set to os.path.dirname(save_path)", "path": "tensorflow/python/training/saver.py", "position": 11, "original_position": 4, "commit_id": "b4f9bcd7ab8cb1dc24ea300a46c5f55b865e7abc", "original_commit_id": "e28e3ba54c6c2776bfc1444d650a1c0a901d061f", "user": {"login": "PuchatekwSzortach", "id": 13689310, "node_id": "MDQ6VXNlcjEzNjg5MzEw", "avatar_url": "https://avatars2.githubusercontent.com/u/13689310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PuchatekwSzortach", "html_url": "https://github.com/PuchatekwSzortach", "followers_url": "https://api.github.com/users/PuchatekwSzortach/followers", "following_url": "https://api.github.com/users/PuchatekwSzortach/following{/other_user}", "gists_url": "https://api.github.com/users/PuchatekwSzortach/gists{/gist_id}", "starred_url": "https://api.github.com/users/PuchatekwSzortach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PuchatekwSzortach/subscriptions", "organizations_url": "https://api.github.com/users/PuchatekwSzortach/orgs", "repos_url": "https://api.github.com/users/PuchatekwSzortach/repos", "events_url": "https://api.github.com/users/PuchatekwSzortach/events{/privacy}", "received_events_url": "https://api.github.com/users/PuchatekwSzortach/received_events", "type": "User", "site_admin": false}, "body": "I don't have a Windows machine to try, but\r\n\r\n    os.path.exists(os.path.dirname(\"whatever\"))\r\n\r\nindeed returns False on my machine. A solution would be to use\r\n\r\n    if not gfile.IsDirectory(os.path.abspath(os.path.dirname(save_path))):\r\n\r\non line 1312, as \r\n\r\n    os.path.exists(os.path.abspath(os.path.dirname(\"whatever\")))\r\n\r\nreturns True, as it should. I'll make that change.", "created_at": "2017-01-02T15:37:10Z", "updated_at": "2017-01-02T15:37:50Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/3695#discussion_r94328168", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3695", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/94328168"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/3695#discussion_r94328168"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3695"}}, "body_html": "<p>I don't have a Windows machine to try, but</p>\n<pre><code>os.path.exists(os.path.dirname(\"whatever\"))\n</code></pre>\n<p>indeed returns False on my machine. A solution would be to use</p>\n<pre><code>if not gfile.IsDirectory(os.path.abspath(os.path.dirname(save_path))):\n</code></pre>\n<p>on line 1312, as</p>\n<pre><code>os.path.exists(os.path.abspath(os.path.dirname(\"whatever\")))\n</code></pre>\n<p>returns True, as it should. I'll make that change.</p>", "body_text": "I don't have a Windows machine to try, but\nos.path.exists(os.path.dirname(\"whatever\"))\n\nindeed returns False on my machine. A solution would be to use\nif not gfile.IsDirectory(os.path.abspath(os.path.dirname(save_path))):\n\non line 1312, as\nos.path.exists(os.path.abspath(os.path.dirname(\"whatever\")))\n\nreturns True, as it should. I'll make that change.", "in_reply_to_id": 74127669}