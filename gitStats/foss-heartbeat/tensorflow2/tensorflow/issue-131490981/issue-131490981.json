{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/999", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/999/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/999/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/999/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/999", "id": 131490981, "node_id": "MDU6SXNzdWUxMzE0OTA5ODE=", "number": 999, "title": "ValueError when using tf.nn.moments with axes=[1,2,3]", "user": {"login": "cesarsalgado", "id": 1115209, "node_id": "MDQ6VXNlcjExMTUyMDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1115209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cesarsalgado", "html_url": "https://github.com/cesarsalgado", "followers_url": "https://api.github.com/users/cesarsalgado/followers", "following_url": "https://api.github.com/users/cesarsalgado/following{/other_user}", "gists_url": "https://api.github.com/users/cesarsalgado/gists{/gist_id}", "starred_url": "https://api.github.com/users/cesarsalgado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cesarsalgado/subscriptions", "organizations_url": "https://api.github.com/users/cesarsalgado/orgs", "repos_url": "https://api.github.com/users/cesarsalgado/repos", "events_url": "https://api.github.com/users/cesarsalgado/events{/privacy}", "received_events_url": "https://api.github.com/users/cesarsalgado/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "vincentvanhoucke", "id": 15737127, "node_id": "MDQ6VXNlcjE1NzM3MTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/15737127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentvanhoucke", "html_url": "https://github.com/vincentvanhoucke", "followers_url": "https://api.github.com/users/vincentvanhoucke/followers", "following_url": "https://api.github.com/users/vincentvanhoucke/following{/other_user}", "gists_url": "https://api.github.com/users/vincentvanhoucke/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentvanhoucke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentvanhoucke/subscriptions", "organizations_url": "https://api.github.com/users/vincentvanhoucke/orgs", "repos_url": "https://api.github.com/users/vincentvanhoucke/repos", "events_url": "https://api.github.com/users/vincentvanhoucke/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentvanhoucke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vincentvanhoucke", "id": 15737127, "node_id": "MDQ6VXNlcjE1NzM3MTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/15737127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentvanhoucke", "html_url": "https://github.com/vincentvanhoucke", "followers_url": "https://api.github.com/users/vincentvanhoucke/followers", "following_url": "https://api.github.com/users/vincentvanhoucke/following{/other_user}", "gists_url": "https://api.github.com/users/vincentvanhoucke/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentvanhoucke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentvanhoucke/subscriptions", "organizations_url": "https://api.github.com/users/vincentvanhoucke/orgs", "repos_url": "https://api.github.com/users/vincentvanhoucke/repos", "events_url": "https://api.github.com/users/vincentvanhoucke/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentvanhoucke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-02-04T22:23:02Z", "updated_at": "2016-02-08T14:38:17Z", "closed_at": "2016-02-08T14:38:17Z", "author_association": "CONTRIBUTOR", "body_html": "<p>mean, var = tf.nn.moments(images, [1, 2, 3])</p>\n<pre><code>/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/nn.pyc in moments(x, axes, name)\n    540     # The caller should have a fallback plan, however: this tensor may not be\n    541     # available if this function implementation changes.\n--&gt; 542     x_centered = math_ops.sub(x, mean, name=\"x_centered\")\n    543     var = math_ops.mul(math_ops.reduce_sum(math_ops.square(x_centered), axes),\n    544                        divisor, name=\"variance\")\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_math_ops.pyc in sub(x, y, name)\n   1398     A `Tensor`. Has the same type as `x`.\n   1399   \"\"\"\n-&gt; 1400   return _op_def_lib.apply_op(\"Sub\", x=x, y=y, name=name)\n   1401 \n   1402 \n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.pyc in apply_op(self, op_type_name, name, **keywords)\n    653         op = g.create_op(op_type_name, inputs, output_types, name=scope,\n    654                          input_types=input_types, attrs=attr_protos,\n--&gt; 655                          op_def=op_def)\n    656         outputs = op.outputs\n    657         return _Restructure(ops.convert_n_to_tensor(outputs), output_structure)\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.pyc in create_op(self, op_type, inputs, dtypes, input_types, name, attrs, op_def, compute_shapes)\n   2046                     original_op=self._default_original_op, op_def=op_def)\n   2047     if compute_shapes:\n-&gt; 2048       set_shapes_for_outputs(ret)\n   2049     self._add_op(ret)\n   2050     self._record_op_seen_by_control_dependencies(ret)\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.pyc in set_shapes_for_outputs(op)\n   1526       raise RuntimeError(\"No shape function registered for standard op: %s\"\n   1527                          % op.type)\n-&gt; 1528   shapes = shape_func(op)\n   1529   if len(op.outputs) != len(shapes):\n   1530     raise RuntimeError(\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/math_ops.pyc in _BroadcastShape(op)\n   1279     else:\n   1280       raise ValueError(\"Incompatible shapes for broadcasting: %s and %s\"\n-&gt; 1281                        % (shape_x, shape_y))\n   1282   return [tensor_shape.TensorShape(return_dims)]\n   1283 \n\nValueError: Incompatible shapes for broadcasting: (128, 32, 32, 3) and (128,)\n</code></pre>", "body_text": "mean, var = tf.nn.moments(images, [1, 2, 3])\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/nn.pyc in moments(x, axes, name)\n    540     # The caller should have a fallback plan, however: this tensor may not be\n    541     # available if this function implementation changes.\n--> 542     x_centered = math_ops.sub(x, mean, name=\"x_centered\")\n    543     var = math_ops.mul(math_ops.reduce_sum(math_ops.square(x_centered), axes),\n    544                        divisor, name=\"variance\")\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_math_ops.pyc in sub(x, y, name)\n   1398     A `Tensor`. Has the same type as `x`.\n   1399   \"\"\"\n-> 1400   return _op_def_lib.apply_op(\"Sub\", x=x, y=y, name=name)\n   1401 \n   1402 \n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.pyc in apply_op(self, op_type_name, name, **keywords)\n    653         op = g.create_op(op_type_name, inputs, output_types, name=scope,\n    654                          input_types=input_types, attrs=attr_protos,\n--> 655                          op_def=op_def)\n    656         outputs = op.outputs\n    657         return _Restructure(ops.convert_n_to_tensor(outputs), output_structure)\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.pyc in create_op(self, op_type, inputs, dtypes, input_types, name, attrs, op_def, compute_shapes)\n   2046                     original_op=self._default_original_op, op_def=op_def)\n   2047     if compute_shapes:\n-> 2048       set_shapes_for_outputs(ret)\n   2049     self._add_op(ret)\n   2050     self._record_op_seen_by_control_dependencies(ret)\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.pyc in set_shapes_for_outputs(op)\n   1526       raise RuntimeError(\"No shape function registered for standard op: %s\"\n   1527                          % op.type)\n-> 1528   shapes = shape_func(op)\n   1529   if len(op.outputs) != len(shapes):\n   1530     raise RuntimeError(\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/math_ops.pyc in _BroadcastShape(op)\n   1279     else:\n   1280       raise ValueError(\"Incompatible shapes for broadcasting: %s and %s\"\n-> 1281                        % (shape_x, shape_y))\n   1282   return [tensor_shape.TensorShape(return_dims)]\n   1283 \n\nValueError: Incompatible shapes for broadcasting: (128, 32, 32, 3) and (128,)", "body": "mean, var = tf.nn.moments(images, [1, 2, 3])\n\n```\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/nn.pyc in moments(x, axes, name)\n    540     # The caller should have a fallback plan, however: this tensor may not be\n    541     # available if this function implementation changes.\n--> 542     x_centered = math_ops.sub(x, mean, name=\"x_centered\")\n    543     var = math_ops.mul(math_ops.reduce_sum(math_ops.square(x_centered), axes),\n    544                        divisor, name=\"variance\")\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_math_ops.pyc in sub(x, y, name)\n   1398     A `Tensor`. Has the same type as `x`.\n   1399   \"\"\"\n-> 1400   return _op_def_lib.apply_op(\"Sub\", x=x, y=y, name=name)\n   1401 \n   1402 \n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.pyc in apply_op(self, op_type_name, name, **keywords)\n    653         op = g.create_op(op_type_name, inputs, output_types, name=scope,\n    654                          input_types=input_types, attrs=attr_protos,\n--> 655                          op_def=op_def)\n    656         outputs = op.outputs\n    657         return _Restructure(ops.convert_n_to_tensor(outputs), output_structure)\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.pyc in create_op(self, op_type, inputs, dtypes, input_types, name, attrs, op_def, compute_shapes)\n   2046                     original_op=self._default_original_op, op_def=op_def)\n   2047     if compute_shapes:\n-> 2048       set_shapes_for_outputs(ret)\n   2049     self._add_op(ret)\n   2050     self._record_op_seen_by_control_dependencies(ret)\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.pyc in set_shapes_for_outputs(op)\n   1526       raise RuntimeError(\"No shape function registered for standard op: %s\"\n   1527                          % op.type)\n-> 1528   shapes = shape_func(op)\n   1529   if len(op.outputs) != len(shapes):\n   1530     raise RuntimeError(\n\n/home/cesar/tensorflow/lib/python2.7/site-packages/tensorflow/python/ops/math_ops.pyc in _BroadcastShape(op)\n   1279     else:\n   1280       raise ValueError(\"Incompatible shapes for broadcasting: %s and %s\"\n-> 1281                        % (shape_x, shape_y))\n   1282   return [tensor_shape.TensorShape(return_dims)]\n   1283 \n\nValueError: Incompatible shapes for broadcasting: (128, 32, 32, 3) and (128,)\n```\n"}