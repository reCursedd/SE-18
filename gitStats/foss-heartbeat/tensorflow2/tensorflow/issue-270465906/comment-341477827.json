{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/341477827", "html_url": "https://github.com/tensorflow/tensorflow/issues/14164#issuecomment-341477827", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14164", "id": 341477827, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTQ3NzgyNw==", "user": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-02T16:25:23Z", "updated_at": "2017-11-02T16:25:23Z", "author_association": "MEMBER", "body_html": "<p>So it sounds like you'd be fine with variable scopes having no effect on Network variable naming, as long as they don't crash? (not a proposal, just a clarifying question)</p>\n<p>The error is there because we'd like variables in a Network to have a name which matches the names of the Networks/Layers it belongs to, and it wasn't clear that adding special naming for when the Network is in a variable scope was worth it.</p>\n<p>The likely approach is to keep the parent scope as part of the Network name. Anonymous networks (named/numbered based on their class name) would be numbered so that they're unique within the parent scope (rather than at the graph level). We'd strip off the parent scope prefix as part of the Network name when writing checkpoints, but shared layers would have their full scope prefix in the checkpoint (which might be a bit fragile).</p>", "body_text": "So it sounds like you'd be fine with variable scopes having no effect on Network variable naming, as long as they don't crash? (not a proposal, just a clarifying question)\nThe error is there because we'd like variables in a Network to have a name which matches the names of the Networks/Layers it belongs to, and it wasn't clear that adding special naming for when the Network is in a variable scope was worth it.\nThe likely approach is to keep the parent scope as part of the Network name. Anonymous networks (named/numbered based on their class name) would be numbered so that they're unique within the parent scope (rather than at the graph level). We'd strip off the parent scope prefix as part of the Network name when writing checkpoints, but shared layers would have their full scope prefix in the checkpoint (which might be a bit fragile).", "body": "So it sounds like you'd be fine with variable scopes having no effect on Network variable naming, as long as they don't crash? (not a proposal, just a clarifying question)\r\n\r\nThe error is there because we'd like variables in a Network to have a name which matches the names of the Networks/Layers it belongs to, and it wasn't clear that adding special naming for when the Network is in a variable scope was worth it.\r\n\r\nThe likely approach is to keep the parent scope as part of the Network name. Anonymous networks (named/numbered based on their class name) would be numbered so that they're unique within the parent scope (rather than at the graph level). We'd strip off the parent scope prefix as part of the Network name when writing checkpoints, but shared layers would have their full scope prefix in the checkpoint (which might be a bit fragile)."}