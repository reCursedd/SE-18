{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14428", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14428/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14428/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14428/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14428", "id": 272787772, "node_id": "MDU6SXNzdWUyNzI3ODc3NzI=", "number": 14428, "title": "error when I try mpi_collectives features", "user": {"login": "thzhao", "id": 16260616, "node_id": "MDQ6VXNlcjE2MjYwNjE2", "avatar_url": "https://avatars0.githubusercontent.com/u/16260616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thzhao", "html_url": "https://github.com/thzhao", "followers_url": "https://api.github.com/users/thzhao/followers", "following_url": "https://api.github.com/users/thzhao/following{/other_user}", "gists_url": "https://api.github.com/users/thzhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/thzhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thzhao/subscriptions", "organizations_url": "https://api.github.com/users/thzhao/orgs", "repos_url": "https://api.github.com/users/thzhao/repos", "events_url": "https://api.github.com/users/thzhao/events{/privacy}", "received_events_url": "https://api.github.com/users/thzhao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-10T01:12:09Z", "updated_at": "2017-11-10T21:46:23Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I want to try mpi_collectives features in tensorflow 1.4, but when I run mpi_allreduce_test.py example using python2.7 in contrib/mpi_collectives, I got error.</p>\n<p>I installed tensorflow with openmpi.</p>\n<h1>mpirun -n 2 python mpi_allreduce_test.py</h1>\n<h2>ERROR: test_mpi_allreduce (<strong>main</strong>.AllreduceTest)</h2>\n<p>Traceback (most recent call last):<br>\nFile \"mpi_allreduce_test.py\", line 82, in test_mpi_allreduce<br>\naverage=average_allreduce)<br>\nFile \"/usr/lib/python2.7/site-packages/tensorflow/contrib/mpi_collectives/<strong>init</strong>.py\", line 160, in allreduce<br>\nmpi_size = tf.cast(size(), tensor.dtype)<br>\nFile \"/usr/lib/python2.7/site-packages/tensorflow/contrib/mpi_collectives/mpi_ops.py\", line 71, in size<br>\nreturn MPI_LIB.mpi_size(name=name)<br>\nAttributeError: 'module' object has no attribute 'mpi_size'</p>\n<hr>\n<p>Ran 2 tests in 0.034s</p>", "body_text": "I want to try mpi_collectives features in tensorflow 1.4, but when I run mpi_allreduce_test.py example using python2.7 in contrib/mpi_collectives, I got error.\nI installed tensorflow with openmpi.\nmpirun -n 2 python mpi_allreduce_test.py\nERROR: test_mpi_allreduce (main.AllreduceTest)\nTraceback (most recent call last):\nFile \"mpi_allreduce_test.py\", line 82, in test_mpi_allreduce\naverage=average_allreduce)\nFile \"/usr/lib/python2.7/site-packages/tensorflow/contrib/mpi_collectives/init.py\", line 160, in allreduce\nmpi_size = tf.cast(size(), tensor.dtype)\nFile \"/usr/lib/python2.7/site-packages/tensorflow/contrib/mpi_collectives/mpi_ops.py\", line 71, in size\nreturn MPI_LIB.mpi_size(name=name)\nAttributeError: 'module' object has no attribute 'mpi_size'\n\nRan 2 tests in 0.034s", "body": "I want to try mpi_collectives features in tensorflow 1.4, but when I run mpi_allreduce_test.py example using python2.7 in contrib/mpi_collectives, I got error.\r\n\r\nI installed tensorflow with openmpi.\r\n\r\nmpirun -n 2 python mpi_allreduce_test.py\r\n======================================================================\r\nERROR: test_mpi_allreduce (__main__.AllreduceTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"mpi_allreduce_test.py\", line 82, in test_mpi_allreduce\r\n    average=average_allreduce)\r\n  File \"/usr/lib/python2.7/site-packages/tensorflow/contrib/mpi_collectives/__init__.py\", line 160, in allreduce\r\n    mpi_size = tf.cast(size(), tensor.dtype)\r\n  File \"/usr/lib/python2.7/site-packages/tensorflow/contrib/mpi_collectives/mpi_ops.py\", line 71, in size\r\n    return MPI_LIB.mpi_size(name=name)\r\nAttributeError: 'module' object has no attribute 'mpi_size'\r\n\r\n----------------------------------------------------------------------\r\nRan 2 tests in 0.034s\r\n"}