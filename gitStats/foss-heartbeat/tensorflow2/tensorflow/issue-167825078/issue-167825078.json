{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3525", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3525/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3525/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3525/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3525", "id": 167825078, "node_id": "MDU6SXNzdWUxNjc4MjUwNzg=", "number": 3525, "title": "core dump when initializing gpu", "user": {"login": "qingzew", "id": 3603171, "node_id": "MDQ6VXNlcjM2MDMxNzE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3603171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qingzew", "html_url": "https://github.com/qingzew", "followers_url": "https://api.github.com/users/qingzew/followers", "following_url": "https://api.github.com/users/qingzew/following{/other_user}", "gists_url": "https://api.github.com/users/qingzew/gists{/gist_id}", "starred_url": "https://api.github.com/users/qingzew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qingzew/subscriptions", "organizations_url": "https://api.github.com/users/qingzew/orgs", "repos_url": "https://api.github.com/users/qingzew/repos", "events_url": "https://api.github.com/users/qingzew/events{/privacy}", "received_events_url": "https://api.github.com/users/qingzew/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-07-27T10:46:53Z", "updated_at": "2016-07-28T15:14:33Z", "closed_at": "2016-07-28T15:14:33Z", "author_association": "NONE", "body_html": "<p>I have the same problem with <a href=\"https://github.com/tensorflow/tensorflow/issues/2620\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2620/hovercard\">#2620</a>, like this:</p>\n<div class=\"highlight highlight-source-shell\"><pre>I tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: Tesla K20c\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.7055\npciBusID 0000:02:00.0\nTotal memory: 4.69GiB\nFree memory: 4.54GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active<span class=\"pl-k\">;</span> existing: 0x9568510\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: Tesla K20c\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.7055\npciBusID 0000:04:00.0\nTotal memory: 4.69GiB\nFree memory: 4.61GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active<span class=\"pl-k\">;</span> existing: 0x99b29a0\nSegmentation fault (core dumped)</pre></div>\n<p>In fact, gpu 2 is busy:</p>\n<div class=\"highlight highlight-source-shell\"><pre>+------------------------------------------------------+                       \n<span class=\"pl-k\">|</span> NVIDIA-SMI 352.79     Driver Version: 352.79         <span class=\"pl-k\">|</span>                       \n<span class=\"pl-k\">|</span>-------------------------------+----------------------+----------------------+\n<span class=\"pl-k\">|</span> GPU  Name        Persistence-M<span class=\"pl-k\">|</span> Bus-Id        Disp.A <span class=\"pl-k\">|</span> Volatile Uncorr. ECC <span class=\"pl-k\">|</span>\n<span class=\"pl-k\">|</span> Fan  Temp  Perf  Pwr:Usage/Cap<span class=\"pl-k\">|</span>         Memory-Usage <span class=\"pl-k\">|</span> GPU-Util  Compute M. <span class=\"pl-k\">|</span>\n<span class=\"pl-k\">|</span>===============================+======================+======================<span class=\"pl-k\">|</span>\n<span class=\"pl-k\">|</span>   0  Tesla K20c          Off  <span class=\"pl-k\">|</span> 0000:02:00.0     Off <span class=\"pl-k\">|</span>                    0 <span class=\"pl-k\">|</span>\n<span class=\"pl-k\">|</span> 30%   42C    P0    48W / 225W <span class=\"pl-k\">|</span>     80MiB /  4799MiB <span class=\"pl-k\">|</span>      0%      Default <span class=\"pl-k\">|</span>\n+-------------------------------+----------------------+----------------------+\n<span class=\"pl-k\">|</span>   1  Tesla K20c          Off  <span class=\"pl-k\">|</span> 0000:04:00.0     Off <span class=\"pl-k\">|</span>                    0 <span class=\"pl-k\">|</span>\n<span class=\"pl-k\">|</span> 30%   24C    P8    15W / 225W <span class=\"pl-k\">|</span>     14MiB /  4799MiB <span class=\"pl-k\">|</span>      0%      Default <span class=\"pl-k\">|</span>\n+-------------------------------+----------------------+----------------------+\n<span class=\"pl-k\">|</span>   2  Tesla K20c          Off  <span class=\"pl-k\">|</span> 0000:83:00.0     Off <span class=\"pl-k\">|</span>                    0 <span class=\"pl-k\">|</span>\n<span class=\"pl-k\">|</span> 46%   60C    P0   111W / 225W <span class=\"pl-k\">|</span>   4768MiB /  4799MiB <span class=\"pl-k\">|</span>     99%      Default <span class=\"pl-k\">|</span>\n+-------------------------------+----------------------+----------------------+\n<span class=\"pl-k\">|</span>   3  Tesla K20c          Off  <span class=\"pl-k\">|</span> 0000:84:00.0     Off <span class=\"pl-k\">|</span>                    0 <span class=\"pl-k\">|</span>\n<span class=\"pl-k\">|</span> 40%   53C    P0   100W / 225W <span class=\"pl-k\">|</span>    648MiB /  4799MiB <span class=\"pl-k\">|</span>     97%      Default <span class=\"pl-k\">|</span>\n+-------------------------------+----------------------+----------------------+</pre></div>\n<p>I only want to use gpu 1, but tensorflow want to init all gpus.</p>", "body_text": "I have the same problem with #2620, like this:\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: Tesla K20c\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.7055\npciBusID 0000:02:00.0\nTotal memory: 4.69GiB\nFree memory: 4.54GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x9568510\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: Tesla K20c\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.7055\npciBusID 0000:04:00.0\nTotal memory: 4.69GiB\nFree memory: 4.61GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x99b29a0\nSegmentation fault (core dumped)\nIn fact, gpu 2 is busy:\n+------------------------------------------------------+                       \n| NVIDIA-SMI 352.79     Driver Version: 352.79         |                       \n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla K20c          Off  | 0000:02:00.0     Off |                    0 |\n| 30%   42C    P0    48W / 225W |     80MiB /  4799MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  Tesla K20c          Off  | 0000:04:00.0     Off |                    0 |\n| 30%   24C    P8    15W / 225W |     14MiB /  4799MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   2  Tesla K20c          Off  | 0000:83:00.0     Off |                    0 |\n| 46%   60C    P0   111W / 225W |   4768MiB /  4799MiB |     99%      Default |\n+-------------------------------+----------------------+----------------------+\n|   3  Tesla K20c          Off  | 0000:84:00.0     Off |                    0 |\n| 40%   53C    P0   100W / 225W |    648MiB /  4799MiB |     97%      Default |\n+-------------------------------+----------------------+----------------------+\nI only want to use gpu 1, but tensorflow want to init all gpus.", "body": "I have the same problem with [#2620](https://github.com/tensorflow/tensorflow/issues/2620), like this:\n\n``` shell\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: Tesla K20c\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.7055\npciBusID 0000:02:00.0\nTotal memory: 4.69GiB\nFree memory: 4.54GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x9568510\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: Tesla K20c\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.7055\npciBusID 0000:04:00.0\nTotal memory: 4.69GiB\nFree memory: 4.61GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x99b29a0\nSegmentation fault (core dumped)\n```\n\nIn fact, gpu 2 is busy:\n\n``` shell\n+------------------------------------------------------+                       \n| NVIDIA-SMI 352.79     Driver Version: 352.79         |                       \n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla K20c          Off  | 0000:02:00.0     Off |                    0 |\n| 30%   42C    P0    48W / 225W |     80MiB /  4799MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  Tesla K20c          Off  | 0000:04:00.0     Off |                    0 |\n| 30%   24C    P8    15W / 225W |     14MiB /  4799MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   2  Tesla K20c          Off  | 0000:83:00.0     Off |                    0 |\n| 46%   60C    P0   111W / 225W |   4768MiB /  4799MiB |     99%      Default |\n+-------------------------------+----------------------+----------------------+\n|   3  Tesla K20c          Off  | 0000:84:00.0     Off |                    0 |\n| 40%   53C    P0   100W / 225W |    648MiB /  4799MiB |     97%      Default |\n+-------------------------------+----------------------+----------------------+\n```\n\n I only want to use gpu 1, but tensorflow want to init all gpus.\n"}