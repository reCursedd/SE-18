{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/214894688", "html_url": "https://github.com/tensorflow/tensorflow/issues/2053#issuecomment-214894688", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2053", "id": 214894688, "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDg5NDY4OA==", "user": {"login": "damienmg", "id": 3721087, "node_id": "MDQ6VXNlcjM3MjEwODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3721087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/damienmg", "html_url": "https://github.com/damienmg", "followers_url": "https://api.github.com/users/damienmg/followers", "following_url": "https://api.github.com/users/damienmg/following{/other_user}", "gists_url": "https://api.github.com/users/damienmg/gists{/gist_id}", "starred_url": "https://api.github.com/users/damienmg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/damienmg/subscriptions", "organizations_url": "https://api.github.com/users/damienmg/orgs", "repos_url": "https://api.github.com/users/damienmg/repos", "events_url": "https://api.github.com/users/damienmg/events{/privacy}", "received_events_url": "https://api.github.com/users/damienmg/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-26T21:37:11Z", "updated_at": "2016-04-26T21:37:11Z", "author_association": "MEMBER", "body_html": "<p>As discussed offline with <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9567293\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aehlig\">@aehlig</a>, --spawn_strategy and --genrule_strategy<br>\nare two different things, I totally missed that tensorflow does not have<br>\nthe later in their rc file.</p>\n<p>On Tue, Apr 26, 2016 at 11:35 PM Alexander Korsunsky &lt;<br>\n<a href=\"mailto:notifications@github.com\">notifications@github.com</a>&gt; wrote:</p>\n<blockquote>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9567293\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aehlig\">@aehlig</a> <a href=\"https://github.com/aehlig\">https://github.com/aehlig</a></p>\n<p>Here's the output with --announce_rc but not --genrule_strategy=standalone</p>\n<p>$ bazel build -c opt --config=cuda --local_resources 4096,4.0,1.0 -j 4 --announce_rc //tensorflow/cc:tutorials_example_trainerINFO: Options provided by the client:<br>\nInherited 'common' options: --isatty=1 --terminal_columns=173<br>\nINFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:<br>\n'build' options: --force_python=py2 --python2_path=/usr/bin/python --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone<br>\nINFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:<br>\n'build' options: --crosstool_top=//third_party/gpus/crosstool --define=using_cuda=true</p>\n<p>Here's the output with both</p>\n<p>$ bazel build -c opt --config=cuda --genrule_strategy=standalone --local_resources 4096,4.0,1.0 -j 4 --announce_rc //tensorflow/cc:tutorials_example_trainer<br>\nINFO: Options provided by the client:<br>\nInherited 'common' options: --isatty=1 --terminal_columns=173<br>\nINFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:<br>\n'build' options: --force_python=py2 --python2_path=/usr/bin/python --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone<br>\nINFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:<br>\n'build' options: --crosstool_top=//third_party/gpus/crosstool --define=using_cuda=true</p>\n<p>I really don't know how --spawn_startegy=standalone interacts with<br>\n--genrule_strategy=standalone, but I know that without the latter being<br>\npassed on the command line, the compilation fails with the missing<br>\nlibcudart.so.</p>\n<p>\u2014<br>\nYou are receiving this because you were mentioned.<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"150176807\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2053\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2053/hovercard?comment_id=214893548&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/2053#issuecomment-214893548\">#2053 (comment)</a></p>\n</blockquote>", "body_text": "As discussed offline with @aehlig, --spawn_strategy and --genrule_strategy\nare two different things, I totally missed that tensorflow does not have\nthe later in their rc file.\nOn Tue, Apr 26, 2016 at 11:35 PM Alexander Korsunsky <\nnotifications@github.com> wrote:\n\n@aehlig https://github.com/aehlig\nHere's the output with --announce_rc but not --genrule_strategy=standalone\n$ bazel build -c opt --config=cuda --local_resources 4096,4.0,1.0 -j 4 --announce_rc //tensorflow/cc:tutorials_example_trainerINFO: Options provided by the client:\nInherited 'common' options: --isatty=1 --terminal_columns=173\nINFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:\n'build' options: --force_python=py2 --python2_path=/usr/bin/python --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone\nINFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:\n'build' options: --crosstool_top=//third_party/gpus/crosstool --define=using_cuda=true\nHere's the output with both\n$ bazel build -c opt --config=cuda --genrule_strategy=standalone --local_resources 4096,4.0,1.0 -j 4 --announce_rc //tensorflow/cc:tutorials_example_trainer\nINFO: Options provided by the client:\nInherited 'common' options: --isatty=1 --terminal_columns=173\nINFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:\n'build' options: --force_python=py2 --python2_path=/usr/bin/python --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone\nINFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:\n'build' options: --crosstool_top=//third_party/gpus/crosstool --define=using_cuda=true\nI really don't know how --spawn_startegy=standalone interacts with\n--genrule_strategy=standalone, but I know that without the latter being\npassed on the command line, the compilation fails with the missing\nlibcudart.so.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\n#2053 (comment)", "body": "As discussed offline with @aehlig, --spawn_strategy and --genrule_strategy\nare two different things, I totally missed that tensorflow does not have\nthe later in their rc file.\n\nOn Tue, Apr 26, 2016 at 11:35 PM Alexander Korsunsky <\nnotifications@github.com> wrote:\n\n> @aehlig https://github.com/aehlig\n> \n> Here's the output with --announce_rc but not --genrule_strategy=standalone\n> \n> $ bazel build -c opt --config=cuda --local_resources 4096,4.0,1.0 -j 4 --announce_rc //tensorflow/cc:tutorials_example_trainerINFO: Options provided by the client:\n>   Inherited 'common' options: --isatty=1 --terminal_columns=173\n> INFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:\n>   'build' options: --force_python=py2 --python2_path=/usr/bin/python --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone\n> INFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:\n>   'build' options: --crosstool_top=//third_party/gpus/crosstool --define=using_cuda=true\n> \n> Here's the output with both\n> \n> $ bazel build -c opt --config=cuda --genrule_strategy=standalone --local_resources 4096,4.0,1.0 -j 4 --announce_rc //tensorflow/cc:tutorials_example_trainer\n> INFO: Options provided by the client:\n>   Inherited 'common' options: --isatty=1 --terminal_columns=173\n> INFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:\n>   'build' options: --force_python=py2 --python2_path=/usr/bin/python --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone\n> INFO: Reading options for 'build' from /home/alexander/.local/src/tensorflow/tools/bazel.rc:\n>   'build' options: --crosstool_top=//third_party/gpus/crosstool --define=using_cuda=true\n> \n> I really don't know how --spawn_startegy=standalone interacts with\n> --genrule_strategy=standalone, but I know that without the latter being\n> passed on the command line, the compilation fails with the missing\n> libcudart.so.\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/2053#issuecomment-214893548\n"}