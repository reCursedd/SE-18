{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2797", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2797/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2797/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2797/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2797", "id": 159752061, "node_id": "MDU6SXNzdWUxNTk3NTIwNjE=", "number": 2797, "title": "error when using batch_normalize in tensorflow.contrib", "user": {"login": "guohengkai", "id": 5835678, "node_id": "MDQ6VXNlcjU4MzU2Nzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5835678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guohengkai", "html_url": "https://github.com/guohengkai", "followers_url": "https://api.github.com/users/guohengkai/followers", "following_url": "https://api.github.com/users/guohengkai/following{/other_user}", "gists_url": "https://api.github.com/users/guohengkai/gists{/gist_id}", "starred_url": "https://api.github.com/users/guohengkai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guohengkai/subscriptions", "organizations_url": "https://api.github.com/users/guohengkai/orgs", "repos_url": "https://api.github.com/users/guohengkai/repos", "events_url": "https://api.github.com/users/guohengkai/events{/privacy}", "received_events_url": "https://api.github.com/users/guohengkai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-06-11T02:52:09Z", "updated_at": "2016-10-28T04:29:51Z", "closed_at": "2016-10-28T04:29:51Z", "author_association": "NONE", "body_html": "<p>When I try to use batch_normalize as <code>bn = batch_normalize(conv, convnet=True)</code>, the error is as follows:</p>\n<blockquote>\n<p>File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/ops/batch_norm_ops.py\", line 72, in batch_normalize<br>\nlambda: (ema_mean, ema_var))<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 1316, in cond<br>\np_2, p_1 = switch(pred, pred)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 260, in switch<br>\nreturn gen_control_flow_ops._switch(data, pred, name=name)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_control_flow_ops.py\", line 370, in _switch<br>\nresult = _op_def_lib.apply_op(\"Switch\", data=data, pred=pred, name=name)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/op_def_library.py\", line 464, in apply_op<br>\n(prefix, dtypes.as_dtype(input_arg.type).name))<br>\nTypeError: Input 'pred' of 'Switch' Op has type float32 that does not match expected type of bool.</p>\n</blockquote>\n<p>Operating System: Ubuntu 14.04, 64 bits<br>\nPip package: <a href=\"https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.9.0rc0-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.9.0rc0-cp27-none-linux_x86_64.whl</a><br>\nThe output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>: 0.9.0rc0</p>", "body_text": "When I try to use batch_normalize as bn = batch_normalize(conv, convnet=True), the error is as follows:\n\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/ops/batch_norm_ops.py\", line 72, in batch_normalize\nlambda: (ema_mean, ema_var))\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 1316, in cond\np_2, p_1 = switch(pred, pred)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 260, in switch\nreturn gen_control_flow_ops._switch(data, pred, name=name)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_control_flow_ops.py\", line 370, in _switch\nresult = _op_def_lib.apply_op(\"Switch\", data=data, pred=pred, name=name)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/op_def_library.py\", line 464, in apply_op\n(prefix, dtypes.as_dtype(input_arg.type).name))\nTypeError: Input 'pred' of 'Switch' Op has type float32 that does not match expected type of bool.\n\nOperating System: Ubuntu 14.04, 64 bits\nPip package: https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.9.0rc0-cp27-none-linux_x86_64.whl\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\": 0.9.0rc0", "body": "When I try to use batch_normalize as `bn = batch_normalize(conv, convnet=True)`, the error is as follows:\n\n> File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/ops/batch_norm_ops.py\", line 72, in batch_normalize\n>     lambda: (ema_mean, ema_var))\n>   File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 1316, in cond\n>     p_2, p_1 = switch(pred, pred)\n>   File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/control_flow_ops.py\", line 260, in switch\n>     return gen_control_flow_ops._switch(data, pred, name=name)\n>   File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_control_flow_ops.py\", line 370, in _switch\n>     result = _op_def_lib.apply_op(\"Switch\", data=data, pred=pred, name=name)\n>   File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/op_def_library.py\", line 464, in apply_op\n>     (prefix, dtypes.as_dtype(input_arg.type).name))\n> TypeError: Input 'pred' of 'Switch' Op has type float32 that does not match expected type of bool.\n\nOperating System: Ubuntu 14.04, 64 bits\nPip package: https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.9.0rc0-cp27-none-linux_x86_64.whl\nThe output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`: 0.9.0rc0\n"}