{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/265223853", "html_url": "https://github.com/tensorflow/tensorflow/issues/6037#issuecomment-265223853", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6037", "id": 265223853, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTIyMzg1Mw==", "user": {"login": "sandersk", "id": 703865, "node_id": "MDQ6VXNlcjcwMzg2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/703865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandersk", "html_url": "https://github.com/sandersk", "followers_url": "https://api.github.com/users/sandersk/followers", "following_url": "https://api.github.com/users/sandersk/following{/other_user}", "gists_url": "https://api.github.com/users/sandersk/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandersk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandersk/subscriptions", "organizations_url": "https://api.github.com/users/sandersk/orgs", "repos_url": "https://api.github.com/users/sandersk/repos", "events_url": "https://api.github.com/users/sandersk/events{/privacy}", "received_events_url": "https://api.github.com/users/sandersk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-06T18:02:27Z", "updated_at": "2016-12-06T18:02:45Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=29782525\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/CTTC\">@CTTC</a> @krishnanareddy, thanks for the bug report, and apologies for the error here.</p>\n<p>With TF v0.12, the new default behavior for predict() is to return an iterable, as <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4269898\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/terrytangyuan\">@terrytangyuan</a> notes.</p>\n<p>If you change the following:</p>\n<div class=\"highlight highlight-source-python\"><pre>y <span class=\"pl-k\">=</span> regressor.predict(<span class=\"pl-v\">input_fn</span><span class=\"pl-k\">=</span><span class=\"pl-k\">lambda</span>: input_fn(prediction_set))\n<span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Predictions: <span class=\"pl-c1\">{}</span><span class=\"pl-pds\">\"</span></span>.format(<span class=\"pl-c1\">str</span>(y)))</pre></div>\n<p>to:</p>\n<div class=\"highlight highlight-source-python\"><pre>y <span class=\"pl-k\">=</span> regressor.predict(<span class=\"pl-v\">input_fn</span><span class=\"pl-k\">=</span><span class=\"pl-k\">lambda</span>: input_fn(prediction_set))\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> .predict() returns an iterator; convert to a list and print predictions</span>\npredictions <span class=\"pl-k\">=</span> <span class=\"pl-c1\">list</span>(itertools.islice(y, <span class=\"pl-c1\">6</span>))\n<span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Predictions: <span class=\"pl-c1\">{}</span><span class=\"pl-pds\">\"</span></span>.format(<span class=\"pl-c1\">str</span>(predictions)))</pre></div>\n<p>the example will work. I'll get the code in GitHub updated accordingly ASAP.</p>\n<p>Let me know if you still encounter any errors.</p>", "body_text": "@CTTC @krishnanareddy, thanks for the bug report, and apologies for the error here.\nWith TF v0.12, the new default behavior for predict() is to return an iterable, as @terrytangyuan notes.\nIf you change the following:\ny = regressor.predict(input_fn=lambda: input_fn(prediction_set))\nprint(\"Predictions: {}\".format(str(y)))\nto:\ny = regressor.predict(input_fn=lambda: input_fn(prediction_set))\n# .predict() returns an iterator; convert to a list and print predictions\npredictions = list(itertools.islice(y, 6))\nprint(\"Predictions: {}\".format(str(predictions)))\nthe example will work. I'll get the code in GitHub updated accordingly ASAP.\nLet me know if you still encounter any errors.", "body": "@CTTC @krishnanareddy, thanks for the bug report, and apologies for the error here.\r\n\r\nWith TF v0.12, the new default behavior for predict() is to return an iterable, as @terrytangyuan notes.\r\n\r\nIf you change the following:\r\n\r\n```python\r\ny = regressor.predict(input_fn=lambda: input_fn(prediction_set))\r\nprint(\"Predictions: {}\".format(str(y)))\r\n```\r\n\r\nto:\r\n\r\n```python\r\ny = regressor.predict(input_fn=lambda: input_fn(prediction_set))\r\n# .predict() returns an iterator; convert to a list and print predictions\r\npredictions = list(itertools.islice(y, 6))\r\nprint(\"Predictions: {}\".format(str(predictions)))\r\n```\r\n\r\nthe example will work. I'll get the code in GitHub updated accordingly ASAP.\r\n\r\nLet me know if you still encounter any errors."}