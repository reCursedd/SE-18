{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/427860443", "html_url": "https://github.com/tensorflow/tensorflow/issues/19620#issuecomment-427860443", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19620", "id": 427860443, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzg2MDQ0Mw==", "user": {"login": "anonym24", "id": 8851301, "node_id": "MDQ6VXNlcjg4NTEzMDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8851301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anonym24", "html_url": "https://github.com/anonym24", "followers_url": "https://api.github.com/users/anonym24/followers", "following_url": "https://api.github.com/users/anonym24/following{/other_user}", "gists_url": "https://api.github.com/users/anonym24/gists{/gist_id}", "starred_url": "https://api.github.com/users/anonym24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anonym24/subscriptions", "organizations_url": "https://api.github.com/users/anonym24/orgs", "repos_url": "https://api.github.com/users/anonym24/repos", "events_url": "https://api.github.com/users/anonym24/events{/privacy}", "received_events_url": "https://api.github.com/users/anonym24/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-08T14:38:03Z", "updated_at": "2018-10-08T14:39:10Z", "author_association": "NONE", "body_html": "<p>For me it just crashes on Xiaomi 8.1 Redmi Note 5. Mb device doesn't support NNAPI - suitable hardware needed for that.. I guess. But why does it crash? Why not just use CPU fallback?</p>\n<p>Also would be great to have some function which will tell us if NNAPI is supported by device.</p>\n<pre><code>2018-10-08 17:30:36.273 21069-21493/com.tes E/tflite: Custom operations are not supported when using NNAPI.\n2018-10-08 17:30:36.273 21069-21493/com.tes E/tflite: Returning error since TFLite returned failure nnapi_delegate.cc:745.\n2018-10-08 17:30:36.273 21069-21493/com.tes E/tflite: Failed to build graph for NNAPI\n2018-10-08 17:30:36.274 21069-21493/com.tes E/AndroidRuntime: FATAL EXCEPTION: Thread-4\n    Process: com.tes, PID: 21069\n    java.lang.IllegalArgumentException: Internal error: Failed to run on the given Interpreter: \n        at org.tensorflow.lite.NativeInterpreterWrapper.run(Native Method)\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:130)\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:216)\n        at com.tes.Lite.TFLiteObjectDetection.recognizeImage(TFLiteObjectDetection.java:226)\n        at com.tes.Lite.NeuralNet.detect(NeuralNet.java:82)\n        at com.tes.camera.JavaCameraView$CameraWorker.run(JavaCameraView.java:395)\n        at java.lang.Thread.run(Thread.java:764)\n\n</code></pre>\n<p>p.s. I use the latest nightly version (as I understand): <code>implementation 'org.tensorflow:tensorflow-lite:0.0.0-nightly'</code></p>", "body_text": "For me it just crashes on Xiaomi 8.1 Redmi Note 5. Mb device doesn't support NNAPI - suitable hardware needed for that.. I guess. But why does it crash? Why not just use CPU fallback?\nAlso would be great to have some function which will tell us if NNAPI is supported by device.\n2018-10-08 17:30:36.273 21069-21493/com.tes E/tflite: Custom operations are not supported when using NNAPI.\n2018-10-08 17:30:36.273 21069-21493/com.tes E/tflite: Returning error since TFLite returned failure nnapi_delegate.cc:745.\n2018-10-08 17:30:36.273 21069-21493/com.tes E/tflite: Failed to build graph for NNAPI\n2018-10-08 17:30:36.274 21069-21493/com.tes E/AndroidRuntime: FATAL EXCEPTION: Thread-4\n    Process: com.tes, PID: 21069\n    java.lang.IllegalArgumentException: Internal error: Failed to run on the given Interpreter: \n        at org.tensorflow.lite.NativeInterpreterWrapper.run(Native Method)\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:130)\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:216)\n        at com.tes.Lite.TFLiteObjectDetection.recognizeImage(TFLiteObjectDetection.java:226)\n        at com.tes.Lite.NeuralNet.detect(NeuralNet.java:82)\n        at com.tes.camera.JavaCameraView$CameraWorker.run(JavaCameraView.java:395)\n        at java.lang.Thread.run(Thread.java:764)\n\n\np.s. I use the latest nightly version (as I understand): implementation 'org.tensorflow:tensorflow-lite:0.0.0-nightly'", "body": "For me it just crashes on Xiaomi 8.1 Redmi Note 5. Mb device doesn't support NNAPI - suitable hardware needed for that.. I guess. But why does it crash? Why not just use CPU fallback?\r\n\r\nAlso would be great to have some function which will tell us if NNAPI is supported by device. \r\n\r\n```\r\n2018-10-08 17:30:36.273 21069-21493/com.tes E/tflite: Custom operations are not supported when using NNAPI.\r\n2018-10-08 17:30:36.273 21069-21493/com.tes E/tflite: Returning error since TFLite returned failure nnapi_delegate.cc:745.\r\n2018-10-08 17:30:36.273 21069-21493/com.tes E/tflite: Failed to build graph for NNAPI\r\n2018-10-08 17:30:36.274 21069-21493/com.tes E/AndroidRuntime: FATAL EXCEPTION: Thread-4\r\n    Process: com.tes, PID: 21069\r\n    java.lang.IllegalArgumentException: Internal error: Failed to run on the given Interpreter: \r\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(Native Method)\r\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:130)\r\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:216)\r\n        at com.tes.Lite.TFLiteObjectDetection.recognizeImage(TFLiteObjectDetection.java:226)\r\n        at com.tes.Lite.NeuralNet.detect(NeuralNet.java:82)\r\n        at com.tes.camera.JavaCameraView$CameraWorker.run(JavaCameraView.java:395)\r\n        at java.lang.Thread.run(Thread.java:764)\r\n\r\n```\r\n\r\np.s. I use the latest nightly version (as I understand): `implementation 'org.tensorflow:tensorflow-lite:0.0.0-nightly'`"}