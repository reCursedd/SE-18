{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/273883312", "html_url": "https://github.com/tensorflow/tensorflow/issues/6903#issuecomment-273883312", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6903", "id": 273883312, "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mzg4MzMxMg==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-19T20:04:45Z", "updated_at": "2017-01-19T20:04:45Z", "author_association": "CONTRIBUTOR", "body_html": "<p>So it seems the issue is that you are requesting TensorFlow to fetch <code>gradients</code> node which you know is 0 because you know what feeding part of the graph breaks connection. Meanwhile, TensorFlow has to do some computation before arriving to this conclusion. Could you just feed <code>0</code> into the gradients node to save the computation in such cases?</p>\n<p>Also, wrapping gradient tensor in <code>cond</code> is not sufficient to remove redundant computation, the whole gradients subgraph must be created inside of a <code>tf.cond</code> statement</p>", "body_text": "So it seems the issue is that you are requesting TensorFlow to fetch gradients node which you know is 0 because you know what feeding part of the graph breaks connection. Meanwhile, TensorFlow has to do some computation before arriving to this conclusion. Could you just feed 0 into the gradients node to save the computation in such cases?\nAlso, wrapping gradient tensor in cond is not sufficient to remove redundant computation, the whole gradients subgraph must be created inside of a tf.cond statement", "body": "So it seems the issue is that you are requesting TensorFlow to fetch `gradients` node which you know is 0 because you know what feeding part of the graph breaks connection. Meanwhile, TensorFlow has to do some computation before arriving to this conclusion. Could you just feed `0` into the gradients node to save the computation in such cases?\r\n\r\nAlso, wrapping gradient tensor in `cond` is not sufficient to remove redundant computation, the whole gradients subgraph must be created inside of a `tf.cond` statement"}