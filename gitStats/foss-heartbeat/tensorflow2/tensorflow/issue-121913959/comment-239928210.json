{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/239928210", "html_url": "https://github.com/tensorflow/tensorflow/issues/498#issuecomment-239928210", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/498", "id": 239928210, "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTkyODIxMA==", "user": {"login": "keunwoochoi", "id": 16153797, "node_id": "MDQ6VXNlcjE2MTUzNzk3", "avatar_url": "https://avatars0.githubusercontent.com/u/16153797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keunwoochoi", "html_url": "https://github.com/keunwoochoi", "followers_url": "https://api.github.com/users/keunwoochoi/followers", "following_url": "https://api.github.com/users/keunwoochoi/following{/other_user}", "gists_url": "https://api.github.com/users/keunwoochoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/keunwoochoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keunwoochoi/subscriptions", "organizations_url": "https://api.github.com/users/keunwoochoi/orgs", "repos_url": "https://api.github.com/users/keunwoochoi/repos", "events_url": "https://api.github.com/users/keunwoochoi/events{/privacy}", "received_events_url": "https://api.github.com/users/keunwoochoi/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-15T21:02:18Z", "updated_at": "2016-08-15T21:02:28Z", "author_association": "NONE", "body_html": "<div class=\"highlight highlight-source-shell\"><pre>Traceback (most recent call last):\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>cnn_cropping.py<span class=\"pl-pds\">\"</span></span>, line 48, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    model.add(cropping.Cropping2D(cropping=<span class=\"pl-s\"><span class=\"pl-pds\">((</span><span class=\"pl-c1\">2</span><span class=\"pl-k\">,</span><span class=\"pl-c1\">2</span>)<span class=\"pl-k\">,</span>(<span class=\"pl-c1\">2</span><span class=\"pl-k\">,</span><span class=\"pl-c1\">2</span><span class=\"pl-pds\">))</span></span> ))\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/gnu/anaconda/lib/python2.7/site-packages/keras/models.py<span class=\"pl-pds\">\"</span></span>, line 146, <span class=\"pl-k\">in</span> add\n    output_tensor = layer(self.outputs[0])\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/gnu/anaconda/lib/python2.7/site-packages/keras/engine/topology.py<span class=\"pl-pds\">\"</span></span>, line 485, <span class=\"pl-k\">in</span> __call__\n    self.add_inbound_node(inbound_layers, node_indices, tensor_indices)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/gnu/anaconda/lib/python2.7/site-packages/keras/engine/topology.py<span class=\"pl-pds\">\"</span></span>, line 543, <span class=\"pl-k\">in</span> add_inbound_node\n    Node.create_node(self, inbound_layers, node_indices, tensor_indices)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/gnu/anaconda/lib/python2.7/site-packages/keras/engine/topology.py<span class=\"pl-pds\">\"</span></span>, line 148, <span class=\"pl-k\">in</span> create_node\n    output_tensors = to_list(outbound_layer.call(input_tensors[0], mask=input_masks[0]))\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/gnu/Gnubox/keras_cropping/cropping.py<span class=\"pl-pds\">\"</span></span>, line 56, <span class=\"pl-k\">in</span> call\n    <span class=\"pl-k\">return</span> x[:, :, self.cropping[0][0]:-self.cropping[0][1], self.cropping[1][0]:-self.cropping[1][1]]\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/gnu/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py<span class=\"pl-pds\">\"</span></span>, line 315, <span class=\"pl-k\">in</span> _SliceHelper\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Negative stop indices are not currently supported<span class=\"pl-pds\">\"</span></span>)\nNotImplementedError: Negative stop indices are not currently supported</pre></div>\n<p>Does anyone have any idea? I think I should be able to use <code>self.input_shape</code> to clarify the index, but</p>\n<div class=\"highlight highlight-source-python\"><pre>(Pdb) <span class=\"pl-c1\">self</span>.input_shape\n<span class=\"pl-k\">***</span> <span class=\"pl-c1\">Exception</span>: The layer has never been called <span class=\"pl-k\">and</span> thus has no defined <span class=\"pl-c1\">input</span> shape.</pre></div>\n<p>it doesn't work.</p>", "body_text": "Traceback (most recent call last):\n  File \"cnn_cropping.py\", line 48, in <module>\n    model.add(cropping.Cropping2D(cropping=((2,2),(2,2)) ))\n  File \"/Users/gnu/anaconda/lib/python2.7/site-packages/keras/models.py\", line 146, in add\n    output_tensor = layer(self.outputs[0])\n  File \"/Users/gnu/anaconda/lib/python2.7/site-packages/keras/engine/topology.py\", line 485, in __call__\n    self.add_inbound_node(inbound_layers, node_indices, tensor_indices)\n  File \"/Users/gnu/anaconda/lib/python2.7/site-packages/keras/engine/topology.py\", line 543, in add_inbound_node\n    Node.create_node(self, inbound_layers, node_indices, tensor_indices)\n  File \"/Users/gnu/anaconda/lib/python2.7/site-packages/keras/engine/topology.py\", line 148, in create_node\n    output_tensors = to_list(outbound_layer.call(input_tensors[0], mask=input_masks[0]))\n  File \"/Users/gnu/Gnubox/keras_cropping/cropping.py\", line 56, in call\n    return x[:, :, self.cropping[0][0]:-self.cropping[0][1], self.cropping[1][0]:-self.cropping[1][1]]\n  File \"/Users/gnu/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 315, in _SliceHelper\n    \"Negative stop indices are not currently supported\")\nNotImplementedError: Negative stop indices are not currently supported\nDoes anyone have any idea? I think I should be able to use self.input_shape to clarify the index, but\n(Pdb) self.input_shape\n*** Exception: The layer has never been called and thus has no defined input shape.\nit doesn't work.", "body": "``` bash\nTraceback (most recent call last):\n  File \"cnn_cropping.py\", line 48, in <module>\n    model.add(cropping.Cropping2D(cropping=((2,2),(2,2)) ))\n  File \"/Users/gnu/anaconda/lib/python2.7/site-packages/keras/models.py\", line 146, in add\n    output_tensor = layer(self.outputs[0])\n  File \"/Users/gnu/anaconda/lib/python2.7/site-packages/keras/engine/topology.py\", line 485, in __call__\n    self.add_inbound_node(inbound_layers, node_indices, tensor_indices)\n  File \"/Users/gnu/anaconda/lib/python2.7/site-packages/keras/engine/topology.py\", line 543, in add_inbound_node\n    Node.create_node(self, inbound_layers, node_indices, tensor_indices)\n  File \"/Users/gnu/anaconda/lib/python2.7/site-packages/keras/engine/topology.py\", line 148, in create_node\n    output_tensors = to_list(outbound_layer.call(input_tensors[0], mask=input_masks[0]))\n  File \"/Users/gnu/Gnubox/keras_cropping/cropping.py\", line 56, in call\n    return x[:, :, self.cropping[0][0]:-self.cropping[0][1], self.cropping[1][0]:-self.cropping[1][1]]\n  File \"/Users/gnu/anaconda/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 315, in _SliceHelper\n    \"Negative stop indices are not currently supported\")\nNotImplementedError: Negative stop indices are not currently supported\n```\n\nDoes anyone have any idea? I think I should be able to use `self.input_shape` to clarify the index, but \n\n``` python\n(Pdb) self.input_shape\n*** Exception: The layer has never been called and thus has no defined input shape.\n```\n\nit doesn't work. \n"}