{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/300808361", "html_url": "https://github.com/tensorflow/tensorflow/issues/6698#issuecomment-300808361", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6698", "id": 300808361, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDgwODM2MQ==", "user": {"login": "ggranum", "id": 1274126, "node_id": "MDQ6VXNlcjEyNzQxMjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1274126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ggranum", "html_url": "https://github.com/ggranum", "followers_url": "https://api.github.com/users/ggranum/followers", "following_url": "https://api.github.com/users/ggranum/following{/other_user}", "gists_url": "https://api.github.com/users/ggranum/gists{/gist_id}", "starred_url": "https://api.github.com/users/ggranum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ggranum/subscriptions", "organizations_url": "https://api.github.com/users/ggranum/orgs", "repos_url": "https://api.github.com/users/ggranum/repos", "events_url": "https://api.github.com/users/ggranum/events{/privacy}", "received_events_url": "https://api.github.com/users/ggranum/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-11T14:33:58Z", "updated_at": "2017-05-11T14:38:48Z", "author_association": "NONE", "body_html": "<p>Confirming <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=835254\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/strickon\">@strickon</a> 's suggestion works for me.</p>\n<p>Am running <a href=\"https://github.com/awjuliani/DeepRL-Agents/blob/master/Double-Dueling-DQN.ipynb\">https://github.com/awjuliani/DeepRL-Agents/blob/master/Double-Dueling-DQN.ipynb</a> and was getting the failures mentioned in this thread on the first call to sess.run within the update block ( The line:  <code>Q1 = sess.run(mainQN.predict,feed_dict={mainQN.scalarInput:np.vstack(trainBatch[:,3])})</code>.</p>\n<p>Adding the allow_growth flag (as per below) got me past this bump - the code is currently running in the background, we'll see how far it goes.</p>\n<div class=\"highlight highlight-source-python\"><pre>config <span class=\"pl-k\">=</span> tf.ConfigProto()\nconfig.gpu_options.allow_growth <span class=\"pl-k\">=</span> <span class=\"pl-c1\">True</span>\nsess <span class=\"pl-k\">=</span> tf.Session(<span class=\"pl-v\">config</span><span class=\"pl-k\">=</span>config)</pre></div>\n<p>Stack:</p>\n<ul>\n<li>MacBook Pro, running Sierra  10.12.4, with NVIDIA GeForce GT 750M 2048 MB. Typically only have 1.7GB free.</li>\n<li><a href=\"https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow_gpu-1.1.0-py3-none-any.whl\" rel=\"nofollow\">TensorFlow  1.1</a> Using Anaconda install instructions.</li>\n<li>Python 3.6, not virtual (Anaconda)</li>\n<li>CUDA 8 / cuDNN 5</li>\n</ul>\n<p>I'd be fine with dumping more stats on request.</p>", "body_text": "Confirming @strickon 's suggestion works for me.\nAm running https://github.com/awjuliani/DeepRL-Agents/blob/master/Double-Dueling-DQN.ipynb and was getting the failures mentioned in this thread on the first call to sess.run within the update block ( The line:  Q1 = sess.run(mainQN.predict,feed_dict={mainQN.scalarInput:np.vstack(trainBatch[:,3])}).\nAdding the allow_growth flag (as per below) got me past this bump - the code is currently running in the background, we'll see how far it goes.\nconfig = tf.ConfigProto()\nconfig.gpu_options.allow_growth = True\nsess = tf.Session(config=config)\nStack:\n\nMacBook Pro, running Sierra  10.12.4, with NVIDIA GeForce GT 750M 2048 MB. Typically only have 1.7GB free.\nTensorFlow  1.1 Using Anaconda install instructions.\nPython 3.6, not virtual (Anaconda)\nCUDA 8 / cuDNN 5\n\nI'd be fine with dumping more stats on request.", "body": "Confirming @strickon 's suggestion works for me. \r\n\r\nAm running https://github.com/awjuliani/DeepRL-Agents/blob/master/Double-Dueling-DQN.ipynb and was getting the failures mentioned in this thread on the first call to sess.run within the update block ( The line:  ` Q1 = sess.run(mainQN.predict,feed_dict={mainQN.scalarInput:np.vstack(trainBatch[:,3])}) `. \r\n\r\nAdding the allow_growth flag (as per below) got me past this bump - the code is currently running in the background, we'll see how far it goes.\r\n\r\n```python\r\nconfig = tf.ConfigProto()\r\nconfig.gpu_options.allow_growth = True\r\nsess = tf.Session(config=config)\r\n```\r\n\r\nStack: \r\n* MacBook Pro, running Sierra  10.12.4, with NVIDIA GeForce GT 750M 2048 MB. Typically only have 1.7GB free. \r\n* [TensorFlow  1.1](https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow_gpu-1.1.0-py3-none-any.whl) Using Anaconda install instructions.\r\n* Python 3.6, not virtual (Anaconda)\r\n* CUDA 8 / cuDNN 5\r\n\r\nI'd be fine with dumping more stats on request.\r\n"}