{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/170772777", "html_url": "https://github.com/tensorflow/tensorflow/pull/738#issuecomment-170772777", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/738", "id": 170772777, "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDc3Mjc3Nw==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2016-01-12T03:28:54Z", "updated_at": "2016-01-12T03:28:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p>A cleaner way would be to move the shape check to the top (before anything<br>\nhappens) and do:</p>\n<p>for input in inputs:<br>\ninput.set_shape(input.shape.with_rank(2))</p>\n<p>But it does indeed seem that this is not necessary.</p>\n<p>On Mon, Jan 11, 2016 at 7:01 PM, Kenton Lee <a href=\"mailto:notifications@github.com\">notifications@github.com</a><br>\nwrote:</p>\n<blockquote>\n<p>It looks like TensorShape's <strong>getitem</strong> is ok to call with no dimensions<br>\n(see<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/tensor_shape.py#L507\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/tensor_shape.py#L507</a>).<br>\nI added a test that uses a shapeless placeholder to be sure.</p>\n<p>Note that the extra logic here: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/kentonl/tensorflow/commit/04036d7/hovercard\" href=\"https://github.com/kentonl/tensorflow/commit/04036d7\">kentonl/tensorflow@<tt>04036d7</tt></a><br>\n#diff-9d717423e6d3f4359151c45dfaa554b6R234<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/kentonl/tensorflow/commit/04036d7e443da373cc151305ba81ffacafe85d13#diff-9d717423e6d3f4359151c45dfaa554b6R234/hovercard\" href=\"https://github.com/kentonl/tensorflow/commit/04036d7e443da373cc151305ba81ffacafe85d13#diff-9d717423e6d3f4359151c45dfaa554b6R234\">kentonl@<tt>04036d7</tt>#diff-9d717423e6d3f4359151c45dfaa554b6R234</a><br>\nis required for shapeless placeholders to work correctly for bidirectional<br>\nRNNs.</p>\n<p>\u2014<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"125860238\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/738\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/738/hovercard?comment_id=170768968&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/pull/738#issuecomment-170768968\">#738 (comment)</a><br>\n.</p>\n</blockquote>", "body_text": "A cleaner way would be to move the shape check to the top (before anything\nhappens) and do:\nfor input in inputs:\ninput.set_shape(input.shape.with_rank(2))\nBut it does indeed seem that this is not necessary.\nOn Mon, Jan 11, 2016 at 7:01 PM, Kenton Lee notifications@github.com\nwrote:\n\nIt looks like TensorShape's getitem is ok to call with no dimensions\n(see\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/tensor_shape.py#L507).\nI added a test that uses a shapeless placeholder to be sure.\nNote that the extra logic here: kentonl/tensorflow@04036d7\n#diff-9d717423e6d3f4359151c45dfaa554b6R234\nkentonl@04036d7#diff-9d717423e6d3f4359151c45dfaa554b6R234\nis required for shapeless placeholders to work correctly for bidirectional\nRNNs.\n\u2014\nReply to this email directly or view it on GitHub\n#738 (comment)\n.", "body": "A cleaner way would be to move the shape check to the top (before anything\nhappens) and do:\n\nfor input in inputs:\n  input.set_shape(input.shape.with_rank(2))\n\nBut it does indeed seem that this is not necessary.\n\nOn Mon, Jan 11, 2016 at 7:01 PM, Kenton Lee notifications@github.com\nwrote:\n\n> It looks like TensorShape's **getitem** is ok to call with no dimensions\n> (see\n> https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/tensor_shape.py#L507).\n> I added a test that uses a shapeless placeholder to be sure.\n> \n> Note that the extra logic here: kentonl@04036d7\n> #diff-9d717423e6d3f4359151c45dfaa554b6R234\n> https://github.com/kentonl/tensorflow/commit/04036d7e443da373cc151305ba81ffacafe85d13#diff-9d717423e6d3f4359151c45dfaa554b6R234\n> is required for shapeless placeholders to work correctly for bidirectional\n> RNNs.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/pull/738#issuecomment-170768968\n> .\n"}