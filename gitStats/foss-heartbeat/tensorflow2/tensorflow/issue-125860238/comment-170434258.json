{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/170434258", "html_url": "https://github.com/tensorflow/tensorflow/pull/738#issuecomment-170434258", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/738", "id": 170434258, "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDQzNDI1OA==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2016-01-11T05:15:22Z", "updated_at": "2016-01-11T05:15:22Z", "author_association": "CONTRIBUTOR", "body_html": "<p>(btw you can infer the batch size by calling inputs.shape, checking if not<br>\nNone, and getting the first dimension from the input)</p>\n<p>On Sun, Jan 10, 2016 at 9:11 PM, Eugene Brevdo <a href=\"mailto:ebrevdo@gmail.com\">ebrevdo@gmail.com</a> wrote:</p>\n<blockquote>\n<p>Actually, could you also add a version of the bidirectional RNN test when<br>\nsequence_length is not passed in (thus all sequences are considered full<br>\nlength)?</p>\n<p>On Sun, Jan 10, 2016 at 9:05 PM, Vijay Vasudevan &lt;<a href=\"mailto:notifications@github.com\">notifications@github.com</a></p>\n<blockquote>\n<p>wrote:</p>\n<p>Looks like a CPU test failed:</p>\n<p>INFO: From Testing //tensorflow/python:rnn_test:<br>\n==================== Test output for //tensorflow/python:rnn_test:<br>\nF................ FAIL: testBidirectionalRNN (<em>main</em><br>\n.BidirectionalRNNTest)</p>\n<p>Traceback (most recent call last):<br>\nFile<br>\n\"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/68a62076e91007a7908bc42a32e4cff9/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow/python/rnn_test.runfiles/tensorflow/python/kernel_tests/rnn_test.py\",<br>\nline 579, in testBidirectionalRNN<br>\nself._testBidirectionalRNN(use_gpu=False)<br>\nFile<br>\n\"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/68a62076e91007a7908bc42a32e4cff9/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow/python/rnn_test.runfiles/tensorflow/python/kernel_tests/rnn_test.py\",<br>\nline 539, in _testBidirectionalRNN<br>\nself.assertEqual(out.get_shape().as_list(), [batch_size, 2 * num_units])<br>\nAssertionError: Lists differ: [None, 6] != [2, 6]</p>\n<p>First differing element 0:<br>\nNone<br>\n2</p>\n<ul>\n<li>[None, 6]</li>\n<li>[2, 6]</li>\n</ul>\n<hr>\n<p>Ran 17 tests in 23.687s</p>\n<p>FAILED (failures=1)</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2646947\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/kentonl\">@kentonl</a> <a href=\"https://github.com/kentonl\">https://github.com/kentonl</a>: can you take a look and fix?</p>\n<p>\u2014<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"125860238\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/738\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/738/hovercard?comment_id=170433484&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/pull/738#issuecomment-170433484\">#738 (comment)</a><br>\n.</p>\n</blockquote>\n</blockquote>", "body_text": "(btw you can infer the batch size by calling inputs.shape, checking if not\nNone, and getting the first dimension from the input)\nOn Sun, Jan 10, 2016 at 9:11 PM, Eugene Brevdo ebrevdo@gmail.com wrote:\n\nActually, could you also add a version of the bidirectional RNN test when\nsequence_length is not passed in (thus all sequences are considered full\nlength)?\nOn Sun, Jan 10, 2016 at 9:05 PM, Vijay Vasudevan <notifications@github.com\n\nwrote:\nLooks like a CPU test failed:\nINFO: From Testing //tensorflow/python:rnn_test:\n==================== Test output for //tensorflow/python:rnn_test:\nF................ FAIL: testBidirectionalRNN (main\n.BidirectionalRNNTest)\nTraceback (most recent call last):\nFile\n\"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/68a62076e91007a7908bc42a32e4cff9/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow/python/rnn_test.runfiles/tensorflow/python/kernel_tests/rnn_test.py\",\nline 579, in testBidirectionalRNN\nself._testBidirectionalRNN(use_gpu=False)\nFile\n\"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/68a62076e91007a7908bc42a32e4cff9/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow/python/rnn_test.runfiles/tensorflow/python/kernel_tests/rnn_test.py\",\nline 539, in _testBidirectionalRNN\nself.assertEqual(out.get_shape().as_list(), [batch_size, 2 * num_units])\nAssertionError: Lists differ: [None, 6] != [2, 6]\nFirst differing element 0:\nNone\n2\n\n[None, 6]\n[2, 6]\n\n\nRan 17 tests in 23.687s\nFAILED (failures=1)\n@kentonl https://github.com/kentonl: can you take a look and fix?\n\u2014\nReply to this email directly or view it on GitHub\n#738 (comment)\n.", "body": "(btw you can infer the batch size by calling inputs.shape, checking if not\nNone, and getting the first dimension from the input)\n\nOn Sun, Jan 10, 2016 at 9:11 PM, Eugene Brevdo ebrevdo@gmail.com wrote:\n\n> Actually, could you also add a version of the bidirectional RNN test when\n> sequence_length is not passed in (thus all sequences are considered full\n> length)?\n> \n> On Sun, Jan 10, 2016 at 9:05 PM, Vijay Vasudevan <notifications@github.com\n> \n> > wrote:\n> > \n> > Looks like a CPU test failed:\n> > \n> > INFO: From Testing //tensorflow/python:rnn_test:\n> > ==================== Test output for //tensorflow/python:rnn_test:\n> > F................ FAIL: testBidirectionalRNN (_main_\n> > .BidirectionalRNNTest)\n> > \n> > Traceback (most recent call last):\n> > File\n> > \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/68a62076e91007a7908bc42a32e4cff9/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow/python/rnn_test.runfiles/tensorflow/python/kernel_tests/rnn_test.py\",\n> > line 579, in testBidirectionalRNN\n> > self._testBidirectionalRNN(use_gpu=False)\n> > File\n> > \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/68a62076e91007a7908bc42a32e4cff9/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorflow/python/rnn_test.runfiles/tensorflow/python/kernel_tests/rnn_test.py\",\n> > line 539, in _testBidirectionalRNN\n> > self.assertEqual(out.get_shape().as_list(), [batch_size, 2 \\* num_units])\n> > AssertionError: Lists differ: [None, 6] != [2, 6]\n> > \n> > First differing element 0:\n> > None\n> > 2\n> > - [None, 6]\n> > - [2, 6]\n> > \n> > ---\n> > \n> > Ran 17 tests in 23.687s\n> > \n> > FAILED (failures=1)\n> > \n> > @kentonl https://github.com/kentonl: can you take a look and fix?\n> > \n> > \u2014\n> > Reply to this email directly or view it on GitHub\n> > https://github.com/tensorflow/tensorflow/pull/738#issuecomment-170433484\n> > .\n"}