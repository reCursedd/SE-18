{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/171436449", "html_url": "https://github.com/tensorflow/tensorflow/pull/738#issuecomment-171436449", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/738", "id": 171436449, "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTQzNjQ0OQ==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2016-01-13T21:20:02Z", "updated_at": "2016-01-13T21:20:02Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I'd be OK with this.</p>\n<p>On Tue, Jan 12, 2016 at 10:18 PM, Kenton Lee <a href=\"mailto:notifications@github.com\">notifications@github.com</a><br>\nwrote:</p>\n<blockquote>\n<p>It looks like setting the shape in the RNN is actually not the right fix.<br>\nWhen the gradients are computed, the shape inference still fails due to the<br>\nconservative logic in the merge op here:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/control_flow_ops.py#L1533\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/control_flow_ops.py#L1533</a>.<br>\nWould it be acceptable to relax it so that merging tensors with shapes, for<br>\nexample, [None, 10] and [None, 10] would produce a [None, 10] tensor?</p>\n<p>\u2014<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"125860238\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/738\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/738/hovercard?comment_id=171181586&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/pull/738#issuecomment-171181586\">#738 (comment)</a><br>\n.</p>\n</blockquote>", "body_text": "I'd be OK with this.\nOn Tue, Jan 12, 2016 at 10:18 PM, Kenton Lee notifications@github.com\nwrote:\n\nIt looks like setting the shape in the RNN is actually not the right fix.\nWhen the gradients are computed, the shape inference still fails due to the\nconservative logic in the merge op here:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/control_flow_ops.py#L1533.\nWould it be acceptable to relax it so that merging tensors with shapes, for\nexample, [None, 10] and [None, 10] would produce a [None, 10] tensor?\n\u2014\nReply to this email directly or view it on GitHub\n#738 (comment)\n.", "body": "I'd be OK with this.\n\nOn Tue, Jan 12, 2016 at 10:18 PM, Kenton Lee notifications@github.com\nwrote:\n\n> It looks like setting the shape in the RNN is actually not the right fix.\n> When the gradients are computed, the shape inference still fails due to the\n> conservative logic in the merge op here:\n> https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/control_flow_ops.py#L1533.\n> Would it be acceptable to relax it so that merging tensors with shapes, for\n> example, [None, 10] and [None, 10] would produce a [None, 10] tensor?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/pull/738#issuecomment-171181586\n> .\n"}