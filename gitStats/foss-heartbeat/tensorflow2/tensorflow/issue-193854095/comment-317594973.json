{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/317594973", "html_url": "https://github.com/tensorflow/tensorflow/issues/6124#issuecomment-317594973", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6124", "id": 317594973, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzU5NDk3Mw==", "user": {"login": "zaneoliver6", "id": 15722659, "node_id": "MDQ6VXNlcjE1NzIyNjU5", "avatar_url": "https://avatars3.githubusercontent.com/u/15722659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneoliver6", "html_url": "https://github.com/zaneoliver6", "followers_url": "https://api.github.com/users/zaneoliver6/followers", "following_url": "https://api.github.com/users/zaneoliver6/following{/other_user}", "gists_url": "https://api.github.com/users/zaneoliver6/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneoliver6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneoliver6/subscriptions", "organizations_url": "https://api.github.com/users/zaneoliver6/orgs", "repos_url": "https://api.github.com/users/zaneoliver6/repos", "events_url": "https://api.github.com/users/zaneoliver6/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneoliver6/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-25T00:43:35Z", "updated_at": "2017-07-25T00:43:35Z", "author_association": "NONE", "body_html": "<p>Hey guys! I've been having the same problem trying to make this work on android and I have used some of the solutions from above but none seem to work...here are some of the errors I get back from the various methods of trying to solve this problem...Any Help would be appreciated!</p>\n<p>The models work when I run it on python but doesn't when I run them on android.</p>\n<p>Im using the SSD_Mobilenet model from tensorflow object detection api.</p>\n<p>This is from the optimize for inference function:<br>\nNodeDef expected inputs '' do not match 1 inputs specified; Op&lt;name=Const; signature= -&gt; output:dtype; attr=value:tensor; attr=dtype:type&gt;; NodeDef: Preprocessor/map/while/add/y = Constdtype=DT_INT32, value=Tensor&lt;type: int32 shape: [] values: 1&gt;</p>\n<p>This is from renaming Switch to Identify:<br>\nNot a valid TensorFlow Graph serialization: Node 'Preprocessor/map/while/add/y': Connecting to invalid output 1 of source node Preprocessor/map/while/Switch which has 1 outputs</p>\n<p>This last one loads the model but crashes when processing the inputs:<br>\njava.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Switch' with these attrs. Registered devices: [CPU], Registered kernels:<br>\ndevice='GPU'; T in [DT_STRING]<br>\ndevice='GPU'; T in [DT_BOOL]<br>\ndevice='GPU'; T in [DT_INT32]<br>\ndevice='GPU'; T in [DT_FLOAT]<br>\ndevice='CPU'; T in [DT_FLOAT]<br>\ndevice='CPU'; T in [DT_INT32]</p>\n<pre><code>                                                          \t [[Node: Postprocessor/BatchMultiClassNonMaxSuppression/PadOrClipBoxList/cond/Switch = Switch[T=DT_BOOL](Postprocessor/BatchMultiClassNonMaxSuppression/PadOrClipBoxList/Greater, Postprocessor/BatchMultiClassNonMaxSuppression/PadOrClipBoxList/Greater)]]\n</code></pre>\n<p>Any ideas guys? I've also tried to recompile tensorflow with the changes from <a href=\"url\">https://stackoverflow.com/questions/40855271/no-opkernel-was-registered-to-support-op-switch-with-these-attrs-on-ios/43627334#43627334</a> but bazel crashes while compiling :(</p>", "body_text": "Hey guys! I've been having the same problem trying to make this work on android and I have used some of the solutions from above but none seem to work...here are some of the errors I get back from the various methods of trying to solve this problem...Any Help would be appreciated!\nThe models work when I run it on python but doesn't when I run them on android.\nIm using the SSD_Mobilenet model from tensorflow object detection api.\nThis is from the optimize for inference function:\nNodeDef expected inputs '' do not match 1 inputs specified; Op<name=Const; signature= -> output:dtype; attr=value:tensor; attr=dtype:type>; NodeDef: Preprocessor/map/while/add/y = Constdtype=DT_INT32, value=Tensor<type: int32 shape: [] values: 1>\nThis is from renaming Switch to Identify:\nNot a valid TensorFlow Graph serialization: Node 'Preprocessor/map/while/add/y': Connecting to invalid output 1 of source node Preprocessor/map/while/Switch which has 1 outputs\nThis last one loads the model but crashes when processing the inputs:\njava.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Switch' with these attrs. Registered devices: [CPU], Registered kernels:\ndevice='GPU'; T in [DT_STRING]\ndevice='GPU'; T in [DT_BOOL]\ndevice='GPU'; T in [DT_INT32]\ndevice='GPU'; T in [DT_FLOAT]\ndevice='CPU'; T in [DT_FLOAT]\ndevice='CPU'; T in [DT_INT32]\n                                                          \t [[Node: Postprocessor/BatchMultiClassNonMaxSuppression/PadOrClipBoxList/cond/Switch = Switch[T=DT_BOOL](Postprocessor/BatchMultiClassNonMaxSuppression/PadOrClipBoxList/Greater, Postprocessor/BatchMultiClassNonMaxSuppression/PadOrClipBoxList/Greater)]]\n\nAny ideas guys? I've also tried to recompile tensorflow with the changes from https://stackoverflow.com/questions/40855271/no-opkernel-was-registered-to-support-op-switch-with-these-attrs-on-ios/43627334#43627334 but bazel crashes while compiling :(", "body": "Hey guys! I've been having the same problem trying to make this work on android and I have used some of the solutions from above but none seem to work...here are some of the errors I get back from the various methods of trying to solve this problem...Any Help would be appreciated!\r\n\r\nThe models work when I run it on python but doesn't when I run them on android.\r\n\r\nIm using the SSD_Mobilenet model from tensorflow object detection api.\r\n\r\nThis is from the optimize for inference function:\r\nNodeDef expected inputs '' do not match 1 inputs specified; Op<name=Const; signature= -> output:dtype; attr=value:tensor; attr=dtype:type>; NodeDef: Preprocessor/map/while/add/y = Constdtype=DT_INT32, value=Tensor<type: int32 shape: [] values: 1>\r\n\r\nThis is from renaming Switch to Identify:\r\nNot a valid TensorFlow Graph serialization: Node 'Preprocessor/map/while/add/y': Connecting to invalid output 1 of source node Preprocessor/map/while/Switch which has 1 outputs\r\n\r\nThis last one loads the model but crashes when processing the inputs:\r\njava.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Switch' with these attrs. Registered devices: [CPU], Registered kernels:\r\ndevice='GPU'; T in [DT_STRING]\r\ndevice='GPU'; T in [DT_BOOL]\r\ndevice='GPU'; T in [DT_INT32]\r\ndevice='GPU'; T in [DT_FLOAT]\r\ndevice='CPU'; T in [DT_FLOAT]\r\ndevice='CPU'; T in [DT_INT32]\r\n\r\n                                                              \t [[Node: Postprocessor/BatchMultiClassNonMaxSuppression/PadOrClipBoxList/cond/Switch = Switch[T=DT_BOOL](Postprocessor/BatchMultiClassNonMaxSuppression/PadOrClipBoxList/Greater, Postprocessor/BatchMultiClassNonMaxSuppression/PadOrClipBoxList/Greater)]]\r\nAny ideas guys? I've also tried to recompile tensorflow with the changes from [https://stackoverflow.com/questions/40855271/no-opkernel-was-registered-to-support-op-switch-with-these-attrs-on-ios/43627334#43627334](url) but bazel crashes while compiling :("}