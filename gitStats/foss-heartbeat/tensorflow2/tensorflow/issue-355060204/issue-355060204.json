{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21943", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21943/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21943/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21943/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21943", "id": 355060204, "node_id": "MDU6SXNzdWUzNTUwNjAyMDQ=", "number": 21943, "title": "Can't include no_op in input_map when i import graph_def", "user": {"login": "taehyunkim1527", "id": 25292777, "node_id": "MDQ6VXNlcjI1MjkyNzc3", "avatar_url": "https://avatars0.githubusercontent.com/u/25292777?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taehyunkim1527", "html_url": "https://github.com/taehyunkim1527", "followers_url": "https://api.github.com/users/taehyunkim1527/followers", "following_url": "https://api.github.com/users/taehyunkim1527/following{/other_user}", "gists_url": "https://api.github.com/users/taehyunkim1527/gists{/gist_id}", "starred_url": "https://api.github.com/users/taehyunkim1527/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taehyunkim1527/subscriptions", "organizations_url": "https://api.github.com/users/taehyunkim1527/orgs", "repos_url": "https://api.github.com/users/taehyunkim1527/repos", "events_url": "https://api.github.com/users/taehyunkim1527/events{/privacy}", "received_events_url": "https://api.github.com/users/taehyunkim1527/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-08-29T08:51:24Z", "updated_at": "2018-09-28T22:01:32Z", "closed_at": "2018-09-28T22:01:32Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>TensorFlow version (use command below)</strong>: current master</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Describe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.</p>\n<p>When i pass no_op  into input_map, it makes an error.<br>\ni tracebacked some codes and<br>\nthe function _PopulateTFImportGraphDefOptions() in tensorflow/tensorflow/python/framework/importer.py can't support no_op as a control dependency.</p>\n<p>under the first loop, it registers the input map operation into <code>options</code> when the <code>input_src</code> starts with '^'.<br>\nHowever, <code>no_op</code> doesn't have <code>_as_tf_output()</code> and the line<br>\n<code>dst_op = input_dst._as_tf_output().oper</code> occurs an exception.<br>\nTemporarily, i add the lines<br>\n<code>      src_name, src_idx = _ParseTensorName(input_src[1:])</code><br>\n<code>      src_name = compat.as_str(src_name)</code><br>\n<code>      dst_output = c_api_util.tf_output(input_dst._c_op, -1)</code><br>\n<code>      c_api.TF_ImportGraphDefOptionsAddInputMapping(options, src_name, -1,</code><br>\n<code>                                                    dst_output)</code><br>\ninstead of the lines<br>\n<code>      src_name = compat.as_bytes(input_src[1:])</code><br>\n<code>      dst_op = input_dst._as_tf_output().oper  # pylint: disable=protected-access</code><br>\n<code>      c_api.TF_ImportGraphDefOptionsRemapControlDependency(</code><br>\n<code>          options, src_name, dst_op)</code><br>\nHowever, I hope this problem to be fixed in the next version.</p>\n<p>Thank you</p>\n<h3>Source code / logs</h3>\n<p>Include any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.</p>", "body_text": "System information\n\nTensorFlow version (use command below): current master\n\nDescribe the problem\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\nWhen i pass no_op  into input_map, it makes an error.\ni tracebacked some codes and\nthe function _PopulateTFImportGraphDefOptions() in tensorflow/tensorflow/python/framework/importer.py can't support no_op as a control dependency.\nunder the first loop, it registers the input map operation into options when the input_src starts with '^'.\nHowever, no_op doesn't have _as_tf_output() and the line\ndst_op = input_dst._as_tf_output().oper occurs an exception.\nTemporarily, i add the lines\n      src_name, src_idx = _ParseTensorName(input_src[1:])\n      src_name = compat.as_str(src_name)\n      dst_output = c_api_util.tf_output(input_dst._c_op, -1)\n      c_api.TF_ImportGraphDefOptionsAddInputMapping(options, src_name, -1,\n                                                    dst_output)\ninstead of the lines\n      src_name = compat.as_bytes(input_src[1:])\n      dst_op = input_dst._as_tf_output().oper  # pylint: disable=protected-access\n      c_api.TF_ImportGraphDefOptionsRemapControlDependency(\n          options, src_name, dst_op)\nHowever, I hope this problem to be fixed in the next version.\nThank you\nSource code / logs\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.", "body": "### System information\r\n- **TensorFlow version (use command below)**: current master\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\n\r\nWhen i pass no_op  into input_map, it makes an error.\r\ni tracebacked some codes and \r\nthe function _PopulateTFImportGraphDefOptions() in tensorflow/tensorflow/python/framework/importer.py can't support no_op as a control dependency.\r\n\r\nunder the first loop, it registers the input map operation into `options` when the `input_src` starts with '^'.\r\nHowever, `no_op` doesn't have `_as_tf_output()` and the line\r\n`dst_op = input_dst._as_tf_output().oper` occurs an exception.\r\nTemporarily, i add the lines\r\n`      src_name, src_idx = _ParseTensorName(input_src[1:])`\r\n`      src_name = compat.as_str(src_name)`\r\n`      dst_output = c_api_util.tf_output(input_dst._c_op, -1)`\r\n`      c_api.TF_ImportGraphDefOptionsAddInputMapping(options, src_name, -1,`\r\n`                                                    dst_output)`\r\ninstead of the lines\r\n`      src_name = compat.as_bytes(input_src[1:])`\r\n`      dst_op = input_dst._as_tf_output().oper  # pylint: disable=protected-access`\r\n`      c_api.TF_ImportGraphDefOptionsRemapControlDependency(`\r\n`          options, src_name, dst_op)`\r\nHowever, I hope this problem to be fixed in the next version.\r\n\r\nThank you\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n"}