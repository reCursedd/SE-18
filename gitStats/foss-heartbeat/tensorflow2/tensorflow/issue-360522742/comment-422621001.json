{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/422621001", "html_url": "https://github.com/tensorflow/tensorflow/issues/22291#issuecomment-422621001", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22291", "id": 422621001, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjYyMTAwMQ==", "user": {"login": "akshaym", "id": 122911, "node_id": "MDQ6VXNlcjEyMjkxMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/122911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akshaym", "html_url": "https://github.com/akshaym", "followers_url": "https://api.github.com/users/akshaym/followers", "following_url": "https://api.github.com/users/akshaym/following{/other_user}", "gists_url": "https://api.github.com/users/akshaym/gists{/gist_id}", "starred_url": "https://api.github.com/users/akshaym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akshaym/subscriptions", "organizations_url": "https://api.github.com/users/akshaym/orgs", "repos_url": "https://api.github.com/users/akshaym/repos", "events_url": "https://api.github.com/users/akshaym/events{/privacy}", "received_events_url": "https://api.github.com/users/akshaym/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-19T01:58:58Z", "updated_at": "2018-09-19T01:58:58Z", "author_association": "MEMBER", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=36806042\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Q82822\">@Q82822</a>, it seems from your stacktrace, the problem is simply calling load_image on any image file, but I'm unable to reproduce it at the moment (I downloaded a single file from the coco dataset locally).</p>\n<p>Here is the code I have:</p>\n<pre><code>import tensorflow as tf\ntf.enable_eager_execution()\ndef load_image(image_path):\n  img = tf.read_file(image_path)\n  img = tf.image.decode_jpeg(img, channels=3)\n  img = tf.image.resize_images(img, (224, 224))\n  img = tf.keras.applications.vgg16.preprocess_input(x = img)\n  return img, image_path\n\nload_image('~/Downloads/coco_example.png')\n</code></pre>\n<p>From the error it seems that there is a graph mode tensor involved here somewhere, but reading the code within the tf codebase, I can't find that happens anywhere. Do you have a more isolated reproduction that I can try?</p>\n<p>Thanks!</p>", "body_text": "Hi @Q82822, it seems from your stacktrace, the problem is simply calling load_image on any image file, but I'm unable to reproduce it at the moment (I downloaded a single file from the coco dataset locally).\nHere is the code I have:\nimport tensorflow as tf\ntf.enable_eager_execution()\ndef load_image(image_path):\n  img = tf.read_file(image_path)\n  img = tf.image.decode_jpeg(img, channels=3)\n  img = tf.image.resize_images(img, (224, 224))\n  img = tf.keras.applications.vgg16.preprocess_input(x = img)\n  return img, image_path\n\nload_image('~/Downloads/coco_example.png')\n\nFrom the error it seems that there is a graph mode tensor involved here somewhere, but reading the code within the tf codebase, I can't find that happens anywhere. Do you have a more isolated reproduction that I can try?\nThanks!", "body": "Hi @Q82822, it seems from your stacktrace, the problem is simply calling load_image on any image file, but I'm unable to reproduce it at the moment (I downloaded a single file from the coco dataset locally). \r\n\r\nHere is the code I have: \r\n```\r\nimport tensorflow as tf\r\ntf.enable_eager_execution()\r\ndef load_image(image_path):\r\n  img = tf.read_file(image_path)\r\n  img = tf.image.decode_jpeg(img, channels=3)\r\n  img = tf.image.resize_images(img, (224, 224))\r\n  img = tf.keras.applications.vgg16.preprocess_input(x = img)\r\n  return img, image_path\r\n\r\nload_image('~/Downloads/coco_example.png')\r\n```\r\n\r\nFrom the error it seems that there is a graph mode tensor involved here somewhere, but reading the code within the tf codebase, I can't find that happens anywhere. Do you have a more isolated reproduction that I can try?\r\n\r\nThanks!"}