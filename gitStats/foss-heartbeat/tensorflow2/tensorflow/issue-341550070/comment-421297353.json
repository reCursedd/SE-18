{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/421297353", "html_url": "https://github.com/tensorflow/tensorflow/issues/20842#issuecomment-421297353", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20842", "id": 421297353, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTI5NzM1Mw==", "user": {"login": "vvekic", "id": 4680197, "node_id": "MDQ6VXNlcjQ2ODAxOTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/4680197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vvekic", "html_url": "https://github.com/vvekic", "followers_url": "https://api.github.com/users/vvekic/followers", "following_url": "https://api.github.com/users/vvekic/following{/other_user}", "gists_url": "https://api.github.com/users/vvekic/gists{/gist_id}", "starred_url": "https://api.github.com/users/vvekic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vvekic/subscriptions", "organizations_url": "https://api.github.com/users/vvekic/orgs", "repos_url": "https://api.github.com/users/vvekic/repos", "events_url": "https://api.github.com/users/vvekic/events{/privacy}", "received_events_url": "https://api.github.com/users/vvekic/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-14T09:45:19Z", "updated_at": "2018-09-14T09:45:19Z", "author_association": "NONE", "body_html": "<p>So the new practice is to define layers and then call them with the inputs. All further calls to the same instance of a layer results in underlying variables being reused.<br>\nBut I'd like to use predefined tf.keras models (e.g. <code>tf.keras.applications.resnet50</code>) and define them multiple times (using different devices, for multi-GPU). This simply doesn't work now as the predefined models themselves define new instances of each layer each time they are created.</p>\n<p>Is there a way out of this?</p>", "body_text": "So the new practice is to define layers and then call them with the inputs. All further calls to the same instance of a layer results in underlying variables being reused.\nBut I'd like to use predefined tf.keras models (e.g. tf.keras.applications.resnet50) and define them multiple times (using different devices, for multi-GPU). This simply doesn't work now as the predefined models themselves define new instances of each layer each time they are created.\nIs there a way out of this?", "body": "So the new practice is to define layers and then call them with the inputs. All further calls to the same instance of a layer results in underlying variables being reused.\r\nBut I'd like to use predefined tf.keras models (e.g. `tf.keras.applications.resnet50`) and define them multiple times (using different devices, for multi-GPU). This simply doesn't work now as the predefined models themselves define new instances of each layer each time they are created.\r\n\r\nIs there a way out of this?"}