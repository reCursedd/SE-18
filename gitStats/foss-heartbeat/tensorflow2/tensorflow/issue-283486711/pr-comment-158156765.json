{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/158156765", "pull_request_review_id": 84922260, "id": 158156765, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODE1Njc2NQ==", "diff_hunk": "@@ -196,6 +196,22 @@ class StatusAdaptorForMacros {\n #define TF_STATUS_MACROS_CONCAT_NAME(x, y) TF_STATUS_MACROS_CONCAT_IMPL(x, y)\n #define TF_STATUS_MACROS_CONCAT_IMPL(x, y) x##y\n \n+#ifdef _MSC_VER\n+\n+#define TF_ASSIGN_OR_RETURN(lhs, rexpr)                                   \\\n+  TF_ASSIGN_OR_RETURN_IMPL(TF_STATUS_MACROS_CONCAT_NAME(_status_or_value, \\\n+                                                        __COUNTER__),     \\\n+                           lhs, rexpr)\n+\n+#define TF_ASSIGN_OR_RETURN_IMPL(statusor, lhs, rexpr) \\", "path": "tensorflow/compiler/xla/status_macros.h", "position": null, "original_position": 11, "commit_id": "22fb34830852e1d597f6b702d8141fba87767a5f", "original_commit_id": "907f52cbfa0659f3f25d7d5d894f95245bfc8e1d", "user": {"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}, "body": "I think this is identical to TF_ASSIGN_OR_RETURN_IMPL for the non-msc case.  Let's refactor the code to minimize the differences.", "created_at": "2017-12-20T22:49:47Z", "updated_at": "2017-12-21T01:02:10Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/15515#discussion_r158156765", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15515", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/158156765"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/15515#discussion_r158156765"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15515"}}, "body_html": "<p>I think this is identical to TF_ASSIGN_OR_RETURN_IMPL for the non-msc case.  Let's refactor the code to minimize the differences.</p>", "body_text": "I think this is identical to TF_ASSIGN_OR_RETURN_IMPL for the non-msc case.  Let's refactor the code to minimize the differences."}