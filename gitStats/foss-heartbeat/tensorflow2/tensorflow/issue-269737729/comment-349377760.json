{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/349377760", "html_url": "https://github.com/tensorflow/tensorflow/issues/14107#issuecomment-349377760", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14107", "id": 349377760, "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTM3Nzc2MA==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-05T17:27:13Z", "updated_at": "2017-12-05T17:33:57Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4131870\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/songgc\">@songgc</a> btw, I've recently <a href=\"https://github.com/yaroslavvb/stuff/tree/master/cluster/imagenet64\">experimented</a> with scripts from \"High Performance Models\" and have not observed CPU starvation/speed degradation on TF 1.4, even when running on V100 GPUs which put much more pressure on CPU</p>\n<p>So the way to isolate the problem would be to see what the problematic script is doing that that <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23486130\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tfboyd\">@tfboyd</a>'s reference scripts are not doing (ie are they using probably-will-be-deprecated Queue's to read data?).</p>\n<p>Also, the official resnet-50 performance has been stable since September (although it doesn't rule out degradation from 1.3 which was last summer). It uses fixed image size with autotune enabled, so that's another thing to try</p>\n<p><a href=\"https://benchmarks-dot-tensorflow-testing.appspot.com/test/tf-cnn-benchmark-resnet50\" rel=\"nofollow\">https://benchmarks-dot-tensorflow-testing.appspot.com/test/tf-cnn-benchmark-resnet50</a></p>", "body_text": "@songgc btw, I've recently experimented with scripts from \"High Performance Models\" and have not observed CPU starvation/speed degradation on TF 1.4, even when running on V100 GPUs which put much more pressure on CPU\nSo the way to isolate the problem would be to see what the problematic script is doing that that @tfboyd's reference scripts are not doing (ie are they using probably-will-be-deprecated Queue's to read data?).\nAlso, the official resnet-50 performance has been stable since September (although it doesn't rule out degradation from 1.3 which was last summer). It uses fixed image size with autotune enabled, so that's another thing to try\nhttps://benchmarks-dot-tensorflow-testing.appspot.com/test/tf-cnn-benchmark-resnet50", "body": "@songgc btw, I've recently [experimented](https://github.com/yaroslavvb/stuff/tree/master/cluster/imagenet64) with scripts from \"High Performance Models\" and have not observed CPU starvation/speed degradation on TF 1.4, even when running on V100 GPUs which put much more pressure on CPU\r\n\r\nSo the way to isolate the problem would be to see what the problematic script is doing that that @tfboyd's reference scripts are not doing (ie are they using probably-will-be-deprecated Queue's to read data?).\r\n\r\nAlso, the official resnet-50 performance has been stable since September (although it doesn't rule out degradation from 1.3 which was last summer). It uses fixed image size with autotune enabled, so that's another thing to try\r\n\r\nhttps://benchmarks-dot-tensorflow-testing.appspot.com/test/tf-cnn-benchmark-resnet50"}