{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/427189186", "html_url": "https://github.com/tensorflow/tensorflow/issues/21574#issuecomment-427189186", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21574", "id": 427189186, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzE4OTE4Ng==", "user": {"login": "saurabh-kachhia", "id": 39469626, "node_id": "MDQ6VXNlcjM5NDY5NjI2", "avatar_url": "https://avatars3.githubusercontent.com/u/39469626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saurabh-kachhia", "html_url": "https://github.com/saurabh-kachhia", "followers_url": "https://api.github.com/users/saurabh-kachhia/followers", "following_url": "https://api.github.com/users/saurabh-kachhia/following{/other_user}", "gists_url": "https://api.github.com/users/saurabh-kachhia/gists{/gist_id}", "starred_url": "https://api.github.com/users/saurabh-kachhia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saurabh-kachhia/subscriptions", "organizations_url": "https://api.github.com/users/saurabh-kachhia/orgs", "repos_url": "https://api.github.com/users/saurabh-kachhia/repos", "events_url": "https://api.github.com/users/saurabh-kachhia/events{/privacy}", "received_events_url": "https://api.github.com/users/saurabh-kachhia/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-04T22:24:34Z", "updated_at": "2018-10-04T22:24:34Z", "author_association": "NONE", "body_html": "<p>I tried to install Tensorflow <strong>using PIP install</strong> on my Raspberry Pi3 B+ (Raspbian Stretch - June 2018 Version) and when I tried to run the sample label_image.py example I faced the same error. i.e.</p>\n<p><code>(ImportError: /home/pi/.local/lib/python3.5/site-packages/tensorflow/contrib/lite/python/interpreter_wrapper/_tensorflow_wrap_interpreter_wrapper.so: undefined symbol: _ZN6tflite12tensor_utils39NeonMatrixBatchVectorMultiplyAccumulateEPKaiiS2_PKfiPfi)</code></p>\n<p>So I tried another way and build the <strong>Cross Compile Package</strong> using latest Tensorflow code from master branch and after installing the package on pi I am facing this error -</p>\n<pre><code>Traceback (most recent call last):\n  File \"label_image.py\", line 37, in &lt;module&gt;\n    interpreter = tf.contrib.lite.Interpreter(model_path=args.model_file)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\n    module = self._load()\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\n    module = importlib.import_module(self.__name__)\n  File \"/usr/lib/python3.4/importlib/__init__.py\", line 109, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 2254, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 2237, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 2226, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1200, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1129, in _exec\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1471, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 321, in _call_with_frames_removed\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/__init__.py\", line 48, in &lt;module&gt;\n    from tensorflow.contrib import distribute\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/__init__.py\", line 34, in &lt;module&gt;\n    from tensorflow.contrib.distribute.python.tpu_strategy import TPUStrategy\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/python/tpu_strategy.py\", line 27, in &lt;module&gt;\n    from tensorflow.contrib.tpu.python.ops import tpu_ops\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/__init__.py\", line 69, in &lt;module&gt;\n    from tensorflow.contrib.tpu.python.ops.tpu_ops import *\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/python/ops/tpu_ops.py\", line 39, in &lt;module&gt;\n    resource_loader.get_path_to_datafile(\"_tpu_ops.so\"))\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/util/loader.py\", line 56, in load_op_library\n    ret = load_library.load_op_library(path)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/load_library.py\", line 60, in load_op_library\n    lib_handle = py_tf.TF_LoadLibrary(library_filename)\n\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Invalid name: \n\nAn op that loads optimization parameters into HBM for embedding. Must be\npreceded by a ConfigureTPUEmbeddingHost op that sets up the correct\nembedding table configuration. For example, this op is used to install\nparameters that are loaded from a checkpoint before a training loop is\nexecuted.\n</code></pre>", "body_text": "I tried to install Tensorflow using PIP install on my Raspberry Pi3 B+ (Raspbian Stretch - June 2018 Version) and when I tried to run the sample label_image.py example I faced the same error. i.e.\n(ImportError: /home/pi/.local/lib/python3.5/site-packages/tensorflow/contrib/lite/python/interpreter_wrapper/_tensorflow_wrap_interpreter_wrapper.so: undefined symbol: _ZN6tflite12tensor_utils39NeonMatrixBatchVectorMultiplyAccumulateEPKaiiS2_PKfiPfi)\nSo I tried another way and build the Cross Compile Package using latest Tensorflow code from master branch and after installing the package on pi I am facing this error -\nTraceback (most recent call last):\n  File \"label_image.py\", line 37, in <module>\n    interpreter = tf.contrib.lite.Interpreter(model_path=args.model_file)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\n    module = self._load()\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\n    module = importlib.import_module(self.__name__)\n  File \"/usr/lib/python3.4/importlib/__init__.py\", line 109, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"<frozen importlib._bootstrap>\", line 2254, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 2226, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 1200, in _load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 1129, in _exec\n  File \"<frozen importlib._bootstrap>\", line 1471, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 321, in _call_with_frames_removed\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/__init__.py\", line 48, in <module>\n    from tensorflow.contrib import distribute\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/__init__.py\", line 34, in <module>\n    from tensorflow.contrib.distribute.python.tpu_strategy import TPUStrategy\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/python/tpu_strategy.py\", line 27, in <module>\n    from tensorflow.contrib.tpu.python.ops import tpu_ops\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/__init__.py\", line 69, in <module>\n    from tensorflow.contrib.tpu.python.ops.tpu_ops import *\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/python/ops/tpu_ops.py\", line 39, in <module>\n    resource_loader.get_path_to_datafile(\"_tpu_ops.so\"))\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/util/loader.py\", line 56, in load_op_library\n    ret = load_library.load_op_library(path)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/load_library.py\", line 60, in load_op_library\n    lib_handle = py_tf.TF_LoadLibrary(library_filename)\n\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Invalid name: \n\nAn op that loads optimization parameters into HBM for embedding. Must be\npreceded by a ConfigureTPUEmbeddingHost op that sets up the correct\nembedding table configuration. For example, this op is used to install\nparameters that are loaded from a checkpoint before a training loop is\nexecuted.", "body": "I tried to install Tensorflow **using PIP install** on my Raspberry Pi3 B+ (Raspbian Stretch - June 2018 Version) and when I tried to run the sample label_image.py example I faced the same error. i.e.\r\n\r\n`(ImportError: /home/pi/.local/lib/python3.5/site-packages/tensorflow/contrib/lite/python/interpreter_wrapper/_tensorflow_wrap_interpreter_wrapper.so: undefined symbol: _ZN6tflite12tensor_utils39NeonMatrixBatchVectorMultiplyAccumulateEPKaiiS2_PKfiPfi)`\r\n\r\n\r\nSo I tried another way and build the **Cross Compile Package** using latest Tensorflow code from master branch and after installing the package on pi I am facing this error - \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"label_image.py\", line 37, in <module>\r\n    interpreter = tf.contrib.lite.Interpreter(model_path=args.model_file)\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\r\n    module = self._load()\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\r\n    module = importlib.import_module(self.__name__)\r\n  File \"/usr/lib/python3.4/importlib/__init__.py\", line 109, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 2254, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 2226, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 1200, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 1129, in _exec\r\n  File \"<frozen importlib._bootstrap>\", line 1471, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 321, in _call_with_frames_removed\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/__init__.py\", line 48, in <module>\r\n    from tensorflow.contrib import distribute\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/__init__.py\", line 34, in <module>\r\n    from tensorflow.contrib.distribute.python.tpu_strategy import TPUStrategy\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/python/tpu_strategy.py\", line 27, in <module>\r\n    from tensorflow.contrib.tpu.python.ops import tpu_ops\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/__init__.py\", line 69, in <module>\r\n    from tensorflow.contrib.tpu.python.ops.tpu_ops import *\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/python/ops/tpu_ops.py\", line 39, in <module>\r\n    resource_loader.get_path_to_datafile(\"_tpu_ops.so\"))\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/util/loader.py\", line 56, in load_op_library\r\n    ret = load_library.load_op_library(path)\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/load_library.py\", line 60, in load_op_library\r\n    lib_handle = py_tf.TF_LoadLibrary(library_filename)\r\n\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Invalid name: \r\n\r\nAn op that loads optimization parameters into HBM for embedding. Must be\r\npreceded by a ConfigureTPUEmbeddingHost op that sets up the correct\r\nembedding table configuration. For example, this op is used to install\r\nparameters that are loaded from a checkpoint before a training loop is\r\nexecuted.\r\n```\r\n\r\n"}