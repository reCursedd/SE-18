{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/426810416", "html_url": "https://github.com/tensorflow/tensorflow/issues/21574#issuecomment-426810416", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21574", "id": 426810416, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjgxMDQxNg==", "user": {"login": "sharvin-vittappan", "id": 26644008, "node_id": "MDQ6VXNlcjI2NjQ0MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/26644008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sharvin-vittappan", "html_url": "https://github.com/sharvin-vittappan", "followers_url": "https://api.github.com/users/sharvin-vittappan/followers", "following_url": "https://api.github.com/users/sharvin-vittappan/following{/other_user}", "gists_url": "https://api.github.com/users/sharvin-vittappan/gists{/gist_id}", "starred_url": "https://api.github.com/users/sharvin-vittappan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sharvin-vittappan/subscriptions", "organizations_url": "https://api.github.com/users/sharvin-vittappan/orgs", "repos_url": "https://api.github.com/users/sharvin-vittappan/repos", "events_url": "https://api.github.com/users/sharvin-vittappan/events{/privacy}", "received_events_url": "https://api.github.com/users/sharvin-vittappan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-03T21:29:53Z", "updated_at": "2018-10-04T08:30:59Z", "author_association": "NONE", "body_html": "<p>I could resolve this issue by building the tf :1.10 from source natively in raspberrypi.</p>\n<p>Python version 3.5.3<br>\nBuild Command is below.<br>\nbazel build --config opt --local_resources 1024.0,0.5,0.5 <br>\n--copt=-mfpu=neon-vfpv4 <br>\n--copt=-ftree-vectorize <br>\n--copt=-funsafe-math-optimizations <br>\n--copt=-ftree-loop-vectorize <br>\n--copt=-fomit-frame-pointer <br>\n--copt=-DRASPBERRY_PI <br>\n--copt=-D__ARM_NEON__<br>\n--copt=-D__ARM_NEON<br>\n--host_copt=-DRASPBERRY_PI <br>\n//tensorflow/tools/pip_package:build_pip_package</p>\n<p>But I face an assertion error</p>\n<p>/usr/lib/python3/dist-packages/h5py/<strong>init</strong>.py:34: FutureWarning: Conversion of the second argument of issubdtype from <code>float</code> to <code>np.floating</code> is deprecated. In future, it will be treated as <code>np.float64 == np.dtype(float).type</code>.<br>\nfrom ._conv import register_converters as _register_converters<br>\nTraceback (most recent call last):<br>\nFile \"usage_test.py\", line 5, in <br>\ninterpreter = tf.contrib.lite.Interpreter(model_path=\"mobilenet_v1_1.0_224.tflite\")<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in <strong>getattr</strong><br>\nmodule = self._load()<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load<br>\nmodule = importlib.import_module(self.<strong>name</strong>)<br>\nFile \"/usr/lib/python3.5/importlib/<strong>init</strong>.py\", line 126, in import_module<br>\nreturn _bootstrap._gcd_import(name[level:], package, level)<br>\nFile \"\", line 986, in _gcd_import<br>\nFile \"\", line 969, in _find_and_load<br>\nFile \"\", line 958, in _find_and_load_unlocked<br>\nFile \"\", line 673, in _load_unlocked<br>\nFile \"\", line 673, in exec_module<br>\nFile \"\", line 222, in _call_with_frames_removed<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/<strong>init</strong>.py\", line 69, in <br>\nfrom tensorflow.contrib import periodic_resample<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/periodic_resample/<strong>init</strong>.py\", line 22, in <br>\nfrom tensorflow.contrib.periodic_resample.python.ops.periodic_resample_op import periodic_resample<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/periodic_resample/python/ops/periodic_resample_op.py\", line 32, in <br>\nresource_loader.get_path_to_datafile('_periodic_resample_op.so'))<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/util/loader.py\", line 56, in load_op_library<br>\nret = load_library.load_op_library(path)<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/load_library.py\", line 73, in load_op_library<br>\nexec(wrappers, module.<strong>dict</strong>)<br>\nFile \"\", line 317, in <br>\nFile \"\", line 229, in _InitOpDefLibrary<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_registry.py\", line 36, in register_op_list<br>\nassert _registered_ops[op_def.name] == op_def<br>\nAssertionError</p>\n<p>Did anyone face this issue before?</p>", "body_text": "I could resolve this issue by building the tf :1.10 from source natively in raspberrypi.\nPython version 3.5.3\nBuild Command is below.\nbazel build --config opt --local_resources 1024.0,0.5,0.5 \n--copt=-mfpu=neon-vfpv4 \n--copt=-ftree-vectorize \n--copt=-funsafe-math-optimizations \n--copt=-ftree-loop-vectorize \n--copt=-fomit-frame-pointer \n--copt=-DRASPBERRY_PI \n--copt=-D__ARM_NEON__\n--copt=-D__ARM_NEON\n--host_copt=-DRASPBERRY_PI \n//tensorflow/tools/pip_package:build_pip_package\nBut I face an assertion error\n/usr/lib/python3/dist-packages/h5py/init.py:34: FutureWarning: Conversion of the second argument of issubdtype from float to np.floating is deprecated. In future, it will be treated as np.float64 == np.dtype(float).type.\nfrom ._conv import register_converters as _register_converters\nTraceback (most recent call last):\nFile \"usage_test.py\", line 5, in \ninterpreter = tf.contrib.lite.Interpreter(model_path=\"mobilenet_v1_1.0_224.tflite\")\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in getattr\nmodule = self._load()\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\nmodule = importlib.import_module(self.name)\nFile \"/usr/lib/python3.5/importlib/init.py\", line 126, in import_module\nreturn _bootstrap._gcd_import(name[level:], package, level)\nFile \"\", line 986, in _gcd_import\nFile \"\", line 969, in _find_and_load\nFile \"\", line 958, in _find_and_load_unlocked\nFile \"\", line 673, in _load_unlocked\nFile \"\", line 673, in exec_module\nFile \"\", line 222, in _call_with_frames_removed\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/init.py\", line 69, in \nfrom tensorflow.contrib import periodic_resample\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/periodic_resample/init.py\", line 22, in \nfrom tensorflow.contrib.periodic_resample.python.ops.periodic_resample_op import periodic_resample\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/periodic_resample/python/ops/periodic_resample_op.py\", line 32, in \nresource_loader.get_path_to_datafile('_periodic_resample_op.so'))\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/util/loader.py\", line 56, in load_op_library\nret = load_library.load_op_library(path)\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/load_library.py\", line 73, in load_op_library\nexec(wrappers, module.dict)\nFile \"\", line 317, in \nFile \"\", line 229, in _InitOpDefLibrary\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_registry.py\", line 36, in register_op_list\nassert _registered_ops[op_def.name] == op_def\nAssertionError\nDid anyone face this issue before?", "body": "I could resolve this issue by building the tf :1.10 from source natively in raspberrypi.\r\n\r\nPython version 3.5.3\r\nBuild Command is below.\r\nbazel build --config opt --local_resources 1024.0,0.5,0.5 \\\r\n--copt=-mfpu=neon-vfpv4 \\\r\n--copt=-ftree-vectorize \\\r\n--copt=-funsafe-math-optimizations \\\r\n--copt=-ftree-loop-vectorize \\\r\n--copt=-fomit-frame-pointer \\\r\n--copt=-DRASPBERRY_PI \\\r\n--copt=-D__ARM_NEON__\\\r\n--copt=-D__ARM_NEON\\\r\n--host_copt=-DRASPBERRY_PI \\\r\n//tensorflow/tools/pip_package:build_pip_package\r\n\r\nBut I face an assertion error\r\n\r\n\r\n/usr/lib/python3/dist-packages/h5py/__init__.py:34: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\nTraceback (most recent call last):\r\n  File \"usage_test.py\", line 5, in <module>\r\n    interpreter = tf.contrib.lite.Interpreter(model_path=\"mobilenet_v1_1.0_224.tflite\")\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\r\n    module = self._load()\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\r\n    module = importlib.import_module(self.__name__)\r\n  File \"/usr/lib/python3.5/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 969, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 958, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 673, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 673, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 222, in _call_with_frames_removed\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/__init__.py\", line 69, in <module>\r\n    from tensorflow.contrib import periodic_resample\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/periodic_resample/__init__.py\", line 22, in <module>\r\n    from tensorflow.contrib.periodic_resample.python.ops.periodic_resample_op import periodic_resample\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/periodic_resample/python/ops/periodic_resample_op.py\", line 32, in <module>\r\n    resource_loader.get_path_to_datafile('_periodic_resample_op.so'))\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/util/loader.py\", line 56, in load_op_library\r\n    ret = load_library.load_op_library(path)\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/load_library.py\", line 73, in load_op_library\r\n    exec(wrappers, module.__dict__)\r\n  File \"<string>\", line 317, in <module>\r\n  File \"<string>\", line 229, in _InitOpDefLibrary\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/framework/op_def_registry.py\", line 36, in register_op_list\r\n    assert _registered_ops[op_def.name] == op_def\r\nAssertionError\r\n\r\nDid anyone face this issue before?"}