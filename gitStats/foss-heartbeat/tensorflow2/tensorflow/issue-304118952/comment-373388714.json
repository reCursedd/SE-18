{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/373388714", "html_url": "https://github.com/tensorflow/tensorflow/issues/17618#issuecomment-373388714", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17618", "id": 373388714, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzM4ODcxNA==", "user": {"login": "01000001-086", "id": 37230801, "node_id": "MDQ6VXNlcjM3MjMwODAx", "avatar_url": "https://avatars0.githubusercontent.com/u/37230801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/01000001-086", "html_url": "https://github.com/01000001-086", "followers_url": "https://api.github.com/users/01000001-086/followers", "following_url": "https://api.github.com/users/01000001-086/following{/other_user}", "gists_url": "https://api.github.com/users/01000001-086/gists{/gist_id}", "starred_url": "https://api.github.com/users/01000001-086/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/01000001-086/subscriptions", "organizations_url": "https://api.github.com/users/01000001-086/orgs", "repos_url": "https://api.github.com/users/01000001-086/repos", "events_url": "https://api.github.com/users/01000001-086/events{/privacy}", "received_events_url": "https://api.github.com/users/01000001-086/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-15T14:10:44Z", "updated_at": "2018-03-15T14:10:44Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1132593\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/kecsap\">@kecsap</a> Thank you. I was able to compile my test cpp using the command below.</p>\n<pre><code> g++ -I/usr/include/tensorflow-cpp -I/usr/include/tensorflow-cpp/external/nsync/public  -L/usr/lib/tensorflow-cpp tfCpp1.cpp\n</code></pre>\n<p>Now, I am trying to compile it using cmake.</p>\n<pre><code>CMAKE_MINIMUM_REQUIRED(VERSION 3.0)\n\nPROJECT(TEST_TF)\n\nSET(CMAKE_CXX_STANDARD 11)\n\n# Find tensorflow-cpp\nFIND_PACKAGE(TensorFlowCpp REQUIRED PATHS /usr/lib/cmake/tensorflow-cpp)\n\n# Add the tensorflow-cpp paths to the include directories\nINCLUDE_DIRECTORIES(${TENSORFLOWCPP_INCLUDE_DIRS})\n\n# Add a target with your inference codes\nADD_EXECUTABLE(tfCpp1 tfCpp1.cpp)\n\n# Link your application against the shared Tensorflow C++ library\nTARGET_LINK_LIBRARIES(tfCpp1 ${TENSORFLOWCPP_LIBRARIES})\n</code></pre>\n<p>However, I keep getting an error.</p>\n<pre><code>/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `deflate'\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `deflateEnd'\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `inflateInit2_'\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `inflate'\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `deflateInit2_'\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `inflateEnd'\ncollect2: error: ld returned 1 exit status\nCMakeFiles/tfCpp1.dir/build.make:95: recipe for target 'tfCpp1' failed\nmake[2]: *** [tfCpp1] Error 1\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/tfCpp1.dir/all' failed\nmake[1]: *** [CMakeFiles/tfCpp1.dir/all] Error 2\nMakefile:83: recipe for target 'all' failed\nmake: *** [all] Error 2\n</code></pre>\n<p>Can you point out where I missed?</p>", "body_text": "@kecsap Thank you. I was able to compile my test cpp using the command below.\n g++ -I/usr/include/tensorflow-cpp -I/usr/include/tensorflow-cpp/external/nsync/public  -L/usr/lib/tensorflow-cpp tfCpp1.cpp\n\nNow, I am trying to compile it using cmake.\nCMAKE_MINIMUM_REQUIRED(VERSION 3.0)\n\nPROJECT(TEST_TF)\n\nSET(CMAKE_CXX_STANDARD 11)\n\n# Find tensorflow-cpp\nFIND_PACKAGE(TensorFlowCpp REQUIRED PATHS /usr/lib/cmake/tensorflow-cpp)\n\n# Add the tensorflow-cpp paths to the include directories\nINCLUDE_DIRECTORIES(${TENSORFLOWCPP_INCLUDE_DIRS})\n\n# Add a target with your inference codes\nADD_EXECUTABLE(tfCpp1 tfCpp1.cpp)\n\n# Link your application against the shared Tensorflow C++ library\nTARGET_LINK_LIBRARIES(tfCpp1 ${TENSORFLOWCPP_LIBRARIES})\n\nHowever, I keep getting an error.\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `deflate'\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `deflateEnd'\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `inflateInit2_'\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `inflate'\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `deflateInit2_'\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `inflateEnd'\ncollect2: error: ld returned 1 exit status\nCMakeFiles/tfCpp1.dir/build.make:95: recipe for target 'tfCpp1' failed\nmake[2]: *** [tfCpp1] Error 1\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/tfCpp1.dir/all' failed\nmake[1]: *** [CMakeFiles/tfCpp1.dir/all] Error 2\nMakefile:83: recipe for target 'all' failed\nmake: *** [all] Error 2\n\nCan you point out where I missed?", "body": "@kecsap Thank you. I was able to compile my test cpp using the command below.\r\n```\r\n g++ -I/usr/include/tensorflow-cpp -I/usr/include/tensorflow-cpp/external/nsync/public  -L/usr/lib/tensorflow-cpp tfCpp1.cpp\r\n```\r\n\r\nNow, I am trying to compile it using cmake.\r\n```\r\nCMAKE_MINIMUM_REQUIRED(VERSION 3.0)\r\n\r\nPROJECT(TEST_TF)\r\n\r\nSET(CMAKE_CXX_STANDARD 11)\r\n\r\n# Find tensorflow-cpp\r\nFIND_PACKAGE(TensorFlowCpp REQUIRED PATHS /usr/lib/cmake/tensorflow-cpp)\r\n\r\n# Add the tensorflow-cpp paths to the include directories\r\nINCLUDE_DIRECTORIES(${TENSORFLOWCPP_INCLUDE_DIRS})\r\n\r\n# Add a target with your inference codes\r\nADD_EXECUTABLE(tfCpp1 tfCpp1.cpp)\r\n\r\n# Link your application against the shared Tensorflow C++ library\r\nTARGET_LINK_LIBRARIES(tfCpp1 ${TENSORFLOWCPP_LIBRARIES})\r\n```\r\n\r\nHowever, I keep getting an error.\r\n```\r\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `deflate'\r\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `deflateEnd'\r\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `inflateInit2_'\r\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `inflate'\r\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `deflateInit2_'\r\n/usr/lib/tensorflow-cpp/libprotobuf-tf.so: undefined reference to `inflateEnd'\r\ncollect2: error: ld returned 1 exit status\r\nCMakeFiles/tfCpp1.dir/build.make:95: recipe for target 'tfCpp1' failed\r\nmake[2]: *** [tfCpp1] Error 1\r\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/tfCpp1.dir/all' failed\r\nmake[1]: *** [CMakeFiles/tfCpp1.dir/all] Error 2\r\nMakefile:83: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n```\r\n\r\nCan you point out where I missed?"}