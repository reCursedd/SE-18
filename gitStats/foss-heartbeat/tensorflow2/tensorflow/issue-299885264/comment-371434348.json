{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/371434348", "html_url": "https://github.com/tensorflow/tensorflow/issues/17233#issuecomment-371434348", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17233", "id": 371434348, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTQzNDM0OA==", "user": {"login": "niklas88", "id": 264873, "node_id": "MDQ6VXNlcjI2NDg3Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/264873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/niklas88", "html_url": "https://github.com/niklas88", "followers_url": "https://api.github.com/users/niklas88/followers", "following_url": "https://api.github.com/users/niklas88/following{/other_user}", "gists_url": "https://api.github.com/users/niklas88/gists{/gist_id}", "starred_url": "https://api.github.com/users/niklas88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/niklas88/subscriptions", "organizations_url": "https://api.github.com/users/niklas88/orgs", "repos_url": "https://api.github.com/users/niklas88/repos", "events_url": "https://api.github.com/users/niklas88/events{/privacy}", "received_events_url": "https://api.github.com/users/niklas88/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-08T09:41:10Z", "updated_at": "2018-03-08T09:41:10Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=986732\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tatianashp\">@tatianashp</a> ok I've tried integrating <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a> 's <code>align_numpy_tf()</code> again. First I can confirm that with his <code>tf_numpy_benchmark.py</code> I definitely see the slowdown on my setup. However integrating it for my embedding doesn't significantly speed things up. I also tried running with <code>align_numpy_tf()</code> on 1.5 and it's as fast as always (1 second per epoch) but on 1.6 it remains at 1 minute per epoch. So there is still something very weird going on. I still think it's got to be related. So now I'll put together a reproducer, the code isn't too pretty but also not too large.</p>", "body_text": "@tatianashp ok I've tried integrating @yaroslavvb 's align_numpy_tf() again. First I can confirm that with his tf_numpy_benchmark.py I definitely see the slowdown on my setup. However integrating it for my embedding doesn't significantly speed things up. I also tried running with align_numpy_tf() on 1.5 and it's as fast as always (1 second per epoch) but on 1.6 it remains at 1 minute per epoch. So there is still something very weird going on. I still think it's got to be related. So now I'll put together a reproducer, the code isn't too pretty but also not too large.", "body": "@tatianashp ok I've tried integrating @yaroslavvb 's `align_numpy_tf()` again. First I can confirm that with his `tf_numpy_benchmark.py` I definitely see the slowdown on my setup. However integrating it for my embedding doesn't significantly speed things up. I also tried running with `align_numpy_tf()` on 1.5 and it's as fast as always (1 second per epoch) but on 1.6 it remains at 1 minute per epoch. So there is still something very weird going on. I still think it's got to be related. So now I'll put together a reproducer, the code isn't too pretty but also not too large."}