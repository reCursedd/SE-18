{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/429948358", "html_url": "https://github.com/tensorflow/tensorflow/pull/22958#issuecomment-429948358", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22958", "id": 429948358, "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTk0ODM1OA==", "user": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-15T17:46:00Z", "updated_at": "2018-10-15T17:46:00Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=70511\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/girving\">@girving</a> you need to run the <code>api_compatibility_test</code> with py2 or update the goldens manually:</p>\n<pre><code>Issue 1\t: 'path: \"tensorflow.random\"\\ntf_module {\\n  member_method {\\n    name: \"gamma\"\\n  [truncated]... != 'path: \"tensorflow.random\"\\ntf_module {\\n  member_method {\\n    name: \"gamma\"\\n  [truncated]...\n path: \"tensorflow.random\"\n tf_module {\n   member_method {\n     name: \"gamma\"\n     argspec: \"args=[\\'shape\\', \\'alpha\\', \\'beta\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\\"&lt;dtype: \\'float32\\'&gt;\\\", \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"get_seed\"\n     argspec: \"args=[\\'op_seed\\'], varargs=None, keywords=None, defaults=None\"\n   }\n   member_method {\n     name: \"log_uniform_candidate_sampler\"\n     argspec: \"args=[\\'true_classes\\', \\'num_true\\', \\'num_sampled\\', \\'unique\\', \\'range_max\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"multinomial\"\n     argspec: \"args=[\\'logits\\', \\'num_samples\\', \\'seed\\', \\'name\\', \\'output_dtype\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"normal\"\n     argspec: \"args=[\\'shape\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"&lt;dtype: \\'float32\\'&gt;\\\", \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"poisson\"\n     argspec: \"args=[\\'lam\\', \\'shape\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\\"&lt;dtype: \\'float32\\'&gt;\\\", \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"set_random_seed\"\n     argspec: \"args=[\\'seed\\'], varargs=None, keywords=None, defaults=None\"\n   }\n   member_method {\n     name: \"shuffle\"\n     argspec: \"args=[\\'value\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\'], \"\n   }\n   member_method {\n+     name: \"stateless_multinomial\"\n+     argspec: \"args=[\\'logits\\', \\'num_samples\\', \\'seed\\', \\'output_dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\\"&lt;dtype: \\'int64\\'&gt;\\\", \\'None\\'], \"\n+   }\n+   member_method {\n+     name: \"stateless_normal\"\n+     argspec: \"args=[\\'shape\\', \\'seed\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"&lt;dtype: \\'float32\\'&gt;\\\", \\'None\\'], \"\n+   }\n+   member_method {\n+     name: \"stateless_truncated_normal\"\n+     argspec: \"args=[\\'shape\\', \\'seed\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"&lt;dtype: \\'float32\\'&gt;\\\", \\'None\\'], \"\n+   }\n+   member_method {\n+     name: \"stateless_uniform\"\n+     argspec: \"args=[\\'shape\\', \\'seed\\', \\'minval\\', \\'maxval\\', \\'dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0\\', \\'None\\', \\\"&lt;dtype: \\'float32\\'&gt;\\\", \\'None\\'], \"\n+   }\n+   member_method {\n     name: \"truncated_normal\"\n     argspec: \"args=[\\'shape\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"&lt;dtype: \\'float32\\'&gt;\\\", \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"uniform\"\n     argspec: \"args=[\\'shape\\', \\'minval\\', \\'maxval\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0\\', \\'None\\', \\\"&lt;dtype: \\'float32\\'&gt;\\\", \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"uniform_candidate_sampler\"\n     argspec: \"args=[\\'true_classes\\', \\'num_true\\', \\'num_sampled\\', \\'unique\\', \\'range_max\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\'], \"\n   }\n }\n</code></pre>", "body_text": "@girving you need to run the api_compatibility_test with py2 or update the goldens manually:\nIssue 1\t: 'path: \"tensorflow.random\"\\ntf_module {\\n  member_method {\\n    name: \"gamma\"\\n  [truncated]... != 'path: \"tensorflow.random\"\\ntf_module {\\n  member_method {\\n    name: \"gamma\"\\n  [truncated]...\n path: \"tensorflow.random\"\n tf_module {\n   member_method {\n     name: \"gamma\"\n     argspec: \"args=[\\'shape\\', \\'alpha\\', \\'beta\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"get_seed\"\n     argspec: \"args=[\\'op_seed\\'], varargs=None, keywords=None, defaults=None\"\n   }\n   member_method {\n     name: \"log_uniform_candidate_sampler\"\n     argspec: \"args=[\\'true_classes\\', \\'num_true\\', \\'num_sampled\\', \\'unique\\', \\'range_max\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"multinomial\"\n     argspec: \"args=[\\'logits\\', \\'num_samples\\', \\'seed\\', \\'name\\', \\'output_dtype\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"normal\"\n     argspec: \"args=[\\'shape\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"poisson\"\n     argspec: \"args=[\\'lam\\', \\'shape\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\\"<dtype: \\'float32\\'>\\\", \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"set_random_seed\"\n     argspec: \"args=[\\'seed\\'], varargs=None, keywords=None, defaults=None\"\n   }\n   member_method {\n     name: \"shuffle\"\n     argspec: \"args=[\\'value\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\'], \"\n   }\n   member_method {\n+     name: \"stateless_multinomial\"\n+     argspec: \"args=[\\'logits\\', \\'num_samples\\', \\'seed\\', \\'output_dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\\"<dtype: \\'int64\\'>\\\", \\'None\\'], \"\n+   }\n+   member_method {\n+     name: \"stateless_normal\"\n+     argspec: \"args=[\\'shape\\', \\'seed\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\'], \"\n+   }\n+   member_method {\n+     name: \"stateless_truncated_normal\"\n+     argspec: \"args=[\\'shape\\', \\'seed\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\'], \"\n+   }\n+   member_method {\n+     name: \"stateless_uniform\"\n+     argspec: \"args=[\\'shape\\', \\'seed\\', \\'minval\\', \\'maxval\\', \\'dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0\\', \\'None\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\'], \"\n+   }\n+   member_method {\n     name: \"truncated_normal\"\n     argspec: \"args=[\\'shape\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"uniform\"\n     argspec: \"args=[\\'shape\\', \\'minval\\', \\'maxval\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0\\', \\'None\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\', \\'None\\'], \"\n   }\n   member_method {\n     name: \"uniform_candidate_sampler\"\n     argspec: \"args=[\\'true_classes\\', \\'num_true\\', \\'num_sampled\\', \\'unique\\', \\'range_max\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\'], \"\n   }\n }", "body": "@girving you need to run the `api_compatibility_test` with py2 or update the goldens manually:\r\n ```\r\nIssue 1\t: 'path: \"tensorflow.random\"\\ntf_module {\\n  member_method {\\n    name: \"gamma\"\\n  [truncated]... != 'path: \"tensorflow.random\"\\ntf_module {\\n  member_method {\\n    name: \"gamma\"\\n  [truncated]...\r\n  path: \"tensorflow.random\"\r\n  tf_module {\r\n    member_method {\r\n      name: \"gamma\"\r\n      argspec: \"args=[\\'shape\\', \\'alpha\\', \\'beta\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\', \\'None\\'], \"\r\n    }\r\n    member_method {\r\n      name: \"get_seed\"\r\n      argspec: \"args=[\\'op_seed\\'], varargs=None, keywords=None, defaults=None\"\r\n    }\r\n    member_method {\r\n      name: \"log_uniform_candidate_sampler\"\r\n      argspec: \"args=[\\'true_classes\\', \\'num_true\\', \\'num_sampled\\', \\'unique\\', \\'range_max\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\'], \"\r\n    }\r\n    member_method {\r\n      name: \"multinomial\"\r\n      argspec: \"args=[\\'logits\\', \\'num_samples\\', \\'seed\\', \\'name\\', \\'output_dtype\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\', \\'None\\'], \"\r\n    }\r\n    member_method {\r\n      name: \"normal\"\r\n      argspec: \"args=[\\'shape\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\', \\'None\\'], \"\r\n    }\r\n    member_method {\r\n      name: \"poisson\"\r\n      argspec: \"args=[\\'lam\\', \\'shape\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\\"<dtype: \\'float32\\'>\\\", \\'None\\', \\'None\\'], \"\r\n    }\r\n    member_method {\r\n      name: \"set_random_seed\"\r\n      argspec: \"args=[\\'seed\\'], varargs=None, keywords=None, defaults=None\"\r\n    }\r\n    member_method {\r\n      name: \"shuffle\"\r\n      argspec: \"args=[\\'value\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\'], \"\r\n    }\r\n    member_method {\r\n+     name: \"stateless_multinomial\"\r\n+     argspec: \"args=[\\'logits\\', \\'num_samples\\', \\'seed\\', \\'output_dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\\"<dtype: \\'int64\\'>\\\", \\'None\\'], \"\r\n+   }\r\n+   member_method {\r\n+     name: \"stateless_normal\"\r\n+     argspec: \"args=[\\'shape\\', \\'seed\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\'], \"\r\n+   }\r\n+   member_method {\r\n+     name: \"stateless_truncated_normal\"\r\n+     argspec: \"args=[\\'shape\\', \\'seed\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\'], \"\r\n+   }\r\n+   member_method {\r\n+     name: \"stateless_uniform\"\r\n+     argspec: \"args=[\\'shape\\', \\'seed\\', \\'minval\\', \\'maxval\\', \\'dtype\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0\\', \\'None\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\'], \"\r\n+   }\r\n+   member_method {\r\n      name: \"truncated_normal\"\r\n      argspec: \"args=[\\'shape\\', \\'mean\\', \\'stddev\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0.0\\', \\'1.0\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\', \\'None\\'], \"\r\n    }\r\n    member_method {\r\n      name: \"uniform\"\r\n      argspec: \"args=[\\'shape\\', \\'minval\\', \\'maxval\\', \\'dtype\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'0\\', \\'None\\', \\\"<dtype: \\'float32\\'>\\\", \\'None\\', \\'None\\'], \"\r\n    }\r\n    member_method {\r\n      name: \"uniform_candidate_sampler\"\r\n      argspec: \"args=[\\'true_classes\\', \\'num_true\\', \\'num_sampled\\', \\'unique\\', \\'range_max\\', \\'seed\\', \\'name\\'], varargs=None, keywords=None, defaults=[\\'None\\', \\'None\\'], \"\r\n    }\r\n  }\r\n```"}