{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/253325471", "html_url": "https://github.com/tensorflow/tensorflow/issues/4917#issuecomment-253325471", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4917", "id": 253325471, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzMyNTQ3MQ==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-12T20:14:07Z", "updated_at": "2016-10-12T20:14:07Z", "author_association": "CONTRIBUTOR", "body_html": "<p><code>py_func</code> is a bit special -- it uses the main Python interpreter process to run its Python code, so it can not run while any other Python threads are running because of Global Interpreter Lock. On other hand <code>session.run</code> is supposed to release Global Interpreter Lock. I've never seen anyone use <code>session.run</code> inside <code>py_func</code>, I'm surprised this works at all</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7943790\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zffchen78\">@zffchen78</a> do you see any problems in having py_func call <code>session.run</code>?</p>", "body_text": "py_func is a bit special -- it uses the main Python interpreter process to run its Python code, so it can not run while any other Python threads are running because of Global Interpreter Lock. On other hand session.run is supposed to release Global Interpreter Lock. I've never seen anyone use session.run inside py_func, I'm surprised this works at all\n@zffchen78 do you see any problems in having py_func call session.run?", "body": "`py_func` is a bit special -- it uses the main Python interpreter process to run its Python code, so it can not run while any other Python threads are running because of Global Interpreter Lock. On other hand `session.run` is supposed to release Global Interpreter Lock. I've never seen anyone use `session.run` inside `py_func`, I'm surprised this works at all\n\n@zffchen78 do you see any problems in having py_func call `session.run`?\n"}