{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7014", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7014/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7014/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7014/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7014", "id": 202503053, "node_id": "MDU6SXNzdWUyMDI1MDMwNTM=", "number": 7014, "title": "clip_by_value clips NaN to clip_value_max", "user": {"login": "garibarba", "id": 13115728, "node_id": "MDQ6VXNlcjEzMTE1NzI4", "avatar_url": "https://avatars3.githubusercontent.com/u/13115728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garibarba", "html_url": "https://github.com/garibarba", "followers_url": "https://api.github.com/users/garibarba/followers", "following_url": "https://api.github.com/users/garibarba/following{/other_user}", "gists_url": "https://api.github.com/users/garibarba/gists{/gist_id}", "starred_url": "https://api.github.com/users/garibarba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garibarba/subscriptions", "organizations_url": "https://api.github.com/users/garibarba/orgs", "repos_url": "https://api.github.com/users/garibarba/repos", "events_url": "https://api.github.com/users/garibarba/events{/privacy}", "received_events_url": "https://api.github.com/users/garibarba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 18, "created_at": "2017-01-23T10:58:40Z", "updated_at": "2017-06-16T17:12:48Z", "closed_at": "2017-06-16T17:12:48Z", "author_association": "NONE", "body_html": "<p>Running<br>\n<code>sess.run(tf.clip_by_value(float('nan'), 0.0, 100.0))</code><br>\nreturns <code>100.0</code></p>\n<p>I'm not sure if this is expected behavior or convenient for clipping gradients, but I believe it should return <code>nan</code> (as <code>np.clip()</code> does) or be documented.</p>\n<h3>Environment info</h3>\n<p>Windows 7<br>\nOnly CPU<br>\nPython 3.5.2 from Anaconda<br>\nTensorflow 0.12.0-rc1 installed from binary pip package</p>", "body_text": "Running\nsess.run(tf.clip_by_value(float('nan'), 0.0, 100.0))\nreturns 100.0\nI'm not sure if this is expected behavior or convenient for clipping gradients, but I believe it should return nan (as np.clip() does) or be documented.\nEnvironment info\nWindows 7\nOnly CPU\nPython 3.5.2 from Anaconda\nTensorflow 0.12.0-rc1 installed from binary pip package", "body": "Running \r\n`sess.run(tf.clip_by_value(float('nan'), 0.0, 100.0))`\r\nreturns `100.0`\r\n\r\nI'm not sure if this is expected behavior or convenient for clipping gradients, but I believe it should return `nan` (as `np.clip()` does) or be documented.\r\n\r\n### Environment info\r\nWindows 7\r\nOnly CPU\r\nPython 3.5.2 from Anaconda\r\nTensorflow 0.12.0-rc1 installed from binary pip package"}