{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4350", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4350/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4350/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4350/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4350", "id": 176597582, "node_id": "MDU6SXNzdWUxNzY1OTc1ODI=", "number": 4350, "title": "saver problem", "user": {"login": "fancyerii", "id": 5372812, "node_id": "MDQ6VXNlcjUzNzI4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5372812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fancyerii", "html_url": "https://github.com/fancyerii", "followers_url": "https://api.github.com/users/fancyerii/followers", "following_url": "https://api.github.com/users/fancyerii/following{/other_user}", "gists_url": "https://api.github.com/users/fancyerii/gists{/gist_id}", "starred_url": "https://api.github.com/users/fancyerii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fancyerii/subscriptions", "organizations_url": "https://api.github.com/users/fancyerii/orgs", "repos_url": "https://api.github.com/users/fancyerii/repos", "events_url": "https://api.github.com/users/fancyerii/events{/privacy}", "received_events_url": "https://api.github.com/users/fancyerii/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-09-13T09:52:29Z", "updated_at": "2016-09-24T15:24:33Z", "closed_at": "2016-09-14T04:22:53Z", "author_association": "NONE", "body_html": "<pre><code>saver.save(sess, os.path.join(model_path, 'model'), global_step=epoch)\n</code></pre>\n<p>File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1253, in save<br>\n{self.saver_def.filename_tensor_name: checkpoint_file})<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 717, in run<br>\nrun_metadata_ptr)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 915, in _run<br>\nfeed_dict_string, options, run_metadata)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 965, in _do_run<br>\ntarget_list, options, run_metadata)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 985, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\nResourceExhaustedError: ./model/model-49.tempstate5787507096018461664<br>\n[[Node: save/save = SaveSlices[T=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT,<br>\nDT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Co<br>\nnst_0, save/save/tensor_names, save/save/shapes_and_slices, Wemb, att_W/_2905, att_b/_2907, decode_lstm_W/_2909, decode_lstm_b/_2911, decode_wo<br>\nrd_W/_2913, decode_word_b/_2915, hidden_att_W/_2917, image_att_W/_2919, image_encode_W/_2921, init_hidden_W/_2923, init_hidden_b/_2925, init_me<br>\nmory_W/_2927, init_memory_b/_2929, lstm_U/_2931, lstm_W/_2933, lstm_b/_2935, pre_att_b/_2937)]]<br>\nCaused by op u'save/save', defined at:<br>\nFile \"model_tensorflow.py\", line 345, in <br>\ntrain(pretrained_model_path=None)<br>\nFile \"model_tensorflow.py\", line 261, in train<br>\nsaver = tf.train.Saver(max_to_keep=50)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 966, in <strong>init</strong><br>\nself.build()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 990, in build<br>\nrestore_sequentially=self._restore_sequentially)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 614, in build<br>\nsave_tensor = self._AddSaveOps(filename_tensor, saveables)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 294, in _AddSaveOps<br>\nsave = self.save_op(filename_tensor, saveables)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 240, in save_op<br>\ntensor_slices=tensor_slices)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/io_ops.py\", line 181, in _save<br>\ntensors, name=name)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_io_ops.py\", line 438, in _save_slices<br>\ndata=data, name=name)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 710, in apply_op<br>\nop_def=op_def)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2334, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1253, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>", "body_text": "saver.save(sess, os.path.join(model_path, 'model'), global_step=epoch)\n\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1253, in save\n{self.saver_def.filename_tensor_name: checkpoint_file})\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 717, in run\nrun_metadata_ptr)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 915, in _run\nfeed_dict_string, options, run_metadata)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 965, in _do_run\ntarget_list, options, run_metadata)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 985, in _do_call\nraise type(e)(node_def, op, message)\nResourceExhaustedError: ./model/model-49.tempstate5787507096018461664\n[[Node: save/save = SaveSlices[T=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT,\nDT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Co\nnst_0, save/save/tensor_names, save/save/shapes_and_slices, Wemb, att_W/_2905, att_b/_2907, decode_lstm_W/_2909, decode_lstm_b/_2911, decode_wo\nrd_W/_2913, decode_word_b/_2915, hidden_att_W/_2917, image_att_W/_2919, image_encode_W/_2921, init_hidden_W/_2923, init_hidden_b/_2925, init_me\nmory_W/_2927, init_memory_b/_2929, lstm_U/_2931, lstm_W/_2933, lstm_b/_2935, pre_att_b/_2937)]]\nCaused by op u'save/save', defined at:\nFile \"model_tensorflow.py\", line 345, in \ntrain(pretrained_model_path=None)\nFile \"model_tensorflow.py\", line 261, in train\nsaver = tf.train.Saver(max_to_keep=50)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 966, in init\nself.build()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 990, in build\nrestore_sequentially=self._restore_sequentially)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 614, in build\nsave_tensor = self._AddSaveOps(filename_tensor, saveables)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 294, in _AddSaveOps\nsave = self.save_op(filename_tensor, saveables)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 240, in save_op\ntensor_slices=tensor_slices)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/io_ops.py\", line 181, in _save\ntensors, name=name)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_io_ops.py\", line 438, in _save_slices\ndata=data, name=name)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 710, in apply_op\nop_def=op_def)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2334, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1253, in init\nself._traceback = _extract_stack()", "body": "```\nsaver.save(sess, os.path.join(model_path, 'model'), global_step=epoch)\n```\n\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1253, in save\n    {self.saver_def.filename_tensor_name: checkpoint_file})\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 717, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 915, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 965, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 985, in _do_call\n    raise type(e)(node_def, op, message)\nResourceExhaustedError: ./model/model-49.tempstate5787507096018461664\n         [[Node: save/save = SaveSlices[T=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, \nDT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Co\nnst_0, save/save/tensor_names, save/save/shapes_and_slices, Wemb, att_W/_2905, att_b/_2907, decode_lstm_W/_2909, decode_lstm_b/_2911, decode_wo\nrd_W/_2913, decode_word_b/_2915, hidden_att_W/_2917, image_att_W/_2919, image_encode_W/_2921, init_hidden_W/_2923, init_hidden_b/_2925, init_me\nmory_W/_2927, init_memory_b/_2929, lstm_U/_2931, lstm_W/_2933, lstm_b/_2935, pre_att_b/_2937)]]\nCaused by op u'save/save', defined at:\n  File \"model_tensorflow.py\", line 345, in <module>\n    train(pretrained_model_path=None)\n  File \"model_tensorflow.py\", line 261, in train  \n    saver = tf.train.Saver(max_to_keep=50)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 966, in __init__\n    self.build()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 990, in build\n    restore_sequentially=self._restore_sequentially)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 614, in build\n    save_tensor = self._AddSaveOps(filename_tensor, saveables)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 294, in _AddSaveOps\n    save = self.save_op(filename_tensor, saveables)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 240, in save_op\n    tensor_slices=tensor_slices)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/io_ops.py\", line 181, in _save\n    tensors, name=name)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_io_ops.py\", line 438, in _save_slices\n    data=data, name=name)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 710, in apply_op\n    op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2334, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1253, in __init__\n    self._traceback = _extract_stack()\n"}