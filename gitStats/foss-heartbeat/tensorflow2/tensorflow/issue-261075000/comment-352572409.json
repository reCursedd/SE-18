{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/352572409", "html_url": "https://github.com/tensorflow/tensorflow/issues/13348#issuecomment-352572409", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13348", "id": 352572409, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjU3MjQwOQ==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-18T22:03:36Z", "updated_at": "2017-12-18T22:03:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>This is not an issue with the <code>tf.data</code> API: the <code>h4</code> tensor inherently has an unknown shape, because it depends on flattening a variable-size tensor.</p>\n<p>The problem here is that <code>tf.layers.dense()</code> infers the number of input units in the layer from the shape of the input (<code>h4</code> in this case), and therefore it requires the input to have a static number of columns. However, in your program the number of columns depends on the sequence length, which is variable. You can't use <code>tf.layers.dense()</code> in this case; you must instead use a layer type that accepts variable-sized input, such as an RNN or a convolution.</p>", "body_text": "This is not an issue with the tf.data API: the h4 tensor inherently has an unknown shape, because it depends on flattening a variable-size tensor.\nThe problem here is that tf.layers.dense() infers the number of input units in the layer from the shape of the input (h4 in this case), and therefore it requires the input to have a static number of columns. However, in your program the number of columns depends on the sequence length, which is variable. You can't use tf.layers.dense() in this case; you must instead use a layer type that accepts variable-sized input, such as an RNN or a convolution.", "body": "This is not an issue with the `tf.data` API: the `h4` tensor inherently has an unknown shape, because it depends on flattening a variable-size tensor. \r\n\r\nThe problem here is that `tf.layers.dense()` infers the number of input units in the layer from the shape of the input (`h4` in this case), and therefore it requires the input to have a static number of columns. However, in your program the number of columns depends on the sequence length, which is variable. You can't use `tf.layers.dense()` in this case; you must instead use a layer type that accepts variable-sized input, such as an RNN or a convolution."}