{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/332675865", "html_url": "https://github.com/tensorflow/tensorflow/issues/13348#issuecomment-332675865", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13348", "id": 332675865, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjY3NTg2NQ==", "user": {"login": "Noahyt", "id": 23128135, "node_id": "MDQ6VXNlcjIzMTI4MTM1", "avatar_url": "https://avatars1.githubusercontent.com/u/23128135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Noahyt", "html_url": "https://github.com/Noahyt", "followers_url": "https://api.github.com/users/Noahyt/followers", "following_url": "https://api.github.com/users/Noahyt/following{/other_user}", "gists_url": "https://api.github.com/users/Noahyt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Noahyt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Noahyt/subscriptions", "organizations_url": "https://api.github.com/users/Noahyt/orgs", "repos_url": "https://api.github.com/users/Noahyt/repos", "events_url": "https://api.github.com/users/Noahyt/events{/privacy}", "received_events_url": "https://api.github.com/users/Noahyt/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-27T22:39:15Z", "updated_at": "2017-09-27T22:39:15Z", "author_association": "NONE", "body_html": "<p>Actually this feels like a more general problem ... I just ran into this again when trying to reshape a tensor fed by a dataset iterator.  In this case the code is roughly:</p>\n<pre><code>train_dataset = Dataset.from_tensor_slices({\"image\": features_placeholder_train, \"label\": labels_placeholder_train})\n  iterator = train_dataset.make_initializable_iterator()\n  (next_x_test, next_y_test) = iterator.get_next()\ny_mod = tf.reshape(next_x_test,[-1,x_dim,y_dim,depth])\n\n</code></pre>\n<p>When running this, tensorflow throws</p>\n<blockquote>\n<p>ValueError: Dimension size must be evenly divisible by ___  but is 1 for 'reshape/Reshape' with input shapes: [], [4] and with input tensors computed as partial shapes: input[1] = [?,28,28,1].</p>\n</blockquote>", "body_text": "Actually this feels like a more general problem ... I just ran into this again when trying to reshape a tensor fed by a dataset iterator.  In this case the code is roughly:\ntrain_dataset = Dataset.from_tensor_slices({\"image\": features_placeholder_train, \"label\": labels_placeholder_train})\n  iterator = train_dataset.make_initializable_iterator()\n  (next_x_test, next_y_test) = iterator.get_next()\ny_mod = tf.reshape(next_x_test,[-1,x_dim,y_dim,depth])\n\n\nWhen running this, tensorflow throws\n\nValueError: Dimension size must be evenly divisible by ___  but is 1 for 'reshape/Reshape' with input shapes: [], [4] and with input tensors computed as partial shapes: input[1] = [?,28,28,1].", "body": "Actually this feels like a more general problem ... I just ran into this again when trying to reshape a tensor fed by a dataset iterator.  In this case the code is roughly: \r\n\r\n```\r\ntrain_dataset = Dataset.from_tensor_slices({\"image\": features_placeholder_train, \"label\": labels_placeholder_train})\r\n  iterator = train_dataset.make_initializable_iterator()\r\n  (next_x_test, next_y_test) = iterator.get_next()\r\ny_mod = tf.reshape(next_x_test,[-1,x_dim,y_dim,depth])\r\n\r\n```\r\n When running this, tensorflow throws\r\n \r\n> ValueError: Dimension size must be evenly divisible by ___  but is 1 for 'reshape/Reshape' with input shapes: [], [4] and with input tensors computed as partial shapes: input[1] = [?,28,28,1]. "}