{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/242217339", "html_url": "https://github.com/tensorflow/tensorflow/issues/3851#issuecomment-242217339", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3851", "id": 242217339, "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjIxNzMzOQ==", "user": {"login": "ramnath-k", "id": 2484842, "node_id": "MDQ6VXNlcjI0ODQ4NDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/2484842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ramnath-k", "html_url": "https://github.com/ramnath-k", "followers_url": "https://api.github.com/users/ramnath-k/followers", "following_url": "https://api.github.com/users/ramnath-k/following{/other_user}", "gists_url": "https://api.github.com/users/ramnath-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/ramnath-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ramnath-k/subscriptions", "organizations_url": "https://api.github.com/users/ramnath-k/orgs", "repos_url": "https://api.github.com/users/ramnath-k/repos", "events_url": "https://api.github.com/users/ramnath-k/events{/privacy}", "received_events_url": "https://api.github.com/users/ramnath-k/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-24T21:41:01Z", "updated_at": "2016-08-24T21:44:06Z", "author_association": "NONE", "body_html": "<p>hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=326106\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aselle\">@aselle</a> and <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15792374\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jmchen-g\">@jmchen-g</a> , I think I understand that if some preprocessing is done to extract records from the file and then the record is fed to decode_csv it will work.</p>\n<p>I didn't understand why there is ambiguity in the example you have provided. I was thinking a \\n marks end of record unless it is inside a quoted field. Is that not true? If it is true, then there are three records in your example as there is no quoting.</p>\n<p>Currently there is no CSVReader which can read a single csv record for decode_csv. I think all that is required is to wrap TextLineReader, and read till a \\n, determine if we are within a quoted field. Will counting number of double quotes and seeing if it is odd suffice to validate we are inside a quoted field?</p>\n<p>Then if we are inside quoted field read more lines until number of quotes becomes even. When that happens return the record.</p>\n<p>I don't know how to write this class and replace TextLineReader with this. Can you guide me to write it?</p>", "body_text": "hi @aselle and @jmchen-g , I think I understand that if some preprocessing is done to extract records from the file and then the record is fed to decode_csv it will work.\nI didn't understand why there is ambiguity in the example you have provided. I was thinking a \\n marks end of record unless it is inside a quoted field. Is that not true? If it is true, then there are three records in your example as there is no quoting.\nCurrently there is no CSVReader which can read a single csv record for decode_csv. I think all that is required is to wrap TextLineReader, and read till a \\n, determine if we are within a quoted field. Will counting number of double quotes and seeing if it is odd suffice to validate we are inside a quoted field?\nThen if we are inside quoted field read more lines until number of quotes becomes even. When that happens return the record.\nI don't know how to write this class and replace TextLineReader with this. Can you guide me to write it?", "body": "hi @aselle and @jmchen-g , I think I understand that if some preprocessing is done to extract records from the file and then the record is fed to decode_csv it will work.\n\nI didn't understand why there is ambiguity in the example you have provided. I was thinking a \\n marks end of record unless it is inside a quoted field. Is that not true? If it is true, then there are three records in your example as there is no quoting. \n\nCurrently there is no CSVReader which can read a single csv record for decode_csv. I think all that is required is to wrap TextLineReader, and read till a \\n, determine if we are within a quoted field. Will counting number of double quotes and seeing if it is odd suffice to validate we are inside a quoted field? \n\nThen if we are inside quoted field read more lines until number of quotes becomes even. When that happens return the record.\n\nI don't know how to write this class and replace TextLineReader with this. Can you guide me to write it?\n"}