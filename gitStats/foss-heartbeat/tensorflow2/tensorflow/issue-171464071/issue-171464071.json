{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3851", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3851/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3851/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3851/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3851", "id": 171464071, "node_id": "MDU6SXNzdWUxNzE0NjQwNzE=", "number": 3851, "title": "CSV decode error", "user": {"login": "ramnath-k", "id": 2484842, "node_id": "MDQ6VXNlcjI0ODQ4NDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/2484842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ramnath-k", "html_url": "https://github.com/ramnath-k", "followers_url": "https://api.github.com/users/ramnath-k/followers", "following_url": "https://api.github.com/users/ramnath-k/following{/other_user}", "gists_url": "https://api.github.com/users/ramnath-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/ramnath-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ramnath-k/subscriptions", "organizations_url": "https://api.github.com/users/ramnath-k/orgs", "repos_url": "https://api.github.com/users/ramnath-k/repos", "events_url": "https://api.github.com/users/ramnath-k/events{/privacy}", "received_events_url": "https://api.github.com/users/ramnath-k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2016-08-16T16:49:42Z", "updated_at": "2018-08-16T18:21:52Z", "closed_at": "2018-02-07T23:23:54Z", "author_association": "NONE", "body_html": "<p>I am using Tensorflow 0.9.0. I have CUDA Driver Version = 7.5 and CUDNN 4 on Ubuntu 14.04<br>\nThis maybe related to another issue I found <a href=\"https://github.com/tensorflow/tensorflow/issues/633\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/633/hovercard\">here</a></p>\n<p>I have a simple csv file which has a single line like this</p>\n<pre><code>\"field with\nnewline\",0\n</code></pre>\n<p>where the newline has been added by pressing Enter key in vim on Ubuntu.<br>\nI am able to read this file in pandas using the read_csv function where the text field is shown as containing a single \\n character.</p>\n<p>But when I try to read it in tensorflow, I get the following error:<br>\n<code>tensorflow.python.framework.errors.InvalidArgumentError: Quoted field has to end with quote followed by delim or end</code></p>\n<p>My tensorflow code to read the csv uses this function to read a single row.</p>\n<pre><code>def read_single_example(filename_queue, skip_header_lines, record_defaults, feature_index, label_index):\n    reader = tf.TextLineReader(skip_header_lines=skip_header_lines)\n    key, value = reader.read(filename_queue)\n    record = tf.decode_csv(\n            value,\n            record_defaults=record_defaults)\n    features, label = record[feature_index], record[label_index]\n    return features, label\n</code></pre>\n<p>If I read using pandas and replace all newlines with spaces, the tensorflow code is able to parse the csv successfully.</p>\n<p>But it will be really helpful if newlines can be handled within the Tensorflow CSV pipeline itself.</p>", "body_text": "I am using Tensorflow 0.9.0. I have CUDA Driver Version = 7.5 and CUDNN 4 on Ubuntu 14.04\nThis maybe related to another issue I found here\nI have a simple csv file which has a single line like this\n\"field with\nnewline\",0\n\nwhere the newline has been added by pressing Enter key in vim on Ubuntu.\nI am able to read this file in pandas using the read_csv function where the text field is shown as containing a single \\n character.\nBut when I try to read it in tensorflow, I get the following error:\ntensorflow.python.framework.errors.InvalidArgumentError: Quoted field has to end with quote followed by delim or end\nMy tensorflow code to read the csv uses this function to read a single row.\ndef read_single_example(filename_queue, skip_header_lines, record_defaults, feature_index, label_index):\n    reader = tf.TextLineReader(skip_header_lines=skip_header_lines)\n    key, value = reader.read(filename_queue)\n    record = tf.decode_csv(\n            value,\n            record_defaults=record_defaults)\n    features, label = record[feature_index], record[label_index]\n    return features, label\n\nIf I read using pandas and replace all newlines with spaces, the tensorflow code is able to parse the csv successfully.\nBut it will be really helpful if newlines can be handled within the Tensorflow CSV pipeline itself.", "body": "I am using Tensorflow 0.9.0. I have CUDA Driver Version = 7.5 and CUDNN 4 on Ubuntu 14.04\nThis maybe related to another issue I found [here](https://github.com/tensorflow/tensorflow/issues/633)\n\nI have a simple csv file which has a single line like this\n\n```\n\"field with\nnewline\",0\n```\n\nwhere the newline has been added by pressing Enter key in vim on Ubuntu.\nI am able to read this file in pandas using the read_csv function where the text field is shown as containing a single \\n character.\n\nBut when I try to read it in tensorflow, I get the following error:\n`tensorflow.python.framework.errors.InvalidArgumentError: Quoted field has to end with quote followed by delim or end`\n\nMy tensorflow code to read the csv uses this function to read a single row.\n\n```\ndef read_single_example(filename_queue, skip_header_lines, record_defaults, feature_index, label_index):\n    reader = tf.TextLineReader(skip_header_lines=skip_header_lines)\n    key, value = reader.read(filename_queue)\n    record = tf.decode_csv(\n            value,\n            record_defaults=record_defaults)\n    features, label = record[feature_index], record[label_index]\n    return features, label\n```\n\nIf I read using pandas and replace all newlines with spaces, the tensorflow code is able to parse the csv successfully.\n\nBut it will be really helpful if newlines can be handled within the Tensorflow CSV pipeline itself.\n"}