{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/247971920", "html_url": "https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-247971920", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4105", "id": 247971920, "node_id": "MDEyOklzc3VlQ29tbWVudDI0Nzk3MTkyMA==", "user": {"login": "obo", "id": 192828, "node_id": "MDQ6VXNlcjE5MjgyOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/192828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obo", "html_url": "https://github.com/obo", "followers_url": "https://api.github.com/users/obo/followers", "following_url": "https://api.github.com/users/obo/following{/other_user}", "gists_url": "https://api.github.com/users/obo/gists{/gist_id}", "starred_url": "https://api.github.com/users/obo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obo/subscriptions", "organizations_url": "https://api.github.com/users/obo/orgs", "repos_url": "https://api.github.com/users/obo/repos", "events_url": "https://api.github.com/users/obo/events{/privacy}", "received_events_url": "https://api.github.com/users/obo/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-19T11:46:19Z", "updated_at": "2016-09-19T11:46:44Z", "author_association": "NONE", "body_html": "<p>Hi. I'm getting \"ERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\" as well with:</p>\n<ul>\n<li>bazel: <a href=\"https://github.com/bazelbuild/bazel/releases/download/0.3.1/bazel-0.3.1-installer-linux-x86_64.sh\">https://github.com/bazelbuild/bazel/releases/download/0.3.1/bazel-0.3.1-installer-linux-x86_64.sh</a></li>\n<li>tensorflow: commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/a6c5f8e4e013e54fed8dfcf49fb6de365f018022/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/a6c5f8e4e013e54fed8dfcf49fb6de365f018022\"><tt>a6c5f8e</tt></a> (patched according to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176152825\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4312\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4312/hovercard?comment_id=246109583&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/4312#issuecomment-246109583\">#4312 (comment)</a> to avoid the ios/android errors)</li>\n<li>cuda: <a href=\"http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_7.5-18_amd64.deb\" rel=\"nofollow\">http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_7.5-18_amd64.deb</a></li>\n<li>python 3.5 as package from: sudo add-apt-repository -y ppa:fkrull/deadsnakes; sudo apt-get update;<br>\nsudo apt-get -y install python3.5</li>\n<li>forced to use wheel&gt;0.25.0</li>\n</ul>\n<p>The issue for me happens deterministically, if I run tensorflow ./configure while trying to avoid interactive questions:</p>\n<h1>set vars to avoid interactive</h1>\n<p>export PYTHON_BIN_PATH=/usr/bin/python</p>\n<h2>No way to confirm the following default value to ./util/python/python_config.sh without actually hitting the Return key: :-((</h2>\n<h2>/usr/lib/python3/dist-packages</h2>\n<p>export TF_NEED_GCP=n<br>\nexport TF_NEED_CUDA=y<br>\nexport GCC_HOST_COMPILER_PATH=/usr/bin/gcc<br>\nexport TF_CUDA_VERSION=7.5<br>\nexport CUDA_TOOLKIT_PATH=$CUDA_HOME<br>\nexport TF_CUDNN_VERSION=4<br>\nexport CUDNN_INSTALL_PATH=$CUDA_HOME<br>\nexport TF_CUDA_COMPUTE_CAPABILITIES=3.0</p>\n<p>If I run ./configure without setting the above variables, ie.:</p>\n<p>ubuntu@aws17:~/tensorflow$ ./configure<br>\n~/tensorflow ~/tensorflow<br>\nPlease specify the location of python. [Default is /usr/bin/python]:<br>\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]<br>\nNo Google Cloud Platform support will be enabled for TensorFlow<br>\nFound possible Python library paths:<br>\n/usr/local/lib/python3.5/dist-packages<br>\n/usr/lib/python3/dist-packages<br>\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python3.5/dist-packages]</p>\n<p>/usr/local/lib/python3.5/dist-packages<br>\nDo you wish to build TensorFlow with GPU support? [y/N] y<br>\nGPU support will be enabled for TensorFlow<br>\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:<br>\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]:<br>\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:<br>\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]:<br>\nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:<br>\nlibcudnn.so resolves to libcudnn.4<br>\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.<br>\nYou can find the compute capability of your device at: <a href=\"https://developer.nvidia.com/cuda-gpus\" rel=\"nofollow\">https://developer.nvidia.com/cuda-gpus</a>.<br>\nPlease note that each additional compute capability significantly increases your build time and binary size.</p>\n<p>then the compilation works.</p>\n<p>Note that there is probably no way to pass blank values (indicating \"use the default\" as opposed to undefined values indicating \"I have not answered yet\") for several of the variables. So ./configure in the interactive mode is getting various things blank while the less interactive ./configure has these values filled.</p>", "body_text": "Hi. I'm getting \"ERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\" as well with:\n\nbazel: https://github.com/bazelbuild/bazel/releases/download/0.3.1/bazel-0.3.1-installer-linux-x86_64.sh\ntensorflow: commit a6c5f8e (patched according to #4312 (comment) to avoid the ios/android errors)\ncuda: http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_7.5-18_amd64.deb\npython 3.5 as package from: sudo add-apt-repository -y ppa:fkrull/deadsnakes; sudo apt-get update;\nsudo apt-get -y install python3.5\nforced to use wheel>0.25.0\n\nThe issue for me happens deterministically, if I run tensorflow ./configure while trying to avoid interactive questions:\nset vars to avoid interactive\nexport PYTHON_BIN_PATH=/usr/bin/python\nNo way to confirm the following default value to ./util/python/python_config.sh without actually hitting the Return key: :-((\n/usr/lib/python3/dist-packages\nexport TF_NEED_GCP=n\nexport TF_NEED_CUDA=y\nexport GCC_HOST_COMPILER_PATH=/usr/bin/gcc\nexport TF_CUDA_VERSION=7.5\nexport CUDA_TOOLKIT_PATH=$CUDA_HOME\nexport TF_CUDNN_VERSION=4\nexport CUDNN_INSTALL_PATH=$CUDA_HOME\nexport TF_CUDA_COMPUTE_CAPABILITIES=3.0\nIf I run ./configure without setting the above variables, ie.:\nubuntu@aws17:~/tensorflow$ ./configure\n~/tensorflow ~/tensorflow\nPlease specify the location of python. [Default is /usr/bin/python]:\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\nNo Google Cloud Platform support will be enabled for TensorFlow\nFound possible Python library paths:\n/usr/local/lib/python3.5/dist-packages\n/usr/lib/python3/dist-packages\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python3.5/dist-packages]\n/usr/local/lib/python3.5/dist-packages\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]:\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]:\nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nlibcudnn.so resolves to libcudnn.4\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\nthen the compilation works.\nNote that there is probably no way to pass blank values (indicating \"use the default\" as opposed to undefined values indicating \"I have not answered yet\") for several of the variables. So ./configure in the interactive mode is getting various things blank while the less interactive ./configure has these values filled.", "body": "Hi. I'm getting \"ERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\" as well with:\n- bazel: https://github.com/bazelbuild/bazel/releases/download/0.3.1/bazel-0.3.1-installer-linux-x86_64.sh\n- tensorflow: commit a6c5f8e4e013e54fed8dfcf49fb6de365f018022 (patched according to https://github.com/tensorflow/tensorflow/issues/4312#issuecomment-246109583 to avoid the ios/android errors)\n- cuda: http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_7.5-18_amd64.deb\n- python 3.5 as package from: sudo add-apt-repository -y ppa:fkrull/deadsnakes; sudo apt-get update; \n  sudo apt-get -y install python3.5\n- forced to use wheel>0.25.0\n\nThe issue for me happens deterministically, if I run tensorflow ./configure while trying to avoid interactive questions:\n\n # set vars to avoid interactive\nexport PYTHON_BIN_PATH=/usr/bin/python\n ## No way to confirm the following default value to ./util/python/python_config.sh without actually hitting the Return key: :-((\n ##   /usr/lib/python3/dist-packages\nexport TF_NEED_GCP=n\nexport TF_NEED_CUDA=y\nexport GCC_HOST_COMPILER_PATH=/usr/bin/gcc\nexport TF_CUDA_VERSION=7.5\nexport CUDA_TOOLKIT_PATH=$CUDA_HOME\nexport TF_CUDNN_VERSION=4\nexport CUDNN_INSTALL_PATH=$CUDA_HOME\nexport TF_CUDA_COMPUTE_CAPABILITIES=3.0\n\nIf I run ./configure without setting the above variables, ie.:\n\nubuntu@aws17:~/tensorflow$ ./configure\n~/tensorflow ~/tensorflow\nPlease specify the location of python. [Default is /usr/bin/python]:\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\nNo Google Cloud Platform support will be enabled for TensorFlow\nFound possible Python library paths:\n  /usr/local/lib/python3.5/dist-packages\n  /usr/lib/python3/dist-packages\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python3.5/dist-packages]\n\n/usr/local/lib/python3.5/dist-packages\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]:\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]:\nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nlibcudnn.so resolves to libcudnn.4\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n\nthen the compilation works.\n\nNote that there is probably no way to pass blank values (indicating \"use the default\" as opposed to undefined values indicating \"I have not answered yet\") for several of the variables. So ./configure in the interactive mode is getting various things blank while the less interactive ./configure has these values filled.\n"}