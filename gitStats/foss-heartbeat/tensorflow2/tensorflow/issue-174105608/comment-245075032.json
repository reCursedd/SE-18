{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/245075032", "html_url": "https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-245075032", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4105", "id": 245075032, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTA3NTAzMg==", "user": {"login": "nsuke", "id": 3064114, "node_id": "MDQ6VXNlcjMwNjQxMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3064114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nsuke", "html_url": "https://github.com/nsuke", "followers_url": "https://api.github.com/users/nsuke/followers", "following_url": "https://api.github.com/users/nsuke/following{/other_user}", "gists_url": "https://api.github.com/users/nsuke/gists{/gist_id}", "starred_url": "https://api.github.com/users/nsuke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nsuke/subscriptions", "organizations_url": "https://api.github.com/users/nsuke/orgs", "repos_url": "https://api.github.com/users/nsuke/repos", "events_url": "https://api.github.com/users/nsuke/events{/privacy}", "received_events_url": "https://api.github.com/users/nsuke/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-06T20:11:35Z", "updated_at": "2016-09-06T20:11:35Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5283042\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/davidzchen\">@davidzchen</a> in my case, it turned out that it works fine as long as I don't modify files under <code>third_party/gpus</code> between configure and build.<br>\n(It was due to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175339370\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4233\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/4233/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/4233\">#4233</a> if that matters)</p>\n<p>Here's failure log with your patch:</p>\n<pre><code>$ ./configure\n...\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:119:5: TF_NEED_CUDA: 1.\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:360:3: cuda_configure: _create_cuda_repository.\n...\n$ touch third_party/gpus/cuda_configure.bzl\n$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:122:5: TF_NEED_CUDA not set.\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:304:3: cuda_configure: _create_dummy_repository.\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\nINFO: Elapsed time: 0.553s\n</code></pre>", "body_text": "@davidzchen in my case, it turned out that it works fine as long as I don't modify files under third_party/gpus between configure and build.\n(It was due to #4233 if that matters)\nHere's failure log with your patch:\n$ ./configure\n...\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:119:5: TF_NEED_CUDA: 1.\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:360:3: cuda_configure: _create_cuda_repository.\n...\n$ touch third_party/gpus/cuda_configure.bzl\n$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:122:5: TF_NEED_CUDA not set.\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:304:3: cuda_configure: _create_dummy_repository.\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\nINFO: Elapsed time: 0.553s", "body": "@davidzchen in my case, it turned out that it works fine as long as I don't modify files under `third_party/gpus` between configure and build.\n(It was due to #4233 if that matters)\n\nHere's failure log with your patch:\n\n```\n$ ./configure\n...\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:119:5: TF_NEED_CUDA: 1.\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:360:3: cuda_configure: _create_cuda_repository.\n...\n$ touch third_party/gpus/cuda_configure.bzl\n$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:122:5: TF_NEED_CUDA not set.\nWARNING: /home/nsuke/tensorflow/third_party/gpus/cuda_configure.bzl:304:3: cuda_configure: _create_dummy_repository.\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\nINFO: Elapsed time: 0.553s\n```\n"}