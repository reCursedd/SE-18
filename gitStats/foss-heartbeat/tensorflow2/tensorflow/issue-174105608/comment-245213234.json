{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/245213234", "html_url": "https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-245213234", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4105", "id": 245213234, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTIxMzIzNA==", "user": {"login": "Dapid", "id": 1616942, "node_id": "MDQ6VXNlcjE2MTY5NDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1616942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dapid", "html_url": "https://github.com/Dapid", "followers_url": "https://api.github.com/users/Dapid/followers", "following_url": "https://api.github.com/users/Dapid/following{/other_user}", "gists_url": "https://api.github.com/users/Dapid/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dapid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dapid/subscriptions", "organizations_url": "https://api.github.com/users/Dapid/orgs", "repos_url": "https://api.github.com/users/Dapid/repos", "events_url": "https://api.github.com/users/Dapid/events{/privacy}", "received_events_url": "https://api.github.com/users/Dapid/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-07T08:36:28Z", "updated_at": "2016-09-07T08:36:28Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5283042\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/davidzchen\">@davidzchen</a> I updated the repo (branch r0.10), applied the patch, and here are the results:</p>\n<pre><code>[david@SQUIDS tensorflow]$ ./configure \nPlease specify the location of python. [Default is /home/david/.virtualenvs/py35/bin/python]: \nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: /usr/local/cuda/bin/gcc\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: \nlibcudnn.so resolves to libcudnn.5\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 5.0\nWarning: ignoring LD_PRELOAD in environment.\n.\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\nWarning: ignoring LD_PRELOAD in environment.\n.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:95:5: TF_NEED_CUDA: 1.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:336:3: cuda_configure: _create_cuda_repository.\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/boringssl_git/WORKSPACE:1: Workspace name in /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/boringssl_git/WORKSPACE (@boringssl) does not match the name given in the repository's definition (@boringssl_git); this will cause a build error in future versions.\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n[david@SQUIDS tensorflow]$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWarning: ignoring LD_PRELOAD in environment.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:95:5: TF_NEED_CUDA: 1.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:336:3: cuda_configure: _create_cuda_repository.\nWARNING: /home/david/gits/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/bit_depth.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/gemmlowp.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/map.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/output_stages.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/instrumentation.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/profiler.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nINFO: Found 1 target...\nERROR: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/zlib_archive/BUILD:7:1: C++ compilation of rule '@zlib_archive//:zlib' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 35 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from external/zlib_archive/zlib-1.2.8/zconf.h:395:0,\n                 from external/zlib_archive/zlib-1.2.8/zlib.h:34,\n                 from external/zlib_archive/zlib-1.2.8/zutil.h:22,\n                 from external/zlib_archive/zlib-1.2.8/deflate.h:16,\n                 from external/zlib_archive/zlib-1.2.8/deflate.c:52:\n/usr/include/limits.h:123:26: error: no include path in which to search for limits.h\n # include_next &lt;limits.h&gt;\n                          ^\nIn file included from external/zlib_archive/zlib-1.2.8/zconf.h:421:0,\n                 from external/zlib_archive/zlib-1.2.8/zlib.h:34,\n                 from external/zlib_archive/zlib-1.2.8/zutil.h:22,\n                 from external/zlib_archive/zlib-1.2.8/deflate.h:16,\n                 from external/zlib_archive/zlib-1.2.8/deflate.c:52:\n/usr/include/sys/types.h:146:20: fatal error: stddef.h: No such file or directory\n #include &lt;stddef.h&gt;\n                    ^\ncompilation terminated.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 2.827s, Critical Path: 0.40s\n[david@SQUIDS tensorflow]$ bazel build -c opt --config=cuda --verbose_failures //tensorflow/tools/pip_package:build_pip_package\nWarning: ignoring LD_PRELOAD in environment.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:95:5: TF_NEED_CUDA: 1.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:336:3: cuda_configure: _create_cuda_repository.\nWARNING: /home/david/gits/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/bit_depth.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/gemmlowp.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/map.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/output_stages.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/instrumentation.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/profiler.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nINFO: Found 1 target...\nERROR: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/re2/BUILD:9:1: C++ compilation of rule '@re2//:re2' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/execroot/tensorflow &amp;&amp; \\\n  exec env - \\\n    LD_LIBRARY_PATH=/usr/lib64/openmpi/lib:/home/david/.local/modeller9.14/lib/x86_64-intel8:/opt/cudnn/lib64:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64 \\\n    PATH=/usr/lib64/openmpi/bin:/home/david/.local/bin:/home/david/.local/hmmer3.1/bin:/home/david/.virtualenvs/py35/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/data/rosetta_weekly/release_15_19/main/source/bin:/usr/local/cuda/bin:/home/david/.local/bin:/home/david/bin \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -MD -MF bazel-out/local_linux-py3-opt/bin/external/re2/_objs/re2/external/re2/util/strutil.pic.d '-frandom-seed=bazel-out/local_linux-py3-opt/bin/external/re2/_objs/re2/external/re2/util/strutil.pic.o' -fPIC -iquote external/re2 -iquote bazel-out/local_linux-py3-opt/genfiles/external/re2 -iquote external/bazel_tools -iquote bazel-out/local_linux-py3-opt/genfiles/external/bazel_tools -isystem external/re2 -isystem bazel-out/local_linux-py3-opt/genfiles/external/re2 -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/re2/util/strutil.cc -o bazel-out/local_linux-py3-opt/bin/external/re2/_objs/re2/external/re2/util/strutil.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from external/re2/util/util.h:9:0,\n                 from external/re2/util/strutil.cc:5:\n/usr/include/stdio.h:33:21: fatal error: stddef.h: No such file or directory\n # include &lt;stddef.h&gt;\n                     ^\ncompilation terminated.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 0.834s, Critical Path: 0.36s\n\n</code></pre>", "body_text": "@davidzchen I updated the repo (branch r0.10), applied the patch, and here are the results:\n[david@SQUIDS tensorflow]$ ./configure \nPlease specify the location of python. [Default is /home/david/.virtualenvs/py35/bin/python]: \nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: /usr/local/cuda/bin/gcc\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: \nlibcudnn.so resolves to libcudnn.5\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 5.0\nWarning: ignoring LD_PRELOAD in environment.\n.\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\nWarning: ignoring LD_PRELOAD in environment.\n.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:95:5: TF_NEED_CUDA: 1.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:336:3: cuda_configure: _create_cuda_repository.\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/boringssl_git/WORKSPACE:1: Workspace name in /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/boringssl_git/WORKSPACE (@boringssl) does not match the name given in the repository's definition (@boringssl_git); this will cause a build error in future versions.\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n[david@SQUIDS tensorflow]$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWarning: ignoring LD_PRELOAD in environment.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:95:5: TF_NEED_CUDA: 1.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:336:3: cuda_configure: _create_cuda_repository.\nWARNING: /home/david/gits/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/bit_depth.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/gemmlowp.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/map.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/output_stages.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/instrumentation.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/profiler.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nINFO: Found 1 target...\nERROR: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/zlib_archive/BUILD:7:1: C++ compilation of rule '@zlib_archive//:zlib' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 35 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from external/zlib_archive/zlib-1.2.8/zconf.h:395:0,\n                 from external/zlib_archive/zlib-1.2.8/zlib.h:34,\n                 from external/zlib_archive/zlib-1.2.8/zutil.h:22,\n                 from external/zlib_archive/zlib-1.2.8/deflate.h:16,\n                 from external/zlib_archive/zlib-1.2.8/deflate.c:52:\n/usr/include/limits.h:123:26: error: no include path in which to search for limits.h\n # include_next <limits.h>\n                          ^\nIn file included from external/zlib_archive/zlib-1.2.8/zconf.h:421:0,\n                 from external/zlib_archive/zlib-1.2.8/zlib.h:34,\n                 from external/zlib_archive/zlib-1.2.8/zutil.h:22,\n                 from external/zlib_archive/zlib-1.2.8/deflate.h:16,\n                 from external/zlib_archive/zlib-1.2.8/deflate.c:52:\n/usr/include/sys/types.h:146:20: fatal error: stddef.h: No such file or directory\n #include <stddef.h>\n                    ^\ncompilation terminated.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 2.827s, Critical Path: 0.40s\n[david@SQUIDS tensorflow]$ bazel build -c opt --config=cuda --verbose_failures //tensorflow/tools/pip_package:build_pip_package\nWarning: ignoring LD_PRELOAD in environment.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:95:5: TF_NEED_CUDA: 1.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:336:3: cuda_configure: _create_cuda_repository.\nWARNING: /home/david/gits/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/bit_depth.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/gemmlowp.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/map.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/output_stages.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/instrumentation.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/profiler.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nINFO: Found 1 target...\nERROR: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/re2/BUILD:9:1: C++ compilation of rule '@re2//:re2' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/execroot/tensorflow && \\\n  exec env - \\\n    LD_LIBRARY_PATH=/usr/lib64/openmpi/lib:/home/david/.local/modeller9.14/lib/x86_64-intel8:/opt/cudnn/lib64:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64 \\\n    PATH=/usr/lib64/openmpi/bin:/home/david/.local/bin:/home/david/.local/hmmer3.1/bin:/home/david/.virtualenvs/py35/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/data/rosetta_weekly/release_15_19/main/source/bin:/usr/local/cuda/bin:/home/david/.local/bin:/home/david/bin \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -MD -MF bazel-out/local_linux-py3-opt/bin/external/re2/_objs/re2/external/re2/util/strutil.pic.d '-frandom-seed=bazel-out/local_linux-py3-opt/bin/external/re2/_objs/re2/external/re2/util/strutil.pic.o' -fPIC -iquote external/re2 -iquote bazel-out/local_linux-py3-opt/genfiles/external/re2 -iquote external/bazel_tools -iquote bazel-out/local_linux-py3-opt/genfiles/external/bazel_tools -isystem external/re2 -isystem bazel-out/local_linux-py3-opt/genfiles/external/re2 -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/re2/util/strutil.cc -o bazel-out/local_linux-py3-opt/bin/external/re2/_objs/re2/external/re2/util/strutil.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from external/re2/util/util.h:9:0,\n                 from external/re2/util/strutil.cc:5:\n/usr/include/stdio.h:33:21: fatal error: stddef.h: No such file or directory\n # include <stddef.h>\n                     ^\ncompilation terminated.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 0.834s, Critical Path: 0.36s", "body": "@davidzchen I updated the repo (branch r0.10), applied the patch, and here are the results:\n\n```\n[david@SQUIDS tensorflow]$ ./configure \nPlease specify the location of python. [Default is /home/david/.virtualenvs/py35/bin/python]: \nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: /usr/local/cuda/bin/gcc\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: \nlibcudnn.so resolves to libcudnn.5\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 5.0\nWarning: ignoring LD_PRELOAD in environment.\n.\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\nWarning: ignoring LD_PRELOAD in environment.\n.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:95:5: TF_NEED_CUDA: 1.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:336:3: cuda_configure: _create_cuda_repository.\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/boringssl_git/WORKSPACE:1: Workspace name in /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/boringssl_git/WORKSPACE (@boringssl) does not match the name given in the repository's definition (@boringssl_git); this will cause a build error in future versions.\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n[david@SQUIDS tensorflow]$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWarning: ignoring LD_PRELOAD in environment.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:95:5: TF_NEED_CUDA: 1.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:336:3: cuda_configure: _create_cuda_repository.\nWARNING: /home/david/gits/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/bit_depth.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/gemmlowp.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/map.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/output_stages.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/instrumentation.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/profiler.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nINFO: Found 1 target...\nERROR: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/zlib_archive/BUILD:7:1: C++ compilation of rule '@zlib_archive//:zlib' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 35 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from external/zlib_archive/zlib-1.2.8/zconf.h:395:0,\n                 from external/zlib_archive/zlib-1.2.8/zlib.h:34,\n                 from external/zlib_archive/zlib-1.2.8/zutil.h:22,\n                 from external/zlib_archive/zlib-1.2.8/deflate.h:16,\n                 from external/zlib_archive/zlib-1.2.8/deflate.c:52:\n/usr/include/limits.h:123:26: error: no include path in which to search for limits.h\n # include_next <limits.h>\n                          ^\nIn file included from external/zlib_archive/zlib-1.2.8/zconf.h:421:0,\n                 from external/zlib_archive/zlib-1.2.8/zlib.h:34,\n                 from external/zlib_archive/zlib-1.2.8/zutil.h:22,\n                 from external/zlib_archive/zlib-1.2.8/deflate.h:16,\n                 from external/zlib_archive/zlib-1.2.8/deflate.c:52:\n/usr/include/sys/types.h:146:20: fatal error: stddef.h: No such file or directory\n #include <stddef.h>\n                    ^\ncompilation terminated.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 2.827s, Critical Path: 0.40s\n[david@SQUIDS tensorflow]$ bazel build -c opt --config=cuda --verbose_failures //tensorflow/tools/pip_package:build_pip_package\nWarning: ignoring LD_PRELOAD in environment.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:95:5: TF_NEED_CUDA: 1.\nWARNING: /home/david/gits/tensorflow/third_party/gpus/cuda_configure.bzl:336:3: cuda_configure: _create_cuda_repository.\nWARNING: /home/david/gits/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/bit_depth.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/gemmlowp.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/map.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/public/output_stages.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/instrumentation.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nWARNING: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/gemmlowp/BUILD:102:12: in hdrs attribute of cc_library rule @gemmlowp//:eight_bit_int_gemm: Artifact 'external/gemmlowp/profiling/profiler.h' is duplicated (through '@gemmlowp//:eight_bit_int_gemm_public_headers' and '@gemmlowp//:gemmlowp_headers').\nINFO: Found 1 target...\nERROR: /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/external/re2/BUILD:9:1: C++ compilation of rule '@re2//:re2' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/david/.cache/bazel/_bazel_david/47d00ffdd2fc0515138a34f138cebd63/execroot/tensorflow && \\\n  exec env - \\\n    LD_LIBRARY_PATH=/usr/lib64/openmpi/lib:/home/david/.local/modeller9.14/lib/x86_64-intel8:/opt/cudnn/lib64:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64 \\\n    PATH=/usr/lib64/openmpi/bin:/home/david/.local/bin:/home/david/.local/hmmer3.1/bin:/home/david/.virtualenvs/py35/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/data/rosetta_weekly/release_15_19/main/source/bin:/usr/local/cuda/bin:/home/david/.local/bin:/home/david/bin \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -MD -MF bazel-out/local_linux-py3-opt/bin/external/re2/_objs/re2/external/re2/util/strutil.pic.d '-frandom-seed=bazel-out/local_linux-py3-opt/bin/external/re2/_objs/re2/external/re2/util/strutil.pic.o' -fPIC -iquote external/re2 -iquote bazel-out/local_linux-py3-opt/genfiles/external/re2 -iquote external/bazel_tools -iquote bazel-out/local_linux-py3-opt/genfiles/external/bazel_tools -isystem external/re2 -isystem bazel-out/local_linux-py3-opt/genfiles/external/re2 -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/re2/util/strutil.cc -o bazel-out/local_linux-py3-opt/bin/external/re2/_objs/re2/external/re2/util/strutil.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from external/re2/util/util.h:9:0,\n                 from external/re2/util/strutil.cc:5:\n/usr/include/stdio.h:33:21: fatal error: stddef.h: No such file or directory\n # include <stddef.h>\n                     ^\ncompilation terminated.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 0.834s, Critical Path: 0.36s\n\n```\n"}