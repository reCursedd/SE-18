{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/245192144", "html_url": "https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-245192144", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4105", "id": 245192144, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTE5MjE0NA==", "user": {"login": "asimonov", "id": 240630, "node_id": "MDQ6VXNlcjI0MDYzMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/240630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimonov", "html_url": "https://github.com/asimonov", "followers_url": "https://api.github.com/users/asimonov/followers", "following_url": "https://api.github.com/users/asimonov/following{/other_user}", "gists_url": "https://api.github.com/users/asimonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimonov/subscriptions", "organizations_url": "https://api.github.com/users/asimonov/orgs", "repos_url": "https://api.github.com/users/asimonov/repos", "events_url": "https://api.github.com/users/asimonov/events{/privacy}", "received_events_url": "https://api.github.com/users/asimonov/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-07T06:56:53Z", "updated_at": "2016-09-07T06:56:53Z", "author_association": "NONE", "body_html": "<p>interesting\u2026</p>\n<p>I just did a pull, re-ran configure then checked that crosstool is there:</p>\n<p>AlexPro:tensorflow alex$ ls -l $(bazel info output_base)/external/local_config_cuda<br>\ntotal 8<br>\n-rw-r--r--   1 alex  wheel  116  7 Sep 00:05 WORKSPACE<br>\ndrwxr-xr-x   5 alex  wheel  170  7 Sep 00:05 crosstool<br>\ndrwxr-xr-x  11 alex  wheel  374  7 Sep 00:05 cuda</p>\n<p>then started the build</p>\n<p>bazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer</p>\n<p>I went through but failed later with 3 errors. Did not have time to check why. But at least the crosstool issue was gone.</p>\n<p>Interestingly when i started build second time it failed with same crosstool issue.</p>\n<blockquote>\n<p>On 7 Sep 2016, at 02:20, David Z. Chen <a href=\"mailto:notifications@github.com\">notifications@github.com</a> wrote:</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=240630\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/asimonov\">@asimonov</a> <a href=\"https://github.com/asimonov\">https://github.com/asimonov</a> There have not been any fixes that went in for cuda_configure since <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/4c49dbebef05442c7e72d6129a30574fcd13f0e1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/4c49dbebef05442c7e72d6129a30574fcd13f0e1\"><tt>4c49dbe</tt></a> <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/4c49dbebef05442c7e72d6129a30574fcd13f0e1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/4c49dbebef05442c7e72d6129a30574fcd13f0e1\"><tt>4c49dbe</tt></a>, which went in 10 days ago and should be related to this issue.</p>\n<p>All: If you are experiencing the '@local_config_cuda//crosstool': BUILD file not found issue, the most likely cause of the problem is that cuda_configure is being re-run during bazel build and is re-configuring with GPU support disabled.</p>\n<p>Are you modifying any files under third_party/gpus between running ./configure and bazel build? If so, then the reason why you are experiencing the error is because Bazel is re-fetching as explained here <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174105608\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4105\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4105/hovercard?comment_id=245110873&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-245110873\">#4105 (comment)</a>. Please explain why you need to do so, and we'll see if we can come up with a solution to avoid that.<br>\nIf not, please follow the instructions here <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174105608\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4105\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4105/hovercard?comment_id=244868298&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-244868298\">#4105 (comment)</a> so that I can have more state on why the error is happening.<br>\n\u2014<br>\nYou are receiving this because you were mentioned.<br>\nReply to this email directly, view it on GitHub <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174105608\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4105\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4105/hovercard?comment_id=245146614&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-245146614\">#4105 (comment)</a>, or mute the thread <a href=\"https://github.com/notifications/unsubscribe-auth/AAOr9sr0Pn6-eGfqbw6p_9DdyW0AydGyks5qnhF0gaJpZM4Jw5M2\">https://github.com/notifications/unsubscribe-auth/AAOr9sr0Pn6-eGfqbw6p_9DdyW0AydGyks5qnhF0gaJpZM4Jw5M2</a>.</p>\n</blockquote>", "body_text": "interesting\u2026\nI just did a pull, re-ran configure then checked that crosstool is there:\nAlexPro:tensorflow alex$ ls -l $(bazel info output_base)/external/local_config_cuda\ntotal 8\n-rw-r--r--   1 alex  wheel  116  7 Sep 00:05 WORKSPACE\ndrwxr-xr-x   5 alex  wheel  170  7 Sep 00:05 crosstool\ndrwxr-xr-x  11 alex  wheel  374  7 Sep 00:05 cuda\nthen started the build\nbazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer\nI went through but failed later with 3 errors. Did not have time to check why. But at least the crosstool issue was gone.\nInterestingly when i started build second time it failed with same crosstool issue.\n\nOn 7 Sep 2016, at 02:20, David Z. Chen notifications@github.com wrote:\n@asimonov https://github.com/asimonov There have not been any fixes that went in for cuda_configure since 4c49dbe 4c49dbe, which went in 10 days ago and should be related to this issue.\nAll: If you are experiencing the '@local_config_cuda//crosstool': BUILD file not found issue, the most likely cause of the problem is that cuda_configure is being re-run during bazel build and is re-configuring with GPU support disabled.\nAre you modifying any files under third_party/gpus between running ./configure and bazel build? If so, then the reason why you are experiencing the error is because Bazel is re-fetching as explained here #4105 (comment). Please explain why you need to do so, and we'll see if we can come up with a solution to avoid that.\nIf not, please follow the instructions here #4105 (comment) so that I can have more state on why the error is happening.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub #4105 (comment), or mute the thread https://github.com/notifications/unsubscribe-auth/AAOr9sr0Pn6-eGfqbw6p_9DdyW0AydGyks5qnhF0gaJpZM4Jw5M2.", "body": "interesting\u2026\n\nI just did a pull, re-ran configure then checked that crosstool is there:\n\nAlexPro:tensorflow alex$ ls -l $(bazel info output_base)/external/local_config_cuda\ntotal 8\n-rw-r--r--   1 alex  wheel  116  7 Sep 00:05 WORKSPACE\ndrwxr-xr-x   5 alex  wheel  170  7 Sep 00:05 crosstool\ndrwxr-xr-x  11 alex  wheel  374  7 Sep 00:05 cuda\n\nthen started the build\n\nbazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer\n\nI went through but failed later with 3 errors. Did not have time to check why. But at least the crosstool issue was gone.\n\nInterestingly when i started build second time it failed with same crosstool issue.\n\n> On 7 Sep 2016, at 02:20, David Z. Chen notifications@github.com wrote:\n> \n> @asimonov https://github.com/asimonov There have not been any fixes that went in for cuda_configure since 4c49dbe https://github.com/tensorflow/tensorflow/commit/4c49dbebef05442c7e72d6129a30574fcd13f0e1, which went in 10 days ago and should be related to this issue.\n> \n> All: If you are experiencing the '@local_config_cuda//crosstool': BUILD file not found issue, the most likely cause of the problem is that cuda_configure is being re-run during bazel build and is re-configuring with GPU support disabled.\n> \n> Are you modifying any files under third_party/gpus between running ./configure and bazel build? If so, then the reason why you are experiencing the error is because Bazel is re-fetching as explained here https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-245110873. Please explain why you need to do so, and we'll see if we can come up with a solution to avoid that.\n> If not, please follow the instructions here https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-244868298 so that I can have more state on why the error is happening.\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub https://github.com/tensorflow/tensorflow/issues/4105#issuecomment-245146614, or mute the thread https://github.com/notifications/unsubscribe-auth/AAOr9sr0Pn6-eGfqbw6p_9DdyW0AydGyks5qnhF0gaJpZM4Jw5M2.\n"}