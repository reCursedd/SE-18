{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/386807627", "html_url": "https://github.com/tensorflow/tensorflow/issues/17479#issuecomment-386807627", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17479", "id": 386807627, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjgwNzYyNw==", "user": {"login": "morganrcu", "id": 4722985, "node_id": "MDQ6VXNlcjQ3MjI5ODU=", "avatar_url": "https://avatars1.githubusercontent.com/u/4722985?v=4", "gravatar_id": "", "url": "https://api.github.com/users/morganrcu", "html_url": "https://github.com/morganrcu", "followers_url": "https://api.github.com/users/morganrcu/followers", "following_url": "https://api.github.com/users/morganrcu/following{/other_user}", "gists_url": "https://api.github.com/users/morganrcu/gists{/gist_id}", "starred_url": "https://api.github.com/users/morganrcu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/morganrcu/subscriptions", "organizations_url": "https://api.github.com/users/morganrcu/orgs", "repos_url": "https://api.github.com/users/morganrcu/repos", "events_url": "https://api.github.com/users/morganrcu/events{/privacy}", "received_events_url": "https://api.github.com/users/morganrcu/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-05T14:00:31Z", "updated_at": "2018-05-05T14:00:31Z", "author_association": "NONE", "body_html": "<p>I've been suffering the same error while compiling tensorflow to run in a pretty outdated cluster machine. I've been able to fix it with the patch proposed in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"272353992\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/bazel/issues/4053\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/4053/hovercard?comment_id=343134886&amp;comment_type=issue_comment\" href=\"https://github.com/bazelbuild/bazel/issues/4053#issuecomment-343134886\">bazelbuild/bazel#4053 (comment)</a><br>\nI'm using self compiled versions of gcc and bazel. My enviornment:</p>\n<p>== cat /etc/issue ===============================================<br>\nLinux pgpu01 2.6.32-696.1.1.el6.x86_64 <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP Tue Mar 21 12:19:18 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux</p>\n<p>== are we in docker =============================================<br>\nNo</p>\n<p>== compiler =====================================================<br>\nc++ (GCC) 6.4.0<br>\nCopyright (C) 2017 Free Software Foundation, Inc.<br>\nThis is free software; see the source for copying conditions.  There is NO<br>\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>\n<p>== uname -a =====================================================<br>\nLinux pgpu01 2.6.32-696.1.1.el6.x86_64 <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP Tue Mar 21 12:19:18 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux</p>\n<p>== check pips ===================================================<br>\nnumpy (1.12.0)<br>\nprotobuf (3.2.0)</p>\n<p>== check for virtualenv =========================================<br>\nTrue</p>\n<p>== tensorflow import ============================================<br>\ntf.VERSION = 1.8.0-rc1<br>\ntf.GIT_VERSION = b'v1.8.0-rc1-1380-g17d877b'<br>\ntf.COMPILER_VERSION = b'v1.8.0-rc1-1380-g17d877b'<br>\nSanity check: array([1], dtype=int32)</p>\n<p>== env ==========================================================<br>\nLD_LIBRARY_PATH /opt/shared/cudatoolkit/9.0/lib64:/opt/shared/cudatoolkit/9.0/lib:/opt/shared/cudatoolkit/9.0/samples/common/lib/linux/x86_64:/opt/shared/cudnn/7.1_cuda-9.0/lib64:/opt/shared/python/3.6.0/lib:/cluster/home/rcilla01/lib64:<br>\nDYLD_LIBRARY_PATH is unset</p>\n<p>== nvidia-smi ===================================================<br>\nSat May  5 09:57:24 2018<br>\n+-----------------------------------------------------------------------------+<br>\n| NVIDIA-SMI 384.66                 Driver Version: 384.66                    |<br>\n|-------------------------------+----------------------+----------------------+<br>\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |<br>\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |<br>\n|===============================+======================+======================|<br>\n|   0  Tesla P100-PCIE...  Off  | 00000000:08:00.0 Off |                    0 |<br>\n| N/A   29C    P0    29W / 250W |      0MiB / 16276MiB |      0%      Default |<br>\n+-------------------------------+----------------------+----------------------+<br>\n|   1  Tesla P100-PCIE...  Off  | 00000000:09:00.0 Off |                    0 |<br>\n| N/A   32C    P0    27W / 250W |      0MiB / 16276MiB |      0%      Default |<br>\n+-------------------------------+----------------------+----------------------+</p>\n<p>+-----------------------------------------------------------------------------+<br>\n| Processes:                                                       GPU Memory |<br>\n|  GPU       PID  Type  Process name                               Usage      |<br>\n|=============================================================================|<br>\n|  No running processes found                                                 |<br>\n+-----------------------------------------------------------------------------+</p>\n<p>== cuda libs  ===================================================</p>", "body_text": "I've been suffering the same error while compiling tensorflow to run in a pretty outdated cluster machine. I've been able to fix it with the patch proposed in bazelbuild/bazel#4053 (comment)\nI'm using self compiled versions of gcc and bazel. My enviornment:\n== cat /etc/issue ===============================================\nLinux pgpu01 2.6.32-696.1.1.el6.x86_64 #1 SMP Tue Mar 21 12:19:18 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux\n== are we in docker =============================================\nNo\n== compiler =====================================================\nc++ (GCC) 6.4.0\nCopyright (C) 2017 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n== uname -a =====================================================\nLinux pgpu01 2.6.32-696.1.1.el6.x86_64 #1 SMP Tue Mar 21 12:19:18 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux\n== check pips ===================================================\nnumpy (1.12.0)\nprotobuf (3.2.0)\n== check for virtualenv =========================================\nTrue\n== tensorflow import ============================================\ntf.VERSION = 1.8.0-rc1\ntf.GIT_VERSION = b'v1.8.0-rc1-1380-g17d877b'\ntf.COMPILER_VERSION = b'v1.8.0-rc1-1380-g17d877b'\nSanity check: array([1], dtype=int32)\n== env ==========================================================\nLD_LIBRARY_PATH /opt/shared/cudatoolkit/9.0/lib64:/opt/shared/cudatoolkit/9.0/lib:/opt/shared/cudatoolkit/9.0/samples/common/lib/linux/x86_64:/opt/shared/cudnn/7.1_cuda-9.0/lib64:/opt/shared/python/3.6.0/lib:/cluster/home/rcilla01/lib64:\nDYLD_LIBRARY_PATH is unset\n== nvidia-smi ===================================================\nSat May  5 09:57:24 2018\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 384.66                 Driver Version: 384.66                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla P100-PCIE...  Off  | 00000000:08:00.0 Off |                    0 |\n| N/A   29C    P0    29W / 250W |      0MiB / 16276MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  Tesla P100-PCIE...  Off  | 00000000:09:00.0 Off |                    0 |\n| N/A   32C    P0    27W / 250W |      0MiB / 16276MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|  No running processes found                                                 |\n+-----------------------------------------------------------------------------+\n== cuda libs  ===================================================", "body": "I've been suffering the same error while compiling tensorflow to run in a pretty outdated cluster machine. I've been able to fix it with the patch proposed in https://github.com/bazelbuild/bazel/issues/4053#issuecomment-343134886\r\nI'm using self compiled versions of gcc and bazel. My enviornment:\r\n\r\n\r\n== cat /etc/issue ===============================================\r\nLinux pgpu01 2.6.32-696.1.1.el6.x86_64 #1 SMP Tue Mar 21 12:19:18 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nc++ (GCC) 6.4.0\r\nCopyright (C) 2017 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n\r\n== uname -a =====================================================\r\nLinux pgpu01 2.6.32-696.1.1.el6.x86_64 #1 SMP Tue Mar 21 12:19:18 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n== check pips ===================================================\r\nnumpy (1.12.0)\r\nprotobuf (3.2.0)\r\n\r\n== check for virtualenv =========================================\r\nTrue\r\n\r\n== tensorflow import ============================================\r\ntf.VERSION = 1.8.0-rc1\r\ntf.GIT_VERSION = b'v1.8.0-rc1-1380-g17d877b'\r\ntf.COMPILER_VERSION = b'v1.8.0-rc1-1380-g17d877b'\r\nSanity check: array([1], dtype=int32)\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH /opt/shared/cudatoolkit/9.0/lib64:/opt/shared/cudatoolkit/9.0/lib:/opt/shared/cudatoolkit/9.0/samples/common/lib/linux/x86_64:/opt/shared/cudnn/7.1_cuda-9.0/lib64:/opt/shared/python/3.6.0/lib:/cluster/home/rcilla01/lib64:\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\nSat May  5 09:57:24 2018       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 384.66                 Driver Version: 384.66                    |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  Tesla P100-PCIE...  Off  | 00000000:08:00.0 Off |                    0 |\r\n| N/A   29C    P0    29W / 250W |      0MiB / 16276MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   1  Tesla P100-PCIE...  Off  | 00000000:09:00.0 Off |                    0 |\r\n| N/A   32C    P0    27W / 250W |      0MiB / 16276MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID  Type  Process name                               Usage      |\r\n|=============================================================================|\r\n|  No running processes found                                                 |\r\n+-----------------------------------------------------------------------------+\r\n\r\n== cuda libs  ==================================================="}