{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/229522543", "html_url": "https://github.com/tensorflow/tensorflow/issues/2940#issuecomment-229522543", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2940", "id": 229522543, "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTUyMjU0Mw==", "user": {"login": "tomnielsen", "id": 1146813, "node_id": "MDQ6VXNlcjExNDY4MTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1146813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomnielsen", "html_url": "https://github.com/tomnielsen", "followers_url": "https://api.github.com/users/tomnielsen/followers", "following_url": "https://api.github.com/users/tomnielsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomnielsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomnielsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomnielsen/subscriptions", "organizations_url": "https://api.github.com/users/tomnielsen/orgs", "repos_url": "https://api.github.com/users/tomnielsen/repos", "events_url": "https://api.github.com/users/tomnielsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomnielsen/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-29T23:48:25Z", "updated_at": "2016-06-29T23:48:25Z", "author_association": "NONE", "body_html": "<p>Just another datapoint. I'm getting the same python crash using<br>\n<code>bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</code></p>\n<p>After Python crashes for <code>bazel build</code> near the end, then<br>\n<code>bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg</code><br>\ngives the error<br>\n<code>error: invalid command 'bdist_wheel'</code><br>\n(Note: the directory <code>/tmp/tensorflow_pkg</code> does not exist. Probably because of the python crash)</p>\n<p>Possible useful config information:</p>\n<pre lang=\"text\"><code>System:\n  System Version:   OS X 10.10.5 (14F1808)\n  Kernel Version:   Darwin 14.5.0\n  Chipset Model:    NVIDIA GeForce GTX 760\n  Type: GPU\n  Bus:  PCIe\n  PCIe Lane Width:  x16\n  VRAM (Total): 4096 MB\n  Vendor:   NVIDIA (0x10de)\n  Device ID:    0x1187\n  Revision ID:  0x00a2\n  ROM Revision: preset 1.0.0\n\n\n&gt; python --version\nPython 2.7.11\n\n&gt; /Developer/NVIDIA/CUDA-7.5/bin/nvcc --version\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2015 NVIDIA Corporation\nBuilt on Thu_Sep_24_00:26:39_CDT_2015\nCuda compilation tools, release 7.5, V7.5.19\n\n&gt;pip --version\npip 8.1.2 from /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages (python 2.7)\n\n&gt; bazel version\nBuild label: 0.2.3-homebrew\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Tue May 17 15:07:33 2016 (1463497653)\nBuild timestamp: 1463497653\nBuild timestamp as int: 1463497653\n</code></pre>\n<p>Crash stack</p>\n<pre lang=\"text\"><code>Crashed Thread:        0  Dispatch queue: com.apple.main-thread\n\nException Type:        EXC_BAD_ACCESS (SIGSEGV)\nException Codes:       KERN_INVALID_ADDRESS at 0x0000000000000000\n\nVM Regions Near 0:\n--&gt; \n    __TEXT                 0000000100000000-0000000100001000 [    4K] r-x/rwx SM=COW  /Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\n\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   libsystem_c.dylib               0x00007fff9666cf92 strlen + 18\n1   _pywrap_tensorflow.so           0x00000001058ff490 perftools::gputools::internal::DsoLoader::GetDsoHandle(tensorflow::StringPiece, void**, perftools::gputools::internal::DsoLoader::LoadKind) + 384\n2   _pywrap_tensorflow.so           0x000000010590000c perftools::gputools::internal::DsoLoader::GetLibcudaDsoHandle(void**) + 188\n3   _pywrap_tensorflow.so           0x0000000105901072 std::__1::__function::__func&lt;tensorflow::Status (*)(void**), std::__1::allocator&lt;tensorflow::Status (*)(void**)&gt;, tensorflow::Status (void**)&gt;::operator()(void**&amp;&amp;) + 18\n4   _pywrap_tensorflow.so           0x000000010590080f perftools::gputools::internal::CachedDsoLoader::FetchHandleResult(std::__1::function&lt;tensorflow::Status (void**)&gt;) + 47\n5   _pywrap_tensorflow.so           0x0000000105900d6f perftools::gputools::internal::CachedDsoLoader::GetLibcudaDsoHandle() + 111\n6   _pywrap_tensorflow.so           0x0000000105982b85 perftools::gputools::initialize_cuda_gpu_executor() + 37\n7   dyld                            0x00007fff63346d4b ImageLoaderMachO::doModInitFunctions(ImageLoader::LinkContext const&amp;) + 265\n8   dyld                            0x00007fff63346ed8 ImageLoaderMachO::doInitialization(ImageLoader::LinkContext const&amp;) + 40\n9   dyld                            0x00007fff633438d1 ImageLoader::recursiveInitialization(ImageLoader::LinkContext const&amp;, unsigned int, ImageLoader::InitializerTimingList&amp;, ImageLoader::UninitedUpwards&amp;) + 305\n10  dyld                            0x00007fff63343758 ImageLoader::processInitializers(ImageLoader::LinkContext const&amp;, unsigned int, ImageLoader::InitializerTimingList&amp;, ImageLoader::UninitedUpwards&amp;) + 138\n11  dyld                            0x00007fff633439c9 ImageLoader::runInitializers(ImageLoader::LinkContext const&amp;, ImageLoader::InitializerTimingList&amp;) + 75\n12  dyld                            0x00007fff633390ca dyld::runInitializers(ImageLoader*) + 89\n13  dyld                            0x00007fff63340231 dlopen + 578\n14  libdyld.dylib                   0x00007fff9005c857 dlopen + 59\n15  org.python.python               0x00000001000fc86f _PyImport_GetDynLoadFunc + 303\n...\n</code></pre>", "body_text": "Just another datapoint. I'm getting the same python crash using\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nAfter Python crashes for bazel build near the end, then\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\ngives the error\nerror: invalid command 'bdist_wheel'\n(Note: the directory /tmp/tensorflow_pkg does not exist. Probably because of the python crash)\nPossible useful config information:\nSystem:\n  System Version:   OS X 10.10.5 (14F1808)\n  Kernel Version:   Darwin 14.5.0\n  Chipset Model:    NVIDIA GeForce GTX 760\n  Type: GPU\n  Bus:  PCIe\n  PCIe Lane Width:  x16\n  VRAM (Total): 4096 MB\n  Vendor:   NVIDIA (0x10de)\n  Device ID:    0x1187\n  Revision ID:  0x00a2\n  ROM Revision: preset 1.0.0\n\n\n> python --version\nPython 2.7.11\n\n> /Developer/NVIDIA/CUDA-7.5/bin/nvcc --version\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2015 NVIDIA Corporation\nBuilt on Thu_Sep_24_00:26:39_CDT_2015\nCuda compilation tools, release 7.5, V7.5.19\n\n>pip --version\npip 8.1.2 from /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages (python 2.7)\n\n> bazel version\nBuild label: 0.2.3-homebrew\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Tue May 17 15:07:33 2016 (1463497653)\nBuild timestamp: 1463497653\nBuild timestamp as int: 1463497653\n\nCrash stack\nCrashed Thread:        0  Dispatch queue: com.apple.main-thread\n\nException Type:        EXC_BAD_ACCESS (SIGSEGV)\nException Codes:       KERN_INVALID_ADDRESS at 0x0000000000000000\n\nVM Regions Near 0:\n--> \n    __TEXT                 0000000100000000-0000000100001000 [    4K] r-x/rwx SM=COW  /Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\n\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   libsystem_c.dylib               0x00007fff9666cf92 strlen + 18\n1   _pywrap_tensorflow.so           0x00000001058ff490 perftools::gputools::internal::DsoLoader::GetDsoHandle(tensorflow::StringPiece, void**, perftools::gputools::internal::DsoLoader::LoadKind) + 384\n2   _pywrap_tensorflow.so           0x000000010590000c perftools::gputools::internal::DsoLoader::GetLibcudaDsoHandle(void**) + 188\n3   _pywrap_tensorflow.so           0x0000000105901072 std::__1::__function::__func<tensorflow::Status (*)(void**), std::__1::allocator<tensorflow::Status (*)(void**)>, tensorflow::Status (void**)>::operator()(void**&&) + 18\n4   _pywrap_tensorflow.so           0x000000010590080f perftools::gputools::internal::CachedDsoLoader::FetchHandleResult(std::__1::function<tensorflow::Status (void**)>) + 47\n5   _pywrap_tensorflow.so           0x0000000105900d6f perftools::gputools::internal::CachedDsoLoader::GetLibcudaDsoHandle() + 111\n6   _pywrap_tensorflow.so           0x0000000105982b85 perftools::gputools::initialize_cuda_gpu_executor() + 37\n7   dyld                            0x00007fff63346d4b ImageLoaderMachO::doModInitFunctions(ImageLoader::LinkContext const&) + 265\n8   dyld                            0x00007fff63346ed8 ImageLoaderMachO::doInitialization(ImageLoader::LinkContext const&) + 40\n9   dyld                            0x00007fff633438d1 ImageLoader::recursiveInitialization(ImageLoader::LinkContext const&, unsigned int, ImageLoader::InitializerTimingList&, ImageLoader::UninitedUpwards&) + 305\n10  dyld                            0x00007fff63343758 ImageLoader::processInitializers(ImageLoader::LinkContext const&, unsigned int, ImageLoader::InitializerTimingList&, ImageLoader::UninitedUpwards&) + 138\n11  dyld                            0x00007fff633439c9 ImageLoader::runInitializers(ImageLoader::LinkContext const&, ImageLoader::InitializerTimingList&) + 75\n12  dyld                            0x00007fff633390ca dyld::runInitializers(ImageLoader*) + 89\n13  dyld                            0x00007fff63340231 dlopen + 578\n14  libdyld.dylib                   0x00007fff9005c857 dlopen + 59\n15  org.python.python               0x00000001000fc86f _PyImport_GetDynLoadFunc + 303\n...", "body": "Just another datapoint. I'm getting the same python crash using \n  `bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package` \n\nAfter Python crashes for `bazel build` near the end, then \n  `bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg` \ngives the error \n  `error: invalid command 'bdist_wheel'` \n(Note: the directory `/tmp/tensorflow_pkg` does not exist. Probably because of the python crash)\n\nPossible useful config information:\n\n``` text\nSystem:\n  System Version:   OS X 10.10.5 (14F1808)\n  Kernel Version:   Darwin 14.5.0\n  Chipset Model:    NVIDIA GeForce GTX 760\n  Type: GPU\n  Bus:  PCIe\n  PCIe Lane Width:  x16\n  VRAM (Total): 4096 MB\n  Vendor:   NVIDIA (0x10de)\n  Device ID:    0x1187\n  Revision ID:  0x00a2\n  ROM Revision: preset 1.0.0\n\n\n> python --version\nPython 2.7.11\n\n> /Developer/NVIDIA/CUDA-7.5/bin/nvcc --version\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2015 NVIDIA Corporation\nBuilt on Thu_Sep_24_00:26:39_CDT_2015\nCuda compilation tools, release 7.5, V7.5.19\n\n>pip --version\npip 8.1.2 from /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages (python 2.7)\n\n> bazel version\nBuild label: 0.2.3-homebrew\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Tue May 17 15:07:33 2016 (1463497653)\nBuild timestamp: 1463497653\nBuild timestamp as int: 1463497653\n```\n\nCrash stack\n\n``` text\nCrashed Thread:        0  Dispatch queue: com.apple.main-thread\n\nException Type:        EXC_BAD_ACCESS (SIGSEGV)\nException Codes:       KERN_INVALID_ADDRESS at 0x0000000000000000\n\nVM Regions Near 0:\n--> \n    __TEXT                 0000000100000000-0000000100001000 [    4K] r-x/rwx SM=COW  /Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\n\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   libsystem_c.dylib               0x00007fff9666cf92 strlen + 18\n1   _pywrap_tensorflow.so           0x00000001058ff490 perftools::gputools::internal::DsoLoader::GetDsoHandle(tensorflow::StringPiece, void**, perftools::gputools::internal::DsoLoader::LoadKind) + 384\n2   _pywrap_tensorflow.so           0x000000010590000c perftools::gputools::internal::DsoLoader::GetLibcudaDsoHandle(void**) + 188\n3   _pywrap_tensorflow.so           0x0000000105901072 std::__1::__function::__func<tensorflow::Status (*)(void**), std::__1::allocator<tensorflow::Status (*)(void**)>, tensorflow::Status (void**)>::operator()(void**&&) + 18\n4   _pywrap_tensorflow.so           0x000000010590080f perftools::gputools::internal::CachedDsoLoader::FetchHandleResult(std::__1::function<tensorflow::Status (void**)>) + 47\n5   _pywrap_tensorflow.so           0x0000000105900d6f perftools::gputools::internal::CachedDsoLoader::GetLibcudaDsoHandle() + 111\n6   _pywrap_tensorflow.so           0x0000000105982b85 perftools::gputools::initialize_cuda_gpu_executor() + 37\n7   dyld                            0x00007fff63346d4b ImageLoaderMachO::doModInitFunctions(ImageLoader::LinkContext const&) + 265\n8   dyld                            0x00007fff63346ed8 ImageLoaderMachO::doInitialization(ImageLoader::LinkContext const&) + 40\n9   dyld                            0x00007fff633438d1 ImageLoader::recursiveInitialization(ImageLoader::LinkContext const&, unsigned int, ImageLoader::InitializerTimingList&, ImageLoader::UninitedUpwards&) + 305\n10  dyld                            0x00007fff63343758 ImageLoader::processInitializers(ImageLoader::LinkContext const&, unsigned int, ImageLoader::InitializerTimingList&, ImageLoader::UninitedUpwards&) + 138\n11  dyld                            0x00007fff633439c9 ImageLoader::runInitializers(ImageLoader::LinkContext const&, ImageLoader::InitializerTimingList&) + 75\n12  dyld                            0x00007fff633390ca dyld::runInitializers(ImageLoader*) + 89\n13  dyld                            0x00007fff63340231 dlopen + 578\n14  libdyld.dylib                   0x00007fff9005c857 dlopen + 59\n15  org.python.python               0x00000001000fc86f _PyImport_GetDynLoadFunc + 303\n...\n```\n"}