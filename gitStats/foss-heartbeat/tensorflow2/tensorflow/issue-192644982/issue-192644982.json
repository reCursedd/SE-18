{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5989", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5989/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5989/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5989/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5989", "id": 192644982, "node_id": "MDU6SXNzdWUxOTI2NDQ5ODI=", "number": 5989, "title": "RuntimeError for minimal RNNCell example", "user": {"login": "lobachevzky", "id": 10344742, "node_id": "MDQ6VXNlcjEwMzQ0NzQy", "avatar_url": "https://avatars2.githubusercontent.com/u/10344742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lobachevzky", "html_url": "https://github.com/lobachevzky", "followers_url": "https://api.github.com/users/lobachevzky/followers", "following_url": "https://api.github.com/users/lobachevzky/following{/other_user}", "gists_url": "https://api.github.com/users/lobachevzky/gists{/gist_id}", "starred_url": "https://api.github.com/users/lobachevzky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lobachevzky/subscriptions", "organizations_url": "https://api.github.com/users/lobachevzky/orgs", "repos_url": "https://api.github.com/users/lobachevzky/repos", "events_url": "https://api.github.com/users/lobachevzky/events{/privacy}", "received_events_url": "https://api.github.com/users/lobachevzky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-11-30T18:39:04Z", "updated_at": "2017-10-05T05:16:47Z", "closed_at": "2017-06-16T16:03:04Z", "author_association": "NONE", "body_html": "<p>I am just trying to get a simple RNNCell to work. This simple code:</p>\n<pre><code>with tf.Session() as sess:\n    x = tf.Variable(np.ones((2, 3)))\n    tf.global_variables_initializer().run()\n    out, state = BasicRNNCell(4)(x, x)\n</code></pre>\n<p>Throws the following error:</p>\n<pre><code>/Users/ethan/env/bin/python /Users/ethan/tf-bug/main.py\nTraceback (most recent call last):\n  File \"/Users/ethan/tf-bug/main.py\", line 8, in &lt;module&gt;\n    out, state = BasicRNNCell(4)(x, x)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell.py\", line 200, in __call__\n    output = self._activation(_linear([inputs, state], self._num_units, True))\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell.py\", line 905, in _linear\n    \"Matrix\", [total_arg_size, output_size], dtype=dtype)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 1024, in get_variable\n    custom_getter=custom_getter)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 850, in get_variable\n    custom_getter=custom_getter)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 346, in get_variable\n    validate_shape=validate_shape)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 331, in _true_getter\n    caching_device=caching_device, validate_shape=validate_shape)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 677, in _get_single_variable\n    expected_shape=shape)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 224, in __init__\n    expected_shape=expected_shape)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 327, in _init_from_args\n    initial_value(), name=\"initial_value\", dtype=dtype)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 665, in &lt;lambda&gt;\n    shape.as_list(), dtype=dtype, partition_info=partition_info)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/init_ops.py\", line 284, in _initializer\n    dtype, seed=seed)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/random_ops.py\", line 231, in random_uniform\n    minval = ops.convert_to_tensor(minval, dtype=dtype, name=\"min\")\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 683, in convert_to_tensor\n    dtype.name, ret.dtype.name))\nRuntimeError: min: Conversion function &lt;function _constant_tensor_conversion_function at 0x10cb461b8&gt; for type &lt;type 'object'&gt; returned incompatible dtype: requested = float64_ref, actual = float64\n\nProcess finished with exit code 1\n</code></pre>\n<p>This is the output of <code>pip show tensorflow</code>:</p>\n<blockquote>\n<p>Name: tensorflow<br>\nVersion: 0.12.0rc0<br>\nSummary: TensorFlow helps the tensors flow<br>\nHome-page: <a href=\"http://tensorflow.org/\" rel=\"nofollow\">http://tensorflow.org/</a><br>\nAuthor: Google Inc.<br>\nAuthor-email: <a href=\"mailto:opensource@google.com\">opensource@google.com</a><br>\nLicense: Apache 2.0<br>\nLocation: /Users/ethan/env/lib/python2.7/site-packages<br>\nRequires: numpy, mock, wheel, six, protobuf</p>\n</blockquote>\n<p>Thanks!</p>", "body_text": "I am just trying to get a simple RNNCell to work. This simple code:\nwith tf.Session() as sess:\n    x = tf.Variable(np.ones((2, 3)))\n    tf.global_variables_initializer().run()\n    out, state = BasicRNNCell(4)(x, x)\n\nThrows the following error:\n/Users/ethan/env/bin/python /Users/ethan/tf-bug/main.py\nTraceback (most recent call last):\n  File \"/Users/ethan/tf-bug/main.py\", line 8, in <module>\n    out, state = BasicRNNCell(4)(x, x)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell.py\", line 200, in __call__\n    output = self._activation(_linear([inputs, state], self._num_units, True))\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell.py\", line 905, in _linear\n    \"Matrix\", [total_arg_size, output_size], dtype=dtype)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 1024, in get_variable\n    custom_getter=custom_getter)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 850, in get_variable\n    custom_getter=custom_getter)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 346, in get_variable\n    validate_shape=validate_shape)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 331, in _true_getter\n    caching_device=caching_device, validate_shape=validate_shape)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 677, in _get_single_variable\n    expected_shape=shape)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 224, in __init__\n    expected_shape=expected_shape)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 327, in _init_from_args\n    initial_value(), name=\"initial_value\", dtype=dtype)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 665, in <lambda>\n    shape.as_list(), dtype=dtype, partition_info=partition_info)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/init_ops.py\", line 284, in _initializer\n    dtype, seed=seed)\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/random_ops.py\", line 231, in random_uniform\n    minval = ops.convert_to_tensor(minval, dtype=dtype, name=\"min\")\n  File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 683, in convert_to_tensor\n    dtype.name, ret.dtype.name))\nRuntimeError: min: Conversion function <function _constant_tensor_conversion_function at 0x10cb461b8> for type <type 'object'> returned incompatible dtype: requested = float64_ref, actual = float64\n\nProcess finished with exit code 1\n\nThis is the output of pip show tensorflow:\n\nName: tensorflow\nVersion: 0.12.0rc0\nSummary: TensorFlow helps the tensors flow\nHome-page: http://tensorflow.org/\nAuthor: Google Inc.\nAuthor-email: opensource@google.com\nLicense: Apache 2.0\nLocation: /Users/ethan/env/lib/python2.7/site-packages\nRequires: numpy, mock, wheel, six, protobuf\n\nThanks!", "body": "I am just trying to get a simple RNNCell to work. This simple code:\r\n\r\n    with tf.Session() as sess:\r\n        x = tf.Variable(np.ones((2, 3)))\r\n        tf.global_variables_initializer().run()\r\n        out, state = BasicRNNCell(4)(x, x)\r\n\r\nThrows the following error:\r\n\r\n    /Users/ethan/env/bin/python /Users/ethan/tf-bug/main.py\r\n    Traceback (most recent call last):\r\n      File \"/Users/ethan/tf-bug/main.py\", line 8, in <module>\r\n        out, state = BasicRNNCell(4)(x, x)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell.py\", line 200, in __call__\r\n        output = self._activation(_linear([inputs, state], self._num_units, True))\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/rnn_cell.py\", line 905, in _linear\r\n        \"Matrix\", [total_arg_size, output_size], dtype=dtype)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 1024, in get_variable\r\n        custom_getter=custom_getter)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 850, in get_variable\r\n        custom_getter=custom_getter)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 346, in get_variable\r\n        validate_shape=validate_shape)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 331, in _true_getter\r\n        caching_device=caching_device, validate_shape=validate_shape)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 677, in _get_single_variable\r\n        expected_shape=shape)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 224, in __init__\r\n        expected_shape=expected_shape)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 327, in _init_from_args\r\n        initial_value(), name=\"initial_value\", dtype=dtype)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 665, in <lambda>\r\n        shape.as_list(), dtype=dtype, partition_info=partition_info)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/init_ops.py\", line 284, in _initializer\r\n        dtype, seed=seed)\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/ops/random_ops.py\", line 231, in random_uniform\r\n        minval = ops.convert_to_tensor(minval, dtype=dtype, name=\"min\")\r\n      File \"/Users/ethan/env/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 683, in convert_to_tensor\r\n        dtype.name, ret.dtype.name))\r\n    RuntimeError: min: Conversion function <function _constant_tensor_conversion_function at 0x10cb461b8> for type <type 'object'> returned incompatible dtype: requested = float64_ref, actual = float64\r\n\r\n    Process finished with exit code 1\r\n\r\nThis is the output of `pip show tensorflow`:\r\n\r\n > Name: tensorflow\r\n > Version: 0.12.0rc0\r\n > Summary: TensorFlow helps the tensors flow\r\n > Home-page: http://tensorflow.org/\r\n > Author: Google Inc.\r\n > Author-email: opensource@google.com\r\n > License: Apache 2.0\r\n > Location: /Users/ethan/env/lib/python2.7/site-packages\r\n > Requires: numpy, mock, wheel, six, protobuf\r\n\r\n\r\nThanks!\r\n"}