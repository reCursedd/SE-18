{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/363483577", "html_url": "https://github.com/tensorflow/tensorflow/issues/16669#issuecomment-363483577", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16669", "id": 363483577, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzQ4MzU3Nw==", "user": {"login": "olesalscheider", "id": 1006058, "node_id": "MDQ6VXNlcjEwMDYwNTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1006058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olesalscheider", "html_url": "https://github.com/olesalscheider", "followers_url": "https://api.github.com/users/olesalscheider/followers", "following_url": "https://api.github.com/users/olesalscheider/following{/other_user}", "gists_url": "https://api.github.com/users/olesalscheider/gists{/gist_id}", "starred_url": "https://api.github.com/users/olesalscheider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olesalscheider/subscriptions", "organizations_url": "https://api.github.com/users/olesalscheider/orgs", "repos_url": "https://api.github.com/users/olesalscheider/repos", "events_url": "https://api.github.com/users/olesalscheider/events{/privacy}", "received_events_url": "https://api.github.com/users/olesalscheider/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-06T16:40:27Z", "updated_at": "2018-02-06T16:40:39Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6969686\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/benoitsteiner\">@benoitsteiner</a> I have extracted the relevant code that triggers the bug.<br>\nYou can find it here: <a href=\"https://gist.github.com/olesalscheider/6d37c9716671dc607cab9ab281ae1cd1\">https://gist.github.com/olesalscheider/6d37c9716671dc607cab9ab281ae1cd1</a><br>\nOf course it does not do anything useful now, but it runs fine without the memory optimizer.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3731025\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/allenlavoie\">@allenlavoie</a> With the memory optimizer, the code finally fails with</p>\n<blockquote>\n<p>tensorflow.python.framework.errors_impl.InvalidArgumentError: Creating a partition for /device::0 which doesn't exist in the list of available devices. Available devices: /device:CPU:0,/device:XLA_CPU:0,/device:XLA_GPU:0,/device:GPU:0</p>\n</blockquote>\n<p>Without the optimizer it runs fine.</p>", "body_text": "@benoitsteiner I have extracted the relevant code that triggers the bug.\nYou can find it here: https://gist.github.com/olesalscheider/6d37c9716671dc607cab9ab281ae1cd1\nOf course it does not do anything useful now, but it runs fine without the memory optimizer.\n@allenlavoie With the memory optimizer, the code finally fails with\n\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Creating a partition for /device::0 which doesn't exist in the list of available devices. Available devices: /device:CPU:0,/device:XLA_CPU:0,/device:XLA_GPU:0,/device:GPU:0\n\nWithout the optimizer it runs fine.", "body": "@benoitsteiner I have extracted the relevant code that triggers the bug.\r\nYou can find it here: https://gist.github.com/olesalscheider/6d37c9716671dc607cab9ab281ae1cd1\r\nOf course it does not do anything useful now, but it runs fine without the memory optimizer.\r\n\r\n@allenlavoie With the memory optimizer, the code finally fails with \r\n> tensorflow.python.framework.errors_impl.InvalidArgumentError: Creating a partition for /device::0 which doesn't exist in the list of available devices. Available devices: /device:CPU:0,/device:XLA_CPU:0,/device:XLA_GPU:0,/device:GPU:0\r\n\r\nWithout the optimizer it runs fine."}