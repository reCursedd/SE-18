{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/183938907", "html_url": "https://github.com/tensorflow/tensorflow/issues/615#issuecomment-183938907", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/615", "id": 183938907, "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzkzODkwNw==", "user": {"login": "HamedMP", "id": 3755031, "node_id": "MDQ6VXNlcjM3NTUwMzE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3755031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HamedMP", "html_url": "https://github.com/HamedMP", "followers_url": "https://api.github.com/users/HamedMP/followers", "following_url": "https://api.github.com/users/HamedMP/following{/other_user}", "gists_url": "https://api.github.com/users/HamedMP/gists{/gist_id}", "starred_url": "https://api.github.com/users/HamedMP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HamedMP/subscriptions", "organizations_url": "https://api.github.com/users/HamedMP/orgs", "repos_url": "https://api.github.com/users/HamedMP/repos", "events_url": "https://api.github.com/users/HamedMP/events{/privacy}", "received_events_url": "https://api.github.com/users/HamedMP/received_events", "type": "User", "site_admin": false}, "created_at": "2016-02-14T18:00:37Z", "updated_at": "2016-02-14T19:39:14Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=577277\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/martinwicke\">@martinwicke</a> I run the loader.cc example and it's okay,<br>\nBut I have one question which enables me to use c++ with my own model.</p>\n<p>After I load the graph and run the session with inputs I get following error:</p>\n<pre><code>Attempting to use uninitialized value Variable_1\n     [[Node: Variable_1/read = Identity[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](Variable_1)]]\n</code></pre>\n<p>And the number of variable is changing, 1, 2, 3,...<br>\nI used</p>\n<pre><code>status = session-&gt;Run(inputs, {\"prediction\"}, {\"init_all_vars_op\"}, &amp;outputs);\n</code></pre>\n<p>As <a href=\"https://www.tensorflow.org/versions/v0.6.0/api_docs/cc/index.html\" rel=\"nofollow\">the tutorial</a> I wrote the graph and have the file, but in your previous comment you are saying that the write_graph only saves the architecture, but not the trained model, so:</p>\n<ol>\n<li>If this is the case, so how your <a href=\"https://www.tensorflow.org/versions/v0.6.0/tutorials/image_recognition/index.html\" rel=\"nofollow\">Inception model</a> tutorial works?? There you only load the graph to the model + labels and the test image. Where is the saved wights there?</li>\n<li>If not and you should load the model, then how?</li>\n</ol>", "body_text": "@martinwicke I run the loader.cc example and it's okay,\nBut I have one question which enables me to use c++ with my own model.\nAfter I load the graph and run the session with inputs I get following error:\nAttempting to use uninitialized value Variable_1\n     [[Node: Variable_1/read = Identity[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](Variable_1)]]\n\nAnd the number of variable is changing, 1, 2, 3,...\nI used\nstatus = session->Run(inputs, {\"prediction\"}, {\"init_all_vars_op\"}, &outputs);\n\nAs the tutorial I wrote the graph and have the file, but in your previous comment you are saying that the write_graph only saves the architecture, but not the trained model, so:\n\nIf this is the case, so how your Inception model tutorial works?? There you only load the graph to the model + labels and the test image. Where is the saved wights there?\nIf not and you should load the model, then how?", "body": "@martinwicke I run the loader.cc example and it's okay,\nBut I have one question which enables me to use c++ with my own model.\n\nAfter I load the graph and run the session with inputs I get following error:\n\n```\nAttempting to use uninitialized value Variable_1\n     [[Node: Variable_1/read = Identity[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](Variable_1)]]\n```\n\nAnd the number of variable is changing, 1, 2, 3,...\nI used \n\n```\nstatus = session->Run(inputs, {\"prediction\"}, {\"init_all_vars_op\"}, &outputs);\n```\n\nAs [the tutorial](https://www.tensorflow.org/versions/v0.6.0/api_docs/cc/index.html) I wrote the graph and have the file, but in your previous comment you are saying that the write_graph only saves the architecture, but not the trained model, so:\n1. If this is the case, so how your [Inception model](https://www.tensorflow.org/versions/v0.6.0/tutorials/image_recognition/index.html) tutorial works?? There you only load the graph to the model + labels and the test image. Where is the saved wights there?\n2. If not and you should load the model, then how? \n"}