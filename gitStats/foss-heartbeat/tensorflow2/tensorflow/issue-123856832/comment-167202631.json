{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/167202631", "html_url": "https://github.com/tensorflow/tensorflow/issues/615#issuecomment-167202631", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/615", "id": 167202631, "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzIwMjYzMQ==", "user": {"login": "leftstone2015", "id": 11816941, "node_id": "MDQ6VXNlcjExODE2OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/11816941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leftstone2015", "html_url": "https://github.com/leftstone2015", "followers_url": "https://api.github.com/users/leftstone2015/followers", "following_url": "https://api.github.com/users/leftstone2015/following{/other_user}", "gists_url": "https://api.github.com/users/leftstone2015/gists{/gist_id}", "starred_url": "https://api.github.com/users/leftstone2015/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leftstone2015/subscriptions", "organizations_url": "https://api.github.com/users/leftstone2015/orgs", "repos_url": "https://api.github.com/users/leftstone2015/repos", "events_url": "https://api.github.com/users/leftstone2015/events{/privacy}", "received_events_url": "https://api.github.com/users/leftstone2015/received_events", "type": "User", "site_admin": false}, "created_at": "2015-12-25T07:01:27Z", "updated_at": "2015-12-25T07:01:27Z", "author_association": "NONE", "body_html": "<p>I tried to evaluate the graph file which is generated by tf.train.write_graph()  in python, fed the required data, then run in session, finally encountered the followng error, the error shows use not initialized value. How to write the initialized value to file by tf.train.write_graph() ?</p>\n<p>W tensorflow/core/common_runtime/executor.cc:1076] 0x2672cc0 Compute status: Failed precondition: Attempting to use uninitialized value embedding/W<br>\n[[Node: embedding/W/read = Identity<a href=\"embedding/W\">T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a>]]<br>\n[[Node: _recv_dropout_keep_prob_0 = _Recv<a href=\"\">client_terminated=true, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=4326657343305820101, tensor_name=\"dropout_keep_prob:0\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a>]]<br>\nTraceback (most recent call last):<br>\nFile \"/data/wmjiang/tf_workspace/tf/test/20_news_load.py\", line 38, in <br>\npredictions = sess.run(output, {input_x: data, input_y:label,dropout_prob:1.0})<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 368, in run<br>\nresults = self._do_run(target_list, unique_fetch_targets, feed_dict_string)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 444, in _do_run<br>\ne.code)<br>\ntensorflow.python.framework.errors.FailedPreconditionError: Attempting to use uninitialized value embedding/W<br>\n[[Node: embedding/W/read = Identity<a href=\"embedding/W\">T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"</a>]]<br>\nCaused by op u'embedding/W/read', defined at:<br>\nFile \"/data/wmjiang/tf_workspace/tf/test/20_news_load.py\", line 29, in <br>\ncreate_graph()<br>\nFile \"/data/wmjiang/tf_workspace/tf/test/20_news_load.py\", line 26, in create_graph<br>\n_ = tf.import_graph_def(graph_def, name='')<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 232, in import_graph_def<br>\ncompute_shapes=False)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1834, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1043, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>", "body_text": "I tried to evaluate the graph file which is generated by tf.train.write_graph()  in python, fed the required data, then run in session, finally encountered the followng error, the error shows use not initialized value. How to write the initialized value to file by tf.train.write_graph() ?\nW tensorflow/core/common_runtime/executor.cc:1076] 0x2672cc0 Compute status: Failed precondition: Attempting to use uninitialized value embedding/W\n[[Node: embedding/W/read = IdentityT=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]\n[[Node: _recv_dropout_keep_prob_0 = _Recvclient_terminated=true, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=4326657343305820101, tensor_name=\"dropout_keep_prob:0\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]\nTraceback (most recent call last):\nFile \"/data/wmjiang/tf_workspace/tf/test/20_news_load.py\", line 38, in \npredictions = sess.run(output, {input_x: data, input_y:label,dropout_prob:1.0})\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 368, in run\nresults = self._do_run(target_list, unique_fetch_targets, feed_dict_string)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 444, in _do_run\ne.code)\ntensorflow.python.framework.errors.FailedPreconditionError: Attempting to use uninitialized value embedding/W\n[[Node: embedding/W/read = IdentityT=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]\nCaused by op u'embedding/W/read', defined at:\nFile \"/data/wmjiang/tf_workspace/tf/test/20_news_load.py\", line 29, in \ncreate_graph()\nFile \"/data/wmjiang/tf_workspace/tf/test/20_news_load.py\", line 26, in create_graph\n_ = tf.import_graph_def(graph_def, name='')\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 232, in import_graph_def\ncompute_shapes=False)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1834, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1043, in init\nself._traceback = _extract_stack()", "body": "I tried to evaluate the graph file which is generated by tf.train.write_graph()  in python, fed the required data, then run in session, finally encountered the followng error, the error shows use not initialized value. How to write the initialized value to file by tf.train.write_graph() ?\n\nW tensorflow/core/common_runtime/executor.cc:1076] 0x2672cc0 Compute status: Failed precondition: Attempting to use uninitialized value embedding/W\n     [[Node: embedding/W/read = Identity[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding/W)]]\n     [[Node: _recv_dropout_keep_prob_0 = _Recv[client_terminated=true, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=4326657343305820101, tensor_name=\"dropout_keep_prob:0\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\nTraceback (most recent call last):\n  File \"/data/wmjiang/tf_workspace/tf/test/20_news_load.py\", line 38, in <module>\n    predictions = sess.run(output, {input_x: data, input_y:label,dropout_prob:1.0})\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 368, in run\n    results = self._do_run(target_list, unique_fetch_targets, feed_dict_string)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 444, in _do_run\n    e.code)\ntensorflow.python.framework.errors.FailedPreconditionError: Attempting to use uninitialized value embedding/W\n     [[Node: embedding/W/read = Identity[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](embedding/W)]]\nCaused by op u'embedding/W/read', defined at:\n  File \"/data/wmjiang/tf_workspace/tf/test/20_news_load.py\", line 29, in <module>\n    create_graph()\n  File \"/data/wmjiang/tf_workspace/tf/test/20_news_load.py\", line 26, in create_graph\n    _ = tf.import_graph_def(graph_def, name='')\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 232, in import_graph_def\n    compute_shapes=False)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1834, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1043, in __init__\n    self._traceback = _extract_stack()\n"}