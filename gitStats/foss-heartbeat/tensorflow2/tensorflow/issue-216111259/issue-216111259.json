{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8625", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8625/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8625/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8625/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8625", "id": 216111259, "node_id": "MDU6SXNzdWUyMTYxMTEyNTk=", "number": 8625, "title": "ValueError: No gradients provided for any variable, check your graph for ops that do not support gradients,", "user": {"login": "heermasterlp", "id": 7106073, "node_id": "MDQ6VXNlcjcxMDYwNzM=", "avatar_url": "https://avatars1.githubusercontent.com/u/7106073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heermasterlp", "html_url": "https://github.com/heermasterlp", "followers_url": "https://api.github.com/users/heermasterlp/followers", "following_url": "https://api.github.com/users/heermasterlp/following{/other_user}", "gists_url": "https://api.github.com/users/heermasterlp/gists{/gist_id}", "starred_url": "https://api.github.com/users/heermasterlp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heermasterlp/subscriptions", "organizations_url": "https://api.github.com/users/heermasterlp/orgs", "repos_url": "https://api.github.com/users/heermasterlp/repos", "events_url": "https://api.github.com/users/heermasterlp/events{/privacy}", "received_events_url": "https://api.github.com/users/heermasterlp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-03-22T15:44:49Z", "updated_at": "2018-09-04T09:38:37Z", "closed_at": "2017-03-23T15:46:29Z", "author_association": "NONE", "body_html": "<p>I found a error when I try to train my models using the GradientDescentOptimizer(). There are my train code.</p>\n<pre><code>    y_prob = tf.sigmoid(layer_dropped)\n\n    # Set a thresholds value\n    y_pred = tf.floor(y_prob)\n\n    # Loss Operation\n    loss_op = tf.reduce_mean(tf.abs(y_true - y_pred))\n    optimizer_op = tf.train.GradientDescentOptimizer(0.005).minimize(loss_op)\n</code></pre>\n<p>If I do not use the <code>tf.floor()</code> function in my loss operation, the training is OK. Just like this:</p>\n<pre><code>loss_op = tf.reduce_mean(tf.abs(y_true - y_prob))\noptimizer_op = tf.train.GradientDescentOptimizer(0.005).minimize(loss_op)\n</code></pre>", "body_text": "I found a error when I try to train my models using the GradientDescentOptimizer(). There are my train code.\n    y_prob = tf.sigmoid(layer_dropped)\n\n    # Set a thresholds value\n    y_pred = tf.floor(y_prob)\n\n    # Loss Operation\n    loss_op = tf.reduce_mean(tf.abs(y_true - y_pred))\n    optimizer_op = tf.train.GradientDescentOptimizer(0.005).minimize(loss_op)\n\nIf I do not use the tf.floor() function in my loss operation, the training is OK. Just like this:\nloss_op = tf.reduce_mean(tf.abs(y_true - y_prob))\noptimizer_op = tf.train.GradientDescentOptimizer(0.005).minimize(loss_op)", "body": "I found a error when I try to train my models using the GradientDescentOptimizer(). There are my train code.\r\n```\r\n    y_prob = tf.sigmoid(layer_dropped)\r\n\r\n    # Set a thresholds value\r\n    y_pred = tf.floor(y_prob)\r\n\r\n    # Loss Operation\r\n    loss_op = tf.reduce_mean(tf.abs(y_true - y_pred))\r\n    optimizer_op = tf.train.GradientDescentOptimizer(0.005).minimize(loss_op)\r\n```\r\n\r\nIf I do not use the `tf.floor()` function in my loss operation, the training is OK. Just like this:\r\n```\r\nloss_op = tf.reduce_mean(tf.abs(y_true - y_prob))\r\noptimizer_op = tf.train.GradientDescentOptimizer(0.005).minimize(loss_op)\r\n```"}