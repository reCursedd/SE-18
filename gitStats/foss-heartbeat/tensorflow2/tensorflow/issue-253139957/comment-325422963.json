{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/325422963", "html_url": "https://github.com/tensorflow/tensorflow/pull/12627#issuecomment-325422963", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12627", "id": 325422963, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTQyMjk2Mw==", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-28T17:39:44Z", "updated_at": "2017-08-28T17:39:44Z", "author_association": "MEMBER", "body_html": "<p>Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1294940\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/eaplatanios\">@eaplatanios</a> . I agree that the more appropriate fix is to change the signature of <code>TFE_NewTensorHandle</code> so that it returns a status. If you're up for that, please do make the change.</p>\n<p>Regarding adding an API for iteration - I'm not suggesting that it will not be needed, just deferring till there is a more demonstrable need. It's always easier to add new APIs and harder to remove/change existing ones. Adding a function to provide the byte representation of the i-th flattened element will raise questions like: (1) Should that be mutable, as in, do we want to allow users to edit the value of the element as well? (2) If so, then who will own the memory if the length of the representation changes? (e.g., a longer or shorter string) and how will that length be specified? (3) If the representation meant to be friendly to serialization (like the numeric types?), or is it up to the user of the API to worry about encoding/decoding lengths? etc.</p>\n<p>We can take positions on these, but it seems a bit premature to me for now, especially until we can more concretely demonstrate a (presumably performance) impact of this. Does that sound reasonable?</p>\n<p>Thanks very much for digging into this and the fix!</p>", "body_text": "Thanks @eaplatanios . I agree that the more appropriate fix is to change the signature of TFE_NewTensorHandle so that it returns a status. If you're up for that, please do make the change.\nRegarding adding an API for iteration - I'm not suggesting that it will not be needed, just deferring till there is a more demonstrable need. It's always easier to add new APIs and harder to remove/change existing ones. Adding a function to provide the byte representation of the i-th flattened element will raise questions like: (1) Should that be mutable, as in, do we want to allow users to edit the value of the element as well? (2) If so, then who will own the memory if the length of the representation changes? (e.g., a longer or shorter string) and how will that length be specified? (3) If the representation meant to be friendly to serialization (like the numeric types?), or is it up to the user of the API to worry about encoding/decoding lengths? etc.\nWe can take positions on these, but it seems a bit premature to me for now, especially until we can more concretely demonstrate a (presumably performance) impact of this. Does that sound reasonable?\nThanks very much for digging into this and the fix!", "body": "Thanks @eaplatanios . I agree that the more appropriate fix is to change the signature of `TFE_NewTensorHandle` so that it returns a status. If you're up for that, please do make the change.\r\n\r\nRegarding adding an API for iteration - I'm not suggesting that it will not be needed, just deferring till there is a more demonstrable need. It's always easier to add new APIs and harder to remove/change existing ones. Adding a function to provide the byte representation of the i-th flattened element will raise questions like: (1) Should that be mutable, as in, do we want to allow users to edit the value of the element as well? (2) If so, then who will own the memory if the length of the representation changes? (e.g., a longer or shorter string) and how will that length be specified? (3) If the representation meant to be friendly to serialization (like the numeric types?), or is it up to the user of the API to worry about encoding/decoding lengths? etc.\r\n\r\nWe can take positions on these, but it seems a bit premature to me for now, especially until we can more concretely demonstrate a (presumably performance) impact of this. Does that sound reasonable?\r\n\r\nThanks very much for digging into this and the fix!"}