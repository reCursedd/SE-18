{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20919", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20919/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20919/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20919/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20919", "id": 342276461, "node_id": "MDU6SXNzdWUzNDIyNzY0NjE=", "number": 20919, "title": "bazel build failure, error occur no such package @androidndk", "user": {"login": "hephaex", "id": 3781966, "node_id": "MDQ6VXNlcjM3ODE5NjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/3781966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hephaex", "html_url": "https://github.com/hephaex", "followers_url": "https://api.github.com/users/hephaex/followers", "following_url": "https://api.github.com/users/hephaex/following{/other_user}", "gists_url": "https://api.github.com/users/hephaex/gists{/gist_id}", "starred_url": "https://api.github.com/users/hephaex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hephaex/subscriptions", "organizations_url": "https://api.github.com/users/hephaex/orgs", "repos_url": "https://api.github.com/users/hephaex/repos", "events_url": "https://api.github.com/users/hephaex/events{/privacy}", "received_events_url": "https://api.github.com/users/hephaex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "open", "locked": false, "assignee": {"login": "case540", "id": 1299636, "node_id": "MDQ6VXNlcjEyOTk2MzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1299636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/case540", "html_url": "https://github.com/case540", "followers_url": "https://api.github.com/users/case540/followers", "following_url": "https://api.github.com/users/case540/following{/other_user}", "gists_url": "https://api.github.com/users/case540/gists{/gist_id}", "starred_url": "https://api.github.com/users/case540/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/case540/subscriptions", "organizations_url": "https://api.github.com/users/case540/orgs", "repos_url": "https://api.github.com/users/case540/repos", "events_url": "https://api.github.com/users/case540/events{/privacy}", "received_events_url": "https://api.github.com/users/case540/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "case540", "id": 1299636, "node_id": "MDQ6VXNlcjEyOTk2MzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1299636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/case540", "html_url": "https://github.com/case540", "followers_url": "https://api.github.com/users/case540/followers", "following_url": "https://api.github.com/users/case540/following{/other_user}", "gists_url": "https://api.github.com/users/case540/gists{/gist_id}", "starred_url": "https://api.github.com/users/case540/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/case540/subscriptions", "organizations_url": "https://api.github.com/users/case540/orgs", "repos_url": "https://api.github.com/users/case540/repos", "events_url": "https://api.github.com/users/case540/events{/privacy}", "received_events_url": "https://api.github.com/users/case540/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2018-07-18T10:50:15Z", "updated_at": "2018-11-21T22:13:48Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li>**OS Platform and Distribution **: Ubuntu 16.04</li>\n<li>**TensorFlow install **: installed from source</li>\n<li>**TensorFlow version **: r1.9</li>\n<li>**Python version **: pyenv + virtualenv to support python 3.6.6</li>\n<li>**Bazel version **: 0.14.1 compiling from source</li>\n<li>**GCC/Compiler version  **: gcc 4.9</li>\n<li><strong>CUDA, cuDNN version</strong>: CUDA 9.0, cuDNN 7.1</li>\n<li>**GPU  **: NVIDIA Titan X 12GB</li>\n<li>** no custom code **: source compile from released r1.9 source</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>When compile tensor flow r1.9 from released source code, Bazel occur error message.<br>\nI try to compile r1.8 as same build env. there is no error occurred.</p>\n<h3>Source code / logs</h3>\n<ul>\n<li>build env. setting</li>\n</ul>\n<pre><code>cd /tmp/tensorflow-r${TF_VERSION} \\\n    &amp;&amp; PYTHON_BIN_PATH=/usr/local/bin/python \\\n        PYTHON_LIB_PATH=/usr/local/lib/python3.6/site-packages \\\n        GCC_HOST_COMPILER_PATH=/usr/bin/gcc \\\n        CC_OPT_FLAGS=\"-march=x86-64 -mavx -mavx2 -mfma -mfpmath=both -msse4.1 -msse4.2\" \\\n        TF_NEED_JEMALLOC=1 \\\n        TF_NEED_GCP=1 \\\n        TF_NEED_HDFS=1 \\\n        TF_ENABLE_XLA=1 \\\n        TF_NEED_VERBS=0 \\\n        TF_NEED_OPENCL=0 \\\n        TF_NEED_OPENCL_SYCL=0 \\\n        TF_NEED_CUDA=1 \\\n        TF_CUDA_CLANG=0 \\\n        TF_DOWNLOAD_CLANG=0 \\\n        TF_NEED_TENSORRT=0 \\\n        TF_NEED_MPI=0 \\\n        TF_NEED_GDR=0 \\\n        TF_NEED_S3=1 \\\n        TF_NEED_KAFKA=0 \\\n        TF_SET_ANDROID_WORKSPACE=0 \\\n        TF_CUDA_VERSION=9.0 \\\n        TF_CUDNN_VERSION=7 \\\n        TF_NCCL_VERSION=2 \\\n        TF_CUDA_COMPUTE_CAPABILITIES=3.5,3.7,5.2,6.0,6.1,7.0 \\\n        CUDA_TOOLKIT_PATH=/usr/local/cuda \\\n        CUDNN_INSTALL_PATH=/usr/local/cuda \\\n        NCCL_INSTALL_PATH=/usr \\\n        bash configure \\\n   &amp;&amp; bazel build \\\n        --config=opt --config=cuda \\\n        --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" \\\n        //tensorflow/tools/pip_package:build_pip_package \\\n     &amp;&amp; ./bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\n\n</code></pre>\n<pre><code>Starting local Bazel server and connecting to it...\n...............\nBuilding: no action\nBuilding: no action\nBuilding: no action\nERROR: /tmp/tensorflow-r1.9/tensorflow/contrib/lite/kernels/internal/BUILD:529:1: no such package '@androidndk//': The repository could not be resolved and referenced by '//tensorflow/contrib/lite/kernels/internal:cpu_check'\nERROR: Evaluation of query \"deps(//tensorflow/tools/pip_package:build_pip_package)\" failed: errors were encountered while computing transitive closure\n</code></pre>", "body_text": "System information\n\n**OS Platform and Distribution **: Ubuntu 16.04\n**TensorFlow install **: installed from source\n**TensorFlow version **: r1.9\n**Python version **: pyenv + virtualenv to support python 3.6.6\n**Bazel version **: 0.14.1 compiling from source\n**GCC/Compiler version  **: gcc 4.9\nCUDA, cuDNN version: CUDA 9.0, cuDNN 7.1\n**GPU  **: NVIDIA Titan X 12GB\n** no custom code **: source compile from released r1.9 source\n\nDescribe the problem\nWhen compile tensor flow r1.9 from released source code, Bazel occur error message.\nI try to compile r1.8 as same build env. there is no error occurred.\nSource code / logs\n\nbuild env. setting\n\ncd /tmp/tensorflow-r${TF_VERSION} \\\n    && PYTHON_BIN_PATH=/usr/local/bin/python \\\n        PYTHON_LIB_PATH=/usr/local/lib/python3.6/site-packages \\\n        GCC_HOST_COMPILER_PATH=/usr/bin/gcc \\\n        CC_OPT_FLAGS=\"-march=x86-64 -mavx -mavx2 -mfma -mfpmath=both -msse4.1 -msse4.2\" \\\n        TF_NEED_JEMALLOC=1 \\\n        TF_NEED_GCP=1 \\\n        TF_NEED_HDFS=1 \\\n        TF_ENABLE_XLA=1 \\\n        TF_NEED_VERBS=0 \\\n        TF_NEED_OPENCL=0 \\\n        TF_NEED_OPENCL_SYCL=0 \\\n        TF_NEED_CUDA=1 \\\n        TF_CUDA_CLANG=0 \\\n        TF_DOWNLOAD_CLANG=0 \\\n        TF_NEED_TENSORRT=0 \\\n        TF_NEED_MPI=0 \\\n        TF_NEED_GDR=0 \\\n        TF_NEED_S3=1 \\\n        TF_NEED_KAFKA=0 \\\n        TF_SET_ANDROID_WORKSPACE=0 \\\n        TF_CUDA_VERSION=9.0 \\\n        TF_CUDNN_VERSION=7 \\\n        TF_NCCL_VERSION=2 \\\n        TF_CUDA_COMPUTE_CAPABILITIES=3.5,3.7,5.2,6.0,6.1,7.0 \\\n        CUDA_TOOLKIT_PATH=/usr/local/cuda \\\n        CUDNN_INSTALL_PATH=/usr/local/cuda \\\n        NCCL_INSTALL_PATH=/usr \\\n        bash configure \\\n   && bazel build \\\n        --config=opt --config=cuda \\\n        --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" \\\n        //tensorflow/tools/pip_package:build_pip_package \\\n     && ./bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\n\n\nStarting local Bazel server and connecting to it...\n...............\nBuilding: no action\nBuilding: no action\nBuilding: no action\nERROR: /tmp/tensorflow-r1.9/tensorflow/contrib/lite/kernels/internal/BUILD:529:1: no such package '@androidndk//': The repository could not be resolved and referenced by '//tensorflow/contrib/lite/kernels/internal:cpu_check'\nERROR: Evaluation of query \"deps(//tensorflow/tools/pip_package:build_pip_package)\" failed: errors were encountered while computing transitive closure", "body": "### System information\r\n- **OS Platform and Distribution **: Ubuntu 16.04\r\n- **TensorFlow install **: installed from source\r\n- **TensorFlow version **: r1.9\r\n- **Python version **: pyenv + virtualenv to support python 3.6.6\r\n- **Bazel version **: 0.14.1 compiling from source\r\n- **GCC/Compiler version  **: gcc 4.9\r\n- **CUDA, cuDNN version**: CUDA 9.0, cuDNN 7.1\r\n- **GPU  **: NVIDIA Titan X 12GB\r\n- ** no custom code **: source compile from released r1.9 source\r\n\r\n### Describe the problem\r\nWhen compile tensor flow r1.9 from released source code, Bazel occur error message.\r\nI try to compile r1.8 as same build env. there is no error occurred. \r\n \r\n### Source code / logs\r\n- build env. setting \r\n\r\n```\r\ncd /tmp/tensorflow-r${TF_VERSION} \\\r\n    && PYTHON_BIN_PATH=/usr/local/bin/python \\\r\n        PYTHON_LIB_PATH=/usr/local/lib/python3.6/site-packages \\\r\n        GCC_HOST_COMPILER_PATH=/usr/bin/gcc \\\r\n        CC_OPT_FLAGS=\"-march=x86-64 -mavx -mavx2 -mfma -mfpmath=both -msse4.1 -msse4.2\" \\\r\n        TF_NEED_JEMALLOC=1 \\\r\n        TF_NEED_GCP=1 \\\r\n        TF_NEED_HDFS=1 \\\r\n        TF_ENABLE_XLA=1 \\\r\n        TF_NEED_VERBS=0 \\\r\n        TF_NEED_OPENCL=0 \\\r\n        TF_NEED_OPENCL_SYCL=0 \\\r\n        TF_NEED_CUDA=1 \\\r\n        TF_CUDA_CLANG=0 \\\r\n        TF_DOWNLOAD_CLANG=0 \\\r\n        TF_NEED_TENSORRT=0 \\\r\n        TF_NEED_MPI=0 \\\r\n        TF_NEED_GDR=0 \\\r\n        TF_NEED_S3=1 \\\r\n        TF_NEED_KAFKA=0 \\\r\n        TF_SET_ANDROID_WORKSPACE=0 \\\r\n        TF_CUDA_VERSION=9.0 \\\r\n        TF_CUDNN_VERSION=7 \\\r\n        TF_NCCL_VERSION=2 \\\r\n        TF_CUDA_COMPUTE_CAPABILITIES=3.5,3.7,5.2,6.0,6.1,7.0 \\\r\n        CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n        CUDNN_INSTALL_PATH=/usr/local/cuda \\\r\n        NCCL_INSTALL_PATH=/usr \\\r\n        bash configure \\\r\n   && bazel build \\\r\n        --config=opt --config=cuda \\\r\n        --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" \\\r\n        //tensorflow/tools/pip_package:build_pip_package \\\r\n     && ./bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\r\n\r\n```\r\n\r\n```\r\nStarting local Bazel server and connecting to it...\r\n...............\r\nBuilding: no action\r\nBuilding: no action\r\nBuilding: no action\r\nERROR: /tmp/tensorflow-r1.9/tensorflow/contrib/lite/kernels/internal/BUILD:529:1: no such package '@androidndk//': The repository could not be resolved and referenced by '//tensorflow/contrib/lite/kernels/internal:cpu_check'\r\nERROR: Evaluation of query \"deps(//tensorflow/tools/pip_package:build_pip_package)\" failed: errors were encountered while computing transitive closure\r\n```"}