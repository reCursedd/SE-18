{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/305837186", "html_url": "https://github.com/tensorflow/tensorflow/issues/10265#issuecomment-305837186", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10265", "id": 305837186, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTgzNzE4Ng==", "user": {"login": "jim24", "id": 8779890, "node_id": "MDQ6VXNlcjg3Nzk4OTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/8779890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jim24", "html_url": "https://github.com/jim24", "followers_url": "https://api.github.com/users/jim24/followers", "following_url": "https://api.github.com/users/jim24/following{/other_user}", "gists_url": "https://api.github.com/users/jim24/gists{/gist_id}", "starred_url": "https://api.github.com/users/jim24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jim24/subscriptions", "organizations_url": "https://api.github.com/users/jim24/orgs", "repos_url": "https://api.github.com/users/jim24/repos", "events_url": "https://api.github.com/users/jim24/events{/privacy}", "received_events_url": "https://api.github.com/users/jim24/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-02T16:22:01Z", "updated_at": "2017-06-02T16:26:02Z", "author_association": "NONE", "body_html": "<p>Hi Ian.</p>\n<p>I ran the script again, with your modifications, on a different machine (info posted at the bottom) as I do not have access the machine posted with earlier at the moment.</p>\n<pre><code>import tensorflow as tf\n\nI = tf.eye(2, dtype=tf.float32)\nX = 2 * tf.eye(2, dtype=tf.float32)\nX_inv = tf.matrix_inverse(X)\nX_solve = tf.matrix_solve(X, I)\nX_chol_solve = tf.cholesky_solve(tf.cholesky(X), I)\n\nfor device in ['/cpu:0', '/gpu:0']:\n    with tf.Session() as sess, tf.device(device):\n        for x in [X_inv, X_solve, X_chol_solve]:\n            print('{}\\t{}:\\n\\t{}'.format(device, x.name, sess.run(x)))\n            print\n</code></pre>\n<p>which now gives output:</p>\n<pre><code>\n/cpu:0\tMatrixInverse:0:\n[[ 0.5  0. ]\n [ 0.   0.5]]\n/cpu:0\tMatrixSolve:0:\n[[ 0.5  0. ]\n [ 0.   0.5]]\n/cpu:0\tcholesky_solve/MatrixTriangularSolve_1:0:\n[[ 1.  0.]\n [ 0.  1.]]\n/gpu:0\tMatrixInverse:0:\n[[ 0.5  0. ]\n [ 0.   0.5]]\n/gpu:0\tMatrixSolve:0:\n[[ 0.5  0. ]\n [ 0.   0.5]]\n/gpu:0\tcholesky_solve/MatrixTriangularSolve_1:0:\n[[ 1.  0.]\n [ 0.  1.]]\n</code></pre>\n<p>So it seems the problem persists for me on this machine too.</p>\n<h3>System 2 information</h3>\n<ul>\n<li><strong>Windows 7 SP1</strong></li>\n<li><strong>TensorFlow installed from binary</strong></li>\n<li><strong>TensorFlow version: b'unknown' 1.1.0</strong></li>\n<li><strong>Cuda compilation tools, release 8.0, V8.0.60</strong></li>\n<li><strong>gtx 660 1.5GB (x2)</strong></li>\n</ul>", "body_text": "Hi Ian.\nI ran the script again, with your modifications, on a different machine (info posted at the bottom) as I do not have access the machine posted with earlier at the moment.\nimport tensorflow as tf\n\nI = tf.eye(2, dtype=tf.float32)\nX = 2 * tf.eye(2, dtype=tf.float32)\nX_inv = tf.matrix_inverse(X)\nX_solve = tf.matrix_solve(X, I)\nX_chol_solve = tf.cholesky_solve(tf.cholesky(X), I)\n\nfor device in ['/cpu:0', '/gpu:0']:\n    with tf.Session() as sess, tf.device(device):\n        for x in [X_inv, X_solve, X_chol_solve]:\n            print('{}\\t{}:\\n\\t{}'.format(device, x.name, sess.run(x)))\n            print\n\nwhich now gives output:\n\n/cpu:0\tMatrixInverse:0:\n[[ 0.5  0. ]\n [ 0.   0.5]]\n/cpu:0\tMatrixSolve:0:\n[[ 0.5  0. ]\n [ 0.   0.5]]\n/cpu:0\tcholesky_solve/MatrixTriangularSolve_1:0:\n[[ 1.  0.]\n [ 0.  1.]]\n/gpu:0\tMatrixInverse:0:\n[[ 0.5  0. ]\n [ 0.   0.5]]\n/gpu:0\tMatrixSolve:0:\n[[ 0.5  0. ]\n [ 0.   0.5]]\n/gpu:0\tcholesky_solve/MatrixTriangularSolve_1:0:\n[[ 1.  0.]\n [ 0.  1.]]\n\nSo it seems the problem persists for me on this machine too.\nSystem 2 information\n\nWindows 7 SP1\nTensorFlow installed from binary\nTensorFlow version: b'unknown' 1.1.0\nCuda compilation tools, release 8.0, V8.0.60\ngtx 660 1.5GB (x2)", "body": "Hi Ian.\r\n\r\nI ran the script again, with your modifications, on a different machine (info posted at the bottom) as I do not have access the machine posted with earlier at the moment.\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\nI = tf.eye(2, dtype=tf.float32)\r\nX = 2 * tf.eye(2, dtype=tf.float32)\r\nX_inv = tf.matrix_inverse(X)\r\nX_solve = tf.matrix_solve(X, I)\r\nX_chol_solve = tf.cholesky_solve(tf.cholesky(X), I)\r\n\r\nfor device in ['/cpu:0', '/gpu:0']:\r\n    with tf.Session() as sess, tf.device(device):\r\n        for x in [X_inv, X_solve, X_chol_solve]:\r\n            print('{}\\t{}:\\n\\t{}'.format(device, x.name, sess.run(x)))\r\n            print\r\n```\r\n\r\nwhich now gives output:\r\n```\r\n\r\n/cpu:0\tMatrixInverse:0:\r\n[[ 0.5  0. ]\r\n [ 0.   0.5]]\r\n/cpu:0\tMatrixSolve:0:\r\n[[ 0.5  0. ]\r\n [ 0.   0.5]]\r\n/cpu:0\tcholesky_solve/MatrixTriangularSolve_1:0:\r\n[[ 1.  0.]\r\n [ 0.  1.]]\r\n/gpu:0\tMatrixInverse:0:\r\n[[ 0.5  0. ]\r\n [ 0.   0.5]]\r\n/gpu:0\tMatrixSolve:0:\r\n[[ 0.5  0. ]\r\n [ 0.   0.5]]\r\n/gpu:0\tcholesky_solve/MatrixTriangularSolve_1:0:\r\n[[ 1.  0.]\r\n [ 0.  1.]]\r\n```\r\n\r\nSo it seems the problem persists for me on this machine too.\r\n\r\n### System 2 information\r\n- **Windows 7 SP1**\r\n- **TensorFlow installed from binary**\r\n- **TensorFlow version: b'unknown' 1.1.0**\r\n- **Cuda compilation tools, release 8.0, V8.0.60**\r\n- **gtx 660 1.5GB (x2)**\r\n\r\n\r\n\r\n\r\n\r\n\r\n"}