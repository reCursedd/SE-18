{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16215", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16215/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16215/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16215/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16215", "id": 289546069, "node_id": "MDU6SXNzdWUyODk1NDYwNjk=", "number": 16215, "title": "Tensorflow doesn't delete previous checkpoints", "user": {"login": "XMabbX", "id": 10178765, "node_id": "MDQ6VXNlcjEwMTc4NzY1", "avatar_url": "https://avatars2.githubusercontent.com/u/10178765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XMabbX", "html_url": "https://github.com/XMabbX", "followers_url": "https://api.github.com/users/XMabbX/followers", "following_url": "https://api.github.com/users/XMabbX/following{/other_user}", "gists_url": "https://api.github.com/users/XMabbX/gists{/gist_id}", "starred_url": "https://api.github.com/users/XMabbX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XMabbX/subscriptions", "organizations_url": "https://api.github.com/users/XMabbX/orgs", "repos_url": "https://api.github.com/users/XMabbX/repos", "events_url": "https://api.github.com/users/XMabbX/events{/privacy}", "received_events_url": "https://api.github.com/users/XMabbX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-18T08:40:20Z", "updated_at": "2018-07-27T05:44:18Z", "closed_at": "2018-01-18T23:24:11Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>Linux Ubuntu 16.04:</li>\n<li>Tensorflow version 1.4.1*:</li>\n<li>Python 3.5.2:</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>A brief summary is that, if I run multiple times my training script tensorflow doesn't delete the checkpoints created in previous runs of the script.</p>\n<p>I am preparing a automatic script that every X days runs and train with the new data collected. But I am facing a problem, even that I have configured the saver to keep the 2 last checkpoints, it doesn't work as I expected.</p>\n<p>Example:<br>\nI configure to run 100.000 iterations and each 10.000 to save the checkpoint. The system works and starts saving 10.000, 20.000, ... And when get to 30.000 starts deleting the firsts checkpoints. When the script ends I have the 2 last checkpoints(90.000 and 100.000).</p>\n<p>Then when I train again the system starts from the last checkpoint, in this example the 100.000, and do the same as the previous, 110.000, 120.000,.. and when gets to the 130.000 starts to delete the 100.000 and so on. But the 2 checkpoints from the previous run(90.000 and 100.000) remain there even that in the checkpoint txt are not listed there.</p>\n<p>This will be repeated in every run of the script, creating files that I don't need anymore and growing during the time.</p>\n<p>This is an intended behavior(expecting to the user to delete or manage manually) or it is really a problem?<br>\nIt exist any workaround?</p>\n<p>Thank you for your time and amazing work.</p>", "body_text": "System information\n\nLinux Ubuntu 16.04:\nTensorflow version 1.4.1*:\nPython 3.5.2:\n\nDescribe the problem\nA brief summary is that, if I run multiple times my training script tensorflow doesn't delete the checkpoints created in previous runs of the script.\nI am preparing a automatic script that every X days runs and train with the new data collected. But I am facing a problem, even that I have configured the saver to keep the 2 last checkpoints, it doesn't work as I expected.\nExample:\nI configure to run 100.000 iterations and each 10.000 to save the checkpoint. The system works and starts saving 10.000, 20.000, ... And when get to 30.000 starts deleting the firsts checkpoints. When the script ends I have the 2 last checkpoints(90.000 and 100.000).\nThen when I train again the system starts from the last checkpoint, in this example the 100.000, and do the same as the previous, 110.000, 120.000,.. and when gets to the 130.000 starts to delete the 100.000 and so on. But the 2 checkpoints from the previous run(90.000 and 100.000) remain there even that in the checkpoint txt are not listed there.\nThis will be repeated in every run of the script, creating files that I don't need anymore and growing during the time.\nThis is an intended behavior(expecting to the user to delete or manage manually) or it is really a problem?\nIt exist any workaround?\nThank you for your time and amazing work.", "body": "### System information\r\n- Linux Ubuntu 16.04:\r\n- Tensorflow version 1.4.1*:\r\n- Python 3.5.2: \r\n\r\n### Describe the problem\r\n\r\nA brief summary is that, if I run multiple times my training script tensorflow doesn't delete the checkpoints created in previous runs of the script.\r\n\r\nI am preparing a automatic script that every X days runs and train with the new data collected. But I am facing a problem, even that I have configured the saver to keep the 2 last checkpoints, it doesn't work as I expected. \r\n\r\nExample:\r\nI configure to run 100.000 iterations and each 10.000 to save the checkpoint. The system works and starts saving 10.000, 20.000, ... And when get to 30.000 starts deleting the firsts checkpoints. When the script ends I have the 2 last checkpoints(90.000 and 100.000). \r\n\r\nThen when I train again the system starts from the last checkpoint, in this example the 100.000, and do the same as the previous, 110.000, 120.000,.. and when gets to the 130.000 starts to delete the 100.000 and so on. But the 2 checkpoints from the previous run(90.000 and 100.000) remain there even that in the checkpoint txt are not listed there.\r\n\r\nThis will be repeated in every run of the script, creating files that I don't need anymore and growing during the time.\r\n\r\nThis is an intended behavior(expecting to the user to delete or manage manually) or it is really a problem?\r\nIt exist any workaround?\r\n\r\nThank you for your time and amazing work. \r\n "}