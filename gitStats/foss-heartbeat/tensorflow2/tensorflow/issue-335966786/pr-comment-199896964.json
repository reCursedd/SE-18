{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/199896964", "pull_request_review_id": 134106141, "id": 199896964, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTg5Njk2NA==", "diff_hunk": "@@ -64,18 +64,6 @@ tensorflow::Status ConvertCalibGraphToInferGraph(\n     const tensorflow::GraphDef& graph_def, tensorflow::GraphDef* new_graph_def,\n     bool is_dyn_op);\n \n-// - max_batch_size: maximum batch size which can be used for inference for\n-//   optimization targets inference run with max batch size.\n-// - max_workspace_size_bytes: The upper bound of memory allowance for engine\n-//   building.\n-tensorflow::Status ConvertGraphDefToTensorRT(", "path": "tensorflow/contrib/tensorrt/convert/convert_graph.h", "position": null, "original_position": 8, "commit_id": "e6012bd6b2cb9f65d25d02c1661cb2bac1689da8", "original_commit_id": "e77098094d401435f4d038d93724dd841e0469c1", "user": {"login": "aaroey", "id": 31743510, "node_id": "MDQ6VXNlcjMxNzQzNTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/31743510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaroey", "html_url": "https://github.com/aaroey", "followers_url": "https://api.github.com/users/aaroey/followers", "following_url": "https://api.github.com/users/aaroey/following{/other_user}", "gists_url": "https://api.github.com/users/aaroey/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaroey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaroey/subscriptions", "organizations_url": "https://api.github.com/users/aaroey/orgs", "repos_url": "https://api.github.com/users/aaroey/repos", "events_url": "https://api.github.com/users/aaroey/events{/privacy}", "received_events_url": "https://api.github.com/users/aaroey/received_events", "type": "User", "site_admin": false}, "body": "If we don't need the graph_def, the simplest way would be to enable the trt optimizer and sess.run() will do the work. Otherwise we'll need to [create a cluster](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/grappler/cluster.i) and run [TF_OptimizeGraph](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/grappler/tf_optimizer.i#L95). I think if we need the graph, a more convenient way would be to run the tool to get the graph and then import it using c/c++.", "created_at": "2018-07-03T17:48:54Z", "updated_at": "2018-07-22T15:57:01Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/20318#discussion_r199896964", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20318", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/199896964"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/20318#discussion_r199896964"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/20318"}}, "body_html": "<p>If we don't need the graph_def, the simplest way would be to enable the trt optimizer and sess.run() will do the work. Otherwise we'll need to <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/grappler/cluster.i\">create a cluster</a> and run <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/grappler/tf_optimizer.i#L95\">TF_OptimizeGraph</a>. I think if we need the graph, a more convenient way would be to run the tool to get the graph and then import it using c/c++.</p>", "body_text": "If we don't need the graph_def, the simplest way would be to enable the trt optimizer and sess.run() will do the work. Otherwise we'll need to create a cluster and run TF_OptimizeGraph. I think if we need the graph, a more convenient way would be to run the tool to get the graph and then import it using c/c++.", "in_reply_to_id": 199358280}