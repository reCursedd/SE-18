{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19352", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19352/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19352/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19352/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19352", "id": 324016191, "node_id": "MDU6SXNzdWUzMjQwMTYxOTE=", "number": 19352, "title": "Failed to build version 1.8", "user": {"login": "alexey-chaykin", "id": 15346047, "node_id": "MDQ6VXNlcjE1MzQ2MDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/15346047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexey-chaykin", "html_url": "https://github.com/alexey-chaykin", "followers_url": "https://api.github.com/users/alexey-chaykin/followers", "following_url": "https://api.github.com/users/alexey-chaykin/following{/other_user}", "gists_url": "https://api.github.com/users/alexey-chaykin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexey-chaykin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexey-chaykin/subscriptions", "organizations_url": "https://api.github.com/users/alexey-chaykin/orgs", "repos_url": "https://api.github.com/users/alexey-chaykin/repos", "events_url": "https://api.github.com/users/alexey-chaykin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexey-chaykin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-05-17T13:10:38Z", "updated_at": "2018-08-15T02:55:56Z", "closed_at": "2018-08-15T02:48:58Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: no</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.8</li>\n<li><strong>Python version</strong>: 3.5</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.11.1</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: 5.4.0</li>\n<li><strong>CUDA/cuDNN version</strong>: NA</li>\n<li><strong>GPU model and memory</strong>: NA</li>\n<li><strong>Exact command to reproduce</strong>: bazel build --config=opt//tensorflow/tools/pip_package:build_pip_package</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Trying to build tensorflow v1.8 from sources got linking error.</p>\n<p>ERROR: /home/alexey/tensorflow-1.8.0/tensorflow/python/BUILD:1582:1: Executing genrule //tensorflow/python:sparse_ops_pygenrule failed (Exit 127)<br>\nbazel-out/host/bin/tensorflow/python/gen_sparse_ops_py_wrappers_cc: symbol lookup error: bazel-out/host/bin/tensorflow/python/gen_sparse_ops_py_wrappers_cc: undefined symbol: <em>ZN10tensorflow8str_util8EndsWithENS_11StringPieceES1</em></p>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Go to <a href=\"https://github.com/tensorflow/tensorflow\">https://github.com/tensorflow/tensorflow</a></li>\n<li>Click \"Branch\" button, select \"Tags\" tab and choose v1.8.0 tag</li>\n<li>Click \"Clone or download\" &gt; Download ZIP</li>\n<li>Unpack the archive to home folder and cd to tensorflow-1.8.0</li>\n<li>Run configure answering all options NO, except to jmalloc and python version/path (see the logs below)</li>\n<li>Build CPU version of tensorflow with \"bazel build --config=opt//tensorflow/tools/pip_package:build_pip_package\" command</li>\n<li>Wait for 2400 seconds and get the linking error mentioned above</li>\n</ol>\n<p>P.S. configure's inputs:</p>\n<p>alexey@Inspiron-7559:~/tensorflow-1.8.0$ ./configure<br>\nWARNING: Running Bazel server needs to be killed, because the startup options are different.<br>\nYou have bazel 0.11.1 installed.<br>\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3.5</p>\n<p>Found possible Python library paths:<br>\n/usr/local/lib/python3.5/dist-packages<br>\n/usr/lib/python3/dist-packages<br>\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python3.5/dist-packages]</p>\n<p>Do you wish to build TensorFlow with jemalloc as malloc support? [Y/n]:<br>\njemalloc as malloc support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n<br>\nNo Google Cloud Platform support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with Hadoop File System support? [Y/n]: n<br>\nNo Hadoop File System support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n<br>\nNo Amazon S3 File System support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with Apache Kafka Platform support? [Y/n]: n<br>\nNo Apache Kafka Platform support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with XLA JIT support? [y/N]: n<br>\nNo XLA JIT support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with GDR support? [y/N]: n<br>\nNo GDR support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with VERBS support? [y/N]: n<br>\nNo VERBS support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with OpenCL SYCL support? [y/N]: n<br>\nNo OpenCL SYCL support will be enabled for TensorFlow.</p>\n<p>Do you wish to build TensorFlow with CUDA support? [y/N]: n<br>\nNo CUDA support will be enabled for TensorFlow.</p>\n<p>Do you wish to download a fresh release of clang? (Experimental) [y/N]: n<br>\nClang will not be downloaded.</p>\n<p>Do you wish to build TensorFlow with MPI support? [y/N]: n<br>\nNo MPI support will be enabled for TensorFlow.</p>\n<p>Please specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:</p>\n<p>Would you like to interactively configure ./WORKSPACE for Android builds? [y/N]: n<br>\nNot configuring the WORKSPACE for Android builds.</p>\n<p>Preconfigured Bazel build configs. You can use any of the below by adding \"--config=&lt;&gt;\" to your build command. See tools/bazel.rc for more details.<br>\n--config=mkl         \t# Build with MKL support.<br>\n--config=monolithic  \t# Config for mostly static monolithic build.<br>\nConfiguration finished</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): no\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.8\nPython version: 3.5\nBazel version (if compiling from source): 0.11.1\nGCC/Compiler version (if compiling from source): 5.4.0\nCUDA/cuDNN version: NA\nGPU model and memory: NA\nExact command to reproduce: bazel build --config=opt//tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nTrying to build tensorflow v1.8 from sources got linking error.\nERROR: /home/alexey/tensorflow-1.8.0/tensorflow/python/BUILD:1582:1: Executing genrule //tensorflow/python:sparse_ops_pygenrule failed (Exit 127)\nbazel-out/host/bin/tensorflow/python/gen_sparse_ops_py_wrappers_cc: symbol lookup error: bazel-out/host/bin/tensorflow/python/gen_sparse_ops_py_wrappers_cc: undefined symbol: ZN10tensorflow8str_util8EndsWithENS_11StringPieceES1\nSteps to reproduce\n\nGo to https://github.com/tensorflow/tensorflow\nClick \"Branch\" button, select \"Tags\" tab and choose v1.8.0 tag\nClick \"Clone or download\" > Download ZIP\nUnpack the archive to home folder and cd to tensorflow-1.8.0\nRun configure answering all options NO, except to jmalloc and python version/path (see the logs below)\nBuild CPU version of tensorflow with \"bazel build --config=opt//tensorflow/tools/pip_package:build_pip_package\" command\nWait for 2400 seconds and get the linking error mentioned above\n\nP.S. configure's inputs:\nalexey@Inspiron-7559:~/tensorflow-1.8.0$ ./configure\nWARNING: Running Bazel server needs to be killed, because the startup options are different.\nYou have bazel 0.11.1 installed.\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3.5\nFound possible Python library paths:\n/usr/local/lib/python3.5/dist-packages\n/usr/lib/python3/dist-packages\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python3.5/dist-packages]\nDo you wish to build TensorFlow with jemalloc as malloc support? [Y/n]:\njemalloc as malloc support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n\nNo Google Cloud Platform support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with Hadoop File System support? [Y/n]: n\nNo Hadoop File System support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n\nNo Amazon S3 File System support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with Apache Kafka Platform support? [Y/n]: n\nNo Apache Kafka Platform support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: n\nNo XLA JIT support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with GDR support? [y/N]: n\nNo GDR support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with VERBS support? [y/N]: n\nNo VERBS support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with OpenCL SYCL support? [y/N]: n\nNo OpenCL SYCL support will be enabled for TensorFlow.\nDo you wish to build TensorFlow with CUDA support? [y/N]: n\nNo CUDA support will be enabled for TensorFlow.\nDo you wish to download a fresh release of clang? (Experimental) [y/N]: n\nClang will not be downloaded.\nDo you wish to build TensorFlow with MPI support? [y/N]: n\nNo MPI support will be enabled for TensorFlow.\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\nWould you like to interactively configure ./WORKSPACE for Android builds? [y/N]: n\nNot configuring the WORKSPACE for Android builds.\nPreconfigured Bazel build configs. You can use any of the below by adding \"--config=<>\" to your build command. See tools/bazel.rc for more details.\n--config=mkl         \t# Build with MKL support.\n--config=monolithic  \t# Config for mostly static monolithic build.\nConfiguration finished", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: no\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.8\r\n- **Python version**: 3.5\r\n- **Bazel version (if compiling from source)**: 0.11.1\r\n- **GCC/Compiler version (if compiling from source)**: 5.4.0\r\n- **CUDA/cuDNN version**: NA\r\n- **GPU model and memory**: NA\r\n- **Exact command to reproduce**: bazel build --config=opt//tensorflow/tools/pip_package:build_pip_package\r\n\r\n### Describe the problem\r\nTrying to build tensorflow v1.8 from sources got linking error.\r\n\r\nERROR: /home/alexey/tensorflow-1.8.0/tensorflow/python/BUILD:1582:1: Executing genrule //tensorflow/python:sparse_ops_pygenrule failed (Exit 127)\r\nbazel-out/host/bin/tensorflow/python/gen_sparse_ops_py_wrappers_cc: symbol lookup error: bazel-out/host/bin/tensorflow/python/gen_sparse_ops_py_wrappers_cc: undefined symbol: _ZN10tensorflow8str_util8EndsWithENS_11StringPieceES1_\r\n\r\n### Steps to reproduce\r\n1) Go to https://github.com/tensorflow/tensorflow\r\n2) Click \"Branch\" button, select \"Tags\" tab and choose v1.8.0 tag\r\n3) Click \"Clone or download\" > Download ZIP\r\n4) Unpack the archive to home folder and cd to tensorflow-1.8.0\r\n5) Run configure answering all options NO, except to jmalloc and python version/path (see the logs below)\r\n6) Build CPU version of tensorflow with \"bazel build --config=opt//tensorflow/tools/pip_package:build_pip_package\" command\r\n7) Wait for 2400 seconds and get the linking error mentioned above\r\n\r\nP.S. configure's inputs:\r\n\r\nalexey@Inspiron-7559:~/tensorflow-1.8.0$ ./configure\r\nWARNING: Running Bazel server needs to be killed, because the startup options are different.\r\nYou have bazel 0.11.1 installed.\r\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3.5\r\n\r\nFound possible Python library paths:\r\n  /usr/local/lib/python3.5/dist-packages\r\n  /usr/lib/python3/dist-packages\r\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python3.5/dist-packages]\r\n\r\nDo you wish to build TensorFlow with jemalloc as malloc support? [Y/n]: \r\njemalloc as malloc support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n\r\nNo Google Cloud Platform support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with Hadoop File System support? [Y/n]: n\r\nNo Hadoop File System support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n\r\nNo Amazon S3 File System support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with Apache Kafka Platform support? [Y/n]: n\r\nNo Apache Kafka Platform support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: n\r\nNo XLA JIT support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with GDR support? [y/N]: n\r\nNo GDR support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with VERBS support? [y/N]: n\r\nNo VERBS support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with OpenCL SYCL support? [y/N]: n\r\nNo OpenCL SYCL support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with CUDA support? [y/N]: n\r\nNo CUDA support will be enabled for TensorFlow.\r\n\r\nDo you wish to download a fresh release of clang? (Experimental) [y/N]: n\r\nClang will not be downloaded.\r\n\r\nDo you wish to build TensorFlow with MPI support? [y/N]: n\r\nNo MPI support will be enabled for TensorFlow.\r\n\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \r\n\r\nWould you like to interactively configure ./WORKSPACE for Android builds? [y/N]: n\r\nNot configuring the WORKSPACE for Android builds.\r\n\r\nPreconfigured Bazel build configs. You can use any of the below by adding \"--config=<>\" to your build command. See tools/bazel.rc for more details.\r\n\t--config=mkl         \t# Build with MKL support.\r\n\t--config=monolithic  \t# Config for mostly static monolithic build.\r\nConfiguration finished\r\n"}