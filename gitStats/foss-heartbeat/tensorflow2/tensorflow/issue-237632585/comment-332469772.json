{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/332469772", "html_url": "https://github.com/tensorflow/tensorflow/issues/10961#issuecomment-332469772", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10961", "id": 332469772, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjQ2OTc3Mg==", "user": {"login": "y521263", "id": 6489444, "node_id": "MDQ6VXNlcjY0ODk0NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/6489444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/y521263", "html_url": "https://github.com/y521263", "followers_url": "https://api.github.com/users/y521263/followers", "following_url": "https://api.github.com/users/y521263/following{/other_user}", "gists_url": "https://api.github.com/users/y521263/gists{/gist_id}", "starred_url": "https://api.github.com/users/y521263/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/y521263/subscriptions", "organizations_url": "https://api.github.com/users/y521263/orgs", "repos_url": "https://api.github.com/users/y521263/repos", "events_url": "https://api.github.com/users/y521263/events{/privacy}", "received_events_url": "https://api.github.com/users/y521263/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-27T09:49:39Z", "updated_at": "2017-09-27T09:49:39Z", "author_association": "NONE", "body_html": "<p>I  have the same problem.</p>\n<blockquote>\n<p>\"cudaCheckError() failed : invalid resource handle</p>\n</blockquote>\n<p><strong>System information</strong></p>\n<ul>\n<li>Ubuntu 14.04</li>\n<li>Tensorflow 0.12 (installed from pip)</li>\n<li>cuda 8.0</li>\n<li>cudnn 5.1/6.0(tested all)</li>\n<li>Tesla P4 *4</li>\n</ul>\n<p>When I run with <code>tf.device('/gpu:0')</code>  inside the program , it is ok. If I use  GPU 1 2 3..., get the error.<br>\nYou can try it:<br>\nwhen run program,<code>CUDA_VISIBLE_DEVICES=1 python demo.py</code> , it means  assign GPU1.<br>\nIn the code alway is <code>tf.device('/gpu:0')</code>.</p>\n<p>refer:<br>\n<a href=\"https://stackoverflow.com/questions/40726039/tensorflow-cuda-visible-devices-doesnt-seem-to-work\" rel=\"nofollow\">https://stackoverflow.com/questions/40726039/tensorflow-cuda-visible-devices-doesnt-seem-to-work</a><br>\n<a href=\"https://stackoverflow.com/questions/35951487/tensorflow-only-works-with-gpu-0/35959188#35959188\" rel=\"nofollow\">https://stackoverflow.com/questions/35951487/tensorflow-only-works-with-gpu-0/35959188#35959188</a></p>", "body_text": "I  have the same problem.\n\n\"cudaCheckError() failed : invalid resource handle\n\nSystem information\n\nUbuntu 14.04\nTensorflow 0.12 (installed from pip)\ncuda 8.0\ncudnn 5.1/6.0(tested all)\nTesla P4 *4\n\nWhen I run with tf.device('/gpu:0')  inside the program , it is ok. If I use  GPU 1 2 3..., get the error.\nYou can try it:\nwhen run program,CUDA_VISIBLE_DEVICES=1 python demo.py , it means  assign GPU1.\nIn the code alway is tf.device('/gpu:0').\nrefer:\nhttps://stackoverflow.com/questions/40726039/tensorflow-cuda-visible-devices-doesnt-seem-to-work\nhttps://stackoverflow.com/questions/35951487/tensorflow-only-works-with-gpu-0/35959188#35959188", "body": "I  have the same problem.\r\n> \"cudaCheckError() failed : invalid resource handle\r\n\r\n**System information**\r\n* Ubuntu 14.04\r\n* Tensorflow 0.12 (installed from pip)\r\n* cuda 8.0\r\n* cudnn 5.1/6.0(tested all)\r\n* Tesla P4 *4\r\n\r\nWhen I run with `tf.device('/gpu:0')`  inside the program , it is ok. If I use  GPU 1 2 3..., get the error.\r\nYou can try it:\r\nwhen run program,`CUDA_VISIBLE_DEVICES=1 python demo.py` , it means  assign GPU1.\r\nIn the code alway is `tf.device('/gpu:0')`.\r\n\r\nrefer:\r\nhttps://stackoverflow.com/questions/40726039/tensorflow-cuda-visible-devices-doesnt-seem-to-work\r\nhttps://stackoverflow.com/questions/35951487/tensorflow-only-works-with-gpu-0/35959188#35959188\r\n\r\n\r\n\r\n\r\n"}