{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2187", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2187/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2187/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2187/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/2187", "id": 152376404, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg1MDUwMDA=", "number": 2187, "title": "Fix convert_to_tensor error in tf.one_hot", "user": {"login": "samjabrahams", "id": 11607205, "node_id": "MDQ6VXNlcjExNjA3MjA1", "avatar_url": "https://avatars0.githubusercontent.com/u/11607205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samjabrahams", "html_url": "https://github.com/samjabrahams", "followers_url": "https://api.github.com/users/samjabrahams/followers", "following_url": "https://api.github.com/users/samjabrahams/following{/other_user}", "gists_url": "https://api.github.com/users/samjabrahams/gists{/gist_id}", "starred_url": "https://api.github.com/users/samjabrahams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samjabrahams/subscriptions", "organizations_url": "https://api.github.com/users/samjabrahams/orgs", "repos_url": "https://api.github.com/users/samjabrahams/repos", "events_url": "https://api.github.com/users/samjabrahams/events{/privacy}", "received_events_url": "https://api.github.com/users/samjabrahams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 23, "created_at": "2016-05-01T19:38:53Z", "updated_at": "2016-05-24T00:15:29Z", "closed_at": "2016-05-23T00:25:15Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2187", "html_url": "https://github.com/tensorflow/tensorflow/pull/2187", "diff_url": "https://github.com/tensorflow/tensorflow/pull/2187.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/2187.patch"}, "body_html": "<p>Addresses more issues found in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"146413719\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1799\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1799/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1799\">#1799</a>. When a user passes in a TensorFlow constant that is not of type <code>tf.int64</code> for <code>indices</code> or type <code>tf.int32</code> for <code>depth</code>, <code>one_hot()</code> throws a \"Tensor conversion requested...\" error due to using <code>convert_to_tensor</code> for those parameters. This PR addresses this by using <code>tf.cast()</code> instead for <code>indices</code> and <code>depth</code>.</p>\n<p>Additionally, this PR adds more test coverage (has tests using <code>tf.constant</code>) and renames some tests introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"147643612\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1869\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/1869/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/1869\">#1869</a> to be more descriptive.</p>", "body_text": "Addresses more issues found in #1799. When a user passes in a TensorFlow constant that is not of type tf.int64 for indices or type tf.int32 for depth, one_hot() throws a \"Tensor conversion requested...\" error due to using convert_to_tensor for those parameters. This PR addresses this by using tf.cast() instead for indices and depth.\nAdditionally, this PR adds more test coverage (has tests using tf.constant) and renames some tests introduced in #1869 to be more descriptive.", "body": "Addresses more issues found in #1799. When a user passes in a TensorFlow constant that is not of type `tf.int64` for `indices` or type `tf.int32` for `depth`, `one_hot()` throws a \"Tensor conversion requested...\" error due to using `convert_to_tensor` for those parameters. This PR addresses this by using `tf.cast()` instead for `indices` and `depth`.\n\nAdditionally, this PR adds more test coverage (has tests using `tf.constant`) and renames some tests introduced in #1869 to be more descriptive.\n"}