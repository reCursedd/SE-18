{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/220756314", "html_url": "https://github.com/tensorflow/tensorflow/pull/2187#issuecomment-220756314", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2187", "id": 220756314, "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDc1NjMxNA==", "user": {"login": "samjabrahams", "id": 11607205, "node_id": "MDQ6VXNlcjExNjA3MjA1", "avatar_url": "https://avatars0.githubusercontent.com/u/11607205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samjabrahams", "html_url": "https://github.com/samjabrahams", "followers_url": "https://api.github.com/users/samjabrahams/followers", "following_url": "https://api.github.com/users/samjabrahams/following{/other_user}", "gists_url": "https://api.github.com/users/samjabrahams/gists{/gist_id}", "starred_url": "https://api.github.com/users/samjabrahams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samjabrahams/subscriptions", "organizations_url": "https://api.github.com/users/samjabrahams/orgs", "repos_url": "https://api.github.com/users/samjabrahams/repos", "events_url": "https://api.github.com/users/samjabrahams/events{/privacy}", "received_events_url": "https://api.github.com/users/samjabrahams/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-21T03:38:20Z", "updated_at": "2016-05-21T03:39:12Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think I miscommunicated what I did (unless I've done goofed)- the latest patch was made to <em>maintain</em> backwards compatibility. We couldn't implement the suggestion to pass <code>TI</code> as the type of <code>depth</code> without breaking backwards compatibility, so I've already reverted it. The rest of that bullet indicates that I simply removed the <code>depth = tf.cast(...)</code> line in the Python wrapper, as it A. was unnecessary and B. allowed for bad <code>depth</code> inputs to work when they shouldn't (as both you and <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=70511\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/girving\">@girving</a> pointed out). I also registered the required default dtype for <code>TI</code> so that it matches the <code>int64</code> type used by <code>indices</code> previously.</p>\n<p>Let me know if I've done goofed, though :)</p>", "body_text": "I think I miscommunicated what I did (unless I've done goofed)- the latest patch was made to maintain backwards compatibility. We couldn't implement the suggestion to pass TI as the type of depth without breaking backwards compatibility, so I've already reverted it. The rest of that bullet indicates that I simply removed the depth = tf.cast(...) line in the Python wrapper, as it A. was unnecessary and B. allowed for bad depth inputs to work when they shouldn't (as both you and @girving pointed out). I also registered the required default dtype for TI so that it matches the int64 type used by indices previously.\nLet me know if I've done goofed, though :)", "body": "I think I miscommunicated what I did (unless I've done goofed)- the latest patch was made to _maintain_ backwards compatibility. We couldn't implement the suggestion to pass `TI` as the type of `depth` without breaking backwards compatibility, so I've already reverted it. The rest of that bullet indicates that I simply removed the `depth = tf.cast(...)` line in the Python wrapper, as it A. was unnecessary and B. allowed for bad `depth` inputs to work when they shouldn't (as both you and @girving pointed out). I also registered the required default dtype for `TI` so that it matches the `int64` type used by `indices` previously.\n\nLet me know if I've done goofed, though :)\n"}