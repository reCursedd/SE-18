{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16799", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16799/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16799/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16799/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16799", "id": 294740127, "node_id": "MDU6SXNzdWUyOTQ3NDAxMjc=", "number": 16799, "title": "Debug prompts use_default_colors() returned ERR", "user": {"login": "MrWanter", "id": 18298163, "node_id": "MDQ6VXNlcjE4Mjk4MTYz", "avatar_url": "https://avatars0.githubusercontent.com/u/18298163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrWanter", "html_url": "https://github.com/MrWanter", "followers_url": "https://api.github.com/users/MrWanter/followers", "following_url": "https://api.github.com/users/MrWanter/following{/other_user}", "gists_url": "https://api.github.com/users/MrWanter/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrWanter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrWanter/subscriptions", "organizations_url": "https://api.github.com/users/MrWanter/orgs", "repos_url": "https://api.github.com/users/MrWanter/repos", "events_url": "https://api.github.com/users/MrWanter/events{/privacy}", "received_events_url": "https://api.github.com/users/MrWanter/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-06T12:23:08Z", "updated_at": "2018-02-09T18:07:22Z", "closed_at": "2018-02-09T18:07:22Z", "author_association": "NONE", "body_html": "<p>I was running a example code from <a href=\"http://tensorpack.readthedocs.io/en/latest/index.html\" rel=\"nofollow\">tensorpack</a> on Pycharm, which runs properly, then I changed the session to<br>\n<code>sess = tf_debug.LocalCLIDebugWrapperSession(sess) </code> in order to debug<br>\nas suggested by official example <a href=\"https://www.tensorflow.org/programmers_guide/debugger\" rel=\"nofollow\">https://www.tensorflow.org/programmers_guide/debugger</a>, but then I got:</p>\n<pre><code>Traceback (most recent call last):\n  File \"/home/user/.pycharm_helpers/pydev/pydev_run_in_console.py\", line 53, in run_file\n    pydev_imports.execfile(file, globals, locals)  # execute the script\n  File \"/home/user/prj/shufflenet_v1/shufflenet.py\", line 231, in &lt;module&gt;\n    launch_train_with_config(config, SyncMultiGPUTrainerParameterServer(nr_tower))\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/interface.py\", line 96, in launch_train_with_config\n    config.steps_per_epoch, config.starting_epoch, config.max_epoch)\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/base.py\", line 288, in train\n    self.main_loop(steps_per_epoch, starting_epoch, max_epoch)\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/utils/argtools.py\", line 171, in wrapper\n    return func(*args, **kwargs)\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/base.py\", line 239, in main_loop\n    self.loop.update_global_step()\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/base.py\", line 59, in update_global_step\n    self._global_step = get_global_step_value()\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/tfutils/common.py\", line 77, in get_global_step_value\n    get_global_step_var())\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/training_util.py\", line 67, in global_step\n    return int(sess.run(global_step_tensor))\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/wrappers/framework.py\", line 455, in run\n    is_callable_runner=bool(callable_runner)))\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 253, in on_run_start\n    self._prep_cli_for_run_start()\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 275, in _prep_cli_for_run_start\n    self._run_cli = ui_factory.get_ui(self._ui_type)\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/ui_factory.py\", line 56, in get_ui\n    return curses_ui.CursesUI(on_ui_exit=on_ui_exit)\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 285, in __init__\n    self._screen_init()\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 400, in _screen_init\n    self._screen_color_init()\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 405, in _screen_color_init\n    curses.use_default_colors()\nerror: use_default_colors() returned ERR\n</code></pre>\n<p>which I have no clue for the reason, can someone help?</p>", "body_text": "I was running a example code from tensorpack on Pycharm, which runs properly, then I changed the session to\nsess = tf_debug.LocalCLIDebugWrapperSession(sess)  in order to debug\nas suggested by official example https://www.tensorflow.org/programmers_guide/debugger, but then I got:\nTraceback (most recent call last):\n  File \"/home/user/.pycharm_helpers/pydev/pydev_run_in_console.py\", line 53, in run_file\n    pydev_imports.execfile(file, globals, locals)  # execute the script\n  File \"/home/user/prj/shufflenet_v1/shufflenet.py\", line 231, in <module>\n    launch_train_with_config(config, SyncMultiGPUTrainerParameterServer(nr_tower))\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/interface.py\", line 96, in launch_train_with_config\n    config.steps_per_epoch, config.starting_epoch, config.max_epoch)\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/base.py\", line 288, in train\n    self.main_loop(steps_per_epoch, starting_epoch, max_epoch)\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/utils/argtools.py\", line 171, in wrapper\n    return func(*args, **kwargs)\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/base.py\", line 239, in main_loop\n    self.loop.update_global_step()\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/base.py\", line 59, in update_global_step\n    self._global_step = get_global_step_value()\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/tfutils/common.py\", line 77, in get_global_step_value\n    get_global_step_var())\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/training_util.py\", line 67, in global_step\n    return int(sess.run(global_step_tensor))\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/wrappers/framework.py\", line 455, in run\n    is_callable_runner=bool(callable_runner)))\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 253, in on_run_start\n    self._prep_cli_for_run_start()\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 275, in _prep_cli_for_run_start\n    self._run_cli = ui_factory.get_ui(self._ui_type)\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/ui_factory.py\", line 56, in get_ui\n    return curses_ui.CursesUI(on_ui_exit=on_ui_exit)\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 285, in __init__\n    self._screen_init()\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 400, in _screen_init\n    self._screen_color_init()\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 405, in _screen_color_init\n    curses.use_default_colors()\nerror: use_default_colors() returned ERR\n\nwhich I have no clue for the reason, can someone help?", "body": "I was running a example code from [tensorpack](http://tensorpack.readthedocs.io/en/latest/index.html) on Pycharm, which runs properly, then I changed the session to \r\n`sess = tf_debug.LocalCLIDebugWrapperSession(sess) ` in order to debug\r\nas suggested by official example https://www.tensorflow.org/programmers_guide/debugger, but then I got:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/user/.pycharm_helpers/pydev/pydev_run_in_console.py\", line 53, in run_file\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"/home/user/prj/shufflenet_v1/shufflenet.py\", line 231, in <module>\r\n    launch_train_with_config(config, SyncMultiGPUTrainerParameterServer(nr_tower))\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/interface.py\", line 96, in launch_train_with_config\r\n    config.steps_per_epoch, config.starting_epoch, config.max_epoch)\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/base.py\", line 288, in train\r\n    self.main_loop(steps_per_epoch, starting_epoch, max_epoch)\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/utils/argtools.py\", line 171, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/base.py\", line 239, in main_loop\r\n    self.loop.update_global_step()\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/train/base.py\", line 59, in update_global_step\r\n    self._global_step = get_global_step_value()\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorpack/tfutils/common.py\", line 77, in get_global_step_value\r\n    get_global_step_var())\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/training/training_util.py\", line 67, in global_step\r\n    return int(sess.run(global_step_tensor))\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/wrappers/framework.py\", line 455, in run\r\n    is_callable_runner=bool(callable_runner)))\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 253, in on_run_start\r\n    self._prep_cli_for_run_start()\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 275, in _prep_cli_for_run_start\r\n    self._run_cli = ui_factory.get_ui(self._ui_type)\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/ui_factory.py\", line 56, in get_ui\r\n    return curses_ui.CursesUI(on_ui_exit=on_ui_exit)\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 285, in __init__\r\n    self._screen_init()\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 400, in _screen_init\r\n    self._screen_color_init()\r\n  File \"/home/user/anaconda2/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 405, in _screen_color_init\r\n    curses.use_default_colors()\r\nerror: use_default_colors() returned ERR\r\n```\r\nwhich I have no clue for the reason, can someone help?"}