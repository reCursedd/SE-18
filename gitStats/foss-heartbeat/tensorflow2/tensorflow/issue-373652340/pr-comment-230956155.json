{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/230956155", "pull_request_review_id": 171812836, "id": 230956155, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDk1NjE1NQ==", "diff_hunk": "@@ -0,0 +1,72 @@\n+# Copyright (c) 2018, NVIDIA CORPORATION. All rights reserved.\n+#\n+# Copyright 2018 The TensorFlow Authors. All Rights Reserved.\n+#\n+# Licensed under the Apache License, Version 2.0 (the \"License\");\n+# you may not use this file except in compliance with the License.\n+# You may obtain a copy of the License at\n+#\n+#     http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+# =============================================================================\n+\n+import argparse\n+import ast\n+import sys\n+import re\n+\n+\n+def parse_file(filename):\n+    with open(filename) as f:\n+        f_data = f.read()\n+    results = {}\n+    def regex_match(regex):\n+        match = re.match(regex, f_data, re.DOTALL)\n+        if match is not None:\n+            results[match.group(1)] = match.group(2)\n+    regex_match('.*(model): (\\w*)')\n+    regex_match('.*(accuracy): (\\d*\\.\\d*)')\n+    assert len(results) == 2, '{}'.format(results)\n+    return results\n+\n+def check_accuracy(res, tol):\n+    dest = {\n+        'mobilenet_v1': 71.02,\n+        'mobilenet_v2': 74.11,\n+        'nasnet_large': 82.71,\n+        'nasnet_mobile': 73.97,\n+        'resnet_v1_50': 75.91,\n+        'resnet_v2_50': 76.05,\n+        'vgg_16': 70.89,\n+        'vgg_19': 71.00,\n+        'inception_v3': 77.98,\n+        'inception_v4': 80.18,\n+    }\n+    if abs(float(res['accuracy']) - dest[res['model']]) < tol:", "path": "tensorflow/contrib/tensorrt/examples/check_accuracy.py", "position": 50, "original_position": 50, "commit_id": "8c9d381acb1637224df306736925604e3a5b8865", "original_commit_id": "8c9d381acb1637224df306736925604e3a5b8865", "user": {"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}, "body": "- Probably set accuracies as user inputs instead of hard-coding them in case different models are used\r\n- Consider including inception_v1 and inception_v2 as well", "created_at": "2018-11-05T23:45:51Z", "updated_at": "2018-11-06T00:39:18Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/23223#discussion_r230956155", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23223", "author_association": "NONE", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/230956155"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/23223#discussion_r230956155"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/23223"}}, "body_html": "<ul>\n<li>Probably set accuracies as user inputs instead of hard-coding them in case different models are used</li>\n<li>Consider including inception_v1 and inception_v2 as well</li>\n</ul>", "body_text": "Probably set accuracies as user inputs instead of hard-coding them in case different models are used\nConsider including inception_v1 and inception_v2 as well"}