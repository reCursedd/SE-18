{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4319", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4319/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4319/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4319/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4319", "id": 176188616, "node_id": "MDU6SXNzdWUxNzYxODg2MTY=", "number": 4319, "title": "Error when building tensorflow from source", "user": {"login": "shkr", "id": 5184832, "node_id": "MDQ6VXNlcjUxODQ4MzI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5184832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shkr", "html_url": "https://github.com/shkr", "followers_url": "https://api.github.com/users/shkr/followers", "following_url": "https://api.github.com/users/shkr/following{/other_user}", "gists_url": "https://api.github.com/users/shkr/gists{/gist_id}", "starred_url": "https://api.github.com/users/shkr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shkr/subscriptions", "organizations_url": "https://api.github.com/users/shkr/orgs", "repos_url": "https://api.github.com/users/shkr/repos", "events_url": "https://api.github.com/users/shkr/events{/privacy}", "received_events_url": "https://api.github.com/users/shkr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 60, "created_at": "2016-09-10T16:37:06Z", "updated_at": "2018-05-13T00:40:41Z", "closed_at": "2016-09-22T21:23:19Z", "author_association": "NONE", "body_html": "<p>I am trying to build and install tensorflow from source. However when building with bazel it returns an error stating Extension file 'tensorflow/tensorflow.bzl' has errors.</p>\n<p>Here are the commands that I ran and the logs are included.</p>\n<div class=\"highlight highlight-source-shell\"><pre>mkvirtualenv tensorflow_dev\nbrew install bazel swig\nworkon tensorflow_dev\npip install six numpy wheel ipython\n<span class=\"pl-k\">export</span> TF_DIR=/Users/shashank/Documents/repositories/tensorflow\n<span class=\"pl-c1\">cd</span> /Users/shashank/Documents/repositories/\ngit clone git@github.com:tensorflow/tensorflow.git\n<span class=\"pl-c1\">cd</span> <span class=\"pl-smi\">$TF_DIR</span> <span class=\"pl-k\">&amp;&amp;</span> ./configure\n\n<span class=\"pl-k\">~</span>/Documents/repositories/tensorflow <span class=\"pl-k\">~</span>/Documents/repositories/tensorflow\nPlease specify the location of python. [Default is /Users/shashank/.virtualenvs/tensorflow_dev/bin/python]:\nDo you wish to build TensorFlow with Google Cloud Platform support<span class=\"pl-k\">?</span> [y/N]\nNo Google Cloud Platform support will be enabled <span class=\"pl-k\">for</span> TensorFlow\nFound possible Python library paths:\n  /Users/shashank/Documents/py_config/\n  /Users/shashank/.virtualenvs/tensorflow_dev/lib/python2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/Users/shashank/Documents/py_config/]\n\n/Users/shashank/Documents/py_config/\nDo you wish to build TensorFlow with GPU support<span class=\"pl-k\">?</span> [y/N]\nNo GPU support will be enabled <span class=\"pl-k\">for</span> TensorFlow\nConfiguration finished\n\n<span class=\"pl-c1\">cd</span> <span class=\"pl-smi\">$TF_DIR</span> <span class=\"pl-k\">&amp;&amp;</span> bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\nERROR: /Users/shashank/Documents/repositories/tensorflow/tensorflow/tensorflow.bzl:568:26: Traceback (most recent call last):\n        File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/shashank/Documents/repositories/tensorflow/tensorflow/tensorflow.bzl<span class=\"pl-pds\">\"</span></span>, line 562\n            rule(attrs = {<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>srcs<span class=\"pl-pds\">\"</span></span>: attr.label_list...<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>), &lt;3 more arguments&gt;)}, &lt;2 more arguments&gt;)</span>\n<span class=\"pl-s\">        File <span class=\"pl-pds\">\"</span></span>/Users/shashank/Documents/repositories/tensorflow/tensorflow/tensorflow.bzl<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>, line 568, in rule</span>\n<span class=\"pl-s\">            attr.label_list(cfg = <span class=\"pl-pds\">\"</span></span>data<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>, allow_files = True)</span>\n<span class=\"pl-s\">expected ConfigurationTransition or NoneType for 'cfg' while calling label_list but got string instead: data.</span>\n<span class=\"pl-s\">ERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Extension file 'tensorflow/tensorflow.bzl' has errors.</span>\n<span class=\"pl-s\">INFO: Elapsed time: 0.063s</span></pre></div>\n<p>Thanks for your help</p>", "body_text": "I am trying to build and install tensorflow from source. However when building with bazel it returns an error stating Extension file 'tensorflow/tensorflow.bzl' has errors.\nHere are the commands that I ran and the logs are included.\nmkvirtualenv tensorflow_dev\nbrew install bazel swig\nworkon tensorflow_dev\npip install six numpy wheel ipython\nexport TF_DIR=/Users/shashank/Documents/repositories/tensorflow\ncd /Users/shashank/Documents/repositories/\ngit clone git@github.com:tensorflow/tensorflow.git\ncd $TF_DIR && ./configure\n\n~/Documents/repositories/tensorflow ~/Documents/repositories/tensorflow\nPlease specify the location of python. [Default is /Users/shashank/.virtualenvs/tensorflow_dev/bin/python]:\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\nNo Google Cloud Platform support will be enabled for TensorFlow\nFound possible Python library paths:\n  /Users/shashank/Documents/py_config/\n  /Users/shashank/.virtualenvs/tensorflow_dev/lib/python2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/Users/shashank/Documents/py_config/]\n\n/Users/shashank/Documents/py_config/\nDo you wish to build TensorFlow with GPU support? [y/N]\nNo GPU support will be enabled for TensorFlow\nConfiguration finished\n\ncd $TF_DIR && bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\nERROR: /Users/shashank/Documents/repositories/tensorflow/tensorflow/tensorflow.bzl:568:26: Traceback (most recent call last):\n        File \"/Users/shashank/Documents/repositories/tensorflow/tensorflow/tensorflow.bzl\", line 562\n            rule(attrs = {\"srcs\": attr.label_list...\"), <3 more arguments>)}, <2 more arguments>)\n        File \"/Users/shashank/Documents/repositories/tensorflow/tensorflow/tensorflow.bzl\", line 568, in rule\n            attr.label_list(cfg = \"data\", allow_files = True)\nexpected ConfigurationTransition or NoneType for 'cfg' while calling label_list but got string instead: data.\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Extension file 'tensorflow/tensorflow.bzl' has errors.\nINFO: Elapsed time: 0.063s\nThanks for your help", "body": "I am trying to build and install tensorflow from source. However when building with bazel it returns an error stating Extension file 'tensorflow/tensorflow.bzl' has errors.\n\nHere are the commands that I ran and the logs are included.\n\n``` bash\n\nmkvirtualenv tensorflow_dev\nbrew install bazel swig\nworkon tensorflow_dev\npip install six numpy wheel ipython\nexport TF_DIR=/Users/shashank/Documents/repositories/tensorflow\ncd /Users/shashank/Documents/repositories/\ngit clone git@github.com:tensorflow/tensorflow.git\ncd $TF_DIR && ./configure\n\n~/Documents/repositories/tensorflow ~/Documents/repositories/tensorflow\nPlease specify the location of python. [Default is /Users/shashank/.virtualenvs/tensorflow_dev/bin/python]:\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\nNo Google Cloud Platform support will be enabled for TensorFlow\nFound possible Python library paths:\n  /Users/shashank/Documents/py_config/\n  /Users/shashank/.virtualenvs/tensorflow_dev/lib/python2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/Users/shashank/Documents/py_config/]\n\n/Users/shashank/Documents/py_config/\nDo you wish to build TensorFlow with GPU support? [y/N]\nNo GPU support will be enabled for TensorFlow\nConfiguration finished\n\ncd $TF_DIR && bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\nERROR: /Users/shashank/Documents/repositories/tensorflow/tensorflow/tensorflow.bzl:568:26: Traceback (most recent call last):\n        File \"/Users/shashank/Documents/repositories/tensorflow/tensorflow/tensorflow.bzl\", line 562\n            rule(attrs = {\"srcs\": attr.label_list...\"), <3 more arguments>)}, <2 more arguments>)\n        File \"/Users/shashank/Documents/repositories/tensorflow/tensorflow/tensorflow.bzl\", line 568, in rule\n            attr.label_list(cfg = \"data\", allow_files = True)\nexpected ConfigurationTransition or NoneType for 'cfg' while calling label_list but got string instead: data.\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Extension file 'tensorflow/tensorflow.bzl' has errors.\nINFO: Elapsed time: 0.063s\n```\n\nThanks for your help\n"}