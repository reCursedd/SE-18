{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/407599519", "html_url": "https://github.com/tensorflow/tensorflow/issues/15633#issuecomment-407599519", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15633", "id": 407599519, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzU5OTUxOQ==", "user": {"login": "oopsodd", "id": 17818003, "node_id": "MDQ6VXNlcjE3ODE4MDAz", "avatar_url": "https://avatars2.githubusercontent.com/u/17818003?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oopsodd", "html_url": "https://github.com/oopsodd", "followers_url": "https://api.github.com/users/oopsodd/followers", "following_url": "https://api.github.com/users/oopsodd/following{/other_user}", "gists_url": "https://api.github.com/users/oopsodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/oopsodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oopsodd/subscriptions", "organizations_url": "https://api.github.com/users/oopsodd/orgs", "repos_url": "https://api.github.com/users/oopsodd/repos", "events_url": "https://api.github.com/users/oopsodd/events{/privacy}", "received_events_url": "https://api.github.com/users/oopsodd/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-25T01:03:56Z", "updated_at": "2018-07-25T01:44:58Z", "author_association": "NONE", "body_html": "<p>hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4723042\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/achowdhery\">@achowdhery</a> , I tested the new Android tflite app demo. It works perfectly for <strong>ssd_mobilenet_v1_coco, ssd_mobilenet_v1_0.75_depth_coco, ssd_mobilenet_v1_quantized_coco</strong>.<br>\nBut I got this exception for the other ssd-mobilenet models:</p>\n<pre><code>07-25 07:41:25.292 31515-31532/org.tensorflow.lite.demo E/AndroidRuntime: FATAL EXCEPTION: inference\n    Process: org.tensorflow.lite.demo, PID: 31515\n    java.lang.ArrayIndexOutOfBoundsException: length=160; index=-2147483648\n        at java.util.Vector.elementData(Vector.java:734)\n        at java.util.Vector.get(Vector.java:750)\n        at org.tensorflow.demo.TFLiteObjectDetectionAPIModel.recognizeImage(TFLiteObjectDetectionAPIModel.java:218)\n        at org.tensorflow.demo.DetectorActivity$3.run(DetectorActivity.java:249)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.os.HandlerThread.run(HandlerThread.java:65)\n\n</code></pre>\n<p>The tflite model produced wrong class index. The exception makes app crash after detect well for couple of seconds.<br>\n<strong>ssd_mobilenet_v1_ppn_coco</strong> produces wrong messy bounding box, label as well.</p>", "body_text": "hi @achowdhery , I tested the new Android tflite app demo. It works perfectly for ssd_mobilenet_v1_coco, ssd_mobilenet_v1_0.75_depth_coco, ssd_mobilenet_v1_quantized_coco.\nBut I got this exception for the other ssd-mobilenet models:\n07-25 07:41:25.292 31515-31532/org.tensorflow.lite.demo E/AndroidRuntime: FATAL EXCEPTION: inference\n    Process: org.tensorflow.lite.demo, PID: 31515\n    java.lang.ArrayIndexOutOfBoundsException: length=160; index=-2147483648\n        at java.util.Vector.elementData(Vector.java:734)\n        at java.util.Vector.get(Vector.java:750)\n        at org.tensorflow.demo.TFLiteObjectDetectionAPIModel.recognizeImage(TFLiteObjectDetectionAPIModel.java:218)\n        at org.tensorflow.demo.DetectorActivity$3.run(DetectorActivity.java:249)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.os.HandlerThread.run(HandlerThread.java:65)\n\n\nThe tflite model produced wrong class index. The exception makes app crash after detect well for couple of seconds.\nssd_mobilenet_v1_ppn_coco produces wrong messy bounding box, label as well.", "body": "hi @achowdhery , I tested the new Android tflite app demo. It works perfectly for **ssd_mobilenet_v1_coco, ssd_mobilenet_v1_0.75_depth_coco, ssd_mobilenet_v1_quantized_coco**.\r\nBut I got this exception for the other ssd-mobilenet models:\r\n```\r\n07-25 07:41:25.292 31515-31532/org.tensorflow.lite.demo E/AndroidRuntime: FATAL EXCEPTION: inference\r\n    Process: org.tensorflow.lite.demo, PID: 31515\r\n    java.lang.ArrayIndexOutOfBoundsException: length=160; index=-2147483648\r\n        at java.util.Vector.elementData(Vector.java:734)\r\n        at java.util.Vector.get(Vector.java:750)\r\n        at org.tensorflow.demo.TFLiteObjectDetectionAPIModel.recognizeImage(TFLiteObjectDetectionAPIModel.java:218)\r\n        at org.tensorflow.demo.DetectorActivity$3.run(DetectorActivity.java:249)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.os.HandlerThread.run(HandlerThread.java:65)\r\n\r\n```\r\nThe tflite model produced wrong class index. The exception makes app crash after detect well for couple of seconds.\r\n**ssd_mobilenet_v1_ppn_coco** produces wrong messy bounding box, label as well."}