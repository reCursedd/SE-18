{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/403346951", "html_url": "https://github.com/tensorflow/tensorflow/issues/15633#issuecomment-403346951", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15633", "id": 403346951, "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzM0Njk1MQ==", "user": {"login": "freedomtan", "id": 3395998, "node_id": "MDQ6VXNlcjMzOTU5OTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3395998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/freedomtan", "html_url": "https://github.com/freedomtan", "followers_url": "https://api.github.com/users/freedomtan/followers", "following_url": "https://api.github.com/users/freedomtan/following{/other_user}", "gists_url": "https://api.github.com/users/freedomtan/gists{/gist_id}", "starred_url": "https://api.github.com/users/freedomtan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/freedomtan/subscriptions", "organizations_url": "https://api.github.com/users/freedomtan/orgs", "repos_url": "https://api.github.com/users/freedomtan/repos", "events_url": "https://api.github.com/users/freedomtan/events{/privacy}", "received_events_url": "https://api.github.com/users/freedomtan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-09T03:04:25Z", "updated_at": "2018-07-09T03:04:25Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20763033\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/frontword\">@frontword</a> What in <code>/tmp/box_priors.txt</code> are boxes for post processing. If you use the newer one mentioned by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=31765154\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/WenguoLi\">@WenguoLi</a>, you don't need it. However, as far as I can tell, those post-processing ops are implemented as TF Lite custom ops. Meaning that you cannot accelerated them with NNAPI accelerators without further efforts.</p>\n<p>For image size problems, yes, I think feeding 224x224 images to SSD300 (the models released by Google were trained with 300x300 images) and getting worse accuracy is not unexpected.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=31765154\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/WenguoLi\">@WenguoLi</a> It seems to me the updated model you mentioned is quite easy to handle. See my <a href=\"https://github.com/freedomtan/tensorflow/blob/freedom/object_detection_tflite_object_dtection_python_w_postprocessing/tensorflow/contrib/lite/examples/python/object_detection.py\">update scirpt</a>. The following figure is generated by</p>\n<pre><code>python  tensorflow/contrib/lite/examples/python/object_detection.py --image /tmp/image2.jpg  --show_image True\n</code></pre>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/3395998/42428690-8ee7a76c-8367-11e8-8487-1bf207771147.png\"><img src=\"https://user-images.githubusercontent.com/3395998/42428690-8ee7a76c-8367-11e8-8487-1bf207771147.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>", "body_text": "@frontword What in /tmp/box_priors.txt are boxes for post processing. If you use the newer one mentioned by @WenguoLi, you don't need it. However, as far as I can tell, those post-processing ops are implemented as TF Lite custom ops. Meaning that you cannot accelerated them with NNAPI accelerators without further efforts.\nFor image size problems, yes, I think feeding 224x224 images to SSD300 (the models released by Google were trained with 300x300 images) and getting worse accuracy is not unexpected.\n@WenguoLi It seems to me the updated model you mentioned is quite easy to handle. See my update scirpt. The following figure is generated by\npython  tensorflow/contrib/lite/examples/python/object_detection.py --image /tmp/image2.jpg  --show_image True", "body": "@frontword What in `/tmp/box_priors.txt` are boxes for post processing. If you use the newer one mentioned by @WenguoLi, you don't need it. However, as far as I can tell, those post-processing ops are implemented as TF Lite custom ops. Meaning that you cannot accelerated them with NNAPI accelerators without further efforts.\r\n\r\nFor image size problems, yes, I think feeding 224x224 images to SSD300 (the models released by Google were trained with 300x300 images) and getting worse accuracy is not unexpected.\r\n\r\n@WenguoLi It seems to me the updated model you mentioned is quite easy to handle. See my [update scirpt](https://github.com/freedomtan/tensorflow/blob/freedom/object_detection_tflite_object_dtection_python_w_postprocessing/tensorflow/contrib/lite/examples/python/object_detection.py). The following figure is generated by \r\n```\r\npython  tensorflow/contrib/lite/examples/python/object_detection.py --image /tmp/image2.jpg  --show_image True\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/3395998/42428690-8ee7a76c-8367-11e8-8487-1bf207771147.png)\r\n"}