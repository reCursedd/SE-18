{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18872", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18872/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18872/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18872/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18872", "id": 317762005, "node_id": "MDU6SXNzdWUzMTc3NjIwMDU=", "number": 18872, "title": "Feature Request: More Granular Dependencies for Official Binaries", "user": {"login": "belph", "id": 4998607, "node_id": "MDQ6VXNlcjQ5OTg2MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4998607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/belph", "html_url": "https://github.com/belph", "followers_url": "https://api.github.com/users/belph/followers", "following_url": "https://api.github.com/users/belph/following{/other_user}", "gists_url": "https://api.github.com/users/belph/gists{/gist_id}", "starred_url": "https://api.github.com/users/belph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/belph/subscriptions", "organizations_url": "https://api.github.com/users/belph/orgs", "repos_url": "https://api.github.com/users/belph/repos", "events_url": "https://api.github.com/users/belph/events{/privacy}", "received_events_url": "https://api.github.com/users/belph/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-04-25T19:26:36Z", "updated_at": "2018-11-14T19:17:48Z", "closed_at": null, "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: N/A</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: N/A</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: <code>pip</code></li>\n<li><strong>TensorFlow version (use command below)</strong>: N/A</li>\n<li><strong>Python version</strong>:  N/A</li>\n<li><strong>Bazel version (if compiling from source)</strong>: N/A</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: N/A</li>\n<li><strong>CUDA/cuDNN version</strong>: N/A</li>\n<li><strong>GPU model and memory</strong>: N/A</li>\n<li><strong>Exact command to reproduce</strong>: N/A</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>(Note: This issue is related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"287875767\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/16046\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/16046/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/16046\">#16046</a>, but I feel that it's different enough to warrant a separate request, rather than resurrecting that one. Also, this question's wording is biased towards Linux, but the spirit of it may be useful for other systems as well.)</p>\n<p>TensorFlow currently specifies its system requirements at the level of an operating system and CPU architecture (for example, the docs <a href=\"https://www.tensorflow.org/install/install_linux#top_of_page\" rel=\"nofollow\">currently state</a> that Ubuntu 16.04 x86_64 is the supported Linux variant). This is certainly helpful, but, when incorporating TensorFlow into larger projects with their own lists of dependencies, I feel that it may be useful to additionally have somewhere that provides a clear description of the dynamic library requirements for the official releases. For example, <code>glibc</code> version requirements have burned a number of developers (a quick search shows <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"270953831\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14208\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/14208/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/14208\">#14208</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"282285793\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/15376\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/15376/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/15376\">#15376</a>). Currently, the only reliable way (to my knowledge) to determine the required versions of <code>glibc</code> and friends for a given TensorFlow release is to run <code>ldd -v</code> on it (the following are run on TensorFlow 1.5.0, which is what I happen to have installed on this machine):</p>\n<div class=\"highlight highlight-source-shell\"><pre>(venv) belph@alpha <span class=\"pl-k\">~</span>/venv $ ldd -v \\\n    lib/python3.5/site-packages/tensorflow/libtensorflow_framework.so \\\n    <span class=\"pl-k\">|</span> grep -oP <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\\([A-Z][A-Z0-9._]+\\)<span class=\"pl-pds\">'</span></span> \\\n    <span class=\"pl-k\">|</span> sort -V \\\n    <span class=\"pl-k\">|</span> uniq\n(CXXABI_1.3)\n(CXXABI_1.3.5)\n(CXXABI_1.3.7)\n(GCC_3.0)\n(GCC_3.3)\n(GCC_4.2.0)\n(GLIBCXX_3.4)\n(GLIBCXX_3.4.9)\n(GLIBCXX_3.4.11)\n(GLIBCXX_3.4.14)\n(GLIBCXX_3.4.17)\n(GLIBCXX_3.4.18)\n(GLIBCXX_3.4.19)\n(GLIBC_2.2.5)\n(GLIBC_2.3)\n(GLIBC_2.3.2)\n(GLIBC_2.3.4)\n(GLIBC_2.4)\n(GLIBC_2.6)\n(GLIBC_2.7)\n(GLIBC_2.11)\n(GLIBC_2.14)\n(GLIBC_2.16)\n(GLIBC_2.17)\n(GLIBC_2.18)\n(GLIBC_PRIVATE)</pre></div>\n<p>(here's a fancier command to get the latest version required, in case anyone is interested)</p>\n<div class=\"highlight highlight-source-shell\"><pre>(venv) belph@alpha <span class=\"pl-k\">~</span>/venv $ ldd -v \\\n    lib/python3.5/site-packages/tensorflow/libtensorflow_framework.so \\\n    <span class=\"pl-k\">|</span> grep -oP <span class=\"pl-s\"><span class=\"pl-pds\">'</span>[A-Z][A-Z0-9.]*_[0-9.]+(?=\\) =&gt;)<span class=\"pl-pds\">'</span></span> \\\n    <span class=\"pl-k\">|</span> sort -V \\\n    <span class=\"pl-k\">|</span> uniq \\\n    <span class=\"pl-k\">|</span> tr <span class=\"pl-s\"><span class=\"pl-pds\">'</span>_<span class=\"pl-pds\">'</span></span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span> <span class=\"pl-pds\">'</span></span> \\\n    <span class=\"pl-k\">|</span> awk <span class=\"pl-s\"><span class=\"pl-pds\">'</span>{ reqs[$1] = $2 } END { for (lib in reqs) { print lib,reqs[lib] } }<span class=\"pl-pds\">'</span></span>\nGLIBCXX 3.4.19\nCXXABI 1.3.7\nGLIBC 2.18\nGCC 4.2.0</pre></div>\n<p>I <em>have</em> noticed the <a href=\"https://www.tensorflow.org/install/install_sources#tested_source_configurations\" rel=\"nofollow\">Tested Source Configurations</a> list on the documentation; these very well may be the machines which compile the binaries, but they do not specify which version of <code>glibc</code> is installed. Additionally, <code>glibc</code> version 2.19 is <a href=\"https://github.com/tensorflow/tensorflow/blob/d33f80f4083ef63b90b5763988541e901e7f0a3d/third_party/toolchains/clang6/CROSSTOOL.tpl#L13\">specified in a toolchain</a>, but it is unclear whether this is actually used when compiling the official distributions (or I just missed it).</p>\n<p>Would it be possible to specify what versions of shared libraries are required to be installed, or, at a minimum, some more detailed information about the system each binary is compiled on? The latter may be specified somewhere already, but I have not been able to find it. I'm not necessarily asking for a library requirement list that TensorFlow commits to maintain compatibility with across releases; instead, I just think it would be useful to be able to have a go-to place to answer the question of \"what version of <code>glibc</code> do I need to run the official TensorFlow 1.5 build?\" Anything would be helpful!</p>\n<p>Thank you! Apologies if anything I've said is unclear; I'll be happy to clarify.</p>\n<h3>Source code / logs</h3>\n<p>N/A</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): N/A\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): N/A\nTensorFlow installed from (source or binary): pip\nTensorFlow version (use command below): N/A\nPython version:  N/A\nBazel version (if compiling from source): N/A\nGCC/Compiler version (if compiling from source): N/A\nCUDA/cuDNN version: N/A\nGPU model and memory: N/A\nExact command to reproduce: N/A\n\nDescribe the problem\n(Note: This issue is related to #16046, but I feel that it's different enough to warrant a separate request, rather than resurrecting that one. Also, this question's wording is biased towards Linux, but the spirit of it may be useful for other systems as well.)\nTensorFlow currently specifies its system requirements at the level of an operating system and CPU architecture (for example, the docs currently state that Ubuntu 16.04 x86_64 is the supported Linux variant). This is certainly helpful, but, when incorporating TensorFlow into larger projects with their own lists of dependencies, I feel that it may be useful to additionally have somewhere that provides a clear description of the dynamic library requirements for the official releases. For example, glibc version requirements have burned a number of developers (a quick search shows #14208 and #15376). Currently, the only reliable way (to my knowledge) to determine the required versions of glibc and friends for a given TensorFlow release is to run ldd -v on it (the following are run on TensorFlow 1.5.0, which is what I happen to have installed on this machine):\n(venv) belph@alpha ~/venv $ ldd -v \\\n    lib/python3.5/site-packages/tensorflow/libtensorflow_framework.so \\\n    | grep -oP '\\([A-Z][A-Z0-9._]+\\)' \\\n    | sort -V \\\n    | uniq\n(CXXABI_1.3)\n(CXXABI_1.3.5)\n(CXXABI_1.3.7)\n(GCC_3.0)\n(GCC_3.3)\n(GCC_4.2.0)\n(GLIBCXX_3.4)\n(GLIBCXX_3.4.9)\n(GLIBCXX_3.4.11)\n(GLIBCXX_3.4.14)\n(GLIBCXX_3.4.17)\n(GLIBCXX_3.4.18)\n(GLIBCXX_3.4.19)\n(GLIBC_2.2.5)\n(GLIBC_2.3)\n(GLIBC_2.3.2)\n(GLIBC_2.3.4)\n(GLIBC_2.4)\n(GLIBC_2.6)\n(GLIBC_2.7)\n(GLIBC_2.11)\n(GLIBC_2.14)\n(GLIBC_2.16)\n(GLIBC_2.17)\n(GLIBC_2.18)\n(GLIBC_PRIVATE)\n(here's a fancier command to get the latest version required, in case anyone is interested)\n(venv) belph@alpha ~/venv $ ldd -v \\\n    lib/python3.5/site-packages/tensorflow/libtensorflow_framework.so \\\n    | grep -oP '[A-Z][A-Z0-9.]*_[0-9.]+(?=\\) =>)' \\\n    | sort -V \\\n    | uniq \\\n    | tr '_' ' ' \\\n    | awk '{ reqs[$1] = $2 } END { for (lib in reqs) { print lib,reqs[lib] } }'\nGLIBCXX 3.4.19\nCXXABI 1.3.7\nGLIBC 2.18\nGCC 4.2.0\nI have noticed the Tested Source Configurations list on the documentation; these very well may be the machines which compile the binaries, but they do not specify which version of glibc is installed. Additionally, glibc version 2.19 is specified in a toolchain, but it is unclear whether this is actually used when compiling the official distributions (or I just missed it).\nWould it be possible to specify what versions of shared libraries are required to be installed, or, at a minimum, some more detailed information about the system each binary is compiled on? The latter may be specified somewhere already, but I have not been able to find it. I'm not necessarily asking for a library requirement list that TensorFlow commits to maintain compatibility with across releases; instead, I just think it would be useful to be able to have a go-to place to answer the question of \"what version of glibc do I need to run the official TensorFlow 1.5 build?\" Anything would be helpful!\nThank you! Apologies if anything I've said is unclear; I'll be happy to clarify.\nSource code / logs\nN/A", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: N/A\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: N/A\r\n- **TensorFlow installed from (source or binary)**: `pip`\r\n- **TensorFlow version (use command below)**: N/A\r\n- **Python version**:  N/A\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **GCC/Compiler version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: N/A\r\n- **GPU model and memory**: N/A\r\n- **Exact command to reproduce**: N/A\r\n\r\n### Describe the problem\r\n(Note: This issue is related to #16046, but I feel that it's different enough to warrant a separate request, rather than resurrecting that one. Also, this question's wording is biased towards Linux, but the spirit of it may be useful for other systems as well.)\r\n\r\nTensorFlow currently specifies its system requirements at the level of an operating system and CPU architecture (for example, the docs [currently state][ubuntu] that Ubuntu 16.04 x86_64 is the supported Linux variant). This is certainly helpful, but, when incorporating TensorFlow into larger projects with their own lists of dependencies, I feel that it may be useful to additionally have somewhere that provides a clear description of the dynamic library requirements for the official releases. For example, `glibc` version requirements have burned a number of developers (a quick search shows #14208 and #15376). Currently, the only reliable way (to my knowledge) to determine the required versions of `glibc` and friends for a given TensorFlow release is to run `ldd -v` on it (the following are run on TensorFlow 1.5.0, which is what I happen to have installed on this machine):\r\n\r\n```bash\r\n(venv) belph@alpha ~/venv $ ldd -v \\\r\n    lib/python3.5/site-packages/tensorflow/libtensorflow_framework.so \\\r\n    | grep -oP '\\([A-Z][A-Z0-9._]+\\)' \\\r\n    | sort -V \\\r\n    | uniq\r\n(CXXABI_1.3)\r\n(CXXABI_1.3.5)\r\n(CXXABI_1.3.7)\r\n(GCC_3.0)\r\n(GCC_3.3)\r\n(GCC_4.2.0)\r\n(GLIBCXX_3.4)\r\n(GLIBCXX_3.4.9)\r\n(GLIBCXX_3.4.11)\r\n(GLIBCXX_3.4.14)\r\n(GLIBCXX_3.4.17)\r\n(GLIBCXX_3.4.18)\r\n(GLIBCXX_3.4.19)\r\n(GLIBC_2.2.5)\r\n(GLIBC_2.3)\r\n(GLIBC_2.3.2)\r\n(GLIBC_2.3.4)\r\n(GLIBC_2.4)\r\n(GLIBC_2.6)\r\n(GLIBC_2.7)\r\n(GLIBC_2.11)\r\n(GLIBC_2.14)\r\n(GLIBC_2.16)\r\n(GLIBC_2.17)\r\n(GLIBC_2.18)\r\n(GLIBC_PRIVATE)\r\n```\r\n(here's a fancier command to get the latest version required, in case anyone is interested)\r\n```bash\r\n(venv) belph@alpha ~/venv $ ldd -v \\\r\n    lib/python3.5/site-packages/tensorflow/libtensorflow_framework.so \\\r\n    | grep -oP '[A-Z][A-Z0-9.]*_[0-9.]+(?=\\) =>)' \\\r\n    | sort -V \\\r\n    | uniq \\\r\n    | tr '_' ' ' \\\r\n    | awk '{ reqs[$1] = $2 } END { for (lib in reqs) { print lib,reqs[lib] } }'\r\nGLIBCXX 3.4.19\r\nCXXABI 1.3.7\r\nGLIBC 2.18\r\nGCC 4.2.0\r\n```\r\n\r\nI _have_ noticed the [Tested Source Configurations][srcconfigs] list on the documentation; these very well may be the machines which compile the binaries, but they do not specify which version of `glibc` is installed. Additionally, `glibc` version 2.19 is [specified in a toolchain][toolchain], but it is unclear whether this is actually used when compiling the official distributions (or I just missed it).\r\n\r\nWould it be possible to specify what versions of shared libraries are required to be installed, or, at a minimum, some more detailed information about the system each binary is compiled on? The latter may be specified somewhere already, but I have not been able to find it. I'm not necessarily asking for a library requirement list that TensorFlow commits to maintain compatibility with across releases; instead, I just think it would be useful to be able to have a go-to place to answer the question of \"what version of `glibc` do I need to run the official TensorFlow 1.5 build?\" Anything would be helpful!\r\n\r\nThank you! Apologies if anything I've said is unclear; I'll be happy to clarify.\r\n\r\n### Source code / logs\r\nN/A\r\n\r\n[ubuntu]: https://www.tensorflow.org/install/install_linux#top_of_page\r\n[srcconfigs]: https://www.tensorflow.org/install/install_sources#tested_source_configurations\r\n[toolchain]: https://github.com/tensorflow/tensorflow/blob/d33f80f4083ef63b90b5763988541e901e7f0a3d/third_party/toolchains/clang6/CROSSTOOL.tpl#L13"}