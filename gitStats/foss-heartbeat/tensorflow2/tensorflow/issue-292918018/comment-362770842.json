{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/362770842", "html_url": "https://github.com/tensorflow/tensorflow/pull/16601#issuecomment-362770842", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16601", "id": 362770842, "node_id": "MDEyOklzc3VlQ29tbWVudDM2Mjc3MDg0Mg==", "user": {"login": "ibebrett", "id": 219042, "node_id": "MDQ6VXNlcjIxOTA0Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/219042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibebrett", "html_url": "https://github.com/ibebrett", "followers_url": "https://api.github.com/users/ibebrett/followers", "following_url": "https://api.github.com/users/ibebrett/following{/other_user}", "gists_url": "https://api.github.com/users/ibebrett/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibebrett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibebrett/subscriptions", "organizations_url": "https://api.github.com/users/ibebrett/orgs", "repos_url": "https://api.github.com/users/ibebrett/repos", "events_url": "https://api.github.com/users/ibebrett/events{/privacy}", "received_events_url": "https://api.github.com/users/ibebrett/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-03T02:51:29Z", "updated_at": "2018-02-03T02:51:29Z", "author_association": "NONE", "body_html": "<p>Ok I fixed a build file error (trailing comma). Now I am just getting license check errors in the sanity checker:</p>\n<pre><code>=== Summary of sanity check results ====\n1. do_pylint PYTHON2: Python 2 pylint\n  PASS\n2. do_pylint PYTHON3: Python 3 pylint\n  PASS\n3. do_check_futures_test: Check that python files have certain __future__ imports\n  PASS\n4. do_buildifier: buildifier check\n  PASS\n5. do_bazel_nobuild: bazel nobuild\n  PASS\n6. do_pip_package_licenses_check: pip: license check for external dependencies\n  FAIL\n7. do_lib_package_licenses_check: C library: license check for external dependencies\n  FAIL\n8. do_java_package_licenses_check: Java Native Library: license check for external dependencies\n  FAIL\n9. do_pip_smoke_test: Pip Smoke Test: Checking py_test dependencies exist in pip package\n  PASS\n10. do_check_load_py_test: Check load py_test: Check that BUILD files with py_test target properly load py_test\n  PASS\n11. do_code_link_check: Code Link Check: Check there are no broken links\n  PASS\n12. do_cmake_python_sanity: Test entries in /tensorflow/contrib/cmake/python_{modules|protos|protos_cc}.txt for validity and consistency\n  PASS\n13. do_check_file_name_test: Check file names for cases\n  PASS\n</code></pre>\n<p>It looks like there is a white list and blacklist containing absl here:<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/1752d9c8fac5f6cf85a41e77d92e2743adbfc446/tensorflow/tools/ci_build/ci_sanity.sh#L312\">tensorflow/tensorflow/tools/ci_build/ci_sanity.sh</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 312\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/1752d9c8fac5f6cf85a41e77d92e2743adbfc446\">1752d9c</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L312\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"312\"></td>\n          <td id=\"LC312\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-en\">do_external_licenses_check</span>(){ </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\nbut maybe not specifically absl memory?</p>\n<p>Should I change it to link the entire thing, or maybe we should change the blacklist white list mechanism?</p>\n<p>Note: This is the specific error in the log</p>\n<pre><code>FAIL: mismatch in packaged licenses and external dependencies\nPlease remove the licenses for the following external dependencies:\n@bazel_tools//src\n</code></pre>", "body_text": "Ok I fixed a build file error (trailing comma). Now I am just getting license check errors in the sanity checker:\n=== Summary of sanity check results ====\n1. do_pylint PYTHON2: Python 2 pylint\n  PASS\n2. do_pylint PYTHON3: Python 3 pylint\n  PASS\n3. do_check_futures_test: Check that python files have certain __future__ imports\n  PASS\n4. do_buildifier: buildifier check\n  PASS\n5. do_bazel_nobuild: bazel nobuild\n  PASS\n6. do_pip_package_licenses_check: pip: license check for external dependencies\n  FAIL\n7. do_lib_package_licenses_check: C library: license check for external dependencies\n  FAIL\n8. do_java_package_licenses_check: Java Native Library: license check for external dependencies\n  FAIL\n9. do_pip_smoke_test: Pip Smoke Test: Checking py_test dependencies exist in pip package\n  PASS\n10. do_check_load_py_test: Check load py_test: Check that BUILD files with py_test target properly load py_test\n  PASS\n11. do_code_link_check: Code Link Check: Check there are no broken links\n  PASS\n12. do_cmake_python_sanity: Test entries in /tensorflow/contrib/cmake/python_{modules|protos|protos_cc}.txt for validity and consistency\n  PASS\n13. do_check_file_name_test: Check file names for cases\n  PASS\n\nIt looks like there is a white list and blacklist containing absl here:\n\n  \n    \n      tensorflow/tensorflow/tools/ci_build/ci_sanity.sh\n    \n    \n         Line 312\n      in\n      1752d9c\n    \n    \n    \n    \n\n        \n          \n           do_external_licenses_check(){ \n        \n    \n  \n\n\nbut maybe not specifically absl memory?\nShould I change it to link the entire thing, or maybe we should change the blacklist white list mechanism?\nNote: This is the specific error in the log\nFAIL: mismatch in packaged licenses and external dependencies\nPlease remove the licenses for the following external dependencies:\n@bazel_tools//src", "body": "Ok I fixed a build file error (trailing comma). Now I am just getting license check errors in the sanity checker:\r\n```\r\n=== Summary of sanity check results ====\r\n1. do_pylint PYTHON2: Python 2 pylint\r\n  PASS\r\n2. do_pylint PYTHON3: Python 3 pylint\r\n  PASS\r\n3. do_check_futures_test: Check that python files have certain __future__ imports\r\n  PASS\r\n4. do_buildifier: buildifier check\r\n  PASS\r\n5. do_bazel_nobuild: bazel nobuild\r\n  PASS\r\n6. do_pip_package_licenses_check: pip: license check for external dependencies\r\n  FAIL\r\n7. do_lib_package_licenses_check: C library: license check for external dependencies\r\n  FAIL\r\n8. do_java_package_licenses_check: Java Native Library: license check for external dependencies\r\n  FAIL\r\n9. do_pip_smoke_test: Pip Smoke Test: Checking py_test dependencies exist in pip package\r\n  PASS\r\n10. do_check_load_py_test: Check load py_test: Check that BUILD files with py_test target properly load py_test\r\n  PASS\r\n11. do_code_link_check: Code Link Check: Check there are no broken links\r\n  PASS\r\n12. do_cmake_python_sanity: Test entries in /tensorflow/contrib/cmake/python_{modules|protos|protos_cc}.txt for validity and consistency\r\n  PASS\r\n13. do_check_file_name_test: Check file names for cases\r\n  PASS\r\n```\r\nIt looks like there is a white list and blacklist containing absl here:\r\nhttps://github.com/tensorflow/tensorflow/blob/1752d9c8fac5f6cf85a41e77d92e2743adbfc446/tensorflow/tools/ci_build/ci_sanity.sh#L312\r\nbut maybe not specifically absl memory?\r\n\r\nShould I change it to link the entire thing, or maybe we should change the blacklist white list mechanism?\r\n\r\nNote: This is the specific error in the log\r\n```\r\nFAIL: mismatch in packaged licenses and external dependencies\r\nPlease remove the licenses for the following external dependencies:\r\n@bazel_tools//src\r\n```\r\n"}