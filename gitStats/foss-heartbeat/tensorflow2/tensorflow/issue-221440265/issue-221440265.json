{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9177", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9177/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9177/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9177/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9177", "id": 221440265, "node_id": "MDU6SXNzdWUyMjE0NDAyNjU=", "number": 9177, "title": "How to add an external java library(.jar) into Bazel build path.", "user": {"login": "cooliybob", "id": 5210314, "node_id": "MDQ6VXNlcjUyMTAzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5210314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cooliybob", "html_url": "https://github.com/cooliybob", "followers_url": "https://api.github.com/users/cooliybob/followers", "following_url": "https://api.github.com/users/cooliybob/following{/other_user}", "gists_url": "https://api.github.com/users/cooliybob/gists{/gist_id}", "starred_url": "https://api.github.com/users/cooliybob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cooliybob/subscriptions", "organizations_url": "https://api.github.com/users/cooliybob/orgs", "repos_url": "https://api.github.com/users/cooliybob/repos", "events_url": "https://api.github.com/users/cooliybob/events{/privacy}", "received_events_url": "https://api.github.com/users/cooliybob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-13T02:17:54Z", "updated_at": "2017-04-13T06:16:56Z", "closed_at": "2017-04-13T05:27:37Z", "author_association": "NONE", "body_html": "<h3>Describe the problem clearly</h3>\n<p>I follow the rule in <a href=\"https://bazel.build/versions/master/docs/be/android.html#android_binary.shrink_resources\" rel=\"nofollow\">Bazel website</a> to add a JAR into Bazel build path, this is my script:</p>\n<p>...<br>\nandroid_binary(<br>\n...<br>\ndeps = [<br>\n\":tensorflow_native_libs\",<br>\n\"//tensorflow/contrib/android:android_tensorflow_inference_java\",<br>\n<strong>\":libs/nd4j-api-0.8.0.jar\"</strong><br>\n],<br>\n)<br>\n...</p>\n<p>but the log says that my JAR is misplaced.<br>\nHow should I do to add a JAR library into build path or do I miss out something ?</p>\n<p>Thanks,</p>\n<h3>Source Code / Logs</h3>\n<p>ERROR: /home/bob/deep_learning/tensorflow/tensorflow/examples/android/BUILD:76:12: in deps attribute of android_binary rule //tensorflow/examples/android:tensorflow_demo: file '//tensorflow/examples/android:libs/nd4j-api-0.8.0.jar' is misplaced here (expected no files).<br>\nERROR: Analysis of target '//tensorflow/examples/android:tensorflow_demo' failed; build aborted.</p>", "body_text": "Describe the problem clearly\nI follow the rule in Bazel website to add a JAR into Bazel build path, this is my script:\n...\nandroid_binary(\n...\ndeps = [\n\":tensorflow_native_libs\",\n\"//tensorflow/contrib/android:android_tensorflow_inference_java\",\n\":libs/nd4j-api-0.8.0.jar\"\n],\n)\n...\nbut the log says that my JAR is misplaced.\nHow should I do to add a JAR library into build path or do I miss out something ?\nThanks,\nSource Code / Logs\nERROR: /home/bob/deep_learning/tensorflow/tensorflow/examples/android/BUILD:76:12: in deps attribute of android_binary rule //tensorflow/examples/android:tensorflow_demo: file '//tensorflow/examples/android:libs/nd4j-api-0.8.0.jar' is misplaced here (expected no files).\nERROR: Analysis of target '//tensorflow/examples/android:tensorflow_demo' failed; build aborted.", "body": "### Describe the problem clearly\r\nI follow the rule in [Bazel website](https://bazel.build/versions/master/docs/be/android.html#android_binary.shrink_resources) to add a JAR into Bazel build path, this is my script:\r\n\r\n...\r\nandroid_binary(\r\n    ...\r\n    deps = [\r\n        \":tensorflow_native_libs\",\r\n        \"//tensorflow/contrib/android:android_tensorflow_inference_java\",\r\n\t**\":libs/nd4j-api-0.8.0.jar\"**\r\n    ],\r\n)\r\n...\r\n\r\nbut the log says that my JAR is misplaced.\r\nHow should I do to add a JAR library into build path or do I miss out something ?\r\n\r\nThanks,\r\n\r\n### Source Code / Logs\r\nERROR: /home/bob/deep_learning/tensorflow/tensorflow/examples/android/BUILD:76:12: in deps attribute of android_binary rule //tensorflow/examples/android:tensorflow_demo: file '//tensorflow/examples/android:libs/nd4j-api-0.8.0.jar' is misplaced here (expected no files).\r\nERROR: Analysis of target '//tensorflow/examples/android:tensorflow_demo' failed; build aborted.\r\n\r\n"}