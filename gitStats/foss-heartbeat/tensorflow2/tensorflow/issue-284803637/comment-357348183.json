{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/357348183", "html_url": "https://github.com/tensorflow/tensorflow/issues/15669#issuecomment-357348183", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15669", "id": 357348183, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzM0ODE4Mw==", "user": {"login": "zo7", "id": 3229244, "node_id": "MDQ6VXNlcjMyMjkyNDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3229244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zo7", "html_url": "https://github.com/zo7", "followers_url": "https://api.github.com/users/zo7/followers", "following_url": "https://api.github.com/users/zo7/following{/other_user}", "gists_url": "https://api.github.com/users/zo7/gists{/gist_id}", "starred_url": "https://api.github.com/users/zo7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zo7/subscriptions", "organizations_url": "https://api.github.com/users/zo7/orgs", "repos_url": "https://api.github.com/users/zo7/repos", "events_url": "https://api.github.com/users/zo7/events{/privacy}", "received_events_url": "https://api.github.com/users/zo7/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-12T20:40:55Z", "updated_at": "2018-01-12T20:40:55Z", "author_association": "NONE", "body_html": "<p>Not sure if waiting for a response from me \u2013 but if it runs a graph optimization step why is the memory usage so large? Does it do a deep copy of the old graph+weights but persists the unoptimized graph somewhere?</p>\n<p>We are trying to use TF in a somewhat memory-sensitive environment, so we currently delete the TF session when we don't need it. This is less than ideal though, since the next time we need it we have to re-load the graph from file and let TF do this graph optimization process again.</p>", "body_text": "Not sure if waiting for a response from me \u2013 but if it runs a graph optimization step why is the memory usage so large? Does it do a deep copy of the old graph+weights but persists the unoptimized graph somewhere?\nWe are trying to use TF in a somewhat memory-sensitive environment, so we currently delete the TF session when we don't need it. This is less than ideal though, since the next time we need it we have to re-load the graph from file and let TF do this graph optimization process again.", "body": "Not sure if waiting for a response from me \u2013 but if it runs a graph optimization step why is the memory usage so large? Does it do a deep copy of the old graph+weights but persists the unoptimized graph somewhere?\r\n\r\nWe are trying to use TF in a somewhat memory-sensitive environment, so we currently delete the TF session when we don't need it. This is less than ideal though, since the next time we need it we have to re-load the graph from file and let TF do this graph optimization process again."}