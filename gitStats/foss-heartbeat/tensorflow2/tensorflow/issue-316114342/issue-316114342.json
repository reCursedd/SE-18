{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18717", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18717/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18717/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18717/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18717", "id": 316114342, "node_id": "MDU6SXNzdWUzMTYxMTQzNDI=", "number": 18717, "title": "iOS: No OpKernel was registered to support Op 'Conv2d' with these attrs", "user": {"login": "asdemon", "id": 12216082, "node_id": "MDQ6VXNlcjEyMjE2MDgy", "avatar_url": "https://avatars2.githubusercontent.com/u/12216082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asdemon", "html_url": "https://github.com/asdemon", "followers_url": "https://api.github.com/users/asdemon/followers", "following_url": "https://api.github.com/users/asdemon/following{/other_user}", "gists_url": "https://api.github.com/users/asdemon/gists{/gist_id}", "starred_url": "https://api.github.com/users/asdemon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asdemon/subscriptions", "organizations_url": "https://api.github.com/users/asdemon/orgs", "repos_url": "https://api.github.com/users/asdemon/repos", "events_url": "https://api.github.com/users/asdemon/events{/privacy}", "received_events_url": "https://api.github.com/users/asdemon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-04-20T03:25:14Z", "updated_at": "2018-10-03T12:45:23Z", "closed_at": "2018-05-07T21:53:32Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>\n<p><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nYES</p>\n</li>\n<li>\n<p><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nMac OS 10.12.6 (16G29)</p>\n</li>\n<li>\n<p><strong>TensorFlow installed from (source or binary)</strong>:<br>\nI only build the iOS library from source<br>\nwhen I trained the model, I install it use pip</p>\n</li>\n<li>\n<p><strong>TensorFlow version (use command below)</strong>:<br>\n1.7.0</p>\n</li>\n<li>\n<p><strong>Python version</strong>:</p>\n</li>\n<li>\n<p><strong>Bazel version (if compiling from source)</strong>:</p>\n</li>\n<li>\n<p><strong>GCC/Compiler version (if compiling from source)</strong>:</p>\n</li>\n<li>\n<p><strong>CUDA/cuDNN version</strong>:<br>\nNot use GPU</p>\n</li>\n<li>\n<p><strong>GPU model and memory</strong>:</p>\n</li>\n<li>\n<p><strong>Exact command to reproduce</strong>:<br>\nbuild_all_ios.sh -g mymodel.pb</p>\n</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I use command list below to generate the ops_to_register.h file. and build the iOS library use \"build_all_ios.sh -g mymodel.pb\"</p>\n<pre><code>$ bazel build tensorflow/python/tools/print_selective_registration_header\n$ bazel-bin/tensorflow/python/tools/print_selective_registration_header \\\n  --graphs=graph.pb &gt; tensorflow/core/framework/ops_to_register.h\n</code></pre>\n<p>After that , I config my Xcode and run the model on an iphone, but it issues error:</p>\n<p>Could not create TensorFlow Graph: Invalid argument: No OpKernel was registered to support Op 'Conv2D' with these attrs.  Registered devices: [CPU], Registered kernels:<br>\n</p>\n<pre><code> [[Node: init_conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 4, 4, 1], use_cudnn_on_gpu=false](Pad, init_conv/weights/read)]]\n</code></pre>\n<p>but the conv*.cc is in the tf_op_files.txt,  Is there some error on my usage?</p>", "body_text": "System information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nYES\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nMac OS 10.12.6 (16G29)\n\n\nTensorFlow installed from (source or binary):\nI only build the iOS library from source\nwhen I trained the model, I install it use pip\n\n\nTensorFlow version (use command below):\n1.7.0\n\n\nPython version:\n\n\nBazel version (if compiling from source):\n\n\nGCC/Compiler version (if compiling from source):\n\n\nCUDA/cuDNN version:\nNot use GPU\n\n\nGPU model and memory:\n\n\nExact command to reproduce:\nbuild_all_ios.sh -g mymodel.pb\n\n\nDescribe the problem\nI use command list below to generate the ops_to_register.h file. and build the iOS library use \"build_all_ios.sh -g mymodel.pb\"\n$ bazel build tensorflow/python/tools/print_selective_registration_header\n$ bazel-bin/tensorflow/python/tools/print_selective_registration_header \\\n  --graphs=graph.pb > tensorflow/core/framework/ops_to_register.h\n\nAfter that , I config my Xcode and run the model on an iphone, but it issues error:\nCould not create TensorFlow Graph: Invalid argument: No OpKernel was registered to support Op 'Conv2D' with these attrs.  Registered devices: [CPU], Registered kernels:\n\n [[Node: init_conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 4, 4, 1], use_cudnn_on_gpu=false](Pad, init_conv/weights/read)]]\n\nbut the conv*.cc is in the tf_op_files.txt,  Is there some error on my usage?", "body": "\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nYES\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nMac OS 10.12.6 (16G29)\r\n- **TensorFlow installed from (source or binary)**:\r\nI only build the iOS library from source\r\nwhen I trained the model, I install it use pip\r\n- **TensorFlow version (use command below)**:\r\n1.7.0\r\n- **Python version**: \r\n\r\n- **Bazel version (if compiling from source)**:\r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\nNot use GPU\r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**:\r\nbuild_all_ios.sh -g mymodel.pb\r\n\r\n\r\n### Describe the problem\r\nI use command list below to generate the ops_to_register.h file. and build the iOS library use \"build_all_ios.sh -g mymodel.pb\"\r\n```\r\n$ bazel build tensorflow/python/tools/print_selective_registration_header\r\n$ bazel-bin/tensorflow/python/tools/print_selective_registration_header \\\r\n  --graphs=graph.pb > tensorflow/core/framework/ops_to_register.h\r\n```\r\n\r\nAfter that , I config my Xcode and run the model on an iphone, but it issues error:\r\n\r\n\r\nCould not create TensorFlow Graph: Invalid argument: No OpKernel was registered to support Op 'Conv2D' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n  <no registered kernels>\r\n\r\n\t [[Node: init_conv/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"VALID\", strides=[1, 4, 4, 1], use_cudnn_on_gpu=false](Pad, init_conv/weights/read)]]\r\n\r\nbut the conv*.cc is in the tf_op_files.txt,  Is there some error on my usage?\r\n"}