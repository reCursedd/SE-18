{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/173", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/173/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/173/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/173", "id": 116549339, "node_id": "MDU6SXNzdWUxMTY1NDkzMzk=", "number": 173, "title": "Unable to restore trained models on the en-fr translate model:  tensorflow.python.framework.errors.NotFoundError: Tensor name \"embedding_attention_seq2seq/RNN/MultiRNNCell/Cell2/GRUCell/Gates/Linear/Matrix\" not found", "user": {"login": "viveksck", "id": 335394, "node_id": "MDQ6VXNlcjMzNTM5NA==", "avatar_url": "https://avatars0.githubusercontent.com/u/335394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viveksck", "html_url": "https://github.com/viveksck", "followers_url": "https://api.github.com/users/viveksck/followers", "following_url": "https://api.github.com/users/viveksck/following{/other_user}", "gists_url": "https://api.github.com/users/viveksck/gists{/gist_id}", "starred_url": "https://api.github.com/users/viveksck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viveksck/subscriptions", "organizations_url": "https://api.github.com/users/viveksck/orgs", "repos_url": "https://api.github.com/users/viveksck/repos", "events_url": "https://api.github.com/users/viveksck/events{/privacy}", "received_events_url": "https://api.github.com/users/viveksck/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2015-11-12T13:33:25Z", "updated_at": "2017-02-21T17:47:41Z", "closed_at": "2015-11-13T22:22:29Z", "author_association": "NONE", "body_html": "<p>Hi, when I try the command:</p>\n<p>Since ultimately I want to use a model similar to translate for POS tagging, I just copies translate.py to pos.py and trained a model.</p>\n<p><code>/home/vvkulkarni/bazel/output/bazel run -- //tensorflow/models/rnn/translate:pos --data_dir /data/vivek/pos_tags/ --train_dir /data/vivek/pos_tags/models/ --decode 1</code></p>\n<p>I get the error:</p>\n<p><code>File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/python/platform/default/_app.py\", line 15, in run sys.exit(main(sys.argv)) File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/models/rnn/translate/pos.py\", line 262, in main decode() File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/models/rnn/translate/pos.py\", line 196, in decode model = create_model(sess, True) File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/models/rnn/translate/pos.py\", line 112, in create_model model.saver.restore(session, \"/data/vivek/pos_tags/models/translate.ckpt-13450\") File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/python/training/saver.py\", line 867, in restore sess.run([self._restore_op_name], {self._filename_tensor_name: save_path}) File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/python/client/session.py\", line 349, in run results = self._do_run(target_list, unique_fetch_targets, feed_dict_string) File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/python/client/session.py\", line 423, in _do_run e.code) tensorflow.python.framework.errors.NotFoundError: Tensor name \"embedding_attention_seq2seq/RNN/MultiRNNCell/Cell2/GRUCell/Gates/Linear/Matrix\" n ot found in checkpoint files /data/vivek/pos_tags/models/translate.ckpt-13450 [[Node: save/restore_slice_14 = RestoreSlice[dt=DT_FLOAT, preferred_shard=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_sa ve/Const_0, save/restore_slice_14/tensor_name, save/restore_slice_14/shape_and_slice)]] Caused by op u'save/restore_slice_14', defined at</code></p>", "body_text": "Hi, when I try the command:\nSince ultimately I want to use a model similar to translate for POS tagging, I just copies translate.py to pos.py and trained a model.\n/home/vvkulkarni/bazel/output/bazel run -- //tensorflow/models/rnn/translate:pos --data_dir /data/vivek/pos_tags/ --train_dir /data/vivek/pos_tags/models/ --decode 1\nI get the error:\nFile \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/python/platform/default/_app.py\", line 15, in run sys.exit(main(sys.argv)) File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/models/rnn/translate/pos.py\", line 262, in main decode() File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/models/rnn/translate/pos.py\", line 196, in decode model = create_model(sess, True) File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/models/rnn/translate/pos.py\", line 112, in create_model model.saver.restore(session, \"/data/vivek/pos_tags/models/translate.ckpt-13450\") File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/python/training/saver.py\", line 867, in restore sess.run([self._restore_op_name], {self._filename_tensor_name: save_path}) File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/python/client/session.py\", line 349, in run results = self._do_run(target_list, unique_fetch_targets, feed_dict_string) File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl ow/models/rnn/translate/pos.runfiles/tensorflow/python/client/session.py\", line 423, in _do_run e.code) tensorflow.python.framework.errors.NotFoundError: Tensor name \"embedding_attention_seq2seq/RNN/MultiRNNCell/Cell2/GRUCell/Gates/Linear/Matrix\" n ot found in checkpoint files /data/vivek/pos_tags/models/translate.ckpt-13450 [[Node: save/restore_slice_14 = RestoreSlice[dt=DT_FLOAT, preferred_shard=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_sa ve/Const_0, save/restore_slice_14/tensor_name, save/restore_slice_14/shape_and_slice)]] Caused by op u'save/restore_slice_14', defined at", "body": "Hi, when I try the command:\n\nSince ultimately I want to use a model similar to translate for POS tagging, I just copies translate.py to pos.py and trained a model.\n\n`/home/vvkulkarni/bazel/output/bazel run -- //tensorflow/models/rnn/translate:pos --data_dir /data/vivek/pos_tags/ --train_dir /data/vivek/pos_tags/models/ --decode 1`\n\nI get the error:\n\n`File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl\now/models/rnn/translate/pos.runfiles/tensorflow/python/platform/default/_app.py\", line 15, in run\n    sys.exit(main(sys.argv))\n  File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl\now/models/rnn/translate/pos.runfiles/tensorflow/models/rnn/translate/pos.py\", line 262, in main\n    decode()\n  File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl\now/models/rnn/translate/pos.runfiles/tensorflow/models/rnn/translate/pos.py\", line 196, in decode\n    model = create_model(sess, True)\n  File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl\now/models/rnn/translate/pos.runfiles/tensorflow/models/rnn/translate/pos.py\", line 112, in create_model\n    model.saver.restore(session, \"/data/vivek/pos_tags/models/translate.ckpt-13450\")\n  File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl\now/models/rnn/translate/pos.runfiles/tensorflow/python/training/saver.py\", line 867, in restore\n    sess.run([self._restore_op_name], {self._filename_tensor_name: save_path})\n  File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl\now/models/rnn/translate/pos.runfiles/tensorflow/python/client/session.py\", line 349, in run\n    results = self._do_run(target_list, unique_fetch_targets, feed_dict_string)\n  File \"/home/vvkulkarni/.cache/bazel/_bazel_vvkulkarni/4fc9a6787896f8b64890985f604431f2/tensorflow/bazel-out/local_linux-fastbuild/bin/tensorfl\now/models/rnn/translate/pos.runfiles/tensorflow/python/client/session.py\", line 423, in _do_run\n    e.code)\ntensorflow.python.framework.errors.NotFoundError: Tensor name \"embedding_attention_seq2seq/RNN/MultiRNNCell/Cell2/GRUCell/Gates/Linear/Matrix\" n\not found in checkpoint files /data/vivek/pos_tags/models/translate.ckpt-13450\n         [[Node: save/restore_slice_14 = RestoreSlice[dt=DT_FLOAT, preferred_shard=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_sa\nve/Const_0, save/restore_slice_14/tensor_name, save/restore_slice_14/shape_and_slice)]]\nCaused by op u'save/restore_slice_14', defined at`\n"}