{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/223083950", "pull_request_review_id": 162132907, "id": 223083950, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMzA4Mzk1MA==", "diff_hunk": "@@ -258,11 +258,11 @@ TfLiteStatus AddOpsAndParams(\n       augmented_inputs.push_back(next_id++);\n     };\n \n-    auto add_vector_int32 = [&](const int* values, uint32_t num_values) {\n+    auto add_vector_int32 = [&](const uint32_t* values, uint32_t num_values) {\n       ANeuralNetworksOperandType operand_type{\n           .type = ANEURALNETWORKS_TENSOR_INT32,\n           .dimensionCount = 1,\n-          .dimensions = &num_values};\n+          .dimensions = values};", "path": "tensorflow/contrib/lite/nnapi_delegate.cc", "position": 10, "original_position": 10, "commit_id": "f2508547d57d376ff1d3f58b27e34fddd8e8abbc", "original_commit_id": "f2508547d57d376ff1d3f58b27e34fddd8e8abbc", "user": {"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}, "body": "Hmm, I'm pretty sure that calling addOperand() will internally trigger a copy of the provided dimension data. Can you add any more details about the segfault you're seeing? I'm wondering if the squeeze dimensions are actually empty in this case? Can you check?", "created_at": "2018-10-05T17:29:43Z", "updated_at": "2018-10-05T17:29:43Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/22733#discussion_r223083950", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/22733", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/223083950"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/22733#discussion_r223083950"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/22733"}}, "body_html": "<p>Hmm, I'm pretty sure that calling addOperand() will internally trigger a copy of the provided dimension data. Can you add any more details about the segfault you're seeing? I'm wondering if the squeeze dimensions are actually empty in this case? Can you check?</p>", "body_text": "Hmm, I'm pretty sure that calling addOperand() will internally trigger a copy of the provided dimension data. Can you add any more details about the segfault you're seeing? I'm wondering if the squeeze dimensions are actually empty in this case? Can you check?", "in_reply_to_id": 223054783}