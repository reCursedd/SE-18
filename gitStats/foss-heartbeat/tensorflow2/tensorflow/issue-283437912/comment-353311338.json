{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/353311338", "html_url": "https://github.com/tensorflow/tensorflow/issues/15497#issuecomment-353311338", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15497", "id": 353311338, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzMxMTMzOA==", "user": {"login": "selcouthlyBlue", "id": 13268675, "node_id": "MDQ6VXNlcjEzMjY4Njc1", "avatar_url": "https://avatars2.githubusercontent.com/u/13268675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/selcouthlyBlue", "html_url": "https://github.com/selcouthlyBlue", "followers_url": "https://api.github.com/users/selcouthlyBlue/followers", "following_url": "https://api.github.com/users/selcouthlyBlue/following{/other_user}", "gists_url": "https://api.github.com/users/selcouthlyBlue/gists{/gist_id}", "starred_url": "https://api.github.com/users/selcouthlyBlue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/selcouthlyBlue/subscriptions", "organizations_url": "https://api.github.com/users/selcouthlyBlue/orgs", "repos_url": "https://api.github.com/users/selcouthlyBlue/repos", "events_url": "https://api.github.com/users/selcouthlyBlue/events{/privacy}", "received_events_url": "https://api.github.com/users/selcouthlyBlue/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-21T10:07:30Z", "updated_at": "2017-12-21T10:07:30Z", "author_association": "CONTRIBUTOR", "body_html": "<p>And here's one using contrib rnn:</p>\n<pre><code>import tensorflow as tf\nfrom tensorflow.contrib.grid_rnn.python.ops import grid_rnn_cell\nfrom tensorflow.contrib import rnn\n\n\nclass GridRNNTest(tf.test.TestCase):\n    def setUp(self):\n        self.num_features = 1\n        self.time_steps = 1\n        self.batch_size = 1\n        tf.reset_default_graph()\n        self.input_layer = tf.placeholder(tf.float32, [self.batch_size, self.time_steps, self.num_features])\n        self.cell = grid_rnn_cell.Grid1LSTMCell(num_units=8)\n\n    def test_simple_grid_rnn(self):\n        self.input_layer = tf.unstack(self.input_layer, self.time_steps, 1)\n        rnn.static_rnn(self.cell, self.input_layer, dtype=tf.float32)\n\nclass BidirectionalGridRNNTest(tf.test.TestCase):\n    def setUp(self):\n        self.num_features = 1\n        self.time_steps = 1\n        self.batch_size = 1\n        tf.reset_default_graph()\n        self.input_layer = tf.placeholder(tf.float32, [self.batch_size, self.time_steps, self.num_features])\n        self.cell_fw = grid_rnn_cell.Grid1LSTMCell(num_units=8)\n        self.cell_bw = grid_rnn_cell.Grid1LSTMCell(num_units=8)\n\n    def test_simple_bidirectional_grid_rnn(self):\n        self.input_layer = tf.unstack(self.input_layer, self.time_steps, 1)\n        rnn.static_bidirectional_rnn(self.cell_fw, self.cell_bw, self.input_layer, dtype=tf.float32)\n\n\nclass StackBidirectionalGridRNNTest(tf.test.TestCase):\n    def setUp(self):\n        self.num_features = 1\n        self.time_steps = 1\n        self.batch_size = 1\n        tf.reset_default_graph()\n        self.input_layer = tf.placeholder(tf.float32, [self.batch_size, self.time_steps, self.num_features])\n        self.cells_fw = [grid_rnn_cell.Grid1LSTMCell(num_units=8) for _ in range(2)]\n        self.cells_bw = [grid_rnn_cell.Grid1LSTMCell(num_units=8) for _ in range(2)]\n\n    '''\n    def test_stack_bidirectional_grid_rnn(self):\n        self.input_layer = tf.unstack(self.input_layer, self.time_steps, 1)\n        rnn.stack_bidirectional_rnn(self.cells_fw, self.cells_fw, self.input_layer, dtype=tf.float32)\n    '''\n\n\nif __name__ == '__main__':\n    tf.test.main()\n\n</code></pre>", "body_text": "And here's one using contrib rnn:\nimport tensorflow as tf\nfrom tensorflow.contrib.grid_rnn.python.ops import grid_rnn_cell\nfrom tensorflow.contrib import rnn\n\n\nclass GridRNNTest(tf.test.TestCase):\n    def setUp(self):\n        self.num_features = 1\n        self.time_steps = 1\n        self.batch_size = 1\n        tf.reset_default_graph()\n        self.input_layer = tf.placeholder(tf.float32, [self.batch_size, self.time_steps, self.num_features])\n        self.cell = grid_rnn_cell.Grid1LSTMCell(num_units=8)\n\n    def test_simple_grid_rnn(self):\n        self.input_layer = tf.unstack(self.input_layer, self.time_steps, 1)\n        rnn.static_rnn(self.cell, self.input_layer, dtype=tf.float32)\n\nclass BidirectionalGridRNNTest(tf.test.TestCase):\n    def setUp(self):\n        self.num_features = 1\n        self.time_steps = 1\n        self.batch_size = 1\n        tf.reset_default_graph()\n        self.input_layer = tf.placeholder(tf.float32, [self.batch_size, self.time_steps, self.num_features])\n        self.cell_fw = grid_rnn_cell.Grid1LSTMCell(num_units=8)\n        self.cell_bw = grid_rnn_cell.Grid1LSTMCell(num_units=8)\n\n    def test_simple_bidirectional_grid_rnn(self):\n        self.input_layer = tf.unstack(self.input_layer, self.time_steps, 1)\n        rnn.static_bidirectional_rnn(self.cell_fw, self.cell_bw, self.input_layer, dtype=tf.float32)\n\n\nclass StackBidirectionalGridRNNTest(tf.test.TestCase):\n    def setUp(self):\n        self.num_features = 1\n        self.time_steps = 1\n        self.batch_size = 1\n        tf.reset_default_graph()\n        self.input_layer = tf.placeholder(tf.float32, [self.batch_size, self.time_steps, self.num_features])\n        self.cells_fw = [grid_rnn_cell.Grid1LSTMCell(num_units=8) for _ in range(2)]\n        self.cells_bw = [grid_rnn_cell.Grid1LSTMCell(num_units=8) for _ in range(2)]\n\n    '''\n    def test_stack_bidirectional_grid_rnn(self):\n        self.input_layer = tf.unstack(self.input_layer, self.time_steps, 1)\n        rnn.stack_bidirectional_rnn(self.cells_fw, self.cells_fw, self.input_layer, dtype=tf.float32)\n    '''\n\n\nif __name__ == '__main__':\n    tf.test.main()", "body": "And here's one using contrib rnn:\r\n\r\n```\r\nimport tensorflow as tf\r\nfrom tensorflow.contrib.grid_rnn.python.ops import grid_rnn_cell\r\nfrom tensorflow.contrib import rnn\r\n\r\n\r\nclass GridRNNTest(tf.test.TestCase):\r\n    def setUp(self):\r\n        self.num_features = 1\r\n        self.time_steps = 1\r\n        self.batch_size = 1\r\n        tf.reset_default_graph()\r\n        self.input_layer = tf.placeholder(tf.float32, [self.batch_size, self.time_steps, self.num_features])\r\n        self.cell = grid_rnn_cell.Grid1LSTMCell(num_units=8)\r\n\r\n    def test_simple_grid_rnn(self):\r\n        self.input_layer = tf.unstack(self.input_layer, self.time_steps, 1)\r\n        rnn.static_rnn(self.cell, self.input_layer, dtype=tf.float32)\r\n\r\nclass BidirectionalGridRNNTest(tf.test.TestCase):\r\n    def setUp(self):\r\n        self.num_features = 1\r\n        self.time_steps = 1\r\n        self.batch_size = 1\r\n        tf.reset_default_graph()\r\n        self.input_layer = tf.placeholder(tf.float32, [self.batch_size, self.time_steps, self.num_features])\r\n        self.cell_fw = grid_rnn_cell.Grid1LSTMCell(num_units=8)\r\n        self.cell_bw = grid_rnn_cell.Grid1LSTMCell(num_units=8)\r\n\r\n    def test_simple_bidirectional_grid_rnn(self):\r\n        self.input_layer = tf.unstack(self.input_layer, self.time_steps, 1)\r\n        rnn.static_bidirectional_rnn(self.cell_fw, self.cell_bw, self.input_layer, dtype=tf.float32)\r\n\r\n\r\nclass StackBidirectionalGridRNNTest(tf.test.TestCase):\r\n    def setUp(self):\r\n        self.num_features = 1\r\n        self.time_steps = 1\r\n        self.batch_size = 1\r\n        tf.reset_default_graph()\r\n        self.input_layer = tf.placeholder(tf.float32, [self.batch_size, self.time_steps, self.num_features])\r\n        self.cells_fw = [grid_rnn_cell.Grid1LSTMCell(num_units=8) for _ in range(2)]\r\n        self.cells_bw = [grid_rnn_cell.Grid1LSTMCell(num_units=8) for _ in range(2)]\r\n\r\n    '''\r\n    def test_stack_bidirectional_grid_rnn(self):\r\n        self.input_layer = tf.unstack(self.input_layer, self.time_steps, 1)\r\n        rnn.stack_bidirectional_rnn(self.cells_fw, self.cells_fw, self.input_layer, dtype=tf.float32)\r\n    '''\r\n\r\n\r\nif __name__ == '__main__':\r\n    tf.test.main()\r\n\r\n```"}