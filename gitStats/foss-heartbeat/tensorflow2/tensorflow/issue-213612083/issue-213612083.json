{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8326", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8326/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8326/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8326/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8326", "id": 213612083, "node_id": "MDU6SXNzdWUyMTM2MTIwODM=", "number": 8326, "title": "TensorBoard develop build failed due to npm dead loop and typescript error", "user": {"login": "bravomikekilo", "id": 17548436, "node_id": "MDQ6VXNlcjE3NTQ4NDM2", "avatar_url": "https://avatars0.githubusercontent.com/u/17548436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bravomikekilo", "html_url": "https://github.com/bravomikekilo", "followers_url": "https://api.github.com/users/bravomikekilo/followers", "following_url": "https://api.github.com/users/bravomikekilo/following{/other_user}", "gists_url": "https://api.github.com/users/bravomikekilo/gists{/gist_id}", "starred_url": "https://api.github.com/users/bravomikekilo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bravomikekilo/subscriptions", "organizations_url": "https://api.github.com/users/bravomikekilo/orgs", "repos_url": "https://api.github.com/users/bravomikekilo/repos", "events_url": "https://api.github.com/users/bravomikekilo/events{/privacy}", "received_events_url": "https://api.github.com/users/bravomikekilo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 284285184, "node_id": "MDU6TGFiZWwyODQyODUxODQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tensorboard", "name": "comp:tensorboard", "color": "0052cc", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, {"login": "decentralion", "id": 1400023, "node_id": "MDQ6VXNlcjE0MDAwMjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1400023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/decentralion", "html_url": "https://github.com/decentralion", "followers_url": "https://api.github.com/users/decentralion/followers", "following_url": "https://api.github.com/users/decentralion/following{/other_user}", "gists_url": "https://api.github.com/users/decentralion/gists{/gist_id}", "starred_url": "https://api.github.com/users/decentralion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/decentralion/subscriptions", "organizations_url": "https://api.github.com/users/decentralion/orgs", "repos_url": "https://api.github.com/users/decentralion/repos", "events_url": "https://api.github.com/users/decentralion/events{/privacy}", "received_events_url": "https://api.github.com/users/decentralion/received_events", "type": "User", "site_admin": false}, {"login": "chihuahua", "id": 4221553, "node_id": "MDQ6VXNlcjQyMjE1NTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/4221553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chihuahua", "html_url": "https://github.com/chihuahua", "followers_url": "https://api.github.com/users/chihuahua/followers", "following_url": "https://api.github.com/users/chihuahua/following{/other_user}", "gists_url": "https://api.github.com/users/chihuahua/gists{/gist_id}", "starred_url": "https://api.github.com/users/chihuahua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chihuahua/subscriptions", "organizations_url": "https://api.github.com/users/chihuahua/orgs", "repos_url": "https://api.github.com/users/chihuahua/repos", "events_url": "https://api.github.com/users/chihuahua/events{/privacy}", "received_events_url": "https://api.github.com/users/chihuahua/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2017-03-12T15:35:20Z", "updated_at": "2017-06-16T19:14:39Z", "closed_at": "2017-06-16T19:14:38Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu 16.10<br>\nnpm 4.4.1<br>\nnode.js v7.7.2</p>\n<p>Installed version of CUDA and cuDNN:  CUDA 8.0, cuDNN 5.1<br>\n-rw-r--r-- 1 root root   558720 9\u6708  15 07:02 /usr/local/cuda/lib64/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root       16 9\u6708  15 07:05 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.8.0<br>\nlrwxrwxrwx 1 root root       19 9\u6708  15 07:05 /usr/local/cuda/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.44<br>\n-rw-r--r-- 1 root root   415432 9\u6708  15 07:02 /usr/local/cuda/lib64/libcudart.so.8.0.44<br>\n-rw-r--r-- 1 root root   775162 9\u6708  15 07:02 /usr/local/cuda/lib64/libcudart_static.a<br>\n-rwxr-xr-x 1 root root 79337624 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn.so<br>\n-rwxr-xr-x 1 root root 79337624 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn.so.5<br>\n-rwxr-xr-x 1 root root 79337624 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn.so.5.1.5<br>\n-rw-r--r-- 1 root root 69756172 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn_static.a</p>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/f1ffbc548906e379d423633f76edc558be8284e7/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/f1ffbc548906e379d423633f76edc558be8284e7\"><tt>f1ffbc5</tt></a></li>\n<li>The output of <code>bazel version</code><br>\nBuild label: 0.4.4<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)<br>\nBuild timestamp: 1485975261<br>\nBuild timestamp as int: 1485975261</li>\n</ol>\n<h3>minimal reproducible example</h3>\n<p>get a fresh clone<br>\ncd tensorflow/tensorboard<br>\n<code>npm run prepare</code></p>\n<p>and npm install some packages and goes into a dead loop without the bower and typings</p>\n<blockquote>\n<p>tensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard<br>\nnpm install &amp;&amp; bower install &amp;&amp; typings install</p>\n</blockquote>\n<blockquote>\n<p>tensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard<br>\nnpm install &amp;&amp; bower install &amp;&amp; typings install</p>\n</blockquote>\n<blockquote>\n<p>tensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard<br>\nnpm install &amp;&amp; bower install &amp;&amp; typings install</p>\n</blockquote>\n<blockquote>\n<p>tensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard<br>\nnpm install &amp;&amp; bower install &amp;&amp; typings install</p>\n</blockquote>\n<h3>What other attempted solutions have you tried?</h3>\n<p>I have moved global typings and typescript, but nothing works.</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).<br>\nIf I kill the prepare after it goes into dead loop than use <code>bower install &amp;&amp; typings install</code><br>\neverything looks fine.<br>\nbut  <code>gulp</code> fail due to some semantic errors<br>\ntypings/globals/webcomponents.js/index.d.ts(48,5): error TS2403: Subsequent variable declarations   must have the same type.  Variable 'shadowRoot' must be of type 'ShadowRoot', but here has  type'ShadowRootPolyfill'.<br>\ntypings/globals/webcomponents.js/index.d.ts(48,5): error TS2687: All declarations of 'shadowRoot' must have identical modifiers.<br>\ntypings/globals/webcomponents.js/index.d.ts(48,5): error TS2403: Subsequent variable declarations must have the same type.  Variable 'shadowRoot' must be of type 'ShadowRoot', but here has type 'ShadowRootPolyfill'.<br>\ntypings/globals/webcomponents.js/index.d.ts(48,5): error TS2687: All declarations of 'shadowRoot' must have identical modifiers.<br>\n__lib.d.ts(7452,14): error TS2687: All declarations of 'shadowRoot' must have identical modifiers.<br>\n[23:27:41] TypeScript: 2 semantic errors<br>\n[23:27:41] TypeScript: 3 emit errors<br>\n[23:27:41] TypeScript: emit failed<br>\nthen the demo/index.html is just a blank page.</p>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nEnvironment info\nOperating System: Ubuntu 16.10\nnpm 4.4.1\nnode.js v7.7.2\nInstalled version of CUDA and cuDNN:  CUDA 8.0, cuDNN 5.1\n-rw-r--r-- 1 root root   558720 9\u6708  15 07:02 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 9\u6708  15 07:05 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 9\u6708  15 07:05 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44\n-rw-r--r-- 1 root root   415432 9\u6708  15 07:02 /usr/local/cuda/lib64/libcudart.so.8.0.44\n-rw-r--r-- 1 root root   775162 9\u6708  15 07:02 /usr/local/cuda/lib64/libcudart_static.a\n-rwxr-xr-x 1 root root 79337624 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn.so\n-rwxr-xr-x 1 root root 79337624 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn.so.5\n-rwxr-xr-x 1 root root 79337624 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn_static.a\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\nf1ffbc5\nThe output of bazel version\nBuild label: 0.4.4\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)\nBuild timestamp: 1485975261\nBuild timestamp as int: 1485975261\n\nminimal reproducible example\nget a fresh clone\ncd tensorflow/tensorboard\nnpm run prepare\nand npm install some packages and goes into a dead loop without the bower and typings\n\ntensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard\nnpm install && bower install && typings install\n\n\ntensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard\nnpm install && bower install && typings install\n\n\ntensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard\nnpm install && bower install && typings install\n\n\ntensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard\nnpm install && bower install && typings install\n\nWhat other attempted solutions have you tried?\nI have moved global typings and typescript, but nothing works.\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nIf I kill the prepare after it goes into dead loop than use bower install && typings install\neverything looks fine.\nbut  gulp fail due to some semantic errors\ntypings/globals/webcomponents.js/index.d.ts(48,5): error TS2403: Subsequent variable declarations   must have the same type.  Variable 'shadowRoot' must be of type 'ShadowRoot', but here has  type'ShadowRootPolyfill'.\ntypings/globals/webcomponents.js/index.d.ts(48,5): error TS2687: All declarations of 'shadowRoot' must have identical modifiers.\ntypings/globals/webcomponents.js/index.d.ts(48,5): error TS2403: Subsequent variable declarations must have the same type.  Variable 'shadowRoot' must be of type 'ShadowRoot', but here has type 'ShadowRootPolyfill'.\ntypings/globals/webcomponents.js/index.d.ts(48,5): error TS2687: All declarations of 'shadowRoot' must have identical modifiers.\n__lib.d.ts(7452,14): error TS2687: All declarations of 'shadowRoot' must have identical modifiers.\n[23:27:41] TypeScript: 2 semantic errors\n[23:27:41] TypeScript: 3 emit errors\n[23:27:41] TypeScript: emit failed\nthen the demo/index.html is just a blank page.", "body": "### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\r\n### Environment info\r\nOperating System: Ubuntu 16.10\r\nnpm 4.4.1\r\nnode.js v7.7.2\r\n\r\nInstalled version of CUDA and cuDNN:  CUDA 8.0, cuDNN 5.1\r\n-rw-r--r-- 1 root root   558720 9\u6708  15 07:02 /usr/local/cuda/lib64/libcudadevrt.a\r\nlrwxrwxrwx 1 root root       16 9\u6708  15 07:05 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\r\nlrwxrwxrwx 1 root root       19 9\u6708  15 07:05 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44\r\n-rw-r--r-- 1 root root   415432 9\u6708  15 07:02 /usr/local/cuda/lib64/libcudart.so.8.0.44\r\n-rw-r--r-- 1 root root   775162 9\u6708  15 07:02 /usr/local/cuda/lib64/libcudart_static.a\r\n-rwxr-xr-x 1 root root 79337624 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn.so\r\n-rwxr-xr-x 1 root root 79337624 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn.so.5\r\n-rwxr-xr-x 1 root root 79337624 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn.so.5.1.5\r\n-rw-r--r-- 1 root root 69756172 12\u6708 12 18:46 /usr/local/cuda/lib64/libcudnn_static.a\r\n\r\nIf installed from source, provide \r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\nf1ffbc548906e379d423633f76edc558be8284e7\r\n2. The output of `bazel version`\r\nBuild label: 0.4.4\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Wed Feb 1 18:54:21 2017 (1485975261)\r\nBuild timestamp: 1485975261\r\nBuild timestamp as int: 1485975261\r\n\r\n### minimal reproducible example\r\nget a fresh clone\r\ncd tensorflow/tensorboard\r\n`npm run prepare` \r\n\r\nand npm install some packages and goes into a dead loop without the bower and typings\r\n  > tensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard\r\n  > npm install && bower install && typings install\r\n  \r\n  \r\n  > tensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard\r\n  > npm install && bower install && typings install \r\n  \r\n  \r\n  > tensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard\r\n  > npm install && bower install && typings install\r\n  \r\n  \r\n  > tensorflow-vis@0.0.0 prepare /home/baomingkun/Res/tensorflow/tensorflow/tensorboard\r\n  > npm install && bower install && typings install\r\n\r\n### What other attempted solutions have you tried?\r\nI have moved global typings and typescript, but nothing works.\r\n\r\n### Logs or other output that would be helpful\r\n(If logs are large, please upload as attachment or provide link).\r\nIf I kill the prepare after it goes into dead loop than use `bower install && typings install` \r\neverything looks fine. \r\nbut  `gulp` fail due to some semantic errors\r\n  typings/globals/webcomponents.js/index.d.ts(48,5): error TS2403: Subsequent variable declarations   must have the same type.  Variable 'shadowRoot' must be of type 'ShadowRoot', but here has  type'ShadowRootPolyfill'.\r\n  typings/globals/webcomponents.js/index.d.ts(48,5): error TS2687: All declarations of 'shadowRoot' must have identical modifiers.\r\n  typings/globals/webcomponents.js/index.d.ts(48,5): error TS2403: Subsequent variable declarations must have the same type.  Variable 'shadowRoot' must be of type 'ShadowRoot', but here has type 'ShadowRootPolyfill'.\r\n  typings/globals/webcomponents.js/index.d.ts(48,5): error TS2687: All declarations of 'shadowRoot' must have identical modifiers.\r\n  __lib.d.ts(7452,14): error TS2687: All declarations of 'shadowRoot' must have identical modifiers.\r\n  [23:27:41] TypeScript: 2 semantic errors\r\n  [23:27:41] TypeScript: 3 emit errors\r\n  [23:27:41] TypeScript: emit failed\r\nthen the demo/index.html is just a blank page.\r\n"}