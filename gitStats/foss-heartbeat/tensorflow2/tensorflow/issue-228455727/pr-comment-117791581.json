{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/117791581", "pull_request_review_id": 39527825, "id": 117791581, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNzc5MTU4MQ==", "diff_hunk": "@@ -54,18 +54,26 @@ def testToInt16(self):\n       self.assertEqual([None, None], decode.get_shape().as_list())\n \n       result = decode.eval(feed_dict={in_bytes: [\"AaBC\"]})\n-      if sys.byteorder == \"big\":\n-        self.assertAllEqual(\n-            [[ord(\"A\") * 256 + ord(\"a\"), ord(\"B\") * 256 + ord(\"C\")]], result)\n-      else:\n-        self.assertAllEqual(\n-            [[ord(\"A\") + ord(\"a\") * 256, ord(\"B\") + ord(\"C\") * 256]], result)\n+      self.assertAllEqual(\n+          [[ord(\"A\") + ord(\"a\") * 256, ord(\"B\") + ord(\"C\") * 256]], result)\n \n       with self.assertRaisesOpError(\n           \"Input to DecodeRaw has length 3 that is not a multiple of 2, the \"\n           \"size of int16\"):\n         decode.eval(feed_dict={in_bytes: [\"123\", \"456\"]})\n \n+  def testEndianness(self):\n+    with self.test_session():\n+      in_bytes = array_ops.placeholder(dtypes.string, shape=[None])\n+      decode_le = parsing_ops.decode_raw(\n+          in_bytes, out_type=dtypes.int32, little_endian=True)\n+      decode_be = parsing_ops.decode_raw(\n+          in_bytes, out_type=dtypes.int32, little_endian=False)\n+      result = decode_le.eval(feed_dict={in_bytes: [\"\\x01\\x02\\x03\\x04\"]})", "path": "tensorflow/python/kernel_tests/decode_raw_op_test.py", "position": 25, "original_position": 25, "commit_id": "d7c9b9b78591ec14994be5512071d8461894e5cd", "original_commit_id": "d7c9b9b78591ec14994be5512071d8461894e5cd", "user": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "body": "Won't this depend on the endianness of the machine where this test is run? You can test the endianness of the machine here using the Python sys module, e.g.,\r\n```\r\n>>> import sys\r\n>>> sys.byteorder\r\n'little'\r\n```\r\n", "created_at": "2017-05-22T16:39:31Z", "updated_at": "2017-05-22T16:40:07Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/9876#discussion_r117791581", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/9876", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/117791581"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/9876#discussion_r117791581"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/9876"}}, "body_html": "<p>Won't this depend on the endianness of the machine where this test is run? You can test the endianness of the machine here using the Python sys module, e.g.,</p>\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.byteorder\n'little'\n</code></pre>", "body_text": "Won't this depend on the endianness of the machine where this test is run? You can test the endianness of the machine here using the Python sys module, e.g.,\n>>> import sys\n>>> sys.byteorder\n'little'"}