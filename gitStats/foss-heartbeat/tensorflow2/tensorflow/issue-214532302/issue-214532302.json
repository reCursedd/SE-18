{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8446", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8446/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8446/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8446/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8446", "id": 214532302, "node_id": "MDU6SXNzdWUyMTQ1MzIzMDI=", "number": 8446, "title": "Scatter_nd bug", "user": {"login": "Arsakes", "id": 129146, "node_id": "MDQ6VXNlcjEyOTE0Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/129146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Arsakes", "html_url": "https://github.com/Arsakes", "followers_url": "https://api.github.com/users/Arsakes/followers", "following_url": "https://api.github.com/users/Arsakes/following{/other_user}", "gists_url": "https://api.github.com/users/Arsakes/gists{/gist_id}", "starred_url": "https://api.github.com/users/Arsakes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Arsakes/subscriptions", "organizations_url": "https://api.github.com/users/Arsakes/orgs", "repos_url": "https://api.github.com/users/Arsakes/repos", "events_url": "https://api.github.com/users/Arsakes/events{/privacy}", "received_events_url": "https://api.github.com/users/Arsakes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-03-15T21:30:47Z", "updated_at": "2017-04-27T15:59:02Z", "closed_at": "2017-03-16T01:01:39Z", "author_association": "NONE", "body_html": "<p>I'm getting strange bug with scatter_nd (TF 1.0v).</p>\n<pre><code>InvalidArgumentError (see above for traceback): Must have updates.shape = indices.shape[:IXDIM] +     \nparams_shape[IXDIM:], got updates.shape [1,2,4], indices.shape [1,2,2], params_shape [1,9,4]\n</code></pre>\n<p>I've read the docs for scatter_nd function and it seems to me that following set of shapes are perfectly viable:<br>\nMaybe I'm tired but, Using terms from the docs:<br>\n<code>indices</code> rank: Q = 3<br>\n<code>shape</code> rank : P = 3<br>\nlast dim length for indices K = 2<br>\n<code>updates</code> rank:  = Q-1+P-K = 3-1+3-2=3<br>\nAll seems to fit.<br>\nAnd full shape of <code>update</code> should be:<br>\n<code>[indices_shape[0], indicies_shape[1], shape[K]] </code><br>\nwhich gives:<br>\n<code>[1, 2, 4]</code></p>\n<p>Where is the problem?</p>", "body_text": "I'm getting strange bug with scatter_nd (TF 1.0v).\nInvalidArgumentError (see above for traceback): Must have updates.shape = indices.shape[:IXDIM] +     \nparams_shape[IXDIM:], got updates.shape [1,2,4], indices.shape [1,2,2], params_shape [1,9,4]\n\nI've read the docs for scatter_nd function and it seems to me that following set of shapes are perfectly viable:\nMaybe I'm tired but, Using terms from the docs:\nindices rank: Q = 3\nshape rank : P = 3\nlast dim length for indices K = 2\nupdates rank:  = Q-1+P-K = 3-1+3-2=3\nAll seems to fit.\nAnd full shape of update should be:\n[indices_shape[0], indicies_shape[1], shape[K]] \nwhich gives:\n[1, 2, 4]\nWhere is the problem?", "body": "I'm getting strange bug with scatter_nd (TF 1.0v).\r\n\r\n    InvalidArgumentError (see above for traceback): Must have updates.shape = indices.shape[:IXDIM] +     \r\n    params_shape[IXDIM:], got updates.shape [1,2,4], indices.shape [1,2,2], params_shape [1,9,4]\r\n\r\nI've read the docs for scatter_nd function and it seems to me that following set of shapes are perfectly viable:\r\nMaybe I'm tired but, Using terms from the docs:\r\n`indices` rank: Q = 3\r\n`shape` rank : P = 3\r\nlast dim length for indices K = 2\r\n`updates` rank:  = Q-1+P-K = 3-1+3-2=3\r\nAll seems to fit.\r\nAnd full shape of `update` should be: \r\n`[indices_shape[0], indicies_shape[1], shape[K]] `\r\nwhich gives: \r\n`[1, 2, 4]`\r\n\r\nWhere is the problem?"}