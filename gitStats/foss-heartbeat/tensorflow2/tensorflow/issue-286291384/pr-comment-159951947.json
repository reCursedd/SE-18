{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/159951947", "pull_request_review_id": 86990827, "id": 159951947, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTk1MTk0Nw==", "diff_hunk": "@@ -120,10 +120,7 @@ JNIEXPORT jlongArray JNICALL Java_org_tensorflow_Operation_shape(\n   std::unique_ptr<int64_t[]> cdims(new int64_t[num_dims]);\n   TF_GraphGetTensorShape(graph, output, cdims.get(), static_cast<int>(num_dims),\n                          status);\n-  if (!throwExceptionIfNotOK(env, status)) {\n-    TF_DeleteStatus(status);\n-    return nullptr;\n-  }\n+                                        ", "path": "tensorflow/java/src/main/native/operation_jni.cc", "position": 8, "original_position": 8, "commit_id": "4d84ef16cb4684da397167184fa6b64850e670d3", "original_commit_id": "4d84ef16cb4684da397167184fa6b64850e670d3", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "body": "I don't think this change is correct. If `TF_GraphGetTensorShape` fails for any reason (and indicates the error by filling in `status`), with this PR, the error will be ignored.\r\n\r\nPrior to this PR, we correctly convert the error to an exception.\r\n\r\nClosing this PR since the change seems incorrect. If I've missed something, do let me know and we can reopen if required. Thanks.", "created_at": "2018-01-05T18:49:23Z", "updated_at": "2018-01-05T18:49:23Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/15879#discussion_r159951947", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15879", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/159951947"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/15879#discussion_r159951947"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15879"}}, "body_html": "<p>I don't think this change is correct. If <code>TF_GraphGetTensorShape</code> fails for any reason (and indicates the error by filling in <code>status</code>), with this PR, the error will be ignored.</p>\n<p>Prior to this PR, we correctly convert the error to an exception.</p>\n<p>Closing this PR since the change seems incorrect. If I've missed something, do let me know and we can reopen if required. Thanks.</p>", "body_text": "I don't think this change is correct. If TF_GraphGetTensorShape fails for any reason (and indicates the error by filling in status), with this PR, the error will be ignored.\nPrior to this PR, we correctly convert the error to an exception.\nClosing this PR since the change seems incorrect. If I've missed something, do let me know and we can reopen if required. Thanks."}