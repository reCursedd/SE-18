{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/332023282", "html_url": "https://github.com/tensorflow/tensorflow/issues/13269#issuecomment-332023282", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13269", "id": 332023282, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjAyMzI4Mg==", "user": {"login": "carlthome", "id": 1595907, "node_id": "MDQ6VXNlcjE1OTU5MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1595907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlthome", "html_url": "https://github.com/carlthome", "followers_url": "https://api.github.com/users/carlthome/followers", "following_url": "https://api.github.com/users/carlthome/following{/other_user}", "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions", "organizations_url": "https://api.github.com/users/carlthome/orgs", "repos_url": "https://api.github.com/users/carlthome/repos", "events_url": "https://api.github.com/users/carlthome/events{/privacy}", "received_events_url": "https://api.github.com/users/carlthome/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-25T21:46:26Z", "updated_at": "2017-09-25T21:47:25Z", "author_association": "CONTRIBUTOR", "body_html": "<blockquote>\n<p>Why does this error happen?</p>\n</blockquote>\n<p>I had no problems running your code.</p>\n<div class=\"highlight highlight-source-shell\"><pre>C:<span class=\"pl-cce\">\\U</span>sers<span class=\"pl-cce\">\\c</span>arlt<span class=\"pl-k\">&gt;</span>python\nPython 3.6.0 <span class=\"pl-k\">|</span>Anaconda custom (64-bit)<span class=\"pl-k\">|</span> (default, Dec 23 2016, 11:57:41) [MSC v.1900 64 bit (AMD64)] on win32\nType <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>help<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>copyright<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>credits<span class=\"pl-pds\">\"</span></span> or <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>license<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">for</span> more information.\n&gt;&gt;&gt; import tensorflow as tf\n&gt;&gt;&gt; seq_length = 6\n&gt;&gt;&gt; data_dim =4\n&gt;&gt;&gt; hidden_dim = 12\n&gt;&gt;&gt; X = tf.placeholder(tf.int32, [None, seq_length])\n&gt;&gt;&gt; Y = tf.placeholder(tf.int32, [None])\n&gt;&gt;&gt; keep_prob = tf.placeholder(tf.float32)\n&gt;&gt;&gt;\n&gt;&gt;&gt; X_one_hot = tf.one_hot(X, data_dim)\n&gt;&gt;&gt; Y_one_hot = tf.one_hot(Y, 2)\n&gt;&gt;&gt;\n&gt;&gt;&gt; def <span class=\"pl-en\">lstm_cell</span>():\n...     lstm = tf.contrib.rnn.BasicLSTMCell(hidden_dim, state_is_tuple=True)\n...     drop = tf.contrib.rnn.DropoutWrapper(lstm, output_keep_prob=keep_prob)\n...     <span class=\"pl-k\">return</span> drop\n...\n&gt;&gt;&gt; multi_cells = <span class=\"pl-en\">tf.contrib.rnn.MultiRNNCell([lstm_cell</span>() <span class=\"pl-k\">for</span> <span class=\"pl-smi\">_</span> <span class=\"pl-k\">in</span> range(3)], state_is_tuple=True)\n&gt;&gt;&gt; outputs1, _states = tf.nn.dynamic_rnn(multi_cells, X_one_hot, dtype=tf.float32)\n&gt;&gt;&gt;\n&gt;&gt;&gt; outputs1.shape\nTensorShape([Dimension(None), Dimension(6), Dimension(12)])</pre></div>\n<div class=\"highlight highlight-source-shell\"><pre>C:<span class=\"pl-cce\">\\U</span>sers<span class=\"pl-cce\">\\c</span>arlt<span class=\"pl-k\">&gt;</span>pip show tensorflow\nName: tensorflow\nVersion: 1.3.0\nSummary: TensorFlow helps the tensors flow\nHome-page: http://tensorflow.org/\nAuthor: Google Inc.\nAuthor-email: opensource@google.com\nLicense: Apache 2.0\nLocation: c:<span class=\"pl-cce\">\\u</span>sers<span class=\"pl-cce\">\\c</span>arlt<span class=\"pl-cce\">\\a</span>naconda3<span class=\"pl-cce\">\\l</span>ib<span class=\"pl-cce\">\\s</span>ite-packages\nRequires: six, wheel, numpy, tensorflow-tensorboard, protobuf</pre></div>\n<blockquote>\n<p>would 12 for the number of units in the LSTM cell be too small?</p>\n</blockquote>\n<p>Depends on your problem. The number of hidden units needs tuning, like most hyperparameters. I think common values values are around 32-512.</p>", "body_text": "Why does this error happen?\n\nI had no problems running your code.\nC:\\Users\\carlt>python\nPython 3.6.0 |Anaconda custom (64-bit)| (default, Dec 23 2016, 11:57:41) [MSC v.1900 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tensorflow as tf\n>>> seq_length = 6\n>>> data_dim =4\n>>> hidden_dim = 12\n>>> X = tf.placeholder(tf.int32, [None, seq_length])\n>>> Y = tf.placeholder(tf.int32, [None])\n>>> keep_prob = tf.placeholder(tf.float32)\n>>>\n>>> X_one_hot = tf.one_hot(X, data_dim)\n>>> Y_one_hot = tf.one_hot(Y, 2)\n>>>\n>>> def lstm_cell():\n...     lstm = tf.contrib.rnn.BasicLSTMCell(hidden_dim, state_is_tuple=True)\n...     drop = tf.contrib.rnn.DropoutWrapper(lstm, output_keep_prob=keep_prob)\n...     return drop\n...\n>>> multi_cells = tf.contrib.rnn.MultiRNNCell([lstm_cell() for _ in range(3)], state_is_tuple=True)\n>>> outputs1, _states = tf.nn.dynamic_rnn(multi_cells, X_one_hot, dtype=tf.float32)\n>>>\n>>> outputs1.shape\nTensorShape([Dimension(None), Dimension(6), Dimension(12)])\nC:\\Users\\carlt>pip show tensorflow\nName: tensorflow\nVersion: 1.3.0\nSummary: TensorFlow helps the tensors flow\nHome-page: http://tensorflow.org/\nAuthor: Google Inc.\nAuthor-email: opensource@google.com\nLicense: Apache 2.0\nLocation: c:\\users\\carlt\\anaconda3\\lib\\site-packages\nRequires: six, wheel, numpy, tensorflow-tensorboard, protobuf\n\nwould 12 for the number of units in the LSTM cell be too small?\n\nDepends on your problem. The number of hidden units needs tuning, like most hyperparameters. I think common values values are around 32-512.", "body": "> Why does this error happen?\r\n\r\nI had no problems running your code.\r\n\r\n```sh\r\nC:\\Users\\carlt>python\r\nPython 3.6.0 |Anaconda custom (64-bit)| (default, Dec 23 2016, 11:57:41) [MSC v.1900 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow as tf\r\n>>> seq_length = 6\r\n>>> data_dim =4\r\n>>> hidden_dim = 12\r\n>>> X = tf.placeholder(tf.int32, [None, seq_length])\r\n>>> Y = tf.placeholder(tf.int32, [None])\r\n>>> keep_prob = tf.placeholder(tf.float32)\r\n>>>\r\n>>> X_one_hot = tf.one_hot(X, data_dim)\r\n>>> Y_one_hot = tf.one_hot(Y, 2)\r\n>>>\r\n>>> def lstm_cell():\r\n...     lstm = tf.contrib.rnn.BasicLSTMCell(hidden_dim, state_is_tuple=True)\r\n...     drop = tf.contrib.rnn.DropoutWrapper(lstm, output_keep_prob=keep_prob)\r\n...     return drop\r\n...\r\n>>> multi_cells = tf.contrib.rnn.MultiRNNCell([lstm_cell() for _ in range(3)], state_is_tuple=True)\r\n>>> outputs1, _states = tf.nn.dynamic_rnn(multi_cells, X_one_hot, dtype=tf.float32)\r\n>>>\r\n>>> outputs1.shape\r\nTensorShape([Dimension(None), Dimension(6), Dimension(12)])\r\n```\r\n```sh\r\nC:\\Users\\carlt>pip show tensorflow\r\nName: tensorflow\r\nVersion: 1.3.0\r\nSummary: TensorFlow helps the tensors flow\r\nHome-page: http://tensorflow.org/\r\nAuthor: Google Inc.\r\nAuthor-email: opensource@google.com\r\nLicense: Apache 2.0\r\nLocation: c:\\users\\carlt\\anaconda3\\lib\\site-packages\r\nRequires: six, wheel, numpy, tensorflow-tensorboard, protobuf\r\n```\r\n\r\n> would 12 for the number of units in the LSTM cell be too small?\r\n\r\nDepends on your problem. The number of hidden units needs tuning, like most hyperparameters. I think common values values are around 32-512."}