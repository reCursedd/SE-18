{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23328", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23328/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23328/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23328/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23328", "id": 374735554, "node_id": "MDU6SXNzdWUzNzQ3MzU1NTQ=", "number": 23328, "title": "TensorRT error:*** stack smashing detected ***: python3 terminated", "user": {"login": "ray-mami", "id": 37445975, "node_id": "MDQ6VXNlcjM3NDQ1OTc1", "avatar_url": "https://avatars2.githubusercontent.com/u/37445975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ray-mami", "html_url": "https://github.com/ray-mami", "followers_url": "https://api.github.com/users/ray-mami/followers", "following_url": "https://api.github.com/users/ray-mami/following{/other_user}", "gists_url": "https://api.github.com/users/ray-mami/gists{/gist_id}", "starred_url": "https://api.github.com/users/ray-mami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ray-mami/subscriptions", "organizations_url": "https://api.github.com/users/ray-mami/orgs", "repos_url": "https://api.github.com/users/ray-mami/repos", "events_url": "https://api.github.com/users/ray-mami/events{/privacy}", "received_events_url": "https://api.github.com/users/ray-mami/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "samikama", "id": 10539540, "node_id": "MDQ6VXNlcjEwNTM5NTQw", "avatar_url": "https://avatars0.githubusercontent.com/u/10539540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samikama", "html_url": "https://github.com/samikama", "followers_url": "https://api.github.com/users/samikama/followers", "following_url": "https://api.github.com/users/samikama/following{/other_user}", "gists_url": "https://api.github.com/users/samikama/gists{/gist_id}", "starred_url": "https://api.github.com/users/samikama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samikama/subscriptions", "organizations_url": "https://api.github.com/users/samikama/orgs", "repos_url": "https://api.github.com/users/samikama/repos", "events_url": "https://api.github.com/users/samikama/events{/privacy}", "received_events_url": "https://api.github.com/users/samikama/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "samikama", "id": 10539540, "node_id": "MDQ6VXNlcjEwNTM5NTQw", "avatar_url": "https://avatars0.githubusercontent.com/u/10539540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samikama", "html_url": "https://github.com/samikama", "followers_url": "https://api.github.com/users/samikama/followers", "following_url": "https://api.github.com/users/samikama/following{/other_user}", "gists_url": "https://api.github.com/users/samikama/gists{/gist_id}", "starred_url": "https://api.github.com/users/samikama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samikama/subscriptions", "organizations_url": "https://api.github.com/users/samikama/orgs", "repos_url": "https://api.github.com/users/samikama/repos", "events_url": "https://api.github.com/users/samikama/events{/privacy}", "received_events_url": "https://api.github.com/users/samikama/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-10-28T09:43:26Z", "updated_at": "2018-11-21T19:20:49Z", "closed_at": "2018-11-21T19:20:49Z", "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>Have I written custom code (as opposed to using a stock example script provided in TensorFlow):<br>\nNO</li>\n<li>OS Platform and Distribution (e.g., Linux Ubuntu 16.04):<br>\nLinux Ubuntu 16.04</li>\n<li>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:<br>\nnot sure</li>\n<li>TensorFlow installed from (source or binary):<br>\nbinary</li>\n<li>TensorFlow version (use command below):<br>\n1.7.0  and 1.10.0</li>\n<li>Python version:<br>\n3.5</li>\n<li>Bazel version (if compiling from source):</li>\n<li>GCC/Compiler version (if compiling from source):<br>\n5.4.0</li>\n<li>CUDA/cuDNN version:<br>\nCUDA9.0 / CUDNN 7.0.5</li>\n<li>GPU model and memory:<br>\n1080TI / 12g</li>\n</ul>\n<p>I am using tensorflow version 1.7, cuda9.0, python 3.5 \uff0cand following the readme.md. and I am getting following error.</p>\n<p>ray@ray-MS-7B48:~/data/models/research/tensorrt$ python3 tensorrt.py --frozen_graph=resnetv2_imagenet_frozen_graph.pb --image_file=image.jpg --native --fp32 --fp16 --int8 --output_dir=./output<br>\nWARNING:tensorflow:From /home/ray/.local/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py:198: retry (from tensorflow.contrib.learn.python.learn.datasets.base) is deprecated and will be removed in a future version.<br>\nInstructions for updating:<br>\nUse the retry module or similar alternatives.<br>\n2018-10-28 16:42:07.777004: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA<br>\n2018-10-28 16:42:07.889329: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero<br>\n2018-10-28 16:42:07.889593: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties:<br>\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645<br>\npciBusID: 0000:01:00.0<br>\ntotalMemory: 10.91GiB freeMemory: 10.31GiB<br>\n2018-10-28 16:42:07.889607: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0<br>\n2018-10-28 16:42:08.417071: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:<br>\n2018-10-28 16:42:08.417094: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0<br>\n2018-10-28 16:42:08.417100: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N<br>\n2018-10-28 16:42:08.417464: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 8935 MB memory) -&gt; physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)<br>\nRunning native graph<br>\nINFO:tensorflow:Starting execution<br>\n2018-10-28 16:42:08.973439: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0<br>\n2018-10-28 16:42:08.973468: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:<br>\n2018-10-28 16:42:08.973474: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0<br>\n2018-10-28 16:42:08.973477: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N<br>\n2018-10-28 16:42:08.973566: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 8935 MB memory) -&gt; physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)<br>\nINFO:tensorflow:Starting Warmup cycle<br>\nINFO:tensorflow:Starting timing.<br>\nINFO:tensorflow:Timing loop done!<br>\nRunning FP32 graph<br>\n2018-10-28 16:42:30.856792: I tensorflow/core/grappler/devices.cc:51] Number of eligible GPUs (core count &gt;= 8): 1<br>\n2018-10-28 16:42:31.229082: I tensorflow/contrib/tensorrt/convert/convert_graph.cc:383] MULTIPLE tensorrt candidate conversion: 2<br>\n*** stack smashing detected ***: python3 terminated<br>\nAborted (core dumped)</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nNO\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nLinux Ubuntu 16.04\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\nnot sure\nTensorFlow installed from (source or binary):\nbinary\nTensorFlow version (use command below):\n1.7.0  and 1.10.0\nPython version:\n3.5\nBazel version (if compiling from source):\nGCC/Compiler version (if compiling from source):\n5.4.0\nCUDA/cuDNN version:\nCUDA9.0 / CUDNN 7.0.5\nGPU model and memory:\n1080TI / 12g\n\nI am using tensorflow version 1.7, cuda9.0, python 3.5 \uff0cand following the readme.md. and I am getting following error.\nray@ray-MS-7B48:~/data/models/research/tensorrt$ python3 tensorrt.py --frozen_graph=resnetv2_imagenet_frozen_graph.pb --image_file=image.jpg --native --fp32 --fp16 --int8 --output_dir=./output\nWARNING:tensorflow:From /home/ray/.local/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py:198: retry (from tensorflow.contrib.learn.python.learn.datasets.base) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse the retry module or similar alternatives.\n2018-10-28 16:42:07.777004: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-10-28 16:42:07.889329: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-10-28 16:42:07.889593: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties:\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645\npciBusID: 0000:01:00.0\ntotalMemory: 10.91GiB freeMemory: 10.31GiB\n2018-10-28 16:42:07.889607: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\n2018-10-28 16:42:08.417071: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-10-28 16:42:08.417094: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0\n2018-10-28 16:42:08.417100: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N\n2018-10-28 16:42:08.417464: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 8935 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\nRunning native graph\nINFO:tensorflow:Starting execution\n2018-10-28 16:42:08.973439: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\n2018-10-28 16:42:08.973468: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-10-28 16:42:08.973474: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0\n2018-10-28 16:42:08.973477: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N\n2018-10-28 16:42:08.973566: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 8935 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\nINFO:tensorflow:Starting Warmup cycle\nINFO:tensorflow:Starting timing.\nINFO:tensorflow:Timing loop done!\nRunning FP32 graph\n2018-10-28 16:42:30.856792: I tensorflow/core/grappler/devices.cc:51] Number of eligible GPUs (core count >= 8): 1\n2018-10-28 16:42:31.229082: I tensorflow/contrib/tensorrt/convert/convert_graph.cc:383] MULTIPLE tensorrt candidate conversion: 2\n*** stack smashing detected ***: python3 terminated\nAborted (core dumped)", "body": "\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nNO\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nLinux Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\nnot sure\r\n- TensorFlow installed from (source or binary):\r\nbinary\r\n- TensorFlow version (use command below):\r\n1.7.0  and 1.10.0\r\n- Python version:\r\n3.5\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n 5.4.0\r\n- CUDA/cuDNN version:\r\nCUDA9.0 / CUDNN 7.0.5\r\n- GPU model and memory:\r\n1080TI / 12g\r\n\r\nI am using tensorflow version 1.7, cuda9.0, python 3.5 \uff0cand following the readme.md. and I am getting following error.\r\n\r\n\r\nray@ray-MS-7B48:~/data/models/research/tensorrt$ python3 tensorrt.py --frozen_graph=resnetv2_imagenet_frozen_graph.pb --image_file=image.jpg --native --fp32 --fp16 --int8 --output_dir=./output\r\nWARNING:tensorflow:From /home/ray/.local/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py:198: retry (from tensorflow.contrib.learn.python.learn.datasets.base) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse the retry module or similar alternatives.\r\n2018-10-28 16:42:07.777004: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2018-10-28 16:42:07.889329: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:898] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2018-10-28 16:42:07.889593: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1344] Found device 0 with properties: \r\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 10.91GiB freeMemory: 10.31GiB\r\n2018-10-28 16:42:07.889607: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\r\n2018-10-28 16:42:08.417071: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-10-28 16:42:08.417094: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0 \r\n2018-10-28 16:42:08.417100: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N \r\n2018-10-28 16:42:08.417464: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 8935 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\r\nRunning native graph\r\nINFO:tensorflow:Starting execution\r\n2018-10-28 16:42:08.973439: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1423] Adding visible gpu devices: 0\r\n2018-10-28 16:42:08.973468: I tensorflow/core/common_runtime/gpu/gpu_device.cc:911] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-10-28 16:42:08.973474: I tensorflow/core/common_runtime/gpu/gpu_device.cc:917]      0 \r\n2018-10-28 16:42:08.973477: I tensorflow/core/common_runtime/gpu/gpu_device.cc:930] 0:   N \r\n2018-10-28 16:42:08.973566: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 8935 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\r\nINFO:tensorflow:Starting Warmup cycle\r\nINFO:tensorflow:Starting timing.\r\nINFO:tensorflow:Timing loop done!\r\nRunning FP32 graph\r\n2018-10-28 16:42:30.856792: I tensorflow/core/grappler/devices.cc:51] Number of eligible GPUs (core count >= 8): 1\r\n2018-10-28 16:42:31.229082: I tensorflow/contrib/tensorrt/convert/convert_graph.cc:383] MULTIPLE tensorrt candidate conversion: 2\r\n*** stack smashing detected ***: python3 terminated\r\nAborted (core dumped)\r\n\r\n"}