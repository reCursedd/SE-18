{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14220", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14220/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14220/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14220/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14220", "id": 271044032, "node_id": "MDU6SXNzdWUyNzEwNDQwMzI=", "number": 14220, "title": "64MB protobuf limit", "user": {"login": "drasmuss", "id": 1952220, "node_id": "MDQ6VXNlcjE5NTIyMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1952220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drasmuss", "html_url": "https://github.com/drasmuss", "followers_url": "https://api.github.com/users/drasmuss/followers", "following_url": "https://api.github.com/users/drasmuss/following{/other_user}", "gists_url": "https://api.github.com/users/drasmuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/drasmuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drasmuss/subscriptions", "organizations_url": "https://api.github.com/users/drasmuss/orgs", "repos_url": "https://api.github.com/users/drasmuss/repos", "events_url": "https://api.github.com/users/drasmuss/events{/privacy}", "received_events_url": "https://api.github.com/users/drasmuss/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-03T16:45:11Z", "updated_at": "2017-11-03T17:14:48Z", "closed_at": "2017-11-03T17:14:48Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Windows 10</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.4.0</li>\n<li><strong>Python version</strong>: 3.5</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<pre><code>import tensorflow as tf\nimport numpy as np\n\na = tf.constant(np.zeros(10000000))\nprofiler = tf.profiler.Profiler(tf.get_default_graph())\n</code></pre>\n<h3>Describe the problem</h3>\n<p>Running the above code results in the error message:</p>\n<pre><code>[libprotobuf ERROR C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows\\PY\\35\\cmake_build\\protobuf\\src\\protobuf\\src\\google\\protobuf\\io\\coded_stream.cc:208] A protocol message was rejected because it was too big (more than 67108864 bytes).  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.\n[libprotobuf ERROR C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows\\PY\\35\\cmake_build\\protobuf\\src\\protobuf\\src\\google\\protobuf\\text_format.cc:298] Error parsing text-format tensorflow.GraphDef: 2:1: Interpreting non ascii codepoint 224.\n[libprotobuf ERROR C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows\\PY\\35\\cmake_build\\protobuf\\src\\protobuf\\src\\google\\protobuf\\text_format.cc:298] Error parsing text-format tensorflow.GraphDef: 2:1: Expected identifier, got: \u00e0\nFailed to parse graph\n</code></pre>\n<p>Reading <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"123338794\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/582\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/582/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/582\">#582</a> suggests that this problem should have been fixed in <code>protobuf 3.2.0</code>, but that doesn't seem to be the case in my system.  This may be a Windows-specific issue?</p>\n<h3>Source code / logs</h3>\n<p>Here is the output of <code>pip freeze</code> showing the installed versions of tensorflow/protobuf (this is all starting from a fresh environment, and installed via <code>pip install tensorflow</code>).</p>\n<pre><code>bleach==1.5.0\ncertifi==2016.2.28\nenum34==1.1.6\nhtml5lib==0.9999999\nMarkdown==2.6.9\nnumpy==1.13.1\nprotobuf==3.4.0\nsix==1.11.0\ntensorflow==1.4.0\ntensorflow-tensorboard==0.4.0rc2\nWerkzeug==0.12.2\nwincertstore==0.2\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\nTensorFlow installed from (source or binary): binary\nTensorFlow version (use command below): 1.4.0\nPython version: 3.5\nExact command to reproduce:\n\nimport tensorflow as tf\nimport numpy as np\n\na = tf.constant(np.zeros(10000000))\nprofiler = tf.profiler.Profiler(tf.get_default_graph())\n\nDescribe the problem\nRunning the above code results in the error message:\n[libprotobuf ERROR C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows\\PY\\35\\cmake_build\\protobuf\\src\\protobuf\\src\\google\\protobuf\\io\\coded_stream.cc:208] A protocol message was rejected because it was too big (more than 67108864 bytes).  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.\n[libprotobuf ERROR C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows\\PY\\35\\cmake_build\\protobuf\\src\\protobuf\\src\\google\\protobuf\\text_format.cc:298] Error parsing text-format tensorflow.GraphDef: 2:1: Interpreting non ascii codepoint 224.\n[libprotobuf ERROR C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows\\PY\\35\\cmake_build\\protobuf\\src\\protobuf\\src\\google\\protobuf\\text_format.cc:298] Error parsing text-format tensorflow.GraphDef: 2:1: Expected identifier, got: \u00e0\nFailed to parse graph\n\nReading #582 suggests that this problem should have been fixed in protobuf 3.2.0, but that doesn't seem to be the case in my system.  This may be a Windows-specific issue?\nSource code / logs\nHere is the output of pip freeze showing the installed versions of tensorflow/protobuf (this is all starting from a fresh environment, and installed via pip install tensorflow).\nbleach==1.5.0\ncertifi==2016.2.28\nenum34==1.1.6\nhtml5lib==0.9999999\nMarkdown==2.6.9\nnumpy==1.13.1\nprotobuf==3.4.0\nsix==1.11.0\ntensorflow==1.4.0\ntensorflow-tensorboard==0.4.0rc2\nWerkzeug==0.12.2\nwincertstore==0.2", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Windows 10\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: 1.4.0\r\n- **Python version**: 3.5\r\n- **Exact command to reproduce**:\r\n\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\na = tf.constant(np.zeros(10000000))\r\nprofiler = tf.profiler.Profiler(tf.get_default_graph())\r\n```\r\n\r\n### Describe the problem\r\nRunning the above code results in the error message:\r\n```\r\n[libprotobuf ERROR C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows\\PY\\35\\cmake_build\\protobuf\\src\\protobuf\\src\\google\\protobuf\\io\\coded_stream.cc:208] A protocol message was rejected because it was too big (more than 67108864 bytes).  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.\r\n[libprotobuf ERROR C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows\\PY\\35\\cmake_build\\protobuf\\src\\protobuf\\src\\google\\protobuf\\text_format.cc:298] Error parsing text-format tensorflow.GraphDef: 2:1: Interpreting non ascii codepoint 224.\r\n[libprotobuf ERROR C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows\\PY\\35\\cmake_build\\protobuf\\src\\protobuf\\src\\google\\protobuf\\text_format.cc:298] Error parsing text-format tensorflow.GraphDef: 2:1: Expected identifier, got: \u00e0\r\nFailed to parse graph\r\n```\r\n\r\nReading #582 suggests that this problem should have been fixed in `protobuf 3.2.0`, but that doesn't seem to be the case in my system.  This may be a Windows-specific issue?\r\n\r\n### Source code / logs\r\nHere is the output of `pip freeze` showing the installed versions of tensorflow/protobuf (this is all starting from a fresh environment, and installed via `pip install tensorflow`).\r\n\r\n```\r\nbleach==1.5.0\r\ncertifi==2016.2.28\r\nenum34==1.1.6\r\nhtml5lib==0.9999999\r\nMarkdown==2.6.9\r\nnumpy==1.13.1\r\nprotobuf==3.4.0\r\nsix==1.11.0\r\ntensorflow==1.4.0\r\ntensorflow-tensorboard==0.4.0rc2\r\nWerkzeug==0.12.2\r\nwincertstore==0.2\r\n```\r\n"}