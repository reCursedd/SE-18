{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11891", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11891/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11891/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11891/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11891", "id": 246610862, "node_id": "MDU6SXNzdWUyNDY2MTA4NjI=", "number": 11891, "title": "'//tensorflow/contrib/verbs:rdma", "user": {"login": "pocandraspoc", "id": 28604570, "node_id": "MDQ6VXNlcjI4NjA0NTcw", "avatar_url": "https://avatars0.githubusercontent.com/u/28604570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pocandraspoc", "html_url": "https://github.com/pocandraspoc", "followers_url": "https://api.github.com/users/pocandraspoc/followers", "following_url": "https://api.github.com/users/pocandraspoc/following{/other_user}", "gists_url": "https://api.github.com/users/pocandraspoc/gists{/gist_id}", "starred_url": "https://api.github.com/users/pocandraspoc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pocandraspoc/subscriptions", "organizations_url": "https://api.github.com/users/pocandraspoc/orgs", "repos_url": "https://api.github.com/users/pocandraspoc/repos", "events_url": "https://api.github.com/users/pocandraspoc/events{/privacy}", "received_events_url": "https://api.github.com/users/pocandraspoc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-30T21:42:50Z", "updated_at": "2017-10-30T11:20:25Z", "closed_at": "2017-10-30T11:20:25Z", "author_association": "NONE", "body_html": "<p>Build fails<br>\nThanks for help in advance</p>\n<ol>\n<li>It must be a <strong>bug</strong></li>\n</ol>\n<hr>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:NO</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:Linux Ubuntu 14.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:yes</li>\n<li><strong>TensorFlow version (use command below)</strong>:Latest git</li>\n<li><strong>Python version</strong>: 2.7.13</li>\n<li><strong>Bazel version (if compiling from source)</strong>:Build label: 0.5.2</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\nBuilt on Tue_Jan_10_13:22:03_CST_2017<br>\nCuda compilation tools, release 8.0, V8.0.61</li>\n<li><strong>GPU model and memory</strong>:  [GeForce GTX 860M] 4044MiB Driver Version: 375.66</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nbazel build -c opt --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=cuda //tensorflow/tools/pip_package:build_pip_package</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Build fails with carefully chosen configs:<br>\nPlease specify the location of python. [Default is /home/op/anaconda2/bin/python]:<br>\ninput the desired Python library path to use.  Default is /home/op/anaconda2/lib/python2.7/site-packages</p>\n<p>y jemalloc as malloc support<br>\nn Google Cloud Platform<br>\nn Hadoop File System support<br>\ny XLA JIT support</p>\n<p>y  VERBS support<br>\nn OpenCL support<br>\ny  CUDA support</p>\n<p>CUDA SDK version: 8.0<br>\nCUDA 8.0 toolkit is installed /usr/local/cuda-8.0</p>\n<p>cuDNN 6.0<br>\ncuDNN 6 library is installed: /usr/local/cuda-8.0</p>\n<p>Please note that each additional compute capability significantly increases your build time and binary size. [Default is: 5.0]</p>\n<p>clang as CUDA compiler? [y/N]: n<br>\nnvcc will be used as CUDA compiler<br>\ngcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]<br>\nMPI support? [y/N]: n</p>\n<p>flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:</p>\n<h3>Source code / logs</h3>\n<p>ERROR: /home/op/Downloads/tensorflow/tensorflow/contrib/verbs/BUILD:136:1: C++ compilation of rule '//tensorflow/contrib/verbs:rdma' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 150 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\nIn file included from tensorflow/contrib/verbs/rdma.cc:18:0:<br>\n./tensorflow/contrib/verbs/rdma.h:21:30: fatal error: infiniband/verbs.h: No such file or directory<br>\n#include &lt;infiniband/verbs.h&gt;<br>\n^<br>\ncompilation terminated.<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 3203.696s, Critical Path: 206.50s</p>", "body_text": "Build fails\nThanks for help in advance\n\nIt must be a bug\n\n\nSystem information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):NO\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):Linux Ubuntu 14.04\nTensorFlow installed from (source or binary):yes\nTensorFlow version (use command below):Latest git\nPython version: 2.7.13\nBazel version (if compiling from source):Build label: 0.5.2\nCUDA/cuDNN version:\nBuilt on Tue_Jan_10_13:22:03_CST_2017\nCuda compilation tools, release 8.0, V8.0.61\nGPU model and memory:  [GeForce GTX 860M] 4044MiB Driver Version: 375.66\nExact command to reproduce:\nbazel build -c opt --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nBuild fails with carefully chosen configs:\nPlease specify the location of python. [Default is /home/op/anaconda2/bin/python]:\ninput the desired Python library path to use.  Default is /home/op/anaconda2/lib/python2.7/site-packages\ny jemalloc as malloc support\nn Google Cloud Platform\nn Hadoop File System support\ny XLA JIT support\ny  VERBS support\nn OpenCL support\ny  CUDA support\nCUDA SDK version: 8.0\nCUDA 8.0 toolkit is installed /usr/local/cuda-8.0\ncuDNN 6.0\ncuDNN 6 library is installed: /usr/local/cuda-8.0\nPlease note that each additional compute capability significantly increases your build time and binary size. [Default is: 5.0]\nclang as CUDA compiler? [y/N]: n\nnvcc will be used as CUDA compiler\ngcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]\nMPI support? [y/N]: n\nflags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\nSource code / logs\nERROR: /home/op/Downloads/tensorflow/tensorflow/contrib/verbs/BUILD:136:1: C++ compilation of rule '//tensorflow/contrib/verbs:rdma' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 150 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nIn file included from tensorflow/contrib/verbs/rdma.cc:18:0:\n./tensorflow/contrib/verbs/rdma.h:21:30: fatal error: infiniband/verbs.h: No such file or directory\n#include <infiniband/verbs.h>\n^\ncompilation terminated.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 3203.696s, Critical Path: 206.50s", "body": "Build fails \r\nThanks for help in advance\r\n\r\n1. It must be a **bug** \r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:NO\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:Linux Ubuntu 14.04\r\n- **TensorFlow installed from (source or binary)**:yes\r\n- **TensorFlow version (use command below)**:Latest git\r\n- **Python version**: 2.7.13\r\n- **Bazel version (if compiling from source)**:Build label: 0.5.2\r\n- **CUDA/cuDNN version**:\r\nBuilt on Tue_Jan_10_13:22:03_CST_2017\r\nCuda compilation tools, release 8.0, V8.0.61\r\n- **GPU model and memory**:  [GeForce GTX 860M] 4044MiB Driver Version: 375.66\r\n- **Exact command to reproduce**:\r\nbazel build -c opt --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n\r\n### Describe the problem\r\nBuild fails with carefully chosen configs:\r\nPlease specify the location of python. [Default is /home/op/anaconda2/bin/python]:\r\ninput the desired Python library path to use.  Default is /home/op/anaconda2/lib/python2.7/site-packages\r\n\r\ny jemalloc as malloc support\r\nn Google Cloud Platform\r\nn Hadoop File System support\r\ny XLA JIT support\r\n\r\ny  VERBS support\r\nn OpenCL support\r\ny  CUDA support\r\n\r\nCUDA SDK version: 8.0\r\nCUDA 8.0 toolkit is installed /usr/local/cuda-8.0\r\n\r\ncuDNN 6.0\r\n cuDNN 6 library is installed: /usr/local/cuda-8.0\r\n\r\nPlease note that each additional compute capability significantly increases your build time and binary size. [Default is: 5.0]\r\n\r\nclang as CUDA compiler? [y/N]: n\r\nnvcc will be used as CUDA compiler\r\ngcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]\r\nMPI support? [y/N]: n\r\n\r\nflags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\r\n### Source code / logs\r\nERROR: /home/op/Downloads/tensorflow/tensorflow/contrib/verbs/BUILD:136:1: C++ compilation of rule '//tensorflow/contrib/verbs:rdma' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 150 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nIn file included from tensorflow/contrib/verbs/rdma.cc:18:0:\r\n./tensorflow/contrib/verbs/rdma.h:21:30: fatal error: infiniband/verbs.h: No such file or directory\r\n #include <infiniband/verbs.h>\r\n                              ^\r\ncompilation terminated.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 3203.696s, Critical Path: 206.50s"}