{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22138", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22138/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22138/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22138/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22138", "id": 357904700, "node_id": "MDU6SXNzdWUzNTc5MDQ3MDA=", "number": 22138, "title": "Array mul  lacking min/max data", "user": {"login": "raninbowlalala", "id": 21166976, "node_id": "MDQ6VXNlcjIxMTY2OTc2", "avatar_url": "https://avatars3.githubusercontent.com/u/21166976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raninbowlalala", "html_url": "https://github.com/raninbowlalala", "followers_url": "https://api.github.com/users/raninbowlalala/followers", "following_url": "https://api.github.com/users/raninbowlalala/following{/other_user}", "gists_url": "https://api.github.com/users/raninbowlalala/gists{/gist_id}", "starred_url": "https://api.github.com/users/raninbowlalala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raninbowlalala/subscriptions", "organizations_url": "https://api.github.com/users/raninbowlalala/orgs", "repos_url": "https://api.github.com/users/raninbowlalala/repos", "events_url": "https://api.github.com/users/raninbowlalala/events{/privacy}", "received_events_url": "https://api.github.com/users/raninbowlalala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-09-07T03:18:31Z", "updated_at": "2018-10-15T17:09:45Z", "closed_at": "2018-10-15T17:09:45Z", "author_association": "NONE", "body_html": "<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: no</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux Ubuntu 16.04</li>\n<li><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>:N/A</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:source</li>\n<li><strong>TensorFlow version (use command below)</strong>:1.10.1</li>\n<li><strong>Python version</strong>:2.7.3</li>\n<li><strong>Bazel version (if compiling from source)</strong>:0.12.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:c++11</li>\n<li><strong>CUDA/cuDNN version</strong>:7.5.18</li>\n<li><strong>GPU model and memory</strong>:TITAN,12GB</li>\n<li><strong>Exact command to reproduce</strong>:<br>\n./bazel-bin/tensorflow/contrib/lite/python/tflite_convert --output_file=~/foo.cc   --graph_def_file!/frozen_inference_graph.pb   --inference_type=QUANTIZED_UINT8   --input_arrays=Imageholder --output_arrays=ResizeBilinear_2   --mean_values=127.5   --std_dev_values=127.5</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I modified deeplabv3+(mobilenetv2) model, and train/eval a quantized model with \"tf.contrib.quantize.create_training_graph(quant_delay=0)<br>\ntf.contrib.quantize.create_eval_graph\". The graph show as below:</p>\n<p>Placeholder-&gt;mul-&gt;sub-&gt;mobilenetv2</p>\n<p>When I convert this frozen model to tflite quantized model, I use input_node = Placeholer. There are error occurred. Does any one know how to solve this problem?</p>\n<h3>Source code / logs</h3>\n<p>2018-09-07 10:59:40.172018: F tensorflow/contrib/lite/toco/tooling_util.cc:1635] Array mul, which is an input to the Sub operator producing the output array sub, is lacking min/max data, which is necessary for quantization. If accuracy matters, either target a non-quantized output format, or run quantized training with your model from a floating point checkpoint to change the input graph to contain min/max information. If you don't care about accuracy, you can pass --default_ranges_min= and --default_ranges_max= for easy experimentation.<br>\ntf.estimator package not installed.<br>\nAborted (core dumped)</p>", "body_text": "Have I written custom code (as opposed to using a stock example script provided in TensorFlow): no\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:N/A\nTensorFlow installed from (source or binary):source\nTensorFlow version (use command below):1.10.1\nPython version:2.7.3\nBazel version (if compiling from source):0.12.0\nGCC/Compiler version (if compiling from source):c++11\nCUDA/cuDNN version:7.5.18\nGPU model and memory:TITAN,12GB\nExact command to reproduce:\n./bazel-bin/tensorflow/contrib/lite/python/tflite_convert --output_file=~/foo.cc   --graph_def_file!/frozen_inference_graph.pb   --inference_type=QUANTIZED_UINT8   --input_arrays=Imageholder --output_arrays=ResizeBilinear_2   --mean_values=127.5   --std_dev_values=127.5\n\nDescribe the problem\nI modified deeplabv3+(mobilenetv2) model, and train/eval a quantized model with \"tf.contrib.quantize.create_training_graph(quant_delay=0)\ntf.contrib.quantize.create_eval_graph\". The graph show as below:\nPlaceholder->mul->sub->mobilenetv2\nWhen I convert this frozen model to tflite quantized model, I use input_node = Placeholer. There are error occurred. Does any one know how to solve this problem?\nSource code / logs\n2018-09-07 10:59:40.172018: F tensorflow/contrib/lite/toco/tooling_util.cc:1635] Array mul, which is an input to the Sub operator producing the output array sub, is lacking min/max data, which is necessary for quantization. If accuracy matters, either target a non-quantized output format, or run quantized training with your model from a floating point checkpoint to change the input graph to contain min/max information. If you don't care about accuracy, you can pass --default_ranges_min= and --default_ranges_max= for easy experimentation.\ntf.estimator package not installed.\nAborted (core dumped)", "body": "\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: no\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**:N/A\r\n- **TensorFlow installed from (source or binary)**:source\r\n- **TensorFlow version (use command below)**:1.10.1\r\n- **Python version**:2.7.3\r\n- **Bazel version (if compiling from source)**:0.12.0\r\n- **GCC/Compiler version (if compiling from source)**:c++11\r\n- **CUDA/cuDNN version**:7.5.18\r\n- **GPU model and memory**:TITAN,12GB\r\n- **Exact command to reproduce**:\r\n ./bazel-bin/tensorflow/contrib/lite/python/tflite_convert --output_file=~/foo.cc   --graph_def_file!/frozen_inference_graph.pb   --inference_type=QUANTIZED_UINT8   --input_arrays=Imageholder --output_arrays=ResizeBilinear_2   --mean_values=127.5   --std_dev_values=127.5\r\n\r\n\r\n### Describe the problem\r\n\r\nI modified deeplabv3+(mobilenetv2) model, and train/eval a quantized model with \"tf.contrib.quantize.create_training_graph(quant_delay=0)\r\n tf.contrib.quantize.create_eval_graph\". The graph show as below:\r\n\r\n\r\nPlaceholder->mul->sub->mobilenetv2\r\n\r\n\r\n\r\nWhen I convert this frozen model to tflite quantized model, I use input_node = Placeholer. There are error occurred. Does any one know how to solve this problem?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Source code / logs\r\n\r\n2018-09-07 10:59:40.172018: F tensorflow/contrib/lite/toco/tooling_util.cc:1635] Array mul, which is an input to the Sub operator producing the output array sub, is lacking min/max data, which is necessary for quantization. If accuracy matters, either target a non-quantized output format, or run quantized training with your model from a floating point checkpoint to change the input graph to contain min/max information. If you don't care about accuracy, you can pass --default_ranges_min= and --default_ranges_max= for easy experimentation.\r\ntf.estimator package not installed.\r\nAborted (core dumped)\r\n\r\n\r\n"}