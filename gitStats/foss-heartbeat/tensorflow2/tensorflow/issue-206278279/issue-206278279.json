{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7364", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7364/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7364/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7364/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7364", "id": 206278279, "node_id": "MDU6SXNzdWUyMDYyNzgyNzk=", "number": 7364, "title": "Can't build MacOS GPU pip because odf nccl_archive errors", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2017-02-08T18:07:16Z", "updated_at": "2017-02-11T06:44:30Z", "closed_at": "2017-02-11T06:44:30Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Looks like Google CI build is having the same issue:<br>\n<a href=\"https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-mac-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON3,label=gpu-mac/lastFailedBuild/console\" rel=\"nofollow\">https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-mac-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON3,label=gpu-mac/lastFailedBuild/console</a></p>\n<pre><code>90 errors detected in the compilation of \"/var/folders/9l/c8y8z62s0kjgnpgx6jwh0g9r0000gn/T//tmpxft_0000aebc_00000000-7_reduce_scatter.cu.cpp1.ii\".\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/all_reduce.cu.pic.o' was not created.\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce.cu.pic.o' was not created.\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: Couldn't build file external/nccl_archive/_objs/nccl/external/nccl_archive/src/all_reduce.cu.pic.o: not all outputs were created or valid.\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: Couldn't build file external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce.cu.pic.o: not all outputs were created or valid.\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce_scatter.cu.pic.o' was not created.\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: Couldn't build file external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce_scatter.cu.pic.o: not all outputs were created or valid.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 2.220s, Critical Path: 1.47s\n</code></pre>", "body_text": "Looks like Google CI build is having the same issue:\nhttps://ci.tensorflow.org/view/Nightly/job/nightly-matrix-mac-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON3,label=gpu-mac/lastFailedBuild/console\n90 errors detected in the compilation of \"/var/folders/9l/c8y8z62s0kjgnpgx6jwh0g9r0000gn/T//tmpxft_0000aebc_00000000-7_reduce_scatter.cu.cpp1.ii\".\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/all_reduce.cu.pic.o' was not created.\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce.cu.pic.o' was not created.\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: Couldn't build file external/nccl_archive/_objs/nccl/external/nccl_archive/src/all_reduce.cu.pic.o: not all outputs were created or valid.\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: Couldn't build file external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce.cu.pic.o: not all outputs were created or valid.\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce_scatter.cu.pic.o' was not created.\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: Couldn't build file external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce_scatter.cu.pic.o: not all outputs were created or valid.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 2.220s, Critical Path: 1.47s", "body": "Looks like Google CI build is having the same issue:\r\nhttps://ci.tensorflow.org/view/Nightly/job/nightly-matrix-mac-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON3,label=gpu-mac/lastFailedBuild/console\r\n\r\n```\r\n90 errors detected in the compilation of \"/var/folders/9l/c8y8z62s0kjgnpgx6jwh0g9r0000gn/T//tmpxft_0000aebc_00000000-7_reduce_scatter.cu.cpp1.ii\".\r\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/all_reduce.cu.pic.o' was not created.\r\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce.cu.pic.o' was not created.\r\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: Couldn't build file external/nccl_archive/_objs/nccl/external/nccl_archive/src/all_reduce.cu.pic.o: not all outputs were created or valid.\r\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: Couldn't build file external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce.cu.pic.o: not all outputs were created or valid.\r\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: output 'external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce_scatter.cu.pic.o' was not created.\r\nERROR: /private/var/tmp/_bazel_yaroslav/8430f3ac1504aea2a8d4e6b016af31c5/external/nccl_archive/BUILD.bazel:33:1: Couldn't build file external/nccl_archive/_objs/nccl/external/nccl_archive/src/reduce_scatter.cu.pic.o: not all outputs were created or valid.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 2.220s, Critical Path: 1.47s\r\n```"}