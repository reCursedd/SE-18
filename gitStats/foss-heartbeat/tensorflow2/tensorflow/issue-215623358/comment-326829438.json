{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/326829438", "html_url": "https://github.com/tensorflow/tensorflow/issues/8571#issuecomment-326829438", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8571", "id": 326829438, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjgyOTQzOA==", "user": {"login": "Alex-Fabbri", "id": 6563196, "node_id": "MDQ6VXNlcjY1NjMxOTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/6563196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Alex-Fabbri", "html_url": "https://github.com/Alex-Fabbri", "followers_url": "https://api.github.com/users/Alex-Fabbri/followers", "following_url": "https://api.github.com/users/Alex-Fabbri/following{/other_user}", "gists_url": "https://api.github.com/users/Alex-Fabbri/gists{/gist_id}", "starred_url": "https://api.github.com/users/Alex-Fabbri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Alex-Fabbri/subscriptions", "organizations_url": "https://api.github.com/users/Alex-Fabbri/orgs", "repos_url": "https://api.github.com/users/Alex-Fabbri/repos", "events_url": "https://api.github.com/users/Alex-Fabbri/events{/privacy}", "received_events_url": "https://api.github.com/users/Alex-Fabbri/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-03T20:32:37Z", "updated_at": "2017-09-03T20:33:21Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1794715\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ebrevdo\">@ebrevdo</a> Hi, I'm having the same problem with the shape of the state being undetermined when using a dynamic_rnn.</p>\n<p>I'm using tensorflow version 1.2.1.<br>\n<code>       (outputs,final_state) =( tf.nn.bidirectional_dynamic_rnn(cell_fw=encoder_cell, cell_bw=encoder_cell, inputs=encoder_inputs_embedded, sequence_length=encoder_inputs_length, dtype=tf.float32, time_major=True) )</code></p>\n<p>Encoder_inputs_embedded is the following:<br>\nTensor(\"embedding_lookup:0\", shape=(8, 11, 20), dtype=float32)</p>\n<p>while final_state is the following:<br>\n(LSTMStateTuple(c=&lt;tf.Tensor 'bidirectional_rnn/fw/fw/while/Exit_2:0' shape=(?, 20) dtype=float32&gt;, h=&lt;tf.Tensor 'bidirectional_rnn/fw/fw/while/Exit_3:0' shape=(?, 20) dtype=float32&gt;), LSTMStateTuple(c=&lt;tf.Tensor 'bidirectional_rnn/bw/bw/while/Exit_2:0' shape=(?, 20) dtype=float32&gt;, h=&lt;tf.Tensor 'bidirectional_rnn/bw/bw/while/Exit_3:0' shape=(?, 20) dtype=float32&gt;))</p>", "body_text": "@ebrevdo Hi, I'm having the same problem with the shape of the state being undetermined when using a dynamic_rnn.\nI'm using tensorflow version 1.2.1.\n       (outputs,final_state) =( tf.nn.bidirectional_dynamic_rnn(cell_fw=encoder_cell, cell_bw=encoder_cell, inputs=encoder_inputs_embedded, sequence_length=encoder_inputs_length, dtype=tf.float32, time_major=True) )\nEncoder_inputs_embedded is the following:\nTensor(\"embedding_lookup:0\", shape=(8, 11, 20), dtype=float32)\nwhile final_state is the following:\n(LSTMStateTuple(c=<tf.Tensor 'bidirectional_rnn/fw/fw/while/Exit_2:0' shape=(?, 20) dtype=float32>, h=<tf.Tensor 'bidirectional_rnn/fw/fw/while/Exit_3:0' shape=(?, 20) dtype=float32>), LSTMStateTuple(c=<tf.Tensor 'bidirectional_rnn/bw/bw/while/Exit_2:0' shape=(?, 20) dtype=float32>, h=<tf.Tensor 'bidirectional_rnn/bw/bw/while/Exit_3:0' shape=(?, 20) dtype=float32>))", "body": "@ebrevdo Hi, I'm having the same problem with the shape of the state being undetermined when using a dynamic_rnn. \r\n\r\nI'm using tensorflow version 1.2.1. \r\n`        (outputs,final_state) =(\r\n        tf.nn.bidirectional_dynamic_rnn(cell_fw=encoder_cell,\r\n                                    cell_bw=encoder_cell,\r\n                                    inputs=encoder_inputs_embedded,\r\n                                    sequence_length=encoder_inputs_length,\r\n                                    dtype=tf.float32, time_major=True)\r\n        )\r\n`\r\n\r\nEncoder_inputs_embedded is the following:\r\nTensor(\"embedding_lookup:0\", shape=(8, 11, 20), dtype=float32) \r\n\r\nwhile final_state is the following:\r\n(LSTMStateTuple(c=<tf.Tensor 'bidirectional_rnn/fw/fw/while/Exit_2:0' shape=(?, 20) dtype=float32>, h=<tf.Tensor 'bidirectional_rnn/fw/fw/while/Exit_3:0' shape=(?, 20) dtype=float32>), LSTMStateTuple(c=<tf.Tensor 'bidirectional_rnn/bw/bw/while/Exit_2:0' shape=(?, 20) dtype=float32>, h=<tf.Tensor 'bidirectional_rnn/bw/bw/while/Exit_3:0' shape=(?, 20) dtype=float32>))"}