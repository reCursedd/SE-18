{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6869", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6869/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6869/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6869/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6869", "id": 200933722, "node_id": "MDU6SXNzdWUyMDA5MzM3MjI=", "number": 6869, "title": "Confusion regarding `jemalloc`", "user": {"login": "zafartahirov", "id": 4216323, "node_id": "MDQ6VXNlcjQyMTYzMjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4216323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zafartahirov", "html_url": "https://github.com/zafartahirov", "followers_url": "https://api.github.com/users/zafartahirov/followers", "following_url": "https://api.github.com/users/zafartahirov/following{/other_user}", "gists_url": "https://api.github.com/users/zafartahirov/gists{/gist_id}", "starred_url": "https://api.github.com/users/zafartahirov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zafartahirov/subscriptions", "organizations_url": "https://api.github.com/users/zafartahirov/orgs", "repos_url": "https://api.github.com/users/zafartahirov/repos", "events_url": "https://api.github.com/users/zafartahirov/events{/privacy}", "received_events_url": "https://api.github.com/users/zafartahirov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2017-01-16T05:23:16Z", "updated_at": "2017-01-19T21:35:42Z", "closed_at": "2017-01-19T17:41:51Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=170179\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jhseu\">@jhseu</a> In one of the recent commits (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/83c6e0c63acdcab2c58c4ed7220bfa58879b1d57/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/83c6e0c63acdcab2c58c4ed7220bfa58879b1d57\"><tt>83c6e0c</tt></a>), <code>jemalloc</code> was introduced. The <a href=\"https://github.com/tensorflow/tensorflow/commit/83c6e0c63acdcab2c58c4ed7220bfa58879b1d57\">blame comment</a> says that it is \"Only enabled on Linux for now\". However, it defaults to <code>enabled</code> for any OS. If it is intended to work for Linux only, I think it should default to <code>disabled</code>, or should ask only if detected Linux-based system (i.e. <code>$(uname -a | tr 'A-Z' 'a-z') =~ linux</code>).</p>\n<p>The main confusion is that if I run the <code>configure</code> from Unix-based (e.g. OS X) or Windows, and just zoom through the config requests, it will try enabling <code>jemalloc</code>, and doesn't have a check for OS in the <a href=\"https://github.com/tensorflow/tensorflow/blob/73bc42890/configure\"><code>configure</code></a>.</p>", "body_text": "@jhseu In one of the recent commits (83c6e0c), jemalloc was introduced. The blame comment says that it is \"Only enabled on Linux for now\". However, it defaults to enabled for any OS. If it is intended to work for Linux only, I think it should default to disabled, or should ask only if detected Linux-based system (i.e. $(uname -a | tr 'A-Z' 'a-z') =~ linux).\nThe main confusion is that if I run the configure from Unix-based (e.g. OS X) or Windows, and just zoom through the config requests, it will try enabling jemalloc, and doesn't have a check for OS in the configure.", "body": "@jhseu In one of the recent commits (83c6e0c), `jemalloc` was introduced. The [blame comment](https://github.com/tensorflow/tensorflow/commit/83c6e0c63acdcab2c58c4ed7220bfa58879b1d57) says that it is \"Only enabled on Linux for now\". However, it defaults to `enabled` for any OS. If it is intended to work for Linux only, I think it should default to `disabled`, or should ask only if detected Linux-based system (i.e. `$(uname -a | tr 'A-Z' 'a-z') =~ linux`).\r\n\r\nThe main confusion is that if I run the `configure` from Unix-based (e.g. OS X) or Windows, and just zoom through the config requests, it will try enabling `jemalloc`, and doesn't have a check for OS in the [`configure`](https://github.com/tensorflow/tensorflow/blob/73bc42890/configure)."}