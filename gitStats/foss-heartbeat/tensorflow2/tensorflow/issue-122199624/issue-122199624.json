{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/514", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/514/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/514/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/514/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/514", "id": 122199624, "node_id": "MDU6SXNzdWUxMjIxOTk2MjQ=", "number": 514, "title": "MNIST works, but word2vec_basic does not", "user": {"login": "dinedal", "id": 606028, "node_id": "MDQ6VXNlcjYwNjAyOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/606028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dinedal", "html_url": "https://github.com/dinedal", "followers_url": "https://api.github.com/users/dinedal/followers", "following_url": "https://api.github.com/users/dinedal/following{/other_user}", "gists_url": "https://api.github.com/users/dinedal/gists{/gist_id}", "starred_url": "https://api.github.com/users/dinedal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dinedal/subscriptions", "organizations_url": "https://api.github.com/users/dinedal/orgs", "repos_url": "https://api.github.com/users/dinedal/repos", "events_url": "https://api.github.com/users/dinedal/events{/privacy}", "received_events_url": "https://api.github.com/users/dinedal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-12-15T06:00:08Z", "updated_at": "2015-12-21T17:49:47Z", "closed_at": "2015-12-21T17:49:47Z", "author_association": "NONE", "body_html": "<p>Ubuntu 15.10, tensorflow 0.6.0, Nvida Titan X</p>\n<p>All of my MNIST example runs work fine. Other examples work great too.</p>\n<p>Can confirm they use the GPU fine with log output.</p>\n<p>Here's the output of word2vec_basic.py</p>\n<pre><code>~/tensorflow/tensorflow/examples/tutorials/word2vec$ python word2vec_basic.py\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcublas.so.7.0 locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcudnn.so.6.5 locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcufft.so.7.0 locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcurand.so.7.0 locally\nFound and verified text8.zip\nData size 17005207\nMost common words (+UNK) [['UNK', 418391], ('the', 1061396), ('of', 593677), ('and', 416629), ('one', 411764)]\nSample data [5239, 3084, 12, 6, 195, 2, 3137, 46, 59, 156]\n3084 -&gt; 5239\noriginated -&gt; anarchism\n3084 -&gt; 12\noriginated -&gt; as\n12 -&gt; 6\nas -&gt; a\n12 -&gt; 3084\nas -&gt; originated\n6 -&gt; 195\na -&gt; term\n6 -&gt; 12\na -&gt; as\n195 -&gt; 2\nterm -&gt; of\n195 -&gt; 6\nterm -&gt; a\nI tensorflow/core/common_runtime/local_device.cc:40] Local device intra op parallelism threads: 8\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:909] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:103] Found device 0 with properties:\nname: GeForce GTX TITAN X\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2405\npciBusID 0000:03:00.0\nTotal memory: 12.00GiB\nFree memory: 11.21GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:127] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:137] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:702] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:03:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:42] Allocating 10.65GiB bytes.\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:52] GPU 0 memory begins at 0xb06c80000 extends to 0xdb07d7e67\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 1.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 2.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 4.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 8.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 16.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 32.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 64.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 128.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 256.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 512.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 1.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 2.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 4.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 8.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 16.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 32.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 64.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 128.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 256.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 512.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 1.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 2.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 4.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 8.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 16.00GiB\nI tensorflow/core/common_runtime/direct_session.cc:58] Direct session inter op parallelism threads: 8\nInitialized\nTraceback (most recent call last):\n  File \"word2vec_basic.py\", line 189, in &lt;module&gt;\n    _, loss_val = session.run([optimizer, loss], feed_dict=feed_dict)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 368, in run\n    results = self._do_run(target_list, unique_fetch_targets, feed_dict_string)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 444, in _do_run\n    e.code)\ntensorflow.python.framework.errors.InvalidArgumentError: Cannot assign a device to node 'GradientDescent/update_Variable_2/ScatterSub': Could not satisfy explicit device specification '' because the node was colocated with a group of nodes that required incompatible device '/job:localhost/replica:0/task:0/GPU:0'\n     [[Node: GradientDescent/update_Variable_2/ScatterSub = ScatterSub[T=DT_FLOAT, Tindices=DT_INT64, use_locking=false](Variable_2, gradients/concat_1, GradientDescent/update_Variable_2/mul)]]\nCaused by op u'GradientDescent/update_Variable_2/ScatterSub', defined at:\n  File \"word2vec_basic.py\", line 163, in &lt;module&gt;\n    optimizer = tf.train.GradientDescentOptimizer(1.0).minimize(loss)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 188, in minimize\n    name=name)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 289, in apply_gradients\n    update_ops.append(self._apply_sparse(grad, var))\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/training/gradient_descent.py\", line 59, in _apply_sparse\n    return var.scatter_sub(delta, use_locking=self._use_locking)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 392, in scatter_sub\n    use_locking=use_locking)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 227, in scatter_sub\n    name=name)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 664, in apply_op\n    op_def=op_def)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1834, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1043, in __init__\n    self._traceback = _extract_stack()\n</code></pre>", "body_text": "Ubuntu 15.10, tensorflow 0.6.0, Nvida Titan X\nAll of my MNIST example runs work fine. Other examples work great too.\nCan confirm they use the GPU fine with log output.\nHere's the output of word2vec_basic.py\n~/tensorflow/tensorflow/examples/tutorials/word2vec$ python word2vec_basic.py\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcublas.so.7.0 locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcudnn.so.6.5 locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcufft.so.7.0 locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcurand.so.7.0 locally\nFound and verified text8.zip\nData size 17005207\nMost common words (+UNK) [['UNK', 418391], ('the', 1061396), ('of', 593677), ('and', 416629), ('one', 411764)]\nSample data [5239, 3084, 12, 6, 195, 2, 3137, 46, 59, 156]\n3084 -> 5239\noriginated -> anarchism\n3084 -> 12\noriginated -> as\n12 -> 6\nas -> a\n12 -> 3084\nas -> originated\n6 -> 195\na -> term\n6 -> 12\na -> as\n195 -> 2\nterm -> of\n195 -> 6\nterm -> a\nI tensorflow/core/common_runtime/local_device.cc:40] Local device intra op parallelism threads: 8\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:909] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:103] Found device 0 with properties:\nname: GeForce GTX TITAN X\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2405\npciBusID 0000:03:00.0\nTotal memory: 12.00GiB\nFree memory: 11.21GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:127] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:137] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:702] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:03:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:42] Allocating 10.65GiB bytes.\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:52] GPU 0 memory begins at 0xb06c80000 extends to 0xdb07d7e67\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 1.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 2.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 4.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 8.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 16.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 32.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 64.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 128.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 256.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 512.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 1.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 2.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 4.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 8.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 16.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 32.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 64.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 128.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 256.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 512.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 1.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 2.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 4.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 8.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 16.00GiB\nI tensorflow/core/common_runtime/direct_session.cc:58] Direct session inter op parallelism threads: 8\nInitialized\nTraceback (most recent call last):\n  File \"word2vec_basic.py\", line 189, in <module>\n    _, loss_val = session.run([optimizer, loss], feed_dict=feed_dict)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 368, in run\n    results = self._do_run(target_list, unique_fetch_targets, feed_dict_string)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 444, in _do_run\n    e.code)\ntensorflow.python.framework.errors.InvalidArgumentError: Cannot assign a device to node 'GradientDescent/update_Variable_2/ScatterSub': Could not satisfy explicit device specification '' because the node was colocated with a group of nodes that required incompatible device '/job:localhost/replica:0/task:0/GPU:0'\n     [[Node: GradientDescent/update_Variable_2/ScatterSub = ScatterSub[T=DT_FLOAT, Tindices=DT_INT64, use_locking=false](Variable_2, gradients/concat_1, GradientDescent/update_Variable_2/mul)]]\nCaused by op u'GradientDescent/update_Variable_2/ScatterSub', defined at:\n  File \"word2vec_basic.py\", line 163, in <module>\n    optimizer = tf.train.GradientDescentOptimizer(1.0).minimize(loss)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 188, in minimize\n    name=name)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 289, in apply_gradients\n    update_ops.append(self._apply_sparse(grad, var))\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/training/gradient_descent.py\", line 59, in _apply_sparse\n    return var.scatter_sub(delta, use_locking=self._use_locking)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 392, in scatter_sub\n    use_locking=use_locking)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 227, in scatter_sub\n    name=name)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 664, in apply_op\n    op_def=op_def)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1834, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1043, in __init__\n    self._traceback = _extract_stack()", "body": "Ubuntu 15.10, tensorflow 0.6.0, Nvida Titan X\n\nAll of my MNIST example runs work fine. Other examples work great too.\n\nCan confirm they use the GPU fine with log output.\n\nHere's the output of word2vec_basic.py\n\n```\n~/tensorflow/tensorflow/examples/tutorials/word2vec$ python word2vec_basic.py\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcublas.so.7.0 locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcudnn.so.6.5 locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcufft.so.7.0 locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:101] successfully opened CUDA library libcurand.so.7.0 locally\nFound and verified text8.zip\nData size 17005207\nMost common words (+UNK) [['UNK', 418391], ('the', 1061396), ('of', 593677), ('and', 416629), ('one', 411764)]\nSample data [5239, 3084, 12, 6, 195, 2, 3137, 46, 59, 156]\n3084 -> 5239\noriginated -> anarchism\n3084 -> 12\noriginated -> as\n12 -> 6\nas -> a\n12 -> 3084\nas -> originated\n6 -> 195\na -> term\n6 -> 12\na -> as\n195 -> 2\nterm -> of\n195 -> 6\nterm -> a\nI tensorflow/core/common_runtime/local_device.cc:40] Local device intra op parallelism threads: 8\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:909] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:103] Found device 0 with properties:\nname: GeForce GTX TITAN X\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2405\npciBusID 0000:03:00.0\nTotal memory: 12.00GiB\nFree memory: 11.21GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:127] DMA: 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:137] 0:   Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:702] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:03:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:42] Allocating 10.65GiB bytes.\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:52] GPU 0 memory begins at 0xb06c80000 extends to 0xdb07d7e67\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 1.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 2.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 4.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 8.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 16.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 32.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 64.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 128.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 256.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 512.0KiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 1.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 2.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 4.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 8.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 16.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 32.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 64.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 128.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 256.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 512.00MiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 1.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 2.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 4.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 8.00GiB\nI tensorflow/core/common_runtime/gpu/gpu_bfc_allocator.cc:66] Creating bin of max chunk size 16.00GiB\nI tensorflow/core/common_runtime/direct_session.cc:58] Direct session inter op parallelism threads: 8\nInitialized\nTraceback (most recent call last):\n  File \"word2vec_basic.py\", line 189, in <module>\n    _, loss_val = session.run([optimizer, loss], feed_dict=feed_dict)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 368, in run\n    results = self._do_run(target_list, unique_fetch_targets, feed_dict_string)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 444, in _do_run\n    e.code)\ntensorflow.python.framework.errors.InvalidArgumentError: Cannot assign a device to node 'GradientDescent/update_Variable_2/ScatterSub': Could not satisfy explicit device specification '' because the node was colocated with a group of nodes that required incompatible device '/job:localhost/replica:0/task:0/GPU:0'\n     [[Node: GradientDescent/update_Variable_2/ScatterSub = ScatterSub[T=DT_FLOAT, Tindices=DT_INT64, use_locking=false](Variable_2, gradients/concat_1, GradientDescent/update_Variable_2/mul)]]\nCaused by op u'GradientDescent/update_Variable_2/ScatterSub', defined at:\n  File \"word2vec_basic.py\", line 163, in <module>\n    optimizer = tf.train.GradientDescentOptimizer(1.0).minimize(loss)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 188, in minimize\n    name=name)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 289, in apply_gradients\n    update_ops.append(self._apply_sparse(grad, var))\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/training/gradient_descent.py\", line 59, in _apply_sparse\n    return var.scatter_sub(delta, use_locking=self._use_locking)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 392, in scatter_sub\n    use_locking=use_locking)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 227, in scatter_sub\n    name=name)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 664, in apply_op\n    op_def=op_def)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1834, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/home/paul/.virtualenvs/mypy/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1043, in __init__\n    self._traceback = _extract_stack()\n```\n"}