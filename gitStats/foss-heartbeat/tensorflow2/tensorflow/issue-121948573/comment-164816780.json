{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/164816780", "html_url": "https://github.com/tensorflow/tensorflow/issues/502#issuecomment-164816780", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/502", "id": 164816780, "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDgxNjc4MA==", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "created_at": "2015-12-15T16:24:19Z", "updated_at": "2015-12-15T16:24:19Z", "author_association": "MEMBER", "body_html": "<p>These tests check for the correct behavior (the proper exceptions) when<br>\ntrying to create graphs/constants that are too large for protobuf. The<br>\nlimit is 2G/tensor. On your platform, you run out of memory trying to<br>\nallocate/copy that, which is soft of expected given your address space.</p>\n<p>I think those two tests should be fixed to catch MemoryError and not count<br>\nthat as a failure (since if your system cannot allocate 2G + 2G, you<br>\nprobably won't be creating graphs that big).</p>\n<p>On Tue, Dec 15, 2015 at 12:40 AM V\u00edctor Mayoral Vilches &lt;<br>\n<a href=\"mailto:notifications@github.com\">notifications@github.com</a>&gt; wrote:</p>\n<blockquote>\n<p>Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> <a href=\"https://github.com/mrry\">https://github.com/mrry</a> for looking into this. Here's<br>\n<a href=\"https://gist.github.com/vmayoral/ec85d8effa13308d5f66\">https://gist.github.com/vmayoral/ec85d8effa13308d5f66</a> the build output.<br>\nFailed at the end.</p>\n<p>More useful seems to be the log cited at the end<br>\n<a href=\"https://gist.github.com/vmayoral/7665cf9ca9056a15167d\">https://gist.github.com/vmayoral/7665cf9ca9056a15167d</a>. Apparently,<br>\nthere's an ERROR: testTooLargeGraph (<strong>main</strong>.ConstantTest).</p>\n<p>\u2014<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"121948573\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/502\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/502/hovercard?comment_id=164686186&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/502#issuecomment-164686186\">#502 (comment)</a><br>\n.</p>\n</blockquote>", "body_text": "These tests check for the correct behavior (the proper exceptions) when\ntrying to create graphs/constants that are too large for protobuf. The\nlimit is 2G/tensor. On your platform, you run out of memory trying to\nallocate/copy that, which is soft of expected given your address space.\nI think those two tests should be fixed to catch MemoryError and not count\nthat as a failure (since if your system cannot allocate 2G + 2G, you\nprobably won't be creating graphs that big).\nOn Tue, Dec 15, 2015 at 12:40 AM V\u00edctor Mayoral Vilches <\nnotifications@github.com> wrote:\n\nThanks @mrry https://github.com/mrry for looking into this. Here's\nhttps://gist.github.com/vmayoral/ec85d8effa13308d5f66 the build output.\nFailed at the end.\nMore useful seems to be the log cited at the end\nhttps://gist.github.com/vmayoral/7665cf9ca9056a15167d. Apparently,\nthere's an ERROR: testTooLargeGraph (main.ConstantTest).\n\u2014\nReply to this email directly or view it on GitHub\n#502 (comment)\n.", "body": "These tests check for the correct behavior (the proper exceptions) when\ntrying to create graphs/constants that are too large for protobuf. The\nlimit is 2G/tensor. On your platform, you run out of memory trying to\nallocate/copy that, which is soft of expected given your address space.\n\nI think those two tests should be fixed to catch MemoryError and not count\nthat as a failure (since if your system cannot allocate 2G + 2G, you\nprobably won't be creating graphs that big).\n\nOn Tue, Dec 15, 2015 at 12:40 AM V\u00edctor Mayoral Vilches <\nnotifications@github.com> wrote:\n\n> Thanks @mrry https://github.com/mrry for looking into this. Here's\n> https://gist.github.com/vmayoral/ec85d8effa13308d5f66 the build output.\n> Failed at the end.\n> \n> More useful seems to be the log cited at the end\n> https://gist.github.com/vmayoral/7665cf9ca9056a15167d. Apparently,\n> there's an ERROR: testTooLargeGraph (**main**.ConstantTest).\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/502#issuecomment-164686186\n> .\n"}