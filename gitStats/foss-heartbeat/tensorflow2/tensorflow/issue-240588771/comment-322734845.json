{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/322734845", "html_url": "https://github.com/tensorflow/tensorflow/issues/11290#issuecomment-322734845", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11290", "id": 322734845, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjczNDg0NQ==", "user": {"login": "Nayana-ibm", "id": 20816038, "node_id": "MDQ6VXNlcjIwODE2MDM4", "avatar_url": "https://avatars0.githubusercontent.com/u/20816038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nayana-ibm", "html_url": "https://github.com/Nayana-ibm", "followers_url": "https://api.github.com/users/Nayana-ibm/followers", "following_url": "https://api.github.com/users/Nayana-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/Nayana-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nayana-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nayana-ibm/subscriptions", "organizations_url": "https://api.github.com/users/Nayana-ibm/orgs", "repos_url": "https://api.github.com/users/Nayana-ibm/repos", "events_url": "https://api.github.com/users/Nayana-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/Nayana-ibm/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-16T10:53:40Z", "updated_at": "2017-08-16T10:53:40Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16018\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/asimshankar\">@asimshankar</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15676913\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/poxvoculi\">@poxvoculi</a> Thank you for your inputs.</p>\n<p>We could use the script <a href=\"https://github.com/tensorflow/tensorflow/blob/v1.2.1/tensorflow/examples/saved_model/saved_model_half_plus_two.py\">saved_model_half_plus_two.py</a> (referred in previous comment) to regenerate a saved model testdata in big-endian format (specifically s390x).  With the changes in source code<code> test/BUILD</code> files, now below tests are passing:</p>\n<pre><code>//tensorflow/c:c_api_test\n//tensorflow/cc/saved_model:loader_test\n//tensorflow/java:SavedModelBundleTest\n//tensorflow/contrib/session_bundle:bundle_shim_py_test\n//tensorflow/contrib/session_bundle:bundle_shim_test\n</code></pre>\n<p>On further execution of test modules like<code> tensorflow/contrib, tensorflow/tools</code> I found that there are few tests which are failing with same reason. i.e. testdata in little endian format.</p>\n<pre><code>//tensorflow/python/feature_column:feature_column_test\n//tensorflow/tools/tfprof/internal:tfprof_show_test\n//tensorflow/tools/tfprof/internal:tfprof_stats_test\n//tensorflow/tools/tfprof/internal:tfprof_tensor_test\n//tensorflow/contrib/session_bundle:session_bundle_py_test\n//tensorflow/contrib/session_bundle:session_bundle_test\n</code></pre>\n<p>We could also generate partial<a href=\"https://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/contrib/session_bundle/testdata/half_plus_two/00000123\"> testdata for session bundle</a> by executing script <a href=\"https://github.com/tensorflow/tensorflow/blob/v1.2.1/tensorflow/contrib/session_bundle/example/export_half_plus_two.py\">https://github.com/tensorflow/tensorflow/blob/v1.2.1/tensorflow/contrib/session_bundle/example/export_half_plus_two.py</a> used by session_bundle tests.</p>\n<p>Now,  we need to generate testdata used by below modules as well:</p>\n<ol>\n<li><code>tensorflow/session_bundle/testdata/half_plus_two_ckpt_v2</code><br>\n<a href=\"https://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/contrib/session_bundle/testdata/half_plus_two_ckpt_v2/00000123\">https://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/contrib/session_bundle/testdata/half_plus_two_ckpt_v2/00000123</a></li>\n<li><code>tensorflow/python/feature_column </code><br>\n<a href=\"https://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/python/feature_column/testdata\">https://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/python/feature_column/testdata</a></li>\n<li><code> tensorflow/tools/tfprof/internal/testdata</code><br>\n<a href=\"https://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/tools/tfprof/internal/testdata\">https://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/tools/tfprof/internal/testdata</a></li>\n</ol>\n<p>I tried to search for scripts/commands that could generate this testdata however didn't get much information. Am I missing something here?<br>\nCould you please provide us pointers?</p>", "body_text": "@asimshankar @poxvoculi Thank you for your inputs.\nWe could use the script saved_model_half_plus_two.py (referred in previous comment) to regenerate a saved model testdata in big-endian format (specifically s390x).  With the changes in source code test/BUILD files, now below tests are passing:\n//tensorflow/c:c_api_test\n//tensorflow/cc/saved_model:loader_test\n//tensorflow/java:SavedModelBundleTest\n//tensorflow/contrib/session_bundle:bundle_shim_py_test\n//tensorflow/contrib/session_bundle:bundle_shim_test\n\nOn further execution of test modules like tensorflow/contrib, tensorflow/tools I found that there are few tests which are failing with same reason. i.e. testdata in little endian format.\n//tensorflow/python/feature_column:feature_column_test\n//tensorflow/tools/tfprof/internal:tfprof_show_test\n//tensorflow/tools/tfprof/internal:tfprof_stats_test\n//tensorflow/tools/tfprof/internal:tfprof_tensor_test\n//tensorflow/contrib/session_bundle:session_bundle_py_test\n//tensorflow/contrib/session_bundle:session_bundle_test\n\nWe could also generate partial testdata for session bundle by executing script https://github.com/tensorflow/tensorflow/blob/v1.2.1/tensorflow/contrib/session_bundle/example/export_half_plus_two.py used by session_bundle tests.\nNow,  we need to generate testdata used by below modules as well:\n\ntensorflow/session_bundle/testdata/half_plus_two_ckpt_v2\nhttps://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/contrib/session_bundle/testdata/half_plus_two_ckpt_v2/00000123\ntensorflow/python/feature_column \nhttps://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/python/feature_column/testdata\n tensorflow/tools/tfprof/internal/testdata\nhttps://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/tools/tfprof/internal/testdata\n\nI tried to search for scripts/commands that could generate this testdata however didn't get much information. Am I missing something here?\nCould you please provide us pointers?", "body": "@asimshankar @poxvoculi Thank you for your inputs. \r\n\r\nWe could use the script [saved_model_half_plus_two.py](https://github.com/tensorflow/tensorflow/blob/v1.2.1/tensorflow/examples/saved_model/saved_model_half_plus_two.py) (referred in previous comment) to regenerate a saved model testdata in big-endian format (specifically s390x).  With the changes in source code` test/BUILD` files, now below tests are passing:\r\n```\r\n//tensorflow/c:c_api_test\r\n//tensorflow/cc/saved_model:loader_test\r\n//tensorflow/java:SavedModelBundleTest\r\n//tensorflow/contrib/session_bundle:bundle_shim_py_test\r\n//tensorflow/contrib/session_bundle:bundle_shim_test\r\n```\r\n\r\nOn further execution of test modules like` tensorflow/contrib, tensorflow/tools` I found that there are few tests which are failing with same reason. i.e. testdata in little endian format. \r\n```\r\n//tensorflow/python/feature_column:feature_column_test\r\n//tensorflow/tools/tfprof/internal:tfprof_show_test\r\n//tensorflow/tools/tfprof/internal:tfprof_stats_test\r\n//tensorflow/tools/tfprof/internal:tfprof_tensor_test\r\n//tensorflow/contrib/session_bundle:session_bundle_py_test\r\n//tensorflow/contrib/session_bundle:session_bundle_test\r\n```\r\nWe could also generate partial[ testdata for session bundle](https://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/contrib/session_bundle/testdata/half_plus_two/00000123) by executing script https://github.com/tensorflow/tensorflow/blob/v1.2.1/tensorflow/contrib/session_bundle/example/export_half_plus_two.py used by session_bundle tests. \r\n\r\nNow,  we need to generate testdata used by below modules as well: \r\n1. `tensorflow/session_bundle/testdata/half_plus_two_ckpt_v2`\r\nhttps://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/contrib/session_bundle/testdata/half_plus_two_ckpt_v2/00000123\r\n2. `tensorflow/python/feature_column `\r\nhttps://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/python/feature_column/testdata\r\n3. ` tensorflow/tools/tfprof/internal/testdata`\r\nhttps://github.com/tensorflow/tensorflow/tree/v1.2.1/tensorflow/tools/tfprof/internal/testdata\r\n\r\n\r\nI tried to search for scripts/commands that could generate this testdata however didn't get much information. Am I missing something here?\r\n Could you please provide us pointers?\r\n\r\n\r\n\r\n"}