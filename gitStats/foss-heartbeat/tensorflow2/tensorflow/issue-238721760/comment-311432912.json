{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/311432912", "html_url": "https://github.com/tensorflow/tensorflow/issues/11071#issuecomment-311432912", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11071", "id": 311432912, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTQzMjkxMg==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-27T17:44:03Z", "updated_at": "2017-06-27T17:44:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I don't think it's a bug, although without a self-contained example I can't say for sure.</p>\n<p>The most likely cause of <code>sv.managed_session()</code> hanging is because <code>sv.prepare_or_wait_for_session()</code>  is blocking inside <a href=\"https://github.com/tensorflow/tensorflow/blob/90b2a38a1f7cd7cde0f012249407574e97583096/tensorflow/python/training/session_manager.py#L363\"><code>SessionManager.wait_for_session()</code></a>. The non-chief workers will block in here until the chief initializes all of the variables (and hence the <code>ready_op</code> returns <code>True</code>). It's possible that, because you have a slightly unusual variable configuration, the <code>ready_op</code> never returns <code>True</code>. You might need to customize the <code>ready_op</code> (or possibly the <code>init_op</code>) when constructing the <code>tf.train.Supervisor</code> to work for your configuration.</p>", "body_text": "I don't think it's a bug, although without a self-contained example I can't say for sure.\nThe most likely cause of sv.managed_session() hanging is because sv.prepare_or_wait_for_session()  is blocking inside SessionManager.wait_for_session(). The non-chief workers will block in here until the chief initializes all of the variables (and hence the ready_op returns True). It's possible that, because you have a slightly unusual variable configuration, the ready_op never returns True. You might need to customize the ready_op (or possibly the init_op) when constructing the tf.train.Supervisor to work for your configuration.", "body": "I don't think it's a bug, although without a self-contained example I can't say for sure.\r\n\r\nThe most likely cause of `sv.managed_session()` hanging is because `sv.prepare_or_wait_for_session()`  is blocking inside [`SessionManager.wait_for_session()`](https://github.com/tensorflow/tensorflow/blob/90b2a38a1f7cd7cde0f012249407574e97583096/tensorflow/python/training/session_manager.py#L363). The non-chief workers will block in here until the chief initializes all of the variables (and hence the `ready_op` returns `True`). It's possible that, because you have a slightly unusual variable configuration, the `ready_op` never returns `True`. You might need to customize the `ready_op` (or possibly the `init_op`) when constructing the `tf.train.Supervisor` to work for your configuration."}