{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/311790655", "html_url": "https://github.com/tensorflow/tensorflow/issues/11071#issuecomment-311790655", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11071", "id": 311790655, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTc5MDY1NQ==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-28T21:05:30Z", "updated_at": "2017-06-28T21:05:30Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The \"slightly unusual\" part is this line:</p>\n<div class=\"highlight highlight-source-python\"><pre>            <span class=\"pl-c1\">print</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>building local params<span class=\"pl-pds\">'</span></span>\n            <span class=\"pl-k\">with</span> tf.device(worker_device):\n                worker_tparams <span class=\"pl-k\">=</span> init_tparams(<span class=\"pl-v\">is_local</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>)  <span class=\"pl-c\"><span class=\"pl-c\">#</span> define variable in collection tf.GraphKeys.LOCAL_VARIABLES</span></pre></div>\n<p>...which <em>should</em> work, but it might conflict with some of the assumptions in the <code>tf.train.SyncReplicasOptimizer</code> code.</p>\n<p>I'd expect <a href=\"https://github.com/tensorflow/tensorflow/blob/9a4a736ae45a1cc88db472354c5129853ec9fb50/tensorflow/python/training/session_manager.py#L417\">this log statement</a> to provide useful information in the non-chief replicas. Does it print anything?</p>", "body_text": "The \"slightly unusual\" part is this line:\n            print 'building local params'\n            with tf.device(worker_device):\n                worker_tparams = init_tparams(is_local=True)  # define variable in collection tf.GraphKeys.LOCAL_VARIABLES\n...which should work, but it might conflict with some of the assumptions in the tf.train.SyncReplicasOptimizer code.\nI'd expect this log statement to provide useful information in the non-chief replicas. Does it print anything?", "body": "The \"slightly unusual\" part is this line:\r\n\r\n```python\r\n            print 'building local params'\r\n            with tf.device(worker_device):\r\n                worker_tparams = init_tparams(is_local=True)  # define variable in collection tf.GraphKeys.LOCAL_VARIABLES\r\n```\r\n\r\n...which *should* work, but it might conflict with some of the assumptions in the `tf.train.SyncReplicasOptimizer` code.\r\n\r\nI'd expect [this log statement](https://github.com/tensorflow/tensorflow/blob/9a4a736ae45a1cc88db472354c5129853ec9fb50/tensorflow/python/training/session_manager.py#L417) to provide useful information in the non-chief replicas. Does it print anything?"}