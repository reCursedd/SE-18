{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9149", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9149/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9149/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9149/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9149", "id": 221111432, "node_id": "MDU6SXNzdWUyMjExMTE0MzI=", "number": 9149, "title": "Optimization flags are erroneously ignored in compilation of Tensorflow 1.1.0-rc1", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2017-04-11T23:42:59Z", "updated_at": "2018-11-10T03:42:49Z", "closed_at": "2018-11-10T03:42:49Z", "author_association": "NONE", "body_html": "<p>I am getting a large number of optimization flag related warnings in compilation of Tensorflow 1.1.0-rc1 from source</p>\n<pre><code>/usr/include/features.h:330:4: warning: #warning _FORTIFY_SOURCE requires compiling with optimization (-O) [-Wcpp]\n #  warning _FORTIFY_SOURCE requires compiling with optimization (-O)\n    ^\n</code></pre>\n<p>System Information:<br>\nOS:CentOS 7<br>\nGCC: gcc 4.8.5<br>\nPython: python3.5<br>\nTensorflow version:  TensorFlow 1.1.0-rc1<br>\nBazel:  version 0.4.5<br>\nCUDA: CUDA 8.0 with GTX 1080 GPU</p>\n<p>in the prompt of ./configure:</p>\n<pre><code>Please specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3.5\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \nDo you wish to use jemalloc as the malloc implementation? [Y/n] Y\njemalloc enabled\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n\n</code></pre>\n<p>explicitly typing <code>-march=native -O2</code> or <code>-O2</code> in the line <code>Please specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: </code>\"doesn't help.</p>\n<p>to compile I used:</p>\n<p><code>bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</code></p>\n<p>I tried as early as tensorflow version 1.0.0 and I always get the \"<code>warning _FORTIFY_SOURCE requires compiling with optimization (-O)</code>\". Tensorflow version 0.12.1 doesn't seem to have this problem for me.</p>\n<p>Related issue:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"151672068\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2153\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2153/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2153\">#2153</a></p>", "body_text": "I am getting a large number of optimization flag related warnings in compilation of Tensorflow 1.1.0-rc1 from source\n/usr/include/features.h:330:4: warning: #warning _FORTIFY_SOURCE requires compiling with optimization (-O) [-Wcpp]\n #  warning _FORTIFY_SOURCE requires compiling with optimization (-O)\n    ^\n\nSystem Information:\nOS:CentOS 7\nGCC: gcc 4.8.5\nPython: python3.5\nTensorflow version:  TensorFlow 1.1.0-rc1\nBazel:  version 0.4.5\nCUDA: CUDA 8.0 with GTX 1080 GPU\nin the prompt of ./configure:\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3.5\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \nDo you wish to use jemalloc as the malloc implementation? [Y/n] Y\njemalloc enabled\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n\n\nexplicitly typing -march=native -O2 or -O2 in the line Please specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \"doesn't help.\nto compile I used:\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nI tried as early as tensorflow version 1.0.0 and I always get the \"warning _FORTIFY_SOURCE requires compiling with optimization (-O)\". Tensorflow version 0.12.1 doesn't seem to have this problem for me.\nRelated issue:\n#2153", "body": "I am getting a large number of optimization flag related warnings in compilation of Tensorflow 1.1.0-rc1 from source\r\n\r\n```\r\n/usr/include/features.h:330:4: warning: #warning _FORTIFY_SOURCE requires compiling with optimization (-O) [-Wcpp]\r\n #  warning _FORTIFY_SOURCE requires compiling with optimization (-O)\r\n    ^\r\n```\r\nSystem Information:  \r\nOS:CentOS 7\r\nGCC: gcc 4.8.5\r\nPython: python3.5\r\nTensorflow version:  TensorFlow 1.1.0-rc1\r\nBazel:  version 0.4.5\r\nCUDA: CUDA 8.0 with GTX 1080 GPU\r\n\r\nin the prompt of ./configure:\r\n\r\n```\r\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3.5\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: \r\nDo you wish to use jemalloc as the malloc implementation? [Y/n] Y\r\njemalloc enabled\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n\r\n```\r\nexplicitly typing `-march=native -O2` or `-O2` in the line `Please specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: `\"doesn't help. \r\n\r\nto compile I used:\r\n\r\n`bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package`\r\n\r\nI tried as early as tensorflow version 1.0.0 and I always get the \"`warning _FORTIFY_SOURCE requires compiling with optimization (-O)`\". Tensorflow version 0.12.1 doesn't seem to have this problem for me. \r\n\r\nRelated issue:\r\n#2153 \r\n"}