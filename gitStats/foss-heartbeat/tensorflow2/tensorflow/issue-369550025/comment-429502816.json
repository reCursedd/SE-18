{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/429502816", "html_url": "https://github.com/tensorflow/tensorflow/issues/22938#issuecomment-429502816", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22938", "id": 429502816, "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTUwMjgxNg==", "user": {"login": "cjr0106", "id": 32252431, "node_id": "MDQ6VXNlcjMyMjUyNDMx", "avatar_url": "https://avatars3.githubusercontent.com/u/32252431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjr0106", "html_url": "https://github.com/cjr0106", "followers_url": "https://api.github.com/users/cjr0106/followers", "following_url": "https://api.github.com/users/cjr0106/following{/other_user}", "gists_url": "https://api.github.com/users/cjr0106/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjr0106/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjr0106/subscriptions", "organizations_url": "https://api.github.com/users/cjr0106/orgs", "repos_url": "https://api.github.com/users/cjr0106/repos", "events_url": "https://api.github.com/users/cjr0106/events{/privacy}", "received_events_url": "https://api.github.com/users/cjr0106/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-13T02:06:46Z", "updated_at": "2018-10-13T02:06:46Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=42785357\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ymodak\">@ymodak</a>  the system information is as fllowed:<br>\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):yes<br>\n<code>import tensorflow as tf import pathlib archive_dir = pathlib.Path(\"/home/caojinrong/ssd_mobilenet_v1_quantized_coco/ssd_mobilenet_v1_quantized_300x300_coco14_sync_2018_07_18\") print(str(archive_dir)) graph_def_file = pathlib.Path(archive_dir)/\"tflite_graph.pb\" input_arrays = [\"normalized_input_image_tensor\"] output_arrays = [\"TFLite_Detection_PostProcess\"] converter = tf.contrib.lite.TocoConverter.from_frozen_graph( str(graph_def_file), input_arrays, output_arrays, input_shapes={\"normalized_input_image_tensor\":[1,300,300,3]}) converter.post_training_quantize = True mobilenet_tflite_file = graph_def_file.parent/\"ssd_mobilenet_v1_coco_quantized.tflite\" mobilenet_tflite_file.write_bytes(converter.convert()) ~                                                              </code></p>\n<p>OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04<br>\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: no<br>\nTensorFlow installed from (source or binary):<br>\nTensorFlow version (use command below):1.12.0-dev20181012<br>\nPython version: 3.5<br>\nBazel version (if compiling from source):bazel-0.17.2-installer-linux-x86_64<br>\nGCC/Compiler version (if compiling from source):no<br>\nCUDA/cuDNN version :<br>\nGPU model and memory : 1080t<br>\nExact command to reproduce:</p>", "body_text": "@ymodak  the system information is as fllowed:\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):yes\nimport tensorflow as tf import pathlib archive_dir = pathlib.Path(\"/home/caojinrong/ssd_mobilenet_v1_quantized_coco/ssd_mobilenet_v1_quantized_300x300_coco14_sync_2018_07_18\") print(str(archive_dir)) graph_def_file = pathlib.Path(archive_dir)/\"tflite_graph.pb\" input_arrays = [\"normalized_input_image_tensor\"] output_arrays = [\"TFLite_Detection_PostProcess\"] converter = tf.contrib.lite.TocoConverter.from_frozen_graph( str(graph_def_file), input_arrays, output_arrays, input_shapes={\"normalized_input_image_tensor\":[1,300,300,3]}) converter.post_training_quantize = True mobilenet_tflite_file = graph_def_file.parent/\"ssd_mobilenet_v1_coco_quantized.tflite\" mobilenet_tflite_file.write_bytes(converter.convert()) ~                                                              \nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: no\nTensorFlow installed from (source or binary):\nTensorFlow version (use command below):1.12.0-dev20181012\nPython version: 3.5\nBazel version (if compiling from source):bazel-0.17.2-installer-linux-x86_64\nGCC/Compiler version (if compiling from source):no\nCUDA/cuDNN version :\nGPU model and memory : 1080t\nExact command to reproduce:", "body": "@ymodak  the system information is as fllowed:\r\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):yes\r\n`import tensorflow as tf\r\nimport pathlib\r\narchive_dir = pathlib.Path(\"/home/caojinrong/ssd_mobilenet_v1_quantized_coco/ssd_mobilenet_v1_quantized_300x300_coco14_sync_2018_07_18\")\r\nprint(str(archive_dir))\r\ngraph_def_file = pathlib.Path(archive_dir)/\"tflite_graph.pb\"\r\ninput_arrays = [\"normalized_input_image_tensor\"]\r\noutput_arrays = [\"TFLite_Detection_PostProcess\"]\r\nconverter = tf.contrib.lite.TocoConverter.from_frozen_graph(\r\n str(graph_def_file), input_arrays, output_arrays, input_shapes={\"normalized_input_image_tensor\":[1,300,300,3]})\r\nconverter.post_training_quantize = True\r\nmobilenet_tflite_file = graph_def_file.parent/\"ssd_mobilenet_v1_coco_quantized.tflite\"\r\nmobilenet_tflite_file.write_bytes(converter.convert())\r\n~                                                              `\r\n\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\r\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: no\r\nTensorFlow installed from (source or binary): \r\nTensorFlow version (use command below):1.12.0-dev20181012\r\nPython version: 3.5\r\nBazel version (if compiling from source):bazel-0.17.2-installer-linux-x86_64\r\nGCC/Compiler version (if compiling from source):no\r\nCUDA/cuDNN version : \r\nGPU model and memory : 1080t \r\nExact command to reproduce:"}