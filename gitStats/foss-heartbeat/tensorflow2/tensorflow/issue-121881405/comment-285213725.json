{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/285213725", "html_url": "https://github.com/tensorflow/tensorflow/issues/492#issuecomment-285213725", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/492", "id": 285213725, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTIxMzcyNQ==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-09T00:19:23Z", "updated_at": "2017-03-09T00:20:14Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=17646533\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ericdnielsen\">@ericdnielsen</a> in last 2 weeks there was a change that made all cwise ops run in place when possible, so that will reduce usage. But I suspect you have a deeper problem with your architecture requiring too much memory to evaluate in some cases</p>\n<p>It's weird that you are getting dumps for running out of CPU memory. On my machine TensorFlow just uses as much CPU memory as is available, until the machine freezes.</p>\n<p>The order of execution is random, so different runs may use different amounts of memory. You could use my <a href=\"https://github.com/yaroslavvb/stuff/tree/master/linearize\">linearize</a> util to fix a single memory efficient order, and debug your excessive memory usage from there. (ie, using <a href=\"https://github.com/yaroslavvb/memory_util\">http://github.com/yaroslavvb/memory_util</a>)</p>", "body_text": "@ericdnielsen in last 2 weeks there was a change that made all cwise ops run in place when possible, so that will reduce usage. But I suspect you have a deeper problem with your architecture requiring too much memory to evaluate in some cases\nIt's weird that you are getting dumps for running out of CPU memory. On my machine TensorFlow just uses as much CPU memory as is available, until the machine freezes.\nThe order of execution is random, so different runs may use different amounts of memory. You could use my linearize util to fix a single memory efficient order, and debug your excessive memory usage from there. (ie, using http://github.com/yaroslavvb/memory_util)", "body": "@ericdnielsen in last 2 weeks there was a change that made all cwise ops run in place when possible, so that will reduce usage. But I suspect you have a deeper problem with your architecture requiring too much memory to evaluate in some cases\r\n\r\nIt's weird that you are getting dumps for running out of CPU memory. On my machine TensorFlow just uses as much CPU memory as is available, until the machine freezes.\r\n\r\nThe order of execution is random, so different runs may use different amounts of memory. You could use my [linearize](https://github.com/yaroslavvb/stuff/tree/master/linearize) util to fix a single memory efficient order, and debug your excessive memory usage from there. (ie, using http://github.com/yaroslavvb/memory_util)"}