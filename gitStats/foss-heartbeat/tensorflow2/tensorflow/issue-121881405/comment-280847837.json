{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/280847837", "html_url": "https://github.com/tensorflow/tensorflow/issues/492#issuecomment-280847837", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/492", "id": 280847837, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDg0NzgzNw==", "user": {"login": "zhangqianhui", "id": 7938702, "node_id": "MDQ6VXNlcjc5Mzg3MDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/7938702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangqianhui", "html_url": "https://github.com/zhangqianhui", "followers_url": "https://api.github.com/users/zhangqianhui/followers", "following_url": "https://api.github.com/users/zhangqianhui/following{/other_user}", "gists_url": "https://api.github.com/users/zhangqianhui/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangqianhui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangqianhui/subscriptions", "organizations_url": "https://api.github.com/users/zhangqianhui/orgs", "repos_url": "https://api.github.com/users/zhangqianhui/repos", "events_url": "https://api.github.com/users/zhangqianhui/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangqianhui/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-18T14:09:15Z", "updated_at": "2017-02-18T14:09:15Z", "author_association": "NONE", "body_html": "<p>I have found the reason , In my program , every iteration will call the function.<br>\nthe code</p>\n<pre><code>def sample_prior(self, batch_size):\n        ret = []\n        for dist_i in self.dists:\n            ret.append(tf.cast(dist_i.sample_prior(batch_size), tf.float32))\n        return tf.concat(1, ret)\n</code></pre>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a>  the function will consume my gpu mempry . Do you know why? And how to sovle it ?</p>", "body_text": "I have found the reason , In my program , every iteration will call the function.\nthe code\ndef sample_prior(self, batch_size):\n        ret = []\n        for dist_i in self.dists:\n            ret.append(tf.cast(dist_i.sample_prior(batch_size), tf.float32))\n        return tf.concat(1, ret)\n\n@yaroslavvb  the function will consume my gpu mempry . Do you know why? And how to sovle it ?", "body": "I have found the reason , In my program , every iteration will call the function.\r\nthe code\r\n\r\n```\r\ndef sample_prior(self, batch_size):\r\n        ret = []\r\n        for dist_i in self.dists:\r\n            ret.append(tf.cast(dist_i.sample_prior(batch_size), tf.float32))\r\n        return tf.concat(1, ret)\r\n```\r\n\r\n@yaroslavvb  the function will consume my gpu mempry . Do you know why? And how to sovle it ?"}