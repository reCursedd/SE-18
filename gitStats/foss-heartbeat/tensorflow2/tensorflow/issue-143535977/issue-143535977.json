{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1642", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1642/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1642/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1642/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1642", "id": 143535977, "node_id": "MDU6SXNzdWUxNDM1MzU5Nzc=", "number": 1642, "title": "Poor performance of Android camera demo on arm64", "user": {"login": "flawless2011", "id": 6277531, "node_id": "MDQ6VXNlcjYyNzc1MzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/6277531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flawless2011", "html_url": "https://github.com/flawless2011", "followers_url": "https://api.github.com/users/flawless2011/followers", "following_url": "https://api.github.com/users/flawless2011/following{/other_user}", "gists_url": "https://api.github.com/users/flawless2011/gists{/gist_id}", "starred_url": "https://api.github.com/users/flawless2011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flawless2011/subscriptions", "organizations_url": "https://api.github.com/users/flawless2011/orgs", "repos_url": "https://api.github.com/users/flawless2011/repos", "events_url": "https://api.github.com/users/flawless2011/events{/privacy}", "received_events_url": "https://api.github.com/users/flawless2011/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2016-03-25T16:30:29Z", "updated_at": "2017-03-31T07:26:10Z", "closed_at": "2016-06-08T22:52:37Z", "author_association": "NONE", "body_html": "<p>I've been running the Android camera demo on both a Nexus 5 (armeabi-v7a) and Nexus 5X (arm64-v8a).  The older Nexus 5 is able to perform a single recognition in about ~350ms.  The Nexus 5X however performs at around ~750ms.  I wouldn't expect a newer device to perform worse (especially not that much worse) than the older one.</p>\n<p>I've tried running the resulting apk from<br>\n<code>bazel build //tensorflow/examples/android:tensorflow_demo</code><br>\nas well as<br>\n<code>bazel build //tensorflow/examples/android:tensorflow_demo --fat_apk_cpu=arm64-v8a</code></p>\n<p>There's no change in performance for either option on the Nexus 5X.</p>\n<p>I know that the <code>-mfpu=neon</code> flag seems to be a problem when building for arm64-v8a so I've had to remove it for those builds.  I suspect the performance issue might be related to the performance benefits of neon.  Is there a different flag that needs to be specified to enable neon support for the arm64-v8a architecture?  Or am I completely off base on the performance expectations on Nexus 5X?</p>\n<p>This is related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"132179086\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1019\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1019/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1019\">#1019</a></p>", "body_text": "I've been running the Android camera demo on both a Nexus 5 (armeabi-v7a) and Nexus 5X (arm64-v8a).  The older Nexus 5 is able to perform a single recognition in about ~350ms.  The Nexus 5X however performs at around ~750ms.  I wouldn't expect a newer device to perform worse (especially not that much worse) than the older one.\nI've tried running the resulting apk from\nbazel build //tensorflow/examples/android:tensorflow_demo\nas well as\nbazel build //tensorflow/examples/android:tensorflow_demo --fat_apk_cpu=arm64-v8a\nThere's no change in performance for either option on the Nexus 5X.\nI know that the -mfpu=neon flag seems to be a problem when building for arm64-v8a so I've had to remove it for those builds.  I suspect the performance issue might be related to the performance benefits of neon.  Is there a different flag that needs to be specified to enable neon support for the arm64-v8a architecture?  Or am I completely off base on the performance expectations on Nexus 5X?\nThis is related to #1019", "body": "I've been running the Android camera demo on both a Nexus 5 (armeabi-v7a) and Nexus 5X (arm64-v8a).  The older Nexus 5 is able to perform a single recognition in about ~350ms.  The Nexus 5X however performs at around ~750ms.  I wouldn't expect a newer device to perform worse (especially not that much worse) than the older one.\n\nI've tried running the resulting apk from \n`bazel build //tensorflow/examples/android:tensorflow_demo` \nas well as\n`bazel build //tensorflow/examples/android:tensorflow_demo --fat_apk_cpu=arm64-v8a`\n\nThere's no change in performance for either option on the Nexus 5X.\n\nI know that the `-mfpu=neon` flag seems to be a problem when building for arm64-v8a so I've had to remove it for those builds.  I suspect the performance issue might be related to the performance benefits of neon.  Is there a different flag that needs to be specified to enable neon support for the arm64-v8a architecture?  Or am I completely off base on the performance expectations on Nexus 5X?\n\nThis is related to #1019 \n"}