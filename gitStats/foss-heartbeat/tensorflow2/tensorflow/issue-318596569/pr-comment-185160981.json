{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/185160981", "pull_request_review_id": 116495761, "id": 185160981, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NTE2MDk4MQ==", "diff_hunk": "@@ -855,7 +857,30 @@ def _on_textbox_keypress(self, x):\n       except curses.error:\n         mouse_event_type = None\n \n-      if mouse_event_type == curses.BUTTON1_RELEASED:\n+      if mouse_event_type == curses.BUTTON1_PRESSED:\n+        # Logic for held mouse-triggered scrolling.\n+        if mouse_x >= self._max_x - 2:\n+          # Disable blocking on checking for user input.\n+          self._command_window.nodelay(True)\n+\n+          # Loop while mouse button is pressed.\n+          while mouse_event_type == curses.BUTTON1_PRESSED:\n+            # Sleep for a bit.\n+            curses.napms(self._MOUSE_SCROLL_DELAY_MS)\n+            scroll_command = self._scroll_bar.get_click_command(mouse_y)\n+            if scroll_command is not None:", "path": "tensorflow/python/debug/cli/curses_ui.py", "position": null, "original_position": 36, "commit_id": "8219e5b14f659e14112765f7b9f1fe3863758b31", "original_commit_id": "81edc577f4603fa8decb2b5885c4dd86032a54d8", "user": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "body": "Can you change this to\r\n```python\r\nif scroll_command in (_SCROLL_UP_A_LINE, SCROLL_DOWN_A_LINE):\r\n```\r\n\r\nThe behavior for hold-scrolling outside the UP and DN blocks is a little weird due to the way the multi-line scrolling actions happen.", "created_at": "2018-05-01T03:25:36Z", "updated_at": "2018-05-02T06:53:36Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/18942#discussion_r185160981", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18942", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/185160981"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/18942#discussion_r185160981"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18942"}}, "body_html": "<p>Can you change this to</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">if</span> scroll_command <span class=\"pl-k\">in</span> (<span class=\"pl-c1\">_SCROLL_UP_A_LINE</span>, <span class=\"pl-c1\">SCROLL_DOWN_A_LINE</span>):</pre></div>\n<p>The behavior for hold-scrolling outside the UP and DN blocks is a little weird due to the way the multi-line scrolling actions happen.</p>", "body_text": "Can you change this to\nif scroll_command in (_SCROLL_UP_A_LINE, SCROLL_DOWN_A_LINE):\nThe behavior for hold-scrolling outside the UP and DN blocks is a little weird due to the way the multi-line scrolling actions happen."}