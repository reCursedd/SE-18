{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/159919752", "pull_request_review_id": 86952929, "id": 159919752, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTkxOTc1Mg==", "diff_hunk": "@@ -34,8 +34,8 @@ with inner structure (e.g. a spectrogram):\n magnitude_spectrograms = tf.abs(tf.contrib.signal.stft(\n     signals, frame_length=256, frame_step=64, fft_length=256))\n \n-# `spectrogram_patches` is a [batch_size, ?, 64, 127] tensor containing a\n-# variable number of [64, 127] spectrogram patches per batch item.\n+# `spectrogram_patches` is a [batch_size, ?, 256, 127] tensor containing a", "path": "tensorflow/docs_src/api_guides/python/contrib.signal.md", "position": null, "original_position": 6, "commit_id": "415e7b8c861f6775e2802140ec5cb029b666628f", "original_commit_id": "76650921ee707cd71a5764839c5c7481c98e356f", "user": {"login": "rryan", "id": 26527, "node_id": "MDQ6VXNlcjI2NTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/26527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rryan", "html_url": "https://github.com/rryan", "followers_url": "https://api.github.com/users/rryan/followers", "following_url": "https://api.github.com/users/rryan/following{/other_user}", "gists_url": "https://api.github.com/users/rryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rryan/subscriptions", "organizations_url": "https://api.github.com/users/rryan/orgs", "repos_url": "https://api.github.com/users/rryan/repos", "events_url": "https://api.github.com/users/rryan/events{/privacy}", "received_events_url": "https://api.github.com/users/rryan/received_events", "type": "User", "site_admin": false}, "body": "Hm, I think the comment is correct (except I just noticed that 127 should be 129 \ud83d\ude31, `256 // 2 + 1 == 129`).\r\n\r\n`magnitude_spectrograms` is a `[batch_size, ?, 129]` tensor, and the below `tf.contrib.signal.frame` frames `axis=1` with `frame_length` 64, producing a variable number of `[64, 129]` patches of that original spectrogram.\r\n\r\nI copied these lines into a Colab to demonstrate:\r\nhttps://colab.research.google.com/notebook#fileId=1n5An3VoFtb6pHH1KUe46j7yRHd3aFUbG", "created_at": "2018-01-05T16:36:53Z", "updated_at": "2018-01-06T16:40:00Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/15877#discussion_r159919752", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15877", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/159919752"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/15877#discussion_r159919752"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15877"}}, "body_html": "<p>Hm, I think the comment is correct (except I just noticed that 127 should be 129 <g-emoji class=\"g-emoji\" alias=\"scream\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f631.png\">\ud83d\ude31</g-emoji>, <code>256 // 2 + 1 == 129</code>).</p>\n<p><code>magnitude_spectrograms</code> is a <code>[batch_size, ?, 129]</code> tensor, and the below <code>tf.contrib.signal.frame</code> frames <code>axis=1</code> with <code>frame_length</code> 64, producing a variable number of <code>[64, 129]</code> patches of that original spectrogram.</p>\n<p>I copied these lines into a Colab to demonstrate:<br>\n<a href=\"https://colab.research.google.com/notebook#fileId=1n5An3VoFtb6pHH1KUe46j7yRHd3aFUbG\" rel=\"nofollow\">https://colab.research.google.com/notebook#fileId=1n5An3VoFtb6pHH1KUe46j7yRHd3aFUbG</a></p>", "body_text": "Hm, I think the comment is correct (except I just noticed that 127 should be 129 \ud83d\ude31, 256 // 2 + 1 == 129).\nmagnitude_spectrograms is a [batch_size, ?, 129] tensor, and the below tf.contrib.signal.frame frames axis=1 with frame_length 64, producing a variable number of [64, 129] patches of that original spectrogram.\nI copied these lines into a Colab to demonstrate:\nhttps://colab.research.google.com/notebook#fileId=1n5An3VoFtb6pHH1KUe46j7yRHd3aFUbG"}