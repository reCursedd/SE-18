{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6501", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6501/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6501/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6501/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6501", "id": 197577164, "node_id": "MDU6SXNzdWUxOTc1NzcxNjQ=", "number": 6501, "title": "Issue with tf v0.12.0 when using split", "user": {"login": "keithyin", "id": 7200537, "node_id": "MDQ6VXNlcjcyMDA1Mzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/7200537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keithyin", "html_url": "https://github.com/keithyin", "followers_url": "https://api.github.com/users/keithyin/followers", "following_url": "https://api.github.com/users/keithyin/following{/other_user}", "gists_url": "https://api.github.com/users/keithyin/gists{/gist_id}", "starred_url": "https://api.github.com/users/keithyin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keithyin/subscriptions", "organizations_url": "https://api.github.com/users/keithyin/orgs", "repos_url": "https://api.github.com/users/keithyin/repos", "events_url": "https://api.github.com/users/keithyin/events{/privacy}", "received_events_url": "https://api.github.com/users/keithyin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-12-26T11:18:34Z", "updated_at": "2017-01-09T08:46:51Z", "closed_at": "2016-12-27T02:42:34Z", "author_association": "NONE", "body_html": "<p>the code run correctly with tf 0.12rc1.0, but when using 0.12.0, an error occured.<br>\nhere is the log.<br>\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcublas.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcudnn.so.5 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcufft.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcurand.so.8.0 locally<br>\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.<br>\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.<br>\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.<br>\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.<br>\nTraceback (most recent call last):<br>\nFile \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 359, in <br>\ntf.app.run()<br>\nFile \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 44, in run<br>\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))<br>\nFile \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 343, in main<br>\nmodel = Model()<br>\nFile \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 42, in <strong>init</strong><br>\noutputs = self.alex_net2(self.encoder_inputs, is_training)  # [None, 4096]<br>\nFile \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 124, in alex_net2<br>\nconv2_in = conv(maxpool1, conv2W, conv2b, k_h, k_w, c_o, s_h, s_w, padding=\"SAME\", group=group)<br>\nFile \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 91, in conv<br>\ninput_groups = tf.split(3, group, input)<br>\nFile \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1319, in split<br>\nsplit_dim=axis, num_split=num_or_size_splits, value=value, name=name)<br>\nFile \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 3385, in _split<br>\nnum_split=num_split, name=name)<br>\nFile \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 509, in apply_op<br>\n(prefix, dtypes.as_dtype(input_arg.type).name))<br>\nTypeError: Input 'split_dim' of 'Split' Op has type float32 that does not match expected type of int32.</p>", "body_text": "the code run correctly with tf 0.12rc1.0, but when using 0.12.0, an error occured.\nhere is the log.\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcurand.so.8.0 locally\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\nTraceback (most recent call last):\nFile \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 359, in \ntf.app.run()\nFile \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 44, in run\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))\nFile \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 343, in main\nmodel = Model()\nFile \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 42, in init\noutputs = self.alex_net2(self.encoder_inputs, is_training)  # [None, 4096]\nFile \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 124, in alex_net2\nconv2_in = conv(maxpool1, conv2W, conv2b, k_h, k_w, c_o, s_h, s_w, padding=\"SAME\", group=group)\nFile \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 91, in conv\ninput_groups = tf.split(3, group, input)\nFile \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1319, in split\nsplit_dim=axis, num_split=num_or_size_splits, value=value, name=name)\nFile \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 3385, in _split\nnum_split=num_split, name=name)\nFile \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 509, in apply_op\n(prefix, dtypes.as_dtype(input_arg.type).name))\nTypeError: Input 'split_dim' of 'Split' Op has type float32 that does not match expected type of int32.", "body": "the code run correctly with tf 0.12rc1.0, but when using 0.12.0, an error occured. \r\nhere is the log. \r\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:125] successfully opened CUDA library libcurand.so.8.0 locally\r\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:95] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\nTraceback (most recent call last):\r\n  File \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 359, in <module>\r\n    tf.app.run()\r\n  File \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 44, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 343, in main\r\n    model = Model()\r\n  File \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 42, in __init__\r\n    outputs = self.alex_net2(self.encoder_inputs, is_training)  # [None, 4096]\r\n  File \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 124, in alex_net2\r\n    conv2_in = conv(maxpool1, conv2W, conv2b, k_h, k_w, c_o, s_h, s_w, padding=\"SAME\", group=group)\r\n  File \"/home/keith/PycharmProjects/pic2sentence/Model.py\", line 91, in conv\r\n    input_groups = tf.split(3, group, input)\r\n  File \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/ops/array_ops.py\", line 1319, in split\r\n    split_dim=axis, num_split=num_or_size_splits, value=value, name=name)\r\n  File \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 3385, in _split\r\n    num_split=num_split, name=name)\r\n  File \"/home/keith/workspace/tfboy_2.7/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 509, in apply_op\r\n    (prefix, dtypes.as_dtype(input_arg.type).name))\r\nTypeError: Input 'split_dim' of 'Split' Op has type float32 that does not match expected type of int32.\r\n"}