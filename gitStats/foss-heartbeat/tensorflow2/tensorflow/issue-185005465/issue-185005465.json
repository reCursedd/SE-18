{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5183", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5183/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5183/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5183/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5183", "id": 185005465, "node_id": "MDU6SXNzdWUxODUwMDU0NjU=", "number": 5183, "title": "Problems when using \"bazel build\"  to download ImageNet data", "user": {"login": "yichengwang125", "id": 15678106, "node_id": "MDQ6VXNlcjE1Njc4MTA2", "avatar_url": "https://avatars2.githubusercontent.com/u/15678106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yichengwang125", "html_url": "https://github.com/yichengwang125", "followers_url": "https://api.github.com/users/yichengwang125/followers", "following_url": "https://api.github.com/users/yichengwang125/following{/other_user}", "gists_url": "https://api.github.com/users/yichengwang125/gists{/gist_id}", "starred_url": "https://api.github.com/users/yichengwang125/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yichengwang125/subscriptions", "organizations_url": "https://api.github.com/users/yichengwang125/orgs", "repos_url": "https://api.github.com/users/yichengwang125/repos", "events_url": "https://api.github.com/users/yichengwang125/events{/privacy}", "received_events_url": "https://api.github.com/users/yichengwang125/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-10-25T02:49:05Z", "updated_at": "2016-10-26T00:19:21Z", "closed_at": "2016-10-26T00:19:21Z", "author_association": "NONE", "body_html": "<p>Hi all,<br>\nI tried to download the Imagenet data with the code provided in Inception model, but there was a problem when I used code:<br>\n<code>bazel build inception/download_and_preprocess_imagenet</code><br>\nThe tensorflow was installed in a Singularity container. And the environment is a high-performance cluster.</p>\n<h3>Running Code:</h3>\n<p><code>[yichengwang125@i21a-s2 ~]$ ml load tensorflow</code><br>\n<code>[yichengwang125@i21a-s2 ~]$ cd ufrc/image/image/models-master/inception/</code><br>\n<code>[yichengwang125@i21a-s2 inception]$ touch WORKSPACE</code><br>\n<code>[yichengwang125@i21a-s2 inception]$ DATA_DIR=$HOME/image/</code><br>\n<code>[yichengwang125@i21a-s2 inception]$ bazel build inception/download_and_preprocess_imagenet</code><br>\n<code>WARNING: Output base /home/yichengwang125/.cache/bazel/_bazel_yichengwang125/bad337a79300dc0e5a9ba2ac2e22c48a' is on NFS. This may lead to surprising failures and undetermined behavior.</code><br>\n<code>WARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing. INFO: Found 1 target...</code><br>\n<code>Target //inception:download_and_preprocess_imagenet up-to-date: bazel-bin/inception/download_and_preprocess_imagenet INFO: Elapsed time: 2.952s, Critical Path: 0.02s</code><br>\n<code>ERROR  : Could not remove session directory /tmp/.singularity-session-4308.2575366.144117625721484141: Device or resource busy</code></p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nRed Hat Enterprise Linux Server release 6.7 (Santiago)</p>\n<h3>I tried to</h3>\n<p><code>lsof +D /tmp/.singularity-session-4308.2575366.144117625721484141</code><br>\nbut only shows<br>\n<code>COMMAND   PID     USER             FD   TYPE    DEVICE SIZE/OFF       NODE NAME</code><br>\n<code>java         25707  yichengwang125  7r   DIR             8,3            4096 43779163 /tmp/.singularity-session-4308.2575366.144117625721484141</code></p>", "body_text": "Hi all,\nI tried to download the Imagenet data with the code provided in Inception model, but there was a problem when I used code:\nbazel build inception/download_and_preprocess_imagenet\nThe tensorflow was installed in a Singularity container. And the environment is a high-performance cluster.\nRunning Code:\n[yichengwang125@i21a-s2 ~]$ ml load tensorflow\n[yichengwang125@i21a-s2 ~]$ cd ufrc/image/image/models-master/inception/\n[yichengwang125@i21a-s2 inception]$ touch WORKSPACE\n[yichengwang125@i21a-s2 inception]$ DATA_DIR=$HOME/image/\n[yichengwang125@i21a-s2 inception]$ bazel build inception/download_and_preprocess_imagenet\nWARNING: Output base /home/yichengwang125/.cache/bazel/_bazel_yichengwang125/bad337a79300dc0e5a9ba2ac2e22c48a' is on NFS. This may lead to surprising failures and undetermined behavior.\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing. INFO: Found 1 target...\nTarget //inception:download_and_preprocess_imagenet up-to-date: bazel-bin/inception/download_and_preprocess_imagenet INFO: Elapsed time: 2.952s, Critical Path: 0.02s\nERROR  : Could not remove session directory /tmp/.singularity-session-4308.2575366.144117625721484141: Device or resource busy\nEnvironment info\nOperating System:\nRed Hat Enterprise Linux Server release 6.7 (Santiago)\nI tried to\nlsof +D /tmp/.singularity-session-4308.2575366.144117625721484141\nbut only shows\nCOMMAND   PID     USER             FD   TYPE    DEVICE SIZE/OFF       NODE NAME\njava         25707  yichengwang125  7r   DIR             8,3            4096 43779163 /tmp/.singularity-session-4308.2575366.144117625721484141", "body": "Hi all,\nI tried to download the Imagenet data with the code provided in Inception model, but there was a problem when I used code:\n `bazel build inception/download_and_preprocess_imagenet`\nThe tensorflow was installed in a Singularity container. And the environment is a high-performance cluster.\n### Running Code:\n\n`[yichengwang125@i21a-s2 ~]$ ml load tensorflow`\n`[yichengwang125@i21a-s2 ~]$ cd ufrc/image/image/models-master/inception/`\n`[yichengwang125@i21a-s2 inception]$ touch WORKSPACE`\n`[yichengwang125@i21a-s2 inception]$ DATA_DIR=$HOME/image/`\n`[yichengwang125@i21a-s2 inception]$ bazel build inception/download_and_preprocess_imagenet`\n`WARNING: Output base /home/yichengwang125/.cache/bazel/_bazel_yichengwang125/bad337a79300dc0e5a9ba2ac2e22c48a' is on NFS. This may lead to surprising failures and undetermined behavior.`\n`WARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nINFO: Found 1 target...`\n`Target //inception:download_and_preprocess_imagenet up-to-date:\n  bazel-bin/inception/download_and_preprocess_imagenet\nINFO: Elapsed time: 2.952s, Critical Path: 0.02s`\n`ERROR  : Could not remove session directory /tmp/.singularity-session-4308.2575366.144117625721484141: Device or resource busy`\n### Environment info\n\nOperating System:\nRed Hat Enterprise Linux Server release 6.7 (Santiago)\n### I tried to\n\n`lsof +D /tmp/.singularity-session-4308.2575366.144117625721484141`\nbut only shows\n`COMMAND   PID     USER             FD   TYPE    DEVICE SIZE/OFF       NODE NAME`\n`java         25707  yichengwang125  7r   DIR             8,3            4096 43779163 /tmp/.singularity-session-4308.2575366.144117625721484141`\n"}