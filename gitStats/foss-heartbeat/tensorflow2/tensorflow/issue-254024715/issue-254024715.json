{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12707", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12707/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12707/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12707/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12707", "id": 254024715, "node_id": "MDU6SXNzdWUyNTQwMjQ3MTU=", "number": 12707, "title": "Input function tutorial doesn't deliver reported performance.", "user": {"login": "adrinjalali", "id": 1663864, "node_id": "MDQ6VXNlcjE2NjM4NjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1663864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrinjalali", "html_url": "https://github.com/adrinjalali", "followers_url": "https://api.github.com/users/adrinjalali/followers", "following_url": "https://api.github.com/users/adrinjalali/following{/other_user}", "gists_url": "https://api.github.com/users/adrinjalali/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrinjalali/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrinjalali/subscriptions", "organizations_url": "https://api.github.com/users/adrinjalali/orgs", "repos_url": "https://api.github.com/users/adrinjalali/repos", "events_url": "https://api.github.com/users/adrinjalali/events{/privacy}", "received_events_url": "https://api.github.com/users/adrinjalali/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-30T14:41:28Z", "updated_at": "2017-09-06T18:59:56Z", "closed_at": "2017-08-30T19:53:40Z", "author_association": "NONE", "body_html": "<p>Running the example explained <a href=\"https://www.tensorflow.org/get_started/input_fn\" rel=\"nofollow\">here</a>, results in a reported loss 100 times bigger than what's reported in the tutotrial. It also doesn't converge, and it seems to be going up and down.</p>\n<p>The expected performance is:</p>\n<pre><code>INFO:tensorflow:Step 1: loss = 483.179\nINFO:tensorflow:Step 101: loss = 81.2072\nINFO:tensorflow:Step 201: loss = 72.4354\n...\nINFO:tensorflow:Step 1801: loss = 33.4454\nINFO:tensorflow:Step 1901: loss = 32.3397\nINFO:tensorflow:Step 2001: loss = 32.0053\nINFO:tensorflow:Step 4801: loss = 27.2791\nINFO:tensorflow:Step 4901: loss = 27.2251\nINFO:tensorflow:Saving checkpoints for 5000 into /tmp/boston_model/model.ckpt.\nINFO:tensorflow:Loss for final step: 27.1674.\n</code></pre>\n<p>Whereas, here is what I get when I run it:</p>\n<pre><code>$ python2 boston.py \nINFO:tensorflow:Using default config.\nINFO:tensorflow:Using config: {'_save_checkpoints_secs': 600, '_session_config': None, '_keep_checkpoint_max': 5, '_tf_random_seed': 1, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_save_checkpoints_steps': None, '_model_dir': '/tmp/boston_model', '_save_summary_steps': 100}\nINFO:tensorflow:Create CheckpointSaverHook.\n2017-08-30 16:38:36.378259: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-30 16:38:36.378318: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-30 16:38:36.378321: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-30 16:38:36.378325: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-30 16:38:36.378328: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\nINFO:tensorflow:Restoring parameters from /tmp/boston_model/model.ckpt-5000\nINFO:tensorflow:Saving checkpoints for 5001 into /tmp/boston_model/model.ckpt.\nINFO:tensorflow:loss = 3897.4, step = 5001\nINFO:tensorflow:global_step/sec: 476.014\nINFO:tensorflow:loss = 2826.95, step = 5101 (0.210 sec)\nINFO:tensorflow:global_step/sec: 485.788\nINFO:tensorflow:loss = 4138.43, step = 5201 (0.206 sec)\nINFO:tensorflow:global_step/sec: 475.238\nINFO:tensorflow:loss = 3182.46, step = 5301 (0.210 sec)\nINFO:tensorflow:global_step/sec: 477.947\nINFO:tensorflow:loss = 4233.69, step = 5401 (0.209 sec)\nINFO:tensorflow:global_step/sec: 484.752\nINFO:tensorflow:loss = 3593.6, step = 5501 (0.206 sec)\nINFO:tensorflow:global_step/sec: 487.786\nINFO:tensorflow:loss = 3316.72, step = 5601 (0.205 sec)\nINFO:tensorflow:global_step/sec: 493.849\nINFO:tensorflow:loss = 3041.69, step = 5701 (0.203 sec)\nINFO:tensorflow:global_step/sec: 462.593\nINFO:tensorflow:loss = 2753.05, step = 5801 (0.216 sec)\nINFO:tensorflow:global_step/sec: 468.178\nINFO:tensorflow:loss = 4609.25, step = 5901 (0.214 sec)\nINFO:tensorflow:global_step/sec: 505.747\nINFO:tensorflow:loss = 5840.77, step = 6001 (0.198 sec)\nINFO:tensorflow:global_step/sec: 484.518\nINFO:tensorflow:loss = 4149.44, step = 6101 (0.206 sec)\nINFO:tensorflow:global_step/sec: 516.622\nINFO:tensorflow:loss = 2485.26, step = 6201 (0.193 sec)\nINFO:tensorflow:global_step/sec: 480.998\nINFO:tensorflow:loss = 3849.6, step = 6301 (0.208 sec)\nINFO:tensorflow:global_step/sec: 480.866\nINFO:tensorflow:loss = 3684.53, step = 6401 (0.208 sec)\nINFO:tensorflow:global_step/sec: 468.132\nINFO:tensorflow:loss = 2943.32, step = 6501 (0.214 sec)\nINFO:tensorflow:global_step/sec: 463.973\nINFO:tensorflow:loss = 3135.92, step = 6601 (0.216 sec)\nINFO:tensorflow:global_step/sec: 464.991\nINFO:tensorflow:loss = 4463.47, step = 6701 (0.215 sec)\nINFO:tensorflow:global_step/sec: 386.855\nINFO:tensorflow:loss = 3488.36, step = 6801 (0.259 sec)\nINFO:tensorflow:global_step/sec: 402.492\nINFO:tensorflow:loss = 3472.3, step = 6901 (0.248 sec)\nINFO:tensorflow:global_step/sec: 468.325\nINFO:tensorflow:loss = 6648.4, step = 7001 (0.213 sec)\nINFO:tensorflow:global_step/sec: 482.791\nINFO:tensorflow:loss = 5161.27, step = 7101 (0.207 sec)\nINFO:tensorflow:global_step/sec: 468.145\nINFO:tensorflow:loss = 6147.99, step = 7201 (0.214 sec)\nINFO:tensorflow:global_step/sec: 465.968\nINFO:tensorflow:loss = 5066.78, step = 7301 (0.215 sec)\nINFO:tensorflow:global_step/sec: 464.296\nINFO:tensorflow:loss = 3810.97, step = 7401 (0.215 sec)\nINFO:tensorflow:global_step/sec: 464.02\nINFO:tensorflow:loss = 3235.41, step = 7501 (0.215 sec)\nINFO:tensorflow:global_step/sec: 465.755\nINFO:tensorflow:loss = 4455.11, step = 7601 (0.215 sec)\nINFO:tensorflow:global_step/sec: 445.682\nINFO:tensorflow:loss = 2335.67, step = 7701 (0.224 sec)\nINFO:tensorflow:global_step/sec: 446.977\nINFO:tensorflow:loss = 4264.51, step = 7801 (0.224 sec)\nINFO:tensorflow:global_step/sec: 473.768\nINFO:tensorflow:loss = 2708.95, step = 7901 (0.211 sec)\nINFO:tensorflow:global_step/sec: 470.603\nINFO:tensorflow:loss = 4107.13, step = 8001 (0.212 sec)\nINFO:tensorflow:global_step/sec: 494.138\nINFO:tensorflow:loss = 2911.78, step = 8101 (0.202 sec)\nINFO:tensorflow:global_step/sec: 504.535\nINFO:tensorflow:loss = 7470.54, step = 8201 (0.198 sec)\nINFO:tensorflow:global_step/sec: 516.137\nINFO:tensorflow:loss = 2581.56, step = 8301 (0.195 sec)\nINFO:tensorflow:global_step/sec: 503.267\nINFO:tensorflow:loss = 4270.98, step = 8401 (0.198 sec)\nINFO:tensorflow:global_step/sec: 528.762\nINFO:tensorflow:loss = 4186.45, step = 8501 (0.189 sec)\nINFO:tensorflow:global_step/sec: 509.902\nINFO:tensorflow:loss = 5767.94, step = 8601 (0.196 sec)\nINFO:tensorflow:global_step/sec: 510.832\nINFO:tensorflow:loss = 3960.38, step = 8701 (0.196 sec)\nINFO:tensorflow:global_step/sec: 525.036\nINFO:tensorflow:loss = 4677.09, step = 8801 (0.190 sec)\nINFO:tensorflow:global_step/sec: 522.431\nINFO:tensorflow:loss = 1912.38, step = 8901 (0.191 sec)\nINFO:tensorflow:global_step/sec: 521.464\nINFO:tensorflow:loss = 2646.11, step = 9001 (0.192 sec)\nINFO:tensorflow:global_step/sec: 523.779\nINFO:tensorflow:loss = 2803.72, step = 9101 (0.191 sec)\nINFO:tensorflow:global_step/sec: 517.767\nINFO:tensorflow:loss = 2995.35, step = 9201 (0.193 sec)\nINFO:tensorflow:global_step/sec: 467.628\nINFO:tensorflow:loss = 3767.14, step = 9301 (0.214 sec)\nINFO:tensorflow:global_step/sec: 463.383\nINFO:tensorflow:loss = 3825.25, step = 9401 (0.215 sec)\nINFO:tensorflow:global_step/sec: 554.173\nINFO:tensorflow:loss = 3352.59, step = 9501 (0.180 sec)\nINFO:tensorflow:global_step/sec: 528.989\nINFO:tensorflow:loss = 4678.92, step = 9601 (0.189 sec)\nINFO:tensorflow:global_step/sec: 490.677\nINFO:tensorflow:loss = 2191.4, step = 9701 (0.204 sec)\nINFO:tensorflow:global_step/sec: 463.207\nINFO:tensorflow:loss = 5998.51, step = 9801 (0.216 sec)\nINFO:tensorflow:global_step/sec: 461.608\nINFO:tensorflow:loss = 3440.55, step = 9901 (0.217 sec)\nINFO:tensorflow:Saving checkpoints for 10000 into /tmp/boston_model/model.ckpt.\nINFO:tensorflow:Loss for final step: 4595.88.\nINFO:tensorflow:Starting evaluation at 2017-08-30-14:38:47\nINFO:tensorflow:Restoring parameters from /tmp/boston_model/model.ckpt-10000\nINFO:tensorflow:Finished evaluation at 2017-08-30-14:38:47\nINFO:tensorflow:Saving dict for global step 10000: average_loss = 16.7064, global_step = 10000, loss = 1670.64\nLoss: 1670.643555\nINFO:tensorflow:Restoring parameters from /tmp/boston_model/model.ckpt-10000\nPredictions: [array([ 34.28430557], dtype=float32), array([ 18.48677063], dtype=float32), array([ 24.49580383], dtype=float32), array([ 34.83223343], dtype=float32), array([ 15.90157318], dtype=float32), array([ 20.3986187], dtype=float32)]\n</code></pre>\n<p>Environment:</p>\n<p>== cat /etc/issue ===============================================<br>\nLinux adrin-leni.ancud.de 4.12.7-1-ARCH <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP PREEMPT Sun Aug 13 08:17:09 CEST 2017 x86_64 GNU/Linux</p>\n<p>== are we in docker =============================================<br>\nNo</p>\n<p>== compiler =====================================================<br>\nc++ (GCC) 7.2.0<br>\nCopyright (C) 2017 Free Software Foundation, Inc.<br>\nThis is free software; see the source for copying conditions.  There is NO<br>\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>\n<p>== uname -a =====================================================<br>\nLinux adrin-leni.ancud.de 4.12.7-1-ARCH <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP PREEMPT Sun Aug 13 08:17:09 CEST 2017 x86_64 GNU/Linux</p>\n<p>== check pips ===================================================<br>\nnumpy (1.13.1)<br>\nprotobuf (3.4.0)<br>\ntensorflow (1.3.0)<br>\ntensorflow-tensorboard (0.1.5)</p>\n<p>== check for virtualenv =========================================<br>\nTrue</p>\n<p>== tensorflow import ============================================<br>\ntf.VERSION = 1.3.0<br>\ntf.GIT_VERSION = v1.3.0-rc2-20-g0787eee<br>\ntf.COMPILER_VERSION = v1.3.0-rc2-20-g0787eee<br>\nSanity check: array([1], dtype=int32)</p>\n<p>== env ==========================================================<br>\nLD_LIBRARY_PATH is unset<br>\nDYLD_LIBRARY_PATH is unset</p>\n<p>== nvidia-smi ===================================================<br>\ntf_env_collect.sh: line 105: nvidia-smi: command not found</p>\n<p>== cuda libs  ===================================================</p>", "body_text": "Running the example explained here, results in a reported loss 100 times bigger than what's reported in the tutotrial. It also doesn't converge, and it seems to be going up and down.\nThe expected performance is:\nINFO:tensorflow:Step 1: loss = 483.179\nINFO:tensorflow:Step 101: loss = 81.2072\nINFO:tensorflow:Step 201: loss = 72.4354\n...\nINFO:tensorflow:Step 1801: loss = 33.4454\nINFO:tensorflow:Step 1901: loss = 32.3397\nINFO:tensorflow:Step 2001: loss = 32.0053\nINFO:tensorflow:Step 4801: loss = 27.2791\nINFO:tensorflow:Step 4901: loss = 27.2251\nINFO:tensorflow:Saving checkpoints for 5000 into /tmp/boston_model/model.ckpt.\nINFO:tensorflow:Loss for final step: 27.1674.\n\nWhereas, here is what I get when I run it:\n$ python2 boston.py \nINFO:tensorflow:Using default config.\nINFO:tensorflow:Using config: {'_save_checkpoints_secs': 600, '_session_config': None, '_keep_checkpoint_max': 5, '_tf_random_seed': 1, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_save_checkpoints_steps': None, '_model_dir': '/tmp/boston_model', '_save_summary_steps': 100}\nINFO:tensorflow:Create CheckpointSaverHook.\n2017-08-30 16:38:36.378259: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-30 16:38:36.378318: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-30 16:38:36.378321: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-30 16:38:36.378325: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-08-30 16:38:36.378328: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\nINFO:tensorflow:Restoring parameters from /tmp/boston_model/model.ckpt-5000\nINFO:tensorflow:Saving checkpoints for 5001 into /tmp/boston_model/model.ckpt.\nINFO:tensorflow:loss = 3897.4, step = 5001\nINFO:tensorflow:global_step/sec: 476.014\nINFO:tensorflow:loss = 2826.95, step = 5101 (0.210 sec)\nINFO:tensorflow:global_step/sec: 485.788\nINFO:tensorflow:loss = 4138.43, step = 5201 (0.206 sec)\nINFO:tensorflow:global_step/sec: 475.238\nINFO:tensorflow:loss = 3182.46, step = 5301 (0.210 sec)\nINFO:tensorflow:global_step/sec: 477.947\nINFO:tensorflow:loss = 4233.69, step = 5401 (0.209 sec)\nINFO:tensorflow:global_step/sec: 484.752\nINFO:tensorflow:loss = 3593.6, step = 5501 (0.206 sec)\nINFO:tensorflow:global_step/sec: 487.786\nINFO:tensorflow:loss = 3316.72, step = 5601 (0.205 sec)\nINFO:tensorflow:global_step/sec: 493.849\nINFO:tensorflow:loss = 3041.69, step = 5701 (0.203 sec)\nINFO:tensorflow:global_step/sec: 462.593\nINFO:tensorflow:loss = 2753.05, step = 5801 (0.216 sec)\nINFO:tensorflow:global_step/sec: 468.178\nINFO:tensorflow:loss = 4609.25, step = 5901 (0.214 sec)\nINFO:tensorflow:global_step/sec: 505.747\nINFO:tensorflow:loss = 5840.77, step = 6001 (0.198 sec)\nINFO:tensorflow:global_step/sec: 484.518\nINFO:tensorflow:loss = 4149.44, step = 6101 (0.206 sec)\nINFO:tensorflow:global_step/sec: 516.622\nINFO:tensorflow:loss = 2485.26, step = 6201 (0.193 sec)\nINFO:tensorflow:global_step/sec: 480.998\nINFO:tensorflow:loss = 3849.6, step = 6301 (0.208 sec)\nINFO:tensorflow:global_step/sec: 480.866\nINFO:tensorflow:loss = 3684.53, step = 6401 (0.208 sec)\nINFO:tensorflow:global_step/sec: 468.132\nINFO:tensorflow:loss = 2943.32, step = 6501 (0.214 sec)\nINFO:tensorflow:global_step/sec: 463.973\nINFO:tensorflow:loss = 3135.92, step = 6601 (0.216 sec)\nINFO:tensorflow:global_step/sec: 464.991\nINFO:tensorflow:loss = 4463.47, step = 6701 (0.215 sec)\nINFO:tensorflow:global_step/sec: 386.855\nINFO:tensorflow:loss = 3488.36, step = 6801 (0.259 sec)\nINFO:tensorflow:global_step/sec: 402.492\nINFO:tensorflow:loss = 3472.3, step = 6901 (0.248 sec)\nINFO:tensorflow:global_step/sec: 468.325\nINFO:tensorflow:loss = 6648.4, step = 7001 (0.213 sec)\nINFO:tensorflow:global_step/sec: 482.791\nINFO:tensorflow:loss = 5161.27, step = 7101 (0.207 sec)\nINFO:tensorflow:global_step/sec: 468.145\nINFO:tensorflow:loss = 6147.99, step = 7201 (0.214 sec)\nINFO:tensorflow:global_step/sec: 465.968\nINFO:tensorflow:loss = 5066.78, step = 7301 (0.215 sec)\nINFO:tensorflow:global_step/sec: 464.296\nINFO:tensorflow:loss = 3810.97, step = 7401 (0.215 sec)\nINFO:tensorflow:global_step/sec: 464.02\nINFO:tensorflow:loss = 3235.41, step = 7501 (0.215 sec)\nINFO:tensorflow:global_step/sec: 465.755\nINFO:tensorflow:loss = 4455.11, step = 7601 (0.215 sec)\nINFO:tensorflow:global_step/sec: 445.682\nINFO:tensorflow:loss = 2335.67, step = 7701 (0.224 sec)\nINFO:tensorflow:global_step/sec: 446.977\nINFO:tensorflow:loss = 4264.51, step = 7801 (0.224 sec)\nINFO:tensorflow:global_step/sec: 473.768\nINFO:tensorflow:loss = 2708.95, step = 7901 (0.211 sec)\nINFO:tensorflow:global_step/sec: 470.603\nINFO:tensorflow:loss = 4107.13, step = 8001 (0.212 sec)\nINFO:tensorflow:global_step/sec: 494.138\nINFO:tensorflow:loss = 2911.78, step = 8101 (0.202 sec)\nINFO:tensorflow:global_step/sec: 504.535\nINFO:tensorflow:loss = 7470.54, step = 8201 (0.198 sec)\nINFO:tensorflow:global_step/sec: 516.137\nINFO:tensorflow:loss = 2581.56, step = 8301 (0.195 sec)\nINFO:tensorflow:global_step/sec: 503.267\nINFO:tensorflow:loss = 4270.98, step = 8401 (0.198 sec)\nINFO:tensorflow:global_step/sec: 528.762\nINFO:tensorflow:loss = 4186.45, step = 8501 (0.189 sec)\nINFO:tensorflow:global_step/sec: 509.902\nINFO:tensorflow:loss = 5767.94, step = 8601 (0.196 sec)\nINFO:tensorflow:global_step/sec: 510.832\nINFO:tensorflow:loss = 3960.38, step = 8701 (0.196 sec)\nINFO:tensorflow:global_step/sec: 525.036\nINFO:tensorflow:loss = 4677.09, step = 8801 (0.190 sec)\nINFO:tensorflow:global_step/sec: 522.431\nINFO:tensorflow:loss = 1912.38, step = 8901 (0.191 sec)\nINFO:tensorflow:global_step/sec: 521.464\nINFO:tensorflow:loss = 2646.11, step = 9001 (0.192 sec)\nINFO:tensorflow:global_step/sec: 523.779\nINFO:tensorflow:loss = 2803.72, step = 9101 (0.191 sec)\nINFO:tensorflow:global_step/sec: 517.767\nINFO:tensorflow:loss = 2995.35, step = 9201 (0.193 sec)\nINFO:tensorflow:global_step/sec: 467.628\nINFO:tensorflow:loss = 3767.14, step = 9301 (0.214 sec)\nINFO:tensorflow:global_step/sec: 463.383\nINFO:tensorflow:loss = 3825.25, step = 9401 (0.215 sec)\nINFO:tensorflow:global_step/sec: 554.173\nINFO:tensorflow:loss = 3352.59, step = 9501 (0.180 sec)\nINFO:tensorflow:global_step/sec: 528.989\nINFO:tensorflow:loss = 4678.92, step = 9601 (0.189 sec)\nINFO:tensorflow:global_step/sec: 490.677\nINFO:tensorflow:loss = 2191.4, step = 9701 (0.204 sec)\nINFO:tensorflow:global_step/sec: 463.207\nINFO:tensorflow:loss = 5998.51, step = 9801 (0.216 sec)\nINFO:tensorflow:global_step/sec: 461.608\nINFO:tensorflow:loss = 3440.55, step = 9901 (0.217 sec)\nINFO:tensorflow:Saving checkpoints for 10000 into /tmp/boston_model/model.ckpt.\nINFO:tensorflow:Loss for final step: 4595.88.\nINFO:tensorflow:Starting evaluation at 2017-08-30-14:38:47\nINFO:tensorflow:Restoring parameters from /tmp/boston_model/model.ckpt-10000\nINFO:tensorflow:Finished evaluation at 2017-08-30-14:38:47\nINFO:tensorflow:Saving dict for global step 10000: average_loss = 16.7064, global_step = 10000, loss = 1670.64\nLoss: 1670.643555\nINFO:tensorflow:Restoring parameters from /tmp/boston_model/model.ckpt-10000\nPredictions: [array([ 34.28430557], dtype=float32), array([ 18.48677063], dtype=float32), array([ 24.49580383], dtype=float32), array([ 34.83223343], dtype=float32), array([ 15.90157318], dtype=float32), array([ 20.3986187], dtype=float32)]\n\nEnvironment:\n== cat /etc/issue ===============================================\nLinux adrin-leni.ancud.de 4.12.7-1-ARCH #1 SMP PREEMPT Sun Aug 13 08:17:09 CEST 2017 x86_64 GNU/Linux\n== are we in docker =============================================\nNo\n== compiler =====================================================\nc++ (GCC) 7.2.0\nCopyright (C) 2017 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n== uname -a =====================================================\nLinux adrin-leni.ancud.de 4.12.7-1-ARCH #1 SMP PREEMPT Sun Aug 13 08:17:09 CEST 2017 x86_64 GNU/Linux\n== check pips ===================================================\nnumpy (1.13.1)\nprotobuf (3.4.0)\ntensorflow (1.3.0)\ntensorflow-tensorboard (0.1.5)\n== check for virtualenv =========================================\nTrue\n== tensorflow import ============================================\ntf.VERSION = 1.3.0\ntf.GIT_VERSION = v1.3.0-rc2-20-g0787eee\ntf.COMPILER_VERSION = v1.3.0-rc2-20-g0787eee\nSanity check: array([1], dtype=int32)\n== env ==========================================================\nLD_LIBRARY_PATH is unset\nDYLD_LIBRARY_PATH is unset\n== nvidia-smi ===================================================\ntf_env_collect.sh: line 105: nvidia-smi: command not found\n== cuda libs  ===================================================", "body": "Running the example explained [here](https://www.tensorflow.org/get_started/input_fn), results in a reported loss 100 times bigger than what's reported in the tutotrial. It also doesn't converge, and it seems to be going up and down.\r\n\r\nThe expected performance is:\r\n\r\n```\r\nINFO:tensorflow:Step 1: loss = 483.179\r\nINFO:tensorflow:Step 101: loss = 81.2072\r\nINFO:tensorflow:Step 201: loss = 72.4354\r\n...\r\nINFO:tensorflow:Step 1801: loss = 33.4454\r\nINFO:tensorflow:Step 1901: loss = 32.3397\r\nINFO:tensorflow:Step 2001: loss = 32.0053\r\nINFO:tensorflow:Step 4801: loss = 27.2791\r\nINFO:tensorflow:Step 4901: loss = 27.2251\r\nINFO:tensorflow:Saving checkpoints for 5000 into /tmp/boston_model/model.ckpt.\r\nINFO:tensorflow:Loss for final step: 27.1674.\r\n```\r\n\r\nWhereas, here is what I get when I run it:\r\n\r\n```\r\n$ python2 boston.py \r\nINFO:tensorflow:Using default config.\r\nINFO:tensorflow:Using config: {'_save_checkpoints_secs': 600, '_session_config': None, '_keep_checkpoint_max': 5, '_tf_random_seed': 1, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_save_checkpoints_steps': None, '_model_dir': '/tmp/boston_model', '_save_summary_steps': 100}\r\nINFO:tensorflow:Create CheckpointSaverHook.\r\n2017-08-30 16:38:36.378259: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-30 16:38:36.378318: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-30 16:38:36.378321: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-30 16:38:36.378325: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-08-30 16:38:36.378328: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\nINFO:tensorflow:Restoring parameters from /tmp/boston_model/model.ckpt-5000\r\nINFO:tensorflow:Saving checkpoints for 5001 into /tmp/boston_model/model.ckpt.\r\nINFO:tensorflow:loss = 3897.4, step = 5001\r\nINFO:tensorflow:global_step/sec: 476.014\r\nINFO:tensorflow:loss = 2826.95, step = 5101 (0.210 sec)\r\nINFO:tensorflow:global_step/sec: 485.788\r\nINFO:tensorflow:loss = 4138.43, step = 5201 (0.206 sec)\r\nINFO:tensorflow:global_step/sec: 475.238\r\nINFO:tensorflow:loss = 3182.46, step = 5301 (0.210 sec)\r\nINFO:tensorflow:global_step/sec: 477.947\r\nINFO:tensorflow:loss = 4233.69, step = 5401 (0.209 sec)\r\nINFO:tensorflow:global_step/sec: 484.752\r\nINFO:tensorflow:loss = 3593.6, step = 5501 (0.206 sec)\r\nINFO:tensorflow:global_step/sec: 487.786\r\nINFO:tensorflow:loss = 3316.72, step = 5601 (0.205 sec)\r\nINFO:tensorflow:global_step/sec: 493.849\r\nINFO:tensorflow:loss = 3041.69, step = 5701 (0.203 sec)\r\nINFO:tensorflow:global_step/sec: 462.593\r\nINFO:tensorflow:loss = 2753.05, step = 5801 (0.216 sec)\r\nINFO:tensorflow:global_step/sec: 468.178\r\nINFO:tensorflow:loss = 4609.25, step = 5901 (0.214 sec)\r\nINFO:tensorflow:global_step/sec: 505.747\r\nINFO:tensorflow:loss = 5840.77, step = 6001 (0.198 sec)\r\nINFO:tensorflow:global_step/sec: 484.518\r\nINFO:tensorflow:loss = 4149.44, step = 6101 (0.206 sec)\r\nINFO:tensorflow:global_step/sec: 516.622\r\nINFO:tensorflow:loss = 2485.26, step = 6201 (0.193 sec)\r\nINFO:tensorflow:global_step/sec: 480.998\r\nINFO:tensorflow:loss = 3849.6, step = 6301 (0.208 sec)\r\nINFO:tensorflow:global_step/sec: 480.866\r\nINFO:tensorflow:loss = 3684.53, step = 6401 (0.208 sec)\r\nINFO:tensorflow:global_step/sec: 468.132\r\nINFO:tensorflow:loss = 2943.32, step = 6501 (0.214 sec)\r\nINFO:tensorflow:global_step/sec: 463.973\r\nINFO:tensorflow:loss = 3135.92, step = 6601 (0.216 sec)\r\nINFO:tensorflow:global_step/sec: 464.991\r\nINFO:tensorflow:loss = 4463.47, step = 6701 (0.215 sec)\r\nINFO:tensorflow:global_step/sec: 386.855\r\nINFO:tensorflow:loss = 3488.36, step = 6801 (0.259 sec)\r\nINFO:tensorflow:global_step/sec: 402.492\r\nINFO:tensorflow:loss = 3472.3, step = 6901 (0.248 sec)\r\nINFO:tensorflow:global_step/sec: 468.325\r\nINFO:tensorflow:loss = 6648.4, step = 7001 (0.213 sec)\r\nINFO:tensorflow:global_step/sec: 482.791\r\nINFO:tensorflow:loss = 5161.27, step = 7101 (0.207 sec)\r\nINFO:tensorflow:global_step/sec: 468.145\r\nINFO:tensorflow:loss = 6147.99, step = 7201 (0.214 sec)\r\nINFO:tensorflow:global_step/sec: 465.968\r\nINFO:tensorflow:loss = 5066.78, step = 7301 (0.215 sec)\r\nINFO:tensorflow:global_step/sec: 464.296\r\nINFO:tensorflow:loss = 3810.97, step = 7401 (0.215 sec)\r\nINFO:tensorflow:global_step/sec: 464.02\r\nINFO:tensorflow:loss = 3235.41, step = 7501 (0.215 sec)\r\nINFO:tensorflow:global_step/sec: 465.755\r\nINFO:tensorflow:loss = 4455.11, step = 7601 (0.215 sec)\r\nINFO:tensorflow:global_step/sec: 445.682\r\nINFO:tensorflow:loss = 2335.67, step = 7701 (0.224 sec)\r\nINFO:tensorflow:global_step/sec: 446.977\r\nINFO:tensorflow:loss = 4264.51, step = 7801 (0.224 sec)\r\nINFO:tensorflow:global_step/sec: 473.768\r\nINFO:tensorflow:loss = 2708.95, step = 7901 (0.211 sec)\r\nINFO:tensorflow:global_step/sec: 470.603\r\nINFO:tensorflow:loss = 4107.13, step = 8001 (0.212 sec)\r\nINFO:tensorflow:global_step/sec: 494.138\r\nINFO:tensorflow:loss = 2911.78, step = 8101 (0.202 sec)\r\nINFO:tensorflow:global_step/sec: 504.535\r\nINFO:tensorflow:loss = 7470.54, step = 8201 (0.198 sec)\r\nINFO:tensorflow:global_step/sec: 516.137\r\nINFO:tensorflow:loss = 2581.56, step = 8301 (0.195 sec)\r\nINFO:tensorflow:global_step/sec: 503.267\r\nINFO:tensorflow:loss = 4270.98, step = 8401 (0.198 sec)\r\nINFO:tensorflow:global_step/sec: 528.762\r\nINFO:tensorflow:loss = 4186.45, step = 8501 (0.189 sec)\r\nINFO:tensorflow:global_step/sec: 509.902\r\nINFO:tensorflow:loss = 5767.94, step = 8601 (0.196 sec)\r\nINFO:tensorflow:global_step/sec: 510.832\r\nINFO:tensorflow:loss = 3960.38, step = 8701 (0.196 sec)\r\nINFO:tensorflow:global_step/sec: 525.036\r\nINFO:tensorflow:loss = 4677.09, step = 8801 (0.190 sec)\r\nINFO:tensorflow:global_step/sec: 522.431\r\nINFO:tensorflow:loss = 1912.38, step = 8901 (0.191 sec)\r\nINFO:tensorflow:global_step/sec: 521.464\r\nINFO:tensorflow:loss = 2646.11, step = 9001 (0.192 sec)\r\nINFO:tensorflow:global_step/sec: 523.779\r\nINFO:tensorflow:loss = 2803.72, step = 9101 (0.191 sec)\r\nINFO:tensorflow:global_step/sec: 517.767\r\nINFO:tensorflow:loss = 2995.35, step = 9201 (0.193 sec)\r\nINFO:tensorflow:global_step/sec: 467.628\r\nINFO:tensorflow:loss = 3767.14, step = 9301 (0.214 sec)\r\nINFO:tensorflow:global_step/sec: 463.383\r\nINFO:tensorflow:loss = 3825.25, step = 9401 (0.215 sec)\r\nINFO:tensorflow:global_step/sec: 554.173\r\nINFO:tensorflow:loss = 3352.59, step = 9501 (0.180 sec)\r\nINFO:tensorflow:global_step/sec: 528.989\r\nINFO:tensorflow:loss = 4678.92, step = 9601 (0.189 sec)\r\nINFO:tensorflow:global_step/sec: 490.677\r\nINFO:tensorflow:loss = 2191.4, step = 9701 (0.204 sec)\r\nINFO:tensorflow:global_step/sec: 463.207\r\nINFO:tensorflow:loss = 5998.51, step = 9801 (0.216 sec)\r\nINFO:tensorflow:global_step/sec: 461.608\r\nINFO:tensorflow:loss = 3440.55, step = 9901 (0.217 sec)\r\nINFO:tensorflow:Saving checkpoints for 10000 into /tmp/boston_model/model.ckpt.\r\nINFO:tensorflow:Loss for final step: 4595.88.\r\nINFO:tensorflow:Starting evaluation at 2017-08-30-14:38:47\r\nINFO:tensorflow:Restoring parameters from /tmp/boston_model/model.ckpt-10000\r\nINFO:tensorflow:Finished evaluation at 2017-08-30-14:38:47\r\nINFO:tensorflow:Saving dict for global step 10000: average_loss = 16.7064, global_step = 10000, loss = 1670.64\r\nLoss: 1670.643555\r\nINFO:tensorflow:Restoring parameters from /tmp/boston_model/model.ckpt-10000\r\nPredictions: [array([ 34.28430557], dtype=float32), array([ 18.48677063], dtype=float32), array([ 24.49580383], dtype=float32), array([ 34.83223343], dtype=float32), array([ 15.90157318], dtype=float32), array([ 20.3986187], dtype=float32)]\r\n```\r\n\r\nEnvironment:\r\n\r\n== cat /etc/issue ===============================================\r\nLinux adrin-leni.ancud.de 4.12.7-1-ARCH #1 SMP PREEMPT Sun Aug 13 08:17:09 CEST 2017 x86_64 GNU/Linux\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nc++ (GCC) 7.2.0\r\nCopyright (C) 2017 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n\r\n== uname -a =====================================================\r\nLinux adrin-leni.ancud.de 4.12.7-1-ARCH #1 SMP PREEMPT Sun Aug 13 08:17:09 CEST 2017 x86_64 GNU/Linux\r\n\r\n== check pips ===================================================\r\nnumpy (1.13.1)\r\nprotobuf (3.4.0)\r\ntensorflow (1.3.0)\r\ntensorflow-tensorboard (0.1.5)\r\n\r\n== check for virtualenv =========================================\r\nTrue\r\n\r\n== tensorflow import ============================================\r\ntf.VERSION = 1.3.0\r\ntf.GIT_VERSION = v1.3.0-rc2-20-g0787eee\r\ntf.COMPILER_VERSION = v1.3.0-rc2-20-g0787eee\r\nSanity check: array([1], dtype=int32)\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH is unset\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\ntf_env_collect.sh: line 105: nvidia-smi: command not found\r\n\r\n== cuda libs  ===================================================\r\n"}