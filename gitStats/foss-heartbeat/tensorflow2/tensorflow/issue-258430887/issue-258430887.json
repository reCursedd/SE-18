{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13118", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13118/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13118/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13118/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13118", "id": 258430887, "node_id": "MDU6SXNzdWUyNTg0MzA4ODc=", "number": 13118, "title": "Can't freeze .pbtxt to .pb file :  Multiple OpKernel registrations match NodeDef after compiled android_arm .so", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-18T10:21:56Z", "updated_at": "2017-09-19T06:53:33Z", "closed_at": "2017-09-19T06:53:33Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.3.0</li>\n<li><strong>Python version</strong>: 2.7.12</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.5.4</li>\n<li><strong>CUDA/cuDNN version</strong>:  8.0.61</li>\n<li><strong>GPU model and memory</strong>: NVIDIA Corporation Device 1b06</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<pre><code>bazel-bin/tensorflow/python/tools/freeze_graph \\\n--input_graph=.../imagenet/train_logs/graph.pbtxt \\\n--input_checkpoint=.../imagenet/train_logs/model.ckpt-10000 \\\n--output_graph=.../imagenet/train_logs/frozen_graph.pb \\\n--output_node_names=MobilenetV1/Predictions/Reshape_1\n</code></pre>\n<h3>Describe the problem</h3>\n<p>I am doing some fine-tune , but can't convert text file to binary file after training , the following error is what I got</p>\n<h3>Source code / logs</h3>\n<pre><code>  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 329, in &lt;module&gt;\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 242, in main\n    FLAGS.input_saved_model_dir, FLAGS.saved_model_tags)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 233, in freeze_graph\n    input_saved_model_dir, saved_model_tags.split(\",\"))\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 127, in freeze_graph_with_def_protos\n    saver.restore(sess, input_checkpoint)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1646, in restore\n    {self.saver_def.filename_tensor_name: save_path})\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 889, in run\n    run_metadata_ptr)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1118, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1315, in _do_run\n    options, run_metadata)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1334, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Multiple OpKernel registrations match NodeDef 'prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()': 'op: \"FIFOQueueV2\" device_type: \"CPU\"' and 'op: \"FIFOQueueV2\" device_type: \"CPU\"'\n         [[Node: prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()]]\n\nCaused by op u'prefetch_queue/fifo_queue', defined at:\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 329, in &lt;module&gt;\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 242, in main\n    FLAGS.input_saved_model_dir, FLAGS.saved_model_tags)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 233, in freeze_graph\n    input_saved_model_dir, saved_model_tags.split(\",\"))\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 99, in freeze_graph_with_def_protos\n    _ = importer.import_graph_def(input_graph_def, name=\"\")\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/importer.py\", line 313, in import_graph_def\n    op_def=op_def)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 3077, in create_op\n    op_def=op_def)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 1627, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInvalidArgumentError (see above for traceback): Multiple OpKernel registrations match NodeDef 'prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()': 'op: \"FIFOQueueV2\" device_type: \"CPU\"' and 'op: \"FIFOQueueV2\" device_type: \"CPU\"'\n         [[Node: prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()]]\n</code></pre>\n<p>I know the op FIFOQueueV2 is not supported on Android , so I followed <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"214164574\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8404\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/8404/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/8404\">#8404</a> , recompiled my .so file before this occurred.<br>\nBut does it result in this ? Does it only be used when model loaded on Android ? Or all bazel compilation ?</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.3.0\nPython version: 2.7.12\nBazel version (if compiling from source): 0.5.4\nCUDA/cuDNN version:  8.0.61\nGPU model and memory: NVIDIA Corporation Device 1b06\nExact command to reproduce:\n\nbazel-bin/tensorflow/python/tools/freeze_graph \\\n--input_graph=.../imagenet/train_logs/graph.pbtxt \\\n--input_checkpoint=.../imagenet/train_logs/model.ckpt-10000 \\\n--output_graph=.../imagenet/train_logs/frozen_graph.pb \\\n--output_node_names=MobilenetV1/Predictions/Reshape_1\n\nDescribe the problem\nI am doing some fine-tune , but can't convert text file to binary file after training , the following error is what I got\nSource code / logs\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 329, in <module>\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 242, in main\n    FLAGS.input_saved_model_dir, FLAGS.saved_model_tags)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 233, in freeze_graph\n    input_saved_model_dir, saved_model_tags.split(\",\"))\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 127, in freeze_graph_with_def_protos\n    saver.restore(sess, input_checkpoint)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1646, in restore\n    {self.saver_def.filename_tensor_name: save_path})\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 889, in run\n    run_metadata_ptr)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1118, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1315, in _do_run\n    options, run_metadata)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1334, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Multiple OpKernel registrations match NodeDef 'prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()': 'op: \"FIFOQueueV2\" device_type: \"CPU\"' and 'op: \"FIFOQueueV2\" device_type: \"CPU\"'\n         [[Node: prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()]]\n\nCaused by op u'prefetch_queue/fifo_queue', defined at:\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 329, in <module>\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 242, in main\n    FLAGS.input_saved_model_dir, FLAGS.saved_model_tags)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 233, in freeze_graph\n    input_saved_model_dir, saved_model_tags.split(\",\"))\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 99, in freeze_graph_with_def_protos\n    _ = importer.import_graph_def(input_graph_def, name=\"\")\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/importer.py\", line 313, in import_graph_def\n    op_def=op_def)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 3077, in create_op\n    op_def=op_def)\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 1627, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInvalidArgumentError (see above for traceback): Multiple OpKernel registrations match NodeDef 'prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()': 'op: \"FIFOQueueV2\" device_type: \"CPU\"' and 'op: \"FIFOQueueV2\" device_type: \"CPU\"'\n         [[Node: prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()]]\n\nI know the op FIFOQueueV2 is not supported on Android , so I followed #8404 , recompiled my .so file before this occurred.\nBut does it result in this ? Does it only be used when model loaded on Android ? Or all bazel compilation ?", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.3.0\r\n- **Python version**: 2.7.12\r\n- **Bazel version (if compiling from source)**: 0.5.4\r\n- **CUDA/cuDNN version**:  8.0.61\r\n- **GPU model and memory**: NVIDIA Corporation Device 1b06\r\n- **Exact command to reproduce**: \r\n\r\n```\r\nbazel-bin/tensorflow/python/tools/freeze_graph \\\r\n--input_graph=.../imagenet/train_logs/graph.pbtxt \\\r\n--input_checkpoint=.../imagenet/train_logs/model.ckpt-10000 \\\r\n--output_graph=.../imagenet/train_logs/frozen_graph.pb \\\r\n--output_node_names=MobilenetV1/Predictions/Reshape_1\r\n```\r\n\r\n### Describe the problem\r\nI am doing some fine-tune , but can't convert text file to binary file after training , the following error is what I got\r\n\r\n### Source code / logs\r\n```\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 329, in <module>\r\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 242, in main\r\n    FLAGS.input_saved_model_dir, FLAGS.saved_model_tags)\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 233, in freeze_graph\r\n    input_saved_model_dir, saved_model_tags.split(\",\"))\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 127, in freeze_graph_with_def_protos\r\n    saver.restore(sess, input_checkpoint)\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/training/saver.py\", line 1646, in restore\r\n    {self.saver_def.filename_tensor_name: save_path})\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 889, in run\r\n    run_metadata_ptr)\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1118, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1315, in _do_run\r\n    options, run_metadata)\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/client/session.py\", line 1334, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Multiple OpKernel registrations match NodeDef 'prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()': 'op: \"FIFOQueueV2\" device_type: \"CPU\"' and 'op: \"FIFOQueueV2\" device_type: \"CPU\"'\r\n         [[Node: prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()]]\r\n\r\nCaused by op u'prefetch_queue/fifo_queue', defined at:\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 329, in <module>\r\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 242, in main\r\n    FLAGS.input_saved_model_dir, FLAGS.saved_model_tags)\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 233, in freeze_graph\r\n    input_saved_model_dir, saved_model_tags.split(\",\"))\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/tools/freeze_graph.py\", line 99, in freeze_graph_with_def_protos\r\n    _ = importer.import_graph_def(input_graph_def, name=\"\")\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/importer.py\", line 313, in import_graph_def\r\n    op_def=op_def)\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 3077, in create_op\r\n    op_def=op_def)\r\n  File \"/home/simonlee/tensorflow/bazel-bin/tensorflow/python/tools/freeze_graph.runfiles/org_tensorflow/tensorflow/python/framework/ops.py\", line 1627, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\nInvalidArgumentError (see above for traceback): Multiple OpKernel registrations match NodeDef 'prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()': 'op: \"FIFOQueueV2\" device_type: \"CPU\"' and 'op: \"FIFOQueueV2\" device_type: \"CPU\"'\r\n         [[Node: prefetch_queue/fifo_queue = FIFOQueueV2[capacity=2, component_types=[DT_FLOAT, DT_FLOAT], container=\"\", shapes=[[10,224,224,3], [10,3]], shared_name=\"\"]()]]\r\n```\r\n\r\n\r\nI know the op FIFOQueueV2 is not supported on Android , so I followed #8404 , recompiled my .so file before this occurred.\r\nBut does it result in this ? Does it only be used when model loaded on Android ? Or all bazel compilation ?"}