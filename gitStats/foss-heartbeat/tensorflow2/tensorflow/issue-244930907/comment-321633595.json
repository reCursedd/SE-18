{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/321633595", "html_url": "https://github.com/tensorflow/tensorflow/pull/11697#issuecomment-321633595", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11697", "id": 321633595, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTYzMzU5NQ==", "user": {"login": "panyx0718", "id": 2887803, "node_id": "MDQ6VXNlcjI4ODc4MDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/2887803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/panyx0718", "html_url": "https://github.com/panyx0718", "followers_url": "https://api.github.com/users/panyx0718/followers", "following_url": "https://api.github.com/users/panyx0718/following{/other_user}", "gists_url": "https://api.github.com/users/panyx0718/gists{/gist_id}", "starred_url": "https://api.github.com/users/panyx0718/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/panyx0718/subscriptions", "organizations_url": "https://api.github.com/users/panyx0718/orgs", "repos_url": "https://api.github.com/users/panyx0718/repos", "events_url": "https://api.github.com/users/panyx0718/events{/privacy}", "received_events_url": "https://api.github.com/users/panyx0718/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-10T18:22:32Z", "updated_at": "2017-08-10T18:22:32Z", "author_association": "NONE", "body_html": "<p>If you want to fix the tfprof tests, see here.<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/92111fdd1a9baa113264149413105f700f9ee310/tensorflow/core/profiler/internal/tfprof_node.cc#L28\">tensorflow/tensorflow/core/profiler/internal/tfprof_node.cc</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 28\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/92111fdd1a9baa113264149413105f700f9ee310\">92111fd</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L28\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"28\"></td>\n          <td id=\"LC28\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">return</span> <span class=\"pl-c1\">RE2::FullMatch</span>(device, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>.*/(gpu|cpu|device:sycl):<span class=\"pl-cce\">\\\\</span>d+<span class=\"pl-pds\">\"</span></span>); </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<p>There might be one or more places to fix. profiler depends on the device name format to correctly analyze metrics of each operation. Hence, those tests should be kept correct. One solution to keep backward compatibility with old RunMetadata is to support all device naming schemes, instead of just replacing them.</p>", "body_text": "If you want to fix the tfprof tests, see here.\n\n  \n    \n      tensorflow/tensorflow/core/profiler/internal/tfprof_node.cc\n    \n    \n         Line 28\n      in\n      92111fd\n    \n    \n    \n    \n\n        \n          \n           return RE2::FullMatch(device, \".*/(gpu|cpu|device:sycl):\\\\d+\"); \n        \n    \n  \n\n\nThere might be one or more places to fix. profiler depends on the device name format to correctly analyze metrics of each operation. Hence, those tests should be kept correct. One solution to keep backward compatibility with old RunMetadata is to support all device naming schemes, instead of just replacing them.", "body": "If you want to fix the tfprof tests, see here.\r\nhttps://github.com/tensorflow/tensorflow/blob/92111fdd1a9baa113264149413105f700f9ee310/tensorflow/core/profiler/internal/tfprof_node.cc#L28\r\n\r\nThere might be one or more places to fix. profiler depends on the device name format to correctly analyze metrics of each operation. Hence, those tests should be kept correct. One solution to keep backward compatibility with old RunMetadata is to support all device naming schemes, instead of just replacing them."}