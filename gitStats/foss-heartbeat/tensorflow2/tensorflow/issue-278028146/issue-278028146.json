{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14993", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14993/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14993/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14993/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14993", "id": 278028146, "node_id": "MDU6SXNzdWUyNzgwMjgxNDY=", "number": 14993, "title": "Using tfdbg with errors.", "user": {"login": "zh794390558", "id": 3038472, "node_id": "MDQ6VXNlcjMwMzg0NzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3038472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zh794390558", "html_url": "https://github.com/zh794390558", "followers_url": "https://api.github.com/users/zh794390558/followers", "following_url": "https://api.github.com/users/zh794390558/following{/other_user}", "gists_url": "https://api.github.com/users/zh794390558/gists{/gist_id}", "starred_url": "https://api.github.com/users/zh794390558/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zh794390558/subscriptions", "organizations_url": "https://api.github.com/users/zh794390558/orgs", "repos_url": "https://api.github.com/users/zh794390558/repos", "events_url": "https://api.github.com/users/zh794390558/events{/privacy}", "received_events_url": "https://api.github.com/users/zh794390558/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-11-30T07:55:04Z", "updated_at": "2018-10-05T22:13:41Z", "closed_at": "2018-10-05T22:13:41Z", "author_association": "NONE", "body_html": "<p>VERSION: TF-1.4.0</p>\n<p>Problem:<br>\nI want to use tfdbg to debug NaN problem with <code>tf_debug.LocalCLIDebugHook()</code> , but encounter thie problem.<br>\nOne more question, how to lower the size of dump files?</p>\n<p>Logging is below:</p>\n<pre><code>Traceback (most recent call last):\n  File \"./train.py\", line 166, in &lt;module&gt;\n    _, loss, l2_loss, predicted, labels, label_lengths, step = sess.run(ops)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 521, in run\n    run_metadata=run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 892, in run\n    run_metadata=run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 967, in run\n    raise six.reraise(*original_exc_info)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 952, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1032, in run\n    run_metadata=run_metadata))\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/wrappers/hooks.py\", line 157, in after_run\n    self._session_wrapper.on_run_end(on_run_end_request)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 321, in on_run_end\n    self._dump_root, partition_graphs=partition_graphs)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 495, in __init__\n    self._load_all_device_dumps(partition_graphs, validate)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 517, in _load_all_device_dumps\n    self._load_partition_graphs(partition_graphs, validate)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 798, in _load_partition_graphs\n    self._validate_dump_with_graphs(debug_graph.device_name)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 874, in _validate_dump_with_graphs\n    (node, datum.timestamp, repr(pending_inputs[node])))\nValueError: Causality violated in timing relations of debug dumps: model_train/model/model/decoder/while/BasicDecoderStep/TrainingHelperNextInputs/cond/Merge (1512027705071447): these input(s) are not satisfied: [(u'model_train/model/model/decoder/while/BasicDecoderStep/TrainingHelperNextInputs/cond/Switch_1', 1)]\n</code></pre>", "body_text": "VERSION: TF-1.4.0\nProblem:\nI want to use tfdbg to debug NaN problem with tf_debug.LocalCLIDebugHook() , but encounter thie problem.\nOne more question, how to lower the size of dump files?\nLogging is below:\nTraceback (most recent call last):\n  File \"./train.py\", line 166, in <module>\n    _, loss, l2_loss, predicted, labels, label_lengths, step = sess.run(ops)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 521, in run\n    run_metadata=run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 892, in run\n    run_metadata=run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 967, in run\n    raise six.reraise(*original_exc_info)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 952, in run\n    return self._sess.run(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1032, in run\n    run_metadata=run_metadata))\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/wrappers/hooks.py\", line 157, in after_run\n    self._session_wrapper.on_run_end(on_run_end_request)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 321, in on_run_end\n    self._dump_root, partition_graphs=partition_graphs)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 495, in __init__\n    self._load_all_device_dumps(partition_graphs, validate)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 517, in _load_all_device_dumps\n    self._load_partition_graphs(partition_graphs, validate)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 798, in _load_partition_graphs\n    self._validate_dump_with_graphs(debug_graph.device_name)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 874, in _validate_dump_with_graphs\n    (node, datum.timestamp, repr(pending_inputs[node])))\nValueError: Causality violated in timing relations of debug dumps: model_train/model/model/decoder/while/BasicDecoderStep/TrainingHelperNextInputs/cond/Merge (1512027705071447): these input(s) are not satisfied: [(u'model_train/model/model/decoder/while/BasicDecoderStep/TrainingHelperNextInputs/cond/Switch_1', 1)]", "body": "VERSION: TF-1.4.0\r\n\r\nProblem:\r\n  I want to use tfdbg to debug NaN problem with `tf_debug.LocalCLIDebugHook()` , but encounter thie problem.\r\n  One more question, how to lower the size of dump files?\r\n\r\nLogging is below:\r\n```\r\nTraceback (most recent call last):\r\n  File \"./train.py\", line 166, in <module>\r\n    _, loss, l2_loss, predicted, labels, label_lengths, step = sess.run(ops)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 521, in run\r\n    run_metadata=run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 892, in run\r\n    run_metadata=run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 967, in run\r\n    raise six.reraise(*original_exc_info)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 952, in run\r\n    return self._sess.run(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 1032, in run\r\n    run_metadata=run_metadata))\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/wrappers/hooks.py\", line 157, in after_run\r\n    self._session_wrapper.on_run_end(on_run_end_request)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 321, in on_run_end\r\n    self._dump_root, partition_graphs=partition_graphs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 495, in __init__\r\n    self._load_all_device_dumps(partition_graphs, validate)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 517, in _load_all_device_dumps\r\n    self._load_partition_graphs(partition_graphs, validate)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 798, in _load_partition_graphs\r\n    self._validate_dump_with_graphs(debug_graph.device_name)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 874, in _validate_dump_with_graphs\r\n    (node, datum.timestamp, repr(pending_inputs[node])))\r\nValueError: Causality violated in timing relations of debug dumps: model_train/model/model/decoder/while/BasicDecoderStep/TrainingHelperNextInputs/cond/Merge (1512027705071447): these input(s) are not satisfied: [(u'model_train/model/model/decoder/while/BasicDecoderStep/TrainingHelperNextInputs/cond/Switch_1', 1)]\r\n```\r\n\r\n"}