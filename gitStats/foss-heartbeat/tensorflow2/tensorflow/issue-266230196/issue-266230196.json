{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13788", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13788/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13788/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13788/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13788", "id": 266230196, "node_id": "MDU6SXNzdWUyNjYyMzAxOTY=", "number": 13788, "title": "Feature request: Prevent predict_scores() in tf.contrib.learn.estimators from reloading graph variables from checkpoint file everytime", "user": {"login": "rutadesai", "id": 7421733, "node_id": "MDQ6VXNlcjc0MjE3MzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/7421733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rutadesai", "html_url": "https://github.com/rutadesai", "followers_url": "https://api.github.com/users/rutadesai/followers", "following_url": "https://api.github.com/users/rutadesai/following{/other_user}", "gists_url": "https://api.github.com/users/rutadesai/gists{/gist_id}", "starred_url": "https://api.github.com/users/rutadesai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rutadesai/subscriptions", "organizations_url": "https://api.github.com/users/rutadesai/orgs", "repos_url": "https://api.github.com/users/rutadesai/repos", "events_url": "https://api.github.com/users/rutadesai/events{/privacy}", "received_events_url": "https://api.github.com/users/rutadesai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-17T18:25:47Z", "updated_at": "2017-10-18T19:42:18Z", "closed_at": "2017-10-18T19:42:18Z", "author_association": "NONE", "body_html": "<p>Hi there,</p>\n<p>I am using tf.contrib.learn.DNNLinearCombinedRegressor with wide and deep feature columns in Tesnorflow 1.3. I use an input_fn to parse pandas dataframes to this regressor for training. I have both real and categorical features, and so my deep feature columns are made of sparse columns with embedding as well as real valued columns. After training, I want to use the trained model for prediction in another application. I can call estimator.predict_scores() function to do this, but it seems very slow. Mainly because, it seems to be reloading the graph variables from last checkpoint file created during training everytime it is called. Can we prevent this for faster predictions, so that it reloads the variables only the first time it is called ? My application is simple, and I would like to not use Tensorflow serving.</p>\n<p>Thanks.</p>", "body_text": "Hi there,\nI am using tf.contrib.learn.DNNLinearCombinedRegressor with wide and deep feature columns in Tesnorflow 1.3. I use an input_fn to parse pandas dataframes to this regressor for training. I have both real and categorical features, and so my deep feature columns are made of sparse columns with embedding as well as real valued columns. After training, I want to use the trained model for prediction in another application. I can call estimator.predict_scores() function to do this, but it seems very slow. Mainly because, it seems to be reloading the graph variables from last checkpoint file created during training everytime it is called. Can we prevent this for faster predictions, so that it reloads the variables only the first time it is called ? My application is simple, and I would like to not use Tensorflow serving.\nThanks.", "body": "Hi there,\r\n\r\nI am using tf.contrib.learn.DNNLinearCombinedRegressor with wide and deep feature columns in Tesnorflow 1.3. I use an input_fn to parse pandas dataframes to this regressor for training. I have both real and categorical features, and so my deep feature columns are made of sparse columns with embedding as well as real valued columns. After training, I want to use the trained model for prediction in another application. I can call estimator.predict_scores() function to do this, but it seems very slow. Mainly because, it seems to be reloading the graph variables from last checkpoint file created during training everytime it is called. Can we prevent this for faster predictions, so that it reloads the variables only the first time it is called ? My application is simple, and I would like to not use Tensorflow serving.\r\n\r\nThanks."}