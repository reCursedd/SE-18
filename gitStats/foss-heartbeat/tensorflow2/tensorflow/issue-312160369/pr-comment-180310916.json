{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/180310916", "pull_request_review_id": 110708691, "id": 180310916, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDMxMDkxNg==", "diff_hunk": "@@ -263,7 +263,7 @@ def _check_dense_labels_match_logits_and_reshape(\n         if (dim1 is not None) and (dim1 != expected_labels_dimension):\n           raise ValueError(\n               'Mismatched label shape. '\n-              'Classifier configured with n_classes=%s.  Received %s. '\n+              'Expected labels dimension=%s.  Received %s. '", "path": "tensorflow/python/estimator/canned/head.py", "position": null, "original_position": 5, "commit_id": "fdaf76d6a309bf27ff7834c5d6b72cea807ecd47", "original_commit_id": "eef625e65d6ee3d39f8dff9c82ebb18309b60c2e", "user": {"login": "facaiy", "id": 1112263, "node_id": "MDQ6VXNlcjExMTIyNjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1112263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/facaiy", "html_url": "https://github.com/facaiy", "followers_url": "https://api.github.com/users/facaiy/followers", "following_url": "https://api.github.com/users/facaiy/following{/other_user}", "gists_url": "https://api.github.com/users/facaiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/facaiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/facaiy/subscriptions", "organizations_url": "https://api.github.com/users/facaiy/orgs", "repos_url": "https://api.github.com/users/facaiy/repos", "events_url": "https://api.github.com/users/facaiy/events{/privacy}", "received_events_url": "https://api.github.com/users/facaiy/received_events", "type": "User", "site_admin": false}, "body": "If I understand it correctly,\r\n+ For one-hot lables, \r\n```\r\n[[0, 0, 1],\r\n  [0, 1, 0],\r\n  [1, 0, 0]]\r\n```\r\n`expected_labels_dimension` keeps match with `n_classes`.\r\n\r\n+ However, for dense labels,\r\n```\r\n[[0],\r\n [1],\r\n [2]]\r\n```\r\n`n_classes` seems irrelevant for `expected_labels_dimension`.", "created_at": "2018-04-10T06:41:41Z", "updated_at": "2018-04-11T05:45:07Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/18305#discussion_r180310916", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18305", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/180310916"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/18305#discussion_r180310916"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18305"}}, "body_html": "<p>If I understand it correctly,</p>\n<ul>\n<li>For one-hot lables,</li>\n</ul>\n<pre><code>[[0, 0, 1],\n  [0, 1, 0],\n  [1, 0, 0]]\n</code></pre>\n<p><code>expected_labels_dimension</code> keeps match with <code>n_classes</code>.</p>\n<ul>\n<li>However, for dense labels,</li>\n</ul>\n<pre><code>[[0],\n [1],\n [2]]\n</code></pre>\n<p><code>n_classes</code> seems irrelevant for <code>expected_labels_dimension</code>.</p>", "body_text": "If I understand it correctly,\n\nFor one-hot lables,\n\n[[0, 0, 1],\n  [0, 1, 0],\n  [1, 0, 0]]\n\nexpected_labels_dimension keeps match with n_classes.\n\nHowever, for dense labels,\n\n[[0],\n [1],\n [2]]\n\nn_classes seems irrelevant for expected_labels_dimension.", "in_reply_to_id": 180240284}