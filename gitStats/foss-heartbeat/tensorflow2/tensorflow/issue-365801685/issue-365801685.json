{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22664", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22664/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22664/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22664/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22664", "id": 365801685, "node_id": "MDU6SXNzdWUzNjU4MDE2ODU=", "number": 22664, "title": "Cannot compile tensorflow with CUDA 10.0 and cuDNN 7.2", "user": {"login": "Tvde1", "id": 11540531, "node_id": "MDQ6VXNlcjExNTQwNTMx", "avatar_url": "https://avatars2.githubusercontent.com/u/11540531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tvde1", "html_url": "https://github.com/Tvde1", "followers_url": "https://api.github.com/users/Tvde1/followers", "following_url": "https://api.github.com/users/Tvde1/following{/other_user}", "gists_url": "https://api.github.com/users/Tvde1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tvde1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tvde1/subscriptions", "organizations_url": "https://api.github.com/users/Tvde1/orgs", "repos_url": "https://api.github.com/users/Tvde1/repos", "events_url": "https://api.github.com/users/Tvde1/events{/privacy}", "received_events_url": "https://api.github.com/users/Tvde1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2018-10-02T08:57:46Z", "updated_at": "2018-10-12T00:03:48Z", "closed_at": "2018-10-12T00:03:48Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nNo</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nWindows 10</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\nTrying to build from source.</li>\n<li><strong>TensorFlow version (use command below)</strong>:<br>\n1.11.0</li>\n<li><strong>Python version</strong>:<br>\n3.6.7rc1</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\n0.16.1 (I tried with latest 1.17.2 but that also didn't build).</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:<br>\nI don't know</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\nCUDA 9.0 and cuDNN 7.3.1</li>\n<li><strong>GPU model and memory</strong>:<br>\nGTX 1080 8gb</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I'm trying to build tensorflow from source. This is the error:</p>\n<pre><code>ERROR: D:/temp/tensorflow/tensorflow/contrib/rnn/BUILD:217:1: C++ compilation of rule '//tensorflow/contrib/rnn:python/ops/_lstm_ops_gpu' failed (Exit 1): msvc_wrapper_for_nvcc.bat failed: error executing command\n  cd C:/users/tim/_bazel_tim/lj4hacgi/execroot/org_tensorflow\n  SET CUDA_TOOLKIT_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\n    SET CUDNN_INSTALL_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\n    SET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\shared;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\um;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\winrt;\n    SET LIB=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17134.0\\ucrt\\x64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17134.0\\um\\x64;\n    SET PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools;C:\\Program Files (x86)\\Windows Kits\\10\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\10\\bin\\x86;;C:\\Windows\\system32\n    SET PWD=/proc/self/cwd\n    SET PYTHON_BIN_PATH=C:/Users/Tim/AppData/Local/Programs/Python/Python37/python.exe\n    SET PYTHON_LIB_PATH=C:/Users/Tim/AppData/Local/Programs/Python/Python37/lib/site-packages\n    SET TEMP=C:\\Users\\Tim\\AppData\\Local\\Temp\n    SET TF_CUDA_CLANG=0\n    SET TF_CUDA_COMPUTE_CAPABILITIES=6.1\n    SET TF_CUDA_VERSION=9.0\n    SET TF_CUDNN_VERSION=7\n    SET TF_NEED_CUDA=1\n    SET TF_NEED_OPENCL_SYCL=0\n    SET TMP=C:\\Users\\Tim\\AppData\\Local\\Temp\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nNo\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nWindows 10\nTensorFlow installed from (source or binary):\nTrying to build from source.\nTensorFlow version (use command below):\n1.11.0\nPython version:\n3.6.7rc1\nBazel version (if compiling from source):\n0.16.1 (I tried with latest 1.17.2 but that also didn't build).\nGCC/Compiler version (if compiling from source):\nI don't know\nCUDA/cuDNN version:\nCUDA 9.0 and cuDNN 7.3.1\nGPU model and memory:\nGTX 1080 8gb\nExact command to reproduce:\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nI'm trying to build tensorflow from source. This is the error:\nERROR: D:/temp/tensorflow/tensorflow/contrib/rnn/BUILD:217:1: C++ compilation of rule '//tensorflow/contrib/rnn:python/ops/_lstm_ops_gpu' failed (Exit 1): msvc_wrapper_for_nvcc.bat failed: error executing command\n  cd C:/users/tim/_bazel_tim/lj4hacgi/execroot/org_tensorflow\n  SET CUDA_TOOLKIT_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\n    SET CUDNN_INSTALL_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\n    SET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\shared;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\um;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\winrt;\n    SET LIB=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17134.0\\ucrt\\x64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17134.0\\um\\x64;\n    SET PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools;C:\\Program Files (x86)\\Windows Kits\\10\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\10\\bin\\x86;;C:\\Windows\\system32\n    SET PWD=/proc/self/cwd\n    SET PYTHON_BIN_PATH=C:/Users/Tim/AppData/Local/Programs/Python/Python37/python.exe\n    SET PYTHON_LIB_PATH=C:/Users/Tim/AppData/Local/Programs/Python/Python37/lib/site-packages\n    SET TEMP=C:\\Users\\Tim\\AppData\\Local\\Temp\n    SET TF_CUDA_CLANG=0\n    SET TF_CUDA_COMPUTE_CAPABILITIES=6.1\n    SET TF_CUDA_VERSION=9.0\n    SET TF_CUDNN_VERSION=7\n    SET TF_NEED_CUDA=1\n    SET TF_NEED_OPENCL_SYCL=0\n    SET TMP=C:\\Users\\Tim\\AppData\\Local\\Temp", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nNo\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nWindows 10\r\n- **TensorFlow installed from (source or binary)**:\r\nTrying to build from source.\r\n- **TensorFlow version (use command below)**:\r\n1.11.0\r\n- **Python version**:\r\n3.6.7rc1\r\n- **Bazel version (if compiling from source)**:\r\n0.16.1 (I tried with latest 1.17.2 but that also didn't build).\r\n- **GCC/Compiler version (if compiling from source)**:\r\nI don't know\r\n- **CUDA/cuDNN version**:\r\nCUDA 9.0 and cuDNN 7.3.1\r\n- **GPU model and memory**:\r\nGTX 1080 8gb\r\n- **Exact command to reproduce**:\r\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n\r\n### Describe the problem\r\nI'm trying to build tensorflow from source. This is the error:\r\n```\r\nERROR: D:/temp/tensorflow/tensorflow/contrib/rnn/BUILD:217:1: C++ compilation of rule '//tensorflow/contrib/rnn:python/ops/_lstm_ops_gpu' failed (Exit 1): msvc_wrapper_for_nvcc.bat failed: error executing command\r\n  cd C:/users/tim/_bazel_tim/lj4hacgi/execroot/org_tensorflow\r\n  SET CUDA_TOOLKIT_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\r\n    SET CUDNN_INSTALL_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\r\n    SET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\shared;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\um;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\winrt;\r\n    SET LIB=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17134.0\\ucrt\\x64;C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17134.0\\um\\x64;\r\n    SET PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools;C:\\Program Files (x86)\\Windows Kits\\10\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\10\\bin\\x86;;C:\\Windows\\system32\r\n    SET PWD=/proc/self/cwd\r\n    SET PYTHON_BIN_PATH=C:/Users/Tim/AppData/Local/Programs/Python/Python37/python.exe\r\n    SET PYTHON_LIB_PATH=C:/Users/Tim/AppData/Local/Programs/Python/Python37/lib/site-packages\r\n    SET TEMP=C:\\Users\\Tim\\AppData\\Local\\Temp\r\n    SET TF_CUDA_CLANG=0\r\n    SET TF_CUDA_COMPUTE_CAPABILITIES=6.1\r\n    SET TF_CUDA_VERSION=9.0\r\n    SET TF_CUDNN_VERSION=7\r\n    SET TF_NEED_CUDA=1\r\n    SET TF_NEED_OPENCL_SYCL=0\r\n    SET TMP=C:\\Users\\Tim\\AppData\\Local\\Temp\r\n```"}