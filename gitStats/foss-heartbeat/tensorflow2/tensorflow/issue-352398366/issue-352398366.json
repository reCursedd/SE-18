{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21751", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21751/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21751/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21751/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21751", "id": 352398366, "node_id": "MDU6SXNzdWUzNTIzOTgzNjY=", "number": 21751, "title": "Why does tf.feature_column.input_layer return my feature values in rearranged order", "user": {"login": "jingwb222", "id": 42470353, "node_id": "MDQ6VXNlcjQyNDcwMzUz", "avatar_url": "https://avatars3.githubusercontent.com/u/42470353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingwb222", "html_url": "https://github.com/jingwb222", "followers_url": "https://api.github.com/users/jingwb222/followers", "following_url": "https://api.github.com/users/jingwb222/following{/other_user}", "gists_url": "https://api.github.com/users/jingwb222/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingwb222/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingwb222/subscriptions", "organizations_url": "https://api.github.com/users/jingwb222/orgs", "repos_url": "https://api.github.com/users/jingwb222/repos", "events_url": "https://api.github.com/users/jingwb222/events{/privacy}", "received_events_url": "https://api.github.com/users/jingwb222/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-08-21T06:11:12Z", "updated_at": "2018-09-27T19:09:28Z", "closed_at": "2018-09-27T18:56:42Z", "author_association": "NONE", "body_html": "<p>I currently am testing some ideas with <code>LinearClassifier</code> with <code>TensorFlow</code>'s New API. Have created some features using just <code>tf.feature_column.numeric_column</code> and feed them into a <code>tf.feature_column.input_layer</code> layer as following:</p>\n<pre><code>layer_test = tf.feature_column.input_layer(input_fn('data.csv')[0], feature_columns_raw)\n</code></pre>\n<p>And then simply check if my input features are corrently fed via:</p>\n<pre><code>with tf.Session() as sess:\n    init = tf.global_variables_initializer()\n    sess.run(init)\n    layer_test_val = sess.run(layer_test)\n    print(layer_test_val)\n</code></pre>\n<p>But I found if very strange and counterintuitive that column order in <code>layer_test_val</code> were completely changed out of my control. It's no big deal if the <code>LinearClassifier</code> can eventually get the decent prediction accuracy despite the rearranged features' order. However, if what I need is the learned weights of those features, how can I make sure that the output of<br>\n<code>weights = lr_classifier.get_variable_value('logits/kernel')</code> is in the exact order of the features as they are specified.</p>", "body_text": "I currently am testing some ideas with LinearClassifier with TensorFlow's New API. Have created some features using just tf.feature_column.numeric_column and feed them into a tf.feature_column.input_layer layer as following:\nlayer_test = tf.feature_column.input_layer(input_fn('data.csv')[0], feature_columns_raw)\n\nAnd then simply check if my input features are corrently fed via:\nwith tf.Session() as sess:\n    init = tf.global_variables_initializer()\n    sess.run(init)\n    layer_test_val = sess.run(layer_test)\n    print(layer_test_val)\n\nBut I found if very strange and counterintuitive that column order in layer_test_val were completely changed out of my control. It's no big deal if the LinearClassifier can eventually get the decent prediction accuracy despite the rearranged features' order. However, if what I need is the learned weights of those features, how can I make sure that the output of\nweights = lr_classifier.get_variable_value('logits/kernel') is in the exact order of the features as they are specified.", "body": "I currently am testing some ideas with `LinearClassifier` with `TensorFlow`'s New API. Have created some features using just `tf.feature_column.numeric_column` and feed them into a `tf.feature_column.input_layer` layer as following:\r\n\r\n    layer_test = tf.feature_column.input_layer(input_fn('data.csv')[0], feature_columns_raw)\r\n\r\nAnd then simply check if my input features are corrently fed via:\r\n\r\n    with tf.Session() as sess:\r\n        init = tf.global_variables_initializer()\r\n        sess.run(init)\r\n        layer_test_val = sess.run(layer_test)\r\n        print(layer_test_val)\r\n\r\nBut I found if very strange and counterintuitive that column order in `layer_test_val` were completely changed out of my control. It's no big deal if the `LinearClassifier` can eventually get the decent prediction accuracy despite the rearranged features' order. However, if what I need is the learned weights of those features, how can I make sure that the output of \r\n`weights = lr_classifier.get_variable_value('logits/kernel')` is in the exact order of the features as they are specified."}