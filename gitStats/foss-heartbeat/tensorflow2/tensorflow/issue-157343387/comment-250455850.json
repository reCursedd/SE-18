{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/250455850", "html_url": "https://github.com/tensorflow/tensorflow/issues/2559#issuecomment-250455850", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2559", "id": 250455850, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MDQ1NTg1MA==", "user": {"login": "devymex", "id": 1797836, "node_id": "MDQ6VXNlcjE3OTc4MzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1797836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devymex", "html_url": "https://github.com/devymex", "followers_url": "https://api.github.com/users/devymex/followers", "following_url": "https://api.github.com/users/devymex/following{/other_user}", "gists_url": "https://api.github.com/users/devymex/gists{/gist_id}", "starred_url": "https://api.github.com/users/devymex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devymex/subscriptions", "organizations_url": "https://api.github.com/users/devymex/orgs", "repos_url": "https://api.github.com/users/devymex/repos", "events_url": "https://api.github.com/users/devymex/events{/privacy}", "received_events_url": "https://api.github.com/users/devymex/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-29T12:47:14Z", "updated_at": "2016-09-29T12:50:05Z", "author_association": "NONE", "body_html": "<p>Does anyone successed install TensorFlow with following combination?</p>\n<ul>\n<li>Ubuntu 16.04 (Just newly installed and apt upgraded)</li>\n<li>Nvidia Driver: nvidia-370 (sudo apt install nvidia-370)</li>\n<li>JAVA 8 and Bazel 0.3.1 (install from official package):</li>\n</ul>\n<pre><code>chmod +x bazel-0.3.1-installer-linux-x86_64.sh\n./bazel-0.3.1-installer-linux-x86_64.sh --user\n</code></pre>\n<ul>\n<li>gcc: 5.4.0 (default with 16.04)</li>\n<li>CUDA 8.0.44 (for GTX 1070, installed from official .run file without driver)</li>\n</ul>\n<pre><code>export CUDA_HOME=/usr/local/cuda-8.0\nexport LD_LIBRARY_PATH=\"$CUDA_HOME/lib64:$LD_LIBRARY_PATH\"\nexport PATH=\"$CUDA_HOME/bin:$PATH\"\n</code></pre>\n<ul>\n<li>cuDNN 5.1.5 (installed from official package)</li>\n<li>tensorflow master branch (clone from official github)</li>\n<li>python 2 and python 3 (install from ubuntu official source)</li>\n</ul>\n<p>Then run the tensorflow/configure:</p>\n<pre><code>./configure\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] N\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /usr/local/lib/python2.7/dist-packages\n  /usr/lib/python2.7/dist-packages\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python2.7/dist-packages]\n/usr/lib/python3/dist-packages\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5.1.5\nPlease specify the location where cuDNN 5.1.5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: \n</code></pre>\n<p>Done with</p>\n<pre><code>INFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\n.\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n</code></pre>\n<p>and I run the building:</p>\n<pre><code>bazel build -c opt --config=cuda\n</code></pre>\n<p>some error occured immediately:</p>\n<pre><code>ERROR: /home/devymex/.cache/bazel/_bazel_devymex/05af4cc48fb50d1cc8f7e879f4c1ce83/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\n    File \"/home/devymex/.cache/bazel/_bazel_devymex/05af4cc48fb50d1cc8f7e879f4c1ce83/external/local_config_cuda/crosstool/BUILD\", line 4\n        error_gpu_disabled()\n    File \"/home/devymex/.cache/bazel/_bazel_devymex/05af4cc48fb50d1cc8f7e879f4c1ce83/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\n        fail(\"ERROR: Building with --config=c...\")\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\n...\n</code></pre>\n<p>I've tried to:</p>\n<ul>\n<li>\n<pre><code>reinstall Ubuntu, many times;\n</code></pre>\n</li>\n<li>\n<pre><code>reinstall Bazel (from 3party source), many times too.\n</code></pre>\n</li>\n<li>\n<pre><code>try different Bazel edition (0.3.1, 0.3.0)\n</code></pre>\n</li>\n<li>\n<pre><code>change to the older CUDA edition 8.0.27 (CUDA 7 doesn't support GTX 1070)\n</code></pre>\n</li>\n<li>\n<pre><code>try different cuda paths \"/usr/local/cuda\" and \"/usr/local/cuda-8.0\" (all of them are exist)\n</code></pre>\n</li>\n<li>\n<pre><code>re-run ./configure many times and re-run bazel build -c opt --config=cuda\n</code></pre>\n</li>\n<li>\n<pre><code>run \"bazel clean\" before re-run ./configure\n</code></pre>\n</li>\n<li>\n<pre><code>re-download offical tensorflow package or re-clone official tensorflow github repo\n</code></pre>\n</li>\n<li>\n<pre><code>delete path ~/.config/bazel before ./configure\n</code></pre>\n</li>\n<li>\n<pre><code>python2 and python3\n</code></pre>\n</li>\n<li>\n<pre><code>I've tried all possible action that may related to this error.\n</code></pre>\n</li>\n</ul>\n<p>but the error always occured and with identical message.</p>\n<p>I've try to use tensorflow r0.10 package (download from git hub), the error message were became to:</p>\n<pre><code>ERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\n</code></pre>\n<p>with the tensorflow r0.10, above tried actions has no effect to these two error message.<br>\nI'm so frustrated after four days failure. Does someone could help me? Thanks!</p>", "body_text": "Does anyone successed install TensorFlow with following combination?\n\nUbuntu 16.04 (Just newly installed and apt upgraded)\nNvidia Driver: nvidia-370 (sudo apt install nvidia-370)\nJAVA 8 and Bazel 0.3.1 (install from official package):\n\nchmod +x bazel-0.3.1-installer-linux-x86_64.sh\n./bazel-0.3.1-installer-linux-x86_64.sh --user\n\n\ngcc: 5.4.0 (default with 16.04)\nCUDA 8.0.44 (for GTX 1070, installed from official .run file without driver)\n\nexport CUDA_HOME=/usr/local/cuda-8.0\nexport LD_LIBRARY_PATH=\"$CUDA_HOME/lib64:$LD_LIBRARY_PATH\"\nexport PATH=\"$CUDA_HOME/bin:$PATH\"\n\n\ncuDNN 5.1.5 (installed from official package)\ntensorflow master branch (clone from official github)\npython 2 and python 3 (install from ubuntu official source)\n\nThen run the tensorflow/configure:\n./configure\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] N\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /usr/local/lib/python2.7/dist-packages\n  /usr/lib/python2.7/dist-packages\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python2.7/dist-packages]\n/usr/lib/python3/dist-packages\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5.1.5\nPlease specify the location where cuDNN 5.1.5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: \n\nDone with\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\n.\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n\nand I run the building:\nbazel build -c opt --config=cuda\n\nsome error occured immediately:\nERROR: /home/devymex/.cache/bazel/_bazel_devymex/05af4cc48fb50d1cc8f7e879f4c1ce83/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\n    File \"/home/devymex/.cache/bazel/_bazel_devymex/05af4cc48fb50d1cc8f7e879f4c1ce83/external/local_config_cuda/crosstool/BUILD\", line 4\n        error_gpu_disabled()\n    File \"/home/devymex/.cache/bazel/_bazel_devymex/05af4cc48fb50d1cc8f7e879f4c1ce83/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\n        fail(\"ERROR: Building with --config=c...\")\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\n...\n\nI've tried to:\n\n\nreinstall Ubuntu, many times;\n\n\n\nreinstall Bazel (from 3party source), many times too.\n\n\n\ntry different Bazel edition (0.3.1, 0.3.0)\n\n\n\nchange to the older CUDA edition 8.0.27 (CUDA 7 doesn't support GTX 1070)\n\n\n\ntry different cuda paths \"/usr/local/cuda\" and \"/usr/local/cuda-8.0\" (all of them are exist)\n\n\n\nre-run ./configure many times and re-run bazel build -c opt --config=cuda\n\n\n\nrun \"bazel clean\" before re-run ./configure\n\n\n\nre-download offical tensorflow package or re-clone official tensorflow github repo\n\n\n\ndelete path ~/.config/bazel before ./configure\n\n\n\npython2 and python3\n\n\n\nI've tried all possible action that may related to this error.\n\n\n\nbut the error always occured and with identical message.\nI've try to use tensorflow r0.10 package (download from git hub), the error message were became to:\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\n\nwith the tensorflow r0.10, above tried actions has no effect to these two error message.\nI'm so frustrated after four days failure. Does someone could help me? Thanks!", "body": "Does anyone successed install TensorFlow with following combination?\n- Ubuntu 16.04 (Just newly installed and apt upgraded)\n- Nvidia Driver: nvidia-370 (sudo apt install nvidia-370)\n- JAVA 8 and Bazel 0.3.1 (install from official package):\n\n```\nchmod +x bazel-0.3.1-installer-linux-x86_64.sh\n./bazel-0.3.1-installer-linux-x86_64.sh --user\n```\n- gcc: 5.4.0 (default with 16.04)\n- CUDA 8.0.44 (for GTX 1070, installed from official .run file without driver)\n\n```\nexport CUDA_HOME=/usr/local/cuda-8.0\nexport LD_LIBRARY_PATH=\"$CUDA_HOME/lib64:$LD_LIBRARY_PATH\"\nexport PATH=\"$CUDA_HOME/bin:$PATH\"\n```\n- cuDNN 5.1.5 (installed from official package)\n- tensorflow master branch (clone from official github)\n- python 2 and python 3 (install from ubuntu official source)\n\nThen run the tensorflow/configure:\n\n```\n./configure\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] N\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /usr/local/lib/python2.7/dist-packages\n  /usr/lib/python2.7/dist-packages\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python2.7/dist-packages]\n/usr/lib/python3/dist-packages\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5.1.5\nPlease specify the location where cuDNN 5.1.5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: \n```\n\nDone with\n\n```\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\n.\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n```\n\nand I run the building:\n\n```\nbazel build -c opt --config=cuda\n```\n\nsome error occured immediately:\n\n```\nERROR: /home/devymex/.cache/bazel/_bazel_devymex/05af4cc48fb50d1cc8f7e879f4c1ce83/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\n    File \"/home/devymex/.cache/bazel/_bazel_devymex/05af4cc48fb50d1cc8f7e879f4c1ce83/external/local_config_cuda/crosstool/BUILD\", line 4\n        error_gpu_disabled()\n    File \"/home/devymex/.cache/bazel/_bazel_devymex/05af4cc48fb50d1cc8f7e879f4c1ce83/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\n        fail(\"ERROR: Building with --config=c...\")\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\n...\n```\n\nI've tried to:\n-     reinstall Ubuntu, many times;\n-     reinstall Bazel (from 3party source), many times too.\n-     try different Bazel edition (0.3.1, 0.3.0)\n-     change to the older CUDA edition 8.0.27 (CUDA 7 doesn't support GTX 1070)\n-     try different cuda paths \"/usr/local/cuda\" and \"/usr/local/cuda-8.0\" (all of them are exist)\n-     re-run ./configure many times and re-run bazel build -c opt --config=cuda\n-     run \"bazel clean\" before re-run ./configure\n-     re-download offical tensorflow package or re-clone official tensorflow github repo\n-     delete path ~/.config/bazel before ./configure\n-     python2 and python3\n-     I've tried all possible action that may related to this error.\n\nbut the error always occured and with identical message.\n\nI've try to use tensorflow r0.10 package (download from git hub), the error message were became to:\n\n```\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\nERROR: no such package '@local_config_cuda//crosstool': BUILD file not found on package path.\n```\n\nwith the tensorflow r0.10, above tried actions has no effect to these two error message.\nI'm so frustrated after four days failure. Does someone could help me? Thanks!\n"}