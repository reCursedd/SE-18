{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/288555167", "html_url": "https://github.com/tensorflow/tensorflow/issues/2130#issuecomment-288555167", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2130", "id": 288555167, "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODU1NTE2Nw==", "user": {"login": "davidparks21", "id": 964997, "node_id": "MDQ6VXNlcjk2NDk5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/964997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidparks21", "html_url": "https://github.com/davidparks21", "followers_url": "https://api.github.com/users/davidparks21/followers", "following_url": "https://api.github.com/users/davidparks21/following{/other_user}", "gists_url": "https://api.github.com/users/davidparks21/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidparks21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidparks21/subscriptions", "organizations_url": "https://api.github.com/users/davidparks21/orgs", "repos_url": "https://api.github.com/users/davidparks21/repos", "events_url": "https://api.github.com/users/davidparks21/events{/privacy}", "received_events_url": "https://api.github.com/users/davidparks21/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-22T22:08:06Z", "updated_at": "2017-03-22T22:10:42Z", "author_association": "NONE", "body_html": "<p>To add to, and summarize this discussion: to get a clean shutdown, this was I needed to run at shutdown. If you don't \"cancel_pending_enqueues\", the threads still hang in enqueue ops (tf 1.0).</p>\n<pre><code>coord.request_stop()\nsess.run(model.queue.close(cancel_pending_enqueues=True))\ncoord.join(threads)\n</code></pre>", "body_text": "To add to, and summarize this discussion: to get a clean shutdown, this was I needed to run at shutdown. If you don't \"cancel_pending_enqueues\", the threads still hang in enqueue ops (tf 1.0).\ncoord.request_stop()\nsess.run(model.queue.close(cancel_pending_enqueues=True))\ncoord.join(threads)", "body": "To add to, and summarize this discussion: to get a clean shutdown, this was I needed to run at shutdown. If you don't \"cancel_pending_enqueues\", the threads still hang in enqueue ops (tf 1.0).\r\n\r\n```\r\ncoord.request_stop()\r\nsess.run(model.queue.close(cancel_pending_enqueues=True))\r\ncoord.join(threads)\r\n```"}