{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/355159790", "html_url": "https://github.com/tensorflow/tensorflow/issues/11250#issuecomment-355159790", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11250", "id": 355159790, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTE1OTc5MA==", "user": {"login": "vade", "id": 65011, "node_id": "MDQ6VXNlcjY1MDEx", "avatar_url": "https://avatars1.githubusercontent.com/u/65011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vade", "html_url": "https://github.com/vade", "followers_url": "https://api.github.com/users/vade/followers", "following_url": "https://api.github.com/users/vade/following{/other_user}", "gists_url": "https://api.github.com/users/vade/gists{/gist_id}", "starred_url": "https://api.github.com/users/vade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vade/subscriptions", "organizations_url": "https://api.github.com/users/vade/orgs", "repos_url": "https://api.github.com/users/vade/repos", "events_url": "https://api.github.com/users/vade/events{/privacy}", "received_events_url": "https://api.github.com/users/vade/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-03T23:45:31Z", "updated_at": "2018-01-03T23:45:31Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hi - Sorry for the delayed response, just got back to this.</p>\n<p>I can confirm that Mobile-net training and label classification works in TF Master branch compiled from source (from today <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/136697ecdc64b5171522fb7f89cfe51a02f0f1c1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/136697ecdc64b5171522fb7f89cfe51a02f0f1c1\"><tt>136697e</tt></a>) - ive successfully trained a new graph via <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=161459\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/petewarden\">@petewarden</a> 's updated documentation of the TF for Poets code.</p>\n<p>however, once caveat is that my python command line options varied a touch:</p>\n<p>To train:</p>\n<p><code>python tensorflow/examples/image_retraining/retrain.py --image_dir ~/path/to/images/ --architecture mobilenet_1.0_224 --random_crop 5 --random_scale 5 --random_brightness 5 --flip_left_right --output_graph ~/Graph.pb </code></p>\n<p>To run inference:</p>\n<p><code>python tensorflow/examples/label_image/label_image.py --graph=~/Graph.pb --labels=~/output_labels.txt --input_layer=input --output_layer=final_result --input_height=224 --input_width=224 --input_mean=128 --input_std=128 --image=~/test.jpg  </code></p>\n<p>Note; final_result, not final_result:0</p>\n<p>Also note the input_mean / std varies is stated in some locations to be 127, in others 128. Can we have a confirmation?</p>\n<p>Thank you.</p>", "body_text": "Hi - Sorry for the delayed response, just got back to this.\nI can confirm that Mobile-net training and label classification works in TF Master branch compiled from source (from today 136697e) - ive successfully trained a new graph via @petewarden 's updated documentation of the TF for Poets code.\nhowever, once caveat is that my python command line options varied a touch:\nTo train:\npython tensorflow/examples/image_retraining/retrain.py --image_dir ~/path/to/images/ --architecture mobilenet_1.0_224 --random_crop 5 --random_scale 5 --random_brightness 5 --flip_left_right --output_graph ~/Graph.pb \nTo run inference:\npython tensorflow/examples/label_image/label_image.py --graph=~/Graph.pb --labels=~/output_labels.txt --input_layer=input --output_layer=final_result --input_height=224 --input_width=224 --input_mean=128 --input_std=128 --image=~/test.jpg  \nNote; final_result, not final_result:0\nAlso note the input_mean / std varies is stated in some locations to be 127, in others 128. Can we have a confirmation?\nThank you.", "body": "Hi - Sorry for the delayed response, just got back to this.\r\n\r\nI can confirm that Mobile-net training and label classification works in TF Master branch compiled from source (from today 136697e) - ive successfully trained a new graph via @petewarden 's updated documentation of the TF for Poets code.\r\n\r\nhowever, once caveat is that my python command line options varied a touch:\r\n\r\nTo train:\r\n\r\n`python tensorflow/examples/image_retraining/retrain.py --image_dir ~/path/to/images/ --architecture mobilenet_1.0_224 --random_crop 5 --random_scale 5 --random_brightness 5 --flip_left_right --output_graph ~/Graph.pb\r\n`\r\n\r\nTo run inference:\r\n\r\n`python tensorflow/examples/label_image/label_image.py --graph=~/Graph.pb --labels=~/output_labels.txt --input_layer=input --output_layer=final_result --input_height=224 --input_width=224 --input_mean=128 --input_std=128 --image=~/test.jpg \r\n`\r\n\r\nNote; final_result, not final_result:0\r\n\r\nAlso note the input_mean / std varies is stated in some locations to be 127, in others 128. Can we have a confirmation?\r\n\r\nThank you.\r\n"}