{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10668", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10668/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10668/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10668/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10668", "id": 235461561, "node_id": "MDU6SXNzdWUyMzU0NjE1NjE=", "number": 10668, "title": "Get strange results by running sparse_tensor_dense_matmul_op_test.py", "user": {"login": "sleepfin", "id": 7370869, "node_id": "MDQ6VXNlcjczNzA4Njk=", "avatar_url": "https://avatars1.githubusercontent.com/u/7370869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sleepfin", "html_url": "https://github.com/sleepfin", "followers_url": "https://api.github.com/users/sleepfin/followers", "following_url": "https://api.github.com/users/sleepfin/following{/other_user}", "gists_url": "https://api.github.com/users/sleepfin/gists{/gist_id}", "starred_url": "https://api.github.com/users/sleepfin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sleepfin/subscriptions", "organizations_url": "https://api.github.com/users/sleepfin/orgs", "repos_url": "https://api.github.com/users/sleepfin/repos", "events_url": "https://api.github.com/users/sleepfin/events{/privacy}", "received_events_url": "https://api.github.com/users/sleepfin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-13T07:33:32Z", "updated_at": "2017-06-13T08:38:19Z", "closed_at": "2017-06-13T08:38:19Z", "author_association": "NONE", "body_html": "<p>When I run sparse_tensor_dense_matmul_op_test.py with large n,m,k<br>\nI get:</p>\n<pre><code>% nnz \t n \t gpu \t m \t k \t dt(dense) \t dt(sparse) \t dt(sparse)/dt(dense)\n0.5 \t 512 \t True \t 1822 \t 4608 \t 0.0222946 \t 0.0130646 \t 0.585998\n0.5 \t 512 \t True \t 1821 \t 4608 \t 0.0224976 \t 0.0130761 \t 0.581222\n0.5 \t 512 \t True \t 1820 \t 4608 \t 0.022529 \t 0.79513 \t 35.2936\n0.5 \t 512 \t True \t 1819 \t 4608 \t 0.0217343 \t 0.795709 \t 36.6107\n</code></pre>\n<p>It is strange that <code>dt(sparse)/dt(dense)</code> are very different when m=1821 -&gt; 1820<br>\nBTY, I set the iterations to 10 for time saving...</p>\n<pre><code>delta_dense = _timer(sess, ops_fn, 10)\ndelta_sparse = _timer(sess, ops_fn, 10)\n</code></pre>", "body_text": "When I run sparse_tensor_dense_matmul_op_test.py with large n,m,k\nI get:\n% nnz \t n \t gpu \t m \t k \t dt(dense) \t dt(sparse) \t dt(sparse)/dt(dense)\n0.5 \t 512 \t True \t 1822 \t 4608 \t 0.0222946 \t 0.0130646 \t 0.585998\n0.5 \t 512 \t True \t 1821 \t 4608 \t 0.0224976 \t 0.0130761 \t 0.581222\n0.5 \t 512 \t True \t 1820 \t 4608 \t 0.022529 \t 0.79513 \t 35.2936\n0.5 \t 512 \t True \t 1819 \t 4608 \t 0.0217343 \t 0.795709 \t 36.6107\n\nIt is strange that dt(sparse)/dt(dense) are very different when m=1821 -> 1820\nBTY, I set the iterations to 10 for time saving...\ndelta_dense = _timer(sess, ops_fn, 10)\ndelta_sparse = _timer(sess, ops_fn, 10)", "body": "When I run sparse_tensor_dense_matmul_op_test.py with large n,m,k\r\nI get:\r\n```\r\n% nnz \t n \t gpu \t m \t k \t dt(dense) \t dt(sparse) \t dt(sparse)/dt(dense)\r\n0.5 \t 512 \t True \t 1822 \t 4608 \t 0.0222946 \t 0.0130646 \t 0.585998\r\n0.5 \t 512 \t True \t 1821 \t 4608 \t 0.0224976 \t 0.0130761 \t 0.581222\r\n0.5 \t 512 \t True \t 1820 \t 4608 \t 0.022529 \t 0.79513 \t 35.2936\r\n0.5 \t 512 \t True \t 1819 \t 4608 \t 0.0217343 \t 0.795709 \t 36.6107\r\n```\r\nIt is strange that `dt(sparse)/dt(dense)` are very different when m=1821 -> 1820\r\nBTY, I set the iterations to 10 for time saving...\r\n```\r\ndelta_dense = _timer(sess, ops_fn, 10)\r\ndelta_sparse = _timer(sess, ops_fn, 10)\r\n```"}