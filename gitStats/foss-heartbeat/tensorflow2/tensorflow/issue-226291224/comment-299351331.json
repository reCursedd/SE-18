{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/299351331", "html_url": "https://github.com/tensorflow/tensorflow/issues/9662#issuecomment-299351331", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9662", "id": 299351331, "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTM1MTMzMQ==", "user": {"login": "PKUEcho", "id": 6965430, "node_id": "MDQ6VXNlcjY5NjU0MzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6965430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PKUEcho", "html_url": "https://github.com/PKUEcho", "followers_url": "https://api.github.com/users/PKUEcho/followers", "following_url": "https://api.github.com/users/PKUEcho/following{/other_user}", "gists_url": "https://api.github.com/users/PKUEcho/gists{/gist_id}", "starred_url": "https://api.github.com/users/PKUEcho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PKUEcho/subscriptions", "organizations_url": "https://api.github.com/users/PKUEcho/orgs", "repos_url": "https://api.github.com/users/PKUEcho/repos", "events_url": "https://api.github.com/users/PKUEcho/events{/privacy}", "received_events_url": "https://api.github.com/users/PKUEcho/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-05T01:32:07Z", "updated_at": "2017-05-05T01:35:31Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16018\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/asimshankar\">@asimshankar</a> thanks for your reply! I'm missing some details here. So, basically you provide two solutions here, right?</p>\n<ul>\n<li>\n<p>Inside the <code>deps</code>, I think I need to insert <code>//tensorflow/cc:cc_ops</code> after <code>//tensorflow:android</code> rather than <code>//conditions:default</code>? Because I think that's the true <code>deps</code> when I build it for Android.After that, I tried use the following command to build it but failed. Did I miss anything from your answer?<br>\n<code>$bazel build -c opt \\ --crosstool_top=//external:android/crosstool \\ --cpu=armeabi-v7a \\ --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\ tensorflow/tools/benchmark:benchmark_model</code></p>\n</li>\n<li>\n<p>So the second solution is to add a target inside //tensorflow/cc/BUILD, and build it myself?</p>\n</li>\n</ul>", "body_text": "@asimshankar thanks for your reply! I'm missing some details here. So, basically you provide two solutions here, right?\n\n\nInside the deps, I think I need to insert //tensorflow/cc:cc_ops after //tensorflow:android rather than //conditions:default? Because I think that's the true deps when I build it for Android.After that, I tried use the following command to build it but failed. Did I miss anything from your answer?\n$bazel build -c opt \\ --crosstool_top=//external:android/crosstool \\ --cpu=armeabi-v7a \\ --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\ tensorflow/tools/benchmark:benchmark_model\n\n\nSo the second solution is to add a target inside //tensorflow/cc/BUILD, and build it myself?", "body": "@asimshankar thanks for your reply! I'm missing some details here. So, basically you provide two solutions here, right?\r\n\r\n- Inside the `deps`, I think I need to insert `//tensorflow/cc:cc_ops` after `//tensorflow:android` rather than `//conditions:default`? Because I think that's the true `deps` when I build it for Android.After that, I tried use the following command to build it but failed. Did I miss anything from your answer?\r\n`$bazel build -c opt \\\r\n  --crosstool_top=//external:android/crosstool \\\r\n  --cpu=armeabi-v7a \\\r\n  --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\r\n  tensorflow/tools/benchmark:benchmark_model`\r\n\r\n- So the second solution is to add a target inside //tensorflow/cc/BUILD, and build it myself?"}