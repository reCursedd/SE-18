{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15695", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15695/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15695/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15695/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15695", "id": 284923377, "node_id": "MDU6SXNzdWUyODQ5MjMzNzc=", "number": 15695, "title": "LookupError: No gradient defined for operation for assign", "user": {"login": "Frank-AFN", "id": 12408187, "node_id": "MDQ6VXNlcjEyNDA4MTg3", "avatar_url": "https://avatars0.githubusercontent.com/u/12408187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Frank-AFN", "html_url": "https://github.com/Frank-AFN", "followers_url": "https://api.github.com/users/Frank-AFN/followers", "following_url": "https://api.github.com/users/Frank-AFN/following{/other_user}", "gists_url": "https://api.github.com/users/Frank-AFN/gists{/gist_id}", "starred_url": "https://api.github.com/users/Frank-AFN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Frank-AFN/subscriptions", "organizations_url": "https://api.github.com/users/Frank-AFN/orgs", "repos_url": "https://api.github.com/users/Frank-AFN/repos", "events_url": "https://api.github.com/users/Frank-AFN/events{/privacy}", "received_events_url": "https://api.github.com/users/Frank-AFN/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-12-28T14:16:59Z", "updated_at": "2018-06-02T07:16:32Z", "closed_at": "2018-06-02T07:05:55Z", "author_association": "NONE", "body_html": "<p>I wish to do assign ops in a layer such as below<br>\n<strong>with tf.name_scope('conv1_1') as scope:<br>\nkernel = tf.Variable(tf.truncated_normal([3, 3, 3, 64], dtype=tf.float32,<br>\nstddev=1e-1), name='weights')<br>\nkernel = kernel[:, :, : 0:32].assign(tf.zeros([3, 3, 3, 32]))<br>\nconv = tf.nn.conv2d(images, kernel, [1, 1, 1, 1], padding='SAME')<br>\nbiases = tf.Variable(tf.constant(0.0, shape=[64], dtype=tf.float32),<br>\ntrainable=True, name='biases')<br>\nout = tf.nn.bias_add(conv, biases)<br>\nself.conv1_1 = tf.nn.relu(out, name=scope)<br>\nself.parameters += [kernel, biases]</strong></p>\n<p>But later I train again. I will have error.<br>\n<strong>LookupError: No gradient defined for operation for assign</strong></p>", "body_text": "I wish to do assign ops in a layer such as below\nwith tf.name_scope('conv1_1') as scope:\nkernel = tf.Variable(tf.truncated_normal([3, 3, 3, 64], dtype=tf.float32,\nstddev=1e-1), name='weights')\nkernel = kernel[:, :, : 0:32].assign(tf.zeros([3, 3, 3, 32]))\nconv = tf.nn.conv2d(images, kernel, [1, 1, 1, 1], padding='SAME')\nbiases = tf.Variable(tf.constant(0.0, shape=[64], dtype=tf.float32),\ntrainable=True, name='biases')\nout = tf.nn.bias_add(conv, biases)\nself.conv1_1 = tf.nn.relu(out, name=scope)\nself.parameters += [kernel, biases]\nBut later I train again. I will have error.\nLookupError: No gradient defined for operation for assign", "body": "I wish to do assign ops in a layer such as below \r\n           **with tf.name_scope('conv1_1') as scope:\r\n                kernel = tf.Variable(tf.truncated_normal([3, 3, 3, 64], dtype=tf.float32,\r\n                                                         stddev=1e-1), name='weights')\r\n                kernel = kernel[:, :, : 0:32].assign(tf.zeros([3, 3, 3, 32]))\r\n                conv = tf.nn.conv2d(images, kernel, [1, 1, 1, 1], padding='SAME')\r\n                biases = tf.Variable(tf.constant(0.0, shape=[64], dtype=tf.float32),\r\n                                     trainable=True, name='biases')\r\n                out = tf.nn.bias_add(conv, biases)\r\n                self.conv1_1 = tf.nn.relu(out, name=scope)\r\n                self.parameters += [kernel, biases]**\r\n\r\nBut later I train again. I will have error.\r\n**LookupError: No gradient defined for operation for assign**"}