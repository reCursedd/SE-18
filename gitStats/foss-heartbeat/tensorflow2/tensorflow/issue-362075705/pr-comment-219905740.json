{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/219905740", "pull_request_review_id": 158192384, "id": 219905740, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTkwNTc0MA==", "diff_hunk": "@@ -91,8 +91,11 @@ def reduce_dataset(dataset, reducer):\n     raise TypeError(\"`dataset` must be a `tf.data.Dataset` object.\")\n \n   # The sentinel dataset is used in case the reduced dataset is empty.\n+  initial_state = reducer.init_func(np.int64(0))\n+  if not isinstance(initial_state, tuple):\n+      initial_state = (initial_state,)\n   sentinel_dataset = dataset_ops.Dataset.from_tensors(\n-      reducer.finalize_func(reducer.init_func(np.int64(0))))\n+      reducer.finalize_func(*initial_state))", "path": "tensorflow/contrib/data/python/ops/get_single_element.py", "position": null, "original_position": 9, "commit_id": "c9564fda904fb82be64d7cc70f662d02d6f9574b", "original_commit_id": "1ab81d98b51ba6aaf71a6adde18995965ceb950d", "user": {"login": "omoindrot", "id": 13662086, "node_id": "MDQ6VXNlcjEzNjYyMDg2", "avatar_url": "https://avatars3.githubusercontent.com/u/13662086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omoindrot", "html_url": "https://github.com/omoindrot", "followers_url": "https://api.github.com/users/omoindrot/followers", "following_url": "https://api.github.com/users/omoindrot/following{/other_user}", "gists_url": "https://api.github.com/users/omoindrot/gists{/gist_id}", "starred_url": "https://api.github.com/users/omoindrot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omoindrot/subscriptions", "organizations_url": "https://api.github.com/users/omoindrot/orgs", "repos_url": "https://api.github.com/users/omoindrot/repos", "events_url": "https://api.github.com/users/omoindrot/events{/privacy}", "received_events_url": "https://api.github.com/users/omoindrot/received_events", "type": "User", "site_admin": false}, "body": "The only difference would be in using `type(...) is tuple` or `isinstance(..., tuple)`.\r\n\r\nI guess using `type` makes more sense here since users could pass an object inheriting from tuple that shouldn't be expanded.", "created_at": "2018-09-24T16:39:46Z", "updated_at": "2018-09-24T16:39:46Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/22405#discussion_r219905740", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/22405", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/219905740"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/22405#discussion_r219905740"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/22405"}}, "body_html": "<p>The only difference would be in using <code>type(...) is tuple</code> or <code>isinstance(..., tuple)</code>.</p>\n<p>I guess using <code>type</code> makes more sense here since users could pass an object inheriting from tuple that shouldn't be expanded.</p>", "body_text": "The only difference would be in using type(...) is tuple or isinstance(..., tuple).\nI guess using type makes more sense here since users could pass an object inheriting from tuple that shouldn't be expanded.", "in_reply_to_id": 219856206}