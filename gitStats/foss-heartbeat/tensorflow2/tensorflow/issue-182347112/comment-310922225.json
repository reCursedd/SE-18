{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/310922225", "html_url": "https://github.com/tensorflow/tensorflow/issues/4897#issuecomment-310922225", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4897", "id": 310922225, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDkyMjIyNQ==", "user": {"login": "sitzikbs", "id": 13794171, "node_id": "MDQ6VXNlcjEzNzk0MTcx", "avatar_url": "https://avatars2.githubusercontent.com/u/13794171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sitzikbs", "html_url": "https://github.com/sitzikbs", "followers_url": "https://api.github.com/users/sitzikbs/followers", "following_url": "https://api.github.com/users/sitzikbs/following{/other_user}", "gists_url": "https://api.github.com/users/sitzikbs/gists{/gist_id}", "starred_url": "https://api.github.com/users/sitzikbs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sitzikbs/subscriptions", "organizations_url": "https://api.github.com/users/sitzikbs/orgs", "repos_url": "https://api.github.com/users/sitzikbs/repos", "events_url": "https://api.github.com/users/sitzikbs/events{/privacy}", "received_events_url": "https://api.github.com/users/sitzikbs/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-25T19:18:52Z", "updated_at": "2017-06-25T19:30:36Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=387866\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/goodfeli\">@goodfeli</a> , how would the code given above change if I wish to get the gradient between in a specific layer? (that is, between the output of the layer and the weights at the input of the layer)</p>\n<blockquote>\n<p>examples = tf.split(batch)<br>\nweight_copies = [tf.identity(weights) for x in examples]<br>\noutput = tf.stack(f(x, w) in zip(examples, weight_copies))<br>\ncost = cost_function(output)<br>\nper_example_gradients = tf.gradients(cost, weight_copies)</p>\n</blockquote>", "body_text": "@goodfeli , how would the code given above change if I wish to get the gradient between in a specific layer? (that is, between the output of the layer and the weights at the input of the layer)\n\nexamples = tf.split(batch)\nweight_copies = [tf.identity(weights) for x in examples]\noutput = tf.stack(f(x, w) in zip(examples, weight_copies))\ncost = cost_function(output)\nper_example_gradients = tf.gradients(cost, weight_copies)", "body": "@goodfeli , how would the code given above change if I wish to get the gradient between in a specific layer? (that is, between the output of the layer and the weights at the input of the layer)\r\n\r\n> examples = tf.split(batch)\r\nweight_copies = [tf.identity(weights) for x in examples]\r\noutput = tf.stack(f(x, w) in zip(examples, weight_copies))\r\ncost = cost_function(output)\r\nper_example_gradients = tf.gradients(cost, weight_copies)"}