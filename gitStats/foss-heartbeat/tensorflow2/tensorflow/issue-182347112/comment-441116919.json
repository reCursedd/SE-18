{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/441116919", "html_url": "https://github.com/tensorflow/tensorflow/issues/4897#issuecomment-441116919", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4897", "id": 441116919, "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTExNjkxOQ==", "user": {"login": "Lockenlui", "id": 41005865, "node_id": "MDQ6VXNlcjQxMDA1ODY1", "avatar_url": "https://avatars1.githubusercontent.com/u/41005865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lockenlui", "html_url": "https://github.com/Lockenlui", "followers_url": "https://api.github.com/users/Lockenlui/followers", "following_url": "https://api.github.com/users/Lockenlui/following{/other_user}", "gists_url": "https://api.github.com/users/Lockenlui/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lockenlui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lockenlui/subscriptions", "organizations_url": "https://api.github.com/users/Lockenlui/orgs", "repos_url": "https://api.github.com/users/Lockenlui/repos", "events_url": "https://api.github.com/users/Lockenlui/events{/privacy}", "received_events_url": "https://api.github.com/users/Lockenlui/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-22T20:39:28Z", "updated_at": "2018-11-22T20:41:14Z", "author_association": "NONE", "body_html": "<blockquote>\n<p>This is only pseudocode, but basic idea is: examples = tf.split(batch) weight_copies = [tf.identity(weights) for x in examples] output = tf.stack(f(x, w) in zip(examples, weight_copies)) cost = cost_function(output) per_example_gradients = tf.gradients(cost, weight_copies)</p>\n</blockquote>\n<p>Can somebody please elaborate the pseudo code given by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=387866\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/goodfeli\">@goodfeli</a> a little bit more. A small example for a tiny MLP would be very nice!</p>", "body_text": "This is only pseudocode, but basic idea is: examples = tf.split(batch) weight_copies = [tf.identity(weights) for x in examples] output = tf.stack(f(x, w) in zip(examples, weight_copies)) cost = cost_function(output) per_example_gradients = tf.gradients(cost, weight_copies)\n\nCan somebody please elaborate the pseudo code given by @goodfeli a little bit more. A small example for a tiny MLP would be very nice!", "body": "> \r\n> This is only pseudocode, but basic idea is: examples = tf.split(batch) weight_copies = [tf.identity(weights) for x in examples] output = tf.stack(f(x, w) in zip(examples, weight_copies)) cost = cost_function(output) per_example_gradients = tf.gradients(cost, weight_copies)\r\n\r\nCan somebody please elaborate the pseudo code given by @goodfeli a little bit more. A small example for a tiny MLP would be very nice!"}