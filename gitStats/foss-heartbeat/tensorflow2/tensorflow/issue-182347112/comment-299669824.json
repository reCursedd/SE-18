{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/299669824", "html_url": "https://github.com/tensorflow/tensorflow/issues/4897#issuecomment-299669824", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4897", "id": 299669824, "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTY2OTgyNA==", "user": {"login": "shoyer", "id": 1217238, "node_id": "MDQ6VXNlcjEyMTcyMzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shoyer", "html_url": "https://github.com/shoyer", "followers_url": "https://api.github.com/users/shoyer/followers", "following_url": "https://api.github.com/users/shoyer/following{/other_user}", "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions", "organizations_url": "https://api.github.com/users/shoyer/orgs", "repos_url": "https://api.github.com/users/shoyer/repos", "events_url": "https://api.github.com/users/shoyer/events{/privacy}", "received_events_url": "https://api.github.com/users/shoyer/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-06T22:31:06Z", "updated_at": "2017-05-06T22:58:28Z", "author_association": "MEMBER", "body_html": "<p>See <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"124740366\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/675\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/675/hovercard?comment_id=299669705&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/675#issuecomment-299669705\">#675 (comment)</a> for a proposal for <code>tf.jacobian</code>.</p>\n<p>I'm not sure this is exactly the issue discussed here, but I'll just note how I solved my use-case for \"per example gradients\" using the helper function in the linked comment. With scalar input/output <code>jacobian(outputs, inputs)</code> calculates the right result. For batched inputs/outputs, <code>jacobian(tf.reduce_sum(outputs, 0), inputs)</code> gives me the result I'm looking for, because each inputs example only effects the corresponding entry in outputs, so the other entries get dropped out when differentiating the sum.</p>", "body_text": "See #675 (comment) for a proposal for tf.jacobian.\nI'm not sure this is exactly the issue discussed here, but I'll just note how I solved my use-case for \"per example gradients\" using the helper function in the linked comment. With scalar input/output jacobian(outputs, inputs) calculates the right result. For batched inputs/outputs, jacobian(tf.reduce_sum(outputs, 0), inputs) gives me the result I'm looking for, because each inputs example only effects the corresponding entry in outputs, so the other entries get dropped out when differentiating the sum.", "body": "See https://github.com/tensorflow/tensorflow/issues/675#issuecomment-299669705 for a proposal for `tf.jacobian`.\r\n\r\nI'm not sure this is exactly the issue discussed here, but I'll just note how I solved my use-case for \"per example gradients\" using the helper function in the linked comment. With scalar input/output `jacobian(outputs, inputs)` calculates the right result. For batched inputs/outputs, `jacobian(tf.reduce_sum(outputs, 0), inputs)` gives me the result I'm looking for, because each inputs example only effects the corresponding entry in outputs, so the other entries get dropped out when differentiating the sum."}