{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/290446878", "html_url": "https://github.com/tensorflow/tensorflow/pull/8650#issuecomment-290446878", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8650", "id": 290446878, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDQ0Njg3OA==", "user": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-30T15:27:12Z", "updated_at": "2017-03-30T15:27:37Z", "author_association": "MEMBER", "body_html": "<p>The embedding_ops_test fails in python3 because the code uses xrange instead of range:</p>\n<pre><code>FAIL: //tensorflow/contrib/layers:embedding_ops_test (see /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/testlogs/tensorflow/contrib/layers/embedding_ops_test/test.log).\nINFO: From Testing //tensorflow/contrib/layers:embedding_ops_test:\n==================== Test output for //tensorflow/contrib/layers:embedding_ops_test:\n2017-03-29 22:09:06.648837: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\n2017-03-29 22:09:06.648870: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-03-29 22:09:06.648874: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2017-03-29 22:09:06.648876: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-03-29 22:09:06.648879: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\nEE../var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/partitioned_variables.py:280: DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead\n  \"create_partitioned_variables is deprecated.  Use \"\nWARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\n/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:96: DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead\n  logging.warn(\"The default value of combiner will change from \\\"mean\\\" \"\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n........WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n../var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/embedding_ops.py:95: DeprecationWarning: elementwise == comparison failed; this will raise an error in the future.\n  if params is None or params == []:  # pylint: disable=g-explicit-bool-comparison\n./var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/embedding_ops.py:95: DeprecationWarning: elementwise == comparison failed; this will raise an error in the future.\n  if params is None or params == []:  # pylint: disable=g-explicit-bool-comparison\n./var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/partitioned_variables.py:280: DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead\n  \"create_partitioned_variables is deprecated.  Use \"\nWARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n..\n======================================================================\nERROR: testEmbeddingLookupSparse (__main__.EmbeddingLookupSparseWithDistributedAggregationTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops_test.py\", line 722, in testEmbeddingLookupSparse\n    combiner=combiner)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 640, in embedding_lookup_sparse_with_distributed_aggregation\n    weights=weights, idx=idx, segment_ids=segment_ids)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 784, in _embedding_lookup_with_distributed_aggregation\n    for p in xrange(np):\nNameError: name 'xrange' is not defined\n\n======================================================================\nERROR: testGradientsEmbeddingLookupSparse (__main__.EmbeddingLookupSparseWithDistributedAggregationTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops_test.py\", line 761, in testGradientsEmbeddingLookupSparse\n    combiner=combiner)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 640, in embedding_lookup_sparse_with_distributed_aggregation\n    weights=weights, idx=idx, segment_ids=segment_ids)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 784, in _embedding_lookup_with_distributed_aggregation\n    for p in xrange(np):\nNameError: name 'xrange' is not defined\n\n----------------------------------------------------------------------\nRan 32 tests in 6.352s\n\nFAILED (errors=2)\n================================================================================\n</code></pre>", "body_text": "The embedding_ops_test fails in python3 because the code uses xrange instead of range:\nFAIL: //tensorflow/contrib/layers:embedding_ops_test (see /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/testlogs/tensorflow/contrib/layers/embedding_ops_test/test.log).\nINFO: From Testing //tensorflow/contrib/layers:embedding_ops_test:\n==================== Test output for //tensorflow/contrib/layers:embedding_ops_test:\n2017-03-29 22:09:06.648837: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\n2017-03-29 22:09:06.648870: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-03-29 22:09:06.648874: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n2017-03-29 22:09:06.648876: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\n2017-03-29 22:09:06.648879: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\nEE../var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/partitioned_variables.py:280: DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead\n  \"create_partitioned_variables is deprecated.  Use \"\nWARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\n/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:96: DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead\n  logging.warn(\"The default value of combiner will change from \\\"mean\\\" \"\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\n........WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n../var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/embedding_ops.py:95: DeprecationWarning: elementwise == comparison failed; this will raise an error in the future.\n  if params is None or params == []:  # pylint: disable=g-explicit-bool-comparison\n./var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/embedding_ops.py:95: DeprecationWarning: elementwise == comparison failed; this will raise an error in the future.\n  if params is None or params == []:  # pylint: disable=g-explicit-bool-comparison\n./var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/partitioned_variables.py:280: DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead\n  \"create_partitioned_variables is deprecated.  Use \"\nWARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\nInstructions for updating:\nThe default behavior of sparse_feature_cross is changing, the default\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\nFrom that point on sparse_feature_cross will always use FingerprintCat64\nto concatenate the feature fingerprints. And the underlying\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\nas deprecated.\n..\n======================================================================\nERROR: testEmbeddingLookupSparse (__main__.EmbeddingLookupSparseWithDistributedAggregationTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops_test.py\", line 722, in testEmbeddingLookupSparse\n    combiner=combiner)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 640, in embedding_lookup_sparse_with_distributed_aggregation\n    weights=weights, idx=idx, segment_ids=segment_ids)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 784, in _embedding_lookup_with_distributed_aggregation\n    for p in xrange(np):\nNameError: name 'xrange' is not defined\n\n======================================================================\nERROR: testGradientsEmbeddingLookupSparse (__main__.EmbeddingLookupSparseWithDistributedAggregationTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops_test.py\", line 761, in testGradientsEmbeddingLookupSparse\n    combiner=combiner)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 640, in embedding_lookup_sparse_with_distributed_aggregation\n    weights=weights, idx=idx, segment_ids=segment_ids)\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 784, in _embedding_lookup_with_distributed_aggregation\n    for p in xrange(np):\nNameError: name 'xrange' is not defined\n\n----------------------------------------------------------------------\nRan 32 tests in 6.352s\n\nFAILED (errors=2)\n================================================================================", "body": "The embedding_ops_test fails in python3 because the code uses xrange instead of range:\r\n\r\n```\r\nFAIL: //tensorflow/contrib/layers:embedding_ops_test (see /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/testlogs/tensorflow/contrib/layers/embedding_ops_test/test.log).\r\nINFO: From Testing //tensorflow/contrib/layers:embedding_ops_test:\r\n==================== Test output for //tensorflow/contrib/layers:embedding_ops_test:\r\n2017-03-29 22:09:06.648837: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-03-29 22:09:06.648870: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-03-29 22:09:06.648874: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-03-29 22:09:06.648876: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-03-29 22:09:06.648879: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\nEE../var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/partitioned_variables.py:280: DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead\r\n  \"create_partitioned_variables is deprecated.  Use \"\r\nWARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\n/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:96: DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead\r\n  logging.warn(\"The default value of combiner will change from \\\"mean\\\" \"\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:The default value of combiner will change from \"mean\" to \"sqrtn\" after 2016/11/01.\r\n........WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\r\nInstructions for updating:\r\nThe default behavior of sparse_feature_cross is changing, the default\r\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\r\nFrom that point on sparse_feature_cross will always use FingerprintCat64\r\nto concatenate the feature fingerprints. And the underlying\r\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\r\nas deprecated.\r\n../var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/embedding_ops.py:95: DeprecationWarning: elementwise == comparison failed; this will raise an error in the future.\r\n  if params is None or params == []:  # pylint: disable=g-explicit-bool-comparison\r\n./var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/embedding_ops.py:95: DeprecationWarning: elementwise == comparison failed; this will raise an error in the future.\r\n  if params is None or params == []:  # pylint: disable=g-explicit-bool-comparison\r\n./var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/partitioned_variables.py:280: DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead\r\n  \"create_partitioned_variables is deprecated.  Use \"\r\nWARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\r\nInstructions for updating:\r\nThe default behavior of sparse_feature_cross is changing, the default\r\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\r\nFrom that point on sparse_feature_cross will always use FingerprintCat64\r\nto concatenate the feature fingerprints. And the underlying\r\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\r\nas deprecated.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\r\nInstructions for updating:\r\nThe default behavior of sparse_feature_cross is changing, the default\r\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\r\nFrom that point on sparse_feature_cross will always use FingerprintCat64\r\nto concatenate the feature fingerprints. And the underlying\r\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\r\nas deprecated.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\r\nInstructions for updating:\r\nThe default behavior of sparse_feature_cross is changing, the default\r\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\r\nFrom that point on sparse_feature_cross will always use FingerprintCat64\r\nto concatenate the feature fingerprints. And the underlying\r\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\r\nas deprecated.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\r\nInstructions for updating:\r\nThe default behavior of sparse_feature_cross is changing, the default\r\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\r\nFrom that point on sparse_feature_cross will always use FingerprintCat64\r\nto concatenate the feature fingerprints. And the underlying\r\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\r\nas deprecated.\r\n.WARNING:tensorflow:create_partitioned_variables is deprecated.  Use tf.get_variable with a partitioner set, or tf.get_partitioned_variable_list, instead.\r\nWARNING:tensorflow:From /var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py:344: calling sparse_feature_cross (from tensorflow.contrib.layers.python.ops.sparse_feature_cross_op) with hash_key=None is deprecated and will be removed after 2016-11-20.\r\nInstructions for updating:\r\nThe default behavior of sparse_feature_cross is changing, the default\r\nvalue for hash_key will change to SPARSE_FEATURE_CROSS_DEFAULT_HASH_KEY.\r\nFrom that point on sparse_feature_cross will always use FingerprintCat64\r\nto concatenate the feature fingerprints. And the underlying\r\n_sparse_feature_cross_op.sparse_feature_cross operation will be marked\r\nas deprecated.\r\n..\r\n======================================================================\r\nERROR: testEmbeddingLookupSparse (__main__.EmbeddingLookupSparseWithDistributedAggregationTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops_test.py\", line 722, in testEmbeddingLookupSparse\r\n    combiner=combiner)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 640, in embedding_lookup_sparse_with_distributed_aggregation\r\n    weights=weights, idx=idx, segment_ids=segment_ids)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 784, in _embedding_lookup_with_distributed_aggregation\r\n    for p in xrange(np):\r\nNameError: name 'xrange' is not defined\r\n\r\n======================================================================\r\nERROR: testGradientsEmbeddingLookupSparse (__main__.EmbeddingLookupSparseWithDistributedAggregationTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops_test.py\", line 761, in testGradientsEmbeddingLookupSparse\r\n    combiner=combiner)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 640, in embedding_lookup_sparse_with_distributed_aggregation\r\n    weights=weights, idx=idx, segment_ids=segment_ids)\r\n  File \"/var/lib/jenkins/workspace/tensorflow-pull-requests-cpu-python3/bazel-ci_build-cache/.cache/bazel/_bazel_jenkins/eab0d61a99b6696edb3d2aff87b585e8/execroot/workspace/bazel-out/local-py3-opt/bin/tensorflow/contrib/layers/embedding_ops_test.runfiles/org_tensorflow/tensorflow/contrib/layers/python/layers/embedding_ops.py\", line 784, in _embedding_lookup_with_distributed_aggregation\r\n    for p in xrange(np):\r\nNameError: name 'xrange' is not defined\r\n\r\n----------------------------------------------------------------------\r\nRan 32 tests in 6.352s\r\n\r\nFAILED (errors=2)\r\n================================================================================\r\n```"}