{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7035", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7035/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7035/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7035/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7035", "id": 202807559, "node_id": "MDU6SXNzdWUyMDI4MDc1NTk=", "number": 7035, "title": "Build with --config==cuda just runs fine, with --config== fails over and over", "user": {"login": "StevenPuttemans", "id": 4621239, "node_id": "MDQ6VXNlcjQ2MjEyMzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/4621239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StevenPuttemans", "html_url": "https://github.com/StevenPuttemans", "followers_url": "https://api.github.com/users/StevenPuttemans/followers", "following_url": "https://api.github.com/users/StevenPuttemans/following{/other_user}", "gists_url": "https://api.github.com/users/StevenPuttemans/gists{/gist_id}", "starred_url": "https://api.github.com/users/StevenPuttemans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StevenPuttemans/subscriptions", "organizations_url": "https://api.github.com/users/StevenPuttemans/orgs", "repos_url": "https://api.github.com/users/StevenPuttemans/repos", "events_url": "https://api.github.com/users/StevenPuttemans/events{/privacy}", "received_events_url": "https://api.github.com/users/StevenPuttemans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2017-01-24T12:40:45Z", "updated_at": "2017-01-27T09:15:33Z", "closed_at": "2017-01-27T09:15:33Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04 64 bit</p>\n<p>Installed version of CUDA and cuDNN: Cuda7.5, CuDNN 7.5<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<pre><code>spu@TOBCAT:~$ ls -l /usr/local/cuda-7.5/lib/libcud*\n-rw-r--r-- 1 root root 189170 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart.so -&gt; libcudart.so.7.5\nlrwxrwxrwx 1 root root     19 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart.so.7.5 -&gt; libcudart.so.7.5.18\n-rwxr-xr-x 1 root root 311596 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart.so.7.5.18\n-rw-r--r-- 1 root root 558020 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart_static.a\n</code></pre>\n<p>I tried following the <code>build from sources</code> directives from <code>https://www.tensorflow.org/get_started/os_setup#installing_from_sources</code> but as soon as I get to the command <code>bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</code> i get the following issues</p>\n<pre><code>spu@TOBCAT:~/Frameworks/deeplearning/tensorflow$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nINFO: Found 1 target...\nERROR: /home/spu/.cache/bazel/_bazel_spu/d4f375c9af64c0d3baa31a5949dd9b54/external/protobuf/BUILD:113:1: C++ compilation of rule '@protobuf//:protobuf' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 43 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ngcc: error trying to exec 'cc1plus': execvp: No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 3.875s, Critical Path: 1.50s\n</code></pre>\n<p>Went googling for possible related issues, but none of the suggestions seem to work out. Using Tensorflow without CUDA seems to kill the reason why I am willing to use Tensorflow in the first place ...</p>", "body_text": "Environment info\nOperating System: Ubuntu 14.04 64 bit\nInstalled version of CUDA and cuDNN: Cuda7.5, CuDNN 7.5\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nspu@TOBCAT:~$ ls -l /usr/local/cuda-7.5/lib/libcud*\n-rw-r--r-- 1 root root 189170 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root     19 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root 311596 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart.so.7.5.18\n-rw-r--r-- 1 root root 558020 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart_static.a\n\nI tried following the build from sources directives from https://www.tensorflow.org/get_started/os_setup#installing_from_sources but as soon as I get to the command bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package i get the following issues\nspu@TOBCAT:~/Frameworks/deeplearning/tensorflow$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nINFO: Found 1 target...\nERROR: /home/spu/.cache/bazel/_bazel_spu/d4f375c9af64c0d3baa31a5949dd9b54/external/protobuf/BUILD:113:1: C++ compilation of rule '@protobuf//:protobuf' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 43 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ngcc: error trying to exec 'cc1plus': execvp: No such file or directory\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 3.875s, Critical Path: 1.50s\n\nWent googling for possible related issues, but none of the suggestions seem to work out. Using Tensorflow without CUDA seems to kill the reason why I am willing to use Tensorflow in the first place ...", "body": "### Environment info\r\nOperating System: Ubuntu 14.04 64 bit\r\n\r\nInstalled version of CUDA and cuDNN: Cuda7.5, CuDNN 7.5\r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\n```\r\nspu@TOBCAT:~$ ls -l /usr/local/cuda-7.5/lib/libcud*\r\n-rw-r--r-- 1 root root 189170 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudadevrt.a\r\nlrwxrwxrwx 1 root root     16 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart.so -> libcudart.so.7.5\r\nlrwxrwxrwx 1 root root     19 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart.so.7.5 -> libcudart.so.7.5.18\r\n-rwxr-xr-x 1 root root 311596 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart.so.7.5.18\r\n-rw-r--r-- 1 root root 558020 Aug  8 16:03 /usr/local/cuda-7.5/lib/libcudart_static.a\r\n```\r\n\r\nI tried following the `build from sources` directives from `https://www.tensorflow.org/get_started/os_setup#installing_from_sources` but as soon as I get to the command `bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package` i get the following issues\r\n\r\n```\r\nspu@TOBCAT:~/Frameworks/deeplearning/tensorflow$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\nINFO: Found 1 target...\r\nERROR: /home/spu/.cache/bazel/_bazel_spu/d4f375c9af64c0d3baa31a5949dd9b54/external/protobuf/BUILD:113:1: C++ compilation of rule '@protobuf//:protobuf' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 43 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\ngcc: error trying to exec 'cc1plus': execvp: No such file or directory\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 3.875s, Critical Path: 1.50s\r\n```\r\n\r\nWent googling for possible related issues, but none of the suggestions seem to work out. Using Tensorflow without CUDA seems to kill the reason why I am willing to use Tensorflow in the first place ..."}