{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12849", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12849/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12849/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12849/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12849", "id": 255580652, "node_id": "MDU6SXNzdWUyNTU1ODA2NTI=", "number": 12849, "title": "Unable to compile TF 1.3 from source using full MKL", "user": {"login": "qtdaniel", "id": 21170884, "node_id": "MDQ6VXNlcjIxMTcwODg0", "avatar_url": "https://avatars2.githubusercontent.com/u/21170884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qtdaniel", "html_url": "https://github.com/qtdaniel", "followers_url": "https://api.github.com/users/qtdaniel/followers", "following_url": "https://api.github.com/users/qtdaniel/following{/other_user}", "gists_url": "https://api.github.com/users/qtdaniel/gists{/gist_id}", "starred_url": "https://api.github.com/users/qtdaniel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qtdaniel/subscriptions", "organizations_url": "https://api.github.com/users/qtdaniel/orgs", "repos_url": "https://api.github.com/users/qtdaniel/repos", "events_url": "https://api.github.com/users/qtdaniel/events{/privacy}", "received_events_url": "https://api.github.com/users/qtdaniel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-09-06T12:07:55Z", "updated_at": "2017-09-08T11:34:00Z", "closed_at": "2017-09-08T11:34:00Z", "author_association": "NONE", "body_html": "<p>Steps to reproduce:</p>\n<pre><code>git clone https://github.com/tensorflow/tensorflow.git test\ncd test\ngit checkout r1.3\nyes \"\" | TF_NEED_CUDA=0 TF_NEED_MKL=1 TF_DOWNLOAD_MKL=0 MKL_INSTALL_PATH=&lt;path&gt;/l_mkl_2017.3.196/inst/mkl ./configure\nbazel build --config=mkl -c opt --verbose_failures //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>OS version: Ubuntu Linux 14.04<br>\nBazel version: 0.5.3</p>\n<p>Error message:</p>\n<pre><code>ERROR: missing input file '//third_party/mkl:libmklml_intel.so'\nERROR: &lt;path&gt;/tensorflow/test/third_party/mkl/BUILD:16:1: //third_party/mkl:intel_binary_blob: missing input file '//third_party/mkl:libmklml_intel.so'\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nERROR: &lt;path&gt;/tensorflow/test/third_party/mkl/BUILD:16:1 1 input file(s) do not exist\n</code></pre>\n<p>The <code>configure</code> script is creating symlinks in <code>third_party/mkl/</code> for <code>libmkl_rt.so</code> (<a href=\"https://github.com/tensorflow/tensorflow/blob/r1.3/configure#L260\">see here</a>), which is fine, but not for <code>libmklml_intel.so</code> (<a href=\"https://github.com/tensorflow/tensorflow/blob/r1.3/configure#L264\">see here</a>), which doesn't exist in the full MKL distribution. However <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.3/third_party/mkl/BUILD#L20\"><code>third_party/mkl/BUILD</code> references <code>libmklml_intel.so</code></a>. Is this a bug or is use of the full MKL library not supported in TensorFlow 1.3?</p>", "body_text": "Steps to reproduce:\ngit clone https://github.com/tensorflow/tensorflow.git test\ncd test\ngit checkout r1.3\nyes \"\" | TF_NEED_CUDA=0 TF_NEED_MKL=1 TF_DOWNLOAD_MKL=0 MKL_INSTALL_PATH=<path>/l_mkl_2017.3.196/inst/mkl ./configure\nbazel build --config=mkl -c opt --verbose_failures //tensorflow/tools/pip_package:build_pip_package\n\nOS version: Ubuntu Linux 14.04\nBazel version: 0.5.3\nError message:\nERROR: missing input file '//third_party/mkl:libmklml_intel.so'\nERROR: <path>/tensorflow/test/third_party/mkl/BUILD:16:1: //third_party/mkl:intel_binary_blob: missing input file '//third_party/mkl:libmklml_intel.so'\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nERROR: <path>/tensorflow/test/third_party/mkl/BUILD:16:1 1 input file(s) do not exist\n\nThe configure script is creating symlinks in third_party/mkl/ for libmkl_rt.so (see here), which is fine, but not for libmklml_intel.so (see here), which doesn't exist in the full MKL distribution. However third_party/mkl/BUILD references libmklml_intel.so. Is this a bug or is use of the full MKL library not supported in TensorFlow 1.3?", "body": "Steps to reproduce:\r\n\r\n    git clone https://github.com/tensorflow/tensorflow.git test\r\n    cd test\r\n    git checkout r1.3\r\n    yes \"\" | TF_NEED_CUDA=0 TF_NEED_MKL=1 TF_DOWNLOAD_MKL=0 MKL_INSTALL_PATH=<path>/l_mkl_2017.3.196/inst/mkl ./configure\r\n    bazel build --config=mkl -c opt --verbose_failures //tensorflow/tools/pip_package:build_pip_package\r\n\r\nOS version: Ubuntu Linux 14.04\r\nBazel version: 0.5.3\r\n\r\nError message:\r\n\r\n    ERROR: missing input file '//third_party/mkl:libmklml_intel.so'\r\n    ERROR: <path>/tensorflow/test/third_party/mkl/BUILD:16:1: //third_party/mkl:intel_binary_blob: missing input file '//third_party/mkl:libmklml_intel.so'\r\n    Target //tensorflow/tools/pip_package:build_pip_package failed to build\r\n    ERROR: <path>/tensorflow/test/third_party/mkl/BUILD:16:1 1 input file(s) do not exist\r\n\r\nThe `configure` script is creating symlinks in `third_party/mkl/` for `libmkl_rt.so` ([see here](https://github.com/tensorflow/tensorflow/blob/r1.3/configure#L260)), which is fine, but not for `libmklml_intel.so` ([see here](https://github.com/tensorflow/tensorflow/blob/r1.3/configure#L264)), which doesn't exist in the full MKL distribution. However [`third_party/mkl/BUILD` references `libmklml_intel.so`](https://github.com/tensorflow/tensorflow/blob/r1.3/third_party/mkl/BUILD#L20). Is this a bug or is use of the full MKL library not supported in TensorFlow 1.3?"}