{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21440", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21440/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21440/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21440/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21440", "id": 348258948, "node_id": "MDU6SXNzdWUzNDgyNTg5NDg=", "number": 21440, "title": "Feature request : Allow variable (None) input_shape for Tflite toco", "user": {"login": "Kayoku", "id": 14290069, "node_id": "MDQ6VXNlcjE0MjkwMDY5", "avatar_url": "https://avatars3.githubusercontent.com/u/14290069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kayoku", "html_url": "https://github.com/Kayoku", "followers_url": "https://api.github.com/users/Kayoku/followers", "following_url": "https://api.github.com/users/Kayoku/following{/other_user}", "gists_url": "https://api.github.com/users/Kayoku/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kayoku/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kayoku/subscriptions", "organizations_url": "https://api.github.com/users/Kayoku/orgs", "repos_url": "https://api.github.com/users/Kayoku/repos", "events_url": "https://api.github.com/users/Kayoku/events{/privacy}", "received_events_url": "https://api.github.com/users/Kayoku/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "miaout17", "id": 22063, "node_id": "MDQ6VXNlcjIyMDYz", "avatar_url": "https://avatars0.githubusercontent.com/u/22063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miaout17", "html_url": "https://github.com/miaout17", "followers_url": "https://api.github.com/users/miaout17/followers", "following_url": "https://api.github.com/users/miaout17/following{/other_user}", "gists_url": "https://api.github.com/users/miaout17/gists{/gist_id}", "starred_url": "https://api.github.com/users/miaout17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miaout17/subscriptions", "organizations_url": "https://api.github.com/users/miaout17/orgs", "repos_url": "https://api.github.com/users/miaout17/repos", "events_url": "https://api.github.com/users/miaout17/events{/privacy}", "received_events_url": "https://api.github.com/users/miaout17/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "miaout17", "id": 22063, "node_id": "MDQ6VXNlcjIyMDYz", "avatar_url": "https://avatars0.githubusercontent.com/u/22063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miaout17", "html_url": "https://github.com/miaout17", "followers_url": "https://api.github.com/users/miaout17/followers", "following_url": "https://api.github.com/users/miaout17/following{/other_user}", "gists_url": "https://api.github.com/users/miaout17/gists{/gist_id}", "starred_url": "https://api.github.com/users/miaout17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miaout17/subscriptions", "organizations_url": "https://api.github.com/users/miaout17/orgs", "repos_url": "https://api.github.com/users/miaout17/repos", "events_url": "https://api.github.com/users/miaout17/events{/privacy}", "received_events_url": "https://api.github.com/users/miaout17/received_events", "type": "User", "site_admin": false}, {"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-08-07T10:21:42Z", "updated_at": "2018-09-21T19:26:15Z", "closed_at": "2018-09-21T19:26:15Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<ul>\n<li>Have I written custom code: <strong>NO</strong></li>\n<li>OS Platform and Distribution: <strong>Ubuntu 18.0.4 LTS</strong></li>\n<li>TensorFlow installed from: <strong>Github 1.9 release branch</strong></li>\n<li>TensorFlow version: <strong>1.9</strong></li>\n<li>Bazel version: <strong>0.16.0</strong></li>\n<li>CUDA/cuDNN version: <strong>9.1 / 7.0</strong></li>\n<li>GPU model and memory: <strong>GTX 1070 Ti, 8 Go</strong></li>\n<li>Exact command to reproduce: <strong>see below</strong></li>\n</ul>\n<p>I'm working on a FCN (Fully Convolutional Network <a href=\"https://people.eecs.berkeley.edu/~jonlong/long_shelhamer_fcn.pdf\" rel=\"nofollow\">https://people.eecs.berkeley.edu/~jonlong/long_shelhamer_fcn.pdf</a>) and wanted to make it work on mobile. The advantage of this type of network is that we can use any dimensions as input, the network still work. (for example, an image 512x512 or 512x384 or 612x358...)</p>\n<p>TfLite allow us to convert a freezed graph (.pb) to Tflite format (.tflite), but we need to put a fixed size for \"input_shape\".</p>\n<p>bazel-bin/tensorflow/contrib/lite/toco/toco --input_file=frozen.pb --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --output_file=/tmp/test.tflite --inference_input_type=FLOAT --input_arrays=input_image --output_arrays=output_image --input_shapes=\"1,<strong>384,512</strong>,3\"</p>\n<p>And this what I would like:</p>\n<p>bazel-bin/tensorflow/contrib/lite/toco/toco --input_file=frozen.pb --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --output_file=/tmp/test.tflite --inference_input_type=FLOAT --input_arrays=input_image --output_arrays=output_image --input_shapes=\"1,<strong>None,None</strong>,3\"</p>\n<p>I'm wondering if anyone is working on this feature, because I think it can be very useful for a lot of people.</p>\n<p>Thank you for your time, and sorry if I duplicate any thread, I didn't find this feature request.</p>", "body_text": "Hi,\n\nHave I written custom code: NO\nOS Platform and Distribution: Ubuntu 18.0.4 LTS\nTensorFlow installed from: Github 1.9 release branch\nTensorFlow version: 1.9\nBazel version: 0.16.0\nCUDA/cuDNN version: 9.1 / 7.0\nGPU model and memory: GTX 1070 Ti, 8 Go\nExact command to reproduce: see below\n\nI'm working on a FCN (Fully Convolutional Network https://people.eecs.berkeley.edu/~jonlong/long_shelhamer_fcn.pdf) and wanted to make it work on mobile. The advantage of this type of network is that we can use any dimensions as input, the network still work. (for example, an image 512x512 or 512x384 or 612x358...)\nTfLite allow us to convert a freezed graph (.pb) to Tflite format (.tflite), but we need to put a fixed size for \"input_shape\".\nbazel-bin/tensorflow/contrib/lite/toco/toco --input_file=frozen.pb --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --output_file=/tmp/test.tflite --inference_input_type=FLOAT --input_arrays=input_image --output_arrays=output_image --input_shapes=\"1,384,512,3\"\nAnd this what I would like:\nbazel-bin/tensorflow/contrib/lite/toco/toco --input_file=frozen.pb --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --output_file=/tmp/test.tflite --inference_input_type=FLOAT --input_arrays=input_image --output_arrays=output_image --input_shapes=\"1,None,None,3\"\nI'm wondering if anyone is working on this feature, because I think it can be very useful for a lot of people.\nThank you for your time, and sorry if I duplicate any thread, I didn't find this feature request.", "body": "Hi,\r\n\r\n- Have I written custom code: **NO**\r\n- OS Platform and Distribution: **Ubuntu 18.0.4 LTS**\r\n- TensorFlow installed from: **Github 1.9 release branch**\r\n- TensorFlow version: **1.9**\r\n- Bazel version: **0.16.0**\r\n- CUDA/cuDNN version: **9.1 / 7.0**\r\n- GPU model and memory: **GTX 1070 Ti, 8 Go**\r\n- Exact command to reproduce: **see below**\r\n\r\nI'm working on a FCN (Fully Convolutional Network https://people.eecs.berkeley.edu/~jonlong/long_shelhamer_fcn.pdf) and wanted to make it work on mobile. The advantage of this type of network is that we can use any dimensions as input, the network still work. (for example, an image 512x512 or 512x384 or 612x358...)\r\n\r\nTfLite allow us to convert a freezed graph (.pb) to Tflite format (.tflite), but we need to put a fixed size for \"input_shape\".\r\n\r\n bazel-bin/tensorflow/contrib/lite/toco/toco --input_file=frozen.pb --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --output_file=/tmp/test.tflite --inference_input_type=FLOAT --input_arrays=input_image --output_arrays=output_image --input_shapes=\"1,**384,512**,3\"\r\n\r\nAnd this what I would like:\r\n\r\n bazel-bin/tensorflow/contrib/lite/toco/toco --input_file=frozen.pb --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --output_file=/tmp/test.tflite --inference_input_type=FLOAT --input_arrays=input_image --output_arrays=output_image --input_shapes=\"1,**None,None**,3\"\r\n\r\nI'm wondering if anyone is working on this feature, because I think it can be very useful for a lot of people.\r\n\r\nThank you for your time, and sorry if I duplicate any thread, I didn't find this feature request."}