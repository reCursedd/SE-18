{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/304904668", "html_url": "https://github.com/tensorflow/tensorflow/issues/10277#issuecomment-304904668", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10277", "id": 304904668, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDkwNDY2OA==", "user": {"login": "osdamv", "id": 4120796, "node_id": "MDQ6VXNlcjQxMjA3OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4120796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osdamv", "html_url": "https://github.com/osdamv", "followers_url": "https://api.github.com/users/osdamv/followers", "following_url": "https://api.github.com/users/osdamv/following{/other_user}", "gists_url": "https://api.github.com/users/osdamv/gists{/gist_id}", "starred_url": "https://api.github.com/users/osdamv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osdamv/subscriptions", "organizations_url": "https://api.github.com/users/osdamv/orgs", "repos_url": "https://api.github.com/users/osdamv/repos", "events_url": "https://api.github.com/users/osdamv/events{/privacy}", "received_events_url": "https://api.github.com/users/osdamv/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-30T14:55:23Z", "updated_at": "2017-05-30T14:55:23Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The apk is built by myself, however the prebuilt apk also crash<br>\nbut it throws a different stack trace:<br>\n<code>05-30 08:50:18.841 12116-12611/org.tensorflow.demo W/LegacyRequestMapper: convertRequestMetadata - control.awbRegions setting is not supported, ignoring value 05-30 08:50:18.841 12116-12611/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0. 05-30 08:50:18.841 12116-12611/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0. 05-30 08:50:19.113 12116-12612/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state CAPTURING 05-30 08:50:19.227 12116-12612/org.tensorflow.demo E/BufferQueueProducer: [ImageReader-640x480f23m2-12116-1] dequeueBuffer: createGraphicBuffer failed 05-30 08:50:19.227 12116-12612/org.tensorflow.demo E/Legacy-CameraDevice-JNI: LegacyCameraDevice_nativeProduceFrame: Error while producing frame Out of memory (-12). 05-30 08:50:19.228 12116-12612/org.tensorflow.demo E/CameraDeviceGLThread-0: Received exception on GL render thread:  java.lang.UnsupportedOperationException: Unknown error -12 at android.hardware.camera2.legacy.LegacyExceptionUtils.throwOnError(LegacyExceptionUtils.java:77) at android.hardware.camera2.legacy.LegacyCameraDevice.produceFrame(LegacyCameraDevice.java:683) at android.hardware.camera2.legacy.SurfaceTextureRenderer.drawIntoSurfaces(SurfaceTextureRenderer.java:775) at android.hardware.camera2.legacy.GLThreadManager$1.handleMessage(GLThreadManager.java:105) at android.os.Handler.dispatchMessage(Handler.java:98) at android.os.Looper.loop(Looper.java:154) at android.os.HandlerThread.run(HandlerThread.java:61) 05-30 08:50:19.228 12116-12612/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state ERROR 05-30 08:50:22.972 12116-12611/org.tensorflow.demo E/RequestThread-0: Timed out while waiting for request to complete. 05-30 08:50:22.972 12116-12611/org.tensorflow.demo E/CameraDeviceState: Cannot receive result while in state: 0 05-30 08:50:22.972 12116-12611/org.tensorflow.demo E/CameraDeviceState: Cannot receive result while in state: 0 05-30 08:50:23.003 12116-12611/org.tensorflow.demo E/CameraDeviceState: Cannot receive result while in state: 0 05-30 08:50:23.030 12116-12612/org.tensorflow.demo W/MessageQueue: Handler (android.os.Handler) {f15b46} sending message to a Handler on a dead thread java.lang.IllegalStateException: Handler (android.os.Handler) {f15b46} sending message to a Handler on a dead thread at android.os.MessageQueue.enqueueMessage(MessageQueue.java:543) at android.os.Handler.enqueueMessage(Handler.java:643) at android.os.Handler.sendMessageAtTime(Handler.java:612) at android.os.Handler.sendMessageDelayed(Handler.java:582) at android.os.Handler.sendMessage(Handler.java:519) at android.hardware.camera2.legacy.GLThreadManager.queueNewFrame(GLThreadManager.java:197) at android.hardware.camera2.legacy.RequestThreadManager$4.onFrameAvailable(RequestThreadManager.java:266) at android.graphics.SurfaceTexture$1.handleMessage(SurfaceTexture.java:207) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:154) at android.os.HandlerThread.run(HandlerThread.java:61) 05-30 08:50:23.078 12116-12129/org.tensorflow.demo E/BufferQueueProducer: [SurfaceTexture-1-12116-3] dequeueBuffer: BufferQueue has been abandoned 05-30 08:50:23.078 12116-12128/org.tensorflow.demo E/BufferQueueProducer: [SurfaceTexture-1-12116-3] dequeueBuffer: BufferQueue has been abandoned 05-30 08:50:23.079 12116-12140/org.tensorflow.demo E/BufferQueueProducer: [SurfaceTexture-1-12116-3] dequeueBuffer: BufferQueue has been abandoned 05-30 08:50:24.050 12116-12116/org.tensorflow.demo D/tensorflow: CameraActivity: onPause org.tensorflow.demo.ClassifierActivity@8d34417 05-30 08:50:24.689 12116-12116/org.tensorflow.demo D/tensorflow: CameraActivity: onStop org.tensorflow.demo.ClassifierActivity@8d34417 05-30 08:50:24.691 12116-12116/org.tensorflow.demo D/tensorflow: CameraActivity: onDestroy org.tensorflow.demo.ClassifierActivity@8d34417 </code></p>", "body_text": "The apk is built by myself, however the prebuilt apk also crash\nbut it throws a different stack trace:\n05-30 08:50:18.841 12116-12611/org.tensorflow.demo W/LegacyRequestMapper: convertRequestMetadata - control.awbRegions setting is not supported, ignoring value 05-30 08:50:18.841 12116-12611/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0. 05-30 08:50:18.841 12116-12611/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0. 05-30 08:50:19.113 12116-12612/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state CAPTURING 05-30 08:50:19.227 12116-12612/org.tensorflow.demo E/BufferQueueProducer: [ImageReader-640x480f23m2-12116-1] dequeueBuffer: createGraphicBuffer failed 05-30 08:50:19.227 12116-12612/org.tensorflow.demo E/Legacy-CameraDevice-JNI: LegacyCameraDevice_nativeProduceFrame: Error while producing frame Out of memory (-12). 05-30 08:50:19.228 12116-12612/org.tensorflow.demo E/CameraDeviceGLThread-0: Received exception on GL render thread:  java.lang.UnsupportedOperationException: Unknown error -12 at android.hardware.camera2.legacy.LegacyExceptionUtils.throwOnError(LegacyExceptionUtils.java:77) at android.hardware.camera2.legacy.LegacyCameraDevice.produceFrame(LegacyCameraDevice.java:683) at android.hardware.camera2.legacy.SurfaceTextureRenderer.drawIntoSurfaces(SurfaceTextureRenderer.java:775) at android.hardware.camera2.legacy.GLThreadManager$1.handleMessage(GLThreadManager.java:105) at android.os.Handler.dispatchMessage(Handler.java:98) at android.os.Looper.loop(Looper.java:154) at android.os.HandlerThread.run(HandlerThread.java:61) 05-30 08:50:19.228 12116-12612/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state ERROR 05-30 08:50:22.972 12116-12611/org.tensorflow.demo E/RequestThread-0: Timed out while waiting for request to complete. 05-30 08:50:22.972 12116-12611/org.tensorflow.demo E/CameraDeviceState: Cannot receive result while in state: 0 05-30 08:50:22.972 12116-12611/org.tensorflow.demo E/CameraDeviceState: Cannot receive result while in state: 0 05-30 08:50:23.003 12116-12611/org.tensorflow.demo E/CameraDeviceState: Cannot receive result while in state: 0 05-30 08:50:23.030 12116-12612/org.tensorflow.demo W/MessageQueue: Handler (android.os.Handler) {f15b46} sending message to a Handler on a dead thread java.lang.IllegalStateException: Handler (android.os.Handler) {f15b46} sending message to a Handler on a dead thread at android.os.MessageQueue.enqueueMessage(MessageQueue.java:543) at android.os.Handler.enqueueMessage(Handler.java:643) at android.os.Handler.sendMessageAtTime(Handler.java:612) at android.os.Handler.sendMessageDelayed(Handler.java:582) at android.os.Handler.sendMessage(Handler.java:519) at android.hardware.camera2.legacy.GLThreadManager.queueNewFrame(GLThreadManager.java:197) at android.hardware.camera2.legacy.RequestThreadManager$4.onFrameAvailable(RequestThreadManager.java:266) at android.graphics.SurfaceTexture$1.handleMessage(SurfaceTexture.java:207) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:154) at android.os.HandlerThread.run(HandlerThread.java:61) 05-30 08:50:23.078 12116-12129/org.tensorflow.demo E/BufferQueueProducer: [SurfaceTexture-1-12116-3] dequeueBuffer: BufferQueue has been abandoned 05-30 08:50:23.078 12116-12128/org.tensorflow.demo E/BufferQueueProducer: [SurfaceTexture-1-12116-3] dequeueBuffer: BufferQueue has been abandoned 05-30 08:50:23.079 12116-12140/org.tensorflow.demo E/BufferQueueProducer: [SurfaceTexture-1-12116-3] dequeueBuffer: BufferQueue has been abandoned 05-30 08:50:24.050 12116-12116/org.tensorflow.demo D/tensorflow: CameraActivity: onPause org.tensorflow.demo.ClassifierActivity@8d34417 05-30 08:50:24.689 12116-12116/org.tensorflow.demo D/tensorflow: CameraActivity: onStop org.tensorflow.demo.ClassifierActivity@8d34417 05-30 08:50:24.691 12116-12116/org.tensorflow.demo D/tensorflow: CameraActivity: onDestroy org.tensorflow.demo.ClassifierActivity@8d34417", "body": "The apk is built by myself, however the prebuilt apk also crash \r\nbut it throws a different stack trace:\r\n`05-30 08:50:18.841 12116-12611/org.tensorflow.demo W/LegacyRequestMapper: convertRequestMetadata - control.awbRegions setting is not supported, ignoring value\r\n05-30 08:50:18.841 12116-12611/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0.\r\n05-30 08:50:18.841 12116-12611/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0.\r\n05-30 08:50:19.113 12116-12612/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state CAPTURING\r\n05-30 08:50:19.227 12116-12612/org.tensorflow.demo E/BufferQueueProducer: [ImageReader-640x480f23m2-12116-1] dequeueBuffer: createGraphicBuffer failed\r\n05-30 08:50:19.227 12116-12612/org.tensorflow.demo E/Legacy-CameraDevice-JNI: LegacyCameraDevice_nativeProduceFrame: Error while producing frame Out of memory (-12).\r\n05-30 08:50:19.228 12116-12612/org.tensorflow.demo E/CameraDeviceGLThread-0: Received exception on GL render thread: \r\n                                                                             java.lang.UnsupportedOperationException: Unknown error -12\r\n                                                                                 at android.hardware.camera2.legacy.LegacyExceptionUtils.throwOnError(LegacyExceptionUtils.java:77)\r\n                                                                                 at android.hardware.camera2.legacy.LegacyCameraDevice.produceFrame(LegacyCameraDevice.java:683)\r\n                                                                                 at android.hardware.camera2.legacy.SurfaceTextureRenderer.drawIntoSurfaces(SurfaceTextureRenderer.java:775)\r\n                                                                                 at android.hardware.camera2.legacy.GLThreadManager$1.handleMessage(GLThreadManager.java:105)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:98)\r\n                                                                                 at android.os.Looper.loop(Looper.java:154)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n05-30 08:50:19.228 12116-12612/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state ERROR\r\n05-30 08:50:22.972 12116-12611/org.tensorflow.demo E/RequestThread-0: Timed out while waiting for request to complete.\r\n05-30 08:50:22.972 12116-12611/org.tensorflow.demo E/CameraDeviceState: Cannot receive result while in state: 0\r\n05-30 08:50:22.972 12116-12611/org.tensorflow.demo E/CameraDeviceState: Cannot receive result while in state: 0\r\n05-30 08:50:23.003 12116-12611/org.tensorflow.demo E/CameraDeviceState: Cannot receive result while in state: 0\r\n05-30 08:50:23.030 12116-12612/org.tensorflow.demo W/MessageQueue: Handler (android.os.Handler) {f15b46} sending message to a Handler on a dead thread\r\n                                                                   java.lang.IllegalStateException: Handler (android.os.Handler) {f15b46} sending message to a Handler on a dead thread\r\n                                                                       at android.os.MessageQueue.enqueueMessage(MessageQueue.java:543)\r\n                                                                       at android.os.Handler.enqueueMessage(Handler.java:643)\r\n                                                                       at android.os.Handler.sendMessageAtTime(Handler.java:612)\r\n                                                                       at android.os.Handler.sendMessageDelayed(Handler.java:582)\r\n                                                                       at android.os.Handler.sendMessage(Handler.java:519)\r\n                                                                       at android.hardware.camera2.legacy.GLThreadManager.queueNewFrame(GLThreadManager.java:197)\r\n                                                                       at android.hardware.camera2.legacy.RequestThreadManager$4.onFrameAvailable(RequestThreadManager.java:266)\r\n                                                                       at android.graphics.SurfaceTexture$1.handleMessage(SurfaceTexture.java:207)\r\n                                                                       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                       at android.os.Looper.loop(Looper.java:154)\r\n                                                                       at android.os.HandlerThread.run(HandlerThread.java:61)\r\n05-30 08:50:23.078 12116-12129/org.tensorflow.demo E/BufferQueueProducer: [SurfaceTexture-1-12116-3] dequeueBuffer: BufferQueue has been abandoned\r\n05-30 08:50:23.078 12116-12128/org.tensorflow.demo E/BufferQueueProducer: [SurfaceTexture-1-12116-3] dequeueBuffer: BufferQueue has been abandoned\r\n05-30 08:50:23.079 12116-12140/org.tensorflow.demo E/BufferQueueProducer: [SurfaceTexture-1-12116-3] dequeueBuffer: BufferQueue has been abandoned\r\n05-30 08:50:24.050 12116-12116/org.tensorflow.demo D/tensorflow: CameraActivity: onPause org.tensorflow.demo.ClassifierActivity@8d34417\r\n05-30 08:50:24.689 12116-12116/org.tensorflow.demo D/tensorflow: CameraActivity: onStop org.tensorflow.demo.ClassifierActivity@8d34417\r\n05-30 08:50:24.691 12116-12116/org.tensorflow.demo D/tensorflow: CameraActivity: onDestroy org.tensorflow.demo.ClassifierActivity@8d34417\r\n`"}