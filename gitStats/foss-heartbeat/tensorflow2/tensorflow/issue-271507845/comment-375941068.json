{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/375941068", "html_url": "https://github.com/tensorflow/tensorflow/issues/14292#issuecomment-375941068", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14292", "id": 375941068, "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTk0MTA2OA==", "user": {"login": "tkoeppe", "id": 6378233, "node_id": "MDQ6VXNlcjYzNzgyMzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/6378233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tkoeppe", "html_url": "https://github.com/tkoeppe", "followers_url": "https://api.github.com/users/tkoeppe/followers", "following_url": "https://api.github.com/users/tkoeppe/following{/other_user}", "gists_url": "https://api.github.com/users/tkoeppe/gists{/gist_id}", "starred_url": "https://api.github.com/users/tkoeppe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tkoeppe/subscriptions", "organizations_url": "https://api.github.com/users/tkoeppe/orgs", "repos_url": "https://api.github.com/users/tkoeppe/repos", "events_url": "https://api.github.com/users/tkoeppe/events{/privacy}", "received_events_url": "https://api.github.com/users/tkoeppe/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-25T02:45:13Z", "updated_at": "2018-03-25T02:45:13Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=24682794\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yk5\">@yk5</a>: Yes indeed, the removal of the deps from <code>init_py</code> had the effect of removing the files from the PIP package. I think you can restore functionality by adding them back in (in <code>contrib/boosted_trees/estimator_batch/BUILD</code>):</p>\n<pre><code>py_library(                                                                                                                                                                                                        \n    name = \"init_py\",                                                                                                                                                                                              \n    srcs = [\"__init__.py\"],                                                                                                                                                                                        \n    srcs_version = \"PY2AND3\",                                                                                                                                                                                      \n    deps = [                                                                                                                                                                                                       \n        \"custom_export_strategy\",                                                                                                                                                                                  \n        \":custom_loss_head\",                                                                                                                                                                                       \n        \":estimator\",                                                                                                                                                                                              \n        \":model\",                                                                                                                                                                                                  \n        \":trainer_hooks\",                                                                                                                                                                                          \n    ],                                                                                                                                                                                                             \n)\n</code></pre>", "body_text": "@yk5: Yes indeed, the removal of the deps from init_py had the effect of removing the files from the PIP package. I think you can restore functionality by adding them back in (in contrib/boosted_trees/estimator_batch/BUILD):\npy_library(                                                                                                                                                                                                        \n    name = \"init_py\",                                                                                                                                                                                              \n    srcs = [\"__init__.py\"],                                                                                                                                                                                        \n    srcs_version = \"PY2AND3\",                                                                                                                                                                                      \n    deps = [                                                                                                                                                                                                       \n        \"custom_export_strategy\",                                                                                                                                                                                  \n        \":custom_loss_head\",                                                                                                                                                                                       \n        \":estimator\",                                                                                                                                                                                              \n        \":model\",                                                                                                                                                                                                  \n        \":trainer_hooks\",                                                                                                                                                                                          \n    ],                                                                                                                                                                                                             \n)", "body": "@yk5: Yes indeed, the removal of the deps from `init_py` had the effect of removing the files from the PIP package. I think you can restore functionality by adding them back in (in `contrib/boosted_trees/estimator_batch/BUILD`):\r\n\r\n```\r\npy_library(                                                                                                                                                                                                        \r\n    name = \"init_py\",                                                                                                                                                                                              \r\n    srcs = [\"__init__.py\"],                                                                                                                                                                                        \r\n    srcs_version = \"PY2AND3\",                                                                                                                                                                                      \r\n    deps = [                                                                                                                                                                                                       \r\n        \"custom_export_strategy\",                                                                                                                                                                                  \r\n        \":custom_loss_head\",                                                                                                                                                                                       \r\n        \":estimator\",                                                                                                                                                                                              \r\n        \":model\",                                                                                                                                                                                                  \r\n        \":trainer_hooks\",                                                                                                                                                                                          \r\n    ],                                                                                                                                                                                                             \r\n)\r\n```"}