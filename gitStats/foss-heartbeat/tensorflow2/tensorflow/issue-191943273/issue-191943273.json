{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5896", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5896/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5896/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5896/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5896", "id": 191943273, "node_id": "MDU6SXNzdWUxOTE5NDMyNzM=", "number": 5896, "title": "VocabularyProcessor does not work with Chinese", "user": {"login": "Samurais", "id": 3538629, "node_id": "MDQ6VXNlcjM1Mzg2Mjk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3538629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Samurais", "html_url": "https://github.com/Samurais", "followers_url": "https://api.github.com/users/Samurais/followers", "following_url": "https://api.github.com/users/Samurais/following{/other_user}", "gists_url": "https://api.github.com/users/Samurais/gists{/gist_id}", "starred_url": "https://api.github.com/users/Samurais/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Samurais/subscriptions", "organizations_url": "https://api.github.com/users/Samurais/orgs", "repos_url": "https://api.github.com/users/Samurais/repos", "events_url": "https://api.github.com/users/Samurais/events{/privacy}", "received_events_url": "https://api.github.com/users/Samurais/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-28T08:17:17Z", "updated_at": "2016-12-04T20:29:08Z", "closed_at": "2016-12-04T07:31:04Z", "author_association": "NONE", "body_html": "<p>In order to train a model with tensorflow, try to use tf.contrib.learn.preprocessing.VocabularyProcessor to get a vocabulary vector.</p>\n<pre><code>def create_vocab(input_iter, min_frequency):\n  \"\"\"\n  Creates and returns a VocabularyProcessor object with the vocabulary\n  for the input iterator.\n  \"\"\"\n  vocab_processor = tf.contrib.learn.preprocessing.VocabularyProcessor(\n      FLAGS.max_sentence_len,\n      min_frequency=min_frequency,\n      tokenizer_fn=tokenizer_fn)\n  vocab_processor.fit(input_iter)\n  return vocab_processor\n\n</code></pre>\n<p>It works well with English. But all the Chinese words are not parsed. They are treated as a single word.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/3538629/20660678/cc49a12a-b585-11e6-9018-8f8dc0d628b3.png\"><img src=\"https://cloud.githubusercontent.com/assets/3538629/20660678/cc49a12a-b585-11e6-9018-8f8dc0d628b3.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>\n<h3>Environment info</h3>\n<p>Operating System: Mac OSX, CPU Only<br>\nTensorFlow: Version - <strong>0.11.0rc1</strong></p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>Not yet.</p>", "body_text": "In order to train a model with tensorflow, try to use tf.contrib.learn.preprocessing.VocabularyProcessor to get a vocabulary vector.\ndef create_vocab(input_iter, min_frequency):\n  \"\"\"\n  Creates and returns a VocabularyProcessor object with the vocabulary\n  for the input iterator.\n  \"\"\"\n  vocab_processor = tf.contrib.learn.preprocessing.VocabularyProcessor(\n      FLAGS.max_sentence_len,\n      min_frequency=min_frequency,\n      tokenizer_fn=tokenizer_fn)\n  vocab_processor.fit(input_iter)\n  return vocab_processor\n\n\nIt works well with English. But all the Chinese words are not parsed. They are treated as a single word.\n\nEnvironment info\nOperating System: Mac OSX, CPU Only\nTensorFlow: Version - 0.11.0rc1\nWhat other attempted solutions have you tried?\nNot yet.", "body": "In order to train a model with tensorflow, try to use tf.contrib.learn.preprocessing.VocabularyProcessor to get a vocabulary vector. \r\n\r\n```\r\ndef create_vocab(input_iter, min_frequency):\r\n  \"\"\"\r\n  Creates and returns a VocabularyProcessor object with the vocabulary\r\n  for the input iterator.\r\n  \"\"\"\r\n  vocab_processor = tf.contrib.learn.preprocessing.VocabularyProcessor(\r\n      FLAGS.max_sentence_len,\r\n      min_frequency=min_frequency,\r\n      tokenizer_fn=tokenizer_fn)\r\n  vocab_processor.fit(input_iter)\r\n  return vocab_processor\r\n\r\n```\r\n\r\nIt works well with English. But all the Chinese words are not parsed. They are treated as a single word.\r\n\r\n![image](https://cloud.githubusercontent.com/assets/3538629/20660678/cc49a12a-b585-11e6-9018-8f8dc0d628b3.png)\r\n\r\n\r\n### Environment info\r\nOperating System: Mac OSX, CPU Only\r\nTensorFlow: Version - **0.11.0rc1**\r\n\r\n### What other attempted solutions have you tried?\r\nNot yet. \r\n"}