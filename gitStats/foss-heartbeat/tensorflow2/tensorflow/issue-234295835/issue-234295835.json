{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10498", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10498/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10498/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10498/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10498", "id": 234295835, "node_id": "MDU6SXNzdWUyMzQyOTU4MzU=", "number": 10498, "title": "TensorFlow logging configuration is non-standard", "user": {"login": "taion", "id": 3112159, "node_id": "MDQ6VXNlcjMxMTIxNTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taion", "html_url": "https://github.com/taion", "followers_url": "https://api.github.com/users/taion/followers", "following_url": "https://api.github.com/users/taion/following{/other_user}", "gists_url": "https://api.github.com/users/taion/gists{/gist_id}", "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taion/subscriptions", "organizations_url": "https://api.github.com/users/taion/orgs", "repos_url": "https://api.github.com/users/taion/repos", "events_url": "https://api.github.com/users/taion/events{/privacy}", "received_events_url": "https://api.github.com/users/taion/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-07T18:08:21Z", "updated_at": "2017-11-29T15:51:46Z", "closed_at": "2017-11-29T15:51:46Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"211483260\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8023\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/8023/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/8023\">#8023</a></p>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Docker image</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.1.0</li>\n<li><strong>Bazel version (if compiling from source)</strong>: N/A</li>\n<li><strong>CUDA/cuDNN version</strong>: Per Docker image</li>\n<li><strong>GPU model and memory</strong>: K80</li>\n<li><strong>Exact command to reproduce</strong>: N/A</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>The logging configuration in <code>tf_logging</code> is odd and inconsistent with how things are generally done in Python.</p>\n<p>In general, it's typical to attach handlers to the root logger in Python: <a href=\"https://docs.python.org/2/library/logging.html#logging.Logger.propagate\" rel=\"nofollow\">https://docs.python.org/2/library/logging.html#logging.Logger.propagate</a></p>\n<p>However, because <code>tf_logging</code> sets up its own stream handler, and does not disable the propagate flag, anybody who does follow the standard Python convention of attaching handlers to the root logger gets duplicated log output from TensorFlow.</p>\n<p>Per <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"211483260\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8023\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/8023/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/8023\">#8023</a>, while this isn't a bug per se, it's still wrong and undesirable.</p>\n<p>The cleanest way forward is probably to just set <code>propagate=False</code> on the TF logger.</p>", "body_text": "Ref #8023\nSystem information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nTensorFlow installed from (source or binary): Docker image\nTensorFlow version (use command below): 1.1.0\nBazel version (if compiling from source): N/A\nCUDA/cuDNN version: Per Docker image\nGPU model and memory: K80\nExact command to reproduce: N/A\n\nDescribe the problem\nThe logging configuration in tf_logging is odd and inconsistent with how things are generally done in Python.\nIn general, it's typical to attach handlers to the root logger in Python: https://docs.python.org/2/library/logging.html#logging.Logger.propagate\nHowever, because tf_logging sets up its own stream handler, and does not disable the propagate flag, anybody who does follow the standard Python convention of attaching handlers to the root logger gets duplicated log output from TensorFlow.\nPer #8023, while this isn't a bug per se, it's still wrong and undesirable.\nThe cleanest way forward is probably to just set propagate=False on the TF logger.", "body": "Ref https://github.com/tensorflow/tensorflow/issues/8023\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: Docker image\r\n- **TensorFlow version (use command below)**: 1.1.0\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: Per Docker image\r\n- **GPU model and memory**: K80\r\n- **Exact command to reproduce**: N/A\r\n\r\n### Describe the problem\r\nThe logging configuration in `tf_logging` is odd and inconsistent with how things are generally done in Python.\r\n\r\nIn general, it's typical to attach handlers to the root logger in Python: https://docs.python.org/2/library/logging.html#logging.Logger.propagate\r\n\r\nHowever, because `tf_logging` sets up its own stream handler, and does not disable the propagate flag, anybody who does follow the standard Python convention of attaching handlers to the root logger gets duplicated log output from TensorFlow.\r\n\r\nPer https://github.com/tensorflow/tensorflow/issues/8023, while this isn't a bug per se, it's still wrong and undesirable.\r\n\r\nThe cleanest way forward is probably to just set `propagate=False` on the TF logger."}