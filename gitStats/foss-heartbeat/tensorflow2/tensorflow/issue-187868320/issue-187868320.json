{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5465", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5465/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5465/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5465/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5465", "id": 187868320, "node_id": "MDU6SXNzdWUxODc4NjgzMjA=", "number": 5465, "title": "Exploration of cmake on Ubuntu: /tensorflow/stream_executor/gcuda.h", "user": {"login": "joshsuihn", "id": 1491998, "node_id": "MDQ6VXNlcjE0OTE5OTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1491998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshsuihn", "html_url": "https://github.com/joshsuihn", "followers_url": "https://api.github.com/users/joshsuihn/followers", "following_url": "https://api.github.com/users/joshsuihn/following{/other_user}", "gists_url": "https://api.github.com/users/joshsuihn/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshsuihn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshsuihn/subscriptions", "organizations_url": "https://api.github.com/users/joshsuihn/orgs", "repos_url": "https://api.github.com/users/joshsuihn/repos", "events_url": "https://api.github.com/users/joshsuihn/events{/privacy}", "received_events_url": "https://api.github.com/users/joshsuihn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2016-11-08T00:23:12Z", "updated_at": "2016-11-15T00:33:56Z", "closed_at": "2016-11-15T00:33:48Z", "author_association": "NONE", "body_html": "<p>NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.</p>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu14.04</p>\n<p>Installed version of CUDA and cuDNN: 8.0/5.1.5<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/f870373756f8017cf89c7a6e3889539aba834265/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/f870373756f8017cf89c7a6e3889539aba834265\"><tt>f870373</tt></a></li>\n</ol>\n<p>I'm exploring TensorFlow build with cmake on Ubuntu14.04</p>\n<p>While trying building, I'm stuck with the following error.</p>\n<p>It seems to me ..</p>\n<ol>\n<li>device_functions.h header is not included?</li>\n<li>add/remove definitions such as -D__NVCC__?</li>\n<li>tf_stream_executor.cmake file looks incomplete. what do I need to add to the file?</li>\n</ol>\n<pre><code>&gt; In file included from /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:16:0:\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:234:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ clock_t __gcuda_nvcc_clock() { return clock(); }\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:235:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ int __gcuda_nvcc__clz(int x) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:238:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ int __gcuda_nvcc__clzll(long long int x) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:241:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ float __gcuda_nvcc__fdividef(float a, float b) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:244:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ int __gcuda_nvcc__ffsll(long long int x) { // NOLINT\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:247:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ int __gcuda_nvcc__popc(unsigned int x) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:250:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ float __gcuda_nvcc__powf(float a, float b) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:253:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ void __gcuda_nvcc__sincosf(\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:257:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ unsigned int __gcuda_nvcc__umulhi(\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:263:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ unsigned int __gcuda_nvcc__ballot(int x) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:274:9: error: \u2018::abs\u2019 has not been declared\n&gt;  using ::abs;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:275:9: error: \u2018::atomicAdd\u2019 has not been declared\n&gt;  using ::atomicAdd;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:276:9: error: \u2018::atomicCAS\u2019 has not been declared\n&gt;  using ::atomicCAS;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:277:9: error: \u2018::ceil\u2019 has not been declared\n&gt;  using ::ceil;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:278:9: error: \u2018::ceilf\u2019 has not been declared\n&gt;  using ::ceilf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:279:9: error: \u2018::cos\u2019 has not been declared\n&gt;  using ::cos;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:280:9: error: \u2018::cosf\u2019 has not been declared\n&gt;  using ::cosf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:281:9: error: \u2018::erfcinv\u2019 has not been declared\n&gt;  using ::erfcinv;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:282:9: error: \u2018::erfcinvf\u2019 has not been declared\n&gt;  using ::erfcinvf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:283:9: error: \u2018::exp\u2019 has not been declared\n&gt;  using ::exp;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:284:9: error: \u2018::expf\u2019 has not been declared\n&gt;  using ::expf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:285:9: error: \u2018::fabs\u2019 has not been declared\n&gt;  using ::fabs;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:286:9: error: \u2018::fabsf\u2019 has not been declared\n&gt;  using ::fabsf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:287:9: error: \u2018::floor\u2019 has not been declared\n&gt;  using ::floor;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:288:9: error: \u2018::floorf\u2019 has not been declared\n&gt;  using ::floorf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:289:9: error: \u2018::fabs\u2019 has not been declared\n&gt;  using ::fabs;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:290:9: error: \u2018::fabsf\u2019 has not been declared\n&gt;  using ::fabsf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:291:9: error: \u2018::fma\u2019 has not been declared\n&gt;  using ::fma;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:292:9: error: \u2018::fmaf\u2019 has not been declared\n&gt;  using ::fmaf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:293:9: error: \u2018::fmax\u2019 has not been declared\n&gt;  using ::fmax;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:294:9: error: \u2018::fmaxf\u2019 has not been declared\n&gt;  using ::fmaxf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:295:9: error: \u2018::fmin\u2019 has not been declared\n&gt;  using ::fmin;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:296:9: error: \u2018::fminf\u2019 has not been declared\n&gt;  using ::fminf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:297:9: error: \u2018::log\u2019 has not been declared\n&gt;  using ::log;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:298:9: error: \u2018::log1p\u2019 has not been declared\n&gt;  using ::log1p;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:299:9: error: \u2018::log1pf\u2019 has not been declared\n&gt;  using ::log1pf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:300:9: error: \u2018::logf\u2019 has not been declared\n&gt;  using ::logf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:301:9: error: \u2018::max\u2019 has not been declared\n&gt;  using ::max;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:302:9: error: \u2018::min\u2019 has not been declared\n&gt;  using ::min;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:303:9: error: \u2018::powf\u2019 has not been declared\n&gt;  using ::powf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:305:9: error: \u2018::sin\u2019 has not been declared\n&gt;  using ::sin;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:306:9: error: \u2018::sinf\u2019 has not been declared\n&gt;  using ::sinf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:307:9: error: \u2018::sincos\u2019 has not been declared\n&gt;  using ::sincos;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:308:9: error: \u2018::sincosf\u2019 has not been declared\n&gt;  using ::sincosf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:309:9: error: \u2018::sincospi\u2019 has not been declared\n&gt;  using ::sincospi;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:310:9: error: \u2018::sincospif\u2019 has not been declared\n&gt;  using ::sincospif;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:311:9: error: \u2018::sqrt\u2019 has not been declared\n&gt;  using ::sqrt;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:312:9: error: \u2018::sqrtf\u2019 has not been declared\n&gt;  using ::sqrtf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:313:9: error: \u2018::tanh\u2019 has not been declared\n&gt;  using ::tanh;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:314:9: error: \u2018::trunc\u2019 has not been declared\n&gt;  using ::trunc;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:315:9: error: \u2018::truncf\u2019 has not been declared\n&gt;  using ::truncf;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:316:9: error: \u2018::trunc\u2019 has not been declared\n&gt;  using ::trunc;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:326:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __host__ __device__ float rsqrtf(float x) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:329:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __host__ __device__ double rsqrt(double x) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:334:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ int clock() { return __gcuda_nvcc_clock(); }\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:336:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ int __clz(int x) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:340:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ int __clz(long long int x) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:344:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ float __fdividef(float a, float b) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:348:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ int __ffsll(long long int x) { // NOLINT\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:352:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ int __popc(unsigned int x) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:356:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ float __powf(float a, float b) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:360:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ void __sincosf(float x, float *sptr, float *cptr) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:364:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ unsigned int __umulhi(unsigned int x,\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:378:1: error: \u2018__forceinline__\u2019 does not name a type\n&gt;  __forceinline__ __device__ unsigned int __ballot(int x) {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:384:9: error: \u2018::__shfl\u2019 has not been declared\n&gt;  using ::__shfl;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:385:9: error: \u2018::__shfl_down\u2019 has not been declared\n&gt;  using ::__shfl_down;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:386:9: error: \u2018::__shfl_up\u2019 has not been declared\n&gt;  using ::__shfl_up;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:387:9: error: \u2018::__shfl_xor\u2019 has not been declared\n&gt;  using ::__shfl_xor;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:391:9: error: \u2018::__ldg\u2019 has not been declared\n&gt;  using ::__ldg;\n&gt;          ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:402:8: error: \u2018__device__\u2019 does not name a type\n&gt;  inline __device__ int isfinite(float x) {\n&gt;         ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:405:8: error: \u2018__device__\u2019 does not name a type\n&gt;  inline __device__ int isfinite(double x) {\n&gt;         ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:408:8: error: \u2018__device__\u2019 does not name a type\n&gt;  inline __device__ int isfinite(long double x) {\n&gt;         ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:23:1: error: \u2018map\u2019 in namespace \u2018std\u2019 does not name a type\n&gt;  std::map&lt;void *, KernelCacheConfig&gt; &amp;GetGcudaccStubToCacheConfigMap() {\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:29:5: error: \u2018StreamExecutor\u2019 was not declared in this scope\n&gt;      StreamExecutor *stream_exec) {\n&gt;      ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:29:21: error: \u2018stream_exec\u2019 was not declared in this scope\n&gt;      StreamExecutor *stream_exec) {\n&gt;                      ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:29:34: error: expected \u2018,\u2019 or \u2018;\u2019 before \u2018{\u2019 token\n&gt;      StreamExecutor *stream_exec) {\n&gt;                                   ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:102:1: error: expected \u2018}\u2019 at end of input\n&gt;  }  // namespace perftools\n&gt;  ^\n&gt; /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:102:1: error: expected \u2018}\u2019 at end of input\n&gt; make[2]: *** [CMakeFiles/tf_stream_executor.dir/home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc.o] Error 1\n&gt; make[1]: *** [CMakeFiles/tf_stream_executor.dir/all] Error 2\n&gt; make: *** [all] Error 2\n</code></pre>", "body_text": "NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\nEnvironment info\nOperating System: Ubuntu14.04\nInstalled version of CUDA and cuDNN: 8.0/5.1.5\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\nf870373\n\nI'm exploring TensorFlow build with cmake on Ubuntu14.04\nWhile trying building, I'm stuck with the following error.\nIt seems to me ..\n\ndevice_functions.h header is not included?\nadd/remove definitions such as -D__NVCC__?\ntf_stream_executor.cmake file looks incomplete. what do I need to add to the file?\n\n> In file included from /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:16:0:\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:234:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ clock_t __gcuda_nvcc_clock() { return clock(); }\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:235:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ int __gcuda_nvcc__clz(int x) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:238:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ int __gcuda_nvcc__clzll(long long int x) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:241:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ float __gcuda_nvcc__fdividef(float a, float b) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:244:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ int __gcuda_nvcc__ffsll(long long int x) { // NOLINT\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:247:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ int __gcuda_nvcc__popc(unsigned int x) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:250:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ float __gcuda_nvcc__powf(float a, float b) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:253:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ void __gcuda_nvcc__sincosf(\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:257:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ unsigned int __gcuda_nvcc__umulhi(\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:263:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ unsigned int __gcuda_nvcc__ballot(int x) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:274:9: error: \u2018::abs\u2019 has not been declared\n>  using ::abs;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:275:9: error: \u2018::atomicAdd\u2019 has not been declared\n>  using ::atomicAdd;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:276:9: error: \u2018::atomicCAS\u2019 has not been declared\n>  using ::atomicCAS;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:277:9: error: \u2018::ceil\u2019 has not been declared\n>  using ::ceil;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:278:9: error: \u2018::ceilf\u2019 has not been declared\n>  using ::ceilf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:279:9: error: \u2018::cos\u2019 has not been declared\n>  using ::cos;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:280:9: error: \u2018::cosf\u2019 has not been declared\n>  using ::cosf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:281:9: error: \u2018::erfcinv\u2019 has not been declared\n>  using ::erfcinv;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:282:9: error: \u2018::erfcinvf\u2019 has not been declared\n>  using ::erfcinvf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:283:9: error: \u2018::exp\u2019 has not been declared\n>  using ::exp;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:284:9: error: \u2018::expf\u2019 has not been declared\n>  using ::expf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:285:9: error: \u2018::fabs\u2019 has not been declared\n>  using ::fabs;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:286:9: error: \u2018::fabsf\u2019 has not been declared\n>  using ::fabsf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:287:9: error: \u2018::floor\u2019 has not been declared\n>  using ::floor;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:288:9: error: \u2018::floorf\u2019 has not been declared\n>  using ::floorf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:289:9: error: \u2018::fabs\u2019 has not been declared\n>  using ::fabs;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:290:9: error: \u2018::fabsf\u2019 has not been declared\n>  using ::fabsf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:291:9: error: \u2018::fma\u2019 has not been declared\n>  using ::fma;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:292:9: error: \u2018::fmaf\u2019 has not been declared\n>  using ::fmaf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:293:9: error: \u2018::fmax\u2019 has not been declared\n>  using ::fmax;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:294:9: error: \u2018::fmaxf\u2019 has not been declared\n>  using ::fmaxf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:295:9: error: \u2018::fmin\u2019 has not been declared\n>  using ::fmin;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:296:9: error: \u2018::fminf\u2019 has not been declared\n>  using ::fminf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:297:9: error: \u2018::log\u2019 has not been declared\n>  using ::log;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:298:9: error: \u2018::log1p\u2019 has not been declared\n>  using ::log1p;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:299:9: error: \u2018::log1pf\u2019 has not been declared\n>  using ::log1pf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:300:9: error: \u2018::logf\u2019 has not been declared\n>  using ::logf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:301:9: error: \u2018::max\u2019 has not been declared\n>  using ::max;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:302:9: error: \u2018::min\u2019 has not been declared\n>  using ::min;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:303:9: error: \u2018::powf\u2019 has not been declared\n>  using ::powf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:305:9: error: \u2018::sin\u2019 has not been declared\n>  using ::sin;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:306:9: error: \u2018::sinf\u2019 has not been declared\n>  using ::sinf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:307:9: error: \u2018::sincos\u2019 has not been declared\n>  using ::sincos;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:308:9: error: \u2018::sincosf\u2019 has not been declared\n>  using ::sincosf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:309:9: error: \u2018::sincospi\u2019 has not been declared\n>  using ::sincospi;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:310:9: error: \u2018::sincospif\u2019 has not been declared\n>  using ::sincospif;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:311:9: error: \u2018::sqrt\u2019 has not been declared\n>  using ::sqrt;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:312:9: error: \u2018::sqrtf\u2019 has not been declared\n>  using ::sqrtf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:313:9: error: \u2018::tanh\u2019 has not been declared\n>  using ::tanh;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:314:9: error: \u2018::trunc\u2019 has not been declared\n>  using ::trunc;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:315:9: error: \u2018::truncf\u2019 has not been declared\n>  using ::truncf;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:316:9: error: \u2018::trunc\u2019 has not been declared\n>  using ::trunc;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:326:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __host__ __device__ float rsqrtf(float x) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:329:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __host__ __device__ double rsqrt(double x) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:334:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ int clock() { return __gcuda_nvcc_clock(); }\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:336:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ int __clz(int x) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:340:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ int __clz(long long int x) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:344:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ float __fdividef(float a, float b) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:348:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ int __ffsll(long long int x) { // NOLINT\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:352:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ int __popc(unsigned int x) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:356:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ float __powf(float a, float b) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:360:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ void __sincosf(float x, float *sptr, float *cptr) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:364:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ unsigned int __umulhi(unsigned int x,\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:378:1: error: \u2018__forceinline__\u2019 does not name a type\n>  __forceinline__ __device__ unsigned int __ballot(int x) {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:384:9: error: \u2018::__shfl\u2019 has not been declared\n>  using ::__shfl;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:385:9: error: \u2018::__shfl_down\u2019 has not been declared\n>  using ::__shfl_down;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:386:9: error: \u2018::__shfl_up\u2019 has not been declared\n>  using ::__shfl_up;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:387:9: error: \u2018::__shfl_xor\u2019 has not been declared\n>  using ::__shfl_xor;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:391:9: error: \u2018::__ldg\u2019 has not been declared\n>  using ::__ldg;\n>          ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:402:8: error: \u2018__device__\u2019 does not name a type\n>  inline __device__ int isfinite(float x) {\n>         ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:405:8: error: \u2018__device__\u2019 does not name a type\n>  inline __device__ int isfinite(double x) {\n>         ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:408:8: error: \u2018__device__\u2019 does not name a type\n>  inline __device__ int isfinite(long double x) {\n>         ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:23:1: error: \u2018map\u2019 in namespace \u2018std\u2019 does not name a type\n>  std::map<void *, KernelCacheConfig> &GetGcudaccStubToCacheConfigMap() {\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:29:5: error: \u2018StreamExecutor\u2019 was not declared in this scope\n>      StreamExecutor *stream_exec) {\n>      ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:29:21: error: \u2018stream_exec\u2019 was not declared in this scope\n>      StreamExecutor *stream_exec) {\n>                      ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:29:34: error: expected \u2018,\u2019 or \u2018;\u2019 before \u2018{\u2019 token\n>      StreamExecutor *stream_exec) {\n>                                   ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:102:1: error: expected \u2018}\u2019 at end of input\n>  }  // namespace perftools\n>  ^\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:102:1: error: expected \u2018}\u2019 at end of input\n> make[2]: *** [CMakeFiles/tf_stream_executor.dir/home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc.o] Error 1\n> make[1]: *** [CMakeFiles/tf_stream_executor.dir/all] Error 2\n> make: *** [all] Error 2", "body": "NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\r\n\r\n### Environment info\r\nOperating System: Ubuntu14.04\r\n\r\nInstalled version of CUDA and cuDNN: 8.0/5.1.5\r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\n\r\nIf installed from source, provide \r\n1. The commit hash (`git rev-parse HEAD`)\r\nf870373756f8017cf89c7a6e3889539aba834265 \r\n\r\nI'm exploring TensorFlow build with cmake on Ubuntu14.04\r\n\r\nWhile trying building, I'm stuck with the following error.\r\n\r\nIt seems to me ..\r\n1. device_functions.h header is not included? \r\n2. add/remove definitions such as -D__NVCC__? \r\n3. tf_stream_executor.cmake file looks incomplete. what do I need to add to the file? \r\n\r\n```\r\n> In file included from /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:16:0:\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:234:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ clock_t __gcuda_nvcc_clock() { return clock(); }\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:235:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ int __gcuda_nvcc__clz(int x) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:238:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ int __gcuda_nvcc__clzll(long long int x) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:241:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ float __gcuda_nvcc__fdividef(float a, float b) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:244:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ int __gcuda_nvcc__ffsll(long long int x) { // NOLINT\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:247:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ int __gcuda_nvcc__popc(unsigned int x) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:250:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ float __gcuda_nvcc__powf(float a, float b) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:253:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ void __gcuda_nvcc__sincosf(\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:257:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ unsigned int __gcuda_nvcc__umulhi(\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:263:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ unsigned int __gcuda_nvcc__ballot(int x) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:274:9: error: \u2018::abs\u2019 has not been declared\r\n>  using ::abs;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:275:9: error: \u2018::atomicAdd\u2019 has not been declared\r\n>  using ::atomicAdd;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:276:9: error: \u2018::atomicCAS\u2019 has not been declared\r\n>  using ::atomicCAS;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:277:9: error: \u2018::ceil\u2019 has not been declared\r\n>  using ::ceil;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:278:9: error: \u2018::ceilf\u2019 has not been declared\r\n>  using ::ceilf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:279:9: error: \u2018::cos\u2019 has not been declared\r\n>  using ::cos;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:280:9: error: \u2018::cosf\u2019 has not been declared\r\n>  using ::cosf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:281:9: error: \u2018::erfcinv\u2019 has not been declared\r\n>  using ::erfcinv;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:282:9: error: \u2018::erfcinvf\u2019 has not been declared\r\n>  using ::erfcinvf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:283:9: error: \u2018::exp\u2019 has not been declared\r\n>  using ::exp;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:284:9: error: \u2018::expf\u2019 has not been declared\r\n>  using ::expf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:285:9: error: \u2018::fabs\u2019 has not been declared\r\n>  using ::fabs;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:286:9: error: \u2018::fabsf\u2019 has not been declared\r\n>  using ::fabsf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:287:9: error: \u2018::floor\u2019 has not been declared\r\n>  using ::floor;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:288:9: error: \u2018::floorf\u2019 has not been declared\r\n>  using ::floorf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:289:9: error: \u2018::fabs\u2019 has not been declared\r\n>  using ::fabs;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:290:9: error: \u2018::fabsf\u2019 has not been declared\r\n>  using ::fabsf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:291:9: error: \u2018::fma\u2019 has not been declared\r\n>  using ::fma;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:292:9: error: \u2018::fmaf\u2019 has not been declared\r\n>  using ::fmaf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:293:9: error: \u2018::fmax\u2019 has not been declared\r\n>  using ::fmax;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:294:9: error: \u2018::fmaxf\u2019 has not been declared\r\n>  using ::fmaxf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:295:9: error: \u2018::fmin\u2019 has not been declared\r\n>  using ::fmin;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:296:9: error: \u2018::fminf\u2019 has not been declared\r\n>  using ::fminf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:297:9: error: \u2018::log\u2019 has not been declared\r\n>  using ::log;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:298:9: error: \u2018::log1p\u2019 has not been declared\r\n>  using ::log1p;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:299:9: error: \u2018::log1pf\u2019 has not been declared\r\n>  using ::log1pf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:300:9: error: \u2018::logf\u2019 has not been declared\r\n>  using ::logf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:301:9: error: \u2018::max\u2019 has not been declared\r\n>  using ::max;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:302:9: error: \u2018::min\u2019 has not been declared\r\n>  using ::min;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:303:9: error: \u2018::powf\u2019 has not been declared\r\n>  using ::powf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:305:9: error: \u2018::sin\u2019 has not been declared\r\n>  using ::sin;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:306:9: error: \u2018::sinf\u2019 has not been declared\r\n>  using ::sinf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:307:9: error: \u2018::sincos\u2019 has not been declared\r\n>  using ::sincos;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:308:9: error: \u2018::sincosf\u2019 has not been declared\r\n>  using ::sincosf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:309:9: error: \u2018::sincospi\u2019 has not been declared\r\n>  using ::sincospi;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:310:9: error: \u2018::sincospif\u2019 has not been declared\r\n>  using ::sincospif;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:311:9: error: \u2018::sqrt\u2019 has not been declared\r\n>  using ::sqrt;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:312:9: error: \u2018::sqrtf\u2019 has not been declared\r\n>  using ::sqrtf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:313:9: error: \u2018::tanh\u2019 has not been declared\r\n>  using ::tanh;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:314:9: error: \u2018::trunc\u2019 has not been declared\r\n>  using ::trunc;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:315:9: error: \u2018::truncf\u2019 has not been declared\r\n>  using ::truncf;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:316:9: error: \u2018::trunc\u2019 has not been declared\r\n>  using ::trunc;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:326:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __host__ __device__ float rsqrtf(float x) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:329:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __host__ __device__ double rsqrt(double x) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:334:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ int clock() { return __gcuda_nvcc_clock(); }\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:336:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ int __clz(int x) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:340:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ int __clz(long long int x) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:344:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ float __fdividef(float a, float b) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:348:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ int __ffsll(long long int x) { // NOLINT\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:352:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ int __popc(unsigned int x) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:356:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ float __powf(float a, float b) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:360:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ void __sincosf(float x, float *sptr, float *cptr) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:364:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ unsigned int __umulhi(unsigned int x,\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:378:1: error: \u2018__forceinline__\u2019 does not name a type\r\n>  __forceinline__ __device__ unsigned int __ballot(int x) {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:384:9: error: \u2018::__shfl\u2019 has not been declared\r\n>  using ::__shfl;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:385:9: error: \u2018::__shfl_down\u2019 has not been declared\r\n>  using ::__shfl_down;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:386:9: error: \u2018::__shfl_up\u2019 has not been declared\r\n>  using ::__shfl_up;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:387:9: error: \u2018::__shfl_xor\u2019 has not been declared\r\n>  using ::__shfl_xor;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:391:9: error: \u2018::__ldg\u2019 has not been declared\r\n>  using ::__ldg;\r\n>          ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:402:8: error: \u2018__device__\u2019 does not name a type\r\n>  inline __device__ int isfinite(float x) {\r\n>         ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:405:8: error: \u2018__device__\u2019 does not name a type\r\n>  inline __device__ int isfinite(double x) {\r\n>         ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.h:408:8: error: \u2018__device__\u2019 does not name a type\r\n>  inline __device__ int isfinite(long double x) {\r\n>         ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:23:1: error: \u2018map\u2019 in namespace \u2018std\u2019 does not name a type\r\n>  std::map<void *, KernelCacheConfig> &GetGcudaccStubToCacheConfigMap() {\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:29:5: error: \u2018StreamExecutor\u2019 was not declared in this scope\r\n>      StreamExecutor *stream_exec) {\r\n>      ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:29:21: error: \u2018stream_exec\u2019 was not declared in this scope\r\n>      StreamExecutor *stream_exec) {\r\n>                      ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:29:34: error: expected \u2018,\u2019 or \u2018;\u2019 before \u2018{\u2019 token\r\n>      StreamExecutor *stream_exec) {\r\n>                                   ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:102:1: error: expected \u2018}\u2019 at end of input\r\n>  }  // namespace perftools\r\n>  ^\r\n> /home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc:102:1: error: expected \u2018}\u2019 at end of input\r\n> make[2]: *** [CMakeFiles/tf_stream_executor.dir/home/ubuntu/workspace/tensorflow/tensorflow/stream_executor/gcuda.cc.o] Error 1\r\n> make[1]: *** [CMakeFiles/tf_stream_executor.dir/all] Error 2\r\n> make: *** [all] Error 2\r\n```"}