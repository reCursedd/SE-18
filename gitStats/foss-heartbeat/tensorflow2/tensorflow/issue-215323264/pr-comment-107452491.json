{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/107452491", "pull_request_review_id": 28425869, "id": 107452491, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNzQ1MjQ5MQ==", "diff_hunk": "@@ -108,12 +109,19 @@ def __init__(self,\n                fake_data=False,\n                one_hot=False,\n                dtype=dtypes.float32,\n-               reshape=True):\n+               reshape=True,\n+               seed=None):\n     \"\"\"Construct a DataSet.\n     one_hot arg is used only if fake_data is true.  `dtype` can be either\n     `uint8` to leave the input as `[0, 255]`, or `float32` to rescale into\n-    `[0, 1]`.\n+    `[0, 1]`.  Seed arg provides for convenient deterministic testing.\n     \"\"\"\n+    seed1, seed2 = random_seed.get_seed(seed)\n+    # If op level seed is not set, use whatever graph level seed is returned\n+    if seed == None:\n+        numpy.random.seed(seed1)\n+    else:\n+        numpy.random.seed(seed2)", "path": "tensorflow/contrib/learn/python/learn/datasets/mnist.py", "position": null, "original_position": 26, "commit_id": "ee831272b58e0d1bd4e196dff75e57c757e93393", "original_commit_id": "781237232404d1801c7b5d6f291251e1c43dd130", "user": {"login": "girving", "id": 70511, "node_id": "MDQ6VXNlcjcwNTEx", "avatar_url": "https://avatars1.githubusercontent.com/u/70511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/girving", "html_url": "https://github.com/girving", "followers_url": "https://api.github.com/users/girving/followers", "following_url": "https://api.github.com/users/girving/following{/other_user}", "gists_url": "https://api.github.com/users/girving/gists{/gist_id}", "starred_url": "https://api.github.com/users/girving/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/girving/subscriptions", "organizations_url": "https://api.github.com/users/girving/orgs", "repos_url": "https://api.github.com/users/girving/repos", "events_url": "https://api.github.com/users/girving/events{/privacy}", "received_events_url": "https://api.github.com/users/girving/received_events", "type": "User", "site_admin": false}, "body": "`numpy.random.seed(seed1 if seed is None else seed2)`\r\n\r\nOtherwise looks okay to me.  A bit strange, but the strangeness is inherited from our own seed logic.", "created_at": "2017-03-22T15:51:55Z", "updated_at": "2017-04-10T17:18:53Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/8548#discussion_r107452491", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8548", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/107452491"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/8548#discussion_r107452491"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8548"}}, "body_html": "<p><code>numpy.random.seed(seed1 if seed is None else seed2)</code></p>\n<p>Otherwise looks okay to me.  A bit strange, but the strangeness is inherited from our own seed logic.</p>", "body_text": "numpy.random.seed(seed1 if seed is None else seed2)\nOtherwise looks okay to me.  A bit strange, but the strangeness is inherited from our own seed logic."}