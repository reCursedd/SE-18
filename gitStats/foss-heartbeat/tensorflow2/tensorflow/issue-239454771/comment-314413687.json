{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/314413687", "html_url": "https://github.com/tensorflow/tensorflow/issues/11138#issuecomment-314413687", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11138", "id": 314413687, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDQxMzY4Nw==", "user": {"login": "bensowden", "id": 4046078, "node_id": "MDQ6VXNlcjQwNDYwNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/4046078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bensowden", "html_url": "https://github.com/bensowden", "followers_url": "https://api.github.com/users/bensowden/followers", "following_url": "https://api.github.com/users/bensowden/following{/other_user}", "gists_url": "https://api.github.com/users/bensowden/gists{/gist_id}", "starred_url": "https://api.github.com/users/bensowden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bensowden/subscriptions", "organizations_url": "https://api.github.com/users/bensowden/orgs", "repos_url": "https://api.github.com/users/bensowden/repos", "events_url": "https://api.github.com/users/bensowden/events{/privacy}", "received_events_url": "https://api.github.com/users/bensowden/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-11T11:21:58Z", "updated_at": "2017-07-11T11:21:58Z", "author_association": "NONE", "body_html": "<p>I am sorry I missed the include for real_valued_column I accidentally removed it when simplifying the code to share, as you say simply adding the line <code>from tensorflow.contrib.layers import real_valued_column</code> fixes this. I will edit the original to fix this.</p>\n<p>The warnings you see are warnings not errors and as such are not expected to prevent the algorithm from correctly training. These are also related to the use of the pandas_input_fn I believe but I have not managed to fully understand their source when investigating. They do not prevent the successful running of the above code with the crossed_columns removed and I believe they are unrelated to this problem.</p>\n<p>I have run this script on multiple systems and encountered the same issue so I don't believe it is missing anything. Please also note there are two <code>model.fit</code> lines at the bottom, the script will not complete successfully if both these are uncommented I provided both to demonstrate a working case and a not working case. In my running I have found that the bug in the first prevents the running of the second but in the case the first is commented out the second will run. Also if the line <code>feature_columns = [sparse_cat1, sparse_cat2, cross_bb, cross_cc, cross_bc]</code> is changed to <code>feature_columns = [sparse_cat1, sparse_cat2, cross_bb]</code> then the first will run and it will crash on the second if left uncommented.</p>\n<p>In your testing did the script complete successfully or did it hang as I saw in my testing? You simply state you saw a warning message not what happened after the warning message.</p>", "body_text": "I am sorry I missed the include for real_valued_column I accidentally removed it when simplifying the code to share, as you say simply adding the line from tensorflow.contrib.layers import real_valued_column fixes this. I will edit the original to fix this.\nThe warnings you see are warnings not errors and as such are not expected to prevent the algorithm from correctly training. These are also related to the use of the pandas_input_fn I believe but I have not managed to fully understand their source when investigating. They do not prevent the successful running of the above code with the crossed_columns removed and I believe they are unrelated to this problem.\nI have run this script on multiple systems and encountered the same issue so I don't believe it is missing anything. Please also note there are two model.fit lines at the bottom, the script will not complete successfully if both these are uncommented I provided both to demonstrate a working case and a not working case. In my running I have found that the bug in the first prevents the running of the second but in the case the first is commented out the second will run. Also if the line feature_columns = [sparse_cat1, sparse_cat2, cross_bb, cross_cc, cross_bc] is changed to feature_columns = [sparse_cat1, sparse_cat2, cross_bb] then the first will run and it will crash on the second if left uncommented.\nIn your testing did the script complete successfully or did it hang as I saw in my testing? You simply state you saw a warning message not what happened after the warning message.", "body": "I am sorry I missed the include for real_valued_column I accidentally removed it when simplifying the code to share, as you say simply adding the line `from tensorflow.contrib.layers import real_valued_column` fixes this. I will edit the original to fix this.\r\n\r\nThe warnings you see are warnings not errors and as such are not expected to prevent the algorithm from correctly training. These are also related to the use of the pandas_input_fn I believe but I have not managed to fully understand their source when investigating. They do not prevent the successful running of the above code with the crossed_columns removed and I believe they are unrelated to this problem.\r\n\r\nI have run this script on multiple systems and encountered the same issue so I don't believe it is missing anything. Please also note there are two `model.fit` lines at the bottom, the script will not complete successfully if both these are uncommented I provided both to demonstrate a working case and a not working case. In my running I have found that the bug in the first prevents the running of the second but in the case the first is commented out the second will run. Also if the line `feature_columns = [sparse_cat1, sparse_cat2, cross_bb, cross_cc, cross_bc]` is changed to `feature_columns = [sparse_cat1, sparse_cat2, cross_bb]` then the first will run and it will crash on the second if left uncommented.\r\n\r\nIn your testing did the script complete successfully or did it hang as I saw in my testing? You simply state you saw a warning message not what happened after the warning message."}