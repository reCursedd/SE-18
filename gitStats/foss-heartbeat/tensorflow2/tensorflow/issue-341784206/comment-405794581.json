{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/405794581", "html_url": "https://github.com/tensorflow/tensorflow/issues/20871#issuecomment-405794581", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20871", "id": 405794581, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTc5NDU4MQ==", "user": {"login": "longchr123", "id": 15262666, "node_id": "MDQ6VXNlcjE1MjYyNjY2", "avatar_url": "https://avatars0.githubusercontent.com/u/15262666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/longchr123", "html_url": "https://github.com/longchr123", "followers_url": "https://api.github.com/users/longchr123/followers", "following_url": "https://api.github.com/users/longchr123/following{/other_user}", "gists_url": "https://api.github.com/users/longchr123/gists{/gist_id}", "starred_url": "https://api.github.com/users/longchr123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/longchr123/subscriptions", "organizations_url": "https://api.github.com/users/longchr123/orgs", "repos_url": "https://api.github.com/users/longchr123/repos", "events_url": "https://api.github.com/users/longchr123/events{/privacy}", "received_events_url": "https://api.github.com/users/longchr123/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-18T03:07:21Z", "updated_at": "2018-07-18T03:07:21Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1162712\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/shashishekhar\">@shashishekhar</a>  there is no test data for training, If i don't use --allow_custom_ops in bazel command,there will be errors,like this:</p>\n<pre><code>Running command line: bazel-bin/tensorflow/contrib/lite/toco/toco '--input_file=/home/leve/lcr/model_result/tflite_test/expert-graph.pb' '--output_file=/home/leve/lcr/model_result/tflite_test/expert-graph.tflite' '--input_format=TENSORFLOW_GRAPHDEF' '--output_format=TFLITE' '--input_shape=1,128,128,3' '--input_array=img' '--output_array=out' '--inference_type=FLOAT' '--input_data_type=FLOAT'\n2018-07-18 10:50:45.979461: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1265] Converting unsupported operation: SquaredDifference\n2018-07-18 10:50:45.979688: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 27 operators, 41 arrays (0 quantized)\n2018-07-18 10:50:45.979826: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 27 operators, 41 arrays (0 quantized)\n2018-07-18 10:50:45.980017: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 13 operators, 21 arrays (0 quantized)\n2018-07-18 10:50:45.980086: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 13 operators, 21 arrays (0 quantized)\n2018-07-18 10:50:45.980144: I tensorflow/contrib/lite/toco/allocate_transient_arrays.cc:329] Total transient array allocated size: 196736 bytes, theoretical optimal value: 196672 bytes.\n2018-07-18 10:50:45.980271: F tensorflow/contrib/lite/toco/tflite/export.cc:315] Some of the operators in the model are not supported by the standard TensorFlow Lite runtime. If you have a custom implementation for them you can disable this error with --allow_custom_ops. Here is a list of operators for which you will need custom implementations: RSQRT, SquaredDifference.\n</code></pre>\n<p><strong>how to sovle it?</strong></p>", "body_text": "@shashishekhar  there is no test data for training, If i don't use --allow_custom_ops in bazel command,there will be errors,like this:\nRunning command line: bazel-bin/tensorflow/contrib/lite/toco/toco '--input_file=/home/leve/lcr/model_result/tflite_test/expert-graph.pb' '--output_file=/home/leve/lcr/model_result/tflite_test/expert-graph.tflite' '--input_format=TENSORFLOW_GRAPHDEF' '--output_format=TFLITE' '--input_shape=1,128,128,3' '--input_array=img' '--output_array=out' '--inference_type=FLOAT' '--input_data_type=FLOAT'\n2018-07-18 10:50:45.979461: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1265] Converting unsupported operation: SquaredDifference\n2018-07-18 10:50:45.979688: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 27 operators, 41 arrays (0 quantized)\n2018-07-18 10:50:45.979826: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 27 operators, 41 arrays (0 quantized)\n2018-07-18 10:50:45.980017: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 13 operators, 21 arrays (0 quantized)\n2018-07-18 10:50:45.980086: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 13 operators, 21 arrays (0 quantized)\n2018-07-18 10:50:45.980144: I tensorflow/contrib/lite/toco/allocate_transient_arrays.cc:329] Total transient array allocated size: 196736 bytes, theoretical optimal value: 196672 bytes.\n2018-07-18 10:50:45.980271: F tensorflow/contrib/lite/toco/tflite/export.cc:315] Some of the operators in the model are not supported by the standard TensorFlow Lite runtime. If you have a custom implementation for them you can disable this error with --allow_custom_ops. Here is a list of operators for which you will need custom implementations: RSQRT, SquaredDifference.\n\nhow to sovle it?", "body": "@shashishekhar  there is no test data for training, If i don't use --allow_custom_ops in bazel command,there will be errors,like this:\r\n```\r\nRunning command line: bazel-bin/tensorflow/contrib/lite/toco/toco '--input_file=/home/leve/lcr/model_result/tflite_test/expert-graph.pb' '--output_file=/home/leve/lcr/model_result/tflite_test/expert-graph.tflite' '--input_format=TENSORFLOW_GRAPHDEF' '--output_format=TFLITE' '--input_shape=1,128,128,3' '--input_array=img' '--output_array=out' '--inference_type=FLOAT' '--input_data_type=FLOAT'\r\n2018-07-18 10:50:45.979461: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1265] Converting unsupported operation: SquaredDifference\r\n2018-07-18 10:50:45.979688: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 27 operators, 41 arrays (0 quantized)\r\n2018-07-18 10:50:45.979826: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 27 operators, 41 arrays (0 quantized)\r\n2018-07-18 10:50:45.980017: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 13 operators, 21 arrays (0 quantized)\r\n2018-07-18 10:50:45.980086: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 13 operators, 21 arrays (0 quantized)\r\n2018-07-18 10:50:45.980144: I tensorflow/contrib/lite/toco/allocate_transient_arrays.cc:329] Total transient array allocated size: 196736 bytes, theoretical optimal value: 196672 bytes.\r\n2018-07-18 10:50:45.980271: F tensorflow/contrib/lite/toco/tflite/export.cc:315] Some of the operators in the model are not supported by the standard TensorFlow Lite runtime. If you have a custom implementation for them you can disable this error with --allow_custom_ops. Here is a list of operators for which you will need custom implementations: RSQRT, SquaredDifference.\r\n```\r\n\r\n**how to sovle it?**"}