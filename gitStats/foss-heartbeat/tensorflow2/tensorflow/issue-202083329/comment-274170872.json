{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/274170872", "html_url": "https://github.com/tensorflow/tensorflow/issues/6974#issuecomment-274170872", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6974", "id": 274170872, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NDE3MDg3Mg==", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-20T20:23:51Z", "updated_at": "2017-01-20T20:23:51Z", "author_association": "MEMBER", "body_html": "<p>I was thinking about things working end-to-end, but as you correctly point out, there is no strict dependency.</p>\n<p>That said, I'm not sure if the right fix is to catch and ignore the <code>AlreadyExistsError</code> or if there should be no error in the first place. For example, the underlying C++ operation should <em>not</em> be failing (<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/tensorflow/tensorflow/blob/5e5dc97dd3523509ce5f536d7be5122d016fc6b5/tensorflow/core/platform/file_system.h#L107\">tensorflow/tensorflow/core/platform/file_system.h</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 107\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/tensorflow/tensorflow/commit/5e5dc97dd3523509ce5f536d7be5122d016fc6b5\">5e5dc97</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L107\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"107\"></td>\n          <td id=\"LC107\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">//</span>  * OK - successfully created the directory and sub directories, even if</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n)</p>\n<p>So I'd like to understand why the error is being thrown. Doesn't happen in this simple test:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\ntf.platform.gfile.MakeDirs(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/tmp/foo<span class=\"pl-pds\">'</span></span>)\ntf.platform.gfile.MakeDirs(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/tmp/foo<span class=\"pl-pds\">'</span></span>)</pre></div>\n<p>Let me dig around a bit as to why you're getting this error, or if you have any pointers, that would be help.</p>", "body_text": "I was thinking about things working end-to-end, but as you correctly point out, there is no strict dependency.\nThat said, I'm not sure if the right fix is to catch and ignore the AlreadyExistsError or if there should be no error in the first place. For example, the underlying C++ operation should not be failing (\n  \n    \n      tensorflow/tensorflow/core/platform/file_system.h\n    \n    \n         Line 107\n      in\n      5e5dc97\n    \n    \n    \n    \n\n        \n          \n           //  * OK - successfully created the directory and sub directories, even if \n        \n    \n  \n\n)\nSo I'd like to understand why the error is being thrown. Doesn't happen in this simple test:\nimport tensorflow as tf\ntf.platform.gfile.MakeDirs('/tmp/foo')\ntf.platform.gfile.MakeDirs('/tmp/foo')\nLet me dig around a bit as to why you're getting this error, or if you have any pointers, that would be help.", "body": "I was thinking about things working end-to-end, but as you correctly point out, there is no strict dependency. \r\n\r\nThat said, I'm not sure if the right fix is to catch and ignore the `AlreadyExistsError` or if there should be no error in the first place. For example, the underlying C++ operation should _not_ be failing (https://github.com/tensorflow/tensorflow/blob/5e5dc97dd3523509ce5f536d7be5122d016fc6b5/tensorflow/core/platform/file_system.h#L107) \r\n\r\nSo I'd like to understand why the error is being thrown. Doesn't happen in this simple test:\r\n```python\r\nimport tensorflow as tf\r\ntf.platform.gfile.MakeDirs('/tmp/foo')\r\ntf.platform.gfile.MakeDirs('/tmp/foo')\r\n```\r\n\r\nLet me dig around a bit as to why you're getting this error, or if you have any pointers, that would be help."}