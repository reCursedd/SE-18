{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19045", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19045/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19045/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19045/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19045", "id": 319781209, "node_id": "MDU6SXNzdWUzMTk3ODEyMDk=", "number": 19045, "title": "tf.boolean_mask always return empty results while the mask has true value", "user": {"login": "memelan", "id": 18610064, "node_id": "MDQ6VXNlcjE4NjEwMDY0", "avatar_url": "https://avatars3.githubusercontent.com/u/18610064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/memelan", "html_url": "https://github.com/memelan", "followers_url": "https://api.github.com/users/memelan/followers", "following_url": "https://api.github.com/users/memelan/following{/other_user}", "gists_url": "https://api.github.com/users/memelan/gists{/gist_id}", "starred_url": "https://api.github.com/users/memelan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/memelan/subscriptions", "organizations_url": "https://api.github.com/users/memelan/orgs", "repos_url": "https://api.github.com/users/memelan/repos", "events_url": "https://api.github.com/users/memelan/events{/privacy}", "received_events_url": "https://api.github.com/users/memelan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-05-03T03:59:11Z", "updated_at": "2018-06-12T01:35:54Z", "closed_at": "2018-06-12T01:35:54Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>CentOS Linux release 7.4.1708 (Core)</li>\n<li>TensorFlow installed from source</li>\n<li>TensorFlow version: 1.3.0</li>\n<li>Python version: 3.6.3</li>\n<li>gcc version 4.8.5 20150623 (Red Hat 4.8.5-16) (GCC)</li>\n<li>Cuda compilation tools, release 9.1, V9.1.85</li>\n<li>GPU GeForce GTX 1080Ti *2</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I am trying to use the function of tf.boolean_mask to select value from a 5D tensor. To make things easier, I just make my mask as same shape of target tensor, that is (1,12,125,179,1), but it will return zero dimension tensor as result.</p>\n<p>Then I tried with the example tensorflow provided in official documentation. I found there's some problem with the function.<br>\nThis is the document and example in tensorflow document (Since I cannot use axis argument in my environment, I think I might close to this case): <a href=\"https://www.tensorflow.org/versions/r1.0/api_docs/python/tf/boolean_mask\" rel=\"nofollow\">https://www.tensorflow.org/versions/r1.0/api_docs/python/tf/boolean_mask</a><br>\nIn my system, the example tensorflow documentation provided would return zero dimension tensor instead of one dimension as the example case.<br>\nHere's the example code and result:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/18610064/39559423-aca5170e-4ec8-11e8-94dc-d4f29e9876ad.png\"><img src=\"https://user-images.githubusercontent.com/18610064/39559423-aca5170e-4ec8-11e8-94dc-d4f29e9876ad.png\" alt=\"1\" style=\"max-width:100%;\"></a></p>\n<h3>Code</h3>\n<p>As to my case, it not so different from the example, the case just from 2D to 5D.<br>\n1 make the mask same shape with target tensor, result (none) shape tensor:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/18610064/39559462-f9d241e6-4ec8-11e8-8e4b-ae1eb57a7bc6.png\"><img src=\"https://user-images.githubusercontent.com/18610064/39559462-f9d241e6-4ec8-11e8-8e4b-ae1eb57a7bc6.png\" alt=\"2\" style=\"max-width:100%;\"></a><br>\n2 make the mask 1D less than target tensor, result (none, 1) shape tensor:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/18610064/39559495-3a5864a2-4ec9-11e8-907b-fec0627792a4.png\"><img src=\"https://user-images.githubusercontent.com/18610064/39559495-3a5864a2-4ec9-11e8-907b-fec0627792a4.png\" alt=\"3\" style=\"max-width:100%;\"></a></p>\n<p>It's easy to reproduce with random np.array and tf.tensor.</p>\n<p>It would be appreciated that you could spend some time to take a look at it. Thanks.</p>", "body_text": "System information\n\nCentOS Linux release 7.4.1708 (Core)\nTensorFlow installed from source\nTensorFlow version: 1.3.0\nPython version: 3.6.3\ngcc version 4.8.5 20150623 (Red Hat 4.8.5-16) (GCC)\nCuda compilation tools, release 9.1, V9.1.85\nGPU GeForce GTX 1080Ti *2\n\nDescribe the problem\nI am trying to use the function of tf.boolean_mask to select value from a 5D tensor. To make things easier, I just make my mask as same shape of target tensor, that is (1,12,125,179,1), but it will return zero dimension tensor as result.\nThen I tried with the example tensorflow provided in official documentation. I found there's some problem with the function.\nThis is the document and example in tensorflow document (Since I cannot use axis argument in my environment, I think I might close to this case): https://www.tensorflow.org/versions/r1.0/api_docs/python/tf/boolean_mask\nIn my system, the example tensorflow documentation provided would return zero dimension tensor instead of one dimension as the example case.\nHere's the example code and result:\n\nCode\nAs to my case, it not so different from the example, the case just from 2D to 5D.\n1 make the mask same shape with target tensor, result (none) shape tensor:\n\n2 make the mask 1D less than target tensor, result (none, 1) shape tensor:\n\nIt's easy to reproduce with random np.array and tf.tensor.\nIt would be appreciated that you could spend some time to take a look at it. Thanks.", "body": "### System information\r\n-  CentOS Linux release 7.4.1708 (Core)\r\n-  TensorFlow installed from source \r\n-  TensorFlow version: 1.3.0\r\n-  Python version: 3.6.3\r\n-  gcc version 4.8.5 20150623 (Red Hat 4.8.5-16) (GCC) \r\n-  Cuda compilation tools, release 9.1, V9.1.85\r\n-  GPU GeForce GTX 1080Ti *2\r\n\r\n### Describe the problem\r\nI am trying to use the function of tf.boolean_mask to select value from a 5D tensor. To make things easier, I just make my mask as same shape of target tensor, that is (1,12,125,179,1), but it will return zero dimension tensor as result.\r\n\r\nThen I tried with the example tensorflow provided in official documentation. I found there's some problem with the function.\r\nThis is the document and example in tensorflow document (Since I cannot use axis argument in my environment, I think I might close to this case): https://www.tensorflow.org/versions/r1.0/api_docs/python/tf/boolean_mask\r\nIn my system, the example tensorflow documentation provided would return zero dimension tensor instead of one dimension as the example case.\r\nHere's the example code and result:\r\n![1](https://user-images.githubusercontent.com/18610064/39559423-aca5170e-4ec8-11e8-94dc-d4f29e9876ad.png)\r\n\r\n\r\n### Code\r\nAs to my case, it not so different from the example, the case just from 2D to 5D.\r\n1 make the mask same shape with target tensor, result (none) shape tensor:\r\n![2](https://user-images.githubusercontent.com/18610064/39559462-f9d241e6-4ec8-11e8-8e4b-ae1eb57a7bc6.png)\r\n2 make the mask 1D less than target tensor, result (none, 1) shape tensor:\r\n![3](https://user-images.githubusercontent.com/18610064/39559495-3a5864a2-4ec9-11e8-907b-fec0627792a4.png)\r\n\r\nIt's easy to reproduce with random np.array and tf.tensor.\r\n\r\nIt would be appreciated that you could spend some time to take a look at it. Thanks.\r\n"}