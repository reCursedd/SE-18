{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/357543523", "html_url": "https://github.com/tensorflow/tensorflow/issues/15278#issuecomment-357543523", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15278", "id": 357543523, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzU0MzUyMw==", "user": {"login": "tocab", "id": 1671312, "node_id": "MDQ6VXNlcjE2NzEzMTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1671312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tocab", "html_url": "https://github.com/tocab", "followers_url": "https://api.github.com/users/tocab/followers", "following_url": "https://api.github.com/users/tocab/following{/other_user}", "gists_url": "https://api.github.com/users/tocab/gists{/gist_id}", "starred_url": "https://api.github.com/users/tocab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tocab/subscriptions", "organizations_url": "https://api.github.com/users/tocab/orgs", "repos_url": "https://api.github.com/users/tocab/repos", "events_url": "https://api.github.com/users/tocab/events{/privacy}", "received_events_url": "https://api.github.com/users/tocab/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-14T21:22:00Z", "updated_at": "2018-01-14T21:22:33Z", "author_association": "NONE", "body_html": "<p>This is the error code i receive when i run my code with tensorflow 1.5rc1:</p>\n<pre lang=\"Traceback\" data-meta=\"(most recent call last):\"><code>  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 577, in gradients\n    grad_fn = ops.get_gradient_function(op)\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2305, in get_gradient_function\n    return _gradient_registry.lookup(op_type)\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\framework\\registry.py\", line 93, in lookup\n    \"%s registry has no entry for: %s\" % (self._name, name))\nLookupError: gradient registry has no entry for: ArgMax\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:/Pycharm Projects/YahooSemEval/yahoo_main.py\", line 48, in &lt;module&gt;\n    main()\n  File \"D:/Pycharm Projects/YahooSemEval/yahoo_main.py\", line 44, in main\n    mode=args.mode, attention=args.attention)\n  File \"D:\\Pycharm Projects\\YahooSemEval\\model\\pre_train_model.py\", line 80, in __init__\n    self.build_mle_modul(target_output, self.final_outputs.rnn_output)\n  File \"D:\\Pycharm Projects\\YahooSemEval\\model\\pre_train_model.py\", line 284, in build_mle_modul\n    self.mle_train_op = tf.train.AdamOptimizer().minimize(self.loss)\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 355, in minimize\n    grad_loss=grad_loss)\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 456, in compute_gradients\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 581, in gradients\n    (op.name, op.type))\nLookupError: No gradient defined for operation 'train_decoder/decoder/while/BasicDecoderStep/TrainingHelperSample/ArgMax' (op type: ArgMax)\n</code></pre>\n<p>With tensorflow 1.4, it runs correctly. My code has a similar structur as the code postet from sleighsoft.</p>", "body_text": "This is the error code i receive when i run my code with tensorflow 1.5rc1:\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 577, in gradients\n    grad_fn = ops.get_gradient_function(op)\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2305, in get_gradient_function\n    return _gradient_registry.lookup(op_type)\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\framework\\registry.py\", line 93, in lookup\n    \"%s registry has no entry for: %s\" % (self._name, name))\nLookupError: gradient registry has no entry for: ArgMax\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:/Pycharm Projects/YahooSemEval/yahoo_main.py\", line 48, in <module>\n    main()\n  File \"D:/Pycharm Projects/YahooSemEval/yahoo_main.py\", line 44, in main\n    mode=args.mode, attention=args.attention)\n  File \"D:\\Pycharm Projects\\YahooSemEval\\model\\pre_train_model.py\", line 80, in __init__\n    self.build_mle_modul(target_output, self.final_outputs.rnn_output)\n  File \"D:\\Pycharm Projects\\YahooSemEval\\model\\pre_train_model.py\", line 284, in build_mle_modul\n    self.mle_train_op = tf.train.AdamOptimizer().minimize(self.loss)\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 355, in minimize\n    grad_loss=grad_loss)\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 456, in compute_gradients\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 581, in gradients\n    (op.name, op.type))\nLookupError: No gradient defined for operation 'train_decoder/decoder/while/BasicDecoderStep/TrainingHelperSample/ArgMax' (op type: ArgMax)\n\nWith tensorflow 1.4, it runs correctly. My code has a similar structur as the code postet from sleighsoft.", "body": "This is the error code i receive when i run my code with tensorflow 1.5rc1:\r\n\r\n~~~~ Traceback (most recent call last):\r\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 577, in gradients\r\n    grad_fn = ops.get_gradient_function(op)\r\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2305, in get_gradient_function\r\n    return _gradient_registry.lookup(op_type)\r\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\framework\\registry.py\", line 93, in lookup\r\n    \"%s registry has no entry for: %s\" % (self._name, name))\r\nLookupError: gradient registry has no entry for: ArgMax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:/Pycharm Projects/YahooSemEval/yahoo_main.py\", line 48, in <module>\r\n    main()\r\n  File \"D:/Pycharm Projects/YahooSemEval/yahoo_main.py\", line 44, in main\r\n    mode=args.mode, attention=args.attention)\r\n  File \"D:\\Pycharm Projects\\YahooSemEval\\model\\pre_train_model.py\", line 80, in __init__\r\n    self.build_mle_modul(target_output, self.final_outputs.rnn_output)\r\n  File \"D:\\Pycharm Projects\\YahooSemEval\\model\\pre_train_model.py\", line 284, in build_mle_modul\r\n    self.mle_train_op = tf.train.AdamOptimizer().minimize(self.loss)\r\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 355, in minimize\r\n    grad_loss=grad_loss)\r\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 456, in compute_gradients\r\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\r\n  File \"C:\\Users\\Tobi\\AppData\\Local\\conda\\conda\\envs\\tensorflow1.5\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 581, in gradients\r\n    (op.name, op.type))\r\nLookupError: No gradient defined for operation 'train_decoder/decoder/while/BasicDecoderStep/TrainingHelperSample/ArgMax' (op type: ArgMax)\r\n~~~~ \r\n\r\nWith tensorflow 1.4, it runs correctly. My code has a similar structur as the code postet from sleighsoft."}