{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/357426919", "html_url": "https://github.com/tensorflow/tensorflow/issues/6035#issuecomment-357426919", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6035", "id": 357426919, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzQyNjkxOQ==", "user": {"login": "mmpinso", "id": 1001128, "node_id": "MDQ6VXNlcjEwMDExMjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1001128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmpinso", "html_url": "https://github.com/mmpinso", "followers_url": "https://api.github.com/users/mmpinso/followers", "following_url": "https://api.github.com/users/mmpinso/following{/other_user}", "gists_url": "https://api.github.com/users/mmpinso/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmpinso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmpinso/subscriptions", "organizations_url": "https://api.github.com/users/mmpinso/orgs", "repos_url": "https://api.github.com/users/mmpinso/repos", "events_url": "https://api.github.com/users/mmpinso/events{/privacy}", "received_events_url": "https://api.github.com/users/mmpinso/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-13T11:14:15Z", "updated_at": "2018-01-14T12:33:24Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=19587034\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/liangxiao05\">@liangxiao05</a> did you get the following error? No OpKernel was registered to support Op '<strong>ScatterNd</strong>' with these attrs.</p>\n<p>[[Node: ENet/unpool/ScatterNd = ScatterNd[T=DT_FLOAT, Tindices=DT_INT32](ENet/unpool/transpose, ENet/unpool/Reshape_2, ENet/unpool/ScatterNd/shape)]]</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6844416\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/saeed68gm\">@saeed68gm</a> , could this be because of</p>\n<ul>\n<li>The commented operation below in the modified maxpooling_op.cc ?</li>\n</ul>\n<p>Inside Compute() for MaxPoolingGradWithArgmaxOp<br>\nlines 1069-1070<br>\n// SpatialMaxPoolWithArgMaxHelper&lt;CPUDevice, T&gt;(<br>\n//     context, grad_out, &amp;argmax, grad_in, params, padding_);</p>\n<ul>\n<li>SpatialMaxPoolWithArgMaxHelper used instead of LaunchMaxPoolingWithArgmax inside MaxPoolingWithArgmaxOp / Compute ?</li>\n</ul>\n<p>The intuition behind is that ScatterNd is used by unpool, which uses the pooling indices that had been computed by max_pooling_with_argmax during the downsampling phase. If such indices had not been computed or \"wrongly\" computed, this might have an impact on the unpool operation using such indices.</p>", "body_text": "@liangxiao05 did you get the following error? No OpKernel was registered to support Op 'ScatterNd' with these attrs.\n[[Node: ENet/unpool/ScatterNd = ScatterNd[T=DT_FLOAT, Tindices=DT_INT32](ENet/unpool/transpose, ENet/unpool/Reshape_2, ENet/unpool/ScatterNd/shape)]]\n@saeed68gm , could this be because of\n\nThe commented operation below in the modified maxpooling_op.cc ?\n\nInside Compute() for MaxPoolingGradWithArgmaxOp\nlines 1069-1070\n// SpatialMaxPoolWithArgMaxHelper<CPUDevice, T>(\n//     context, grad_out, &argmax, grad_in, params, padding_);\n\nSpatialMaxPoolWithArgMaxHelper used instead of LaunchMaxPoolingWithArgmax inside MaxPoolingWithArgmaxOp / Compute ?\n\nThe intuition behind is that ScatterNd is used by unpool, which uses the pooling indices that had been computed by max_pooling_with_argmax during the downsampling phase. If such indices had not been computed or \"wrongly\" computed, this might have an impact on the unpool operation using such indices.", "body": "@liangxiao05 did you get the following error? No OpKernel was registered to support Op '**ScatterNd**' with these attrs.\r\n\r\n[[Node: ENet/unpool/ScatterNd = ScatterNd[T=DT_FLOAT, Tindices=DT_INT32](ENet/unpool/transpose, ENet/unpool/Reshape_2, ENet/unpool/ScatterNd/shape)]]\r\n\r\n@saeed68gm , could this be because of \r\n\r\n- The commented operation below in the modified maxpooling_op.cc ?\r\n\r\nInside Compute() for MaxPoolingGradWithArgmaxOp\r\nlines 1069-1070\r\n    // SpatialMaxPoolWithArgMaxHelper<CPUDevice, T>(\r\n    //     context, grad_out, &argmax, grad_in, params, padding_);\r\n\r\n- SpatialMaxPoolWithArgMaxHelper used instead of LaunchMaxPoolingWithArgmax inside MaxPoolingWithArgmaxOp / Compute ?\r\n\r\nThe intuition behind is that ScatterNd is used by unpool, which uses the pooling indices that had been computed by max_pooling_with_argmax during the downsampling phase. If such indices had not been computed or \"wrongly\" computed, this might have an impact on the unpool operation using such indices."}