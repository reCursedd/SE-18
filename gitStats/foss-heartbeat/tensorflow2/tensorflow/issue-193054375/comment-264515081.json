{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/264515081", "html_url": "https://github.com/tensorflow/tensorflow/issues/6035#issuecomment-264515081", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6035", "id": 264515081, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDUxNTA4MQ==", "user": {"login": "0bserver07", "id": 2153691, "node_id": "MDQ6VXNlcjIxNTM2OTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2153691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0bserver07", "html_url": "https://github.com/0bserver07", "followers_url": "https://api.github.com/users/0bserver07/followers", "following_url": "https://api.github.com/users/0bserver07/following{/other_user}", "gists_url": "https://api.github.com/users/0bserver07/gists{/gist_id}", "starred_url": "https://api.github.com/users/0bserver07/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0bserver07/subscriptions", "organizations_url": "https://api.github.com/users/0bserver07/orgs", "repos_url": "https://api.github.com/users/0bserver07/repos", "events_url": "https://api.github.com/users/0bserver07/events{/privacy}", "received_events_url": "https://api.github.com/users/0bserver07/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-02T17:43:33Z", "updated_at": "2016-12-02T17:43:33Z", "author_association": "NONE", "body_html": "<p>Perhaps it's about having this registered with the CPU as well. <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/g3doc/api_docs/python/functions_and_classes/shard9/tf.nn.max_pool_with_argmax.md\">tf.nn.max_pool_with_argmax</a></p>\n<div class=\"highlight highlight-source-python\"><pre>REGISTER_KERNEL_BUILDER(Name(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>MaxPoolWithArgmax<span class=\"pl-pds\">\"</span></span>)\n                            .Device(<span class=\"pl-c1\">DEVICE_GPU</span>)\n                            .TypeConstraint<span class=\"pl-k\">&lt;</span>int64<span class=\"pl-k\">&gt;</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Targmax<span class=\"pl-pds\">\"</span></span>)\n                            .TypeConstraint<span class=\"pl-k\">&lt;</span><span class=\"pl-c1\">float</span><span class=\"pl-k\">&gt;</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>T<span class=\"pl-pds\">\"</span></span>),\n                        MaxPoolingWithArgmaxOp<span class=\"pl-k\">&lt;</span>Eigen::GpuDevice, <span class=\"pl-c1\">float</span><span class=\"pl-k\">&gt;</span>)<span class=\"pl-bu\">;</span>\nREGISTER_KERNEL_BUILDER(Name(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>MaxPoolWithArgmax<span class=\"pl-pds\">\"</span></span>)\n                            .Device(<span class=\"pl-c1\">DEVICE_GPU</span>)\n                            .TypeConstraint<span class=\"pl-k\">&lt;</span>int64<span class=\"pl-k\">&gt;</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Targmax<span class=\"pl-pds\">\"</span></span>)\n                            .TypeConstraint<span class=\"pl-k\">&lt;</span>Eigen::half<span class=\"pl-k\">&gt;</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>T<span class=\"pl-pds\">\"</span></span>),\nMaxPoolingWithArgmaxOp<span class=\"pl-k\">&lt;</span>Eigen::GpuDevice, Eigen::half<span class=\"pl-k\">&gt;</span>)<span class=\"pl-bu\">;</span></pre></div>\n<p>This might be somehow useful and related as well <a href=\"https://github.com/tensorflow/tensorflow/issues/1793\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1793/hovercard\">Missing gradient for tf.nn.max_pool_with_argmax #1793</a></p>", "body_text": "Perhaps it's about having this registered with the CPU as well. tf.nn.max_pool_with_argmax\nREGISTER_KERNEL_BUILDER(Name(\"MaxPoolWithArgmax\")\n                            .Device(DEVICE_GPU)\n                            .TypeConstraint<int64>(\"Targmax\")\n                            .TypeConstraint<float>(\"T\"),\n                        MaxPoolingWithArgmaxOp<Eigen::GpuDevice, float>);\nREGISTER_KERNEL_BUILDER(Name(\"MaxPoolWithArgmax\")\n                            .Device(DEVICE_GPU)\n                            .TypeConstraint<int64>(\"Targmax\")\n                            .TypeConstraint<Eigen::half>(\"T\"),\nMaxPoolingWithArgmaxOp<Eigen::GpuDevice, Eigen::half>);\nThis might be somehow useful and related as well Missing gradient for tf.nn.max_pool_with_argmax #1793", "body": "Perhaps it's about having this registered with the CPU as well. [tf.nn.max_pool_with_argmax](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/g3doc/api_docs/python/functions_and_classes/shard9/tf.nn.max_pool_with_argmax.md)\r\n\r\n```python\r\nREGISTER_KERNEL_BUILDER(Name(\"MaxPoolWithArgmax\")\r\n                            .Device(DEVICE_GPU)\r\n                            .TypeConstraint<int64>(\"Targmax\")\r\n                            .TypeConstraint<float>(\"T\"),\r\n                        MaxPoolingWithArgmaxOp<Eigen::GpuDevice, float>);\r\nREGISTER_KERNEL_BUILDER(Name(\"MaxPoolWithArgmax\")\r\n                            .Device(DEVICE_GPU)\r\n                            .TypeConstraint<int64>(\"Targmax\")\r\n                            .TypeConstraint<Eigen::half>(\"T\"),\r\nMaxPoolingWithArgmaxOp<Eigen::GpuDevice, Eigen::half>);\r\n```\r\n\r\nThis might be somehow useful and related as well [Missing gradient for tf.nn.max_pool_with_argmax #1793](https://github.com/tensorflow/tensorflow/issues/1793)"}