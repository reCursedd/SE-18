{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4531", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4531/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4531/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4531/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4531", "id": 178555597, "node_id": "MDU6SXNzdWUxNzg1NTU1OTc=", "number": 4531, "title": "Error while updating tensorflow installed from source", "user": {"login": "kkjh0723", "id": 10104262, "node_id": "MDQ6VXNlcjEwMTA0MjYy", "avatar_url": "https://avatars3.githubusercontent.com/u/10104262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kkjh0723", "html_url": "https://github.com/kkjh0723", "followers_url": "https://api.github.com/users/kkjh0723/followers", "following_url": "https://api.github.com/users/kkjh0723/following{/other_user}", "gists_url": "https://api.github.com/users/kkjh0723/gists{/gist_id}", "starred_url": "https://api.github.com/users/kkjh0723/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kkjh0723/subscriptions", "organizations_url": "https://api.github.com/users/kkjh0723/orgs", "repos_url": "https://api.github.com/users/kkjh0723/repos", "events_url": "https://api.github.com/users/kkjh0723/events{/privacy}", "received_events_url": "https://api.github.com/users/kkjh0723/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-09-22T08:56:55Z", "updated_at": "2016-10-21T05:28:00Z", "closed_at": "2016-09-24T05:24:22Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04.4</p>\n<p>Installed version of CUDA and cuDNN: CUDA 8.0, cuDNN 5<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<pre><code>-rw-r--r-- 1 root root   560184  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart.so -&gt; libcudart.so.8.0\nlrwxrwxrwx 1 root root       19  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.27\n-rwxr-xr-x 1 root root   394472  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.27\n-rw-r--r-- 1 root root   737516  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart_static.a\n-rwxr-xr-x 1 root root 78065952  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn.so\n-rwxr-xr-x 1 root root 78065952  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn.so.5\n-rwxr-xr-x 1 root root 78065952  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn.so.5.0.5\n-rw-r--r-- 1 root root 68709594  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn_static.a\n</code></pre>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)</li>\n</ol>\n<p><code>ca1aa4ad2d4e011e8479319e10d73281a50f7560</code></p>\n<ol>\n<li>\n<p>The output of <code>bazel version</code></p>\n<p>Build label: 0.2.3<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Tue May 17 14:21:13 2016 (1463494873)<br>\nBuild timestamp: 1463494873<br>\nBuild timestamp as int: 1463494873</p>\n</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>I installed tensorflow around two monthes ago and I've used it.<br>\nThen, I tried to update by following <a href=\"http://stackoverflow.com/questions/34239537/how-to-update-tensorflow-from-source\" rel=\"nofollow\">Stackoverflow</a>.</p>\n<p>I first tried 'git pull', it could not be merged since I have some changes in source.<br>\nSo I reset the source by</p>\n<pre><code>git fetch --all\ngit reset --hard origin/master\n</code></pre>\n<p>Then I did <code>./configure</code>. But it gives errors. I attached the output of the configure below.<br>\nIt's weird because I successfully update with this way before.<br>\nActually, I also tried same way in another system (Cuda 7.0 cuDNN 4), but failed with similar error message...</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>\n<pre><code>Please specify the location of python. [Default is /home/jinhyung/anaconda2/bin/python]: \nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /home/jinhyung/anaconda2/lib/python2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/home/jinhyung/anaconda2/lib/python2.7/site-packages]\n\n/home/jinhyung/anaconda2/lib/python2.7/site-packages\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: \nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\n.\nERROR: /home/jinhyung/tensorflow/tensorflow/tensorflow.bzl:567:26: Traceback (most recent call last):\n    File \"/home/jinhyung/tensorflow/tensorflow/tensorflow.bzl\", line 561\n        rule(attrs = {\"srcs\": attr.label_list...\"), &lt;3 more arguments&gt;)}, &lt;2 more arguments&gt;)\n    File \"/home/jinhyung/tensorflow/tensorflow/tensorflow.bzl\", line 567, in rule\n        attr.label_list(cfg = \"data\", allow_files = True)\nexpected ConfigurationTransition or NoneType for 'cfg' while calling label_list but got string instead:     data.\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Extension file 'tensorflow/tensorflow.bzl' has errors.\nConfiguration finished\n</code></pre>", "body_text": "Environment info\nOperating System: Ubuntu 14.04.4\nInstalled version of CUDA and cuDNN: CUDA 8.0, cuDNN 5\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n-rw-r--r-- 1 root root   560184  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -> libcudart.so.8.0.27\n-rwxr-xr-x 1 root root   394472  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.27\n-rw-r--r-- 1 root root   737516  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart_static.a\n-rwxr-xr-x 1 root root 78065952  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn.so\n-rwxr-xr-x 1 root root 78065952  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn.so.5\n-rwxr-xr-x 1 root root 78065952  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn.so.5.0.5\n-rw-r--r-- 1 root root 68709594  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn_static.a\n\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\n\nca1aa4ad2d4e011e8479319e10d73281a50f7560\n\n\nThe output of bazel version\nBuild label: 0.2.3\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Tue May 17 14:21:13 2016 (1463494873)\nBuild timestamp: 1463494873\nBuild timestamp as int: 1463494873\n\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nI installed tensorflow around two monthes ago and I've used it.\nThen, I tried to update by following Stackoverflow.\nI first tried 'git pull', it could not be merged since I have some changes in source.\nSo I reset the source by\ngit fetch --all\ngit reset --hard origin/master\n\nThen I did ./configure. But it gives errors. I attached the output of the configure below.\nIt's weird because I successfully update with this way before.\nActually, I also tried same way in another system (Cuda 7.0 cuDNN 4), but failed with similar error message...\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nPlease specify the location of python. [Default is /home/jinhyung/anaconda2/bin/python]: \nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /home/jinhyung/anaconda2/lib/python2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/home/jinhyung/anaconda2/lib/python2.7/site-packages]\n\n/home/jinhyung/anaconda2/lib/python2.7/site-packages\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: \nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\n.\nERROR: /home/jinhyung/tensorflow/tensorflow/tensorflow.bzl:567:26: Traceback (most recent call last):\n    File \"/home/jinhyung/tensorflow/tensorflow/tensorflow.bzl\", line 561\n        rule(attrs = {\"srcs\": attr.label_list...\"), <3 more arguments>)}, <2 more arguments>)\n    File \"/home/jinhyung/tensorflow/tensorflow/tensorflow.bzl\", line 567, in rule\n        attr.label_list(cfg = \"data\", allow_files = True)\nexpected ConfigurationTransition or NoneType for 'cfg' while calling label_list but got string instead:     data.\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Extension file 'tensorflow/tensorflow.bzl' has errors.\nConfiguration finished", "body": "### Environment info\n\nOperating System: Ubuntu 14.04.4\n\nInstalled version of CUDA and cuDNN: CUDA 8.0, cuDNN 5\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\n```\n-rw-r--r-- 1 root root   560184  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -> libcudart.so.8.0.27\n-rwxr-xr-x 1 root root   394472  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.27\n-rw-r--r-- 1 root root   737516  7\uc6d4 29 09:12 /usr/local/cuda-8.0/lib64/libcudart_static.a\n-rwxr-xr-x 1 root root 78065952  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn.so\n-rwxr-xr-x 1 root root 78065952  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn.so.5\n-rwxr-xr-x 1 root root 78065952  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn.so.5.0.5\n-rw-r--r-- 1 root root 68709594  7\uc6d4 29 09:43 /usr/local/cuda-8.0/lib64/libcudnn_static.a\n```\n\nIf installed from source, provide \n1. The commit hash (`git rev-parse HEAD`)\n\n`ca1aa4ad2d4e011e8479319e10d73281a50f7560`\n1. The output of `bazel version`\n   \n    Build label: 0.2.3\n    Build target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\n    Build time: Tue May 17 14:21:13 2016 (1463494873)\n    Build timestamp: 1463494873\n    Build timestamp as int: 1463494873\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n\nI installed tensorflow around two monthes ago and I've used it.\nThen, I tried to update by following [Stackoverflow](http://stackoverflow.com/questions/34239537/how-to-update-tensorflow-from-source).\n\nI first tried 'git pull', it could not be merged since I have some changes in source.\nSo I reset the source by\n\n```\ngit fetch --all\ngit reset --hard origin/master\n```\n\nThen I did `./configure`. But it gives errors. I attached the output of the configure below.\nIt's weird because I successfully update with this way before.\nActually, I also tried same way in another system (Cuda 7.0 cuDNN 4), but failed with similar error message...\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment or provide link).\n\n```\nPlease specify the location of python. [Default is /home/jinhyung/anaconda2/bin/python]: \nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /home/jinhyung/anaconda2/lib/python2.7/site-packages\nPlease input the desired Python library path to use.  Default is [/home/jinhyung/anaconda2/lib/python2.7/site-packages]\n\n/home/jinhyung/anaconda2/lib/python2.7/site-packages\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: \nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\n.\nERROR: /home/jinhyung/tensorflow/tensorflow/tensorflow.bzl:567:26: Traceback (most recent call last):\n    File \"/home/jinhyung/tensorflow/tensorflow/tensorflow.bzl\", line 561\n        rule(attrs = {\"srcs\": attr.label_list...\"), <3 more arguments>)}, <2 more arguments>)\n    File \"/home/jinhyung/tensorflow/tensorflow/tensorflow.bzl\", line 567, in rule\n        attr.label_list(cfg = \"data\", allow_files = True)\nexpected ConfigurationTransition or NoneType for 'cfg' while calling label_list but got string instead:     data.\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Extension file 'tensorflow/tensorflow.bzl' has errors.\nConfiguration finished\n```\n"}