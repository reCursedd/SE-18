{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/412943872", "html_url": "https://github.com/tensorflow/tensorflow/issues/21492#issuecomment-412943872", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21492", "id": 412943872, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjk0Mzg3Mg==", "user": {"login": "xiejw", "id": 1184671, "node_id": "MDQ6VXNlcjExODQ2NzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1184671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiejw", "html_url": "https://github.com/xiejw", "followers_url": "https://api.github.com/users/xiejw/followers", "following_url": "https://api.github.com/users/xiejw/following{/other_user}", "gists_url": "https://api.github.com/users/xiejw/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiejw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiejw/subscriptions", "organizations_url": "https://api.github.com/users/xiejw/orgs", "repos_url": "https://api.github.com/users/xiejw/repos", "events_url": "https://api.github.com/users/xiejw/events{/privacy}", "received_events_url": "https://api.github.com/users/xiejw/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-14T17:01:45Z", "updated_at": "2018-08-14T17:01:45Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=667809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/karmel\">@karmel</a> do we have any expert for YARN? I do not understand that environment, so it is very hard for me to give best suggestions here.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=185856\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/superbobry\">@superbobry</a> As I mentioned above, I do not understand YARN. So, my suggestions could be wrong or sub-optimal. The minimal knowledge each training job should know is</p>\n<ol>\n<li>The port itself uses</li>\n<li>The ports used by PS</li>\n</ol>\n<p>The ports of other workers are optional. You still need to fill the TF_CONFIG, but the values of other workers do not matter.</p>\n<p>If the conditions above are met in YARN, then you can construct a device_filter (see <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.10/tensorflow/python/estimator/run_config.py#L518\">example code</a>). The session will try to find the device in that list only even other workers are online (or even the other worker's addresses are fake).</p>", "body_text": "@karmel do we have any expert for YARN? I do not understand that environment, so it is very hard for me to give best suggestions here.\n@superbobry As I mentioned above, I do not understand YARN. So, my suggestions could be wrong or sub-optimal. The minimal knowledge each training job should know is\n\nThe port itself uses\nThe ports used by PS\n\nThe ports of other workers are optional. You still need to fill the TF_CONFIG, but the values of other workers do not matter.\nIf the conditions above are met in YARN, then you can construct a device_filter (see example code). The session will try to find the device in that list only even other workers are online (or even the other worker's addresses are fake).", "body": "@karmel do we have any expert for YARN? I do not understand that environment, so it is very hard for me to give best suggestions here. \r\n\r\n@superbobry As I mentioned above, I do not understand YARN. So, my suggestions could be wrong or sub-optimal. The minimal knowledge each training job should know is \r\n\r\n1. The port itself uses\r\n2. The ports used by PS\r\n\r\nThe ports of other workers are optional. You still need to fill the TF_CONFIG, but the values of other workers do not matter. \r\n\r\nIf the conditions above are met in YARN, then you can construct a device_filter (see [example code](https://github.com/tensorflow/tensorflow/blob/r1.10/tensorflow/python/estimator/run_config.py#L518)). The session will try to find the device in that list only even other workers are online (or even the other worker's addresses are fake). "}