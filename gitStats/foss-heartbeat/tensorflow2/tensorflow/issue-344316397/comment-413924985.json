{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/413924985", "html_url": "https://github.com/tensorflow/tensorflow/issues/21120#issuecomment-413924985", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21120", "id": 413924985, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzkyNDk4NQ==", "user": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-17T16:50:15Z", "updated_at": "2018-08-17T16:50:15Z", "author_association": "MEMBER", "body_html": "<p>Unfortunately, you don't have a probability, because it would mean summing over all possible sequences of all admissible lengths. You can pretend that the top hypotheses that you get out of the decoder comprise all of the probability mass. In that case, then the scores are in log domain. You can compute</p>\n<pre><code>Z = sum_k(exp(score_k))\n</code></pre>\n<p>Then each sequence has a probability of <code>exp(score_k) / Z</code>.</p>", "body_text": "Unfortunately, you don't have a probability, because it would mean summing over all possible sequences of all admissible lengths. You can pretend that the top hypotheses that you get out of the decoder comprise all of the probability mass. In that case, then the scores are in log domain. You can compute\nZ = sum_k(exp(score_k))\n\nThen each sequence has a probability of exp(score_k) / Z.", "body": "Unfortunately, you don't have a probability, because it would mean summing over all possible sequences of all admissible lengths. You can pretend that the top hypotheses that you get out of the decoder comprise all of the probability mass. In that case, then the scores are in log domain. You can compute\r\n\r\n```\r\nZ = sum_k(exp(score_k))\r\n```\r\nThen each sequence has a probability of `exp(score_k) / Z`."}