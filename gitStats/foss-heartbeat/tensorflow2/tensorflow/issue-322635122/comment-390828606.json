{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/390828606", "html_url": "https://github.com/tensorflow/tensorflow/issues/19260#issuecomment-390828606", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19260", "id": 390828606, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDgyODYwNg==", "user": {"login": "alanchiao", "id": 4323109, "node_id": "MDQ6VXNlcjQzMjMxMDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/4323109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alanchiao", "html_url": "https://github.com/alanchiao", "followers_url": "https://api.github.com/users/alanchiao/followers", "following_url": "https://api.github.com/users/alanchiao/following{/other_user}", "gists_url": "https://api.github.com/users/alanchiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/alanchiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alanchiao/subscriptions", "organizations_url": "https://api.github.com/users/alanchiao/orgs", "repos_url": "https://api.github.com/users/alanchiao/repos", "events_url": "https://api.github.com/users/alanchiao/events{/privacy}", "received_events_url": "https://api.github.com/users/alanchiao/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-22T00:51:34Z", "updated_at": "2018-05-22T00:51:34Z", "author_association": "MEMBER", "body_html": "<p>I think it should be the call to <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.4/tensorflow/contrib/signal/python/ops/shape_ops.py#L161\">tf.strided_slice</a> instead.</p>\n<p>The pbtxt file shows the name \"stft/frame/strided_slice\" attached to a StridedSlice operator and there isn't any other StridedSlice op in the pbtxt file.</p>\n<p>This is <a href=\"https://user-images.githubusercontent.com/4323109/40336477-a3d89a88-5d1e-11e8-834f-7e11e32cc625.png\" rel=\"nofollow\">what Tensorboard shows for the frozen graph</a> and we can see the output feeds into the reshape op, matching the code.</p>\n<pre><code>    subframes = array_ops.reshape(array_ops.strided_slice(\n        signal, array_ops.zeros_like(signal_shape),\n        slice_shape), subframe_shape)\n</code></pre>\n<p>The <strong>subframes</strong> variable (output of reshape) then feeds into a GatherV2 op, which matches the code below.</p>\n<pre><code>frames = array_ops.reshape(\n        array_ops.gather(subframes, selector, axis=axis),\n        array_ops.concat([outer_dimensions, [num_frames, frame_length],\n                          inner_dimensions], 0)) \n</code></pre>", "body_text": "I think it should be the call to tf.strided_slice instead.\nThe pbtxt file shows the name \"stft/frame/strided_slice\" attached to a StridedSlice operator and there isn't any other StridedSlice op in the pbtxt file.\nThis is what Tensorboard shows for the frozen graph and we can see the output feeds into the reshape op, matching the code.\n    subframes = array_ops.reshape(array_ops.strided_slice(\n        signal, array_ops.zeros_like(signal_shape),\n        slice_shape), subframe_shape)\n\nThe subframes variable (output of reshape) then feeds into a GatherV2 op, which matches the code below.\nframes = array_ops.reshape(\n        array_ops.gather(subframes, selector, axis=axis),\n        array_ops.concat([outer_dimensions, [num_frames, frame_length],\n                          inner_dimensions], 0))", "body": "I think it should be the call to [tf.strided_slice]( https://github.com/tensorflow/tensorflow/blob/r1.4/tensorflow/contrib/signal/python/ops/shape_ops.py#L161) instead.\r\n\r\nThe pbtxt file shows the name \"stft/frame/strided_slice\" attached to a StridedSlice operator and there isn't any other StridedSlice op in the pbtxt file.\r\n\r\nThis is [what Tensorboard shows for the frozen graph](https://user-images.githubusercontent.com/4323109/40336477-a3d89a88-5d1e-11e8-834f-7e11e32cc625.png) and we can see the output feeds into the reshape op, matching the code.\r\n\r\n```\r\n    subframes = array_ops.reshape(array_ops.strided_slice(\r\n        signal, array_ops.zeros_like(signal_shape),\r\n        slice_shape), subframe_shape)\r\n```\r\n\r\nThe **subframes** variable (output of reshape) then feeds into a GatherV2 op, which matches the code below.\r\n\r\n```\r\nframes = array_ops.reshape(\r\n        array_ops.gather(subframes, selector, axis=axis),\r\n        array_ops.concat([outer_dimensions, [num_frames, frame_length],\r\n                          inner_dimensions], 0)) \r\n```\r\n\r\n\r\n"}