{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19260", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19260/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19260/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19260/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19260", "id": 322635122, "node_id": "MDU6SXNzdWUzMjI2MzUxMjI=", "number": 19260, "title": "[Lite] tf.strided_slice sometimes computes wrong indices", "user": {"login": "Androbin", "id": 16437156, "node_id": "MDQ6VXNlcjE2NDM3MTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/16437156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Androbin", "html_url": "https://github.com/Androbin", "followers_url": "https://api.github.com/users/Androbin/followers", "following_url": "https://api.github.com/users/Androbin/following{/other_user}", "gists_url": "https://api.github.com/users/Androbin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Androbin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Androbin/subscriptions", "organizations_url": "https://api.github.com/users/Androbin/orgs", "repos_url": "https://api.github.com/users/Androbin/repos", "events_url": "https://api.github.com/users/Androbin/events{/privacy}", "received_events_url": "https://api.github.com/users/Androbin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "rryan", "id": 26527, "node_id": "MDQ6VXNlcjI2NTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/26527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rryan", "html_url": "https://github.com/rryan", "followers_url": "https://api.github.com/users/rryan/followers", "following_url": "https://api.github.com/users/rryan/following{/other_user}", "gists_url": "https://api.github.com/users/rryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rryan/subscriptions", "organizations_url": "https://api.github.com/users/rryan/orgs", "repos_url": "https://api.github.com/users/rryan/repos", "events_url": "https://api.github.com/users/rryan/events{/privacy}", "received_events_url": "https://api.github.com/users/rryan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rryan", "id": 26527, "node_id": "MDQ6VXNlcjI2NTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/26527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rryan", "html_url": "https://github.com/rryan", "followers_url": "https://api.github.com/users/rryan/followers", "following_url": "https://api.github.com/users/rryan/following{/other_user}", "gists_url": "https://api.github.com/users/rryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rryan/subscriptions", "organizations_url": "https://api.github.com/users/rryan/orgs", "repos_url": "https://api.github.com/users/rryan/repos", "events_url": "https://api.github.com/users/rryan/events{/privacy}", "received_events_url": "https://api.github.com/users/rryan/received_events", "type": "User", "site_admin": false}, {"login": "alanchiao", "id": 4323109, "node_id": "MDQ6VXNlcjQzMjMxMDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/4323109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alanchiao", "html_url": "https://github.com/alanchiao", "followers_url": "https://api.github.com/users/alanchiao/followers", "following_url": "https://api.github.com/users/alanchiao/following{/other_user}", "gists_url": "https://api.github.com/users/alanchiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/alanchiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alanchiao/subscriptions", "organizations_url": "https://api.github.com/users/alanchiao/orgs", "repos_url": "https://api.github.com/users/alanchiao/repos", "events_url": "https://api.github.com/users/alanchiao/events{/privacy}", "received_events_url": "https://api.github.com/users/alanchiao/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 31, "created_at": "2018-05-13T23:06:04Z", "updated_at": "2018-07-02T20:08:33Z", "closed_at": "2018-07-02T20:08:33Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code</strong>: yes</li>\n<li><strong>OS Platform and Distribution</strong>: Ubuntu 16.04.2 LTS</li>\n<li><strong>TensorFlow installed from</strong>: source</li>\n<li><strong>TensorFlow version</strong>: v1.8.0-1520-g1f03f82 1.8.0</li>\n<li><strong>Python version</strong>: 3.5.2</li>\n<li><strong>Bazel version</strong>: 0.13.0</li>\n</ul>\n<h3>Problem</h3>\n<p>I tried using the <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/lite/toco\">TOCO tool</a> on a graph that contains a <a href=\"https://www.tensorflow.org/api_docs/python/tf/strided_slice\" rel=\"nofollow\"><code>strided_slice</code></a> op.<br>\nThe code determining the fixed size of this op, fails at an assertion and throws an error (see below).</p>\n<h3>Logs</h3>\n<p>2018-05-14 00:42:56.816500: F <a href=\"https://github.com/tensorflow/tensorflow/blob/1f03f829285ca0fbd47a99350e9f5d99aa10e9b9/tensorflow/contrib/lite/toco/graph_transformations/propagate_fixed_sizes.cc#L1305\">tensorflow/contrib/lite/toco/graph_transformations/propagate_fixed_sizes.cc:1305</a>] Check failed: dim_size &gt; 0 (-1 vs. 0)Output size for an axis must be greater than 0. Axis 0 computes to size -1 for StridedSlice op with output \"stft/frame/strided_slice\".</p>\n<h3>Minimum Reproducible Example</h3>\n<p><a href=\"https://github.com/tensorflow/tensorflow/files/1999035/mre.zip\">Source files</a><br>\n(set <code>TF_ROOT</code> in <code>freeze</code> and <code>toco</code>)</p>\n<pre><code>./mre.py\n./freeze\n./toco\n</code></pre>\n<p>This produces a directory \"model\" with the graph, weights and frozen graph.<br>\nThe offending error is thrown by last step.</p>", "body_text": "System information\n\nHave I written custom code: yes\nOS Platform and Distribution: Ubuntu 16.04.2 LTS\nTensorFlow installed from: source\nTensorFlow version: v1.8.0-1520-g1f03f82 1.8.0\nPython version: 3.5.2\nBazel version: 0.13.0\n\nProblem\nI tried using the TOCO tool on a graph that contains a strided_slice op.\nThe code determining the fixed size of this op, fails at an assertion and throws an error (see below).\nLogs\n2018-05-14 00:42:56.816500: F tensorflow/contrib/lite/toco/graph_transformations/propagate_fixed_sizes.cc:1305] Check failed: dim_size > 0 (-1 vs. 0)Output size for an axis must be greater than 0. Axis 0 computes to size -1 for StridedSlice op with output \"stft/frame/strided_slice\".\nMinimum Reproducible Example\nSource files\n(set TF_ROOT in freeze and toco)\n./mre.py\n./freeze\n./toco\n\nThis produces a directory \"model\" with the graph, weights and frozen graph.\nThe offending error is thrown by last step.", "body": "### System information\r\n- **Have I written custom code**: yes\r\n- **OS Platform and Distribution**: Ubuntu 16.04.2 LTS\r\n- **TensorFlow installed from**: source\r\n- **TensorFlow version**: v1.8.0-1520-g1f03f82 1.8.0\r\n- **Python version**: 3.5.2\r\n- **Bazel version**: 0.13.0\r\n\r\n### Problem\r\nI tried using the [TOCO tool](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/lite/toco) on a graph that contains a [`strided_slice`](https://www.tensorflow.org/api_docs/python/tf/strided_slice) op.\r\nThe code determining the fixed size of this op, fails at an assertion and throws an error (see below).\r\n\r\n### Logs\r\n2018-05-14 00:42:56.816500: F [tensorflow/contrib/lite/toco/graph_transformations/propagate_fixed_sizes.cc:1305](https://github.com/tensorflow/tensorflow/blob/1f03f829285ca0fbd47a99350e9f5d99aa10e9b9/tensorflow/contrib/lite/toco/graph_transformations/propagate_fixed_sizes.cc#L1305)] Check failed: dim_size > 0 (-1 vs. 0)Output size for an axis must be greater than 0. Axis 0 computes to size -1 for StridedSlice op with output \"stft/frame/strided_slice\".\r\n\r\n### Minimum Reproducible Example\r\n[Source files](https://github.com/tensorflow/tensorflow/files/1999035/mre.zip)\r\n(set `TF_ROOT` in `freeze` and `toco`)\r\n```\r\n./mre.py\r\n./freeze\r\n./toco\r\n```\r\nThis produces a directory \"model\" with the graph, weights and frozen graph.\r\nThe offending error is thrown by last step."}