{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3021", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3021/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3021/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3021/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3021", "id": 162083852, "node_id": "MDU6SXNzdWUxNjIwODM4NTI=", "number": 3021, "title": "\"Could not find platform independent libraries\"  && \"Missing input file\"", "user": {"login": "zhangwei0119", "id": 12144486, "node_id": "MDQ6VXNlcjEyMTQ0NDg2", "avatar_url": "https://avatars0.githubusercontent.com/u/12144486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangwei0119", "html_url": "https://github.com/zhangwei0119", "followers_url": "https://api.github.com/users/zhangwei0119/followers", "following_url": "https://api.github.com/users/zhangwei0119/following{/other_user}", "gists_url": "https://api.github.com/users/zhangwei0119/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangwei0119/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangwei0119/subscriptions", "organizations_url": "https://api.github.com/users/zhangwei0119/orgs", "repos_url": "https://api.github.com/users/zhangwei0119/repos", "events_url": "https://api.github.com/users/zhangwei0119/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangwei0119/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2016-06-24T06:22:09Z", "updated_at": "2016-06-30T18:26:27Z", "closed_at": "2016-06-30T18:26:27Z", "author_association": "NONE", "body_html": "<p>I am installing Tensorflow on a server without internet access.  I can now build tutorials_example_trainer without GPU support and successfully execute it, but can't move forward to complete the installation. Can you please help me to diagnosis ? Thanks!</p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nRed Hat Enterprise Linux Server release 6.6 (Santiago)</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\n-rw-r--r-- 1 root root  28585480 Aug 15  2015 libcublas_device.a<br>\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcublas.so -&gt; libcublas.so.7.5<br>\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcublas.so.7.5 -&gt; libcublas.so.7.5.18<br>\n-rwxr-xr-x 1 root root  23938736 Aug 15  2015 libcublas.so.7.5.18<br>\n-rw-r--r-- 1 root root  28220076 Aug 15  2015 libcublas_static.a<br>\n-rw-r--r-- 1 root root    322936 Aug 15  2015 libcudadevrt.a<br>\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcudart.so -&gt; libcudart.so.7.5<br>\nlrwxrwxrwx 1 root root        19 Jun 22 03:12 libcudart.so.7.0 -&gt; libcudart.so.7.5.18<br>\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcudart.so.7.5 -&gt; libcudart.so.7.5.18<br>\n-rwxr-xr-x 1 root root    383336 Aug 15  2015 libcudart.so.7.5.18<br>\n-rw-r--r-- 1 root root    720192 Aug 15  2015 libcudart_static.a<br>\n-rwxr-xr-x 1 root root  59909104 Jun 15 20:09 libcudnn.so<br>\n-rwxr-xr-x 1 root root  59909104 Jun 15 20:09 libcudnn.so.5<br>\n-rwxr-xr-x 1 root root  59909104 Jun 15 20:09 libcudnn.so.5.0.5<br>\nlrwxrwxrwx 1 root root        17 Jun 22 03:13 libcudnn.so.6.5 -&gt; libcudnn.so.5.0.5<br>\n-rw-r--r-- 1 root root  58775484 Jun 15 20:09 libcudnn_static.a<br>\nlrwxrwxrwx 1 root root        15 Jun 15 19:52 libcufft.so -&gt; libcufft.so.7.5<br>\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libcufft.so.7.5 -&gt; libcufft.so.7.5.18<br>\n-rwxr-xr-x 1 root root 111231960 Aug 15  2015 libcufft.so.7.5.18<br>\n-rw-r--r-- 1 root root 115104400 Aug 15  2015 libcufft_static.a<br>\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcufftw.so -&gt; libcufftw.so.7.5<br>\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcufftw.so.7.5 -&gt; libcufftw.so.7.5.18<br>\n-rwxr-xr-x 1 root root    447664 Aug 15  2015 libcufftw.so.7.5.18<br>\n-rw-r--r-- 1 root root     42206 Aug 15  2015 libcufftw_static.a<br>\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libcuinj64.so -&gt; libcuinj64.so.7.5<br>\nlrwxrwxrwx 1 root root        20 Jun 15 19:52 libcuinj64.so.7.5 -&gt; libcuinj64.so.7.5.18<br>\n-rwxr-xr-x 1 root root   5751400 Aug 15  2015 libcuinj64.so.7.5.18<br>\n-rw-r--r-- 1 root root   1649726 Aug 15  2015 libculibos.a<br>\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcurand.so -&gt; libcurand.so.7.5<br>\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcurand.so.7.5 -&gt; libcurand.so.7.5.18<br>\n-rwxr-xr-x 1 root root  51765952 Aug 15  2015 libcurand.so.7.5.18<br>\n-rw-r--r-- 1 root root  51992564 Aug 15  2015 libcurand_static.a<br>\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libcusolver.so -&gt; libcusolver.so.7.5<br>\nlrwxrwxrwx 1 root root        21 Jun 15 19:52 libcusolver.so.7.5 -&gt; libcusolver.so.7.5.18<br>\n-rwxr-xr-x 1 root root  37034328 Aug 15  2015 libcusolver.so.7.5.18<br>\n-rw-r--r-- 1 root root  16613348 Aug 15  2015 libcusolver_static.a<br>\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libcusparse.so -&gt; libcusparse.so.7.5<br>\nlrwxrwxrwx 1 root root        21 Jun 15 19:52 libcusparse.so.7.5 -&gt; libcusparse.so.7.5.18<br>\n-rwxr-xr-x 1 root root  36816424 Aug 15  2015 libcusparse.so.7.5.18<br>\n-rw-r--r-- 1 root root  44445334 Aug 15  2015 libcusparse_static.a<br>\nlrwxrwxrwx 1 root root        14 Jun 15 19:52 libnppc.so -&gt; libnppc.so.7.5<br>\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libnppc.so.7.5 -&gt; libnppc.so.7.5.18<br>\n-rwxr-xr-x 1 root root    427168 Aug 15  2015 libnppc.so.7.5.18<br>\n-rw-r--r-- 1 root root     20664 Aug 15  2015 libnppc_static.a<br>\nlrwxrwxrwx 1 root root        14 Jun 15 19:52 libnppi.so -&gt; libnppi.so.7.5<br>\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libnppi.so.7.5 -&gt; libnppi.so.7.5.18<br>\n-rwxr-xr-x 1 root root  63516808 Aug 15  2015 libnppi.so.7.5.18<br>\n-rw-r--r-- 1 root root  90106200 Aug 15  2015 libnppi_static.a<br>\nlrwxrwxrwx 1 root root        14 Jun 15 19:52 libnpps.so -&gt; libnpps.so.7.5<br>\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libnpps.so.7.5 -&gt; libnpps.so.7.5.18<br>\n-rwxr-xr-x 1 root root   6047400 Aug 15  2015 libnpps.so.7.5.18<br>\n-rw-r--r-- 1 root root   8647292 Aug 15  2015 libnpps_static.a<br>\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libnvblas.so -&gt; libnvblas.so.7.5<br>\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libnvblas.so.7.5 -&gt; libnvblas.so.7.5.18<br>\n-rwxr-xr-x 1 root root    456112 Aug 15  2015 libnvblas.so.7.5.18<br>\nlrwxrwxrwx 1 root root        24 Jun 15 19:52 libnvrtc-builtins.so -&gt; libnvrtc-builtins.so.7.5<br>\nlrwxrwxrwx 1 root root        27 Jun 15 19:52 libnvrtc-builtins.so.7.5 -&gt; libnvrtc-builtins.so.7.5.18<br>\n-rwxr-xr-x 1 root root  22408512 Aug 15  2015 libnvrtc-builtins.so.7.5.18<br>\nlrwxrwxrwx 1 root root        15 Jun 15 19:52 libnvrtc.so -&gt; libnvrtc.so.7.5<br>\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libnvrtc.so.7.5 -&gt; libnvrtc.so.7.5.17<br>\n-rwxr-xr-x 1 root root  18199288 Aug 15  2015 libnvrtc.so.7.5.17<br>\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libnvToolsExt.so -&gt; libnvToolsExt.so.1<br>\nlrwxrwxrwx 1 root root        22 Jun 15 19:52 libnvToolsExt.so.1 -&gt; libnvToolsExt.so.1.0.0<br>\n-rwxr-xr-x 1 root root     37936 Aug 15  2015 libnvToolsExt.so.1.0.0<br>\n-rw-r--r-- 1 root root     25840 Aug 15  2015 libOpenCL.so<br>\ndrwxr-xr-x 2 root root      4096 Jun 15 19:52 stubs</p>\n<p>If installed from sources, provide the commit hash:<br>\nr0.9 master</p>\n<h3>What have you tried?</h3>\n<ol>\n<li>\n<p>Transferred the tensorflow repo and the dependency repos to server, modified WORKSPACE and tensorflow/workspace.bzl</p>\n</li>\n<li>\n<p>Built bazel-real from source code and gcc-4.9.0 from source because version of the gcc library with the server isn't compatible.</p>\n</li>\n<li>\n<p>Manually copied anaconda3 (with python 3.5),</p>\n</li>\n<li>\n<p>set customized PATH and LD_LIBRARY_PATH to use the new bazel, gcc, python etc.</p>\n</li>\n<li>\n<p>eventually successfully build tutorials_example_trainer without GPU support<br>\nbazel build -c opt //tensorflow/cc:tutorials_example_trainer<br>\nand can run it without use_gpu<br>\nbazel-bin/tensorflow/cc/tutorials_example_trainer</p>\n</li>\n<li>\n<p>But failed on building tutorials_example_trainer with cuda. Seems need to set PYTHONHOME. but after I didn't that, no change at all.</p>\n<pre><code>bazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer\n</code></pre>\n</li>\n</ol>\n<p>ERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/BUILD:331:1: Linking of rule '@protobuf//:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command<br>\n(cd /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/execroot/tensorflow &amp;&amp; <br>\nexec env - <br>\nthird_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/external/protobuf/protoc bazel-out/host/bin/external/protobuf/_objs/protoc/external/protobuf/src/google/protobuf/compiler/main.o bazel-out/host/bin/external/protobuf/libprotoc_lib.a bazel-out/host/bin/external/protobuf/libprotobuf.a bazel-out/host/bin/external/protobuf/libprotobuf_lite.a -lpthread -lstdc++ -B/usr/bin/ -pie -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,-S -Wl,--gc-sections): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\nCould not find platform independent libraries <br>\nCould not find platform dependent libraries &lt;exec_prefix&gt;<br>\nConsider setting $PYTHONHOME to [:&lt;exec_prefix&gt;]<br>\nImportError: No module named site<br>\nTarget //tensorflow/cc:tutorials_example_trainer failed to build<br>\nINFO: Elapsed time: 22.901s, Critical Path: 17.57s</p>\n<ol>\n<li>Failed to build :build_pip_package (without gpu support). It reported different file missed each time</li>\n</ol>\n<p>$ bazel build -c opt //tensorflow/tools/pip_package:build_pip_package<br>\n/home/wzhan/.bazel/bin/bazel-real<br>\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See <a href=\"http://bazel.io/docs/bazel-user-manual.html#sandboxing\" rel=\"nofollow\">http://bazel.io/docs/bazel-user-manual.html#sandboxing</a> for more information. You can turn off this warning via --ignore_unsupported_sandboxing.<br>\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE (@<strong>main</strong>) does not match the name given in the repository's definition (<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=30293029\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/protobuf\">@protobuf</a>); this will cause a build error in future versions.<br>\nWARNING: /usr/local/tf/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.<br>\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE (@<strong>main</strong>) does not match the name given in the repository's definition (<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23161534\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/re2\">@re2</a>); this will cause a build error in future versions.<br>\nINFO: Found 1 target...<br>\nERROR: missing input file ## ### <strong>'</strong>@webcomponentsjs//:ShadowDOM.min.js**'.**<br>\nERROR: /usr/local/tf/tensorflow/tensorflow/tools/pip_package/BUILD:23:1: Creating runfiles tree bazel-out/local-py3-opt/bin/tensorflow/tools/pip_package/build_pip_package.runfiles failed: build-runfiles failed: error executing command /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/execroot/tensorflow/_bin/build-runfiles ... (remaining 2 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 15.<br>\nERROR: /usr/local/tf/tensorflow/tensorflow/tools/pip_package/BUILD:23:1: //tensorflow/tools/pip_package:build_pip_package: missing input file '@webcomponentsjs//:ShadowDOM.min.js'.<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nERROR: /usr/local/tf/tensorflow/tensorflow/tools/pip_package/BUILD:23:1 1 input file(s) do not exist.<br>\nINFO: Elapsed time: 3.593s, Critical Path: 0.08s</p>\n<p>8 build :build_pip_package with GPU support also reports \"missing file\"</p>\n<p>$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package<br>\n/home/wzhan/.bazel/bin/bazel-real<br>\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See <a href=\"http://bazel.io/docs/bazel-user-manual.html#sandboxing\" rel=\"nofollow\">http://bazel.io/docs/bazel-user-manual.html#sandboxing</a> for more information. You can turn off this warning via --ignore_unsupported_sandboxing.<br>\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE (@<strong>main</strong>) does not match the name given in the repository's definition (<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=30293029\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/protobuf\">@protobuf</a>); this will cause a build error in future versions.<br>\nWARNING: /usr/local/tf/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.<br>\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE (@<strong>main</strong>) does not match the name given in the repository's definition (<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23161534\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/re2\">@re2</a>); this will cause a build error in future versions.<br>\nINFO: Found 1 target...<br>\nERROR: missing input file '@grpc//:src/core/lib/support/tmpfile_win32.c'.<br>\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/BUILD:71:1: C++ compilation of rule '@protobuf//:protobuf_lite' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 43 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 15.<br>\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/grpc/BUILD:38:1: @grpc//:gpr: missing input file '@grpc//:src/core/lib/support/tmpfile_win32.c'.<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/grpc/BUILD:38:1 1 input file(s) do not exist.<br>\nINFO: Elapsed time: 4.185s, Critical Path: 2.34s</p>", "body_text": "I am installing Tensorflow on a server without internet access.  I can now build tutorials_example_trainer without GPU support and successfully execute it, but can't move forward to complete the installation. Can you please help me to diagnosis ? Thanks!\nEnvironment info\nOperating System:\nRed Hat Enterprise Linux Server release 6.6 (Santiago)\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n-rw-r--r-- 1 root root  28585480 Aug 15  2015 libcublas_device.a\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcublas.so -> libcublas.so.7.5\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcublas.so.7.5 -> libcublas.so.7.5.18\n-rwxr-xr-x 1 root root  23938736 Aug 15  2015 libcublas.so.7.5.18\n-rw-r--r-- 1 root root  28220076 Aug 15  2015 libcublas_static.a\n-rw-r--r-- 1 root root    322936 Aug 15  2015 libcudadevrt.a\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root        19 Jun 22 03:12 libcudart.so.7.0 -> libcudart.so.7.5.18\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root    383336 Aug 15  2015 libcudart.so.7.5.18\n-rw-r--r-- 1 root root    720192 Aug 15  2015 libcudart_static.a\n-rwxr-xr-x 1 root root  59909104 Jun 15 20:09 libcudnn.so\n-rwxr-xr-x 1 root root  59909104 Jun 15 20:09 libcudnn.so.5\n-rwxr-xr-x 1 root root  59909104 Jun 15 20:09 libcudnn.so.5.0.5\nlrwxrwxrwx 1 root root        17 Jun 22 03:13 libcudnn.so.6.5 -> libcudnn.so.5.0.5\n-rw-r--r-- 1 root root  58775484 Jun 15 20:09 libcudnn_static.a\nlrwxrwxrwx 1 root root        15 Jun 15 19:52 libcufft.so -> libcufft.so.7.5\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libcufft.so.7.5 -> libcufft.so.7.5.18\n-rwxr-xr-x 1 root root 111231960 Aug 15  2015 libcufft.so.7.5.18\n-rw-r--r-- 1 root root 115104400 Aug 15  2015 libcufft_static.a\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcufftw.so -> libcufftw.so.7.5\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcufftw.so.7.5 -> libcufftw.so.7.5.18\n-rwxr-xr-x 1 root root    447664 Aug 15  2015 libcufftw.so.7.5.18\n-rw-r--r-- 1 root root     42206 Aug 15  2015 libcufftw_static.a\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libcuinj64.so -> libcuinj64.so.7.5\nlrwxrwxrwx 1 root root        20 Jun 15 19:52 libcuinj64.so.7.5 -> libcuinj64.so.7.5.18\n-rwxr-xr-x 1 root root   5751400 Aug 15  2015 libcuinj64.so.7.5.18\n-rw-r--r-- 1 root root   1649726 Aug 15  2015 libculibos.a\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcurand.so -> libcurand.so.7.5\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcurand.so.7.5 -> libcurand.so.7.5.18\n-rwxr-xr-x 1 root root  51765952 Aug 15  2015 libcurand.so.7.5.18\n-rw-r--r-- 1 root root  51992564 Aug 15  2015 libcurand_static.a\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libcusolver.so -> libcusolver.so.7.5\nlrwxrwxrwx 1 root root        21 Jun 15 19:52 libcusolver.so.7.5 -> libcusolver.so.7.5.18\n-rwxr-xr-x 1 root root  37034328 Aug 15  2015 libcusolver.so.7.5.18\n-rw-r--r-- 1 root root  16613348 Aug 15  2015 libcusolver_static.a\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libcusparse.so -> libcusparse.so.7.5\nlrwxrwxrwx 1 root root        21 Jun 15 19:52 libcusparse.so.7.5 -> libcusparse.so.7.5.18\n-rwxr-xr-x 1 root root  36816424 Aug 15  2015 libcusparse.so.7.5.18\n-rw-r--r-- 1 root root  44445334 Aug 15  2015 libcusparse_static.a\nlrwxrwxrwx 1 root root        14 Jun 15 19:52 libnppc.so -> libnppc.so.7.5\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libnppc.so.7.5 -> libnppc.so.7.5.18\n-rwxr-xr-x 1 root root    427168 Aug 15  2015 libnppc.so.7.5.18\n-rw-r--r-- 1 root root     20664 Aug 15  2015 libnppc_static.a\nlrwxrwxrwx 1 root root        14 Jun 15 19:52 libnppi.so -> libnppi.so.7.5\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libnppi.so.7.5 -> libnppi.so.7.5.18\n-rwxr-xr-x 1 root root  63516808 Aug 15  2015 libnppi.so.7.5.18\n-rw-r--r-- 1 root root  90106200 Aug 15  2015 libnppi_static.a\nlrwxrwxrwx 1 root root        14 Jun 15 19:52 libnpps.so -> libnpps.so.7.5\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libnpps.so.7.5 -> libnpps.so.7.5.18\n-rwxr-xr-x 1 root root   6047400 Aug 15  2015 libnpps.so.7.5.18\n-rw-r--r-- 1 root root   8647292 Aug 15  2015 libnpps_static.a\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libnvblas.so -> libnvblas.so.7.5\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libnvblas.so.7.5 -> libnvblas.so.7.5.18\n-rwxr-xr-x 1 root root    456112 Aug 15  2015 libnvblas.so.7.5.18\nlrwxrwxrwx 1 root root        24 Jun 15 19:52 libnvrtc-builtins.so -> libnvrtc-builtins.so.7.5\nlrwxrwxrwx 1 root root        27 Jun 15 19:52 libnvrtc-builtins.so.7.5 -> libnvrtc-builtins.so.7.5.18\n-rwxr-xr-x 1 root root  22408512 Aug 15  2015 libnvrtc-builtins.so.7.5.18\nlrwxrwxrwx 1 root root        15 Jun 15 19:52 libnvrtc.so -> libnvrtc.so.7.5\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libnvrtc.so.7.5 -> libnvrtc.so.7.5.17\n-rwxr-xr-x 1 root root  18199288 Aug 15  2015 libnvrtc.so.7.5.17\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libnvToolsExt.so -> libnvToolsExt.so.1\nlrwxrwxrwx 1 root root        22 Jun 15 19:52 libnvToolsExt.so.1 -> libnvToolsExt.so.1.0.0\n-rwxr-xr-x 1 root root     37936 Aug 15  2015 libnvToolsExt.so.1.0.0\n-rw-r--r-- 1 root root     25840 Aug 15  2015 libOpenCL.so\ndrwxr-xr-x 2 root root      4096 Jun 15 19:52 stubs\nIf installed from sources, provide the commit hash:\nr0.9 master\nWhat have you tried?\n\n\nTransferred the tensorflow repo and the dependency repos to server, modified WORKSPACE and tensorflow/workspace.bzl\n\n\nBuilt bazel-real from source code and gcc-4.9.0 from source because version of the gcc library with the server isn't compatible.\n\n\nManually copied anaconda3 (with python 3.5),\n\n\nset customized PATH and LD_LIBRARY_PATH to use the new bazel, gcc, python etc.\n\n\neventually successfully build tutorials_example_trainer without GPU support\nbazel build -c opt //tensorflow/cc:tutorials_example_trainer\nand can run it without use_gpu\nbazel-bin/tensorflow/cc/tutorials_example_trainer\n\n\nBut failed on building tutorials_example_trainer with cuda. Seems need to set PYTHONHOME. but after I didn't that, no change at all.\nbazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer\n\n\n\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/BUILD:331:1: Linking of rule '@protobuf//:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command\n(cd /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/execroot/tensorflow && \nexec env - \nthird_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/external/protobuf/protoc bazel-out/host/bin/external/protobuf/_objs/protoc/external/protobuf/src/google/protobuf/compiler/main.o bazel-out/host/bin/external/protobuf/libprotoc_lib.a bazel-out/host/bin/external/protobuf/libprotobuf.a bazel-out/host/bin/external/protobuf/libprotobuf_lite.a -lpthread -lstdc++ -B/usr/bin/ -pie -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,-S -Wl,--gc-sections): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nCould not find platform independent libraries \nCould not find platform dependent libraries <exec_prefix>\nConsider setting $PYTHONHOME to [:<exec_prefix>]\nImportError: No module named site\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 22.901s, Critical Path: 17.57s\n\nFailed to build :build_pip_package (without gpu support). It reported different file missed each time\n\n$ bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\n/home/wzhan/.bazel/bin/bazel-real\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE (@main) does not match the name given in the repository's definition (@protobuf); this will cause a build error in future versions.\nWARNING: /usr/local/tf/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE (@main) does not match the name given in the repository's definition (@re2); this will cause a build error in future versions.\nINFO: Found 1 target...\nERROR: missing input file ## ### '@webcomponentsjs//:ShadowDOM.min.js**'.**\nERROR: /usr/local/tf/tensorflow/tensorflow/tools/pip_package/BUILD:23:1: Creating runfiles tree bazel-out/local-py3-opt/bin/tensorflow/tools/pip_package/build_pip_package.runfiles failed: build-runfiles failed: error executing command /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/execroot/tensorflow/_bin/build-runfiles ... (remaining 2 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 15.\nERROR: /usr/local/tf/tensorflow/tensorflow/tools/pip_package/BUILD:23:1: //tensorflow/tools/pip_package:build_pip_package: missing input file '@webcomponentsjs//:ShadowDOM.min.js'.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nERROR: /usr/local/tf/tensorflow/tensorflow/tools/pip_package/BUILD:23:1 1 input file(s) do not exist.\nINFO: Elapsed time: 3.593s, Critical Path: 0.08s\n8 build :build_pip_package with GPU support also reports \"missing file\"\n$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n/home/wzhan/.bazel/bin/bazel-real\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE (@main) does not match the name given in the repository's definition (@protobuf); this will cause a build error in future versions.\nWARNING: /usr/local/tf/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE (@main) does not match the name given in the repository's definition (@re2); this will cause a build error in future versions.\nINFO: Found 1 target...\nERROR: missing input file '@grpc//:src/core/lib/support/tmpfile_win32.c'.\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/BUILD:71:1: C++ compilation of rule '@protobuf//:protobuf_lite' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 43 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 15.\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/grpc/BUILD:38:1: @grpc//:gpr: missing input file '@grpc//:src/core/lib/support/tmpfile_win32.c'.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/grpc/BUILD:38:1 1 input file(s) do not exist.\nINFO: Elapsed time: 4.185s, Critical Path: 2.34s", "body": "I am installing Tensorflow on a server without internet access.  I can now build tutorials_example_trainer without GPU support and successfully execute it, but can't move forward to complete the installation. Can you please help me to diagnosis ? Thanks!  \n### Environment info\n\nOperating System:\n   Red Hat Enterprise Linux Server release 6.6 (Santiago)\n\nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n-rw-r--r-- 1 root root  28585480 Aug 15  2015 libcublas_device.a\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcublas.so -> libcublas.so.7.5\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcublas.so.7.5 -> libcublas.so.7.5.18\n-rwxr-xr-x 1 root root  23938736 Aug 15  2015 libcublas.so.7.5.18\n-rw-r--r-- 1 root root  28220076 Aug 15  2015 libcublas_static.a\n-rw-r--r-- 1 root root    322936 Aug 15  2015 libcudadevrt.a\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root        19 Jun 22 03:12 libcudart.so.7.0 -> libcudart.so.7.5.18\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root    383336 Aug 15  2015 libcudart.so.7.5.18\n-rw-r--r-- 1 root root    720192 Aug 15  2015 libcudart_static.a\n-rwxr-xr-x 1 root root  59909104 Jun 15 20:09 libcudnn.so\n-rwxr-xr-x 1 root root  59909104 Jun 15 20:09 libcudnn.so.5\n-rwxr-xr-x 1 root root  59909104 Jun 15 20:09 libcudnn.so.5.0.5\nlrwxrwxrwx 1 root root        17 Jun 22 03:13 libcudnn.so.6.5 -> libcudnn.so.5.0.5\n-rw-r--r-- 1 root root  58775484 Jun 15 20:09 libcudnn_static.a\nlrwxrwxrwx 1 root root        15 Jun 15 19:52 libcufft.so -> libcufft.so.7.5\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libcufft.so.7.5 -> libcufft.so.7.5.18\n-rwxr-xr-x 1 root root 111231960 Aug 15  2015 libcufft.so.7.5.18\n-rw-r--r-- 1 root root 115104400 Aug 15  2015 libcufft_static.a\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcufftw.so -> libcufftw.so.7.5\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcufftw.so.7.5 -> libcufftw.so.7.5.18\n-rwxr-xr-x 1 root root    447664 Aug 15  2015 libcufftw.so.7.5.18\n-rw-r--r-- 1 root root     42206 Aug 15  2015 libcufftw_static.a\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libcuinj64.so -> libcuinj64.so.7.5\nlrwxrwxrwx 1 root root        20 Jun 15 19:52 libcuinj64.so.7.5 -> libcuinj64.so.7.5.18\n-rwxr-xr-x 1 root root   5751400 Aug 15  2015 libcuinj64.so.7.5.18\n-rw-r--r-- 1 root root   1649726 Aug 15  2015 libculibos.a\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libcurand.so -> libcurand.so.7.5\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libcurand.so.7.5 -> libcurand.so.7.5.18\n-rwxr-xr-x 1 root root  51765952 Aug 15  2015 libcurand.so.7.5.18\n-rw-r--r-- 1 root root  51992564 Aug 15  2015 libcurand_static.a\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libcusolver.so -> libcusolver.so.7.5\nlrwxrwxrwx 1 root root        21 Jun 15 19:52 libcusolver.so.7.5 -> libcusolver.so.7.5.18\n-rwxr-xr-x 1 root root  37034328 Aug 15  2015 libcusolver.so.7.5.18\n-rw-r--r-- 1 root root  16613348 Aug 15  2015 libcusolver_static.a\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libcusparse.so -> libcusparse.so.7.5\nlrwxrwxrwx 1 root root        21 Jun 15 19:52 libcusparse.so.7.5 -> libcusparse.so.7.5.18\n-rwxr-xr-x 1 root root  36816424 Aug 15  2015 libcusparse.so.7.5.18\n-rw-r--r-- 1 root root  44445334 Aug 15  2015 libcusparse_static.a\nlrwxrwxrwx 1 root root        14 Jun 15 19:52 libnppc.so -> libnppc.so.7.5\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libnppc.so.7.5 -> libnppc.so.7.5.18\n-rwxr-xr-x 1 root root    427168 Aug 15  2015 libnppc.so.7.5.18\n-rw-r--r-- 1 root root     20664 Aug 15  2015 libnppc_static.a\nlrwxrwxrwx 1 root root        14 Jun 15 19:52 libnppi.so -> libnppi.so.7.5\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libnppi.so.7.5 -> libnppi.so.7.5.18\n-rwxr-xr-x 1 root root  63516808 Aug 15  2015 libnppi.so.7.5.18\n-rw-r--r-- 1 root root  90106200 Aug 15  2015 libnppi_static.a\nlrwxrwxrwx 1 root root        14 Jun 15 19:52 libnpps.so -> libnpps.so.7.5\nlrwxrwxrwx 1 root root        17 Jun 15 19:52 libnpps.so.7.5 -> libnpps.so.7.5.18\n-rwxr-xr-x 1 root root   6047400 Aug 15  2015 libnpps.so.7.5.18\n-rw-r--r-- 1 root root   8647292 Aug 15  2015 libnpps_static.a\nlrwxrwxrwx 1 root root        16 Jun 15 19:52 libnvblas.so -> libnvblas.so.7.5\nlrwxrwxrwx 1 root root        19 Jun 15 19:52 libnvblas.so.7.5 -> libnvblas.so.7.5.18\n-rwxr-xr-x 1 root root    456112 Aug 15  2015 libnvblas.so.7.5.18\nlrwxrwxrwx 1 root root        24 Jun 15 19:52 libnvrtc-builtins.so -> libnvrtc-builtins.so.7.5\nlrwxrwxrwx 1 root root        27 Jun 15 19:52 libnvrtc-builtins.so.7.5 -> libnvrtc-builtins.so.7.5.18\n-rwxr-xr-x 1 root root  22408512 Aug 15  2015 libnvrtc-builtins.so.7.5.18\nlrwxrwxrwx 1 root root        15 Jun 15 19:52 libnvrtc.so -> libnvrtc.so.7.5\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libnvrtc.so.7.5 -> libnvrtc.so.7.5.17\n-rwxr-xr-x 1 root root  18199288 Aug 15  2015 libnvrtc.so.7.5.17\nlrwxrwxrwx 1 root root        18 Jun 15 19:52 libnvToolsExt.so -> libnvToolsExt.so.1\nlrwxrwxrwx 1 root root        22 Jun 15 19:52 libnvToolsExt.so.1 -> libnvToolsExt.so.1.0.0\n-rwxr-xr-x 1 root root     37936 Aug 15  2015 libnvToolsExt.so.1.0.0\n-rw-r--r-- 1 root root     25840 Aug 15  2015 libOpenCL.so\ndrwxr-xr-x 2 root root      4096 Jun 15 19:52 stubs\n\nIf installed from sources, provide the commit hash:\n  r0.9 master\n### What have you tried?\n1. Transferred the tensorflow repo and the dependency repos to server, modified WORKSPACE and tensorflow/workspace.bzl\n2. Built bazel-real from source code and gcc-4.9.0 from source because version of the gcc library with the server isn't compatible. \n3. Manually copied anaconda3 (with python 3.5), \n4. set customized PATH and LD_LIBRARY_PATH to use the new bazel, gcc, python etc.\n5. eventually successfully build tutorials_example_trainer without GPU support\n        bazel build -c opt //tensorflow/cc:tutorials_example_trainer\n   and can run it without use_gpu\n        bazel-bin/tensorflow/cc/tutorials_example_trainer \n6. But failed on building tutorials_example_trainer with cuda. Seems need to set PYTHONHOME. but after I didn't that, no change at all.\n   \n   ```\n   bazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer\n   ```\n\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/BUILD:331:1: Linking of rule '@protobuf//:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/execroot/tensorflow && \\\n  exec env - \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/external/protobuf/protoc bazel-out/host/bin/external/protobuf/_objs/protoc/external/protobuf/src/google/protobuf/compiler/main.o bazel-out/host/bin/external/protobuf/libprotoc_lib.a bazel-out/host/bin/external/protobuf/libprotobuf.a bazel-out/host/bin/external/protobuf/libprotobuf_lite.a -lpthread -lstdc++ -B/usr/bin/ -pie -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,-S -Wl,--gc-sections): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nCould not find platform independent libraries <prefix>\nCould not find platform dependent libraries <exec_prefix>\nConsider setting $PYTHONHOME to <prefix>[:<exec_prefix>]\nImportError: No module named site\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 22.901s, Critical Path: 17.57s\n1. Failed to build :build_pip_package (without gpu support). It reported different file missed each time \n\n$ bazel build -c opt //tensorflow/tools/pip_package:build_pip_package\n/home/wzhan/.bazel/bin/bazel-real\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE (@__main__) does not match the name given in the repository's definition (@protobuf); this will cause a build error in future versions.\nWARNING: /usr/local/tf/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE (@__main__) does not match the name given in the repository's definition (@re2); this will cause a build error in future versions.\nINFO: Found 1 target...\nERROR: missing input file ## ### **'**@webcomponentsjs//:ShadowDOM.min.js**'.**\nERROR: /usr/local/tf/tensorflow/tensorflow/tools/pip_package/BUILD:23:1: Creating runfiles tree bazel-out/local-py3-opt/bin/tensorflow/tools/pip_package/build_pip_package.runfiles failed: build-runfiles failed: error executing command /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/execroot/tensorflow/_bin/build-runfiles ... (remaining 2 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 15.\nERROR: /usr/local/tf/tensorflow/tensorflow/tools/pip_package/BUILD:23:1: //tensorflow/tools/pip_package:build_pip_package: missing input file '@webcomponentsjs//:ShadowDOM.min.js'.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nERROR: /usr/local/tf/tensorflow/tensorflow/tools/pip_package/BUILD:23:1 1 input file(s) do not exist.\nINFO: Elapsed time: 3.593s, Critical Path: 0.08s\n\n8 build :build_pip_package with GPU support also reports \"missing file\"\n\n$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n/home/wzhan/.bazel/bin/bazel-real\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.io/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/WORKSPACE (@__main__) does not match the name given in the repository's definition (@protobuf); this will cause a build error in future versions.\nWARNING: /usr/local/tf/tensorflow/util/python/BUILD:11:16: in includes attribute of cc_library rule //util/python:python_headers: 'python_include' resolves to 'util/python/python_include' not in 'third_party'. This will be an error in the future.\nWARNING: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE:1: Workspace name in /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/re2/WORKSPACE (@__main__) does not match the name given in the repository's definition (@re2); this will cause a build error in future versions.\nINFO: Found 1 target...\nERROR: missing input file '@grpc//:src/core/lib/support/tmpfile_win32.c'.\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/protobuf/BUILD:71:1: C++ compilation of rule '@protobuf//:protobuf_lite' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 43 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 15.\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/grpc/BUILD:38:1: @grpc//:gpr: missing input file '@grpc//:src/core/lib/support/tmpfile_win32.c'.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nERROR: /home/wzhan/.cache/bazel/_bazel_wzhan/c2f4a381d5d3be272ee3353b5d3cb1aa/external/grpc/BUILD:38:1 1 input file(s) do not exist.\nINFO: Elapsed time: 4.185s, Critical Path: 2.34s\n"}