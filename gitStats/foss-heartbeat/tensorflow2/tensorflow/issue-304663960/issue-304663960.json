{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17674", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17674/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17674/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17674/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17674", "id": 304663960, "node_id": "MDU6SXNzdWUzMDQ2NjM5NjA=", "number": 17674, "title": "tf1.6 error: tf.train.BytesList(\"string\") ---> expected one of: bytes", "user": {"login": "XuChunling", "id": 10767042, "node_id": "MDQ6VXNlcjEwNzY3MDQy", "avatar_url": "https://avatars3.githubusercontent.com/u/10767042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XuChunling", "html_url": "https://github.com/XuChunling", "followers_url": "https://api.github.com/users/XuChunling/followers", "following_url": "https://api.github.com/users/XuChunling/following{/other_user}", "gists_url": "https://api.github.com/users/XuChunling/gists{/gist_id}", "starred_url": "https://api.github.com/users/XuChunling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XuChunling/subscriptions", "organizations_url": "https://api.github.com/users/XuChunling/orgs", "repos_url": "https://api.github.com/users/XuChunling/repos", "events_url": "https://api.github.com/users/XuChunling/events{/privacy}", "received_events_url": "https://api.github.com/users/XuChunling/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-13T08:11:51Z", "updated_at": "2018-07-04T02:41:36Z", "closed_at": "2018-03-19T01:38:37Z", "author_association": "NONE", "body_html": "<p>OS Platform and Distribution--&gt;Linux Ubuntu 14.04<br>\nTensorFlow installed from--&gt;binary<br>\nTensorFlow version --&gt;1.6<br>\nPython version--&gt; 3.5.5<br>\nGCC/Compiler version --&gt;GCC 4.8.4<br>\nCUDA/cuDNN version--&gt;cuda9/cuDNN7<br>\nGPU model and memory--&gt;Tesla K20c/Tesla K20m</p>\n<p>code to reproduce:</p>\n<pre><code>import tensorflow as tf\n\nprint(tf.GIT_VERSION, tf.VERSION)\n\nall_record = str(\"abc\")\noutput_filename = \"tfrecord_test\"\n\nwriter = tf.python_io.TFRecordWriter(output_filename)\n\nexample = tf.train.Example(\n    features = tf.train.Features(\n        feature = {\n            \"features\": tf.train.Feature(\n                #int32_list = tf.train.Int32List(value = all_record)\n                bytes_list=tf.train.BytesList(value = all_record)\n            )\n        }\n    )\n)\nwriter.write(example.SerializeToString())\n\nwriter.close()\n</code></pre>\n<p>error log:</p>\n<pre><code>$ python tf_record_test.py\n/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\n  from ._conv import register_converters as _register_converters\nv1.6.0-0-gd2e24b6039 1.6.0\nTraceback (most recent call last):\n  File \"tf_record_test.py\", line 15, in &lt;module&gt;\n    bytes_list=tf.train.BytesList(value = all_record)\nTypeError: 'a' has type str, but expected one of: bytes\n</code></pre>", "body_text": "OS Platform and Distribution-->Linux Ubuntu 14.04\nTensorFlow installed from-->binary\nTensorFlow version -->1.6\nPython version--> 3.5.5\nGCC/Compiler version -->GCC 4.8.4\nCUDA/cuDNN version-->cuda9/cuDNN7\nGPU model and memory-->Tesla K20c/Tesla K20m\ncode to reproduce:\nimport tensorflow as tf\n\nprint(tf.GIT_VERSION, tf.VERSION)\n\nall_record = str(\"abc\")\noutput_filename = \"tfrecord_test\"\n\nwriter = tf.python_io.TFRecordWriter(output_filename)\n\nexample = tf.train.Example(\n    features = tf.train.Features(\n        feature = {\n            \"features\": tf.train.Feature(\n                #int32_list = tf.train.Int32List(value = all_record)\n                bytes_list=tf.train.BytesList(value = all_record)\n            )\n        }\n    )\n)\nwriter.write(example.SerializeToString())\n\nwriter.close()\n\nerror log:\n$ python tf_record_test.py\n/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\n  from ._conv import register_converters as _register_converters\nv1.6.0-0-gd2e24b6039 1.6.0\nTraceback (most recent call last):\n  File \"tf_record_test.py\", line 15, in <module>\n    bytes_list=tf.train.BytesList(value = all_record)\nTypeError: 'a' has type str, but expected one of: bytes", "body": "OS Platform and Distribution-->Linux Ubuntu 14.04\r\nTensorFlow installed from-->binary\r\nTensorFlow version -->1.6\r\nPython version--> 3.5.5\r\nGCC/Compiler version -->GCC 4.8.4\r\nCUDA/cuDNN version-->cuda9/cuDNN7\r\nGPU model and memory-->Tesla K20c/Tesla K20m\r\n\r\ncode to reproduce:\r\n```\r\nimport tensorflow as tf\r\n\r\nprint(tf.GIT_VERSION, tf.VERSION)\r\n\r\nall_record = str(\"abc\")\r\noutput_filename = \"tfrecord_test\"\r\n\r\nwriter = tf.python_io.TFRecordWriter(output_filename)\r\n\r\nexample = tf.train.Example(\r\n    features = tf.train.Features(\r\n        feature = {\r\n            \"features\": tf.train.Feature(\r\n                #int32_list = tf.train.Int32List(value = all_record)\r\n                bytes_list=tf.train.BytesList(value = all_record)\r\n            )\r\n        }\r\n    )\r\n)\r\nwriter.write(example.SerializeToString())\r\n\r\nwriter.close()\r\n```\r\n\r\nerror log:\r\n```\r\n$ python tf_record_test.py\r\n/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\nv1.6.0-0-gd2e24b6039 1.6.0\r\nTraceback (most recent call last):\r\n  File \"tf_record_test.py\", line 15, in <module>\r\n    bytes_list=tf.train.BytesList(value = all_record)\r\nTypeError: 'a' has type str, but expected one of: bytes\r\n```"}