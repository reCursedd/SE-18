{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/372893354", "html_url": "https://github.com/tensorflow/tensorflow/issues/17674#issuecomment-372893354", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17674", "id": 372893354, "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mjg5MzM1NA==", "user": {"login": "XuChunling", "id": 10767042, "node_id": "MDQ6VXNlcjEwNzY3MDQy", "avatar_url": "https://avatars3.githubusercontent.com/u/10767042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XuChunling", "html_url": "https://github.com/XuChunling", "followers_url": "https://api.github.com/users/XuChunling/followers", "following_url": "https://api.github.com/users/XuChunling/following{/other_user}", "gists_url": "https://api.github.com/users/XuChunling/gists{/gist_id}", "starred_url": "https://api.github.com/users/XuChunling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XuChunling/subscriptions", "organizations_url": "https://api.github.com/users/XuChunling/orgs", "repos_url": "https://api.github.com/users/XuChunling/repos", "events_url": "https://api.github.com/users/XuChunling/events{/privacy}", "received_events_url": "https://api.github.com/users/XuChunling/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-14T03:30:54Z", "updated_at": "2018-03-14T03:30:54Z", "author_association": "NONE", "body_html": "<p>I transform \"string\" to \"bytes\" , by add \"b\" before string, but there is another error.</p>\n<pre><code>import tensorflow as tf\n\nprint(tf.GIT_VERSION, tf.VERSION)\n\nall_record = b\"abc\"\noutput_filename = \"tfrecord_test\"\n\nwriter = tf.python_io.TFRecordWriter(output_filename)\n\nexample = tf.train.Example(\n    features = tf.train.Features(\n        feature = {\n            \"features\": tf.train.Feature(\n                #int32_list = tf.train.Int32List(value = all_record)\n                bytes_list=tf.train.BytesList(value = all_record)\n            )\n        }\n    )\n)\nwriter.write(example.SerializeToString())\n\nwriter.close()\n\n</code></pre>\n<p>error log:</p>\n<pre><code>$ python tf_record_test.py\n/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\n  from ._conv import register_converters as _register_converters\nv1.6.0-0-gd2e24b6039 1.6.0\nTraceback (most recent call last):\n  File \"tf_record_test.py\", line 15, in &lt;module&gt;\n    bytes_list=tf.train.BytesList(value = all_record)\nTypeError: 97 has type int, but expected one of: bytes\n</code></pre>", "body_text": "I transform \"string\" to \"bytes\" , by add \"b\" before string, but there is another error.\nimport tensorflow as tf\n\nprint(tf.GIT_VERSION, tf.VERSION)\n\nall_record = b\"abc\"\noutput_filename = \"tfrecord_test\"\n\nwriter = tf.python_io.TFRecordWriter(output_filename)\n\nexample = tf.train.Example(\n    features = tf.train.Features(\n        feature = {\n            \"features\": tf.train.Feature(\n                #int32_list = tf.train.Int32List(value = all_record)\n                bytes_list=tf.train.BytesList(value = all_record)\n            )\n        }\n    )\n)\nwriter.write(example.SerializeToString())\n\nwriter.close()\n\n\nerror log:\n$ python tf_record_test.py\n/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\n  from ._conv import register_converters as _register_converters\nv1.6.0-0-gd2e24b6039 1.6.0\nTraceback (most recent call last):\n  File \"tf_record_test.py\", line 15, in <module>\n    bytes_list=tf.train.BytesList(value = all_record)\nTypeError: 97 has type int, but expected one of: bytes", "body": "I transform \"string\" to \"bytes\" , by add \"b\" before string, but there is another error.\r\n\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\nprint(tf.GIT_VERSION, tf.VERSION)\r\n\r\nall_record = b\"abc\"\r\noutput_filename = \"tfrecord_test\"\r\n\r\nwriter = tf.python_io.TFRecordWriter(output_filename)\r\n\r\nexample = tf.train.Example(\r\n    features = tf.train.Features(\r\n        feature = {\r\n            \"features\": tf.train.Feature(\r\n                #int32_list = tf.train.Int32List(value = all_record)\r\n                bytes_list=tf.train.BytesList(value = all_record)\r\n            )\r\n        }\r\n    )\r\n)\r\nwriter.write(example.SerializeToString())\r\n\r\nwriter.close()\r\n\r\n```\r\nerror log:\r\n\r\n```\r\n$ python tf_record_test.py\r\n/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\nv1.6.0-0-gd2e24b6039 1.6.0\r\nTraceback (most recent call last):\r\n  File \"tf_record_test.py\", line 15, in <module>\r\n    bytes_list=tf.train.BytesList(value = all_record)\r\nTypeError: 97 has type int, but expected one of: bytes\r\n```"}