{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6341", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6341/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6341/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6341/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6341", "id": 195901201, "node_id": "MDU6SXNzdWUxOTU5MDEyMDE=", "number": 6341, "title": "ImportError: No module named google.protobuf", "user": {"login": "pswpswpsw", "id": 7966776, "node_id": "MDQ6VXNlcjc5NjY3NzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/7966776?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pswpswpsw", "html_url": "https://github.com/pswpswpsw", "followers_url": "https://api.github.com/users/pswpswpsw/followers", "following_url": "https://api.github.com/users/pswpswpsw/following{/other_user}", "gists_url": "https://api.github.com/users/pswpswpsw/gists{/gist_id}", "starred_url": "https://api.github.com/users/pswpswpsw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pswpswpsw/subscriptions", "organizations_url": "https://api.github.com/users/pswpswpsw/orgs", "repos_url": "https://api.github.com/users/pswpswpsw/repos", "events_url": "https://api.github.com/users/pswpswpsw/events{/privacy}", "received_events_url": "https://api.github.com/users/pswpswpsw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-12-15T19:57:57Z", "updated_at": "2018-11-15T18:43:09Z", "closed_at": "2016-12-16T00:09:44Z", "author_association": "NONE", "body_html": "<p><strong>Problem description</strong><br>\nThis issue happens randomly. For same machine, same CPU,works randomly. I run it for 10 times, 6 times succeed, 4 times fail. Same code is running for every time. The code is</p>\n<pre><code>import tensorflow as tf\n# with tf.device('/cpu:0'):\na = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[2, 3], name='a')\nb = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[3, 2], name='b')\nc = tf.matmul(a, b)\nwith tf.Session(config=tf.ConfigProto(log_device_placement=True)) as sess:\n\tprint sess.run(c)\n</code></pre>\n<p><strong>System information</strong><br>\nInformation of cluster:<br>\nBasically our cluster is made of IBM Power System S822LC for commercial computing</p>\n<pre><code>OS: Red Hat Enterprise Linux Server release 7.2 (Maipo)\nTF version: 0.10.0rc0\nprotobuf: 3.0.0b2\nPython: 2.7.5\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; cwd = os.getcwd()\n&gt;&gt;&gt; cwd\n'/gpfs/gpfs0/groups/duraisamy/shawnpan/test/script'\n&gt;&gt;&gt; import tensorflow\nimport tensorflow\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so.5.1.5 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so.8.0 locally\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/__init__.py\", line 23, in &lt;module&gt;\n    from tensorflow.python import *\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/python/__init__.py\", line 58, in &lt;module&gt;\n    raise ImportError(msg)\nImportError: Traceback (most recent call last):\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/python/__init__.py\", line 52, in &lt;module&gt;\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/core/framework/graph_pb2.py\", line 6, in &lt;module&gt;\n    from google.protobuf import descriptor as _descriptor\nImportError: No module named google.protobuf\n\n\nError importing tensorflow.  Unless you are using bazel,\nyou should not try to import tensorflow from its source directory;\nplease exit the tensorflow source tree, and relaunch your python interpreter\nfrom there.\n</code></pre>", "body_text": "Problem description\nThis issue happens randomly. For same machine, same CPU,works randomly. I run it for 10 times, 6 times succeed, 4 times fail. Same code is running for every time. The code is\nimport tensorflow as tf\n# with tf.device('/cpu:0'):\na = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[2, 3], name='a')\nb = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[3, 2], name='b')\nc = tf.matmul(a, b)\nwith tf.Session(config=tf.ConfigProto(log_device_placement=True)) as sess:\n\tprint sess.run(c)\n\nSystem information\nInformation of cluster:\nBasically our cluster is made of IBM Power System S822LC for commercial computing\nOS: Red Hat Enterprise Linux Server release 7.2 (Maipo)\nTF version: 0.10.0rc0\nprotobuf: 3.0.0b2\nPython: 2.7.5\n\nError\n>>> import os\n>>> cwd = os.getcwd()\n>>> cwd\n'/gpfs/gpfs0/groups/duraisamy/shawnpan/test/script'\n>>> import tensorflow\nimport tensorflow\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so.5.1.5 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so.8.0 locally\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/__init__.py\", line 23, in <module>\n    from tensorflow.python import *\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/python/__init__.py\", line 58, in <module>\n    raise ImportError(msg)\nImportError: Traceback (most recent call last):\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/python/__init__.py\", line 52, in <module>\n    from tensorflow.core.framework.graph_pb2 import *\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/core/framework/graph_pb2.py\", line 6, in <module>\n    from google.protobuf import descriptor as _descriptor\nImportError: No module named google.protobuf\n\n\nError importing tensorflow.  Unless you are using bazel,\nyou should not try to import tensorflow from its source directory;\nplease exit the tensorflow source tree, and relaunch your python interpreter\nfrom there.", "body": "**Problem description**\r\nThis issue happens randomly. For same machine, same CPU,works randomly. I run it for 10 times, 6 times succeed, 4 times fail. Same code is running for every time. The code is \r\n```\r\nimport tensorflow as tf\r\n# with tf.device('/cpu:0'):\r\na = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[2, 3], name='a')\r\nb = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[3, 2], name='b')\r\nc = tf.matmul(a, b)\r\nwith tf.Session(config=tf.ConfigProto(log_device_placement=True)) as sess:\r\n\tprint sess.run(c)\r\n```\r\n\r\n**System information**\r\nInformation of cluster:\r\nBasically our cluster is made of IBM Power System S822LC for commercial computing\r\n\r\n    OS: Red Hat Enterprise Linux Server release 7.2 (Maipo)\r\n    TF version: 0.10.0rc0\r\n    protobuf: 3.0.0b2\r\n    Python: 2.7.5\r\n\r\n**Error**\r\n```\r\n>>> import os\r\n>>> cwd = os.getcwd()\r\n>>> cwd\r\n'/gpfs/gpfs0/groups/duraisamy/shawnpan/test/script'\r\n>>> import tensorflow\r\nimport tensorflow\r\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so.5.1.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so.8.0 locally\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/__init__.py\", line 23, in <module>\r\n    from tensorflow.python import *\r\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/python/__init__.py\", line 58, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/python/__init__.py\", line 52, in <module>\r\n    from tensorflow.core.framework.graph_pb2 import *\r\n  File \"/gpfs/gpfs0/software/rhel72/packages/tensorflow_gpu/tensorflow/core/framework/graph_pb2.py\", line 6, in <module>\r\n    from google.protobuf import descriptor as _descriptor\r\nImportError: No module named google.protobuf\r\n\r\n\r\nError importing tensorflow.  Unless you are using bazel,\r\nyou should not try to import tensorflow from its source directory;\r\nplease exit the tensorflow source tree, and relaunch your python interpreter\r\nfrom there.\r\n```"}