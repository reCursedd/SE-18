{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/356275963", "html_url": "https://github.com/tensorflow/tensorflow/issues/15925#issuecomment-356275963", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15925", "id": 356275963, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjI3NTk2Mw==", "user": {"login": "mgb4", "id": 28561967, "node_id": "MDQ6VXNlcjI4NTYxOTY3", "avatar_url": "https://avatars0.githubusercontent.com/u/28561967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgb4", "html_url": "https://github.com/mgb4", "followers_url": "https://api.github.com/users/mgb4/followers", "following_url": "https://api.github.com/users/mgb4/following{/other_user}", "gists_url": "https://api.github.com/users/mgb4/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgb4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgb4/subscriptions", "organizations_url": "https://api.github.com/users/mgb4/orgs", "repos_url": "https://api.github.com/users/mgb4/repos", "events_url": "https://api.github.com/users/mgb4/events{/privacy}", "received_events_url": "https://api.github.com/users/mgb4/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-09T12:54:17Z", "updated_at": "2018-01-09T22:16:24Z", "author_association": "NONE", "body_html": "<p>The problem is that in Visual Studio 2017 (15.5) the std::lower_bound() function internally creates a const object of the iterator for which it then calls operator*(). However, IndicesRowIterator does not define this for const objects, which results in the error the compiler is giving you.<br>\nYou could fix this by adding const to</p>\n<p><code>reference operator*() { return iter_-&gt;ix()(row_idx_, 0); }, </code></p>\n<p>i.e.</p>\n<p><code>reference operator*() const { return iter_-&gt;ix()(row_idx_, 0); }</code></p>\n<p>As the ix() function is defined as const this should be no problem.</p>", "body_text": "The problem is that in Visual Studio 2017 (15.5) the std::lower_bound() function internally creates a const object of the iterator for which it then calls operator*(). However, IndicesRowIterator does not define this for const objects, which results in the error the compiler is giving you.\nYou could fix this by adding const to\nreference operator*() { return iter_->ix()(row_idx_, 0); }, \ni.e.\nreference operator*() const { return iter_->ix()(row_idx_, 0); }\nAs the ix() function is defined as const this should be no problem.", "body": "The problem is that in Visual Studio 2017 (15.5) the std::lower_bound() function internally creates a const object of the iterator for which it then calls operator*(). However, IndicesRowIterator does not define this for const objects, which results in the error the compiler is giving you.\r\nYou could fix this by adding const to\r\n\r\n`reference operator*() { return iter_->ix()(row_idx_, 0); }, `\r\n\r\ni.e.\r\n\r\n`reference operator*() const { return iter_->ix()(row_idx_, 0); }`\r\n\r\nAs the ix() function is defined as const this should be no problem. \r\n  "}