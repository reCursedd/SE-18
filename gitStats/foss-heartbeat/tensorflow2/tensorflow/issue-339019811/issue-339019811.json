{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20598", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20598/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20598/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20598/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20598", "id": 339019811, "node_id": "MDU6SXNzdWUzMzkwMTk4MTE=", "number": 20598, "title": "Cmake build with GPU fails on Windows 7", "user": {"login": "Ducanhvu", "id": 15823001, "node_id": "MDQ6VXNlcjE1ODIzMDAx", "avatar_url": "https://avatars0.githubusercontent.com/u/15823001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ducanhvu", "html_url": "https://github.com/Ducanhvu", "followers_url": "https://api.github.com/users/Ducanhvu/followers", "following_url": "https://api.github.com/users/Ducanhvu/following{/other_user}", "gists_url": "https://api.github.com/users/Ducanhvu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ducanhvu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ducanhvu/subscriptions", "organizations_url": "https://api.github.com/users/Ducanhvu/orgs", "repos_url": "https://api.github.com/users/Ducanhvu/repos", "events_url": "https://api.github.com/users/Ducanhvu/events{/privacy}", "received_events_url": "https://api.github.com/users/Ducanhvu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cy89", "id": 29663194, "node_id": "MDQ6VXNlcjI5NjYzMTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/29663194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cy89", "html_url": "https://github.com/cy89", "followers_url": "https://api.github.com/users/cy89/followers", "following_url": "https://api.github.com/users/cy89/following{/other_user}", "gists_url": "https://api.github.com/users/cy89/gists{/gist_id}", "starred_url": "https://api.github.com/users/cy89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cy89/subscriptions", "organizations_url": "https://api.github.com/users/cy89/orgs", "repos_url": "https://api.github.com/users/cy89/repos", "events_url": "https://api.github.com/users/cy89/events{/privacy}", "received_events_url": "https://api.github.com/users/cy89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-07-06T17:38:58Z", "updated_at": "2018-08-15T18:59:38Z", "closed_at": "2018-08-15T18:59:38Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Windows 7 64-Bit</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Source</li>\n<li><strong>TensorFlow version (use command below)</strong>: commit id: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/b2fe2a874bade4782aaca5c44bf29e7ff6c39200/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/b2fe2a874bade4782aaca5c44bf29e7ff6c39200\"><tt>b2fe2a8</tt></a></li>\n<li><strong>Python version</strong>: 3.55</li>\n<li><strong>Bazel version (if compiling from source)</strong>: N/A</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: 3.6.3</li>\n<li><strong>CUDA/cuDNN version</strong>: CUDA 9.0 cuDNN 7.1</li>\n<li><strong>GPU model and memory</strong>: NVIDIA NVS 510 2GB</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nFirst:<br>\ncmake .. -A x64 -DCMAKE_BUILD_TYPE=Release -DSWIG_EXECUTABLE=C:/tools/swigwin-3.0.10/swig.exe -DPYTHON_EXECUTABLE=C:/Users/{username}/Anaconda3/envs/py35/python.exe -DPYTHON_LIBRARIES=C:/Users/{username}/Anaconda3/envs/py35/libs/python35.lib -DPYTHON_INCLUDE_DIRS=C:/Users/{username}/Anaconda3/envs/py35/include -Dtensorflow_ENABLE_GPU=ON -DCUDNN_HOME=\"C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\" -Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX</li>\n</ul>\n<p>Then<br>\nMSBuild /p:Configuration=Release /filelogger tf_python_build_pip_package.vcxproj</p>\n<h3>Describe the problem</h3>\n<p>Describe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.</p>\n<p>This is what is at the end of the log:<br>\n\"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) -&gt;<br>\n\"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\estimator_python_api.vcxproj\" (default target) (2) -&gt;<br>\n(CustomBuild target) -&gt;<br>\nC:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\estimator_python_api.vcxproj]</p>\n<p>\"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) -&gt;<br>\n\"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_api.vcxproj\" (default target) (264) -&gt;<br>\nC:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_api.vcxproj]</p>\n<pre><code>27022 Warning(s)\n2 Error(s)\n</code></pre>\n<p>I searched in the log for the keyword \"Error:\" and came across this passage:</p>\n<p>Traceback (most recent call last):<br>\nFile \"C:/Users/{username}/tensorflow/tensorflow/contrib/cmake/build/tf_python/tensorflow/tools/api/generator/create_python_api.py\", line 27, in <br>\nfrom tensorflow.python.util import tf_decorator<br>\nFile \"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python_<em>init</em>_.py\", line 52, in <br>\nfrom tensorflow.core.framework.graph_pb2 import *<br>\nFile \"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\core\\framework\\graph_pb2.py\", line 6, in <br>\nfrom google.protobuf import descriptor as _descriptor<br>\nImportError: No module named 'google'</p>\n<p>Time Elapsed 18:43:53.58</p>\n<h3>Source code / logs</h3>\n<p><a href=\"https://github.com/tensorflow/tensorflow/files/2171451/msbuild.-.Copy.zip\">msbuild - Copy.zip</a></p>\n<p>Thank you in advance :)</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 7 64-Bit\nTensorFlow installed from (source or binary): Source\nTensorFlow version (use command below): commit id: b2fe2a8\nPython version: 3.55\nBazel version (if compiling from source): N/A\nGCC/Compiler version (if compiling from source): 3.6.3\nCUDA/cuDNN version: CUDA 9.0 cuDNN 7.1\nGPU model and memory: NVIDIA NVS 510 2GB\nExact command to reproduce:\nFirst:\ncmake .. -A x64 -DCMAKE_BUILD_TYPE=Release -DSWIG_EXECUTABLE=C:/tools/swigwin-3.0.10/swig.exe -DPYTHON_EXECUTABLE=C:/Users/{username}/Anaconda3/envs/py35/python.exe -DPYTHON_LIBRARIES=C:/Users/{username}/Anaconda3/envs/py35/libs/python35.lib -DPYTHON_INCLUDE_DIRS=C:/Users/{username}/Anaconda3/envs/py35/include -Dtensorflow_ENABLE_GPU=ON -DCUDNN_HOME=\"C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\" -Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX\n\nThen\nMSBuild /p:Configuration=Release /filelogger tf_python_build_pip_package.vcxproj\nDescribe the problem\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\nThis is what is at the end of the log:\n\"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) ->\n\"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\estimator_python_api.vcxproj\" (default target) (2) ->\n(CustomBuild target) ->\nC:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\estimator_python_api.vcxproj]\n\"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) ->\n\"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_api.vcxproj\" (default target) (264) ->\nC:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_api.vcxproj]\n27022 Warning(s)\n2 Error(s)\n\nI searched in the log for the keyword \"Error:\" and came across this passage:\nTraceback (most recent call last):\nFile \"C:/Users/{username}/tensorflow/tensorflow/contrib/cmake/build/tf_python/tensorflow/tools/api/generator/create_python_api.py\", line 27, in \nfrom tensorflow.python.util import tf_decorator\nFile \"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python_init_.py\", line 52, in \nfrom tensorflow.core.framework.graph_pb2 import *\nFile \"C:\\Users{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\core\\framework\\graph_pb2.py\", line 6, in \nfrom google.protobuf import descriptor as _descriptor\nImportError: No module named 'google'\nTime Elapsed 18:43:53.58\nSource code / logs\nmsbuild - Copy.zip\nThank you in advance :)", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Windows 7 64-Bit\r\n- **TensorFlow installed from (source or binary)**: Source\r\n- **TensorFlow version (use command below)**: commit id: b2fe2a874bade4782aaca5c44bf29e7ff6c39200\r\n- **Python version**: 3.55\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **GCC/Compiler version (if compiling from source)**: 3.6.3\r\n- **CUDA/cuDNN version**: CUDA 9.0 cuDNN 7.1\r\n- **GPU model and memory**: NVIDIA NVS 510 2GB\r\n- **Exact command to reproduce**:\r\nFirst:\r\ncmake .. -A x64 -DCMAKE_BUILD_TYPE=Release -DSWIG_EXECUTABLE=C:/tools/swigwin-3.0.10/swig.exe -DPYTHON_EXECUTABLE=C:/Users/{username}/Anaconda3/envs/py35/python.exe -DPYTHON_LIBRARIES=C:/Users/{username}/Anaconda3/envs/py35/libs/python35.lib -DPYTHON_INCLUDE_DIRS=C:/Users/{username}/Anaconda3/envs/py35/include -Dtensorflow_ENABLE_GPU=ON -DCUDNN_HOME=\"C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v9.0\" -Dtensorflow_WIN_CPU_SIMD_OPTIONS=/arch:AVX\r\n\r\nThen\r\nMSBuild /p:Configuration=Release /filelogger tf_python_build_pip_package.vcxproj\r\n\r\n\r\n\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\n\r\nThis is what is at the end of the log:\r\n\"C:\\Users\\{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) ->\r\n\"C:\\Users\\{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\estimator_python_api.vcxproj\" (default target) (2) ->\r\n(CustomBuild target) -> \r\n  C:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [C:\\Users\\{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\estimator_python_api.vcxproj]\r\n\r\n\r\n\"C:\\Users\\{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) ->\r\n\"C:\\Users\\{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_api.vcxproj\" (default target) (264) ->\r\n  C:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [C:\\Users\\{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_api.vcxproj]\r\n\r\n    27022 Warning(s)\r\n    2 Error(s)\r\n\r\nI searched in the log for the keyword \"Error:\" and came across this passage:\r\n\r\n  Traceback (most recent call last):\r\n    File \"C:/Users/{username}/tensorflow/tensorflow/contrib/cmake/build/tf_python/tensorflow/tools/api/generator/create_python_api.py\", line 27, in <module>\r\n      from tensorflow.python.util import tf_decorator\r\n    File \"C:\\Users\\{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python\\__init__.py\", line 52, in <module>\r\n      from tensorflow.core.framework.graph_pb2 import *\r\n    File \"C:\\Users\\{username}\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\core\\framework\\graph_pb2.py\", line 6, in <module>\r\n      from google.protobuf import descriptor as _descriptor\r\n  ImportError: No module named 'google'\r\n\r\nTime Elapsed 18:43:53.58\r\n### Source code / logs\r\n[msbuild - Copy.zip](https://github.com/tensorflow/tensorflow/files/2171451/msbuild.-.Copy.zip)\r\n\r\n\r\n\r\nThank you in advance :)"}