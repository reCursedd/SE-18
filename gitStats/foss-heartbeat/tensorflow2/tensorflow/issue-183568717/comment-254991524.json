{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/254991524", "html_url": "https://github.com/tensorflow/tensorflow/pull/5024#issuecomment-254991524", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5024", "id": 254991524, "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDk5MTUyNA==", "user": {"login": "fabriciojoc", "id": 10869430, "node_id": "MDQ6VXNlcjEwODY5NDMw", "avatar_url": "https://avatars3.githubusercontent.com/u/10869430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabriciojoc", "html_url": "https://github.com/fabriciojoc", "followers_url": "https://api.github.com/users/fabriciojoc/followers", "following_url": "https://api.github.com/users/fabriciojoc/following{/other_user}", "gists_url": "https://api.github.com/users/fabriciojoc/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabriciojoc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabriciojoc/subscriptions", "organizations_url": "https://api.github.com/users/fabriciojoc/orgs", "repos_url": "https://api.github.com/users/fabriciojoc/repos", "events_url": "https://api.github.com/users/fabriciojoc/events{/privacy}", "received_events_url": "https://api.github.com/users/fabriciojoc/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-20T02:16:37Z", "updated_at": "2016-10-20T02:17:16Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20959853\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drpngx\">@drpngx</a> , looks like it's a problem with read_csv from pandas library. Only the last example contains NaN, in case of continuous features, and None, in case of categorical ones. Here you san see two examples:</p>\n<p>Education column (categorical) before droping None and NaN examples:</p>\n<blockquote>\n<p>0        Bachelors<br>\n1        Bachelors<br>\n2          HS-grad<br>\n3             11th<br>\n4        Bachelors<br>\n5          Masters<br>\n6              9th<br>\n7          HS-grad<br>\n8          Masters<br>\n9        Bachelors<br>\n10    Some-college<br>\n11       Bachelors<br>\n12       Bachelors<br>\n13      Assoc-acdm<br>\n14       Assoc-voc<br>\n...<br>\n32547         HS-grad<br>\n32548     Prof-school<br>\n32549    Some-college<br>\n32550    Some-college<br>\n32551            10th<br>\n32552       Assoc-voc<br>\n32553         Masters<br>\n32554         Masters<br>\n32555    Some-college<br>\n32556      Assoc-acdm<br>\n32557         HS-grad<br>\n32558         HS-grad<br>\n32559         HS-grad<br>\n32560         HS-grad<br>\n32561            None<br>\nName: education, Length: 32562, dtype: object</p>\n</blockquote>\n<p>Education column (categorical) after droping None and NaN examples:</p>\n<blockquote>\n<p>0        Bachelors<br>\n1        Bachelors<br>\n2          HS-grad<br>\n3             11th<br>\n4        Bachelors<br>\n5          Masters<br>\n6              9th<br>\n7          HS-grad<br>\n8          Masters<br>\n9        Bachelors<br>\n10    Some-college<br>\n11       Bachelors<br>\n12       Bachelors<br>\n13      Assoc-acdm<br>\n14       Assoc-voc<br>\n...<br>\n32546      Assoc-acdm<br>\n32547         HS-grad<br>\n32548     Prof-school<br>\n32549    Some-college<br>\n32550    Some-college<br>\n32551            10th<br>\n32552       Assoc-voc<br>\n32553         Masters<br>\n32554         Masters<br>\n32555    Some-college<br>\n32556      Assoc-acdm<br>\n32557         HS-grad<br>\n32558         HS-grad<br>\n32559         HS-grad<br>\n32560         HS-grad<br>\nName: education, Length: 32561, dtype: object</p>\n</blockquote>\n<p>The same happens for continuous features and label (in this case, both are integers).</p>\n<p>Age column before droping NaN examples:</p>\n<blockquote>\n<p>0     39<br>\n1     50<br>\n2     38<br>\n3     53<br>\n4     28<br>\n5     37<br>\n6     49<br>\n7     52<br>\n8     31<br>\n9     42<br>\n10    37<br>\n11    30<br>\n12    23<br>\n13    32<br>\n14    40<br>\n...<br>\n32547    43<br>\n32548    65<br>\n32549    43<br>\n32550    43<br>\n32551    32<br>\n32552    43<br>\n32553    32<br>\n32554    53<br>\n32555    22<br>\n32556    27<br>\n32557    40<br>\n32558    58<br>\n32559    22<br>\n32560    52<br>\n32561   NaN<br>\nName: age, Length: 32562, dtype: float64</p>\n</blockquote>\n<p>Age column after removing NaN examples:</p>\n<blockquote>\n<p>0     39<br>\n1     50<br>\n2     38<br>\n3     53<br>\n4     28<br>\n5     37<br>\n6     49<br>\n7     52<br>\n8     31<br>\n9     42<br>\n10    37<br>\n11    30<br>\n12    23<br>\n13    32<br>\n14    40<br>\n...<br>\n32546    37<br>\n32547    43<br>\n32548    65<br>\n32549    43<br>\n32550    43<br>\n32551    32<br>\n32552    43<br>\n32553    32<br>\n32554    53<br>\n32555    22<br>\n32556    27<br>\n32557    40<br>\n32558    58<br>\n32559    22<br>\n32560    52<br>\nName: age, Length: 32561, dtype: float64</p>\n</blockquote>\n<p>I never used pandas library before, so I don't know if there's a better way to solve this problem in read_csv method. However, dropna should do the trick.</p>\n<p>Thank you.</p>", "body_text": "@drpngx , looks like it's a problem with read_csv from pandas library. Only the last example contains NaN, in case of continuous features, and None, in case of categorical ones. Here you san see two examples:\nEducation column (categorical) before droping None and NaN examples:\n\n0        Bachelors\n1        Bachelors\n2          HS-grad\n3             11th\n4        Bachelors\n5          Masters\n6              9th\n7          HS-grad\n8          Masters\n9        Bachelors\n10    Some-college\n11       Bachelors\n12       Bachelors\n13      Assoc-acdm\n14       Assoc-voc\n...\n32547         HS-grad\n32548     Prof-school\n32549    Some-college\n32550    Some-college\n32551            10th\n32552       Assoc-voc\n32553         Masters\n32554         Masters\n32555    Some-college\n32556      Assoc-acdm\n32557         HS-grad\n32558         HS-grad\n32559         HS-grad\n32560         HS-grad\n32561            None\nName: education, Length: 32562, dtype: object\n\nEducation column (categorical) after droping None and NaN examples:\n\n0        Bachelors\n1        Bachelors\n2          HS-grad\n3             11th\n4        Bachelors\n5          Masters\n6              9th\n7          HS-grad\n8          Masters\n9        Bachelors\n10    Some-college\n11       Bachelors\n12       Bachelors\n13      Assoc-acdm\n14       Assoc-voc\n...\n32546      Assoc-acdm\n32547         HS-grad\n32548     Prof-school\n32549    Some-college\n32550    Some-college\n32551            10th\n32552       Assoc-voc\n32553         Masters\n32554         Masters\n32555    Some-college\n32556      Assoc-acdm\n32557         HS-grad\n32558         HS-grad\n32559         HS-grad\n32560         HS-grad\nName: education, Length: 32561, dtype: object\n\nThe same happens for continuous features and label (in this case, both are integers).\nAge column before droping NaN examples:\n\n0     39\n1     50\n2     38\n3     53\n4     28\n5     37\n6     49\n7     52\n8     31\n9     42\n10    37\n11    30\n12    23\n13    32\n14    40\n...\n32547    43\n32548    65\n32549    43\n32550    43\n32551    32\n32552    43\n32553    32\n32554    53\n32555    22\n32556    27\n32557    40\n32558    58\n32559    22\n32560    52\n32561   NaN\nName: age, Length: 32562, dtype: float64\n\nAge column after removing NaN examples:\n\n0     39\n1     50\n2     38\n3     53\n4     28\n5     37\n6     49\n7     52\n8     31\n9     42\n10    37\n11    30\n12    23\n13    32\n14    40\n...\n32546    37\n32547    43\n32548    65\n32549    43\n32550    43\n32551    32\n32552    43\n32553    32\n32554    53\n32555    22\n32556    27\n32557    40\n32558    58\n32559    22\n32560    52\nName: age, Length: 32561, dtype: float64\n\nI never used pandas library before, so I don't know if there's a better way to solve this problem in read_csv method. However, dropna should do the trick.\nThank you.", "body": "@drpngx , looks like it's a problem with read_csv from pandas library. Only the last example contains NaN, in case of continuous features, and None, in case of categorical ones. Here you san see two examples:\n\nEducation column (categorical) before droping None and NaN examples:\n\n> 0        Bachelors\n> 1        Bachelors\n> 2          HS-grad\n> 3             11th\n> 4        Bachelors\n> 5          Masters\n> 6              9th\n> 7          HS-grad\n> 8          Masters\n> 9        Bachelors\n> 10    Some-college\n> 11       Bachelors\n> 12       Bachelors\n> 13      Assoc-acdm\n> 14       Assoc-voc\n> ...\n> 32547         HS-grad\n> 32548     Prof-school\n> 32549    Some-college\n> 32550    Some-college\n> 32551            10th\n> 32552       Assoc-voc\n> 32553         Masters\n> 32554         Masters\n> 32555    Some-college\n> 32556      Assoc-acdm\n> 32557         HS-grad\n> 32558         HS-grad\n> 32559         HS-grad\n> 32560         HS-grad\n> 32561            None\n> Name: education, Length: 32562, dtype: object\n\nEducation column (categorical) after droping None and NaN examples:\n\n> 0        Bachelors\n> 1        Bachelors\n> 2          HS-grad\n> 3             11th\n> 4        Bachelors\n> 5          Masters\n> 6              9th\n> 7          HS-grad\n> 8          Masters\n> 9        Bachelors\n> 10    Some-college\n> 11       Bachelors\n> 12       Bachelors\n> 13      Assoc-acdm\n> 14       Assoc-voc\n> ...\n> 32546      Assoc-acdm\n> 32547         HS-grad\n> 32548     Prof-school\n> 32549    Some-college\n> 32550    Some-college\n> 32551            10th\n> 32552       Assoc-voc\n> 32553         Masters\n> 32554         Masters\n> 32555    Some-college\n> 32556      Assoc-acdm\n> 32557         HS-grad\n> 32558         HS-grad\n> 32559         HS-grad\n> 32560         HS-grad\n> Name: education, Length: 32561, dtype: object\n\nThe same happens for continuous features and label (in this case, both are integers).\n\nAge column before droping NaN examples:\n\n> 0     39\n> 1     50\n> 2     38\n> 3     53\n> 4     28\n> 5     37\n> 6     49\n> 7     52\n> 8     31\n> 9     42\n> 10    37\n> 11    30\n> 12    23\n> 13    32\n> 14    40\n> ...\n> 32547    43\n> 32548    65\n> 32549    43\n> 32550    43\n> 32551    32\n> 32552    43\n> 32553    32\n> 32554    53\n> 32555    22\n> 32556    27\n> 32557    40\n> 32558    58\n> 32559    22\n> 32560    52\n> 32561   NaN\n> Name: age, Length: 32562, dtype: float64\n\nAge column after removing NaN examples:\n\n> 0     39\n> 1     50\n> 2     38\n> 3     53\n> 4     28\n> 5     37\n> 6     49\n> 7     52\n> 8     31\n> 9     42\n> 10    37\n> 11    30\n> 12    23\n> 13    32\n> 14    40\n> ...\n> 32546    37\n> 32547    43\n> 32548    65\n> 32549    43\n> 32550    43\n> 32551    32\n> 32552    43\n> 32553    32\n> 32554    53\n> 32555    22\n> 32556    27\n> 32557    40\n> 32558    58\n> 32559    22\n> 32560    52\n> Name: age, Length: 32561, dtype: float64\n\nI never used pandas library before, so I don't know if there's a better way to solve this problem in read_csv method. However, dropna should do the trick.\n\nThank you.\n"}