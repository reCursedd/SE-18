{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18411", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18411/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18411/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18411/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/18411", "id": 313146576, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgwNzcxMDMz", "number": 18411, "title": "[INTEL MKL] AVX512 Fix for Eigen Vectorized sqrt/rsqrt Function", "user": {"login": "mdfaijul", "id": 27521767, "node_id": "MDQ6VXNlcjI3NTIxNzY3", "avatar_url": "https://avatars3.githubusercontent.com/u/27521767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdfaijul", "html_url": "https://github.com/mdfaijul", "followers_url": "https://api.github.com/users/mdfaijul/followers", "following_url": "https://api.github.com/users/mdfaijul/following{/other_user}", "gists_url": "https://api.github.com/users/mdfaijul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdfaijul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdfaijul/subscriptions", "organizations_url": "https://api.github.com/users/mdfaijul/orgs", "repos_url": "https://api.github.com/users/mdfaijul/repos", "events_url": "https://api.github.com/users/mdfaijul/events{/privacy}", "received_events_url": "https://api.github.com/users/mdfaijul/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "fef2c0", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "open", "locked": false, "assignee": {"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2018-04-11T01:54:52Z", "updated_at": "2018-11-10T01:08:20Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18411", "html_url": "https://github.com/tensorflow/tensorflow/pull/18411", "diff_url": "https://github.com/tensorflow/tensorflow/pull/18411.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/18411.patch"}, "body_html": "<p>This PR has two modifications:</p>\n<ol>\n<li>\n<p>Downloads latest Eigen library that has AVX512 fix for vectorized sqrt/rqrt functions.</p>\n</li>\n<li>\n<p>Added a new unit-test python script [tensorflow/python/kernel_tests/sgd_optimizers_test.py] that tests several SGD optimizers calling sqrt/rsqrt function. The test fails with older Eigen library [https://bitbucket.org/eigen/eigen/get/6913f0cf7d06.tar.gz], but passes with new downloads.</p>\n</li>\n<li>\n<p>In order to check, use the following commands<br>\n<code>bazel test --config=mkl --copt=\"-mfma\" --copt=\"-march=native\" -c opt //tensorflow/python/kernel_tests:sgd_optimizers_test </code><br>\n<code>bazel test --copt=\"-mfma\" --copt=\"-march=native\" -c opt //tensorflow/python/kernel_tests:sgd_optimizers_test</code></p>\n</li>\n</ol>", "body_text": "This PR has two modifications:\n\n\nDownloads latest Eigen library that has AVX512 fix for vectorized sqrt/rqrt functions.\n\n\nAdded a new unit-test python script [tensorflow/python/kernel_tests/sgd_optimizers_test.py] that tests several SGD optimizers calling sqrt/rsqrt function. The test fails with older Eigen library [https://bitbucket.org/eigen/eigen/get/6913f0cf7d06.tar.gz], but passes with new downloads.\n\n\nIn order to check, use the following commands\nbazel test --config=mkl --copt=\"-mfma\" --copt=\"-march=native\" -c opt //tensorflow/python/kernel_tests:sgd_optimizers_test \nbazel test --copt=\"-mfma\" --copt=\"-march=native\" -c opt //tensorflow/python/kernel_tests:sgd_optimizers_test", "body": "This PR has two modifications:\r\n1. Downloads latest Eigen library that has AVX512 fix for vectorized sqrt/rqrt functions.\r\n\r\n2. Added a new unit-test python script [tensorflow/python/kernel_tests/sgd_optimizers_test.py] that tests several SGD optimizers calling sqrt/rsqrt function. The test fails with older Eigen library [https://bitbucket.org/eigen/eigen/get/6913f0cf7d06.tar.gz], but passes with new downloads.\r\n\r\n3. In order to check, use the following commands\r\n`bazel test --config=mkl --copt=\"-mfma\" --copt=\"-march=native\" -c opt //tensorflow/python/kernel_tests:sgd_optimizers_test\r\n`\r\n`bazel test --copt=\"-mfma\" --copt=\"-march=native\" -c opt //tensorflow/python/kernel_tests:sgd_optimizers_test`\r\n"}