{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/286700761", "html_url": "https://github.com/tensorflow/tensorflow/issues/8403#issuecomment-286700761", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8403", "id": 286700761, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjcwMDc2MQ==", "user": {"login": "dbarnes", "id": 5920715, "node_id": "MDQ6VXNlcjU5MjA3MTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/5920715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbarnes", "html_url": "https://github.com/dbarnes", "followers_url": "https://api.github.com/users/dbarnes/followers", "following_url": "https://api.github.com/users/dbarnes/following{/other_user}", "gists_url": "https://api.github.com/users/dbarnes/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbarnes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbarnes/subscriptions", "organizations_url": "https://api.github.com/users/dbarnes/orgs", "repos_url": "https://api.github.com/users/dbarnes/repos", "events_url": "https://api.github.com/users/dbarnes/events{/privacy}", "received_events_url": "https://api.github.com/users/dbarnes/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-15T10:24:38Z", "updated_at": "2017-03-15T10:24:38Z", "author_association": "NONE", "body_html": "<p>From my understanding, Tensorflow is built against the protobuf bazel pulls down (3.2.0 after the modifications above) which matches the system protobuf version we have installed (shown by protoc --version = <code>libprotoc 3.2.0</code>). Then at run time the app will be linking against our system protobuf.</p>\n<h3>ldd of our app</h3>\n<pre><code>  linux-vdso.so.1 =&gt;  (0x00007ffd9e2e9000)\n  libboost_unit_test_framework.so.1.60.0 =&gt; /usr/local/lib/libboost_unit_test_framework.so.1.60.0 (0x00007fc89f4da000)\n  libglog.so.0 =&gt; /usr/local/lib/libglog.so.0 (0x00007fc89f074000)\n  libgflags.so.2 =&gt; /usr/local/lib/libgflags.so.2 (0x00007fc89ee58000)\n  libopencv_videostab.so.2.4 =&gt; /usr/local/lib/libopencv_videostab.so.2.4 (0x00007fc89ec25000)\n  libopencv_superres.so.2.4 =&gt; /usr/local/lib/libopencv_superres.so.2.4 (0x00007fc89e9e4000)\n  libopencv_stitching.so.2.4 =&gt; /usr/local/lib/libopencv_stitching.so.2.4 (0x00007fc89e764000)\n  libopencv_contrib.so.2.4 =&gt; /usr/local/lib/libopencv_contrib.so.2.4 (0x00007fc89e467000)\n  libtensorflow.so =&gt; /home/dbarnes/code/third_party/tensorflow/bazel-bin/tensorflow/libtensorflow.so (0x00007fc893852000)\n  libprotobuf.so.12 =&gt; /usr/local/lib/libprotobuf.so.12 (0x00007fc8933f8000)\n  libpng12.so.0 =&gt; /lib/x86_64-linux-gnu/libpng12.so.0 (0x00007fc8931d2000)\n  libz.so.1 =&gt; /lib/x86_64-linux-gnu/libz.so.1 (0x00007fc892fb9000)\n  libPocoFoundation.so.11 =&gt; /usr/local/lib/libPocoFoundation.so.11 (0x00007fc892c3c000)\n  libboost_filesystem.so.1.60.0 =&gt; /usr/local/lib/libboost_filesystem.so.1.60.0 (0x00007fc8927ea000)\n  libboost_system.so.1.60.0 =&gt; /usr/local/lib/libboost_system.so.1.60.0 (0x00007fc8925e6000)\n  libboost_chrono.so.1.60.0 =&gt; /usr/local/lib/libboost_chrono.so.1.60.0 (0x00007fc8921bd000)\n  libboost_iostreams.so.1.60.0 =&gt; /usr/local/lib/libboost_iostreams.so.1.60.0 (0x00007fc891d38000)\n  libboost_regex.so.1.60.0 =&gt; /usr/local/lib/libboost_regex.so.1.60.0 (0x00007fc891a46000)\n  libPocoUtil.so.11 =&gt; /usr/local/lib/libPocoUtil.so.11 (0x00007fc8917ee000)\n  libboost_thread.so.1.60.0 =&gt; /usr/local/lib/libboost_thread.so.1.60.0 (0x00007fc8913c0000)\n  libboost_date_time.so.1.60.0 =&gt; /usr/local/lib/libboost_date_time.so.1.60.0 (0x00007fc8911af000)\n  libboost_atomic.so.1.60.0 =&gt; /usr/local/lib/libboost_atomic.so.1.60.0 (0x00007fc890fad000)\n  libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fc890d8f000)\n  libdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fc890316000)\n  libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007fc890010000)\n  librt.so.1 =&gt; /lib/x86_64-linux-gnu/librt.so.1 (0x00007fc88fe08000)\n  libopencv_nonfree.so.2.4 =&gt; /usr/local/lib/libopencv_nonfree.so.2.4 (0x00007fc88fbd0000)\n  libopencv_ocl.so.2.4 =&gt; /usr/local/lib/libopencv_ocl.so.2.4 (0x00007fc88f7d8000)\n  libopencv_gpu.so.2.4 =&gt; /usr/local/lib/libopencv_gpu.so.2.4 (0x00007fc88f5b8000)\n  libopencv_photo.so.2.4 =&gt; /usr/local/lib/libopencv_photo.so.2.4 (0x00007fc88f397000)\n  libopencv_objdetect.so.2.4 =&gt; /usr/local/lib/libopencv_objdetect.so.2.4 (0x00007fc88f115000)\n  libopencv_legacy.so.2.4 =&gt; /usr/local/lib/libopencv_legacy.so.2.4 (0x00007fc88ee0d000)\n  libopencv_video.so.2.4 =&gt; /usr/local/lib/libopencv_video.so.2.4 (0x00007fc88ebbb000)\n  libopencv_ml.so.2.4 =&gt; /usr/local/lib/libopencv_ml.so.2.4 (0x00007fc88e941000)\n  libopencv_calib3d.so.2.4 =&gt; /usr/local/lib/libopencv_calib3d.so.2.4 (0x00007fc88e698000)\n  libopencv_features2d.so.2.4 =&gt; /usr/local/lib/libopencv_features2d.so.2.4 (0x00007fc88e3e3000)\n  libopencv_highgui.so.2.4 =&gt; /usr/local/lib/libopencv_highgui.so.2.4 (0x00007fc88dff8000)\n  libopencv_imgproc.so.2.4 =&gt; /usr/local/lib/libopencv_imgproc.so.2.4 (0x00007fc88db39000)\n  libopencv_flann.so.2.4 =&gt; /usr/local/lib/libopencv_flann.so.2.4 (0x00007fc88d8c9000)\n  libopencv_core.so.2.4 =&gt; /usr/local/lib/libopencv_core.so.2.4 (0x00007fc88d45b000)\n  libstdc++.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fc88c38b000)\n  libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fc88c175000)\n  libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fc88bdb0000)\n  libcudart.so.8.0 =&gt; /home/dbarnes/code/third_party/tensorflow/bazel-bin/tensorflow/../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Slib/libcudart.so.8.0 (0x00007fc88bb4a000)\n  /lib64/ld-linux-x86-64.so.2 (0x00007fc89f78e000)\n  libbz2.so.1.0 =&gt; /lib/x86_64-linux-gnu/libbz2.so.1.0 (0x00007fc88b93a000)\n  libPocoXML.so.11 =&gt; /usr/local/lib/libPocoXML.so.11 (0x00007fc88b6ac000)\n  libjpeg.so.8 =&gt; /usr/lib/x86_64-linux-gnu/libjpeg.so.8 (0x00007fc88b457000)\n  libgtk-x11-2.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libgtk-x11-2.0.so.0 (0x00007fc88ae1a000)\n  libgdk-x11-2.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libgdk-x11-2.0.so.0 (0x00007fc88ab67000)\n  libgobject-2.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0 (0x00007fc88a916000)\n  libglib-2.0.so.0 =&gt; /lib/x86_64-linux-gnu/libglib-2.0.so.0 (0x00007fc88a60e000)\n  libdc1394.so.22 =&gt; /usr/lib/x86_64-linux-gnu/libdc1394.so.22 (0x00007fc88a39a000)\n  libgmodule-2.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libgmodule-2.0.so.0 (0x00007fc88a196000)\n  libpangocairo-1.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libpangocairo-1.0.so.0 (0x00007fc889f89000)\n  libX11.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libX11.so.6 (0x00007fc889c54000)\n  libXfixes.so.3 =&gt; /usr/lib/x86_64-linux-gnu/libXfixes.so.3 (0x00007fc889a4e000)\n  libatk-1.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libatk-1.0.so.0 (0x00007fc88982c000)\n  libcairo.so.2 =&gt; /usr/lib/x86_64-linux-gnu/libcairo.so.2 (0x00007fc889521000)\n  libgdk_pixbuf-2.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libgdk_pixbuf-2.0.so.0 (0x00007fc889300000)\n  libgio-2.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libgio-2.0.so.0 (0x00007fc888f8d000)\n  libpangoft2-1.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libpangoft2-1.0.so.0 (0x00007fc888d78000)\n  libpango-1.0.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libpango-1.0.so.0 (0x00007fc888b2b000)\n  libfontconfig.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libfontconfig.so.1 (0x00007fc8888ef000)\n  libXrender.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libXrender.so.1 (0x00007fc8886e5000)\n  libXinerama.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libXinerama.so.1 (0x00007fc8884e2000)\n  libXi.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libXi.so.6 (0x00007fc8882d2000)\n  libXrandr.so.2 =&gt; /usr/lib/x86_64-linux-gnu/libXrandr.so.2 (0x00007fc8880c8000)\n  libXcursor.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libXcursor.so.1 (0x00007fc887ebe000)\n  libXcomposite.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libXcomposite.so.1 (0x00007fc887cbb000)\n  libXdamage.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libXdamage.so.1 (0x00007fc887ab8000)\n  libXext.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libXext.so.6 (0x00007fc8878a6000)\n  libffi.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libffi.so.6 (0x00007fc88769e000)\n  libpcre.so.3 =&gt; /lib/x86_64-linux-gnu/libpcre.so.3 (0x00007fc887460000)\n  libraw1394.so.11 =&gt; /usr/lib/x86_64-linux-gnu/libraw1394.so.11 (0x00007fc887252000)\n  libusb-1.0.so.0 =&gt; /lib/x86_64-linux-gnu/libusb-1.0.so.0 (0x00007fc88703b000)\n  libfreetype.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libfreetype.so.6 (0x00007fc886d98000)\n  libxcb.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libxcb.so.1 (0x00007fc886b79000)\n  libpixman-1.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libpixman-1.so.0 (0x00007fc8868d0000)\n  libxcb-shm.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libxcb-shm.so.0 (0x00007fc8866cd000)\n  libxcb-render.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libxcb-render.so.0 (0x00007fc8864c4000)\n  libselinux.so.1 =&gt; /lib/x86_64-linux-gnu/libselinux.so.1 (0x00007fc8862a1000)\n  libresolv.so.2 =&gt; /lib/x86_64-linux-gnu/libresolv.so.2 (0x00007fc886086000)\n  libharfbuzz.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libharfbuzz.so.0 (0x00007fc885e31000)\n  libthai.so.0 =&gt; /usr/lib/x86_64-linux-gnu/libthai.so.0 (0x00007fc885c28000)\n  libexpat.so.1 =&gt; /lib/x86_64-linux-gnu/libexpat.so.1 (0x00007fc8859fe000)\n  libudev.so.1 =&gt; /lib/x86_64-linux-gnu/libudev.so.1 (0x00007fc8857ed000)\n  libXau.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libXau.so.6 (0x00007fc8855e9000)\n  libXdmcp.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libXdmcp.so.6 (0x00007fc8853e3000)\n  libgraphite2.so.3 =&gt; /usr/lib/x86_64-linux-gnu/libgraphite2.so.3 (0x00007fc8851c7000)\n  libdatrie.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libdatrie.so.1 (0x00007fc884fc0000)\n  libcgmanager.so.0 =&gt; /lib/x86_64-linux-gnu/libcgmanager.so.0 (0x00007fc884da5000)\n  libnih.so.1 =&gt; /lib/x86_64-linux-gnu/libnih.so.1 (0x00007fc884b8d000)\n  libnih-dbus.so.1 =&gt; /lib/x86_64-linux-gnu/libnih-dbus.so.1 (0x00007fc884983000)\n  libdbus-1.so.3 =&gt; /lib/x86_64-linux-gnu/libdbus-1.so.3 (0x00007fc88473e000)\n</code></pre>", "body_text": "From my understanding, Tensorflow is built against the protobuf bazel pulls down (3.2.0 after the modifications above) which matches the system protobuf version we have installed (shown by protoc --version = libprotoc 3.2.0). Then at run time the app will be linking against our system protobuf.\nldd of our app\n  linux-vdso.so.1 =>  (0x00007ffd9e2e9000)\n  libboost_unit_test_framework.so.1.60.0 => /usr/local/lib/libboost_unit_test_framework.so.1.60.0 (0x00007fc89f4da000)\n  libglog.so.0 => /usr/local/lib/libglog.so.0 (0x00007fc89f074000)\n  libgflags.so.2 => /usr/local/lib/libgflags.so.2 (0x00007fc89ee58000)\n  libopencv_videostab.so.2.4 => /usr/local/lib/libopencv_videostab.so.2.4 (0x00007fc89ec25000)\n  libopencv_superres.so.2.4 => /usr/local/lib/libopencv_superres.so.2.4 (0x00007fc89e9e4000)\n  libopencv_stitching.so.2.4 => /usr/local/lib/libopencv_stitching.so.2.4 (0x00007fc89e764000)\n  libopencv_contrib.so.2.4 => /usr/local/lib/libopencv_contrib.so.2.4 (0x00007fc89e467000)\n  libtensorflow.so => /home/dbarnes/code/third_party/tensorflow/bazel-bin/tensorflow/libtensorflow.so (0x00007fc893852000)\n  libprotobuf.so.12 => /usr/local/lib/libprotobuf.so.12 (0x00007fc8933f8000)\n  libpng12.so.0 => /lib/x86_64-linux-gnu/libpng12.so.0 (0x00007fc8931d2000)\n  libz.so.1 => /lib/x86_64-linux-gnu/libz.so.1 (0x00007fc892fb9000)\n  libPocoFoundation.so.11 => /usr/local/lib/libPocoFoundation.so.11 (0x00007fc892c3c000)\n  libboost_filesystem.so.1.60.0 => /usr/local/lib/libboost_filesystem.so.1.60.0 (0x00007fc8927ea000)\n  libboost_system.so.1.60.0 => /usr/local/lib/libboost_system.so.1.60.0 (0x00007fc8925e6000)\n  libboost_chrono.so.1.60.0 => /usr/local/lib/libboost_chrono.so.1.60.0 (0x00007fc8921bd000)\n  libboost_iostreams.so.1.60.0 => /usr/local/lib/libboost_iostreams.so.1.60.0 (0x00007fc891d38000)\n  libboost_regex.so.1.60.0 => /usr/local/lib/libboost_regex.so.1.60.0 (0x00007fc891a46000)\n  libPocoUtil.so.11 => /usr/local/lib/libPocoUtil.so.11 (0x00007fc8917ee000)\n  libboost_thread.so.1.60.0 => /usr/local/lib/libboost_thread.so.1.60.0 (0x00007fc8913c0000)\n  libboost_date_time.so.1.60.0 => /usr/local/lib/libboost_date_time.so.1.60.0 (0x00007fc8911af000)\n  libboost_atomic.so.1.60.0 => /usr/local/lib/libboost_atomic.so.1.60.0 (0x00007fc890fad000)\n  libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fc890d8f000)\n  libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fc890316000)\n  libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007fc890010000)\n  librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007fc88fe08000)\n  libopencv_nonfree.so.2.4 => /usr/local/lib/libopencv_nonfree.so.2.4 (0x00007fc88fbd0000)\n  libopencv_ocl.so.2.4 => /usr/local/lib/libopencv_ocl.so.2.4 (0x00007fc88f7d8000)\n  libopencv_gpu.so.2.4 => /usr/local/lib/libopencv_gpu.so.2.4 (0x00007fc88f5b8000)\n  libopencv_photo.so.2.4 => /usr/local/lib/libopencv_photo.so.2.4 (0x00007fc88f397000)\n  libopencv_objdetect.so.2.4 => /usr/local/lib/libopencv_objdetect.so.2.4 (0x00007fc88f115000)\n  libopencv_legacy.so.2.4 => /usr/local/lib/libopencv_legacy.so.2.4 (0x00007fc88ee0d000)\n  libopencv_video.so.2.4 => /usr/local/lib/libopencv_video.so.2.4 (0x00007fc88ebbb000)\n  libopencv_ml.so.2.4 => /usr/local/lib/libopencv_ml.so.2.4 (0x00007fc88e941000)\n  libopencv_calib3d.so.2.4 => /usr/local/lib/libopencv_calib3d.so.2.4 (0x00007fc88e698000)\n  libopencv_features2d.so.2.4 => /usr/local/lib/libopencv_features2d.so.2.4 (0x00007fc88e3e3000)\n  libopencv_highgui.so.2.4 => /usr/local/lib/libopencv_highgui.so.2.4 (0x00007fc88dff8000)\n  libopencv_imgproc.so.2.4 => /usr/local/lib/libopencv_imgproc.so.2.4 (0x00007fc88db39000)\n  libopencv_flann.so.2.4 => /usr/local/lib/libopencv_flann.so.2.4 (0x00007fc88d8c9000)\n  libopencv_core.so.2.4 => /usr/local/lib/libopencv_core.so.2.4 (0x00007fc88d45b000)\n  libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fc88c38b000)\n  libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fc88c175000)\n  libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fc88bdb0000)\n  libcudart.so.8.0 => /home/dbarnes/code/third_party/tensorflow/bazel-bin/tensorflow/../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Slib/libcudart.so.8.0 (0x00007fc88bb4a000)\n  /lib64/ld-linux-x86-64.so.2 (0x00007fc89f78e000)\n  libbz2.so.1.0 => /lib/x86_64-linux-gnu/libbz2.so.1.0 (0x00007fc88b93a000)\n  libPocoXML.so.11 => /usr/local/lib/libPocoXML.so.11 (0x00007fc88b6ac000)\n  libjpeg.so.8 => /usr/lib/x86_64-linux-gnu/libjpeg.so.8 (0x00007fc88b457000)\n  libgtk-x11-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgtk-x11-2.0.so.0 (0x00007fc88ae1a000)\n  libgdk-x11-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgdk-x11-2.0.so.0 (0x00007fc88ab67000)\n  libgobject-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0 (0x00007fc88a916000)\n  libglib-2.0.so.0 => /lib/x86_64-linux-gnu/libglib-2.0.so.0 (0x00007fc88a60e000)\n  libdc1394.so.22 => /usr/lib/x86_64-linux-gnu/libdc1394.so.22 (0x00007fc88a39a000)\n  libgmodule-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgmodule-2.0.so.0 (0x00007fc88a196000)\n  libpangocairo-1.0.so.0 => /usr/lib/x86_64-linux-gnu/libpangocairo-1.0.so.0 (0x00007fc889f89000)\n  libX11.so.6 => /usr/lib/x86_64-linux-gnu/libX11.so.6 (0x00007fc889c54000)\n  libXfixes.so.3 => /usr/lib/x86_64-linux-gnu/libXfixes.so.3 (0x00007fc889a4e000)\n  libatk-1.0.so.0 => /usr/lib/x86_64-linux-gnu/libatk-1.0.so.0 (0x00007fc88982c000)\n  libcairo.so.2 => /usr/lib/x86_64-linux-gnu/libcairo.so.2 (0x00007fc889521000)\n  libgdk_pixbuf-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgdk_pixbuf-2.0.so.0 (0x00007fc889300000)\n  libgio-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgio-2.0.so.0 (0x00007fc888f8d000)\n  libpangoft2-1.0.so.0 => /usr/lib/x86_64-linux-gnu/libpangoft2-1.0.so.0 (0x00007fc888d78000)\n  libpango-1.0.so.0 => /usr/lib/x86_64-linux-gnu/libpango-1.0.so.0 (0x00007fc888b2b000)\n  libfontconfig.so.1 => /usr/lib/x86_64-linux-gnu/libfontconfig.so.1 (0x00007fc8888ef000)\n  libXrender.so.1 => /usr/lib/x86_64-linux-gnu/libXrender.so.1 (0x00007fc8886e5000)\n  libXinerama.so.1 => /usr/lib/x86_64-linux-gnu/libXinerama.so.1 (0x00007fc8884e2000)\n  libXi.so.6 => /usr/lib/x86_64-linux-gnu/libXi.so.6 (0x00007fc8882d2000)\n  libXrandr.so.2 => /usr/lib/x86_64-linux-gnu/libXrandr.so.2 (0x00007fc8880c8000)\n  libXcursor.so.1 => /usr/lib/x86_64-linux-gnu/libXcursor.so.1 (0x00007fc887ebe000)\n  libXcomposite.so.1 => /usr/lib/x86_64-linux-gnu/libXcomposite.so.1 (0x00007fc887cbb000)\n  libXdamage.so.1 => /usr/lib/x86_64-linux-gnu/libXdamage.so.1 (0x00007fc887ab8000)\n  libXext.so.6 => /usr/lib/x86_64-linux-gnu/libXext.so.6 (0x00007fc8878a6000)\n  libffi.so.6 => /usr/lib/x86_64-linux-gnu/libffi.so.6 (0x00007fc88769e000)\n  libpcre.so.3 => /lib/x86_64-linux-gnu/libpcre.so.3 (0x00007fc887460000)\n  libraw1394.so.11 => /usr/lib/x86_64-linux-gnu/libraw1394.so.11 (0x00007fc887252000)\n  libusb-1.0.so.0 => /lib/x86_64-linux-gnu/libusb-1.0.so.0 (0x00007fc88703b000)\n  libfreetype.so.6 => /usr/lib/x86_64-linux-gnu/libfreetype.so.6 (0x00007fc886d98000)\n  libxcb.so.1 => /usr/lib/x86_64-linux-gnu/libxcb.so.1 (0x00007fc886b79000)\n  libpixman-1.so.0 => /usr/lib/x86_64-linux-gnu/libpixman-1.so.0 (0x00007fc8868d0000)\n  libxcb-shm.so.0 => /usr/lib/x86_64-linux-gnu/libxcb-shm.so.0 (0x00007fc8866cd000)\n  libxcb-render.so.0 => /usr/lib/x86_64-linux-gnu/libxcb-render.so.0 (0x00007fc8864c4000)\n  libselinux.so.1 => /lib/x86_64-linux-gnu/libselinux.so.1 (0x00007fc8862a1000)\n  libresolv.so.2 => /lib/x86_64-linux-gnu/libresolv.so.2 (0x00007fc886086000)\n  libharfbuzz.so.0 => /usr/lib/x86_64-linux-gnu/libharfbuzz.so.0 (0x00007fc885e31000)\n  libthai.so.0 => /usr/lib/x86_64-linux-gnu/libthai.so.0 (0x00007fc885c28000)\n  libexpat.so.1 => /lib/x86_64-linux-gnu/libexpat.so.1 (0x00007fc8859fe000)\n  libudev.so.1 => /lib/x86_64-linux-gnu/libudev.so.1 (0x00007fc8857ed000)\n  libXau.so.6 => /usr/lib/x86_64-linux-gnu/libXau.so.6 (0x00007fc8855e9000)\n  libXdmcp.so.6 => /usr/lib/x86_64-linux-gnu/libXdmcp.so.6 (0x00007fc8853e3000)\n  libgraphite2.so.3 => /usr/lib/x86_64-linux-gnu/libgraphite2.so.3 (0x00007fc8851c7000)\n  libdatrie.so.1 => /usr/lib/x86_64-linux-gnu/libdatrie.so.1 (0x00007fc884fc0000)\n  libcgmanager.so.0 => /lib/x86_64-linux-gnu/libcgmanager.so.0 (0x00007fc884da5000)\n  libnih.so.1 => /lib/x86_64-linux-gnu/libnih.so.1 (0x00007fc884b8d000)\n  libnih-dbus.so.1 => /lib/x86_64-linux-gnu/libnih-dbus.so.1 (0x00007fc884983000)\n  libdbus-1.so.3 => /lib/x86_64-linux-gnu/libdbus-1.so.3 (0x00007fc88473e000)", "body": "From my understanding, Tensorflow is built against the protobuf bazel pulls down (3.2.0 after the modifications above) which matches the system protobuf version we have installed (shown by protoc --version = `libprotoc 3.2.0`). Then at run time the app will be linking against our system protobuf.\r\n\r\n\r\n### ldd of our app\r\n```\r\n  linux-vdso.so.1 =>  (0x00007ffd9e2e9000)\r\n  libboost_unit_test_framework.so.1.60.0 => /usr/local/lib/libboost_unit_test_framework.so.1.60.0 (0x00007fc89f4da000)\r\n  libglog.so.0 => /usr/local/lib/libglog.so.0 (0x00007fc89f074000)\r\n  libgflags.so.2 => /usr/local/lib/libgflags.so.2 (0x00007fc89ee58000)\r\n  libopencv_videostab.so.2.4 => /usr/local/lib/libopencv_videostab.so.2.4 (0x00007fc89ec25000)\r\n  libopencv_superres.so.2.4 => /usr/local/lib/libopencv_superres.so.2.4 (0x00007fc89e9e4000)\r\n  libopencv_stitching.so.2.4 => /usr/local/lib/libopencv_stitching.so.2.4 (0x00007fc89e764000)\r\n  libopencv_contrib.so.2.4 => /usr/local/lib/libopencv_contrib.so.2.4 (0x00007fc89e467000)\r\n  libtensorflow.so => /home/dbarnes/code/third_party/tensorflow/bazel-bin/tensorflow/libtensorflow.so (0x00007fc893852000)\r\n  libprotobuf.so.12 => /usr/local/lib/libprotobuf.so.12 (0x00007fc8933f8000)\r\n  libpng12.so.0 => /lib/x86_64-linux-gnu/libpng12.so.0 (0x00007fc8931d2000)\r\n  libz.so.1 => /lib/x86_64-linux-gnu/libz.so.1 (0x00007fc892fb9000)\r\n  libPocoFoundation.so.11 => /usr/local/lib/libPocoFoundation.so.11 (0x00007fc892c3c000)\r\n  libboost_filesystem.so.1.60.0 => /usr/local/lib/libboost_filesystem.so.1.60.0 (0x00007fc8927ea000)\r\n  libboost_system.so.1.60.0 => /usr/local/lib/libboost_system.so.1.60.0 (0x00007fc8925e6000)\r\n  libboost_chrono.so.1.60.0 => /usr/local/lib/libboost_chrono.so.1.60.0 (0x00007fc8921bd000)\r\n  libboost_iostreams.so.1.60.0 => /usr/local/lib/libboost_iostreams.so.1.60.0 (0x00007fc891d38000)\r\n  libboost_regex.so.1.60.0 => /usr/local/lib/libboost_regex.so.1.60.0 (0x00007fc891a46000)\r\n  libPocoUtil.so.11 => /usr/local/lib/libPocoUtil.so.11 (0x00007fc8917ee000)\r\n  libboost_thread.so.1.60.0 => /usr/local/lib/libboost_thread.so.1.60.0 (0x00007fc8913c0000)\r\n  libboost_date_time.so.1.60.0 => /usr/local/lib/libboost_date_time.so.1.60.0 (0x00007fc8911af000)\r\n  libboost_atomic.so.1.60.0 => /usr/local/lib/libboost_atomic.so.1.60.0 (0x00007fc890fad000)\r\n  libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fc890d8f000)\r\n  libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fc890316000)\r\n  libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007fc890010000)\r\n  librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007fc88fe08000)\r\n  libopencv_nonfree.so.2.4 => /usr/local/lib/libopencv_nonfree.so.2.4 (0x00007fc88fbd0000)\r\n  libopencv_ocl.so.2.4 => /usr/local/lib/libopencv_ocl.so.2.4 (0x00007fc88f7d8000)\r\n  libopencv_gpu.so.2.4 => /usr/local/lib/libopencv_gpu.so.2.4 (0x00007fc88f5b8000)\r\n  libopencv_photo.so.2.4 => /usr/local/lib/libopencv_photo.so.2.4 (0x00007fc88f397000)\r\n  libopencv_objdetect.so.2.4 => /usr/local/lib/libopencv_objdetect.so.2.4 (0x00007fc88f115000)\r\n  libopencv_legacy.so.2.4 => /usr/local/lib/libopencv_legacy.so.2.4 (0x00007fc88ee0d000)\r\n  libopencv_video.so.2.4 => /usr/local/lib/libopencv_video.so.2.4 (0x00007fc88ebbb000)\r\n  libopencv_ml.so.2.4 => /usr/local/lib/libopencv_ml.so.2.4 (0x00007fc88e941000)\r\n  libopencv_calib3d.so.2.4 => /usr/local/lib/libopencv_calib3d.so.2.4 (0x00007fc88e698000)\r\n  libopencv_features2d.so.2.4 => /usr/local/lib/libopencv_features2d.so.2.4 (0x00007fc88e3e3000)\r\n  libopencv_highgui.so.2.4 => /usr/local/lib/libopencv_highgui.so.2.4 (0x00007fc88dff8000)\r\n  libopencv_imgproc.so.2.4 => /usr/local/lib/libopencv_imgproc.so.2.4 (0x00007fc88db39000)\r\n  libopencv_flann.so.2.4 => /usr/local/lib/libopencv_flann.so.2.4 (0x00007fc88d8c9000)\r\n  libopencv_core.so.2.4 => /usr/local/lib/libopencv_core.so.2.4 (0x00007fc88d45b000)\r\n  libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fc88c38b000)\r\n  libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fc88c175000)\r\n  libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fc88bdb0000)\r\n  libcudart.so.8.0 => /home/dbarnes/code/third_party/tensorflow/bazel-bin/tensorflow/../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Slib/libcudart.so.8.0 (0x00007fc88bb4a000)\r\n  /lib64/ld-linux-x86-64.so.2 (0x00007fc89f78e000)\r\n  libbz2.so.1.0 => /lib/x86_64-linux-gnu/libbz2.so.1.0 (0x00007fc88b93a000)\r\n  libPocoXML.so.11 => /usr/local/lib/libPocoXML.so.11 (0x00007fc88b6ac000)\r\n  libjpeg.so.8 => /usr/lib/x86_64-linux-gnu/libjpeg.so.8 (0x00007fc88b457000)\r\n  libgtk-x11-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgtk-x11-2.0.so.0 (0x00007fc88ae1a000)\r\n  libgdk-x11-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgdk-x11-2.0.so.0 (0x00007fc88ab67000)\r\n  libgobject-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0 (0x00007fc88a916000)\r\n  libglib-2.0.so.0 => /lib/x86_64-linux-gnu/libglib-2.0.so.0 (0x00007fc88a60e000)\r\n  libdc1394.so.22 => /usr/lib/x86_64-linux-gnu/libdc1394.so.22 (0x00007fc88a39a000)\r\n  libgmodule-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgmodule-2.0.so.0 (0x00007fc88a196000)\r\n  libpangocairo-1.0.so.0 => /usr/lib/x86_64-linux-gnu/libpangocairo-1.0.so.0 (0x00007fc889f89000)\r\n  libX11.so.6 => /usr/lib/x86_64-linux-gnu/libX11.so.6 (0x00007fc889c54000)\r\n  libXfixes.so.3 => /usr/lib/x86_64-linux-gnu/libXfixes.so.3 (0x00007fc889a4e000)\r\n  libatk-1.0.so.0 => /usr/lib/x86_64-linux-gnu/libatk-1.0.so.0 (0x00007fc88982c000)\r\n  libcairo.so.2 => /usr/lib/x86_64-linux-gnu/libcairo.so.2 (0x00007fc889521000)\r\n  libgdk_pixbuf-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgdk_pixbuf-2.0.so.0 (0x00007fc889300000)\r\n  libgio-2.0.so.0 => /usr/lib/x86_64-linux-gnu/libgio-2.0.so.0 (0x00007fc888f8d000)\r\n  libpangoft2-1.0.so.0 => /usr/lib/x86_64-linux-gnu/libpangoft2-1.0.so.0 (0x00007fc888d78000)\r\n  libpango-1.0.so.0 => /usr/lib/x86_64-linux-gnu/libpango-1.0.so.0 (0x00007fc888b2b000)\r\n  libfontconfig.so.1 => /usr/lib/x86_64-linux-gnu/libfontconfig.so.1 (0x00007fc8888ef000)\r\n  libXrender.so.1 => /usr/lib/x86_64-linux-gnu/libXrender.so.1 (0x00007fc8886e5000)\r\n  libXinerama.so.1 => /usr/lib/x86_64-linux-gnu/libXinerama.so.1 (0x00007fc8884e2000)\r\n  libXi.so.6 => /usr/lib/x86_64-linux-gnu/libXi.so.6 (0x00007fc8882d2000)\r\n  libXrandr.so.2 => /usr/lib/x86_64-linux-gnu/libXrandr.so.2 (0x00007fc8880c8000)\r\n  libXcursor.so.1 => /usr/lib/x86_64-linux-gnu/libXcursor.so.1 (0x00007fc887ebe000)\r\n  libXcomposite.so.1 => /usr/lib/x86_64-linux-gnu/libXcomposite.so.1 (0x00007fc887cbb000)\r\n  libXdamage.so.1 => /usr/lib/x86_64-linux-gnu/libXdamage.so.1 (0x00007fc887ab8000)\r\n  libXext.so.6 => /usr/lib/x86_64-linux-gnu/libXext.so.6 (0x00007fc8878a6000)\r\n  libffi.so.6 => /usr/lib/x86_64-linux-gnu/libffi.so.6 (0x00007fc88769e000)\r\n  libpcre.so.3 => /lib/x86_64-linux-gnu/libpcre.so.3 (0x00007fc887460000)\r\n  libraw1394.so.11 => /usr/lib/x86_64-linux-gnu/libraw1394.so.11 (0x00007fc887252000)\r\n  libusb-1.0.so.0 => /lib/x86_64-linux-gnu/libusb-1.0.so.0 (0x00007fc88703b000)\r\n  libfreetype.so.6 => /usr/lib/x86_64-linux-gnu/libfreetype.so.6 (0x00007fc886d98000)\r\n  libxcb.so.1 => /usr/lib/x86_64-linux-gnu/libxcb.so.1 (0x00007fc886b79000)\r\n  libpixman-1.so.0 => /usr/lib/x86_64-linux-gnu/libpixman-1.so.0 (0x00007fc8868d0000)\r\n  libxcb-shm.so.0 => /usr/lib/x86_64-linux-gnu/libxcb-shm.so.0 (0x00007fc8866cd000)\r\n  libxcb-render.so.0 => /usr/lib/x86_64-linux-gnu/libxcb-render.so.0 (0x00007fc8864c4000)\r\n  libselinux.so.1 => /lib/x86_64-linux-gnu/libselinux.so.1 (0x00007fc8862a1000)\r\n  libresolv.so.2 => /lib/x86_64-linux-gnu/libresolv.so.2 (0x00007fc886086000)\r\n  libharfbuzz.so.0 => /usr/lib/x86_64-linux-gnu/libharfbuzz.so.0 (0x00007fc885e31000)\r\n  libthai.so.0 => /usr/lib/x86_64-linux-gnu/libthai.so.0 (0x00007fc885c28000)\r\n  libexpat.so.1 => /lib/x86_64-linux-gnu/libexpat.so.1 (0x00007fc8859fe000)\r\n  libudev.so.1 => /lib/x86_64-linux-gnu/libudev.so.1 (0x00007fc8857ed000)\r\n  libXau.so.6 => /usr/lib/x86_64-linux-gnu/libXau.so.6 (0x00007fc8855e9000)\r\n  libXdmcp.so.6 => /usr/lib/x86_64-linux-gnu/libXdmcp.so.6 (0x00007fc8853e3000)\r\n  libgraphite2.so.3 => /usr/lib/x86_64-linux-gnu/libgraphite2.so.3 (0x00007fc8851c7000)\r\n  libdatrie.so.1 => /usr/lib/x86_64-linux-gnu/libdatrie.so.1 (0x00007fc884fc0000)\r\n  libcgmanager.so.0 => /lib/x86_64-linux-gnu/libcgmanager.so.0 (0x00007fc884da5000)\r\n  libnih.so.1 => /lib/x86_64-linux-gnu/libnih.so.1 (0x00007fc884b8d000)\r\n  libnih-dbus.so.1 => /lib/x86_64-linux-gnu/libnih-dbus.so.1 (0x00007fc884983000)\r\n  libdbus-1.so.3 => /lib/x86_64-linux-gnu/libdbus-1.so.3 (0x00007fc88473e000)\r\n```"}