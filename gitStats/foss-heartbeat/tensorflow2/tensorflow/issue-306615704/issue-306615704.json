{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17842", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17842/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17842/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17842/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17842", "id": 306615704, "node_id": "MDU6SXNzdWUzMDY2MTU3MDQ=", "number": 17842, "title": "Fix deprecated api call in _NonAtrousConvolution", "user": {"login": "se4u", "id": 2301364, "node_id": "MDQ6VXNlcjIzMDEzNjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2301364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/se4u", "html_url": "https://github.com/se4u", "followers_url": "https://api.github.com/users/se4u/followers", "following_url": "https://api.github.com/users/se4u/following{/other_user}", "gists_url": "https://api.github.com/users/se4u/gists{/gist_id}", "starred_url": "https://api.github.com/users/se4u/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/se4u/subscriptions", "organizations_url": "https://api.github.com/users/se4u/orgs", "repos_url": "https://api.github.com/users/se4u/repos", "events_url": "https://api.github.com/users/se4u/events{/privacy}", "received_events_url": "https://api.github.com/users/se4u/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "poxvoculi", "id": 15676913, "node_id": "MDQ6VXNlcjE1Njc2OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/15676913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poxvoculi", "html_url": "https://github.com/poxvoculi", "followers_url": "https://api.github.com/users/poxvoculi/followers", "following_url": "https://api.github.com/users/poxvoculi/following{/other_user}", "gists_url": "https://api.github.com/users/poxvoculi/gists{/gist_id}", "starred_url": "https://api.github.com/users/poxvoculi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poxvoculi/subscriptions", "organizations_url": "https://api.github.com/users/poxvoculi/orgs", "repos_url": "https://api.github.com/users/poxvoculi/repos", "events_url": "https://api.github.com/users/poxvoculi/events{/privacy}", "received_events_url": "https://api.github.com/users/poxvoculi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "poxvoculi", "id": 15676913, "node_id": "MDQ6VXNlcjE1Njc2OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/15676913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poxvoculi", "html_url": "https://github.com/poxvoculi", "followers_url": "https://api.github.com/users/poxvoculi/followers", "following_url": "https://api.github.com/users/poxvoculi/following{/other_user}", "gists_url": "https://api.github.com/users/poxvoculi/gists{/gist_id}", "starred_url": "https://api.github.com/users/poxvoculi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poxvoculi/subscriptions", "organizations_url": "https://api.github.com/users/poxvoculi/orgs", "repos_url": "https://api.github.com/users/poxvoculi/repos", "events_url": "https://api.github.com/users/poxvoculi/events{/privacy}", "received_events_url": "https://api.github.com/users/poxvoculi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-03-19T20:09:49Z", "updated_at": "2018-03-20T17:01:17Z", "closed_at": "2018-03-20T17:01:17Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<p>I am using tf version <code>1.7.0-dev20180317, v1.6.0-rc1-1580-gc941c087a9</code> on OSX in standard non-eager mode.</p>\n<h3>Describe the problem</h3>\n<p>Lines <code>151-156</code> in class <code>_NonAtrousConvolution</code> in <code>tensorflow/python/ops/nn_ops.py</code> set <code>nhwc</code> as data format when <code>conv_dims</code> is 1.</p>\n<div class=\"highlight highlight-source-python\"><pre>    <span class=\"pl-c1\">151</span>     <span class=\"pl-k\">if</span> conv_dims <span class=\"pl-k\">==</span> <span class=\"pl-c1\">1</span>:\n    <span class=\"pl-c1\">152</span>       <span class=\"pl-c\"><span class=\"pl-c\">#</span> conv1d uses the 2-d data format names</span>\n    <span class=\"pl-c1\">153</span>       <span class=\"pl-k\">if</span> data_format <span class=\"pl-k\">is</span> <span class=\"pl-c1\">None</span> <span class=\"pl-k\">or</span> data_format <span class=\"pl-k\">==</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>NWC<span class=\"pl-pds\">\"</span></span>:\n    <span class=\"pl-c1\">154</span>         data_format_2d <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>NHWC<span class=\"pl-pds\">\"</span></span>\n    <span class=\"pl-c1\">155</span>       <span class=\"pl-k\">elif</span> data_format <span class=\"pl-k\">==</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>NCW<span class=\"pl-pds\">\"</span></span>:\n    <span class=\"pl-c1\">156</span>         data_format_2d <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>NCHW<span class=\"pl-pds\">\"</span></span></pre></div>\n<p>But this causes a warning later on at line <code>2384</code> when <code>conv1d</code> is called from inside the <code>_conv1d</code> method at line <code>189</code></p>\n<pre><code>WARNING:tensorflow:From ~/tensorflow/python/util/deprecation.py:497: calling conv1d (from tensorflow.python.ops.nn_ops) with data_format=NHWC is deprecated and will be removed in a future version.\nInstructions for updating:\n`NHWC` for data_format is deprecated, use `NWC` instead\n</code></pre>", "body_text": "System information\nI am using tf version 1.7.0-dev20180317, v1.6.0-rc1-1580-gc941c087a9 on OSX in standard non-eager mode.\nDescribe the problem\nLines 151-156 in class _NonAtrousConvolution in tensorflow/python/ops/nn_ops.py set nhwc as data format when conv_dims is 1.\n    151     if conv_dims == 1:\n    152       # conv1d uses the 2-d data format names\n    153       if data_format is None or data_format == \"NWC\":\n    154         data_format_2d = \"NHWC\"\n    155       elif data_format == \"NCW\":\n    156         data_format_2d = \"NCHW\"\nBut this causes a warning later on at line 2384 when conv1d is called from inside the _conv1d method at line 189\nWARNING:tensorflow:From ~/tensorflow/python/util/deprecation.py:497: calling conv1d (from tensorflow.python.ops.nn_ops) with data_format=NHWC is deprecated and will be removed in a future version.\nInstructions for updating:\n`NHWC` for data_format is deprecated, use `NWC` instead", "body": "### System information\r\nI am using tf version `1.7.0-dev20180317, v1.6.0-rc1-1580-gc941c087a9` on OSX in standard non-eager mode.\r\n\r\n### Describe the problem\r\nLines `151-156` in class `_NonAtrousConvolution` in `tensorflow/python/ops/nn_ops.py` set `nhwc` as data format when `conv_dims` is 1.  \r\n\r\n``` python\r\n    151     if conv_dims == 1:\r\n    152       # conv1d uses the 2-d data format names\r\n    153       if data_format is None or data_format == \"NWC\":\r\n    154         data_format_2d = \"NHWC\"\r\n    155       elif data_format == \"NCW\":\r\n    156         data_format_2d = \"NCHW\"\r\n```\r\n\r\nBut this causes a warning later on at line `2384` when `conv1d` is called from inside the `_conv1d` method at line `189`\r\n\r\n```\r\nWARNING:tensorflow:From ~/tensorflow/python/util/deprecation.py:497: calling conv1d (from tensorflow.python.ops.nn_ops) with data_format=NHWC is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\n`NHWC` for data_format is deprecated, use `NWC` instead\r\n```"}