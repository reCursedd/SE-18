{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4970", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4970/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4970/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4970/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4970", "id": 183084063, "node_id": "MDU6SXNzdWUxODMwODQwNjM=", "number": 4970, "title": "CRC Error on Retraining Inception_v3", "user": {"login": "MaKuehn", "id": 22023515, "node_id": "MDQ6VXNlcjIyMDIzNTE1", "avatar_url": "https://avatars1.githubusercontent.com/u/22023515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaKuehn", "html_url": "https://github.com/MaKuehn", "followers_url": "https://api.github.com/users/MaKuehn/followers", "following_url": "https://api.github.com/users/MaKuehn/following{/other_user}", "gists_url": "https://api.github.com/users/MaKuehn/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaKuehn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaKuehn/subscriptions", "organizations_url": "https://api.github.com/users/MaKuehn/orgs", "repos_url": "https://api.github.com/users/MaKuehn/repos", "events_url": "https://api.github.com/users/MaKuehn/events{/privacy}", "received_events_url": "https://api.github.com/users/MaKuehn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-14T15:46:06Z", "updated_at": "2016-10-18T18:27:53Z", "closed_at": "2016-10-18T18:27:53Z", "author_association": "NONE", "body_html": "<p>Hi.</p>\n<p>I tried to follow the tutorial given on <a href=\"https://www.tensorflow.org/versions/r0.9/how_tos/image_retraining/index.html\" rel=\"nofollow\">https://www.tensorflow.org/versions/r0.9/how_tos/image_retraining/index.html</a>. I'm on MacOS Sierra and installed a separate version of python via homebrew, which is located in \"/usr/local/bin/python\".</p>\n<p>Now, I installed and compiled tensorflow from source and set the python location to \"/usr/local/bin/python\" and the library path to \"/usr/local/lib/python2.7/site-packages\". After compiling the retrain files, I get an error on running</p>\n<pre><code>bazel-bin/tensorflow/examples/image_retraining/retrain` --image_dir ~/flower_photos\n</code></pre>\n<p>which is</p>\n<pre><code>Traceback (most recent call last):\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 1014, in &lt;module&gt;\n    tf.app.run()\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 752, in main\n    maybe_download_and_extract()\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 314, in maybe_download_and_extract\n    tarfile.open(filepath, 'r:gz').extractall(dest_directory)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2079, in extractall\n    self.extract(tarinfo, path)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2116, in extract\n    self._extract_member(tarinfo, os.path.join(path, tarinfo.name))\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2192, in _extract_member\n    self.makefile(tarinfo, targetpath)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2233, in makefile\n    copyfileobj(source, target)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 266, in copyfileobj\n    shutil.copyfileobj(src, dst)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 49, in copyfileobj\n    buf = fsrc.read(length)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 831, in read\n    buf += self.fileobj.read(size - len(buf))\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 743, in read\n    return self.readnormal(size)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 758, in readnormal\n    return self.__read(size)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 748, in __read\n    buf = self.fileobj.read(size)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 268, in read\n    self._read(readsize)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 315, in _read\n    self._read_eof()\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 354, in _read_eof\n    hex(self.crc)))\nIOError: CRC check failed 0x39de13a7 != 0x630e11cfL\n</code></pre>\n<p>Any insights on that? Sounds like the download is corrupted and I already re-downloaded the images several times. I think it actually doesn't rely on the images, because the error is the same no matter what directory I hand to --image_dir.</p>\n<p>Thanks in advance</p>", "body_text": "Hi.\nI tried to follow the tutorial given on https://www.tensorflow.org/versions/r0.9/how_tos/image_retraining/index.html. I'm on MacOS Sierra and installed a separate version of python via homebrew, which is located in \"/usr/local/bin/python\".\nNow, I installed and compiled tensorflow from source and set the python location to \"/usr/local/bin/python\" and the library path to \"/usr/local/lib/python2.7/site-packages\". After compiling the retrain files, I get an error on running\nbazel-bin/tensorflow/examples/image_retraining/retrain` --image_dir ~/flower_photos\n\nwhich is\nTraceback (most recent call last):\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 1014, in <module>\n    tf.app.run()\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 752, in main\n    maybe_download_and_extract()\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 314, in maybe_download_and_extract\n    tarfile.open(filepath, 'r:gz').extractall(dest_directory)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2079, in extractall\n    self.extract(tarinfo, path)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2116, in extract\n    self._extract_member(tarinfo, os.path.join(path, tarinfo.name))\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2192, in _extract_member\n    self.makefile(tarinfo, targetpath)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2233, in makefile\n    copyfileobj(source, target)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 266, in copyfileobj\n    shutil.copyfileobj(src, dst)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 49, in copyfileobj\n    buf = fsrc.read(length)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 831, in read\n    buf += self.fileobj.read(size - len(buf))\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 743, in read\n    return self.readnormal(size)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 758, in readnormal\n    return self.__read(size)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 748, in __read\n    buf = self.fileobj.read(size)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 268, in read\n    self._read(readsize)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 315, in _read\n    self._read_eof()\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 354, in _read_eof\n    hex(self.crc)))\nIOError: CRC check failed 0x39de13a7 != 0x630e11cfL\n\nAny insights on that? Sounds like the download is corrupted and I already re-downloaded the images several times. I think it actually doesn't rely on the images, because the error is the same no matter what directory I hand to --image_dir.\nThanks in advance", "body": "Hi.\n\nI tried to follow the tutorial given on https://www.tensorflow.org/versions/r0.9/how_tos/image_retraining/index.html. I'm on MacOS Sierra and installed a separate version of python via homebrew, which is located in \"/usr/local/bin/python\".\n\nNow, I installed and compiled tensorflow from source and set the python location to \"/usr/local/bin/python\" and the library path to \"/usr/local/lib/python2.7/site-packages\". After compiling the retrain files, I get an error on running \n\n```\nbazel-bin/tensorflow/examples/image_retraining/retrain` --image_dir ~/flower_photos\n```\n\nwhich is\n\n```\nTraceback (most recent call last):\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 1014, in <module>\n    tf.app.run()\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 752, in main\n    maybe_download_and_extract()\n  File \"/Users/marcel/dev/tensorflow/bazel-bin/tensorflow/examples/image_retraining/retrain.runfiles/org_tensorflow/tensorflow/examples/image_retraining/retrain.py\", line 314, in maybe_download_and_extract\n    tarfile.open(filepath, 'r:gz').extractall(dest_directory)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2079, in extractall\n    self.extract(tarinfo, path)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2116, in extract\n    self._extract_member(tarinfo, os.path.join(path, tarinfo.name))\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2192, in _extract_member\n    self.makefile(tarinfo, targetpath)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 2233, in makefile\n    copyfileobj(source, target)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 266, in copyfileobj\n    shutil.copyfileobj(src, dst)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 49, in copyfileobj\n    buf = fsrc.read(length)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 831, in read\n    buf += self.fileobj.read(size - len(buf))\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 743, in read\n    return self.readnormal(size)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 758, in readnormal\n    return self.__read(size)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/tarfile.py\", line 748, in __read\n    buf = self.fileobj.read(size)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 268, in read\n    self._read(readsize)\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 315, in _read\n    self._read_eof()\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/gzip.py\", line 354, in _read_eof\n    hex(self.crc)))\nIOError: CRC check failed 0x39de13a7 != 0x630e11cfL\n```\n\nAny insights on that? Sounds like the download is corrupted and I already re-downloaded the images several times. I think it actually doesn't rely on the images, because the error is the same no matter what directory I hand to --image_dir.\n\nThanks in advance\n"}