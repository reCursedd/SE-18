{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/194647480", "html_url": "https://github.com/tensorflow/tensorflow/issues/1413#issuecomment-194647480", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1413", "id": 194647480, "node_id": "MDEyOklzc3VlQ29tbWVudDE5NDY0NzQ4MA==", "user": {"login": "myme5261314", "id": 1814831, "node_id": "MDQ6VXNlcjE4MTQ4MzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1814831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/myme5261314", "html_url": "https://github.com/myme5261314", "followers_url": "https://api.github.com/users/myme5261314/followers", "following_url": "https://api.github.com/users/myme5261314/following{/other_user}", "gists_url": "https://api.github.com/users/myme5261314/gists{/gist_id}", "starred_url": "https://api.github.com/users/myme5261314/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/myme5261314/subscriptions", "organizations_url": "https://api.github.com/users/myme5261314/orgs", "repos_url": "https://api.github.com/users/myme5261314/repos", "events_url": "https://api.github.com/users/myme5261314/events{/privacy}", "received_events_url": "https://api.github.com/users/myme5261314/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-10T03:43:14Z", "updated_at": "2016-03-10T03:43:14Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1401615\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Vesnica\">@Vesnica</a> I'd like to know whether just set http.proxy and https.proxy for git is enough to fetch google's boringssl repo?</p>\n<p>I set my proxy to git via:</p>\n<div class=\"highlight highlight-source-shell\"><pre>git config --global http.proxy http://localhost:127.0.0.1:8118\ngit config --global https.proxy http://localhost:127.0.0.1:8118</pre></div>\n<p>And then run the command.</p>\n<div class=\"highlight highlight-source-shell\"><pre>GIT_TRACE_PACKET=1 GIT_TRACE=1 GIT_CURL_VERBOSE=1 git clone https://boringssl.googlesource.com/boringssl</pre></div>\n<p>And the clone failed, the output is like below:</p>\n<pre><code>trace: built-in: git 'clone' 'https://boringssl.googlesource.com/boringssl'\nCloning 'boringssl'...\ntrace: run_command: 'git-remote-https' 'origin' 'https://boringssl.googlesource.com/boringssl'\n* Couldn't find host boringssl.googlesource.com in the .netrc file; using defaults\n* Hostname was NOT found in DNS cache\n*   Trying 127.0.0.1...\n* Connected to 127.0.0.1 (127.0.0.1) port 8118 (#0)\n* Establish HTTP proxy tunnel to boringssl.googlesource.com:443\n&gt; CONNECT boringssl.googlesource.com:443 HTTP/1.1\nHost: boringssl.googlesource.com:443\nUser-Agent: git/1.9.1\nProxy-Connection: Keep-Alive\nPragma: no-cache\n\n&lt; HTTP/1.1 503 Connect failed\n&lt; Content-Length: 7690\n&lt; Content-Type: text/html\n&lt; Cache-Control: no-cache\n&lt; Date: Thu, 10 Mar 2016 03:33:42 GMT\n&lt; Last-Modified: Wed, 08 Jun 1955 12:00:00 GMT\n&lt; Expires: Sat, 17 Jun 2000 12:00:00 GMT\n&lt; Pragma: no-cache\n&lt; Connection: close\n&lt; \n* Received HTTP code 503 from proxy after CONNECT\n* Connection #0 to host 127.0.0.1 left intact\nfatal: unable to access 'https://boringssl.googlesource.com/boringssl/': Received HTTP code 503 from proxy after CONNECT\n</code></pre>\n<p>PS: I've tried to set HTTP_PROXY and HTTPS_PROXY environment variable for latest bazel, but it doesn't work.</p>\n<pre><code>tensorflow/WORKSPACE:39:1: no such package '@grpc//': Error cloning repository: https://boringssl.googlesource.com/boringssl: 503 Connect failed caused by https://boringssl.googlesource.com/boringssl: 503 Connect failed and referenced by '//external:grpc_cpp_plugin'.\nERROR: Loading failed; build aborted.\n</code></pre>\n<p>So they all give me <code>503</code> as failed code. Is that the problem of my proxy? I use shadowsocks locally with Privoxy to redirect the http 8118 port to shadowsocks. I can confirm that the http proxy for my daily use is ok.</p>", "body_text": "@Vesnica I'd like to know whether just set http.proxy and https.proxy for git is enough to fetch google's boringssl repo?\nI set my proxy to git via:\ngit config --global http.proxy http://localhost:127.0.0.1:8118\ngit config --global https.proxy http://localhost:127.0.0.1:8118\nAnd then run the command.\nGIT_TRACE_PACKET=1 GIT_TRACE=1 GIT_CURL_VERBOSE=1 git clone https://boringssl.googlesource.com/boringssl\nAnd the clone failed, the output is like below:\ntrace: built-in: git 'clone' 'https://boringssl.googlesource.com/boringssl'\nCloning 'boringssl'...\ntrace: run_command: 'git-remote-https' 'origin' 'https://boringssl.googlesource.com/boringssl'\n* Couldn't find host boringssl.googlesource.com in the .netrc file; using defaults\n* Hostname was NOT found in DNS cache\n*   Trying 127.0.0.1...\n* Connected to 127.0.0.1 (127.0.0.1) port 8118 (#0)\n* Establish HTTP proxy tunnel to boringssl.googlesource.com:443\n> CONNECT boringssl.googlesource.com:443 HTTP/1.1\nHost: boringssl.googlesource.com:443\nUser-Agent: git/1.9.1\nProxy-Connection: Keep-Alive\nPragma: no-cache\n\n< HTTP/1.1 503 Connect failed\n< Content-Length: 7690\n< Content-Type: text/html\n< Cache-Control: no-cache\n< Date: Thu, 10 Mar 2016 03:33:42 GMT\n< Last-Modified: Wed, 08 Jun 1955 12:00:00 GMT\n< Expires: Sat, 17 Jun 2000 12:00:00 GMT\n< Pragma: no-cache\n< Connection: close\n< \n* Received HTTP code 503 from proxy after CONNECT\n* Connection #0 to host 127.0.0.1 left intact\nfatal: unable to access 'https://boringssl.googlesource.com/boringssl/': Received HTTP code 503 from proxy after CONNECT\n\nPS: I've tried to set HTTP_PROXY and HTTPS_PROXY environment variable for latest bazel, but it doesn't work.\ntensorflow/WORKSPACE:39:1: no such package '@grpc//': Error cloning repository: https://boringssl.googlesource.com/boringssl: 503 Connect failed caused by https://boringssl.googlesource.com/boringssl: 503 Connect failed and referenced by '//external:grpc_cpp_plugin'.\nERROR: Loading failed; build aborted.\n\nSo they all give me 503 as failed code. Is that the problem of my proxy? I use shadowsocks locally with Privoxy to redirect the http 8118 port to shadowsocks. I can confirm that the http proxy for my daily use is ok.", "body": "@Vesnica I'd like to know whether just set http.proxy and https.proxy for git is enough to fetch google's boringssl repo?\n\nI set my proxy to git via:\n\n``` shell\ngit config --global http.proxy http://localhost:127.0.0.1:8118\ngit config --global https.proxy http://localhost:127.0.0.1:8118\n```\n\nAnd then run the command.\n\n``` shell\nGIT_TRACE_PACKET=1 GIT_TRACE=1 GIT_CURL_VERBOSE=1 git clone https://boringssl.googlesource.com/boringssl\n```\n\nAnd the clone failed, the output is like below:\n\n```\ntrace: built-in: git 'clone' 'https://boringssl.googlesource.com/boringssl'\nCloning 'boringssl'...\ntrace: run_command: 'git-remote-https' 'origin' 'https://boringssl.googlesource.com/boringssl'\n* Couldn't find host boringssl.googlesource.com in the .netrc file; using defaults\n* Hostname was NOT found in DNS cache\n*   Trying 127.0.0.1...\n* Connected to 127.0.0.1 (127.0.0.1) port 8118 (#0)\n* Establish HTTP proxy tunnel to boringssl.googlesource.com:443\n> CONNECT boringssl.googlesource.com:443 HTTP/1.1\nHost: boringssl.googlesource.com:443\nUser-Agent: git/1.9.1\nProxy-Connection: Keep-Alive\nPragma: no-cache\n\n< HTTP/1.1 503 Connect failed\n< Content-Length: 7690\n< Content-Type: text/html\n< Cache-Control: no-cache\n< Date: Thu, 10 Mar 2016 03:33:42 GMT\n< Last-Modified: Wed, 08 Jun 1955 12:00:00 GMT\n< Expires: Sat, 17 Jun 2000 12:00:00 GMT\n< Pragma: no-cache\n< Connection: close\n< \n* Received HTTP code 503 from proxy after CONNECT\n* Connection #0 to host 127.0.0.1 left intact\nfatal: unable to access 'https://boringssl.googlesource.com/boringssl/': Received HTTP code 503 from proxy after CONNECT\n```\n\nPS: I've tried to set HTTP_PROXY and HTTPS_PROXY environment variable for latest bazel, but it doesn't work.\n\n```\ntensorflow/WORKSPACE:39:1: no such package '@grpc//': Error cloning repository: https://boringssl.googlesource.com/boringssl: 503 Connect failed caused by https://boringssl.googlesource.com/boringssl: 503 Connect failed and referenced by '//external:grpc_cpp_plugin'.\nERROR: Loading failed; build aborted.\n```\n\nSo they all give me `503` as failed code. Is that the problem of my proxy? I use shadowsocks locally with Privoxy to redirect the http 8118 port to shadowsocks. I can confirm that the http proxy for my daily use is ok.\n"}