{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23872", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23872/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23872/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23872/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23872", "id": 382537402, "node_id": "MDU6SXNzdWUzODI1Mzc0MDI=", "number": 23872, "title": "SparseTensor multiplication in tf.keras.layers.Dense", "user": {"login": "sfujiwara", "id": 2109535, "node_id": "MDQ6VXNlcjIxMDk1MzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2109535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfujiwara", "html_url": "https://github.com/sfujiwara", "followers_url": "https://api.github.com/users/sfujiwara/followers", "following_url": "https://api.github.com/users/sfujiwara/following{/other_user}", "gists_url": "https://api.github.com/users/sfujiwara/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfujiwara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfujiwara/subscriptions", "organizations_url": "https://api.github.com/users/sfujiwara/orgs", "repos_url": "https://api.github.com/users/sfujiwara/repos", "events_url": "https://api.github.com/users/sfujiwara/events{/privacy}", "received_events_url": "https://api.github.com/users/sfujiwara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-11-20T07:42:14Z", "updated_at": "2018-11-22T05:36:55Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>TensorFlow version (you are using): 1.12.0</li>\n<li>Are you willing to contribute it (Yes/No): Yes</li>\n</ul>\n<p><strong>Describe the feature and the current behavior/state.</strong><br>\nIn <code>keras.layers.Dense</code>, <code>tf.sparse_tensor_dense_matmul</code> is called for SparseTensor as <a href=\"https://github.com/keras-team/keras/blob/master/keras/backend/tensorflow_backend.py#L1093-L1094\">this</a>.<br>\nBut in <code>tf.keras</code>, only <code>tf.tensordot</code> (which can not treats SparseTensor) is called as <a href=\"https://github.com/tensorflow/tensorflow/blob/f827bad24efc949e657e141464ea1010c18d812c/tensorflow/python/keras/layers/core.py#L955-L972\">this</a>.</p>\n<p>Do you have any plan to treat SparseTensor in <code>tf.keras</code>?</p>\n<p><strong>Will this change the current api? How?</strong><br>\nWe can fix it simply using <code>tf.sparse_tensor_dense_matmul</code>.<br>\nIf needed, I can create PR.</p>", "body_text": "System information\n\nTensorFlow version (you are using): 1.12.0\nAre you willing to contribute it (Yes/No): Yes\n\nDescribe the feature and the current behavior/state.\nIn keras.layers.Dense, tf.sparse_tensor_dense_matmul is called for SparseTensor as this.\nBut in tf.keras, only tf.tensordot (which can not treats SparseTensor) is called as this.\nDo you have any plan to treat SparseTensor in tf.keras?\nWill this change the current api? How?\nWe can fix it simply using tf.sparse_tensor_dense_matmul.\nIf needed, I can create PR.", "body": "**System information**\r\n- TensorFlow version (you are using): 1.12.0\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\nIn `keras.layers.Dense`, `tf.sparse_tensor_dense_matmul` is called for SparseTensor as [this](https://github.com/keras-team/keras/blob/master/keras/backend/tensorflow_backend.py#L1093-L1094).\r\nBut in `tf.keras`, only `tf.tensordot` (which can not treats SparseTensor) is called as [this](https://github.com/tensorflow/tensorflow/blob/f827bad24efc949e657e141464ea1010c18d812c/tensorflow/python/keras/layers/core.py#L955-L972).\r\n\r\nDo you have any plan to treat SparseTensor in `tf.keras`?\r\n\r\n**Will this change the current api? How?**\r\nWe can fix it simply using `tf.sparse_tensor_dense_matmul`.\r\nIf needed, I can create PR.\r\n"}