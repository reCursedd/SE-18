{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/326473654", "html_url": "https://github.com/tensorflow/tensorflow/issues/8033#issuecomment-326473654", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8033", "id": 326473654, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjQ3MzY1NA==", "user": {"login": "ioannisnousias", "id": 23621650, "node_id": "MDQ6VXNlcjIzNjIxNjUw", "avatar_url": "https://avatars0.githubusercontent.com/u/23621650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ioannisnousias", "html_url": "https://github.com/ioannisnousias", "followers_url": "https://api.github.com/users/ioannisnousias/followers", "following_url": "https://api.github.com/users/ioannisnousias/following{/other_user}", "gists_url": "https://api.github.com/users/ioannisnousias/gists{/gist_id}", "starred_url": "https://api.github.com/users/ioannisnousias/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ioannisnousias/subscriptions", "organizations_url": "https://api.github.com/users/ioannisnousias/orgs", "repos_url": "https://api.github.com/users/ioannisnousias/repos", "events_url": "https://api.github.com/users/ioannisnousias/events{/privacy}", "received_events_url": "https://api.github.com/users/ioannisnousias/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-01T02:46:35Z", "updated_at": "2017-09-01T06:30:32Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=88808\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/skye\">@skye</a> with your help I have an 'almost' working program using the C API libtensorflow.so.</p>\n<p>I run into the following problem. I get this error message:<br>\nW tensorflow/core/common_runtime/device_mgr.cc:94] Unknown device: /job:localhost/replica:0/task:0/cpu:0 all devices:<br>\n/job:localhost/replica:0/task:0/cpu:0 unknown device.</p>\n<p>I've compiled the library like so:<br>\nbazel build -c opt //tensorflow/tools/lib_package:libtensorflow -c dbg --strip=never --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --copt=-Wno-error=stringop-overflow</p>\n<p>I've also tried without any of the optimization or debug symbols.  I've followed your example above for loading a graph definition and running the session. I can iterate through the operations and print their names, so I know that part is working. I get the above error with a != TF_OK status, when trying to run the session.</p>\n<p>Any ideas what I'm doing wrong?</p>\n<p>thanks</p>\n<p>PS: I should add that I'm not able to use the pre-built  library linked above, because of a version conflict with my system's protobuf. I had to statically link OpenCV for the same reason.<br>\nI should also add that I'm on Ubuntu 17.10 beta, with gcc 7.2, on VMWare 12 Player, under windows 10.</p>", "body_text": "@skye with your help I have an 'almost' working program using the C API libtensorflow.so.\nI run into the following problem. I get this error message:\nW tensorflow/core/common_runtime/device_mgr.cc:94] Unknown device: /job:localhost/replica:0/task:0/cpu:0 all devices:\n/job:localhost/replica:0/task:0/cpu:0 unknown device.\nI've compiled the library like so:\nbazel build -c opt //tensorflow/tools/lib_package:libtensorflow -c dbg --strip=never --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --copt=-Wno-error=stringop-overflow\nI've also tried without any of the optimization or debug symbols.  I've followed your example above for loading a graph definition and running the session. I can iterate through the operations and print their names, so I know that part is working. I get the above error with a != TF_OK status, when trying to run the session.\nAny ideas what I'm doing wrong?\nthanks\nPS: I should add that I'm not able to use the pre-built  library linked above, because of a version conflict with my system's protobuf. I had to statically link OpenCV for the same reason.\nI should also add that I'm on Ubuntu 17.10 beta, with gcc 7.2, on VMWare 12 Player, under windows 10.", "body": "@skye with your help I have an 'almost' working program using the C API libtensorflow.so. \r\n\r\nI run into the following problem. I get this error message:\r\nW tensorflow/core/common_runtime/device_mgr.cc:94] Unknown device: /job:localhost/replica:0/task:0/cpu:0 all devices: \r\n/job:localhost/replica:0/task:0/cpu:0 unknown device.\r\n\r\nI've compiled the library like so:\r\nbazel build -c opt //tensorflow/tools/lib_package:libtensorflow -c dbg --strip=never --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --copt=-Wno-error=stringop-overflow\r\n\r\nI've also tried without any of the optimization or debug symbols.  I've followed your example above for loading a graph definition and running the session. I can iterate through the operations and print their names, so I know that part is working. I get the above error with a != TF_OK status, when trying to run the session.\r\n\r\nAny ideas what I'm doing wrong?\r\n\r\nthanks\r\n\r\nPS: I should add that I'm not able to use the pre-built  library linked above, because of a version conflict with my system's protobuf. I had to statically link OpenCV for the same reason.\r\nI should also add that I'm on Ubuntu 17.10 beta, with gcc 7.2, on VMWare 12 Player, under windows 10."}