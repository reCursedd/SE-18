{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20007", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20007/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20007/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20007/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20007", "id": 332296335, "node_id": "MDU6SXNzdWUzMzIyOTYzMzU=", "number": 20007, "title": "non random operation should not change the graph random state(1.5 cpu python 2.7\uff09", "user": {"login": "amxineohp", "id": 7607120, "node_id": "MDQ6VXNlcjc2MDcxMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/7607120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amxineohp", "html_url": "https://github.com/amxineohp", "followers_url": "https://api.github.com/users/amxineohp/followers", "following_url": "https://api.github.com/users/amxineohp/following{/other_user}", "gists_url": "https://api.github.com/users/amxineohp/gists{/gist_id}", "starred_url": "https://api.github.com/users/amxineohp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amxineohp/subscriptions", "organizations_url": "https://api.github.com/users/amxineohp/orgs", "repos_url": "https://api.github.com/users/amxineohp/repos", "events_url": "https://api.github.com/users/amxineohp/events{/privacy}", "received_events_url": "https://api.github.com/users/amxineohp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-06-14T08:15:46Z", "updated_at": "2018-11-14T19:20:30Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Not sure why the random state changed for non random operation like tf.constant</p>\n<p><code>pip freeze|grep \"python\\|tensorflow\"</code><br>\npython-dateutil==2.7.2<br>\ntensorflow==1.5.0<br>\ntensorflow-tensorboard==1.5.1</p>\n<p>cat test.py</p>\n<pre><code>import tensorflow as tf\nprint(tf.__version__)\nseed = 0\ndef test1():\n    graph = tf.Graph()\n    with graph.as_default():\n        tf.set_random_seed(seed)\n        aaa = tf.random_uniform([1])\n    sess = tf.Session(graph = graph)\n    print(sess.run(aaa))\n    print(sess.run(aaa))\n\ndef test2():\n    graph = tf.Graph()\n    with graph.as_default():\n        tf.set_random_seed(seed)\n        bbb = tf.constant([1,2])\n        aaa = tf.random_uniform([1])\n    sess = tf.Session(graph = graph)\n    print(sess.run(aaa))\n    print(sess.run(aaa))\nif __name__ == \"__main__\":\n    test1()\n    test1()\n    test2()\n</code></pre>\n<p>python test.py<br>\n/home/tom/pyenv/anti/local/lib/python2.7/site-packages/h5py/<strong>init</strong>.py:36: FutureWarning: Conversion of the second argument of issubdtype from <code>float</code> to <code>np.floating</code> is deprecated. In future, it will be treated as <code>np.float64 == np.dtype(float).type</code>.<br>\nfrom ._conv import register_converters as _register_converters<br>\n1.5.0<br>\n2018-06-14 16:06:47.429664: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA<br>\n[0.3206401]<br>\n[0.012326]<br>\n[0.3206401]<br>\n[0.012326]<br>\n[0.2773143]<br>\n[0.92967796]</p>", "body_text": "Not sure why the random state changed for non random operation like tf.constant\npip freeze|grep \"python\\|tensorflow\"\npython-dateutil==2.7.2\ntensorflow==1.5.0\ntensorflow-tensorboard==1.5.1\ncat test.py\nimport tensorflow as tf\nprint(tf.__version__)\nseed = 0\ndef test1():\n    graph = tf.Graph()\n    with graph.as_default():\n        tf.set_random_seed(seed)\n        aaa = tf.random_uniform([1])\n    sess = tf.Session(graph = graph)\n    print(sess.run(aaa))\n    print(sess.run(aaa))\n\ndef test2():\n    graph = tf.Graph()\n    with graph.as_default():\n        tf.set_random_seed(seed)\n        bbb = tf.constant([1,2])\n        aaa = tf.random_uniform([1])\n    sess = tf.Session(graph = graph)\n    print(sess.run(aaa))\n    print(sess.run(aaa))\nif __name__ == \"__main__\":\n    test1()\n    test1()\n    test2()\n\npython test.py\n/home/tom/pyenv/anti/local/lib/python2.7/site-packages/h5py/init.py:36: FutureWarning: Conversion of the second argument of issubdtype from float to np.floating is deprecated. In future, it will be treated as np.float64 == np.dtype(float).type.\nfrom ._conv import register_converters as _register_converters\n1.5.0\n2018-06-14 16:06:47.429664: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\n[0.3206401]\n[0.012326]\n[0.3206401]\n[0.012326]\n[0.2773143]\n[0.92967796]", "body": "Not sure why the random state changed for non random operation like tf.constant\r\n\r\n`pip freeze|grep \"python\\|tensorflow\"`\r\npython-dateutil==2.7.2\r\ntensorflow==1.5.0\r\ntensorflow-tensorboard==1.5.1\r\n\r\ncat test.py\r\n```\r\nimport tensorflow as tf\r\nprint(tf.__version__)\r\nseed = 0\r\ndef test1():\r\n    graph = tf.Graph()\r\n    with graph.as_default():\r\n        tf.set_random_seed(seed)\r\n        aaa = tf.random_uniform([1])\r\n    sess = tf.Session(graph = graph)\r\n    print(sess.run(aaa))\r\n    print(sess.run(aaa))\r\n\r\ndef test2():\r\n    graph = tf.Graph()\r\n    with graph.as_default():\r\n        tf.set_random_seed(seed)\r\n        bbb = tf.constant([1,2])\r\n        aaa = tf.random_uniform([1])\r\n    sess = tf.Session(graph = graph)\r\n    print(sess.run(aaa))\r\n    print(sess.run(aaa))\r\nif __name__ == \"__main__\":\r\n    test1()\r\n    test1()\r\n    test2()\r\n```\r\npython test.py\r\n/home/tom/pyenv/anti/local/lib/python2.7/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\n1.5.0\r\n2018-06-14 16:06:47.429664: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\r\n[0.3206401]\r\n[0.012326]\r\n[0.3206401]\r\n[0.012326]\r\n[0.2773143]\r\n[0.92967796]\r\n"}