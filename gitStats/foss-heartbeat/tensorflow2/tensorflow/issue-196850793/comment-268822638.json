{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/268822638", "html_url": "https://github.com/tensorflow/tensorflow/issues/6432#issuecomment-268822638", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6432", "id": 268822638, "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODgyMjYzOA==", "user": {"login": "sharod", "id": 3380293, "node_id": "MDQ6VXNlcjMzODAyOTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3380293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sharod", "html_url": "https://github.com/sharod", "followers_url": "https://api.github.com/users/sharod/followers", "following_url": "https://api.github.com/users/sharod/following{/other_user}", "gists_url": "https://api.github.com/users/sharod/gists{/gist_id}", "starred_url": "https://api.github.com/users/sharod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sharod/subscriptions", "organizations_url": "https://api.github.com/users/sharod/orgs", "repos_url": "https://api.github.com/users/sharod/repos", "events_url": "https://api.github.com/users/sharod/events{/privacy}", "received_events_url": "https://api.github.com/users/sharod/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-22T15:27:48Z", "updated_at": "2016-12-22T15:27:48Z", "author_association": "NONE", "body_html": "<p>gunan I hwas having the same problem as xusong2008 . I replaced tf.contrib.rnn.BasicLSTMCell by tf.nn.rnn_cell. BasicLSTMCell as you said but now a new error is being shown:</p>\n<p>Traceback (most recent call last):<br>\nFile \"ptb_word_lm.py\", line 362, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv[:1] + flags_passthrough))<br>\nFile \"ptb_word_lm.py\", line 324, in main<br>\nm = PTBModel(is_training=True, config=config, input_=train_input)<br>\nFile \"ptb_word_lm.py\", line 110, in <strong>init</strong><br>\nself._initial_state = cell.zero_state(batch_size, data_type())<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 166, in zero_state<br>\nfor s in state_size_flat]<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 79, in _state_size_with_prefix<br>\nresult_state_size = tensor_shape.as_shape(state_size).as_list()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 815, in as_shape<br>\nreturn TensorShape(shape)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 448, in <strong>init</strong><br>\nself._dims = [as_dimension(dims)]<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 374, in as_dimension<br>\nreturn Dimension(value)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 33, in <strong>init</strong><br>\nself._value = int(value)<br>\nTypeError: int() argument must be a string or a number, not 'BasicLSTMCell'</p>\n<p>Pls help soon !!</p>", "body_text": "gunan I hwas having the same problem as xusong2008 . I replaced tf.contrib.rnn.BasicLSTMCell by tf.nn.rnn_cell. BasicLSTMCell as you said but now a new error is being shown:\nTraceback (most recent call last):\nFile \"ptb_word_lm.py\", line 362, in \ntf.app.run()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv[:1] + flags_passthrough))\nFile \"ptb_word_lm.py\", line 324, in main\nm = PTBModel(is_training=True, config=config, input_=train_input)\nFile \"ptb_word_lm.py\", line 110, in init\nself._initial_state = cell.zero_state(batch_size, data_type())\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 166, in zero_state\nfor s in state_size_flat]\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 79, in _state_size_with_prefix\nresult_state_size = tensor_shape.as_shape(state_size).as_list()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 815, in as_shape\nreturn TensorShape(shape)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 448, in init\nself._dims = [as_dimension(dims)]\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 374, in as_dimension\nreturn Dimension(value)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 33, in init\nself._value = int(value)\nTypeError: int() argument must be a string or a number, not 'BasicLSTMCell'\nPls help soon !!", "body": "gunan I hwas having the same problem as xusong2008 . I replaced tf.contrib.rnn.BasicLSTMCell by tf.nn.rnn_cell. BasicLSTMCell as you said but now a new error is being shown:\r\n\r\nTraceback (most recent call last):\r\n  File \"ptb_word_lm.py\", line 362, in <module>\r\n    tf.app.run()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"ptb_word_lm.py\", line 324, in main\r\n    m = PTBModel(is_training=True, config=config, input_=train_input)\r\n  File \"ptb_word_lm.py\", line 110, in __init__\r\n    self._initial_state = cell.zero_state(batch_size, data_type())\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 166, in zero_state\r\n    for s in state_size_flat]\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/rnn_cell.py\", line 79, in _state_size_with_prefix\r\n    result_state_size = tensor_shape.as_shape(state_size).as_list()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 815, in as_shape\r\n    return TensorShape(shape)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 448, in __init__\r\n    self._dims = [as_dimension(dims)]\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 374, in as_dimension\r\n    return Dimension(value)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_shape.py\", line 33, in __init__\r\n    self._value = int(value)\r\nTypeError: int() argument must be a string or a number, not 'BasicLSTMCell'\r\n\r\nPls help soon !!"}