{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/351299926", "html_url": "https://github.com/tensorflow/tensorflow/issues/15331#issuecomment-351299926", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15331", "id": 351299926, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTI5OTkyNg==", "user": {"login": "selcouthlyBlue", "id": 13268675, "node_id": "MDQ6VXNlcjEzMjY4Njc1", "avatar_url": "https://avatars2.githubusercontent.com/u/13268675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/selcouthlyBlue", "html_url": "https://github.com/selcouthlyBlue", "followers_url": "https://api.github.com/users/selcouthlyBlue/followers", "following_url": "https://api.github.com/users/selcouthlyBlue/following{/other_user}", "gists_url": "https://api.github.com/users/selcouthlyBlue/gists{/gist_id}", "starred_url": "https://api.github.com/users/selcouthlyBlue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/selcouthlyBlue/subscriptions", "organizations_url": "https://api.github.com/users/selcouthlyBlue/orgs", "repos_url": "https://api.github.com/users/selcouthlyBlue/repos", "events_url": "https://api.github.com/users/selcouthlyBlue/events{/privacy}", "received_events_url": "https://api.github.com/users/selcouthlyBlue/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-13T06:50:06Z", "updated_at": "2017-12-13T06:50:06Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I replaced the bidirectional_lstm with this:</p>\n<pre><code>def bidirectional_lstm(inputs, num_hidden: int):\n    lstm_fw_cells = [tf.contrib.rnn.BasicLSTMCell(num_hidden * (2 ** i), forget_bias=1.0) for i in range(3)]\n    lstm_bw_cells = [tf.contrib.rnn.BasicLSTMCell(num_hidden * (2 ** i), forget_bias=1.0) for i in range(3)]\n    return tf.contrib.rnn.stack_bidirectional_dynamic_rnn(lstm_fw_cells, lstm_bw_cells, inputs,\n                                                          dtype=tf.float32)[0]\n</code></pre>\n<p>Apparently, tflearn was causing the slowdown in the graph building and optimization. I encountered another error but I'm pretty sure it's not caused by tensorflow this time so I'll leave that issue to tflearn.</p>", "body_text": "I replaced the bidirectional_lstm with this:\ndef bidirectional_lstm(inputs, num_hidden: int):\n    lstm_fw_cells = [tf.contrib.rnn.BasicLSTMCell(num_hidden * (2 ** i), forget_bias=1.0) for i in range(3)]\n    lstm_bw_cells = [tf.contrib.rnn.BasicLSTMCell(num_hidden * (2 ** i), forget_bias=1.0) for i in range(3)]\n    return tf.contrib.rnn.stack_bidirectional_dynamic_rnn(lstm_fw_cells, lstm_bw_cells, inputs,\n                                                          dtype=tf.float32)[0]\n\nApparently, tflearn was causing the slowdown in the graph building and optimization. I encountered another error but I'm pretty sure it's not caused by tensorflow this time so I'll leave that issue to tflearn.", "body": "I replaced the bidirectional_lstm with this:\r\n\r\n```\r\ndef bidirectional_lstm(inputs, num_hidden: int):\r\n    lstm_fw_cells = [tf.contrib.rnn.BasicLSTMCell(num_hidden * (2 ** i), forget_bias=1.0) for i in range(3)]\r\n    lstm_bw_cells = [tf.contrib.rnn.BasicLSTMCell(num_hidden * (2 ** i), forget_bias=1.0) for i in range(3)]\r\n    return tf.contrib.rnn.stack_bidirectional_dynamic_rnn(lstm_fw_cells, lstm_bw_cells, inputs,\r\n                                                          dtype=tf.float32)[0]\r\n```\r\n\r\nApparently, tflearn was causing the slowdown in the graph building and optimization. I encountered another error but I'm pretty sure it's not caused by tensorflow this time so I'll leave that issue to tflearn."}