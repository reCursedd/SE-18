{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/328345969", "html_url": "https://github.com/tensorflow/tensorflow/issues/12911#issuecomment-328345969", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12911", "id": 328345969, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODM0NTk2OQ==", "user": {"login": "jheymann85", "id": 9553105, "node_id": "MDQ6VXNlcjk1NTMxMDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/9553105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jheymann85", "html_url": "https://github.com/jheymann85", "followers_url": "https://api.github.com/users/jheymann85/followers", "following_url": "https://api.github.com/users/jheymann85/following{/other_user}", "gists_url": "https://api.github.com/users/jheymann85/gists{/gist_id}", "starred_url": "https://api.github.com/users/jheymann85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jheymann85/subscriptions", "organizations_url": "https://api.github.com/users/jheymann85/orgs", "repos_url": "https://api.github.com/users/jheymann85/repos", "events_url": "https://api.github.com/users/jheymann85/events{/privacy}", "received_events_url": "https://api.github.com/users/jheymann85/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-10T14:25:18Z", "updated_at": "2017-09-10T14:25:18Z", "author_association": "NONE", "body_html": "<p>It might be related to the address the array is stored in:</p>\n<pre><code>2017-09-10 16:16:52.557622: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Found device 0 with properties:\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\npciBusID: 0000:04:00.0\ntotalMemory: 3.94GiB freeMemory: 158.62MiB\n2017-09-10 16:16:52.557653: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 0.  0.  0.  0.] test_op_64 [ 2.  0.  2.  4.]\n2017-09-10 16:16:52.573418: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\n2017-09-10 16:16:52.580016: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 3.  0.  0.  0.] test_op_64 [ 2.  0.  2.  4.]\n\n2017-09-10 16:17:17.984597: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Found device 0 with properties:\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\npciBusID: 0000:04:00.0\ntotalMemory: 3.94GiB freeMemory: 3.87GiB\n2017-09-10 16:17:17.984626: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\n2017-09-10 16:17:18.160432: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\n2017-09-10 16:17:18.167003: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\n</code></pre>\n<p>Notice that the bug appears when there is hardly any free memory while it doesn't when all memory is free. Possibly an int32 overflow somewhere?</p>", "body_text": "It might be related to the address the array is stored in:\n2017-09-10 16:16:52.557622: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Found device 0 with properties:\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\npciBusID: 0000:04:00.0\ntotalMemory: 3.94GiB freeMemory: 158.62MiB\n2017-09-10 16:16:52.557653: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 0.  0.  0.  0.] test_op_64 [ 2.  0.  2.  4.]\n2017-09-10 16:16:52.573418: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\n2017-09-10 16:16:52.580016: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 3.  0.  0.  0.] test_op_64 [ 2.  0.  2.  4.]\n\n2017-09-10 16:17:17.984597: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Found device 0 with properties:\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\npciBusID: 0000:04:00.0\ntotalMemory: 3.94GiB freeMemory: 3.87GiB\n2017-09-10 16:17:17.984626: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\n2017-09-10 16:17:18.160432: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\n2017-09-10 16:17:18.167003: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\n\nNotice that the bug appears when there is hardly any free memory while it doesn't when all memory is free. Possibly an int32 overflow somewhere?", "body": "It might be related to the address the array is stored in:\r\n```\r\n2017-09-10 16:16:52.557622: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Found device 0 with properties:\r\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\r\npciBusID: 0000:04:00.0\r\ntotalMemory: 3.94GiB freeMemory: 158.62MiB\r\n2017-09-10 16:16:52.557653: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\r\ntest_op_32 [ 0.  0.  0.  0.] test_op_64 [ 2.  0.  2.  4.]\r\n2017-09-10 16:16:52.573418: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\r\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\r\n2017-09-10 16:16:52.580016: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\r\ntest_op_32 [ 3.  0.  0.  0.] test_op_64 [ 2.  0.  2.  4.]\r\n\r\n2017-09-10 16:17:17.984597: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Found device 0 with properties:\r\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\r\npciBusID: 0000:04:00.0\r\ntotalMemory: 3.94GiB freeMemory: 3.87GiB\r\n2017-09-10 16:17:17.984626: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\r\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\r\n2017-09-10 16:17:18.160432: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\r\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\r\n2017-09-10 16:17:18.167003: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:04:00.0, compute capability: 5.2)\r\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\r\n```\r\nNotice that the bug appears when there is hardly any free memory while it doesn't when all memory is free. Possibly an int32 overflow somewhere?"}